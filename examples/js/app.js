/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"app": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push(["./examples/scripts/index.js",0]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./examples/bezier-curve.js":
/*!**********************************!*\
  !*** ./examples/bezier-curve.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _domCanvas = __webpack_require__(/*! ../lib/dom/dom-canvas */ \"./lib/dom/dom-canvas.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nvar _hermiteCurve = __webpack_require__(/*! ../lib/mathf/hermite-curve */ \"./lib/mathf/hermite-curve.js\");\n\nvar _cubicBezier = __webpack_require__(/*! ../lib/mathf/cubic-bezier */ \"./lib/mathf/cubic-bezier.js\");\n\n/**\n * Demonstrates basic usage of BezierCurve\n */\nclass BezierCurveSample {\n  constructor() {\n    console.log('Bezier Curve Sample');\n    this.canvas = document.getElementById('canvas');\n    this.canvas.width = this.canvas.offsetWidth;\n    this.canvas.height = this.canvas.offsetHeight;\n    this.context = this.canvas.getContext('2d'); // Control points, since the CubicBezier class.\n\n    let c1 = new _vector.Vector(50, 400);\n    let c2 = new _vector.Vector(100, 200);\n    let c3 = new _vector.Vector(300, 300);\n    let c4 = new _vector.Vector(400, 400); // Set the number of points we want to draw.\n\n    let drawPoints = 500; // The amount of progress to per dot.\n\n    let progressSpan = 1 / drawPoints;\n\n    for (let step = 0; step < drawPoints; step++) {\n      // Draw a dot along the curve.  The progress value goes from 0-1.\n      let progress = step * progressSpan;\n\n      _domCanvas.domCanvas.setFillColor(this.context, 'orange');\n\n      _domCanvas.domCanvas.setStrokeColor(this.context, 'orange');\n\n      const vector = _cubicBezier.CubicBezier.getPoint(progress, c1, c2, c3, c4);\n\n      _domCanvas.domCanvas.vectorPoint(this.context, vector, 2);\n    } // Now draw out a large dot for each point.\n\n\n    _domCanvas.domCanvas.setFillColor(this.context, 'red');\n\n    _domCanvas.domCanvas.setStrokeColor(this.context, 'red');\n\n    _domCanvas.domCanvas.vectorPoint(this.context, c1);\n\n    _domCanvas.domCanvas.quickText(this.context, 'c1', c1.x, c1.y - 4);\n\n    _domCanvas.domCanvas.setFillColor(this.context, 'blue');\n\n    _domCanvas.domCanvas.setStrokeColor(this.context, 'blue');\n\n    _domCanvas.domCanvas.quickText(this.context, 'c2', c2.x, c2.y - 4);\n\n    _domCanvas.domCanvas.vectorPoint(this.context, c2);\n\n    _domCanvas.domCanvas.setFillColor(this.context, 'green');\n\n    _domCanvas.domCanvas.setStrokeColor(this.context, 'green');\n\n    _domCanvas.domCanvas.quickText(this.context, 'c3', c3.x, c3.y - 4);\n\n    _domCanvas.domCanvas.vectorPoint(this.context, c3);\n\n    _domCanvas.domCanvas.setFillColor(this.context, 'purple');\n\n    _domCanvas.domCanvas.setStrokeColor(this.context, 'purple');\n\n    _domCanvas.domCanvas.quickText(this.context, 'c4', c4.x, c4.y - 4);\n\n    _domCanvas.domCanvas.vectorPoint(this.context, c4);\n  }\n\n}\n\nexports.default = BezierCurveSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9iZXppZXItY3VydmUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9iZXppZXItY3VydmUuanM/YjY2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kb21DYW52YXMgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20tY2FudmFzXCIpO1xuXG52YXIgX3ZlY3RvciA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvdmVjdG9yXCIpO1xuXG52YXIgX2hlcm1pdGVDdXJ2ZSA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvaGVybWl0ZS1jdXJ2ZVwiKTtcblxudmFyIF9jdWJpY0JlemllciA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvY3ViaWMtYmV6aWVyXCIpO1xuXG4vKipcbiAqIERlbW9uc3RyYXRlcyBiYXNpYyB1c2FnZSBvZiBCZXppZXJDdXJ2ZVxuICovXG5jbGFzcyBCZXppZXJDdXJ2ZVNhbXBsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdCZXppZXIgQ3VydmUgU2FtcGxlJyk7XG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5vZmZzZXRXaWR0aDtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy5vZmZzZXRIZWlnaHQ7XG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsgLy8gQ29udHJvbCBwb2ludHMsIHNpbmNlIHRoZSBDdWJpY0JlemllciBjbGFzcy5cblxuICAgIGxldCBjMSA9IG5ldyBfdmVjdG9yLlZlY3Rvcig1MCwgNDAwKTtcbiAgICBsZXQgYzIgPSBuZXcgX3ZlY3Rvci5WZWN0b3IoMTAwLCAyMDApO1xuICAgIGxldCBjMyA9IG5ldyBfdmVjdG9yLlZlY3RvcigzMDAsIDMwMCk7XG4gICAgbGV0IGM0ID0gbmV3IF92ZWN0b3IuVmVjdG9yKDQwMCwgNDAwKTsgLy8gU2V0IHRoZSBudW1iZXIgb2YgcG9pbnRzIHdlIHdhbnQgdG8gZHJhdy5cblxuICAgIGxldCBkcmF3UG9pbnRzID0gNTAwOyAvLyBUaGUgYW1vdW50IG9mIHByb2dyZXNzIHRvIHBlciBkb3QuXG5cbiAgICBsZXQgcHJvZ3Jlc3NTcGFuID0gMSAvIGRyYXdQb2ludHM7XG5cbiAgICBmb3IgKGxldCBzdGVwID0gMDsgc3RlcCA8IGRyYXdQb2ludHM7IHN0ZXArKykge1xuICAgICAgLy8gRHJhdyBhIGRvdCBhbG9uZyB0aGUgY3VydmUuICBUaGUgcHJvZ3Jlc3MgdmFsdWUgZ29lcyBmcm9tIDAtMS5cbiAgICAgIGxldCBwcm9ncmVzcyA9IHN0ZXAgKiBwcm9ncmVzc1NwYW47XG5cbiAgICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnNldEZpbGxDb2xvcih0aGlzLmNvbnRleHQsICdvcmFuZ2UnKTtcblxuICAgICAgX2RvbUNhbnZhcy5kb21DYW52YXMuc2V0U3Ryb2tlQ29sb3IodGhpcy5jb250ZXh0LCAnb3JhbmdlJyk7XG5cbiAgICAgIGNvbnN0IHZlY3RvciA9IF9jdWJpY0Jlemllci5DdWJpY0Jlemllci5nZXRQb2ludChwcm9ncmVzcywgYzEsIGMyLCBjMywgYzQpO1xuXG4gICAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy52ZWN0b3JQb2ludCh0aGlzLmNvbnRleHQsIHZlY3RvciwgMik7XG4gICAgfSAvLyBOb3cgZHJhdyBvdXQgYSBsYXJnZSBkb3QgZm9yIGVhY2ggcG9pbnQuXG5cblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnNldEZpbGxDb2xvcih0aGlzLmNvbnRleHQsICdyZWQnKTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnNldFN0cm9rZUNvbG9yKHRoaXMuY29udGV4dCwgJ3JlZCcpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMudmVjdG9yUG9pbnQodGhpcy5jb250ZXh0LCBjMSk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5xdWlja1RleHQodGhpcy5jb250ZXh0LCAnYzEnLCBjMS54LCBjMS55IC0gNCk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRGaWxsQ29sb3IodGhpcy5jb250ZXh0LCAnYmx1ZScpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMuc2V0U3Ryb2tlQ29sb3IodGhpcy5jb250ZXh0LCAnYmx1ZScpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMucXVpY2tUZXh0KHRoaXMuY29udGV4dCwgJ2MyJywgYzIueCwgYzIueSAtIDQpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMudmVjdG9yUG9pbnQodGhpcy5jb250ZXh0LCBjMik7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRGaWxsQ29sb3IodGhpcy5jb250ZXh0LCAnZ3JlZW4nKTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnNldFN0cm9rZUNvbG9yKHRoaXMuY29udGV4dCwgJ2dyZWVuJyk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5xdWlja1RleHQodGhpcy5jb250ZXh0LCAnYzMnLCBjMy54LCBjMy55IC0gNCk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy52ZWN0b3JQb2ludCh0aGlzLmNvbnRleHQsIGMzKTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnNldEZpbGxDb2xvcih0aGlzLmNvbnRleHQsICdwdXJwbGUnKTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnNldFN0cm9rZUNvbG9yKHRoaXMuY29udGV4dCwgJ3B1cnBsZScpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMucXVpY2tUZXh0KHRoaXMuY29udGV4dCwgJ2M0JywgYzQueCwgYzQueSAtIDQpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMudmVjdG9yUG9pbnQodGhpcy5jb250ZXh0LCBjNCk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBCZXppZXJDdXJ2ZVNhbXBsZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/bezier-curve.js\n");

/***/ }),

/***/ "./examples/canvas-image-sequence.js":
/*!*******************************************!*\
  !*** ./examples/canvas-image-sequence.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _canvasImageSequence = __webpack_require__(/*! ../lib/dom/canvas-image-sequence */ \"./lib/dom/canvas-image-sequence.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\n/**\n * This sample show the most basic uses of CanvasImageSequence which is\n * updated by the scroll position of a position sticky based container.\n */\nclass CanvasImageSequenceSample {\n  constructor() {\n    console.log('canvas image sequence');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _rafProgress.RafProgress(); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n        this.rafProgress.easeTo(this.progress, 0.25, _ease.EASE.Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.canvasImageSources = [];\n\n    for (let i = 1; i <= 153; i++) {\n      let value = i + '';\n      value = value.padStart(4, '0');\n      this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.canvasImageSequence = new _canvasImageSequence.CanvasImageSequence(this.canvasContainerElement, [{\n      images: this.canvasImageSources\n    }], {\n      ariaLabel: 'Aria label test'\n    }); // this.canvasImageSequence.lerpAmount = 0.02;\n    // Load the iamges.\n\n    this.canvasImageSequence.load().then(() => {\n      // When ready render whatever the current easedProgress value is.\n      this.canvasImageSequence.renderByProgress(this.rafProgress.currentProgress);\n    });\n  }\n\n  onProgressUpdate(easedProgress, direction) {\n    this.canvasImageSequence.renderByProgress(easedProgress);\n  }\n\n}\n\nexports.default = CanvasImageSequenceSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2UuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2UuanM/YTc1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yYWZQcm9ncmVzcyA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZi1wcm9ncmVzc1wiKTtcblxudmFyIF9jYW52YXNJbWFnZVNlcXVlbmNlID0gcmVxdWlyZShcIi4uL2xpYi9kb20vY2FudmFzLWltYWdlLXNlcXVlbmNlXCIpO1xuXG52YXIgX2Vhc2UgPSByZXF1aXJlKFwiLi4vbGliL2Vhc2UvZWFzZVwiKTtcblxudmFyIF9kb20gPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb21cIik7XG5cbnZhciBfZG9tV2F0Y2hlciA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbS13YXRjaGVyXCIpO1xuXG4vKipcbiAqIFRoaXMgc2FtcGxlIHNob3cgdGhlIG1vc3QgYmFzaWMgdXNlcyBvZiBDYW52YXNJbWFnZVNlcXVlbmNlIHdoaWNoIGlzXG4gKiB1cGRhdGVkIGJ5IHRoZSBzY3JvbGwgcG9zaXRpb24gb2YgYSBwb3NpdGlvbiBzdGlja3kgYmFzZWQgY29udGFpbmVyLlxuICovXG5jbGFzcyBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc29sZS5sb2coJ2NhbnZhcyBpbWFnZSBzZXF1ZW5jZScpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyZW50Jyk7IC8vIEluc3RhbmNlIG9mIHJhZlByb2dyZXNzLlxuXG4gICAgdGhpcy5yYWZQcm9ncmVzcyA9IG5ldyBfcmFmUHJvZ3Jlc3MuUmFmUHJvZ3Jlc3MoKTsgLy8gVXBkYXRlIHRoZSBwcm9ncmVzcyB2YWx1ZSBwZXIgc2Nyb2xsLlxuXG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Njcm9sbCcsXG4gICAgICBjYWxsYmFjazogZXZlbnQgPT4ge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjI1LCBfZWFzZS5FQVNFLkxpbmVhcik7XG4gICAgICB9LFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTsgLy8gVXBkYXRlIHByb2dyZXNzIGltbWVkaWF0ZWx5IG9uIGxvYWQuXG5cbiAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDEsIF9lYXNlLkVBU0UuTGluZWFyKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTsgLy8gR2VuZXJhdGUgaW1hZ2Ugc291cmNlcy5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSAxNTM7IGkrKykge1xuICAgICAgbGV0IHZhbHVlID0gaSArICcnO1xuICAgICAgdmFsdWUgPSB2YWx1ZS5wYWRTdGFydCg0LCAnMCcpO1xuICAgICAgdGhpcy5jYW52YXNJbWFnZVNvdXJjZXMucHVzaCgnLi9wdWJsaWMvZnJhbWVzL3RodW1iJyArIHZhbHVlICsgJy5qcGcnKTtcbiAgICB9IC8vIENyZWF0ZSBDYW52YXMgSW1hZ2UgU2VxdWVuZWNlXG5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZSA9IG5ldyBfY2FudmFzSW1hZ2VTZXF1ZW5jZS5DYW52YXNJbWFnZVNlcXVlbmNlKHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCwgW3tcbiAgICAgIGltYWdlczogdGhpcy5jYW52YXNJbWFnZVNvdXJjZXNcbiAgICB9XSwge1xuICAgICAgYXJpYUxhYmVsOiAnQXJpYSBsYWJlbCB0ZXN0J1xuICAgIH0pOyAvLyB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UubGVycEFtb3VudCA9IDAuMDI7XG4gICAgLy8gTG9hZCB0aGUgaWFtZ2VzLlxuXG4gICAgdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLmxvYWQoKS50aGVuKCgpID0+IHtcbiAgICAgIC8vIFdoZW4gcmVhZHkgcmVuZGVyIHdoYXRldmVyIHRoZSBjdXJyZW50IGVhc2VkUHJvZ3Jlc3MgdmFsdWUgaXMuXG4gICAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcyh0aGlzLnJhZlByb2dyZXNzLmN1cnJlbnRQcm9ncmVzcyk7XG4gICAgfSk7XG4gIH1cblxuICBvblByb2dyZXNzVXBkYXRlKGVhc2VkUHJvZ3Jlc3MsIGRpcmVjdGlvbikge1xuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKGVhc2VkUHJvZ3Jlc3MpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/canvas-image-sequence.js\n");

/***/ }),

/***/ "./examples/canvas-image-sequence10.js":
/*!*********************************************!*\
  !*** ./examples/canvas-image-sequence10.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _canvasImageSequence = __webpack_require__(/*! ../lib/dom/canvas-image-sequence */ \"./lib/dom/canvas-image-sequence.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\n/**\n * This sample show loading multiple image sets\n */\nclass CanvasImageSequenceSample10 {\n  constructor() {\n    console.log('canvas image sequence 10');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _rafProgress.RafProgress(); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n        this.rafProgress.easeTo(this.progress, 0.25, _ease.EASE.Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.canvasImageSources = [];\n\n    for (let i = 1; i <= 153; i++) {\n      let value = i + '';\n      value = value.padStart(4, '0');\n      this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n    } // Generate a second \"mobile\" image sources.\n\n\n    this.mobileImageSources = [];\n\n    for (let i = 1; i <= 120; i++) {\n      let value = i + '';\n      value = value.padStart(4, '0');\n      this.mobileImageSources.push('./public/frames2/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.canvasImageSequence = new _canvasImageSequence.CanvasImageSequence(this.canvasContainerElement, [{\n      images: this.canvasImageSources,\n      when: () => {\n        return window.innerWidth >= 768;\n      }\n    }, {\n      images: this.mobileImageSources,\n      when: () => {\n        return window.innerWidth < 768;\n      }\n    }]); // this.canvasImageSequence.lerpAmount = 0.02;\n    // Load the iamges.\n\n    this.canvasImageSequence.load().then(() => {\n      // When ready render whatever the current easedProgress value is.\n      this.canvasImageSequence.renderByProgress(this.rafProgress.currentProgress);\n    });\n  }\n\n  onProgressUpdate(easedProgress, direction) {\n    this.canvasImageSequence.renderByProgress(easedProgress); // On each update event, we are going to acquire the pixel\n    // colors at coordinate x,y.\n\n    const hexColor = this.canvasImageSequence.getHexColorAtPoint(new _vector.Vector(500, 500));\n    console.log(hexColor); // Now we set the background to that color.\n\n    this.parentElement.style.backgroundColor = hexColor;\n  }\n\n}\n\nexports.default = CanvasImageSequenceSample10;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2UxMC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZTEwLmpzP2Y3ZjgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmFmUHJvZ3Jlc3MgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3NcIik7XG5cbnZhciBfY2FudmFzSW1hZ2VTZXF1ZW5jZSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZVwiKTtcblxudmFyIF9lYXNlID0gcmVxdWlyZShcIi4uL2xpYi9lYXNlL2Vhc2VcIik7XG5cbnZhciBfZG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxudmFyIF92ZWN0b3IgPSByZXF1aXJlKFwiLi4vbGliL21hdGhmL3ZlY3RvclwiKTtcblxuLyoqXG4gKiBUaGlzIHNhbXBsZSBzaG93IGxvYWRpbmcgbXVsdGlwbGUgaW1hZ2Ugc2V0c1xuICovXG5jbGFzcyBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlMTAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygnY2FudmFzIGltYWdlIHNlcXVlbmNlIDEwJyk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IF9kb21XYXRjaGVyLkRvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FudmFzLWNvbnRhaW5lcicpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTsgLy8gSW5zdGFuY2Ugb2YgcmFmUHJvZ3Jlc3MuXG5cbiAgICB0aGlzLnJhZlByb2dyZXNzID0gbmV3IF9yYWZQcm9ncmVzcy5SYWZQcm9ncmVzcygpOyAvLyBVcGRhdGUgdGhlIHByb2dyZXNzIHZhbHVlIHBlciBzY3JvbGwuXG5cbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGNhbGxiYWNrOiBldmVudCA9PiB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBfZG9tLmRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCk7XG4gICAgICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDAuMjUsIF9lYXNlLkVBU0UuTGluZWFyKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pOyAvLyBVcGRhdGUgcHJvZ3Jlc3MgaW1tZWRpYXRlbHkgb24gbG9hZC5cblxuICAgIHRoaXMucHJvZ3Jlc3MgPSBfZG9tLmRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCk7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgX2Vhc2UuRUFTRS5MaW5lYXIpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3Mud2F0Y2godGhpcy5vblByb2dyZXNzVXBkYXRlLmJpbmQodGhpcykpOyAvLyBHZW5lcmF0ZSBpbWFnZSBzb3VyY2VzLlxuXG4gICAgdGhpcy5jYW52YXNJbWFnZVNvdXJjZXMgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDE1MzsgaSsrKSB7XG4gICAgICBsZXQgdmFsdWUgPSBpICsgJyc7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnBhZFN0YXJ0KDQsICcwJyk7XG4gICAgICB0aGlzLmNhbnZhc0ltYWdlU291cmNlcy5wdXNoKCcuL3B1YmxpYy9mcmFtZXMvdGh1bWInICsgdmFsdWUgKyAnLmpwZycpO1xuICAgIH0gLy8gR2VuZXJhdGUgYSBzZWNvbmQgXCJtb2JpbGVcIiBpbWFnZSBzb3VyY2VzLlxuXG5cbiAgICB0aGlzLm1vYmlsZUltYWdlU291cmNlcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMTIwOyBpKyspIHtcbiAgICAgIGxldCB2YWx1ZSA9IGkgKyAnJztcbiAgICAgIHZhbHVlID0gdmFsdWUucGFkU3RhcnQoNCwgJzAnKTtcbiAgICAgIHRoaXMubW9iaWxlSW1hZ2VTb3VyY2VzLnB1c2goJy4vcHVibGljL2ZyYW1lczIvdGh1bWInICsgdmFsdWUgKyAnLmpwZycpO1xuICAgIH0gLy8gQ3JlYXRlIENhbnZhcyBJbWFnZSBTZXF1ZW5lY2VcblxuXG4gICAgdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlID0gbmV3IF9jYW52YXNJbWFnZVNlcXVlbmNlLkNhbnZhc0ltYWdlU2VxdWVuY2UodGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50LCBbe1xuICAgICAgaW1hZ2VzOiB0aGlzLmNhbnZhc0ltYWdlU291cmNlcyxcbiAgICAgIHdoZW46ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoID49IDc2ODtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBpbWFnZXM6IHRoaXMubW9iaWxlSW1hZ2VTb3VyY2VzLFxuICAgICAgd2hlbjogKCkgPT4ge1xuICAgICAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGggPCA3Njg7XG4gICAgICB9XG4gICAgfV0pOyAvLyB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UubGVycEFtb3VudCA9IDAuMDI7XG4gICAgLy8gTG9hZCB0aGUgaWFtZ2VzLlxuXG4gICAgdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLmxvYWQoKS50aGVuKCgpID0+IHtcbiAgICAgIC8vIFdoZW4gcmVhZHkgcmVuZGVyIHdoYXRldmVyIHRoZSBjdXJyZW50IGVhc2VkUHJvZ3Jlc3MgdmFsdWUgaXMuXG4gICAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcyh0aGlzLnJhZlByb2dyZXNzLmN1cnJlbnRQcm9ncmVzcyk7XG4gICAgfSk7XG4gIH1cblxuICBvblByb2dyZXNzVXBkYXRlKGVhc2VkUHJvZ3Jlc3MsIGRpcmVjdGlvbikge1xuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKGVhc2VkUHJvZ3Jlc3MpOyAvLyBPbiBlYWNoIHVwZGF0ZSBldmVudCwgd2UgYXJlIGdvaW5nIHRvIGFjcXVpcmUgdGhlIHBpeGVsXG4gICAgLy8gY29sb3JzIGF0IGNvb3JkaW5hdGUgeCx5LlxuXG4gICAgY29uc3QgaGV4Q29sb3IgPSB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UuZ2V0SGV4Q29sb3JBdFBvaW50KG5ldyBfdmVjdG9yLlZlY3Rvcig1MDAsIDUwMCkpO1xuICAgIGNvbnNvbGUubG9nKGhleENvbG9yKTsgLy8gTm93IHdlIHNldCB0aGUgYmFja2dyb3VuZCB0byB0aGF0IGNvbG9yLlxuXG4gICAgdGhpcy5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGhleENvbG9yO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTEwOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/canvas-image-sequence10.js\n");

/***/ }),

/***/ "./examples/canvas-image-sequence2.js":
/*!********************************************!*\
  !*** ./examples/canvas-image-sequence2.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _canvasImageSequence = __webpack_require__(/*! ../lib/dom/canvas-image-sequence */ \"./lib/dom/canvas-image-sequence.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\n/**\n * This sample expands on canvas image sequence sample 1 and demonstrates\n * usage of multiinterpolate.\n */\nclass CanvasImageSequenceSample2 {\n  constructor() {\n    console.log('canvas image sequence2');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _rafProgress.RafProgress(); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n        this.rafProgress.easeTo(this.progress, 0.25, _ease.EASE.Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.canvasImageSources = [];\n\n    for (let i = 1; i <= 153; i++) {\n      let value = i + '';\n      value = value.padStart(4, '0');\n      this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.canvasImageSequence = new _canvasImageSequence.CanvasImageSequence(this.canvasContainerElement, [{\n      images: this.canvasImageSources\n    }]);\n    let progressPoints = [{\n      from: 0,\n      to: 0.5,\n      start: 0,\n      end: 1\n    }, {\n      from: 0.5,\n      to: 1,\n      start: 1,\n      end: 0\n    }];\n    this.canvasImageSequence.setMultiInterpolation(progressPoints); // Load the iamges.\n\n    this.canvasImageSequence.load().then(() => {\n      // When ready render whatever the current easedProgress value is.\n      this.canvasImageSequence.renderByProgress(this.rafProgress.currentProgress);\n    });\n  }\n\n  onProgressUpdate(easedProgress, direction) {\n    this.canvasImageSequence.renderByProgress(easedProgress);\n  }\n\n}\n\nexports.default = CanvasImageSequenceSample2;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2UyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvY2FudmFzLWltYWdlLXNlcXVlbmNlMi5qcz8wYTM2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JhZlByb2dyZXNzID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmLXByb2dyZXNzXCIpO1xuXG52YXIgX2NhbnZhc0ltYWdlU2VxdWVuY2UgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9jYW52YXMtaW1hZ2Utc2VxdWVuY2VcIik7XG5cbnZhciBfZWFzZSA9IHJlcXVpcmUoXCIuLi9saWIvZWFzZS9lYXNlXCIpO1xuXG52YXIgX2RvbSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbVwiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbi8qKlxuICogVGhpcyBzYW1wbGUgZXhwYW5kcyBvbiBjYW52YXMgaW1hZ2Ugc2VxdWVuY2Ugc2FtcGxlIDEgYW5kIGRlbW9uc3RyYXRlc1xuICogdXNhZ2Ugb2YgbXVsdGlpbnRlcnBvbGF0ZS5cbiAqL1xuY2xhc3MgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygnY2FudmFzIGltYWdlIHNlcXVlbmNlMicpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyZW50Jyk7IC8vIEluc3RhbmNlIG9mIHJhZlByb2dyZXNzLlxuXG4gICAgdGhpcy5yYWZQcm9ncmVzcyA9IG5ldyBfcmFmUHJvZ3Jlc3MuUmFmUHJvZ3Jlc3MoKTsgLy8gVXBkYXRlIHRoZSBwcm9ncmVzcyB2YWx1ZSBwZXIgc2Nyb2xsLlxuXG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Njcm9sbCcsXG4gICAgICBjYWxsYmFjazogZXZlbnQgPT4ge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjI1LCBfZWFzZS5FQVNFLkxpbmVhcik7XG4gICAgICB9LFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTsgLy8gVXBkYXRlIHByb2dyZXNzIGltbWVkaWF0ZWx5IG9uIGxvYWQuXG5cbiAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDEsIF9lYXNlLkVBU0UuTGluZWFyKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTsgLy8gR2VuZXJhdGUgaW1hZ2Ugc291cmNlcy5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSAxNTM7IGkrKykge1xuICAgICAgbGV0IHZhbHVlID0gaSArICcnO1xuICAgICAgdmFsdWUgPSB2YWx1ZS5wYWRTdGFydCg0LCAnMCcpO1xuICAgICAgdGhpcy5jYW52YXNJbWFnZVNvdXJjZXMucHVzaCgnLi9wdWJsaWMvZnJhbWVzL3RodW1iJyArIHZhbHVlICsgJy5qcGcnKTtcbiAgICB9IC8vIENyZWF0ZSBDYW52YXMgSW1hZ2UgU2VxdWVuZWNlXG5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZSA9IG5ldyBfY2FudmFzSW1hZ2VTZXF1ZW5jZS5DYW52YXNJbWFnZVNlcXVlbmNlKHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCwgW3tcbiAgICAgIGltYWdlczogdGhpcy5jYW52YXNJbWFnZVNvdXJjZXNcbiAgICB9XSk7XG4gICAgbGV0IHByb2dyZXNzUG9pbnRzID0gW3tcbiAgICAgIGZyb206IDAsXG4gICAgICB0bzogMC41LFxuICAgICAgc3RhcnQ6IDAsXG4gICAgICBlbmQ6IDFcbiAgICB9LCB7XG4gICAgICBmcm9tOiAwLjUsXG4gICAgICB0bzogMSxcbiAgICAgIHN0YXJ0OiAxLFxuICAgICAgZW5kOiAwXG4gICAgfV07XG4gICAgdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLnNldE11bHRpSW50ZXJwb2xhdGlvbihwcm9ncmVzc1BvaW50cyk7IC8vIExvYWQgdGhlIGlhbWdlcy5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5sb2FkKCkudGhlbigoKSA9PiB7XG4gICAgICAvLyBXaGVuIHJlYWR5IHJlbmRlciB3aGF0ZXZlciB0aGUgY3VycmVudCBlYXNlZFByb2dyZXNzIHZhbHVlIGlzLlxuICAgICAgdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3ModGhpcy5yYWZQcm9ncmVzcy5jdXJyZW50UHJvZ3Jlc3MpO1xuICAgIH0pO1xuICB9XG5cbiAgb25Qcm9ncmVzc1VwZGF0ZShlYXNlZFByb2dyZXNzLCBkaXJlY3Rpb24pIHtcbiAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcyhlYXNlZFByb2dyZXNzKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGUyOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/canvas-image-sequence2.js\n");

/***/ }),

/***/ "./examples/canvas-image-sequence3.js":
/*!********************************************!*\
  !*** ./examples/canvas-image-sequence3.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _canvasImageSequence = __webpack_require__(/*! ../lib/dom/canvas-image-sequence */ \"./lib/dom/canvas-image-sequence.js\");\n\n/**\n * CanvasImageSequence play feature.\n */\nclass CanvasImageSequenceSample3 {\n  constructor() {\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Generate image sources.\n\n    this.canvasImageSources = [];\n\n    for (let i = 1; i <= 153; i++) {\n      let value = i + '';\n      value = value.padStart(4, '0');\n      this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.canvasImageSequence = new _canvasImageSequence.CanvasImageSequence(this.canvasContainerElement, [{\n      images: this.canvasImageSources\n    }]);\n    let progressPoints = [{\n      from: 0,\n      to: 0.5,\n      start: 0,\n      end: 1\n    }, {\n      from: 0.5,\n      to: 1,\n      start: 1,\n      end: 0\n    }];\n    this.canvasImageSequence.setMultiInterpolation(progressPoints); // Load the iamges.\n\n    this.canvasImageSequence.load().then(() => {\n      // On load, play the sequence from 0 - 1.\n      this.canvasImageSequence.play(0, 1, 3000).then(() => {\n        console.log('play complete');\n      });\n    });\n  }\n\n}\n\nexports.default = CanvasImageSequenceSample3;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2UzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvY2FudmFzLWltYWdlLXNlcXVlbmNlMy5qcz84ODZhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NhbnZhc0ltYWdlU2VxdWVuY2UgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9jYW52YXMtaW1hZ2Utc2VxdWVuY2VcIik7XG5cbi8qKlxuICogQ2FudmFzSW1hZ2VTZXF1ZW5jZSBwbGF5IGZlYXR1cmUuXG4gKi9cbmNsYXNzIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGUzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyZW50Jyk7IC8vIEdlbmVyYXRlIGltYWdlIHNvdXJjZXMuXG5cbiAgICB0aGlzLmNhbnZhc0ltYWdlU291cmNlcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMTUzOyBpKyspIHtcbiAgICAgIGxldCB2YWx1ZSA9IGkgKyAnJztcbiAgICAgIHZhbHVlID0gdmFsdWUucGFkU3RhcnQoNCwgJzAnKTtcbiAgICAgIHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzLnB1c2goJy4vcHVibGljL2ZyYW1lcy90aHVtYicgKyB2YWx1ZSArICcuanBnJyk7XG4gICAgfSAvLyBDcmVhdGUgQ2FudmFzIEltYWdlIFNlcXVlbmVjZVxuXG5cbiAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UgPSBuZXcgX2NhbnZhc0ltYWdlU2VxdWVuY2UuQ2FudmFzSW1hZ2VTZXF1ZW5jZSh0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQsIFt7XG4gICAgICBpbWFnZXM6IHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzXG4gICAgfV0pO1xuICAgIGxldCBwcm9ncmVzc1BvaW50cyA9IFt7XG4gICAgICBmcm9tOiAwLFxuICAgICAgdG86IDAuNSxcbiAgICAgIHN0YXJ0OiAwLFxuICAgICAgZW5kOiAxXG4gICAgfSwge1xuICAgICAgZnJvbTogMC41LFxuICAgICAgdG86IDEsXG4gICAgICBzdGFydDogMSxcbiAgICAgIGVuZDogMFxuICAgIH1dO1xuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5zZXRNdWx0aUludGVycG9sYXRpb24ocHJvZ3Jlc3NQb2ludHMpOyAvLyBMb2FkIHRoZSBpYW1nZXMuXG5cbiAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UubG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gT24gbG9hZCwgcGxheSB0aGUgc2VxdWVuY2UgZnJvbSAwIC0gMS5cbiAgICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5wbGF5KDAsIDEsIDMwMDApLnRoZW4oKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygncGxheSBjb21wbGV0ZScpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlMzsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/canvas-image-sequence3.js\n");

/***/ }),

/***/ "./examples/canvas-image-sequence4.js":
/*!********************************************!*\
  !*** ./examples/canvas-image-sequence4.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _canvasImageSequence = __webpack_require__(/*! ../lib/dom/canvas-image-sequence */ \"./lib/dom/canvas-image-sequence.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\n/**\n * This sample expands on canvas image sequence sample 1 and demonstrates\n * usage of multiinterpolate.\n */\nclass CanvasImageSequenceSample3 {\n  constructor() {\n    console.log('canvas image sequence4');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _rafProgress.RafProgress(); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n        this.rafProgress.easeTo(this.progress, 0.25, _ease.EASE.Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.canvasImageSources = [];\n\n    for (let i = 1; i <= 153; i++) {\n      let value = i + '';\n      value = value.padStart(4, '0');\n      this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.canvasImageSequence = new _canvasImageSequence.CanvasImageSequence(this.canvasContainerElement, [{\n      images: this.canvasImageSources\n    }]); // We set the lerp value.\n\n    this.canvasImageSequence.lerpAmount = 0.01; // Load the iamges.\n\n    this.canvasImageSequence.load().then(() => {\n      // On load, play the sequence from 0 - 1.\n      this.canvasImageSequence.play(0, 1, 1000).then(() => {\n        console.log('done', this.rafProgress.currentProgress); // Update the progress to the current scroll when done.\n        //\n        // At this time, the playing ends at 1 but the scroll progress\n        // could be something else so it will lerp \"towards\" the\n        // scroll position since we have lerp set.\n\n        this.canvasImageSequence.renderByProgress(this.rafProgress.currentProgress);\n      });\n    });\n  }\n\n  onProgressUpdate(easedProgress, direction) {\n    this.canvasImageSequence.renderByProgress(easedProgress);\n  }\n\n}\n\nexports.default = CanvasImageSequenceSample3;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2U0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvY2FudmFzLWltYWdlLXNlcXVlbmNlNC5qcz8xNjZjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JhZlByb2dyZXNzID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmLXByb2dyZXNzXCIpO1xuXG52YXIgX2NhbnZhc0ltYWdlU2VxdWVuY2UgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9jYW52YXMtaW1hZ2Utc2VxdWVuY2VcIik7XG5cbnZhciBfZWFzZSA9IHJlcXVpcmUoXCIuLi9saWIvZWFzZS9lYXNlXCIpO1xuXG52YXIgX2RvbSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbVwiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbi8qKlxuICogVGhpcyBzYW1wbGUgZXhwYW5kcyBvbiBjYW52YXMgaW1hZ2Ugc2VxdWVuY2Ugc2FtcGxlIDEgYW5kIGRlbW9uc3RyYXRlc1xuICogdXNhZ2Ugb2YgbXVsdGlpbnRlcnBvbGF0ZS5cbiAqL1xuY2xhc3MgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygnY2FudmFzIGltYWdlIHNlcXVlbmNlNCcpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyZW50Jyk7IC8vIEluc3RhbmNlIG9mIHJhZlByb2dyZXNzLlxuXG4gICAgdGhpcy5yYWZQcm9ncmVzcyA9IG5ldyBfcmFmUHJvZ3Jlc3MuUmFmUHJvZ3Jlc3MoKTsgLy8gVXBkYXRlIHRoZSBwcm9ncmVzcyB2YWx1ZSBwZXIgc2Nyb2xsLlxuXG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Njcm9sbCcsXG4gICAgICBjYWxsYmFjazogZXZlbnQgPT4ge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjI1LCBfZWFzZS5FQVNFLkxpbmVhcik7XG4gICAgICB9LFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTsgLy8gVXBkYXRlIHByb2dyZXNzIGltbWVkaWF0ZWx5IG9uIGxvYWQuXG5cbiAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDEsIF9lYXNlLkVBU0UuTGluZWFyKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTsgLy8gR2VuZXJhdGUgaW1hZ2Ugc291cmNlcy5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSAxNTM7IGkrKykge1xuICAgICAgbGV0IHZhbHVlID0gaSArICcnO1xuICAgICAgdmFsdWUgPSB2YWx1ZS5wYWRTdGFydCg0LCAnMCcpO1xuICAgICAgdGhpcy5jYW52YXNJbWFnZVNvdXJjZXMucHVzaCgnLi9wdWJsaWMvZnJhbWVzL3RodW1iJyArIHZhbHVlICsgJy5qcGcnKTtcbiAgICB9IC8vIENyZWF0ZSBDYW52YXMgSW1hZ2UgU2VxdWVuZWNlXG5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZSA9IG5ldyBfY2FudmFzSW1hZ2VTZXF1ZW5jZS5DYW52YXNJbWFnZVNlcXVlbmNlKHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCwgW3tcbiAgICAgIGltYWdlczogdGhpcy5jYW52YXNJbWFnZVNvdXJjZXNcbiAgICB9XSk7IC8vIFdlIHNldCB0aGUgbGVycCB2YWx1ZS5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5sZXJwQW1vdW50ID0gMC4wMTsgLy8gTG9hZCB0aGUgaWFtZ2VzLlxuXG4gICAgdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLmxvYWQoKS50aGVuKCgpID0+IHtcbiAgICAgIC8vIE9uIGxvYWQsIHBsYXkgdGhlIHNlcXVlbmNlIGZyb20gMCAtIDEuXG4gICAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UucGxheSgwLCAxLCAxMDAwKS50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ2RvbmUnLCB0aGlzLnJhZlByb2dyZXNzLmN1cnJlbnRQcm9ncmVzcyk7IC8vIFVwZGF0ZSB0aGUgcHJvZ3Jlc3MgdG8gdGhlIGN1cnJlbnQgc2Nyb2xsIHdoZW4gZG9uZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gQXQgdGhpcyB0aW1lLCB0aGUgcGxheWluZyBlbmRzIGF0IDEgYnV0IHRoZSBzY3JvbGwgcHJvZ3Jlc3NcbiAgICAgICAgLy8gY291bGQgYmUgc29tZXRoaW5nIGVsc2Ugc28gaXQgd2lsbCBsZXJwIFwidG93YXJkc1wiIHRoZVxuICAgICAgICAvLyBzY3JvbGwgcG9zaXRpb24gc2luY2Ugd2UgaGF2ZSBsZXJwIHNldC5cblxuICAgICAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcyh0aGlzLnJhZlByb2dyZXNzLmN1cnJlbnRQcm9ncmVzcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uUHJvZ3Jlc3NVcGRhdGUoZWFzZWRQcm9ncmVzcywgZGlyZWN0aW9uKSB7XG4gICAgdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoZWFzZWRQcm9ncmVzcyk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlMzsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/canvas-image-sequence4.js\n");

/***/ }),

/***/ "./examples/canvas-image-sequence5.js":
/*!********************************************!*\
  !*** ./examples/canvas-image-sequence5.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _canvasImageSequence = __webpack_require__(/*! ../lib/dom/canvas-image-sequence */ \"./lib/dom/canvas-image-sequence.js\");\n\n/**\n * CanvasImageSequence play feature.\n */\nclass CanvasImageSequenceSample5 {\n  constructor() {\n    console.log('canvasImageSequence5');\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Generate image sources.\n\n    this.canvasImageSources = [];\n\n    for (let i = 1; i <= 153; i++) {\n      let value = i + '';\n      value = value.padStart(4, '0');\n      this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.canvasImageSequence = new _canvasImageSequence.CanvasImageSequence(this.canvasContainerElement, [{\n      images: this.canvasImageSources\n    }]);\n    this.canvasImageSequence.lerpAmount = 0.01;\n    this.canvasImageSequence.load().then(() => {\n      this.canvasImageSequence.renderByProgress(0); // Immediately set to 1.  Because we previously set it to 0 and\n      // no 1 and we have lerp set, canvasImageSequence will lerp\n      // towards that value.\n\n      this.canvasImageSequence.renderByProgress(1);\n    });\n  }\n\n}\n\nexports.default = CanvasImageSequenceSample5;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2U1LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvY2FudmFzLWltYWdlLXNlcXVlbmNlNS5qcz8wNmE5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NhbnZhc0ltYWdlU2VxdWVuY2UgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9jYW52YXMtaW1hZ2Utc2VxdWVuY2VcIik7XG5cbi8qKlxuICogQ2FudmFzSW1hZ2VTZXF1ZW5jZSBwbGF5IGZlYXR1cmUuXG4gKi9cbmNsYXNzIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU1IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc29sZS5sb2coJ2NhbnZhc0ltYWdlU2VxdWVuY2U1Jyk7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyZW50Jyk7IC8vIEdlbmVyYXRlIGltYWdlIHNvdXJjZXMuXG5cbiAgICB0aGlzLmNhbnZhc0ltYWdlU291cmNlcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMTUzOyBpKyspIHtcbiAgICAgIGxldCB2YWx1ZSA9IGkgKyAnJztcbiAgICAgIHZhbHVlID0gdmFsdWUucGFkU3RhcnQoNCwgJzAnKTtcbiAgICAgIHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzLnB1c2goJy4vcHVibGljL2ZyYW1lcy90aHVtYicgKyB2YWx1ZSArICcuanBnJyk7XG4gICAgfSAvLyBDcmVhdGUgQ2FudmFzIEltYWdlIFNlcXVlbmVjZVxuXG5cbiAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UgPSBuZXcgX2NhbnZhc0ltYWdlU2VxdWVuY2UuQ2FudmFzSW1hZ2VTZXF1ZW5jZSh0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQsIFt7XG4gICAgICBpbWFnZXM6IHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzXG4gICAgfV0pO1xuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5sZXJwQW1vdW50ID0gMC4wMTtcbiAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UubG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoMCk7IC8vIEltbWVkaWF0ZWx5IHNldCB0byAxLiAgQmVjYXVzZSB3ZSBwcmV2aW91c2x5IHNldCBpdCB0byAwIGFuZFxuICAgICAgLy8gbm8gMSBhbmQgd2UgaGF2ZSBsZXJwIHNldCwgY2FudmFzSW1hZ2VTZXF1ZW5jZSB3aWxsIGxlcnBcbiAgICAgIC8vIHRvd2FyZHMgdGhhdCB2YWx1ZS5cblxuICAgICAgdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoMSk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlNTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/canvas-image-sequence5.js\n");

/***/ }),

/***/ "./examples/canvas-image-sequence7.js":
/*!********************************************!*\
  !*** ./examples/canvas-image-sequence7.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _canvasImageSequence = __webpack_require__(/*! ../lib/dom/canvas-image-sequence */ \"./lib/dom/canvas-image-sequence.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\n/**\n * This sample demonstrates CanvasImageSequence sizing with cover\n */\nclass CanvasImageSequenceSample7 {\n  constructor() {\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _rafProgress.RafProgress(); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n        this.rafProgress.easeTo(this.progress, 0.25, _ease.EASE.Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.canvasImageSources = [];\n\n    for (let i = 1; i <= 153; i++) {\n      let value = i + '';\n      value = value.padStart(4, '0');\n      this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.canvasImageSequence = new _canvasImageSequence.CanvasImageSequence(this.canvasContainerElement, [{\n      images: this.canvasImageSources\n    }], {\n      cover: true // top: 0,\n      // left: 0\n\n    }); // Load the images\n\n    this.canvasImageSequence.load().then(() => {\n      // When ready render whatever the current easedProgress value is.\n      this.canvasImageSequence.renderByProgress(this.rafProgress.currentProgress);\n    });\n  }\n\n  onProgressUpdate(easedProgress, direction) {\n    this.canvasImageSequence.renderByProgress(easedProgress);\n  }\n\n}\n\nexports.default = CanvasImageSequenceSample7;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2U3LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvY2FudmFzLWltYWdlLXNlcXVlbmNlNy5qcz84ZDhlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JhZlByb2dyZXNzID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmLXByb2dyZXNzXCIpO1xuXG52YXIgX2NhbnZhc0ltYWdlU2VxdWVuY2UgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9jYW52YXMtaW1hZ2Utc2VxdWVuY2VcIik7XG5cbnZhciBfZWFzZSA9IHJlcXVpcmUoXCIuLi9saWIvZWFzZS9lYXNlXCIpO1xuXG52YXIgX2RvbSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbVwiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbi8qKlxuICogVGhpcyBzYW1wbGUgZGVtb25zdHJhdGVzIENhbnZhc0ltYWdlU2VxdWVuY2Ugc2l6aW5nIHdpdGggY292ZXJcbiAqL1xuY2xhc3MgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTcge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgX2RvbVdhdGNoZXIuRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMtY29udGFpbmVyJyk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpOyAvLyBJbnN0YW5jZSBvZiByYWZQcm9ncmVzcy5cblxuICAgIHRoaXMucmFmUHJvZ3Jlc3MgPSBuZXcgX3JhZlByb2dyZXNzLlJhZlByb2dyZXNzKCk7IC8vIFVwZGF0ZSB0aGUgcHJvZ3Jlc3MgdmFsdWUgcGVyIHNjcm9sbC5cblxuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgY2FsbGJhY2s6IGV2ZW50ID0+IHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IF9kb20uZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMC4yNSwgX2Vhc2UuRUFTRS5MaW5lYXIpO1xuICAgICAgfSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7IC8vIFVwZGF0ZSBwcm9ncmVzcyBpbW1lZGlhdGVseSBvbiBsb2FkLlxuXG4gICAgdGhpcy5wcm9ncmVzcyA9IF9kb20uZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAxLCBfZWFzZS5FQVNFLkxpbmVhcik7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy53YXRjaCh0aGlzLm9uUHJvZ3Jlc3NVcGRhdGUuYmluZCh0aGlzKSk7IC8vIEdlbmVyYXRlIGltYWdlIHNvdXJjZXMuXG5cbiAgICB0aGlzLmNhbnZhc0ltYWdlU291cmNlcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMTUzOyBpKyspIHtcbiAgICAgIGxldCB2YWx1ZSA9IGkgKyAnJztcbiAgICAgIHZhbHVlID0gdmFsdWUucGFkU3RhcnQoNCwgJzAnKTtcbiAgICAgIHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzLnB1c2goJy4vcHVibGljL2ZyYW1lcy90aHVtYicgKyB2YWx1ZSArICcuanBnJyk7XG4gICAgfSAvLyBDcmVhdGUgQ2FudmFzIEltYWdlIFNlcXVlbmVjZVxuXG5cbiAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UgPSBuZXcgX2NhbnZhc0ltYWdlU2VxdWVuY2UuQ2FudmFzSW1hZ2VTZXF1ZW5jZSh0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQsIFt7XG4gICAgICBpbWFnZXM6IHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzXG4gICAgfV0sIHtcbiAgICAgIGNvdmVyOiB0cnVlIC8vIHRvcDogMCxcbiAgICAgIC8vIGxlZnQ6IDBcblxuICAgIH0pOyAvLyBMb2FkIHRoZSBpbWFnZXNcblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5sb2FkKCkudGhlbigoKSA9PiB7XG4gICAgICAvLyBXaGVuIHJlYWR5IHJlbmRlciB3aGF0ZXZlciB0aGUgY3VycmVudCBlYXNlZFByb2dyZXNzIHZhbHVlIGlzLlxuICAgICAgdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3ModGhpcy5yYWZQcm9ncmVzcy5jdXJyZW50UHJvZ3Jlc3MpO1xuICAgIH0pO1xuICB9XG5cbiAgb25Qcm9ncmVzc1VwZGF0ZShlYXNlZFByb2dyZXNzLCBkaXJlY3Rpb24pIHtcbiAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcyhlYXNlZFByb2dyZXNzKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU3OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/canvas-image-sequence7.js\n");

/***/ }),

/***/ "./examples/canvas-image-sequence8.js":
/*!********************************************!*\
  !*** ./examples/canvas-image-sequence8.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _canvasImageSequence = __webpack_require__(/*! ../lib/dom/canvas-image-sequence */ \"./lib/dom/canvas-image-sequence.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\n/**\n * This sample demonstrates CanvasImageSequence with clippings.\n */\nclass CanvasImageSequenceSample8 {\n  constructor() {\n    console.log('canvas image sequence sample 8');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _rafProgress.RafProgress(); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n        this.rafProgress.easeTo(this.progress, 0.25, _ease.EASE.Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.canvasImageSources = [];\n\n    for (let i = 1; i <= 153; i++) {\n      let value = i + '';\n      value = value.padStart(4, '0');\n      this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.canvasImageSequence = new _canvasImageSequence.CanvasImageSequence(this.canvasContainerElement, [{\n      images: this.canvasImageSources\n    }], {\n      cover: true\n    }); // Apply clipping.\n\n    this.canvasImageSequence.setClipInterpolations({\n      type: 'inset',\n      interpolations: [{\n        progress: [{\n          from: 0,\n          to: 1,\n          start: 0.5,\n          end: 0\n        }],\n        id: 'top'\n      }, {\n        progress: [{\n          from: 0,\n          to: 1,\n          start: 0.5,\n          end: 0\n        }],\n        id: 'right'\n      }, {\n        progress: [{\n          from: 0,\n          to: 1,\n          start: 0.5,\n          end: 0\n        }],\n        id: 'bottom'\n      }, {\n        progress: [{\n          from: 0,\n          to: 1,\n          start: 0.5,\n          end: 0\n        }],\n        id: 'left'\n      }, {\n        progress: [{\n          from: 0,\n          to: 0.8,\n          start: 0,\n          end: 60\n        }, {\n          from: 0.8,\n          to: 1,\n          start: 60,\n          end: 0\n        }],\n        id: 'border-radius'\n      }]\n    }); // Load the images\n\n    this.canvasImageSequence.load().then(() => {\n      // When ready render whatever the current easedProgress value is.\n      this.canvasImageSequence.renderByProgress(this.rafProgress.currentProgress);\n    });\n  }\n\n  onProgressUpdate(easedProgress, direction) {\n    this.canvasImageSequence.renderByProgress(easedProgress);\n  }\n\n}\n\nexports.default = CanvasImageSequenceSample8;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2U4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvY2FudmFzLWltYWdlLXNlcXVlbmNlOC5qcz8wZmYyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JhZlByb2dyZXNzID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmLXByb2dyZXNzXCIpO1xuXG52YXIgX2NhbnZhc0ltYWdlU2VxdWVuY2UgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9jYW52YXMtaW1hZ2Utc2VxdWVuY2VcIik7XG5cbnZhciBfZWFzZSA9IHJlcXVpcmUoXCIuLi9saWIvZWFzZS9lYXNlXCIpO1xuXG52YXIgX2RvbSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbVwiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbi8qKlxuICogVGhpcyBzYW1wbGUgZGVtb25zdHJhdGVzIENhbnZhc0ltYWdlU2VxdWVuY2Ugd2l0aCBjbGlwcGluZ3MuXG4gKi9cbmNsYXNzIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU4IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc29sZS5sb2coJ2NhbnZhcyBpbWFnZSBzZXF1ZW5jZSBzYW1wbGUgOCcpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyZW50Jyk7IC8vIEluc3RhbmNlIG9mIHJhZlByb2dyZXNzLlxuXG4gICAgdGhpcy5yYWZQcm9ncmVzcyA9IG5ldyBfcmFmUHJvZ3Jlc3MuUmFmUHJvZ3Jlc3MoKTsgLy8gVXBkYXRlIHRoZSBwcm9ncmVzcyB2YWx1ZSBwZXIgc2Nyb2xsLlxuXG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Njcm9sbCcsXG4gICAgICBjYWxsYmFjazogZXZlbnQgPT4ge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjI1LCBfZWFzZS5FQVNFLkxpbmVhcik7XG4gICAgICB9LFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTsgLy8gVXBkYXRlIHByb2dyZXNzIGltbWVkaWF0ZWx5IG9uIGxvYWQuXG5cbiAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDEsIF9lYXNlLkVBU0UuTGluZWFyKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTsgLy8gR2VuZXJhdGUgaW1hZ2Ugc291cmNlcy5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSAxNTM7IGkrKykge1xuICAgICAgbGV0IHZhbHVlID0gaSArICcnO1xuICAgICAgdmFsdWUgPSB2YWx1ZS5wYWRTdGFydCg0LCAnMCcpO1xuICAgICAgdGhpcy5jYW52YXNJbWFnZVNvdXJjZXMucHVzaCgnLi9wdWJsaWMvZnJhbWVzL3RodW1iJyArIHZhbHVlICsgJy5qcGcnKTtcbiAgICB9IC8vIENyZWF0ZSBDYW52YXMgSW1hZ2UgU2VxdWVuZWNlXG5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZSA9IG5ldyBfY2FudmFzSW1hZ2VTZXF1ZW5jZS5DYW52YXNJbWFnZVNlcXVlbmNlKHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCwgW3tcbiAgICAgIGltYWdlczogdGhpcy5jYW52YXNJbWFnZVNvdXJjZXNcbiAgICB9XSwge1xuICAgICAgY292ZXI6IHRydWVcbiAgICB9KTsgLy8gQXBwbHkgY2xpcHBpbmcuXG5cbiAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2Uuc2V0Q2xpcEludGVycG9sYXRpb25zKHtcbiAgICAgIHR5cGU6ICdpbnNldCcsXG4gICAgICBpbnRlcnBvbGF0aW9uczogW3tcbiAgICAgICAgcHJvZ3Jlc3M6IFt7XG4gICAgICAgICAgZnJvbTogMCxcbiAgICAgICAgICB0bzogMSxcbiAgICAgICAgICBzdGFydDogMC41LFxuICAgICAgICAgIGVuZDogMFxuICAgICAgICB9XSxcbiAgICAgICAgaWQ6ICd0b3AnXG4gICAgICB9LCB7XG4gICAgICAgIHByb2dyZXNzOiBbe1xuICAgICAgICAgIGZyb206IDAsXG4gICAgICAgICAgdG86IDEsXG4gICAgICAgICAgc3RhcnQ6IDAuNSxcbiAgICAgICAgICBlbmQ6IDBcbiAgICAgICAgfV0sXG4gICAgICAgIGlkOiAncmlnaHQnXG4gICAgICB9LCB7XG4gICAgICAgIHByb2dyZXNzOiBbe1xuICAgICAgICAgIGZyb206IDAsXG4gICAgICAgICAgdG86IDEsXG4gICAgICAgICAgc3RhcnQ6IDAuNSxcbiAgICAgICAgICBlbmQ6IDBcbiAgICAgICAgfV0sXG4gICAgICAgIGlkOiAnYm90dG9tJ1xuICAgICAgfSwge1xuICAgICAgICBwcm9ncmVzczogW3tcbiAgICAgICAgICBmcm9tOiAwLFxuICAgICAgICAgIHRvOiAxLFxuICAgICAgICAgIHN0YXJ0OiAwLjUsXG4gICAgICAgICAgZW5kOiAwXG4gICAgICAgIH1dLFxuICAgICAgICBpZDogJ2xlZnQnXG4gICAgICB9LCB7XG4gICAgICAgIHByb2dyZXNzOiBbe1xuICAgICAgICAgIGZyb206IDAsXG4gICAgICAgICAgdG86IDAuOCxcbiAgICAgICAgICBzdGFydDogMCxcbiAgICAgICAgICBlbmQ6IDYwXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmcm9tOiAwLjgsXG4gICAgICAgICAgdG86IDEsXG4gICAgICAgICAgc3RhcnQ6IDYwLFxuICAgICAgICAgIGVuZDogMFxuICAgICAgICB9XSxcbiAgICAgICAgaWQ6ICdib3JkZXItcmFkaXVzJ1xuICAgICAgfV1cbiAgICB9KTsgLy8gTG9hZCB0aGUgaW1hZ2VzXG5cbiAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UubG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gV2hlbiByZWFkeSByZW5kZXIgd2hhdGV2ZXIgdGhlIGN1cnJlbnQgZWFzZWRQcm9ncmVzcyB2YWx1ZSBpcy5cbiAgICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKHRoaXMucmFmUHJvZ3Jlc3MuY3VycmVudFByb2dyZXNzKTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uUHJvZ3Jlc3NVcGRhdGUoZWFzZWRQcm9ncmVzcywgZGlyZWN0aW9uKSB7XG4gICAgdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoZWFzZWRQcm9ncmVzcyk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlODsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/canvas-image-sequence8.js\n");

/***/ }),

/***/ "./examples/canvas-image-sequence9.js":
/*!********************************************!*\
  !*** ./examples/canvas-image-sequence9.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _canvasImageSequence = __webpack_require__(/*! ../lib/dom/canvas-image-sequence */ \"./lib/dom/canvas-image-sequence.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\n/**\n * This sample show loading multiple image sets\n */\nclass CanvasImageSequenceSample9 {\n  constructor() {\n    console.log('canvas image sequence');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _rafProgress.RafProgress(); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n        this.rafProgress.easeTo(this.progress, 0.25, _ease.EASE.Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.canvasImageSources = [];\n\n    for (let i = 1; i <= 153; i++) {\n      let value = i + '';\n      value = value.padStart(4, '0');\n      this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n    } // Generate a second \"mobile\" image sources.\n\n\n    this.mobileImageSources = [];\n\n    for (let i = 1; i <= 120; i++) {\n      let value = i + '';\n      value = value.padStart(4, '0');\n      this.mobileImageSources.push('./public/frames2/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.canvasImageSequence = new _canvasImageSequence.CanvasImageSequence(this.canvasContainerElement, [{\n      images: this.canvasImageSources,\n      when: () => {\n        return window.innerWidth >= 768;\n      }\n    }, {\n      images: this.mobileImageSources,\n      when: () => {\n        return window.innerWidth < 768;\n      }\n    }]); // this.canvasImageSequence.lerpAmount = 0.02;\n    // Load the iamges.\n\n    this.canvasImageSequence.load().then(() => {\n      // When ready render whatever the current easedProgress value is.\n      this.canvasImageSequence.renderByProgress(this.rafProgress.currentProgress);\n    });\n  }\n\n  onProgressUpdate(easedProgress, direction) {\n    this.canvasImageSequence.renderByProgress(easedProgress);\n  }\n\n}\n\nexports.default = CanvasImageSequenceSample9;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2U5LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvY2FudmFzLWltYWdlLXNlcXVlbmNlOS5qcz9hOGNiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JhZlByb2dyZXNzID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmLXByb2dyZXNzXCIpO1xuXG52YXIgX2NhbnZhc0ltYWdlU2VxdWVuY2UgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9jYW52YXMtaW1hZ2Utc2VxdWVuY2VcIik7XG5cbnZhciBfZWFzZSA9IHJlcXVpcmUoXCIuLi9saWIvZWFzZS9lYXNlXCIpO1xuXG52YXIgX2RvbSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbVwiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbi8qKlxuICogVGhpcyBzYW1wbGUgc2hvdyBsb2FkaW5nIG11bHRpcGxlIGltYWdlIHNldHNcbiAqL1xuY2xhc3MgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygnY2FudmFzIGltYWdlIHNlcXVlbmNlJyk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IF9kb21XYXRjaGVyLkRvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FudmFzLWNvbnRhaW5lcicpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTsgLy8gSW5zdGFuY2Ugb2YgcmFmUHJvZ3Jlc3MuXG5cbiAgICB0aGlzLnJhZlByb2dyZXNzID0gbmV3IF9yYWZQcm9ncmVzcy5SYWZQcm9ncmVzcygpOyAvLyBVcGRhdGUgdGhlIHByb2dyZXNzIHZhbHVlIHBlciBzY3JvbGwuXG5cbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGNhbGxiYWNrOiBldmVudCA9PiB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBfZG9tLmRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCk7XG4gICAgICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDAuMjUsIF9lYXNlLkVBU0UuTGluZWFyKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pOyAvLyBVcGRhdGUgcHJvZ3Jlc3MgaW1tZWRpYXRlbHkgb24gbG9hZC5cblxuICAgIHRoaXMucHJvZ3Jlc3MgPSBfZG9tLmRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCk7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgX2Vhc2UuRUFTRS5MaW5lYXIpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3Mud2F0Y2godGhpcy5vblByb2dyZXNzVXBkYXRlLmJpbmQodGhpcykpOyAvLyBHZW5lcmF0ZSBpbWFnZSBzb3VyY2VzLlxuXG4gICAgdGhpcy5jYW52YXNJbWFnZVNvdXJjZXMgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDE1MzsgaSsrKSB7XG4gICAgICBsZXQgdmFsdWUgPSBpICsgJyc7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnBhZFN0YXJ0KDQsICcwJyk7XG4gICAgICB0aGlzLmNhbnZhc0ltYWdlU291cmNlcy5wdXNoKCcuL3B1YmxpYy9mcmFtZXMvdGh1bWInICsgdmFsdWUgKyAnLmpwZycpO1xuICAgIH0gLy8gR2VuZXJhdGUgYSBzZWNvbmQgXCJtb2JpbGVcIiBpbWFnZSBzb3VyY2VzLlxuXG5cbiAgICB0aGlzLm1vYmlsZUltYWdlU291cmNlcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMTIwOyBpKyspIHtcbiAgICAgIGxldCB2YWx1ZSA9IGkgKyAnJztcbiAgICAgIHZhbHVlID0gdmFsdWUucGFkU3RhcnQoNCwgJzAnKTtcbiAgICAgIHRoaXMubW9iaWxlSW1hZ2VTb3VyY2VzLnB1c2goJy4vcHVibGljL2ZyYW1lczIvdGh1bWInICsgdmFsdWUgKyAnLmpwZycpO1xuICAgIH0gLy8gQ3JlYXRlIENhbnZhcyBJbWFnZSBTZXF1ZW5lY2VcblxuXG4gICAgdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlID0gbmV3IF9jYW52YXNJbWFnZVNlcXVlbmNlLkNhbnZhc0ltYWdlU2VxdWVuY2UodGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50LCBbe1xuICAgICAgaW1hZ2VzOiB0aGlzLmNhbnZhc0ltYWdlU291cmNlcyxcbiAgICAgIHdoZW46ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoID49IDc2ODtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBpbWFnZXM6IHRoaXMubW9iaWxlSW1hZ2VTb3VyY2VzLFxuICAgICAgd2hlbjogKCkgPT4ge1xuICAgICAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGggPCA3Njg7XG4gICAgICB9XG4gICAgfV0pOyAvLyB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UubGVycEFtb3VudCA9IDAuMDI7XG4gICAgLy8gTG9hZCB0aGUgaWFtZ2VzLlxuXG4gICAgdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLmxvYWQoKS50aGVuKCgpID0+IHtcbiAgICAgIC8vIFdoZW4gcmVhZHkgcmVuZGVyIHdoYXRldmVyIHRoZSBjdXJyZW50IGVhc2VkUHJvZ3Jlc3MgdmFsdWUgaXMuXG4gICAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcyh0aGlzLnJhZlByb2dyZXNzLmN1cnJlbnRQcm9ncmVzcyk7XG4gICAgfSk7XG4gIH1cblxuICBvblByb2dyZXNzVXBkYXRlKGVhc2VkUHJvZ3Jlc3MsIGRpcmVjdGlvbikge1xuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKGVhc2VkUHJvZ3Jlc3MpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/canvas-image-sequence9.js\n");

/***/ }),

/***/ "./examples/catmull-rom.js":
/*!*********************************!*\
  !*** ./examples/catmull-rom.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _domCanvas = __webpack_require__(/*! ../lib/dom/dom-canvas */ \"./lib/dom/dom-canvas.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nvar _catmullRom = __webpack_require__(/*! ../lib/mathf/catmull-rom */ \"./lib/mathf/catmull-rom.js\");\n\n/**\n * Demonstrates basic usage of CatmullRom\n */\nclass CatmullRomSample {\n  constructor() {\n    this.canvas = document.getElementById('canvas');\n    this.canvas.width = this.canvas.offsetWidth;\n    this.canvas.height = this.canvas.offsetHeight;\n    this.context = this.canvas.getContext('2d');\n    console.log('catmull rom sample'); // Start by defining our control points\n\n    const points = [new _vector.Vector(0, 500), new _vector.Vector(100, 200), new _vector.Vector(200, 400), new _vector.Vector(300, 200), new _vector.Vector(400, 350), new _vector.Vector(500, 300)]; // Now create a catmullRom Interpolation.\n\n    let catmullInterpolation = _catmullRom.CatmullRom.interpolate(points, 0.5, 0.5); // Now create a catmullRom with low tension\n\n\n    let catmullInterpolationLow = _catmullRom.CatmullRom.interpolate(points, 0, 0); // Now create a catmullRom with high tension\n\n\n    let catmullInterpolationHigh = _catmullRom.CatmullRom.interpolate(points, 1, 1); // Set the number of points we want to draw along the spline.\n\n\n    let drawPoints = 500; // The amount of progress to per dot.\n\n    let progressSpan = 1 / drawPoints; // Loop throught the drawPoints.\n\n    for (let step = 0; step < drawPoints; step++) {\n      // Get the x,y value along the catmull rom spline based on the\n      // current progress.\n      let progress = step * progressSpan;\n      let vector; // Draw the low tension vesion.\n\n      _domCanvas.domCanvas.setFillColor(this.context, 'orange');\n\n      _domCanvas.domCanvas.setStrokeColor(this.context, 'orange');\n\n      vector = catmullInterpolationLow(progress);\n\n      _domCanvas.domCanvas.vectorPoint(this.context, vector, 2); // Draw the high tension vesion.\n\n\n      _domCanvas.domCanvas.setFillColor(this.context, 'blue');\n\n      _domCanvas.domCanvas.setStrokeColor(this.context, 'blue');\n\n      vector = catmullInterpolationHigh(progress);\n\n      _domCanvas.domCanvas.vectorPoint(this.context, vector, 2); // Now draw it out.\n\n\n      _domCanvas.domCanvas.setFillColor(this.context, 'green');\n\n      _domCanvas.domCanvas.setStrokeColor(this.context, 'green');\n\n      vector = catmullInterpolation(progress);\n\n      _domCanvas.domCanvas.vectorPoint(this.context, vector, 5);\n    } // Now draw out the original points in red.\n\n\n    _domCanvas.domCanvas.setFillColor(this.context, 'red');\n\n    _domCanvas.domCanvas.setStrokeColor(this.context, 'red');\n\n    points.forEach(point => {\n      _domCanvas.domCanvas.vectorPoint(this.context, point);\n    });\n  }\n\n}\n\nexports.default = CatmullRomSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYXRtdWxsLXJvbS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2NhdG11bGwtcm9tLmpzPzU5YmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZG9tQ2FudmFzID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLWNhbnZhc1wiKTtcblxudmFyIF92ZWN0b3IgPSByZXF1aXJlKFwiLi4vbGliL21hdGhmL3ZlY3RvclwiKTtcblxudmFyIF9jYXRtdWxsUm9tID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi9jYXRtdWxsLXJvbVwiKTtcblxuLyoqXG4gKiBEZW1vbnN0cmF0ZXMgYmFzaWMgdXNhZ2Ugb2YgQ2F0bXVsbFJvbVxuICovXG5jbGFzcyBDYXRtdWxsUm9tU2FtcGxlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5vZmZzZXRXaWR0aDtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy5vZmZzZXRIZWlnaHQ7XG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjb25zb2xlLmxvZygnY2F0bXVsbCByb20gc2FtcGxlJyk7IC8vIFN0YXJ0IGJ5IGRlZmluaW5nIG91ciBjb250cm9sIHBvaW50c1xuXG4gICAgY29uc3QgcG9pbnRzID0gW25ldyBfdmVjdG9yLlZlY3RvcigwLCA1MDApLCBuZXcgX3ZlY3Rvci5WZWN0b3IoMTAwLCAyMDApLCBuZXcgX3ZlY3Rvci5WZWN0b3IoMjAwLCA0MDApLCBuZXcgX3ZlY3Rvci5WZWN0b3IoMzAwLCAyMDApLCBuZXcgX3ZlY3Rvci5WZWN0b3IoNDAwLCAzNTApLCBuZXcgX3ZlY3Rvci5WZWN0b3IoNTAwLCAzMDApXTsgLy8gTm93IGNyZWF0ZSBhIGNhdG11bGxSb20gSW50ZXJwb2xhdGlvbi5cblxuICAgIGxldCBjYXRtdWxsSW50ZXJwb2xhdGlvbiA9IF9jYXRtdWxsUm9tLkNhdG11bGxSb20uaW50ZXJwb2xhdGUocG9pbnRzLCAwLjUsIDAuNSk7IC8vIE5vdyBjcmVhdGUgYSBjYXRtdWxsUm9tIHdpdGggbG93IHRlbnNpb25cblxuXG4gICAgbGV0IGNhdG11bGxJbnRlcnBvbGF0aW9uTG93ID0gX2NhdG11bGxSb20uQ2F0bXVsbFJvbS5pbnRlcnBvbGF0ZShwb2ludHMsIDAsIDApOyAvLyBOb3cgY3JlYXRlIGEgY2F0bXVsbFJvbSB3aXRoIGhpZ2ggdGVuc2lvblxuXG5cbiAgICBsZXQgY2F0bXVsbEludGVycG9sYXRpb25IaWdoID0gX2NhdG11bGxSb20uQ2F0bXVsbFJvbS5pbnRlcnBvbGF0ZShwb2ludHMsIDEsIDEpOyAvLyBTZXQgdGhlIG51bWJlciBvZiBwb2ludHMgd2Ugd2FudCB0byBkcmF3IGFsb25nIHRoZSBzcGxpbmUuXG5cblxuICAgIGxldCBkcmF3UG9pbnRzID0gNTAwOyAvLyBUaGUgYW1vdW50IG9mIHByb2dyZXNzIHRvIHBlciBkb3QuXG5cbiAgICBsZXQgcHJvZ3Jlc3NTcGFuID0gMSAvIGRyYXdQb2ludHM7IC8vIExvb3AgdGhyb3VnaHQgdGhlIGRyYXdQb2ludHMuXG5cbiAgICBmb3IgKGxldCBzdGVwID0gMDsgc3RlcCA8IGRyYXdQb2ludHM7IHN0ZXArKykge1xuICAgICAgLy8gR2V0IHRoZSB4LHkgdmFsdWUgYWxvbmcgdGhlIGNhdG11bGwgcm9tIHNwbGluZSBiYXNlZCBvbiB0aGVcbiAgICAgIC8vIGN1cnJlbnQgcHJvZ3Jlc3MuXG4gICAgICBsZXQgcHJvZ3Jlc3MgPSBzdGVwICogcHJvZ3Jlc3NTcGFuO1xuICAgICAgbGV0IHZlY3RvcjsgLy8gRHJhdyB0aGUgbG93IHRlbnNpb24gdmVzaW9uLlxuXG4gICAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRGaWxsQ29sb3IodGhpcy5jb250ZXh0LCAnb3JhbmdlJyk7XG5cbiAgICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnNldFN0cm9rZUNvbG9yKHRoaXMuY29udGV4dCwgJ29yYW5nZScpO1xuXG4gICAgICB2ZWN0b3IgPSBjYXRtdWxsSW50ZXJwb2xhdGlvbkxvdyhwcm9ncmVzcyk7XG5cbiAgICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgdmVjdG9yLCAyKTsgLy8gRHJhdyB0aGUgaGlnaCB0ZW5zaW9uIHZlc2lvbi5cblxuXG4gICAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRGaWxsQ29sb3IodGhpcy5jb250ZXh0LCAnYmx1ZScpO1xuXG4gICAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdibHVlJyk7XG5cbiAgICAgIHZlY3RvciA9IGNhdG11bGxJbnRlcnBvbGF0aW9uSGlnaChwcm9ncmVzcyk7XG5cbiAgICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgdmVjdG9yLCAyKTsgLy8gTm93IGRyYXcgaXQgb3V0LlxuXG5cbiAgICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnNldEZpbGxDb2xvcih0aGlzLmNvbnRleHQsICdncmVlbicpO1xuXG4gICAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdncmVlbicpO1xuXG4gICAgICB2ZWN0b3IgPSBjYXRtdWxsSW50ZXJwb2xhdGlvbihwcm9ncmVzcyk7XG5cbiAgICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgdmVjdG9yLCA1KTtcbiAgICB9IC8vIE5vdyBkcmF3IG91dCB0aGUgb3JpZ2luYWwgcG9pbnRzIGluIHJlZC5cblxuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMuc2V0RmlsbENvbG9yKHRoaXMuY29udGV4dCwgJ3JlZCcpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMuc2V0U3Ryb2tlQ29sb3IodGhpcy5jb250ZXh0LCAncmVkJyk7XG5cbiAgICBwb2ludHMuZm9yRWFjaChwb2ludCA9PiB7XG4gICAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy52ZWN0b3JQb2ludCh0aGlzLmNvbnRleHQsIHBvaW50KTtcbiAgICB9KTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhdG11bGxSb21TYW1wbGU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/catmull-rom.js\n");

/***/ }),

/***/ "./examples/css-var-interpolate.js":
/*!*****************************************!*\
  !*** ./examples/css-var-interpolate.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _cssVarInterpolate = __webpack_require__(/*! ../lib/interpolate/css-var-interpolate */ \"./lib/interpolate/css-var-interpolate.js\");\n\nclass CssVarInterpolateSample {\n  constructor() {\n    console.log('css var interpolate sample');\n    this.ball = document.getElementById('ball');\n    this.range = document.getElementById('range');\n    this.cssVarInterpolate = new _cssVarInterpolate.CssVarInterpolate(this.ball, {\n      interpolations: [{\n        progress: [{\n          from: 0,\n          to: 1,\n          start: 0,\n          end: 500\n        }],\n        id: '--x'\n      }, {\n        progress: [{\n          from: 0,\n          to: 0.2,\n          start: 0,\n          end: 100,\n          easingFunction: _ease.EASE.easeOutSine\n        }, {\n          from: 0.2,\n          to: 0.3,\n          start: 100,\n          end: 300,\n          easingFunction: _ease.EASE.easeOutSine\n        }, {\n          from: 0.3,\n          to: 0.5,\n          start: 300,\n          end: 0,\n          easingFunction: _ease.EASE.easeOutSine\n        }, {\n          from: 0.5,\n          to: 1,\n          start: 0,\n          end: 500,\n          easingFunction: _ease.EASE.easeInQuad\n        }],\n        id: '--y'\n      }]\n    }); // Here is an example of using RafProgress to ease out the progress\n    // values.\n\n    const rafProgress = new _rafProgress.RafProgress(easedProgress => {\n      this.cssVarInterpolate.update(easedProgress);\n    });\n    rafProgress.setCurrentProgress(+this.range.value); // Update rafProgress each time the value of range changes.\n\n    this.range.addEventListener('input', () => {\n      rafProgress.easeTo(+this.range.value, 0.1, _ease.EASE.easeInOutQuad);\n    });\n  }\n\n}\n\nexports.default = CssVarInterpolateSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jc3MtdmFyLWludGVycG9sYXRlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvY3NzLXZhci1pbnRlcnBvbGF0ZS5qcz8xYTQ0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JhZlByb2dyZXNzID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmLXByb2dyZXNzXCIpO1xuXG52YXIgX2Vhc2UgPSByZXF1aXJlKFwiLi4vbGliL2Vhc2UvZWFzZVwiKTtcblxudmFyIF9jc3NWYXJJbnRlcnBvbGF0ZSA9IHJlcXVpcmUoXCIuLi9saWIvaW50ZXJwb2xhdGUvY3NzLXZhci1pbnRlcnBvbGF0ZVwiKTtcblxuY2xhc3MgQ3NzVmFySW50ZXJwb2xhdGVTYW1wbGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygnY3NzIHZhciBpbnRlcnBvbGF0ZSBzYW1wbGUnKTtcbiAgICB0aGlzLmJhbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFsbCcpO1xuICAgIHRoaXMucmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFuZ2UnKTtcbiAgICB0aGlzLmNzc1ZhckludGVycG9sYXRlID0gbmV3IF9jc3NWYXJJbnRlcnBvbGF0ZS5Dc3NWYXJJbnRlcnBvbGF0ZSh0aGlzLmJhbGwsIHtcbiAgICAgIGludGVycG9sYXRpb25zOiBbe1xuICAgICAgICBwcm9ncmVzczogW3tcbiAgICAgICAgICBmcm9tOiAwLFxuICAgICAgICAgIHRvOiAxLFxuICAgICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICAgIGVuZDogNTAwXG4gICAgICAgIH1dLFxuICAgICAgICBpZDogJy0teCdcbiAgICAgIH0sIHtcbiAgICAgICAgcHJvZ3Jlc3M6IFt7XG4gICAgICAgICAgZnJvbTogMCxcbiAgICAgICAgICB0bzogMC4yLFxuICAgICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICAgIGVuZDogMTAwLFxuICAgICAgICAgIGVhc2luZ0Z1bmN0aW9uOiBfZWFzZS5FQVNFLmVhc2VPdXRTaW5lXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmcm9tOiAwLjIsXG4gICAgICAgICAgdG86IDAuMyxcbiAgICAgICAgICBzdGFydDogMTAwLFxuICAgICAgICAgIGVuZDogMzAwLFxuICAgICAgICAgIGVhc2luZ0Z1bmN0aW9uOiBfZWFzZS5FQVNFLmVhc2VPdXRTaW5lXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmcm9tOiAwLjMsXG4gICAgICAgICAgdG86IDAuNSxcbiAgICAgICAgICBzdGFydDogMzAwLFxuICAgICAgICAgIGVuZDogMCxcbiAgICAgICAgICBlYXNpbmdGdW5jdGlvbjogX2Vhc2UuRUFTRS5lYXNlT3V0U2luZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgZnJvbTogMC41LFxuICAgICAgICAgIHRvOiAxLFxuICAgICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICAgIGVuZDogNTAwLFxuICAgICAgICAgIGVhc2luZ0Z1bmN0aW9uOiBfZWFzZS5FQVNFLmVhc2VJblF1YWRcbiAgICAgICAgfV0sXG4gICAgICAgIGlkOiAnLS15J1xuICAgICAgfV1cbiAgICB9KTsgLy8gSGVyZSBpcyBhbiBleGFtcGxlIG9mIHVzaW5nIFJhZlByb2dyZXNzIHRvIGVhc2Ugb3V0IHRoZSBwcm9ncmVzc1xuICAgIC8vIHZhbHVlcy5cblxuICAgIGNvbnN0IHJhZlByb2dyZXNzID0gbmV3IF9yYWZQcm9ncmVzcy5SYWZQcm9ncmVzcyhlYXNlZFByb2dyZXNzID0+IHtcbiAgICAgIHRoaXMuY3NzVmFySW50ZXJwb2xhdGUudXBkYXRlKGVhc2VkUHJvZ3Jlc3MpO1xuICAgIH0pO1xuICAgIHJhZlByb2dyZXNzLnNldEN1cnJlbnRQcm9ncmVzcygrdGhpcy5yYW5nZS52YWx1ZSk7IC8vIFVwZGF0ZSByYWZQcm9ncmVzcyBlYWNoIHRpbWUgdGhlIHZhbHVlIG9mIHJhbmdlIGNoYW5nZXMuXG5cbiAgICB0aGlzLnJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgcmFmUHJvZ3Jlc3MuZWFzZVRvKCt0aGlzLnJhbmdlLnZhbHVlLCAwLjEsIF9lYXNlLkVBU0UuZWFzZUluT3V0UXVhZCk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBDc3NWYXJJbnRlcnBvbGF0ZVNhbXBsZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/css-var-interpolate.js\n");

/***/ }),

/***/ "./examples/css-var-interpolate2.js":
/*!******************************************!*\
  !*** ./examples/css-var-interpolate2.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _cssVarInterpolate = __webpack_require__(/*! ../lib/interpolate/css-var-interpolate */ \"./lib/interpolate/css-var-interpolate.js\");\n\nclass CssVarInterpolateSample2 {\n  constructor() {\n    console.log('css var interpolate sample 2');\n    this.ball = document.getElementById('ball');\n    this.range = document.getElementById('range');\n    this.cssVarInterpolate = new _cssVarInterpolate.CssVarInterpolate(document.getElementById('container'), {\n      interpolations: [{\n        progress: [{\n          from: 0,\n          to: 0.5,\n          start: 'rgba(255, 128, 0, 0.3)',\n          // orange\n          end: 'rgba(255, 153, 204, 1)' // pink\n\n        }, {\n          from: 0.5,\n          to: 1,\n          start: 'rgba(255, 153, 204, 1)',\n          // pink\n          end: 'rgba(0, 0, 255, 1)' // blue\n\n        }],\n        id: '--background'\n      }, {\n        progress: [{\n          from: 0,\n          to: 1,\n          start: '0px',\n          end: '500px'\n        }],\n        id: '--x'\n      }, {\n        progress: [{\n          from: 0,\n          to: 0.2,\n          start: '0px',\n          end: '100px',\n          easingFunction: _ease.EASE.easeOutSine\n        }, {\n          from: 0.2,\n          to: 0.3,\n          start: '100px',\n          end: '300px',\n          easingFunction: _ease.EASE.easeOutSine\n        }, {\n          from: 0.3,\n          to: 0.5,\n          start: '300px',\n          end: '0px',\n          easingFunction: _ease.EASE.easeOutSine\n        }, {\n          from: 0.5,\n          to: 1,\n          start: '0px',\n          end: '500px',\n          easingFunction: _ease.EASE.easeInQuad\n        }],\n        id: '--y'\n      }]\n    }); // Here is an example of using RafProgress to ease out the progress\n    // values.\n\n    const rafProgress = new _rafProgress.RafProgress(easedProgress => {\n      this.cssVarInterpolate.update(easedProgress);\n    });\n    rafProgress.setCurrentProgress(+this.range.value); // Update rafProgress each time the value of range changes.\n\n    this.range.addEventListener('input', () => {\n      rafProgress.easeTo(+this.range.value, 0.1, _ease.EASE.easeInOutQuad);\n    });\n  }\n\n}\n\nexports.default = CssVarInterpolateSample2;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jc3MtdmFyLWludGVycG9sYXRlMi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2Nzcy12YXItaW50ZXJwb2xhdGUyLmpzP2EzODMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfbWF0aGYgPSByZXF1aXJlKFwiLi4vbGliL21hdGhmL21hdGhmXCIpO1xuXG52YXIgX3JhZlByb2dyZXNzID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmLXByb2dyZXNzXCIpO1xuXG52YXIgX2Vhc2UgPSByZXF1aXJlKFwiLi4vbGliL2Vhc2UvZWFzZVwiKTtcblxudmFyIF9jc3NWYXJJbnRlcnBvbGF0ZSA9IHJlcXVpcmUoXCIuLi9saWIvaW50ZXJwb2xhdGUvY3NzLXZhci1pbnRlcnBvbGF0ZVwiKTtcblxuY2xhc3MgQ3NzVmFySW50ZXJwb2xhdGVTYW1wbGUyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc29sZS5sb2coJ2NzcyB2YXIgaW50ZXJwb2xhdGUgc2FtcGxlIDInKTtcbiAgICB0aGlzLmJhbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFsbCcpO1xuICAgIHRoaXMucmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFuZ2UnKTtcbiAgICB0aGlzLmNzc1ZhckludGVycG9sYXRlID0gbmV3IF9jc3NWYXJJbnRlcnBvbGF0ZS5Dc3NWYXJJbnRlcnBvbGF0ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJyksIHtcbiAgICAgIGludGVycG9sYXRpb25zOiBbe1xuICAgICAgICBwcm9ncmVzczogW3tcbiAgICAgICAgICBmcm9tOiAwLFxuICAgICAgICAgIHRvOiAwLjUsXG4gICAgICAgICAgc3RhcnQ6ICdyZ2JhKDI1NSwgMTI4LCAwLCAwLjMpJyxcbiAgICAgICAgICAvLyBvcmFuZ2VcbiAgICAgICAgICBlbmQ6ICdyZ2JhKDI1NSwgMTUzLCAyMDQsIDEpJyAvLyBwaW5rXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgIGZyb206IDAuNSxcbiAgICAgICAgICB0bzogMSxcbiAgICAgICAgICBzdGFydDogJ3JnYmEoMjU1LCAxNTMsIDIwNCwgMSknLFxuICAgICAgICAgIC8vIHBpbmtcbiAgICAgICAgICBlbmQ6ICdyZ2JhKDAsIDAsIDI1NSwgMSknIC8vIGJsdWVcblxuICAgICAgICB9XSxcbiAgICAgICAgaWQ6ICctLWJhY2tncm91bmQnXG4gICAgICB9LCB7XG4gICAgICAgIHByb2dyZXNzOiBbe1xuICAgICAgICAgIGZyb206IDAsXG4gICAgICAgICAgdG86IDEsXG4gICAgICAgICAgc3RhcnQ6ICcwcHgnLFxuICAgICAgICAgIGVuZDogJzUwMHB4J1xuICAgICAgICB9XSxcbiAgICAgICAgaWQ6ICctLXgnXG4gICAgICB9LCB7XG4gICAgICAgIHByb2dyZXNzOiBbe1xuICAgICAgICAgIGZyb206IDAsXG4gICAgICAgICAgdG86IDAuMixcbiAgICAgICAgICBzdGFydDogJzBweCcsXG4gICAgICAgICAgZW5kOiAnMTAwcHgnLFxuICAgICAgICAgIGVhc2luZ0Z1bmN0aW9uOiBfZWFzZS5FQVNFLmVhc2VPdXRTaW5lXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmcm9tOiAwLjIsXG4gICAgICAgICAgdG86IDAuMyxcbiAgICAgICAgICBzdGFydDogJzEwMHB4JyxcbiAgICAgICAgICBlbmQ6ICczMDBweCcsXG4gICAgICAgICAgZWFzaW5nRnVuY3Rpb246IF9lYXNlLkVBU0UuZWFzZU91dFNpbmVcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZyb206IDAuMyxcbiAgICAgICAgICB0bzogMC41LFxuICAgICAgICAgIHN0YXJ0OiAnMzAwcHgnLFxuICAgICAgICAgIGVuZDogJzBweCcsXG4gICAgICAgICAgZWFzaW5nRnVuY3Rpb246IF9lYXNlLkVBU0UuZWFzZU91dFNpbmVcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZyb206IDAuNSxcbiAgICAgICAgICB0bzogMSxcbiAgICAgICAgICBzdGFydDogJzBweCcsXG4gICAgICAgICAgZW5kOiAnNTAwcHgnLFxuICAgICAgICAgIGVhc2luZ0Z1bmN0aW9uOiBfZWFzZS5FQVNFLmVhc2VJblF1YWRcbiAgICAgICAgfV0sXG4gICAgICAgIGlkOiAnLS15J1xuICAgICAgfV1cbiAgICB9KTsgLy8gSGVyZSBpcyBhbiBleGFtcGxlIG9mIHVzaW5nIFJhZlByb2dyZXNzIHRvIGVhc2Ugb3V0IHRoZSBwcm9ncmVzc1xuICAgIC8vIHZhbHVlcy5cblxuICAgIGNvbnN0IHJhZlByb2dyZXNzID0gbmV3IF9yYWZQcm9ncmVzcy5SYWZQcm9ncmVzcyhlYXNlZFByb2dyZXNzID0+IHtcbiAgICAgIHRoaXMuY3NzVmFySW50ZXJwb2xhdGUudXBkYXRlKGVhc2VkUHJvZ3Jlc3MpO1xuICAgIH0pO1xuICAgIHJhZlByb2dyZXNzLnNldEN1cnJlbnRQcm9ncmVzcygrdGhpcy5yYW5nZS52YWx1ZSk7IC8vIFVwZGF0ZSByYWZQcm9ncmVzcyBlYWNoIHRpbWUgdGhlIHZhbHVlIG9mIHJhbmdlIGNoYW5nZXMuXG5cbiAgICB0aGlzLnJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgcmFmUHJvZ3Jlc3MuZWFzZVRvKCt0aGlzLnJhbmdlLnZhbHVlLCAwLjEsIF9lYXNlLkVBU0UuZWFzZUluT3V0UXVhZCk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBDc3NWYXJJbnRlcnBvbGF0ZVNhbXBsZTI7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/css-var-interpolate2.js\n");

/***/ }),

/***/ "./examples/css-var-interpolate3.js":
/*!******************************************!*\
  !*** ./examples/css-var-interpolate3.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _func = __webpack_require__(/*! ../lib/func/func */ \"./lib/func/func.js\");\n\nvar _elementVisibility = __webpack_require__(/*! ../lib/dom/element-visibility */ \"./lib/dom/element-visibility.js\");\n\nvar _cssVarInterpolate = __webpack_require__(/*! ../lib/interpolate/css-var-interpolate */ \"./lib/interpolate/css-var-interpolate.js\");\n\nclass CssVarInterpolateSample3 {\n  constructor() {\n    console.log('css var interpolate');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.parentElement = document.getElementById('parent');\n    this.childElement = document.getElementById('child'); // Element visibility.  Add 100px before and after the module.\n\n    this.ev = _elementVisibility.elementVisibility.inview(this.parentElement, {\n      rootMargin: '100px'\n    }); // Instance of rafProgress.\n\n    this.rafProgress = new _rafProgress.RafProgress(); // Update the progress value per scroll.\n\n    let throttleThreshold = 24;\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      // Throttle the scroll.\n      callback: _func.func.throttle(event => {\n        this.onScroll();\n      }, throttleThreshold),\n      // Run scroll updates only when the element is visible.\n      runWhen: () => {\n        return this.ev.state().ready && this.ev.state().inview;\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // On init, immediately update the raf progress without lerping.\n\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Setup css var interpolate.\n\n    this.cssVarInterpolate = new _cssVarInterpolate.CssVarInterpolate( // This is the element the css variables get scoped to.\n    this.parentElement, {\n      interpolations: [{\n        progress: [{\n          from: 0,\n          to: 1,\n          start: '0px',\n          end: '500px'\n        }],\n        id: '--x'\n      }, {\n        progress: [{\n          from: 0,\n          to: 0.2,\n          start: '0px',\n          end: '100px',\n          easingFunction: _ease.EASE.easeOutSine\n        }, {\n          from: 0.2,\n          to: 0.3,\n          start: '100px',\n          end: '300px',\n          easingFunction: _ease.EASE.easeOutSine\n        }, {\n          from: 0.3,\n          to: 0.5,\n          start: '300px',\n          end: '0px',\n          easingFunction: _ease.EASE.easeOutSine\n        }, {\n          from: 0.5,\n          to: 1,\n          start: '0px',\n          end: '500px',\n          easingFunction: _ease.EASE.easeInQuad\n        }],\n        id: '--y'\n      }]\n    }); // Run scroll once.\n\n    this.domWatcher.run('scroll');\n  }\n\n  onScroll() {\n    // Calculate 'how much' we have scrolled into the parent element from 0-1.\n    // Optionally add offset to this if needed.\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 0.25, _ease.EASE.Linear);\n  } // Runs every time eased progress is updated.\n\n\n  onProgressUpdate(easedProgress, direction) {\n    this.cssVarInterpolate.update(easedProgress);\n  }\n\n  dispose() {\n    this.domWatcher.dispose();\n    this.ev.dispose();\n  }\n\n}\n\nexports.default = CssVarInterpolateSample3;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jc3MtdmFyLWludGVycG9sYXRlMy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2Nzcy12YXItaW50ZXJwb2xhdGUzLmpzP2VkYzEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmFmUHJvZ3Jlc3MgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3NcIik7XG5cbnZhciBfZG9tV2F0Y2hlciA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbS13YXRjaGVyXCIpO1xuXG52YXIgX2Vhc2UgPSByZXF1aXJlKFwiLi4vbGliL2Vhc2UvZWFzZVwiKTtcblxudmFyIF9kb20gPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb21cIik7XG5cbnZhciBfZnVuYyA9IHJlcXVpcmUoXCIuLi9saWIvZnVuYy9mdW5jXCIpO1xuXG52YXIgX2VsZW1lbnRWaXNpYmlsaXR5ID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZWxlbWVudC12aXNpYmlsaXR5XCIpO1xuXG52YXIgX2Nzc1ZhckludGVycG9sYXRlID0gcmVxdWlyZShcIi4uL2xpYi9pbnRlcnBvbGF0ZS9jc3MtdmFyLWludGVycG9sYXRlXCIpO1xuXG5jbGFzcyBDc3NWYXJJbnRlcnBvbGF0ZVNhbXBsZTMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygnY3NzIHZhciBpbnRlcnBvbGF0ZScpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpO1xuICAgIHRoaXMuY2hpbGRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoaWxkJyk7IC8vIEVsZW1lbnQgdmlzaWJpbGl0eS4gIEFkZCAxMDBweCBiZWZvcmUgYW5kIGFmdGVyIHRoZSBtb2R1bGUuXG5cbiAgICB0aGlzLmV2ID0gX2VsZW1lbnRWaXNpYmlsaXR5LmVsZW1lbnRWaXNpYmlsaXR5Lmludmlldyh0aGlzLnBhcmVudEVsZW1lbnQsIHtcbiAgICAgIHJvb3RNYXJnaW46ICcxMDBweCdcbiAgICB9KTsgLy8gSW5zdGFuY2Ugb2YgcmFmUHJvZ3Jlc3MuXG5cbiAgICB0aGlzLnJhZlByb2dyZXNzID0gbmV3IF9yYWZQcm9ncmVzcy5SYWZQcm9ncmVzcygpOyAvLyBVcGRhdGUgdGhlIHByb2dyZXNzIHZhbHVlIHBlciBzY3JvbGwuXG5cbiAgICBsZXQgdGhyb3R0bGVUaHJlc2hvbGQgPSAyNDtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIC8vIFRocm90dGxlIHRoZSBzY3JvbGwuXG4gICAgICBjYWxsYmFjazogX2Z1bmMuZnVuYy50aHJvdHRsZShldmVudCA9PiB7XG4gICAgICAgIHRoaXMub25TY3JvbGwoKTtcbiAgICAgIH0sIHRocm90dGxlVGhyZXNob2xkKSxcbiAgICAgIC8vIFJ1biBzY3JvbGwgdXBkYXRlcyBvbmx5IHdoZW4gdGhlIGVsZW1lbnQgaXMgdmlzaWJsZS5cbiAgICAgIHJ1bldoZW46ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXYuc3RhdGUoKS5yZWFkeSAmJiB0aGlzLmV2LnN0YXRlKCkuaW52aWV3O1xuICAgICAgfSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7IC8vIE9uIGluaXQsIGltbWVkaWF0ZWx5IHVwZGF0ZSB0aGUgcmFmIHByb2dyZXNzIHdpdGhvdXQgbGVycGluZy5cblxuICAgIHRoaXMucHJvZ3Jlc3MgPSBfZG9tLmRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCk7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgX2Vhc2UuRUFTRS5MaW5lYXIpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3Mud2F0Y2godGhpcy5vblByb2dyZXNzVXBkYXRlLmJpbmQodGhpcykpOyAvLyBTZXR1cCBjc3MgdmFyIGludGVycG9sYXRlLlxuXG4gICAgdGhpcy5jc3NWYXJJbnRlcnBvbGF0ZSA9IG5ldyBfY3NzVmFySW50ZXJwb2xhdGUuQ3NzVmFySW50ZXJwb2xhdGUoIC8vIFRoaXMgaXMgdGhlIGVsZW1lbnQgdGhlIGNzcyB2YXJpYWJsZXMgZ2V0IHNjb3BlZCB0by5cbiAgICB0aGlzLnBhcmVudEVsZW1lbnQsIHtcbiAgICAgIGludGVycG9sYXRpb25zOiBbe1xuICAgICAgICBwcm9ncmVzczogW3tcbiAgICAgICAgICBmcm9tOiAwLFxuICAgICAgICAgIHRvOiAxLFxuICAgICAgICAgIHN0YXJ0OiAnMHB4JyxcbiAgICAgICAgICBlbmQ6ICc1MDBweCdcbiAgICAgICAgfV0sXG4gICAgICAgIGlkOiAnLS14J1xuICAgICAgfSwge1xuICAgICAgICBwcm9ncmVzczogW3tcbiAgICAgICAgICBmcm9tOiAwLFxuICAgICAgICAgIHRvOiAwLjIsXG4gICAgICAgICAgc3RhcnQ6ICcwcHgnLFxuICAgICAgICAgIGVuZDogJzEwMHB4JyxcbiAgICAgICAgICBlYXNpbmdGdW5jdGlvbjogX2Vhc2UuRUFTRS5lYXNlT3V0U2luZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgZnJvbTogMC4yLFxuICAgICAgICAgIHRvOiAwLjMsXG4gICAgICAgICAgc3RhcnQ6ICcxMDBweCcsXG4gICAgICAgICAgZW5kOiAnMzAwcHgnLFxuICAgICAgICAgIGVhc2luZ0Z1bmN0aW9uOiBfZWFzZS5FQVNFLmVhc2VPdXRTaW5lXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmcm9tOiAwLjMsXG4gICAgICAgICAgdG86IDAuNSxcbiAgICAgICAgICBzdGFydDogJzMwMHB4JyxcbiAgICAgICAgICBlbmQ6ICcwcHgnLFxuICAgICAgICAgIGVhc2luZ0Z1bmN0aW9uOiBfZWFzZS5FQVNFLmVhc2VPdXRTaW5lXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmcm9tOiAwLjUsXG4gICAgICAgICAgdG86IDEsXG4gICAgICAgICAgc3RhcnQ6ICcwcHgnLFxuICAgICAgICAgIGVuZDogJzUwMHB4JyxcbiAgICAgICAgICBlYXNpbmdGdW5jdGlvbjogX2Vhc2UuRUFTRS5lYXNlSW5RdWFkXG4gICAgICAgIH1dLFxuICAgICAgICBpZDogJy0teSdcbiAgICAgIH1dXG4gICAgfSk7IC8vIFJ1biBzY3JvbGwgb25jZS5cblxuICAgIHRoaXMuZG9tV2F0Y2hlci5ydW4oJ3Njcm9sbCcpO1xuICB9XG5cbiAgb25TY3JvbGwoKSB7XG4gICAgLy8gQ2FsY3VsYXRlICdob3cgbXVjaCcgd2UgaGF2ZSBzY3JvbGxlZCBpbnRvIHRoZSBwYXJlbnQgZWxlbWVudCBmcm9tIDAtMS5cbiAgICAvLyBPcHRpb25hbGx5IGFkZCBvZmZzZXQgdG8gdGhpcyBpZiBuZWVkZWQuXG4gICAgdGhpcy5wcm9ncmVzcyA9IF9kb20uZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjI1LCBfZWFzZS5FQVNFLkxpbmVhcik7XG4gIH0gLy8gUnVucyBldmVyeSB0aW1lIGVhc2VkIHByb2dyZXNzIGlzIHVwZGF0ZWQuXG5cblxuICBvblByb2dyZXNzVXBkYXRlKGVhc2VkUHJvZ3Jlc3MsIGRpcmVjdGlvbikge1xuICAgIHRoaXMuY3NzVmFySW50ZXJwb2xhdGUudXBkYXRlKGVhc2VkUHJvZ3Jlc3MpO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLmRvbVdhdGNoZXIuZGlzcG9zZSgpO1xuICAgIHRoaXMuZXYuZGlzcG9zZSgpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gQ3NzVmFySW50ZXJwb2xhdGVTYW1wbGUzOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/css-var-interpolate3.js\n");

/***/ }),

/***/ "./examples/dom-canvas.js":
/*!********************************!*\
  !*** ./examples/dom-canvas.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nvar _domCanvas = __webpack_require__(/*! ../lib/dom/dom-canvas */ \"./lib/dom/dom-canvas.js\");\n\nclass DomCanvasSample {\n  constructor() {\n    this.canvas = document.getElementById('canvas');\n    this.canvas.width = this.canvas.offsetWidth;\n    this.canvas.height = this.canvas.offsetHeight;\n    this.context = this.canvas.getContext('2d'); // Add some text.\n\n    _domCanvas.domCanvas.setFillColor(this.context, 'orange');\n\n    _domCanvas.domCanvas.setStrokeColor(this.context, 'orange');\n\n    _domCanvas.domCanvas.quickText(this.context, 'hello this is some text', 500, 500); // Draw quad\n\n\n    _domCanvas.domCanvas.setFillColor(this.context, 'blue');\n\n    _domCanvas.domCanvas.setStrokeColor(this.context, 'blue');\n\n    _domCanvas.domCanvas.vectorQuadrilateral(this.context, new _vector.Vector(10, 10), new _vector.Vector(100, 10), new _vector.Vector(100, 100), new _vector.Vector(10, 100));\n\n    _domCanvas.domCanvas.setFillColor(this.context, '#EFEFEF');\n\n    _domCanvas.domCanvas.setStrokeColor(this.context, '#EFEFEF');\n\n    _domCanvas.domCanvas.vectorQuadrilateral(this.context, new _vector.Vector(200, 200), new _vector.Vector(400, 200), new _vector.Vector(400, 400), new _vector.Vector(200, 400)); // Let's get the color at 205, 205.\n\n\n    let rgb = _domCanvas.domCanvas.getColorAtPointAsHex(this.context, new _vector.Vector(205, 205));\n  }\n\n}\n\nexports.default = DomCanvasSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9kb20tY2FudmFzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvZG9tLWNhbnZhcy5qcz84ZGQ0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3ZlY3RvciA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvdmVjdG9yXCIpO1xuXG52YXIgX2RvbUNhbnZhcyA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbS1jYW52YXNcIik7XG5cbmNsYXNzIERvbUNhbnZhc1NhbXBsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpO1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5jYW52YXMub2Zmc2V0V2lkdGg7XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMub2Zmc2V0SGVpZ2h0O1xuICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7IC8vIEFkZCBzb21lIHRleHQuXG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRGaWxsQ29sb3IodGhpcy5jb250ZXh0LCAnb3JhbmdlJyk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdvcmFuZ2UnKTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnF1aWNrVGV4dCh0aGlzLmNvbnRleHQsICdoZWxsbyB0aGlzIGlzIHNvbWUgdGV4dCcsIDUwMCwgNTAwKTsgLy8gRHJhdyBxdWFkXG5cblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnNldEZpbGxDb2xvcih0aGlzLmNvbnRleHQsICdibHVlJyk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdibHVlJyk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy52ZWN0b3JRdWFkcmlsYXRlcmFsKHRoaXMuY29udGV4dCwgbmV3IF92ZWN0b3IuVmVjdG9yKDEwLCAxMCksIG5ldyBfdmVjdG9yLlZlY3RvcigxMDAsIDEwKSwgbmV3IF92ZWN0b3IuVmVjdG9yKDEwMCwgMTAwKSwgbmV3IF92ZWN0b3IuVmVjdG9yKDEwLCAxMDApKTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnNldEZpbGxDb2xvcih0aGlzLmNvbnRleHQsICcjRUZFRkVGJyk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICcjRUZFRkVGJyk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy52ZWN0b3JRdWFkcmlsYXRlcmFsKHRoaXMuY29udGV4dCwgbmV3IF92ZWN0b3IuVmVjdG9yKDIwMCwgMjAwKSwgbmV3IF92ZWN0b3IuVmVjdG9yKDQwMCwgMjAwKSwgbmV3IF92ZWN0b3IuVmVjdG9yKDQwMCwgNDAwKSwgbmV3IF92ZWN0b3IuVmVjdG9yKDIwMCwgNDAwKSk7IC8vIExldCdzIGdldCB0aGUgY29sb3IgYXQgMjA1LCAyMDUuXG5cblxuICAgIGxldCByZ2IgPSBfZG9tQ2FudmFzLmRvbUNhbnZhcy5nZXRDb2xvckF0UG9pbnRBc0hleCh0aGlzLmNvbnRleHQsIG5ldyBfdmVjdG9yLlZlY3RvcigyMDUsIDIwNSkpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gRG9tQ2FudmFzU2FtcGxlOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/dom-canvas.js\n");

/***/ }),

/***/ "./examples/dom-watcher.js":
/*!*********************************!*\
  !*** ./examples/dom-watcher.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _func = __webpack_require__(/*! ../lib/func/func */ \"./lib/func/func.js\");\n\nclass DomWatcherSample {\n  constructor() {\n    console.log('this is working');\n    const watcher = new _domWatcher.DomWatcher();\n    watcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        console.log('i am scrolling', event);\n      },\n      eventOptions: {\n        passive: true\n      },\n      id: 'scrollWatch'\n    });\n    watcher.run('scrollWatch');\n    watcher.add({\n      element: window,\n      on: 'smartResize',\n      callback: event => {\n        console.log('I am smart resizing');\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Add a watcher to button1 to remove the scroll watching.\n\n    watcher.add({\n      element: document.getElementById('button1'),\n      on: 'click',\n      callback: () => {\n        console.log('you clicked button 1');\n        watcher.removeById('scrollWatch');\n      }\n    }); // Add a watcher to button2 that only works when viewport is\n    // small\n\n    watcher.add({\n      element: document.getElementById('button2'),\n      on: 'click',\n      callback: () => {\n        console.log('you clicked button 2');\n      },\n      runWhen: () => {\n        return window.innerWidth <= 800;\n      }\n    }); // A mouse move watcher.\n\n    watcher.add({\n      element: document.body,\n      on: 'mousemove',\n      callback: _func.func.debounce(event => {\n        console.log('movemove!!');\n      }, 500)\n    });\n    watcher.add({\n      element: document.getElementById('button3'),\n      on: 'click',\n      callback: () => {\n        watcher.removeAll();\n      }\n    });\n  }\n\n}\n\nexports.default = DomWatcherSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9kb20td2F0Y2hlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2RvbS13YXRjaGVyLmpzP2FjMDAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZG9tV2F0Y2hlciA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbS13YXRjaGVyXCIpO1xuXG52YXIgX2Z1bmMgPSByZXF1aXJlKFwiLi4vbGliL2Z1bmMvZnVuY1wiKTtcblxuY2xhc3MgRG9tV2F0Y2hlclNhbXBsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCd0aGlzIGlzIHdvcmtpbmcnKTtcbiAgICBjb25zdCB3YXRjaGVyID0gbmV3IF9kb21XYXRjaGVyLkRvbVdhdGNoZXIoKTtcbiAgICB3YXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Njcm9sbCcsXG4gICAgICBjYWxsYmFjazogZXZlbnQgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnaSBhbSBzY3JvbGxpbmcnLCBldmVudCk7XG4gICAgICB9LFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH0sXG4gICAgICBpZDogJ3Njcm9sbFdhdGNoJ1xuICAgIH0pO1xuICAgIHdhdGNoZXIucnVuKCdzY3JvbGxXYXRjaCcpO1xuICAgIHdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc21hcnRSZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IGV2ZW50ID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ0kgYW0gc21hcnQgcmVzaXppbmcnKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pOyAvLyBBZGQgYSB3YXRjaGVyIHRvIGJ1dHRvbjEgdG8gcmVtb3ZlIHRoZSBzY3JvbGwgd2F0Y2hpbmcuXG5cbiAgICB3YXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV0dG9uMScpLFxuICAgICAgb246ICdjbGljaycsXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygneW91IGNsaWNrZWQgYnV0dG9uIDEnKTtcbiAgICAgICAgd2F0Y2hlci5yZW1vdmVCeUlkKCdzY3JvbGxXYXRjaCcpO1xuICAgICAgfVxuICAgIH0pOyAvLyBBZGQgYSB3YXRjaGVyIHRvIGJ1dHRvbjIgdGhhdCBvbmx5IHdvcmtzIHdoZW4gdmlld3BvcnQgaXNcbiAgICAvLyBzbWFsbFxuXG4gICAgd2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1dHRvbjInKSxcbiAgICAgIG9uOiAnY2xpY2snLFxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ3lvdSBjbGlja2VkIGJ1dHRvbiAyJyk7XG4gICAgICB9LFxuICAgICAgcnVuV2hlbjogKCkgPT4ge1xuICAgICAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGggPD0gODAwO1xuICAgICAgfVxuICAgIH0pOyAvLyBBIG1vdXNlIG1vdmUgd2F0Y2hlci5cblxuICAgIHdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmJvZHksXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogX2Z1bmMuZnVuYy5kZWJvdW5jZShldmVudCA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdtb3ZlbW92ZSEhJyk7XG4gICAgICB9LCA1MDApXG4gICAgfSk7XG4gICAgd2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1dHRvbjMnKSxcbiAgICAgIG9uOiAnY2xpY2snLFxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgd2F0Y2hlci5yZW1vdmVBbGwoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IERvbVdhdGNoZXJTYW1wbGU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/dom-watcher.js\n");

/***/ }),

/***/ "./examples/easer-disable-raf.js":
/*!***************************************!*\
  !*** ./examples/easer-disable-raf.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _easer = __webpack_require__(/*! ../lib/ease/easer */ \"./lib/ease/easer.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nclass EaserDisableRafSample {\n  constructor() {\n    console.log('easer - disable raf sample');\n    const ball = document.getElementById('ball');\n    this.durationElement = document.getElementById('duration');\n    this.delayElement = document.getElementById('delay');\n    let duration = 1000;\n    let delay = 0;\n    this.durationElement.value = duration;\n    this.delayElement.value = delay; // Create easer.\n\n    const easer = new _easer.Easer({\n      duration: duration,\n      delay: delay,\n      easeFunction: _ease.EASE.easeInOutExpo,\n      disableRaf: true\n    });\n    easer.onUpdate((progression, complete) => {\n      console.log('progression', progression);\n      ball.style.transform = `translateX(${progression * 80}vw)`;\n    });\n    easer.onComplete((progression, complete) => {\n      console.log('complete', progression);\n    }); // Easer expects to be updated on each raf cycle.\n\n    this.raf = new _raf.Raf(() => {\n      easer.calculate();\n    });\n    this.raf.start(); // Start the easer on clicking the button.\n\n    document.getElementById('start').addEventListener('click', () => {\n      console.log('starting easer');\n      easer.start();\n    }); // Update\n\n    document.getElementById('update').addEventListener('click', () => {\n      console.log('updated settings');\n      easer.reset({\n        duration: +this.durationElement.value,\n        delay: +this.delayElement.value\n      });\n    });\n  }\n\n}\n\nexports.default = EaserDisableRafSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9lYXNlci1kaXNhYmxlLXJhZi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2Vhc2VyLWRpc2FibGUtcmFmLmpzPzVjYzUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX2Vhc2VyID0gcmVxdWlyZShcIi4uL2xpYi9lYXNlL2Vhc2VyXCIpO1xuXG52YXIgX2Vhc2UgPSByZXF1aXJlKFwiLi4vbGliL2Vhc2UvZWFzZVwiKTtcblxuY2xhc3MgRWFzZXJEaXNhYmxlUmFmU2FtcGxlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc29sZS5sb2coJ2Vhc2VyIC0gZGlzYWJsZSByYWYgc2FtcGxlJyk7XG4gICAgY29uc3QgYmFsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWxsJyk7XG4gICAgdGhpcy5kdXJhdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHVyYXRpb24nKTtcbiAgICB0aGlzLmRlbGF5RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZWxheScpO1xuICAgIGxldCBkdXJhdGlvbiA9IDEwMDA7XG4gICAgbGV0IGRlbGF5ID0gMDtcbiAgICB0aGlzLmR1cmF0aW9uRWxlbWVudC52YWx1ZSA9IGR1cmF0aW9uO1xuICAgIHRoaXMuZGVsYXlFbGVtZW50LnZhbHVlID0gZGVsYXk7IC8vIENyZWF0ZSBlYXNlci5cblxuICAgIGNvbnN0IGVhc2VyID0gbmV3IF9lYXNlci5FYXNlcih7XG4gICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICBkZWxheTogZGVsYXksXG4gICAgICBlYXNlRnVuY3Rpb246IF9lYXNlLkVBU0UuZWFzZUluT3V0RXhwbyxcbiAgICAgIGRpc2FibGVSYWY6IHRydWVcbiAgICB9KTtcbiAgICBlYXNlci5vblVwZGF0ZSgocHJvZ3Jlc3Npb24sIGNvbXBsZXRlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygncHJvZ3Jlc3Npb24nLCBwcm9ncmVzc2lvbik7XG4gICAgICBiYWxsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7cHJvZ3Jlc3Npb24gKiA4MH12dylgO1xuICAgIH0pO1xuICAgIGVhc2VyLm9uQ29tcGxldGUoKHByb2dyZXNzaW9uLCBjb21wbGV0ZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ2NvbXBsZXRlJywgcHJvZ3Jlc3Npb24pO1xuICAgIH0pOyAvLyBFYXNlciBleHBlY3RzIHRvIGJlIHVwZGF0ZWQgb24gZWFjaCByYWYgY3ljbGUuXG5cbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZigoKSA9PiB7XG4gICAgICBlYXNlci5jYWxjdWxhdGUoKTtcbiAgICB9KTtcbiAgICB0aGlzLnJhZi5zdGFydCgpOyAvLyBTdGFydCB0aGUgZWFzZXIgb24gY2xpY2tpbmcgdGhlIGJ1dHRvbi5cblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3N0YXJ0aW5nIGVhc2VyJyk7XG4gICAgICBlYXNlci5zdGFydCgpO1xuICAgIH0pOyAvLyBVcGRhdGVcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGRhdGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCd1cGRhdGVkIHNldHRpbmdzJyk7XG4gICAgICBlYXNlci5yZXNldCh7XG4gICAgICAgIGR1cmF0aW9uOiArdGhpcy5kdXJhdGlvbkVsZW1lbnQudmFsdWUsXG4gICAgICAgIGRlbGF5OiArdGhpcy5kZWxheUVsZW1lbnQudmFsdWVcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gRWFzZXJEaXNhYmxlUmFmU2FtcGxlOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/easer-disable-raf.js\n");

/***/ }),

/***/ "./examples/easer.js":
/*!***************************!*\
  !*** ./examples/easer.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _easer = __webpack_require__(/*! ../lib/ease/easer */ \"./lib/ease/easer.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nclass EaserSample {\n  constructor() {\n    console.log('easer');\n    const ball = document.getElementById('ball');\n    this.durationElement = document.getElementById('duration');\n    this.delayElement = document.getElementById('delay');\n    let duration = 1000;\n    let delay = 0;\n    this.durationElement.value = duration;\n    this.delayElement.value = delay; // Create easer.\n\n    const easer = new _easer.Easer({\n      duration: duration,\n      delay: delay,\n      easeFunction: _ease.EASE.easeInOutExpo\n    });\n    easer.onUpdate((progression, complete) => {\n      console.log('progression', progression);\n      ball.style.transform = `translateX(${progression * 80}vw)`;\n    }); // Start the easer on clicking the button.\n\n    document.getElementById('start').addEventListener('click', () => {\n      console.log('starting easer');\n      easer.start().then(() => {\n        console.log('all done');\n      });\n    }); // Update\n\n    document.getElementById('update').addEventListener('click', () => {\n      console.log('updated settings');\n      easer.reset({\n        duration: +this.durationElement.value,\n        delay: +this.delayElement.value\n      });\n    });\n  }\n\n}\n\nexports.default = EaserSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9lYXNlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2Vhc2VyLmpzPzEyMzUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZWFzZXIgPSByZXF1aXJlKFwiLi4vbGliL2Vhc2UvZWFzZXJcIik7XG5cbnZhciBfZWFzZSA9IHJlcXVpcmUoXCIuLi9saWIvZWFzZS9lYXNlXCIpO1xuXG5jbGFzcyBFYXNlclNhbXBsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdlYXNlcicpO1xuICAgIGNvbnN0IGJhbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFsbCcpO1xuICAgIHRoaXMuZHVyYXRpb25FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2R1cmF0aW9uJyk7XG4gICAgdGhpcy5kZWxheUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVsYXknKTtcbiAgICBsZXQgZHVyYXRpb24gPSAxMDAwO1xuICAgIGxldCBkZWxheSA9IDA7XG4gICAgdGhpcy5kdXJhdGlvbkVsZW1lbnQudmFsdWUgPSBkdXJhdGlvbjtcbiAgICB0aGlzLmRlbGF5RWxlbWVudC52YWx1ZSA9IGRlbGF5OyAvLyBDcmVhdGUgZWFzZXIuXG5cbiAgICBjb25zdCBlYXNlciA9IG5ldyBfZWFzZXIuRWFzZXIoe1xuICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgZGVsYXk6IGRlbGF5LFxuICAgICAgZWFzZUZ1bmN0aW9uOiBfZWFzZS5FQVNFLmVhc2VJbk91dEV4cG9cbiAgICB9KTtcbiAgICBlYXNlci5vblVwZGF0ZSgocHJvZ3Jlc3Npb24sIGNvbXBsZXRlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygncHJvZ3Jlc3Npb24nLCBwcm9ncmVzc2lvbik7XG4gICAgICBiYWxsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7cHJvZ3Jlc3Npb24gKiA4MH12dylgO1xuICAgIH0pOyAvLyBTdGFydCB0aGUgZWFzZXIgb24gY2xpY2tpbmcgdGhlIGJ1dHRvbi5cblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3N0YXJ0aW5nIGVhc2VyJyk7XG4gICAgICBlYXNlci5zdGFydCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnYWxsIGRvbmUnKTtcbiAgICAgIH0pO1xuICAgIH0pOyAvLyBVcGRhdGVcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGRhdGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCd1cGRhdGVkIHNldHRpbmdzJyk7XG4gICAgICBlYXNlci5yZXNldCh7XG4gICAgICAgIGR1cmF0aW9uOiArdGhpcy5kdXJhdGlvbkVsZW1lbnQudmFsdWUsXG4gICAgICAgIGRlbGF5OiArdGhpcy5kZWxheUVsZW1lbnQudmFsdWVcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gRWFzZXJTYW1wbGU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/easer.js\n");

/***/ }),

/***/ "./examples/glsl-playground.js":
/*!*************************************!*\
  !*** ./examples/glsl-playground.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/**\n * https://threejs.org/docs/#api/en/renderers/webgl/WebGLProgram\n * https://gist.github.com/uxder/cc02c445c2f7b4679e48e91d2920c832\n *\n * Uniforms\n * - pass data between the control program (in this case three.js) and shaders\n * - each uniform will store a common value for each vertex and pixel.\n * - we call it uniform because it indicates that the same value will be the same\n *   for each vertex and pixel.\n *\n * Note different ways to access vector uniforms\n * - u_mouse.x = u_mouse[0]\n * - u_resolution.y = u_resolution[1]\n */\n\n/*\n* Vertex Shader\n* - Vertex should set the vec4 gl_Position.\n* - Applied per vertices of the mesh geometry.\n*\n* The position needs to condiser the model view projection.\n* model - moves the vertex from local to world\n* view - moves the vertex from world space to camera\n* projection - moves the vertex clip to screen space coordinates (3d -> 2d)\n*\n* So to move the vertex, you want multiply the position vec3 by the model view projectiion\n* but since you can't multiply vec3 * mat4, convert the vec3 into a vec4 by adding a\n* w dimension as 1.0.   vec4(position, 1.0).\n*\n* In effect you are doing:\n* gl_Position = Project (mat4) * View (mat4) * Model (mat4) * vec4 (position, w)\n*\n* resulting in a default vertex shader of:\n* gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n*/\nconst vshader = `\nvoid main() {\n\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n\n  // Make each vertices position half.\n  //   gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position * 0.5, 1.0 );\n}\n`;\n/**\n *\n * Frag Shader\n * - Frag should set the gl_FragColor.\n * - gl_FragColor is type vec4 for\n * - Applied per pixel of the mesh.\n *\n * Three.js Color translates to vec3 type which we pass as a uniform u_color.\n *\n */\n\nconst fshader = `\nuniform vec3 u_color;\n\nvoid main (void)\n{\n// Green\n//   gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0);\n\n// Red\n//   gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n\n// From uniform\n  gl_FragColor = vec4(u_color, 1.0);\n\n// You can swap the rgba order if you want to green blue red alpha.\n//   gl_FragColor = vec4(u_color, 1.0).gbra;\n\n\n}\n`;\n\nclass GlslPlayground {\n  constructor() {\n    this.scene = new THREE.Scene();\n    this.clock = new THREE.Clock(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.uniforms = {\n      u_color: {\n        value: new THREE.Color(0xffff00)\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new THREE.PlaneGeometry(2, 2);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n  }\n\n  onRaf() {\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQuanM/NTg3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90aHJlZSA9IHJlcXVpcmUoXCJ0aHJlZVwiKTtcblxudmFyIFRIUkVFID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3RocmVlKTtcblxudmFyIF9yYWYgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWZcIik7XG5cbnZhciBfZG9tV2F0Y2hlciA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbS13YXRjaGVyXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8qKlxuICogaHR0cHM6Ly90aHJlZWpzLm9yZy9kb2NzLyNhcGkvZW4vcmVuZGVyZXJzL3dlYmdsL1dlYkdMUHJvZ3JhbVxuICogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vdXhkZXIvY2MwMmM0NDVjMmY3YjQ2NzllNDhlOTFkMjkyMGM4MzJcbiAqXG4gKiBVbmlmb3Jtc1xuICogLSBwYXNzIGRhdGEgYmV0d2VlbiB0aGUgY29udHJvbCBwcm9ncmFtIChpbiB0aGlzIGNhc2UgdGhyZWUuanMpIGFuZCBzaGFkZXJzXG4gKiAtIGVhY2ggdW5pZm9ybSB3aWxsIHN0b3JlIGEgY29tbW9uIHZhbHVlIGZvciBlYWNoIHZlcnRleCBhbmQgcGl4ZWwuXG4gKiAtIHdlIGNhbGwgaXQgdW5pZm9ybSBiZWNhdXNlIGl0IGluZGljYXRlcyB0aGF0IHRoZSBzYW1lIHZhbHVlIHdpbGwgYmUgdGhlIHNhbWVcbiAqICAgZm9yIGVhY2ggdmVydGV4IGFuZCBwaXhlbC5cbiAqXG4gKiBOb3RlIGRpZmZlcmVudCB3YXlzIHRvIGFjY2VzcyB2ZWN0b3IgdW5pZm9ybXNcbiAqIC0gdV9tb3VzZS54ID0gdV9tb3VzZVswXVxuICogLSB1X3Jlc29sdXRpb24ueSA9IHVfcmVzb2x1dGlvblsxXVxuICovXG5cbi8qXG4qIFZlcnRleCBTaGFkZXJcbiogLSBWZXJ0ZXggc2hvdWxkIHNldCB0aGUgdmVjNCBnbF9Qb3NpdGlvbi5cbiogLSBBcHBsaWVkIHBlciB2ZXJ0aWNlcyBvZiB0aGUgbWVzaCBnZW9tZXRyeS5cbipcbiogVGhlIHBvc2l0aW9uIG5lZWRzIHRvIGNvbmRpc2VyIHRoZSBtb2RlbCB2aWV3IHByb2plY3Rpb24uXG4qIG1vZGVsIC0gbW92ZXMgdGhlIHZlcnRleCBmcm9tIGxvY2FsIHRvIHdvcmxkXG4qIHZpZXcgLSBtb3ZlcyB0aGUgdmVydGV4IGZyb20gd29ybGQgc3BhY2UgdG8gY2FtZXJhXG4qIHByb2plY3Rpb24gLSBtb3ZlcyB0aGUgdmVydGV4IGNsaXAgdG8gc2NyZWVuIHNwYWNlIGNvb3JkaW5hdGVzICgzZCAtPiAyZClcbipcbiogU28gdG8gbW92ZSB0aGUgdmVydGV4LCB5b3Ugd2FudCBtdWx0aXBseSB0aGUgcG9zaXRpb24gdmVjMyBieSB0aGUgbW9kZWwgdmlldyBwcm9qZWN0aWlvblxuKiBidXQgc2luY2UgeW91IGNhbid0IG11bHRpcGx5IHZlYzMgKiBtYXQ0LCBjb252ZXJ0IHRoZSB2ZWMzIGludG8gYSB2ZWM0IGJ5IGFkZGluZyBhXG4qIHcgZGltZW5zaW9uIGFzIDEuMC4gICB2ZWM0KHBvc2l0aW9uLCAxLjApLlxuKlxuKiBJbiBlZmZlY3QgeW91IGFyZSBkb2luZzpcbiogZ2xfUG9zaXRpb24gPSBQcm9qZWN0IChtYXQ0KSAqIFZpZXcgKG1hdDQpICogTW9kZWwgKG1hdDQpICogdmVjNCAocG9zaXRpb24sIHcpXG4qXG4qIHJlc3VsdGluZyBpbiBhIGRlZmF1bHQgdmVydGV4IHNoYWRlciBvZjpcbiogZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld01hdHJpeCAqIG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xuKi9cbmNvbnN0IHZzaGFkZXIgPSBgXG52b2lkIG1haW4oKSB7XG5cbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld01hdHJpeCAqIG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xuXG4gIC8vIE1ha2UgZWFjaCB2ZXJ0aWNlcyBwb3NpdGlvbiBoYWxmLlxuICAvLyAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiBtb2RlbE1hdHJpeCAqIHZlYzQoIHBvc2l0aW9uICogMC41LCAxLjAgKTtcbn1cbmA7XG4vKipcbiAqXG4gKiBGcmFnIFNoYWRlclxuICogLSBGcmFnIHNob3VsZCBzZXQgdGhlIGdsX0ZyYWdDb2xvci5cbiAqIC0gZ2xfRnJhZ0NvbG9yIGlzIHR5cGUgdmVjNCBmb3JcbiAqIC0gQXBwbGllZCBwZXIgcGl4ZWwgb2YgdGhlIG1lc2guXG4gKlxuICogVGhyZWUuanMgQ29sb3IgdHJhbnNsYXRlcyB0byB2ZWMzIHR5cGUgd2hpY2ggd2UgcGFzcyBhcyBhIHVuaWZvcm0gdV9jb2xvci5cbiAqXG4gKi9cblxuY29uc3QgZnNoYWRlciA9IGBcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xuXG52b2lkIG1haW4gKHZvaWQpXG57XG4vLyBHcmVlblxuLy8gICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCwgMS4wLCAwLjAsIDEuMCk7XG5cbi8vIFJlZFxuLy8gICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCwgMC4wLCAwLjAsIDEuMCk7XG5cbi8vIEZyb20gdW5pZm9ybVxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHVfY29sb3IsIDEuMCk7XG5cbi8vIFlvdSBjYW4gc3dhcCB0aGUgcmdiYSBvcmRlciBpZiB5b3Ugd2FudCB0byBncmVlbiBibHVlIHJlZCBhbHBoYS5cbi8vICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCh1X2NvbG9yLCAxLjApLmdicmE7XG5cblxufVxuYDtcblxuY2xhc3MgR2xzbFBsYXlncm91bmQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgdGhpcy5jbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpOyAvLyAyeDJcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSgtMSwgMSwgMSwgLTEsIDAuMSwgMTApO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgX3JhZi5SYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgX2RvbVdhdGNoZXIuRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy51bmlmb3JtcyA9IHtcbiAgICAgIHVfY29sb3I6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweGZmZmYwMClcbiAgICAgIH1cbiAgICB9OyAvLyAyeDIgc28gaXQgZmlsbCB0aGUgc2NyZWVuLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIsIDIpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgb25SZXNpemUoKSB7XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBsZXQgd2lkdGgsIGhlaWdodDtcblxuICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxKSB7XG4gICAgICB3aWR0aCA9IDE7XG4gICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IGFzcGVjdFJhdGlvO1xuICAgICAgaGVpZ2h0ID0gMTtcbiAgICB9XG5cbiAgICB0aGlzLmNhbWVyYS5sZWZ0ID0gLXdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEudG9wID0gaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLmJvdHRvbSA9IC1oZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgfVxuXG4gIG9uUmFmKCkge1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdsc2xQbGF5Z3JvdW5kOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground.js\n");

/***/ }),

/***/ "./examples/glsl-playground10.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground10.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n//  // https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739068\n//\nconst vshader = `\nvarying vec3 v_position; // Declare v_position\nvoid main() {\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\n  v_position = position;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\nuniform float u_time;\n\nvarying vec3 v_position;\n\n// Determine if a particular pixel is within the boundaries of a rectangle box.\n// Returns 1.0 when point pt,  is inside a rectangle defined by size and center.\n// pt - the point to test\n// size - the size of the rect\n// center - the center of the rect\nfloat rect(vec2 pt, vec2 size, vec2 center) {\n    // We need to offset the position of the virtual box to do a hit test.\n    vec2 p = pt - center;\n    vec2 halfsize = size * 0.5; // Half the size since we just need\n\n    // Now do a hit test of this rectangle and see if pt falls within it.\n    // float horz = (v_position.x > -halfsize.x && v_position.x < halfsize.x) ?\n    float horz = step(-halfsize.x, p.x) - step(halfsize.x, p.x);\n    float vert = step(-halfsize.y, p.y) - step(halfsize.y, p.y);\n    return horz * vert;\n}\n\n//\n// A classic 2d rotation matrix.\n//\n// mat2 mat = getRotationMatrix(rotationInRadians);\n// vec2 rotatedPoint = mat * v_position.xy;\n//\n//\n// Accepts an radian angle (theta) and returns a mat2 rotation matrix.\n// s = sin(theta)\n// c = cos(theta)\n//\n// Returned mat2\n//\n//    mat2          *      vec2.xy = new rotated position\n// --        ---         ---  --\n// |   c   -s  |    *    |   x  |  = new rotated position.\n// |   s    c  |         |   y  |\n// ---       ---         --    --\n//\n//\n// For example:\n// rotation 0\n// sin(0) = 0, cos(0) = 1\n//  1   0         x      1*x + 0*x     x\n//  0   1    *    y   =  0*y + 1*y  =  y\n// rotation of zero has no effect.\n\n\n// rotation 180 degrees (3.14 radian)\n// sin(3.14) = 0, cos(3.14) = -1\n//  -1   0         x      -1*x + 0*x     -x\n//  0   -1    *    y   =  0*y + 1*-y  =  -y\n// rotation makes it 180 flipping x,y so it's correct.\n//\nmat2 getRotationMatrix(float theta) {\n    float s = sin(theta);\n    float c = cos(theta);\n    return mat2(c, -s, s, c);\n}\n\nvoid main (void)\n{\n  vec2 center = vec2(0.5, 0.0);\n\n  // Use time as the angle theta.\n  mat2 mat = getRotationMatrix(u_time);\n\n  // Transform the center v_position with the rotation matrix.\n  // We literally move/ shift the currently evaluated pixel point.\n   vec2 pt = mat * v_position.xy;\n\n  // Better version of the above which accounts for center point.\n  // To do this, we account of the center point by subtracking it from the\n  // v_position, then do the matrix tranform and then add it back.\n  //   vec2 pt = (mat * (v_position.xy - center)) + center;\n\n  // Use the new pt point to calculate to see if that point is in the\n  // considered rectangle.\n  float inRect = rect(pt.xy, vec2(0.3), center);\n\n  vec3 color = vec3(1.0, 1.0, 0.0) * inRect;\n  gl_FragColor = vec4(color, 1.0);\n\n\n\n\n\n\n}\n`;\n\nclass GlslPlayground10 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new THREE.Color(0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new THREE.PlaneGeometry(2, 2);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground10;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxMC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDEwLmpzPzFhNGMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vL1xuLy8gIC8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MDY4XG4vL1xuY29uc3QgdnNoYWRlciA9IGBcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uOyAvLyBEZWNsYXJlIHZfcG9zaXRpb25cbnZvaWQgbWFpbigpIHtcbiAgLy8gU2V0IHRoZSB1diB2YWx1ZS4gIFRocmVlLmpzIHBhc3NlcyB0aGUgdXYgdmFsdWUgYnkgZGVmYXVsdCBvZiB0aGUgY3VycmVudCB2ZXJ0aWNlcy5cbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59XG5gO1xuY29uc3QgZnNoYWRlciA9IGBcbnVuaWZvcm0gdmVjMiB1X21vdXNlO1xudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xudW5pZm9ybSBmbG9hdCB1X3RpbWU7XG5cbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xuXG4vLyBEZXRlcm1pbmUgaWYgYSBwYXJ0aWN1bGFyIHBpeGVsIGlzIHdpdGhpbiB0aGUgYm91bmRhcmllcyBvZiBhIHJlY3RhbmdsZSBib3guXG4vLyBSZXR1cm5zIDEuMCB3aGVuIHBvaW50IHB0LCAgaXMgaW5zaWRlIGEgcmVjdGFuZ2xlIGRlZmluZWQgYnkgc2l6ZSBhbmQgY2VudGVyLlxuLy8gcHQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuLy8gc2l6ZSAtIHRoZSBzaXplIG9mIHRoZSByZWN0XG4vLyBjZW50ZXIgLSB0aGUgY2VudGVyIG9mIHRoZSByZWN0XG5mbG9hdCByZWN0KHZlYzIgcHQsIHZlYzIgc2l6ZSwgdmVjMiBjZW50ZXIpIHtcbiAgICAvLyBXZSBuZWVkIHRvIG9mZnNldCB0aGUgcG9zaXRpb24gb2YgdGhlIHZpcnR1YWwgYm94IHRvIGRvIGEgaGl0IHRlc3QuXG4gICAgdmVjMiBwID0gcHQgLSBjZW50ZXI7XG4gICAgdmVjMiBoYWxmc2l6ZSA9IHNpemUgKiAwLjU7IC8vIEhhbGYgdGhlIHNpemUgc2luY2Ugd2UganVzdCBuZWVkXG5cbiAgICAvLyBOb3cgZG8gYSBoaXQgdGVzdCBvZiB0aGlzIHJlY3RhbmdsZSBhbmQgc2VlIGlmIHB0IGZhbGxzIHdpdGhpbiBpdC5cbiAgICAvLyBmbG9hdCBob3J6ID0gKHZfcG9zaXRpb24ueCA+IC1oYWxmc2l6ZS54ICYmIHZfcG9zaXRpb24ueCA8IGhhbGZzaXplLngpID9cbiAgICBmbG9hdCBob3J6ID0gc3RlcCgtaGFsZnNpemUueCwgcC54KSAtIHN0ZXAoaGFsZnNpemUueCwgcC54KTtcbiAgICBmbG9hdCB2ZXJ0ID0gc3RlcCgtaGFsZnNpemUueSwgcC55KSAtIHN0ZXAoaGFsZnNpemUueSwgcC55KTtcbiAgICByZXR1cm4gaG9yeiAqIHZlcnQ7XG59XG5cbi8vXG4vLyBBIGNsYXNzaWMgMmQgcm90YXRpb24gbWF0cml4LlxuLy9cbi8vIG1hdDIgbWF0ID0gZ2V0Um90YXRpb25NYXRyaXgocm90YXRpb25JblJhZGlhbnMpO1xuLy8gdmVjMiByb3RhdGVkUG9pbnQgPSBtYXQgKiB2X3Bvc2l0aW9uLnh5O1xuLy9cbi8vXG4vLyBBY2NlcHRzIGFuIHJhZGlhbiBhbmdsZSAodGhldGEpIGFuZCByZXR1cm5zIGEgbWF0MiByb3RhdGlvbiBtYXRyaXguXG4vLyBzID0gc2luKHRoZXRhKVxuLy8gYyA9IGNvcyh0aGV0YSlcbi8vXG4vLyBSZXR1cm5lZCBtYXQyXG4vL1xuLy8gICAgbWF0MiAgICAgICAgICAqICAgICAgdmVjMi54eSA9IG5ldyByb3RhdGVkIHBvc2l0aW9uXG4vLyAtLSAgICAgICAgLS0tICAgICAgICAgLS0tICAtLVxuLy8gfCAgIGMgICAtcyAgfCAgICAqICAgIHwgICB4ICB8ICA9IG5ldyByb3RhdGVkIHBvc2l0aW9uLlxuLy8gfCAgIHMgICAgYyAgfCAgICAgICAgIHwgICB5ICB8XG4vLyAtLS0gICAgICAgLS0tICAgICAgICAgLS0gICAgLS1cbi8vXG4vL1xuLy8gRm9yIGV4YW1wbGU6XG4vLyByb3RhdGlvbiAwXG4vLyBzaW4oMCkgPSAwLCBjb3MoMCkgPSAxXG4vLyAgMSAgIDAgICAgICAgICB4ICAgICAgMSp4ICsgMCp4ICAgICB4XG4vLyAgMCAgIDEgICAgKiAgICB5ICAgPSAgMCp5ICsgMSp5ICA9ICB5XG4vLyByb3RhdGlvbiBvZiB6ZXJvIGhhcyBubyBlZmZlY3QuXG5cblxuLy8gcm90YXRpb24gMTgwIGRlZ3JlZXMgKDMuMTQgcmFkaWFuKVxuLy8gc2luKDMuMTQpID0gMCwgY29zKDMuMTQpID0gLTFcbi8vICAtMSAgIDAgICAgICAgICB4ICAgICAgLTEqeCArIDAqeCAgICAgLXhcbi8vICAwICAgLTEgICAgKiAgICB5ICAgPSAgMCp5ICsgMSoteSAgPSAgLXlcbi8vIHJvdGF0aW9uIG1ha2VzIGl0IDE4MCBmbGlwcGluZyB4LHkgc28gaXQncyBjb3JyZWN0LlxuLy9cbm1hdDIgZ2V0Um90YXRpb25NYXRyaXgoZmxvYXQgdGhldGEpIHtcbiAgICBmbG9hdCBzID0gc2luKHRoZXRhKTtcbiAgICBmbG9hdCBjID0gY29zKHRoZXRhKTtcbiAgICByZXR1cm4gbWF0MihjLCAtcywgcywgYyk7XG59XG5cbnZvaWQgbWFpbiAodm9pZClcbntcbiAgdmVjMiBjZW50ZXIgPSB2ZWMyKDAuNSwgMC4wKTtcblxuICAvLyBVc2UgdGltZSBhcyB0aGUgYW5nbGUgdGhldGEuXG4gIG1hdDIgbWF0ID0gZ2V0Um90YXRpb25NYXRyaXgodV90aW1lKTtcblxuICAvLyBUcmFuc2Zvcm0gdGhlIGNlbnRlciB2X3Bvc2l0aW9uIHdpdGggdGhlIHJvdGF0aW9uIG1hdHJpeC5cbiAgLy8gV2UgbGl0ZXJhbGx5IG1vdmUvIHNoaWZ0IHRoZSBjdXJyZW50bHkgZXZhbHVhdGVkIHBpeGVsIHBvaW50LlxuICAgdmVjMiBwdCA9IG1hdCAqIHZfcG9zaXRpb24ueHk7XG5cbiAgLy8gQmV0dGVyIHZlcnNpb24gb2YgdGhlIGFib3ZlIHdoaWNoIGFjY291bnRzIGZvciBjZW50ZXIgcG9pbnQuXG4gIC8vIFRvIGRvIHRoaXMsIHdlIGFjY291bnQgb2YgdGhlIGNlbnRlciBwb2ludCBieSBzdWJ0cmFja2luZyBpdCBmcm9tIHRoZVxuICAvLyB2X3Bvc2l0aW9uLCB0aGVuIGRvIHRoZSBtYXRyaXggdHJhbmZvcm0gYW5kIHRoZW4gYWRkIGl0IGJhY2suXG4gIC8vICAgdmVjMiBwdCA9IChtYXQgKiAodl9wb3NpdGlvbi54eSAtIGNlbnRlcikpICsgY2VudGVyO1xuXG4gIC8vIFVzZSB0aGUgbmV3IHB0IHBvaW50IHRvIGNhbGN1bGF0ZSB0byBzZWUgaWYgdGhhdCBwb2ludCBpcyBpbiB0aGVcbiAgLy8gY29uc2lkZXJlZCByZWN0YW5nbGUuXG4gIGZsb2F0IGluUmVjdCA9IHJlY3QocHQueHksIHZlYzIoMC4zKSwgY2VudGVyKTtcblxuICB2ZWMzIGNvbG9yID0gdmVjMygxLjAsIDEuMCwgMC4wKSAqIGluUmVjdDtcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcblxuXG5cblxuXG5cbn1cbmA7XG5cbmNsYXNzIEdsc2xQbGF5Z3JvdW5kMTAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgdV9jb2xvcjoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmYwMDAwKVxuICAgICAgfSxcbiAgICAgIC8vIEZsb2F0XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgMCwwIGF0IHRvcCwgbGVmdCBhbmQgd2luZG93LmlubmVyV2lkdGggYW5kIHdpbmRvdy5pbm5lckhlaWdodCBhdCBib3R0b20gcmlnaHQuXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gVmVjMiBTY3JlZW4gcmVzb2x1dGlvblxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyAyeDIgc28gaXQgZmlsbCB0aGUgc2NyZWVuLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIsIDIpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgb25SZXNpemUoKSB7XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBsZXQgd2lkdGgsIGhlaWdodDtcblxuICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxKSB7XG4gICAgICB3aWR0aCA9IDE7XG4gICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IGFzcGVjdFJhdGlvO1xuICAgICAgaGVpZ2h0ID0gMTtcbiAgICB9XG5cbiAgICB0aGlzLmNhbWVyYS5sZWZ0ID0gLXdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEudG9wID0gaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLmJvdHRvbSA9IC1oZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS54ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgfVxuXG4gIG9uTW91c2VNb3ZlKGV2dCkge1xuICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS54ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZ0LmNsaWVudFg7XG4gICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgfVxuXG4gIG9uUmFmKGRlbHRhKSB7XG4gICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgKz0gdGhpcy5yYWYuZ2V0RGVsdGEodHJ1ZSk7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gR2xzbFBsYXlncm91bmQxMDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground10.js\n");

/***/ }),

/***/ "./examples/glsl-playground11.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground11.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n//  // https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739068\n//\nconst vshader = `\nvarying vec3 v_position; // Declare v_position\nvoid main() {\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\n  v_position = position;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\nuniform float u_time;\n\nvarying vec3 v_position;\n\n// Determine if a particular pixel is within the boundaries of a rectangle box.\n// Returns 1.0 when point pt,  is inside a rectangle defined by size and center.\n// pt - the point to test\n// anchor - the rectangle anchor point\n// size - the size of the rect\n// center - the center of the rect\nfloat rect(vec2 pt, vec2 anchor, vec2 size, vec2 center) {\n    // We need to offset the position of the virtual box to do a hit test.\n    vec2 p = pt - center;\n    vec2 halfsize = size * 0.5; // Half the size since we just need\n\n    // Now do a hit test of this rectangle and see if pt falls within it.\n    // float horz = (v_position.x > -halfsize.x && v_position.x < halfsize.x) ?\n    float horz = step(-halfsize.x - anchor.x, p.x) - step(halfsize.x - anchor.x, p.x);\n    float vert = step(-halfsize.y - anchor.y, p.y) - step(halfsize.y - anchor.y, p.y);\n    return horz * vert;\n}\n\n//\n// A classic 2d rotation matrix.\n//\n// mat2 mat = getRotationMatrix(rotationInRadians);\n// vec2 rotatedPoint = mat * v_position.xy;\n//\n//\n// Accepts an radian angle (theta) and returns a mat2 rotation matrix.\n// s = sin(theta)\n// c = cos(theta)\n//\n// Returned mat2\n//\n//    mat2          *      vec2.xy = new rotated position\n// --        ---         ---  --\n// |   c   -s  |    *    |   x  |  = new rotated position.\n// |   s    c  |         |   y  |\n// ---       ---         --    --\n//\n//\n// For example:\n// rotation 0\n// sin(0) = 0, cos(0) = 1\n//  1   0         x      1*x + 0*x     x\n//  0   1    *    y   =  0*y + 1*y  =  y\n// rotation of zero has no effect.\n\n\n// rotation 180 degrees (3.14 radian)\n// sin(3.14) = 0, cos(3.14) = -1\n//  -1   0         x      -1*x + 0*x     -x\n//  0   -1    *    y   =  0*y + 1*-y  =  -y\n// rotation makes it 180 flipping x,y so it's correct.\n//\nmat2 getRotationMatrix(float theta) {\n    float s = sin(theta);\n    float c = cos(theta);\n    return mat2(c, -s, s, c);\n}\n\n\n/**\n * Return a mat2 scale matrix.\n *\n * mat2 scaleMat = getScaleMatrix(1.5);\n * mat2 rotateMat = getRotationMatrix(rotationInRadians);\n * vec2 scaledPoint = scaleMat * v_position.xy;\n * vec2 scaledAndRotatedPoint = scaleMat * rotateMat * v_position.xy;\n *\n */\nmat2 getScaleMatrix(float scale) {\n    return mat2(scale, 0, 0, scale);\n}\n\n\nvoid main (void)\n{\n  vec2 center = vec2(0.2, 0.0);\n\n  // Use time as the angle theta.\n  mat2 rotationMatrix = getRotationMatrix(u_time);\n\n  // Create scale matrix based on time\n  mat2 scaleMatrix = getScaleMatrix(\n      ((sin(u_time) + 1.0) / 2.0) + 0.5 // Normalized sin + 0.5 offset so it ranges from 0.5 - 1.5\n   );\n\n\n  // Apply the scale + rotation matrix to the current v_position\n   vec2 pt = scaleMatrix * rotationMatrix * v_position.xy;\n\n  // Better version of the above which accounts for center point.\n  // To do this, we account of the center point by subtracking it from the\n  // v_position, then do the matrix tranform and then add it back.\n//   vec2 pt = (rotationMatrix * (v_position.xy - center)) + center;\n\n  // Use the new pt point to calculate to see if that point is in the\n  // considered rectangle.\n  float inRect = rect(pt.xy, vec2(0.15), vec2(0.3), center);\n\n  vec3 color = vec3(1.0, 1.0, 0.0) * inRect;\n  gl_FragColor = vec4(color, 1.0);\n\n\n\n\n\n\n}\n`;\n\nclass GlslPlayground10 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new THREE.Color(0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new THREE.PlaneGeometry(2, 2);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground10;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxMS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDExLmpzP2RlYzAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vL1xuLy8gIC8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MDY4XG4vL1xuY29uc3QgdnNoYWRlciA9IGBcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uOyAvLyBEZWNsYXJlIHZfcG9zaXRpb25cbnZvaWQgbWFpbigpIHtcbiAgLy8gU2V0IHRoZSB1diB2YWx1ZS4gIFRocmVlLmpzIHBhc3NlcyB0aGUgdXYgdmFsdWUgYnkgZGVmYXVsdCBvZiB0aGUgY3VycmVudCB2ZXJ0aWNlcy5cbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59XG5gO1xuY29uc3QgZnNoYWRlciA9IGBcbnVuaWZvcm0gdmVjMiB1X21vdXNlO1xudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xudW5pZm9ybSBmbG9hdCB1X3RpbWU7XG5cbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xuXG4vLyBEZXRlcm1pbmUgaWYgYSBwYXJ0aWN1bGFyIHBpeGVsIGlzIHdpdGhpbiB0aGUgYm91bmRhcmllcyBvZiBhIHJlY3RhbmdsZSBib3guXG4vLyBSZXR1cm5zIDEuMCB3aGVuIHBvaW50IHB0LCAgaXMgaW5zaWRlIGEgcmVjdGFuZ2xlIGRlZmluZWQgYnkgc2l6ZSBhbmQgY2VudGVyLlxuLy8gcHQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuLy8gYW5jaG9yIC0gdGhlIHJlY3RhbmdsZSBhbmNob3IgcG9pbnRcbi8vIHNpemUgLSB0aGUgc2l6ZSBvZiB0aGUgcmVjdFxuLy8gY2VudGVyIC0gdGhlIGNlbnRlciBvZiB0aGUgcmVjdFxuZmxvYXQgcmVjdCh2ZWMyIHB0LCB2ZWMyIGFuY2hvciwgdmVjMiBzaXplLCB2ZWMyIGNlbnRlcikge1xuICAgIC8vIFdlIG5lZWQgdG8gb2Zmc2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgdmlydHVhbCBib3ggdG8gZG8gYSBoaXQgdGVzdC5cbiAgICB2ZWMyIHAgPSBwdCAtIGNlbnRlcjtcbiAgICB2ZWMyIGhhbGZzaXplID0gc2l6ZSAqIDAuNTsgLy8gSGFsZiB0aGUgc2l6ZSBzaW5jZSB3ZSBqdXN0IG5lZWRcblxuICAgIC8vIE5vdyBkbyBhIGhpdCB0ZXN0IG9mIHRoaXMgcmVjdGFuZ2xlIGFuZCBzZWUgaWYgcHQgZmFsbHMgd2l0aGluIGl0LlxuICAgIC8vIGZsb2F0IGhvcnogPSAodl9wb3NpdGlvbi54ID4gLWhhbGZzaXplLnggJiYgdl9wb3NpdGlvbi54IDwgaGFsZnNpemUueCkgP1xuICAgIGZsb2F0IGhvcnogPSBzdGVwKC1oYWxmc2l6ZS54IC0gYW5jaG9yLngsIHAueCkgLSBzdGVwKGhhbGZzaXplLnggLSBhbmNob3IueCwgcC54KTtcbiAgICBmbG9hdCB2ZXJ0ID0gc3RlcCgtaGFsZnNpemUueSAtIGFuY2hvci55LCBwLnkpIC0gc3RlcChoYWxmc2l6ZS55IC0gYW5jaG9yLnksIHAueSk7XG4gICAgcmV0dXJuIGhvcnogKiB2ZXJ0O1xufVxuXG4vL1xuLy8gQSBjbGFzc2ljIDJkIHJvdGF0aW9uIG1hdHJpeC5cbi8vXG4vLyBtYXQyIG1hdCA9IGdldFJvdGF0aW9uTWF0cml4KHJvdGF0aW9uSW5SYWRpYW5zKTtcbi8vIHZlYzIgcm90YXRlZFBvaW50ID0gbWF0ICogdl9wb3NpdGlvbi54eTtcbi8vXG4vL1xuLy8gQWNjZXB0cyBhbiByYWRpYW4gYW5nbGUgKHRoZXRhKSBhbmQgcmV0dXJucyBhIG1hdDIgcm90YXRpb24gbWF0cml4LlxuLy8gcyA9IHNpbih0aGV0YSlcbi8vIGMgPSBjb3ModGhldGEpXG4vL1xuLy8gUmV0dXJuZWQgbWF0MlxuLy9cbi8vICAgIG1hdDIgICAgICAgICAgKiAgICAgIHZlYzIueHkgPSBuZXcgcm90YXRlZCBwb3NpdGlvblxuLy8gLS0gICAgICAgIC0tLSAgICAgICAgIC0tLSAgLS1cbi8vIHwgICBjICAgLXMgIHwgICAgKiAgICB8ICAgeCAgfCAgPSBuZXcgcm90YXRlZCBwb3NpdGlvbi5cbi8vIHwgICBzICAgIGMgIHwgICAgICAgICB8ICAgeSAgfFxuLy8gLS0tICAgICAgIC0tLSAgICAgICAgIC0tICAgIC0tXG4vL1xuLy9cbi8vIEZvciBleGFtcGxlOlxuLy8gcm90YXRpb24gMFxuLy8gc2luKDApID0gMCwgY29zKDApID0gMVxuLy8gIDEgICAwICAgICAgICAgeCAgICAgIDEqeCArIDAqeCAgICAgeFxuLy8gIDAgICAxICAgICogICAgeSAgID0gIDAqeSArIDEqeSAgPSAgeVxuLy8gcm90YXRpb24gb2YgemVybyBoYXMgbm8gZWZmZWN0LlxuXG5cbi8vIHJvdGF0aW9uIDE4MCBkZWdyZWVzICgzLjE0IHJhZGlhbilcbi8vIHNpbigzLjE0KSA9IDAsIGNvcygzLjE0KSA9IC0xXG4vLyAgLTEgICAwICAgICAgICAgeCAgICAgIC0xKnggKyAwKnggICAgIC14XG4vLyAgMCAgIC0xICAgICogICAgeSAgID0gIDAqeSArIDEqLXkgID0gIC15XG4vLyByb3RhdGlvbiBtYWtlcyBpdCAxODAgZmxpcHBpbmcgeCx5IHNvIGl0J3MgY29ycmVjdC5cbi8vXG5tYXQyIGdldFJvdGF0aW9uTWF0cml4KGZsb2F0IHRoZXRhKSB7XG4gICAgZmxvYXQgcyA9IHNpbih0aGV0YSk7XG4gICAgZmxvYXQgYyA9IGNvcyh0aGV0YSk7XG4gICAgcmV0dXJuIG1hdDIoYywgLXMsIHMsIGMpO1xufVxuXG5cbi8qKlxuICogUmV0dXJuIGEgbWF0MiBzY2FsZSBtYXRyaXguXG4gKlxuICogbWF0MiBzY2FsZU1hdCA9IGdldFNjYWxlTWF0cml4KDEuNSk7XG4gKiBtYXQyIHJvdGF0ZU1hdCA9IGdldFJvdGF0aW9uTWF0cml4KHJvdGF0aW9uSW5SYWRpYW5zKTtcbiAqIHZlYzIgc2NhbGVkUG9pbnQgPSBzY2FsZU1hdCAqIHZfcG9zaXRpb24ueHk7XG4gKiB2ZWMyIHNjYWxlZEFuZFJvdGF0ZWRQb2ludCA9IHNjYWxlTWF0ICogcm90YXRlTWF0ICogdl9wb3NpdGlvbi54eTtcbiAqXG4gKi9cbm1hdDIgZ2V0U2NhbGVNYXRyaXgoZmxvYXQgc2NhbGUpIHtcbiAgICByZXR1cm4gbWF0MihzY2FsZSwgMCwgMCwgc2NhbGUpO1xufVxuXG5cbnZvaWQgbWFpbiAodm9pZClcbntcbiAgdmVjMiBjZW50ZXIgPSB2ZWMyKDAuMiwgMC4wKTtcblxuICAvLyBVc2UgdGltZSBhcyB0aGUgYW5nbGUgdGhldGEuXG4gIG1hdDIgcm90YXRpb25NYXRyaXggPSBnZXRSb3RhdGlvbk1hdHJpeCh1X3RpbWUpO1xuXG4gIC8vIENyZWF0ZSBzY2FsZSBtYXRyaXggYmFzZWQgb24gdGltZVxuICBtYXQyIHNjYWxlTWF0cml4ID0gZ2V0U2NhbGVNYXRyaXgoXG4gICAgICAoKHNpbih1X3RpbWUpICsgMS4wKSAvIDIuMCkgKyAwLjUgLy8gTm9ybWFsaXplZCBzaW4gKyAwLjUgb2Zmc2V0IHNvIGl0IHJhbmdlcyBmcm9tIDAuNSAtIDEuNVxuICAgKTtcblxuXG4gIC8vIEFwcGx5IHRoZSBzY2FsZSArIHJvdGF0aW9uIG1hdHJpeCB0byB0aGUgY3VycmVudCB2X3Bvc2l0aW9uXG4gICB2ZWMyIHB0ID0gc2NhbGVNYXRyaXggKiByb3RhdGlvbk1hdHJpeCAqIHZfcG9zaXRpb24ueHk7XG5cbiAgLy8gQmV0dGVyIHZlcnNpb24gb2YgdGhlIGFib3ZlIHdoaWNoIGFjY291bnRzIGZvciBjZW50ZXIgcG9pbnQuXG4gIC8vIFRvIGRvIHRoaXMsIHdlIGFjY291bnQgb2YgdGhlIGNlbnRlciBwb2ludCBieSBzdWJ0cmFja2luZyBpdCBmcm9tIHRoZVxuICAvLyB2X3Bvc2l0aW9uLCB0aGVuIGRvIHRoZSBtYXRyaXggdHJhbmZvcm0gYW5kIHRoZW4gYWRkIGl0IGJhY2suXG4vLyAgIHZlYzIgcHQgPSAocm90YXRpb25NYXRyaXggKiAodl9wb3NpdGlvbi54eSAtIGNlbnRlcikpICsgY2VudGVyO1xuXG4gIC8vIFVzZSB0aGUgbmV3IHB0IHBvaW50IHRvIGNhbGN1bGF0ZSB0byBzZWUgaWYgdGhhdCBwb2ludCBpcyBpbiB0aGVcbiAgLy8gY29uc2lkZXJlZCByZWN0YW5nbGUuXG4gIGZsb2F0IGluUmVjdCA9IHJlY3QocHQueHksIHZlYzIoMC4xNSksIHZlYzIoMC4zKSwgY2VudGVyKTtcblxuICB2ZWMzIGNvbG9yID0gdmVjMygxLjAsIDEuMCwgMC4wKSAqIGluUmVjdDtcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcblxuXG5cblxuXG5cbn1cbmA7XG5cbmNsYXNzIEdsc2xQbGF5Z3JvdW5kMTAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgdV9jb2xvcjoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmYwMDAwKVxuICAgICAgfSxcbiAgICAgIC8vIEZsb2F0XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgMCwwIGF0IHRvcCwgbGVmdCBhbmQgd2luZG93LmlubmVyV2lkdGggYW5kIHdpbmRvdy5pbm5lckhlaWdodCBhdCBib3R0b20gcmlnaHQuXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gVmVjMiBTY3JlZW4gcmVzb2x1dGlvblxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyAyeDIgc28gaXQgZmlsbCB0aGUgc2NyZWVuLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIsIDIpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgb25SZXNpemUoKSB7XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBsZXQgd2lkdGgsIGhlaWdodDtcblxuICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxKSB7XG4gICAgICB3aWR0aCA9IDE7XG4gICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IGFzcGVjdFJhdGlvO1xuICAgICAgaGVpZ2h0ID0gMTtcbiAgICB9XG5cbiAgICB0aGlzLmNhbWVyYS5sZWZ0ID0gLXdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEudG9wID0gaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLmJvdHRvbSA9IC1oZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS54ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgfVxuXG4gIG9uTW91c2VNb3ZlKGV2dCkge1xuICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS54ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZ0LmNsaWVudFg7XG4gICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgfVxuXG4gIG9uUmFmKGRlbHRhKSB7XG4gICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgKz0gdGhpcy5yYWYuZ2V0RGVsdGEodHJ1ZSk7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gR2xzbFBsYXlncm91bmQxMDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground11.js\n");

/***/ }),

/***/ "./examples/glsl-playground12.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground12.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n//  // https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739068\n//\nconst vshader = `\nvarying vec2 v_uv; // Declare v_uv\nvoid main() {\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\n  v_uv = uv;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\nuniform float u_time;\n\nvarying vec2 v_uv;\n\n\nfloat rect(vec2 pt, vec2 size, vec2 center) {\n    // We need to offset the position of the virtual box to do a hit test.\n    vec2 p = pt - center;\n    vec2 halfsize = size * 0.5; // Half the size since we just need\n\n    // Now do a hit test of this rectangle and see if pt falls within it.\n    // float horz = (v_position.x > -halfsize.x && v_position.x < halfsize.x) ?\n    float horz = step(-halfsize.x, p.x) - step(halfsize.x, p.x);\n    float vert = step(-halfsize.y, p.y) - step(halfsize.y, p.y);\n    return horz * vert;\n}\n\nmat2 getRotationMatrix(float theta) {\n    float s = sin(theta);\n    float c = cos(theta);\n    return mat2(c, -s, s, c);\n}\n\n\nmat2 getScaleMatrix(float scale) {\n    return mat2(scale, 0, 0, scale);\n}\n\n\n/**\n * This is an example of tiling. It works because we are working with\n * uv values from 0-1 and use fract to divide it to the screen.\n *\n */\nvoid main (void)\n{\n\n  float tilecount = 6.0;\n//   vec2 tilecount = vec2(50.0, 50.0);\n  vec2 center = vec2(0.5);\n\n  // Use time as the angle theta.\n  mat2 rotationMatrix = getRotationMatrix(u_time);\n\n  // Tiling with fract.  If tilecount is 6, if your window is square, you will\n  // get 6 rows and 6 columns.\n  //\n  // This it the same as:\n  // p.x = fract(v_uv.x * 6.0)\n  // p.y = fract(v_uv.y * 6.0)\n  //\n  // Which assigns the fraction values.\n  vec2 p = fract(v_uv * tilecount);\n\n  // Apply the scale + rotation matrix to the current v_position\n  vec2 pt = (rotationMatrix * (p - center)) + center;\n\n  float inRect = rect(pt, vec2(0.5), center);\n  vec3 color = vec3(1.0, 1.0, 0.0) * inRect;\n  gl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground10 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new THREE.Color(0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new THREE.PlaneGeometry(2, 2);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground10;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxMi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDEyLmpzPzMzZWQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vL1xuLy8gIC8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MDY4XG4vL1xuY29uc3QgdnNoYWRlciA9IGBcbnZhcnlpbmcgdmVjMiB2X3V2OyAvLyBEZWNsYXJlIHZfdXZcbnZvaWQgbWFpbigpIHtcbiAgLy8gU2V0IHRoZSB1diB2YWx1ZS4gIFRocmVlLmpzIHBhc3NlcyB0aGUgdXYgdmFsdWUgYnkgZGVmYXVsdCBvZiB0aGUgY3VycmVudCB2ZXJ0aWNlcy5cbiAgdl91diA9IHV2O1xuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59XG5gO1xuY29uc3QgZnNoYWRlciA9IGBcbnVuaWZvcm0gdmVjMiB1X21vdXNlO1xudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xudW5pZm9ybSBmbG9hdCB1X3RpbWU7XG5cbnZhcnlpbmcgdmVjMiB2X3V2O1xuXG5cbmZsb2F0IHJlY3QodmVjMiBwdCwgdmVjMiBzaXplLCB2ZWMyIGNlbnRlcikge1xuICAgIC8vIFdlIG5lZWQgdG8gb2Zmc2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgdmlydHVhbCBib3ggdG8gZG8gYSBoaXQgdGVzdC5cbiAgICB2ZWMyIHAgPSBwdCAtIGNlbnRlcjtcbiAgICB2ZWMyIGhhbGZzaXplID0gc2l6ZSAqIDAuNTsgLy8gSGFsZiB0aGUgc2l6ZSBzaW5jZSB3ZSBqdXN0IG5lZWRcblxuICAgIC8vIE5vdyBkbyBhIGhpdCB0ZXN0IG9mIHRoaXMgcmVjdGFuZ2xlIGFuZCBzZWUgaWYgcHQgZmFsbHMgd2l0aGluIGl0LlxuICAgIC8vIGZsb2F0IGhvcnogPSAodl9wb3NpdGlvbi54ID4gLWhhbGZzaXplLnggJiYgdl9wb3NpdGlvbi54IDwgaGFsZnNpemUueCkgP1xuICAgIGZsb2F0IGhvcnogPSBzdGVwKC1oYWxmc2l6ZS54LCBwLngpIC0gc3RlcChoYWxmc2l6ZS54LCBwLngpO1xuICAgIGZsb2F0IHZlcnQgPSBzdGVwKC1oYWxmc2l6ZS55LCBwLnkpIC0gc3RlcChoYWxmc2l6ZS55LCBwLnkpO1xuICAgIHJldHVybiBob3J6ICogdmVydDtcbn1cblxubWF0MiBnZXRSb3RhdGlvbk1hdHJpeChmbG9hdCB0aGV0YSkge1xuICAgIGZsb2F0IHMgPSBzaW4odGhldGEpO1xuICAgIGZsb2F0IGMgPSBjb3ModGhldGEpO1xuICAgIHJldHVybiBtYXQyKGMsIC1zLCBzLCBjKTtcbn1cblxuXG5tYXQyIGdldFNjYWxlTWF0cml4KGZsb2F0IHNjYWxlKSB7XG4gICAgcmV0dXJuIG1hdDIoc2NhbGUsIDAsIDAsIHNjYWxlKTtcbn1cblxuXG4vKipcbiAqIFRoaXMgaXMgYW4gZXhhbXBsZSBvZiB0aWxpbmcuIEl0IHdvcmtzIGJlY2F1c2Ugd2UgYXJlIHdvcmtpbmcgd2l0aFxuICogdXYgdmFsdWVzIGZyb20gMC0xIGFuZCB1c2UgZnJhY3QgdG8gZGl2aWRlIGl0IHRvIHRoZSBzY3JlZW4uXG4gKlxuICovXG52b2lkIG1haW4gKHZvaWQpXG57XG5cbiAgZmxvYXQgdGlsZWNvdW50ID0gNi4wO1xuLy8gICB2ZWMyIHRpbGVjb3VudCA9IHZlYzIoNTAuMCwgNTAuMCk7XG4gIHZlYzIgY2VudGVyID0gdmVjMigwLjUpO1xuXG4gIC8vIFVzZSB0aW1lIGFzIHRoZSBhbmdsZSB0aGV0YS5cbiAgbWF0MiByb3RhdGlvbk1hdHJpeCA9IGdldFJvdGF0aW9uTWF0cml4KHVfdGltZSk7XG5cbiAgLy8gVGlsaW5nIHdpdGggZnJhY3QuICBJZiB0aWxlY291bnQgaXMgNiwgaWYgeW91ciB3aW5kb3cgaXMgc3F1YXJlLCB5b3Ugd2lsbFxuICAvLyBnZXQgNiByb3dzIGFuZCA2IGNvbHVtbnMuXG4gIC8vXG4gIC8vIFRoaXMgaXQgdGhlIHNhbWUgYXM6XG4gIC8vIHAueCA9IGZyYWN0KHZfdXYueCAqIDYuMClcbiAgLy8gcC55ID0gZnJhY3Qodl91di55ICogNi4wKVxuICAvL1xuICAvLyBXaGljaCBhc3NpZ25zIHRoZSBmcmFjdGlvbiB2YWx1ZXMuXG4gIHZlYzIgcCA9IGZyYWN0KHZfdXYgKiB0aWxlY291bnQpO1xuXG4gIC8vIEFwcGx5IHRoZSBzY2FsZSArIHJvdGF0aW9uIG1hdHJpeCB0byB0aGUgY3VycmVudCB2X3Bvc2l0aW9uXG4gIHZlYzIgcHQgPSAocm90YXRpb25NYXRyaXggKiAocCAtIGNlbnRlcikpICsgY2VudGVyO1xuXG4gIGZsb2F0IGluUmVjdCA9IHJlY3QocHQsIHZlYzIoMC41KSwgY2VudGVyKTtcbiAgdmVjMyBjb2xvciA9IHZlYzMoMS4wLCAxLjAsIDAuMCkgKiBpblJlY3Q7XG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XG59XG5gO1xuXG5jbGFzcyBHbHNsUGxheWdyb3VuZDEwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpOyAvLyAyeDJcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSgtMSwgMSwgMSwgLTEsIDAuMSwgMTApO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgX3JhZi5SYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgX2RvbVdhdGNoZXIuRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgdGhpcy51bmlmb3JtcyA9IHtcbiAgICAgIHVfY29sb3I6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweGZmMDAwMClcbiAgICAgIH0sXG4gICAgICAvLyBGbG9hdFxuICAgICAgdV90aW1lOiB7XG4gICAgICAgIHZhbHVlOiAwLjBcbiAgICAgIH0sXG4gICAgICAvLyBWZWMyIDAsMCBhdCB0b3AsIGxlZnQgYW5kIHdpbmRvdy5pbm5lcldpZHRoIGFuZCB3aW5kb3cuaW5uZXJIZWlnaHQgYXQgYm90dG9tIHJpZ2h0LlxuICAgICAgdV9tb3VzZToge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAuMCxcbiAgICAgICAgICB5OiAwLjBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgU2NyZWVuIHJlc29sdXRpb25cbiAgICAgIHVfcmVzb2x1dGlvbjoge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTsgLy8gMngyIHNvIGl0IGZpbGwgdGhlIHNjcmVlbi5cblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgyLCAyKTtcbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXJcbiAgICB9KTsgLy8gQ3JlYXRlIG1lc2ggKGdlb20gKyBtYXRlcmlhbClcblxuICAgIHRoaXMucGxhbmUgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLnBsYW5lKTtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID0gMTtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIG9uUmVzaXplKCkge1xuICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgbGV0IHdpZHRoLCBoZWlnaHQ7XG5cbiAgICBpZiAoYXNwZWN0UmF0aW8gPj0gMSkge1xuICAgICAgd2lkdGggPSAxO1xuICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGggKiB3aWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgIGhlaWdodCA9IDE7XG4gICAgfVxuXG4gICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICB0aGlzLmNhbWVyYS5yaWdodCA9IHdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnRvcCA9IGhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIH1cblxuICBvbk1vdXNlTW92ZShldnQpIHtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS55ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZ0LmNsaWVudFk7XG4gIH1cblxuICBvblJhZihkZWx0YSkge1xuICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdsc2xQbGF5Z3JvdW5kMTA7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground12.js\n");

/***/ }),

/***/ "./examples/glsl-playground13.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground13.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n//  // https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739068\n//\nconst vshader = `\nvarying vec3 v_position; // Declare v_position\nvarying vec2 v_uv; // Declare v_position\nvoid main() {\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\n  v_position = position;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\nuniform float u_time;\n\nvarying vec3 v_position;\nvarying vec2 v_uv;\n\nfloat rect(vec2 pt, vec2 size, vec2 center) {\n    // We need to offset the position of the virtual box to do a hit test.\n    vec2 p = pt - center;\n    vec2 halfsize = size * 0.5; // Half the size since we just need\n\n    // Now do a hit test of this rectangle and see if pt falls within it.\n    // float horz = (v_position.x > -halfsize.x && v_position.x < halfsize.x) ?\n    float horz = step(-halfsize.x, p.x) - step(halfsize.x, p.x);\n    float vert = step(-halfsize.y, p.y) - step(halfsize.y, p.y);\n    return horz * vert;\n}\n\nmat2 getRotationMatrix(float theta) {\n    float s = sin(theta);\n    float c = cos(theta);\n    return mat2(c, -s, s, c);\n}\n\nmat2 getScaleMatrix(float scale) {\n    return mat2(scale, 0, 0, scale);\n}\n\n\n/**\n * Checks if a pt is withi a circle that starts from the given center and of a given\n * radius.\n */\nfloat circle(vec2 pt, vec2 center, float radius) {\n    vec2 p = pt - center;\n    return 1.0 - step(radius, length(p));\n}\n\n// Smooth step version of circle function.\nfloat circle(vec2 pt, vec2 center, float radius, bool soften) {\n    vec2 p = pt - center;\n    return 1.0 - smoothstep(radius, radius + radius, length(p));\n}\n\n// Creates a lines circle.\nfloat circle(vec2 pt, vec2 center, float radius, float line_width) {\n    vec2 p = pt - center;\n    float len = length(p);\n    float half_line_width = line_width / 2.0;\n    return step(radius-half_line_width, len) - step(radius + half_line_width, len);\n}\n\n// Creates a line circle with soft edge\nfloat circle(vec2 pt, vec2 center, float radius, float line_width, bool soften) {\n    vec2 p = pt - center;\n    float len = length(p);\n    float softenAmount = 0.5;\n    float edge = (soften) ? radius * softenAmount : 0.0;\n    float half_line_width = line_width / 2.0;\n    return smoothstep(radius - half_line_width - edge, radius - half_line_width, len) -\n        smoothstep(radius + half_line_width, radius + half_line_width + edge, len);\n}\n\n\n\nvoid main (void)\n{\n  vec2 center = vec2(0.0);\n\n  float inCircle = circle(v_position.xy, vec2(-0.5, 0.0), 0.1);\n\n  // Smooth edge with smooth step\n   float inCircle2 = circle(v_position.xy, vec2(0.0, 0.0), 0.1, true);\n\n  // Lined circle example.\n//    float inCircle3 = circle(v_position.xy, vec2(0.5, 0.0), 0.1, 0.01);\n\n  // Lined softed circle example.\n   float inCircle3 = circle(v_position.xy, vec2(0.5, 0.0), 0.1, 0.01, true);\n\n  // Combine outputs.\n  vec3 color =\n       vec3(1.0, 1.0, 0.0) * inCircle  +\n       vec3(1.0, 0.0, 0.0) * inCircle2  +\n       vec3(0.0, 0.0, 1.0) * inCircle3;\n  gl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground13 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new THREE.Color(0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new THREE.PlaneGeometry(2, 2);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground13;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxMy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDEzLmpzP2UzM2IiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vL1xuLy8gIC8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MDY4XG4vL1xuY29uc3QgdnNoYWRlciA9IGBcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uOyAvLyBEZWNsYXJlIHZfcG9zaXRpb25cbnZhcnlpbmcgdmVjMiB2X3V2OyAvLyBEZWNsYXJlIHZfcG9zaXRpb25cbnZvaWQgbWFpbigpIHtcbiAgLy8gU2V0IHRoZSB1diB2YWx1ZS4gIFRocmVlLmpzIHBhc3NlcyB0aGUgdXYgdmFsdWUgYnkgZGVmYXVsdCBvZiB0aGUgY3VycmVudCB2ZXJ0aWNlcy5cbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59XG5gO1xuY29uc3QgZnNoYWRlciA9IGBcbnVuaWZvcm0gdmVjMiB1X21vdXNlO1xudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xudW5pZm9ybSBmbG9hdCB1X3RpbWU7XG5cbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xudmFyeWluZyB2ZWMyIHZfdXY7XG5cbmZsb2F0IHJlY3QodmVjMiBwdCwgdmVjMiBzaXplLCB2ZWMyIGNlbnRlcikge1xuICAgIC8vIFdlIG5lZWQgdG8gb2Zmc2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgdmlydHVhbCBib3ggdG8gZG8gYSBoaXQgdGVzdC5cbiAgICB2ZWMyIHAgPSBwdCAtIGNlbnRlcjtcbiAgICB2ZWMyIGhhbGZzaXplID0gc2l6ZSAqIDAuNTsgLy8gSGFsZiB0aGUgc2l6ZSBzaW5jZSB3ZSBqdXN0IG5lZWRcblxuICAgIC8vIE5vdyBkbyBhIGhpdCB0ZXN0IG9mIHRoaXMgcmVjdGFuZ2xlIGFuZCBzZWUgaWYgcHQgZmFsbHMgd2l0aGluIGl0LlxuICAgIC8vIGZsb2F0IGhvcnogPSAodl9wb3NpdGlvbi54ID4gLWhhbGZzaXplLnggJiYgdl9wb3NpdGlvbi54IDwgaGFsZnNpemUueCkgP1xuICAgIGZsb2F0IGhvcnogPSBzdGVwKC1oYWxmc2l6ZS54LCBwLngpIC0gc3RlcChoYWxmc2l6ZS54LCBwLngpO1xuICAgIGZsb2F0IHZlcnQgPSBzdGVwKC1oYWxmc2l6ZS55LCBwLnkpIC0gc3RlcChoYWxmc2l6ZS55LCBwLnkpO1xuICAgIHJldHVybiBob3J6ICogdmVydDtcbn1cblxubWF0MiBnZXRSb3RhdGlvbk1hdHJpeChmbG9hdCB0aGV0YSkge1xuICAgIGZsb2F0IHMgPSBzaW4odGhldGEpO1xuICAgIGZsb2F0IGMgPSBjb3ModGhldGEpO1xuICAgIHJldHVybiBtYXQyKGMsIC1zLCBzLCBjKTtcbn1cblxubWF0MiBnZXRTY2FsZU1hdHJpeChmbG9hdCBzY2FsZSkge1xuICAgIHJldHVybiBtYXQyKHNjYWxlLCAwLCAwLCBzY2FsZSk7XG59XG5cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBwdCBpcyB3aXRoaSBhIGNpcmNsZSB0aGF0IHN0YXJ0cyBmcm9tIHRoZSBnaXZlbiBjZW50ZXIgYW5kIG9mIGEgZ2l2ZW5cbiAqIHJhZGl1cy5cbiAqL1xuZmxvYXQgY2lyY2xlKHZlYzIgcHQsIHZlYzIgY2VudGVyLCBmbG9hdCByYWRpdXMpIHtcbiAgICB2ZWMyIHAgPSBwdCAtIGNlbnRlcjtcbiAgICByZXR1cm4gMS4wIC0gc3RlcChyYWRpdXMsIGxlbmd0aChwKSk7XG59XG5cbi8vIFNtb290aCBzdGVwIHZlcnNpb24gb2YgY2lyY2xlIGZ1bmN0aW9uLlxuZmxvYXQgY2lyY2xlKHZlYzIgcHQsIHZlYzIgY2VudGVyLCBmbG9hdCByYWRpdXMsIGJvb2wgc29mdGVuKSB7XG4gICAgdmVjMiBwID0gcHQgLSBjZW50ZXI7XG4gICAgcmV0dXJuIDEuMCAtIHNtb290aHN0ZXAocmFkaXVzLCByYWRpdXMgKyByYWRpdXMsIGxlbmd0aChwKSk7XG59XG5cbi8vIENyZWF0ZXMgYSBsaW5lcyBjaXJjbGUuXG5mbG9hdCBjaXJjbGUodmVjMiBwdCwgdmVjMiBjZW50ZXIsIGZsb2F0IHJhZGl1cywgZmxvYXQgbGluZV93aWR0aCkge1xuICAgIHZlYzIgcCA9IHB0IC0gY2VudGVyO1xuICAgIGZsb2F0IGxlbiA9IGxlbmd0aChwKTtcbiAgICBmbG9hdCBoYWxmX2xpbmVfd2lkdGggPSBsaW5lX3dpZHRoIC8gMi4wO1xuICAgIHJldHVybiBzdGVwKHJhZGl1cy1oYWxmX2xpbmVfd2lkdGgsIGxlbikgLSBzdGVwKHJhZGl1cyArIGhhbGZfbGluZV93aWR0aCwgbGVuKTtcbn1cblxuLy8gQ3JlYXRlcyBhIGxpbmUgY2lyY2xlIHdpdGggc29mdCBlZGdlXG5mbG9hdCBjaXJjbGUodmVjMiBwdCwgdmVjMiBjZW50ZXIsIGZsb2F0IHJhZGl1cywgZmxvYXQgbGluZV93aWR0aCwgYm9vbCBzb2Z0ZW4pIHtcbiAgICB2ZWMyIHAgPSBwdCAtIGNlbnRlcjtcbiAgICBmbG9hdCBsZW4gPSBsZW5ndGgocCk7XG4gICAgZmxvYXQgc29mdGVuQW1vdW50ID0gMC41O1xuICAgIGZsb2F0IGVkZ2UgPSAoc29mdGVuKSA/IHJhZGl1cyAqIHNvZnRlbkFtb3VudCA6IDAuMDtcbiAgICBmbG9hdCBoYWxmX2xpbmVfd2lkdGggPSBsaW5lX3dpZHRoIC8gMi4wO1xuICAgIHJldHVybiBzbW9vdGhzdGVwKHJhZGl1cyAtIGhhbGZfbGluZV93aWR0aCAtIGVkZ2UsIHJhZGl1cyAtIGhhbGZfbGluZV93aWR0aCwgbGVuKSAtXG4gICAgICAgIHNtb290aHN0ZXAocmFkaXVzICsgaGFsZl9saW5lX3dpZHRoLCByYWRpdXMgKyBoYWxmX2xpbmVfd2lkdGggKyBlZGdlLCBsZW4pO1xufVxuXG5cblxudm9pZCBtYWluICh2b2lkKVxue1xuICB2ZWMyIGNlbnRlciA9IHZlYzIoMC4wKTtcblxuICBmbG9hdCBpbkNpcmNsZSA9IGNpcmNsZSh2X3Bvc2l0aW9uLnh5LCB2ZWMyKC0wLjUsIDAuMCksIDAuMSk7XG5cbiAgLy8gU21vb3RoIGVkZ2Ugd2l0aCBzbW9vdGggc3RlcFxuICAgZmxvYXQgaW5DaXJjbGUyID0gY2lyY2xlKHZfcG9zaXRpb24ueHksIHZlYzIoMC4wLCAwLjApLCAwLjEsIHRydWUpO1xuXG4gIC8vIExpbmVkIGNpcmNsZSBleGFtcGxlLlxuLy8gICAgZmxvYXQgaW5DaXJjbGUzID0gY2lyY2xlKHZfcG9zaXRpb24ueHksIHZlYzIoMC41LCAwLjApLCAwLjEsIDAuMDEpO1xuXG4gIC8vIExpbmVkIHNvZnRlZCBjaXJjbGUgZXhhbXBsZS5cbiAgIGZsb2F0IGluQ2lyY2xlMyA9IGNpcmNsZSh2X3Bvc2l0aW9uLnh5LCB2ZWMyKDAuNSwgMC4wKSwgMC4xLCAwLjAxLCB0cnVlKTtcblxuICAvLyBDb21iaW5lIG91dHB1dHMuXG4gIHZlYzMgY29sb3IgPVxuICAgICAgIHZlYzMoMS4wLCAxLjAsIDAuMCkgKiBpbkNpcmNsZSAgK1xuICAgICAgIHZlYzMoMS4wLCAwLjAsIDAuMCkgKiBpbkNpcmNsZTIgICtcbiAgICAgICB2ZWMzKDAuMCwgMC4wLCAxLjApICogaW5DaXJjbGUzO1xuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxLjApO1xufVxuYDtcblxuY2xhc3MgR2xzbFBsYXlncm91bmQxMyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTsgLy8gMngyXG5cbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoLTEsIDEsIDEsIC0xLCAwLjEsIDEwKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMucmFmID0gbmV3IF9yYWYuUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IF9kb21XYXRjaGVyLkRvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdtb3VzZW1vdmUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKVxuICAgIH0pO1xuICAgIHRoaXMudW5pZm9ybXMgPSB7XG4gICAgICB1X2NvbG9yOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHhmZjAwMDApXG4gICAgICB9LFxuICAgICAgLy8gRmxvYXRcbiAgICAgIHVfdGltZToge1xuICAgICAgICB2YWx1ZTogMC4wXG4gICAgICB9LFxuICAgICAgLy8gVmVjMiAwLDAgYXQgdG9wLCBsZWZ0IGFuZCB3aW5kb3cuaW5uZXJXaWR0aCBhbmQgd2luZG93LmlubmVySGVpZ2h0IGF0IGJvdHRvbSByaWdodC5cbiAgICAgIHVfbW91c2U6IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLjAsXG4gICAgICAgICAgeTogMC4wXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvLyBWZWMyIFNjcmVlbiByZXNvbHV0aW9uXG4gICAgICB1X3Jlc29sdXRpb246IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07IC8vIDJ4MiBzbyBpdCBmaWxsIHRoZSBzY3JlZW4uXG5cbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMiwgMik7XG4gICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICB1bmlmb3JtczogdGhpcy51bmlmb3JtcyxcbiAgICAgIHZlcnRleFNoYWRlcjogdnNoYWRlcixcbiAgICAgIGZyYWdtZW50U2hhZGVyOiBmc2hhZGVyXG4gICAgfSk7IC8vIENyZWF0ZSBtZXNoIChnZW9tICsgbWF0ZXJpYWwpXG5cbiAgICB0aGlzLnBsYW5lID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5wbGFuZSk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDE7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBvblJlc2l6ZSgpIHtcbiAgICBjb25zdCBhc3BlY3RSYXRpbyA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGxldCB3aWR0aCwgaGVpZ2h0O1xuXG4gICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgIHdpZHRoID0gMTtcbiAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAvIHdpbmRvdy5pbm5lcldpZHRoICogd2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpZHRoID0gYXNwZWN0UmF0aW87XG4gICAgICBoZWlnaHQgPSAxO1xuICAgIH1cblxuICAgIHRoaXMuY2FtZXJhLmxlZnQgPSAtd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEucmlnaHQgPSB3aWR0aDtcbiAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEuYm90dG9tID0gLWhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS55ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICB9XG5cbiAgb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnggPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFggOiBldnQuY2xpZW50WDtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueSA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2dC5jbGllbnRZO1xuICB9XG5cbiAgb25SYWYoZGVsdGEpIHtcbiAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSB0aGlzLnJhZi5nZXREZWx0YSh0cnVlKTtcbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBHbHNsUGxheWdyb3VuZDEzOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/glsl-playground13.js\n");

/***/ }),

/***/ "./examples/glsl-playground14.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground14.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n//  // https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739068\n//\nconst vshader = `\nvarying vec3 v_position; // Declare v_position\nvarying vec2 v_uv; // Declare v_uv\nvoid main() {\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\n  v_position = position;\n  v_uv = uv;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\nuniform float u_time;\n\nvarying vec3 v_position;\nvarying vec2 v_uv;\n\nfloat line(float a, float b, float line_width, float edge_thickness) {\n    float half_line_width = line_width * 0.5;\n    return smoothstep(\n        a - half_line_width - edge_thickness,\n        a - half_line_width,\n        b\n     ) -\n     smoothstep(\n         a + half_line_width,\n         a + half_line_width + edge_thickness,\n         b\n     );\n}\n\nvoid main (void)\n{\n  // Example 1 - v_position\n  // We get a diagnol line since we get 1.0 only where x = y.\n  vec3 color = vec3(1.0) * line(v_position.x, v_position.y, 0.01, 0.001);\n\n\n  // Example 2 - gl_Fragcoord\n  // Uses gl_Fragcoord.  This uses screen space pixel coordinates.\n  // Allows you to draw in pixels.\n//    vec3 color = vec3(1.0) * line(\n//     gl_FragCoord.x,\n//     gl_FragCoord.y,\n//     10.0,  // 10px width\n//     1.0\n//    );\n\n\n  // Example 3 - v_uv\n//    vec3 color = vec3(1.0) * line(\n//     v_uv.x,\n//     v_uv.y,\n//     0.01,\n//     0.001\n//    );\n\n\n   // Example 4 - Sin wave\n//    vec3 color = vec3(1.0) * line(\n//        v_position.y,\n//        // Force since between -0.5 and 0.5\n//        mix(-0.5, 0.5, (sin(v_position.x * 3.1415) + 1.0) / 2.0),\n//        0.05,\n//        0.002\n//    );\n\n\n  gl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground14 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new THREE.Color(0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new THREE.PlaneGeometry(2, 2);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground14;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxNC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDE0LmpzP2NiZTEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vL1xuLy8gIC8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MDY4XG4vL1xuY29uc3QgdnNoYWRlciA9IGBcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uOyAvLyBEZWNsYXJlIHZfcG9zaXRpb25cbnZhcnlpbmcgdmVjMiB2X3V2OyAvLyBEZWNsYXJlIHZfdXZcbnZvaWQgbWFpbigpIHtcbiAgLy8gU2V0IHRoZSB1diB2YWx1ZS4gIFRocmVlLmpzIHBhc3NlcyB0aGUgdXYgdmFsdWUgYnkgZGVmYXVsdCBvZiB0aGUgY3VycmVudCB2ZXJ0aWNlcy5cbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICB2X3V2ID0gdXY7XG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiBtb2RlbE1hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcbn1cbmA7XG5jb25zdCBmc2hhZGVyID0gYFxudW5pZm9ybSB2ZWMyIHVfbW91c2U7XG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xudW5pZm9ybSB2ZWMzIHVfY29sb3I7XG51bmlmb3JtIGZsb2F0IHVfdGltZTtcblxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247XG52YXJ5aW5nIHZlYzIgdl91djtcblxuZmxvYXQgbGluZShmbG9hdCBhLCBmbG9hdCBiLCBmbG9hdCBsaW5lX3dpZHRoLCBmbG9hdCBlZGdlX3RoaWNrbmVzcykge1xuICAgIGZsb2F0IGhhbGZfbGluZV93aWR0aCA9IGxpbmVfd2lkdGggKiAwLjU7XG4gICAgcmV0dXJuIHNtb290aHN0ZXAoXG4gICAgICAgIGEgLSBoYWxmX2xpbmVfd2lkdGggLSBlZGdlX3RoaWNrbmVzcyxcbiAgICAgICAgYSAtIGhhbGZfbGluZV93aWR0aCxcbiAgICAgICAgYlxuICAgICApIC1cbiAgICAgc21vb3Roc3RlcChcbiAgICAgICAgIGEgKyBoYWxmX2xpbmVfd2lkdGgsXG4gICAgICAgICBhICsgaGFsZl9saW5lX3dpZHRoICsgZWRnZV90aGlja25lc3MsXG4gICAgICAgICBiXG4gICAgICk7XG59XG5cbnZvaWQgbWFpbiAodm9pZClcbntcbiAgLy8gRXhhbXBsZSAxIC0gdl9wb3NpdGlvblxuICAvLyBXZSBnZXQgYSBkaWFnbm9sIGxpbmUgc2luY2Ugd2UgZ2V0IDEuMCBvbmx5IHdoZXJlIHggPSB5LlxuICB2ZWMzIGNvbG9yID0gdmVjMygxLjApICogbGluZSh2X3Bvc2l0aW9uLngsIHZfcG9zaXRpb24ueSwgMC4wMSwgMC4wMDEpO1xuXG5cbiAgLy8gRXhhbXBsZSAyIC0gZ2xfRnJhZ2Nvb3JkXG4gIC8vIFVzZXMgZ2xfRnJhZ2Nvb3JkLiAgVGhpcyB1c2VzIHNjcmVlbiBzcGFjZSBwaXhlbCBjb29yZGluYXRlcy5cbiAgLy8gQWxsb3dzIHlvdSB0byBkcmF3IGluIHBpeGVscy5cbi8vICAgIHZlYzMgY29sb3IgPSB2ZWMzKDEuMCkgKiBsaW5lKFxuLy8gICAgIGdsX0ZyYWdDb29yZC54LFxuLy8gICAgIGdsX0ZyYWdDb29yZC55LFxuLy8gICAgIDEwLjAsICAvLyAxMHB4IHdpZHRoXG4vLyAgICAgMS4wXG4vLyAgICApO1xuXG5cbiAgLy8gRXhhbXBsZSAzIC0gdl91dlxuLy8gICAgdmVjMyBjb2xvciA9IHZlYzMoMS4wKSAqIGxpbmUoXG4vLyAgICAgdl91di54LFxuLy8gICAgIHZfdXYueSxcbi8vICAgICAwLjAxLFxuLy8gICAgIDAuMDAxXG4vLyAgICApO1xuXG5cbiAgIC8vIEV4YW1wbGUgNCAtIFNpbiB3YXZlXG4vLyAgICB2ZWMzIGNvbG9yID0gdmVjMygxLjApICogbGluZShcbi8vICAgICAgICB2X3Bvc2l0aW9uLnksXG4vLyAgICAgICAgLy8gRm9yY2Ugc2luY2UgYmV0d2VlbiAtMC41IGFuZCAwLjVcbi8vICAgICAgICBtaXgoLTAuNSwgMC41LCAoc2luKHZfcG9zaXRpb24ueCAqIDMuMTQxNSkgKyAxLjApIC8gMi4wKSxcbi8vICAgICAgICAwLjA1LFxuLy8gICAgICAgIDAuMDAyXG4vLyAgICApO1xuXG5cbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcbn1cbmA7XG5cbmNsYXNzIEdsc2xQbGF5Z3JvdW5kMTQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgdV9jb2xvcjoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmYwMDAwKVxuICAgICAgfSxcbiAgICAgIC8vIEZsb2F0XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgMCwwIGF0IHRvcCwgbGVmdCBhbmQgd2luZG93LmlubmVyV2lkdGggYW5kIHdpbmRvdy5pbm5lckhlaWdodCBhdCBib3R0b20gcmlnaHQuXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gVmVjMiBTY3JlZW4gcmVzb2x1dGlvblxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyAyeDIgc28gaXQgZmlsbCB0aGUgc2NyZWVuLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIsIDIpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgb25SZXNpemUoKSB7XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBsZXQgd2lkdGgsIGhlaWdodDtcblxuICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxKSB7XG4gICAgICB3aWR0aCA9IDE7XG4gICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IGFzcGVjdFJhdGlvO1xuICAgICAgaGVpZ2h0ID0gMTtcbiAgICB9XG5cbiAgICB0aGlzLmNhbWVyYS5sZWZ0ID0gLXdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEudG9wID0gaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLmJvdHRvbSA9IC1oZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS54ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgfVxuXG4gIG9uTW91c2VNb3ZlKGV2dCkge1xuICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS54ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZ0LmNsaWVudFg7XG4gICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgfVxuXG4gIG9uUmFmKGRlbHRhKSB7XG4gICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgKz0gdGhpcy5yYWYuZ2V0RGVsdGEodHJ1ZSk7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gR2xzbFBsYXlncm91bmQxNDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground14.js\n");

/***/ }),

/***/ "./examples/glsl-playground15.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground15.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739104#questions\n//\nconst vshader = `\nvarying vec3 v_position; // Declare v_position\nvarying vec2 v_uv; // Declare v_uv\nvoid main() {\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\n  v_position = position;\n  v_uv = uv;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\n#define PI 3.14159265359\n#define PI2 6.28318530718\n\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\nuniform float u_time;\n\nvarying vec3 v_position;\nvarying vec2 v_uv;\n\n\n\nfloat circle(vec2 pt, vec2 center, float radius, float line_width, float edge_thickness){\n    pt -= center;\n    float len = length(pt);\n    float result = smoothstep(radius-line_width/2.0-edge_thickness, radius-line_width/2.0, len) - smoothstep(radius + line_width/2.0, radius + line_width/2.0 + edge_thickness, len);\n\n    return result;\n  }\n\nfloat line(float a, float b, float line_width, float edge_thickness) {\n    float half_line_width = line_width * 0.5;\n    return smoothstep(\n        a - half_line_width - edge_thickness,\n        a - half_line_width,\n        b\n     ) -\n     smoothstep(\n         a + half_line_width,\n         a + half_line_width + edge_thickness,\n         b\n     );\n}\n\n/**\n * https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13944084#questions\n * Create a polygon.\n */\nfloat polygon(vec2 pt, vec2 center, float radius, int sides, float rotate, float edge_thickness){\n    pt -= center;\n\n    // Angle and radius from the current pixel\n    float theta = atan(pt.y, pt.x) + rotate;\n    float rad = PI2/float(sides);\n\n    // Shaping function that modulate the distance\n    float d = cos(floor(0.5 + theta/rad)*rad-theta)*length(pt);\n\n    return 1.0 - smoothstep(radius, radius + edge_thickness, d);\n  }\n\n\n/**\n *\n * Returns 1.0 when test point is over a sweeping line.\n * pt - test point\n * center - center point\n * radius - radius\n *\n * https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739104#questions\n * https://codepen.io/nik-lever/full/YBBjLo\n *  - green line is vector d\n *  - black line is vector p\n *  - blue line is perpendicular line p and test point.\n */\nfloat sweep(vec2 pt, vec2 center, float radius, float line_width, float edge_thickness){\n    vec2 d = pt - center;\n    float theta = u_time * 2.0;\n\n    // A vector point around circle with given radius from 0,0.\n    vec2 p = vec2(cos(theta), -sin(theta)) * radius;\n\n\n    float h = clamp( dot(d,p)/dot(p,p), 0.0, 1.0 );\n\n    //float h = dot(d,p)/dot(p,p);\n    float l = length(d - p*h);\n\n    float gradient = 0.0;\n    const float gradient_angle = PI * 0.5;\n\n    if (length(d)<radius){\n      float angle = mod(theta + atan(d.y, d.x), PI2);\n      gradient = clamp(gradient_angle - angle, 0.0, gradient_angle)/gradient_angle * 0.5;\n    }\n\n    return gradient + 1.0 - smoothstep(line_width, line_width+edge_thickness, l);\n  }\n\n\nvoid main (void)\n{\n  vec3 axis_color = vec3(0.8);\n  vec3 color = line(v_uv.y, 0.5, 0.002, 0.001) * axis_color;\n  color += line(v_uv.x, 0.5, 0.002, 0.001) * axis_color;\n\n  // Add circles\n  color += circle(v_uv, vec2(0.5), 0.3, 0.002, 0.001) * axis_color;\n  color += circle(v_uv, vec2(0.5), 0.2, 0.002, 0.001) * axis_color;\n  color += circle(v_uv, vec2(0.5), 0.1, 0.002, 0.001) * axis_color;\n\n  // Add sweeping line.\n  color += sweep(v_uv, vec2(0.5), 0.3, 0.003, 0.001) * vec3(0.1, 0.3, 0.1);\n\n  // Add triangular polygons\n  vec3 white = vec3(1.0);\n  color += polygon(\n      v_uv,\n      vec2(0.9 - sin(u_time * 3.0) * 0.05, 0.5),\n      0.005, 3, 0.0, 0.001) * white;\n  color += polygon(\n      v_uv,\n      vec2(0.1 - sin(u_time * 3.0 +PI) * 0.05, 0.5),\n      0.005, 3, PI, 0.001) * white;\n\n\n  gl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground15 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color_a: {\n        value: new THREE.Color(0xff0000)\n      },\n      u_color_b: {\n        value: new THREE.Color(0x00ffff)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new THREE.PlaneGeometry(2, 2);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf() {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground15;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxNS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDE1LmpzPzQ4OGEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vL1xuLy9cbi8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MTA0I3F1ZXN0aW9uc1xuLy9cbmNvbnN0IHZzaGFkZXIgPSBgXG52YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjsgLy8gRGVjbGFyZSB2X3Bvc2l0aW9uXG52YXJ5aW5nIHZlYzIgdl91djsgLy8gRGVjbGFyZSB2X3V2XG52b2lkIG1haW4oKSB7XG4gIC8vIFNldCB0aGUgdXYgdmFsdWUuICBUaHJlZS5qcyBwYXNzZXMgdGhlIHV2IHZhbHVlIGJ5IGRlZmF1bHQgb2YgdGhlIGN1cnJlbnQgdmVydGljZXMuXG4gIHZfcG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgdl91diA9IHV2O1xuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59XG5gO1xuY29uc3QgZnNoYWRlciA9IGBcbiNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1OVxuI2RlZmluZSBQSTIgNi4yODMxODUzMDcxOFxuXG51bmlmb3JtIHZlYzIgdV9tb3VzZTtcbnVuaWZvcm0gdmVjMiB1X3Jlc29sdXRpb247XG51bmlmb3JtIHZlYzMgdV9jb2xvcjtcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xuXG52YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjtcbnZhcnlpbmcgdmVjMiB2X3V2O1xuXG5cblxuZmxvYXQgY2lyY2xlKHZlYzIgcHQsIHZlYzIgY2VudGVyLCBmbG9hdCByYWRpdXMsIGZsb2F0IGxpbmVfd2lkdGgsIGZsb2F0IGVkZ2VfdGhpY2tuZXNzKXtcbiAgICBwdCAtPSBjZW50ZXI7XG4gICAgZmxvYXQgbGVuID0gbGVuZ3RoKHB0KTtcbiAgICBmbG9hdCByZXN1bHQgPSBzbW9vdGhzdGVwKHJhZGl1cy1saW5lX3dpZHRoLzIuMC1lZGdlX3RoaWNrbmVzcywgcmFkaXVzLWxpbmVfd2lkdGgvMi4wLCBsZW4pIC0gc21vb3Roc3RlcChyYWRpdXMgKyBsaW5lX3dpZHRoLzIuMCwgcmFkaXVzICsgbGluZV93aWR0aC8yLjAgKyBlZGdlX3RoaWNrbmVzcywgbGVuKTtcblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuZmxvYXQgbGluZShmbG9hdCBhLCBmbG9hdCBiLCBmbG9hdCBsaW5lX3dpZHRoLCBmbG9hdCBlZGdlX3RoaWNrbmVzcykge1xuICAgIGZsb2F0IGhhbGZfbGluZV93aWR0aCA9IGxpbmVfd2lkdGggKiAwLjU7XG4gICAgcmV0dXJuIHNtb290aHN0ZXAoXG4gICAgICAgIGEgLSBoYWxmX2xpbmVfd2lkdGggLSBlZGdlX3RoaWNrbmVzcyxcbiAgICAgICAgYSAtIGhhbGZfbGluZV93aWR0aCxcbiAgICAgICAgYlxuICAgICApIC1cbiAgICAgc21vb3Roc3RlcChcbiAgICAgICAgIGEgKyBoYWxmX2xpbmVfd2lkdGgsXG4gICAgICAgICBhICsgaGFsZl9saW5lX3dpZHRoICsgZWRnZV90aGlja25lc3MsXG4gICAgICAgICBiXG4gICAgICk7XG59XG5cbi8qKlxuICogaHR0cHM6Ly93d3cudWRlbXkuY29tL2NvdXJzZS9sZWFybi1nbHNsLXNoYWRlcnMtZnJvbS1zY3JhdGNoL2xlYXJuL2xlY3R1cmUvMTM5NDQwODQjcXVlc3Rpb25zXG4gKiBDcmVhdGUgYSBwb2x5Z29uLlxuICovXG5mbG9hdCBwb2x5Z29uKHZlYzIgcHQsIHZlYzIgY2VudGVyLCBmbG9hdCByYWRpdXMsIGludCBzaWRlcywgZmxvYXQgcm90YXRlLCBmbG9hdCBlZGdlX3RoaWNrbmVzcyl7XG4gICAgcHQgLT0gY2VudGVyO1xuXG4gICAgLy8gQW5nbGUgYW5kIHJhZGl1cyBmcm9tIHRoZSBjdXJyZW50IHBpeGVsXG4gICAgZmxvYXQgdGhldGEgPSBhdGFuKHB0LnksIHB0LngpICsgcm90YXRlO1xuICAgIGZsb2F0IHJhZCA9IFBJMi9mbG9hdChzaWRlcyk7XG5cbiAgICAvLyBTaGFwaW5nIGZ1bmN0aW9uIHRoYXQgbW9kdWxhdGUgdGhlIGRpc3RhbmNlXG4gICAgZmxvYXQgZCA9IGNvcyhmbG9vcigwLjUgKyB0aGV0YS9yYWQpKnJhZC10aGV0YSkqbGVuZ3RoKHB0KTtcblxuICAgIHJldHVybiAxLjAgLSBzbW9vdGhzdGVwKHJhZGl1cywgcmFkaXVzICsgZWRnZV90aGlja25lc3MsIGQpO1xuICB9XG5cblxuLyoqXG4gKlxuICogUmV0dXJucyAxLjAgd2hlbiB0ZXN0IHBvaW50IGlzIG92ZXIgYSBzd2VlcGluZyBsaW5lLlxuICogcHQgLSB0ZXN0IHBvaW50XG4gKiBjZW50ZXIgLSBjZW50ZXIgcG9pbnRcbiAqIHJhZGl1cyAtIHJhZGl1c1xuICpcbiAqIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MTA0I3F1ZXN0aW9uc1xuICogaHR0cHM6Ly9jb2RlcGVuLmlvL25pay1sZXZlci9mdWxsL1lCQmpMb1xuICogIC0gZ3JlZW4gbGluZSBpcyB2ZWN0b3IgZFxuICogIC0gYmxhY2sgbGluZSBpcyB2ZWN0b3IgcFxuICogIC0gYmx1ZSBsaW5lIGlzIHBlcnBlbmRpY3VsYXIgbGluZSBwIGFuZCB0ZXN0IHBvaW50LlxuICovXG5mbG9hdCBzd2VlcCh2ZWMyIHB0LCB2ZWMyIGNlbnRlciwgZmxvYXQgcmFkaXVzLCBmbG9hdCBsaW5lX3dpZHRoLCBmbG9hdCBlZGdlX3RoaWNrbmVzcyl7XG4gICAgdmVjMiBkID0gcHQgLSBjZW50ZXI7XG4gICAgZmxvYXQgdGhldGEgPSB1X3RpbWUgKiAyLjA7XG5cbiAgICAvLyBBIHZlY3RvciBwb2ludCBhcm91bmQgY2lyY2xlIHdpdGggZ2l2ZW4gcmFkaXVzIGZyb20gMCwwLlxuICAgIHZlYzIgcCA9IHZlYzIoY29zKHRoZXRhKSwgLXNpbih0aGV0YSkpICogcmFkaXVzO1xuXG5cbiAgICBmbG9hdCBoID0gY2xhbXAoIGRvdChkLHApL2RvdChwLHApLCAwLjAsIDEuMCApO1xuXG4gICAgLy9mbG9hdCBoID0gZG90KGQscCkvZG90KHAscCk7XG4gICAgZmxvYXQgbCA9IGxlbmd0aChkIC0gcCpoKTtcblxuICAgIGZsb2F0IGdyYWRpZW50ID0gMC4wO1xuICAgIGNvbnN0IGZsb2F0IGdyYWRpZW50X2FuZ2xlID0gUEkgKiAwLjU7XG5cbiAgICBpZiAobGVuZ3RoKGQpPHJhZGl1cyl7XG4gICAgICBmbG9hdCBhbmdsZSA9IG1vZCh0aGV0YSArIGF0YW4oZC55LCBkLngpLCBQSTIpO1xuICAgICAgZ3JhZGllbnQgPSBjbGFtcChncmFkaWVudF9hbmdsZSAtIGFuZ2xlLCAwLjAsIGdyYWRpZW50X2FuZ2xlKS9ncmFkaWVudF9hbmdsZSAqIDAuNTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ3JhZGllbnQgKyAxLjAgLSBzbW9vdGhzdGVwKGxpbmVfd2lkdGgsIGxpbmVfd2lkdGgrZWRnZV90aGlja25lc3MsIGwpO1xuICB9XG5cblxudm9pZCBtYWluICh2b2lkKVxue1xuICB2ZWMzIGF4aXNfY29sb3IgPSB2ZWMzKDAuOCk7XG4gIHZlYzMgY29sb3IgPSBsaW5lKHZfdXYueSwgMC41LCAwLjAwMiwgMC4wMDEpICogYXhpc19jb2xvcjtcbiAgY29sb3IgKz0gbGluZSh2X3V2LngsIDAuNSwgMC4wMDIsIDAuMDAxKSAqIGF4aXNfY29sb3I7XG5cbiAgLy8gQWRkIGNpcmNsZXNcbiAgY29sb3IgKz0gY2lyY2xlKHZfdXYsIHZlYzIoMC41KSwgMC4zLCAwLjAwMiwgMC4wMDEpICogYXhpc19jb2xvcjtcbiAgY29sb3IgKz0gY2lyY2xlKHZfdXYsIHZlYzIoMC41KSwgMC4yLCAwLjAwMiwgMC4wMDEpICogYXhpc19jb2xvcjtcbiAgY29sb3IgKz0gY2lyY2xlKHZfdXYsIHZlYzIoMC41KSwgMC4xLCAwLjAwMiwgMC4wMDEpICogYXhpc19jb2xvcjtcblxuICAvLyBBZGQgc3dlZXBpbmcgbGluZS5cbiAgY29sb3IgKz0gc3dlZXAodl91diwgdmVjMigwLjUpLCAwLjMsIDAuMDAzLCAwLjAwMSkgKiB2ZWMzKDAuMSwgMC4zLCAwLjEpO1xuXG4gIC8vIEFkZCB0cmlhbmd1bGFyIHBvbHlnb25zXG4gIHZlYzMgd2hpdGUgPSB2ZWMzKDEuMCk7XG4gIGNvbG9yICs9IHBvbHlnb24oXG4gICAgICB2X3V2LFxuICAgICAgdmVjMigwLjkgLSBzaW4odV90aW1lICogMy4wKSAqIDAuMDUsIDAuNSksXG4gICAgICAwLjAwNSwgMywgMC4wLCAwLjAwMSkgKiB3aGl0ZTtcbiAgY29sb3IgKz0gcG9seWdvbihcbiAgICAgIHZfdXYsXG4gICAgICB2ZWMyKDAuMSAtIHNpbih1X3RpbWUgKiAzLjAgK1BJKSAqIDAuMDUsIDAuNSksXG4gICAgICAwLjAwNSwgMywgUEksIDAuMDAxKSAqIHdoaXRlO1xuXG5cbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcbn1cbmA7XG5cbmNsYXNzIEdsc2xQbGF5Z3JvdW5kMTUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgdV9jb2xvcl9hOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHhmZjAwMDApXG4gICAgICB9LFxuICAgICAgdV9jb2xvcl9iOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHgwMGZmZmYpXG4gICAgICB9LFxuICAgICAgLy8gRmxvYXRcbiAgICAgIHVfdGltZToge1xuICAgICAgICB2YWx1ZTogMC4wXG4gICAgICB9LFxuICAgICAgLy8gVmVjMiAwLDAgYXQgdG9wLCBsZWZ0IGFuZCB3aW5kb3cuaW5uZXJXaWR0aCBhbmQgd2luZG93LmlubmVySGVpZ2h0IGF0IGJvdHRvbSByaWdodC5cbiAgICAgIHVfbW91c2U6IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLjAsXG4gICAgICAgICAgeTogMC4wXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvLyBWZWMyIFNjcmVlbiByZXNvbHV0aW9uXG4gICAgICB1X3Jlc29sdXRpb246IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07IC8vIDJ4MiBzbyBpdCBmaWxsIHRoZSBzY3JlZW4uXG5cbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMiwgMik7XG4gICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICB1bmlmb3JtczogdGhpcy51bmlmb3JtcyxcbiAgICAgIHZlcnRleFNoYWRlcjogdnNoYWRlcixcbiAgICAgIGZyYWdtZW50U2hhZGVyOiBmc2hhZGVyXG4gICAgfSk7IC8vIENyZWF0ZSBtZXNoIChnZW9tICsgbWF0ZXJpYWwpXG5cbiAgICB0aGlzLnBsYW5lID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5wbGFuZSk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDE7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBvblJlc2l6ZSgpIHtcbiAgICBjb25zdCBhc3BlY3RSYXRpbyA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGxldCB3aWR0aCwgaGVpZ2h0O1xuXG4gICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgIHdpZHRoID0gMTtcbiAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAvIHdpbmRvdy5pbm5lcldpZHRoICogd2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpZHRoID0gYXNwZWN0UmF0aW87XG4gICAgICBoZWlnaHQgPSAxO1xuICAgIH1cblxuICAgIHRoaXMuY2FtZXJhLmxlZnQgPSAtd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEucmlnaHQgPSB3aWR0aDtcbiAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEuYm90dG9tID0gLWhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS55ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICB9XG5cbiAgb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnggPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFggOiBldnQuY2xpZW50WDtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueSA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2dC5jbGllbnRZO1xuICB9XG5cbiAgb25SYWYoKSB7XG4gICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgKz0gdGhpcy5yYWYuZ2V0RGVsdGEodHJ1ZSk7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gR2xzbFBsYXlncm91bmQxNTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground15.js\n");

/***/ }),

/***/ "./examples/glsl-playground16.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground16.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739138#questions/\n//\nconst vshader = `\nvarying vec3 v_position; // Declare v_position\nvarying vec2 v_uv; // Declare v_uv\nvoid main() {\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\n  v_position = position;\n  v_uv = uv;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\n#define PI 3.14159265359\n#define PI2 6.28318530718\n\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color_a;\nuniform vec3 u_color_b;\nuniform float u_time;\n\nvarying vec3 v_position;\nvarying vec2 v_uv;\n\n\n\nfloat line(float a, float b, float line_width, float edge_thickness) {\n    float half_line_width = line_width * 0.5;\n    return smoothstep(\n        a - half_line_width - edge_thickness,\n        a - half_line_width,\n        b\n     ) -\n     smoothstep(\n         a + half_line_width,\n         a + half_line_width + edge_thickness,\n         b\n     );\n}\n\n\nfloat brick(vec2 pt, float mortar_height, float edge_thickness){\n    float result = line(pt.y, 0.0, mortar_height, edge_thickness);\n    result += line(pt.y, 0.5, mortar_height, edge_thickness);\n    result += line(pt.y, 1.0, mortar_height, edge_thickness);\n\n    if(pt.y > 0.5) {\n        pt.x = fract(pt.x + 0.5);\n    }\n    result += line(pt.x, 0.5, mortar_height, edge_thickness);\n\n\n    return result;\n  }\n\nvoid main (void)\n{\n  vec2 uv = fract(v_uv*10.0);\n  vec3 white = vec3(1.0);\n  float brickLines = brick(uv, 0.05, 0.001);\n  vec3 color = mix(u_color_a, u_color_b, brickLines);\n  gl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground16 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color_a: {\n        value: new THREE.Color(0xff0000)\n      },\n      u_color_b: {\n        value: new THREE.Color(0x00ffff)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new THREE.PlaneGeometry(2, 2);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground16;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxNi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDE2LmpzPzEzNzkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vL1xuLy8gaHR0cHM6Ly93d3cudWRlbXkuY29tL2NvdXJzZS9sZWFybi1nbHNsLXNoYWRlcnMtZnJvbS1zY3JhdGNoL2xlYXJuL2xlY3R1cmUvMTM3MzkxMzgjcXVlc3Rpb25zL1xuLy9cbmNvbnN0IHZzaGFkZXIgPSBgXG52YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjsgLy8gRGVjbGFyZSB2X3Bvc2l0aW9uXG52YXJ5aW5nIHZlYzIgdl91djsgLy8gRGVjbGFyZSB2X3V2XG52b2lkIG1haW4oKSB7XG4gIC8vIFNldCB0aGUgdXYgdmFsdWUuICBUaHJlZS5qcyBwYXNzZXMgdGhlIHV2IHZhbHVlIGJ5IGRlZmF1bHQgb2YgdGhlIGN1cnJlbnQgdmVydGljZXMuXG4gIHZfcG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgdl91diA9IHV2O1xuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59XG5gO1xuY29uc3QgZnNoYWRlciA9IGBcbiNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1OVxuI2RlZmluZSBQSTIgNi4yODMxODUzMDcxOFxuXG51bmlmb3JtIHZlYzIgdV9tb3VzZTtcbnVuaWZvcm0gdmVjMiB1X3Jlc29sdXRpb247XG51bmlmb3JtIHZlYzMgdV9jb2xvcl9hO1xudW5pZm9ybSB2ZWMzIHVfY29sb3JfYjtcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xuXG52YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjtcbnZhcnlpbmcgdmVjMiB2X3V2O1xuXG5cblxuZmxvYXQgbGluZShmbG9hdCBhLCBmbG9hdCBiLCBmbG9hdCBsaW5lX3dpZHRoLCBmbG9hdCBlZGdlX3RoaWNrbmVzcykge1xuICAgIGZsb2F0IGhhbGZfbGluZV93aWR0aCA9IGxpbmVfd2lkdGggKiAwLjU7XG4gICAgcmV0dXJuIHNtb290aHN0ZXAoXG4gICAgICAgIGEgLSBoYWxmX2xpbmVfd2lkdGggLSBlZGdlX3RoaWNrbmVzcyxcbiAgICAgICAgYSAtIGhhbGZfbGluZV93aWR0aCxcbiAgICAgICAgYlxuICAgICApIC1cbiAgICAgc21vb3Roc3RlcChcbiAgICAgICAgIGEgKyBoYWxmX2xpbmVfd2lkdGgsXG4gICAgICAgICBhICsgaGFsZl9saW5lX3dpZHRoICsgZWRnZV90aGlja25lc3MsXG4gICAgICAgICBiXG4gICAgICk7XG59XG5cblxuZmxvYXQgYnJpY2sodmVjMiBwdCwgZmxvYXQgbW9ydGFyX2hlaWdodCwgZmxvYXQgZWRnZV90aGlja25lc3Mpe1xuICAgIGZsb2F0IHJlc3VsdCA9IGxpbmUocHQueSwgMC4wLCBtb3J0YXJfaGVpZ2h0LCBlZGdlX3RoaWNrbmVzcyk7XG4gICAgcmVzdWx0ICs9IGxpbmUocHQueSwgMC41LCBtb3J0YXJfaGVpZ2h0LCBlZGdlX3RoaWNrbmVzcyk7XG4gICAgcmVzdWx0ICs9IGxpbmUocHQueSwgMS4wLCBtb3J0YXJfaGVpZ2h0LCBlZGdlX3RoaWNrbmVzcyk7XG5cbiAgICBpZihwdC55ID4gMC41KSB7XG4gICAgICAgIHB0LnggPSBmcmFjdChwdC54ICsgMC41KTtcbiAgICB9XG4gICAgcmVzdWx0ICs9IGxpbmUocHQueCwgMC41LCBtb3J0YXJfaGVpZ2h0LCBlZGdlX3RoaWNrbmVzcyk7XG5cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxudm9pZCBtYWluICh2b2lkKVxue1xuICB2ZWMyIHV2ID0gZnJhY3Qodl91dioxMC4wKTtcbiAgdmVjMyB3aGl0ZSA9IHZlYzMoMS4wKTtcbiAgZmxvYXQgYnJpY2tMaW5lcyA9IGJyaWNrKHV2LCAwLjA1LCAwLjAwMSk7XG4gIHZlYzMgY29sb3IgPSBtaXgodV9jb2xvcl9hLCB1X2NvbG9yX2IsIGJyaWNrTGluZXMpO1xuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxLjApO1xufVxuYDtcblxuY2xhc3MgR2xzbFBsYXlncm91bmQxNiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTsgLy8gMngyXG5cbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoLTEsIDEsIDEsIC0xLCAwLjEsIDEwKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMucmFmID0gbmV3IF9yYWYuUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IF9kb21XYXRjaGVyLkRvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdtb3VzZW1vdmUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKVxuICAgIH0pO1xuICAgIHRoaXMudW5pZm9ybXMgPSB7XG4gICAgICB1X2NvbG9yX2E6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweGZmMDAwMClcbiAgICAgIH0sXG4gICAgICB1X2NvbG9yX2I6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweDAwZmZmZilcbiAgICAgIH0sXG4gICAgICAvLyBGbG9hdFxuICAgICAgdV90aW1lOiB7XG4gICAgICAgIHZhbHVlOiAwLjBcbiAgICAgIH0sXG4gICAgICAvLyBWZWMyIDAsMCBhdCB0b3AsIGxlZnQgYW5kIHdpbmRvdy5pbm5lcldpZHRoIGFuZCB3aW5kb3cuaW5uZXJIZWlnaHQgYXQgYm90dG9tIHJpZ2h0LlxuICAgICAgdV9tb3VzZToge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAuMCxcbiAgICAgICAgICB5OiAwLjBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgU2NyZWVuIHJlc29sdXRpb25cbiAgICAgIHVfcmVzb2x1dGlvbjoge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTsgLy8gMngyIHNvIGl0IGZpbGwgdGhlIHNjcmVlbi5cblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgyLCAyKTtcbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXJcbiAgICB9KTsgLy8gQ3JlYXRlIG1lc2ggKGdlb20gKyBtYXRlcmlhbClcblxuICAgIHRoaXMucGxhbmUgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLnBsYW5lKTtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID0gMTtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIG9uUmVzaXplKCkge1xuICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgbGV0IHdpZHRoLCBoZWlnaHQ7XG5cbiAgICBpZiAoYXNwZWN0UmF0aW8gPj0gMSkge1xuICAgICAgd2lkdGggPSAxO1xuICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGggKiB3aWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgIGhlaWdodCA9IDE7XG4gICAgfVxuXG4gICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICB0aGlzLmNhbWVyYS5yaWdodCA9IHdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnRvcCA9IGhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIH1cblxuICBvbk1vdXNlTW92ZShldnQpIHtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS55ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZ0LmNsaWVudFk7XG4gIH1cblxuICBvblJhZihkZWx0YSkge1xuICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdsc2xQbGF5Z3JvdW5kMTY7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/glsl-playground16.js\n");

/***/ }),

/***/ "./examples/glsl-playground17.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground17.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739104#questions\n// https://gist.github.com/patriciogonzalezvivo/670c22f3966e662d2f83\n//\nconst vshader = `\nvarying vec3 v_position; // Declare v_position\nvarying vec2 v_uv; // Declare v_uv\nvoid main() {\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\n  v_position = position;\n  v_uv = uv;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\n#define PI 3.14159265359\n#define PI2 6.28318530718\n\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\nuniform float u_time;\n\nvarying vec3 v_position;\nvarying vec2 v_uv;\n\n// Random with seed\nfloat random (vec2 st, float seed) {\n    const float a = 12.9898;\n    const float b = 78.233;\n    const float c = 43758.543123;\n    return fract(sin(dot(st, vec2(a, b)) + seed) * c );\n}\n\nfloat random (vec2 st) {\n    return fract(sin(dot(st, vec2(12.9898,78.233)))\n                 * 43758.5453123);\n}\nfloat noise1(vec2 p){\n\tvec2 ip = floor(p);\n\tvec2 u = fract(p);\n\tu = u*u*(3.0-2.0*u);\n\n\tfloat res = mix(\n\t\tmix(random(ip),random(ip+vec2(1.0,0.0)),u.x),\n\t\tmix(random(ip+vec2(0.0,1.0)),random(ip+vec2(1.0,1.0)),u.x),u.y);\n\treturn res*res;\n}\n\n\nfloat noise2 (vec2 st) {\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n\n    // Four corners in 2D of a tile\n    float a = random(i);\n    float b = random(i + vec2(1.0, 0.0));\n    float c = random(i + vec2(0.0, 1.0));\n    float d = random(i + vec2(1.0, 1.0));\n\n    // Smooth Interpolation\n\n    // Cubic Hermine Curve.  Same as SmoothStep()\n    vec2 u = f*f*(3.0-2.0*f);\n    // u = smoothstep(0.,1.,f);\n\n    // Mix 4 coorners percentages\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\nvoid main (void)\n{\n  vec2 st = v_uv;\n\n  // Scale the coordinate system to see\n  // some noise in action\n  vec2 pos = vec2(st*5.0);\n\n  // Use the noise function\n//   float n = noise1(pos);\n  float n = noise2(pos);\n  // Limit out noise, harden the contrast.\n//   n = smoothstep(0.4, 0.6, n);\n\n  gl_FragColor = vec4(vec3(n), 1.0);\n}\n`;\n\nclass GlslPlayground17 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color_a: {\n        value: new THREE.Color(0xff0000)\n      },\n      u_color_b: {\n        value: new THREE.Color(0x00ffff)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new THREE.PlaneGeometry(2, 2);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground17;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxNy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDE3LmpzPzE0ZjciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vL1xuLy9cbi8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MTA0I3F1ZXN0aW9uc1xuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vcGF0cmljaW9nb256YWxlenZpdm8vNjcwYzIyZjM5NjZlNjYyZDJmODNcbi8vXG5jb25zdCB2c2hhZGVyID0gYFxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247IC8vIERlY2xhcmUgdl9wb3NpdGlvblxudmFyeWluZyB2ZWMyIHZfdXY7IC8vIERlY2xhcmUgdl91dlxudm9pZCBtYWluKCkge1xuICAvLyBTZXQgdGhlIHV2IHZhbHVlLiAgVGhyZWUuanMgcGFzc2VzIHRoZSB1diB2YWx1ZSBieSBkZWZhdWx0IG9mIHRoZSBjdXJyZW50IHZlcnRpY2VzLlxuICB2X3Bvc2l0aW9uID0gcG9zaXRpb247XG4gIHZfdXYgPSB1djtcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld01hdHJpeCAqIG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xufVxuYDtcbmNvbnN0IGZzaGFkZXIgPSBgXG4jZGVmaW5lIFBJIDMuMTQxNTkyNjUzNTlcbiNkZWZpbmUgUEkyIDYuMjgzMTg1MzA3MThcblxudW5pZm9ybSB2ZWMyIHVfbW91c2U7XG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xudW5pZm9ybSB2ZWMzIHVfY29sb3I7XG51bmlmb3JtIGZsb2F0IHVfdGltZTtcblxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247XG52YXJ5aW5nIHZlYzIgdl91djtcblxuLy8gUmFuZG9tIHdpdGggc2VlZFxuZmxvYXQgcmFuZG9tICh2ZWMyIHN0LCBmbG9hdCBzZWVkKSB7XG4gICAgY29uc3QgZmxvYXQgYSA9IDEyLjk4OTg7XG4gICAgY29uc3QgZmxvYXQgYiA9IDc4LjIzMztcbiAgICBjb25zdCBmbG9hdCBjID0gNDM3NTguNTQzMTIzO1xuICAgIHJldHVybiBmcmFjdChzaW4oZG90KHN0LCB2ZWMyKGEsIGIpKSArIHNlZWQpICogYyApO1xufVxuXG5mbG9hdCByYW5kb20gKHZlYzIgc3QpIHtcbiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChzdCwgdmVjMigxMi45ODk4LDc4LjIzMykpKVxuICAgICAgICAgICAgICAgICAqIDQzNzU4LjU0NTMxMjMpO1xufVxuZmxvYXQgbm9pc2UxKHZlYzIgcCl7XG5cdHZlYzIgaXAgPSBmbG9vcihwKTtcblx0dmVjMiB1ID0gZnJhY3QocCk7XG5cdHUgPSB1KnUqKDMuMC0yLjAqdSk7XG5cblx0ZmxvYXQgcmVzID0gbWl4KFxuXHRcdG1peChyYW5kb20oaXApLHJhbmRvbShpcCt2ZWMyKDEuMCwwLjApKSx1LngpLFxuXHRcdG1peChyYW5kb20oaXArdmVjMigwLjAsMS4wKSkscmFuZG9tKGlwK3ZlYzIoMS4wLDEuMCkpLHUueCksdS55KTtcblx0cmV0dXJuIHJlcypyZXM7XG59XG5cblxuZmxvYXQgbm9pc2UyICh2ZWMyIHN0KSB7XG4gICAgdmVjMiBpID0gZmxvb3Ioc3QpO1xuICAgIHZlYzIgZiA9IGZyYWN0KHN0KTtcblxuICAgIC8vIEZvdXIgY29ybmVycyBpbiAyRCBvZiBhIHRpbGVcbiAgICBmbG9hdCBhID0gcmFuZG9tKGkpO1xuICAgIGZsb2F0IGIgPSByYW5kb20oaSArIHZlYzIoMS4wLCAwLjApKTtcbiAgICBmbG9hdCBjID0gcmFuZG9tKGkgKyB2ZWMyKDAuMCwgMS4wKSk7XG4gICAgZmxvYXQgZCA9IHJhbmRvbShpICsgdmVjMigxLjAsIDEuMCkpO1xuXG4gICAgLy8gU21vb3RoIEludGVycG9sYXRpb25cblxuICAgIC8vIEN1YmljIEhlcm1pbmUgQ3VydmUuICBTYW1lIGFzIFNtb290aFN0ZXAoKVxuICAgIHZlYzIgdSA9IGYqZiooMy4wLTIuMCpmKTtcbiAgICAvLyB1ID0gc21vb3Roc3RlcCgwLiwxLixmKTtcblxuICAgIC8vIE1peCA0IGNvb3JuZXJzIHBlcmNlbnRhZ2VzXG4gICAgcmV0dXJuIG1peChhLCBiLCB1LngpICtcbiAgICAgICAgICAgIChjIC0gYSkqIHUueSAqICgxLjAgLSB1LngpICtcbiAgICAgICAgICAgIChkIC0gYikgKiB1LnggKiB1Lnk7XG59XG5cbnZvaWQgbWFpbiAodm9pZClcbntcbiAgdmVjMiBzdCA9IHZfdXY7XG5cbiAgLy8gU2NhbGUgdGhlIGNvb3JkaW5hdGUgc3lzdGVtIHRvIHNlZVxuICAvLyBzb21lIG5vaXNlIGluIGFjdGlvblxuICB2ZWMyIHBvcyA9IHZlYzIoc3QqNS4wKTtcblxuICAvLyBVc2UgdGhlIG5vaXNlIGZ1bmN0aW9uXG4vLyAgIGZsb2F0IG4gPSBub2lzZTEocG9zKTtcbiAgZmxvYXQgbiA9IG5vaXNlMihwb3MpO1xuICAvLyBMaW1pdCBvdXQgbm9pc2UsIGhhcmRlbiB0aGUgY29udHJhc3QuXG4vLyAgIG4gPSBzbW9vdGhzdGVwKDAuNCwgMC42LCBuKTtcblxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHZlYzMobiksIDEuMCk7XG59XG5gO1xuXG5jbGFzcyBHbHNsUGxheWdyb3VuZDE3IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpOyAvLyAyeDJcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSgtMSwgMSwgMSwgLTEsIDAuMSwgMTApO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgX3JhZi5SYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgX2RvbVdhdGNoZXIuRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgdGhpcy51bmlmb3JtcyA9IHtcbiAgICAgIHVfY29sb3JfYToge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmYwMDAwKVxuICAgICAgfSxcbiAgICAgIHVfY29sb3JfYjoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4MDBmZmZmKVxuICAgICAgfSxcbiAgICAgIC8vIEZsb2F0XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgMCwwIGF0IHRvcCwgbGVmdCBhbmQgd2luZG93LmlubmVyV2lkdGggYW5kIHdpbmRvdy5pbm5lckhlaWdodCBhdCBib3R0b20gcmlnaHQuXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gVmVjMiBTY3JlZW4gcmVzb2x1dGlvblxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyAyeDIgc28gaXQgZmlsbCB0aGUgc2NyZWVuLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIsIDIpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgb25SZXNpemUoKSB7XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBsZXQgd2lkdGgsIGhlaWdodDtcblxuICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxKSB7XG4gICAgICB3aWR0aCA9IDE7XG4gICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IGFzcGVjdFJhdGlvO1xuICAgICAgaGVpZ2h0ID0gMTtcbiAgICB9XG5cbiAgICB0aGlzLmNhbWVyYS5sZWZ0ID0gLXdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEudG9wID0gaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLmJvdHRvbSA9IC1oZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS54ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgfVxuXG4gIG9uTW91c2VNb3ZlKGV2dCkge1xuICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS54ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZ0LmNsaWVudFg7XG4gICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgfVxuXG4gIG9uUmFmKGRlbHRhKSB7XG4gICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgKz0gdGhpcy5yYWYuZ2V0RGVsdGEodHJ1ZSk7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gR2xzbFBsYXlncm91bmQxNzsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground17.js\n");

/***/ }),

/***/ "./examples/glsl-playground18.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground18.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739104#questions\n// https://gist.github.com/patriciogonzalezvivo/670c22f3966e662d2f83\n//\nconst vshader = `\nvarying vec3 v_position; // Declare v_position\nvarying vec2 v_uv; // Declare v_uv\nvoid main() {\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\n  v_position = position;\n  v_uv = uv;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\n#define PI 3.14159265359\n#define PI2 6.28318530718\n\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color_a;\nuniform vec3 u_color_b;\nuniform float u_time;\n\nvarying vec3 v_position;\nvarying vec2 v_uv;\n\nfloat random (vec2 st) {\n    return fract(sin(dot(st, vec2(12.9898,78.233)))\n                 * 43758.5453123);\n}\nfloat noise (vec2 st) {\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n\n    // Four corners in 2D of a tile\n    float a = random(i);\n    float b = random(i + vec2(1.0, 0.0));\n    float c = random(i + vec2(0.0, 1.0));\n    float d = random(i + vec2(1.0, 1.0));\n\n    // Smooth Interpolation\n\n    // Cubic Hermine Curve.  Same as SmoothStep()\n    vec2 u = f*f*(3.0-2.0*f);\n    // u = smoothstep(0.,1.,f);\n\n    // Mix 4 coorners percentages\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\n\nvoid main (void)\n{\n  vec2 st = v_uv;\n\n  // Scale the coordinate system to see\n  // some noise in action\n  vec2 pos = vec2(\n      v_uv.x * 1.4 + 0.01,\n      v_uv.y - u_time * 0.69\n  );\n\n  // Use the noise function\n  float n = noise(pos * 23.0);\n  // Layer2\n  pos = vec2(fract(v_uv.x * 0.5 - 0.0333), v_uv.y * 2.0 - u_time * 0.12);\n  n+= noise(pos * 8.0);\n\n  // Layer 3\n  pos = vec2(v_uv.x * 0.94 - 0.02, v_uv.y * 3.0 - u_time * 0.61);\n  n+= noise(pos * 0.5);\n  n /= 3.0;\n\n\n  vec3 color = mix(u_color_a, u_color_b, n);\n\n  gl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground17 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color_a: {\n        value: new THREE.Color(0xff0000)\n      },\n      u_color_b: {\n        value: new THREE.Color(0x00ffff)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new THREE.PlaneGeometry(2, 2);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground17;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxOC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDE4LmpzPzc1ODYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vL1xuLy9cbi8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MTA0I3F1ZXN0aW9uc1xuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vcGF0cmljaW9nb256YWxlenZpdm8vNjcwYzIyZjM5NjZlNjYyZDJmODNcbi8vXG5jb25zdCB2c2hhZGVyID0gYFxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247IC8vIERlY2xhcmUgdl9wb3NpdGlvblxudmFyeWluZyB2ZWMyIHZfdXY7IC8vIERlY2xhcmUgdl91dlxudm9pZCBtYWluKCkge1xuICAvLyBTZXQgdGhlIHV2IHZhbHVlLiAgVGhyZWUuanMgcGFzc2VzIHRoZSB1diB2YWx1ZSBieSBkZWZhdWx0IG9mIHRoZSBjdXJyZW50IHZlcnRpY2VzLlxuICB2X3Bvc2l0aW9uID0gcG9zaXRpb247XG4gIHZfdXYgPSB1djtcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld01hdHJpeCAqIG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xufVxuYDtcbmNvbnN0IGZzaGFkZXIgPSBgXG4jZGVmaW5lIFBJIDMuMTQxNTkyNjUzNTlcbiNkZWZpbmUgUEkyIDYuMjgzMTg1MzA3MThcblxudW5pZm9ybSB2ZWMyIHVfbW91c2U7XG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xudW5pZm9ybSB2ZWMzIHVfY29sb3JfYTtcbnVuaWZvcm0gdmVjMyB1X2NvbG9yX2I7XG51bmlmb3JtIGZsb2F0IHVfdGltZTtcblxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247XG52YXJ5aW5nIHZlYzIgdl91djtcblxuZmxvYXQgcmFuZG9tICh2ZWMyIHN0KSB7XG4gICAgcmV0dXJuIGZyYWN0KHNpbihkb3Qoc3QsIHZlYzIoMTIuOTg5OCw3OC4yMzMpKSlcbiAgICAgICAgICAgICAgICAgKiA0Mzc1OC41NDUzMTIzKTtcbn1cbmZsb2F0IG5vaXNlICh2ZWMyIHN0KSB7XG4gICAgdmVjMiBpID0gZmxvb3Ioc3QpO1xuICAgIHZlYzIgZiA9IGZyYWN0KHN0KTtcblxuICAgIC8vIEZvdXIgY29ybmVycyBpbiAyRCBvZiBhIHRpbGVcbiAgICBmbG9hdCBhID0gcmFuZG9tKGkpO1xuICAgIGZsb2F0IGIgPSByYW5kb20oaSArIHZlYzIoMS4wLCAwLjApKTtcbiAgICBmbG9hdCBjID0gcmFuZG9tKGkgKyB2ZWMyKDAuMCwgMS4wKSk7XG4gICAgZmxvYXQgZCA9IHJhbmRvbShpICsgdmVjMigxLjAsIDEuMCkpO1xuXG4gICAgLy8gU21vb3RoIEludGVycG9sYXRpb25cblxuICAgIC8vIEN1YmljIEhlcm1pbmUgQ3VydmUuICBTYW1lIGFzIFNtb290aFN0ZXAoKVxuICAgIHZlYzIgdSA9IGYqZiooMy4wLTIuMCpmKTtcbiAgICAvLyB1ID0gc21vb3Roc3RlcCgwLiwxLixmKTtcblxuICAgIC8vIE1peCA0IGNvb3JuZXJzIHBlcmNlbnRhZ2VzXG4gICAgcmV0dXJuIG1peChhLCBiLCB1LngpICtcbiAgICAgICAgICAgIChjIC0gYSkqIHUueSAqICgxLjAgLSB1LngpICtcbiAgICAgICAgICAgIChkIC0gYikgKiB1LnggKiB1Lnk7XG59XG5cblxudm9pZCBtYWluICh2b2lkKVxue1xuICB2ZWMyIHN0ID0gdl91djtcblxuICAvLyBTY2FsZSB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0gdG8gc2VlXG4gIC8vIHNvbWUgbm9pc2UgaW4gYWN0aW9uXG4gIHZlYzIgcG9zID0gdmVjMihcbiAgICAgIHZfdXYueCAqIDEuNCArIDAuMDEsXG4gICAgICB2X3V2LnkgLSB1X3RpbWUgKiAwLjY5XG4gICk7XG5cbiAgLy8gVXNlIHRoZSBub2lzZSBmdW5jdGlvblxuICBmbG9hdCBuID0gbm9pc2UocG9zICogMjMuMCk7XG4gIC8vIExheWVyMlxuICBwb3MgPSB2ZWMyKGZyYWN0KHZfdXYueCAqIDAuNSAtIDAuMDMzMyksIHZfdXYueSAqIDIuMCAtIHVfdGltZSAqIDAuMTIpO1xuICBuKz0gbm9pc2UocG9zICogOC4wKTtcblxuICAvLyBMYXllciAzXG4gIHBvcyA9IHZlYzIodl91di54ICogMC45NCAtIDAuMDIsIHZfdXYueSAqIDMuMCAtIHVfdGltZSAqIDAuNjEpO1xuICBuKz0gbm9pc2UocG9zICogMC41KTtcbiAgbiAvPSAzLjA7XG5cblxuICB2ZWMzIGNvbG9yID0gbWl4KHVfY29sb3JfYSwgdV9jb2xvcl9iLCBuKTtcblxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxLjApO1xufVxuYDtcblxuY2xhc3MgR2xzbFBsYXlncm91bmQxNyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTsgLy8gMngyXG5cbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoLTEsIDEsIDEsIC0xLCAwLjEsIDEwKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMucmFmID0gbmV3IF9yYWYuUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IF9kb21XYXRjaGVyLkRvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdtb3VzZW1vdmUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKVxuICAgIH0pO1xuICAgIHRoaXMudW5pZm9ybXMgPSB7XG4gICAgICB1X2NvbG9yX2E6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweGZmMDAwMClcbiAgICAgIH0sXG4gICAgICB1X2NvbG9yX2I6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweDAwZmZmZilcbiAgICAgIH0sXG4gICAgICAvLyBGbG9hdFxuICAgICAgdV90aW1lOiB7XG4gICAgICAgIHZhbHVlOiAwLjBcbiAgICAgIH0sXG4gICAgICAvLyBWZWMyIDAsMCBhdCB0b3AsIGxlZnQgYW5kIHdpbmRvdy5pbm5lcldpZHRoIGFuZCB3aW5kb3cuaW5uZXJIZWlnaHQgYXQgYm90dG9tIHJpZ2h0LlxuICAgICAgdV9tb3VzZToge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAuMCxcbiAgICAgICAgICB5OiAwLjBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgU2NyZWVuIHJlc29sdXRpb25cbiAgICAgIHVfcmVzb2x1dGlvbjoge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTsgLy8gMngyIHNvIGl0IGZpbGwgdGhlIHNjcmVlbi5cblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgyLCAyKTtcbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXJcbiAgICB9KTsgLy8gQ3JlYXRlIG1lc2ggKGdlb20gKyBtYXRlcmlhbClcblxuICAgIHRoaXMucGxhbmUgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLnBsYW5lKTtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID0gMTtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIG9uUmVzaXplKCkge1xuICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgbGV0IHdpZHRoLCBoZWlnaHQ7XG5cbiAgICBpZiAoYXNwZWN0UmF0aW8gPj0gMSkge1xuICAgICAgd2lkdGggPSAxO1xuICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGggKiB3aWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgIGhlaWdodCA9IDE7XG4gICAgfVxuXG4gICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICB0aGlzLmNhbWVyYS5yaWdodCA9IHdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnRvcCA9IGhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIH1cblxuICBvbk1vdXNlTW92ZShldnQpIHtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS55ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZ0LmNsaWVudFk7XG4gIH1cblxuICBvblJhZihkZWx0YSkge1xuICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdsc2xQbGF5Z3JvdW5kMTc7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground18.js\n");

/***/ }),

/***/ "./examples/glsl-playground19.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground19.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _noise = __webpack_require__(/*! ../lib/shaders/three-shader-chunks/noise */ \"./lib/shaders/three-shader-chunks/noise.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739104#questions\n//\n// Import shader chunks\n(0, _noise.noise)();\nconst vshader = `\nvarying vec3 v_position;\nvarying vec2 v_uv;\nvoid main() {\n  v_position = position;\n  v_uv = uv;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\n#include <noise>\n#define PI 3.14159265359\n#define PI2 6.28318530718\n\nuniform vec3 u_LightColor;\nuniform vec3 u_DarkColor;\nuniform float u_Frequency;\nuniform float u_NoiseScale;\nuniform float u_RingScale;\nuniform float u_Contrast;\nuniform float u_time;\n\n\nvarying vec3 v_position;\nvarying vec2 v_uv;\n\n\nvoid main (void)\n{\n\n  vec3 pos = v_position;\n  pos.x += u_time;\n  pos.y += u_time;\n  float n = snoise(pos);\n  float ring = u_Contrast - fract(u_NoiseScale * n);\n  float lerp = pow(ring, u_RingScale) + n;\n  vec3 color = mix(u_DarkColor, u_LightColor, lerp);\n\n  gl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground19 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {};\n    this.uniforms.u_time = {\n      value: 0.0\n    };\n    this.uniforms.u_resolution = {\n      value: new THREE.Vector2()\n    };\n    this.uniforms.u_LightColor = {\n      value: new THREE.Color(0xbb905d)\n    };\n    this.uniforms.u_DarkColor = {\n      value: new THREE.Color(0x7d490b)\n    };\n    this.uniforms.u_Frequency = {\n      value: 20.0\n    };\n    this.uniforms.u_NoiseScale = {\n      value: 20.0\n    };\n    this.uniforms.u_RingScale = {\n      value: 0.5\n    };\n    this.uniforms.u_Contrast = {\n      value: 4.0\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new THREE.PlaneGeometry(2, 2);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {// this.uniforms.u_mouse.value.x = (evt.touches) ? evt.touches[0].clientX : evt.clientX;\n    // this.uniforms.u_mouse.value.y = (evt.touches) ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground19;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxOS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDE5LmpzPzAwNGEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxudmFyIF9ub2lzZSA9IHJlcXVpcmUoXCIuLi9saWIvc2hhZGVycy90aHJlZS1zaGFkZXItY2h1bmtzL25vaXNlXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8vXG4vL1xuLy8gaHR0cHM6Ly93d3cudWRlbXkuY29tL2NvdXJzZS9sZWFybi1nbHNsLXNoYWRlcnMtZnJvbS1zY3JhdGNoL2xlYXJuL2xlY3R1cmUvMTM3MzkxMDQjcXVlc3Rpb25zXG4vL1xuLy8gSW1wb3J0IHNoYWRlciBjaHVua3NcbigwLCBfbm9pc2Uubm9pc2UpKCk7XG5jb25zdCB2c2hhZGVyID0gYFxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247XG52YXJ5aW5nIHZlYzIgdl91djtcbnZvaWQgbWFpbigpIHtcbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICB2X3V2ID0gdXY7XG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiBtb2RlbE1hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcbn1cbmA7XG5jb25zdCBmc2hhZGVyID0gYFxuI2luY2x1ZGUgPG5vaXNlPlxuI2RlZmluZSBQSSAzLjE0MTU5MjY1MzU5XG4jZGVmaW5lIFBJMiA2LjI4MzE4NTMwNzE4XG5cbnVuaWZvcm0gdmVjMyB1X0xpZ2h0Q29sb3I7XG51bmlmb3JtIHZlYzMgdV9EYXJrQ29sb3I7XG51bmlmb3JtIGZsb2F0IHVfRnJlcXVlbmN5O1xudW5pZm9ybSBmbG9hdCB1X05vaXNlU2NhbGU7XG51bmlmb3JtIGZsb2F0IHVfUmluZ1NjYWxlO1xudW5pZm9ybSBmbG9hdCB1X0NvbnRyYXN0O1xudW5pZm9ybSBmbG9hdCB1X3RpbWU7XG5cblxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247XG52YXJ5aW5nIHZlYzIgdl91djtcblxuXG52b2lkIG1haW4gKHZvaWQpXG57XG5cbiAgdmVjMyBwb3MgPSB2X3Bvc2l0aW9uO1xuICBwb3MueCArPSB1X3RpbWU7XG4gIHBvcy55ICs9IHVfdGltZTtcbiAgZmxvYXQgbiA9IHNub2lzZShwb3MpO1xuICBmbG9hdCByaW5nID0gdV9Db250cmFzdCAtIGZyYWN0KHVfTm9pc2VTY2FsZSAqIG4pO1xuICBmbG9hdCBsZXJwID0gcG93KHJpbmcsIHVfUmluZ1NjYWxlKSArIG47XG4gIHZlYzMgY29sb3IgPSBtaXgodV9EYXJrQ29sb3IsIHVfTGlnaHRDb2xvciwgbGVycCk7XG5cbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcbn1cbmA7XG5cbmNsYXNzIEdsc2xQbGF5Z3JvdW5kMTkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge307XG4gICAgdGhpcy51bmlmb3Jtcy51X3RpbWUgPSB7XG4gICAgICB2YWx1ZTogMC4wXG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbiA9IHtcbiAgICAgIHZhbHVlOiBuZXcgVEhSRUUuVmVjdG9yMigpXG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfTGlnaHRDb2xvciA9IHtcbiAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHhiYjkwNWQpXG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfRGFya0NvbG9yID0ge1xuICAgICAgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweDdkNDkwYilcbiAgICB9O1xuICAgIHRoaXMudW5pZm9ybXMudV9GcmVxdWVuY3kgPSB7XG4gICAgICB2YWx1ZTogMjAuMFxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X05vaXNlU2NhbGUgPSB7XG4gICAgICB2YWx1ZTogMjAuMFxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X1JpbmdTY2FsZSA9IHtcbiAgICAgIHZhbHVlOiAwLjVcbiAgICB9O1xuICAgIHRoaXMudW5pZm9ybXMudV9Db250cmFzdCA9IHtcbiAgICAgIHZhbHVlOiA0LjBcbiAgICB9OyAvLyAyeDIgc28gaXQgZmlsbCB0aGUgc2NyZWVuLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIsIDIpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgb25SZXNpemUoKSB7XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBsZXQgd2lkdGgsIGhlaWdodDtcblxuICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxKSB7XG4gICAgICB3aWR0aCA9IDE7XG4gICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IGFzcGVjdFJhdGlvO1xuICAgICAgaGVpZ2h0ID0gMTtcbiAgICB9XG5cbiAgICB0aGlzLmNhbWVyYS5sZWZ0ID0gLXdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEudG9wID0gaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLmJvdHRvbSA9IC1oZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS54ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgfVxuXG4gIG9uTW91c2VNb3ZlKGV2dCkgey8vIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS54ID0gKGV2dC50b3VjaGVzKSA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFggOiBldnQuY2xpZW50WDtcbiAgICAvLyB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueSA9IChldnQudG91Y2hlcykgPyBldnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZ0LmNsaWVudFk7XG4gIH1cblxuICBvblJhZihkZWx0YSkge1xuICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdsc2xQbGF5Z3JvdW5kMTk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground19.js\n");

/***/ }),

/***/ "./examples/glsl-playground2.js":
/*!**************************************!*\
  !*** ./examples/glsl-playground2.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/**\n * https://threejs.org/docs/#api/en/renderers/webgl/WebGLProgram\n */\nconst vshader = `\nvoid main() {\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\n\nvoid main (void)\n{\n\n// Example 1\n// Get the x,y coordinates of the mouse position (0,0) at top left and (1,1)\n// and assign that.\n// Pass coordinates of normalized mouse positions as red and blue channels.\n//\n//   vec3 color = vec3(u_mouse.x / u_resolution.x, 0.0, u_mouse.y / u_resolution.y);\n//   gl_FragColor = vec4(color, 1.0);\n\n\n// Example 2\n// A simplified version of example 1.\nvec2 v = u_mouse / u_resolution;\nvec3 color = vec3(v.x, 0.0, v.y);\ngl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground2 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new THREE.Color(0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new THREE.PlaneGeometry(2, 2);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf() {\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground2;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvZ2xzbC1wbGF5Z3JvdW5kMi5qcz84ODc3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3RocmVlID0gcmVxdWlyZShcInRocmVlXCIpO1xuXG52YXIgVEhSRUUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGhyZWUpO1xuXG52YXIgX3JhZiA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZlwiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLyoqXG4gKiBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xQcm9ncmFtXG4gKi9cbmNvbnN0IHZzaGFkZXIgPSBgXG52b2lkIG1haW4oKSB7XG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiBtb2RlbE1hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcbn1cbmA7XG5jb25zdCBmc2hhZGVyID0gYFxudW5pZm9ybSB2ZWMyIHVfbW91c2U7XG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xudW5pZm9ybSB2ZWMzIHVfY29sb3I7XG5cbnZvaWQgbWFpbiAodm9pZClcbntcblxuLy8gRXhhbXBsZSAxXG4vLyBHZXQgdGhlIHgseSBjb29yZGluYXRlcyBvZiB0aGUgbW91c2UgcG9zaXRpb24gKDAsMCkgYXQgdG9wIGxlZnQgYW5kICgxLDEpXG4vLyBhbmQgYXNzaWduIHRoYXQuXG4vLyBQYXNzIGNvb3JkaW5hdGVzIG9mIG5vcm1hbGl6ZWQgbW91c2UgcG9zaXRpb25zIGFzIHJlZCBhbmQgYmx1ZSBjaGFubmVscy5cbi8vXG4vLyAgIHZlYzMgY29sb3IgPSB2ZWMzKHVfbW91c2UueCAvIHVfcmVzb2x1dGlvbi54LCAwLjAsIHVfbW91c2UueSAvIHVfcmVzb2x1dGlvbi55KTtcbi8vICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcblxuXG4vLyBFeGFtcGxlIDJcbi8vIEEgc2ltcGxpZmllZCB2ZXJzaW9uIG9mIGV4YW1wbGUgMS5cbnZlYzIgdiA9IHVfbW91c2UgLyB1X3Jlc29sdXRpb247XG52ZWMzIGNvbG9yID0gdmVjMyh2LngsIDAuMCwgdi55KTtcbmdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XG59XG5gO1xuXG5jbGFzcyBHbHNsUGxheWdyb3VuZDIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgdV9jb2xvcjoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmYwMDAwKVxuICAgICAgfSxcbiAgICAgIC8vIEZsb2F0XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgMCwwIGF0IHRvcCwgbGVmdCBhbmQgd2luZG93LmlubmVyV2lkdGggYW5kIHdpbmRvdy5pbm5lckhlaWdodCBhdCBib3R0b20gcmlnaHQuXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gVmVjMiBTY3JlZW4gcmVzb2x1dGlvblxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyAyeDIgc28gaXQgZmlsbCB0aGUgc2NyZWVuLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIsIDIpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgb25SZXNpemUoKSB7XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBsZXQgd2lkdGgsIGhlaWdodDtcblxuICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxKSB7XG4gICAgICB3aWR0aCA9IDE7XG4gICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IGFzcGVjdFJhdGlvO1xuICAgICAgaGVpZ2h0ID0gMTtcbiAgICB9XG5cbiAgICB0aGlzLmNhbWVyYS5sZWZ0ID0gLXdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEudG9wID0gaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLmJvdHRvbSA9IC1oZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS54ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgfVxuXG4gIG9uTW91c2VNb3ZlKGV2dCkge1xuICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS54ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZ0LmNsaWVudFg7XG4gICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgfVxuXG4gIG9uUmFmKCkge1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdsc2xQbGF5Z3JvdW5kMjsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground2.js\n");

/***/ }),

/***/ "./examples/glsl-playground20.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground20.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _deguMathf = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/shaders/three-shader-chunks/degu-mathf'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n//\n// Simple Image Texture.\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739104#questions\n// https://codepen.io/nik-lever/pen/wvwZwMR\n//\n// Import shader chunks\n(0, _deguMathf.deguMathf)(THREE);\nconst vshader = `\nvarying vec3 v_position;\nvarying vec2 v_uv;\nvoid main() {\n  v_position = position;\n  v_uv = uv;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\n#include <deguMathf>\n#define PI 3.14159265359\n\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\nuniform float u_time;\n\nuniform sampler2D u_texture;\n\nvarying vec3 v_position;\nvarying vec2 v_uv;\n\n\nvoid main (void)\n{\n  // Example 1.  Just diplay the image based on uv.\n    // vec2 uv = v_uv;\n  // Get the color for the current pixel location and interpolate it with v_uv.\n    // vec3 color = texture2D(u_texture, uv).rgb;\n\n  // Example 2.  Flip image.\n  // Flip it upside down\n  //   vec2 uv = vec2(v_uv.x, 1.0 - v_uv.y);\n  //   vec3 color = texture2D(u_texture, uv).rgb;\n\n  // Example 3: Rotate the image but this doesn't take care of aspect ratio\n  // so as it rotates the image might warp.\n  //   vec2 center = vec2(0.5);\n  //   vec2 uv = rotate2d(v_uv - center, 1.0) + center;\n  //   vec3 color = texture2D(u_texture, uv).rgb;\n\n  // Example 4: Rotation with image aspect.  Time is used as the angle.\n    vec2 center = vec2(0.5);\n    float imageAspect = 300.0 / 448.0;\n    vec3 backgroundColor = vec3(0.0);\n    vec3 color = deguRotate2dImage(\n        u_texture, imageAspect, v_uv, center, u_time, backgroundColor);\n\n  gl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground20 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      // Load a texture.\n      // Ends up being a sampler2D type.\n      u_texture: {\n        value: new THREE.TextureLoader().load('./public/flower.jpg')\n      },\n      u_time: {\n        value: 0.0\n      },\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // The plane size should be the same aspect ratio as the image otherwise,\n    // the image gets stretched.\n\n    this.geometry = new THREE.PlaneGeometry(0.669, 1);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground20;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyMC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDIwLmpzP2Y3NGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxudmFyIF9kZWd1TWF0aGYgPSByZXF1aXJlKFwiLi4vbGliL3NoYWRlcnMvdGhyZWUtc2hhZGVyLWNodW5rcy9kZWd1LW1hdGhmXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8vXG4vL1xuLy8gU2ltcGxlIEltYWdlIFRleHR1cmUuXG4vLyBodHRwczovL3d3dy51ZGVteS5jb20vY291cnNlL2xlYXJuLWdsc2wtc2hhZGVycy1mcm9tLXNjcmF0Y2gvbGVhcm4vbGVjdHVyZS8xMzczOTEwNCNxdWVzdGlvbnNcbi8vIGh0dHBzOi8vY29kZXBlbi5pby9uaWstbGV2ZXIvcGVuL3d2d1p3TVJcbi8vXG4vLyBJbXBvcnQgc2hhZGVyIGNodW5rc1xuKDAsIF9kZWd1TWF0aGYuZGVndU1hdGhmKShUSFJFRSk7XG5jb25zdCB2c2hhZGVyID0gYFxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247XG52YXJ5aW5nIHZlYzIgdl91djtcbnZvaWQgbWFpbigpIHtcbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICB2X3V2ID0gdXY7XG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiBtb2RlbE1hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcbn1cbmA7XG5jb25zdCBmc2hhZGVyID0gYFxuI2luY2x1ZGUgPGRlZ3VNYXRoZj5cbiNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1OVxuXG51bmlmb3JtIHZlYzIgdV9tb3VzZTtcbnVuaWZvcm0gdmVjMiB1X3Jlc29sdXRpb247XG51bmlmb3JtIHZlYzMgdV9jb2xvcjtcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xuXG51bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7XG5cbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xudmFyeWluZyB2ZWMyIHZfdXY7XG5cblxudm9pZCBtYWluICh2b2lkKVxue1xuICAvLyBFeGFtcGxlIDEuICBKdXN0IGRpcGxheSB0aGUgaW1hZ2UgYmFzZWQgb24gdXYuXG4gICAgLy8gdmVjMiB1diA9IHZfdXY7XG4gIC8vIEdldCB0aGUgY29sb3IgZm9yIHRoZSBjdXJyZW50IHBpeGVsIGxvY2F0aW9uIGFuZCBpbnRlcnBvbGF0ZSBpdCB3aXRoIHZfdXYuXG4gICAgLy8gdmVjMyBjb2xvciA9IHRleHR1cmUyRCh1X3RleHR1cmUsIHV2KS5yZ2I7XG5cbiAgLy8gRXhhbXBsZSAyLiAgRmxpcCBpbWFnZS5cbiAgLy8gRmxpcCBpdCB1cHNpZGUgZG93blxuICAvLyAgIHZlYzIgdXYgPSB2ZWMyKHZfdXYueCwgMS4wIC0gdl91di55KTtcbiAgLy8gICB2ZWMzIGNvbG9yID0gdGV4dHVyZTJEKHVfdGV4dHVyZSwgdXYpLnJnYjtcblxuICAvLyBFeGFtcGxlIDM6IFJvdGF0ZSB0aGUgaW1hZ2UgYnV0IHRoaXMgZG9lc24ndCB0YWtlIGNhcmUgb2YgYXNwZWN0IHJhdGlvXG4gIC8vIHNvIGFzIGl0IHJvdGF0ZXMgdGhlIGltYWdlIG1pZ2h0IHdhcnAuXG4gIC8vICAgdmVjMiBjZW50ZXIgPSB2ZWMyKDAuNSk7XG4gIC8vICAgdmVjMiB1diA9IHJvdGF0ZTJkKHZfdXYgLSBjZW50ZXIsIDEuMCkgKyBjZW50ZXI7XG4gIC8vICAgdmVjMyBjb2xvciA9IHRleHR1cmUyRCh1X3RleHR1cmUsIHV2KS5yZ2I7XG5cbiAgLy8gRXhhbXBsZSA0OiBSb3RhdGlvbiB3aXRoIGltYWdlIGFzcGVjdC4gIFRpbWUgaXMgdXNlZCBhcyB0aGUgYW5nbGUuXG4gICAgdmVjMiBjZW50ZXIgPSB2ZWMyKDAuNSk7XG4gICAgZmxvYXQgaW1hZ2VBc3BlY3QgPSAzMDAuMCAvIDQ0OC4wO1xuICAgIHZlYzMgYmFja2dyb3VuZENvbG9yID0gdmVjMygwLjApO1xuICAgIHZlYzMgY29sb3IgPSBkZWd1Um90YXRlMmRJbWFnZShcbiAgICAgICAgdV90ZXh0dXJlLCBpbWFnZUFzcGVjdCwgdl91diwgY2VudGVyLCB1X3RpbWUsIGJhY2tncm91bmRDb2xvcik7XG5cbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcbn1cbmA7XG5cbmNsYXNzIEdsc2xQbGF5Z3JvdW5kMjAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgLy8gTG9hZCBhIHRleHR1cmUuXG4gICAgICAvLyBFbmRzIHVwIGJlaW5nIGEgc2FtcGxlcjJEIHR5cGUuXG4gICAgICB1X3RleHR1cmU6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCgnLi9wdWJsaWMvZmxvd2VyLmpwZycpXG4gICAgICB9LFxuICAgICAgdV90aW1lOiB7XG4gICAgICAgIHZhbHVlOiAwLjBcbiAgICAgIH0sXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyBUaGUgcGxhbmUgc2l6ZSBzaG91bGQgYmUgdGhlIHNhbWUgYXNwZWN0IHJhdGlvIGFzIHRoZSBpbWFnZSBvdGhlcndpc2UsXG4gICAgLy8gdGhlIGltYWdlIGdldHMgc3RyZXRjaGVkLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDAuNjY5LCAxKTtcbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXJcbiAgICB9KTsgLy8gQ3JlYXRlIG1lc2ggKGdlb20gKyBtYXRlcmlhbClcblxuICAgIHRoaXMucGxhbmUgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLnBsYW5lKTtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID0gMTtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIG9uUmVzaXplKCkge1xuICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgbGV0IHdpZHRoLCBoZWlnaHQ7XG5cbiAgICBpZiAoYXNwZWN0UmF0aW8gPj0gMSkge1xuICAgICAgd2lkdGggPSAxO1xuICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGggKiB3aWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgIGhlaWdodCA9IDE7XG4gICAgfVxuXG4gICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICB0aGlzLmNhbWVyYS5yaWdodCA9IHdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnRvcCA9IGhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIH1cblxuICBvbk1vdXNlTW92ZShldnQpIHtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS55ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZ0LmNsaWVudFk7XG4gIH1cblxuICBvblJhZihkZWx0YSkge1xuICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdsc2xQbGF5Z3JvdW5kMjA7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground20.js\n");

/***/ }),

/***/ "./examples/glsl-playground21.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground21.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _deguMathf = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/shaders/three-shader-chunks/degu-mathf'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n//\n// Simple Image Texture.\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739104#questions\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739178#questions\n// https://codepen.io/nik-lever/pen/wvwZwMR\n//\n// Import shader chunks\n(0, _deguMathf.deguMathf)(THREE);\nconst vshader = `\nvarying vec3 v_position;\nvarying vec2 v_uv;\nvoid main() {\n  v_position = position;\n  v_uv = uv;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\n#include <deguMathf>\n#define PI 3.14159265359\n\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\nuniform float u_time;\nuniform float u_duration;\n\nuniform sampler2D u_texture;\n\nvarying vec3 v_position;\nvarying vec2 v_uv;\n\n\nvoid main (void)\n{\n\n    // Use varying position since center is 0.0 and it goes outwards.\n    // This uses NDC coords.\n    vec2 p = v_position.xy;\n\n    // Create a new uv position called ripple that offset the current\n    // uv by given values.\n    //\n    // The goal is to have an offset uv (ripple) and get the pixel color (texel)\n    // of a different location to make the ripple wave effect.\n    //\n\n    // 1) Calculate radiant.\n    // The amount and direction offset.  A diagnal line that extends from center.\n    // Radian determins the \"intensity\" of the ripple, how much it changes.\n    //\n    // radiant\n    //     \\  |\n    //      \\ |\n    // -------|------\n    //        |\n    //        |\n    float len = length(p);\n    vec2 radiant = p / len * 0.03;\n\n\n    // Get new ripple cords adding v_uv and radian and also cos(u_time) offset.\n    // Now we have an offset coordinates for uv in which we can project texel\n    // colors.\n    // Simplest form of ripple.\n    // vec2 ripple = v_uv + radiant * cos(u_time);\n\n\n    // More complex version that accounts for more ripple.\n    float rippleCount = 20.0;\n    vec2 ripple = v_uv + radiant * cos(len * rippleCount - u_time * 4.0);\n\n\n    // Optional step - delta ripple.\n    // We could add a delta to interpolate back and forth between\n    // normal image and ripple image.\n    //\n    // The delta could also be passed as a uniform.  When delta is,\n    // 1.0, the ripple would be animating and as it goes down to\n    // 0.0, the ripple stops.\n    //\n    // The amount of time remaining in radians.  This is between 0 and 2PI.\n    // float amountOfTimeRemainingInRadians =\n    //     mod(u_time, u_duration) * (2.0 * PI / u_duration);\n    // Using the time remaining in radians, set the delta as a normalizedSin.\n    // float delta = normalizedSin(amountOfTimeRemainingInRadians);\n    // Mix between ripple and non ripple\n    // vec2 uv = mix(ripple, v_uv, delta);\n\n\n    // Optional: Normal continous ripple\n    // If skipping delta, you could just do a continous ripple.\n    // vec2 uv = mix(ripple, v_uv, 0.0);\n    vec2 uv = ripple;\n\n\n\n    vec3 color = texture2D(u_texture, uv).rgb;\n\n    gl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground21 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      // Load a texture.\n      // Ends up being a sampler2D type.\n      u_texture: {\n        value: new THREE.TextureLoader().load('./public/flower.jpg')\n      },\n      u_time: {\n        value: 0.0\n      },\n      u_duration: {\n        value: 0.8\n      },\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // The plane size should be the same aspect ratio as the image otherwise,\n    // the image gets stretched.\n\n    this.geometry = new THREE.PlaneGeometry(0.669, 1);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground21;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyMS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDIxLmpzPzI4M2IiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxudmFyIF9kZWd1TWF0aGYgPSByZXF1aXJlKFwiLi4vbGliL3NoYWRlcnMvdGhyZWUtc2hhZGVyLWNodW5rcy9kZWd1LW1hdGhmXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8vXG4vL1xuLy8gU2ltcGxlIEltYWdlIFRleHR1cmUuXG4vLyBodHRwczovL3d3dy51ZGVteS5jb20vY291cnNlL2xlYXJuLWdsc2wtc2hhZGVycy1mcm9tLXNjcmF0Y2gvbGVhcm4vbGVjdHVyZS8xMzczOTEwNCNxdWVzdGlvbnNcbi8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MTc4I3F1ZXN0aW9uc1xuLy8gaHR0cHM6Ly9jb2RlcGVuLmlvL25pay1sZXZlci9wZW4vd3Z3WndNUlxuLy9cbi8vIEltcG9ydCBzaGFkZXIgY2h1bmtzXG4oMCwgX2RlZ3VNYXRoZi5kZWd1TWF0aGYpKFRIUkVFKTtcbmNvbnN0IHZzaGFkZXIgPSBgXG52YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjtcbnZhcnlpbmcgdmVjMiB2X3V2O1xudm9pZCBtYWluKCkge1xuICB2X3Bvc2l0aW9uID0gcG9zaXRpb247XG4gIHZfdXYgPSB1djtcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld01hdHJpeCAqIG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xufVxuYDtcbmNvbnN0IGZzaGFkZXIgPSBgXG4jaW5jbHVkZSA8ZGVndU1hdGhmPlxuI2RlZmluZSBQSSAzLjE0MTU5MjY1MzU5XG5cbnVuaWZvcm0gdmVjMiB1X21vdXNlO1xudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xudW5pZm9ybSBmbG9hdCB1X3RpbWU7XG51bmlmb3JtIGZsb2F0IHVfZHVyYXRpb247XG5cbnVuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZTtcblxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247XG52YXJ5aW5nIHZlYzIgdl91djtcblxuXG52b2lkIG1haW4gKHZvaWQpXG57XG5cbiAgICAvLyBVc2UgdmFyeWluZyBwb3NpdGlvbiBzaW5jZSBjZW50ZXIgaXMgMC4wIGFuZCBpdCBnb2VzIG91dHdhcmRzLlxuICAgIC8vIFRoaXMgdXNlcyBOREMgY29vcmRzLlxuICAgIHZlYzIgcCA9IHZfcG9zaXRpb24ueHk7XG5cbiAgICAvLyBDcmVhdGUgYSBuZXcgdXYgcG9zaXRpb24gY2FsbGVkIHJpcHBsZSB0aGF0IG9mZnNldCB0aGUgY3VycmVudFxuICAgIC8vIHV2IGJ5IGdpdmVuIHZhbHVlcy5cbiAgICAvL1xuICAgIC8vIFRoZSBnb2FsIGlzIHRvIGhhdmUgYW4gb2Zmc2V0IHV2IChyaXBwbGUpIGFuZCBnZXQgdGhlIHBpeGVsIGNvbG9yICh0ZXhlbClcbiAgICAvLyBvZiBhIGRpZmZlcmVudCBsb2NhdGlvbiB0byBtYWtlIHRoZSByaXBwbGUgd2F2ZSBlZmZlY3QuXG4gICAgLy9cblxuICAgIC8vIDEpIENhbGN1bGF0ZSByYWRpYW50LlxuICAgIC8vIFRoZSBhbW91bnQgYW5kIGRpcmVjdGlvbiBvZmZzZXQuICBBIGRpYWduYWwgbGluZSB0aGF0IGV4dGVuZHMgZnJvbSBjZW50ZXIuXG4gICAgLy8gUmFkaWFuIGRldGVybWlucyB0aGUgXCJpbnRlbnNpdHlcIiBvZiB0aGUgcmlwcGxlLCBob3cgbXVjaCBpdCBjaGFuZ2VzLlxuICAgIC8vXG4gICAgLy8gcmFkaWFudFxuICAgIC8vICAgICBcXCAgfFxuICAgIC8vICAgICAgXFwgfFxuICAgIC8vIC0tLS0tLS18LS0tLS0tXG4gICAgLy8gICAgICAgIHxcbiAgICAvLyAgICAgICAgfFxuICAgIGZsb2F0IGxlbiA9IGxlbmd0aChwKTtcbiAgICB2ZWMyIHJhZGlhbnQgPSBwIC8gbGVuICogMC4wMztcblxuXG4gICAgLy8gR2V0IG5ldyByaXBwbGUgY29yZHMgYWRkaW5nIHZfdXYgYW5kIHJhZGlhbiBhbmQgYWxzbyBjb3ModV90aW1lKSBvZmZzZXQuXG4gICAgLy8gTm93IHdlIGhhdmUgYW4gb2Zmc2V0IGNvb3JkaW5hdGVzIGZvciB1diBpbiB3aGljaCB3ZSBjYW4gcHJvamVjdCB0ZXhlbFxuICAgIC8vIGNvbG9ycy5cbiAgICAvLyBTaW1wbGVzdCBmb3JtIG9mIHJpcHBsZS5cbiAgICAvLyB2ZWMyIHJpcHBsZSA9IHZfdXYgKyByYWRpYW50ICogY29zKHVfdGltZSk7XG5cblxuICAgIC8vIE1vcmUgY29tcGxleCB2ZXJzaW9uIHRoYXQgYWNjb3VudHMgZm9yIG1vcmUgcmlwcGxlLlxuICAgIGZsb2F0IHJpcHBsZUNvdW50ID0gMjAuMDtcbiAgICB2ZWMyIHJpcHBsZSA9IHZfdXYgKyByYWRpYW50ICogY29zKGxlbiAqIHJpcHBsZUNvdW50IC0gdV90aW1lICogNC4wKTtcblxuXG4gICAgLy8gT3B0aW9uYWwgc3RlcCAtIGRlbHRhIHJpcHBsZS5cbiAgICAvLyBXZSBjb3VsZCBhZGQgYSBkZWx0YSB0byBpbnRlcnBvbGF0ZSBiYWNrIGFuZCBmb3J0aCBiZXR3ZWVuXG4gICAgLy8gbm9ybWFsIGltYWdlIGFuZCByaXBwbGUgaW1hZ2UuXG4gICAgLy9cbiAgICAvLyBUaGUgZGVsdGEgY291bGQgYWxzbyBiZSBwYXNzZWQgYXMgYSB1bmlmb3JtLiAgV2hlbiBkZWx0YSBpcyxcbiAgICAvLyAxLjAsIHRoZSByaXBwbGUgd291bGQgYmUgYW5pbWF0aW5nIGFuZCBhcyBpdCBnb2VzIGRvd24gdG9cbiAgICAvLyAwLjAsIHRoZSByaXBwbGUgc3RvcHMuXG4gICAgLy9cbiAgICAvLyBUaGUgYW1vdW50IG9mIHRpbWUgcmVtYWluaW5nIGluIHJhZGlhbnMuICBUaGlzIGlzIGJldHdlZW4gMCBhbmQgMlBJLlxuICAgIC8vIGZsb2F0IGFtb3VudE9mVGltZVJlbWFpbmluZ0luUmFkaWFucyA9XG4gICAgLy8gICAgIG1vZCh1X3RpbWUsIHVfZHVyYXRpb24pICogKDIuMCAqIFBJIC8gdV9kdXJhdGlvbik7XG4gICAgLy8gVXNpbmcgdGhlIHRpbWUgcmVtYWluaW5nIGluIHJhZGlhbnMsIHNldCB0aGUgZGVsdGEgYXMgYSBub3JtYWxpemVkU2luLlxuICAgIC8vIGZsb2F0IGRlbHRhID0gbm9ybWFsaXplZFNpbihhbW91bnRPZlRpbWVSZW1haW5pbmdJblJhZGlhbnMpO1xuICAgIC8vIE1peCBiZXR3ZWVuIHJpcHBsZSBhbmQgbm9uIHJpcHBsZVxuICAgIC8vIHZlYzIgdXYgPSBtaXgocmlwcGxlLCB2X3V2LCBkZWx0YSk7XG5cblxuICAgIC8vIE9wdGlvbmFsOiBOb3JtYWwgY29udGlub3VzIHJpcHBsZVxuICAgIC8vIElmIHNraXBwaW5nIGRlbHRhLCB5b3UgY291bGQganVzdCBkbyBhIGNvbnRpbm91cyByaXBwbGUuXG4gICAgLy8gdmVjMiB1diA9IG1peChyaXBwbGUsIHZfdXYsIDAuMCk7XG4gICAgdmVjMiB1diA9IHJpcHBsZTtcblxuXG5cbiAgICB2ZWMzIGNvbG9yID0gdGV4dHVyZTJEKHVfdGV4dHVyZSwgdXYpLnJnYjtcblxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XG59XG5gO1xuXG5jbGFzcyBHbHNsUGxheWdyb3VuZDIxIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpOyAvLyAyeDJcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSgtMSwgMSwgMSwgLTEsIDAuMSwgMTApO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgX3JhZi5SYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgX2RvbVdhdGNoZXIuRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgdGhpcy51bmlmb3JtcyA9IHtcbiAgICAgIC8vIExvYWQgYSB0ZXh0dXJlLlxuICAgICAgLy8gRW5kcyB1cCBiZWluZyBhIHNhbXBsZXIyRCB0eXBlLlxuICAgICAgdV90ZXh0dXJlOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoJy4vcHVibGljL2Zsb3dlci5qcGcnKVxuICAgICAgfSxcbiAgICAgIHVfdGltZToge1xuICAgICAgICB2YWx1ZTogMC4wXG4gICAgICB9LFxuICAgICAgdV9kdXJhdGlvbjoge1xuICAgICAgICB2YWx1ZTogMC44XG4gICAgICB9LFxuICAgICAgdV9tb3VzZToge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAuMCxcbiAgICAgICAgICB5OiAwLjBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVfcmVzb2x1dGlvbjoge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTsgLy8gVGhlIHBsYW5lIHNpemUgc2hvdWxkIGJlIHRoZSBzYW1lIGFzcGVjdCByYXRpbyBhcyB0aGUgaW1hZ2Ugb3RoZXJ3aXNlLFxuICAgIC8vIHRoZSBpbWFnZSBnZXRzIHN0cmV0Y2hlZC5cblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgwLjY2OSwgMSk7XG4gICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICB1bmlmb3JtczogdGhpcy51bmlmb3JtcyxcbiAgICAgIHZlcnRleFNoYWRlcjogdnNoYWRlcixcbiAgICAgIGZyYWdtZW50U2hhZGVyOiBmc2hhZGVyXG4gICAgfSk7IC8vIENyZWF0ZSBtZXNoIChnZW9tICsgbWF0ZXJpYWwpXG5cbiAgICB0aGlzLnBsYW5lID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5wbGFuZSk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDE7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBvblJlc2l6ZSgpIHtcbiAgICBjb25zdCBhc3BlY3RSYXRpbyA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGxldCB3aWR0aCwgaGVpZ2h0O1xuXG4gICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgIHdpZHRoID0gMTtcbiAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAvIHdpbmRvdy5pbm5lcldpZHRoICogd2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpZHRoID0gYXNwZWN0UmF0aW87XG4gICAgICBoZWlnaHQgPSAxO1xuICAgIH1cblxuICAgIHRoaXMuY2FtZXJhLmxlZnQgPSAtd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEucmlnaHQgPSB3aWR0aDtcbiAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEuYm90dG9tID0gLWhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS55ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICB9XG5cbiAgb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnggPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFggOiBldnQuY2xpZW50WDtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueSA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2dC5jbGllbnRZO1xuICB9XG5cbiAgb25SYWYoZGVsdGEpIHtcbiAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSB0aGlzLnJhZi5nZXREZWx0YSh0cnVlKTtcbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBHbHNsUGxheWdyb3VuZDIxOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground21.js\n");

/***/ }),

/***/ "./examples/glsl-playground22.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground22.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _deguMathf = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/shaders/three-shader-chunks/degu-mathf'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n//\n// Simple Image Texture.\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739104#questions\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739178#questions\n// https://codepen.io/nik-lever/pen/wvwZwMR\n// https://codepen.io/nik-lever/pen/PVMQbP\n//\n// Import shader chunks\n(0, _deguMathf.deguMathf)(THREE);\nconst vshader = `\nvarying vec3 v_position;\nvarying vec2 v_uv;\nvoid main() {\n  v_position = position;\n  v_uv = uv;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\n#include <deguMathf>\n#define PI 3.14159265359\n\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\nuniform float u_time;\nuniform float u_duration;\n\nuniform sampler2D u_texture1;\nuniform sampler2D u_texture2;\n\nvarying vec3 v_position;\nvarying vec2 v_uv;\n\n\nvoid main (void)\n{\n\n    // Use varying position since center is 0.0 and it goes outwards.\n    // This uses NDC coords.\n    // vec2 p = v_position.xy;\n    vec2 p = -1.0 + 2.0 * v_uv;\n\n    // LEN\n    //        |   /\n    //        |  /\n    // -------|------\n    //        |\n    //        |\n    float len = length(p);\n    // Intensity.\n    vec2 radiant = p / len * 0.02;\n    float rippleCount = 30.0;\n    vec2 ripple = v_uv + radiant * cos(len * rippleCount - u_time * 4.0);\n\n\n    // The time. 1.0 if the animation is complete.\n    float progress = u_time / u_duration;\n    // Mix between ripple and non ripple to get UV coords to map final texel.\n    vec2 uv = mix(ripple, v_uv, progress);\n\n    // Get texel at uv for the pic 1 and pic 2.\n    vec3 color1 = texture2D(u_texture1, uv).rgb;\n    vec3 color2 = texture2D(u_texture2, uv).rgb;\n\n    // Simple cross fade.\n    // vec3 color = mix(color1, color2, progress);\n\n    // Optional:\n    // Blend between 0.14 - 0.25 edge around progress.\n    // Creates a circular wipe.\n    // https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739182#questions\n    float fade = smoothstep(progress * 1.4, progress * 2.5, len);\n\n    // Mix it\n    vec3 color = mix(color2, color1, fade);\n\n    gl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground21 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      // Load a texture.\n      // Ends up being a sampler2D type.\n      u_texture1: {\n        value: null\n      },\n      u_texture2: {\n        value: null\n      },\n      u_time: {\n        value: 0.0\n      },\n      u_duration: {\n        value: 2.0\n      },\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // The plane size should be the same aspect ratio as the image otherwise,\n    // the image gets stretched.\n\n    this.geometry = new THREE.PlaneGeometry(0.669, 1);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n    this.slideIndex = 0;\n    this.textures = [new THREE.TextureLoader().load('./public/random.jpg'), new THREE.TextureLoader().load('./public/random2.jpg'), new THREE.TextureLoader().load('./public/random3.jpg')]; // Fake a slideshow for now.\n\n    setInterval(() => {\n      this.slideIndex++;\n      this.displayIndex();\n    }, 3000);\n    this.displayIndex();\n  }\n\n  displayIndex() {\n    // Reset the time value.\n    this.uniforms.u_time.value = 0;\n    this.uniforms.u_texture1.value = this.textures[this.slideIndex];\n    this.uniforms.u_texture2.value = this.textures[this.slideIndex + 1];\n\n    if (this.slideIndex >= this.textures.length - 1) {\n      this.uniforms.u_texture1.value = this.textures[this.slideIndex];\n      this.uniforms.u_texture2.value = this.textures[0];\n      this.slideIndex = -1;\n    }\n\n    console.log(this.slideIndex);\n    console.log(this.uniforms.u_texture1.value);\n    console.log(this.uniforms.u_texture2.value);\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf() {\n    const delta = this.raf.getDelta(true);\n\n    if (this.uniforms.u_time.value < this.uniforms.u_duration.value) {\n      this.uniforms.u_time.value += delta;\n    } else {\n      this.uniforms.u_time.value = this.uniforms.u_duration.value;\n    }\n\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground21;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyMi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDIyLmpzPzVhNDUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxudmFyIF9kZWd1TWF0aGYgPSByZXF1aXJlKFwiLi4vbGliL3NoYWRlcnMvdGhyZWUtc2hhZGVyLWNodW5rcy9kZWd1LW1hdGhmXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8vXG4vL1xuLy8gU2ltcGxlIEltYWdlIFRleHR1cmUuXG4vLyBodHRwczovL3d3dy51ZGVteS5jb20vY291cnNlL2xlYXJuLWdsc2wtc2hhZGVycy1mcm9tLXNjcmF0Y2gvbGVhcm4vbGVjdHVyZS8xMzczOTEwNCNxdWVzdGlvbnNcbi8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MTc4I3F1ZXN0aW9uc1xuLy8gaHR0cHM6Ly9jb2RlcGVuLmlvL25pay1sZXZlci9wZW4vd3Z3WndNUlxuLy8gaHR0cHM6Ly9jb2RlcGVuLmlvL25pay1sZXZlci9wZW4vUFZNUWJQXG4vL1xuLy8gSW1wb3J0IHNoYWRlciBjaHVua3NcbigwLCBfZGVndU1hdGhmLmRlZ3VNYXRoZikoVEhSRUUpO1xuY29uc3QgdnNoYWRlciA9IGBcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xudmFyeWluZyB2ZWMyIHZfdXY7XG52b2lkIG1haW4oKSB7XG4gIHZfcG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgdl91diA9IHV2O1xuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59XG5gO1xuY29uc3QgZnNoYWRlciA9IGBcbiNpbmNsdWRlIDxkZWd1TWF0aGY+XG4jZGVmaW5lIFBJIDMuMTQxNTkyNjUzNTlcblxudW5pZm9ybSB2ZWMyIHVfbW91c2U7XG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xudW5pZm9ybSB2ZWMzIHVfY29sb3I7XG51bmlmb3JtIGZsb2F0IHVfdGltZTtcbnVuaWZvcm0gZmxvYXQgdV9kdXJhdGlvbjtcblxudW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlMTtcbnVuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZTI7XG5cbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xudmFyeWluZyB2ZWMyIHZfdXY7XG5cblxudm9pZCBtYWluICh2b2lkKVxue1xuXG4gICAgLy8gVXNlIHZhcnlpbmcgcG9zaXRpb24gc2luY2UgY2VudGVyIGlzIDAuMCBhbmQgaXQgZ29lcyBvdXR3YXJkcy5cbiAgICAvLyBUaGlzIHVzZXMgTkRDIGNvb3Jkcy5cbiAgICAvLyB2ZWMyIHAgPSB2X3Bvc2l0aW9uLnh5O1xuICAgIHZlYzIgcCA9IC0xLjAgKyAyLjAgKiB2X3V2O1xuXG4gICAgLy8gTEVOXG4gICAgLy8gICAgICAgIHwgICAvXG4gICAgLy8gICAgICAgIHwgIC9cbiAgICAvLyAtLS0tLS0tfC0tLS0tLVxuICAgIC8vICAgICAgICB8XG4gICAgLy8gICAgICAgIHxcbiAgICBmbG9hdCBsZW4gPSBsZW5ndGgocCk7XG4gICAgLy8gSW50ZW5zaXR5LlxuICAgIHZlYzIgcmFkaWFudCA9IHAgLyBsZW4gKiAwLjAyO1xuICAgIGZsb2F0IHJpcHBsZUNvdW50ID0gMzAuMDtcbiAgICB2ZWMyIHJpcHBsZSA9IHZfdXYgKyByYWRpYW50ICogY29zKGxlbiAqIHJpcHBsZUNvdW50IC0gdV90aW1lICogNC4wKTtcblxuXG4gICAgLy8gVGhlIHRpbWUuIDEuMCBpZiB0aGUgYW5pbWF0aW9uIGlzIGNvbXBsZXRlLlxuICAgIGZsb2F0IHByb2dyZXNzID0gdV90aW1lIC8gdV9kdXJhdGlvbjtcbiAgICAvLyBNaXggYmV0d2VlbiByaXBwbGUgYW5kIG5vbiByaXBwbGUgdG8gZ2V0IFVWIGNvb3JkcyB0byBtYXAgZmluYWwgdGV4ZWwuXG4gICAgdmVjMiB1diA9IG1peChyaXBwbGUsIHZfdXYsIHByb2dyZXNzKTtcblxuICAgIC8vIEdldCB0ZXhlbCBhdCB1diBmb3IgdGhlIHBpYyAxIGFuZCBwaWMgMi5cbiAgICB2ZWMzIGNvbG9yMSA9IHRleHR1cmUyRCh1X3RleHR1cmUxLCB1dikucmdiO1xuICAgIHZlYzMgY29sb3IyID0gdGV4dHVyZTJEKHVfdGV4dHVyZTIsIHV2KS5yZ2I7XG5cbiAgICAvLyBTaW1wbGUgY3Jvc3MgZmFkZS5cbiAgICAvLyB2ZWMzIGNvbG9yID0gbWl4KGNvbG9yMSwgY29sb3IyLCBwcm9ncmVzcyk7XG5cbiAgICAvLyBPcHRpb25hbDpcbiAgICAvLyBCbGVuZCBiZXR3ZWVuIDAuMTQgLSAwLjI1IGVkZ2UgYXJvdW5kIHByb2dyZXNzLlxuICAgIC8vIENyZWF0ZXMgYSBjaXJjdWxhciB3aXBlLlxuICAgIC8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MTgyI3F1ZXN0aW9uc1xuICAgIGZsb2F0IGZhZGUgPSBzbW9vdGhzdGVwKHByb2dyZXNzICogMS40LCBwcm9ncmVzcyAqIDIuNSwgbGVuKTtcblxuICAgIC8vIE1peCBpdFxuICAgIHZlYzMgY29sb3IgPSBtaXgoY29sb3IyLCBjb2xvcjEsIGZhZGUpO1xuXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcbn1cbmA7XG5cbmNsYXNzIEdsc2xQbGF5Z3JvdW5kMjEge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgLy8gTG9hZCBhIHRleHR1cmUuXG4gICAgICAvLyBFbmRzIHVwIGJlaW5nIGEgc2FtcGxlcjJEIHR5cGUuXG4gICAgICB1X3RleHR1cmUxOiB7XG4gICAgICAgIHZhbHVlOiBudWxsXG4gICAgICB9LFxuICAgICAgdV90ZXh0dXJlMjoge1xuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSxcbiAgICAgIHVfdGltZToge1xuICAgICAgICB2YWx1ZTogMC4wXG4gICAgICB9LFxuICAgICAgdV9kdXJhdGlvbjoge1xuICAgICAgICB2YWx1ZTogMi4wXG4gICAgICB9LFxuICAgICAgdV9tb3VzZToge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAuMCxcbiAgICAgICAgICB5OiAwLjBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVfcmVzb2x1dGlvbjoge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTsgLy8gVGhlIHBsYW5lIHNpemUgc2hvdWxkIGJlIHRoZSBzYW1lIGFzcGVjdCByYXRpbyBhcyB0aGUgaW1hZ2Ugb3RoZXJ3aXNlLFxuICAgIC8vIHRoZSBpbWFnZSBnZXRzIHN0cmV0Y2hlZC5cblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgwLjY2OSwgMSk7XG4gICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICB1bmlmb3JtczogdGhpcy51bmlmb3JtcyxcbiAgICAgIHZlcnRleFNoYWRlcjogdnNoYWRlcixcbiAgICAgIGZyYWdtZW50U2hhZGVyOiBmc2hhZGVyXG4gICAgfSk7IC8vIENyZWF0ZSBtZXNoIChnZW9tICsgbWF0ZXJpYWwpXG5cbiAgICB0aGlzLnBsYW5lID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5wbGFuZSk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDE7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gICAgdGhpcy5zbGlkZUluZGV4ID0gMDtcbiAgICB0aGlzLnRleHR1cmVzID0gW25ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCgnLi9wdWJsaWMvcmFuZG9tLmpwZycpLCBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoJy4vcHVibGljL3JhbmRvbTIuanBnJyksIG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCgnLi9wdWJsaWMvcmFuZG9tMy5qcGcnKV07IC8vIEZha2UgYSBzbGlkZXNob3cgZm9yIG5vdy5cblxuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMuc2xpZGVJbmRleCsrO1xuICAgICAgdGhpcy5kaXNwbGF5SW5kZXgoKTtcbiAgICB9LCAzMDAwKTtcbiAgICB0aGlzLmRpc3BsYXlJbmRleCgpO1xuICB9XG5cbiAgZGlzcGxheUluZGV4KCkge1xuICAgIC8vIFJlc2V0IHRoZSB0aW1lIHZhbHVlLlxuICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlID0gMDtcbiAgICB0aGlzLnVuaWZvcm1zLnVfdGV4dHVyZTEudmFsdWUgPSB0aGlzLnRleHR1cmVzW3RoaXMuc2xpZGVJbmRleF07XG4gICAgdGhpcy51bmlmb3Jtcy51X3RleHR1cmUyLnZhbHVlID0gdGhpcy50ZXh0dXJlc1t0aGlzLnNsaWRlSW5kZXggKyAxXTtcblxuICAgIGlmICh0aGlzLnNsaWRlSW5kZXggPj0gdGhpcy50ZXh0dXJlcy5sZW5ndGggLSAxKSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfdGV4dHVyZTEudmFsdWUgPSB0aGlzLnRleHR1cmVzW3RoaXMuc2xpZGVJbmRleF07XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfdGV4dHVyZTIudmFsdWUgPSB0aGlzLnRleHR1cmVzWzBdO1xuICAgICAgdGhpcy5zbGlkZUluZGV4ID0gLTE7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2codGhpcy5zbGlkZUluZGV4KTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnVuaWZvcm1zLnVfdGV4dHVyZTEudmFsdWUpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMudW5pZm9ybXMudV90ZXh0dXJlMi52YWx1ZSk7XG4gIH1cblxuICBvblJlc2l6ZSgpIHtcbiAgICBjb25zdCBhc3BlY3RSYXRpbyA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGxldCB3aWR0aCwgaGVpZ2h0O1xuXG4gICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgIHdpZHRoID0gMTtcbiAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAvIHdpbmRvdy5pbm5lcldpZHRoICogd2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpZHRoID0gYXNwZWN0UmF0aW87XG4gICAgICBoZWlnaHQgPSAxO1xuICAgIH1cblxuICAgIHRoaXMuY2FtZXJhLmxlZnQgPSAtd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEucmlnaHQgPSB3aWR0aDtcbiAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEuYm90dG9tID0gLWhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS55ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICB9XG5cbiAgb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnggPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFggOiBldnQuY2xpZW50WDtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueSA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2dC5jbGllbnRZO1xuICB9XG5cbiAgb25SYWYoKSB7XG4gICAgY29uc3QgZGVsdGEgPSB0aGlzLnJhZi5nZXREZWx0YSh0cnVlKTtcblxuICAgIGlmICh0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSA8IHRoaXMudW5pZm9ybXMudV9kdXJhdGlvbi52YWx1ZSkge1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgKz0gZGVsdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlID0gdGhpcy51bmlmb3Jtcy51X2R1cmF0aW9uLnZhbHVlO1xuICAgIH1cblxuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdsc2xQbGF5Z3JvdW5kMjE7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground22.js\n");

/***/ }),

/***/ "./examples/glsl-playground23.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground23.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _deguMathf = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/shaders/three-shader-chunks/degu-mathf'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n//\n// Simple Image Texture.\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739104#questions\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739178#questions\n// https://codepen.io/nik-lever/pen/ZwgrRR\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739190#questions/8753186\n// https://codepen.io/nik-lever/pen/PVMRXa\n//\n// Import shader chunks\n(0, _deguMathf.deguMathf)(THREE);\n/**\n * Class that creates canvas text in three.js.\n * Thanks to Nik Lever.\n */\n\nclass CanvasText {\n  constructor(scene, msg, config, material) {\n    this.config = config === undefined ? {\n      font: 'sans',\n      size: 30,\n      h1size: 50,\n      padding: 10,\n      colour: '#fff',\n      width: 256,\n      height: 256\n    } : config;\n    const planeMaterial = material === undefined ? new THREE.MeshBasicMaterial({\n      transparent: true\n    }) : material;\n    this.planesize = config.planesize ? config.planesize : {\n      width: 0.5,\n      height: 0.5\n    };\n    const planeGeometry = new THREE.PlaneGeometry(this.planesize.width, this.planesize.height);\n    this.mesh = new THREE.Mesh(planeGeometry, planeMaterial);\n    if (this.config.zpos) this.mesh.position.z = this.config.zpos;\n    scene.add(this.mesh);\n    this.update(msg);\n  }\n\n  update(msg) {\n    if (this.mesh === undefined) return;\n    let context = this.context;\n\n    if (context === undefined) {\n      const canvas = this.createOffscreenCanvas(this.config.width, this.config.height);\n      this.context = canvas.getContext('2d');\n      context = this.context;\n      context.font = `${this.config.size}pt ${this.config.font}`;\n      context.fillStyle = this.config.colour;\n      context.textAlign = 'center';\n      this.texture = new THREE.CanvasTexture(canvas);\n\n      if (this.mesh.material.uniforms !== undefined) {\n        this.mesh.material.uniforms.u_tex = {\n          value: this.texture\n        };\n      } else {\n        this.mesh.material.map = this.texture;\n      }\n    }\n\n    const bg = this.img;\n    context.clearRect(0, 0, this.config.width, this.config.height);\n\n    if (this.config.debug) {\n      context.beginPath();\n      context.rect(0, 0, this.config.width, this.config.height);\n      context.stroke();\n    }\n\n    this.wrapText(msg, context);\n    this.texture.needsUpdate = true;\n  }\n\n  createOffscreenCanvas(w, h) {\n    const canvas = document.createElement('canvas');\n    canvas.width = w;\n    canvas.height = h;\n    return canvas;\n  }\n\n  wrapText(msg, context) {\n    const words = msg.text.split(' ');\n    let line = '';\n    const lines = [];\n    const maxWidth = this.config.width - 2 * this.config.padding;\n    const lineHeight = this.config.size + 8;\n    context.font = `${this.config.size}pt ${this.config.font}`;\n    words.forEach(function (word) {\n      const testLine = `${line}${word} `;\n      const metrics = context.measureText(testLine);\n      const testWidth = metrics.width;\n\n      if (testWidth > maxWidth) {\n        lines.push(line);\n        line = `${word} `;\n      } else {\n        line = testLine;\n      }\n    });\n    if (line != '') lines.push(line);\n    let y = this.config.height - lines.length * lineHeight;\n    const centerX = this.config.width / 2;\n    lines.forEach(function (line) {\n      context.fillText(line, centerX, y);\n      y += lineHeight;\n    });\n    y = this.config.height - (lines.length + 1.5) * lineHeight;\n    context.font = `${this.config.h1size}pt ${this.config.font}`;\n    context.fillText(msg.name, centerX, y);\n  }\n\n  positionText(camera, pos) {\n    if (!this.planesize) return;\n\n    if (pos.bottom !== undefined) {\n      this.mesh.position.y = pos.bottom + this.planesize.height / 2 + camera.bottom;\n    } else if (pos.top !== undefined) {\n      this.mesh.position.y = camera.top - pos.top - this.planesize.height / 2;\n    } else {\n      this.mesh.position.y = 0;\n    }\n\n    if (pos.left !== undefined) {\n      this.mesh.position.x = pos.left + this.planesize.width / 2 + camera.left;\n    } else if (pos.right !== undefined) {\n      this.mesh.position.x = camera.right - pos.right - this.planesize.width / 2;\n    } else {\n      this.mesh.position.x = 0;\n    }\n  }\n\n}\n\nconst vshader = `\nvarying vec3 v_position;\nvarying vec2 v_uv;\nvoid main() {\n  v_position = position;\n  v_uv = uv;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\n#include <deguMathf>\n#define PI 3.14159265359\n\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\nuniform float u_time;\nuniform float u_duration;\n\nuniform sampler2D u_texture1;\nuniform sampler2D u_texture2;\n\nvarying vec3 v_position;\nvarying vec2 v_uv;\n\n\nvoid main (void)\n{\n    // vec2 p = v_position.xy;\n    vec2 p = -1.0 + 2.0 * v_uv;\n\n    float len = length(p);\n    vec2 radiant = p / len * 0.02;\n    float rippleCount = 30.0;\n    vec2 ripple = v_uv + radiant * cos(len * rippleCount - u_time * 4.0);\n    float progress = u_time / u_duration;\n    vec2 uv = mix(ripple, v_uv, progress);\n\n    vec3 color1 = texture2D(u_texture1, uv).rgb;\n    vec3 color2 = texture2D(u_texture2, uv).rgb;\n    float fade = smoothstep(progress * 1.4, progress * 2.5, len);\n\n    // Mix it\n    vec3 color = mix(color2, color1, fade);\n\n    gl_FragColor = vec4(color, 1.0);\n}\n`; // Version to just display text\n\nconst textFragShader = `\n#include <deguMathf>\n#define PI 3.14159265359\n\nuniform float u_time;\nuniform float u_duration;\nuniform sampler2D u_tex;\n\nvarying vec3 v_position;\nvarying vec2 v_uv;\n\nvoid main (void)\n{\n    gl_FragColor = texture2D(u_tex, v_uv);\n}\n`; // Twirling text version.\n\nconst textFragShader2 = `\n  uniform sampler2D u_tex;\n  uniform float u_time;\n  uniform float u_duration;\n  uniform float u_twirls;\n\n  varying vec2 v_uv;\n\n  vec4 twirl(sampler2D tex, vec2 uv, float time){\n    if (time<0.0) time = 0.0;\n\n    vec2 center = vec2(0.5);\n    vec2 tc = uv - center;\n    float dist = length(tc);\n\n    if (dist < 0.5){\n      float delta = (0.5 - dist) / 0.5;\n      float theta = delta * delta * time * u_twirls;\n      float s = sin(theta);\n      float c = cos(theta);\n      mat2 mat = mat2(c,s,-s,c);\n      tc = mat * tc;\n      //tc = vec2(dot(tc, vec2(c, -s)), dot(tc, vec2(s, c)));\n    }\n\n    tc += center;\n    vec4 color = texture2D(tex, tc);\n    color.a = mix(0.0, color.a, min(u_time, 1.0));\n    return color;\n  }\n\n  void main(void){\n    gl_FragColor = twirl(u_tex, v_uv, u_duration - u_time);\n  }\n`;\n\nclass GlslPlayground23 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      // Load a texture.\n      // Ends up being a sampler2D type.\n      u_texture1: {\n        value: null\n      },\n      u_texture2: {\n        value: null\n      },\n      u_time: {\n        value: 0.0\n      },\n      u_duration: {\n        value: 2.0\n      },\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // The plane size should be the same aspect ratio as the image otherwise,\n    // the image gets stretched.\n\n    this.geometry = new THREE.PlaneGeometry(0.669, 1);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane); // Text for slides.\n\n    this.text = [{\n      name: \"test1\",\n      text: \"This is the first text\"\n    }, {\n      name: \"test2\",\n      text: \"This is the second text\"\n    }, {\n      name: \"test3\",\n      text: \"This is the third text\"\n    }]; // Add a second plane to hold the text.\n\n    this.uniforms2 = {\n      u_time: {\n        value: 0.0\n      },\n      u_duration: {\n        value: 0.7\n      },\n      u_twirls: {\n        value: 4\n      }\n    };\n    this.material2 = new THREE.ShaderMaterial({\n      uniforms: this.uniforms2,\n      vertexShader: vshader,\n      // Normal text\n      // fragmentShader: textFragShader,\n      fragmentShader: textFragShader2,\n      transparent: true\n    });\n    const config = {\n      font: 'Josefin Sans',\n      size: 16,\n      h1size: 30,\n      padding: 10,\n      colour: '#fff',\n      width: 512,\n      height: 256,\n      zpos: 0.005,\n      planesize: {\n        width: 1,\n        height: 0.5\n      }\n    };\n    this.canvasText = new CanvasText(this.scene, this.text[1], config, this.material2);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n    this.slideIndex = 0;\n    this.textures = [new THREE.TextureLoader().load('./public/random.jpg'), new THREE.TextureLoader().load('./public/random2.jpg'), new THREE.TextureLoader().load('./public/random3.jpg')]; // Fake a slideshow for now.\n\n    setInterval(() => {\n      this.slideIndex++;\n      this.displayIndex();\n    }, 3000);\n    this.displayIndex();\n  }\n\n  displayIndex() {\n    // Reset the time value.\n    this.uniforms.u_time.value = 0;\n    this.uniforms2.u_time.value = 0;\n    this.canvasText.update(this.text[this.slideIndex]);\n    this.uniforms.u_texture1.value = this.textures[this.slideIndex];\n    this.uniforms.u_texture2.value = this.textures[this.slideIndex + 1];\n\n    if (this.slideIndex >= this.textures.length - 1) {\n      this.uniforms.u_texture1.value = this.textures[this.slideIndex];\n      this.uniforms.u_texture2.value = this.textures[0];\n      this.slideIndex = -1;\n    }\n\n    console.log(this.slideIndex);\n    console.log(this.uniforms.u_texture1.value);\n    console.log(this.uniforms.u_texture2.value);\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n    this.canvasText.positionText(this.camera, {\n      bottom: 0.1\n    });\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf() {\n    const delta = this.raf.getDelta(true);\n\n    if (this.uniforms.u_time.value < this.uniforms.u_duration.value) {\n      this.uniforms.u_time.value += delta;\n      this.uniforms2.u_time.value += delta;\n    } else {\n      this.uniforms.u_time.value = this.uniforms.u_duration.value;\n      this.uniforms2.u_time.value = this.uniforms2.u_duration.value;\n    }\n\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground23;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyMy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDIzLmpzPzhlOTgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxudmFyIF9kZWd1TWF0aGYgPSByZXF1aXJlKFwiLi4vbGliL3NoYWRlcnMvdGhyZWUtc2hhZGVyLWNodW5rcy9kZWd1LW1hdGhmXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8vXG4vL1xuLy8gU2ltcGxlIEltYWdlIFRleHR1cmUuXG4vLyBodHRwczovL3d3dy51ZGVteS5jb20vY291cnNlL2xlYXJuLWdsc2wtc2hhZGVycy1mcm9tLXNjcmF0Y2gvbGVhcm4vbGVjdHVyZS8xMzczOTEwNCNxdWVzdGlvbnNcbi8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MTc4I3F1ZXN0aW9uc1xuLy8gaHR0cHM6Ly9jb2RlcGVuLmlvL25pay1sZXZlci9wZW4vWndnclJSXG4vLyBodHRwczovL3d3dy51ZGVteS5jb20vY291cnNlL2xlYXJuLWdsc2wtc2hhZGVycy1mcm9tLXNjcmF0Y2gvbGVhcm4vbGVjdHVyZS8xMzczOTE5MCNxdWVzdGlvbnMvODc1MzE4NlxuLy8gaHR0cHM6Ly9jb2RlcGVuLmlvL25pay1sZXZlci9wZW4vUFZNUlhhXG4vL1xuLy8gSW1wb3J0IHNoYWRlciBjaHVua3NcbigwLCBfZGVndU1hdGhmLmRlZ3VNYXRoZikoVEhSRUUpO1xuLyoqXG4gKiBDbGFzcyB0aGF0IGNyZWF0ZXMgY2FudmFzIHRleHQgaW4gdGhyZWUuanMuXG4gKiBUaGFua3MgdG8gTmlrIExldmVyLlxuICovXG5cbmNsYXNzIENhbnZhc1RleHQge1xuICBjb25zdHJ1Y3RvcihzY2VuZSwgbXNnLCBjb25maWcsIG1hdGVyaWFsKSB7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWcgPT09IHVuZGVmaW5lZCA/IHtcbiAgICAgIGZvbnQ6ICdzYW5zJyxcbiAgICAgIHNpemU6IDMwLFxuICAgICAgaDFzaXplOiA1MCxcbiAgICAgIHBhZGRpbmc6IDEwLFxuICAgICAgY29sb3VyOiAnI2ZmZicsXG4gICAgICB3aWR0aDogMjU2LFxuICAgICAgaGVpZ2h0OiAyNTZcbiAgICB9IDogY29uZmlnO1xuICAgIGNvbnN0IHBsYW5lTWF0ZXJpYWwgPSBtYXRlcmlhbCA9PT0gdW5kZWZpbmVkID8gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgIHRyYW5zcGFyZW50OiB0cnVlXG4gICAgfSkgOiBtYXRlcmlhbDtcbiAgICB0aGlzLnBsYW5lc2l6ZSA9IGNvbmZpZy5wbGFuZXNpemUgPyBjb25maWcucGxhbmVzaXplIDoge1xuICAgICAgd2lkdGg6IDAuNSxcbiAgICAgIGhlaWdodDogMC41XG4gICAgfTtcbiAgICBjb25zdCBwbGFuZUdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkodGhpcy5wbGFuZXNpemUud2lkdGgsIHRoaXMucGxhbmVzaXplLmhlaWdodCk7XG4gICAgdGhpcy5tZXNoID0gbmV3IFRIUkVFLk1lc2gocGxhbmVHZW9tZXRyeSwgcGxhbmVNYXRlcmlhbCk7XG4gICAgaWYgKHRoaXMuY29uZmlnLnpwb3MpIHRoaXMubWVzaC5wb3NpdGlvbi56ID0gdGhpcy5jb25maWcuenBvcztcbiAgICBzY2VuZS5hZGQodGhpcy5tZXNoKTtcbiAgICB0aGlzLnVwZGF0ZShtc2cpO1xuICB9XG5cbiAgdXBkYXRlKG1zZykge1xuICAgIGlmICh0aGlzLm1lc2ggPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgIGxldCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuXG4gICAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5jcmVhdGVPZmZzY3JlZW5DYW52YXModGhpcy5jb25maWcud2lkdGgsIHRoaXMuY29uZmlnLmhlaWdodCk7XG4gICAgICB0aGlzLmNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICBjb250ZXh0LmZvbnQgPSBgJHt0aGlzLmNvbmZpZy5zaXplfXB0ICR7dGhpcy5jb25maWcuZm9udH1gO1xuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmNvbmZpZy5jb2xvdXI7XG4gICAgICBjb250ZXh0LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgdGhpcy50ZXh0dXJlID0gbmV3IFRIUkVFLkNhbnZhc1RleHR1cmUoY2FudmFzKTtcblxuICAgICAgaWYgKHRoaXMubWVzaC5tYXRlcmlhbC51bmlmb3JtcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMubWVzaC5tYXRlcmlhbC51bmlmb3Jtcy51X3RleCA9IHtcbiAgICAgICAgICB2YWx1ZTogdGhpcy50ZXh0dXJlXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm1lc2gubWF0ZXJpYWwubWFwID0gdGhpcy50ZXh0dXJlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGJnID0gdGhpcy5pbWc7XG4gICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jb25maWcud2lkdGgsIHRoaXMuY29uZmlnLmhlaWdodCk7XG5cbiAgICBpZiAodGhpcy5jb25maWcuZGVidWcpIHtcbiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICBjb250ZXh0LnJlY3QoMCwgMCwgdGhpcy5jb25maWcud2lkdGgsIHRoaXMuY29uZmlnLmhlaWdodCk7XG4gICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgIH1cblxuICAgIHRoaXMud3JhcFRleHQobXNnLCBjb250ZXh0KTtcbiAgICB0aGlzLnRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xuICB9XG5cbiAgY3JlYXRlT2Zmc2NyZWVuQ2FudmFzKHcsIGgpIHtcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjYW52YXMud2lkdGggPSB3O1xuICAgIGNhbnZhcy5oZWlnaHQgPSBoO1xuICAgIHJldHVybiBjYW52YXM7XG4gIH1cblxuICB3cmFwVGV4dChtc2csIGNvbnRleHQpIHtcbiAgICBjb25zdCB3b3JkcyA9IG1zZy50ZXh0LnNwbGl0KCcgJyk7XG4gICAgbGV0IGxpbmUgPSAnJztcbiAgICBjb25zdCBsaW5lcyA9IFtdO1xuICAgIGNvbnN0IG1heFdpZHRoID0gdGhpcy5jb25maWcud2lkdGggLSAyICogdGhpcy5jb25maWcucGFkZGluZztcbiAgICBjb25zdCBsaW5lSGVpZ2h0ID0gdGhpcy5jb25maWcuc2l6ZSArIDg7XG4gICAgY29udGV4dC5mb250ID0gYCR7dGhpcy5jb25maWcuc2l6ZX1wdCAke3RoaXMuY29uZmlnLmZvbnR9YDtcbiAgICB3b3Jkcy5mb3JFYWNoKGZ1bmN0aW9uICh3b3JkKSB7XG4gICAgICBjb25zdCB0ZXN0TGluZSA9IGAke2xpbmV9JHt3b3JkfSBgO1xuICAgICAgY29uc3QgbWV0cmljcyA9IGNvbnRleHQubWVhc3VyZVRleHQodGVzdExpbmUpO1xuICAgICAgY29uc3QgdGVzdFdpZHRoID0gbWV0cmljcy53aWR0aDtcblxuICAgICAgaWYgKHRlc3RXaWR0aCA+IG1heFdpZHRoKSB7XG4gICAgICAgIGxpbmVzLnB1c2gobGluZSk7XG4gICAgICAgIGxpbmUgPSBgJHt3b3JkfSBgO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGluZSA9IHRlc3RMaW5lO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChsaW5lICE9ICcnKSBsaW5lcy5wdXNoKGxpbmUpO1xuICAgIGxldCB5ID0gdGhpcy5jb25maWcuaGVpZ2h0IC0gbGluZXMubGVuZ3RoICogbGluZUhlaWdodDtcbiAgICBjb25zdCBjZW50ZXJYID0gdGhpcy5jb25maWcud2lkdGggLyAyO1xuICAgIGxpbmVzLmZvckVhY2goZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgIGNvbnRleHQuZmlsbFRleHQobGluZSwgY2VudGVyWCwgeSk7XG4gICAgICB5ICs9IGxpbmVIZWlnaHQ7XG4gICAgfSk7XG4gICAgeSA9IHRoaXMuY29uZmlnLmhlaWdodCAtIChsaW5lcy5sZW5ndGggKyAxLjUpICogbGluZUhlaWdodDtcbiAgICBjb250ZXh0LmZvbnQgPSBgJHt0aGlzLmNvbmZpZy5oMXNpemV9cHQgJHt0aGlzLmNvbmZpZy5mb250fWA7XG4gICAgY29udGV4dC5maWxsVGV4dChtc2cubmFtZSwgY2VudGVyWCwgeSk7XG4gIH1cblxuICBwb3NpdGlvblRleHQoY2FtZXJhLCBwb3MpIHtcbiAgICBpZiAoIXRoaXMucGxhbmVzaXplKSByZXR1cm47XG5cbiAgICBpZiAocG9zLmJvdHRvbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLm1lc2gucG9zaXRpb24ueSA9IHBvcy5ib3R0b20gKyB0aGlzLnBsYW5lc2l6ZS5oZWlnaHQgLyAyICsgY2FtZXJhLmJvdHRvbTtcbiAgICB9IGVsc2UgaWYgKHBvcy50b3AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLnkgPSBjYW1lcmEudG9wIC0gcG9zLnRvcCAtIHRoaXMucGxhbmVzaXplLmhlaWdodCAvIDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWVzaC5wb3NpdGlvbi55ID0gMDtcbiAgICB9XG5cbiAgICBpZiAocG9zLmxlZnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLnggPSBwb3MubGVmdCArIHRoaXMucGxhbmVzaXplLndpZHRoIC8gMiArIGNhbWVyYS5sZWZ0O1xuICAgIH0gZWxzZSBpZiAocG9zLnJpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMubWVzaC5wb3NpdGlvbi54ID0gY2FtZXJhLnJpZ2h0IC0gcG9zLnJpZ2h0IC0gdGhpcy5wbGFuZXNpemUud2lkdGggLyAyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1lc2gucG9zaXRpb24ueCA9IDA7XG4gICAgfVxuICB9XG5cbn1cblxuY29uc3QgdnNoYWRlciA9IGBcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xudmFyeWluZyB2ZWMyIHZfdXY7XG52b2lkIG1haW4oKSB7XG4gIHZfcG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgdl91diA9IHV2O1xuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59XG5gO1xuY29uc3QgZnNoYWRlciA9IGBcbiNpbmNsdWRlIDxkZWd1TWF0aGY+XG4jZGVmaW5lIFBJIDMuMTQxNTkyNjUzNTlcblxudW5pZm9ybSB2ZWMyIHVfbW91c2U7XG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xudW5pZm9ybSB2ZWMzIHVfY29sb3I7XG51bmlmb3JtIGZsb2F0IHVfdGltZTtcbnVuaWZvcm0gZmxvYXQgdV9kdXJhdGlvbjtcblxudW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlMTtcbnVuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZTI7XG5cbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xudmFyeWluZyB2ZWMyIHZfdXY7XG5cblxudm9pZCBtYWluICh2b2lkKVxue1xuICAgIC8vIHZlYzIgcCA9IHZfcG9zaXRpb24ueHk7XG4gICAgdmVjMiBwID0gLTEuMCArIDIuMCAqIHZfdXY7XG5cbiAgICBmbG9hdCBsZW4gPSBsZW5ndGgocCk7XG4gICAgdmVjMiByYWRpYW50ID0gcCAvIGxlbiAqIDAuMDI7XG4gICAgZmxvYXQgcmlwcGxlQ291bnQgPSAzMC4wO1xuICAgIHZlYzIgcmlwcGxlID0gdl91diArIHJhZGlhbnQgKiBjb3MobGVuICogcmlwcGxlQ291bnQgLSB1X3RpbWUgKiA0LjApO1xuICAgIGZsb2F0IHByb2dyZXNzID0gdV90aW1lIC8gdV9kdXJhdGlvbjtcbiAgICB2ZWMyIHV2ID0gbWl4KHJpcHBsZSwgdl91diwgcHJvZ3Jlc3MpO1xuXG4gICAgdmVjMyBjb2xvcjEgPSB0ZXh0dXJlMkQodV90ZXh0dXJlMSwgdXYpLnJnYjtcbiAgICB2ZWMzIGNvbG9yMiA9IHRleHR1cmUyRCh1X3RleHR1cmUyLCB1dikucmdiO1xuICAgIGZsb2F0IGZhZGUgPSBzbW9vdGhzdGVwKHByb2dyZXNzICogMS40LCBwcm9ncmVzcyAqIDIuNSwgbGVuKTtcblxuICAgIC8vIE1peCBpdFxuICAgIHZlYzMgY29sb3IgPSBtaXgoY29sb3IyLCBjb2xvcjEsIGZhZGUpO1xuXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcbn1cbmA7IC8vIFZlcnNpb24gdG8ganVzdCBkaXNwbGF5IHRleHRcblxuY29uc3QgdGV4dEZyYWdTaGFkZXIgPSBgXG4jaW5jbHVkZSA8ZGVndU1hdGhmPlxuI2RlZmluZSBQSSAzLjE0MTU5MjY1MzU5XG5cbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xudW5pZm9ybSBmbG9hdCB1X2R1cmF0aW9uO1xudW5pZm9ybSBzYW1wbGVyMkQgdV90ZXg7XG5cbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xudmFyeWluZyB2ZWMyIHZfdXY7XG5cbnZvaWQgbWFpbiAodm9pZClcbntcbiAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodV90ZXgsIHZfdXYpO1xufVxuYDsgLy8gVHdpcmxpbmcgdGV4dCB2ZXJzaW9uLlxuXG5jb25zdCB0ZXh0RnJhZ1NoYWRlcjIgPSBgXG4gIHVuaWZvcm0gc2FtcGxlcjJEIHVfdGV4O1xuICB1bmlmb3JtIGZsb2F0IHVfdGltZTtcbiAgdW5pZm9ybSBmbG9hdCB1X2R1cmF0aW9uO1xuICB1bmlmb3JtIGZsb2F0IHVfdHdpcmxzO1xuXG4gIHZhcnlpbmcgdmVjMiB2X3V2O1xuXG4gIHZlYzQgdHdpcmwoc2FtcGxlcjJEIHRleCwgdmVjMiB1diwgZmxvYXQgdGltZSl7XG4gICAgaWYgKHRpbWU8MC4wKSB0aW1lID0gMC4wO1xuXG4gICAgdmVjMiBjZW50ZXIgPSB2ZWMyKDAuNSk7XG4gICAgdmVjMiB0YyA9IHV2IC0gY2VudGVyO1xuICAgIGZsb2F0IGRpc3QgPSBsZW5ndGgodGMpO1xuXG4gICAgaWYgKGRpc3QgPCAwLjUpe1xuICAgICAgZmxvYXQgZGVsdGEgPSAoMC41IC0gZGlzdCkgLyAwLjU7XG4gICAgICBmbG9hdCB0aGV0YSA9IGRlbHRhICogZGVsdGEgKiB0aW1lICogdV90d2lybHM7XG4gICAgICBmbG9hdCBzID0gc2luKHRoZXRhKTtcbiAgICAgIGZsb2F0IGMgPSBjb3ModGhldGEpO1xuICAgICAgbWF0MiBtYXQgPSBtYXQyKGMscywtcyxjKTtcbiAgICAgIHRjID0gbWF0ICogdGM7XG4gICAgICAvL3RjID0gdmVjMihkb3QodGMsIHZlYzIoYywgLXMpKSwgZG90KHRjLCB2ZWMyKHMsIGMpKSk7XG4gICAgfVxuXG4gICAgdGMgKz0gY2VudGVyO1xuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodGV4LCB0Yyk7XG4gICAgY29sb3IuYSA9IG1peCgwLjAsIGNvbG9yLmEsIG1pbih1X3RpbWUsIDEuMCkpO1xuICAgIHJldHVybiBjb2xvcjtcbiAgfVxuXG4gIHZvaWQgbWFpbih2b2lkKXtcbiAgICBnbF9GcmFnQ29sb3IgPSB0d2lybCh1X3RleCwgdl91diwgdV9kdXJhdGlvbiAtIHVfdGltZSk7XG4gIH1cbmA7XG5cbmNsYXNzIEdsc2xQbGF5Z3JvdW5kMjMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgLy8gTG9hZCBhIHRleHR1cmUuXG4gICAgICAvLyBFbmRzIHVwIGJlaW5nIGEgc2FtcGxlcjJEIHR5cGUuXG4gICAgICB1X3RleHR1cmUxOiB7XG4gICAgICAgIHZhbHVlOiBudWxsXG4gICAgICB9LFxuICAgICAgdV90ZXh0dXJlMjoge1xuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSxcbiAgICAgIHVfdGltZToge1xuICAgICAgICB2YWx1ZTogMC4wXG4gICAgICB9LFxuICAgICAgdV9kdXJhdGlvbjoge1xuICAgICAgICB2YWx1ZTogMi4wXG4gICAgICB9LFxuICAgICAgdV9tb3VzZToge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAuMCxcbiAgICAgICAgICB5OiAwLjBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVfcmVzb2x1dGlvbjoge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTsgLy8gVGhlIHBsYW5lIHNpemUgc2hvdWxkIGJlIHRoZSBzYW1lIGFzcGVjdCByYXRpbyBhcyB0aGUgaW1hZ2Ugb3RoZXJ3aXNlLFxuICAgIC8vIHRoZSBpbWFnZSBnZXRzIHN0cmV0Y2hlZC5cblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgwLjY2OSwgMSk7XG4gICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICB1bmlmb3JtczogdGhpcy51bmlmb3JtcyxcbiAgICAgIHZlcnRleFNoYWRlcjogdnNoYWRlcixcbiAgICAgIGZyYWdtZW50U2hhZGVyOiBmc2hhZGVyXG4gICAgfSk7IC8vIENyZWF0ZSBtZXNoIChnZW9tICsgbWF0ZXJpYWwpXG5cbiAgICB0aGlzLnBsYW5lID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5wbGFuZSk7IC8vIFRleHQgZm9yIHNsaWRlcy5cblxuICAgIHRoaXMudGV4dCA9IFt7XG4gICAgICBuYW1lOiBcInRlc3QxXCIsXG4gICAgICB0ZXh0OiBcIlRoaXMgaXMgdGhlIGZpcnN0IHRleHRcIlxuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwidGVzdDJcIixcbiAgICAgIHRleHQ6IFwiVGhpcyBpcyB0aGUgc2Vjb25kIHRleHRcIlxuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwidGVzdDNcIixcbiAgICAgIHRleHQ6IFwiVGhpcyBpcyB0aGUgdGhpcmQgdGV4dFwiXG4gICAgfV07IC8vIEFkZCBhIHNlY29uZCBwbGFuZSB0byBob2xkIHRoZSB0ZXh0LlxuXG4gICAgdGhpcy51bmlmb3JtczIgPSB7XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIHVfZHVyYXRpb246IHtcbiAgICAgICAgdmFsdWU6IDAuN1xuICAgICAgfSxcbiAgICAgIHVfdHdpcmxzOiB7XG4gICAgICAgIHZhbHVlOiA0XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLm1hdGVyaWFsMiA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICB1bmlmb3JtczogdGhpcy51bmlmb3JtczIsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICAvLyBOb3JtYWwgdGV4dFxuICAgICAgLy8gZnJhZ21lbnRTaGFkZXI6IHRleHRGcmFnU2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IHRleHRGcmFnU2hhZGVyMixcbiAgICAgIHRyYW5zcGFyZW50OiB0cnVlXG4gICAgfSk7XG4gICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgZm9udDogJ0pvc2VmaW4gU2FucycsXG4gICAgICBzaXplOiAxNixcbiAgICAgIGgxc2l6ZTogMzAsXG4gICAgICBwYWRkaW5nOiAxMCxcbiAgICAgIGNvbG91cjogJyNmZmYnLFxuICAgICAgd2lkdGg6IDUxMixcbiAgICAgIGhlaWdodDogMjU2LFxuICAgICAgenBvczogMC4wMDUsXG4gICAgICBwbGFuZXNpemU6IHtcbiAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgIGhlaWdodDogMC41XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNhbnZhc1RleHQgPSBuZXcgQ2FudmFzVGV4dCh0aGlzLnNjZW5lLCB0aGlzLnRleHRbMV0sIGNvbmZpZywgdGhpcy5tYXRlcmlhbDIpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICAgIHRoaXMuc2xpZGVJbmRleCA9IDA7XG4gICAgdGhpcy50ZXh0dXJlcyA9IFtuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoJy4vcHVibGljL3JhbmRvbS5qcGcnKSwgbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKCcuL3B1YmxpYy9yYW5kb20yLmpwZycpLCBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoJy4vcHVibGljL3JhbmRvbTMuanBnJyldOyAvLyBGYWtlIGEgc2xpZGVzaG93IGZvciBub3cuXG5cbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLnNsaWRlSW5kZXgrKztcbiAgICAgIHRoaXMuZGlzcGxheUluZGV4KCk7XG4gICAgfSwgMzAwMCk7XG4gICAgdGhpcy5kaXNwbGF5SW5kZXgoKTtcbiAgfVxuXG4gIGRpc3BsYXlJbmRleCgpIHtcbiAgICAvLyBSZXNldCB0aGUgdGltZSB2YWx1ZS5cbiAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSA9IDA7XG4gICAgdGhpcy51bmlmb3JtczIudV90aW1lLnZhbHVlID0gMDtcbiAgICB0aGlzLmNhbnZhc1RleHQudXBkYXRlKHRoaXMudGV4dFt0aGlzLnNsaWRlSW5kZXhdKTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfdGV4dHVyZTEudmFsdWUgPSB0aGlzLnRleHR1cmVzW3RoaXMuc2xpZGVJbmRleF07XG4gICAgdGhpcy51bmlmb3Jtcy51X3RleHR1cmUyLnZhbHVlID0gdGhpcy50ZXh0dXJlc1t0aGlzLnNsaWRlSW5kZXggKyAxXTtcblxuICAgIGlmICh0aGlzLnNsaWRlSW5kZXggPj0gdGhpcy50ZXh0dXJlcy5sZW5ndGggLSAxKSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfdGV4dHVyZTEudmFsdWUgPSB0aGlzLnRleHR1cmVzW3RoaXMuc2xpZGVJbmRleF07XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfdGV4dHVyZTIudmFsdWUgPSB0aGlzLnRleHR1cmVzWzBdO1xuICAgICAgdGhpcy5zbGlkZUluZGV4ID0gLTE7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2codGhpcy5zbGlkZUluZGV4KTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnVuaWZvcm1zLnVfdGV4dHVyZTEudmFsdWUpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMudW5pZm9ybXMudV90ZXh0dXJlMi52YWx1ZSk7XG4gIH1cblxuICBvblJlc2l6ZSgpIHtcbiAgICBjb25zdCBhc3BlY3RSYXRpbyA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGxldCB3aWR0aCwgaGVpZ2h0O1xuXG4gICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgIHdpZHRoID0gMTtcbiAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAvIHdpbmRvdy5pbm5lcldpZHRoICogd2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpZHRoID0gYXNwZWN0UmF0aW87XG4gICAgICBoZWlnaHQgPSAxO1xuICAgIH1cblxuICAgIHRoaXMuY2FtZXJhLmxlZnQgPSAtd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEucmlnaHQgPSB3aWR0aDtcbiAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEuYm90dG9tID0gLWhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS55ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIHRoaXMuY2FudmFzVGV4dC5wb3NpdGlvblRleHQodGhpcy5jYW1lcmEsIHtcbiAgICAgIGJvdHRvbTogMC4xXG4gICAgfSk7XG4gIH1cblxuICBvbk1vdXNlTW92ZShldnQpIHtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS55ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZ0LmNsaWVudFk7XG4gIH1cblxuICBvblJhZigpIHtcbiAgICBjb25zdCBkZWx0YSA9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuXG4gICAgaWYgKHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlIDwgdGhpcy51bmlmb3Jtcy51X2R1cmF0aW9uLnZhbHVlKSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSBkZWx0YTtcbiAgICAgIHRoaXMudW5pZm9ybXMyLnVfdGltZS52YWx1ZSArPSBkZWx0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgPSB0aGlzLnVuaWZvcm1zLnVfZHVyYXRpb24udmFsdWU7XG4gICAgICB0aGlzLnVuaWZvcm1zMi51X3RpbWUudmFsdWUgPSB0aGlzLnVuaWZvcm1zMi51X2R1cmF0aW9uLnZhbHVlO1xuICAgIH1cblxuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdsc2xQbGF5Z3JvdW5kMjM7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/glsl-playground23.js\n");

/***/ }),

/***/ "./examples/glsl-playground24.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground24.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _OrbitControls = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _deguMathf = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/shaders/three-shader-chunks/degu-mathf'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n//\n//https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739152#questions/8753186\n//\n// Import shader chunks\n(0, _deguMathf.deguMathf)(THREE);\nconst vshader = `\n#include <deguMathf>\nuniform float u_time;\nuniform float u_radius;\n\nvoid main() {\n  // Normalize time with sin.\n  float delta = normalizedSin(u_time);\n\n  // Sphere positions.\n  vec3 sphere = normalize(position) * u_radius;\n\n  // Mix between square box and sphere.\n  vec3 pos = mix(position, sphere, delta);\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( pos, 1.0 );\n}\n`;\nconst fshader = `\nvoid main()\n{\n  vec3 color = vec3(0.5);\n  gl_FragColor = vec4(color, 1.0);\n}\n`;\nwindow.THREE = THREE;\n\nclass GlslPlayground24 {\n  constructor() {\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 1000);\n    this.camera.position.z = 100;\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_time: {\n        value: 0.0\n      },\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      },\n      u_radius: {\n        value: 20.0\n      }\n    };\n    this.geometry = new THREE.BoxGeometry(30, 30, 30, 10, 10, 10);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader,\n      wireframe: true\n    });\n    this.ball = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.ball);\n    this.controls = new _OrbitControls.OrbitControls(this.camera, this.renderer.domElement);\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground24;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyNC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDI0LmpzP2EzMDUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfT3JiaXRDb250cm9scyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9sc1wiKTtcblxudmFyIF9yYWYgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWZcIik7XG5cbnZhciBfZG9tV2F0Y2hlciA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbS13YXRjaGVyXCIpO1xuXG52YXIgX2RlZ3VNYXRoZiA9IHJlcXVpcmUoXCIuLi9saWIvc2hhZGVycy90aHJlZS1zaGFkZXItY2h1bmtzL2RlZ3UtbWF0aGZcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLy9cbi8vXG4vL2h0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MTUyI3F1ZXN0aW9ucy84NzUzMTg2XG4vL1xuLy8gSW1wb3J0IHNoYWRlciBjaHVua3NcbigwLCBfZGVndU1hdGhmLmRlZ3VNYXRoZikoVEhSRUUpO1xuY29uc3QgdnNoYWRlciA9IGBcbiNpbmNsdWRlIDxkZWd1TWF0aGY+XG51bmlmb3JtIGZsb2F0IHVfdGltZTtcbnVuaWZvcm0gZmxvYXQgdV9yYWRpdXM7XG5cbnZvaWQgbWFpbigpIHtcbiAgLy8gTm9ybWFsaXplIHRpbWUgd2l0aCBzaW4uXG4gIGZsb2F0IGRlbHRhID0gbm9ybWFsaXplZFNpbih1X3RpbWUpO1xuXG4gIC8vIFNwaGVyZSBwb3NpdGlvbnMuXG4gIHZlYzMgc3BoZXJlID0gbm9ybWFsaXplKHBvc2l0aW9uKSAqIHVfcmFkaXVzO1xuXG4gIC8vIE1peCBiZXR3ZWVuIHNxdWFyZSBib3ggYW5kIHNwaGVyZS5cbiAgdmVjMyBwb3MgPSBtaXgocG9zaXRpb24sIHNwaGVyZSwgZGVsdGEpO1xuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3MsIDEuMCApO1xufVxuYDtcbmNvbnN0IGZzaGFkZXIgPSBgXG52b2lkIG1haW4oKVxue1xuICB2ZWMzIGNvbG9yID0gdmVjMygwLjUpO1xuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxLjApO1xufVxuYDtcbndpbmRvdy5USFJFRSA9IFRIUkVFO1xuXG5jbGFzcyBHbHNsUGxheWdyb3VuZDI0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSgtMSwgMSwgMSwgLTEsIDAuMSwgMTApO1xuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDQ1LCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMSwgMTAwMCk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDEwMDtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMucmFmID0gbmV3IF9yYWYuUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IF9kb21XYXRjaGVyLkRvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdtb3VzZW1vdmUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKVxuICAgIH0pO1xuICAgIHRoaXMudW5pZm9ybXMgPSB7XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIHVfbW91c2U6IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLjAsXG4gICAgICAgICAgeTogMC4wXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1X3Jlc29sdXRpb246IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVfcmFkaXVzOiB7XG4gICAgICAgIHZhbHVlOiAyMC4wXG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDMwLCAzMCwgMzAsIDEwLCAxMCwgMTApO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlcixcbiAgICAgIHdpcmVmcmFtZTogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuYmFsbCA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuYmFsbCk7XG4gICAgdGhpcy5jb250cm9scyA9IG5ldyBfT3JiaXRDb250cm9scy5PcmJpdENvbnRyb2xzKHRoaXMuY2FtZXJhLCB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgb25SZXNpemUoKSB7XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBsZXQgd2lkdGgsIGhlaWdodDtcblxuICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxKSB7XG4gICAgICB3aWR0aCA9IDE7XG4gICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IGFzcGVjdFJhdGlvO1xuICAgICAgaGVpZ2h0ID0gMTtcbiAgICB9XG5cbiAgICB0aGlzLmNhbWVyYS5sZWZ0ID0gLXdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEudG9wID0gaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLmJvdHRvbSA9IC1oZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS54ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgfVxuXG4gIG9uTW91c2VNb3ZlKGV2dCkge1xuICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS54ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZ0LmNsaWVudFg7XG4gICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgfVxuXG4gIG9uUmFmKGRlbHRhKSB7XG4gICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgKz0gdGhpcy5yYWYuZ2V0RGVsdGEodHJ1ZSk7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gR2xzbFBsYXlncm91bmQyNDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/glsl-playground24.js\n");

/***/ }),

/***/ "./examples/glsl-playground25.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground25.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _OrbitControls = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _deguMathf = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/shaders/three-shader-chunks/degu-mathf'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739206#questions/8753186\n//\n// Import shader chunks\n(0, _deguMathf.deguMathf)(THREE);\nconst vshader = `\n#include <deguMathf>\n// PI\n#include <common>\n// uniform\n#include <lights_pars_begin>\n\nuniform float u_time;\nuniform float u_radius;\n\nvarying vec3 vPosition;\nvarying vec3 vLightIntensity;\n\n\nvoid main() {\n  float delta = normalizedSin(u_time) * 3.0;\n  vec3 vLightFront;\n  vec3 vLightBack;\n  vec3 vIndirectFront;\n  vec3 objectNormal = delta * normal + (1.0 - delta) * normalize(position);\n\n  #include <defaultnormal_vertex>\n  #include <begin_vertex>\n  #include <project_vertex>\n  #include <lights_lambert_vertex>\n\n\n\n  // Get a varying light color for each pixel.\n  vLightIntensity = vLightFront + ambientLightColor;\n  vPosition = position;\n\n  vec3 v = normalize(position) * u_radius;\n  vec3 pos = delta * position + (1.0 - delta) * v;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( pos, 1.0 );\n}\n`;\nconst fshader = `\nvarying vec3 vLightIntensity;\nvoid main()\n{\n  vec3 color = vec3(0.5);\n  gl_FragColor = vec4(vLightIntensity * color, 1.0);\n}\n`;\n\nclass GlslPlayground24 {\n  constructor() {\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 10000);\n    this.camera.position.z = 100; // Add some lights.\n\n    const ambient = new THREE.HemisphereLight(0xFFFFFF, 0xFFFFFF, 1);\n    const light = new THREE.DirectionalLight(0xFFFFFF, 1);\n    light.position.set(0, 6, 2);\n    this.scene.add(ambient);\n    this.scene.add(light);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.geometry = new THREE.BoxGeometry(30, 30, 30, 10, 10, 10);\n    this.uniforms = THREE.UniformsUtils.merge([THREE.UniformsLib[\"common\"], THREE.UniformsLib[\"lights\"]]);\n    this.uniforms.u_time = {\n      value: 0.0\n    };\n    this.uniforms.u_mouse = {\n      value: {\n        x: 0.0,\n        y: 0.0\n      }\n    };\n    this.uniforms.u_resolution = {\n      value: {\n        x: 0,\n        y: 0\n      }\n    };\n    this.uniforms.u_radius = {\n      value: 20.0\n    };\n    console.log('uniforms');\n    console.log(this.uniforms);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader,\n      lights: true\n    });\n    const material1 = new THREE.MeshBasicMaterial({\n      color: 0xb7ff00,\n      wireframe: true\n    });\n    this.ball = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.ball);\n    this.controls = new _OrbitControls.OrbitControls(this.camera, this.renderer.domElement);\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground24;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyNS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDI1LmpzPzFlNzgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfT3JiaXRDb250cm9scyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9sc1wiKTtcblxudmFyIF9yYWYgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWZcIik7XG5cbnZhciBfZG9tV2F0Y2hlciA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbS13YXRjaGVyXCIpO1xuXG52YXIgX2RlZ3VNYXRoZiA9IHJlcXVpcmUoXCIuLi9saWIvc2hhZGVycy90aHJlZS1zaGFkZXItY2h1bmtzL2RlZ3UtbWF0aGZcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLy9cbi8vXG4vLyBodHRwczovL3d3dy51ZGVteS5jb20vY291cnNlL2xlYXJuLWdsc2wtc2hhZGVycy1mcm9tLXNjcmF0Y2gvbGVhcm4vbGVjdHVyZS8xMzczOTIwNiNxdWVzdGlvbnMvODc1MzE4NlxuLy9cbi8vIEltcG9ydCBzaGFkZXIgY2h1bmtzXG4oMCwgX2RlZ3VNYXRoZi5kZWd1TWF0aGYpKFRIUkVFKTtcbmNvbnN0IHZzaGFkZXIgPSBgXG4jaW5jbHVkZSA8ZGVndU1hdGhmPlxuLy8gUEnjga7lrprnvqnjgarjganjgYzjgYLjgorjgIHjg6njgqTjg4jmg4XloLHjgpLkvb/jgYbjga7jgavlv4XopoFcbiNpbmNsdWRlIDxjb21tb24+XG4vLyDjg6njgqTjg4jjga7mp4vpgKDkvZPjgIF1bmlmb3Jt5aSJ5pWw44Gq44Gp44GM5a6a576p44GV44KM44Gm44GE44KLXG4jaW5jbHVkZSA8bGlnaHRzX3BhcnNfYmVnaW4+XG5cbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xudW5pZm9ybSBmbG9hdCB1X3JhZGl1cztcblxudmFyeWluZyB2ZWMzIHZQb3NpdGlvbjtcbnZhcnlpbmcgdmVjMyB2TGlnaHRJbnRlbnNpdHk7XG5cblxudm9pZCBtYWluKCkge1xuICBmbG9hdCBkZWx0YSA9IG5vcm1hbGl6ZWRTaW4odV90aW1lKSAqIDMuMDtcbiAgdmVjMyB2TGlnaHRGcm9udDtcbiAgdmVjMyB2TGlnaHRCYWNrO1xuICB2ZWMzIHZJbmRpcmVjdEZyb250O1xuICB2ZWMzIG9iamVjdE5vcm1hbCA9IGRlbHRhICogbm9ybWFsICsgKDEuMCAtIGRlbHRhKSAqIG5vcm1hbGl6ZShwb3NpdGlvbik7XG5cbiAgI2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxuICAjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuICAjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG4gICNpbmNsdWRlIDxsaWdodHNfbGFtYmVydF92ZXJ0ZXg+XG5cblxuXG4gIC8vIEdldCBhIHZhcnlpbmcgbGlnaHQgY29sb3IgZm9yIGVhY2ggcGl4ZWwuXG4gIHZMaWdodEludGVuc2l0eSA9IHZMaWdodEZyb250ICsgYW1iaWVudExpZ2h0Q29sb3I7XG4gIHZQb3NpdGlvbiA9IHBvc2l0aW9uO1xuXG4gIHZlYzMgdiA9IG5vcm1hbGl6ZShwb3NpdGlvbikgKiB1X3JhZGl1cztcbiAgdmVjMyBwb3MgPSBkZWx0YSAqIHBvc2l0aW9uICsgKDEuMCAtIGRlbHRhKSAqIHY7XG5cbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zLCAxLjAgKTtcbn1cbmA7XG5jb25zdCBmc2hhZGVyID0gYFxudmFyeWluZyB2ZWMzIHZMaWdodEludGVuc2l0eTtcbnZvaWQgbWFpbigpXG57XG4gIHZlYzMgY29sb3IgPSB2ZWMzKDAuNSk7XG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQodkxpZ2h0SW50ZW5zaXR5ICogY29sb3IsIDEuMCk7XG59XG5gO1xuXG5jbGFzcyBHbHNsUGxheWdyb3VuZDI0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSgtMSwgMSwgMSwgLTEsIDAuMSwgMTApO1xuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDQ1LCB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCwgMSwgMTAwMDApO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxMDA7IC8vIEFkZCBzb21lIGxpZ2h0cy5cblxuICAgIGNvbnN0IGFtYmllbnQgPSBuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KDB4RkZGRkZGLCAweEZGRkZGRiwgMSk7XG4gICAgY29uc3QgbGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweEZGRkZGRiwgMSk7XG4gICAgbGlnaHQucG9zaXRpb24uc2V0KDAsIDYsIDIpO1xuICAgIHRoaXMuc2NlbmUuYWRkKGFtYmllbnQpO1xuICAgIHRoaXMuc2NlbmUuYWRkKGxpZ2h0KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMucmFmID0gbmV3IF9yYWYuUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IF9kb21XYXRjaGVyLkRvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdtb3VzZW1vdmUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKVxuICAgIH0pO1xuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMzAsIDMwLCAzMCwgMTAsIDEwLCAxMCk7XG4gICAgdGhpcy51bmlmb3JtcyA9IFRIUkVFLlVuaWZvcm1zVXRpbHMubWVyZ2UoW1RIUkVFLlVuaWZvcm1zTGliW1wiY29tbW9uXCJdLCBUSFJFRS5Vbmlmb3Jtc0xpYltcImxpZ2h0c1wiXV0pO1xuICAgIHRoaXMudW5pZm9ybXMudV90aW1lID0ge1xuICAgICAgdmFsdWU6IDAuMFxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X21vdXNlID0ge1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgeDogMC4wLFxuICAgICAgICB5OiAwLjBcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uID0ge1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMFxuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X3JhZGl1cyA9IHtcbiAgICAgIHZhbHVlOiAyMC4wXG4gICAgfTtcbiAgICBjb25zb2xlLmxvZygndW5pZm9ybXMnKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnVuaWZvcm1zKTtcbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXIsXG4gICAgICBsaWdodHM6IHRydWVcbiAgICB9KTtcbiAgICBjb25zdCBtYXRlcmlhbDEgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgY29sb3I6IDB4YjdmZjAwLFxuICAgICAgd2lyZWZyYW1lOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5iYWxsID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5iYWxsKTtcbiAgICB0aGlzLmNvbnRyb2xzID0gbmV3IF9PcmJpdENvbnRyb2xzLk9yYml0Q29udHJvbHModGhpcy5jYW1lcmEsIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBvblJlc2l6ZSgpIHtcbiAgICBjb25zdCBhc3BlY3RSYXRpbyA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGxldCB3aWR0aCwgaGVpZ2h0O1xuXG4gICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgIHdpZHRoID0gMTtcbiAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAvIHdpbmRvdy5pbm5lcldpZHRoICogd2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpZHRoID0gYXNwZWN0UmF0aW87XG4gICAgICBoZWlnaHQgPSAxO1xuICAgIH1cblxuICAgIHRoaXMuY2FtZXJhLmxlZnQgPSAtd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEucmlnaHQgPSB3aWR0aDtcbiAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEuYm90dG9tID0gLWhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS55ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICB9XG5cbiAgb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnggPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFggOiBldnQuY2xpZW50WDtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueSA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2dC5jbGllbnRZO1xuICB9XG5cbiAgb25SYWYoZGVsdGEpIHtcbiAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSB0aGlzLnJhZi5nZXREZWx0YSh0cnVlKTtcbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBHbHNsUGxheWdyb3VuZDI0OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/glsl-playground25.js\n");

/***/ }),

/***/ "./examples/glsl-playground26.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground26.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _OrbitControls = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _deguMathf = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/shaders/three-shader-chunks/degu-mathf'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\nvar _noise = __webpack_require__(/*! ../lib/shaders/three-shader-chunks/noise */ \"./lib/shaders/three-shader-chunks/noise.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739196#questions/8753186\n// https://www.clicktorelease.com/blog/vertex-displacement-noise-3d-webgl-glsl-three-js/\n// https://codepen.io/nik-lever/pen/PLYRWm\n// Import shader chunks\n(0, _deguMathf.deguMathf)(THREE);\n(0, _noise.noise)(THREE);\nconst vshader = `\n#include <noise>\n#include <deguMathf>\nuniform float u_time;\n\nvarying float v_noise;\nvarying vec2 vUv;\nvoid main() {\n\n\n    // \n    // Uneune ball poi\n    // float arms = 0.05;\n    // float b = 5.0 * pnoise (arms * position + u_time, vec3(100.0));\n\n    // Spike\n    // float b = pnoise (position + u_time, vec3(100.0)) * 5.0;\n\n    // Breathing\n    float arms = 0.032;\n    v_noise = 5.0 * -0.1 * turbulence(0.5 * normal + u_time * 0.2);\n    float b = pnoise (arms * position + u_time, vec3(100.0)) * ((normalizedSin(u_time * 0.5) + 1.0) * 10.0);\n    float displacement = b - 10.0 * v_noise;\n\n    // Calculate a displancement amount with normal.\n    // https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739196#questions/8753186\n    // v_noise = 10.0 * -0.1 * turbulence(0.5 * normal + u_time);\n    // float b = 5.0 * pnoise (0.05 * position, vec3(100.0));\n    // float displacement = b - 10.0 * v_noise;\n\n    vec3 pos = position + normal * displacement;\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( pos, 1.0 );\n}\n`;\nconst fshader = `\n#define PI 3.141592653589\n#define PI2 6.28318530718\n\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform float u_time;\nuniform vec3 u_color;\n\nvarying vec2 vUv;\nvarying float v_noise;\nvoid main()\n{\n  // We use the varying v_noise to cange the colors.\n  vec3 color = vec3(vUv * (1.0 - 2.0 * v_noise), 0.0);\n  gl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground26 {\n  constructor() {\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 10000);\n    this.camera.position.z = 100; // Add some lights.\n\n    const ambient = new THREE.HemisphereLight(0xFFFFFF, 0xFFFFFF, 1);\n    const light = new THREE.DirectionalLight(0xFFFFFF, 1);\n    light.position.set(0, 6, 2);\n    this.scene.add(ambient);\n    this.scene.add(light);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.geometry = new THREE.IcosahedronGeometry(20, 4);\n    this.uniforms = {\n      u_time: {\n        value: 0.0\n      },\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      },\n      u_color: {\n        value: new THREE.Color(0xb7ff00)\n      }\n    };\n    console.log('uniforms');\n    console.log(this.uniforms);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader // wireframe: true\n\n    });\n    this.ball = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.ball);\n    this.controls = new _OrbitControls.OrbitControls(this.camera, this.renderer.domElement);\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    if (this.uniforms) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n    }\n\n    if (this.renderer) {\n      this.renderer.render(this.scene, this.camera);\n    }\n  }\n\n}\n\nexports.default = GlslPlayground26;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyNi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDI2LmpzP2Y2ZTgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfT3JiaXRDb250cm9scyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9sc1wiKTtcblxudmFyIF9yYWYgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWZcIik7XG5cbnZhciBfZG9tV2F0Y2hlciA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbS13YXRjaGVyXCIpO1xuXG52YXIgX2RlZ3VNYXRoZiA9IHJlcXVpcmUoXCIuLi9saWIvc2hhZGVycy90aHJlZS1zaGFkZXItY2h1bmtzL2RlZ3UtbWF0aGZcIik7XG5cbnZhciBfbm9pc2UgPSByZXF1aXJlKFwiLi4vbGliL3NoYWRlcnMvdGhyZWUtc2hhZGVyLWNodW5rcy9ub2lzZVwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vL1xuLy8gaHR0cHM6Ly93d3cudWRlbXkuY29tL2NvdXJzZS9sZWFybi1nbHNsLXNoYWRlcnMtZnJvbS1zY3JhdGNoL2xlYXJuL2xlY3R1cmUvMTM3MzkxOTYjcXVlc3Rpb25zLzg3NTMxODZcbi8vIGh0dHBzOi8vd3d3LmNsaWNrdG9yZWxlYXNlLmNvbS9ibG9nL3ZlcnRleC1kaXNwbGFjZW1lbnQtbm9pc2UtM2Qtd2ViZ2wtZ2xzbC10aHJlZS1qcy9cbi8vIGh0dHBzOi8vY29kZXBlbi5pby9uaWstbGV2ZXIvcGVuL1BMWVJXbVxuLy8gSW1wb3J0IHNoYWRlciBjaHVua3NcbigwLCBfZGVndU1hdGhmLmRlZ3VNYXRoZikoVEhSRUUpO1xuKDAsIF9ub2lzZS5ub2lzZSkoVEhSRUUpO1xuY29uc3QgdnNoYWRlciA9IGBcbiNpbmNsdWRlIDxub2lzZT5cbiNpbmNsdWRlIDxkZWd1TWF0aGY+XG51bmlmb3JtIGZsb2F0IHVfdGltZTtcblxudmFyeWluZyBmbG9hdCB2X25vaXNlO1xudmFyeWluZyB2ZWMyIHZVdjtcbnZvaWQgbWFpbigpIHtcblxuXG4gICAgLy8g5pmu6YCa44Gr44GT44KM44Gn44KC44GE44GE44GM44K144Oz44OX44Or55So44Gr44OO44O844Oe44Or44KS5LiL6KiY44Gn44GX44KI44GGXG4gICAgLy8gVW5ldW5lIGJhbGwgcG9pXG4gICAgLy8gZmxvYXQgYXJtcyA9IDAuMDU7XG4gICAgLy8gZmxvYXQgYiA9IDUuMCAqIHBub2lzZSAoYXJtcyAqIHBvc2l0aW9uICsgdV90aW1lLCB2ZWMzKDEwMC4wKSk7XG5cbiAgICAvLyBTcGlrZVxuICAgIC8vIGZsb2F0IGIgPSBwbm9pc2UgKHBvc2l0aW9uICsgdV90aW1lLCB2ZWMzKDEwMC4wKSkgKiA1LjA7XG5cbiAgICAvLyBCcmVhdGhpbmdcbiAgICBmbG9hdCBhcm1zID0gMC4wMzI7XG4gICAgdl9ub2lzZSA9IDUuMCAqIC0wLjEgKiB0dXJidWxlbmNlKDAuNSAqIG5vcm1hbCArIHVfdGltZSAqIDAuMik7XG4gICAgZmxvYXQgYiA9IHBub2lzZSAoYXJtcyAqIHBvc2l0aW9uICsgdV90aW1lLCB2ZWMzKDEwMC4wKSkgKiAoKG5vcm1hbGl6ZWRTaW4odV90aW1lICogMC41KSArIDEuMCkgKiAxMC4wKTtcbiAgICBmbG9hdCBkaXNwbGFjZW1lbnQgPSBiIC0gMTAuMCAqIHZfbm9pc2U7XG5cbiAgICAvLyBDYWxjdWxhdGUgYSBkaXNwbGFuY2VtZW50IGFtb3VudCB3aXRoIG5vcm1hbC5cbiAgICAvLyBodHRwczovL3d3dy51ZGVteS5jb20vY291cnNlL2xlYXJuLWdsc2wtc2hhZGVycy1mcm9tLXNjcmF0Y2gvbGVhcm4vbGVjdHVyZS8xMzczOTE5NiNxdWVzdGlvbnMvODc1MzE4NlxuICAgIC8vIHZfbm9pc2UgPSAxMC4wICogLTAuMSAqIHR1cmJ1bGVuY2UoMC41ICogbm9ybWFsICsgdV90aW1lKTtcbiAgICAvLyBmbG9hdCBiID0gNS4wICogcG5vaXNlICgwLjA1ICogcG9zaXRpb24sIHZlYzMoMTAwLjApKTtcbiAgICAvLyBmbG9hdCBkaXNwbGFjZW1lbnQgPSBiIC0gMTAuMCAqIHZfbm9pc2U7XG5cbiAgICB2ZWMzIHBvcyA9IHBvc2l0aW9uICsgbm9ybWFsICogZGlzcGxhY2VtZW50O1xuICAgIHZVdiA9IHV2O1xuICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIHBvcywgMS4wICk7XG59XG5gO1xuY29uc3QgZnNoYWRlciA9IGBcbiNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1ODlcbiNkZWZpbmUgUEkyIDYuMjgzMTg1MzA3MThcblxudW5pZm9ybSB2ZWMyIHVfbW91c2U7XG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xudW5pZm9ybSBmbG9hdCB1X3RpbWU7XG51bmlmb3JtIHZlYzMgdV9jb2xvcjtcblxudmFyeWluZyB2ZWMyIHZVdjtcbnZhcnlpbmcgZmxvYXQgdl9ub2lzZTtcbnZvaWQgbWFpbigpXG57XG4gIC8vIFdlIHVzZSB0aGUgdmFyeWluZyB2X25vaXNlIHRvIGNhbmdlIHRoZSBjb2xvcnMuXG4gIHZlYzMgY29sb3IgPSB2ZWMzKHZVdiAqICgxLjAgLSAyLjAgKiB2X25vaXNlKSwgMC4wKTtcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcbn1cbmA7XG5cbmNsYXNzIEdsc2xQbGF5Z3JvdW5kMjYge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNDUsIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LCAxLCAxMDAwMCk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDEwMDsgLy8gQWRkIHNvbWUgbGlnaHRzLlxuXG4gICAgY29uc3QgYW1iaWVudCA9IG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQoMHhGRkZGRkYsIDB4RkZGRkZGLCAxKTtcbiAgICBjb25zdCBsaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4RkZGRkZGLCAxKTtcbiAgICBsaWdodC5wb3NpdGlvbi5zZXQoMCwgNiwgMik7XG4gICAgdGhpcy5zY2VuZS5hZGQoYW1iaWVudCk7XG4gICAgdGhpcy5zY2VuZS5hZGQobGlnaHQpO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgX3JhZi5SYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgX2RvbVdhdGNoZXIuRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5JY29zYWhlZHJvbkdlb21ldHJ5KDIwLCA0KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgdV90aW1lOiB7XG4gICAgICAgIHZhbHVlOiAwLjBcbiAgICAgIH0sXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1X2NvbG9yOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHhiN2ZmMDApXG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zb2xlLmxvZygndW5pZm9ybXMnKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnVuaWZvcm1zKTtcbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXIgLy8gd2lyZWZyYW1lOiB0cnVlXG5cbiAgICB9KTtcbiAgICB0aGlzLmJhbGwgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmJhbGwpO1xuICAgIHRoaXMuY29udHJvbHMgPSBuZXcgX09yYml0Q29udHJvbHMuT3JiaXRDb250cm9scyh0aGlzLmNhbWVyYSwgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIG9uUmVzaXplKCkge1xuICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgbGV0IHdpZHRoLCBoZWlnaHQ7XG5cbiAgICBpZiAoYXNwZWN0UmF0aW8gPj0gMSkge1xuICAgICAgd2lkdGggPSAxO1xuICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGggKiB3aWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgIGhlaWdodCA9IDE7XG4gICAgfVxuXG4gICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICB0aGlzLmNhbWVyYS5yaWdodCA9IHdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnRvcCA9IGhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIH1cblxuICBvbk1vdXNlTW92ZShldnQpIHtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS55ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZ0LmNsaWVudFk7XG4gIH1cblxuICBvblJhZihkZWx0YSkge1xuICAgIGlmICh0aGlzLnVuaWZvcm1zKSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSB0aGlzLnJhZi5nZXREZWx0YSh0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5yZW5kZXJlcikge1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdsc2xQbGF5Z3JvdW5kMjY7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground26.js\n");

/***/ }),

/***/ "./examples/glsl-playground27.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground27.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _OrbitControls = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _deguMathf = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/shaders/three-shader-chunks/degu-mathf'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\nvar _noise = __webpack_require__(/*! ../lib/shaders/three-shader-chunks/noise */ \"./lib/shaders/three-shader-chunks/noise.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739196#questions/8753186\n// https://www.clicktorelease.com/blog/vertex-displacement-noise-3d-webgl-glsl-three-js/\n// https://codepen.io/nik-lever/pen/PLYRWm\n// Import shader chunks\n(0, _deguMathf.deguMathf)(THREE);\n(0, _noise.noise)(THREE);\nconst vshader = `\n#include <noise>\n#include <deguMathf>\nuniform float u_time;\n\nvarying float v_noise;\nvarying vec2 vUv;\nvoid main() {\n\n\n    // \n    // Uneune ball poi\n    // float arms = 0.05;\n    // float b = 5.0 * pnoise (arms * position + u_time, vec3(100.0));\n\n    // Spike\n    // float b = pnoise (position + u_time, vec3(100.0)) * 5.0;\n\n    // Breathing\n    float arms = 0.032;\n    v_noise = 10.0 * -0.1 * turbulence(0.5 * normal + u_time * 0.2);\n    float b = pnoise (arms * position + u_time, vec3(100.0)) * ((normalizedSin(u_time * 0.5) + 1.0) * 10.0);\n    float displacement = b - 10.0 * v_noise;\n\n    // Calculate a displancement amount with normal.\n    // https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739196#questions/8753186\n    // v_noise = 10.0 * -0.1 * turbulence(0.5 * normal + u_time);\n    // float b = 5.0 * pnoise (0.05 * position, vec3(100.0));\n    // float displacement = b - 10.0 * v_noise;\n\n    vec3 pos = position + normal * displacement;\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( pos, 1.0 );\n}\n`;\nconst fshader = `\n#include <noise>\n#include <deguMathf>\n#define PI 3.141592653589\n#define PI2 6.28318530718\n\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform float u_time;\nuniform vec3 u_color;\nuniform sampler2D u_tex;\n\n\nvarying vec2 vUv;\nvarying float v_noise;\nvoid main()\n{\n  // get a random offset\n  float r = .01 * random( gl_FragCoord.xyz, 0.0 );\n  // lookup vertically in the texture, using noise and offset\n  // to get the right RGB colour\n  // So really only consider the Y value in the texture.\n//   vec2 uv = vec2( 0, 1.3 * v_noise + r );\n\n  // Simple version.\n  // Using a v_noise, look up a specific y point in the texture\n  // and display that out to the current pixel.\n  vec2 uv = vec2(0, 1.2 * v_noise);\n  vec3 color = texture2D( u_tex, uv ).rgb;\n\n  gl_FragColor = vec4( color, 1.0 );\n}\n`;\n\nclass GlslPlayground27 {\n  constructor() {\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 10000);\n    this.camera.position.z = 100; // Add some lights.\n\n    const ambient = new THREE.HemisphereLight(0xFFFFFF, 0xFFFFFF, 1);\n    const light = new THREE.DirectionalLight(0xFFFFFF, 1);\n    light.position.set(0, 6, 2);\n    this.scene.add(ambient);\n    this.scene.add(light);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.geometry = new THREE.IcosahedronGeometry(20, 4);\n    this.uniforms = {\n      u_time: {\n        value: 0.0\n      },\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      },\n      u_color: {\n        value: new THREE.Color(0xb7ff00)\n      },\n      u_tex: {\n        value: new THREE.TextureLoader().load(\"/public/explosion.png\")\n      }\n    };\n    console.log('uniforms');\n    console.log(this.uniforms);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader // wireframe: true\n\n    });\n    this.ball = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.ball);\n    this.controls = new _OrbitControls.OrbitControls(this.camera, this.renderer.domElement);\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    if (this.uniforms) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n    }\n\n    if (this.renderer) {\n      this.renderer.render(this.scene, this.camera);\n    }\n  }\n\n}\n\nexports.default = GlslPlayground27;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyNy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDI3LmpzPzExZWEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfT3JiaXRDb250cm9scyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9sc1wiKTtcblxudmFyIF9yYWYgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWZcIik7XG5cbnZhciBfZG9tV2F0Y2hlciA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbS13YXRjaGVyXCIpO1xuXG52YXIgX2RlZ3VNYXRoZiA9IHJlcXVpcmUoXCIuLi9saWIvc2hhZGVycy90aHJlZS1zaGFkZXItY2h1bmtzL2RlZ3UtbWF0aGZcIik7XG5cbnZhciBfbm9pc2UgPSByZXF1aXJlKFwiLi4vbGliL3NoYWRlcnMvdGhyZWUtc2hhZGVyLWNodW5rcy9ub2lzZVwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vL1xuLy8gaHR0cHM6Ly93d3cudWRlbXkuY29tL2NvdXJzZS9sZWFybi1nbHNsLXNoYWRlcnMtZnJvbS1zY3JhdGNoL2xlYXJuL2xlY3R1cmUvMTM3MzkxOTYjcXVlc3Rpb25zLzg3NTMxODZcbi8vIGh0dHBzOi8vd3d3LmNsaWNrdG9yZWxlYXNlLmNvbS9ibG9nL3ZlcnRleC1kaXNwbGFjZW1lbnQtbm9pc2UtM2Qtd2ViZ2wtZ2xzbC10aHJlZS1qcy9cbi8vIGh0dHBzOi8vY29kZXBlbi5pby9uaWstbGV2ZXIvcGVuL1BMWVJXbVxuLy8gSW1wb3J0IHNoYWRlciBjaHVua3NcbigwLCBfZGVndU1hdGhmLmRlZ3VNYXRoZikoVEhSRUUpO1xuKDAsIF9ub2lzZS5ub2lzZSkoVEhSRUUpO1xuY29uc3QgdnNoYWRlciA9IGBcbiNpbmNsdWRlIDxub2lzZT5cbiNpbmNsdWRlIDxkZWd1TWF0aGY+XG51bmlmb3JtIGZsb2F0IHVfdGltZTtcblxudmFyeWluZyBmbG9hdCB2X25vaXNlO1xudmFyeWluZyB2ZWMyIHZVdjtcbnZvaWQgbWFpbigpIHtcblxuXG4gICAgLy8g5pmu6YCa44Gr44GT44KM44Gn44KC44GE44GE44GM44K144Oz44OX44Or55So44Gr44OO44O844Oe44Or44KS5LiL6KiY44Gn44GX44KI44GGXG4gICAgLy8gVW5ldW5lIGJhbGwgcG9pXG4gICAgLy8gZmxvYXQgYXJtcyA9IDAuMDU7XG4gICAgLy8gZmxvYXQgYiA9IDUuMCAqIHBub2lzZSAoYXJtcyAqIHBvc2l0aW9uICsgdV90aW1lLCB2ZWMzKDEwMC4wKSk7XG5cbiAgICAvLyBTcGlrZVxuICAgIC8vIGZsb2F0IGIgPSBwbm9pc2UgKHBvc2l0aW9uICsgdV90aW1lLCB2ZWMzKDEwMC4wKSkgKiA1LjA7XG5cbiAgICAvLyBCcmVhdGhpbmdcbiAgICBmbG9hdCBhcm1zID0gMC4wMzI7XG4gICAgdl9ub2lzZSA9IDEwLjAgKiAtMC4xICogdHVyYnVsZW5jZSgwLjUgKiBub3JtYWwgKyB1X3RpbWUgKiAwLjIpO1xuICAgIGZsb2F0IGIgPSBwbm9pc2UgKGFybXMgKiBwb3NpdGlvbiArIHVfdGltZSwgdmVjMygxMDAuMCkpICogKChub3JtYWxpemVkU2luKHVfdGltZSAqIDAuNSkgKyAxLjApICogMTAuMCk7XG4gICAgZmxvYXQgZGlzcGxhY2VtZW50ID0gYiAtIDEwLjAgKiB2X25vaXNlO1xuXG4gICAgLy8gQ2FsY3VsYXRlIGEgZGlzcGxhbmNlbWVudCBhbW91bnQgd2l0aCBub3JtYWwuXG4gICAgLy8gaHR0cHM6Ly93d3cudWRlbXkuY29tL2NvdXJzZS9sZWFybi1nbHNsLXNoYWRlcnMtZnJvbS1zY3JhdGNoL2xlYXJuL2xlY3R1cmUvMTM3MzkxOTYjcXVlc3Rpb25zLzg3NTMxODZcbiAgICAvLyB2X25vaXNlID0gMTAuMCAqIC0wLjEgKiB0dXJidWxlbmNlKDAuNSAqIG5vcm1hbCArIHVfdGltZSk7XG4gICAgLy8gZmxvYXQgYiA9IDUuMCAqIHBub2lzZSAoMC4wNSAqIHBvc2l0aW9uLCB2ZWMzKDEwMC4wKSk7XG4gICAgLy8gZmxvYXQgZGlzcGxhY2VtZW50ID0gYiAtIDEwLjAgKiB2X25vaXNlO1xuXG4gICAgdmVjMyBwb3MgPSBwb3NpdGlvbiArIG5vcm1hbCAqIGRpc3BsYWNlbWVudDtcbiAgICB2VXYgPSB1djtcbiAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3MsIDEuMCApO1xufVxuYDtcbmNvbnN0IGZzaGFkZXIgPSBgXG4jaW5jbHVkZSA8bm9pc2U+XG4jaW5jbHVkZSA8ZGVndU1hdGhmPlxuI2RlZmluZSBQSSAzLjE0MTU5MjY1MzU4OVxuI2RlZmluZSBQSTIgNi4yODMxODUzMDcxOFxuXG51bmlmb3JtIHZlYzIgdV9tb3VzZTtcbnVuaWZvcm0gdmVjMiB1X3Jlc29sdXRpb247XG51bmlmb3JtIGZsb2F0IHVfdGltZTtcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xudW5pZm9ybSBzYW1wbGVyMkQgdV90ZXg7XG5cblxudmFyeWluZyB2ZWMyIHZVdjtcbnZhcnlpbmcgZmxvYXQgdl9ub2lzZTtcbnZvaWQgbWFpbigpXG57XG4gIC8vIGdldCBhIHJhbmRvbSBvZmZzZXRcbiAgZmxvYXQgciA9IC4wMSAqIHJhbmRvbSggZ2xfRnJhZ0Nvb3JkLnh5eiwgMC4wICk7XG4gIC8vIGxvb2t1cCB2ZXJ0aWNhbGx5IGluIHRoZSB0ZXh0dXJlLCB1c2luZyBub2lzZSBhbmQgb2Zmc2V0XG4gIC8vIHRvIGdldCB0aGUgcmlnaHQgUkdCIGNvbG91clxuICAvLyBTbyByZWFsbHkgb25seSBjb25zaWRlciB0aGUgWSB2YWx1ZSBpbiB0aGUgdGV4dHVyZS5cbi8vICAgdmVjMiB1diA9IHZlYzIoIDAsIDEuMyAqIHZfbm9pc2UgKyByICk7XG5cbiAgLy8gU2ltcGxlIHZlcnNpb24uXG4gIC8vIFVzaW5nIGEgdl9ub2lzZSwgbG9vayB1cCBhIHNwZWNpZmljIHkgcG9pbnQgaW4gdGhlIHRleHR1cmVcbiAgLy8gYW5kIGRpc3BsYXkgdGhhdCBvdXQgdG8gdGhlIGN1cnJlbnQgcGl4ZWwuXG4gIHZlYzIgdXYgPSB2ZWMyKDAsIDEuMiAqIHZfbm9pc2UpO1xuICB2ZWMzIGNvbG9yID0gdGV4dHVyZTJEKCB1X3RleCwgdXYgKS5yZ2I7XG5cbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNCggY29sb3IsIDEuMCApO1xufVxuYDtcblxuY2xhc3MgR2xzbFBsYXlncm91bmQyNyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoLTEsIDEsIDEsIC0xLCAwLjEsIDEwKTtcbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg0NSwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDEsIDEwMDAwKTtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID0gMTAwOyAvLyBBZGQgc29tZSBsaWdodHMuXG5cbiAgICBjb25zdCBhbWJpZW50ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodCgweEZGRkZGRiwgMHhGRkZGRkYsIDEpO1xuICAgIGNvbnN0IGxpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhGRkZGRkYsIDEpO1xuICAgIGxpZ2h0LnBvc2l0aW9uLnNldCgwLCA2LCAyKTtcbiAgICB0aGlzLnNjZW5lLmFkZChhbWJpZW50KTtcbiAgICB0aGlzLnNjZW5lLmFkZChsaWdodCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLkljb3NhaGVkcm9uR2VvbWV0cnkoMjAsIDQpO1xuICAgIHRoaXMudW5pZm9ybXMgPSB7XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIHVfbW91c2U6IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLjAsXG4gICAgICAgICAgeTogMC4wXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1X3Jlc29sdXRpb246IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVfY29sb3I6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweGI3ZmYwMClcbiAgICAgIH0sXG4gICAgICB1X3RleDoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKFwiL3B1YmxpYy9leHBsb3Npb24ucG5nXCIpXG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zb2xlLmxvZygndW5pZm9ybXMnKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnVuaWZvcm1zKTtcbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXIgLy8gd2lyZWZyYW1lOiB0cnVlXG5cbiAgICB9KTtcbiAgICB0aGlzLmJhbGwgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmJhbGwpO1xuICAgIHRoaXMuY29udHJvbHMgPSBuZXcgX09yYml0Q29udHJvbHMuT3JiaXRDb250cm9scyh0aGlzLmNhbWVyYSwgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIG9uUmVzaXplKCkge1xuICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgbGV0IHdpZHRoLCBoZWlnaHQ7XG5cbiAgICBpZiAoYXNwZWN0UmF0aW8gPj0gMSkge1xuICAgICAgd2lkdGggPSAxO1xuICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGggKiB3aWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgIGhlaWdodCA9IDE7XG4gICAgfVxuXG4gICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICB0aGlzLmNhbWVyYS5yaWdodCA9IHdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnRvcCA9IGhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIH1cblxuICBvbk1vdXNlTW92ZShldnQpIHtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS55ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZ0LmNsaWVudFk7XG4gIH1cblxuICBvblJhZihkZWx0YSkge1xuICAgIGlmICh0aGlzLnVuaWZvcm1zKSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSB0aGlzLnJhZi5nZXREZWx0YSh0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5yZW5kZXJlcikge1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdsc2xQbGF5Z3JvdW5kMjc7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground27.js\n");

/***/ }),

/***/ "./examples/glsl-playground28.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground28.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _OrbitControls = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _deguMathf = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/shaders/three-shader-chunks/degu-mathf'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739214\n//\n// Import shader chunks\n(0, _deguMathf.deguMathf)(THREE); // Extends: https://github.com/mrdoob/three.js/blob/master/src/renderers/shaders/ShaderLib/meshlambert_vert.glsl.js\n\nconst vshader = `\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n\n\nvarying vec3 vPosition;\nvarying mat4 vModelMatrix;\nvarying vec3 vWorldNormal;\nvarying vec3 vLightIntensity;\n\nvoid main() {\n    vec3 vLightFront;\n    vec3 vIndirectFront;\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n    // Save light intenity.\n    vLightIntensity = vLightFront + ambientLightColor;\n\n    vWorldNormal = normalize((modelMatrix * vec4(normal, 0.0)).xyz);\n    vPosition = position;\n    vModelMatrix = modelMatrix;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\n#include <deguMathf>\nuniform vec3 u_color;\nuniform vec3 u_light_position;\nuniform vec3 u_rim_color;\nuniform float u_rim_strength;\nuniform float u_rim_width;\nuniform float u_time;\n\n// Example varyings passed from the vertex shader\nvarying vec3 vPosition;\nvarying vec3 vWorldNormal;\nvarying mat4 vModelMatrix;\nvarying vec3 vLightIntensity;\n\nvoid main()\n{\n\n  // Get the world position (not model)\n  vec3 worldPosition = ( vModelMatrix * vec4( vPosition, 1.0 )).xyz;\n\n  // Get the normalized light vector since we want direction not distance.\n  vec3 lightVector = normalize( u_light_position - worldPosition );\n\n  // Get the normalized view vector since we want direction not distance.\n\n  vec3 viewVector = normalize(cameraPosition - worldPosition);\n\n  // dot(a,b) = cos(theta)\n\n  // cos of 90 degrees. cos(PI/2) = 0.0.\n  float rightAngle = 0.0;\n\n  // Change the angle based on time so that we get a glow going in and out\n  float pulseRate = 5.0;\n  rightAngle += normalizedSin(u_time * pulseRate);\n\n  float rimndotv =  max(0.0, u_rim_width - clamp(dot(vWorldNormal, viewVector), rightAngle, 1.0));\n\n  vec3 rimLight = rimndotv * u_rim_color * u_rim_strength;\n  vec3 color = vLightIntensity * u_color + rimLight;\n\n  gl_FragColor = vec4( color, 1.0 );\n\n}\n`;\n\nclass GlslPlayground28 {\n  constructor() {\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);\n    this.camera.position.z = 10; // Add some lights.\n\n    const light = new THREE.DirectionalLight(0xffda6f, 0.1);\n    light.position.set(0, 1.25, 1.25);\n    this.scene.add(light);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.geometry = new THREE.TorusKnotGeometry(1, 0.5, 100, 16);\n    this.uniforms = THREE.UniformsUtils.merge([THREE.UniformsLib[\"common\"], THREE.UniformsLib[\"lights\"]]);\n    this.uniforms.u_color = {\n      value: new THREE.Color(0xa6e4fa)\n    };\n    this.uniforms.u_light_position = {\n      value: light.position.clone()\n    };\n    this.uniforms.u_rim_color = {\n      value: new THREE.Color(0xffffff)\n    };\n    this.uniforms.u_rim_strength = {\n      value: 3.6\n    };\n    this.uniforms.u_rim_width = {\n      value: 0.6\n    };\n    this.uniforms.u_resolution = {\n      value: {\n        x: 0.0,\n        y: 0.0\n      }\n    };\n    this.uniforms.u_time = {\n      value: 0.0\n    };\n    console.log('uniforms');\n    console.log(this.uniforms);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader,\n      lights: true,\n      wireframe: false\n    });\n    this.knot = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.knot);\n    this.controls = new _OrbitControls.OrbitControls(this.camera, this.renderer.domElement);\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground28;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyOC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDI4LmpzPzNkOWUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfT3JiaXRDb250cm9scyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9sc1wiKTtcblxudmFyIF9yYWYgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWZcIik7XG5cbnZhciBfZG9tV2F0Y2hlciA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbS13YXRjaGVyXCIpO1xuXG52YXIgX2RlZ3VNYXRoZiA9IHJlcXVpcmUoXCIuLi9saWIvc2hhZGVycy90aHJlZS1zaGFkZXItY2h1bmtzL2RlZ3UtbWF0aGZcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLy9cbi8vXG4vLyBodHRwczovL3d3dy51ZGVteS5jb20vY291cnNlL2xlYXJuLWdsc2wtc2hhZGVycy1mcm9tLXNjcmF0Y2gvbGVhcm4vbGVjdHVyZS8xMzczOTIxNFxuLy9cbi8vIEltcG9ydCBzaGFkZXIgY2h1bmtzXG4oMCwgX2RlZ3VNYXRoZi5kZWd1TWF0aGYpKFRIUkVFKTsgLy8gRXh0ZW5kczogaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9ibG9iL21hc3Rlci9zcmMvcmVuZGVyZXJzL3NoYWRlcnMvU2hhZGVyTGliL21lc2hsYW1iZXJ0X3ZlcnQuZ2xzbC5qc1xuXG5jb25zdCB2c2hhZGVyID0gYFxuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8ZW52bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGJzZGZzPlxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4PlxuXG5cblxudmFyeWluZyB2ZWMzIHZQb3NpdGlvbjtcbnZhcnlpbmcgbWF0NCB2TW9kZWxNYXRyaXg7XG52YXJ5aW5nIHZlYzMgdldvcmxkTm9ybWFsO1xudmFyeWluZyB2ZWMzIHZMaWdodEludGVuc2l0eTtcblxudm9pZCBtYWluKCkge1xuICAgIHZlYzMgdkxpZ2h0RnJvbnQ7XG4gICAgdmVjMyB2SW5kaXJlY3RGcm9udDtcblx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cblx0I2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZW52bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPGxpZ2h0c19sYW1iZXJ0X3ZlcnRleD5cblx0I2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxmb2dfdmVydGV4PlxuXG4gICAgLy8gU2F2ZSBsaWdodCBpbnRlbml0eS5cbiAgICB2TGlnaHRJbnRlbnNpdHkgPSB2TGlnaHRGcm9udCArIGFtYmllbnRMaWdodENvbG9yO1xuXG4gICAgdldvcmxkTm9ybWFsID0gbm9ybWFsaXplKChtb2RlbE1hdHJpeCAqIHZlYzQobm9ybWFsLCAwLjApKS54eXopO1xuICAgIHZQb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIHZNb2RlbE1hdHJpeCA9IG1vZGVsTWF0cml4O1xuXG4gICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xufVxuYDtcbmNvbnN0IGZzaGFkZXIgPSBgXG4jaW5jbHVkZSA8ZGVndU1hdGhmPlxudW5pZm9ybSB2ZWMzIHVfY29sb3I7XG51bmlmb3JtIHZlYzMgdV9saWdodF9wb3NpdGlvbjtcbnVuaWZvcm0gdmVjMyB1X3JpbV9jb2xvcjtcbnVuaWZvcm0gZmxvYXQgdV9yaW1fc3RyZW5ndGg7XG51bmlmb3JtIGZsb2F0IHVfcmltX3dpZHRoO1xudW5pZm9ybSBmbG9hdCB1X3RpbWU7XG5cbi8vIEV4YW1wbGUgdmFyeWluZ3MgcGFzc2VkIGZyb20gdGhlIHZlcnRleCBzaGFkZXJcbnZhcnlpbmcgdmVjMyB2UG9zaXRpb247XG52YXJ5aW5nIHZlYzMgdldvcmxkTm9ybWFsO1xudmFyeWluZyBtYXQ0IHZNb2RlbE1hdHJpeDtcbnZhcnlpbmcgdmVjMyB2TGlnaHRJbnRlbnNpdHk7XG5cbnZvaWQgbWFpbigpXG57XG5cbiAgLy8gR2V0IHRoZSB3b3JsZCBwb3NpdGlvbiAobm90IG1vZGVsKVxuICB2ZWMzIHdvcmxkUG9zaXRpb24gPSAoIHZNb2RlbE1hdHJpeCAqIHZlYzQoIHZQb3NpdGlvbiwgMS4wICkpLnh5ejtcblxuICAvLyBHZXQgdGhlIG5vcm1hbGl6ZWQgbGlnaHQgdmVjdG9yIHNpbmNlIHdlIHdhbnQgZGlyZWN0aW9uIG5vdCBkaXN0YW5jZS5cbiAgdmVjMyBsaWdodFZlY3RvciA9IG5vcm1hbGl6ZSggdV9saWdodF9wb3NpdGlvbiAtIHdvcmxkUG9zaXRpb24gKTtcblxuICAvLyBHZXQgdGhlIG5vcm1hbGl6ZWQgdmlldyB2ZWN0b3Igc2luY2Ugd2Ugd2FudCBkaXJlY3Rpb24gbm90IGRpc3RhbmNlLlxuXG4gIHZlYzMgdmlld1ZlY3RvciA9IG5vcm1hbGl6ZShjYW1lcmFQb3NpdGlvbiAtIHdvcmxkUG9zaXRpb24pO1xuXG4gIC8vIGRvdChhLGIpID0gY29zKHRoZXRhKVxuXG4gIC8vIGNvcyBvZiA5MCBkZWdyZWVzLiBjb3MoUEkvMikgPSAwLjAuXG4gIGZsb2F0IHJpZ2h0QW5nbGUgPSAwLjA7XG5cbiAgLy8gQ2hhbmdlIHRoZSBhbmdsZSBiYXNlZCBvbiB0aW1lIHNvIHRoYXQgd2UgZ2V0IGEgZ2xvdyBnb2luZyBpbiBhbmQgb3V0XG4gIGZsb2F0IHB1bHNlUmF0ZSA9IDUuMDtcbiAgcmlnaHRBbmdsZSArPSBub3JtYWxpemVkU2luKHVfdGltZSAqIHB1bHNlUmF0ZSk7XG5cbiAgZmxvYXQgcmltbmRvdHYgPSAgbWF4KDAuMCwgdV9yaW1fd2lkdGggLSBjbGFtcChkb3QodldvcmxkTm9ybWFsLCB2aWV3VmVjdG9yKSwgcmlnaHRBbmdsZSwgMS4wKSk7XG5cbiAgdmVjMyByaW1MaWdodCA9IHJpbW5kb3R2ICogdV9yaW1fY29sb3IgKiB1X3JpbV9zdHJlbmd0aDtcbiAgdmVjMyBjb2xvciA9IHZMaWdodEludGVuc2l0eSAqIHVfY29sb3IgKyByaW1MaWdodDtcblxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KCBjb2xvciwgMS4wICk7XG5cbn1cbmA7XG5cbmNsYXNzIEdsc2xQbGF5Z3JvdW5kMjgge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNjAsIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LCAwLjEsIDEwMDApO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxMDsgLy8gQWRkIHNvbWUgbGlnaHRzLlxuXG4gICAgY29uc3QgbGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGZmZGE2ZiwgMC4xKTtcbiAgICBsaWdodC5wb3NpdGlvbi5zZXQoMCwgMS4yNSwgMS4yNSk7XG4gICAgdGhpcy5zY2VuZS5hZGQobGlnaHQpO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgX3JhZi5SYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgX2RvbVdhdGNoZXIuRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5Ub3J1c0tub3RHZW9tZXRyeSgxLCAwLjUsIDEwMCwgMTYpO1xuICAgIHRoaXMudW5pZm9ybXMgPSBUSFJFRS5Vbmlmb3Jtc1V0aWxzLm1lcmdlKFtUSFJFRS5Vbmlmb3Jtc0xpYltcImNvbW1vblwiXSwgVEhSRUUuVW5pZm9ybXNMaWJbXCJsaWdodHNcIl1dKTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfY29sb3IgPSB7XG4gICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4YTZlNGZhKVxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X2xpZ2h0X3Bvc2l0aW9uID0ge1xuICAgICAgdmFsdWU6IGxpZ2h0LnBvc2l0aW9uLmNsb25lKClcbiAgICB9O1xuICAgIHRoaXMudW5pZm9ybXMudV9yaW1fY29sb3IgPSB7XG4gICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmZmZmZmKVxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X3JpbV9zdHJlbmd0aCA9IHtcbiAgICAgIHZhbHVlOiAzLjZcbiAgICB9O1xuICAgIHRoaXMudW5pZm9ybXMudV9yaW1fd2lkdGggPSB7XG4gICAgICB2YWx1ZTogMC42XG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbiA9IHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIHg6IDAuMCxcbiAgICAgICAgeTogMC4wXG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfdGltZSA9IHtcbiAgICAgIHZhbHVlOiAwLjBcbiAgICB9O1xuICAgIGNvbnNvbGUubG9nKCd1bmlmb3JtcycpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMudW5pZm9ybXMpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlcixcbiAgICAgIGxpZ2h0czogdHJ1ZSxcbiAgICAgIHdpcmVmcmFtZTogZmFsc2VcbiAgICB9KTtcbiAgICB0aGlzLmtub3QgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmtub3QpO1xuICAgIHRoaXMuY29udHJvbHMgPSBuZXcgX09yYml0Q29udHJvbHMuT3JiaXRDb250cm9scyh0aGlzLmNhbWVyYSwgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIG9uUmVzaXplKCkge1xuICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgbGV0IHdpZHRoLCBoZWlnaHQ7XG5cbiAgICBpZiAoYXNwZWN0UmF0aW8gPj0gMSkge1xuICAgICAgd2lkdGggPSAxO1xuICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGggKiB3aWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgIGhlaWdodCA9IDE7XG4gICAgfVxuXG4gICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICB0aGlzLmNhbWVyYS5yaWdodCA9IHdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnRvcCA9IGhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIH1cblxuICBvblJhZihkZWx0YSkge1xuICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdsc2xQbGF5Z3JvdW5kMjg7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground28.js\n");

/***/ }),

/***/ "./examples/glsl-playground29.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground29.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _OrbitControls = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _deguMathf = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/shaders/three-shader-chunks/degu-mathf'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n//\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739244\n//\n// Import shader chunks\n(0, _deguMathf.deguMathf)(THREE); // Extends: https://github.com/mrdoob/three.js/blob/master/src/renderers/shaders/ShaderLib/meshlambert_vert.glsl.js\n\nconst vshader = `\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n\n\nvarying vec3 vPosition;\nvarying mat4 vModelMatrix;\nvarying vec3 vWorldNormal;\nvarying vec3 vLightIntensity;\n\nvoid main() {\n    vec3 vLightFront;\n    vec3 vIndirectFront;\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n    // Save light intenity.\n    vLightIntensity = vLightFront + ambientLightColor;\n\n    vWorldNormal = normalize((modelMatrix * vec4(normal, 0.0)).xyz);\n    vPosition = position;\n    vModelMatrix = modelMatrix;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\n#include <deguMathf>\nuniform vec3 u_color;\nuniform vec3 u_light_position;\nuniform vec3 u_rim_color;\nuniform float u_rim_strength;\nuniform float u_rim_width;\nuniform float u_time;\n\n\nuniform samplerCube u_envmap_cube;\n// How much the envmap should affect the calculations.\nuniform float u_envmap_strength;\n\n// Example varyings passed from the vertex shader\nvarying vec3 vPosition;\nvarying vec3 vWorldNormal;\nvarying mat4 vModelMatrix;\nvarying vec3 vLightIntensity;\n\nvoid main()\n{\n\n  // Get the world position (not model)\n  vec3 worldPosition = ( vModelMatrix * vec4( vPosition, 1.0 )).xyz;\n\n  // Get the normalized light vector since we want direction not distance.\n  vec3 lightVector = normalize( u_light_position - worldPosition );\n\n  // Get the normalized view vector since we want direction not distance.\n\n  vec3 viewVector = normalize(cameraPosition - worldPosition);\n\n  // dot(a,b) = cos(theta)\n\n  // cos of 90 degrees. cos(PI/2) = 0.0.\n  float rightAngle = 0.0;\n\n  // Change the angle based on time so that we get a glow going in and out\n  float pulseRate = 5.0;\n  rightAngle += normalizedSin(u_time * pulseRate);\n\n  float rimndotv =  max(0.0, u_rim_width - clamp(dot(vWorldNormal, viewVector), rightAngle, 1.0));\n\n  vec3 rimLight = rimndotv * u_rim_color * u_rim_strength;\n\n\n  // Calculate the effects of the env map.\n  vec3 reflection = reflect(-viewVector, vWorldNormal);\n  vec3 envmapLight = textureCube(u_envmap_cube, reflection).rgb * u_envmap_strength;\n  // Pulse env map light strength.\n  envmapLight *= normalizedSin(u_time);\n\n\n  vec3 color = vLightIntensity * u_color + envmapLight + rimLight;\n\n  gl_FragColor = vec4( color, 1.0 );\n\n}\n`;\n\nclass GlslPlayground29 {\n  constructor() {\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);\n    this.camera.position.z = 10; // Add some lights.\n\n    const light = new THREE.DirectionalLight(0xffda6f, 0.1);\n    light.position.set(0, 1.25, 1.25);\n    this.scene.add(light);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.geometry = new THREE.TorusKnotGeometry(1, 0.5, 100, 16);\n    this.uniforms = THREE.UniformsUtils.merge([THREE.UniformsLib[\"common\"], THREE.UniformsLib[\"lights\"]]);\n    this.uniforms.u_color = {\n      value: new THREE.Color(0xa6e4fa)\n    };\n    this.uniforms.u_light_position = {\n      value: light.position.clone()\n    };\n    this.uniforms.u_rim_color = {\n      value: new THREE.Color(0xffffff)\n    };\n    this.uniforms.u_rim_strength = {\n      value: 3.6\n    };\n    this.uniforms.u_rim_width = {\n      value: 0.6\n    };\n    this.uniforms.u_resolution = {\n      value: {\n        x: 0.0,\n        y: 0.0\n      }\n    };\n    this.uniforms.u_time = {\n      value: 0.0\n    }; // Add env\n\n    const envCube = new THREE.CubeTextureLoader().setPath('./public/').load(['skybox2_px.jpg', 'skybox2_nx.jpg', 'skybox2_py.jpg', 'skybox2_ny.jpg', 'skybox2_pz.jpg', 'skybox2_nz.jpg']);\n    this.uniforms.u_envmap_cube = {\n      value: envCube\n    };\n    this.uniforms.u_envmap_strength = {\n      value: 1.0\n    };\n    console.log('uniforms');\n    console.log(this.uniforms);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader,\n      lights: true,\n      wireframe: false\n    });\n    this.knot = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.knot);\n    this.controls = new _OrbitControls.OrbitControls(this.camera, this.renderer.domElement);\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground29;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyOS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDI5LmpzPzgwNGMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfT3JiaXRDb250cm9scyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9sc1wiKTtcblxudmFyIF9yYWYgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWZcIik7XG5cbnZhciBfZG9tV2F0Y2hlciA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbS13YXRjaGVyXCIpO1xuXG52YXIgX2RlZ3VNYXRoZiA9IHJlcXVpcmUoXCIuLi9saWIvc2hhZGVycy90aHJlZS1zaGFkZXItY2h1bmtzL2RlZ3UtbWF0aGZcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLy9cbi8vXG4vLyBodHRwczovL3d3dy51ZGVteS5jb20vY291cnNlL2xlYXJuLWdsc2wtc2hhZGVycy1mcm9tLXNjcmF0Y2gvbGVhcm4vbGVjdHVyZS8xMzczOTI0NFxuLy9cbi8vIEltcG9ydCBzaGFkZXIgY2h1bmtzXG4oMCwgX2RlZ3VNYXRoZi5kZWd1TWF0aGYpKFRIUkVFKTsgLy8gRXh0ZW5kczogaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9ibG9iL21hc3Rlci9zcmMvcmVuZGVyZXJzL3NoYWRlcnMvU2hhZGVyTGliL21lc2hsYW1iZXJ0X3ZlcnQuZ2xzbC5qc1xuXG5jb25zdCB2c2hhZGVyID0gYFxuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8ZW52bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGJzZGZzPlxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4PlxuXG5cblxudmFyeWluZyB2ZWMzIHZQb3NpdGlvbjtcbnZhcnlpbmcgbWF0NCB2TW9kZWxNYXRyaXg7XG52YXJ5aW5nIHZlYzMgdldvcmxkTm9ybWFsO1xudmFyeWluZyB2ZWMzIHZMaWdodEludGVuc2l0eTtcblxudm9pZCBtYWluKCkge1xuICAgIHZlYzMgdkxpZ2h0RnJvbnQ7XG4gICAgdmVjMyB2SW5kaXJlY3RGcm9udDtcblx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cblx0I2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZW52bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPGxpZ2h0c19sYW1iZXJ0X3ZlcnRleD5cblx0I2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxmb2dfdmVydGV4PlxuXG4gICAgLy8gU2F2ZSBsaWdodCBpbnRlbml0eS5cbiAgICB2TGlnaHRJbnRlbnNpdHkgPSB2TGlnaHRGcm9udCArIGFtYmllbnRMaWdodENvbG9yO1xuXG4gICAgdldvcmxkTm9ybWFsID0gbm9ybWFsaXplKChtb2RlbE1hdHJpeCAqIHZlYzQobm9ybWFsLCAwLjApKS54eXopO1xuICAgIHZQb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIHZNb2RlbE1hdHJpeCA9IG1vZGVsTWF0cml4O1xuXG4gICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xufVxuYDtcbmNvbnN0IGZzaGFkZXIgPSBgXG4jaW5jbHVkZSA8ZGVndU1hdGhmPlxudW5pZm9ybSB2ZWMzIHVfY29sb3I7XG51bmlmb3JtIHZlYzMgdV9saWdodF9wb3NpdGlvbjtcbnVuaWZvcm0gdmVjMyB1X3JpbV9jb2xvcjtcbnVuaWZvcm0gZmxvYXQgdV9yaW1fc3RyZW5ndGg7XG51bmlmb3JtIGZsb2F0IHVfcmltX3dpZHRoO1xudW5pZm9ybSBmbG9hdCB1X3RpbWU7XG5cblxudW5pZm9ybSBzYW1wbGVyQ3ViZSB1X2Vudm1hcF9jdWJlO1xuLy8gSG93IG11Y2ggdGhlIGVudm1hcCBzaG91bGQgYWZmZWN0IHRoZSBjYWxjdWxhdGlvbnMuXG51bmlmb3JtIGZsb2F0IHVfZW52bWFwX3N0cmVuZ3RoO1xuXG4vLyBFeGFtcGxlIHZhcnlpbmdzIHBhc3NlZCBmcm9tIHRoZSB2ZXJ0ZXggc2hhZGVyXG52YXJ5aW5nIHZlYzMgdlBvc2l0aW9uO1xudmFyeWluZyB2ZWMzIHZXb3JsZE5vcm1hbDtcbnZhcnlpbmcgbWF0NCB2TW9kZWxNYXRyaXg7XG52YXJ5aW5nIHZlYzMgdkxpZ2h0SW50ZW5zaXR5O1xuXG52b2lkIG1haW4oKVxue1xuXG4gIC8vIEdldCB0aGUgd29ybGQgcG9zaXRpb24gKG5vdCBtb2RlbClcbiAgdmVjMyB3b3JsZFBvc2l0aW9uID0gKCB2TW9kZWxNYXRyaXggKiB2ZWM0KCB2UG9zaXRpb24sIDEuMCApKS54eXo7XG5cbiAgLy8gR2V0IHRoZSBub3JtYWxpemVkIGxpZ2h0IHZlY3RvciBzaW5jZSB3ZSB3YW50IGRpcmVjdGlvbiBub3QgZGlzdGFuY2UuXG4gIHZlYzMgbGlnaHRWZWN0b3IgPSBub3JtYWxpemUoIHVfbGlnaHRfcG9zaXRpb24gLSB3b3JsZFBvc2l0aW9uICk7XG5cbiAgLy8gR2V0IHRoZSBub3JtYWxpemVkIHZpZXcgdmVjdG9yIHNpbmNlIHdlIHdhbnQgZGlyZWN0aW9uIG5vdCBkaXN0YW5jZS5cblxuICB2ZWMzIHZpZXdWZWN0b3IgPSBub3JtYWxpemUoY2FtZXJhUG9zaXRpb24gLSB3b3JsZFBvc2l0aW9uKTtcblxuICAvLyBkb3QoYSxiKSA9IGNvcyh0aGV0YSlcblxuICAvLyBjb3Mgb2YgOTAgZGVncmVlcy4gY29zKFBJLzIpID0gMC4wLlxuICBmbG9hdCByaWdodEFuZ2xlID0gMC4wO1xuXG4gIC8vIENoYW5nZSB0aGUgYW5nbGUgYmFzZWQgb24gdGltZSBzbyB0aGF0IHdlIGdldCBhIGdsb3cgZ29pbmcgaW4gYW5kIG91dFxuICBmbG9hdCBwdWxzZVJhdGUgPSA1LjA7XG4gIHJpZ2h0QW5nbGUgKz0gbm9ybWFsaXplZFNpbih1X3RpbWUgKiBwdWxzZVJhdGUpO1xuXG4gIGZsb2F0IHJpbW5kb3R2ID0gIG1heCgwLjAsIHVfcmltX3dpZHRoIC0gY2xhbXAoZG90KHZXb3JsZE5vcm1hbCwgdmlld1ZlY3RvciksIHJpZ2h0QW5nbGUsIDEuMCkpO1xuXG4gIHZlYzMgcmltTGlnaHQgPSByaW1uZG90diAqIHVfcmltX2NvbG9yICogdV9yaW1fc3RyZW5ndGg7XG5cblxuICAvLyBDYWxjdWxhdGUgdGhlIGVmZmVjdHMgb2YgdGhlIGVudiBtYXAuXG4gIHZlYzMgcmVmbGVjdGlvbiA9IHJlZmxlY3QoLXZpZXdWZWN0b3IsIHZXb3JsZE5vcm1hbCk7XG4gIHZlYzMgZW52bWFwTGlnaHQgPSB0ZXh0dXJlQ3ViZSh1X2Vudm1hcF9jdWJlLCByZWZsZWN0aW9uKS5yZ2IgKiB1X2Vudm1hcF9zdHJlbmd0aDtcbiAgLy8gUHVsc2UgZW52IG1hcCBsaWdodCBzdHJlbmd0aC5cbiAgZW52bWFwTGlnaHQgKj0gbm9ybWFsaXplZFNpbih1X3RpbWUpO1xuXG5cbiAgdmVjMyBjb2xvciA9IHZMaWdodEludGVuc2l0eSAqIHVfY29sb3IgKyBlbnZtYXBMaWdodCArIHJpbUxpZ2h0O1xuXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoIGNvbG9yLCAxLjAgKTtcblxufVxuYDtcblxuY2xhc3MgR2xzbFBsYXlncm91bmQyOSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg2MCwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDAuMSwgMTAwMCk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDEwOyAvLyBBZGQgc29tZSBsaWdodHMuXG5cbiAgICBjb25zdCBsaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZmZkYTZmLCAwLjEpO1xuICAgIGxpZ2h0LnBvc2l0aW9uLnNldCgwLCAxLjI1LCAxLjI1KTtcbiAgICB0aGlzLnNjZW5lLmFkZChsaWdodCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLlRvcnVzS25vdEdlb21ldHJ5KDEsIDAuNSwgMTAwLCAxNik7XG4gICAgdGhpcy51bmlmb3JtcyA9IFRIUkVFLlVuaWZvcm1zVXRpbHMubWVyZ2UoW1RIUkVFLlVuaWZvcm1zTGliW1wiY29tbW9uXCJdLCBUSFJFRS5Vbmlmb3Jtc0xpYltcImxpZ2h0c1wiXV0pO1xuICAgIHRoaXMudW5pZm9ybXMudV9jb2xvciA9IHtcbiAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHhhNmU0ZmEpXG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbGlnaHRfcG9zaXRpb24gPSB7XG4gICAgICB2YWx1ZTogbGlnaHQucG9zaXRpb24uY2xvbmUoKVxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X3JpbV9jb2xvciA9IHtcbiAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHhmZmZmZmYpXG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmltX3N0cmVuZ3RoID0ge1xuICAgICAgdmFsdWU6IDMuNlxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X3JpbV93aWR0aCA9IHtcbiAgICAgIHZhbHVlOiAwLjZcbiAgICB9O1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uID0ge1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgeDogMC4wLFxuICAgICAgICB5OiAwLjBcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMudW5pZm9ybXMudV90aW1lID0ge1xuICAgICAgdmFsdWU6IDAuMFxuICAgIH07IC8vIEFkZCBlbnZcblxuICAgIGNvbnN0IGVudkN1YmUgPSBuZXcgVEhSRUUuQ3ViZVRleHR1cmVMb2FkZXIoKS5zZXRQYXRoKCcuL3B1YmxpYy8nKS5sb2FkKFsnc2t5Ym94Ml9weC5qcGcnLCAnc2t5Ym94Ml9ueC5qcGcnLCAnc2t5Ym94Ml9weS5qcGcnLCAnc2t5Ym94Ml9ueS5qcGcnLCAnc2t5Ym94Ml9wei5qcGcnLCAnc2t5Ym94Ml9uei5qcGcnXSk7XG4gICAgdGhpcy51bmlmb3Jtcy51X2Vudm1hcF9jdWJlID0ge1xuICAgICAgdmFsdWU6IGVudkN1YmVcbiAgICB9O1xuICAgIHRoaXMudW5pZm9ybXMudV9lbnZtYXBfc3RyZW5ndGggPSB7XG4gICAgICB2YWx1ZTogMS4wXG4gICAgfTtcbiAgICBjb25zb2xlLmxvZygndW5pZm9ybXMnKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnVuaWZvcm1zKTtcbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXIsXG4gICAgICBsaWdodHM6IHRydWUsXG4gICAgICB3aXJlZnJhbWU6IGZhbHNlXG4gICAgfSk7XG4gICAgdGhpcy5rbm90ID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5rbm90KTtcbiAgICB0aGlzLmNvbnRyb2xzID0gbmV3IF9PcmJpdENvbnRyb2xzLk9yYml0Q29udHJvbHModGhpcy5jYW1lcmEsIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBvblJlc2l6ZSgpIHtcbiAgICBjb25zdCBhc3BlY3RSYXRpbyA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGxldCB3aWR0aCwgaGVpZ2h0O1xuXG4gICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgIHdpZHRoID0gMTtcbiAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAvIHdpbmRvdy5pbm5lcldpZHRoICogd2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpZHRoID0gYXNwZWN0UmF0aW87XG4gICAgICBoZWlnaHQgPSAxO1xuICAgIH1cblxuICAgIHRoaXMuY2FtZXJhLmxlZnQgPSAtd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEucmlnaHQgPSB3aWR0aDtcbiAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEuYm90dG9tID0gLWhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS55ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICB9XG5cbiAgb25SYWYoZGVsdGEpIHtcbiAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSB0aGlzLnJhZi5nZXREZWx0YSh0cnVlKTtcbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBHbHNsUGxheWdyb3VuZDI5OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground29.js\n");

/***/ }),

/***/ "./examples/glsl-playground3.js":
/*!**************************************!*\
  !*** ./examples/glsl-playground3.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/**\n * https://threejs.org/docs/#api/en/renderers/webgl/WebGLProgram\n * https://gist.github.com/uxder/cc02c445c2f7b4679e48e91d2920c832\n */\nconst vshader = `\nvoid main() {\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\nuniform float u_time;\n\nvoid main (void)\n{\n  vec3 color = vec3(\n      // Sin returns values between -1 and 1 and we want 0-1.\n      // So we first do sin(time) + 1.0 which gives us a value between 0 and 2.\n      // We divide that by 2 (half it) so that it normalizes to 0-1.\n      (sin(u_time) + 1.0) / 2.0,\n      (sin(u_time) + 1.0) / 2.0,\n      (cos(u_time) + 1.0) / 2.0\n  );\n  gl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground3 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new THREE.Color(0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new THREE.PlaneGeometry(2, 2);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground3;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvZ2xzbC1wbGF5Z3JvdW5kMy5qcz8zOGE4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3RocmVlID0gcmVxdWlyZShcInRocmVlXCIpO1xuXG52YXIgVEhSRUUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGhyZWUpO1xuXG52YXIgX3JhZiA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZlwiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLyoqXG4gKiBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xQcm9ncmFtXG4gKiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS91eGRlci9jYzAyYzQ0NWMyZjdiNDY3OWU0OGU5MWQyOTIwYzgzMlxuICovXG5jb25zdCB2c2hhZGVyID0gYFxudm9pZCBtYWluKCkge1xuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59XG5gO1xuY29uc3QgZnNoYWRlciA9IGBcbnVuaWZvcm0gdmVjMiB1X21vdXNlO1xudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xudW5pZm9ybSBmbG9hdCB1X3RpbWU7XG5cbnZvaWQgbWFpbiAodm9pZClcbntcbiAgdmVjMyBjb2xvciA9IHZlYzMoXG4gICAgICAvLyBTaW4gcmV0dXJucyB2YWx1ZXMgYmV0d2VlbiAtMSBhbmQgMSBhbmQgd2Ugd2FudCAwLTEuXG4gICAgICAvLyBTbyB3ZSBmaXJzdCBkbyBzaW4odGltZSkgKyAxLjAgd2hpY2ggZ2l2ZXMgdXMgYSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDIuXG4gICAgICAvLyBXZSBkaXZpZGUgdGhhdCBieSAyIChoYWxmIGl0KSBzbyB0aGF0IGl0IG5vcm1hbGl6ZXMgdG8gMC0xLlxuICAgICAgKHNpbih1X3RpbWUpICsgMS4wKSAvIDIuMCxcbiAgICAgIChzaW4odV90aW1lKSArIDEuMCkgLyAyLjAsXG4gICAgICAoY29zKHVfdGltZSkgKyAxLjApIC8gMi4wXG4gICk7XG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XG59XG5gO1xuXG5jbGFzcyBHbHNsUGxheWdyb3VuZDMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgdV9jb2xvcjoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmYwMDAwKVxuICAgICAgfSxcbiAgICAgIC8vIEZsb2F0XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgMCwwIGF0IHRvcCwgbGVmdCBhbmQgd2luZG93LmlubmVyV2lkdGggYW5kIHdpbmRvdy5pbm5lckhlaWdodCBhdCBib3R0b20gcmlnaHQuXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gVmVjMiBTY3JlZW4gcmVzb2x1dGlvblxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyAyeDIgc28gaXQgZmlsbCB0aGUgc2NyZWVuLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIsIDIpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgb25SZXNpemUoKSB7XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBsZXQgd2lkdGgsIGhlaWdodDtcblxuICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxKSB7XG4gICAgICB3aWR0aCA9IDE7XG4gICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IGFzcGVjdFJhdGlvO1xuICAgICAgaGVpZ2h0ID0gMTtcbiAgICB9XG5cbiAgICB0aGlzLmNhbWVyYS5sZWZ0ID0gLXdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEudG9wID0gaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLmJvdHRvbSA9IC1oZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS54ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgfVxuXG4gIG9uTW91c2VNb3ZlKGV2dCkge1xuICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS54ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZ0LmNsaWVudFg7XG4gICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgfVxuXG4gIG9uUmFmKGRlbHRhKSB7XG4gICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgKz0gdGhpcy5yYWYuZ2V0RGVsdGEodHJ1ZSk7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gR2xzbFBsYXlncm91bmQzOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/glsl-playground3.js\n");

/***/ }),

/***/ "./examples/glsl-playground30.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground30.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _OrbitControls = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _deguMathf = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/shaders/three-shader-chunks/degu-mathf'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/**\n *\n * https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739236#questions/8753186\n *\n * - normals are importing in lightin calcs\n * - three js does this but this sample is of doing a manual bump map.\n * - use the dot product of the normal and light vectors to determine the light intensity.\n * - We use directional light, the ligth position is unimportant.\n *\n *\n *\n */\n// Import shader chunks\n(0, _deguMathf.deguMathf)(THREE); // Extends: https://github.com/mrdoob/three.js/blob/master/src/renderers/shaders/ShaderLib/meshlambert_vert.glsl.js\n\nconst vshader = `\nvarying vec3 vNormal;\nvarying vec2 vUv;\nvarying mat4 vModelMatrix;\n\nvoid main() {\n    vUv = uv;\n    vNormal = normal;\n    vModelMatrix = modelMatrix;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\n#include <deguMathf>\nvarying vec2 vUv;\nvarying vec3 vNormal;\nvarying mat4 vModelMatrix;\n\nuniform vec3 u_light;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\nuniform float u_time;\nuniform sampler2D u_diffuse_map;\nuniform sampler2D u_normal_map;\n\nvoid main(){\n  // Normalize light vecture.\n  vec3 lightVector = normalize(u_light);\n\n  // Normal map.\n  vec4 normal = texture2D(u_normal_map, vUv);\n\n  // Get the normal vector from the modelMatrix.\n  vec3 normalVector = normalize((vModelMatrix * (normal + vec4(vNormal, 1.0))).xyz);\n\n  // Get the dot product, clmap it so it ranges from 0-1.\n  float lightIntensity = clamp(0.0, 1.0, dot(lightVector, normalVector)) + 0.2;\n\n  // Add some pulsing to the light intensity.\n  lightIntensity *= (normalizedSin(u_time) * 2.0);\n\n  // Get the texel (current pixel color from the diffuse map)\n  vec3 texel = texture2D(u_diffuse_map, vUv).rgb;\n\n  // Set the light intensity.\n  vec3 color = lightIntensity * texel;\n\n  // Output\n  gl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground30 {\n  constructor() {\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);\n    this.camera.position.z = 2; // Add some lights.\n\n    const light = new THREE.DirectionalLight(0xffda6f, 0.1);\n    light.position.set(0, 1.25, 1.25);\n    this.scene.add(light);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.geometry = new THREE.BoxGeometry(1, 1, 1);\n    this.uniforms = {};\n    this.uniforms.u_light = {\n      value: new THREE.Vector3(0.5, 0.8, 0.1)\n    };\n    this.uniforms.u_resolution = {\n      value: new THREE.Vector2(1.0, 1.0)\n    };\n    this.uniforms.u_color = {\n      value: new THREE.Color(0xaa6611)\n    };\n    this.uniforms.u_diffuse_map = {\n      value: new THREE.TextureLoader().load('./public/bricks-diffuse3.png')\n    };\n    this.uniforms.u_normal_map = {\n      value: new THREE.TextureLoader().load('./public/bricks-normal3.png')\n    };\n    this.uniforms.u_time = {\n      value: 0.0\n    };\n    this.uniforms.u_resolution = {\n      value: {\n        x: 0.0,\n        y: 0.0\n      }\n    };\n    console.log('uniforms');\n    console.log(this.uniforms);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader,\n      lights: false,\n      wireframe: false\n    });\n    this.box = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.box);\n    this.controls = new _OrbitControls.OrbitControls(this.camera, this.renderer.domElement);\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onRaf() {\n    if (this.uniforms) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n    }\n\n    if (this.renderer) {\n      this.renderer.render(this.scene, this.camera);\n    }\n  }\n\n}\n\nexports.default = GlslPlayground30;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQzMC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDMwLmpzP2NmYzciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfT3JiaXRDb250cm9scyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9sc1wiKTtcblxudmFyIF9yYWYgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWZcIik7XG5cbnZhciBfZG9tV2F0Y2hlciA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbS13YXRjaGVyXCIpO1xuXG52YXIgX2RlZ3VNYXRoZiA9IHJlcXVpcmUoXCIuLi9saWIvc2hhZGVycy90aHJlZS1zaGFkZXItY2h1bmtzL2RlZ3UtbWF0aGZcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLyoqXG4gKlxuICogaHR0cHM6Ly93d3cudWRlbXkuY29tL2NvdXJzZS9sZWFybi1nbHNsLXNoYWRlcnMtZnJvbS1zY3JhdGNoL2xlYXJuL2xlY3R1cmUvMTM3MzkyMzYjcXVlc3Rpb25zLzg3NTMxODZcbiAqXG4gKiAtIG5vcm1hbHMgYXJlIGltcG9ydGluZyBpbiBsaWdodGluIGNhbGNzXG4gKiAtIHRocmVlIGpzIGRvZXMgdGhpcyBidXQgdGhpcyBzYW1wbGUgaXMgb2YgZG9pbmcgYSBtYW51YWwgYnVtcCBtYXAuXG4gKiAtIHVzZSB0aGUgZG90IHByb2R1Y3Qgb2YgdGhlIG5vcm1hbCBhbmQgbGlnaHQgdmVjdG9ycyB0byBkZXRlcm1pbmUgdGhlIGxpZ2h0IGludGVuc2l0eS5cbiAqIC0gV2UgdXNlIGRpcmVjdGlvbmFsIGxpZ2h0LCB0aGUgbGlndGggcG9zaXRpb24gaXMgdW5pbXBvcnRhbnQuXG4gKlxuICpcbiAqXG4gKi9cbi8vIEltcG9ydCBzaGFkZXIgY2h1bmtzXG4oMCwgX2RlZ3VNYXRoZi5kZWd1TWF0aGYpKFRIUkVFKTsgLy8gRXh0ZW5kczogaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9ibG9iL21hc3Rlci9zcmMvcmVuZGVyZXJzL3NoYWRlcnMvU2hhZGVyTGliL21lc2hsYW1iZXJ0X3ZlcnQuZ2xzbC5qc1xuXG5jb25zdCB2c2hhZGVyID0gYFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XG52YXJ5aW5nIHZlYzIgdlV2O1xudmFyeWluZyBtYXQ0IHZNb2RlbE1hdHJpeDtcblxudm9pZCBtYWluKCkge1xuICAgIHZVdiA9IHV2O1xuICAgIHZOb3JtYWwgPSBub3JtYWw7XG4gICAgdk1vZGVsTWF0cml4ID0gbW9kZWxNYXRyaXg7XG5cbiAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59XG5gO1xuY29uc3QgZnNoYWRlciA9IGBcbiNpbmNsdWRlIDxkZWd1TWF0aGY+XG52YXJ5aW5nIHZlYzIgdlV2O1xudmFyeWluZyB2ZWMzIHZOb3JtYWw7XG52YXJ5aW5nIG1hdDQgdk1vZGVsTWF0cml4O1xuXG51bmlmb3JtIHZlYzMgdV9saWdodDtcbnVuaWZvcm0gdmVjMiB1X3Jlc29sdXRpb247XG51bmlmb3JtIHZlYzMgdV9jb2xvcjtcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xudW5pZm9ybSBzYW1wbGVyMkQgdV9kaWZmdXNlX21hcDtcbnVuaWZvcm0gc2FtcGxlcjJEIHVfbm9ybWFsX21hcDtcblxudm9pZCBtYWluKCl7XG4gIC8vIE5vcm1hbGl6ZSBsaWdodCB2ZWN0dXJlLlxuICB2ZWMzIGxpZ2h0VmVjdG9yID0gbm9ybWFsaXplKHVfbGlnaHQpO1xuXG4gIC8vIE5vcm1hbCBtYXAuXG4gIHZlYzQgbm9ybWFsID0gdGV4dHVyZTJEKHVfbm9ybWFsX21hcCwgdlV2KTtcblxuICAvLyBHZXQgdGhlIG5vcm1hbCB2ZWN0b3IgZnJvbSB0aGUgbW9kZWxNYXRyaXguXG4gIHZlYzMgbm9ybWFsVmVjdG9yID0gbm9ybWFsaXplKCh2TW9kZWxNYXRyaXggKiAobm9ybWFsICsgdmVjNCh2Tm9ybWFsLCAxLjApKSkueHl6KTtcblxuICAvLyBHZXQgdGhlIGRvdCBwcm9kdWN0LCBjbG1hcCBpdCBzbyBpdCByYW5nZXMgZnJvbSAwLTEuXG4gIGZsb2F0IGxpZ2h0SW50ZW5zaXR5ID0gY2xhbXAoMC4wLCAxLjAsIGRvdChsaWdodFZlY3Rvciwgbm9ybWFsVmVjdG9yKSkgKyAwLjI7XG5cbiAgLy8gQWRkIHNvbWUgcHVsc2luZyB0byB0aGUgbGlnaHQgaW50ZW5zaXR5LlxuICBsaWdodEludGVuc2l0eSAqPSAobm9ybWFsaXplZFNpbih1X3RpbWUpICogMi4wKTtcblxuICAvLyBHZXQgdGhlIHRleGVsIChjdXJyZW50IHBpeGVsIGNvbG9yIGZyb20gdGhlIGRpZmZ1c2UgbWFwKVxuICB2ZWMzIHRleGVsID0gdGV4dHVyZTJEKHVfZGlmZnVzZV9tYXAsIHZVdikucmdiO1xuXG4gIC8vIFNldCB0aGUgbGlnaHQgaW50ZW5zaXR5LlxuICB2ZWMzIGNvbG9yID0gbGlnaHRJbnRlbnNpdHkgKiB0ZXhlbDtcblxuICAvLyBPdXRwdXRcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcbn1cbmA7XG5cbmNsYXNzIEdsc2xQbGF5Z3JvdW5kMzAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNjAsIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LCAwLjEsIDEwMDApO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAyOyAvLyBBZGQgc29tZSBsaWdodHMuXG5cbiAgICBjb25zdCBsaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZmZkYTZmLCAwLjEpO1xuICAgIGxpZ2h0LnBvc2l0aW9uLnNldCgwLCAxLjI1LCAxLjI1KTtcbiAgICB0aGlzLnNjZW5lLmFkZChsaWdodCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDEsIDEsIDEpO1xuICAgIHRoaXMudW5pZm9ybXMgPSB7fTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbGlnaHQgPSB7XG4gICAgICB2YWx1ZTogbmV3IFRIUkVFLlZlY3RvcjMoMC41LCAwLjgsIDAuMSlcbiAgICB9O1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uID0ge1xuICAgICAgdmFsdWU6IG5ldyBUSFJFRS5WZWN0b3IyKDEuMCwgMS4wKVxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X2NvbG9yID0ge1xuICAgICAgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweGFhNjYxMSlcbiAgICB9O1xuICAgIHRoaXMudW5pZm9ybXMudV9kaWZmdXNlX21hcCA9IHtcbiAgICAgIHZhbHVlOiBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoJy4vcHVibGljL2JyaWNrcy1kaWZmdXNlMy5wbmcnKVxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X25vcm1hbF9tYXAgPSB7XG4gICAgICB2YWx1ZTogbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKCcuL3B1YmxpYy9icmlja3Mtbm9ybWFsMy5wbmcnKVxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X3RpbWUgPSB7XG4gICAgICB2YWx1ZTogMC4wXG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbiA9IHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIHg6IDAuMCxcbiAgICAgICAgeTogMC4wXG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zb2xlLmxvZygndW5pZm9ybXMnKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnVuaWZvcm1zKTtcbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXIsXG4gICAgICBsaWdodHM6IGZhbHNlLFxuICAgICAgd2lyZWZyYW1lOiBmYWxzZVxuICAgIH0pO1xuICAgIHRoaXMuYm94ID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5ib3gpO1xuICAgIHRoaXMuY29udHJvbHMgPSBuZXcgX09yYml0Q29udHJvbHMuT3JiaXRDb250cm9scyh0aGlzLmNhbWVyYSwgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIG9uUmVzaXplKCkge1xuICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgbGV0IHdpZHRoLCBoZWlnaHQ7XG5cbiAgICBpZiAoYXNwZWN0UmF0aW8gPj0gMSkge1xuICAgICAgd2lkdGggPSAxO1xuICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGggKiB3aWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgIGhlaWdodCA9IDE7XG4gICAgfVxuXG4gICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICB0aGlzLmNhbWVyYS5yaWdodCA9IHdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnRvcCA9IGhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIH1cblxuICBvblJhZigpIHtcbiAgICBpZiAodGhpcy51bmlmb3Jtcykge1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgKz0gdGhpcy5yYWYuZ2V0RGVsdGEodHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVuZGVyZXIpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICB9XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBHbHNsUGxheWdyb3VuZDMwOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground30.js\n");

/***/ }),

/***/ "./examples/glsl-playground4.js":
/*!**************************************!*\
  !*** ./examples/glsl-playground4.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/**\n * https://threejs.org/docs/#api/en/renderers/webgl/WebGLProgram\n * https://gist.github.com/uxder/cc02c445c2f7b4679e48e91d2920c832\n */\nconst vshader = `\nvoid main() {\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\n/**\n * Based on the normalized screen coordinates (uv), mix between red and blue based\n * on the current Y pixel position.\n */\n\nconst fshader = `\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\nuniform float u_time;\n\nvoid main (void)\n{\n  vec2 uv = gl_FragCoord.xy / u_resolution;\n  vec3 color = mix(\n      vec3(1.0, 0.0, 0.0), // Red\n      vec3(0.0, 0.0, 1.0), // Blue,\n      uv.y // Use normalized y value as the blend progress.\n  );\n\n  gl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground4 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new THREE.Color(0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new THREE.PlaneGeometry(2, 2);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground4;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQ0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvZ2xzbC1wbGF5Z3JvdW5kNC5qcz80NjQzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3RocmVlID0gcmVxdWlyZShcInRocmVlXCIpO1xuXG52YXIgVEhSRUUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGhyZWUpO1xuXG52YXIgX3JhZiA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZlwiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLyoqXG4gKiBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xQcm9ncmFtXG4gKiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS91eGRlci9jYzAyYzQ0NWMyZjdiNDY3OWU0OGU5MWQyOTIwYzgzMlxuICovXG5jb25zdCB2c2hhZGVyID0gYFxudm9pZCBtYWluKCkge1xuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59XG5gO1xuLyoqXG4gKiBCYXNlZCBvbiB0aGUgbm9ybWFsaXplZCBzY3JlZW4gY29vcmRpbmF0ZXMgKHV2KSwgbWl4IGJldHdlZW4gcmVkIGFuZCBibHVlIGJhc2VkXG4gKiBvbiB0aGUgY3VycmVudCBZIHBpeGVsIHBvc2l0aW9uLlxuICovXG5cbmNvbnN0IGZzaGFkZXIgPSBgXG51bmlmb3JtIHZlYzIgdV9tb3VzZTtcbnVuaWZvcm0gdmVjMiB1X3Jlc29sdXRpb247XG51bmlmb3JtIHZlYzMgdV9jb2xvcjtcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xuXG52b2lkIG1haW4gKHZvaWQpXG57XG4gIHZlYzIgdXYgPSBnbF9GcmFnQ29vcmQueHkgLyB1X3Jlc29sdXRpb247XG4gIHZlYzMgY29sb3IgPSBtaXgoXG4gICAgICB2ZWMzKDEuMCwgMC4wLCAwLjApLCAvLyBSZWRcbiAgICAgIHZlYzMoMC4wLCAwLjAsIDEuMCksIC8vIEJsdWUsXG4gICAgICB1di55IC8vIFVzZSBub3JtYWxpemVkIHkgdmFsdWUgYXMgdGhlIGJsZW5kIHByb2dyZXNzLlxuICApO1xuXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XG59XG5gO1xuXG5jbGFzcyBHbHNsUGxheWdyb3VuZDQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgdV9jb2xvcjoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmYwMDAwKVxuICAgICAgfSxcbiAgICAgIC8vIEZsb2F0XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgMCwwIGF0IHRvcCwgbGVmdCBhbmQgd2luZG93LmlubmVyV2lkdGggYW5kIHdpbmRvdy5pbm5lckhlaWdodCBhdCBib3R0b20gcmlnaHQuXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gVmVjMiBTY3JlZW4gcmVzb2x1dGlvblxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyAyeDIgc28gaXQgZmlsbCB0aGUgc2NyZWVuLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIsIDIpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgb25SZXNpemUoKSB7XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBsZXQgd2lkdGgsIGhlaWdodDtcblxuICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxKSB7XG4gICAgICB3aWR0aCA9IDE7XG4gICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IGFzcGVjdFJhdGlvO1xuICAgICAgaGVpZ2h0ID0gMTtcbiAgICB9XG5cbiAgICB0aGlzLmNhbWVyYS5sZWZ0ID0gLXdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEudG9wID0gaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLmJvdHRvbSA9IC1oZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS54ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgfVxuXG4gIG9uTW91c2VNb3ZlKGV2dCkge1xuICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS54ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZ0LmNsaWVudFg7XG4gICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgfVxuXG4gIG9uUmFmKGRlbHRhKSB7XG4gICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgKz0gdGhpcy5yYWYuZ2V0RGVsdGEodHJ1ZSk7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gR2xzbFBsYXlncm91bmQ0OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground4.js\n");

/***/ }),

/***/ "./examples/glsl-playground5.js":
/*!**************************************!*\
  !*** ./examples/glsl-playground5.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/**\n *\n * Varying UV sample\n * https://threejs.org/docs/#api/en/renderers/webgl/WebGLProgram\n * https://gist.github.com/uxder/cc02c445c2f7b4679e48e91d2920c832\n */\nconst vshader = `\nvarying vec2 v_uv; // Declare v_uv\nvarying vec3 v_position; // Declare v_position\nvoid main() {\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\n  v_uv = uv;\n  v_position = position;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\nuniform float u_time;\n\nvarying vec2 v_uv;\nvarying vec3 v_position;\n\nvoid main (void)\n{\n\n//   vec3 color = vec3(\n//       v_uv.x, v_uv.y, 0.0\n//   );\n\n  // Different results as above because, v_position is the position of\n  // the model as opposed to UV is a 0,0 - 1,1 spread of the model.\n  vec3 color = vec3(\n      v_position.x, v_position.y, 0.0\n  );\n  gl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground5 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new THREE.Color(0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new THREE.PlaneGeometry(2, 2);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground5;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQ1LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvZ2xzbC1wbGF5Z3JvdW5kNS5qcz9kOWVlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3RocmVlID0gcmVxdWlyZShcInRocmVlXCIpO1xuXG52YXIgVEhSRUUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGhyZWUpO1xuXG52YXIgX3JhZiA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZlwiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLyoqXG4gKlxuICogVmFyeWluZyBVViBzYW1wbGVcbiAqIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL3JlbmRlcmVycy93ZWJnbC9XZWJHTFByb2dyYW1cbiAqIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3V4ZGVyL2NjMDJjNDQ1YzJmN2I0Njc5ZTQ4ZTkxZDI5MjBjODMyXG4gKi9cbmNvbnN0IHZzaGFkZXIgPSBgXG52YXJ5aW5nIHZlYzIgdl91djsgLy8gRGVjbGFyZSB2X3V2XG52YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjsgLy8gRGVjbGFyZSB2X3Bvc2l0aW9uXG52b2lkIG1haW4oKSB7XG4gIC8vIFNldCB0aGUgdXYgdmFsdWUuICBUaHJlZS5qcyBwYXNzZXMgdGhlIHV2IHZhbHVlIGJ5IGRlZmF1bHQgb2YgdGhlIGN1cnJlbnQgdmVydGljZXMuXG4gIHZfdXYgPSB1djtcbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59XG5gO1xuY29uc3QgZnNoYWRlciA9IGBcbnVuaWZvcm0gdmVjMiB1X21vdXNlO1xudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xudW5pZm9ybSBmbG9hdCB1X3RpbWU7XG5cbnZhcnlpbmcgdmVjMiB2X3V2O1xudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247XG5cbnZvaWQgbWFpbiAodm9pZClcbntcblxuLy8gICB2ZWMzIGNvbG9yID0gdmVjMyhcbi8vICAgICAgIHZfdXYueCwgdl91di55LCAwLjBcbi8vICAgKTtcblxuICAvLyBEaWZmZXJlbnQgcmVzdWx0cyBhcyBhYm92ZSBiZWNhdXNlLCB2X3Bvc2l0aW9uIGlzIHRoZSBwb3NpdGlvbiBvZlxuICAvLyB0aGUgbW9kZWwgYXMgb3Bwb3NlZCB0byBVViBpcyBhIDAsMCAtIDEsMSBzcHJlYWQgb2YgdGhlIG1vZGVsLlxuICB2ZWMzIGNvbG9yID0gdmVjMyhcbiAgICAgIHZfcG9zaXRpb24ueCwgdl9wb3NpdGlvbi55LCAwLjBcbiAgKTtcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcbn1cbmA7XG5cbmNsYXNzIEdsc2xQbGF5Z3JvdW5kNSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTsgLy8gMngyXG5cbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoLTEsIDEsIDEsIC0xLCAwLjEsIDEwKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMucmFmID0gbmV3IF9yYWYuUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IF9kb21XYXRjaGVyLkRvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdtb3VzZW1vdmUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKVxuICAgIH0pO1xuICAgIHRoaXMudW5pZm9ybXMgPSB7XG4gICAgICB1X2NvbG9yOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHhmZjAwMDApXG4gICAgICB9LFxuICAgICAgLy8gRmxvYXRcbiAgICAgIHVfdGltZToge1xuICAgICAgICB2YWx1ZTogMC4wXG4gICAgICB9LFxuICAgICAgLy8gVmVjMiAwLDAgYXQgdG9wLCBsZWZ0IGFuZCB3aW5kb3cuaW5uZXJXaWR0aCBhbmQgd2luZG93LmlubmVySGVpZ2h0IGF0IGJvdHRvbSByaWdodC5cbiAgICAgIHVfbW91c2U6IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLjAsXG4gICAgICAgICAgeTogMC4wXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvLyBWZWMyIFNjcmVlbiByZXNvbHV0aW9uXG4gICAgICB1X3Jlc29sdXRpb246IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07IC8vIDJ4MiBzbyBpdCBmaWxsIHRoZSBzY3JlZW4uXG5cbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMiwgMik7XG4gICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICB1bmlmb3JtczogdGhpcy51bmlmb3JtcyxcbiAgICAgIHZlcnRleFNoYWRlcjogdnNoYWRlcixcbiAgICAgIGZyYWdtZW50U2hhZGVyOiBmc2hhZGVyXG4gICAgfSk7IC8vIENyZWF0ZSBtZXNoIChnZW9tICsgbWF0ZXJpYWwpXG5cbiAgICB0aGlzLnBsYW5lID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5wbGFuZSk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDE7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBvblJlc2l6ZSgpIHtcbiAgICBjb25zdCBhc3BlY3RSYXRpbyA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGxldCB3aWR0aCwgaGVpZ2h0O1xuXG4gICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgIHdpZHRoID0gMTtcbiAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAvIHdpbmRvdy5pbm5lcldpZHRoICogd2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpZHRoID0gYXNwZWN0UmF0aW87XG4gICAgICBoZWlnaHQgPSAxO1xuICAgIH1cblxuICAgIHRoaXMuY2FtZXJhLmxlZnQgPSAtd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEucmlnaHQgPSB3aWR0aDtcbiAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEuYm90dG9tID0gLWhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS55ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICB9XG5cbiAgb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnggPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFggOiBldnQuY2xpZW50WDtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueSA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2dC5jbGllbnRZO1xuICB9XG5cbiAgb25SYWYoZGVsdGEpIHtcbiAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSB0aGlzLnJhZi5nZXREZWx0YSh0cnVlKTtcbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBHbHNsUGxheWdyb3VuZDU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground5.js\n");

/***/ }),

/***/ "./examples/glsl-playground6.js":
/*!**************************************!*\
  !*** ./examples/glsl-playground6.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nconst vshader = `\nvarying vec3 v_position; // Declare v_position\nvoid main() {\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\n  v_position = position;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\nuniform float u_time;\n\nvarying vec3 v_position;\n\nvoid main (void)\n{\n\n  // Normalization of v_position since 0,0 is the center and we know that\n  // this plane is 2 wide with -1 at the egdes.\n  //   vec2 pos = (v_position.xy + 1.0) / 2.0;\n  vec3 color = vec3(0.0);\n\n  // v_position ranges from -1, 1 (as defined in our plane) so clamp the values.\n  color.r = clamp(v_position.x, 0.0, 1.0);\n  color.g = clamp(v_position.y, 0.0, 1.0);\n\n  gl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground6 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new THREE.Color(0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new THREE.PlaneGeometry(2, 2);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground6;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQ2LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvZ2xzbC1wbGF5Z3JvdW5kNi5qcz9iZGFjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3RocmVlID0gcmVxdWlyZShcInRocmVlXCIpO1xuXG52YXIgVEhSRUUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGhyZWUpO1xuXG52YXIgX3JhZiA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZlwiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuY29uc3QgdnNoYWRlciA9IGBcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uOyAvLyBEZWNsYXJlIHZfcG9zaXRpb25cbnZvaWQgbWFpbigpIHtcbiAgLy8gU2V0IHRoZSB1diB2YWx1ZS4gIFRocmVlLmpzIHBhc3NlcyB0aGUgdXYgdmFsdWUgYnkgZGVmYXVsdCBvZiB0aGUgY3VycmVudCB2ZXJ0aWNlcy5cbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59XG5gO1xuY29uc3QgZnNoYWRlciA9IGBcbnVuaWZvcm0gdmVjMiB1X21vdXNlO1xudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xudW5pZm9ybSBmbG9hdCB1X3RpbWU7XG5cbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xuXG52b2lkIG1haW4gKHZvaWQpXG57XG5cbiAgLy8gTm9ybWFsaXphdGlvbiBvZiB2X3Bvc2l0aW9uIHNpbmNlIDAsMCBpcyB0aGUgY2VudGVyIGFuZCB3ZSBrbm93IHRoYXRcbiAgLy8gdGhpcyBwbGFuZSBpcyAyIHdpZGUgd2l0aCAtMSBhdCB0aGUgZWdkZXMuXG4gIC8vICAgdmVjMiBwb3MgPSAodl9wb3NpdGlvbi54eSArIDEuMCkgLyAyLjA7XG4gIHZlYzMgY29sb3IgPSB2ZWMzKDAuMCk7XG5cbiAgLy8gdl9wb3NpdGlvbiByYW5nZXMgZnJvbSAtMSwgMSAoYXMgZGVmaW5lZCBpbiBvdXIgcGxhbmUpIHNvIGNsYW1wIHRoZSB2YWx1ZXMuXG4gIGNvbG9yLnIgPSBjbGFtcCh2X3Bvc2l0aW9uLngsIDAuMCwgMS4wKTtcbiAgY29sb3IuZyA9IGNsYW1wKHZfcG9zaXRpb24ueSwgMC4wLCAxLjApO1xuXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XG59XG5gO1xuXG5jbGFzcyBHbHNsUGxheWdyb3VuZDYge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgdV9jb2xvcjoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmYwMDAwKVxuICAgICAgfSxcbiAgICAgIC8vIEZsb2F0XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgMCwwIGF0IHRvcCwgbGVmdCBhbmQgd2luZG93LmlubmVyV2lkdGggYW5kIHdpbmRvdy5pbm5lckhlaWdodCBhdCBib3R0b20gcmlnaHQuXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gVmVjMiBTY3JlZW4gcmVzb2x1dGlvblxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyAyeDIgc28gaXQgZmlsbCB0aGUgc2NyZWVuLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIsIDIpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgb25SZXNpemUoKSB7XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBsZXQgd2lkdGgsIGhlaWdodDtcblxuICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxKSB7XG4gICAgICB3aWR0aCA9IDE7XG4gICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IGFzcGVjdFJhdGlvO1xuICAgICAgaGVpZ2h0ID0gMTtcbiAgICB9XG5cbiAgICB0aGlzLmNhbWVyYS5sZWZ0ID0gLXdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEudG9wID0gaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLmJvdHRvbSA9IC1oZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS54ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgfVxuXG4gIG9uTW91c2VNb3ZlKGV2dCkge1xuICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS54ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZ0LmNsaWVudFg7XG4gICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgfVxuXG4gIG9uUmFmKGRlbHRhKSB7XG4gICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgKz0gdGhpcy5yYWYuZ2V0RGVsdGEodHJ1ZSk7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gR2xzbFBsYXlncm91bmQ2OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/glsl-playground6.js\n");

/***/ }),

/***/ "./examples/glsl-playground7.js":
/*!**************************************!*\
  !*** ./examples/glsl-playground7.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nconst vshader = `\nvarying vec3 v_position; // Declare v_position\nvoid main() {\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\n  v_position = position;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\nuniform float u_time;\n\nvarying vec3 v_position;\n\nvoid main (void)\n{\n\n  // Normalization of v_position since 0,0 is the center and we know that\n  // this plane is 2 wide with -1 at the egdes.\n  //   vec2 pos = (v_position.xy + 1.0) / 2.0;\n  vec3 color = vec3(0.0);\n\n  // v_position ranges from -1, 1 (as defined in our plane) so clamp the values.\n  // By using step we get sharp edges.\n  //color.r = step(0.0, v_position.x);\n  //color.g = step(0.0, v_position.y);\n\n  // Returns a full yellow screeen because the position.xy\n  // are always greater than -1.0\n//   color.r = step(-1.0, v_position.x);\n//   color.g = step(-1.0, v_position.y);\n\n\n  // Smooth step example.\n  // Compare to step above, it smooths out the steps and edges.\n  color.r = smoothstep(0.0, 0.1, v_position.x);\n  color.g = smoothstep(0.0, 0.1, v_position.y);\n\n\n  gl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground7 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new THREE.Color(0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new THREE.PlaneGeometry(2, 2);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground7;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQ3LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvZ2xzbC1wbGF5Z3JvdW5kNy5qcz85NTVjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3RocmVlID0gcmVxdWlyZShcInRocmVlXCIpO1xuXG52YXIgVEhSRUUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGhyZWUpO1xuXG52YXIgX3JhZiA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZlwiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuY29uc3QgdnNoYWRlciA9IGBcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uOyAvLyBEZWNsYXJlIHZfcG9zaXRpb25cbnZvaWQgbWFpbigpIHtcbiAgLy8gU2V0IHRoZSB1diB2YWx1ZS4gIFRocmVlLmpzIHBhc3NlcyB0aGUgdXYgdmFsdWUgYnkgZGVmYXVsdCBvZiB0aGUgY3VycmVudCB2ZXJ0aWNlcy5cbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59XG5gO1xuY29uc3QgZnNoYWRlciA9IGBcbnVuaWZvcm0gdmVjMiB1X21vdXNlO1xudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xudW5pZm9ybSBmbG9hdCB1X3RpbWU7XG5cbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xuXG52b2lkIG1haW4gKHZvaWQpXG57XG5cbiAgLy8gTm9ybWFsaXphdGlvbiBvZiB2X3Bvc2l0aW9uIHNpbmNlIDAsMCBpcyB0aGUgY2VudGVyIGFuZCB3ZSBrbm93IHRoYXRcbiAgLy8gdGhpcyBwbGFuZSBpcyAyIHdpZGUgd2l0aCAtMSBhdCB0aGUgZWdkZXMuXG4gIC8vICAgdmVjMiBwb3MgPSAodl9wb3NpdGlvbi54eSArIDEuMCkgLyAyLjA7XG4gIHZlYzMgY29sb3IgPSB2ZWMzKDAuMCk7XG5cbiAgLy8gdl9wb3NpdGlvbiByYW5nZXMgZnJvbSAtMSwgMSAoYXMgZGVmaW5lZCBpbiBvdXIgcGxhbmUpIHNvIGNsYW1wIHRoZSB2YWx1ZXMuXG4gIC8vIEJ5IHVzaW5nIHN0ZXAgd2UgZ2V0IHNoYXJwIGVkZ2VzLlxuICAvL2NvbG9yLnIgPSBzdGVwKDAuMCwgdl9wb3NpdGlvbi54KTtcbiAgLy9jb2xvci5nID0gc3RlcCgwLjAsIHZfcG9zaXRpb24ueSk7XG5cbiAgLy8gUmV0dXJucyBhIGZ1bGwgeWVsbG93IHNjcmVlZW4gYmVjYXVzZSB0aGUgcG9zaXRpb24ueHlcbiAgLy8gYXJlIGFsd2F5cyBncmVhdGVyIHRoYW4gLTEuMFxuLy8gICBjb2xvci5yID0gc3RlcCgtMS4wLCB2X3Bvc2l0aW9uLngpO1xuLy8gICBjb2xvci5nID0gc3RlcCgtMS4wLCB2X3Bvc2l0aW9uLnkpO1xuXG5cbiAgLy8gU21vb3RoIHN0ZXAgZXhhbXBsZS5cbiAgLy8gQ29tcGFyZSB0byBzdGVwIGFib3ZlLCBpdCBzbW9vdGhzIG91dCB0aGUgc3RlcHMgYW5kIGVkZ2VzLlxuICBjb2xvci5yID0gc21vb3Roc3RlcCgwLjAsIDAuMSwgdl9wb3NpdGlvbi54KTtcbiAgY29sb3IuZyA9IHNtb290aHN0ZXAoMC4wLCAwLjEsIHZfcG9zaXRpb24ueSk7XG5cblxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxLjApO1xufVxuYDtcblxuY2xhc3MgR2xzbFBsYXlncm91bmQ3IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpOyAvLyAyeDJcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSgtMSwgMSwgMSwgLTEsIDAuMSwgMTApO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgX3JhZi5SYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgX2RvbVdhdGNoZXIuRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgdGhpcy51bmlmb3JtcyA9IHtcbiAgICAgIHVfY29sb3I6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweGZmMDAwMClcbiAgICAgIH0sXG4gICAgICAvLyBGbG9hdFxuICAgICAgdV90aW1lOiB7XG4gICAgICAgIHZhbHVlOiAwLjBcbiAgICAgIH0sXG4gICAgICAvLyBWZWMyIDAsMCBhdCB0b3AsIGxlZnQgYW5kIHdpbmRvdy5pbm5lcldpZHRoIGFuZCB3aW5kb3cuaW5uZXJIZWlnaHQgYXQgYm90dG9tIHJpZ2h0LlxuICAgICAgdV9tb3VzZToge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAuMCxcbiAgICAgICAgICB5OiAwLjBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgU2NyZWVuIHJlc29sdXRpb25cbiAgICAgIHVfcmVzb2x1dGlvbjoge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTsgLy8gMngyIHNvIGl0IGZpbGwgdGhlIHNjcmVlbi5cblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgyLCAyKTtcbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXJcbiAgICB9KTsgLy8gQ3JlYXRlIG1lc2ggKGdlb20gKyBtYXRlcmlhbClcblxuICAgIHRoaXMucGxhbmUgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLnBsYW5lKTtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID0gMTtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIG9uUmVzaXplKCkge1xuICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgbGV0IHdpZHRoLCBoZWlnaHQ7XG5cbiAgICBpZiAoYXNwZWN0UmF0aW8gPj0gMSkge1xuICAgICAgd2lkdGggPSAxO1xuICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGggKiB3aWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgIGhlaWdodCA9IDE7XG4gICAgfVxuXG4gICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICB0aGlzLmNhbWVyYS5yaWdodCA9IHdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnRvcCA9IGhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIH1cblxuICBvbk1vdXNlTW92ZShldnQpIHtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS55ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZ0LmNsaWVudFk7XG4gIH1cblxuICBvblJhZihkZWx0YSkge1xuICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdsc2xQbGF5Z3JvdW5kNzsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/glsl-playground7.js\n");

/***/ }),

/***/ "./examples/glsl-playground8.js":
/*!**************************************!*\
  !*** ./examples/glsl-playground8.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nconst vshader = `\nvarying vec3 v_position; // Declare v_position\nvoid main() {\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\n  v_position = position;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\nuniform float u_time;\n\nvarying vec3 v_position;\n\nvoid main (void)\n{\n\n  // inCirlce is 0.0 when length is less than 0.5 and 1 when it's greater than 0.5.\n  float inCircle = step(0.5, length(v_position.xy));\n  // Invert it the result.\n  inCircle = 1.0 - inCircle;\n\n\n//   float inCircle = 1.0 - step(0.5, length(v_position.xy));\n\n  // Multiply the color by 1.0 (resulting in yellow)\n  // or 0.0 = 0.0 (resulting in black)\n  vec3 color = vec3(1.0, 1.0, 0.0) * inCircle;\n\n  gl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground8 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new THREE.Color(0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new THREE.PlaneGeometry(2, 2);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground8;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQ4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvZ2xzbC1wbGF5Z3JvdW5kOC5qcz8xYzFkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3RocmVlID0gcmVxdWlyZShcInRocmVlXCIpO1xuXG52YXIgVEhSRUUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGhyZWUpO1xuXG52YXIgX3JhZiA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZlwiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuY29uc3QgdnNoYWRlciA9IGBcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uOyAvLyBEZWNsYXJlIHZfcG9zaXRpb25cbnZvaWQgbWFpbigpIHtcbiAgLy8gU2V0IHRoZSB1diB2YWx1ZS4gIFRocmVlLmpzIHBhc3NlcyB0aGUgdXYgdmFsdWUgYnkgZGVmYXVsdCBvZiB0aGUgY3VycmVudCB2ZXJ0aWNlcy5cbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59XG5gO1xuY29uc3QgZnNoYWRlciA9IGBcbnVuaWZvcm0gdmVjMiB1X21vdXNlO1xudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xudW5pZm9ybSBmbG9hdCB1X3RpbWU7XG5cbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xuXG52b2lkIG1haW4gKHZvaWQpXG57XG5cbiAgLy8gaW5DaXJsY2UgaXMgMC4wIHdoZW4gbGVuZ3RoIGlzIGxlc3MgdGhhbiAwLjUgYW5kIDEgd2hlbiBpdCdzIGdyZWF0ZXIgdGhhbiAwLjUuXG4gIGZsb2F0IGluQ2lyY2xlID0gc3RlcCgwLjUsIGxlbmd0aCh2X3Bvc2l0aW9uLnh5KSk7XG4gIC8vIEludmVydCBpdCB0aGUgcmVzdWx0LlxuICBpbkNpcmNsZSA9IDEuMCAtIGluQ2lyY2xlO1xuXG5cbi8vICAgZmxvYXQgaW5DaXJjbGUgPSAxLjAgLSBzdGVwKDAuNSwgbGVuZ3RoKHZfcG9zaXRpb24ueHkpKTtcblxuICAvLyBNdWx0aXBseSB0aGUgY29sb3IgYnkgMS4wIChyZXN1bHRpbmcgaW4geWVsbG93KVxuICAvLyBvciAwLjAgPSAwLjAgKHJlc3VsdGluZyBpbiBibGFjaylcbiAgdmVjMyBjb2xvciA9IHZlYzMoMS4wLCAxLjAsIDAuMCkgKiBpbkNpcmNsZTtcblxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxLjApO1xufVxuYDtcblxuY2xhc3MgR2xzbFBsYXlncm91bmQ4IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpOyAvLyAyeDJcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSgtMSwgMSwgMSwgLTEsIDAuMSwgMTApO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgX3JhZi5SYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgX2RvbVdhdGNoZXIuRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgdGhpcy51bmlmb3JtcyA9IHtcbiAgICAgIHVfY29sb3I6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweGZmMDAwMClcbiAgICAgIH0sXG4gICAgICAvLyBGbG9hdFxuICAgICAgdV90aW1lOiB7XG4gICAgICAgIHZhbHVlOiAwLjBcbiAgICAgIH0sXG4gICAgICAvLyBWZWMyIDAsMCBhdCB0b3AsIGxlZnQgYW5kIHdpbmRvdy5pbm5lcldpZHRoIGFuZCB3aW5kb3cuaW5uZXJIZWlnaHQgYXQgYm90dG9tIHJpZ2h0LlxuICAgICAgdV9tb3VzZToge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAuMCxcbiAgICAgICAgICB5OiAwLjBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgU2NyZWVuIHJlc29sdXRpb25cbiAgICAgIHVfcmVzb2x1dGlvbjoge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTsgLy8gMngyIHNvIGl0IGZpbGwgdGhlIHNjcmVlbi5cblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgyLCAyKTtcbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXJcbiAgICB9KTsgLy8gQ3JlYXRlIG1lc2ggKGdlb20gKyBtYXRlcmlhbClcblxuICAgIHRoaXMucGxhbmUgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLnBsYW5lKTtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID0gMTtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIG9uUmVzaXplKCkge1xuICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgbGV0IHdpZHRoLCBoZWlnaHQ7XG5cbiAgICBpZiAoYXNwZWN0UmF0aW8gPj0gMSkge1xuICAgICAgd2lkdGggPSAxO1xuICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGggKiB3aWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgIGhlaWdodCA9IDE7XG4gICAgfVxuXG4gICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICB0aGlzLmNhbWVyYS5yaWdodCA9IHdpZHRoO1xuICAgIHRoaXMuY2FtZXJhLnRvcCA9IGhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIH1cblxuICBvbk1vdXNlTW92ZShldnQpIHtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS55ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZ0LmNsaWVudFk7XG4gIH1cblxuICBvblJhZihkZWx0YSkge1xuICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEdsc2xQbGF5Z3JvdW5kODsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground8.js\n");

/***/ }),

/***/ "./examples/glsl-playground9.js":
/*!**************************************!*\
  !*** ./examples/glsl-playground9.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nconst vshader = `\nvarying vec3 v_position; // Declare v_position\nvoid main() {\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\n  v_position = position;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n}\n`;\nconst fshader = `\nuniform vec2 u_mouse;\nuniform vec2 u_resolution;\nuniform vec3 u_color;\nuniform float u_time;\n\nvarying vec3 v_position;\n\n// Determine if a particular pixel is within the boundaries of a rectangle box.\n// Returns 1.0 when point pt,  is inside a rectangle defined by size and center.\nfloat rect(vec2 pt, vec2 size, vec2 center) {\n    // We need to offset the position of the virtual box to do a hit test.\n    vec2 p = pt - center;\n    vec2 halfsize = size * 0.5; // Half the size since we just need\n\n    // Now do a hit test of this rectangle and see if pt falls within it.\n    // float horz = (v_position.x > -halfsize.x && v_position.x < halfsize.x) ?\n    float horz = step(-halfsize.x, p.x) - step(halfsize.x, p.x);\n    float vert = step(-halfsize.y, p.y) - step(halfsize.y, p.y);\n    return horz * vert;\n}\n\nvoid main (void)\n{\n\n\n// Example 1: Just a square\n//   float inRect = rect(v_position.xy, vec2(0.5), vec2(0.0));\n//   vec3 color = vec3(1.0, 1.0, 0.0) * inRect;\n\n// Example 2: Some movement\n// Add movement over time.\n//   float s = ((sin(u_time) + 1.0) / 2.0); // Normalize sin.\n//   s = s - 0.5; // Offset it.\n//   float inRect = rect(v_position.xy, vec2(s, s), vec2(s, -s));\n//   vec3 color = vec3(1.0, 1.0, 0.0) * inRect;\n\n// // Example 3: Two squares\n//   float square1 = rect(v_position.xy, vec2(0.3), vec2(0.0));\n//   float square2 = rect(v_position.xy, vec2(0.3), vec2(-0.5));\n//   vec3 color =\n//     (vec3(1.0, 1.0, 0.0) * square1) + // square 1\n//     (vec3(0.0, 1.0, 0.0) * square2) // square2\n//    ;\n\n\n// Example 4: Go around in a circle.\n  float radius = 0.2;\n  float time = u_time * 2.0;\n  // Get the center point for going around in a circle over time.\n  vec2 center = vec2( cos(time) * radius, sin(time) * radius);\n  float inRect = rect(v_position.xy, vec2(0.4), center);\n  vec3 color = vec3(1.0, 1.0, 0.0) * inRect;\n\n\n\n  gl_FragColor = vec4(color, 1.0);\n}\n`;\n\nclass GlslPlayground9 {\n  constructor() {\n    this.scene = new THREE.Scene(); // 2x2\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new THREE.Color(0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new THREE.PlaneGeometry(2, 2);\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new THREE.Mesh(this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  onResize() {\n    const aspectRatio = window.innerWidth / window.innerHeight;\n    let width, height;\n\n    if (aspectRatio >= 1) {\n      width = 1;\n      height = window.innerHeight / window.innerWidth * width;\n    } else {\n      width = aspectRatio;\n      height = 1;\n    }\n\n    this.camera.left = -width;\n    this.camera.right = width;\n    this.camera.top = height;\n    this.camera.bottom = -height;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.uniforms.u_resolution.value.x = window.innerWidth;\n    this.uniforms.u_resolution.value.y = window.innerHeight;\n  }\n\n  onMouseMove(evt) {\n    this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n    this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n  }\n\n  onRaf(delta) {\n    this.uniforms.u_time.value += this.raf.getDelta(true);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = GlslPlayground9;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQ5LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvZ2xzbC1wbGF5Z3JvdW5kOS5qcz81MWQ1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3RocmVlID0gcmVxdWlyZShcInRocmVlXCIpO1xuXG52YXIgVEhSRUUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGhyZWUpO1xuXG52YXIgX3JhZiA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZlwiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuY29uc3QgdnNoYWRlciA9IGBcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uOyAvLyBEZWNsYXJlIHZfcG9zaXRpb25cbnZvaWQgbWFpbigpIHtcbiAgLy8gU2V0IHRoZSB1diB2YWx1ZS4gIFRocmVlLmpzIHBhc3NlcyB0aGUgdXYgdmFsdWUgYnkgZGVmYXVsdCBvZiB0aGUgY3VycmVudCB2ZXJ0aWNlcy5cbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59XG5gO1xuY29uc3QgZnNoYWRlciA9IGBcbnVuaWZvcm0gdmVjMiB1X21vdXNlO1xudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xudW5pZm9ybSBmbG9hdCB1X3RpbWU7XG5cbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xuXG4vLyBEZXRlcm1pbmUgaWYgYSBwYXJ0aWN1bGFyIHBpeGVsIGlzIHdpdGhpbiB0aGUgYm91bmRhcmllcyBvZiBhIHJlY3RhbmdsZSBib3guXG4vLyBSZXR1cm5zIDEuMCB3aGVuIHBvaW50IHB0LCAgaXMgaW5zaWRlIGEgcmVjdGFuZ2xlIGRlZmluZWQgYnkgc2l6ZSBhbmQgY2VudGVyLlxuZmxvYXQgcmVjdCh2ZWMyIHB0LCB2ZWMyIHNpemUsIHZlYzIgY2VudGVyKSB7XG4gICAgLy8gV2UgbmVlZCB0byBvZmZzZXQgdGhlIHBvc2l0aW9uIG9mIHRoZSB2aXJ0dWFsIGJveCB0byBkbyBhIGhpdCB0ZXN0LlxuICAgIHZlYzIgcCA9IHB0IC0gY2VudGVyO1xuICAgIHZlYzIgaGFsZnNpemUgPSBzaXplICogMC41OyAvLyBIYWxmIHRoZSBzaXplIHNpbmNlIHdlIGp1c3QgbmVlZFxuXG4gICAgLy8gTm93IGRvIGEgaGl0IHRlc3Qgb2YgdGhpcyByZWN0YW5nbGUgYW5kIHNlZSBpZiBwdCBmYWxscyB3aXRoaW4gaXQuXG4gICAgLy8gZmxvYXQgaG9yeiA9ICh2X3Bvc2l0aW9uLnggPiAtaGFsZnNpemUueCAmJiB2X3Bvc2l0aW9uLnggPCBoYWxmc2l6ZS54KSA/XG4gICAgZmxvYXQgaG9yeiA9IHN0ZXAoLWhhbGZzaXplLngsIHAueCkgLSBzdGVwKGhhbGZzaXplLngsIHAueCk7XG4gICAgZmxvYXQgdmVydCA9IHN0ZXAoLWhhbGZzaXplLnksIHAueSkgLSBzdGVwKGhhbGZzaXplLnksIHAueSk7XG4gICAgcmV0dXJuIGhvcnogKiB2ZXJ0O1xufVxuXG52b2lkIG1haW4gKHZvaWQpXG57XG5cblxuLy8gRXhhbXBsZSAxOiBKdXN0IGEgc3F1YXJlXG4vLyAgIGZsb2F0IGluUmVjdCA9IHJlY3Qodl9wb3NpdGlvbi54eSwgdmVjMigwLjUpLCB2ZWMyKDAuMCkpO1xuLy8gICB2ZWMzIGNvbG9yID0gdmVjMygxLjAsIDEuMCwgMC4wKSAqIGluUmVjdDtcblxuLy8gRXhhbXBsZSAyOiBTb21lIG1vdmVtZW50XG4vLyBBZGQgbW92ZW1lbnQgb3ZlciB0aW1lLlxuLy8gICBmbG9hdCBzID0gKChzaW4odV90aW1lKSArIDEuMCkgLyAyLjApOyAvLyBOb3JtYWxpemUgc2luLlxuLy8gICBzID0gcyAtIDAuNTsgLy8gT2Zmc2V0IGl0LlxuLy8gICBmbG9hdCBpblJlY3QgPSByZWN0KHZfcG9zaXRpb24ueHksIHZlYzIocywgcyksIHZlYzIocywgLXMpKTtcbi8vICAgdmVjMyBjb2xvciA9IHZlYzMoMS4wLCAxLjAsIDAuMCkgKiBpblJlY3Q7XG5cbi8vIC8vIEV4YW1wbGUgMzogVHdvIHNxdWFyZXNcbi8vICAgZmxvYXQgc3F1YXJlMSA9IHJlY3Qodl9wb3NpdGlvbi54eSwgdmVjMigwLjMpLCB2ZWMyKDAuMCkpO1xuLy8gICBmbG9hdCBzcXVhcmUyID0gcmVjdCh2X3Bvc2l0aW9uLnh5LCB2ZWMyKDAuMyksIHZlYzIoLTAuNSkpO1xuLy8gICB2ZWMzIGNvbG9yID1cbi8vICAgICAodmVjMygxLjAsIDEuMCwgMC4wKSAqIHNxdWFyZTEpICsgLy8gc3F1YXJlIDFcbi8vICAgICAodmVjMygwLjAsIDEuMCwgMC4wKSAqIHNxdWFyZTIpIC8vIHNxdWFyZTJcbi8vICAgIDtcblxuXG4vLyBFeGFtcGxlIDQ6IEdvIGFyb3VuZCBpbiBhIGNpcmNsZS5cbiAgZmxvYXQgcmFkaXVzID0gMC4yO1xuICBmbG9hdCB0aW1lID0gdV90aW1lICogMi4wO1xuICAvLyBHZXQgdGhlIGNlbnRlciBwb2ludCBmb3IgZ29pbmcgYXJvdW5kIGluIGEgY2lyY2xlIG92ZXIgdGltZS5cbiAgdmVjMiBjZW50ZXIgPSB2ZWMyKCBjb3ModGltZSkgKiByYWRpdXMsIHNpbih0aW1lKSAqIHJhZGl1cyk7XG4gIGZsb2F0IGluUmVjdCA9IHJlY3Qodl9wb3NpdGlvbi54eSwgdmVjMigwLjQpLCBjZW50ZXIpO1xuICB2ZWMzIGNvbG9yID0gdmVjMygxLjAsIDEuMCwgMC4wKSAqIGluUmVjdDtcblxuXG5cbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcbn1cbmA7XG5cbmNsYXNzIEdsc2xQbGF5Z3JvdW5kOSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTsgLy8gMngyXG5cbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoLTEsIDEsIDEsIC0xLCAwLjEsIDEwKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMucmFmID0gbmV3IF9yYWYuUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IF9kb21XYXRjaGVyLkRvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdtb3VzZW1vdmUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKVxuICAgIH0pO1xuICAgIHRoaXMudW5pZm9ybXMgPSB7XG4gICAgICB1X2NvbG9yOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHhmZjAwMDApXG4gICAgICB9LFxuICAgICAgLy8gRmxvYXRcbiAgICAgIHVfdGltZToge1xuICAgICAgICB2YWx1ZTogMC4wXG4gICAgICB9LFxuICAgICAgLy8gVmVjMiAwLDAgYXQgdG9wLCBsZWZ0IGFuZCB3aW5kb3cuaW5uZXJXaWR0aCBhbmQgd2luZG93LmlubmVySGVpZ2h0IGF0IGJvdHRvbSByaWdodC5cbiAgICAgIHVfbW91c2U6IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLjAsXG4gICAgICAgICAgeTogMC4wXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvLyBWZWMyIFNjcmVlbiByZXNvbHV0aW9uXG4gICAgICB1X3Jlc29sdXRpb246IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07IC8vIDJ4MiBzbyBpdCBmaWxsIHRoZSBzY3JlZW4uXG5cbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMiwgMik7XG4gICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICB1bmlmb3JtczogdGhpcy51bmlmb3JtcyxcbiAgICAgIHZlcnRleFNoYWRlcjogdnNoYWRlcixcbiAgICAgIGZyYWdtZW50U2hhZGVyOiBmc2hhZGVyXG4gICAgfSk7IC8vIENyZWF0ZSBtZXNoIChnZW9tICsgbWF0ZXJpYWwpXG5cbiAgICB0aGlzLnBsYW5lID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5wbGFuZSk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDE7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBvblJlc2l6ZSgpIHtcbiAgICBjb25zdCBhc3BlY3RSYXRpbyA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGxldCB3aWR0aCwgaGVpZ2h0O1xuXG4gICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgIHdpZHRoID0gMTtcbiAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAvIHdpbmRvdy5pbm5lcldpZHRoICogd2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpZHRoID0gYXNwZWN0UmF0aW87XG4gICAgICBoZWlnaHQgPSAxO1xuICAgIH1cblxuICAgIHRoaXMuY2FtZXJhLmxlZnQgPSAtd2lkdGg7XG4gICAgdGhpcy5jYW1lcmEucmlnaHQgPSB3aWR0aDtcbiAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEuYm90dG9tID0gLWhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS55ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICB9XG5cbiAgb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnggPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFggOiBldnQuY2xpZW50WDtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueSA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2dC5jbGllbnRZO1xuICB9XG5cbiAgb25SYWYoZGVsdGEpIHtcbiAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSB0aGlzLnJhZi5nZXREZWx0YSh0cnVlKTtcbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBHbHNsUGxheWdyb3VuZDk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground9.js\n");

/***/ }),

/***/ "./examples/hermite-curve.js":
/*!***********************************!*\
  !*** ./examples/hermite-curve.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _domCanvas = __webpack_require__(/*! ../lib/dom/dom-canvas */ \"./lib/dom/dom-canvas.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nvar _hermiteCurve = __webpack_require__(/*! ../lib/mathf/hermite-curve */ \"./lib/mathf/hermite-curve.js\");\n\n/**\n * Demonstrates basic usage of Hermite Curve\n */\nclass HermiteCurveSample {\n  constructor() {\n    this.canvas = document.getElementById('canvas');\n    this.canvas.width = this.canvas.offsetWidth;\n    this.canvas.height = this.canvas.offsetHeight;\n    this.context = this.canvas.getContext('2d');\n    let p0 = new _vector.Vector(50, 400);\n    let m0 = new _vector.Vector(100, 200);\n    let p1 = new _vector.Vector(300, 300);\n    let m1 = new _vector.Vector(400, 400); // Set the number of points we want to draw.\n\n    let drawPoints = 500; // The amount of progress to per dot.\n\n    let progressSpan = 1 / drawPoints;\n\n    for (let step = 0; step < drawPoints; step++) {\n      // Draw a dot along the curve.  The progress value goes from 0-1.\n      let progress = step * progressSpan;\n\n      _domCanvas.domCanvas.setFillColor(this.context, 'orange');\n\n      _domCanvas.domCanvas.setStrokeColor(this.context, 'orange');\n\n      const vector = _hermiteCurve.HermiteCurve.getPoint(progress, p0, m0, p1, m1);\n\n      _domCanvas.domCanvas.vectorPoint(this.context, vector, 2);\n    } // Now draw out a large dot for each point.\n\n\n    _domCanvas.domCanvas.setFillColor(this.context, 'red');\n\n    _domCanvas.domCanvas.setStrokeColor(this.context, 'red');\n\n    _domCanvas.domCanvas.vectorPoint(this.context, p0);\n\n    _domCanvas.domCanvas.quickText(this.context, 'p0', p0.x, p0.y - 4);\n\n    _domCanvas.domCanvas.setFillColor(this.context, 'blue');\n\n    _domCanvas.domCanvas.setStrokeColor(this.context, 'blue');\n\n    _domCanvas.domCanvas.quickText(this.context, 'm0', m0.x, m0.y - 4);\n\n    _domCanvas.domCanvas.vectorPoint(this.context, m0);\n\n    _domCanvas.domCanvas.setFillColor(this.context, 'green');\n\n    _domCanvas.domCanvas.setStrokeColor(this.context, 'green');\n\n    _domCanvas.domCanvas.quickText(this.context, 'p1', p1.x, p1.y - 4);\n\n    _domCanvas.domCanvas.vectorPoint(this.context, p1);\n\n    _domCanvas.domCanvas.setFillColor(this.context, 'purple');\n\n    _domCanvas.domCanvas.setStrokeColor(this.context, 'purple');\n\n    _domCanvas.domCanvas.quickText(this.context, 'm1', m1.x, m1.y - 4);\n\n    _domCanvas.domCanvas.vectorPoint(this.context, m1);\n  }\n\n}\n\nexports.default = HermiteCurveSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9oZXJtaXRlLWN1cnZlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvaGVybWl0ZS1jdXJ2ZS5qcz8zMjg3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RvbUNhbnZhcyA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbS1jYW52YXNcIik7XG5cbnZhciBfdmVjdG9yID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi92ZWN0b3JcIik7XG5cbnZhciBfaGVybWl0ZUN1cnZlID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi9oZXJtaXRlLWN1cnZlXCIpO1xuXG4vKipcbiAqIERlbW9uc3RyYXRlcyBiYXNpYyB1c2FnZSBvZiBIZXJtaXRlIEN1cnZlXG4gKi9cbmNsYXNzIEhlcm1pdGVDdXJ2ZVNhbXBsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpO1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5jYW52YXMub2Zmc2V0V2lkdGg7XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMub2Zmc2V0SGVpZ2h0O1xuICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgbGV0IHAwID0gbmV3IF92ZWN0b3IuVmVjdG9yKDUwLCA0MDApO1xuICAgIGxldCBtMCA9IG5ldyBfdmVjdG9yLlZlY3RvcigxMDAsIDIwMCk7XG4gICAgbGV0IHAxID0gbmV3IF92ZWN0b3IuVmVjdG9yKDMwMCwgMzAwKTtcbiAgICBsZXQgbTEgPSBuZXcgX3ZlY3Rvci5WZWN0b3IoNDAwLCA0MDApOyAvLyBTZXQgdGhlIG51bWJlciBvZiBwb2ludHMgd2Ugd2FudCB0byBkcmF3LlxuXG4gICAgbGV0IGRyYXdQb2ludHMgPSA1MDA7IC8vIFRoZSBhbW91bnQgb2YgcHJvZ3Jlc3MgdG8gcGVyIGRvdC5cblxuICAgIGxldCBwcm9ncmVzc1NwYW4gPSAxIC8gZHJhd1BvaW50cztcblxuICAgIGZvciAobGV0IHN0ZXAgPSAwOyBzdGVwIDwgZHJhd1BvaW50czsgc3RlcCsrKSB7XG4gICAgICAvLyBEcmF3IGEgZG90IGFsb25nIHRoZSBjdXJ2ZS4gIFRoZSBwcm9ncmVzcyB2YWx1ZSBnb2VzIGZyb20gMC0xLlxuICAgICAgbGV0IHByb2dyZXNzID0gc3RlcCAqIHByb2dyZXNzU3BhbjtcblxuICAgICAgX2RvbUNhbnZhcy5kb21DYW52YXMuc2V0RmlsbENvbG9yKHRoaXMuY29udGV4dCwgJ29yYW5nZScpO1xuXG4gICAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdvcmFuZ2UnKTtcblxuICAgICAgY29uc3QgdmVjdG9yID0gX2hlcm1pdGVDdXJ2ZS5IZXJtaXRlQ3VydmUuZ2V0UG9pbnQocHJvZ3Jlc3MsIHAwLCBtMCwgcDEsIG0xKTtcblxuICAgICAgX2RvbUNhbnZhcy5kb21DYW52YXMudmVjdG9yUG9pbnQodGhpcy5jb250ZXh0LCB2ZWN0b3IsIDIpO1xuICAgIH0gLy8gTm93IGRyYXcgb3V0IGEgbGFyZ2UgZG90IGZvciBlYWNoIHBvaW50LlxuXG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRGaWxsQ29sb3IodGhpcy5jb250ZXh0LCAncmVkJyk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdyZWQnKTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgcDApO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMucXVpY2tUZXh0KHRoaXMuY29udGV4dCwgJ3AwJywgcDAueCwgcDAueSAtIDQpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMuc2V0RmlsbENvbG9yKHRoaXMuY29udGV4dCwgJ2JsdWUnKTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnNldFN0cm9rZUNvbG9yKHRoaXMuY29udGV4dCwgJ2JsdWUnKTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnF1aWNrVGV4dCh0aGlzLmNvbnRleHQsICdtMCcsIG0wLngsIG0wLnkgLSA0KTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgbTApO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMuc2V0RmlsbENvbG9yKHRoaXMuY29udGV4dCwgJ2dyZWVuJyk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdncmVlbicpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMucXVpY2tUZXh0KHRoaXMuY29udGV4dCwgJ3AxJywgcDEueCwgcDEueSAtIDQpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMudmVjdG9yUG9pbnQodGhpcy5jb250ZXh0LCBwMSk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRGaWxsQ29sb3IodGhpcy5jb250ZXh0LCAncHVycGxlJyk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdwdXJwbGUnKTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnF1aWNrVGV4dCh0aGlzLmNvbnRleHQsICdtMScsIG0xLngsIG0xLnkgLSA0KTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgbTEpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gSGVybWl0ZUN1cnZlU2FtcGxlOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/hermite-curve.js\n");

/***/ }),

/***/ "./examples/interpolate.js":
/*!*********************************!*\
  !*** ./examples/interpolate.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _interpolate = __webpack_require__(/*! ../lib/interpolate/interpolate */ \"./lib/interpolate/interpolate.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nclass InterpolateSample {\n  constructor() {\n    console.log('running raf timer sample'); //\n    // Here is an example of updating the ball x, y positions\n    // based on progress (a value between 0-1).\n    //\n    // Here progress is represented by the range input.\n    //\n    // See mathf.ease example as well.\n    //\n\n    this.ball = document.getElementById('ball');\n    this.range = document.getElementById('range');\n    this.progress = +this.range.value;\n    let ballXInter = new _interpolate.Interpolate({\n      from: 0,\n      to: 500,\n      easeFunction: _ease.EASE.easeOutSine\n    });\n    let ballYInter = new _interpolate.Interpolate({\n      from: 0,\n      to: 500,\n      easeFunction: _ease.EASE.easeInCubic\n    }); // Note we are using Raf for demo purposes.  Use [[RafProgress]] to\n    // ease progress and avoid layout thrashing.\n\n    const raf = new _raf.Raf(() => {\n      let progress = +this.range.value; // Add a lerp to the progress itself.\n      // This creates a ease, delayed motion when scrolling.\n      // Note, it's usually recommended to apply only EASE.linear\n      // for progress lerping.\n      // See mathf.ease example as well.\n\n      this.progress = _mathf.mathf.ease(this.progress, progress, 0.25, _ease.EASE.easeInOutQuad); // Uncomment me to see the difference without progress lerping.\n      // this.progress = progress;\n\n      let x = ballXInter.calculate(this.progress);\n      let y = ballYInter.calculate(this.progress);\n      this.updateBallPosition(x, y);\n    }); // raf.setFps(1);\n\n    raf.start();\n  }\n\n  updateBallPosition(x, y) {\n    this.ball.style.transform = `translateX(${x}px) translateY(${y}px)`;\n  }\n\n}\n\nexports.default = InterpolateSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9pbnRlcnBvbGF0ZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2ludGVycG9sYXRlLmpzPzJjODYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfaW50ZXJwb2xhdGUgPSByZXF1aXJlKFwiLi4vbGliL2ludGVycG9sYXRlL2ludGVycG9sYXRlXCIpO1xuXG52YXIgX21hdGhmID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi9tYXRoZlwiKTtcblxudmFyIF9yYWYgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWZcIik7XG5cbnZhciBfZWFzZSA9IHJlcXVpcmUoXCIuLi9saWIvZWFzZS9lYXNlXCIpO1xuXG5jbGFzcyBJbnRlcnBvbGF0ZVNhbXBsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdydW5uaW5nIHJhZiB0aW1lciBzYW1wbGUnKTsgLy9cbiAgICAvLyBIZXJlIGlzIGFuIGV4YW1wbGUgb2YgdXBkYXRpbmcgdGhlIGJhbGwgeCwgeSBwb3NpdGlvbnNcbiAgICAvLyBiYXNlZCBvbiBwcm9ncmVzcyAoYSB2YWx1ZSBiZXR3ZWVuIDAtMSkuXG4gICAgLy9cbiAgICAvLyBIZXJlIHByb2dyZXNzIGlzIHJlcHJlc2VudGVkIGJ5IHRoZSByYW5nZSBpbnB1dC5cbiAgICAvL1xuICAgIC8vIFNlZSBtYXRoZi5lYXNlIGV4YW1wbGUgYXMgd2VsbC5cbiAgICAvL1xuXG4gICAgdGhpcy5iYWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhbGwnKTtcbiAgICB0aGlzLnJhbmdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhbmdlJyk7XG4gICAgdGhpcy5wcm9ncmVzcyA9ICt0aGlzLnJhbmdlLnZhbHVlO1xuICAgIGxldCBiYWxsWEludGVyID0gbmV3IF9pbnRlcnBvbGF0ZS5JbnRlcnBvbGF0ZSh7XG4gICAgICBmcm9tOiAwLFxuICAgICAgdG86IDUwMCxcbiAgICAgIGVhc2VGdW5jdGlvbjogX2Vhc2UuRUFTRS5lYXNlT3V0U2luZVxuICAgIH0pO1xuICAgIGxldCBiYWxsWUludGVyID0gbmV3IF9pbnRlcnBvbGF0ZS5JbnRlcnBvbGF0ZSh7XG4gICAgICBmcm9tOiAwLFxuICAgICAgdG86IDUwMCxcbiAgICAgIGVhc2VGdW5jdGlvbjogX2Vhc2UuRUFTRS5lYXNlSW5DdWJpY1xuICAgIH0pOyAvLyBOb3RlIHdlIGFyZSB1c2luZyBSYWYgZm9yIGRlbW8gcHVycG9zZXMuICBVc2UgW1tSYWZQcm9ncmVzc11dIHRvXG4gICAgLy8gZWFzZSBwcm9ncmVzcyBhbmQgYXZvaWQgbGF5b3V0IHRocmFzaGluZy5cblxuICAgIGNvbnN0IHJhZiA9IG5ldyBfcmFmLlJhZigoKSA9PiB7XG4gICAgICBsZXQgcHJvZ3Jlc3MgPSArdGhpcy5yYW5nZS52YWx1ZTsgLy8gQWRkIGEgbGVycCB0byB0aGUgcHJvZ3Jlc3MgaXRzZWxmLlxuICAgICAgLy8gVGhpcyBjcmVhdGVzIGEgZWFzZSwgZGVsYXllZCBtb3Rpb24gd2hlbiBzY3JvbGxpbmcuXG4gICAgICAvLyBOb3RlLCBpdCdzIHVzdWFsbHkgcmVjb21tZW5kZWQgdG8gYXBwbHkgb25seSBFQVNFLmxpbmVhclxuICAgICAgLy8gZm9yIHByb2dyZXNzIGxlcnBpbmcuXG4gICAgICAvLyBTZWUgbWF0aGYuZWFzZSBleGFtcGxlIGFzIHdlbGwuXG5cbiAgICAgIHRoaXMucHJvZ3Jlc3MgPSBfbWF0aGYubWF0aGYuZWFzZSh0aGlzLnByb2dyZXNzLCBwcm9ncmVzcywgMC4yNSwgX2Vhc2UuRUFTRS5lYXNlSW5PdXRRdWFkKTsgLy8gVW5jb21tZW50IG1lIHRvIHNlZSB0aGUgZGlmZmVyZW5jZSB3aXRob3V0IHByb2dyZXNzIGxlcnBpbmcuXG4gICAgICAvLyB0aGlzLnByb2dyZXNzID0gcHJvZ3Jlc3M7XG5cbiAgICAgIGxldCB4ID0gYmFsbFhJbnRlci5jYWxjdWxhdGUodGhpcy5wcm9ncmVzcyk7XG4gICAgICBsZXQgeSA9IGJhbGxZSW50ZXIuY2FsY3VsYXRlKHRoaXMucHJvZ3Jlc3MpO1xuICAgICAgdGhpcy51cGRhdGVCYWxsUG9zaXRpb24oeCwgeSk7XG4gICAgfSk7IC8vIHJhZi5zZXRGcHMoMSk7XG5cbiAgICByYWYuc3RhcnQoKTtcbiAgfVxuXG4gIHVwZGF0ZUJhbGxQb3NpdGlvbih4LCB5KSB7XG4gICAgdGhpcy5iYWxsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7eH1weCkgdHJhbnNsYXRlWSgke3l9cHgpYDtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEludGVycG9sYXRlU2FtcGxlOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/interpolate.js\n");

/***/ }),

/***/ "./examples/inview.js":
/*!****************************!*\
  !*** ./examples/inview.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _inview = __webpack_require__(/*! ../lib/dom/inview */ \"./lib/dom/inview.js\");\n\nclass InviewSample {\n  constructor() {\n    console.log(\"inview sample\");\n    new _inview.Inview({\n      element: document.getElementById('test0'),\n      elementBaseline: 0,\n      viewportOffset: 0.2\n    });\n    new _inview.Inview({\n      element: document.getElementById('test'),\n      elementBaseline: 0,\n      viewportOffset: 0.2,\n      outviewOnlyOnElementExit: true\n    });\n    new _inview.Inview({\n      element: document.getElementById('test2'),\n      elementBaseline: 0,\n      viewportOffset: 0.2,\n      // outviewOnlyOnElementExit: true\n      downOnlyMode: true\n    });\n  }\n\n}\n\nexports.default = InviewSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9pbnZpZXcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9pbnZpZXcuanM/Y2I1YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9pbnZpZXcgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9pbnZpZXdcIik7XG5cbmNsYXNzIEludmlld1NhbXBsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKFwiaW52aWV3IHNhbXBsZVwiKTtcbiAgICBuZXcgX2ludmlldy5JbnZpZXcoe1xuICAgICAgZWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rlc3QwJyksXG4gICAgICBlbGVtZW50QmFzZWxpbmU6IDAsXG4gICAgICB2aWV3cG9ydE9mZnNldDogMC4yXG4gICAgfSk7XG4gICAgbmV3IF9pbnZpZXcuSW52aWV3KHtcbiAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXN0JyksXG4gICAgICBlbGVtZW50QmFzZWxpbmU6IDAsXG4gICAgICB2aWV3cG9ydE9mZnNldDogMC4yLFxuICAgICAgb3V0dmlld09ubHlPbkVsZW1lbnRFeGl0OiB0cnVlXG4gICAgfSk7XG4gICAgbmV3IF9pbnZpZXcuSW52aWV3KHtcbiAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXN0MicpLFxuICAgICAgZWxlbWVudEJhc2VsaW5lOiAwLFxuICAgICAgdmlld3BvcnRPZmZzZXQ6IDAuMixcbiAgICAgIC8vIG91dHZpZXdPbmx5T25FbGVtZW50RXhpdDogdHJ1ZVxuICAgICAgZG93bk9ubHlNb2RlOiB0cnVlXG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBJbnZpZXdTYW1wbGU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/inview.js\n");

/***/ }),

/***/ "./examples/mathf-ease.js":
/*!********************************!*\
  !*** ./examples/mathf-ease.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _cubicBezier = __webpack_require__(/*! ../lib/mathf/cubic-bezier */ \"./lib/mathf/cubic-bezier.js\");\n\nvar _catmullRom = __webpack_require__(/*! ../lib/mathf/catmull-rom */ \"./lib/mathf/catmull-rom.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nclass MathfEaseSample {\n  constructor() {\n    console.log('Mathf Ease Sample'); //\n    // Here is an example of updating the ball x, y positions\n    // based on progress (a value between 0-1).\n    //\n    // Moving the range input, will change the progress from 0-1.\n    //\n    // It is important to note that there are two levels of easing.\n    // The first level of ease is to the x, y POSITIONS of the ball.\n    // This is not easing of the animations (smoothing out interactions),\n    // but is easing calculations of the PATH that the ball should\n    // follow.\n    //\n    // This is calculated with:\n    //    x = mathf.ease(0, 500, this.progress, EASE.easeOutSine);\n    //    y = mathf.ease(0, 500, this.progress, EASE.easeInCubic);\n    //\n    //\n    // In order to smooth out the interaction (create a slight delay,\n    // smoothness),we add a second level of easing to the progress itself.\n    // This is adding EASE to the timeline rather than the path so there is\n    // a distinction.\n    //\n    //    this.progress = mathf.ease(this.progress, progress, 0.25, EASE.easeInOutQuad);\n    //\n    // Applying ease to progression works nicely in cases like this or\n    // in cases like where you are using the window scroll as a input\n    // for progression.\n    //\n    // Below is a demo but for a more performance way to ease progress,\n    // see [[RafProgress]].\n    //\n    // Try applying around with the demo.\n    //\n\n    this.ball = document.getElementById('ball');\n    this.checkbox = document.getElementById('checkbox');\n    this.range = document.getElementById('range');\n    this.progress = +this.range.value; // Note we are using Raf for demo purposes.  Use [[RafProgress]] to\n    // ease progress and avoid layout thrashing.\n\n    const raf = new _raf.Raf(() => {\n      let progress = +this.range.value; // Add a lerp to the progress itself.\n      // This creates a ease, delayed motion when scrolling.\n      // Note, it's usually recommended to apply only EASE.linear\n      // for progress lerping.\n\n      if (this.checkbox.checked) {\n        // this.progress = mathf.ease(this.progress, progress, 0.25, EASE.easeInOutQuad);\n        // this.progress = mathf.ease(this.progress, progress, 0.02, EASE.linear);\n        this.progress = _mathf.mathf.damp(this.progress, progress, 0.25, 0.3);\n      } else {\n        // No easing on progress.\n        this.progress = progress;\n      } // EASE Example\n      // let x = mathf.ease(0, 500, this.progress, EASE.easeOutSine);\n      // let y = mathf.ease(0, 500, this.progress, EASE.easeInCubic);\n      // Cubic Bezier  Example\n      // Keep X as linear so you can see the bezier on the y.\n      // https://cubic-bezier.com/\n      // let x = mathf.ease(0, 500, this.progress,\n      //     EASE.linear);\n      // let y = mathf.ease(500, 0, this.progress,\n      //     CubicBezier.makeEasingFunction(0.17, 0.67, 0.93, -0.12));\n      // Catmull-Rom example.\n\n\n      let catmullEasing = _catmullRom.CatmullRom.interpolate([new _vector.Vector(0, 500), new _vector.Vector(100, 300), new _vector.Vector(200, 200), new _vector.Vector(300, 400), new _vector.Vector(400, 200), new _vector.Vector(500, 300)], 0.5, 0.5); // let x = mathf.ease(0, 500, this.progress,\n      //     EASE.linear);\n      // console.log('x');\n\n\n      let x = catmullEasing(this.progress).x;\n      let y = catmullEasing(this.progress).y; // console.log(y);\n      // console.log(y);\n\n      this.updateBallPosition(x, y);\n    }); // raf.setFps(1);\n\n    raf.start();\n  }\n\n  updateBallPosition(x, y) {\n    this.ball.style.transform = `translateX(${x}px) translateY(${y}px)`;\n  }\n\n}\n\nexports.default = MathfEaseSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9tYXRoZi1lYXNlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvbWF0aGYtZWFzZS5qcz8xM2Q0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX21hdGhmID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi9tYXRoZlwiKTtcblxudmFyIF9yYWYgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWZcIik7XG5cbnZhciBfZWFzZSA9IHJlcXVpcmUoXCIuLi9saWIvZWFzZS9lYXNlXCIpO1xuXG52YXIgX2N1YmljQmV6aWVyID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi9jdWJpYy1iZXppZXJcIik7XG5cbnZhciBfY2F0bXVsbFJvbSA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvY2F0bXVsbC1yb21cIik7XG5cbnZhciBfdmVjdG9yID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi92ZWN0b3JcIik7XG5cbmNsYXNzIE1hdGhmRWFzZVNhbXBsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdNYXRoZiBFYXNlIFNhbXBsZScpOyAvL1xuICAgIC8vIEhlcmUgaXMgYW4gZXhhbXBsZSBvZiB1cGRhdGluZyB0aGUgYmFsbCB4LCB5IHBvc2l0aW9uc1xuICAgIC8vIGJhc2VkIG9uIHByb2dyZXNzIChhIHZhbHVlIGJldHdlZW4gMC0xKS5cbiAgICAvL1xuICAgIC8vIE1vdmluZyB0aGUgcmFuZ2UgaW5wdXQsIHdpbGwgY2hhbmdlIHRoZSBwcm9ncmVzcyBmcm9tIDAtMS5cbiAgICAvL1xuICAgIC8vIEl0IGlzIGltcG9ydGFudCB0byBub3RlIHRoYXQgdGhlcmUgYXJlIHR3byBsZXZlbHMgb2YgZWFzaW5nLlxuICAgIC8vIFRoZSBmaXJzdCBsZXZlbCBvZiBlYXNlIGlzIHRvIHRoZSB4LCB5IFBPU0lUSU9OUyBvZiB0aGUgYmFsbC5cbiAgICAvLyBUaGlzIGlzIG5vdCBlYXNpbmcgb2YgdGhlIGFuaW1hdGlvbnMgKHNtb290aGluZyBvdXQgaW50ZXJhY3Rpb25zKSxcbiAgICAvLyBidXQgaXMgZWFzaW5nIGNhbGN1bGF0aW9ucyBvZiB0aGUgUEFUSCB0aGF0IHRoZSBiYWxsIHNob3VsZFxuICAgIC8vIGZvbGxvdy5cbiAgICAvL1xuICAgIC8vIFRoaXMgaXMgY2FsY3VsYXRlZCB3aXRoOlxuICAgIC8vICAgIHggPSBtYXRoZi5lYXNlKDAsIDUwMCwgdGhpcy5wcm9ncmVzcywgRUFTRS5lYXNlT3V0U2luZSk7XG4gICAgLy8gICAgeSA9IG1hdGhmLmVhc2UoMCwgNTAwLCB0aGlzLnByb2dyZXNzLCBFQVNFLmVhc2VJbkN1YmljKTtcbiAgICAvL1xuICAgIC8vXG4gICAgLy8gSW4gb3JkZXIgdG8gc21vb3RoIG91dCB0aGUgaW50ZXJhY3Rpb24gKGNyZWF0ZSBhIHNsaWdodCBkZWxheSxcbiAgICAvLyBzbW9vdGhuZXNzKSx3ZSBhZGQgYSBzZWNvbmQgbGV2ZWwgb2YgZWFzaW5nIHRvIHRoZSBwcm9ncmVzcyBpdHNlbGYuXG4gICAgLy8gVGhpcyBpcyBhZGRpbmcgRUFTRSB0byB0aGUgdGltZWxpbmUgcmF0aGVyIHRoYW4gdGhlIHBhdGggc28gdGhlcmUgaXNcbiAgICAvLyBhIGRpc3RpbmN0aW9uLlxuICAgIC8vXG4gICAgLy8gICAgdGhpcy5wcm9ncmVzcyA9IG1hdGhmLmVhc2UodGhpcy5wcm9ncmVzcywgcHJvZ3Jlc3MsIDAuMjUsIEVBU0UuZWFzZUluT3V0UXVhZCk7XG4gICAgLy9cbiAgICAvLyBBcHBseWluZyBlYXNlIHRvIHByb2dyZXNzaW9uIHdvcmtzIG5pY2VseSBpbiBjYXNlcyBsaWtlIHRoaXMgb3JcbiAgICAvLyBpbiBjYXNlcyBsaWtlIHdoZXJlIHlvdSBhcmUgdXNpbmcgdGhlIHdpbmRvdyBzY3JvbGwgYXMgYSBpbnB1dFxuICAgIC8vIGZvciBwcm9ncmVzc2lvbi5cbiAgICAvL1xuICAgIC8vIEJlbG93IGlzIGEgZGVtbyBidXQgZm9yIGEgbW9yZSBwZXJmb3JtYW5jZSB3YXkgdG8gZWFzZSBwcm9ncmVzcyxcbiAgICAvLyBzZWUgW1tSYWZQcm9ncmVzc11dLlxuICAgIC8vXG4gICAgLy8gVHJ5IGFwcGx5aW5nIGFyb3VuZCB3aXRoIHRoZSBkZW1vLlxuICAgIC8vXG5cbiAgICB0aGlzLmJhbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFsbCcpO1xuICAgIHRoaXMuY2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hlY2tib3gnKTtcbiAgICB0aGlzLnJhbmdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhbmdlJyk7XG4gICAgdGhpcy5wcm9ncmVzcyA9ICt0aGlzLnJhbmdlLnZhbHVlOyAvLyBOb3RlIHdlIGFyZSB1c2luZyBSYWYgZm9yIGRlbW8gcHVycG9zZXMuICBVc2UgW1tSYWZQcm9ncmVzc11dIHRvXG4gICAgLy8gZWFzZSBwcm9ncmVzcyBhbmQgYXZvaWQgbGF5b3V0IHRocmFzaGluZy5cblxuICAgIGNvbnN0IHJhZiA9IG5ldyBfcmFmLlJhZigoKSA9PiB7XG4gICAgICBsZXQgcHJvZ3Jlc3MgPSArdGhpcy5yYW5nZS52YWx1ZTsgLy8gQWRkIGEgbGVycCB0byB0aGUgcHJvZ3Jlc3MgaXRzZWxmLlxuICAgICAgLy8gVGhpcyBjcmVhdGVzIGEgZWFzZSwgZGVsYXllZCBtb3Rpb24gd2hlbiBzY3JvbGxpbmcuXG4gICAgICAvLyBOb3RlLCBpdCdzIHVzdWFsbHkgcmVjb21tZW5kZWQgdG8gYXBwbHkgb25seSBFQVNFLmxpbmVhclxuICAgICAgLy8gZm9yIHByb2dyZXNzIGxlcnBpbmcuXG5cbiAgICAgIGlmICh0aGlzLmNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgICAgLy8gdGhpcy5wcm9ncmVzcyA9IG1hdGhmLmVhc2UodGhpcy5wcm9ncmVzcywgcHJvZ3Jlc3MsIDAuMjUsIEVBU0UuZWFzZUluT3V0UXVhZCk7XG4gICAgICAgIC8vIHRoaXMucHJvZ3Jlc3MgPSBtYXRoZi5lYXNlKHRoaXMucHJvZ3Jlc3MsIHByb2dyZXNzLCAwLjAyLCBFQVNFLmxpbmVhcik7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBfbWF0aGYubWF0aGYuZGFtcCh0aGlzLnByb2dyZXNzLCBwcm9ncmVzcywgMC4yNSwgMC4zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vIGVhc2luZyBvbiBwcm9ncmVzcy5cbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgfSAvLyBFQVNFIEV4YW1wbGVcbiAgICAgIC8vIGxldCB4ID0gbWF0aGYuZWFzZSgwLCA1MDAsIHRoaXMucHJvZ3Jlc3MsIEVBU0UuZWFzZU91dFNpbmUpO1xuICAgICAgLy8gbGV0IHkgPSBtYXRoZi5lYXNlKDAsIDUwMCwgdGhpcy5wcm9ncmVzcywgRUFTRS5lYXNlSW5DdWJpYyk7XG4gICAgICAvLyBDdWJpYyBCZXppZXIgIEV4YW1wbGVcbiAgICAgIC8vIEtlZXAgWCBhcyBsaW5lYXIgc28geW91IGNhbiBzZWUgdGhlIGJlemllciBvbiB0aGUgeS5cbiAgICAgIC8vIGh0dHBzOi8vY3ViaWMtYmV6aWVyLmNvbS9cbiAgICAgIC8vIGxldCB4ID0gbWF0aGYuZWFzZSgwLCA1MDAsIHRoaXMucHJvZ3Jlc3MsXG4gICAgICAvLyAgICAgRUFTRS5saW5lYXIpO1xuICAgICAgLy8gbGV0IHkgPSBtYXRoZi5lYXNlKDUwMCwgMCwgdGhpcy5wcm9ncmVzcyxcbiAgICAgIC8vICAgICBDdWJpY0Jlemllci5tYWtlRWFzaW5nRnVuY3Rpb24oMC4xNywgMC42NywgMC45MywgLTAuMTIpKTtcbiAgICAgIC8vIENhdG11bGwtUm9tIGV4YW1wbGUuXG5cblxuICAgICAgbGV0IGNhdG11bGxFYXNpbmcgPSBfY2F0bXVsbFJvbS5DYXRtdWxsUm9tLmludGVycG9sYXRlKFtuZXcgX3ZlY3Rvci5WZWN0b3IoMCwgNTAwKSwgbmV3IF92ZWN0b3IuVmVjdG9yKDEwMCwgMzAwKSwgbmV3IF92ZWN0b3IuVmVjdG9yKDIwMCwgMjAwKSwgbmV3IF92ZWN0b3IuVmVjdG9yKDMwMCwgNDAwKSwgbmV3IF92ZWN0b3IuVmVjdG9yKDQwMCwgMjAwKSwgbmV3IF92ZWN0b3IuVmVjdG9yKDUwMCwgMzAwKV0sIDAuNSwgMC41KTsgLy8gbGV0IHggPSBtYXRoZi5lYXNlKDAsIDUwMCwgdGhpcy5wcm9ncmVzcyxcbiAgICAgIC8vICAgICBFQVNFLmxpbmVhcik7XG4gICAgICAvLyBjb25zb2xlLmxvZygneCcpO1xuXG5cbiAgICAgIGxldCB4ID0gY2F0bXVsbEVhc2luZyh0aGlzLnByb2dyZXNzKS54O1xuICAgICAgbGV0IHkgPSBjYXRtdWxsRWFzaW5nKHRoaXMucHJvZ3Jlc3MpLnk7IC8vIGNvbnNvbGUubG9nKHkpO1xuICAgICAgLy8gY29uc29sZS5sb2coeSk7XG5cbiAgICAgIHRoaXMudXBkYXRlQmFsbFBvc2l0aW9uKHgsIHkpO1xuICAgIH0pOyAvLyByYWYuc2V0RnBzKDEpO1xuXG4gICAgcmFmLnN0YXJ0KCk7XG4gIH1cblxuICB1cGRhdGVCYWxsUG9zaXRpb24oeCwgeSkge1xuICAgIHRoaXMuYmFsbC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke3h9cHgpIHRyYW5zbGF0ZVkoJHt5fXB4KWA7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBNYXRoZkVhc2VTYW1wbGU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/mathf-ease.js\n");

/***/ }),

/***/ "./examples/matrixIV.js":
/*!******************************!*\
  !*** ./examples/matrixIV.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _domCanvas = __webpack_require__(/*! ../lib/dom/dom-canvas */ \"./lib/dom/dom-canvas.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nvar _matrixIV = __webpack_require__(/*! ../lib/mathf/matrixIV */ \"./lib/mathf/matrixIV.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _func = __webpack_require__(/*! ../lib/func/func */ \"./lib/func/func.js\");\n\nclass MatrixIVSample {\n  constructor() {\n    console.log('matrixIV sample');\n    this.canvas = document.getElementById('canvas');\n    this.canvas.width = this.canvas.offsetWidth;\n    this.canvas.height = this.canvas.offsetHeight;\n    this.context = this.canvas.getContext('2d'); // First plot out a basic vector\n\n    let c1 = new _vector.Vector(250, 250);\n\n    _domCanvas.domCanvas.setFillColor(this.context, 'purple');\n\n    _domCanvas.domCanvas.setStrokeColor(this.context, 'purple');\n\n    _domCanvas.domCanvas.quickText(this.context, 'c1', c1.x, c1.y - 4);\n\n    _domCanvas.domCanvas.vectorPoint(this.context, c1); // Now we apply a translation.\n\n\n    let c2 = c1.clone().transformWithMatrixIV(new _matrixIV.MatrixIV().translateXyz(10, 10, 0));\n\n    _domCanvas.domCanvas.quickText(this.context, 'c1 translate', c2.x, c2.y - 4);\n\n    _domCanvas.domCanvas.vectorPoint(this.context, c2); // A basic scaling.\n\n\n    let c3 = new _vector.Vector(400, 400);\n\n    _domCanvas.domCanvas.setFillColor(this.context, 'green');\n\n    _domCanvas.domCanvas.setStrokeColor(this.context, 'green');\n\n    _domCanvas.domCanvas.vectorPoint(this.context, c3);\n\n    let c4 = c3.clone().transformWithMatrixIV(new _matrixIV.MatrixIV().scaleXyz(0.8, 0.8, 0));\n\n    _domCanvas.domCanvas.quickText(this.context, 'c4 scale', c4.x, c4.y - 4);\n\n    _domCanvas.domCanvas.vectorPoint(this.context, c4); // Translate multiple points.\n\n\n    _domCanvas.domCanvas.setFillColor(this.context, 'orange');\n\n    _domCanvas.domCanvas.setStrokeColor(this.context, 'orange');\n\n    let c6 = new _vector.Vector(300, 50, 0);\n\n    _func.func.times(180, i => {\n      const point = c6.clone().transformWithMatrixIV(_matrixIV.MatrixIV._.translateXyz(-1.2 * i, 1.5 * i, 0));\n\n      _domCanvas.domCanvas.vectorPoint(this.context, point);\n\n      console.log(point);\n    });\n  }\n\n}\n\nexports.default = MatrixIVSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9tYXRyaXhJVi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL21hdHJpeElWLmpzPzA0NTAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZG9tQ2FudmFzID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLWNhbnZhc1wiKTtcblxudmFyIF92ZWN0b3IgPSByZXF1aXJlKFwiLi4vbGliL21hdGhmL3ZlY3RvclwiKTtcblxudmFyIF9tYXRyaXhJViA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvbWF0cml4SVZcIik7XG5cbnZhciBfbWF0aGYgPSByZXF1aXJlKFwiLi4vbGliL21hdGhmL21hdGhmXCIpO1xuXG52YXIgX2Z1bmMgPSByZXF1aXJlKFwiLi4vbGliL2Z1bmMvZnVuY1wiKTtcblxuY2xhc3MgTWF0cml4SVZTYW1wbGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygnbWF0cml4SVYgc2FtcGxlJyk7XG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5vZmZzZXRXaWR0aDtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy5vZmZzZXRIZWlnaHQ7XG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsgLy8gRmlyc3QgcGxvdCBvdXQgYSBiYXNpYyB2ZWN0b3JcblxuICAgIGxldCBjMSA9IG5ldyBfdmVjdG9yLlZlY3RvcigyNTAsIDI1MCk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRGaWxsQ29sb3IodGhpcy5jb250ZXh0LCAncHVycGxlJyk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdwdXJwbGUnKTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnF1aWNrVGV4dCh0aGlzLmNvbnRleHQsICdjMScsIGMxLngsIGMxLnkgLSA0KTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgYzEpOyAvLyBOb3cgd2UgYXBwbHkgYSB0cmFuc2xhdGlvbi5cblxuXG4gICAgbGV0IGMyID0gYzEuY2xvbmUoKS50cmFuc2Zvcm1XaXRoTWF0cml4SVYobmV3IF9tYXRyaXhJVi5NYXRyaXhJVigpLnRyYW5zbGF0ZVh5eigxMCwgMTAsIDApKTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnF1aWNrVGV4dCh0aGlzLmNvbnRleHQsICdjMSB0cmFuc2xhdGUnLCBjMi54LCBjMi55IC0gNCk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy52ZWN0b3JQb2ludCh0aGlzLmNvbnRleHQsIGMyKTsgLy8gQSBiYXNpYyBzY2FsaW5nLlxuXG5cbiAgICBsZXQgYzMgPSBuZXcgX3ZlY3Rvci5WZWN0b3IoNDAwLCA0MDApO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMuc2V0RmlsbENvbG9yKHRoaXMuY29udGV4dCwgJ2dyZWVuJyk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdncmVlbicpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMudmVjdG9yUG9pbnQodGhpcy5jb250ZXh0LCBjMyk7XG5cbiAgICBsZXQgYzQgPSBjMy5jbG9uZSgpLnRyYW5zZm9ybVdpdGhNYXRyaXhJVihuZXcgX21hdHJpeElWLk1hdHJpeElWKCkuc2NhbGVYeXooMC44LCAwLjgsIDApKTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnF1aWNrVGV4dCh0aGlzLmNvbnRleHQsICdjNCBzY2FsZScsIGM0LngsIGM0LnkgLSA0KTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgYzQpOyAvLyBUcmFuc2xhdGUgbXVsdGlwbGUgcG9pbnRzLlxuXG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRGaWxsQ29sb3IodGhpcy5jb250ZXh0LCAnb3JhbmdlJyk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdvcmFuZ2UnKTtcblxuICAgIGxldCBjNiA9IG5ldyBfdmVjdG9yLlZlY3RvcigzMDAsIDUwLCAwKTtcblxuICAgIF9mdW5jLmZ1bmMudGltZXMoMTgwLCBpID0+IHtcbiAgICAgIGNvbnN0IHBvaW50ID0gYzYuY2xvbmUoKS50cmFuc2Zvcm1XaXRoTWF0cml4SVYoX21hdHJpeElWLk1hdHJpeElWLl8udHJhbnNsYXRlWHl6KC0xLjIgKiBpLCAxLjUgKiBpLCAwKSk7XG5cbiAgICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgcG9pbnQpO1xuXG4gICAgICBjb25zb2xlLmxvZyhwb2ludCk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBNYXRyaXhJVlNhbXBsZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/matrixIV.js\n");

/***/ }),

/***/ "./examples/matrixIV2.js":
/*!*******************************!*\
  !*** ./examples/matrixIV2.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _domCanvas = __webpack_require__(/*! ../lib/dom/dom-canvas */ \"./lib/dom/dom-canvas.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nvar _matrixIV = __webpack_require__(/*! ../lib/mathf/matrixIV */ \"./lib/mathf/matrixIV.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _func = __webpack_require__(/*! ../lib/func/func */ \"./lib/func/func.js\");\n\n/**\n * An example of applying matrix transforms to a basis polygon.\n * Note that this example, is a very MANUAL way to do things\n * just to do a gentle intro to matrix.\n *\n * See MatrixIV3Sample for a quicker way to do this.\n */\nclass MatrixIV2Sample {\n  constructor() {\n    console.log('matrixIV2 sample');\n    this.canvas = document.getElementById('canvas');\n    this.canvas.width = this.canvas.offsetWidth;\n    this.canvas.height = this.canvas.offsetHeight;\n    this.context = this.canvas.getContext('2d'); // Create a basic polygon.\n\n    _domCanvas.domCanvas.setFillColor(this.context, 'green');\n\n    _domCanvas.domCanvas.setStrokeColor(this.context, 'green'); // Given an up and right vector,\n    // We create a square shape with four points.\n    //\n    //\n    //  p0-------------------------p1\n    //   |           ^             |\n    //   |           |             |\n    //   |           up            |\n    //   |           |             |\n    //   |           x---right-->  |\n    //   |                         |\n    //   |                         |\n    //   |                         |\n    //  p3------------------------p2\n    //\n    //\n    // X is the center of the square/ polygon.\n    // From x we have up (vector) going up and\n    // we also have right (vector) going right.\n    //\n    // From this we can calculate our basis.\n    // p0 = up - right\n    // p1 = up + right\n    // p2 = -up + right\n    // p3 = -up + -right\n    //\n    //\n\n\n    let up = new _vector.Vector(0, 50);\n    let right = new _vector.Vector(50, 0);\n\n    let p0 = _vector.Vector.subtract(up, right);\n\n    let p1 = _vector.Vector.add(up, right);\n\n    let p2 = _vector.Vector.add(_vector.Vector.negate(up), right);\n\n    let p3 = _vector.Vector.add(_vector.Vector.negate(up), _vector.Vector.negate(right)); // We are going to place this in the middle of the screen.\n\n\n    let basePositionVector = new _vector.Vector(250, 250); // Now create the points on the screen (without transformations)\n\n    let t0 = _vector.Vector.add(p0, basePositionVector);\n\n    let t1 = _vector.Vector.add(p1, basePositionVector);\n\n    let t2 = _vector.Vector.add(p2, basePositionVector);\n\n    let t3 = _vector.Vector.add(p3, basePositionVector); // Draw out the points without transformations\n\n\n    _domCanvas.domCanvas.vectorQuadrilateral(this.context, t0, t1, t2, t3); // // Now apply transformation.\n\n\n    _domCanvas.domCanvas.setFillColor(this.context, 'orange');\n\n    _domCanvas.domCanvas.setStrokeColor(this.context, 'orange'); // Let's first create rotation matrix along the Z plan to rotate the\n    // square by 45 degrees.\n\n\n    let angle = 45 * Math.PI / 180;\n    let rotationMatrix = new _matrixIV.MatrixIV().rotate(angle, new _vector.Vector(0, 0, 1)); // Let's also add a scaling matrix to decrease the size of the\n    // whole square.\n\n    let scaleMatrix = new _matrixIV.MatrixIV().scaleXyz(0.5, 0.5, 0.5); // We apply this transformation to the up and right vectors.\n    // Now these are going to be rotated by 45 degress.\n\n    up = up.clone() // This first rotation matrix will rotate the up vector 45 degrees.\n    .transformWithMatrixIV(rotationMatrix) // Now we scale it.\n    .transformWithMatrixIV(scaleMatrix);\n    right = right.clone() // This first rotation matrix will rotate the right vector 45 degrees.\n    .transformWithMatrixIV(rotationMatrix) // Now we scale it.\n    .transformWithMatrixIV(scaleMatrix); // At this point, we still have up and right vectors except they are now\n    // rotated 45 degrees (but are still perpendicular).\n    // Based on this, we calculate the p0-p3 points.\n    // This is shaped more like a diamond where p0 is the top and p2 is the bottom.\n\n    p0 = _vector.Vector.subtract(up, right);\n    p1 = _vector.Vector.add(up, right);\n    p2 = _vector.Vector.add(_vector.Vector.negate(up), right);\n    p3 = _vector.Vector.add(_vector.Vector.negate(up), _vector.Vector.negate(right)); // Let's also add a translation to the base position\n    // to draw this slighly to the side.\n\n    let translateMatrix = new _matrixIV.MatrixIV().translateXyz(-100, -100, 0);\n    basePositionVector.transformWithMatrixIV(translateMatrix); // Now we shift each point to where we are suppose to draw it.\n\n    t0 = _vector.Vector.add(p0, basePositionVector);\n    t1 = _vector.Vector.add(p1, basePositionVector);\n    t2 = _vector.Vector.add(p2, basePositionVector);\n    t3 = _vector.Vector.add(p3, basePositionVector);\n\n    _domCanvas.domCanvas.vectorQuadrilateral(this.context, t0, t1, t2, t3);\n  }\n\n}\n\nexports.default = MatrixIV2Sample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9tYXRyaXhJVjIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9tYXRyaXhJVjIuanM/OWY1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kb21DYW52YXMgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20tY2FudmFzXCIpO1xuXG52YXIgX3ZlY3RvciA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvdmVjdG9yXCIpO1xuXG52YXIgX21hdHJpeElWID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi9tYXRyaXhJVlwiKTtcblxudmFyIF9tYXRoZiA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvbWF0aGZcIik7XG5cbnZhciBfZnVuYyA9IHJlcXVpcmUoXCIuLi9saWIvZnVuYy9mdW5jXCIpO1xuXG4vKipcbiAqIEFuIGV4YW1wbGUgb2YgYXBwbHlpbmcgbWF0cml4IHRyYW5zZm9ybXMgdG8gYSBiYXNpcyBwb2x5Z29uLlxuICogTm90ZSB0aGF0IHRoaXMgZXhhbXBsZSwgaXMgYSB2ZXJ5IE1BTlVBTCB3YXkgdG8gZG8gdGhpbmdzXG4gKiBqdXN0IHRvIGRvIGEgZ2VudGxlIGludHJvIHRvIG1hdHJpeC5cbiAqXG4gKiBTZWUgTWF0cml4SVYzU2FtcGxlIGZvciBhIHF1aWNrZXIgd2F5IHRvIGRvIHRoaXMuXG4gKi9cbmNsYXNzIE1hdHJpeElWMlNhbXBsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdtYXRyaXhJVjIgc2FtcGxlJyk7XG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5vZmZzZXRXaWR0aDtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy5vZmZzZXRIZWlnaHQ7XG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsgLy8gQ3JlYXRlIGEgYmFzaWMgcG9seWdvbi5cblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnNldEZpbGxDb2xvcih0aGlzLmNvbnRleHQsICdncmVlbicpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMuc2V0U3Ryb2tlQ29sb3IodGhpcy5jb250ZXh0LCAnZ3JlZW4nKTsgLy8gR2l2ZW4gYW4gdXAgYW5kIHJpZ2h0IHZlY3RvcixcbiAgICAvLyBXZSBjcmVhdGUgYSBzcXVhcmUgc2hhcGUgd2l0aCBmb3VyIHBvaW50cy5cbiAgICAvL1xuICAgIC8vXG4gICAgLy8gIHAwLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXAxXG4gICAgLy8gICB8ICAgICAgICAgICBeICAgICAgICAgICAgIHxcbiAgICAvLyAgIHwgICAgICAgICAgIHwgICAgICAgICAgICAgfFxuICAgIC8vICAgfCAgICAgICAgICAgdXAgICAgICAgICAgICB8XG4gICAgLy8gICB8ICAgICAgICAgICB8ICAgICAgICAgICAgIHxcbiAgICAvLyAgIHwgICAgICAgICAgIHgtLS1yaWdodC0tPiAgfFxuICAgIC8vICAgfCAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgLy8gICB8ICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAvLyAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgIC8vICBwMy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXAyXG4gICAgLy9cbiAgICAvL1xuICAgIC8vIFggaXMgdGhlIGNlbnRlciBvZiB0aGUgc3F1YXJlLyBwb2x5Z29uLlxuICAgIC8vIEZyb20geCB3ZSBoYXZlIHVwICh2ZWN0b3IpIGdvaW5nIHVwIGFuZFxuICAgIC8vIHdlIGFsc28gaGF2ZSByaWdodCAodmVjdG9yKSBnb2luZyByaWdodC5cbiAgICAvL1xuICAgIC8vIEZyb20gdGhpcyB3ZSBjYW4gY2FsY3VsYXRlIG91ciBiYXNpcy5cbiAgICAvLyBwMCA9IHVwIC0gcmlnaHRcbiAgICAvLyBwMSA9IHVwICsgcmlnaHRcbiAgICAvLyBwMiA9IC11cCArIHJpZ2h0XG4gICAgLy8gcDMgPSAtdXAgKyAtcmlnaHRcbiAgICAvL1xuICAgIC8vXG5cblxuICAgIGxldCB1cCA9IG5ldyBfdmVjdG9yLlZlY3RvcigwLCA1MCk7XG4gICAgbGV0IHJpZ2h0ID0gbmV3IF92ZWN0b3IuVmVjdG9yKDUwLCAwKTtcblxuICAgIGxldCBwMCA9IF92ZWN0b3IuVmVjdG9yLnN1YnRyYWN0KHVwLCByaWdodCk7XG5cbiAgICBsZXQgcDEgPSBfdmVjdG9yLlZlY3Rvci5hZGQodXAsIHJpZ2h0KTtcblxuICAgIGxldCBwMiA9IF92ZWN0b3IuVmVjdG9yLmFkZChfdmVjdG9yLlZlY3Rvci5uZWdhdGUodXApLCByaWdodCk7XG5cbiAgICBsZXQgcDMgPSBfdmVjdG9yLlZlY3Rvci5hZGQoX3ZlY3Rvci5WZWN0b3IubmVnYXRlKHVwKSwgX3ZlY3Rvci5WZWN0b3IubmVnYXRlKHJpZ2h0KSk7IC8vIFdlIGFyZSBnb2luZyB0byBwbGFjZSB0aGlzIGluIHRoZSBtaWRkbGUgb2YgdGhlIHNjcmVlbi5cblxuXG4gICAgbGV0IGJhc2VQb3NpdGlvblZlY3RvciA9IG5ldyBfdmVjdG9yLlZlY3RvcigyNTAsIDI1MCk7IC8vIE5vdyBjcmVhdGUgdGhlIHBvaW50cyBvbiB0aGUgc2NyZWVuICh3aXRob3V0IHRyYW5zZm9ybWF0aW9ucylcblxuICAgIGxldCB0MCA9IF92ZWN0b3IuVmVjdG9yLmFkZChwMCwgYmFzZVBvc2l0aW9uVmVjdG9yKTtcblxuICAgIGxldCB0MSA9IF92ZWN0b3IuVmVjdG9yLmFkZChwMSwgYmFzZVBvc2l0aW9uVmVjdG9yKTtcblxuICAgIGxldCB0MiA9IF92ZWN0b3IuVmVjdG9yLmFkZChwMiwgYmFzZVBvc2l0aW9uVmVjdG9yKTtcblxuICAgIGxldCB0MyA9IF92ZWN0b3IuVmVjdG9yLmFkZChwMywgYmFzZVBvc2l0aW9uVmVjdG9yKTsgLy8gRHJhdyBvdXQgdGhlIHBvaW50cyB3aXRob3V0IHRyYW5zZm9ybWF0aW9uc1xuXG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy52ZWN0b3JRdWFkcmlsYXRlcmFsKHRoaXMuY29udGV4dCwgdDAsIHQxLCB0MiwgdDMpOyAvLyAvLyBOb3cgYXBwbHkgdHJhbnNmb3JtYXRpb24uXG5cblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnNldEZpbGxDb2xvcih0aGlzLmNvbnRleHQsICdvcmFuZ2UnKTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnNldFN0cm9rZUNvbG9yKHRoaXMuY29udGV4dCwgJ29yYW5nZScpOyAvLyBMZXQncyBmaXJzdCBjcmVhdGUgcm90YXRpb24gbWF0cml4IGFsb25nIHRoZSBaIHBsYW4gdG8gcm90YXRlIHRoZVxuICAgIC8vIHNxdWFyZSBieSA0NSBkZWdyZWVzLlxuXG5cbiAgICBsZXQgYW5nbGUgPSA0NSAqIE1hdGguUEkgLyAxODA7XG4gICAgbGV0IHJvdGF0aW9uTWF0cml4ID0gbmV3IF9tYXRyaXhJVi5NYXRyaXhJVigpLnJvdGF0ZShhbmdsZSwgbmV3IF92ZWN0b3IuVmVjdG9yKDAsIDAsIDEpKTsgLy8gTGV0J3MgYWxzbyBhZGQgYSBzY2FsaW5nIG1hdHJpeCB0byBkZWNyZWFzZSB0aGUgc2l6ZSBvZiB0aGVcbiAgICAvLyB3aG9sZSBzcXVhcmUuXG5cbiAgICBsZXQgc2NhbGVNYXRyaXggPSBuZXcgX21hdHJpeElWLk1hdHJpeElWKCkuc2NhbGVYeXooMC41LCAwLjUsIDAuNSk7IC8vIFdlIGFwcGx5IHRoaXMgdHJhbnNmb3JtYXRpb24gdG8gdGhlIHVwIGFuZCByaWdodCB2ZWN0b3JzLlxuICAgIC8vIE5vdyB0aGVzZSBhcmUgZ29pbmcgdG8gYmUgcm90YXRlZCBieSA0NSBkZWdyZXNzLlxuXG4gICAgdXAgPSB1cC5jbG9uZSgpIC8vIFRoaXMgZmlyc3Qgcm90YXRpb24gbWF0cml4IHdpbGwgcm90YXRlIHRoZSB1cCB2ZWN0b3IgNDUgZGVncmVlcy5cbiAgICAudHJhbnNmb3JtV2l0aE1hdHJpeElWKHJvdGF0aW9uTWF0cml4KSAvLyBOb3cgd2Ugc2NhbGUgaXQuXG4gICAgLnRyYW5zZm9ybVdpdGhNYXRyaXhJVihzY2FsZU1hdHJpeCk7XG4gICAgcmlnaHQgPSByaWdodC5jbG9uZSgpIC8vIFRoaXMgZmlyc3Qgcm90YXRpb24gbWF0cml4IHdpbGwgcm90YXRlIHRoZSByaWdodCB2ZWN0b3IgNDUgZGVncmVlcy5cbiAgICAudHJhbnNmb3JtV2l0aE1hdHJpeElWKHJvdGF0aW9uTWF0cml4KSAvLyBOb3cgd2Ugc2NhbGUgaXQuXG4gICAgLnRyYW5zZm9ybVdpdGhNYXRyaXhJVihzY2FsZU1hdHJpeCk7IC8vIEF0IHRoaXMgcG9pbnQsIHdlIHN0aWxsIGhhdmUgdXAgYW5kIHJpZ2h0IHZlY3RvcnMgZXhjZXB0IHRoZXkgYXJlIG5vd1xuICAgIC8vIHJvdGF0ZWQgNDUgZGVncmVlcyAoYnV0IGFyZSBzdGlsbCBwZXJwZW5kaWN1bGFyKS5cbiAgICAvLyBCYXNlZCBvbiB0aGlzLCB3ZSBjYWxjdWxhdGUgdGhlIHAwLXAzIHBvaW50cy5cbiAgICAvLyBUaGlzIGlzIHNoYXBlZCBtb3JlIGxpa2UgYSBkaWFtb25kIHdoZXJlIHAwIGlzIHRoZSB0b3AgYW5kIHAyIGlzIHRoZSBib3R0b20uXG5cbiAgICBwMCA9IF92ZWN0b3IuVmVjdG9yLnN1YnRyYWN0KHVwLCByaWdodCk7XG4gICAgcDEgPSBfdmVjdG9yLlZlY3Rvci5hZGQodXAsIHJpZ2h0KTtcbiAgICBwMiA9IF92ZWN0b3IuVmVjdG9yLmFkZChfdmVjdG9yLlZlY3Rvci5uZWdhdGUodXApLCByaWdodCk7XG4gICAgcDMgPSBfdmVjdG9yLlZlY3Rvci5hZGQoX3ZlY3Rvci5WZWN0b3IubmVnYXRlKHVwKSwgX3ZlY3Rvci5WZWN0b3IubmVnYXRlKHJpZ2h0KSk7IC8vIExldCdzIGFsc28gYWRkIGEgdHJhbnNsYXRpb24gdG8gdGhlIGJhc2UgcG9zaXRpb25cbiAgICAvLyB0byBkcmF3IHRoaXMgc2xpZ2hseSB0byB0aGUgc2lkZS5cblxuICAgIGxldCB0cmFuc2xhdGVNYXRyaXggPSBuZXcgX21hdHJpeElWLk1hdHJpeElWKCkudHJhbnNsYXRlWHl6KC0xMDAsIC0xMDAsIDApO1xuICAgIGJhc2VQb3NpdGlvblZlY3Rvci50cmFuc2Zvcm1XaXRoTWF0cml4SVYodHJhbnNsYXRlTWF0cml4KTsgLy8gTm93IHdlIHNoaWZ0IGVhY2ggcG9pbnQgdG8gd2hlcmUgd2UgYXJlIHN1cHBvc2UgdG8gZHJhdyBpdC5cblxuICAgIHQwID0gX3ZlY3Rvci5WZWN0b3IuYWRkKHAwLCBiYXNlUG9zaXRpb25WZWN0b3IpO1xuICAgIHQxID0gX3ZlY3Rvci5WZWN0b3IuYWRkKHAxLCBiYXNlUG9zaXRpb25WZWN0b3IpO1xuICAgIHQyID0gX3ZlY3Rvci5WZWN0b3IuYWRkKHAyLCBiYXNlUG9zaXRpb25WZWN0b3IpO1xuICAgIHQzID0gX3ZlY3Rvci5WZWN0b3IuYWRkKHAzLCBiYXNlUG9zaXRpb25WZWN0b3IpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMudmVjdG9yUXVhZHJpbGF0ZXJhbCh0aGlzLmNvbnRleHQsIHQwLCB0MSwgdDIsIHQzKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE1hdHJpeElWMlNhbXBsZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/matrixIV2.js\n");

/***/ }),

/***/ "./examples/matrixIV3.js":
/*!*******************************!*\
  !*** ./examples/matrixIV3.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _domCanvas = __webpack_require__(/*! ../lib/dom/dom-canvas */ \"./lib/dom/dom-canvas.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nvar _matrixIV = __webpack_require__(/*! ../lib/mathf/matrixIV */ \"./lib/mathf/matrixIV.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _func = __webpack_require__(/*! ../lib/func/func */ \"./lib/func/func.js\");\n\n/**\n * An example of applying matrix transforms to a basis polygon.\n * @see https://www.youtube.com/watch?v=8sqv11x10lc&feature=youtu.be\n */\nclass MatrixIV3Sample {\n  constructor() {\n    console.log('matrixIV3 sample');\n    this.canvas = document.getElementById('canvas');\n    this.canvas.width = this.canvas.offsetWidth;\n    this.canvas.height = this.canvas.offsetHeight;\n    this.context = this.canvas.getContext('2d');\n\n    _domCanvas.domCanvas.setFillColor(this.context, 'green');\n\n    _domCanvas.domCanvas.setStrokeColor(this.context, 'green'); // Out goal is to layout a 100x100 square in the middle of the screen.\n    // We will then rotate that square by 45 degrees and scale it 0.5.\n    //\n    //\n    // To begin, we want to think of a basisMatrix to formulate the square.\n    //\n    //  p0-------------------------p1\n    //   |           ^             |\n    //   |           |             |\n    //   |           up            |\n    //   |           |             |\n    //   |           x---right-->  |\n    //   |                         |\n    //   |                         |\n    //   |                         |\n    //  p3------------------------p2\n    //\n    //\n    // X is the center of the square/ polygon.\n    // From x we have up (vector) going up and\n    // we also have right (vector) going right.\n    // We will so have a forward (vector) going\n    // in the z plane which is a cross product of up.\n    //\n    // You can see that each of the points, can also be\n    // expressed as a vector from the center X.\n    // p0 = Vector(-1, -1)\n    // p1 = Vector(1, -1)\n    // p2 = Vector(1, 1)\n    // p3 = Vector(-1, 1)\n    // We define our vectors.  Since we want 100x100 pixels, we set the\n    // vectors from the x point.\n\n\n    let up = new _vector.Vector(0, 50);\n    let right = new _vector.Vector(50, 0); // To make this work, we are also going to\n    // need a forward vector (going in 3D space)\n    // which is the cross product of up vector.\n\n    let forward = _vector.Vector.ONE.cross(up); //\n    // Let's create out basisMatrix.\n    // We create a 4x4 matrix with the right, up and foward vectors as\n    // columns.\n    //\n    // This is visualized as:\n    // Basic Matrix =\n    // [\n    //   Rx, Ux, Fx, 0\n    //   Ry, Uy, Fy, 0\n    //   Rz, Uz, Fz, 0\n    //    0,  0,  0, 1\n    // ]\n    //\n    // From here, we will then multiply that by a matrix\n    // of each point of corner we want.\n    //\n    //     Basis Matrix         4x1 (Vector)\n    //   Rx, Ux, Fx, 0               x\n    //   Ry, Uy, Fy, 0     x         y\n    //   Rz, Uz, Fz, 0               z\n    //    0,  0,  0, 1               1\n    //\n    // The resulting 4x1 matrix will give us the x,y,z coordinates of\n    // each point relative to the center point.\n\n\n    let basisMatrix = new _matrixIV.MatrixIV();\n    basisMatrix.setVectorColumn(0, right);\n    basisMatrix.setVectorColumn(1, up);\n    basisMatrix.setVectorColumn(2, forward); //\n    // Now we want to get the coordinates of each of the 4 corners of\n    // the square as mentioned above.  First we create vectors for each point.\n\n    let p0 = new _vector.Vector(-1, -1);\n    let p1 = new _vector.Vector(1, -1);\n    let p2 = new _vector.Vector(1, 1);\n    let p3 = new _vector.Vector(-1, 1); // Now we are multiply this corner point vector by the 4x4 basis matrix.\n    // Under the hood, multiplyByVector converts the vector to a 4x1\n    // matrix and that is multiplied by the basisMatrix.\n    // We get a new vector returns which is the product of multiplying the\n    // vector and the basis matrix.\n    // In short, we are multiplying the basisMatrix by the values of the\n    // point vectors to calculate the relative x,y,z coordinates.\n\n    let t0 = basisMatrix.clone().multiplyByVector(p0);\n    let t1 = basisMatrix.clone().multiplyByVector(p1);\n    let t2 = basisMatrix.clone().multiplyByVector(p2);\n    let t3 = basisMatrix.clone().multiplyByVector(p3); // We are going to place this in the middle of the screen so let's\n    // shift over each point.\n\n    let basePositionVector = new _vector.Vector(250, 250);\n    t0.add(basePositionVector);\n    t1.add(basePositionVector);\n    t2.add(basePositionVector);\n    t3.add(basePositionVector);\n\n    _domCanvas.domCanvas.quickText(this.context, 't0', t0.x, t0.y - 4);\n\n    _domCanvas.domCanvas.quickText(this.context, 't1', t1.x, t1.y - 4);\n\n    _domCanvas.domCanvas.quickText(this.context, 't2', t2.x, t2.y - 4);\n\n    _domCanvas.domCanvas.quickText(this.context, 't3', t3.x, t3.y - 4); // Add this point, we have laid out four dots as a square.\n\n\n    _domCanvas.domCanvas.vectorPoint(this.context, t0);\n\n    _domCanvas.domCanvas.vectorPoint(this.context, t1);\n\n    _domCanvas.domCanvas.vectorPoint(this.context, t2);\n\n    _domCanvas.domCanvas.vectorPoint(this.context, t3);\n\n    _domCanvas.domCanvas.setFillColor(this.context, 'orange');\n\n    _domCanvas.domCanvas.setStrokeColor(this.context, 'orange'); // Now let's draw another set of dots but this time, transform\n    // the basisMatrix.\n\n\n    basisMatrix.scaleXyz(0.5, 0.5, 0.5).rotateZ(45 * Math.PI / 180); // Now that the basis Matrix is rotated, let's make the new square.\n    // Again we are going to calculate the corners by multiplying the\n    // the corner vectors.\n\n    t0 = basisMatrix.clone().multiplyByVector(p0);\n    t1 = basisMatrix.clone().multiplyByVector(p1);\n    t2 = basisMatrix.clone().multiplyByVector(p2);\n    t3 = basisMatrix.clone().multiplyByVector(p3); // Move the points to the center of the screen.\n\n    t0.add(basePositionVector);\n    t1.add(basePositionVector);\n    t2.add(basePositionVector);\n    t3.add(basePositionVector); // Draw the points.\n\n    _domCanvas.domCanvas.vectorPoint(this.context, t0);\n\n    _domCanvas.domCanvas.vectorPoint(this.context, t1);\n\n    _domCanvas.domCanvas.vectorPoint(this.context, t2);\n\n    _domCanvas.domCanvas.vectorPoint(this.context, t3);\n  }\n\n}\n\nexports.default = MatrixIV3Sample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9tYXRyaXhJVjMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9tYXRyaXhJVjMuanM/MjIzOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kb21DYW52YXMgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20tY2FudmFzXCIpO1xuXG52YXIgX3ZlY3RvciA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvdmVjdG9yXCIpO1xuXG52YXIgX21hdHJpeElWID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi9tYXRyaXhJVlwiKTtcblxudmFyIF9tYXRoZiA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvbWF0aGZcIik7XG5cbnZhciBfZnVuYyA9IHJlcXVpcmUoXCIuLi9saWIvZnVuYy9mdW5jXCIpO1xuXG4vKipcbiAqIEFuIGV4YW1wbGUgb2YgYXBwbHlpbmcgbWF0cml4IHRyYW5zZm9ybXMgdG8gYSBiYXNpcyBwb2x5Z29uLlxuICogQHNlZSBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PThzcXYxMXgxMGxjJmZlYXR1cmU9eW91dHUuYmVcbiAqL1xuY2xhc3MgTWF0cml4SVYzU2FtcGxlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc29sZS5sb2coJ21hdHJpeElWMyBzYW1wbGUnKTtcbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMuY2FudmFzLm9mZnNldFdpZHRoO1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuY2FudmFzLm9mZnNldEhlaWdodDtcbiAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMuc2V0RmlsbENvbG9yKHRoaXMuY29udGV4dCwgJ2dyZWVuJyk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdncmVlbicpOyAvLyBPdXQgZ29hbCBpcyB0byBsYXlvdXQgYSAxMDB4MTAwIHNxdWFyZSBpbiB0aGUgbWlkZGxlIG9mIHRoZSBzY3JlZW4uXG4gICAgLy8gV2Ugd2lsbCB0aGVuIHJvdGF0ZSB0aGF0IHNxdWFyZSBieSA0NSBkZWdyZWVzIGFuZCBzY2FsZSBpdCAwLjUuXG4gICAgLy9cbiAgICAvL1xuICAgIC8vIFRvIGJlZ2luLCB3ZSB3YW50IHRvIHRoaW5rIG9mIGEgYmFzaXNNYXRyaXggdG8gZm9ybXVsYXRlIHRoZSBzcXVhcmUuXG4gICAgLy9cbiAgICAvLyAgcDAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tcDFcbiAgICAvLyAgIHwgICAgICAgICAgIF4gICAgICAgICAgICAgfFxuICAgIC8vICAgfCAgICAgICAgICAgfCAgICAgICAgICAgICB8XG4gICAgLy8gICB8ICAgICAgICAgICB1cCAgICAgICAgICAgIHxcbiAgICAvLyAgIHwgICAgICAgICAgIHwgICAgICAgICAgICAgfFxuICAgIC8vICAgfCAgICAgICAgICAgeC0tLXJpZ2h0LS0+ICB8XG4gICAgLy8gICB8ICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAvLyAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgIC8vICAgfCAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgLy8gIHAzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tcDJcbiAgICAvL1xuICAgIC8vXG4gICAgLy8gWCBpcyB0aGUgY2VudGVyIG9mIHRoZSBzcXVhcmUvIHBvbHlnb24uXG4gICAgLy8gRnJvbSB4IHdlIGhhdmUgdXAgKHZlY3RvcikgZ29pbmcgdXAgYW5kXG4gICAgLy8gd2UgYWxzbyBoYXZlIHJpZ2h0ICh2ZWN0b3IpIGdvaW5nIHJpZ2h0LlxuICAgIC8vIFdlIHdpbGwgc28gaGF2ZSBhIGZvcndhcmQgKHZlY3RvcikgZ29pbmdcbiAgICAvLyBpbiB0aGUgeiBwbGFuZSB3aGljaCBpcyBhIGNyb3NzIHByb2R1Y3Qgb2YgdXAuXG4gICAgLy9cbiAgICAvLyBZb3UgY2FuIHNlZSB0aGF0IGVhY2ggb2YgdGhlIHBvaW50cywgY2FuIGFsc28gYmVcbiAgICAvLyBleHByZXNzZWQgYXMgYSB2ZWN0b3IgZnJvbSB0aGUgY2VudGVyIFguXG4gICAgLy8gcDAgPSBWZWN0b3IoLTEsIC0xKVxuICAgIC8vIHAxID0gVmVjdG9yKDEsIC0xKVxuICAgIC8vIHAyID0gVmVjdG9yKDEsIDEpXG4gICAgLy8gcDMgPSBWZWN0b3IoLTEsIDEpXG4gICAgLy8gV2UgZGVmaW5lIG91ciB2ZWN0b3JzLiAgU2luY2Ugd2Ugd2FudCAxMDB4MTAwIHBpeGVscywgd2Ugc2V0IHRoZVxuICAgIC8vIHZlY3RvcnMgZnJvbSB0aGUgeCBwb2ludC5cblxuXG4gICAgbGV0IHVwID0gbmV3IF92ZWN0b3IuVmVjdG9yKDAsIDUwKTtcbiAgICBsZXQgcmlnaHQgPSBuZXcgX3ZlY3Rvci5WZWN0b3IoNTAsIDApOyAvLyBUbyBtYWtlIHRoaXMgd29yaywgd2UgYXJlIGFsc28gZ29pbmcgdG9cbiAgICAvLyBuZWVkIGEgZm9yd2FyZCB2ZWN0b3IgKGdvaW5nIGluIDNEIHNwYWNlKVxuICAgIC8vIHdoaWNoIGlzIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHVwIHZlY3Rvci5cblxuICAgIGxldCBmb3J3YXJkID0gX3ZlY3Rvci5WZWN0b3IuT05FLmNyb3NzKHVwKTsgLy9cbiAgICAvLyBMZXQncyBjcmVhdGUgb3V0IGJhc2lzTWF0cml4LlxuICAgIC8vIFdlIGNyZWF0ZSBhIDR4NCBtYXRyaXggd2l0aCB0aGUgcmlnaHQsIHVwIGFuZCBmb3dhcmQgdmVjdG9ycyBhc1xuICAgIC8vIGNvbHVtbnMuXG4gICAgLy9cbiAgICAvLyBUaGlzIGlzIHZpc3VhbGl6ZWQgYXM6XG4gICAgLy8gQmFzaWMgTWF0cml4ID1cbiAgICAvLyBbXG4gICAgLy8gICBSeCwgVXgsIEZ4LCAwXG4gICAgLy8gICBSeSwgVXksIEZ5LCAwXG4gICAgLy8gICBSeiwgVXosIEZ6LCAwXG4gICAgLy8gICAgMCwgIDAsICAwLCAxXG4gICAgLy8gXVxuICAgIC8vXG4gICAgLy8gRnJvbSBoZXJlLCB3ZSB3aWxsIHRoZW4gbXVsdGlwbHkgdGhhdCBieSBhIG1hdHJpeFxuICAgIC8vIG9mIGVhY2ggcG9pbnQgb2YgY29ybmVyIHdlIHdhbnQuXG4gICAgLy9cbiAgICAvLyAgICAgQmFzaXMgTWF0cml4ICAgICAgICAgNHgxIChWZWN0b3IpXG4gICAgLy8gICBSeCwgVXgsIEZ4LCAwICAgICAgICAgICAgICAgeFxuICAgIC8vICAgUnksIFV5LCBGeSwgMCAgICAgeCAgICAgICAgIHlcbiAgICAvLyAgIFJ6LCBVeiwgRnosIDAgICAgICAgICAgICAgICB6XG4gICAgLy8gICAgMCwgIDAsICAwLCAxICAgICAgICAgICAgICAgMVxuICAgIC8vXG4gICAgLy8gVGhlIHJlc3VsdGluZyA0eDEgbWF0cml4IHdpbGwgZ2l2ZSB1cyB0aGUgeCx5LHogY29vcmRpbmF0ZXMgb2ZcbiAgICAvLyBlYWNoIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBjZW50ZXIgcG9pbnQuXG5cblxuICAgIGxldCBiYXNpc01hdHJpeCA9IG5ldyBfbWF0cml4SVYuTWF0cml4SVYoKTtcbiAgICBiYXNpc01hdHJpeC5zZXRWZWN0b3JDb2x1bW4oMCwgcmlnaHQpO1xuICAgIGJhc2lzTWF0cml4LnNldFZlY3RvckNvbHVtbigxLCB1cCk7XG4gICAgYmFzaXNNYXRyaXguc2V0VmVjdG9yQ29sdW1uKDIsIGZvcndhcmQpOyAvL1xuICAgIC8vIE5vdyB3ZSB3YW50IHRvIGdldCB0aGUgY29vcmRpbmF0ZXMgb2YgZWFjaCBvZiB0aGUgNCBjb3JuZXJzIG9mXG4gICAgLy8gdGhlIHNxdWFyZSBhcyBtZW50aW9uZWQgYWJvdmUuICBGaXJzdCB3ZSBjcmVhdGUgdmVjdG9ycyBmb3IgZWFjaCBwb2ludC5cblxuICAgIGxldCBwMCA9IG5ldyBfdmVjdG9yLlZlY3RvcigtMSwgLTEpO1xuICAgIGxldCBwMSA9IG5ldyBfdmVjdG9yLlZlY3RvcigxLCAtMSk7XG4gICAgbGV0IHAyID0gbmV3IF92ZWN0b3IuVmVjdG9yKDEsIDEpO1xuICAgIGxldCBwMyA9IG5ldyBfdmVjdG9yLlZlY3RvcigtMSwgMSk7IC8vIE5vdyB3ZSBhcmUgbXVsdGlwbHkgdGhpcyBjb3JuZXIgcG9pbnQgdmVjdG9yIGJ5IHRoZSA0eDQgYmFzaXMgbWF0cml4LlxuICAgIC8vIFVuZGVyIHRoZSBob29kLCBtdWx0aXBseUJ5VmVjdG9yIGNvbnZlcnRzIHRoZSB2ZWN0b3IgdG8gYSA0eDFcbiAgICAvLyBtYXRyaXggYW5kIHRoYXQgaXMgbXVsdGlwbGllZCBieSB0aGUgYmFzaXNNYXRyaXguXG4gICAgLy8gV2UgZ2V0IGEgbmV3IHZlY3RvciByZXR1cm5zIHdoaWNoIGlzIHRoZSBwcm9kdWN0IG9mIG11bHRpcGx5aW5nIHRoZVxuICAgIC8vIHZlY3RvciBhbmQgdGhlIGJhc2lzIG1hdHJpeC5cbiAgICAvLyBJbiBzaG9ydCwgd2UgYXJlIG11bHRpcGx5aW5nIHRoZSBiYXNpc01hdHJpeCBieSB0aGUgdmFsdWVzIG9mIHRoZVxuICAgIC8vIHBvaW50IHZlY3RvcnMgdG8gY2FsY3VsYXRlIHRoZSByZWxhdGl2ZSB4LHkseiBjb29yZGluYXRlcy5cblxuICAgIGxldCB0MCA9IGJhc2lzTWF0cml4LmNsb25lKCkubXVsdGlwbHlCeVZlY3RvcihwMCk7XG4gICAgbGV0IHQxID0gYmFzaXNNYXRyaXguY2xvbmUoKS5tdWx0aXBseUJ5VmVjdG9yKHAxKTtcbiAgICBsZXQgdDIgPSBiYXNpc01hdHJpeC5jbG9uZSgpLm11bHRpcGx5QnlWZWN0b3IocDIpO1xuICAgIGxldCB0MyA9IGJhc2lzTWF0cml4LmNsb25lKCkubXVsdGlwbHlCeVZlY3RvcihwMyk7IC8vIFdlIGFyZSBnb2luZyB0byBwbGFjZSB0aGlzIGluIHRoZSBtaWRkbGUgb2YgdGhlIHNjcmVlbiBzbyBsZXQnc1xuICAgIC8vIHNoaWZ0IG92ZXIgZWFjaCBwb2ludC5cblxuICAgIGxldCBiYXNlUG9zaXRpb25WZWN0b3IgPSBuZXcgX3ZlY3Rvci5WZWN0b3IoMjUwLCAyNTApO1xuICAgIHQwLmFkZChiYXNlUG9zaXRpb25WZWN0b3IpO1xuICAgIHQxLmFkZChiYXNlUG9zaXRpb25WZWN0b3IpO1xuICAgIHQyLmFkZChiYXNlUG9zaXRpb25WZWN0b3IpO1xuICAgIHQzLmFkZChiYXNlUG9zaXRpb25WZWN0b3IpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMucXVpY2tUZXh0KHRoaXMuY29udGV4dCwgJ3QwJywgdDAueCwgdDAueSAtIDQpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMucXVpY2tUZXh0KHRoaXMuY29udGV4dCwgJ3QxJywgdDEueCwgdDEueSAtIDQpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMucXVpY2tUZXh0KHRoaXMuY29udGV4dCwgJ3QyJywgdDIueCwgdDIueSAtIDQpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMucXVpY2tUZXh0KHRoaXMuY29udGV4dCwgJ3QzJywgdDMueCwgdDMueSAtIDQpOyAvLyBBZGQgdGhpcyBwb2ludCwgd2UgaGF2ZSBsYWlkIG91dCBmb3VyIGRvdHMgYXMgYSBzcXVhcmUuXG5cblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgdDApO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMudmVjdG9yUG9pbnQodGhpcy5jb250ZXh0LCB0MSk7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy52ZWN0b3JQb2ludCh0aGlzLmNvbnRleHQsIHQyKTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgdDMpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMuc2V0RmlsbENvbG9yKHRoaXMuY29udGV4dCwgJ29yYW5nZScpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMuc2V0U3Ryb2tlQ29sb3IodGhpcy5jb250ZXh0LCAnb3JhbmdlJyk7IC8vIE5vdyBsZXQncyBkcmF3IGFub3RoZXIgc2V0IG9mIGRvdHMgYnV0IHRoaXMgdGltZSwgdHJhbnNmb3JtXG4gICAgLy8gdGhlIGJhc2lzTWF0cml4LlxuXG5cbiAgICBiYXNpc01hdHJpeC5zY2FsZVh5eigwLjUsIDAuNSwgMC41KS5yb3RhdGVaKDQ1ICogTWF0aC5QSSAvIDE4MCk7IC8vIE5vdyB0aGF0IHRoZSBiYXNpcyBNYXRyaXggaXMgcm90YXRlZCwgbGV0J3MgbWFrZSB0aGUgbmV3IHNxdWFyZS5cbiAgICAvLyBBZ2FpbiB3ZSBhcmUgZ29pbmcgdG8gY2FsY3VsYXRlIHRoZSBjb3JuZXJzIGJ5IG11bHRpcGx5aW5nIHRoZVxuICAgIC8vIHRoZSBjb3JuZXIgdmVjdG9ycy5cblxuICAgIHQwID0gYmFzaXNNYXRyaXguY2xvbmUoKS5tdWx0aXBseUJ5VmVjdG9yKHAwKTtcbiAgICB0MSA9IGJhc2lzTWF0cml4LmNsb25lKCkubXVsdGlwbHlCeVZlY3RvcihwMSk7XG4gICAgdDIgPSBiYXNpc01hdHJpeC5jbG9uZSgpLm11bHRpcGx5QnlWZWN0b3IocDIpO1xuICAgIHQzID0gYmFzaXNNYXRyaXguY2xvbmUoKS5tdWx0aXBseUJ5VmVjdG9yKHAzKTsgLy8gTW92ZSB0aGUgcG9pbnRzIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHNjcmVlbi5cblxuICAgIHQwLmFkZChiYXNlUG9zaXRpb25WZWN0b3IpO1xuICAgIHQxLmFkZChiYXNlUG9zaXRpb25WZWN0b3IpO1xuICAgIHQyLmFkZChiYXNlUG9zaXRpb25WZWN0b3IpO1xuICAgIHQzLmFkZChiYXNlUG9zaXRpb25WZWN0b3IpOyAvLyBEcmF3IHRoZSBwb2ludHMuXG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy52ZWN0b3JQb2ludCh0aGlzLmNvbnRleHQsIHQwKTtcblxuICAgIF9kb21DYW52YXMuZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgdDEpO1xuXG4gICAgX2RvbUNhbnZhcy5kb21DYW52YXMudmVjdG9yUG9pbnQodGhpcy5jb250ZXh0LCB0Mik7XG5cbiAgICBfZG9tQ2FudmFzLmRvbUNhbnZhcy52ZWN0b3JQb2ludCh0aGlzLmNvbnRleHQsIHQzKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE1hdHJpeElWM1NhbXBsZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/matrixIV3.js\n");

/***/ }),

/***/ "./examples/multi-interpolate.js":
/*!***************************************!*\
  !*** ./examples/multi-interpolate.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _multiInterpolate = __webpack_require__(/*! ../lib/interpolate/multi-interpolate */ \"./lib/interpolate/multi-interpolate.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nclass MultiInterpolateSample {\n  constructor() {\n    console.log('Running MultiInterpolate Sample'); // This is a demo of using multi-interpolate to shift the position\n    // of the ball.\n\n    this.ball = document.getElementById('ball');\n    this.range = document.getElementById('range');\n    this.progress = +this.range.value;\n    this.multiInterpolate = new _multiInterpolate.MultiInterpolate({\n      interpolations: [{\n        progress: [{\n          from: 0,\n          to: 1,\n          start: 0,\n          end: 500\n        }],\n        id: 'x'\n      }, {\n        progress: [{\n          from: 0,\n          to: 0.2,\n          start: 0,\n          end: 100,\n          easingFunction: _ease.EASE.easeOutSine\n        }, {\n          from: 0.2,\n          to: 0.3,\n          start: 100,\n          end: 300,\n          easingFunction: _ease.EASE.easeOutSine\n        }, {\n          from: 0.3,\n          to: 0.5,\n          start: 300,\n          end: 0,\n          easingFunction: _ease.EASE.easeOutSine\n        }, {\n          from: 0.5,\n          to: 1,\n          start: 0,\n          end: 500,\n          easingFunction: _ease.EASE.easeInQuad\n        }],\n        id: 'y'\n      }]\n    }); // Note here we are using raf for demo purposes but not that this is\n    // constantly updating the ball position even when the previous values\n    // were unchanged.\n\n    const raf = new _raf.Raf(() => {\n      // Set the progress to the current range value.\n      let progress = +this.range.value; // Add easing to progress itself to smooth out animations.\n\n      this.progress = _mathf.mathf.ease(this.progress, progress, 0.25, _ease.EASE.easeInOutQuad); // Interpolate values based on current progress.\n\n      let interpolationResults = this.multiInterpolate.calculate(this.progress);\n      let x = interpolationResults['x'];\n      let y = interpolationResults['y'];\n      this.updateBallPosition(x, y);\n    });\n    raf.start();\n  }\n\n  updateBallPosition(x, y) {\n    this.ball.style.transform = `translateX(${x}px) translateY(${y}px)`;\n  }\n\n}\n\nexports.default = MultiInterpolateSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9tdWx0aS1pbnRlcnBvbGF0ZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL211bHRpLWludGVycG9sYXRlLmpzPzMzMzQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfbXVsdGlJbnRlcnBvbGF0ZSA9IHJlcXVpcmUoXCIuLi9saWIvaW50ZXJwb2xhdGUvbXVsdGktaW50ZXJwb2xhdGVcIik7XG5cbnZhciBfbWF0aGYgPSByZXF1aXJlKFwiLi4vbGliL21hdGhmL21hdGhmXCIpO1xuXG52YXIgX3JhZiA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZlwiKTtcblxudmFyIF9lYXNlID0gcmVxdWlyZShcIi4uL2xpYi9lYXNlL2Vhc2VcIik7XG5cbmNsYXNzIE11bHRpSW50ZXJwb2xhdGVTYW1wbGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygnUnVubmluZyBNdWx0aUludGVycG9sYXRlIFNhbXBsZScpOyAvLyBUaGlzIGlzIGEgZGVtbyBvZiB1c2luZyBtdWx0aS1pbnRlcnBvbGF0ZSB0byBzaGlmdCB0aGUgcG9zaXRpb25cbiAgICAvLyBvZiB0aGUgYmFsbC5cblxuICAgIHRoaXMuYmFsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWxsJyk7XG4gICAgdGhpcy5yYW5nZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYW5nZScpO1xuICAgIHRoaXMucHJvZ3Jlc3MgPSArdGhpcy5yYW5nZS52YWx1ZTtcbiAgICB0aGlzLm11bHRpSW50ZXJwb2xhdGUgPSBuZXcgX211bHRpSW50ZXJwb2xhdGUuTXVsdGlJbnRlcnBvbGF0ZSh7XG4gICAgICBpbnRlcnBvbGF0aW9uczogW3tcbiAgICAgICAgcHJvZ3Jlc3M6IFt7XG4gICAgICAgICAgZnJvbTogMCxcbiAgICAgICAgICB0bzogMSxcbiAgICAgICAgICBzdGFydDogMCxcbiAgICAgICAgICBlbmQ6IDUwMFxuICAgICAgICB9XSxcbiAgICAgICAgaWQ6ICd4J1xuICAgICAgfSwge1xuICAgICAgICBwcm9ncmVzczogW3tcbiAgICAgICAgICBmcm9tOiAwLFxuICAgICAgICAgIHRvOiAwLjIsXG4gICAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgICAgZW5kOiAxMDAsXG4gICAgICAgICAgZWFzaW5nRnVuY3Rpb246IF9lYXNlLkVBU0UuZWFzZU91dFNpbmVcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZyb206IDAuMixcbiAgICAgICAgICB0bzogMC4zLFxuICAgICAgICAgIHN0YXJ0OiAxMDAsXG4gICAgICAgICAgZW5kOiAzMDAsXG4gICAgICAgICAgZWFzaW5nRnVuY3Rpb246IF9lYXNlLkVBU0UuZWFzZU91dFNpbmVcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZyb206IDAuMyxcbiAgICAgICAgICB0bzogMC41LFxuICAgICAgICAgIHN0YXJ0OiAzMDAsXG4gICAgICAgICAgZW5kOiAwLFxuICAgICAgICAgIGVhc2luZ0Z1bmN0aW9uOiBfZWFzZS5FQVNFLmVhc2VPdXRTaW5lXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmcm9tOiAwLjUsXG4gICAgICAgICAgdG86IDEsXG4gICAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgICAgZW5kOiA1MDAsXG4gICAgICAgICAgZWFzaW5nRnVuY3Rpb246IF9lYXNlLkVBU0UuZWFzZUluUXVhZFxuICAgICAgICB9XSxcbiAgICAgICAgaWQ6ICd5J1xuICAgICAgfV1cbiAgICB9KTsgLy8gTm90ZSBoZXJlIHdlIGFyZSB1c2luZyByYWYgZm9yIGRlbW8gcHVycG9zZXMgYnV0IG5vdCB0aGF0IHRoaXMgaXNcbiAgICAvLyBjb25zdGFudGx5IHVwZGF0aW5nIHRoZSBiYWxsIHBvc2l0aW9uIGV2ZW4gd2hlbiB0aGUgcHJldmlvdXMgdmFsdWVzXG4gICAgLy8gd2VyZSB1bmNoYW5nZWQuXG5cbiAgICBjb25zdCByYWYgPSBuZXcgX3JhZi5SYWYoKCkgPT4ge1xuICAgICAgLy8gU2V0IHRoZSBwcm9ncmVzcyB0byB0aGUgY3VycmVudCByYW5nZSB2YWx1ZS5cbiAgICAgIGxldCBwcm9ncmVzcyA9ICt0aGlzLnJhbmdlLnZhbHVlOyAvLyBBZGQgZWFzaW5nIHRvIHByb2dyZXNzIGl0c2VsZiB0byBzbW9vdGggb3V0IGFuaW1hdGlvbnMuXG5cbiAgICAgIHRoaXMucHJvZ3Jlc3MgPSBfbWF0aGYubWF0aGYuZWFzZSh0aGlzLnByb2dyZXNzLCBwcm9ncmVzcywgMC4yNSwgX2Vhc2UuRUFTRS5lYXNlSW5PdXRRdWFkKTsgLy8gSW50ZXJwb2xhdGUgdmFsdWVzIGJhc2VkIG9uIGN1cnJlbnQgcHJvZ3Jlc3MuXG5cbiAgICAgIGxldCBpbnRlcnBvbGF0aW9uUmVzdWx0cyA9IHRoaXMubXVsdGlJbnRlcnBvbGF0ZS5jYWxjdWxhdGUodGhpcy5wcm9ncmVzcyk7XG4gICAgICBsZXQgeCA9IGludGVycG9sYXRpb25SZXN1bHRzWyd4J107XG4gICAgICBsZXQgeSA9IGludGVycG9sYXRpb25SZXN1bHRzWyd5J107XG4gICAgICB0aGlzLnVwZGF0ZUJhbGxQb3NpdGlvbih4LCB5KTtcbiAgICB9KTtcbiAgICByYWYuc3RhcnQoKTtcbiAgfVxuXG4gIHVwZGF0ZUJhbGxQb3NpdGlvbih4LCB5KSB7XG4gICAgdGhpcy5iYWxsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7eH1weCkgdHJhbnNsYXRlWSgke3l9cHgpYDtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE11bHRpSW50ZXJwb2xhdGVTYW1wbGU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/multi-interpolate.js\n");

/***/ }),

/***/ "./examples/off-screen-canvas.js":
/*!***************************************!*\
  !*** ./examples/off-screen-canvas.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _offScreenCanvas = __webpack_require__(/*! ../lib/dom/off-screen-canvas */ \"./lib/dom/off-screen-canvas.js\");\n\nvar _is = __webpack_require__(/*! ../lib/is/is */ \"./lib/is/is.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nclass OffScreenCanvasSample {\n  constructor() {\n    if (!_is.is.supportingOffScreenCanvas()) {\n      throw new Error('Sorry your browser is not suppported');\n    }\n\n    const offScreenCanvas = new _offScreenCanvas.OffScreenCanvas();\n    const canvas = document.getElementById('canvas');\n    offScreenCanvas.setCanvas(canvas); // The contents of the tasks live inside the webworker.\n    // Normal imports don't work athte moment.\n\n    const task = params => {\n      if (params.command == 'init') {\n        self.canvas = params.canvas;\n        console.log('Hello', params.name);\n        self.ctx = canvas.getContext('2d');\n      }\n\n      let getRandomInt = (min, max) => {\n        return Math.floor(Math.random() * (max - min + 1)) + min;\n      };\n\n      var animate = () => {\n        let random = getRandomInt(0, 500);\n        let random2 = getRandomInt(0, 500);\n        let random3 = getRandomInt(0, 500);\n        let random4 = getRandomInt(0, 500);\n        ctx.fillRect(random, random2, random3, random4);\n        setTimeout(() => {\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n          animate();\n        }, 1); // You could use this.\n        // requestAnimationFrame(animate);\n      };\n\n      if (params.command == 'animate') {\n        console.log('Hello', params.name);\n        animate();\n        return {\n          data: 'started animation'\n        };\n      }\n\n      if (params.command == 'init') {\n        ctx.fillRect(0, 0, 150, 75);\n        return {\n          data: 'initialized'\n        };\n      }\n    };\n\n    offScreenCanvas.setCanvasTask(task);\n    offScreenCanvas.init({\n      command: 'init',\n      name: 'Scott'\n    }).then(message => {\n      console.log(message.data);\n      offScreenCanvas.sendMessageToCanvas({\n        command: 'animate',\n        name: 'John'\n      }).then(message => {\n        console.log(message.data);\n      });\n    });\n  }\n\n}\n\nexports.default = OffScreenCanvasSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9vZmYtc2NyZWVuLWNhbnZhcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL29mZi1zY3JlZW4tY2FudmFzLmpzP2NhYzMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfb2ZmU2NyZWVuQ2FudmFzID0gcmVxdWlyZShcIi4uL2xpYi9kb20vb2ZmLXNjcmVlbi1jYW52YXNcIik7XG5cbnZhciBfaXMgPSByZXF1aXJlKFwiLi4vbGliL2lzL2lzXCIpO1xuXG52YXIgX21hdGhmID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi9tYXRoZlwiKTtcblxuY2xhc3MgT2ZmU2NyZWVuQ2FudmFzU2FtcGxlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgaWYgKCFfaXMuaXMuc3VwcG9ydGluZ09mZlNjcmVlbkNhbnZhcygpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvcnJ5IHlvdXIgYnJvd3NlciBpcyBub3Qgc3VwcHBvcnRlZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IG9mZlNjcmVlbkNhbnZhcyA9IG5ldyBfb2ZmU2NyZWVuQ2FudmFzLk9mZlNjcmVlbkNhbnZhcygpO1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcbiAgICBvZmZTY3JlZW5DYW52YXMuc2V0Q2FudmFzKGNhbnZhcyk7IC8vIFRoZSBjb250ZW50cyBvZiB0aGUgdGFza3MgbGl2ZSBpbnNpZGUgdGhlIHdlYndvcmtlci5cbiAgICAvLyBOb3JtYWwgaW1wb3J0cyBkb24ndCB3b3JrIGF0aHRlIG1vbWVudC5cblxuICAgIGNvbnN0IHRhc2sgPSBwYXJhbXMgPT4ge1xuICAgICAgaWYgKHBhcmFtcy5jb21tYW5kID09ICdpbml0Jykge1xuICAgICAgICBzZWxmLmNhbnZhcyA9IHBhcmFtcy5jYW52YXM7XG4gICAgICAgIGNvbnNvbGUubG9nKCdIZWxsbycsIHBhcmFtcy5uYW1lKTtcbiAgICAgICAgc2VsZi5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIH1cblxuICAgICAgbGV0IGdldFJhbmRvbUludCA9IChtaW4sIG1heCkgPT4ge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcbiAgICAgIH07XG5cbiAgICAgIHZhciBhbmltYXRlID0gKCkgPT4ge1xuICAgICAgICBsZXQgcmFuZG9tID0gZ2V0UmFuZG9tSW50KDAsIDUwMCk7XG4gICAgICAgIGxldCByYW5kb20yID0gZ2V0UmFuZG9tSW50KDAsIDUwMCk7XG4gICAgICAgIGxldCByYW5kb20zID0gZ2V0UmFuZG9tSW50KDAsIDUwMCk7XG4gICAgICAgIGxldCByYW5kb200ID0gZ2V0UmFuZG9tSW50KDAsIDUwMCk7XG4gICAgICAgIGN0eC5maWxsUmVjdChyYW5kb20sIHJhbmRvbTIsIHJhbmRvbTMsIHJhbmRvbTQpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgYW5pbWF0ZSgpO1xuICAgICAgICB9LCAxKTsgLy8gWW91IGNvdWxkIHVzZSB0aGlzLlxuICAgICAgICAvLyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gICAgICB9O1xuXG4gICAgICBpZiAocGFyYW1zLmNvbW1hbmQgPT0gJ2FuaW1hdGUnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdIZWxsbycsIHBhcmFtcy5uYW1lKTtcbiAgICAgICAgYW5pbWF0ZSgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRhdGE6ICdzdGFydGVkIGFuaW1hdGlvbidcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy5jb21tYW5kID09ICdpbml0Jykge1xuICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgMTUwLCA3NSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZGF0YTogJ2luaXRpYWxpemVkJ1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBvZmZTY3JlZW5DYW52YXMuc2V0Q2FudmFzVGFzayh0YXNrKTtcbiAgICBvZmZTY3JlZW5DYW52YXMuaW5pdCh7XG4gICAgICBjb21tYW5kOiAnaW5pdCcsXG4gICAgICBuYW1lOiAnU2NvdHQnXG4gICAgfSkudGhlbihtZXNzYWdlID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UuZGF0YSk7XG4gICAgICBvZmZTY3JlZW5DYW52YXMuc2VuZE1lc3NhZ2VUb0NhbnZhcyh7XG4gICAgICAgIGNvbW1hbmQ6ICdhbmltYXRlJyxcbiAgICAgICAgbmFtZTogJ0pvaG4nXG4gICAgICB9KS50aGVuKG1lc3NhZ2UgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlLmRhdGEpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBPZmZTY3JlZW5DYW52YXNTYW1wbGU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/off-screen-canvas.js\n");

/***/ }),

/***/ "./examples/perlin-noise.js":
/*!**********************************!*\
  !*** ./examples/perlin-noise.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _perlinNoise = __webpack_require__(/*! ../lib/mathf/perlin-noise */ \"./lib/mathf/perlin-noise.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nclass PerlinNoiseSample {\n  constructor() {\n    console.log('perlin noise');\n    const canvas = document.getElementById('canvas');\n    canvas.width = canvas.offsetWidth;\n    canvas.height = canvas.offsetHeight;\n    this.context = canvas.getContext('2d');\n    this.offset = 0;\n    this.offsetZ = 0;\n    this.y = 0;\n    this.z = 0;\n    this.draw();\n  } // Draws one line.\n\n\n  oneline(amplitude) {\n    let frequency = 8;\n    this.context.beginPath();\n\n    for (let i = 0; i < canvas.width; i += 50) {\n      let x = i / canvas.width;\n      let y = this.y / canvas.height;\n      let z = this.z / canvas.height;\n\n      let n = _perlinNoise.PerlinNoise.noise3(x * frequency, y * frequency, z * frequency);\n\n      this.context.lineTo(i, -(n * amplitude) + canvas.height);\n      this.context.stroke();\n    }\n  }\n\n  draw() {\n    this.context.clearRect(0, 0, canvas.width, canvas.height);\n    this.context.save();\n\n    for (let i = 2; i < 10; i += 1) {\n      let color = 'green';\n\n      if (i % 2 == 0) {\n        color = 'red';\n      }\n\n      if (i % 3 == 0) {\n        color = 'orange';\n      }\n\n      this.context.strokeStyle = color;\n      this.oneline((i + 1) * 100);\n    } // this.y = mathf.sinNormalized(this.offset) * canvas.height;\n    // this.z = mathf.sinNormalized(this.offsetZ) * canvas.height;\n    // this.offset += 0.02;\n    // this.offsetZ += 0.02;\n\n\n    this.y += this.offset;\n    this.z += this.offset;\n    this.offset = 0.9;\n    this.offsetZ = 0.8;\n    requestAnimationFrame(() => {\n      this.draw();\n    });\n  }\n\n}\n\nexports.default = PerlinNoiseSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9wZXJsaW4tbm9pc2UuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9wZXJsaW4tbm9pc2UuanM/ZTM3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wZXJsaW5Ob2lzZSA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvcGVybGluLW5vaXNlXCIpO1xuXG52YXIgX21hdGhmID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi9tYXRoZlwiKTtcblxuY2xhc3MgUGVybGluTm9pc2VTYW1wbGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygncGVybGluIG5vaXNlJyk7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhcy5vZmZzZXRXaWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzLm9mZnNldEhlaWdodDtcbiAgICB0aGlzLmNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB0aGlzLm9mZnNldCA9IDA7XG4gICAgdGhpcy5vZmZzZXRaID0gMDtcbiAgICB0aGlzLnkgPSAwO1xuICAgIHRoaXMueiA9IDA7XG4gICAgdGhpcy5kcmF3KCk7XG4gIH0gLy8gRHJhd3Mgb25lIGxpbmUuXG5cblxuICBvbmVsaW5lKGFtcGxpdHVkZSkge1xuICAgIGxldCBmcmVxdWVuY3kgPSA4O1xuICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2FudmFzLndpZHRoOyBpICs9IDUwKSB7XG4gICAgICBsZXQgeCA9IGkgLyBjYW52YXMud2lkdGg7XG4gICAgICBsZXQgeSA9IHRoaXMueSAvIGNhbnZhcy5oZWlnaHQ7XG4gICAgICBsZXQgeiA9IHRoaXMueiAvIGNhbnZhcy5oZWlnaHQ7XG5cbiAgICAgIGxldCBuID0gX3Blcmxpbk5vaXNlLlBlcmxpbk5vaXNlLm5vaXNlMyh4ICogZnJlcXVlbmN5LCB5ICogZnJlcXVlbmN5LCB6ICogZnJlcXVlbmN5KTtcblxuICAgICAgdGhpcy5jb250ZXh0LmxpbmVUbyhpLCAtKG4gKiBhbXBsaXR1ZGUpICsgY2FudmFzLmhlaWdodCk7XG4gICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuICB9XG5cbiAgZHJhdygpIHtcbiAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgdGhpcy5jb250ZXh0LnNhdmUoKTtcblxuICAgIGZvciAobGV0IGkgPSAyOyBpIDwgMTA7IGkgKz0gMSkge1xuICAgICAgbGV0IGNvbG9yID0gJ2dyZWVuJztcblxuICAgICAgaWYgKGkgJSAyID09IDApIHtcbiAgICAgICAgY29sb3IgPSAncmVkJztcbiAgICAgIH1cblxuICAgICAgaWYgKGkgJSAzID09IDApIHtcbiAgICAgICAgY29sb3IgPSAnb3JhbmdlJztcbiAgICAgIH1cblxuICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVN0eWxlID0gY29sb3I7XG4gICAgICB0aGlzLm9uZWxpbmUoKGkgKyAxKSAqIDEwMCk7XG4gICAgfSAvLyB0aGlzLnkgPSBtYXRoZi5zaW5Ob3JtYWxpemVkKHRoaXMub2Zmc2V0KSAqIGNhbnZhcy5oZWlnaHQ7XG4gICAgLy8gdGhpcy56ID0gbWF0aGYuc2luTm9ybWFsaXplZCh0aGlzLm9mZnNldFopICogY2FudmFzLmhlaWdodDtcbiAgICAvLyB0aGlzLm9mZnNldCArPSAwLjAyO1xuICAgIC8vIHRoaXMub2Zmc2V0WiArPSAwLjAyO1xuXG5cbiAgICB0aGlzLnkgKz0gdGhpcy5vZmZzZXQ7XG4gICAgdGhpcy56ICs9IHRoaXMub2Zmc2V0O1xuICAgIHRoaXMub2Zmc2V0ID0gMC45O1xuICAgIHRoaXMub2Zmc2V0WiA9IDAuODtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgdGhpcy5kcmF3KCk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBQZXJsaW5Ob2lzZVNhbXBsZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/perlin-noise.js\n");

/***/ }),

/***/ "./examples/playground.js":
/*!********************************!*\
  !*** ./examples/playground.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _webWorker = __webpack_require__(/*! ../lib/dom/web-worker */ \"./lib/dom/web-worker.js\");\n\nvar _func = __webpack_require__(/*! ../lib/func/func */ \"./lib/func/func.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nclass Playgroundsmaple {\n  constructor() {\n    console.log('play ground'); // TIME Stuff\n    // this.testFuncDebouncer();\n    // this.testFuncThrottler();\n    // this.testFuncWaitUntil();\n    // this.testFuncWait();\n    // this.testFuncMemoizeSimple();\n    // this.testFuncMemoize();\n    // this.testFuncRunOnceOnChange();\n    // this.testDomRunAfterNotTopOfScreen();\n    // this.testDomForceFocus();\n    // DOM Stuff\n    // this.testWebWorker();\n  }\n\n  testDomForceFocus() {\n    _dom.dom.forceFocus(document.getElementById('hello'));\n\n    window.setTimeout(() => {\n      _dom.dom.forceFocus(document.getElementById('hello2'));\n\n      window.setTimeout(() => {\n        _dom.dom.forceFocus(document.getElementById('hello3'));\n\n        window.setTimeout(() => {\n          _dom.dom.forceFocus(document.getElementById('hello4'));\n\n          window.setTimeout(() => {\n            _dom.dom.forceFocus(document.getElementById('hello5'));\n\n            window.setTimeout(() => {\n              this.testDomForceFocus();\n            }, 2000);\n          }, 2000);\n        }, 2000);\n      }, 2000);\n    }, 2000);\n  }\n\n  testDomRunAfterNotTopOfScreen() {\n    _dom.dom.runAfterNotTopOfScreen(() => {\n      console.log('running');\n    });\n  }\n\n  testFuncDebouncer() {\n    let debouncer = _func.func.debounce(event => {\n      console.log('debounced', event);\n    }, 1000);\n\n    window.addEventListener('resize', debouncer);\n  }\n\n  testFuncThrottler() {\n    let throttler = _func.func.throttle(event => {\n      console.log('throttled', event);\n    }, 1000);\n\n    window.addEventListener('resize', event => {\n      console.log('resize called');\n      throttler(event);\n    });\n  }\n\n  testFuncWaitUntil() {\n    let someValue = 0;\n\n    _func.func.waitUntil(() => someValue == 5).then(() => {\n      console.log('some value is 5!!!');\n    });\n\n    setTimeout(() => {\n      someValue = 5;\n    }, 1000);\n  }\n\n  testFuncWait() {\n    console.log('hohoho');\n\n    _func.func.wait(500).then(() => {\n      console.log('hohoho after 500ms');\n    });\n  }\n\n  testFuncMemoizeSimple() {\n    let showName = _func.func.memoizeSimple(name => {\n      return name;\n    });\n\n    console.log(showName('John'));\n    console.log(showName('John'));\n    console.log(showName('John'));\n    console.log(showName('John'));\n    console.log(showName('Scott'));\n  }\n\n  testFuncRunOnceOnChange() {\n    let expensiveOperation = _func.func.runOnceOnChange(name => {\n      console.log(name);\n    });\n\n    expensiveOperation('Scott');\n    expensiveOperation('Scott');\n    expensiveOperation('Scott');\n    expensiveOperation('Scott');\n    expensiveOperation('Scott');\n    expensiveOperation('John');\n    expensiveOperation('John');\n    expensiveOperation('Aya');\n    expensiveOperation('Aya');\n  }\n\n  testFuncMemoize() {\n    let calculate = _func.func.memoize((a, b) => {\n      console.log('calculating');\n      return a + b;\n    });\n\n    console.log(calculate(3, 2));\n    console.log(calculate(2, 2));\n    console.log(calculate(3, 2));\n    console.log(calculate(2, 2));\n    console.log(calculate(3, 2));\n  }\n\n  testWebWorker() {\n    let worker = new _webWorker.WebWorker(params => {\n      return params.a + params.b;\n    });\n    let params = {\n      a: 4,\n      b: 3\n    };\n    worker.runOneTimeThrowAwayWorker(params).then(result => {\n      console.log('one time worker');\n    });\n    worker.runOneTimeThrowAwayWorker(params).then(result => {\n      console.log('one time worker');\n    }); // Run once.  Run uses the same worker.\n\n    worker.run(params).then(result => {\n      console.log('result', result); // Make another call.\n\n      worker.run({\n        a: 4,\n        b: 6\n      }).then(result => {\n        console.log('result2', result);\n        worker.terminate();\n      });\n    });\n  }\n\n}\n\nexports.default = Playgroundsmaple;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9wbGF5Z3JvdW5kLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvcGxheWdyb3VuZC5qcz84ZGJiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RvbSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbVwiKTtcblxudmFyIF93ZWJXb3JrZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS93ZWItd29ya2VyXCIpO1xuXG52YXIgX2Z1bmMgPSByZXF1aXJlKFwiLi4vbGliL2Z1bmMvZnVuY1wiKTtcblxudmFyIF9tYXRoZiA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvbWF0aGZcIik7XG5cbmNsYXNzIFBsYXlncm91bmRzbWFwbGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygncGxheSBncm91bmQnKTsgLy8gVElNRSBTdHVmZlxuICAgIC8vIHRoaXMudGVzdEZ1bmNEZWJvdW5jZXIoKTtcbiAgICAvLyB0aGlzLnRlc3RGdW5jVGhyb3R0bGVyKCk7XG4gICAgLy8gdGhpcy50ZXN0RnVuY1dhaXRVbnRpbCgpO1xuICAgIC8vIHRoaXMudGVzdEZ1bmNXYWl0KCk7XG4gICAgLy8gdGhpcy50ZXN0RnVuY01lbW9pemVTaW1wbGUoKTtcbiAgICAvLyB0aGlzLnRlc3RGdW5jTWVtb2l6ZSgpO1xuICAgIC8vIHRoaXMudGVzdEZ1bmNSdW5PbmNlT25DaGFuZ2UoKTtcbiAgICAvLyB0aGlzLnRlc3REb21SdW5BZnRlck5vdFRvcE9mU2NyZWVuKCk7XG4gICAgLy8gdGhpcy50ZXN0RG9tRm9yY2VGb2N1cygpO1xuICAgIC8vIERPTSBTdHVmZlxuICAgIC8vIHRoaXMudGVzdFdlYldvcmtlcigpO1xuICB9XG5cbiAgdGVzdERvbUZvcmNlRm9jdXMoKSB7XG4gICAgX2RvbS5kb20uZm9yY2VGb2N1cyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVsbG8nKSk7XG5cbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBfZG9tLmRvbS5mb3JjZUZvY3VzKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWxsbzInKSk7XG5cbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgX2RvbS5kb20uZm9yY2VGb2N1cyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVsbG8zJykpO1xuXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBfZG9tLmRvbS5mb3JjZUZvY3VzKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWxsbzQnKSk7XG5cbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBfZG9tLmRvbS5mb3JjZUZvY3VzKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWxsbzUnKSk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy50ZXN0RG9tRm9yY2VGb2N1cygpO1xuICAgICAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgIH0sIDIwMDApO1xuICAgICAgfSwgMjAwMCk7XG4gICAgfSwgMjAwMCk7XG4gIH1cblxuICB0ZXN0RG9tUnVuQWZ0ZXJOb3RUb3BPZlNjcmVlbigpIHtcbiAgICBfZG9tLmRvbS5ydW5BZnRlck5vdFRvcE9mU2NyZWVuKCgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdydW5uaW5nJyk7XG4gICAgfSk7XG4gIH1cblxuICB0ZXN0RnVuY0RlYm91bmNlcigpIHtcbiAgICBsZXQgZGVib3VuY2VyID0gX2Z1bmMuZnVuYy5kZWJvdW5jZShldmVudCA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnZGVib3VuY2VkJywgZXZlbnQpO1xuICAgIH0sIDEwMDApO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGRlYm91bmNlcik7XG4gIH1cblxuICB0ZXN0RnVuY1Rocm90dGxlcigpIHtcbiAgICBsZXQgdGhyb3R0bGVyID0gX2Z1bmMuZnVuYy50aHJvdHRsZShldmVudCA9PiB7XG4gICAgICBjb25zb2xlLmxvZygndGhyb3R0bGVkJywgZXZlbnQpO1xuICAgIH0sIDEwMDApO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGV2ZW50ID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdyZXNpemUgY2FsbGVkJyk7XG4gICAgICB0aHJvdHRsZXIoZXZlbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgdGVzdEZ1bmNXYWl0VW50aWwoKSB7XG4gICAgbGV0IHNvbWVWYWx1ZSA9IDA7XG5cbiAgICBfZnVuYy5mdW5jLndhaXRVbnRpbCgoKSA9PiBzb21lVmFsdWUgPT0gNSkudGhlbigoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnc29tZSB2YWx1ZSBpcyA1ISEhJyk7XG4gICAgfSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNvbWVWYWx1ZSA9IDU7XG4gICAgfSwgMTAwMCk7XG4gIH1cblxuICB0ZXN0RnVuY1dhaXQoKSB7XG4gICAgY29uc29sZS5sb2coJ2hvaG9obycpO1xuXG4gICAgX2Z1bmMuZnVuYy53YWl0KDUwMCkudGhlbigoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnaG9ob2hvIGFmdGVyIDUwMG1zJyk7XG4gICAgfSk7XG4gIH1cblxuICB0ZXN0RnVuY01lbW9pemVTaW1wbGUoKSB7XG4gICAgbGV0IHNob3dOYW1lID0gX2Z1bmMuZnVuYy5tZW1vaXplU2ltcGxlKG5hbWUgPT4ge1xuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZyhzaG93TmFtZSgnSm9obicpKTtcbiAgICBjb25zb2xlLmxvZyhzaG93TmFtZSgnSm9obicpKTtcbiAgICBjb25zb2xlLmxvZyhzaG93TmFtZSgnSm9obicpKTtcbiAgICBjb25zb2xlLmxvZyhzaG93TmFtZSgnSm9obicpKTtcbiAgICBjb25zb2xlLmxvZyhzaG93TmFtZSgnU2NvdHQnKSk7XG4gIH1cblxuICB0ZXN0RnVuY1J1bk9uY2VPbkNoYW5nZSgpIHtcbiAgICBsZXQgZXhwZW5zaXZlT3BlcmF0aW9uID0gX2Z1bmMuZnVuYy5ydW5PbmNlT25DaGFuZ2UobmFtZSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhuYW1lKTtcbiAgICB9KTtcblxuICAgIGV4cGVuc2l2ZU9wZXJhdGlvbignU2NvdHQnKTtcbiAgICBleHBlbnNpdmVPcGVyYXRpb24oJ1Njb3R0Jyk7XG4gICAgZXhwZW5zaXZlT3BlcmF0aW9uKCdTY290dCcpO1xuICAgIGV4cGVuc2l2ZU9wZXJhdGlvbignU2NvdHQnKTtcbiAgICBleHBlbnNpdmVPcGVyYXRpb24oJ1Njb3R0Jyk7XG4gICAgZXhwZW5zaXZlT3BlcmF0aW9uKCdKb2huJyk7XG4gICAgZXhwZW5zaXZlT3BlcmF0aW9uKCdKb2huJyk7XG4gICAgZXhwZW5zaXZlT3BlcmF0aW9uKCdBeWEnKTtcbiAgICBleHBlbnNpdmVPcGVyYXRpb24oJ0F5YScpO1xuICB9XG5cbiAgdGVzdEZ1bmNNZW1vaXplKCkge1xuICAgIGxldCBjYWxjdWxhdGUgPSBfZnVuYy5mdW5jLm1lbW9pemUoKGEsIGIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdjYWxjdWxhdGluZycpO1xuICAgICAgcmV0dXJuIGEgKyBiO1xuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coY2FsY3VsYXRlKDMsIDIpKTtcbiAgICBjb25zb2xlLmxvZyhjYWxjdWxhdGUoMiwgMikpO1xuICAgIGNvbnNvbGUubG9nKGNhbGN1bGF0ZSgzLCAyKSk7XG4gICAgY29uc29sZS5sb2coY2FsY3VsYXRlKDIsIDIpKTtcbiAgICBjb25zb2xlLmxvZyhjYWxjdWxhdGUoMywgMikpO1xuICB9XG5cbiAgdGVzdFdlYldvcmtlcigpIHtcbiAgICBsZXQgd29ya2VyID0gbmV3IF93ZWJXb3JrZXIuV2ViV29ya2VyKHBhcmFtcyA9PiB7XG4gICAgICByZXR1cm4gcGFyYW1zLmEgKyBwYXJhbXMuYjtcbiAgICB9KTtcbiAgICBsZXQgcGFyYW1zID0ge1xuICAgICAgYTogNCxcbiAgICAgIGI6IDNcbiAgICB9O1xuICAgIHdvcmtlci5ydW5PbmVUaW1lVGhyb3dBd2F5V29ya2VyKHBhcmFtcykudGhlbihyZXN1bHQgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ29uZSB0aW1lIHdvcmtlcicpO1xuICAgIH0pO1xuICAgIHdvcmtlci5ydW5PbmVUaW1lVGhyb3dBd2F5V29ya2VyKHBhcmFtcykudGhlbihyZXN1bHQgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ29uZSB0aW1lIHdvcmtlcicpO1xuICAgIH0pOyAvLyBSdW4gb25jZS4gIFJ1biB1c2VzIHRoZSBzYW1lIHdvcmtlci5cblxuICAgIHdvcmtlci5ydW4ocGFyYW1zKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICBjb25zb2xlLmxvZygncmVzdWx0JywgcmVzdWx0KTsgLy8gTWFrZSBhbm90aGVyIGNhbGwuXG5cbiAgICAgIHdvcmtlci5ydW4oe1xuICAgICAgICBhOiA0LFxuICAgICAgICBiOiA2XG4gICAgICB9KS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHQyJywgcmVzdWx0KTtcbiAgICAgICAgd29ya2VyLnRlcm1pbmF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBQbGF5Z3JvdW5kc21hcGxlOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/playground.js\n");

/***/ }),

/***/ "./examples/pseudo-3d-canvas.js":
/*!**************************************!*\
  !*** ./examples/pseudo-3d-canvas.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _dat = __webpack_require__(/*! dat.gui */ \"./node_modules/dat.gui/build/dat.gui.module.js\");\n\nvar dat = _interopRequireWildcard(_dat);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _pseudo3dCanvas = __webpack_require__(/*! ../lib/pseudo-3d-canvas/pseudo-3d-canvas */ \"./lib/pseudo-3d-canvas/pseudo-3d-canvas.js\");\n\nvar _mesh = __webpack_require__(/*! ../lib/pseudo-3d-canvas/mesh */ \"./lib/pseudo-3d-canvas/mesh.js\");\n\nvar _camera = __webpack_require__(/*! ../lib/pseudo-3d-canvas/camera */ \"./lib/pseudo-3d-canvas/camera.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n/**\n * Demonstrates pseudo3dCanvas.  This is more an experimentation\n * and demonstration of how to project 3d into 2d space.\n *\n * The pseudo3dCanvas is responsible for creating a translationMatrix\n * that then transforms the positoin of each vertices to project\n * 3d into 2d space.\n */\nclass pseudo3dCanvasSample {\n  constructor() {\n    this.gui = new dat.GUI();\n    this.raf = new _raf.Raf();\n    this.raf.watch(this.renderLoop.bind(this));\n    let canvasElement = document.getElementById('canvas');\n    this.pseudo3dCanvas = new _pseudo3dCanvas.Pseudo3dCanvas({\n      canvasElement: canvasElement\n    });\n    this.camera = new _camera.Camera();\n    let cubeMesh = new _mesh.CubeMesh();\n    cubeMesh.position.x = 0;\n    cubeMesh.position.y = 0;\n    cubeMesh.position.z = 100;\n    cubeMesh.originalPosition = cubeMesh.position.clone();\n    cubeMesh.rotation = new _vector.Vector(-1, -1, -1);\n    cubeMesh.color = 'green';\n    cubeMesh.size(3, 3, 3);\n    let cubeMesh2 = new _mesh.CubeMesh();\n    cubeMesh2.position.x = 0;\n    cubeMesh2.position.y = 10;\n    cubeMesh2.position.z = 100;\n    cubeMesh2.originalPosition = cubeMesh2.position.clone();\n    cubeMesh2.rotation = new _vector.Vector(-1, -1, -1);\n    cubeMesh2.size(1, 1, 1);\n    cubeMesh2.color = 'orange';\n    console.log('c1', cubeMesh);\n    console.log('c2', cubeMesh2); // Update the camera position.\n\n    this.camera.position = new _vector.Vector(0, 0, 5);\n    this.camera.target = new _vector.Vector(0, 0, 0); // this.camera.position = new Vector(0, 0, 1);\n    // this.camera.target = new Vector(0, 0, 0);\n\n    this.meshes = [cubeMesh, cubeMesh2];\n    let projection = this.gui.addFolder('Projection');\n    projection.add(this.pseudo3dCanvas, 'fov', -180, 180);\n    projection.add(this.pseudo3dCanvas, 'aspect', 0, 2);\n    projection.add(this.pseudo3dCanvas, 'near', -100, 100);\n    projection.add(this.pseudo3dCanvas, 'far', -10000, 10000);\n    let cameraFolder = this.gui.addFolder('camera position');\n    cameraFolder.add(this.camera.position, 'x', -1, 1);\n    cameraFolder.add(this.camera.position, 'y', -1, 1);\n    cameraFolder.add(this.camera.position, 'z', -100, 1000);\n    let cameraTargetFolder = this.gui.addFolder('camera target');\n    cameraTargetFolder.add(this.camera.target, 'x', -10, 10);\n    cameraTargetFolder.add(this.camera.target, 'y', -10, 10);\n    cameraTargetFolder.add(this.camera.target, 'z', -100, 1000); // let meshFolder = this.gui.addFolder('mesh');\n    // meshFolder.add(cubeMesh.rotation, 'x', 0.001, 0.9);\n    // meshFolder.add(cubeMesh.rotation, 'y', 0.001, 0.9);\n    // meshFolder.add(cubeMesh.rotation, 'z', 0.001, 0.9);\n\n    this.wave = 0;\n    this.wave2 = 0;\n    console.log(this.pseudo3dCanvas);\n    console.log(cubeMesh); // console.log(cubeMesh2);\n    // // Start raf loop.\n\n    this.raf.start(); // this.renderLoop();\n  }\n  /**\n     * Handles each raf loop.\n     */\n\n\n  renderLoop(delta) {\n    this.wave += 0.03;\n    this.wave2 += 0.02;\n    this.meshes[0].rotation.x += 0.05;\n    this.meshes[0].rotation.y += 0.05;\n    this.meshes[0].rotation.z += 0.05;\n    this.meshes[0].position.z = _mathf.mathf.lerp(this.meshes[0].position.z, this.meshes[0].originalPosition.z + -Math.sin(this.wave2) * 60, 0.3);\n    this.meshes[1].rotation.x += 0.02;\n    this.meshes[1].rotation.y += 0.01;\n    this.meshes[1].rotation.z += 0.02; // Update the cubeMesh2 position.\n\n    this.meshes[1].position.x = _mathf.mathf.lerp(this.meshes[1].position.x, this.meshes[1].originalPosition.x + Math.sin(this.wave) * 5, 0.2);\n    this.meshes[1].position.y = _mathf.mathf.lerp(this.meshes[1].position.y, this.meshes[1].originalPosition.y + Math.sin(this.wave2) * 5, 0.2);\n    this.meshes[1].position.z = _mathf.mathf.lerp(this.meshes[1].position.z, this.meshes[1].originalPosition.z + Math.sin(this.wave2) * 60, 0.3); // this.meshes.forEach((mesh) => {\n    //     mesh.rotation.x += 0.01;\n    //     mesh.rotation.y += 0.01;\n    //     // mesh.rotation.z += 0.01;\n    // });\n\n    this.pseudo3dCanvas.render(this.camera, this.meshes); // console.log(this.pseudo3dCanvas);\n  }\n\n}\n\nexports.default = pseudo3dCanvasSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9wc2V1ZG8tM2QtY2FudmFzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvcHNldWRvLTNkLWNhbnZhcy5qcz8wNzk4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RhdCA9IHJlcXVpcmUoXCJkYXQuZ3VpXCIpO1xuXG52YXIgZGF0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2RhdCk7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX3BzZXVkbzNkQ2FudmFzID0gcmVxdWlyZShcIi4uL2xpYi9wc2V1ZG8tM2QtY2FudmFzL3BzZXVkby0zZC1jYW52YXNcIik7XG5cbnZhciBfbWVzaCA9IHJlcXVpcmUoXCIuLi9saWIvcHNldWRvLTNkLWNhbnZhcy9tZXNoXCIpO1xuXG52YXIgX2NhbWVyYSA9IHJlcXVpcmUoXCIuLi9saWIvcHNldWRvLTNkLWNhbnZhcy9jYW1lcmFcIik7XG5cbnZhciBfdmVjdG9yID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi92ZWN0b3JcIik7XG5cbnZhciBfbWF0aGYgPSByZXF1aXJlKFwiLi4vbGliL21hdGhmL21hdGhmXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8qKlxuICogRGVtb25zdHJhdGVzIHBzZXVkbzNkQ2FudmFzLiAgVGhpcyBpcyBtb3JlIGFuIGV4cGVyaW1lbnRhdGlvblxuICogYW5kIGRlbW9uc3RyYXRpb24gb2YgaG93IHRvIHByb2plY3QgM2QgaW50byAyZCBzcGFjZS5cbiAqXG4gKiBUaGUgcHNldWRvM2RDYW52YXMgaXMgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIGEgdHJhbnNsYXRpb25NYXRyaXhcbiAqIHRoYXQgdGhlbiB0cmFuc2Zvcm1zIHRoZSBwb3NpdG9pbiBvZiBlYWNoIHZlcnRpY2VzIHRvIHByb2plY3RcbiAqIDNkIGludG8gMmQgc3BhY2UuXG4gKi9cbmNsYXNzIHBzZXVkbzNkQ2FudmFzU2FtcGxlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5ndWkgPSBuZXcgZGF0LkdVSSgpO1xuICAgIHRoaXMucmFmID0gbmV3IF9yYWYuUmFmKCk7XG4gICAgdGhpcy5yYWYud2F0Y2godGhpcy5yZW5kZXJMb29wLmJpbmQodGhpcykpO1xuICAgIGxldCBjYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpO1xuICAgIHRoaXMucHNldWRvM2RDYW52YXMgPSBuZXcgX3BzZXVkbzNkQ2FudmFzLlBzZXVkbzNkQ2FudmFzKHtcbiAgICAgIGNhbnZhc0VsZW1lbnQ6IGNhbnZhc0VsZW1lbnRcbiAgICB9KTtcbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBfY2FtZXJhLkNhbWVyYSgpO1xuICAgIGxldCBjdWJlTWVzaCA9IG5ldyBfbWVzaC5DdWJlTWVzaCgpO1xuICAgIGN1YmVNZXNoLnBvc2l0aW9uLnggPSAwO1xuICAgIGN1YmVNZXNoLnBvc2l0aW9uLnkgPSAwO1xuICAgIGN1YmVNZXNoLnBvc2l0aW9uLnogPSAxMDA7XG4gICAgY3ViZU1lc2gub3JpZ2luYWxQb3NpdGlvbiA9IGN1YmVNZXNoLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgY3ViZU1lc2gucm90YXRpb24gPSBuZXcgX3ZlY3Rvci5WZWN0b3IoLTEsIC0xLCAtMSk7XG4gICAgY3ViZU1lc2guY29sb3IgPSAnZ3JlZW4nO1xuICAgIGN1YmVNZXNoLnNpemUoMywgMywgMyk7XG4gICAgbGV0IGN1YmVNZXNoMiA9IG5ldyBfbWVzaC5DdWJlTWVzaCgpO1xuICAgIGN1YmVNZXNoMi5wb3NpdGlvbi54ID0gMDtcbiAgICBjdWJlTWVzaDIucG9zaXRpb24ueSA9IDEwO1xuICAgIGN1YmVNZXNoMi5wb3NpdGlvbi56ID0gMTAwO1xuICAgIGN1YmVNZXNoMi5vcmlnaW5hbFBvc2l0aW9uID0gY3ViZU1lc2gyLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgY3ViZU1lc2gyLnJvdGF0aW9uID0gbmV3IF92ZWN0b3IuVmVjdG9yKC0xLCAtMSwgLTEpO1xuICAgIGN1YmVNZXNoMi5zaXplKDEsIDEsIDEpO1xuICAgIGN1YmVNZXNoMi5jb2xvciA9ICdvcmFuZ2UnO1xuICAgIGNvbnNvbGUubG9nKCdjMScsIGN1YmVNZXNoKTtcbiAgICBjb25zb2xlLmxvZygnYzInLCBjdWJlTWVzaDIpOyAvLyBVcGRhdGUgdGhlIGNhbWVyYSBwb3NpdGlvbi5cblxuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uID0gbmV3IF92ZWN0b3IuVmVjdG9yKDAsIDAsIDUpO1xuICAgIHRoaXMuY2FtZXJhLnRhcmdldCA9IG5ldyBfdmVjdG9yLlZlY3RvcigwLCAwLCAwKTsgLy8gdGhpcy5jYW1lcmEucG9zaXRpb24gPSBuZXcgVmVjdG9yKDAsIDAsIDEpO1xuICAgIC8vIHRoaXMuY2FtZXJhLnRhcmdldCA9IG5ldyBWZWN0b3IoMCwgMCwgMCk7XG5cbiAgICB0aGlzLm1lc2hlcyA9IFtjdWJlTWVzaCwgY3ViZU1lc2gyXTtcbiAgICBsZXQgcHJvamVjdGlvbiA9IHRoaXMuZ3VpLmFkZEZvbGRlcignUHJvamVjdGlvbicpO1xuICAgIHByb2plY3Rpb24uYWRkKHRoaXMucHNldWRvM2RDYW52YXMsICdmb3YnLCAtMTgwLCAxODApO1xuICAgIHByb2plY3Rpb24uYWRkKHRoaXMucHNldWRvM2RDYW52YXMsICdhc3BlY3QnLCAwLCAyKTtcbiAgICBwcm9qZWN0aW9uLmFkZCh0aGlzLnBzZXVkbzNkQ2FudmFzLCAnbmVhcicsIC0xMDAsIDEwMCk7XG4gICAgcHJvamVjdGlvbi5hZGQodGhpcy5wc2V1ZG8zZENhbnZhcywgJ2ZhcicsIC0xMDAwMCwgMTAwMDApO1xuICAgIGxldCBjYW1lcmFGb2xkZXIgPSB0aGlzLmd1aS5hZGRGb2xkZXIoJ2NhbWVyYSBwb3NpdGlvbicpO1xuICAgIGNhbWVyYUZvbGRlci5hZGQodGhpcy5jYW1lcmEucG9zaXRpb24sICd4JywgLTEsIDEpO1xuICAgIGNhbWVyYUZvbGRlci5hZGQodGhpcy5jYW1lcmEucG9zaXRpb24sICd5JywgLTEsIDEpO1xuICAgIGNhbWVyYUZvbGRlci5hZGQodGhpcy5jYW1lcmEucG9zaXRpb24sICd6JywgLTEwMCwgMTAwMCk7XG4gICAgbGV0IGNhbWVyYVRhcmdldEZvbGRlciA9IHRoaXMuZ3VpLmFkZEZvbGRlcignY2FtZXJhIHRhcmdldCcpO1xuICAgIGNhbWVyYVRhcmdldEZvbGRlci5hZGQodGhpcy5jYW1lcmEudGFyZ2V0LCAneCcsIC0xMCwgMTApO1xuICAgIGNhbWVyYVRhcmdldEZvbGRlci5hZGQodGhpcy5jYW1lcmEudGFyZ2V0LCAneScsIC0xMCwgMTApO1xuICAgIGNhbWVyYVRhcmdldEZvbGRlci5hZGQodGhpcy5jYW1lcmEudGFyZ2V0LCAneicsIC0xMDAsIDEwMDApOyAvLyBsZXQgbWVzaEZvbGRlciA9IHRoaXMuZ3VpLmFkZEZvbGRlcignbWVzaCcpO1xuICAgIC8vIG1lc2hGb2xkZXIuYWRkKGN1YmVNZXNoLnJvdGF0aW9uLCAneCcsIDAuMDAxLCAwLjkpO1xuICAgIC8vIG1lc2hGb2xkZXIuYWRkKGN1YmVNZXNoLnJvdGF0aW9uLCAneScsIDAuMDAxLCAwLjkpO1xuICAgIC8vIG1lc2hGb2xkZXIuYWRkKGN1YmVNZXNoLnJvdGF0aW9uLCAneicsIDAuMDAxLCAwLjkpO1xuXG4gICAgdGhpcy53YXZlID0gMDtcbiAgICB0aGlzLndhdmUyID0gMDtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnBzZXVkbzNkQ2FudmFzKTtcbiAgICBjb25zb2xlLmxvZyhjdWJlTWVzaCk7IC8vIGNvbnNvbGUubG9nKGN1YmVNZXNoMik7XG4gICAgLy8gLy8gU3RhcnQgcmFmIGxvb3AuXG5cbiAgICB0aGlzLnJhZi5zdGFydCgpOyAvLyB0aGlzLnJlbmRlckxvb3AoKTtcbiAgfVxuICAvKipcbiAgICAgKiBIYW5kbGVzIGVhY2ggcmFmIGxvb3AuXG4gICAgICovXG5cblxuICByZW5kZXJMb29wKGRlbHRhKSB7XG4gICAgdGhpcy53YXZlICs9IDAuMDM7XG4gICAgdGhpcy53YXZlMiArPSAwLjAyO1xuICAgIHRoaXMubWVzaGVzWzBdLnJvdGF0aW9uLnggKz0gMC4wNTtcbiAgICB0aGlzLm1lc2hlc1swXS5yb3RhdGlvbi55ICs9IDAuMDU7XG4gICAgdGhpcy5tZXNoZXNbMF0ucm90YXRpb24ueiArPSAwLjA1O1xuICAgIHRoaXMubWVzaGVzWzBdLnBvc2l0aW9uLnogPSBfbWF0aGYubWF0aGYubGVycCh0aGlzLm1lc2hlc1swXS5wb3NpdGlvbi56LCB0aGlzLm1lc2hlc1swXS5vcmlnaW5hbFBvc2l0aW9uLnogKyAtTWF0aC5zaW4odGhpcy53YXZlMikgKiA2MCwgMC4zKTtcbiAgICB0aGlzLm1lc2hlc1sxXS5yb3RhdGlvbi54ICs9IDAuMDI7XG4gICAgdGhpcy5tZXNoZXNbMV0ucm90YXRpb24ueSArPSAwLjAxO1xuICAgIHRoaXMubWVzaGVzWzFdLnJvdGF0aW9uLnogKz0gMC4wMjsgLy8gVXBkYXRlIHRoZSBjdWJlTWVzaDIgcG9zaXRpb24uXG5cbiAgICB0aGlzLm1lc2hlc1sxXS5wb3NpdGlvbi54ID0gX21hdGhmLm1hdGhmLmxlcnAodGhpcy5tZXNoZXNbMV0ucG9zaXRpb24ueCwgdGhpcy5tZXNoZXNbMV0ub3JpZ2luYWxQb3NpdGlvbi54ICsgTWF0aC5zaW4odGhpcy53YXZlKSAqIDUsIDAuMik7XG4gICAgdGhpcy5tZXNoZXNbMV0ucG9zaXRpb24ueSA9IF9tYXRoZi5tYXRoZi5sZXJwKHRoaXMubWVzaGVzWzFdLnBvc2l0aW9uLnksIHRoaXMubWVzaGVzWzFdLm9yaWdpbmFsUG9zaXRpb24ueSArIE1hdGguc2luKHRoaXMud2F2ZTIpICogNSwgMC4yKTtcbiAgICB0aGlzLm1lc2hlc1sxXS5wb3NpdGlvbi56ID0gX21hdGhmLm1hdGhmLmxlcnAodGhpcy5tZXNoZXNbMV0ucG9zaXRpb24ueiwgdGhpcy5tZXNoZXNbMV0ub3JpZ2luYWxQb3NpdGlvbi56ICsgTWF0aC5zaW4odGhpcy53YXZlMikgKiA2MCwgMC4zKTsgLy8gdGhpcy5tZXNoZXMuZm9yRWFjaCgobWVzaCkgPT4ge1xuICAgIC8vICAgICBtZXNoLnJvdGF0aW9uLnggKz0gMC4wMTtcbiAgICAvLyAgICAgbWVzaC5yb3RhdGlvbi55ICs9IDAuMDE7XG4gICAgLy8gICAgIC8vIG1lc2gucm90YXRpb24ueiArPSAwLjAxO1xuICAgIC8vIH0pO1xuXG4gICAgdGhpcy5wc2V1ZG8zZENhbnZhcy5yZW5kZXIodGhpcy5jYW1lcmEsIHRoaXMubWVzaGVzKTsgLy8gY29uc29sZS5sb2codGhpcy5wc2V1ZG8zZENhbnZhcyk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBwc2V1ZG8zZENhbnZhc1NhbXBsZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/pseudo-3d-canvas.js\n");

/***/ }),

/***/ "./examples/quaternion.js":
/*!********************************!*\
  !*** ./examples/quaternion.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _dat = __webpack_require__(/*! dat.gui */ \"./node_modules/dat.gui/build/dat.gui.module.js\");\n\nvar dat = _interopRequireWildcard(_dat);\n\nvar _vectorDom = __webpack_require__(/*! ../lib/dom/vector-dom */ \"./lib/dom/vector-dom.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nvar _pixi = __webpack_require__(/*! pixi.js */ \"./node_modules/pixi.js/lib/index.js\");\n\nvar _quaternion = __webpack_require__(/*! ../lib/mathf/quaternion */ \"./lib/mathf/quaternion.js\");\n\nvar _matrixIV = __webpack_require__(/*! ../lib/mathf/matrixIV */ \"./lib/mathf/matrixIV.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nclass QuaternionSample {\n  constructor() {\n    console.log('test');\n    this.gui = new dat.GUI(); // Create targets.\n\n    this.targets = {};\n\n    const createTarget = (id, x, y, z) => {\n      let el = document.getElementById(id);\n      let t = new _vectorDom.VectorDom(el);\n      t.anchorX = 0.5;\n      t.anchorY = 0.5;\n      t.setPosition(new _vector.Vector(x, y, z));\n      t.init(); // Add the coordinates so we can see them.\n      // el.innerHTML = `${x} ${y} ${z}`;\n\n      el.innerHTML = id;\n      this.targets[id] = t;\n      t.render();\n    };\n\n    createTarget('target1', 100, 200, 1 - 1);\n    createTarget('target2', 700, 500, 1 - 1);\n    createTarget('target3', 100, 400, 1 - 1);\n    createTarget('target4', 700, -100, 1 - 1);\n    createTarget('target5', 400, -200, 1 - 1);\n    this.cube = new _vectorDom.VectorDom(document.getElementById('ball'));\n    this.cube.setPosition(new _vector.Vector(0, 0, 1 - 1)); // We are going to offset the entire element position to the center\n    // of the container.\n\n    this.cube.setOffset(new _vector.Vector(800 / 2, 800 / 2, 0));\n    this.cube.init();\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.raf.start(); // Setup DAT GUI radio options\n\n    const setChecked = prop => {\n      for (let param in this.parameters) {\n        this.parameters[param] = false;\n      }\n\n      this.parameters[prop] = true;\n    };\n\n    const addRadio = (folder, prop) => {\n      folder.add(this.parameters, prop).listen().onChange(() => {\n        setChecked(prop);\n      });\n    };\n\n    this.parameters = {\n      lookAtTarget1: false,\n      lookAtTarget2: false,\n      lookAtTarget3: false,\n      lookAtTarget4: false,\n      lookAtTarget5: false\n    };\n    let folder = this.gui.addFolder('Options');\n    addRadio(folder, 'lookAtTarget1');\n    addRadio(folder, 'lookAtTarget2');\n    addRadio(folder, 'lookAtTarget3');\n    addRadio(folder, 'lookAtTarget4');\n    addRadio(folder, 'lookAtTarget5');\n  }\n\n  onRaf() {\n    if (this.parameters.lookAtTarget1) {\n      this.lookAt3('target1');\n    }\n\n    if (this.parameters.lookAtTarget2) {\n      this.lookAt3('target2');\n    }\n\n    if (this.parameters.lookAtTarget3) {\n      this.lookAt3('target3');\n    }\n\n    if (this.parameters.lookAtTarget4) {\n      this.lookAt3('target4');\n    }\n\n    if (this.parameters.lookAtTarget5) {\n      this.lookAt3('target5');\n    }\n\n    this.cube.render();\n  }\n\n  lookAt3(targetId) {\n    let target = this.targets[targetId];\n    let eye = this.cube;\n    target = target.position.clone().add(target.offset).add(target.anchorOffsetVector);\n    eye = eye.position.clone().add(eye.offset).add(eye.anchorOffsetVector);\n\n    let q = _quaternion.Quaternion.rotateTo(eye.normalize(), target.normalize(), _vector.Vector.UP);\n\n    this.cube.rotation.slerp(q, 0.2);\n  }\n\n  lookAt2(targetId) {\n    let target = this.targets[targetId];\n    let eye = this.cube;\n    target = target.position.clone().add(target.offset).add(target.anchorOffsetVector);\n    eye = eye.position.clone().add(eye.offset).add(eye.anchorOffsetVector); // target = target.globalElementCenterPosition;\n    // eye = eye.globalElementCenterPosition;\n\n    let tc = target.clone();\n    let ec = eye.clone();\n\n    let eularDifference = _vector.Vector.getEularRotationTo(eye.normalize(), target.normalize());\n\n    let m1 = new _matrixIV.MatrixIV().ypr(eularDifference.z, eularDifference.y, eularDifference.x);\n\n    let q = _quaternion.Quaternion.fromRotationMatrixIV(m1); // let q = Quaternion.fromEulerVector(eularDifference);\n\n\n    this.cube.rotation.slerp(q, 0.2);\n  }\n\n  lookAt(targetId) {\n    this.cube.useBoundsForGlobalCalculation = false;\n    this.targets[targetId].useBoundsForGlobalCalculation = true; // This work.\n\n    let target = this.targets[targetId];\n    target = target.position.clone().add(target.offset).add(target.anchorOffsetVector);\n    let eye = this.cube;\n    eye = eye.position.clone().add(eye.offset).add(eye.anchorOffsetVector); // doesnt work because it's tied to window scroll.\n    // let target = this.targets[targetId].globalElementCenterPosition.clone();\n    // let eye = this.cube.globalElementCenterPosition.clone();\n    // target.z = 1 - target.z;\n    // eye.z = 1 - target.z;\n\n    console.log('t', target.clone().normalize());\n    console.log('e', eye); // target.y *= 1;\n    // eye.y *= -1;\n\n    let tc = target.clone();\n    let ec = eye.clone(); // target.y = tc.x;\n    // target.x = tc.z;\n    // target.z = tc.y;\n    // eye.y = ec.x;\n    // eye.x = ec.z;\n    // eye.z = ec.y;\n\n    target.x = tc.z;\n    target.y = tc.y;\n    target.z = tc.x;\n    eye.x = ec.z;\n    eye.y = ec.y;\n    eye.z = ec.x;\n    target.z *= 1;\n    eye.z *= 1; // let m1 = new MatrixIV().lookAt(\n    //     // new Vector(0, 0, 1),\n    //     eye,\n    //     target,\n    //     // Vector.UP\n    //     new Vector(0, 1, 0)\n    // );\n\n    let m1 = new _matrixIV.MatrixIV().lookAt( // new Vector(0, 0, 1),\n    eye.clone().normalize(), target.clone().normalize(), _vector.Vector.FORWARD // eye.cross(Vector.FORWARD)\n    );\n\n    let q = _quaternion.Quaternion.fromRotationMatrixIV(m1); // console.log(Quaternion.toEulerVector(q));\n\n\n    this.cube.rotation.slerp(q, 0.2);\n  }\n\n}\n\nexports.default = QuaternionSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9xdWF0ZXJuaW9uLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvcXVhdGVybmlvbi5qcz85YmRlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RhdCA9IHJlcXVpcmUoXCJkYXQuZ3VpXCIpO1xuXG52YXIgZGF0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2RhdCk7XG5cbnZhciBfdmVjdG9yRG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb20vdmVjdG9yLWRvbVwiKTtcblxudmFyIF9yYWYgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWZcIik7XG5cbnZhciBfdmVjdG9yID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi92ZWN0b3JcIik7XG5cbnZhciBfcGl4aSA9IHJlcXVpcmUoXCJwaXhpLmpzXCIpO1xuXG52YXIgX3F1YXRlcm5pb24gPSByZXF1aXJlKFwiLi4vbGliL21hdGhmL3F1YXRlcm5pb25cIik7XG5cbnZhciBfbWF0cml4SVYgPSByZXF1aXJlKFwiLi4vbGliL21hdGhmL21hdHJpeElWXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmNsYXNzIFF1YXRlcm5pb25TYW1wbGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygndGVzdCcpO1xuICAgIHRoaXMuZ3VpID0gbmV3IGRhdC5HVUkoKTsgLy8gQ3JlYXRlIHRhcmdldHMuXG5cbiAgICB0aGlzLnRhcmdldHMgPSB7fTtcblxuICAgIGNvbnN0IGNyZWF0ZVRhcmdldCA9IChpZCwgeCwgeSwgeikgPT4ge1xuICAgICAgbGV0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgbGV0IHQgPSBuZXcgX3ZlY3RvckRvbS5WZWN0b3JEb20oZWwpO1xuICAgICAgdC5hbmNob3JYID0gMC41O1xuICAgICAgdC5hbmNob3JZID0gMC41O1xuICAgICAgdC5zZXRQb3NpdGlvbihuZXcgX3ZlY3Rvci5WZWN0b3IoeCwgeSwgeikpO1xuICAgICAgdC5pbml0KCk7IC8vIEFkZCB0aGUgY29vcmRpbmF0ZXMgc28gd2UgY2FuIHNlZSB0aGVtLlxuICAgICAgLy8gZWwuaW5uZXJIVE1MID0gYCR7eH0gJHt5fSAke3p9YDtcblxuICAgICAgZWwuaW5uZXJIVE1MID0gaWQ7XG4gICAgICB0aGlzLnRhcmdldHNbaWRdID0gdDtcbiAgICAgIHQucmVuZGVyKCk7XG4gICAgfTtcblxuICAgIGNyZWF0ZVRhcmdldCgndGFyZ2V0MScsIDEwMCwgMjAwLCAxIC0gMSk7XG4gICAgY3JlYXRlVGFyZ2V0KCd0YXJnZXQyJywgNzAwLCA1MDAsIDEgLSAxKTtcbiAgICBjcmVhdGVUYXJnZXQoJ3RhcmdldDMnLCAxMDAsIDQwMCwgMSAtIDEpO1xuICAgIGNyZWF0ZVRhcmdldCgndGFyZ2V0NCcsIDcwMCwgLTEwMCwgMSAtIDEpO1xuICAgIGNyZWF0ZVRhcmdldCgndGFyZ2V0NScsIDQwMCwgLTIwMCwgMSAtIDEpO1xuICAgIHRoaXMuY3ViZSA9IG5ldyBfdmVjdG9yRG9tLlZlY3RvckRvbShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFsbCcpKTtcbiAgICB0aGlzLmN1YmUuc2V0UG9zaXRpb24obmV3IF92ZWN0b3IuVmVjdG9yKDAsIDAsIDEgLSAxKSk7IC8vIFdlIGFyZSBnb2luZyB0byBvZmZzZXQgdGhlIGVudGlyZSBlbGVtZW50IHBvc2l0aW9uIHRvIHRoZSBjZW50ZXJcbiAgICAvLyBvZiB0aGUgY29udGFpbmVyLlxuXG4gICAgdGhpcy5jdWJlLnNldE9mZnNldChuZXcgX3ZlY3Rvci5WZWN0b3IoODAwIC8gMiwgODAwIC8gMiwgMCkpO1xuICAgIHRoaXMuY3ViZS5pbml0KCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgX3JhZi5SYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpOyAvLyBTZXR1cCBEQVQgR1VJIHJhZGlvIG9wdGlvbnNcblxuICAgIGNvbnN0IHNldENoZWNrZWQgPSBwcm9wID0+IHtcbiAgICAgIGZvciAobGV0IHBhcmFtIGluIHRoaXMucGFyYW1ldGVycykge1xuICAgICAgICB0aGlzLnBhcmFtZXRlcnNbcGFyYW1dID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucGFyYW1ldGVyc1twcm9wXSA9IHRydWU7XG4gICAgfTtcblxuICAgIGNvbnN0IGFkZFJhZGlvID0gKGZvbGRlciwgcHJvcCkgPT4ge1xuICAgICAgZm9sZGVyLmFkZCh0aGlzLnBhcmFtZXRlcnMsIHByb3ApLmxpc3RlbigpLm9uQ2hhbmdlKCgpID0+IHtcbiAgICAgICAgc2V0Q2hlY2tlZChwcm9wKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnBhcmFtZXRlcnMgPSB7XG4gICAgICBsb29rQXRUYXJnZXQxOiBmYWxzZSxcbiAgICAgIGxvb2tBdFRhcmdldDI6IGZhbHNlLFxuICAgICAgbG9va0F0VGFyZ2V0MzogZmFsc2UsXG4gICAgICBsb29rQXRUYXJnZXQ0OiBmYWxzZSxcbiAgICAgIGxvb2tBdFRhcmdldDU6IGZhbHNlXG4gICAgfTtcbiAgICBsZXQgZm9sZGVyID0gdGhpcy5ndWkuYWRkRm9sZGVyKCdPcHRpb25zJyk7XG4gICAgYWRkUmFkaW8oZm9sZGVyLCAnbG9va0F0VGFyZ2V0MScpO1xuICAgIGFkZFJhZGlvKGZvbGRlciwgJ2xvb2tBdFRhcmdldDInKTtcbiAgICBhZGRSYWRpbyhmb2xkZXIsICdsb29rQXRUYXJnZXQzJyk7XG4gICAgYWRkUmFkaW8oZm9sZGVyLCAnbG9va0F0VGFyZ2V0NCcpO1xuICAgIGFkZFJhZGlvKGZvbGRlciwgJ2xvb2tBdFRhcmdldDUnKTtcbiAgfVxuXG4gIG9uUmFmKCkge1xuICAgIGlmICh0aGlzLnBhcmFtZXRlcnMubG9va0F0VGFyZ2V0MSkge1xuICAgICAgdGhpcy5sb29rQXQzKCd0YXJnZXQxJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5sb29rQXRUYXJnZXQyKSB7XG4gICAgICB0aGlzLmxvb2tBdDMoJ3RhcmdldDInKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmxvb2tBdFRhcmdldDMpIHtcbiAgICAgIHRoaXMubG9va0F0MygndGFyZ2V0MycpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBhcmFtZXRlcnMubG9va0F0VGFyZ2V0NCkge1xuICAgICAgdGhpcy5sb29rQXQzKCd0YXJnZXQ0Jyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5sb29rQXRUYXJnZXQ1KSB7XG4gICAgICB0aGlzLmxvb2tBdDMoJ3RhcmdldDUnKTtcbiAgICB9XG5cbiAgICB0aGlzLmN1YmUucmVuZGVyKCk7XG4gIH1cblxuICBsb29rQXQzKHRhcmdldElkKSB7XG4gICAgbGV0IHRhcmdldCA9IHRoaXMudGFyZ2V0c1t0YXJnZXRJZF07XG4gICAgbGV0IGV5ZSA9IHRoaXMuY3ViZTtcbiAgICB0YXJnZXQgPSB0YXJnZXQucG9zaXRpb24uY2xvbmUoKS5hZGQodGFyZ2V0Lm9mZnNldCkuYWRkKHRhcmdldC5hbmNob3JPZmZzZXRWZWN0b3IpO1xuICAgIGV5ZSA9IGV5ZS5wb3NpdGlvbi5jbG9uZSgpLmFkZChleWUub2Zmc2V0KS5hZGQoZXllLmFuY2hvck9mZnNldFZlY3Rvcik7XG5cbiAgICBsZXQgcSA9IF9xdWF0ZXJuaW9uLlF1YXRlcm5pb24ucm90YXRlVG8oZXllLm5vcm1hbGl6ZSgpLCB0YXJnZXQubm9ybWFsaXplKCksIF92ZWN0b3IuVmVjdG9yLlVQKTtcblxuICAgIHRoaXMuY3ViZS5yb3RhdGlvbi5zbGVycChxLCAwLjIpO1xuICB9XG5cbiAgbG9va0F0Mih0YXJnZXRJZCkge1xuICAgIGxldCB0YXJnZXQgPSB0aGlzLnRhcmdldHNbdGFyZ2V0SWRdO1xuICAgIGxldCBleWUgPSB0aGlzLmN1YmU7XG4gICAgdGFyZ2V0ID0gdGFyZ2V0LnBvc2l0aW9uLmNsb25lKCkuYWRkKHRhcmdldC5vZmZzZXQpLmFkZCh0YXJnZXQuYW5jaG9yT2Zmc2V0VmVjdG9yKTtcbiAgICBleWUgPSBleWUucG9zaXRpb24uY2xvbmUoKS5hZGQoZXllLm9mZnNldCkuYWRkKGV5ZS5hbmNob3JPZmZzZXRWZWN0b3IpOyAvLyB0YXJnZXQgPSB0YXJnZXQuZ2xvYmFsRWxlbWVudENlbnRlclBvc2l0aW9uO1xuICAgIC8vIGV5ZSA9IGV5ZS5nbG9iYWxFbGVtZW50Q2VudGVyUG9zaXRpb247XG5cbiAgICBsZXQgdGMgPSB0YXJnZXQuY2xvbmUoKTtcbiAgICBsZXQgZWMgPSBleWUuY2xvbmUoKTtcblxuICAgIGxldCBldWxhckRpZmZlcmVuY2UgPSBfdmVjdG9yLlZlY3Rvci5nZXRFdWxhclJvdGF0aW9uVG8oZXllLm5vcm1hbGl6ZSgpLCB0YXJnZXQubm9ybWFsaXplKCkpO1xuXG4gICAgbGV0IG0xID0gbmV3IF9tYXRyaXhJVi5NYXRyaXhJVigpLnlwcihldWxhckRpZmZlcmVuY2UueiwgZXVsYXJEaWZmZXJlbmNlLnksIGV1bGFyRGlmZmVyZW5jZS54KTtcblxuICAgIGxldCBxID0gX3F1YXRlcm5pb24uUXVhdGVybmlvbi5mcm9tUm90YXRpb25NYXRyaXhJVihtMSk7IC8vIGxldCBxID0gUXVhdGVybmlvbi5mcm9tRXVsZXJWZWN0b3IoZXVsYXJEaWZmZXJlbmNlKTtcblxuXG4gICAgdGhpcy5jdWJlLnJvdGF0aW9uLnNsZXJwKHEsIDAuMik7XG4gIH1cblxuICBsb29rQXQodGFyZ2V0SWQpIHtcbiAgICB0aGlzLmN1YmUudXNlQm91bmRzRm9yR2xvYmFsQ2FsY3VsYXRpb24gPSBmYWxzZTtcbiAgICB0aGlzLnRhcmdldHNbdGFyZ2V0SWRdLnVzZUJvdW5kc0Zvckdsb2JhbENhbGN1bGF0aW9uID0gdHJ1ZTsgLy8gVGhpcyB3b3JrLlxuXG4gICAgbGV0IHRhcmdldCA9IHRoaXMudGFyZ2V0c1t0YXJnZXRJZF07XG4gICAgdGFyZ2V0ID0gdGFyZ2V0LnBvc2l0aW9uLmNsb25lKCkuYWRkKHRhcmdldC5vZmZzZXQpLmFkZCh0YXJnZXQuYW5jaG9yT2Zmc2V0VmVjdG9yKTtcbiAgICBsZXQgZXllID0gdGhpcy5jdWJlO1xuICAgIGV5ZSA9IGV5ZS5wb3NpdGlvbi5jbG9uZSgpLmFkZChleWUub2Zmc2V0KS5hZGQoZXllLmFuY2hvck9mZnNldFZlY3Rvcik7IC8vIGRvZXNudCB3b3JrIGJlY2F1c2UgaXQncyB0aWVkIHRvIHdpbmRvdyBzY3JvbGwuXG4gICAgLy8gbGV0IHRhcmdldCA9IHRoaXMudGFyZ2V0c1t0YXJnZXRJZF0uZ2xvYmFsRWxlbWVudENlbnRlclBvc2l0aW9uLmNsb25lKCk7XG4gICAgLy8gbGV0IGV5ZSA9IHRoaXMuY3ViZS5nbG9iYWxFbGVtZW50Q2VudGVyUG9zaXRpb24uY2xvbmUoKTtcbiAgICAvLyB0YXJnZXQueiA9IDEgLSB0YXJnZXQuejtcbiAgICAvLyBleWUueiA9IDEgLSB0YXJnZXQuejtcblxuICAgIGNvbnNvbGUubG9nKCd0JywgdGFyZ2V0LmNsb25lKCkubm9ybWFsaXplKCkpO1xuICAgIGNvbnNvbGUubG9nKCdlJywgZXllKTsgLy8gdGFyZ2V0LnkgKj0gMTtcbiAgICAvLyBleWUueSAqPSAtMTtcblxuICAgIGxldCB0YyA9IHRhcmdldC5jbG9uZSgpO1xuICAgIGxldCBlYyA9IGV5ZS5jbG9uZSgpOyAvLyB0YXJnZXQueSA9IHRjLng7XG4gICAgLy8gdGFyZ2V0LnggPSB0Yy56O1xuICAgIC8vIHRhcmdldC56ID0gdGMueTtcbiAgICAvLyBleWUueSA9IGVjLng7XG4gICAgLy8gZXllLnggPSBlYy56O1xuICAgIC8vIGV5ZS56ID0gZWMueTtcblxuICAgIHRhcmdldC54ID0gdGMuejtcbiAgICB0YXJnZXQueSA9IHRjLnk7XG4gICAgdGFyZ2V0LnogPSB0Yy54O1xuICAgIGV5ZS54ID0gZWMuejtcbiAgICBleWUueSA9IGVjLnk7XG4gICAgZXllLnogPSBlYy54O1xuICAgIHRhcmdldC56ICo9IDE7XG4gICAgZXllLnogKj0gMTsgLy8gbGV0IG0xID0gbmV3IE1hdHJpeElWKCkubG9va0F0KFxuICAgIC8vICAgICAvLyBuZXcgVmVjdG9yKDAsIDAsIDEpLFxuICAgIC8vICAgICBleWUsXG4gICAgLy8gICAgIHRhcmdldCxcbiAgICAvLyAgICAgLy8gVmVjdG9yLlVQXG4gICAgLy8gICAgIG5ldyBWZWN0b3IoMCwgMSwgMClcbiAgICAvLyApO1xuXG4gICAgbGV0IG0xID0gbmV3IF9tYXRyaXhJVi5NYXRyaXhJVigpLmxvb2tBdCggLy8gbmV3IFZlY3RvcigwLCAwLCAxKSxcbiAgICBleWUuY2xvbmUoKS5ub3JtYWxpemUoKSwgdGFyZ2V0LmNsb25lKCkubm9ybWFsaXplKCksIF92ZWN0b3IuVmVjdG9yLkZPUldBUkQgLy8gZXllLmNyb3NzKFZlY3Rvci5GT1JXQVJEKVxuICAgICk7XG5cbiAgICBsZXQgcSA9IF9xdWF0ZXJuaW9uLlF1YXRlcm5pb24uZnJvbVJvdGF0aW9uTWF0cml4SVYobTEpOyAvLyBjb25zb2xlLmxvZyhRdWF0ZXJuaW9uLnRvRXVsZXJWZWN0b3IocSkpO1xuXG5cbiAgICB0aGlzLmN1YmUucm90YXRpb24uc2xlcnAocSwgMC4yKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFF1YXRlcm5pb25TYW1wbGU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/quaternion.js\n");

/***/ }),

/***/ "./examples/raf-progress.js":
/*!**********************************!*\
  !*** ./examples/raf-progress.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nclass RafProgressSample {\n  constructor() {\n    console.log('RafProgressSample');\n    this.body = document.getElementById('body');\n    this.range = document.getElementById('range');\n    this.progressElement = document.getElementById('progress');\n    const rafProgress = new _rafProgress.RafProgress();\n    rafProgress.watch((easedProgress, direction) => {\n      // console.log('progress event', easedProgress);\n      this.progressElement.textContent = easedProgress;\n    }); // Watch from 0.5 to 0.6.\n\n    const rangeWatcher = (currentProgress, direction) => {\n      console.log('range watcher', currentProgress, direction);\n    };\n\n    rafProgress.watchFor([0.5, 0.6], rangeWatcher); // rafProgress.unwatchFor(rangeWatcher);\n\n    const rangeWatcher2 = (currentProgress, direction) => {\n      console.log('around 20%!', currentProgress, direction);\n    };\n\n    rafProgress.watchFor(0.2, rangeWatcher2);\n    rafProgress.watchFor(0, () => {\n      this.addClass('blue');\n    });\n    rafProgress.watchFor([0.5, 0.6], () => {\n      console.log('red');\n      this.addClass('red');\n    });\n    rafProgress.watchFor(0.7, () => {\n      console.log('yellow');\n      this.addClass('yellow');\n    });\n    rafProgress.watchFor(1, () => {\n      this.addClass('green');\n    });\n    rafProgress.setPrecision(5);\n    rafProgress.setCurrentProgress(this.range.value); // Update rafProgress each time the value of range changes.\n\n    this.range.addEventListener('input', () => {\n      rafProgress.easeTo(+this.range.value, 0.25, _ease.EASE.easeInOutQuad);\n    });\n  }\n\n  addClass(color) {\n    const previousColor = this.currentColor;\n    this.currentColor = color;\n\n    if (previousColor) {\n      this.body.classList.remove(previousColor);\n    }\n\n    this.body.classList.add(color);\n  }\n\n}\n\nexports.default = RafProgressSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9yYWYtcHJvZ3Jlc3MuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9yYWYtcHJvZ3Jlc3MuanM/MmM3NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9tYXRoZiA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvbWF0aGZcIik7XG5cbnZhciBfcmFmUHJvZ3Jlc3MgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3NcIik7XG5cbnZhciBfZWFzZSA9IHJlcXVpcmUoXCIuLi9saWIvZWFzZS9lYXNlXCIpO1xuXG5jbGFzcyBSYWZQcm9ncmVzc1NhbXBsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdSYWZQcm9ncmVzc1NhbXBsZScpO1xuICAgIHRoaXMuYm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib2R5Jyk7XG4gICAgdGhpcy5yYW5nZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYW5nZScpO1xuICAgIHRoaXMucHJvZ3Jlc3NFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzJyk7XG4gICAgY29uc3QgcmFmUHJvZ3Jlc3MgPSBuZXcgX3JhZlByb2dyZXNzLlJhZlByb2dyZXNzKCk7XG4gICAgcmFmUHJvZ3Jlc3Mud2F0Y2goKGVhc2VkUHJvZ3Jlc3MsIGRpcmVjdGlvbikgPT4ge1xuICAgICAgLy8gY29uc29sZS5sb2coJ3Byb2dyZXNzIGV2ZW50JywgZWFzZWRQcm9ncmVzcyk7XG4gICAgICB0aGlzLnByb2dyZXNzRWxlbWVudC50ZXh0Q29udGVudCA9IGVhc2VkUHJvZ3Jlc3M7XG4gICAgfSk7IC8vIFdhdGNoIGZyb20gMC41IHRvIDAuNi5cblxuICAgIGNvbnN0IHJhbmdlV2F0Y2hlciA9IChjdXJyZW50UHJvZ3Jlc3MsIGRpcmVjdGlvbikgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3JhbmdlIHdhdGNoZXInLCBjdXJyZW50UHJvZ3Jlc3MsIGRpcmVjdGlvbik7XG4gICAgfTtcblxuICAgIHJhZlByb2dyZXNzLndhdGNoRm9yKFswLjUsIDAuNl0sIHJhbmdlV2F0Y2hlcik7IC8vIHJhZlByb2dyZXNzLnVud2F0Y2hGb3IocmFuZ2VXYXRjaGVyKTtcblxuICAgIGNvbnN0IHJhbmdlV2F0Y2hlcjIgPSAoY3VycmVudFByb2dyZXNzLCBkaXJlY3Rpb24pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdhcm91bmQgMjAlIScsIGN1cnJlbnRQcm9ncmVzcywgZGlyZWN0aW9uKTtcbiAgICB9O1xuXG4gICAgcmFmUHJvZ3Jlc3Mud2F0Y2hGb3IoMC4yLCByYW5nZVdhdGNoZXIyKTtcbiAgICByYWZQcm9ncmVzcy53YXRjaEZvcigwLCAoKSA9PiB7XG4gICAgICB0aGlzLmFkZENsYXNzKCdibHVlJyk7XG4gICAgfSk7XG4gICAgcmFmUHJvZ3Jlc3Mud2F0Y2hGb3IoWzAuNSwgMC42XSwgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3JlZCcpO1xuICAgICAgdGhpcy5hZGRDbGFzcygncmVkJyk7XG4gICAgfSk7XG4gICAgcmFmUHJvZ3Jlc3Mud2F0Y2hGb3IoMC43LCAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygneWVsbG93Jyk7XG4gICAgICB0aGlzLmFkZENsYXNzKCd5ZWxsb3cnKTtcbiAgICB9KTtcbiAgICByYWZQcm9ncmVzcy53YXRjaEZvcigxLCAoKSA9PiB7XG4gICAgICB0aGlzLmFkZENsYXNzKCdncmVlbicpO1xuICAgIH0pO1xuICAgIHJhZlByb2dyZXNzLnNldFByZWNpc2lvbig1KTtcbiAgICByYWZQcm9ncmVzcy5zZXRDdXJyZW50UHJvZ3Jlc3ModGhpcy5yYW5nZS52YWx1ZSk7IC8vIFVwZGF0ZSByYWZQcm9ncmVzcyBlYWNoIHRpbWUgdGhlIHZhbHVlIG9mIHJhbmdlIGNoYW5nZXMuXG5cbiAgICB0aGlzLnJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgcmFmUHJvZ3Jlc3MuZWFzZVRvKCt0aGlzLnJhbmdlLnZhbHVlLCAwLjI1LCBfZWFzZS5FQVNFLmVhc2VJbk91dFF1YWQpO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkQ2xhc3MoY29sb3IpIHtcbiAgICBjb25zdCBwcmV2aW91c0NvbG9yID0gdGhpcy5jdXJyZW50Q29sb3I7XG4gICAgdGhpcy5jdXJyZW50Q29sb3IgPSBjb2xvcjtcblxuICAgIGlmIChwcmV2aW91c0NvbG9yKSB7XG4gICAgICB0aGlzLmJvZHkuY2xhc3NMaXN0LnJlbW92ZShwcmV2aW91c0NvbG9yKTtcbiAgICB9XG5cbiAgICB0aGlzLmJvZHkuY2xhc3NMaXN0LmFkZChjb2xvcik7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBSYWZQcm9ncmVzc1NhbXBsZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/raf-progress.js\n");

/***/ }),

/***/ "./examples/raf-timer.js":
/*!*******************************!*\
  !*** ./examples/raf-timer.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rafTimer = __webpack_require__(/*! ../lib/raf/raf-timer */ \"./lib/raf/raf-timer.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nclass RafTimerSample {\n  constructor() {\n    console.log('running raf timer sample');\n    this.startElement = document.getElementById('start');\n    this.stopElement = document.getElementById('stop');\n    this.box = document.getElementById('box'); // Start the box at 0.\n\n    this.currentX = 0;\n    this.end = 80; // The end position of the box.\n\n    ball.style.transform = `translateX(${this.currentX}vw)`;\n    this.rafTimer = new _rafTimer.RafTimer(progress => {\n      // Ease the ball position on each raf.\n      ball.style.transform = `translateX(${_mathf.mathf.ease(this.currentX, this.end, progress, _ease.EASE.easeOutExpo)}vw)`;\n    }); // Set it so that the raf stops after 1000ms.\n\n    this.rafTimer.setDuration(1000);\n    this.rafTimer.onComplete(() => {\n      console.log('animation complete');\n    });\n    this.startElement.addEventListener('click', () => {\n      this.rafTimer.play();\n    });\n    this.stopElement.addEventListener('click', () => {\n      this.rafTimer.pause();\n    });\n  }\n\n}\n\nexports.default = RafTimerSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9yYWYtdGltZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9yYWYtdGltZXIuanM/YTlmMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yYWZUaW1lciA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZi10aW1lclwiKTtcblxudmFyIF9tYXRoZiA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvbWF0aGZcIik7XG5cbnZhciBfZWFzZSA9IHJlcXVpcmUoXCIuLi9saWIvZWFzZS9lYXNlXCIpO1xuXG5jbGFzcyBSYWZUaW1lclNhbXBsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdydW5uaW5nIHJhZiB0aW1lciBzYW1wbGUnKTtcbiAgICB0aGlzLnN0YXJ0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydCcpO1xuICAgIHRoaXMuc3RvcEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RvcCcpO1xuICAgIHRoaXMuYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveCcpOyAvLyBTdGFydCB0aGUgYm94IGF0IDAuXG5cbiAgICB0aGlzLmN1cnJlbnRYID0gMDtcbiAgICB0aGlzLmVuZCA9IDgwOyAvLyBUaGUgZW5kIHBvc2l0aW9uIG9mIHRoZSBib3guXG5cbiAgICBiYWxsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7dGhpcy5jdXJyZW50WH12dylgO1xuICAgIHRoaXMucmFmVGltZXIgPSBuZXcgX3JhZlRpbWVyLlJhZlRpbWVyKHByb2dyZXNzID0+IHtcbiAgICAgIC8vIEVhc2UgdGhlIGJhbGwgcG9zaXRpb24gb24gZWFjaCByYWYuXG4gICAgICBiYWxsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7X21hdGhmLm1hdGhmLmVhc2UodGhpcy5jdXJyZW50WCwgdGhpcy5lbmQsIHByb2dyZXNzLCBfZWFzZS5FQVNFLmVhc2VPdXRFeHBvKX12dylgO1xuICAgIH0pOyAvLyBTZXQgaXQgc28gdGhhdCB0aGUgcmFmIHN0b3BzIGFmdGVyIDEwMDBtcy5cblxuICAgIHRoaXMucmFmVGltZXIuc2V0RHVyYXRpb24oMTAwMCk7XG4gICAgdGhpcy5yYWZUaW1lci5vbkNvbXBsZXRlKCgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdhbmltYXRpb24gY29tcGxldGUnKTtcbiAgICB9KTtcbiAgICB0aGlzLnN0YXJ0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMucmFmVGltZXIucGxheSgpO1xuICAgIH0pO1xuICAgIHRoaXMuc3RvcEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnJhZlRpbWVyLnBhdXNlKCk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBSYWZUaW1lclNhbXBsZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/raf-timer.js\n");

/***/ }),

/***/ "./examples/raf.js":
/*!*************************!*\
  !*** ./examples/raf.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nclass RafSample {\n  constructor() {\n    console.log('running raf sample');\n    this.startElement = document.getElementById('start');\n    this.stopElement = document.getElementById('stop');\n    this.frameRateElement = document.getElementById('frameRate');\n    this.frameRateUpdateElement = document.getElementById('update');\n    this.frameElement = document.getElementById('frame');\n    this.raf = new _raf.Raf((frame, lastUpdateTime) => {\n      // console.log('this is the raf loop running!');\n      this.frameElement.textContent = frame;\n    });\n    this.displayFrameRate();\n    this.startElement.addEventListener('click', () => {\n      this.raf.start();\n    });\n    this.stopElement.addEventListener('click', () => {\n      this.raf.stop();\n    });\n    this.frameRateUpdateElement.addEventListener('click', () => {\n      this.raf.setFps(this.frameRateElement.value);\n    });\n  }\n\n  displayFrameRate() {\n    this.frameRateElement.value = this.raf.fps;\n  }\n\n}\n\nexports.default = RafSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9yYWYuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9yYWYuanM/NTRhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yYWYgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWZcIik7XG5cbmNsYXNzIFJhZlNhbXBsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdydW5uaW5nIHJhZiBzYW1wbGUnKTtcbiAgICB0aGlzLnN0YXJ0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydCcpO1xuICAgIHRoaXMuc3RvcEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RvcCcpO1xuICAgIHRoaXMuZnJhbWVSYXRlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmcmFtZVJhdGUnKTtcbiAgICB0aGlzLmZyYW1lUmF0ZVVwZGF0ZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBkYXRlJyk7XG4gICAgdGhpcy5mcmFtZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnJhbWUnKTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZigoZnJhbWUsIGxhc3RVcGRhdGVUaW1lKSA9PiB7XG4gICAgICAvLyBjb25zb2xlLmxvZygndGhpcyBpcyB0aGUgcmFmIGxvb3AgcnVubmluZyEnKTtcbiAgICAgIHRoaXMuZnJhbWVFbGVtZW50LnRleHRDb250ZW50ID0gZnJhbWU7XG4gICAgfSk7XG4gICAgdGhpcy5kaXNwbGF5RnJhbWVSYXRlKCk7XG4gICAgdGhpcy5zdGFydEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnJhZi5zdGFydCgpO1xuICAgIH0pO1xuICAgIHRoaXMuc3RvcEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnJhZi5zdG9wKCk7XG4gICAgfSk7XG4gICAgdGhpcy5mcmFtZVJhdGVVcGRhdGVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5yYWYuc2V0RnBzKHRoaXMuZnJhbWVSYXRlRWxlbWVudC52YWx1ZSk7XG4gICAgfSk7XG4gIH1cblxuICBkaXNwbGF5RnJhbWVSYXRlKCkge1xuICAgIHRoaXMuZnJhbWVSYXRlRWxlbWVudC52YWx1ZSA9IHRoaXMucmFmLmZwcztcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJhZlNhbXBsZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/raf.js\n");

/***/ }),

/***/ "./examples/raf2.js":
/*!**************************!*\
  !*** ./examples/raf2.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _elementVisibility = __webpack_require__(/*! ../lib/dom/element-visibility */ \"./lib/dom/element-visibility.js\");\n\n/**\n * This is a sample of running raf with conditional.\n */\nclass RafSample2 {\n  constructor() {\n    console.log('running raf sample2'); // Create one raf loop that run the screen size is less than 1000px\n\n    this.mobileRaf = new _raf.Raf(() => {\n      console.log('running mobile raf');\n    });\n    this.mobileRaf.runWhen(() => {\n      return window.innerWidth < 1000;\n    });\n    this.mobileRaf.start(); // Runs when the titleElement is in view.\n\n    let ev = _elementVisibility.elementVisibility.inview(document.getElementById('title'));\n\n    ev.readyPromise.then(() => {\n      console.log('ev is ready');\n    });\n    this.titleRaf = new _raf.Raf(() => {\n      console.log('element is in view.');\n    });\n    this.titleRaf.runWhen(() => {\n      return ev.state().inview;\n    });\n    this.titleRaf.start();\n  }\n\n}\n\nexports.default = RafSample2;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9yYWYyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvcmFmMi5qcz9kNTU1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JhZiA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZlwiKTtcblxudmFyIF9lbGVtZW50VmlzaWJpbGl0eSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2VsZW1lbnQtdmlzaWJpbGl0eVwiKTtcblxuLyoqXG4gKiBUaGlzIGlzIGEgc2FtcGxlIG9mIHJ1bm5pbmcgcmFmIHdpdGggY29uZGl0aW9uYWwuXG4gKi9cbmNsYXNzIFJhZlNhbXBsZTIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygncnVubmluZyByYWYgc2FtcGxlMicpOyAvLyBDcmVhdGUgb25lIHJhZiBsb29wIHRoYXQgcnVuIHRoZSBzY3JlZW4gc2l6ZSBpcyBsZXNzIHRoYW4gMTAwMHB4XG5cbiAgICB0aGlzLm1vYmlsZVJhZiA9IG5ldyBfcmFmLlJhZigoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygncnVubmluZyBtb2JpbGUgcmFmJyk7XG4gICAgfSk7XG4gICAgdGhpcy5tb2JpbGVSYWYucnVuV2hlbigoKSA9PiB7XG4gICAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGggPCAxMDAwO1xuICAgIH0pO1xuICAgIHRoaXMubW9iaWxlUmFmLnN0YXJ0KCk7IC8vIFJ1bnMgd2hlbiB0aGUgdGl0bGVFbGVtZW50IGlzIGluIHZpZXcuXG5cbiAgICBsZXQgZXYgPSBfZWxlbWVudFZpc2liaWxpdHkuZWxlbWVudFZpc2liaWxpdHkuaW52aWV3KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpKTtcblxuICAgIGV2LnJlYWR5UHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdldiBpcyByZWFkeScpO1xuICAgIH0pO1xuICAgIHRoaXMudGl0bGVSYWYgPSBuZXcgX3JhZi5SYWYoKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ2VsZW1lbnQgaXMgaW4gdmlldy4nKTtcbiAgICB9KTtcbiAgICB0aGlzLnRpdGxlUmFmLnJ1bldoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIGV2LnN0YXRlKCkuaW52aWV3O1xuICAgIH0pO1xuICAgIHRoaXMudGl0bGVSYWYuc3RhcnQoKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJhZlNhbXBsZTI7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/raf2.js\n");

/***/ }),

/***/ "./examples/raycasting.js":
/*!********************************!*\
  !*** ./examples/raycasting.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _x = __webpack_require__(/*! ../lib/x/x */ \"./lib/x/x.js\");\n\nvar _xLine = __webpack_require__(/*! ../lib/x/x-line */ \"./lib/x/x-line.js\");\n\nvar _xRectangle = __webpack_require__(/*! ../lib/x/x-rectangle */ \"./lib/x/x-rectangle.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _raycast = __webpack_require__(/*! ../lib/mathf/raycast */ \"./lib/mathf/raycast.js\");\n\nvar _matrixIV = __webpack_require__(/*! ../lib/mathf/matrixIV */ \"./lib/mathf/matrixIV.js\");\n\nclass RayCastingSample {\n  constructor() {\n    console.log('raycasting');\n    this.imageTextures = {};\n    this.hitObjects = [];\n    this.rays = [];\n    this.startApp();\n  }\n\n  startApp() {\n    const canvasElement = document.getElementById('mainCanvas');\n    this.X = new _x.X({\n      canvasElement: canvasElement,\n      debugMode: true\n    });\n    this.lines = [];\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 800,\n      startY: 800,\n      endX: 0,\n      endY: 890\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 100,\n      startY: 100,\n      endX: 400,\n      endY: 0\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 400,\n      startY: 100,\n      endX: 200,\n      endY: 400\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 500,\n      startY: 600,\n      endX: 200,\n      endY: 600\n    }));\n    this.lines.forEach(line => {\n      this.X.stage.addChild(line);\n    });\n    this.line = new _xLine.XLine({\n      strokeStyle: 'green',\n      lineWidth: 1,\n      startX: 0,\n      startY: 0,\n      endX: 0,\n      endY: 0\n    });\n    this.X.stage.addChild(this.line); // Get the x-Engine pointer.\n\n    const pointer = this.X.getPointer(); // Start the angle of the origin at 0.\n\n    this.angle = 0;\n    this.X.onTick(() => {\n      // Remove all previous hit object.\n      this.hitObjects.forEach(object => {\n        this.X.stage.removeChild(object);\n      });\n      this.hitObjects = [];\n      this.rays.forEach(ray => {\n        this.X.stage.removeChild(ray);\n      });\n      this.rays = []; // Create a rotational matrix to rotate all the rays on each frame.\n\n      let rotationMatrix = new _matrixIV.MatrixIV().ypr(0, 0, this.angle);\n      this.angle += 0.01; // The origin will always be the mouse poition.\n\n      let origin = pointer.position; // Define the number of rays and the angles we want to generate.\n\n      let rayAngles = [0, 20, 40, 60, 80, 100, 120, 140, 160, 180, 200, 220, 240, 260, 280, 300, 320, 340]; // Create a directional vector from the angles we just defined.\n\n      let directionalVectors = rayAngles.map(angle => {\n        // This creates a basic directional vector.\n        const direction = _vector.Vector.fromAngle(_mathf.mathf.degreeToRadian(angle)); // Now multiply it with the rotationMatrix so that it kind of\n        // spins with an offset every frame.\n\n\n        return direction.transformWithMatrixIV(rotationMatrix);\n      }); // Draw out each ray so they can visually be seen.. All rays start from origin.\n\n      directionalVectors.forEach(direction => {\n        const ray = new _xLine.XLine({\n          strokeStyle: 'grey',\n          lineWidth: 1,\n          startX: origin.x,\n          startY: origin.y,\n          endX: _vector.Vector.add(pointer, direction).x,\n          endY: _vector.Vector.add(pointer, direction).y\n        });\n        this.X.stage.addChild(ray);\n        this.rays.push(ray);\n      }); // Loop through each line object to see if there is a collision.\n\n      this.lines.forEach(line => {\n        // For each ray test to see if there is a collision.\n        directionalVectors.forEach(direction => {\n          const raycast = _raycast.Raycast.cast2d(origin, direction, new _vector.Vector(line.startX, line.startY), new _vector.Vector(line.endX, line.endY));\n\n          if (raycast.hit) {\n            const hitRect = new _xRectangle.XRectangle({\n              fillStyle: 'green',\n              x: raycast.collision.x - 5,\n              y: raycast.collision.y - 5,\n              width: 10,\n              height: 10\n            });\n            this.X.stage.addChild(hitRect);\n            this.hitObjects.push(hitRect);\n          }\n        });\n      });\n    });\n    this.X.start();\n  }\n\n}\n\nexports.default = RayCastingSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9yYXljYXN0aW5nLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvcmF5Y2FzdGluZy5qcz83YzIyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3ggPSByZXF1aXJlKFwiLi4vbGliL3gveFwiKTtcblxudmFyIF94TGluZSA9IHJlcXVpcmUoXCIuLi9saWIveC94LWxpbmVcIik7XG5cbnZhciBfeFJlY3RhbmdsZSA9IHJlcXVpcmUoXCIuLi9saWIveC94LXJlY3RhbmdsZVwiKTtcblxudmFyIF92ZWN0b3IgPSByZXF1aXJlKFwiLi4vbGliL21hdGhmL3ZlY3RvclwiKTtcblxudmFyIF9tYXRoZiA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvbWF0aGZcIik7XG5cbnZhciBfcmF5Y2FzdCA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvcmF5Y2FzdFwiKTtcblxudmFyIF9tYXRyaXhJViA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvbWF0cml4SVZcIik7XG5cbmNsYXNzIFJheUNhc3RpbmdTYW1wbGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygncmF5Y2FzdGluZycpO1xuICAgIHRoaXMuaW1hZ2VUZXh0dXJlcyA9IHt9O1xuICAgIHRoaXMuaGl0T2JqZWN0cyA9IFtdO1xuICAgIHRoaXMucmF5cyA9IFtdO1xuICAgIHRoaXMuc3RhcnRBcHAoKTtcbiAgfVxuXG4gIHN0YXJ0QXBwKCkge1xuICAgIGNvbnN0IGNhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbkNhbnZhcycpO1xuICAgIHRoaXMuWCA9IG5ldyBfeC5YKHtcbiAgICAgIGNhbnZhc0VsZW1lbnQ6IGNhbnZhc0VsZW1lbnQsXG4gICAgICBkZWJ1Z01vZGU6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLmxpbmVzID0gW107XG4gICAgdGhpcy5saW5lcy5wdXNoKG5ldyBfeExpbmUuWExpbmUoe1xuICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgc3RhcnRYOiA4MDAsXG4gICAgICBzdGFydFk6IDgwMCxcbiAgICAgIGVuZFg6IDAsXG4gICAgICBlbmRZOiA4OTBcbiAgICB9KSk7XG4gICAgdGhpcy5saW5lcy5wdXNoKG5ldyBfeExpbmUuWExpbmUoe1xuICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgc3RhcnRYOiAxMDAsXG4gICAgICBzdGFydFk6IDEwMCxcbiAgICAgIGVuZFg6IDQwMCxcbiAgICAgIGVuZFk6IDBcbiAgICB9KSk7XG4gICAgdGhpcy5saW5lcy5wdXNoKG5ldyBfeExpbmUuWExpbmUoe1xuICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgc3RhcnRYOiA0MDAsXG4gICAgICBzdGFydFk6IDEwMCxcbiAgICAgIGVuZFg6IDIwMCxcbiAgICAgIGVuZFk6IDQwMFxuICAgIH0pKTtcbiAgICB0aGlzLmxpbmVzLnB1c2gobmV3IF94TGluZS5YTGluZSh7XG4gICAgICBsaW5lV2lkdGg6IDUsXG4gICAgICBzdGFydFg6IDUwMCxcbiAgICAgIHN0YXJ0WTogNjAwLFxuICAgICAgZW5kWDogMjAwLFxuICAgICAgZW5kWTogNjAwXG4gICAgfSkpO1xuICAgIHRoaXMubGluZXMuZm9yRWFjaChsaW5lID0+IHtcbiAgICAgIHRoaXMuWC5zdGFnZS5hZGRDaGlsZChsaW5lKTtcbiAgICB9KTtcbiAgICB0aGlzLmxpbmUgPSBuZXcgX3hMaW5lLlhMaW5lKHtcbiAgICAgIHN0cm9rZVN0eWxlOiAnZ3JlZW4nLFxuICAgICAgbGluZVdpZHRoOiAxLFxuICAgICAgc3RhcnRYOiAwLFxuICAgICAgc3RhcnRZOiAwLFxuICAgICAgZW5kWDogMCxcbiAgICAgIGVuZFk6IDBcbiAgICB9KTtcbiAgICB0aGlzLlguc3RhZ2UuYWRkQ2hpbGQodGhpcy5saW5lKTsgLy8gR2V0IHRoZSB4LUVuZ2luZSBwb2ludGVyLlxuXG4gICAgY29uc3QgcG9pbnRlciA9IHRoaXMuWC5nZXRQb2ludGVyKCk7IC8vIFN0YXJ0IHRoZSBhbmdsZSBvZiB0aGUgb3JpZ2luIGF0IDAuXG5cbiAgICB0aGlzLmFuZ2xlID0gMDtcbiAgICB0aGlzLlgub25UaWNrKCgpID0+IHtcbiAgICAgIC8vIFJlbW92ZSBhbGwgcHJldmlvdXMgaGl0IG9iamVjdC5cbiAgICAgIHRoaXMuaGl0T2JqZWN0cy5mb3JFYWNoKG9iamVjdCA9PiB7XG4gICAgICAgIHRoaXMuWC5zdGFnZS5yZW1vdmVDaGlsZChvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmhpdE9iamVjdHMgPSBbXTtcbiAgICAgIHRoaXMucmF5cy5mb3JFYWNoKHJheSA9PiB7XG4gICAgICAgIHRoaXMuWC5zdGFnZS5yZW1vdmVDaGlsZChyYXkpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnJheXMgPSBbXTsgLy8gQ3JlYXRlIGEgcm90YXRpb25hbCBtYXRyaXggdG8gcm90YXRlIGFsbCB0aGUgcmF5cyBvbiBlYWNoIGZyYW1lLlxuXG4gICAgICBsZXQgcm90YXRpb25NYXRyaXggPSBuZXcgX21hdHJpeElWLk1hdHJpeElWKCkueXByKDAsIDAsIHRoaXMuYW5nbGUpO1xuICAgICAgdGhpcy5hbmdsZSArPSAwLjAxOyAvLyBUaGUgb3JpZ2luIHdpbGwgYWx3YXlzIGJlIHRoZSBtb3VzZSBwb2l0aW9uLlxuXG4gICAgICBsZXQgb3JpZ2luID0gcG9pbnRlci5wb3NpdGlvbjsgLy8gRGVmaW5lIHRoZSBudW1iZXIgb2YgcmF5cyBhbmQgdGhlIGFuZ2xlcyB3ZSB3YW50IHRvIGdlbmVyYXRlLlxuXG4gICAgICBsZXQgcmF5QW5nbGVzID0gWzAsIDIwLCA0MCwgNjAsIDgwLCAxMDAsIDEyMCwgMTQwLCAxNjAsIDE4MCwgMjAwLCAyMjAsIDI0MCwgMjYwLCAyODAsIDMwMCwgMzIwLCAzNDBdOyAvLyBDcmVhdGUgYSBkaXJlY3Rpb25hbCB2ZWN0b3IgZnJvbSB0aGUgYW5nbGVzIHdlIGp1c3QgZGVmaW5lZC5cblxuICAgICAgbGV0IGRpcmVjdGlvbmFsVmVjdG9ycyA9IHJheUFuZ2xlcy5tYXAoYW5nbGUgPT4ge1xuICAgICAgICAvLyBUaGlzIGNyZWF0ZXMgYSBiYXNpYyBkaXJlY3Rpb25hbCB2ZWN0b3IuXG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IF92ZWN0b3IuVmVjdG9yLmZyb21BbmdsZShfbWF0aGYubWF0aGYuZGVncmVlVG9SYWRpYW4oYW5nbGUpKTsgLy8gTm93IG11bHRpcGx5IGl0IHdpdGggdGhlIHJvdGF0aW9uTWF0cml4IHNvIHRoYXQgaXQga2luZCBvZlxuICAgICAgICAvLyBzcGlucyB3aXRoIGFuIG9mZnNldCBldmVyeSBmcmFtZS5cblxuXG4gICAgICAgIHJldHVybiBkaXJlY3Rpb24udHJhbnNmb3JtV2l0aE1hdHJpeElWKHJvdGF0aW9uTWF0cml4KTtcbiAgICAgIH0pOyAvLyBEcmF3IG91dCBlYWNoIHJheSBzbyB0aGV5IGNhbiB2aXN1YWxseSBiZSBzZWVuLi4gQWxsIHJheXMgc3RhcnQgZnJvbSBvcmlnaW4uXG5cbiAgICAgIGRpcmVjdGlvbmFsVmVjdG9ycy5mb3JFYWNoKGRpcmVjdGlvbiA9PiB7XG4gICAgICAgIGNvbnN0IHJheSA9IG5ldyBfeExpbmUuWExpbmUoe1xuICAgICAgICAgIHN0cm9rZVN0eWxlOiAnZ3JleScsXG4gICAgICAgICAgbGluZVdpZHRoOiAxLFxuICAgICAgICAgIHN0YXJ0WDogb3JpZ2luLngsXG4gICAgICAgICAgc3RhcnRZOiBvcmlnaW4ueSxcbiAgICAgICAgICBlbmRYOiBfdmVjdG9yLlZlY3Rvci5hZGQocG9pbnRlciwgZGlyZWN0aW9uKS54LFxuICAgICAgICAgIGVuZFk6IF92ZWN0b3IuVmVjdG9yLmFkZChwb2ludGVyLCBkaXJlY3Rpb24pLnlcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuWC5zdGFnZS5hZGRDaGlsZChyYXkpO1xuICAgICAgICB0aGlzLnJheXMucHVzaChyYXkpO1xuICAgICAgfSk7IC8vIExvb3AgdGhyb3VnaCBlYWNoIGxpbmUgb2JqZWN0IHRvIHNlZSBpZiB0aGVyZSBpcyBhIGNvbGxpc2lvbi5cblxuICAgICAgdGhpcy5saW5lcy5mb3JFYWNoKGxpbmUgPT4ge1xuICAgICAgICAvLyBGb3IgZWFjaCByYXkgdGVzdCB0byBzZWUgaWYgdGhlcmUgaXMgYSBjb2xsaXNpb24uXG4gICAgICAgIGRpcmVjdGlvbmFsVmVjdG9ycy5mb3JFYWNoKGRpcmVjdGlvbiA9PiB7XG4gICAgICAgICAgY29uc3QgcmF5Y2FzdCA9IF9yYXljYXN0LlJheWNhc3QuY2FzdDJkKG9yaWdpbiwgZGlyZWN0aW9uLCBuZXcgX3ZlY3Rvci5WZWN0b3IobGluZS5zdGFydFgsIGxpbmUuc3RhcnRZKSwgbmV3IF92ZWN0b3IuVmVjdG9yKGxpbmUuZW5kWCwgbGluZS5lbmRZKSk7XG5cbiAgICAgICAgICBpZiAocmF5Y2FzdC5oaXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGhpdFJlY3QgPSBuZXcgX3hSZWN0YW5nbGUuWFJlY3RhbmdsZSh7XG4gICAgICAgICAgICAgIGZpbGxTdHlsZTogJ2dyZWVuJyxcbiAgICAgICAgICAgICAgeDogcmF5Y2FzdC5jb2xsaXNpb24ueCAtIDUsXG4gICAgICAgICAgICAgIHk6IHJheWNhc3QuY29sbGlzaW9uLnkgLSA1LFxuICAgICAgICAgICAgICB3aWR0aDogMTAsXG4gICAgICAgICAgICAgIGhlaWdodDogMTBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5YLnN0YWdlLmFkZENoaWxkKGhpdFJlY3QpO1xuICAgICAgICAgICAgdGhpcy5oaXRPYmplY3RzLnB1c2goaGl0UmVjdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMuWC5zdGFydCgpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gUmF5Q2FzdGluZ1NhbXBsZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/raycasting.js\n");

/***/ }),

/***/ "./examples/raycasting2.js":
/*!*********************************!*\
  !*** ./examples/raycasting2.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _x = __webpack_require__(/*! ../lib/x/x */ \"./lib/x/x.js\");\n\nvar _xLine = __webpack_require__(/*! ../lib/x/x-line */ \"./lib/x/x-line.js\");\n\nvar _xRectangle = __webpack_require__(/*! ../lib/x/x-rectangle */ \"./lib/x/x-rectangle.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _raycast = __webpack_require__(/*! ../lib/mathf/raycast */ \"./lib/mathf/raycast.js\");\n\nclass RayCasting2Sample {\n  constructor() {\n    console.log('raycasting2 sample');\n    this.imageTextures = {};\n    this.hitObjects = [];\n    this.rays = [];\n    this.startApp();\n  }\n\n  startApp() {\n    const canvasElement = document.getElementById('mainCanvas');\n    this.X = new _x.X({\n      canvasElement: canvasElement,\n      debugMode: true\n    });\n    this.X.setStageColor('black');\n    this.lines = [];\n\n    for (let i = 0; i < 6; i += 1) {\n      this.lines.push(new _xLine.XLine({\n        lineWidth: 5,\n        startX: _mathf.mathf.getRandomInt(0, 1000),\n        startY: _mathf.mathf.getRandomInt(0, 1000),\n        endX: _mathf.mathf.getRandomInt(0, 1000),\n        endY: _mathf.mathf.getRandomInt(0, 1000)\n      }));\n    }\n\n    const w = window.innerWidth;\n    const h = window.innerHeight; // Create borders.\n\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 0,\n      startY: 0,\n      endX: w,\n      endY: 0\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: w,\n      startY: 0,\n      endX: w,\n      endY: h\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: w,\n      startY: h,\n      endX: 0,\n      endY: h\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 0,\n      startY: h,\n      endX: 0,\n      endY: 0\n    }));\n    this.lines.forEach(line => {\n      this.X.stage.addChild(line);\n    });\n    this.line = new _xLine.XLine({\n      strokeStyle: 'green',\n      lineWidth: 1,\n      startX: 0,\n      startY: 0,\n      endX: 0,\n      endY: 0\n    });\n    this.X.stage.addChild(this.line); // Get the x-Engine pointer.\n\n    const pointer = this.X.getPointer(); // Start the angle of the origin at 0.\n\n    this.angle = 0;\n    this.X.onTick(() => {\n      // Remove all previous hit object.\n      this.hitObjects.forEach(object => {\n        this.X.stage.removeChild(object);\n      });\n      this.hitObjects = [];\n      this.rays.forEach(ray => {\n        this.X.stage.removeChild(ray);\n      });\n      this.rays = []; // The origin will always be the mouse poition.\n\n      let origin = pointer.position; // Define the number of rays and the angles we want to generate.\n\n      let rayAngles = [];\n\n      for (let i = 0; i < 360; i += 1) {\n        rayAngles.push(i);\n      }\n\n      let hitRaycasts = []; // Loop through each line object to see if there is a collision.\n\n      this.lines.forEach(line => {\n        // For each ray test to see if there is a collision.\n        rayAngles.forEach(angle => {\n          const raycast = _raycast.Raycast.castInfinite2dRay(origin, _mathf.mathf.degreeToRadian(angle), new _vector.Vector(line.startX, line.startY), new _vector.Vector(line.endX, line.endY)); // If the current raycast is hitting.\n\n\n          if (raycast.hit) {\n            hitRaycasts.push(raycast); // Now previously, there might have been other rays\n            // of the same angle.\n            //  In this case, we want the ray\n            // that is of the shortest distance over the longer one.\n            // This creates a visual effect, where a ray appears\n            // to not be able to penetrate walls - merely because\n            // we are filtered out duplicate angle rays that penetrate\n            // walls.\n\n            let shortestCast = raycast;\n            hitRaycasts.forEach(ray => {\n              if (ray.angle == shortestCast.angle) {\n                if (ray == shortestCast) {\n                  return;\n                } else if (ray.distance >= shortestCast.distance) {\n                  hitRaycasts.splice(hitRaycasts.indexOf(ray), 1);\n                } else {\n                  hitRaycasts.splice(hitRaycasts.indexOf(shortestCast), 1);\n                  shortestCast = ray;\n                }\n              }\n            });\n          }\n        });\n      }); // For each raycast, we are going to render it out.\n\n      hitRaycasts.forEach(raycast => {\n        // Add a square for intersection point.\n        const hitRect = new _xRectangle.XRectangle({\n          fillStyle: '#4f0a10',\n          x: raycast.collision.x - 1,\n          y: raycast.collision.y - 1,\n          width: 2,\n          height: 2\n        });\n        this.X.stage.addChild(hitRect);\n        this.hitObjects.push(hitRect); // const endGradientVector = Vector.fromAngle(raycast.angle, 100);\n        // let end = Vector.add(origin, endGradientVector);\n        // const useEnd = end.magnitude() < raycast.distance;\n        // end = useEnd ? end : raycast.collision;\n\n        const ray = new _xLine.XLine({\n          radialGradient: {\n            x0: origin.x,\n            y0: origin.y,\n            r0: 100,\n            x1: raycast.collision.x,\n            y1: raycast.collision.y,\n            r1: 1000\n          },\n          gradientStops: [{\n            stop: 0,\n            color: 'white'\n          }, {\n            stop: 1,\n            color: '#010101'\n          }],\n          lineWidth: 3,\n          startX: origin.x,\n          startY: origin.y,\n          endX: raycast.collision.x,\n          endY: raycast.collision.y\n        });\n        this.X.stage.addChild(ray);\n        this.rays.push(ray);\n      });\n    });\n    this.X.start();\n  }\n\n}\n\nexports.default = RayCasting2Sample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9yYXljYXN0aW5nMi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3JheWNhc3RpbmcyLmpzPzQ1YWMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfeCA9IHJlcXVpcmUoXCIuLi9saWIveC94XCIpO1xuXG52YXIgX3hMaW5lID0gcmVxdWlyZShcIi4uL2xpYi94L3gtbGluZVwiKTtcblxudmFyIF94UmVjdGFuZ2xlID0gcmVxdWlyZShcIi4uL2xpYi94L3gtcmVjdGFuZ2xlXCIpO1xuXG52YXIgX3ZlY3RvciA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvdmVjdG9yXCIpO1xuXG52YXIgX21hdGhmID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi9tYXRoZlwiKTtcblxudmFyIF9yYXljYXN0ID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi9yYXljYXN0XCIpO1xuXG5jbGFzcyBSYXlDYXN0aW5nMlNhbXBsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdyYXljYXN0aW5nMiBzYW1wbGUnKTtcbiAgICB0aGlzLmltYWdlVGV4dHVyZXMgPSB7fTtcbiAgICB0aGlzLmhpdE9iamVjdHMgPSBbXTtcbiAgICB0aGlzLnJheXMgPSBbXTtcbiAgICB0aGlzLnN0YXJ0QXBwKCk7XG4gIH1cblxuICBzdGFydEFwcCgpIHtcbiAgICBjb25zdCBjYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW5DYW52YXMnKTtcbiAgICB0aGlzLlggPSBuZXcgX3guWCh7XG4gICAgICBjYW52YXNFbGVtZW50OiBjYW52YXNFbGVtZW50LFxuICAgICAgZGVidWdNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5YLnNldFN0YWdlQ29sb3IoJ2JsYWNrJyk7XG4gICAgdGhpcy5saW5lcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpICs9IDEpIHtcbiAgICAgIHRoaXMubGluZXMucHVzaChuZXcgX3hMaW5lLlhMaW5lKHtcbiAgICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgICBzdGFydFg6IF9tYXRoZi5tYXRoZi5nZXRSYW5kb21JbnQoMCwgMTAwMCksXG4gICAgICAgIHN0YXJ0WTogX21hdGhmLm1hdGhmLmdldFJhbmRvbUludCgwLCAxMDAwKSxcbiAgICAgICAgZW5kWDogX21hdGhmLm1hdGhmLmdldFJhbmRvbUludCgwLCAxMDAwKSxcbiAgICAgICAgZW5kWTogX21hdGhmLm1hdGhmLmdldFJhbmRvbUludCgwLCAxMDAwKVxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIGNvbnN0IHcgPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBjb25zdCBoID0gd2luZG93LmlubmVySGVpZ2h0OyAvLyBDcmVhdGUgYm9yZGVycy5cblxuICAgIHRoaXMubGluZXMucHVzaChuZXcgX3hMaW5lLlhMaW5lKHtcbiAgICAgIGxpbmVXaWR0aDogNSxcbiAgICAgIHN0YXJ0WDogMCxcbiAgICAgIHN0YXJ0WTogMCxcbiAgICAgIGVuZFg6IHcsXG4gICAgICBlbmRZOiAwXG4gICAgfSkpO1xuICAgIHRoaXMubGluZXMucHVzaChuZXcgX3hMaW5lLlhMaW5lKHtcbiAgICAgIGxpbmVXaWR0aDogNSxcbiAgICAgIHN0YXJ0WDogdyxcbiAgICAgIHN0YXJ0WTogMCxcbiAgICAgIGVuZFg6IHcsXG4gICAgICBlbmRZOiBoXG4gICAgfSkpO1xuICAgIHRoaXMubGluZXMucHVzaChuZXcgX3hMaW5lLlhMaW5lKHtcbiAgICAgIGxpbmVXaWR0aDogNSxcbiAgICAgIHN0YXJ0WDogdyxcbiAgICAgIHN0YXJ0WTogaCxcbiAgICAgIGVuZFg6IDAsXG4gICAgICBlbmRZOiBoXG4gICAgfSkpO1xuICAgIHRoaXMubGluZXMucHVzaChuZXcgX3hMaW5lLlhMaW5lKHtcbiAgICAgIGxpbmVXaWR0aDogNSxcbiAgICAgIHN0YXJ0WDogMCxcbiAgICAgIHN0YXJ0WTogaCxcbiAgICAgIGVuZFg6IDAsXG4gICAgICBlbmRZOiAwXG4gICAgfSkpO1xuICAgIHRoaXMubGluZXMuZm9yRWFjaChsaW5lID0+IHtcbiAgICAgIHRoaXMuWC5zdGFnZS5hZGRDaGlsZChsaW5lKTtcbiAgICB9KTtcbiAgICB0aGlzLmxpbmUgPSBuZXcgX3hMaW5lLlhMaW5lKHtcbiAgICAgIHN0cm9rZVN0eWxlOiAnZ3JlZW4nLFxuICAgICAgbGluZVdpZHRoOiAxLFxuICAgICAgc3RhcnRYOiAwLFxuICAgICAgc3RhcnRZOiAwLFxuICAgICAgZW5kWDogMCxcbiAgICAgIGVuZFk6IDBcbiAgICB9KTtcbiAgICB0aGlzLlguc3RhZ2UuYWRkQ2hpbGQodGhpcy5saW5lKTsgLy8gR2V0IHRoZSB4LUVuZ2luZSBwb2ludGVyLlxuXG4gICAgY29uc3QgcG9pbnRlciA9IHRoaXMuWC5nZXRQb2ludGVyKCk7IC8vIFN0YXJ0IHRoZSBhbmdsZSBvZiB0aGUgb3JpZ2luIGF0IDAuXG5cbiAgICB0aGlzLmFuZ2xlID0gMDtcbiAgICB0aGlzLlgub25UaWNrKCgpID0+IHtcbiAgICAgIC8vIFJlbW92ZSBhbGwgcHJldmlvdXMgaGl0IG9iamVjdC5cbiAgICAgIHRoaXMuaGl0T2JqZWN0cy5mb3JFYWNoKG9iamVjdCA9PiB7XG4gICAgICAgIHRoaXMuWC5zdGFnZS5yZW1vdmVDaGlsZChvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmhpdE9iamVjdHMgPSBbXTtcbiAgICAgIHRoaXMucmF5cy5mb3JFYWNoKHJheSA9PiB7XG4gICAgICAgIHRoaXMuWC5zdGFnZS5yZW1vdmVDaGlsZChyYXkpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnJheXMgPSBbXTsgLy8gVGhlIG9yaWdpbiB3aWxsIGFsd2F5cyBiZSB0aGUgbW91c2UgcG9pdGlvbi5cblxuICAgICAgbGV0IG9yaWdpbiA9IHBvaW50ZXIucG9zaXRpb247IC8vIERlZmluZSB0aGUgbnVtYmVyIG9mIHJheXMgYW5kIHRoZSBhbmdsZXMgd2Ugd2FudCB0byBnZW5lcmF0ZS5cblxuICAgICAgbGV0IHJheUFuZ2xlcyA9IFtdO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM2MDsgaSArPSAxKSB7XG4gICAgICAgIHJheUFuZ2xlcy5wdXNoKGkpO1xuICAgICAgfVxuXG4gICAgICBsZXQgaGl0UmF5Y2FzdHMgPSBbXTsgLy8gTG9vcCB0aHJvdWdoIGVhY2ggbGluZSBvYmplY3QgdG8gc2VlIGlmIHRoZXJlIGlzIGEgY29sbGlzaW9uLlxuXG4gICAgICB0aGlzLmxpbmVzLmZvckVhY2gobGluZSA9PiB7XG4gICAgICAgIC8vIEZvciBlYWNoIHJheSB0ZXN0IHRvIHNlZSBpZiB0aGVyZSBpcyBhIGNvbGxpc2lvbi5cbiAgICAgICAgcmF5QW5nbGVzLmZvckVhY2goYW5nbGUgPT4ge1xuICAgICAgICAgIGNvbnN0IHJheWNhc3QgPSBfcmF5Y2FzdC5SYXljYXN0LmNhc3RJbmZpbml0ZTJkUmF5KG9yaWdpbiwgX21hdGhmLm1hdGhmLmRlZ3JlZVRvUmFkaWFuKGFuZ2xlKSwgbmV3IF92ZWN0b3IuVmVjdG9yKGxpbmUuc3RhcnRYLCBsaW5lLnN0YXJ0WSksIG5ldyBfdmVjdG9yLlZlY3RvcihsaW5lLmVuZFgsIGxpbmUuZW5kWSkpOyAvLyBJZiB0aGUgY3VycmVudCByYXljYXN0IGlzIGhpdHRpbmcuXG5cblxuICAgICAgICAgIGlmIChyYXljYXN0LmhpdCkge1xuICAgICAgICAgICAgaGl0UmF5Y2FzdHMucHVzaChyYXljYXN0KTsgLy8gTm93IHByZXZpb3VzbHksIHRoZXJlIG1pZ2h0IGhhdmUgYmVlbiBvdGhlciByYXlzXG4gICAgICAgICAgICAvLyBvZiB0aGUgc2FtZSBhbmdsZS5cbiAgICAgICAgICAgIC8vICBJbiB0aGlzIGNhc2UsIHdlIHdhbnQgdGhlIHJheVxuICAgICAgICAgICAgLy8gdGhhdCBpcyBvZiB0aGUgc2hvcnRlc3QgZGlzdGFuY2Ugb3ZlciB0aGUgbG9uZ2VyIG9uZS5cbiAgICAgICAgICAgIC8vIFRoaXMgY3JlYXRlcyBhIHZpc3VhbCBlZmZlY3QsIHdoZXJlIGEgcmF5IGFwcGVhcnNcbiAgICAgICAgICAgIC8vIHRvIG5vdCBiZSBhYmxlIHRvIHBlbmV0cmF0ZSB3YWxscyAtIG1lcmVseSBiZWNhdXNlXG4gICAgICAgICAgICAvLyB3ZSBhcmUgZmlsdGVyZWQgb3V0IGR1cGxpY2F0ZSBhbmdsZSByYXlzIHRoYXQgcGVuZXRyYXRlXG4gICAgICAgICAgICAvLyB3YWxscy5cblxuICAgICAgICAgICAgbGV0IHNob3J0ZXN0Q2FzdCA9IHJheWNhc3Q7XG4gICAgICAgICAgICBoaXRSYXljYXN0cy5mb3JFYWNoKHJheSA9PiB7XG4gICAgICAgICAgICAgIGlmIChyYXkuYW5nbGUgPT0gc2hvcnRlc3RDYXN0LmFuZ2xlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJheSA9PSBzaG9ydGVzdENhc3QpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJheS5kaXN0YW5jZSA+PSBzaG9ydGVzdENhc3QuZGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgIGhpdFJheWNhc3RzLnNwbGljZShoaXRSYXljYXN0cy5pbmRleE9mKHJheSksIDEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBoaXRSYXljYXN0cy5zcGxpY2UoaGl0UmF5Y2FzdHMuaW5kZXhPZihzaG9ydGVzdENhc3QpLCAxKTtcbiAgICAgICAgICAgICAgICAgIHNob3J0ZXN0Q2FzdCA9IHJheTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTsgLy8gRm9yIGVhY2ggcmF5Y2FzdCwgd2UgYXJlIGdvaW5nIHRvIHJlbmRlciBpdCBvdXQuXG5cbiAgICAgIGhpdFJheWNhc3RzLmZvckVhY2gocmF5Y2FzdCA9PiB7XG4gICAgICAgIC8vIEFkZCBhIHNxdWFyZSBmb3IgaW50ZXJzZWN0aW9uIHBvaW50LlxuICAgICAgICBjb25zdCBoaXRSZWN0ID0gbmV3IF94UmVjdGFuZ2xlLlhSZWN0YW5nbGUoe1xuICAgICAgICAgIGZpbGxTdHlsZTogJyM0ZjBhMTAnLFxuICAgICAgICAgIHg6IHJheWNhc3QuY29sbGlzaW9uLnggLSAxLFxuICAgICAgICAgIHk6IHJheWNhc3QuY29sbGlzaW9uLnkgLSAxLFxuICAgICAgICAgIHdpZHRoOiAyLFxuICAgICAgICAgIGhlaWdodDogMlxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5YLnN0YWdlLmFkZENoaWxkKGhpdFJlY3QpO1xuICAgICAgICB0aGlzLmhpdE9iamVjdHMucHVzaChoaXRSZWN0KTsgLy8gY29uc3QgZW5kR3JhZGllbnRWZWN0b3IgPSBWZWN0b3IuZnJvbUFuZ2xlKHJheWNhc3QuYW5nbGUsIDEwMCk7XG4gICAgICAgIC8vIGxldCBlbmQgPSBWZWN0b3IuYWRkKG9yaWdpbiwgZW5kR3JhZGllbnRWZWN0b3IpO1xuICAgICAgICAvLyBjb25zdCB1c2VFbmQgPSBlbmQubWFnbml0dWRlKCkgPCByYXljYXN0LmRpc3RhbmNlO1xuICAgICAgICAvLyBlbmQgPSB1c2VFbmQgPyBlbmQgOiByYXljYXN0LmNvbGxpc2lvbjtcblxuICAgICAgICBjb25zdCByYXkgPSBuZXcgX3hMaW5lLlhMaW5lKHtcbiAgICAgICAgICByYWRpYWxHcmFkaWVudDoge1xuICAgICAgICAgICAgeDA6IG9yaWdpbi54LFxuICAgICAgICAgICAgeTA6IG9yaWdpbi55LFxuICAgICAgICAgICAgcjA6IDEwMCxcbiAgICAgICAgICAgIHgxOiByYXljYXN0LmNvbGxpc2lvbi54LFxuICAgICAgICAgICAgeTE6IHJheWNhc3QuY29sbGlzaW9uLnksXG4gICAgICAgICAgICByMTogMTAwMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZ3JhZGllbnRTdG9wczogW3tcbiAgICAgICAgICAgIHN0b3A6IDAsXG4gICAgICAgICAgICBjb2xvcjogJ3doaXRlJ1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIHN0b3A6IDEsXG4gICAgICAgICAgICBjb2xvcjogJyMwMTAxMDEnXG4gICAgICAgICAgfV0sXG4gICAgICAgICAgbGluZVdpZHRoOiAzLFxuICAgICAgICAgIHN0YXJ0WDogb3JpZ2luLngsXG4gICAgICAgICAgc3RhcnRZOiBvcmlnaW4ueSxcbiAgICAgICAgICBlbmRYOiByYXljYXN0LmNvbGxpc2lvbi54LFxuICAgICAgICAgIGVuZFk6IHJheWNhc3QuY29sbGlzaW9uLnlcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuWC5zdGFnZS5hZGRDaGlsZChyYXkpO1xuICAgICAgICB0aGlzLnJheXMucHVzaChyYXkpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5YLnN0YXJ0KCk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBSYXlDYXN0aW5nMlNhbXBsZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/raycasting2.js\n");

/***/ }),

/***/ "./examples/raycasting3.js":
/*!*********************************!*\
  !*** ./examples/raycasting3.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _x = __webpack_require__(/*! ../lib/x/x */ \"./lib/x/x.js\");\n\nvar _xLine = __webpack_require__(/*! ../lib/x/x-line */ \"./lib/x/x-line.js\");\n\nvar _xRectangle = __webpack_require__(/*! ../lib/x/x-rectangle */ \"./lib/x/x-rectangle.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _raycast = __webpack_require__(/*! ../lib/mathf/raycast */ \"./lib/mathf/raycast.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\n/**\n * This is a quick demo of using raycasting to project 3d.\n */\nclass RayCasting3Sample {\n  constructor() {\n    console.log('raycasting3 sample');\n    this.rays = [];\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.forwardKey = false;\n    this.leftKey = false;\n    this.rightKey = false;\n    this.downKey = false;\n    this.domWatcher.add({\n      element: document,\n      on: 'keydown',\n      callback: event => {\n        // up arrow\n        if (event.keyCode == 38) {\n          this.forwardKey = true;\n        } // right arrow\n\n\n        if (event.keyCode == 39) {\n          this.rightKey = true;\n        } // left arrow\n\n\n        if (event.keyCode == 37) {\n          this.leftKey = true;\n        } // Down arrow\n\n\n        if (event.keyCode == 40) {\n          this.backKey = true;\n        }\n      }\n    });\n    this.domWatcher.add({\n      element: document,\n      on: 'keyup',\n      callback: event => {\n        if (event.keyCode == 38) {\n          this.forwardKey = false;\n        }\n\n        if (event.keyCode == 39) {\n          this.rightKey = false;\n        }\n\n        if (event.keyCode == 37) {\n          this.leftKey = false;\n        }\n\n        if (event.keyCode == 40) {\n          this.backKey = false;\n        }\n      }\n    });\n    this.projectionRays = []; // The field of view.\n\n    this.fov = 45;\n    this.rayPerAngle = 0.15;\n    this.startApp();\n  }\n\n  startApp() {\n    const canvasElement = document.getElementById('mainCanvas');\n    const canvas2Element = document.getElementById('projectionCanvas');\n    this.X = new _x.X({\n      canvasElement: canvasElement,\n      debugMode: true\n    });\n    this.projectionX = new _x.X({\n      canvasElement: canvas2Element,\n      debugMode: false\n    });\n    this.X.setStageColor('black');\n    this.projectionX.setStageColor('black'); // Create the player\n\n    this.player = new _xRectangle.XRectangle({\n      fillStyle: 'white',\n      x: window.innerWidth / 2 / 2 - 300,\n      y: window.innerHeight - 100,\n      width: 2,\n      heigth: 2\n    });\n    this.X.stage.addChild(this.player); // Create a bunch of lines in the world.\n\n    this.lines = []; // for (let i = 0; i < 2; i += 1) {\n    //     this.lines.push(new XLine({\n    //         lineWidth: 5,\n    //         startX: mathf.getRandomInt(0, 1000),\n    //         startY: mathf.getRandomInt(0, 1000),\n    //         endX: mathf.getRandomInt(0, 1000),\n    //         endY: mathf.getRandomInt(0, 1000),\n    //     }));\n    // }\n\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 50,\n      startY: 50,\n      endX: 200,\n      endY: 50\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 200,\n      startY: 50,\n      endX: 200,\n      endY: 200\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 200,\n      startY: 200,\n      endX: 50,\n      endY: 200\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 50,\n      startY: 200,\n      endX: 50,\n      endY: 50\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 300,\n      startY: 300,\n      endX: 500,\n      endY: 300\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 500,\n      startY: 300,\n      endX: 500,\n      endY: 500\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 500,\n      startY: 500,\n      endX: 300,\n      endY: 500\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 300,\n      startY: 500,\n      endX: 300,\n      endY: 300\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 650,\n      startY: 650,\n      endX: 800,\n      endY: 650\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 800,\n      startY: 650,\n      endX: 800,\n      endY: 800\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 800,\n      startY: 800,\n      endX: 650,\n      endY: 800\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 650,\n      startY: 800,\n      endX: 650,\n      endY: 650\n    }));\n    const w = window.innerWidth;\n    const h = window.innerHeight; // Create borders on the edge of the world.\n\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 0,\n      startY: 0,\n      endX: w / 2,\n      endY: 0\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: w / 2,\n      startY: 0,\n      endX: w / 2,\n      endY: h\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: w / 2,\n      startY: h,\n      endX: 0,\n      endY: h\n    }));\n    this.lines.push(new _xLine.XLine({\n      lineWidth: 5,\n      startX: 0,\n      startY: h,\n      endX: 0,\n      endY: 0\n    }));\n    this.lines.forEach(line => {\n      this.X.stage.addChild(line);\n    }); // Get the x-Engine pointer.\n\n    const pointer = this.X.getPointer(); // Start the angle of the origin at 0.\n\n    this.angle = 0; // Define the number of rays and the angles we want to generate.\n\n    let rayAngles = [];\n\n    for (let i = 0; i < this.fov; i += this.rayPerAngle) {\n      rayAngles.push(i);\n    }\n\n    this.X.onTick(() => {\n      this.rays.forEach(ray => {\n        this.X.stage.removeChild(ray);\n      });\n      this.rays = [];\n\n      if (this.leftKey) {\n        this.player.rotation -= 3;\n      }\n\n      if (this.rightKey) {\n        this.player.rotation += 3;\n      }\n\n      this.player.rotation = _mathf.mathf.wrap(this.player.rotation, 0, 360); // Origin should center from where the player stands.\n\n      let origin = this.player.position;\n      let rotation = this.player.rotation; // If the player is pressing some key we allow the player to move forward.\n\n      if (this.forwardKey) {\n        // Get the current rotation and add a forwardVector in that direction.\n        let forwardVector = _vector.Vector.fromAngle(_mathf.mathf.degreeToRadian(rotation, 1), 10);\n\n        origin.add(forwardVector);\n      }\n\n      if (this.backKey) {\n        // Get the forward Vector and negate it.\n        let forwardVector = _vector.Vector.fromAngle(_mathf.mathf.degreeToRadian(rotation, 1), 10);\n\n        origin.add(forwardVector.negate());\n      }\n\n      this.hitRaycasts = []; // Loop through each line object to see if there is a collision.\n\n      this.lines.forEach(line => {\n        // For each ray test to see if there is a collision.\n        rayAngles.forEach((angle, i) => {\n          // // Offset the angle so the field of view is centered.\n          angle -= this.fov / 2;\n\n          const raycast = _raycast.Raycast.castInfinite2dRay(origin, _mathf.mathf.degreeToRadian(angle + rotation), new _vector.Vector(line.startX, line.startY), new _vector.Vector(line.endX, line.endY)); // If the current raycast is hitting.\n\n\n          if (raycast.hit) {\n            raycast.originalAngle = angle;\n            raycast.order = i;\n            this.hitRaycasts.push(raycast); // Now previously, there might have been other rays\n            // of the same angle.\n            //  In this case, we want the ray\n            // that is of the shortest distance over the longer one.\n            // This creates a visual effect, where a ray appears\n            // to not be able to penetrate walls - merely because\n            // we are filtered out duplicate angle rays that penetrate\n            // walls.\n\n            let shortestCast = raycast;\n            this.hitRaycasts.forEach(ray => {\n              if (ray.angle == shortestCast.angle) {\n                if (ray == shortestCast) {\n                  return;\n                } else if (ray.distance >= shortestCast.distance) {\n                  this.hitRaycasts.splice(this.hitRaycasts.indexOf(ray), 1);\n                } else {\n                  this.hitRaycasts.splice(this.hitRaycasts.indexOf(shortestCast), 1);\n                  shortestCast = ray;\n                }\n              }\n            });\n          }\n        });\n      }); // For each raycast, we are going to render it out.\n\n      this.hitRaycasts.forEach(raycast => {\n        // const endGradientVector = Vector.fromAngle(raycast.angle, 100);\n        // let end = Vector.add(origin, endGradientVector);\n        // const useEnd = end.magnitude() < raycast.distance;\n        // end = useEnd ? end : raycast.collision;\n        const ray = new _xLine.XLine({\n          strokeStyle: 'white',\n          lineWidth: 3,\n          startX: origin.x,\n          startY: origin.y,\n          endX: raycast.collision.x,\n          endY: raycast.collision.y\n        });\n        this.X.stage.addChild(ray);\n        this.rays.push(ray);\n      }); // Sort the ray casts correctly.\n\n      this.hitRaycasts = this.hitRaycasts.sort((a, b) => {\n        return a.order - b.order;\n      });\n      this.projectionXUpdate(w, h);\n    });\n    this.X.start();\n  }\n\n  projectionXUpdate(w, h) {\n    this.projectionX.clear();\n    this.projectionRays.forEach(ray => {\n      this.projectionX.stage.removeChild(ray);\n    });\n    this.projectionRays = [];\n    let widthPerRay = w * 0.5 / (this.hitRaycasts.length - 1); // Create a rectangle for each ray.  The more distance, the more faded it\n    // should look.\n\n    let depth = 9;\n    let visionDistance = 3000;\n    this.hitRaycasts.forEach((ray, i) => {\n      let distance = ray.distance;\n      let scale = distance / visionDistance;\n      scale = 1 - _mathf.mathf.clamp01(scale); // Avoid fisheye so use square.\n\n      scale = Math.pow(scale, depth);\n      let height = Math.max(h * scale, 1);\n      let halfHeight = height / 2;\n      let centerV = h / 2;\n      const rect = new _xLine.XLine({\n        startX: i * widthPerRay + 1,\n        startY: centerV - halfHeight,\n        lineWidth: widthPerRay + 1,\n        strokeStyle: 'red',\n        endX: i * widthPerRay,\n        endY: centerV + halfHeight,\n        alpha: Math.max(0.1, scale)\n      });\n      const floor = new _xLine.XLine({\n        startX: i * widthPerRay + 1,\n        startY: centerV + halfHeight,\n        lineWidth: widthPerRay + 1,\n        radialGradient: {\n          x0: i * widthPerRay + 1,\n          y0: centerV + halfHeight,\n          r0: 100,\n          x1: i * widthPerRay + 1,\n          y1: h,\n          r1: 500\n        },\n        gradientStops: [{\n          stop: 0,\n          color: '#010101'\n        }, {\n          stop: 1,\n          color: 'white'\n        }],\n        endX: i * widthPerRay,\n        endY: h,\n        alpha: 1 // alpha: Math.max(0.1, scale)\n\n      }); // const text =\n      //     new XLine({\n      //         fillStyle: 'white',\n      //         x: i * widthPerRay + 1,\n      //         y: h,\n      //         text: ray.distance\n      //     });\n\n      this.projectionRays.push(rect);\n      this.projectionRays.push(floor); // this.projectionRays.push(text);\n\n      this.projectionX.stage.addChild(rect);\n      this.projectionX.stage.addChild(floor); // this.projectionX.stage.addChild(text);\n    }); // console.log(this.projectionRays[0]);\n\n    this.projectionX.gameLoop();\n  }\n\n}\n\nexports.default = RayCasting3Sample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9yYXljYXN0aW5nMy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3JheWNhc3RpbmczLmpzPzExNWIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfeCA9IHJlcXVpcmUoXCIuLi9saWIveC94XCIpO1xuXG52YXIgX3hMaW5lID0gcmVxdWlyZShcIi4uL2xpYi94L3gtbGluZVwiKTtcblxudmFyIF94UmVjdGFuZ2xlID0gcmVxdWlyZShcIi4uL2xpYi94L3gtcmVjdGFuZ2xlXCIpO1xuXG52YXIgX3ZlY3RvciA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvdmVjdG9yXCIpO1xuXG52YXIgX21hdGhmID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi9tYXRoZlwiKTtcblxudmFyIF9yYXljYXN0ID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi9yYXljYXN0XCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxuLyoqXG4gKiBUaGlzIGlzIGEgcXVpY2sgZGVtbyBvZiB1c2luZyByYXljYXN0aW5nIHRvIHByb2plY3QgM2QuXG4gKi9cbmNsYXNzIFJheUNhc3RpbmczU2FtcGxlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc29sZS5sb2coJ3JheWNhc3RpbmczIHNhbXBsZScpO1xuICAgIHRoaXMucmF5cyA9IFtdO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5mb3J3YXJkS2V5ID0gZmFsc2U7XG4gICAgdGhpcy5sZWZ0S2V5ID0gZmFsc2U7XG4gICAgdGhpcy5yaWdodEtleSA9IGZhbHNlO1xuICAgIHRoaXMuZG93bktleSA9IGZhbHNlO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogZG9jdW1lbnQsXG4gICAgICBvbjogJ2tleWRvd24nLFxuICAgICAgY2FsbGJhY2s6IGV2ZW50ID0+IHtcbiAgICAgICAgLy8gdXAgYXJyb3dcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMzgpIHtcbiAgICAgICAgICB0aGlzLmZvcndhcmRLZXkgPSB0cnVlO1xuICAgICAgICB9IC8vIHJpZ2h0IGFycm93XG5cblxuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAzOSkge1xuICAgICAgICAgIHRoaXMucmlnaHRLZXkgPSB0cnVlO1xuICAgICAgICB9IC8vIGxlZnQgYXJyb3dcblxuXG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDM3KSB7XG4gICAgICAgICAgdGhpcy5sZWZ0S2V5ID0gdHJ1ZTtcbiAgICAgICAgfSAvLyBEb3duIGFycm93XG5cblxuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSA0MCkge1xuICAgICAgICAgIHRoaXMuYmFja0tleSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LFxuICAgICAgb246ICdrZXl1cCcsXG4gICAgICBjYWxsYmFjazogZXZlbnQgPT4ge1xuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAzOCkge1xuICAgICAgICAgIHRoaXMuZm9yd2FyZEtleSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMzkpIHtcbiAgICAgICAgICB0aGlzLnJpZ2h0S2V5ID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAzNykge1xuICAgICAgICAgIHRoaXMubGVmdEtleSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gNDApIHtcbiAgICAgICAgICB0aGlzLmJhY2tLZXkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMucHJvamVjdGlvblJheXMgPSBbXTsgLy8gVGhlIGZpZWxkIG9mIHZpZXcuXG5cbiAgICB0aGlzLmZvdiA9IDQ1O1xuICAgIHRoaXMucmF5UGVyQW5nbGUgPSAwLjE1O1xuICAgIHRoaXMuc3RhcnRBcHAoKTtcbiAgfVxuXG4gIHN0YXJ0QXBwKCkge1xuICAgIGNvbnN0IGNhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbkNhbnZhcycpO1xuICAgIGNvbnN0IGNhbnZhczJFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3Rpb25DYW52YXMnKTtcbiAgICB0aGlzLlggPSBuZXcgX3guWCh7XG4gICAgICBjYW52YXNFbGVtZW50OiBjYW52YXNFbGVtZW50LFxuICAgICAgZGVidWdNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5wcm9qZWN0aW9uWCA9IG5ldyBfeC5YKHtcbiAgICAgIGNhbnZhc0VsZW1lbnQ6IGNhbnZhczJFbGVtZW50LFxuICAgICAgZGVidWdNb2RlOiBmYWxzZVxuICAgIH0pO1xuICAgIHRoaXMuWC5zZXRTdGFnZUNvbG9yKCdibGFjaycpO1xuICAgIHRoaXMucHJvamVjdGlvblguc2V0U3RhZ2VDb2xvcignYmxhY2snKTsgLy8gQ3JlYXRlIHRoZSBwbGF5ZXJcblxuICAgIHRoaXMucGxheWVyID0gbmV3IF94UmVjdGFuZ2xlLlhSZWN0YW5nbGUoe1xuICAgICAgZmlsbFN0eWxlOiAnd2hpdGUnLFxuICAgICAgeDogd2luZG93LmlubmVyV2lkdGggLyAyIC8gMiAtIDMwMCxcbiAgICAgIHk6IHdpbmRvdy5pbm5lckhlaWdodCAtIDEwMCxcbiAgICAgIHdpZHRoOiAyLFxuICAgICAgaGVpZ3RoOiAyXG4gICAgfSk7XG4gICAgdGhpcy5YLnN0YWdlLmFkZENoaWxkKHRoaXMucGxheWVyKTsgLy8gQ3JlYXRlIGEgYnVuY2ggb2YgbGluZXMgaW4gdGhlIHdvcmxkLlxuXG4gICAgdGhpcy5saW5lcyA9IFtdOyAvLyBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkgKz0gMSkge1xuICAgIC8vICAgICB0aGlzLmxpbmVzLnB1c2gobmV3IFhMaW5lKHtcbiAgICAvLyAgICAgICAgIGxpbmVXaWR0aDogNSxcbiAgICAvLyAgICAgICAgIHN0YXJ0WDogbWF0aGYuZ2V0UmFuZG9tSW50KDAsIDEwMDApLFxuICAgIC8vICAgICAgICAgc3RhcnRZOiBtYXRoZi5nZXRSYW5kb21JbnQoMCwgMTAwMCksXG4gICAgLy8gICAgICAgICBlbmRYOiBtYXRoZi5nZXRSYW5kb21JbnQoMCwgMTAwMCksXG4gICAgLy8gICAgICAgICBlbmRZOiBtYXRoZi5nZXRSYW5kb21JbnQoMCwgMTAwMCksXG4gICAgLy8gICAgIH0pKTtcbiAgICAvLyB9XG5cbiAgICB0aGlzLmxpbmVzLnB1c2gobmV3IF94TGluZS5YTGluZSh7XG4gICAgICBsaW5lV2lkdGg6IDUsXG4gICAgICBzdGFydFg6IDUwLFxuICAgICAgc3RhcnRZOiA1MCxcbiAgICAgIGVuZFg6IDIwMCxcbiAgICAgIGVuZFk6IDUwXG4gICAgfSkpO1xuICAgIHRoaXMubGluZXMucHVzaChuZXcgX3hMaW5lLlhMaW5lKHtcbiAgICAgIGxpbmVXaWR0aDogNSxcbiAgICAgIHN0YXJ0WDogMjAwLFxuICAgICAgc3RhcnRZOiA1MCxcbiAgICAgIGVuZFg6IDIwMCxcbiAgICAgIGVuZFk6IDIwMFxuICAgIH0pKTtcbiAgICB0aGlzLmxpbmVzLnB1c2gobmV3IF94TGluZS5YTGluZSh7XG4gICAgICBsaW5lV2lkdGg6IDUsXG4gICAgICBzdGFydFg6IDIwMCxcbiAgICAgIHN0YXJ0WTogMjAwLFxuICAgICAgZW5kWDogNTAsXG4gICAgICBlbmRZOiAyMDBcbiAgICB9KSk7XG4gICAgdGhpcy5saW5lcy5wdXNoKG5ldyBfeExpbmUuWExpbmUoe1xuICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgc3RhcnRYOiA1MCxcbiAgICAgIHN0YXJ0WTogMjAwLFxuICAgICAgZW5kWDogNTAsXG4gICAgICBlbmRZOiA1MFxuICAgIH0pKTtcbiAgICB0aGlzLmxpbmVzLnB1c2gobmV3IF94TGluZS5YTGluZSh7XG4gICAgICBsaW5lV2lkdGg6IDUsXG4gICAgICBzdGFydFg6IDMwMCxcbiAgICAgIHN0YXJ0WTogMzAwLFxuICAgICAgZW5kWDogNTAwLFxuICAgICAgZW5kWTogMzAwXG4gICAgfSkpO1xuICAgIHRoaXMubGluZXMucHVzaChuZXcgX3hMaW5lLlhMaW5lKHtcbiAgICAgIGxpbmVXaWR0aDogNSxcbiAgICAgIHN0YXJ0WDogNTAwLFxuICAgICAgc3RhcnRZOiAzMDAsXG4gICAgICBlbmRYOiA1MDAsXG4gICAgICBlbmRZOiA1MDBcbiAgICB9KSk7XG4gICAgdGhpcy5saW5lcy5wdXNoKG5ldyBfeExpbmUuWExpbmUoe1xuICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgc3RhcnRYOiA1MDAsXG4gICAgICBzdGFydFk6IDUwMCxcbiAgICAgIGVuZFg6IDMwMCxcbiAgICAgIGVuZFk6IDUwMFxuICAgIH0pKTtcbiAgICB0aGlzLmxpbmVzLnB1c2gobmV3IF94TGluZS5YTGluZSh7XG4gICAgICBsaW5lV2lkdGg6IDUsXG4gICAgICBzdGFydFg6IDMwMCxcbiAgICAgIHN0YXJ0WTogNTAwLFxuICAgICAgZW5kWDogMzAwLFxuICAgICAgZW5kWTogMzAwXG4gICAgfSkpO1xuICAgIHRoaXMubGluZXMucHVzaChuZXcgX3hMaW5lLlhMaW5lKHtcbiAgICAgIGxpbmVXaWR0aDogNSxcbiAgICAgIHN0YXJ0WDogNjUwLFxuICAgICAgc3RhcnRZOiA2NTAsXG4gICAgICBlbmRYOiA4MDAsXG4gICAgICBlbmRZOiA2NTBcbiAgICB9KSk7XG4gICAgdGhpcy5saW5lcy5wdXNoKG5ldyBfeExpbmUuWExpbmUoe1xuICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgc3RhcnRYOiA4MDAsXG4gICAgICBzdGFydFk6IDY1MCxcbiAgICAgIGVuZFg6IDgwMCxcbiAgICAgIGVuZFk6IDgwMFxuICAgIH0pKTtcbiAgICB0aGlzLmxpbmVzLnB1c2gobmV3IF94TGluZS5YTGluZSh7XG4gICAgICBsaW5lV2lkdGg6IDUsXG4gICAgICBzdGFydFg6IDgwMCxcbiAgICAgIHN0YXJ0WTogODAwLFxuICAgICAgZW5kWDogNjUwLFxuICAgICAgZW5kWTogODAwXG4gICAgfSkpO1xuICAgIHRoaXMubGluZXMucHVzaChuZXcgX3hMaW5lLlhMaW5lKHtcbiAgICAgIGxpbmVXaWR0aDogNSxcbiAgICAgIHN0YXJ0WDogNjUwLFxuICAgICAgc3RhcnRZOiA4MDAsXG4gICAgICBlbmRYOiA2NTAsXG4gICAgICBlbmRZOiA2NTBcbiAgICB9KSk7XG4gICAgY29uc3QgdyA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIGNvbnN0IGggPSB3aW5kb3cuaW5uZXJIZWlnaHQ7IC8vIENyZWF0ZSBib3JkZXJzIG9uIHRoZSBlZGdlIG9mIHRoZSB3b3JsZC5cblxuICAgIHRoaXMubGluZXMucHVzaChuZXcgX3hMaW5lLlhMaW5lKHtcbiAgICAgIGxpbmVXaWR0aDogNSxcbiAgICAgIHN0YXJ0WDogMCxcbiAgICAgIHN0YXJ0WTogMCxcbiAgICAgIGVuZFg6IHcgLyAyLFxuICAgICAgZW5kWTogMFxuICAgIH0pKTtcbiAgICB0aGlzLmxpbmVzLnB1c2gobmV3IF94TGluZS5YTGluZSh7XG4gICAgICBsaW5lV2lkdGg6IDUsXG4gICAgICBzdGFydFg6IHcgLyAyLFxuICAgICAgc3RhcnRZOiAwLFxuICAgICAgZW5kWDogdyAvIDIsXG4gICAgICBlbmRZOiBoXG4gICAgfSkpO1xuICAgIHRoaXMubGluZXMucHVzaChuZXcgX3hMaW5lLlhMaW5lKHtcbiAgICAgIGxpbmVXaWR0aDogNSxcbiAgICAgIHN0YXJ0WDogdyAvIDIsXG4gICAgICBzdGFydFk6IGgsXG4gICAgICBlbmRYOiAwLFxuICAgICAgZW5kWTogaFxuICAgIH0pKTtcbiAgICB0aGlzLmxpbmVzLnB1c2gobmV3IF94TGluZS5YTGluZSh7XG4gICAgICBsaW5lV2lkdGg6IDUsXG4gICAgICBzdGFydFg6IDAsXG4gICAgICBzdGFydFk6IGgsXG4gICAgICBlbmRYOiAwLFxuICAgICAgZW5kWTogMFxuICAgIH0pKTtcbiAgICB0aGlzLmxpbmVzLmZvckVhY2gobGluZSA9PiB7XG4gICAgICB0aGlzLlguc3RhZ2UuYWRkQ2hpbGQobGluZSk7XG4gICAgfSk7IC8vIEdldCB0aGUgeC1FbmdpbmUgcG9pbnRlci5cblxuICAgIGNvbnN0IHBvaW50ZXIgPSB0aGlzLlguZ2V0UG9pbnRlcigpOyAvLyBTdGFydCB0aGUgYW5nbGUgb2YgdGhlIG9yaWdpbiBhdCAwLlxuXG4gICAgdGhpcy5hbmdsZSA9IDA7IC8vIERlZmluZSB0aGUgbnVtYmVyIG9mIHJheXMgYW5kIHRoZSBhbmdsZXMgd2Ugd2FudCB0byBnZW5lcmF0ZS5cblxuICAgIGxldCByYXlBbmdsZXMgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5mb3Y7IGkgKz0gdGhpcy5yYXlQZXJBbmdsZSkge1xuICAgICAgcmF5QW5nbGVzLnB1c2goaSk7XG4gICAgfVxuXG4gICAgdGhpcy5YLm9uVGljaygoKSA9PiB7XG4gICAgICB0aGlzLnJheXMuZm9yRWFjaChyYXkgPT4ge1xuICAgICAgICB0aGlzLlguc3RhZ2UucmVtb3ZlQ2hpbGQocmF5KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5yYXlzID0gW107XG5cbiAgICAgIGlmICh0aGlzLmxlZnRLZXkpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIucm90YXRpb24gLT0gMztcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucmlnaHRLZXkpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIucm90YXRpb24gKz0gMztcbiAgICAgIH1cblxuICAgICAgdGhpcy5wbGF5ZXIucm90YXRpb24gPSBfbWF0aGYubWF0aGYud3JhcCh0aGlzLnBsYXllci5yb3RhdGlvbiwgMCwgMzYwKTsgLy8gT3JpZ2luIHNob3VsZCBjZW50ZXIgZnJvbSB3aGVyZSB0aGUgcGxheWVyIHN0YW5kcy5cblxuICAgICAgbGV0IG9yaWdpbiA9IHRoaXMucGxheWVyLnBvc2l0aW9uO1xuICAgICAgbGV0IHJvdGF0aW9uID0gdGhpcy5wbGF5ZXIucm90YXRpb247IC8vIElmIHRoZSBwbGF5ZXIgaXMgcHJlc3Npbmcgc29tZSBrZXkgd2UgYWxsb3cgdGhlIHBsYXllciB0byBtb3ZlIGZvcndhcmQuXG5cbiAgICAgIGlmICh0aGlzLmZvcndhcmRLZXkpIHtcbiAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHJvdGF0aW9uIGFuZCBhZGQgYSBmb3J3YXJkVmVjdG9yIGluIHRoYXQgZGlyZWN0aW9uLlxuICAgICAgICBsZXQgZm9yd2FyZFZlY3RvciA9IF92ZWN0b3IuVmVjdG9yLmZyb21BbmdsZShfbWF0aGYubWF0aGYuZGVncmVlVG9SYWRpYW4ocm90YXRpb24sIDEpLCAxMCk7XG5cbiAgICAgICAgb3JpZ2luLmFkZChmb3J3YXJkVmVjdG9yKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuYmFja0tleSkge1xuICAgICAgICAvLyBHZXQgdGhlIGZvcndhcmQgVmVjdG9yIGFuZCBuZWdhdGUgaXQuXG4gICAgICAgIGxldCBmb3J3YXJkVmVjdG9yID0gX3ZlY3Rvci5WZWN0b3IuZnJvbUFuZ2xlKF9tYXRoZi5tYXRoZi5kZWdyZWVUb1JhZGlhbihyb3RhdGlvbiwgMSksIDEwKTtcblxuICAgICAgICBvcmlnaW4uYWRkKGZvcndhcmRWZWN0b3IubmVnYXRlKCkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmhpdFJheWNhc3RzID0gW107IC8vIExvb3AgdGhyb3VnaCBlYWNoIGxpbmUgb2JqZWN0IHRvIHNlZSBpZiB0aGVyZSBpcyBhIGNvbGxpc2lvbi5cblxuICAgICAgdGhpcy5saW5lcy5mb3JFYWNoKGxpbmUgPT4ge1xuICAgICAgICAvLyBGb3IgZWFjaCByYXkgdGVzdCB0byBzZWUgaWYgdGhlcmUgaXMgYSBjb2xsaXNpb24uXG4gICAgICAgIHJheUFuZ2xlcy5mb3JFYWNoKChhbmdsZSwgaSkgPT4ge1xuICAgICAgICAgIC8vIC8vIE9mZnNldCB0aGUgYW5nbGUgc28gdGhlIGZpZWxkIG9mIHZpZXcgaXMgY2VudGVyZWQuXG4gICAgICAgICAgYW5nbGUgLT0gdGhpcy5mb3YgLyAyO1xuXG4gICAgICAgICAgY29uc3QgcmF5Y2FzdCA9IF9yYXljYXN0LlJheWNhc3QuY2FzdEluZmluaXRlMmRSYXkob3JpZ2luLCBfbWF0aGYubWF0aGYuZGVncmVlVG9SYWRpYW4oYW5nbGUgKyByb3RhdGlvbiksIG5ldyBfdmVjdG9yLlZlY3RvcihsaW5lLnN0YXJ0WCwgbGluZS5zdGFydFkpLCBuZXcgX3ZlY3Rvci5WZWN0b3IobGluZS5lbmRYLCBsaW5lLmVuZFkpKTsgLy8gSWYgdGhlIGN1cnJlbnQgcmF5Y2FzdCBpcyBoaXR0aW5nLlxuXG5cbiAgICAgICAgICBpZiAocmF5Y2FzdC5oaXQpIHtcbiAgICAgICAgICAgIHJheWNhc3Qub3JpZ2luYWxBbmdsZSA9IGFuZ2xlO1xuICAgICAgICAgICAgcmF5Y2FzdC5vcmRlciA9IGk7XG4gICAgICAgICAgICB0aGlzLmhpdFJheWNhc3RzLnB1c2gocmF5Y2FzdCk7IC8vIE5vdyBwcmV2aW91c2x5LCB0aGVyZSBtaWdodCBoYXZlIGJlZW4gb3RoZXIgcmF5c1xuICAgICAgICAgICAgLy8gb2YgdGhlIHNhbWUgYW5nbGUuXG4gICAgICAgICAgICAvLyAgSW4gdGhpcyBjYXNlLCB3ZSB3YW50IHRoZSByYXlcbiAgICAgICAgICAgIC8vIHRoYXQgaXMgb2YgdGhlIHNob3J0ZXN0IGRpc3RhbmNlIG92ZXIgdGhlIGxvbmdlciBvbmUuXG4gICAgICAgICAgICAvLyBUaGlzIGNyZWF0ZXMgYSB2aXN1YWwgZWZmZWN0LCB3aGVyZSBhIHJheSBhcHBlYXJzXG4gICAgICAgICAgICAvLyB0byBub3QgYmUgYWJsZSB0byBwZW5ldHJhdGUgd2FsbHMgLSBtZXJlbHkgYmVjYXVzZVxuICAgICAgICAgICAgLy8gd2UgYXJlIGZpbHRlcmVkIG91dCBkdXBsaWNhdGUgYW5nbGUgcmF5cyB0aGF0IHBlbmV0cmF0ZVxuICAgICAgICAgICAgLy8gd2FsbHMuXG5cbiAgICAgICAgICAgIGxldCBzaG9ydGVzdENhc3QgPSByYXljYXN0O1xuICAgICAgICAgICAgdGhpcy5oaXRSYXljYXN0cy5mb3JFYWNoKHJheSA9PiB7XG4gICAgICAgICAgICAgIGlmIChyYXkuYW5nbGUgPT0gc2hvcnRlc3RDYXN0LmFuZ2xlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJheSA9PSBzaG9ydGVzdENhc3QpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJheS5kaXN0YW5jZSA+PSBzaG9ydGVzdENhc3QuZGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuaGl0UmF5Y2FzdHMuc3BsaWNlKHRoaXMuaGl0UmF5Y2FzdHMuaW5kZXhPZihyYXkpLCAxKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhpcy5oaXRSYXljYXN0cy5zcGxpY2UodGhpcy5oaXRSYXljYXN0cy5pbmRleE9mKHNob3J0ZXN0Q2FzdCksIDEpO1xuICAgICAgICAgICAgICAgICAgc2hvcnRlc3RDYXN0ID0gcmF5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pOyAvLyBGb3IgZWFjaCByYXljYXN0LCB3ZSBhcmUgZ29pbmcgdG8gcmVuZGVyIGl0IG91dC5cblxuICAgICAgdGhpcy5oaXRSYXljYXN0cy5mb3JFYWNoKHJheWNhc3QgPT4ge1xuICAgICAgICAvLyBjb25zdCBlbmRHcmFkaWVudFZlY3RvciA9IFZlY3Rvci5mcm9tQW5nbGUocmF5Y2FzdC5hbmdsZSwgMTAwKTtcbiAgICAgICAgLy8gbGV0IGVuZCA9IFZlY3Rvci5hZGQob3JpZ2luLCBlbmRHcmFkaWVudFZlY3Rvcik7XG4gICAgICAgIC8vIGNvbnN0IHVzZUVuZCA9IGVuZC5tYWduaXR1ZGUoKSA8IHJheWNhc3QuZGlzdGFuY2U7XG4gICAgICAgIC8vIGVuZCA9IHVzZUVuZCA/IGVuZCA6IHJheWNhc3QuY29sbGlzaW9uO1xuICAgICAgICBjb25zdCByYXkgPSBuZXcgX3hMaW5lLlhMaW5lKHtcbiAgICAgICAgICBzdHJva2VTdHlsZTogJ3doaXRlJyxcbiAgICAgICAgICBsaW5lV2lkdGg6IDMsXG4gICAgICAgICAgc3RhcnRYOiBvcmlnaW4ueCxcbiAgICAgICAgICBzdGFydFk6IG9yaWdpbi55LFxuICAgICAgICAgIGVuZFg6IHJheWNhc3QuY29sbGlzaW9uLngsXG4gICAgICAgICAgZW5kWTogcmF5Y2FzdC5jb2xsaXNpb24ueVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5YLnN0YWdlLmFkZENoaWxkKHJheSk7XG4gICAgICAgIHRoaXMucmF5cy5wdXNoKHJheSk7XG4gICAgICB9KTsgLy8gU29ydCB0aGUgcmF5IGNhc3RzIGNvcnJlY3RseS5cblxuICAgICAgdGhpcy5oaXRSYXljYXN0cyA9IHRoaXMuaGl0UmF5Y2FzdHMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICByZXR1cm4gYS5vcmRlciAtIGIub3JkZXI7XG4gICAgICB9KTtcbiAgICAgIHRoaXMucHJvamVjdGlvblhVcGRhdGUodywgaCk7XG4gICAgfSk7XG4gICAgdGhpcy5YLnN0YXJ0KCk7XG4gIH1cblxuICBwcm9qZWN0aW9uWFVwZGF0ZSh3LCBoKSB7XG4gICAgdGhpcy5wcm9qZWN0aW9uWC5jbGVhcigpO1xuICAgIHRoaXMucHJvamVjdGlvblJheXMuZm9yRWFjaChyYXkgPT4ge1xuICAgICAgdGhpcy5wcm9qZWN0aW9uWC5zdGFnZS5yZW1vdmVDaGlsZChyYXkpO1xuICAgIH0pO1xuICAgIHRoaXMucHJvamVjdGlvblJheXMgPSBbXTtcbiAgICBsZXQgd2lkdGhQZXJSYXkgPSB3ICogMC41IC8gKHRoaXMuaGl0UmF5Y2FzdHMubGVuZ3RoIC0gMSk7IC8vIENyZWF0ZSBhIHJlY3RhbmdsZSBmb3IgZWFjaCByYXkuICBUaGUgbW9yZSBkaXN0YW5jZSwgdGhlIG1vcmUgZmFkZWQgaXRcbiAgICAvLyBzaG91bGQgbG9vay5cblxuICAgIGxldCBkZXB0aCA9IDk7XG4gICAgbGV0IHZpc2lvbkRpc3RhbmNlID0gMzAwMDtcbiAgICB0aGlzLmhpdFJheWNhc3RzLmZvckVhY2goKHJheSwgaSkgPT4ge1xuICAgICAgbGV0IGRpc3RhbmNlID0gcmF5LmRpc3RhbmNlO1xuICAgICAgbGV0IHNjYWxlID0gZGlzdGFuY2UgLyB2aXNpb25EaXN0YW5jZTtcbiAgICAgIHNjYWxlID0gMSAtIF9tYXRoZi5tYXRoZi5jbGFtcDAxKHNjYWxlKTsgLy8gQXZvaWQgZmlzaGV5ZSBzbyB1c2Ugc3F1YXJlLlxuXG4gICAgICBzY2FsZSA9IE1hdGgucG93KHNjYWxlLCBkZXB0aCk7XG4gICAgICBsZXQgaGVpZ2h0ID0gTWF0aC5tYXgoaCAqIHNjYWxlLCAxKTtcbiAgICAgIGxldCBoYWxmSGVpZ2h0ID0gaGVpZ2h0IC8gMjtcbiAgICAgIGxldCBjZW50ZXJWID0gaCAvIDI7XG4gICAgICBjb25zdCByZWN0ID0gbmV3IF94TGluZS5YTGluZSh7XG4gICAgICAgIHN0YXJ0WDogaSAqIHdpZHRoUGVyUmF5ICsgMSxcbiAgICAgICAgc3RhcnRZOiBjZW50ZXJWIC0gaGFsZkhlaWdodCxcbiAgICAgICAgbGluZVdpZHRoOiB3aWR0aFBlclJheSArIDEsXG4gICAgICAgIHN0cm9rZVN0eWxlOiAncmVkJyxcbiAgICAgICAgZW5kWDogaSAqIHdpZHRoUGVyUmF5LFxuICAgICAgICBlbmRZOiBjZW50ZXJWICsgaGFsZkhlaWdodCxcbiAgICAgICAgYWxwaGE6IE1hdGgubWF4KDAuMSwgc2NhbGUpXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGZsb29yID0gbmV3IF94TGluZS5YTGluZSh7XG4gICAgICAgIHN0YXJ0WDogaSAqIHdpZHRoUGVyUmF5ICsgMSxcbiAgICAgICAgc3RhcnRZOiBjZW50ZXJWICsgaGFsZkhlaWdodCxcbiAgICAgICAgbGluZVdpZHRoOiB3aWR0aFBlclJheSArIDEsXG4gICAgICAgIHJhZGlhbEdyYWRpZW50OiB7XG4gICAgICAgICAgeDA6IGkgKiB3aWR0aFBlclJheSArIDEsXG4gICAgICAgICAgeTA6IGNlbnRlclYgKyBoYWxmSGVpZ2h0LFxuICAgICAgICAgIHIwOiAxMDAsXG4gICAgICAgICAgeDE6IGkgKiB3aWR0aFBlclJheSArIDEsXG4gICAgICAgICAgeTE6IGgsXG4gICAgICAgICAgcjE6IDUwMFxuICAgICAgICB9LFxuICAgICAgICBncmFkaWVudFN0b3BzOiBbe1xuICAgICAgICAgIHN0b3A6IDAsXG4gICAgICAgICAgY29sb3I6ICcjMDEwMTAxJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgc3RvcDogMSxcbiAgICAgICAgICBjb2xvcjogJ3doaXRlJ1xuICAgICAgICB9XSxcbiAgICAgICAgZW5kWDogaSAqIHdpZHRoUGVyUmF5LFxuICAgICAgICBlbmRZOiBoLFxuICAgICAgICBhbHBoYTogMSAvLyBhbHBoYTogTWF0aC5tYXgoMC4xLCBzY2FsZSlcblxuICAgICAgfSk7IC8vIGNvbnN0IHRleHQgPVxuICAgICAgLy8gICAgIG5ldyBYTGluZSh7XG4gICAgICAvLyAgICAgICAgIGZpbGxTdHlsZTogJ3doaXRlJyxcbiAgICAgIC8vICAgICAgICAgeDogaSAqIHdpZHRoUGVyUmF5ICsgMSxcbiAgICAgIC8vICAgICAgICAgeTogaCxcbiAgICAgIC8vICAgICAgICAgdGV4dDogcmF5LmRpc3RhbmNlXG4gICAgICAvLyAgICAgfSk7XG5cbiAgICAgIHRoaXMucHJvamVjdGlvblJheXMucHVzaChyZWN0KTtcbiAgICAgIHRoaXMucHJvamVjdGlvblJheXMucHVzaChmbG9vcik7IC8vIHRoaXMucHJvamVjdGlvblJheXMucHVzaCh0ZXh0KTtcblxuICAgICAgdGhpcy5wcm9qZWN0aW9uWC5zdGFnZS5hZGRDaGlsZChyZWN0KTtcbiAgICAgIHRoaXMucHJvamVjdGlvblguc3RhZ2UuYWRkQ2hpbGQoZmxvb3IpOyAvLyB0aGlzLnByb2plY3Rpb25YLnN0YWdlLmFkZENoaWxkKHRleHQpO1xuICAgIH0pOyAvLyBjb25zb2xlLmxvZyh0aGlzLnByb2plY3Rpb25SYXlzWzBdKTtcblxuICAgIHRoaXMucHJvamVjdGlvblguZ2FtZUxvb3AoKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFJheUNhc3RpbmczU2FtcGxlOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/raycasting3.js\n");

/***/ }),

/***/ "./examples/scripts/index.js":
/*!***********************************!*\
  !*** ./examples/scripts/index.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ../styles/index.sass */ \"./examples/styles/index.sass\");\n\n__webpack_require__(/*! intersection-observer */ \"./node_modules/intersection-observer/intersection-observer.js\");\n\nvar _bezierCurve = __webpack_require__(/*! ../bezier-curve */ \"./examples/bezier-curve.js\");\n\nvar _bezierCurve2 = _interopRequireDefault(_bezierCurve);\n\nvar _canvasImageSequence = __webpack_require__(/*! ../canvas-image-sequence */ \"./examples/canvas-image-sequence.js\");\n\nvar _canvasImageSequence2 = _interopRequireDefault(_canvasImageSequence);\n\nvar _canvasImageSequence3 = __webpack_require__(/*! ../canvas-image-sequence10 */ \"./examples/canvas-image-sequence10.js\");\n\nvar _canvasImageSequence4 = _interopRequireDefault(_canvasImageSequence3);\n\nvar _canvasImageSequence5 = __webpack_require__(/*! ../canvas-image-sequence2 */ \"./examples/canvas-image-sequence2.js\");\n\nvar _canvasImageSequence6 = _interopRequireDefault(_canvasImageSequence5);\n\nvar _canvasImageSequence7 = __webpack_require__(/*! ../canvas-image-sequence3 */ \"./examples/canvas-image-sequence3.js\");\n\nvar _canvasImageSequence8 = _interopRequireDefault(_canvasImageSequence7);\n\nvar _canvasImageSequence9 = __webpack_require__(/*! ../canvas-image-sequence4 */ \"./examples/canvas-image-sequence4.js\");\n\nvar _canvasImageSequence10 = _interopRequireDefault(_canvasImageSequence9);\n\nvar _canvasImageSequence11 = __webpack_require__(/*! ../canvas-image-sequence5 */ \"./examples/canvas-image-sequence5.js\");\n\nvar _canvasImageSequence12 = _interopRequireDefault(_canvasImageSequence11);\n\nvar _canvasImageSequence13 = __webpack_require__(/*! ../canvas-image-sequence7 */ \"./examples/canvas-image-sequence7.js\");\n\nvar _canvasImageSequence14 = _interopRequireDefault(_canvasImageSequence13);\n\nvar _canvasImageSequence15 = __webpack_require__(/*! ../canvas-image-sequence8 */ \"./examples/canvas-image-sequence8.js\");\n\nvar _canvasImageSequence16 = _interopRequireDefault(_canvasImageSequence15);\n\nvar _canvasImageSequence17 = __webpack_require__(/*! ../canvas-image-sequence9 */ \"./examples/canvas-image-sequence9.js\");\n\nvar _canvasImageSequence18 = _interopRequireDefault(_canvasImageSequence17);\n\nvar _catmullRom = __webpack_require__(/*! ../catmull-rom */ \"./examples/catmull-rom.js\");\n\nvar _catmullRom2 = _interopRequireDefault(_catmullRom);\n\nvar _cssVarInterpolate = __webpack_require__(/*! ../css-var-interpolate */ \"./examples/css-var-interpolate.js\");\n\nvar _cssVarInterpolate2 = _interopRequireDefault(_cssVarInterpolate);\n\nvar _cssVarInterpolate3 = __webpack_require__(/*! ../css-var-interpolate2 */ \"./examples/css-var-interpolate2.js\");\n\nvar _cssVarInterpolate4 = _interopRequireDefault(_cssVarInterpolate3);\n\nvar _cssVarInterpolate5 = __webpack_require__(/*! ../css-var-interpolate3 */ \"./examples/css-var-interpolate3.js\");\n\nvar _cssVarInterpolate6 = _interopRequireDefault(_cssVarInterpolate5);\n\nvar _domCanvas = __webpack_require__(/*! ../dom-canvas */ \"./examples/dom-canvas.js\");\n\nvar _domCanvas2 = _interopRequireDefault(_domCanvas);\n\nvar _domWatcher = __webpack_require__(/*! ../dom-watcher */ \"./examples/dom-watcher.js\");\n\nvar _domWatcher2 = _interopRequireDefault(_domWatcher);\n\nvar _easerDisableRaf = __webpack_require__(/*! ../easer-disable-raf */ \"./examples/easer-disable-raf.js\");\n\nvar _easerDisableRaf2 = _interopRequireDefault(_easerDisableRaf);\n\nvar _easer = __webpack_require__(/*! ../easer */ \"./examples/easer.js\");\n\nvar _easer2 = _interopRequireDefault(_easer);\n\nvar _glslPlayground = __webpack_require__(/*! ../glsl-playground */ \"./examples/glsl-playground.js\");\n\nvar _glslPlayground2 = _interopRequireDefault(_glslPlayground);\n\nvar _glslPlayground3 = __webpack_require__(/*! ../glsl-playground2 */ \"./examples/glsl-playground2.js\");\n\nvar _glslPlayground4 = _interopRequireDefault(_glslPlayground3);\n\nvar _glslPlayground5 = __webpack_require__(/*! ../glsl-playground3 */ \"./examples/glsl-playground3.js\");\n\nvar _glslPlayground6 = _interopRequireDefault(_glslPlayground5);\n\nvar _glslPlayground7 = __webpack_require__(/*! ../glsl-playground4 */ \"./examples/glsl-playground4.js\");\n\nvar _glslPlayground8 = _interopRequireDefault(_glslPlayground7);\n\nvar _glslPlayground9 = __webpack_require__(/*! ../glsl-playground5 */ \"./examples/glsl-playground5.js\");\n\nvar _glslPlayground10 = _interopRequireDefault(_glslPlayground9);\n\nvar _glslPlayground11 = __webpack_require__(/*! ../glsl-playground6 */ \"./examples/glsl-playground6.js\");\n\nvar _glslPlayground12 = _interopRequireDefault(_glslPlayground11);\n\nvar _glslPlayground13 = __webpack_require__(/*! ../glsl-playground7 */ \"./examples/glsl-playground7.js\");\n\nvar _glslPlayground14 = _interopRequireDefault(_glslPlayground13);\n\nvar _glslPlayground15 = __webpack_require__(/*! ../glsl-playground8 */ \"./examples/glsl-playground8.js\");\n\nvar _glslPlayground16 = _interopRequireDefault(_glslPlayground15);\n\nvar _glslPlayground17 = __webpack_require__(/*! ../glsl-playground9 */ \"./examples/glsl-playground9.js\");\n\nvar _glslPlayground18 = _interopRequireDefault(_glslPlayground17);\n\nvar _glslPlayground19 = __webpack_require__(/*! ../glsl-playground10 */ \"./examples/glsl-playground10.js\");\n\nvar _glslPlayground20 = _interopRequireDefault(_glslPlayground19);\n\nvar _glslPlayground21 = __webpack_require__(/*! ../glsl-playground11 */ \"./examples/glsl-playground11.js\");\n\nvar _glslPlayground22 = _interopRequireDefault(_glslPlayground21);\n\nvar _glslPlayground23 = __webpack_require__(/*! ../glsl-playground12 */ \"./examples/glsl-playground12.js\");\n\nvar _glslPlayground24 = _interopRequireDefault(_glslPlayground23);\n\nvar _glslPlayground25 = __webpack_require__(/*! ../glsl-playground13 */ \"./examples/glsl-playground13.js\");\n\nvar _glslPlayground26 = _interopRequireDefault(_glslPlayground25);\n\nvar _glslPlayground27 = __webpack_require__(/*! ../glsl-playground14 */ \"./examples/glsl-playground14.js\");\n\nvar _glslPlayground28 = _interopRequireDefault(_glslPlayground27);\n\nvar _glslPlayground29 = __webpack_require__(/*! ../glsl-playground15 */ \"./examples/glsl-playground15.js\");\n\nvar _glslPlayground30 = _interopRequireDefault(_glslPlayground29);\n\nvar _glslPlayground31 = __webpack_require__(/*! ../glsl-playground16 */ \"./examples/glsl-playground16.js\");\n\nvar _glslPlayground32 = _interopRequireDefault(_glslPlayground31);\n\nvar _glslPlayground33 = __webpack_require__(/*! ../glsl-playground17 */ \"./examples/glsl-playground17.js\");\n\nvar _glslPlayground34 = _interopRequireDefault(_glslPlayground33);\n\nvar _glslPlayground35 = __webpack_require__(/*! ../glsl-playground18 */ \"./examples/glsl-playground18.js\");\n\nvar _glslPlayground36 = _interopRequireDefault(_glslPlayground35);\n\nvar _glslPlayground37 = __webpack_require__(/*! ../glsl-playground19 */ \"./examples/glsl-playground19.js\");\n\nvar _glslPlayground38 = _interopRequireDefault(_glslPlayground37);\n\nvar _glslPlayground39 = __webpack_require__(/*! ../glsl-playground20 */ \"./examples/glsl-playground20.js\");\n\nvar _glslPlayground40 = _interopRequireDefault(_glslPlayground39);\n\nvar _glslPlayground41 = __webpack_require__(/*! ../glsl-playground21 */ \"./examples/glsl-playground21.js\");\n\nvar _glslPlayground42 = _interopRequireDefault(_glslPlayground41);\n\nvar _glslPlayground43 = __webpack_require__(/*! ../glsl-playground22 */ \"./examples/glsl-playground22.js\");\n\nvar _glslPlayground44 = _interopRequireDefault(_glslPlayground43);\n\nvar _glslPlayground45 = __webpack_require__(/*! ../glsl-playground23 */ \"./examples/glsl-playground23.js\");\n\nvar _glslPlayground46 = _interopRequireDefault(_glslPlayground45);\n\nvar _glslPlayground47 = __webpack_require__(/*! ../glsl-playground24 */ \"./examples/glsl-playground24.js\");\n\nvar _glslPlayground48 = _interopRequireDefault(_glslPlayground47);\n\nvar _glslPlayground49 = __webpack_require__(/*! ../glsl-playground25 */ \"./examples/glsl-playground25.js\");\n\nvar _glslPlayground50 = _interopRequireDefault(_glslPlayground49);\n\nvar _glslPlayground51 = __webpack_require__(/*! ../glsl-playground26 */ \"./examples/glsl-playground26.js\");\n\nvar _glslPlayground52 = _interopRequireDefault(_glslPlayground51);\n\nvar _glslPlayground53 = __webpack_require__(/*! ../glsl-playground27 */ \"./examples/glsl-playground27.js\");\n\nvar _glslPlayground54 = _interopRequireDefault(_glslPlayground53);\n\nvar _glslPlayground55 = __webpack_require__(/*! ../glsl-playground28 */ \"./examples/glsl-playground28.js\");\n\nvar _glslPlayground56 = _interopRequireDefault(_glslPlayground55);\n\nvar _glslPlayground57 = __webpack_require__(/*! ../glsl-playground29 */ \"./examples/glsl-playground29.js\");\n\nvar _glslPlayground58 = _interopRequireDefault(_glslPlayground57);\n\nvar _glslPlayground59 = __webpack_require__(/*! ../glsl-playground30 */ \"./examples/glsl-playground30.js\");\n\nvar _glslPlayground60 = _interopRequireDefault(_glslPlayground59);\n\nvar _hermiteCurve = __webpack_require__(/*! ../hermite-curve */ \"./examples/hermite-curve.js\");\n\nvar _hermiteCurve2 = _interopRequireDefault(_hermiteCurve);\n\nvar _interpolate = __webpack_require__(/*! ../interpolate */ \"./examples/interpolate.js\");\n\nvar _interpolate2 = _interopRequireDefault(_interpolate);\n\nvar _mathfEase = __webpack_require__(/*! ../mathf-ease */ \"./examples/mathf-ease.js\");\n\nvar _mathfEase2 = _interopRequireDefault(_mathfEase);\n\nvar _matrixIV = __webpack_require__(/*! ../matrixIV */ \"./examples/matrixIV.js\");\n\nvar _matrixIV2 = _interopRequireDefault(_matrixIV);\n\nvar _matrixIV3 = __webpack_require__(/*! ../matrixIV2 */ \"./examples/matrixIV2.js\");\n\nvar _matrixIV4 = _interopRequireDefault(_matrixIV3);\n\nvar _matrixIV5 = __webpack_require__(/*! ../matrixIV3 */ \"./examples/matrixIV3.js\");\n\nvar _matrixIV6 = _interopRequireDefault(_matrixIV5);\n\nvar _multiInterpolate = __webpack_require__(/*! ../multi-interpolate */ \"./examples/multi-interpolate.js\");\n\nvar _multiInterpolate2 = _interopRequireDefault(_multiInterpolate);\n\nvar _offScreenCanvas = __webpack_require__(/*! ../off-screen-canvas */ \"./examples/off-screen-canvas.js\");\n\nvar _offScreenCanvas2 = _interopRequireDefault(_offScreenCanvas);\n\nvar _perlinNoise = __webpack_require__(/*! ../perlin-noise */ \"./examples/perlin-noise.js\");\n\nvar _perlinNoise2 = _interopRequireDefault(_perlinNoise);\n\nvar _playground = __webpack_require__(/*! ../playground */ \"./examples/playground.js\");\n\nvar _playground2 = _interopRequireDefault(_playground);\n\nvar _pseudo3dCanvas = __webpack_require__(/*! ../pseudo-3d-canvas */ \"./examples/pseudo-3d-canvas.js\");\n\nvar _pseudo3dCanvas2 = _interopRequireDefault(_pseudo3dCanvas);\n\nvar _quaternion = __webpack_require__(/*! ../quaternion */ \"./examples/quaternion.js\");\n\nvar _quaternion2 = _interopRequireDefault(_quaternion);\n\nvar _rafProgress = __webpack_require__(/*! ../raf-progress */ \"./examples/raf-progress.js\");\n\nvar _rafProgress2 = _interopRequireDefault(_rafProgress);\n\nvar _raf = __webpack_require__(/*! ../raf */ \"./examples/raf.js\");\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _raf3 = __webpack_require__(/*! ../raf2 */ \"./examples/raf2.js\");\n\nvar _raf4 = _interopRequireDefault(_raf3);\n\nvar _rafTimer = __webpack_require__(/*! ../raf-timer */ \"./examples/raf-timer.js\");\n\nvar _rafTimer2 = _interopRequireDefault(_rafTimer);\n\nvar _raycasting = __webpack_require__(/*! ../raycasting2 */ \"./examples/raycasting2.js\");\n\nvar _raycasting2 = _interopRequireDefault(_raycasting);\n\nvar _raycasting3 = __webpack_require__(/*! ../raycasting3 */ \"./examples/raycasting3.js\");\n\nvar _raycasting4 = _interopRequireDefault(_raycasting3);\n\nvar _raycasting5 = __webpack_require__(/*! ../raycasting */ \"./examples/raycasting.js\");\n\nvar _raycasting6 = _interopRequireDefault(_raycasting5);\n\nvar _scrollDemo = __webpack_require__(/*! ../scroll-demo */ \"./examples/scroll-demo.js\");\n\nvar _scrollDemo2 = _interopRequireDefault(_scrollDemo);\n\nvar _scrollDemo3 = __webpack_require__(/*! ../scroll-demo2 */ \"./examples/scroll-demo2.js\");\n\nvar _scrollDemo4 = _interopRequireDefault(_scrollDemo3);\n\nvar _scrollDemo5 = __webpack_require__(/*! ../scroll-demo3 */ \"./examples/scroll-demo3.js\");\n\nvar _scrollDemo6 = _interopRequireDefault(_scrollDemo5);\n\nvar _scrollDemo7 = __webpack_require__(/*! ../scroll-demo4 */ \"./examples/scroll-demo4.js\");\n\nvar _scrollDemo8 = _interopRequireDefault(_scrollDemo7);\n\nvar _scrollDemo9 = __webpack_require__(/*! ../scroll-demo5 */ \"./examples/scroll-demo5.js\");\n\nvar _scrollDemo10 = _interopRequireDefault(_scrollDemo9);\n\nvar _textSplit = __webpack_require__(/*! ../text-split */ \"./examples/text-split.js\");\n\nvar _textSplit2 = _interopRequireDefault(_textSplit);\n\nvar _threeSceneRenderer = __webpack_require__(/*! ../three-scene-renderer */ \"./examples/three-scene-renderer.js\");\n\nvar _threeSceneRenderer2 = _interopRequireDefault(_threeSceneRenderer);\n\nvar _threeSceneRenderer3 = __webpack_require__(/*! ../three-scene-renderer2 */ \"./examples/three-scene-renderer2.js\");\n\nvar _threeSceneRenderer4 = _interopRequireDefault(_threeSceneRenderer3);\n\nvar _threeLightTest = __webpack_require__(/*! ../three-light-test */ \"./examples/three-light-test.js\");\n\nvar _threeLightTest2 = _interopRequireDefault(_threeLightTest);\n\nvar _threeLightTest3 = __webpack_require__(/*! ../three-light-test2 */ \"./examples/three-light-test2.js\");\n\nvar _threeLightTest4 = _interopRequireDefault(_threeLightTest3);\n\nvar _threeObjectViewer = __webpack_require__(/*! ../three-object-viewer */ \"./examples/three-object-viewer.js\");\n\nvar _threeObjectViewer2 = _interopRequireDefault(_threeObjectViewer);\n\nvar _threeObjectViewer3 = __webpack_require__(/*! ../three-object-viewer10 */ \"./examples/three-object-viewer10.js\");\n\nvar _threeObjectViewer4 = _interopRequireDefault(_threeObjectViewer3);\n\nvar _threeObjectViewer5 = __webpack_require__(/*! ../three-object-viewer11 */ \"./examples/three-object-viewer11.js\");\n\nvar _threeObjectViewer6 = _interopRequireDefault(_threeObjectViewer5);\n\nvar _threeObjectViewer7 = __webpack_require__(/*! ../three-object-viewer2 */ \"./examples/three-object-viewer2.js\");\n\nvar _threeObjectViewer8 = _interopRequireDefault(_threeObjectViewer7);\n\nvar _threeObjectViewer9 = __webpack_require__(/*! ../three-object-viewer3 */ \"./examples/three-object-viewer3.js\");\n\nvar _threeObjectViewer10 = _interopRequireDefault(_threeObjectViewer9);\n\nvar _threeObjectViewer11 = __webpack_require__(/*! ../three-object-viewer4 */ \"./examples/three-object-viewer4.js\");\n\nvar _threeObjectViewer12 = _interopRequireDefault(_threeObjectViewer11);\n\nvar _threeObjectViewer13 = __webpack_require__(/*! ../three-object-viewer5 */ \"./examples/three-object-viewer5.js\");\n\nvar _threeObjectViewer14 = _interopRequireDefault(_threeObjectViewer13);\n\nvar _threeObjectViewer15 = __webpack_require__(/*! ../three-object-viewer6 */ \"./examples/three-object-viewer6.js\");\n\nvar _threeObjectViewer16 = _interopRequireDefault(_threeObjectViewer15);\n\nvar _threeObjectViewer17 = __webpack_require__(/*! ../three-object-viewer7 */ \"./examples/three-object-viewer7.js\");\n\nvar _threeObjectViewer18 = _interopRequireDefault(_threeObjectViewer17);\n\nvar _threeObjectViewer19 = __webpack_require__(/*! ../three-object-viewer8 */ \"./examples/three-object-viewer8.js\");\n\nvar _threeObjectViewer20 = _interopRequireDefault(_threeObjectViewer19);\n\nvar _threeObjectViewer21 = __webpack_require__(/*! ../three-object-viewer9 */ \"./examples/three-object-viewer9.js\");\n\nvar _threeObjectViewer22 = _interopRequireDefault(_threeObjectViewer21);\n\nvar _vectorDom = __webpack_require__(/*! ../vector-dom */ \"./examples/vector-dom.js\");\n\nvar _vectorDom2 = _interopRequireDefault(_vectorDom);\n\nvar _vectorDom3 = __webpack_require__(/*! ../vector-dom2 */ \"./examples/vector-dom2.js\");\n\nvar _vectorDom4 = _interopRequireDefault(_vectorDom3);\n\nvar _vectorDom5 = __webpack_require__(/*! ../vector-dom3 */ \"./examples/vector-dom3.js\");\n\nvar _vectorDom6 = _interopRequireDefault(_vectorDom5);\n\nvar _videoProgress = __webpack_require__(/*! ../video-progress */ \"./examples/video-progress.js\");\n\nvar _videoProgress2 = _interopRequireDefault(_videoProgress);\n\nvar _webglImageSequence = __webpack_require__(/*! ../webgl-image-sequence */ \"./examples/webgl-image-sequence.js\");\n\nvar _webglImageSequence2 = _interopRequireDefault(_webglImageSequence);\n\nvar _webglImageSequence3 = __webpack_require__(/*! ../webgl-image-sequence2 */ \"./examples/webgl-image-sequence2.js\");\n\nvar _webglImageSequence4 = _interopRequireDefault(_webglImageSequence3);\n\nvar _webglImageSequence5 = __webpack_require__(/*! ../webgl-image-sequence3 */ \"./examples/webgl-image-sequence3.js\");\n\nvar _webglImageSequence6 = _interopRequireDefault(_webglImageSequence5);\n\nvar _webglImageSequence7 = __webpack_require__(/*! ../webgl-image-sequence4 */ \"./examples/webgl-image-sequence4.js\");\n\nvar _webglImageSequence8 = _interopRequireDefault(_webglImageSequence7);\n\nvar _webglImageSequence9 = __webpack_require__(/*! ../webgl-image-sequence5 */ \"./examples/webgl-image-sequence5.js\");\n\nvar _webglImageSequence10 = _interopRequireDefault(_webglImageSequence9);\n\nvar _webglImageSequence11 = __webpack_require__(/*! ../webgl-image-sequence7 */ \"./examples/webgl-image-sequence7.js\");\n\nvar _webglImageSequence12 = _interopRequireDefault(_webglImageSequence11);\n\nvar _webglImageSequence13 = __webpack_require__(/*! ../webgl-image-sequence9 */ \"./examples/webgl-image-sequence9.js\");\n\nvar _webglImageSequence14 = _interopRequireDefault(_webglImageSequence13);\n\nvar _x = __webpack_require__(/*! ../x2 */ \"./examples/x2.js\");\n\nvar _x2 = _interopRequireDefault(_x);\n\nvar _x3 = __webpack_require__(/*! ../x */ \"./examples/x.js\");\n\nvar _x4 = _interopRequireDefault(_x3);\n\nvar _inview = __webpack_require__(/*! ../inview */ \"./examples/inview.js\");\n\nvar _inview2 = _interopRequireDefault(_inview);\n\nvar _webgl = __webpack_require__(/*! ../webgl */ \"./examples/webgl.js\");\n\nvar _webgl2 = _interopRequireDefault(_webgl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Examples.\n// import VideoProgressSample from '../playground/video-progress';\nconst samples = {\n  'easerDisableRafSample': _easerDisableRaf2.default,\n  'easerSample': _easer2.default,\n  'interpolateSample': _interpolate2.default,\n  'mathfEaseSample': _mathfEase2.default,\n  'multiInterpolateSample': _multiInterpolate2.default,\n  'cssVarInterpolateSample': _cssVarInterpolate2.default,\n  'cssVarInterpolateSample2': _cssVarInterpolate4.default,\n  'cssVarInterpolateSample3': _cssVarInterpolate6.default,\n  'canvasImageSequenceSample': _canvasImageSequence2.default,\n  'canvasImageSequenceSample2': _canvasImageSequence6.default,\n  'canvasImageSequenceSample3': _canvasImageSequence8.default,\n  'canvasImageSequenceSample4': _canvasImageSequence10.default,\n  'canvasImageSequenceSample5': _canvasImageSequence12.default,\n  'canvasImageSequenceSample7': _canvasImageSequence14.default,\n  'canvasImageSequenceSample8': _canvasImageSequence16.default,\n  'canvasImageSequenceSample9': _canvasImageSequence18.default,\n  'canvasImageSequenceSample10': _canvasImageSequence4.default,\n  'webglImageSequenceSample': _webglImageSequence2.default,\n  'webglImageSequenceSample2': _webglImageSequence4.default,\n  'webglImageSequenceSample3': _webglImageSequence6.default,\n  'webglImageSequenceSample4': _webglImageSequence8.default,\n  'webglImageSequenceSample5': _webglImageSequence10.default,\n  'webglImageSequenceSample7': _webglImageSequence12.default,\n  'webglImageSequenceSample9': _webglImageSequence14.default,\n  'rafSample': _raf2.default,\n  'rafSample2': _raf4.default,\n  'rafTimerSample': _rafTimer2.default,\n  'rafProgressSample': _rafProgress2.default,\n  'playgroundSample': _playground2.default,\n  'offScreenCanvasSample': _offScreenCanvas2.default,\n  'catmullRomSample': _catmullRom2.default,\n  'hermitCurveSample': _hermiteCurve2.default,\n  'bezierCurveSample': _bezierCurve2.default,\n  'videoProgressSample': _videoProgress2.default,\n  'matrixIVSample': _matrixIV2.default,\n  'matrixIVSample2': _matrixIV4.default,\n  'matrixIVSample3': _matrixIV6.default,\n  'pseudo3dCanvasSample': _pseudo3dCanvas2.default,\n  'vectorDomSample': _vectorDom2.default,\n  'vectorDomSample2': _vectorDom4.default,\n  'vectorDomSample3': _vectorDom6.default,\n  'rayCastingSample': _raycasting6.default,\n  'rayCasting2Sample': _raycasting2.default,\n  'rayCasting3Sample': _raycasting4.default,\n  'quaternionSample': _quaternion2.default,\n  'xSample': _x4.default,\n  'x2Sample': _x2.default,\n  'domWatcherSample': _domWatcher2.default,\n  'domCanvasSample': _domCanvas2.default,\n  'perlinNoiseSample': _perlinNoise2.default,\n  'scrollDemoSample': _scrollDemo2.default,\n  'scrollDemoSample2': _scrollDemo4.default,\n  'scrollDemoSample3': _scrollDemo6.default,\n  'scrollDemoSample4': _scrollDemo8.default,\n  'scrollDemoSample5': _scrollDemo10.default,\n  'threeSceneRenderer': _threeSceneRenderer2.default,\n  'threeSceneRenderer2': _threeSceneRenderer4.default,\n  'threeLightTest': _threeLightTest2.default,\n  'threeLightTest2': _threeLightTest4.default,\n  'threeObjectViewer': _threeObjectViewer2.default,\n  'threeObjectViewer2': _threeObjectViewer8.default,\n  'threeObjectViewer3': _threeObjectViewer10.default,\n  'threeObjectViewer4': _threeObjectViewer12.default,\n  'threeObjectViewer5': _threeObjectViewer14.default,\n  'threeObjectViewer6': _threeObjectViewer16.default,\n  'threeObjectViewer7': _threeObjectViewer18.default,\n  'threeObjectViewer8': _threeObjectViewer20.default,\n  'threeObjectViewer9': _threeObjectViewer22.default,\n  'threeObjectViewer10': _threeObjectViewer4.default,\n  'threeObjectViewer11': _threeObjectViewer6.default,\n  'textSplitSample': _textSplit2.default,\n  'webGlSample': _webgl2.default,\n  'glslPlayground': _glslPlayground2.default,\n  'glslPlayground2': _glslPlayground4.default,\n  'glslPlayground3': _glslPlayground6.default,\n  'glslPlayground4': _glslPlayground8.default,\n  'glslPlayground5': _glslPlayground10.default,\n  'glslPlayground6': _glslPlayground12.default,\n  'glslPlayground7': _glslPlayground14.default,\n  'glslPlayground8': _glslPlayground16.default,\n  'glslPlayground9': _glslPlayground18.default,\n  'glslPlayground10': _glslPlayground20.default,\n  'glslPlayground11': _glslPlayground22.default,\n  'glslPlayground12': _glslPlayground24.default,\n  'glslPlayground13': _glslPlayground26.default,\n  'glslPlayground14': _glslPlayground28.default,\n  'glslPlayground15': _glslPlayground30.default,\n  'glslPlayground16': _glslPlayground32.default,\n  'glslPlayground17': _glslPlayground34.default,\n  'glslPlayground18': _glslPlayground36.default,\n  'glslPlayground19': _glslPlayground38.default,\n  'glslPlayground20': _glslPlayground40.default,\n  'glslPlayground21': _glslPlayground42.default,\n  'glslPlayground22': _glslPlayground44.default,\n  'glslPlayground23': _glslPlayground46.default,\n  'glslPlayground24': _glslPlayground48.default,\n  'glslPlayground25': _glslPlayground50.default,\n  'glslPlayground26': _glslPlayground52.default,\n  'glslPlayground27': _glslPlayground54.default,\n  'glslPlayground28': _glslPlayground56.default,\n  'glslPlayground29': _glslPlayground58.default,\n  'glslPlayground30': _glslPlayground60.default,\n  'inviewSample': _inview2.default\n};\n\nclass Main {\n  constructor() {\n    this.createClassInstanceFromAttribute_();\n  }\n\n  createClassInstanceFromAttribute_() {\n    // Do a look up of the 'int-sample' data attribute and then\n    // attempt to run an instance of a class with that data attribute name.\n    let element = document.querySelector('[init-sample]');\n\n    if (!element) {\n      return;\n    }\n\n    let className = element.getAttribute('init-sample');\n\n    if (samples[className]) {\n      console.log('Instantiating', className);\n      new samples[className]();\n    }\n  }\n\n}\n\nwindow.addEventListener('load', () => {\n  new Main();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9zY3JpcHRzL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvc2NyaXB0cy9pbmRleC5qcz81OTc0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5yZXF1aXJlKFwiLi4vc3R5bGVzL2luZGV4LnNhc3NcIik7XG5cbnJlcXVpcmUoXCJpbnRlcnNlY3Rpb24tb2JzZXJ2ZXJcIik7XG5cbnZhciBfYmV6aWVyQ3VydmUgPSByZXF1aXJlKFwiLi4vYmV6aWVyLWN1cnZlXCIpO1xuXG52YXIgX2JlemllckN1cnZlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JlemllckN1cnZlKTtcblxudmFyIF9jYW52YXNJbWFnZVNlcXVlbmNlID0gcmVxdWlyZShcIi4uL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZVwiKTtcblxudmFyIF9jYW52YXNJbWFnZVNlcXVlbmNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhbnZhc0ltYWdlU2VxdWVuY2UpO1xuXG52YXIgX2NhbnZhc0ltYWdlU2VxdWVuY2UzID0gcmVxdWlyZShcIi4uL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZTEwXCIpO1xuXG52YXIgX2NhbnZhc0ltYWdlU2VxdWVuY2U0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FudmFzSW1hZ2VTZXF1ZW5jZTMpO1xuXG52YXIgX2NhbnZhc0ltYWdlU2VxdWVuY2U1ID0gcmVxdWlyZShcIi4uL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZTJcIik7XG5cbnZhciBfY2FudmFzSW1hZ2VTZXF1ZW5jZTYgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYW52YXNJbWFnZVNlcXVlbmNlNSk7XG5cbnZhciBfY2FudmFzSW1hZ2VTZXF1ZW5jZTcgPSByZXF1aXJlKFwiLi4vY2FudmFzLWltYWdlLXNlcXVlbmNlM1wiKTtcblxudmFyIF9jYW52YXNJbWFnZVNlcXVlbmNlOCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhbnZhc0ltYWdlU2VxdWVuY2U3KTtcblxudmFyIF9jYW52YXNJbWFnZVNlcXVlbmNlOSA9IHJlcXVpcmUoXCIuLi9jYW52YXMtaW1hZ2Utc2VxdWVuY2U0XCIpO1xuXG52YXIgX2NhbnZhc0ltYWdlU2VxdWVuY2UxMCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhbnZhc0ltYWdlU2VxdWVuY2U5KTtcblxudmFyIF9jYW52YXNJbWFnZVNlcXVlbmNlMTEgPSByZXF1aXJlKFwiLi4vY2FudmFzLWltYWdlLXNlcXVlbmNlNVwiKTtcblxudmFyIF9jYW52YXNJbWFnZVNlcXVlbmNlMTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYW52YXNJbWFnZVNlcXVlbmNlMTEpO1xuXG52YXIgX2NhbnZhc0ltYWdlU2VxdWVuY2UxMyA9IHJlcXVpcmUoXCIuLi9jYW52YXMtaW1hZ2Utc2VxdWVuY2U3XCIpO1xuXG52YXIgX2NhbnZhc0ltYWdlU2VxdWVuY2UxNCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhbnZhc0ltYWdlU2VxdWVuY2UxMyk7XG5cbnZhciBfY2FudmFzSW1hZ2VTZXF1ZW5jZTE1ID0gcmVxdWlyZShcIi4uL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZThcIik7XG5cbnZhciBfY2FudmFzSW1hZ2VTZXF1ZW5jZTE2ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FudmFzSW1hZ2VTZXF1ZW5jZTE1KTtcblxudmFyIF9jYW52YXNJbWFnZVNlcXVlbmNlMTcgPSByZXF1aXJlKFwiLi4vY2FudmFzLWltYWdlLXNlcXVlbmNlOVwiKTtcblxudmFyIF9jYW52YXNJbWFnZVNlcXVlbmNlMTggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYW52YXNJbWFnZVNlcXVlbmNlMTcpO1xuXG52YXIgX2NhdG11bGxSb20gPSByZXF1aXJlKFwiLi4vY2F0bXVsbC1yb21cIik7XG5cbnZhciBfY2F0bXVsbFJvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYXRtdWxsUm9tKTtcblxudmFyIF9jc3NWYXJJbnRlcnBvbGF0ZSA9IHJlcXVpcmUoXCIuLi9jc3MtdmFyLWludGVycG9sYXRlXCIpO1xuXG52YXIgX2Nzc1ZhckludGVycG9sYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Nzc1ZhckludGVycG9sYXRlKTtcblxudmFyIF9jc3NWYXJJbnRlcnBvbGF0ZTMgPSByZXF1aXJlKFwiLi4vY3NzLXZhci1pbnRlcnBvbGF0ZTJcIik7XG5cbnZhciBfY3NzVmFySW50ZXJwb2xhdGU0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3NzVmFySW50ZXJwb2xhdGUzKTtcblxudmFyIF9jc3NWYXJJbnRlcnBvbGF0ZTUgPSByZXF1aXJlKFwiLi4vY3NzLXZhci1pbnRlcnBvbGF0ZTNcIik7XG5cbnZhciBfY3NzVmFySW50ZXJwb2xhdGU2ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3NzVmFySW50ZXJwb2xhdGU1KTtcblxudmFyIF9kb21DYW52YXMgPSByZXF1aXJlKFwiLi4vZG9tLWNhbnZhc1wiKTtcblxudmFyIF9kb21DYW52YXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG9tQ2FudmFzKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2RvbS13YXRjaGVyXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG9tV2F0Y2hlcik7XG5cbnZhciBfZWFzZXJEaXNhYmxlUmFmID0gcmVxdWlyZShcIi4uL2Vhc2VyLWRpc2FibGUtcmFmXCIpO1xuXG52YXIgX2Vhc2VyRGlzYWJsZVJhZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lYXNlckRpc2FibGVSYWYpO1xuXG52YXIgX2Vhc2VyID0gcmVxdWlyZShcIi4uL2Vhc2VyXCIpO1xuXG52YXIgX2Vhc2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Vhc2VyKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZCA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmRcIik7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQpO1xuXG52YXIgX2dsc2xQbGF5Z3JvdW5kMyA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQyXCIpO1xuXG52YXIgX2dsc2xQbGF5Z3JvdW5kNCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dsc2xQbGF5Z3JvdW5kMyk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQ1ID0gcmVxdWlyZShcIi4uL2dsc2wtcGxheWdyb3VuZDNcIik7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQ2ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQ1KTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDcgPSByZXF1aXJlKFwiLi4vZ2xzbC1wbGF5Z3JvdW5kNFwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nbHNsUGxheWdyb3VuZDcpO1xuXG52YXIgX2dsc2xQbGF5Z3JvdW5kOSA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQ1XCIpO1xuXG52YXIgX2dsc2xQbGF5Z3JvdW5kMTAgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nbHNsUGxheWdyb3VuZDkpO1xuXG52YXIgX2dsc2xQbGF5Z3JvdW5kMTEgPSByZXF1aXJlKFwiLi4vZ2xzbC1wbGF5Z3JvdW5kNlwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQxMSk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQxMyA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQ3XCIpO1xuXG52YXIgX2dsc2xQbGF5Z3JvdW5kMTQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nbHNsUGxheWdyb3VuZDEzKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDE1ID0gcmVxdWlyZShcIi4uL2dsc2wtcGxheWdyb3VuZDhcIik7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQxNiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dsc2xQbGF5Z3JvdW5kMTUpO1xuXG52YXIgX2dsc2xQbGF5Z3JvdW5kMTcgPSByZXF1aXJlKFwiLi4vZ2xzbC1wbGF5Z3JvdW5kOVwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDE4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQxNyk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQxOSA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQxMFwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDIwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQxOSk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQyMSA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQxMVwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQyMSk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQyMyA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQxMlwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDI0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQyMyk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQyNSA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQxM1wiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDI2ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQyNSk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQyNyA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQxNFwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDI4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQyNyk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQyOSA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQxNVwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDMwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQyOSk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQzMSA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQxNlwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQzMSk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQzMyA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQxN1wiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDM0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQzMyk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQzNSA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQxOFwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDM2ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQzNSk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQzNyA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQxOVwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDM4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQzNyk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQzOSA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQyMFwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDQwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQzOSk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQ0MSA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQyMVwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQ0MSk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQ0MyA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQyMlwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDQ0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQ0Myk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQ0NSA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQyM1wiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDQ2ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQ0NSk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQ0NyA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQyNFwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDQ4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQ0Nyk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQ0OSA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQyNVwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDUwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQ0OSk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQ1MSA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQyNlwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQ1MSk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQ1MyA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQyN1wiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDU0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQ1Myk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQ1NSA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQyOFwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDU2ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQ1NSk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQ1NyA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQyOVwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDU4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQ1Nyk7XG5cbnZhciBfZ2xzbFBsYXlncm91bmQ1OSA9IHJlcXVpcmUoXCIuLi9nbHNsLXBsYXlncm91bmQzMFwiKTtcblxudmFyIF9nbHNsUGxheWdyb3VuZDYwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xzbFBsYXlncm91bmQ1OSk7XG5cbnZhciBfaGVybWl0ZUN1cnZlID0gcmVxdWlyZShcIi4uL2hlcm1pdGUtY3VydmVcIik7XG5cbnZhciBfaGVybWl0ZUN1cnZlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hlcm1pdGVDdXJ2ZSk7XG5cbnZhciBfaW50ZXJwb2xhdGUgPSByZXF1aXJlKFwiLi4vaW50ZXJwb2xhdGVcIik7XG5cbnZhciBfaW50ZXJwb2xhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW50ZXJwb2xhdGUpO1xuXG52YXIgX21hdGhmRWFzZSA9IHJlcXVpcmUoXCIuLi9tYXRoZi1lYXNlXCIpO1xuXG52YXIgX21hdGhmRWFzZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXRoZkVhc2UpO1xuXG52YXIgX21hdHJpeElWID0gcmVxdWlyZShcIi4uL21hdHJpeElWXCIpO1xuXG52YXIgX21hdHJpeElWMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hdHJpeElWKTtcblxudmFyIF9tYXRyaXhJVjMgPSByZXF1aXJlKFwiLi4vbWF0cml4SVYyXCIpO1xuXG52YXIgX21hdHJpeElWNCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hdHJpeElWMyk7XG5cbnZhciBfbWF0cml4SVY1ID0gcmVxdWlyZShcIi4uL21hdHJpeElWM1wiKTtcblxudmFyIF9tYXRyaXhJVjYgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXRyaXhJVjUpO1xuXG52YXIgX211bHRpSW50ZXJwb2xhdGUgPSByZXF1aXJlKFwiLi4vbXVsdGktaW50ZXJwb2xhdGVcIik7XG5cbnZhciBfbXVsdGlJbnRlcnBvbGF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tdWx0aUludGVycG9sYXRlKTtcblxudmFyIF9vZmZTY3JlZW5DYW52YXMgPSByZXF1aXJlKFwiLi4vb2ZmLXNjcmVlbi1jYW52YXNcIik7XG5cbnZhciBfb2ZmU2NyZWVuQ2FudmFzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29mZlNjcmVlbkNhbnZhcyk7XG5cbnZhciBfcGVybGluTm9pc2UgPSByZXF1aXJlKFwiLi4vcGVybGluLW5vaXNlXCIpO1xuXG52YXIgX3Blcmxpbk5vaXNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Blcmxpbk5vaXNlKTtcblxudmFyIF9wbGF5Z3JvdW5kID0gcmVxdWlyZShcIi4uL3BsYXlncm91bmRcIik7XG5cbnZhciBfcGxheWdyb3VuZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wbGF5Z3JvdW5kKTtcblxudmFyIF9wc2V1ZG8zZENhbnZhcyA9IHJlcXVpcmUoXCIuLi9wc2V1ZG8tM2QtY2FudmFzXCIpO1xuXG52YXIgX3BzZXVkbzNkQ2FudmFzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BzZXVkbzNkQ2FudmFzKTtcblxudmFyIF9xdWF0ZXJuaW9uID0gcmVxdWlyZShcIi4uL3F1YXRlcm5pb25cIik7XG5cbnZhciBfcXVhdGVybmlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9xdWF0ZXJuaW9uKTtcblxudmFyIF9yYWZQcm9ncmVzcyA9IHJlcXVpcmUoXCIuLi9yYWYtcHJvZ3Jlc3NcIik7XG5cbnZhciBfcmFmUHJvZ3Jlc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFmUHJvZ3Jlc3MpO1xuXG52YXIgX3JhZiA9IHJlcXVpcmUoXCIuLi9yYWZcIik7XG5cbnZhciBfcmFmMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZik7XG5cbnZhciBfcmFmMyA9IHJlcXVpcmUoXCIuLi9yYWYyXCIpO1xuXG52YXIgX3JhZjQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWYzKTtcblxudmFyIF9yYWZUaW1lciA9IHJlcXVpcmUoXCIuLi9yYWYtdGltZXJcIik7XG5cbnZhciBfcmFmVGltZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFmVGltZXIpO1xuXG52YXIgX3JheWNhc3RpbmcgPSByZXF1aXJlKFwiLi4vcmF5Y2FzdGluZzJcIik7XG5cbnZhciBfcmF5Y2FzdGluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYXljYXN0aW5nKTtcblxudmFyIF9yYXljYXN0aW5nMyA9IHJlcXVpcmUoXCIuLi9yYXljYXN0aW5nM1wiKTtcblxudmFyIF9yYXljYXN0aW5nNCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JheWNhc3RpbmczKTtcblxudmFyIF9yYXljYXN0aW5nNSA9IHJlcXVpcmUoXCIuLi9yYXljYXN0aW5nXCIpO1xuXG52YXIgX3JheWNhc3Rpbmc2ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmF5Y2FzdGluZzUpO1xuXG52YXIgX3Njcm9sbERlbW8gPSByZXF1aXJlKFwiLi4vc2Nyb2xsLWRlbW9cIik7XG5cbnZhciBfc2Nyb2xsRGVtbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zY3JvbGxEZW1vKTtcblxudmFyIF9zY3JvbGxEZW1vMyA9IHJlcXVpcmUoXCIuLi9zY3JvbGwtZGVtbzJcIik7XG5cbnZhciBfc2Nyb2xsRGVtbzQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zY3JvbGxEZW1vMyk7XG5cbnZhciBfc2Nyb2xsRGVtbzUgPSByZXF1aXJlKFwiLi4vc2Nyb2xsLWRlbW8zXCIpO1xuXG52YXIgX3Njcm9sbERlbW82ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2Nyb2xsRGVtbzUpO1xuXG52YXIgX3Njcm9sbERlbW83ID0gcmVxdWlyZShcIi4uL3Njcm9sbC1kZW1vNFwiKTtcblxudmFyIF9zY3JvbGxEZW1vOCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Njcm9sbERlbW83KTtcblxudmFyIF9zY3JvbGxEZW1vOSA9IHJlcXVpcmUoXCIuLi9zY3JvbGwtZGVtbzVcIik7XG5cbnZhciBfc2Nyb2xsRGVtbzEwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2Nyb2xsRGVtbzkpO1xuXG52YXIgX3RleHRTcGxpdCA9IHJlcXVpcmUoXCIuLi90ZXh0LXNwbGl0XCIpO1xuXG52YXIgX3RleHRTcGxpdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90ZXh0U3BsaXQpO1xuXG52YXIgX3RocmVlU2NlbmVSZW5kZXJlciA9IHJlcXVpcmUoXCIuLi90aHJlZS1zY2VuZS1yZW5kZXJlclwiKTtcblxudmFyIF90aHJlZVNjZW5lUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGhyZWVTY2VuZVJlbmRlcmVyKTtcblxudmFyIF90aHJlZVNjZW5lUmVuZGVyZXIzID0gcmVxdWlyZShcIi4uL3RocmVlLXNjZW5lLXJlbmRlcmVyMlwiKTtcblxudmFyIF90aHJlZVNjZW5lUmVuZGVyZXI0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGhyZWVTY2VuZVJlbmRlcmVyMyk7XG5cbnZhciBfdGhyZWVMaWdodFRlc3QgPSByZXF1aXJlKFwiLi4vdGhyZWUtbGlnaHQtdGVzdFwiKTtcblxudmFyIF90aHJlZUxpZ2h0VGVzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aHJlZUxpZ2h0VGVzdCk7XG5cbnZhciBfdGhyZWVMaWdodFRlc3QzID0gcmVxdWlyZShcIi4uL3RocmVlLWxpZ2h0LXRlc3QyXCIpO1xuXG52YXIgX3RocmVlTGlnaHRUZXN0NCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RocmVlTGlnaHRUZXN0Myk7XG5cbnZhciBfdGhyZWVPYmplY3RWaWV3ZXIgPSByZXF1aXJlKFwiLi4vdGhyZWUtb2JqZWN0LXZpZXdlclwiKTtcblxudmFyIF90aHJlZU9iamVjdFZpZXdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aHJlZU9iamVjdFZpZXdlcik7XG5cbnZhciBfdGhyZWVPYmplY3RWaWV3ZXIzID0gcmVxdWlyZShcIi4uL3RocmVlLW9iamVjdC12aWV3ZXIxMFwiKTtcblxudmFyIF90aHJlZU9iamVjdFZpZXdlcjQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aHJlZU9iamVjdFZpZXdlcjMpO1xuXG52YXIgX3RocmVlT2JqZWN0Vmlld2VyNSA9IHJlcXVpcmUoXCIuLi90aHJlZS1vYmplY3Qtdmlld2VyMTFcIik7XG5cbnZhciBfdGhyZWVPYmplY3RWaWV3ZXI2ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGhyZWVPYmplY3RWaWV3ZXI1KTtcblxudmFyIF90aHJlZU9iamVjdFZpZXdlcjcgPSByZXF1aXJlKFwiLi4vdGhyZWUtb2JqZWN0LXZpZXdlcjJcIik7XG5cbnZhciBfdGhyZWVPYmplY3RWaWV3ZXI4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGhyZWVPYmplY3RWaWV3ZXI3KTtcblxudmFyIF90aHJlZU9iamVjdFZpZXdlcjkgPSByZXF1aXJlKFwiLi4vdGhyZWUtb2JqZWN0LXZpZXdlcjNcIik7XG5cbnZhciBfdGhyZWVPYmplY3RWaWV3ZXIxMCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RocmVlT2JqZWN0Vmlld2VyOSk7XG5cbnZhciBfdGhyZWVPYmplY3RWaWV3ZXIxMSA9IHJlcXVpcmUoXCIuLi90aHJlZS1vYmplY3Qtdmlld2VyNFwiKTtcblxudmFyIF90aHJlZU9iamVjdFZpZXdlcjEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGhyZWVPYmplY3RWaWV3ZXIxMSk7XG5cbnZhciBfdGhyZWVPYmplY3RWaWV3ZXIxMyA9IHJlcXVpcmUoXCIuLi90aHJlZS1vYmplY3Qtdmlld2VyNVwiKTtcblxudmFyIF90aHJlZU9iamVjdFZpZXdlcjE0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGhyZWVPYmplY3RWaWV3ZXIxMyk7XG5cbnZhciBfdGhyZWVPYmplY3RWaWV3ZXIxNSA9IHJlcXVpcmUoXCIuLi90aHJlZS1vYmplY3Qtdmlld2VyNlwiKTtcblxudmFyIF90aHJlZU9iamVjdFZpZXdlcjE2ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGhyZWVPYmplY3RWaWV3ZXIxNSk7XG5cbnZhciBfdGhyZWVPYmplY3RWaWV3ZXIxNyA9IHJlcXVpcmUoXCIuLi90aHJlZS1vYmplY3Qtdmlld2VyN1wiKTtcblxudmFyIF90aHJlZU9iamVjdFZpZXdlcjE4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGhyZWVPYmplY3RWaWV3ZXIxNyk7XG5cbnZhciBfdGhyZWVPYmplY3RWaWV3ZXIxOSA9IHJlcXVpcmUoXCIuLi90aHJlZS1vYmplY3Qtdmlld2VyOFwiKTtcblxudmFyIF90aHJlZU9iamVjdFZpZXdlcjIwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGhyZWVPYmplY3RWaWV3ZXIxOSk7XG5cbnZhciBfdGhyZWVPYmplY3RWaWV3ZXIyMSA9IHJlcXVpcmUoXCIuLi90aHJlZS1vYmplY3Qtdmlld2VyOVwiKTtcblxudmFyIF90aHJlZU9iamVjdFZpZXdlcjIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGhyZWVPYmplY3RWaWV3ZXIyMSk7XG5cbnZhciBfdmVjdG9yRG9tID0gcmVxdWlyZShcIi4uL3ZlY3Rvci1kb21cIik7XG5cbnZhciBfdmVjdG9yRG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZlY3RvckRvbSk7XG5cbnZhciBfdmVjdG9yRG9tMyA9IHJlcXVpcmUoXCIuLi92ZWN0b3ItZG9tMlwiKTtcblxudmFyIF92ZWN0b3JEb200ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmVjdG9yRG9tMyk7XG5cbnZhciBfdmVjdG9yRG9tNSA9IHJlcXVpcmUoXCIuLi92ZWN0b3ItZG9tM1wiKTtcblxudmFyIF92ZWN0b3JEb202ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmVjdG9yRG9tNSk7XG5cbnZhciBfdmlkZW9Qcm9ncmVzcyA9IHJlcXVpcmUoXCIuLi92aWRlby1wcm9ncmVzc1wiKTtcblxudmFyIF92aWRlb1Byb2dyZXNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZpZGVvUHJvZ3Jlc3MpO1xuXG52YXIgX3dlYmdsSW1hZ2VTZXF1ZW5jZSA9IHJlcXVpcmUoXCIuLi93ZWJnbC1pbWFnZS1zZXF1ZW5jZVwiKTtcblxudmFyIF93ZWJnbEltYWdlU2VxdWVuY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2ViZ2xJbWFnZVNlcXVlbmNlKTtcblxudmFyIF93ZWJnbEltYWdlU2VxdWVuY2UzID0gcmVxdWlyZShcIi4uL3dlYmdsLWltYWdlLXNlcXVlbmNlMlwiKTtcblxudmFyIF93ZWJnbEltYWdlU2VxdWVuY2U0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2ViZ2xJbWFnZVNlcXVlbmNlMyk7XG5cbnZhciBfd2ViZ2xJbWFnZVNlcXVlbmNlNSA9IHJlcXVpcmUoXCIuLi93ZWJnbC1pbWFnZS1zZXF1ZW5jZTNcIik7XG5cbnZhciBfd2ViZ2xJbWFnZVNlcXVlbmNlNiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dlYmdsSW1hZ2VTZXF1ZW5jZTUpO1xuXG52YXIgX3dlYmdsSW1hZ2VTZXF1ZW5jZTcgPSByZXF1aXJlKFwiLi4vd2ViZ2wtaW1hZ2Utc2VxdWVuY2U0XCIpO1xuXG52YXIgX3dlYmdsSW1hZ2VTZXF1ZW5jZTggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93ZWJnbEltYWdlU2VxdWVuY2U3KTtcblxudmFyIF93ZWJnbEltYWdlU2VxdWVuY2U5ID0gcmVxdWlyZShcIi4uL3dlYmdsLWltYWdlLXNlcXVlbmNlNVwiKTtcblxudmFyIF93ZWJnbEltYWdlU2VxdWVuY2UxMCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dlYmdsSW1hZ2VTZXF1ZW5jZTkpO1xuXG52YXIgX3dlYmdsSW1hZ2VTZXF1ZW5jZTExID0gcmVxdWlyZShcIi4uL3dlYmdsLWltYWdlLXNlcXVlbmNlN1wiKTtcblxudmFyIF93ZWJnbEltYWdlU2VxdWVuY2UxMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dlYmdsSW1hZ2VTZXF1ZW5jZTExKTtcblxudmFyIF93ZWJnbEltYWdlU2VxdWVuY2UxMyA9IHJlcXVpcmUoXCIuLi93ZWJnbC1pbWFnZS1zZXF1ZW5jZTlcIik7XG5cbnZhciBfd2ViZ2xJbWFnZVNlcXVlbmNlMTQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93ZWJnbEltYWdlU2VxdWVuY2UxMyk7XG5cbnZhciBfeCA9IHJlcXVpcmUoXCIuLi94MlwiKTtcblxudmFyIF94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3gpO1xuXG52YXIgX3gzID0gcmVxdWlyZShcIi4uL3hcIik7XG5cbnZhciBfeDQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF94Myk7XG5cbnZhciBfaW52aWV3ID0gcmVxdWlyZShcIi4uL2ludmlld1wiKTtcblxudmFyIF9pbnZpZXcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52aWV3KTtcblxudmFyIF93ZWJnbCA9IHJlcXVpcmUoXCIuLi93ZWJnbFwiKTtcblxudmFyIF93ZWJnbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93ZWJnbCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8vIEV4YW1wbGVzLlxuLy8gaW1wb3J0IFZpZGVvUHJvZ3Jlc3NTYW1wbGUgZnJvbSAnLi4vcGxheWdyb3VuZC92aWRlby1wcm9ncmVzcyc7XG5jb25zdCBzYW1wbGVzID0ge1xuICAnZWFzZXJEaXNhYmxlUmFmU2FtcGxlJzogX2Vhc2VyRGlzYWJsZVJhZjIuZGVmYXVsdCxcbiAgJ2Vhc2VyU2FtcGxlJzogX2Vhc2VyMi5kZWZhdWx0LFxuICAnaW50ZXJwb2xhdGVTYW1wbGUnOiBfaW50ZXJwb2xhdGUyLmRlZmF1bHQsXG4gICdtYXRoZkVhc2VTYW1wbGUnOiBfbWF0aGZFYXNlMi5kZWZhdWx0LFxuICAnbXVsdGlJbnRlcnBvbGF0ZVNhbXBsZSc6IF9tdWx0aUludGVycG9sYXRlMi5kZWZhdWx0LFxuICAnY3NzVmFySW50ZXJwb2xhdGVTYW1wbGUnOiBfY3NzVmFySW50ZXJwb2xhdGUyLmRlZmF1bHQsXG4gICdjc3NWYXJJbnRlcnBvbGF0ZVNhbXBsZTInOiBfY3NzVmFySW50ZXJwb2xhdGU0LmRlZmF1bHQsXG4gICdjc3NWYXJJbnRlcnBvbGF0ZVNhbXBsZTMnOiBfY3NzVmFySW50ZXJwb2xhdGU2LmRlZmF1bHQsXG4gICdjYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlJzogX2NhbnZhc0ltYWdlU2VxdWVuY2UyLmRlZmF1bHQsXG4gICdjYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlMic6IF9jYW52YXNJbWFnZVNlcXVlbmNlNi5kZWZhdWx0LFxuICAnY2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTMnOiBfY2FudmFzSW1hZ2VTZXF1ZW5jZTguZGVmYXVsdCxcbiAgJ2NhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU0JzogX2NhbnZhc0ltYWdlU2VxdWVuY2UxMC5kZWZhdWx0LFxuICAnY2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTUnOiBfY2FudmFzSW1hZ2VTZXF1ZW5jZTEyLmRlZmF1bHQsXG4gICdjYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlNyc6IF9jYW52YXNJbWFnZVNlcXVlbmNlMTQuZGVmYXVsdCxcbiAgJ2NhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU4JzogX2NhbnZhc0ltYWdlU2VxdWVuY2UxNi5kZWZhdWx0LFxuICAnY2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTknOiBfY2FudmFzSW1hZ2VTZXF1ZW5jZTE4LmRlZmF1bHQsXG4gICdjYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlMTAnOiBfY2FudmFzSW1hZ2VTZXF1ZW5jZTQuZGVmYXVsdCxcbiAgJ3dlYmdsSW1hZ2VTZXF1ZW5jZVNhbXBsZSc6IF93ZWJnbEltYWdlU2VxdWVuY2UyLmRlZmF1bHQsXG4gICd3ZWJnbEltYWdlU2VxdWVuY2VTYW1wbGUyJzogX3dlYmdsSW1hZ2VTZXF1ZW5jZTQuZGVmYXVsdCxcbiAgJ3dlYmdsSW1hZ2VTZXF1ZW5jZVNhbXBsZTMnOiBfd2ViZ2xJbWFnZVNlcXVlbmNlNi5kZWZhdWx0LFxuICAnd2ViZ2xJbWFnZVNlcXVlbmNlU2FtcGxlNCc6IF93ZWJnbEltYWdlU2VxdWVuY2U4LmRlZmF1bHQsXG4gICd3ZWJnbEltYWdlU2VxdWVuY2VTYW1wbGU1JzogX3dlYmdsSW1hZ2VTZXF1ZW5jZTEwLmRlZmF1bHQsXG4gICd3ZWJnbEltYWdlU2VxdWVuY2VTYW1wbGU3JzogX3dlYmdsSW1hZ2VTZXF1ZW5jZTEyLmRlZmF1bHQsXG4gICd3ZWJnbEltYWdlU2VxdWVuY2VTYW1wbGU5JzogX3dlYmdsSW1hZ2VTZXF1ZW5jZTE0LmRlZmF1bHQsXG4gICdyYWZTYW1wbGUnOiBfcmFmMi5kZWZhdWx0LFxuICAncmFmU2FtcGxlMic6IF9yYWY0LmRlZmF1bHQsXG4gICdyYWZUaW1lclNhbXBsZSc6IF9yYWZUaW1lcjIuZGVmYXVsdCxcbiAgJ3JhZlByb2dyZXNzU2FtcGxlJzogX3JhZlByb2dyZXNzMi5kZWZhdWx0LFxuICAncGxheWdyb3VuZFNhbXBsZSc6IF9wbGF5Z3JvdW5kMi5kZWZhdWx0LFxuICAnb2ZmU2NyZWVuQ2FudmFzU2FtcGxlJzogX29mZlNjcmVlbkNhbnZhczIuZGVmYXVsdCxcbiAgJ2NhdG11bGxSb21TYW1wbGUnOiBfY2F0bXVsbFJvbTIuZGVmYXVsdCxcbiAgJ2hlcm1pdEN1cnZlU2FtcGxlJzogX2hlcm1pdGVDdXJ2ZTIuZGVmYXVsdCxcbiAgJ2JlemllckN1cnZlU2FtcGxlJzogX2JlemllckN1cnZlMi5kZWZhdWx0LFxuICAndmlkZW9Qcm9ncmVzc1NhbXBsZSc6IF92aWRlb1Byb2dyZXNzMi5kZWZhdWx0LFxuICAnbWF0cml4SVZTYW1wbGUnOiBfbWF0cml4SVYyLmRlZmF1bHQsXG4gICdtYXRyaXhJVlNhbXBsZTInOiBfbWF0cml4SVY0LmRlZmF1bHQsXG4gICdtYXRyaXhJVlNhbXBsZTMnOiBfbWF0cml4SVY2LmRlZmF1bHQsXG4gICdwc2V1ZG8zZENhbnZhc1NhbXBsZSc6IF9wc2V1ZG8zZENhbnZhczIuZGVmYXVsdCxcbiAgJ3ZlY3RvckRvbVNhbXBsZSc6IF92ZWN0b3JEb20yLmRlZmF1bHQsXG4gICd2ZWN0b3JEb21TYW1wbGUyJzogX3ZlY3RvckRvbTQuZGVmYXVsdCxcbiAgJ3ZlY3RvckRvbVNhbXBsZTMnOiBfdmVjdG9yRG9tNi5kZWZhdWx0LFxuICAncmF5Q2FzdGluZ1NhbXBsZSc6IF9yYXljYXN0aW5nNi5kZWZhdWx0LFxuICAncmF5Q2FzdGluZzJTYW1wbGUnOiBfcmF5Y2FzdGluZzIuZGVmYXVsdCxcbiAgJ3JheUNhc3RpbmczU2FtcGxlJzogX3JheWNhc3Rpbmc0LmRlZmF1bHQsXG4gICdxdWF0ZXJuaW9uU2FtcGxlJzogX3F1YXRlcm5pb24yLmRlZmF1bHQsXG4gICd4U2FtcGxlJzogX3g0LmRlZmF1bHQsXG4gICd4MlNhbXBsZSc6IF94Mi5kZWZhdWx0LFxuICAnZG9tV2F0Y2hlclNhbXBsZSc6IF9kb21XYXRjaGVyMi5kZWZhdWx0LFxuICAnZG9tQ2FudmFzU2FtcGxlJzogX2RvbUNhbnZhczIuZGVmYXVsdCxcbiAgJ3Blcmxpbk5vaXNlU2FtcGxlJzogX3Blcmxpbk5vaXNlMi5kZWZhdWx0LFxuICAnc2Nyb2xsRGVtb1NhbXBsZSc6IF9zY3JvbGxEZW1vMi5kZWZhdWx0LFxuICAnc2Nyb2xsRGVtb1NhbXBsZTInOiBfc2Nyb2xsRGVtbzQuZGVmYXVsdCxcbiAgJ3Njcm9sbERlbW9TYW1wbGUzJzogX3Njcm9sbERlbW82LmRlZmF1bHQsXG4gICdzY3JvbGxEZW1vU2FtcGxlNCc6IF9zY3JvbGxEZW1vOC5kZWZhdWx0LFxuICAnc2Nyb2xsRGVtb1NhbXBsZTUnOiBfc2Nyb2xsRGVtbzEwLmRlZmF1bHQsXG4gICd0aHJlZVNjZW5lUmVuZGVyZXInOiBfdGhyZWVTY2VuZVJlbmRlcmVyMi5kZWZhdWx0LFxuICAndGhyZWVTY2VuZVJlbmRlcmVyMic6IF90aHJlZVNjZW5lUmVuZGVyZXI0LmRlZmF1bHQsXG4gICd0aHJlZUxpZ2h0VGVzdCc6IF90aHJlZUxpZ2h0VGVzdDIuZGVmYXVsdCxcbiAgJ3RocmVlTGlnaHRUZXN0Mic6IF90aHJlZUxpZ2h0VGVzdDQuZGVmYXVsdCxcbiAgJ3RocmVlT2JqZWN0Vmlld2VyJzogX3RocmVlT2JqZWN0Vmlld2VyMi5kZWZhdWx0LFxuICAndGhyZWVPYmplY3RWaWV3ZXIyJzogX3RocmVlT2JqZWN0Vmlld2VyOC5kZWZhdWx0LFxuICAndGhyZWVPYmplY3RWaWV3ZXIzJzogX3RocmVlT2JqZWN0Vmlld2VyMTAuZGVmYXVsdCxcbiAgJ3RocmVlT2JqZWN0Vmlld2VyNCc6IF90aHJlZU9iamVjdFZpZXdlcjEyLmRlZmF1bHQsXG4gICd0aHJlZU9iamVjdFZpZXdlcjUnOiBfdGhyZWVPYmplY3RWaWV3ZXIxNC5kZWZhdWx0LFxuICAndGhyZWVPYmplY3RWaWV3ZXI2JzogX3RocmVlT2JqZWN0Vmlld2VyMTYuZGVmYXVsdCxcbiAgJ3RocmVlT2JqZWN0Vmlld2VyNyc6IF90aHJlZU9iamVjdFZpZXdlcjE4LmRlZmF1bHQsXG4gICd0aHJlZU9iamVjdFZpZXdlcjgnOiBfdGhyZWVPYmplY3RWaWV3ZXIyMC5kZWZhdWx0LFxuICAndGhyZWVPYmplY3RWaWV3ZXI5JzogX3RocmVlT2JqZWN0Vmlld2VyMjIuZGVmYXVsdCxcbiAgJ3RocmVlT2JqZWN0Vmlld2VyMTAnOiBfdGhyZWVPYmplY3RWaWV3ZXI0LmRlZmF1bHQsXG4gICd0aHJlZU9iamVjdFZpZXdlcjExJzogX3RocmVlT2JqZWN0Vmlld2VyNi5kZWZhdWx0LFxuICAndGV4dFNwbGl0U2FtcGxlJzogX3RleHRTcGxpdDIuZGVmYXVsdCxcbiAgJ3dlYkdsU2FtcGxlJzogX3dlYmdsMi5kZWZhdWx0LFxuICAnZ2xzbFBsYXlncm91bmQnOiBfZ2xzbFBsYXlncm91bmQyLmRlZmF1bHQsXG4gICdnbHNsUGxheWdyb3VuZDInOiBfZ2xzbFBsYXlncm91bmQ0LmRlZmF1bHQsXG4gICdnbHNsUGxheWdyb3VuZDMnOiBfZ2xzbFBsYXlncm91bmQ2LmRlZmF1bHQsXG4gICdnbHNsUGxheWdyb3VuZDQnOiBfZ2xzbFBsYXlncm91bmQ4LmRlZmF1bHQsXG4gICdnbHNsUGxheWdyb3VuZDUnOiBfZ2xzbFBsYXlncm91bmQxMC5kZWZhdWx0LFxuICAnZ2xzbFBsYXlncm91bmQ2JzogX2dsc2xQbGF5Z3JvdW5kMTIuZGVmYXVsdCxcbiAgJ2dsc2xQbGF5Z3JvdW5kNyc6IF9nbHNsUGxheWdyb3VuZDE0LmRlZmF1bHQsXG4gICdnbHNsUGxheWdyb3VuZDgnOiBfZ2xzbFBsYXlncm91bmQxNi5kZWZhdWx0LFxuICAnZ2xzbFBsYXlncm91bmQ5JzogX2dsc2xQbGF5Z3JvdW5kMTguZGVmYXVsdCxcbiAgJ2dsc2xQbGF5Z3JvdW5kMTAnOiBfZ2xzbFBsYXlncm91bmQyMC5kZWZhdWx0LFxuICAnZ2xzbFBsYXlncm91bmQxMSc6IF9nbHNsUGxheWdyb3VuZDIyLmRlZmF1bHQsXG4gICdnbHNsUGxheWdyb3VuZDEyJzogX2dsc2xQbGF5Z3JvdW5kMjQuZGVmYXVsdCxcbiAgJ2dsc2xQbGF5Z3JvdW5kMTMnOiBfZ2xzbFBsYXlncm91bmQyNi5kZWZhdWx0LFxuICAnZ2xzbFBsYXlncm91bmQxNCc6IF9nbHNsUGxheWdyb3VuZDI4LmRlZmF1bHQsXG4gICdnbHNsUGxheWdyb3VuZDE1JzogX2dsc2xQbGF5Z3JvdW5kMzAuZGVmYXVsdCxcbiAgJ2dsc2xQbGF5Z3JvdW5kMTYnOiBfZ2xzbFBsYXlncm91bmQzMi5kZWZhdWx0LFxuICAnZ2xzbFBsYXlncm91bmQxNyc6IF9nbHNsUGxheWdyb3VuZDM0LmRlZmF1bHQsXG4gICdnbHNsUGxheWdyb3VuZDE4JzogX2dsc2xQbGF5Z3JvdW5kMzYuZGVmYXVsdCxcbiAgJ2dsc2xQbGF5Z3JvdW5kMTknOiBfZ2xzbFBsYXlncm91bmQzOC5kZWZhdWx0LFxuICAnZ2xzbFBsYXlncm91bmQyMCc6IF9nbHNsUGxheWdyb3VuZDQwLmRlZmF1bHQsXG4gICdnbHNsUGxheWdyb3VuZDIxJzogX2dsc2xQbGF5Z3JvdW5kNDIuZGVmYXVsdCxcbiAgJ2dsc2xQbGF5Z3JvdW5kMjInOiBfZ2xzbFBsYXlncm91bmQ0NC5kZWZhdWx0LFxuICAnZ2xzbFBsYXlncm91bmQyMyc6IF9nbHNsUGxheWdyb3VuZDQ2LmRlZmF1bHQsXG4gICdnbHNsUGxheWdyb3VuZDI0JzogX2dsc2xQbGF5Z3JvdW5kNDguZGVmYXVsdCxcbiAgJ2dsc2xQbGF5Z3JvdW5kMjUnOiBfZ2xzbFBsYXlncm91bmQ1MC5kZWZhdWx0LFxuICAnZ2xzbFBsYXlncm91bmQyNic6IF9nbHNsUGxheWdyb3VuZDUyLmRlZmF1bHQsXG4gICdnbHNsUGxheWdyb3VuZDI3JzogX2dsc2xQbGF5Z3JvdW5kNTQuZGVmYXVsdCxcbiAgJ2dsc2xQbGF5Z3JvdW5kMjgnOiBfZ2xzbFBsYXlncm91bmQ1Ni5kZWZhdWx0LFxuICAnZ2xzbFBsYXlncm91bmQyOSc6IF9nbHNsUGxheWdyb3VuZDU4LmRlZmF1bHQsXG4gICdnbHNsUGxheWdyb3VuZDMwJzogX2dsc2xQbGF5Z3JvdW5kNjAuZGVmYXVsdCxcbiAgJ2ludmlld1NhbXBsZSc6IF9pbnZpZXcyLmRlZmF1bHRcbn07XG5cbmNsYXNzIE1haW4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNyZWF0ZUNsYXNzSW5zdGFuY2VGcm9tQXR0cmlidXRlXygpO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3NJbnN0YW5jZUZyb21BdHRyaWJ1dGVfKCkge1xuICAgIC8vIERvIGEgbG9vayB1cCBvZiB0aGUgJ2ludC1zYW1wbGUnIGRhdGEgYXR0cmlidXRlIGFuZCB0aGVuXG4gICAgLy8gYXR0ZW1wdCB0byBydW4gYW4gaW5zdGFuY2Ugb2YgYSBjbGFzcyB3aXRoIHRoYXQgZGF0YSBhdHRyaWJ1dGUgbmFtZS5cbiAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tpbml0LXNhbXBsZV0nKTtcblxuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBjbGFzc05hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaW5pdC1zYW1wbGUnKTtcblxuICAgIGlmIChzYW1wbGVzW2NsYXNzTmFtZV0pIHtcbiAgICAgIGNvbnNvbGUubG9nKCdJbnN0YW50aWF0aW5nJywgY2xhc3NOYW1lKTtcbiAgICAgIG5ldyBzYW1wbGVzW2NsYXNzTmFtZV0oKTtcbiAgICB9XG4gIH1cblxufVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgbmV3IE1haW4oKTtcbn0pOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/scripts/index.js\n");

/***/ }),

/***/ "./examples/scroll-demo.js":
/*!*********************************!*\
  !*** ./examples/scroll-demo.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _vectorDom = __webpack_require__(/*! ../lib/dom/vector-dom */ \"./lib/dom/vector-dom.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _elementVisibility = __webpack_require__(/*! ../lib/dom/element-visibility */ \"./lib/dom/element-visibility.js\");\n\nclass ScrollDemoSample {\n  constructor() {\n    console.log('hello');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.parentElement = document.getElementById('parent');\n    this.moduleHeight = this.parentElement.offsetHeight;\n    this.childElement = document.getElementById('child'); // Instance of rafProgress.\n\n    const rafProgress = new _rafProgress.RafProgress(); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n        rafProgress.easeTo(this.progress, 0.25, _ease.EASE.Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.flowerElement = document.getElementById('flower');\n    this.flowerVector = new _vectorDom.VectorDom(this.flowerElement);\n    this.flowerVector.anchorX = 0;\n    this.flowerVector.anchorY = 0;\n    this.flowerVector.init(); // Update progress immediately on load.\n\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n    rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    rafProgress.watch(this.onProgressUpdate.bind(this)); // Element visibility.\n\n    let observer = _elementVisibility.elementVisibility.inview(document.getElementById('footer-title'), {}, (element, changes, dispose) => {\n      if (changes.isIntersecting) {\n        console.log('inview');\n        element.classList.add('active');\n      } else {\n        console.log('not inview');\n        element.classList.remove('active');\n      }\n    }); // Example of using DOMWatcher to do something when the footer title\n    // is inview.\n\n\n    let ev = _elementVisibility.elementVisibility.inview(document.getElementById('footer-title'), {});\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      eventOptions: {\n        passive: true\n      },\n      callback: () => {\n        console.log('this should only run when the footer is inview');\n      },\n      runWhen: () => {\n        return ev.state().inview;\n      }\n    }); // Example of disposing the element visibility after\n    // 10 seconds.\n    // window.setTimeout(() => {\n    //     console.log('dispoed');\n    //     observer.dispose();\n    // }, 10000);\n  } // Runs every time eased progress is updated.\n\n\n  onProgressUpdate(easedProgress, direction) {\n    let sin = Math.sin(easedProgress); // Add some rotation per progress update.\n\n    this.flowerVector.rz += 0.1;\n    this.flowerVector.rotation.slerpEulerVector(this.flowerVector.eularRotation, 0.08); // Add some movement.\n\n    let x = (window.innerWidth - this.flowerVector.width) * easedProgress;\n    let y = (window.innerHeight - this.flowerVector.height) * easedProgress; // Since we need to offset.\n\n    let z = 1 * easedProgress - 0.5;\n    this.flowerVector.x = x;\n    this.flowerVector.y = y;\n    this.flowerVector.z = z;\n    this.flowerVector.render();\n  }\n\n}\n\nexports.default = ScrollDemoSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9zY3JvbGwtZGVtby5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3Njcm9sbC1kZW1vLmpzP2MzY2IiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmFmUHJvZ3Jlc3MgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3NcIik7XG5cbnZhciBfZG9tV2F0Y2hlciA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbS13YXRjaGVyXCIpO1xuXG52YXIgX3ZlY3RvckRvbSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL3ZlY3Rvci1kb21cIik7XG5cbnZhciBfZWFzZSA9IHJlcXVpcmUoXCIuLi9saWIvZWFzZS9lYXNlXCIpO1xuXG52YXIgX2RvbSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbVwiKTtcblxudmFyIF9lbGVtZW50VmlzaWJpbGl0eSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2VsZW1lbnQtdmlzaWJpbGl0eVwiKTtcblxuY2xhc3MgU2Nyb2xsRGVtb1NhbXBsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdoZWxsbycpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpO1xuICAgIHRoaXMubW9kdWxlSGVpZ2h0ID0gdGhpcy5wYXJlbnRFbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICB0aGlzLmNoaWxkRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGlsZCcpOyAvLyBJbnN0YW5jZSBvZiByYWZQcm9ncmVzcy5cblxuICAgIGNvbnN0IHJhZlByb2dyZXNzID0gbmV3IF9yYWZQcm9ncmVzcy5SYWZQcm9ncmVzcygpOyAvLyBVcGRhdGUgdGhlIHByb2dyZXNzIHZhbHVlIHBlciBzY3JvbGwuXG5cbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGNhbGxiYWNrOiBldmVudCA9PiB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBfZG9tLmRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCk7XG4gICAgICAgIHJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjI1LCBfZWFzZS5FQVNFLkxpbmVhcik7XG4gICAgICB9LFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmZsb3dlckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmxvd2VyJyk7XG4gICAgdGhpcy5mbG93ZXJWZWN0b3IgPSBuZXcgX3ZlY3RvckRvbS5WZWN0b3JEb20odGhpcy5mbG93ZXJFbGVtZW50KTtcbiAgICB0aGlzLmZsb3dlclZlY3Rvci5hbmNob3JYID0gMDtcbiAgICB0aGlzLmZsb3dlclZlY3Rvci5hbmNob3JZID0gMDtcbiAgICB0aGlzLmZsb3dlclZlY3Rvci5pbml0KCk7IC8vIFVwZGF0ZSBwcm9ncmVzcyBpbW1lZGlhdGVseSBvbiBsb2FkLlxuXG4gICAgdGhpcy5wcm9ncmVzcyA9IF9kb20uZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICByYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgX2Vhc2UuRUFTRS5MaW5lYXIpO1xuICAgIHJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTsgLy8gRWxlbWVudCB2aXNpYmlsaXR5LlxuXG4gICAgbGV0IG9ic2VydmVyID0gX2VsZW1lbnRWaXNpYmlsaXR5LmVsZW1lbnRWaXNpYmlsaXR5Lmludmlldyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9vdGVyLXRpdGxlJyksIHt9LCAoZWxlbWVudCwgY2hhbmdlcywgZGlzcG9zZSkgPT4ge1xuICAgICAgaWYgKGNoYW5nZXMuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2ludmlldycpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ25vdCBpbnZpZXcnKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9KTsgLy8gRXhhbXBsZSBvZiB1c2luZyBET01XYXRjaGVyIHRvIGRvIHNvbWV0aGluZyB3aGVuIHRoZSBmb290ZXIgdGl0bGVcbiAgICAvLyBpcyBpbnZpZXcuXG5cblxuICAgIGxldCBldiA9IF9lbGVtZW50VmlzaWJpbGl0eS5lbGVtZW50VmlzaWJpbGl0eS5pbnZpZXcoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvb3Rlci10aXRsZScpLCB7fSk7XG5cbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9LFxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ3RoaXMgc2hvdWxkIG9ubHkgcnVuIHdoZW4gdGhlIGZvb3RlciBpcyBpbnZpZXcnKTtcbiAgICAgIH0sXG4gICAgICBydW5XaGVuOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiBldi5zdGF0ZSgpLmludmlldztcbiAgICAgIH1cbiAgICB9KTsgLy8gRXhhbXBsZSBvZiBkaXNwb3NpbmcgdGhlIGVsZW1lbnQgdmlzaWJpbGl0eSBhZnRlclxuICAgIC8vIDEwIHNlY29uZHMuXG4gICAgLy8gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgIC8vICAgICBjb25zb2xlLmxvZygnZGlzcG9lZCcpO1xuICAgIC8vICAgICBvYnNlcnZlci5kaXNwb3NlKCk7XG4gICAgLy8gfSwgMTAwMDApO1xuICB9IC8vIFJ1bnMgZXZlcnkgdGltZSBlYXNlZCBwcm9ncmVzcyBpcyB1cGRhdGVkLlxuXG5cbiAgb25Qcm9ncmVzc1VwZGF0ZShlYXNlZFByb2dyZXNzLCBkaXJlY3Rpb24pIHtcbiAgICBsZXQgc2luID0gTWF0aC5zaW4oZWFzZWRQcm9ncmVzcyk7IC8vIEFkZCBzb21lIHJvdGF0aW9uIHBlciBwcm9ncmVzcyB1cGRhdGUuXG5cbiAgICB0aGlzLmZsb3dlclZlY3Rvci5yeiArPSAwLjE7XG4gICAgdGhpcy5mbG93ZXJWZWN0b3Iucm90YXRpb24uc2xlcnBFdWxlclZlY3Rvcih0aGlzLmZsb3dlclZlY3Rvci5ldWxhclJvdGF0aW9uLCAwLjA4KTsgLy8gQWRkIHNvbWUgbW92ZW1lbnQuXG5cbiAgICBsZXQgeCA9ICh3aW5kb3cuaW5uZXJXaWR0aCAtIHRoaXMuZmxvd2VyVmVjdG9yLndpZHRoKSAqIGVhc2VkUHJvZ3Jlc3M7XG4gICAgbGV0IHkgPSAod2luZG93LmlubmVySGVpZ2h0IC0gdGhpcy5mbG93ZXJWZWN0b3IuaGVpZ2h0KSAqIGVhc2VkUHJvZ3Jlc3M7IC8vIFNpbmNlIHdlIG5lZWQgdG8gb2Zmc2V0LlxuXG4gICAgbGV0IHogPSAxICogZWFzZWRQcm9ncmVzcyAtIDAuNTtcbiAgICB0aGlzLmZsb3dlclZlY3Rvci54ID0geDtcbiAgICB0aGlzLmZsb3dlclZlY3Rvci55ID0geTtcbiAgICB0aGlzLmZsb3dlclZlY3Rvci56ID0gejtcbiAgICB0aGlzLmZsb3dlclZlY3Rvci5yZW5kZXIoKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFNjcm9sbERlbW9TYW1wbGU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/scroll-demo.js\n");

/***/ }),

/***/ "./examples/scroll-demo2.js":
/*!**********************************!*\
  !*** ./examples/scroll-demo2.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _vectorDom = __webpack_require__(/*! ../lib/dom/vector-dom */ \"./lib/dom/vector-dom.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _catmullRom = __webpack_require__(/*! ../lib/mathf/catmull-rom */ \"./lib/mathf/catmull-rom.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nvar _wave = __webpack_require__(/*! ../lib/mathf/wave */ \"./lib/mathf/wave.js\");\n\nclass ScrollDemoSample2 {\n  constructor() {\n    console.log('hello');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.parentElement = document.getElementById('parent');\n    this.moduleHeight = this.parentElement.offsetHeight;\n    this.childElement = document.getElementById('child');\n    this.pointer = _vector.Vector.ZERO;\n    this.easedProgress = 0;\n    this.progress = 0;\n    this.wave = new _wave.Wave(0.03); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Calculate the mouse position.\n\n    this.domWatcher.add({\n      element: this.childElement,\n      on: 'mousemove',\n      callback: event => {\n        let pageX;\n        let pageY;\n\n        if (event.touches) {\n          pageX = event.touches[0].pageX;\n          pageY = event.touches[0].pageY;\n        } else {\n          pageX = event.pageX;\n          pageY = event.pageY;\n        }\n\n        const x = pageX - this.childElement.offsetLeft;\n        const y = pageY - this.childElement.offsetTop - this.parentElement.offsetTop; // A pointer vector.\n\n        this.pointer = new _vector.Vector(x, y, 0);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.flowerElement = document.getElementById('flower');\n    this.flowerVector = new _vectorDom.VectorDom(this.flowerElement);\n    this.flowerVector.anchorX = 0;\n    this.flowerVector.anchorY = 0;\n    this.flowerVector.init();\n    this.flowerElement2 = document.getElementById('flower2');\n    this.flowerVector2 = new _vectorDom.VectorDom(this.flowerElement2);\n    this.flowerVector2.anchorX = 0.5;\n    this.flowerVector2.anchorY = 0.5; // keep this flower small.\n\n    this.flowerVector2.z = -0.5; // Center this flower\n\n    this.flowerVector2.setOffset(new _vector.Vector(this.childElement.offsetWidth / 2, this.childElement.offsetHeight / 2));\n    this.flowerVector2.init(); // Update progress immediately on load.\n\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this)).start();\n  }\n\n  onRaf() {\n    this.easedProgress = _mathf.mathf.lerp(this.easedProgress, this.progress, 0.25);\n    this.wave.update();\n    this.updateFirstFlower();\n    this.updateSecondFlower();\n  }\n  /**\n     * For this flower we will update it's position with acceleration.\n     * The flower should accelerate to the target position + a 10% mouse shift\n     * factor.\n     */\n\n\n  updateFirstFlower() {\n    // Add some movement.\n    let x = (window.innerWidth - this.flowerVector.width) * this.easedProgress;\n    let y = (window.innerHeight - this.flowerVector.height) * this.easedProgress; // Since we need to offset.\n\n    let z = 1 * this.easedProgress - 0.5; // This is the target position.\n\n    let targetPositionVector = new _vector.Vector(x, y, z); // Calcualte the distance.\n\n    const distanceVector = _vector.Vector.subtract(targetPositionVector, this.flowerVector.position); // Calculate the distance from the pointer.\n\n\n    const pointerDistanceVector = _vector.Vector.subtract(this.pointer, this.flowerVector.position); // Add the distance from the target to poitner but we don't want to\n    // make the pointer too strong, so scale it down.\n\n\n    distanceVector.add(pointerDistanceVector.scale(0.1)); // Add that distance to the acceleration of the flowerVector.\n\n    this.flowerVector.acceleration = _vector.Vector.ease(this.flowerVector.acceleration, distanceVector, 0.8); // Let's dampen the acceleration.\n\n    this.flowerVector.acceleration.lerp(_vector.Vector.ZERO, 0.8); // Finally add a little movement to the position itself to create a\n    // floaty feeling.\n\n    let floatyVector = new _vector.Vector(0 * this.wave.sinWave, 4 * this.wave.sinWave, 0);\n    this.flowerVector.position.add(floatyVector); // Finally also update alpha.\n\n    this.flowerVector.alpha = 1 * this.easedProgress + 0.5;\n    this.flowerVector.render();\n  }\n\n  updateSecondFlower() {\n    const pointer = this.pointer.clone(); // We don't want the pointer to affect the scale.\n\n    pointer.z = this.flowerVector2.z;\n\n    const distanceVector = _vector.Vector.subtract(pointer.subtract(this.flowerVector2.offset), this.flowerVector2.position);\n\n    this.flowerVector2.acceleration = _vector.Vector.ease(this.flowerVector2.acceleration, distanceVector, 0.8);\n    this.flowerVector2.acceleration.lerp(_vector.Vector.ZERO, 0.8); // Finally add a little movement to the position itself to create a\n    // floaty feeling.\n\n    let floatyVector = new _vector.Vector(0 * this.wave.sinWave, 10 * this.wave.sinWave, 0);\n    this.flowerVector2.position.add(floatyVector);\n    this.flowerVector2.render();\n  }\n\n}\n\nexports.default = ScrollDemoSample2;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9zY3JvbGwtZGVtbzIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9zY3JvbGwtZGVtbzIuanM/M2NhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yYWYgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWZcIik7XG5cbnZhciBfcmFmUHJvZ3Jlc3MgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3NcIik7XG5cbnZhciBfZG9tV2F0Y2hlciA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbS13YXRjaGVyXCIpO1xuXG52YXIgX3ZlY3RvckRvbSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL3ZlY3Rvci1kb21cIik7XG5cbnZhciBfZWFzZSA9IHJlcXVpcmUoXCIuLi9saWIvZWFzZS9lYXNlXCIpO1xuXG52YXIgX2RvbSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbVwiKTtcblxudmFyIF9tYXRoZiA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvbWF0aGZcIik7XG5cbnZhciBfY2F0bXVsbFJvbSA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvY2F0bXVsbC1yb21cIik7XG5cbnZhciBfdmVjdG9yID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi92ZWN0b3JcIik7XG5cbnZhciBfd2F2ZSA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvd2F2ZVwiKTtcblxuY2xhc3MgU2Nyb2xsRGVtb1NhbXBsZTIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygnaGVsbG8nKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgX2RvbVdhdGNoZXIuRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTtcbiAgICB0aGlzLm1vZHVsZUhlaWdodCA9IHRoaXMucGFyZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgdGhpcy5jaGlsZEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hpbGQnKTtcbiAgICB0aGlzLnBvaW50ZXIgPSBfdmVjdG9yLlZlY3Rvci5aRVJPO1xuICAgIHRoaXMuZWFzZWRQcm9ncmVzcyA9IDA7XG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgdGhpcy53YXZlID0gbmV3IF93YXZlLldhdmUoMC4wMyk7IC8vIFVwZGF0ZSB0aGUgcHJvZ3Jlc3MgdmFsdWUgcGVyIHNjcm9sbC5cblxuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgY2FsbGJhY2s6IGV2ZW50ID0+IHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IF9kb20uZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pOyAvLyBDYWxjdWxhdGUgdGhlIG1vdXNlIHBvc2l0aW9uLlxuXG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB0aGlzLmNoaWxkRWxlbWVudCxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiBldmVudCA9PiB7XG4gICAgICAgIGxldCBwYWdlWDtcbiAgICAgICAgbGV0IHBhZ2VZO1xuXG4gICAgICAgIGlmIChldmVudC50b3VjaGVzKSB7XG4gICAgICAgICAgcGFnZVggPSBldmVudC50b3VjaGVzWzBdLnBhZ2VYO1xuICAgICAgICAgIHBhZ2VZID0gZXZlbnQudG91Y2hlc1swXS5wYWdlWTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYWdlWCA9IGV2ZW50LnBhZ2VYO1xuICAgICAgICAgIHBhZ2VZID0gZXZlbnQucGFnZVk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB4ID0gcGFnZVggLSB0aGlzLmNoaWxkRWxlbWVudC5vZmZzZXRMZWZ0O1xuICAgICAgICBjb25zdCB5ID0gcGFnZVkgLSB0aGlzLmNoaWxkRWxlbWVudC5vZmZzZXRUb3AgLSB0aGlzLnBhcmVudEVsZW1lbnQub2Zmc2V0VG9wOyAvLyBBIHBvaW50ZXIgdmVjdG9yLlxuXG4gICAgICAgIHRoaXMucG9pbnRlciA9IG5ldyBfdmVjdG9yLlZlY3Rvcih4LCB5LCAwKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZmxvd2VyRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbG93ZXInKTtcbiAgICB0aGlzLmZsb3dlclZlY3RvciA9IG5ldyBfdmVjdG9yRG9tLlZlY3RvckRvbSh0aGlzLmZsb3dlckVsZW1lbnQpO1xuICAgIHRoaXMuZmxvd2VyVmVjdG9yLmFuY2hvclggPSAwO1xuICAgIHRoaXMuZmxvd2VyVmVjdG9yLmFuY2hvclkgPSAwO1xuICAgIHRoaXMuZmxvd2VyVmVjdG9yLmluaXQoKTtcbiAgICB0aGlzLmZsb3dlckVsZW1lbnQyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zsb3dlcjInKTtcbiAgICB0aGlzLmZsb3dlclZlY3RvcjIgPSBuZXcgX3ZlY3RvckRvbS5WZWN0b3JEb20odGhpcy5mbG93ZXJFbGVtZW50Mik7XG4gICAgdGhpcy5mbG93ZXJWZWN0b3IyLmFuY2hvclggPSAwLjU7XG4gICAgdGhpcy5mbG93ZXJWZWN0b3IyLmFuY2hvclkgPSAwLjU7IC8vIGtlZXAgdGhpcyBmbG93ZXIgc21hbGwuXG5cbiAgICB0aGlzLmZsb3dlclZlY3RvcjIueiA9IC0wLjU7IC8vIENlbnRlciB0aGlzIGZsb3dlclxuXG4gICAgdGhpcy5mbG93ZXJWZWN0b3IyLnNldE9mZnNldChuZXcgX3ZlY3Rvci5WZWN0b3IodGhpcy5jaGlsZEVsZW1lbnQub2Zmc2V0V2lkdGggLyAyLCB0aGlzLmNoaWxkRWxlbWVudC5vZmZzZXRIZWlnaHQgLyAyKSk7XG4gICAgdGhpcy5mbG93ZXJWZWN0b3IyLmluaXQoKTsgLy8gVXBkYXRlIHByb2dyZXNzIGltbWVkaWF0ZWx5IG9uIGxvYWQuXG5cbiAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgIHRoaXMucmFmID0gbmV3IF9yYWYuUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSkuc3RhcnQoKTtcbiAgfVxuXG4gIG9uUmFmKCkge1xuICAgIHRoaXMuZWFzZWRQcm9ncmVzcyA9IF9tYXRoZi5tYXRoZi5sZXJwKHRoaXMuZWFzZWRQcm9ncmVzcywgdGhpcy5wcm9ncmVzcywgMC4yNSk7XG4gICAgdGhpcy53YXZlLnVwZGF0ZSgpO1xuICAgIHRoaXMudXBkYXRlRmlyc3RGbG93ZXIoKTtcbiAgICB0aGlzLnVwZGF0ZVNlY29uZEZsb3dlcigpO1xuICB9XG4gIC8qKlxuICAgICAqIEZvciB0aGlzIGZsb3dlciB3ZSB3aWxsIHVwZGF0ZSBpdCdzIHBvc2l0aW9uIHdpdGggYWNjZWxlcmF0aW9uLlxuICAgICAqIFRoZSBmbG93ZXIgc2hvdWxkIGFjY2VsZXJhdGUgdG8gdGhlIHRhcmdldCBwb3NpdGlvbiArIGEgMTAlIG1vdXNlIHNoaWZ0XG4gICAgICogZmFjdG9yLlxuICAgICAqL1xuXG5cbiAgdXBkYXRlRmlyc3RGbG93ZXIoKSB7XG4gICAgLy8gQWRkIHNvbWUgbW92ZW1lbnQuXG4gICAgbGV0IHggPSAod2luZG93LmlubmVyV2lkdGggLSB0aGlzLmZsb3dlclZlY3Rvci53aWR0aCkgKiB0aGlzLmVhc2VkUHJvZ3Jlc3M7XG4gICAgbGV0IHkgPSAod2luZG93LmlubmVySGVpZ2h0IC0gdGhpcy5mbG93ZXJWZWN0b3IuaGVpZ2h0KSAqIHRoaXMuZWFzZWRQcm9ncmVzczsgLy8gU2luY2Ugd2UgbmVlZCB0byBvZmZzZXQuXG5cbiAgICBsZXQgeiA9IDEgKiB0aGlzLmVhc2VkUHJvZ3Jlc3MgLSAwLjU7IC8vIFRoaXMgaXMgdGhlIHRhcmdldCBwb3NpdGlvbi5cblxuICAgIGxldCB0YXJnZXRQb3NpdGlvblZlY3RvciA9IG5ldyBfdmVjdG9yLlZlY3Rvcih4LCB5LCB6KTsgLy8gQ2FsY3VhbHRlIHRoZSBkaXN0YW5jZS5cblxuICAgIGNvbnN0IGRpc3RhbmNlVmVjdG9yID0gX3ZlY3Rvci5WZWN0b3Iuc3VidHJhY3QodGFyZ2V0UG9zaXRpb25WZWN0b3IsIHRoaXMuZmxvd2VyVmVjdG9yLnBvc2l0aW9uKTsgLy8gQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSBwb2ludGVyLlxuXG5cbiAgICBjb25zdCBwb2ludGVyRGlzdGFuY2VWZWN0b3IgPSBfdmVjdG9yLlZlY3Rvci5zdWJ0cmFjdCh0aGlzLnBvaW50ZXIsIHRoaXMuZmxvd2VyVmVjdG9yLnBvc2l0aW9uKTsgLy8gQWRkIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSB0YXJnZXQgdG8gcG9pdG5lciBidXQgd2UgZG9uJ3Qgd2FudCB0b1xuICAgIC8vIG1ha2UgdGhlIHBvaW50ZXIgdG9vIHN0cm9uZywgc28gc2NhbGUgaXQgZG93bi5cblxuXG4gICAgZGlzdGFuY2VWZWN0b3IuYWRkKHBvaW50ZXJEaXN0YW5jZVZlY3Rvci5zY2FsZSgwLjEpKTsgLy8gQWRkIHRoYXQgZGlzdGFuY2UgdG8gdGhlIGFjY2VsZXJhdGlvbiBvZiB0aGUgZmxvd2VyVmVjdG9yLlxuXG4gICAgdGhpcy5mbG93ZXJWZWN0b3IuYWNjZWxlcmF0aW9uID0gX3ZlY3Rvci5WZWN0b3IuZWFzZSh0aGlzLmZsb3dlclZlY3Rvci5hY2NlbGVyYXRpb24sIGRpc3RhbmNlVmVjdG9yLCAwLjgpOyAvLyBMZXQncyBkYW1wZW4gdGhlIGFjY2VsZXJhdGlvbi5cblxuICAgIHRoaXMuZmxvd2VyVmVjdG9yLmFjY2VsZXJhdGlvbi5sZXJwKF92ZWN0b3IuVmVjdG9yLlpFUk8sIDAuOCk7IC8vIEZpbmFsbHkgYWRkIGEgbGl0dGxlIG1vdmVtZW50IHRvIHRoZSBwb3NpdGlvbiBpdHNlbGYgdG8gY3JlYXRlIGFcbiAgICAvLyBmbG9hdHkgZmVlbGluZy5cblxuICAgIGxldCBmbG9hdHlWZWN0b3IgPSBuZXcgX3ZlY3Rvci5WZWN0b3IoMCAqIHRoaXMud2F2ZS5zaW5XYXZlLCA0ICogdGhpcy53YXZlLnNpbldhdmUsIDApO1xuICAgIHRoaXMuZmxvd2VyVmVjdG9yLnBvc2l0aW9uLmFkZChmbG9hdHlWZWN0b3IpOyAvLyBGaW5hbGx5IGFsc28gdXBkYXRlIGFscGhhLlxuXG4gICAgdGhpcy5mbG93ZXJWZWN0b3IuYWxwaGEgPSAxICogdGhpcy5lYXNlZFByb2dyZXNzICsgMC41O1xuICAgIHRoaXMuZmxvd2VyVmVjdG9yLnJlbmRlcigpO1xuICB9XG5cbiAgdXBkYXRlU2Vjb25kRmxvd2VyKCkge1xuICAgIGNvbnN0IHBvaW50ZXIgPSB0aGlzLnBvaW50ZXIuY2xvbmUoKTsgLy8gV2UgZG9uJ3Qgd2FudCB0aGUgcG9pbnRlciB0byBhZmZlY3QgdGhlIHNjYWxlLlxuXG4gICAgcG9pbnRlci56ID0gdGhpcy5mbG93ZXJWZWN0b3IyLno7XG5cbiAgICBjb25zdCBkaXN0YW5jZVZlY3RvciA9IF92ZWN0b3IuVmVjdG9yLnN1YnRyYWN0KHBvaW50ZXIuc3VidHJhY3QodGhpcy5mbG93ZXJWZWN0b3IyLm9mZnNldCksIHRoaXMuZmxvd2VyVmVjdG9yMi5wb3NpdGlvbik7XG5cbiAgICB0aGlzLmZsb3dlclZlY3RvcjIuYWNjZWxlcmF0aW9uID0gX3ZlY3Rvci5WZWN0b3IuZWFzZSh0aGlzLmZsb3dlclZlY3RvcjIuYWNjZWxlcmF0aW9uLCBkaXN0YW5jZVZlY3RvciwgMC44KTtcbiAgICB0aGlzLmZsb3dlclZlY3RvcjIuYWNjZWxlcmF0aW9uLmxlcnAoX3ZlY3Rvci5WZWN0b3IuWkVSTywgMC44KTsgLy8gRmluYWxseSBhZGQgYSBsaXR0bGUgbW92ZW1lbnQgdG8gdGhlIHBvc2l0aW9uIGl0c2VsZiB0byBjcmVhdGUgYVxuICAgIC8vIGZsb2F0eSBmZWVsaW5nLlxuXG4gICAgbGV0IGZsb2F0eVZlY3RvciA9IG5ldyBfdmVjdG9yLlZlY3RvcigwICogdGhpcy53YXZlLnNpbldhdmUsIDEwICogdGhpcy53YXZlLnNpbldhdmUsIDApO1xuICAgIHRoaXMuZmxvd2VyVmVjdG9yMi5wb3NpdGlvbi5hZGQoZmxvYXR5VmVjdG9yKTtcbiAgICB0aGlzLmZsb3dlclZlY3RvcjIucmVuZGVyKCk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBTY3JvbGxEZW1vU2FtcGxlMjsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/scroll-demo2.js\n");

/***/ }),

/***/ "./examples/scroll-demo3.js":
/*!**********************************!*\
  !*** ./examples/scroll-demo3.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _vectorDom = __webpack_require__(/*! ../lib/dom/vector-dom */ \"./lib/dom/vector-dom.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _catmullRom = __webpack_require__(/*! ../lib/mathf/catmull-rom */ \"./lib/mathf/catmull-rom.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nclass ScrollDemoSample3 {\n  constructor() {\n    console.log('Scroll Demo 3');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.parentElement = document.getElementById('parent');\n    this.moduleHeight = this.parentElement.offsetHeight;\n    this.childElement = document.getElementById('child'); // Instance of rafProgress.\n\n    const rafProgress = new _rafProgress.RafProgress(); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight);\n        rafProgress.easeTo(this.progress, 0.08, _ease.EASE.Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.flowerElement = document.getElementById('flower');\n    this.flowerVector = new _vectorDom.VectorDom(this.flowerElement);\n    this.flowerVector.anchorX = 0.5;\n    this.flowerVector.anchorY = 0.5;\n    let timeline = [{\n      progress: 0,\n      x: 1200,\n      y: 600,\n      z: 2 - 1,\n      rx: 180,\n      ry: 0,\n      rz: 0,\n      alpha: 0\n    }, {\n      progress: 0.3,\n      x: 100,\n      y: 400,\n      z: 2 - 1,\n      rz: 180,\n      alpha: 1\n    }, {\n      progress: 0.6,\n      x: 0,\n      y: 200,\n      z: 1 - 1,\n      ry: 180,\n      rz: 0\n    }, {\n      progress: 0.8,\n      x: 300,\n      y: 800,\n      z: 0.3 - 1,\n      rx: 20,\n      ry: 20,\n      rz: 90,\n      easingFunction: _ease.EASE.easeInOutCubic\n    }, {\n      progress: 1,\n      x: 400,\n      y: 500,\n      z: 5 - 1,\n      rx: 0,\n      ry: 0,\n      rz: 0\n    }];\n\n    this.flowerVector._.timeline.setTimeline(timeline); // Enable smoothing.\n\n\n    this.flowerVector._.timeline.catmullRomMode = true; // Enable this to force the flowerVectorDom to use the\n    // internal eularRotation as the rotation matrix.  You will\n    // see gimble lock.\n    // this.flowerVector.eularRotationAsRotationMatrix = true;\n\n    this.flowerVector.init();\n    this.cityElement = document.getElementById('city');\n    this.cityVector = new _vectorDom.VectorDom(this.cityElement);\n    this.cityVector.anchorX = 0;\n    this.cityVector.anchorY = 0;\n    timeline = [{\n      progress: 0,\n      x: 0,\n      y: 0,\n      rx: 0,\n      rz: 0,\n      z: 0.5 - 1,\n      alpha: 1,\n      easingFunction: _ease.EASE.easeInOutQuint\n    }, {\n      progress: 0.2,\n      x: 1000,\n      y: 400,\n      rx: 0,\n      rz: 360,\n      z: 0 - 1,\n      alpha: 0,\n      easingFunction: _ease.EASE.easeInOutQuint\n    }];\n\n    this.cityVector._.timeline.setTimeline(timeline);\n\n    this.cityVector.init(); // Create a second VectorDom on the parent element.\n\n    this.parentElement = document.getElementById('parent');\n    this.parentVector = new _vectorDom.VectorDom(this.parentElement, {\n      timeline: {\n        cssOnly: true\n      }\n    });\n\n    this.parentVector._.timeline.setTimeline([{\n      'progress': 0,\n      '--background': 'rgba(255, 129, 0, 1)',\n      '--text-color': '#000000'\n    }, {\n      'progress': 0.5,\n      '--background': 'rgba(255, 153, 204, 1)',\n      '--text-color': '#A56023'\n    }, {\n      'progress': 1,\n      // You can interchange between hex and rgba\n      // since it all converts to rgba.\n      '--background': '#000000',\n      '--text-color': '#FFFFFF'\n    }]);\n\n    this.parentVector.init();\n    this.textElement = document.getElementById('text');\n    this.textVector = new _vectorDom.VectorDom(this.textElement);\n    this.textVector.disableStyleRenders = true; // // // Just doing this via straight css var to demo.\n    // // // You can normally just use the y value.\n\n    this.textVector._.timeline.setTimeline([{\n      'progress': 0.25,\n      '--opacity': 0,\n      '--y': '100px'\n    }, {\n      'progress': 0.3,\n      '--opacity': 1,\n      '--y': '0px'\n    }, {\n      'progress': 0.95,\n      '--opacity': 1,\n      '--y': '0px'\n    }, {\n      'progress': 0.98,\n      '--opacity': 0,\n      '--y': '-100px'\n    }]);\n\n    this.textVector.init(); // Update progress immediately on load.\n\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight);\n    this.render(this.progress);\n    rafProgress.setCurrentProgress(this.progress);\n    rafProgress.watch(this.onProgressUpdate.bind(this));\n  }\n\n  render(easedProgress) {\n    this.parentVector._.timeline.updateProgress(easedProgress);\n\n    this.parentVector.render(true);\n\n    this.textVector._.timeline.updateProgress(easedProgress);\n\n    this.textVector.render(true);\n\n    this.flowerVector._.timeline.updateProgress(easedProgress);\n\n    this.flowerVector.render(true);\n\n    this.cityVector._.timeline.updateProgress(easedProgress);\n\n    this.cityVector.render(true);\n  } // Runs every time eased progress is updated.\n\n\n  onProgressUpdate(easedProgress, direction) {\n    this.render(easedProgress);\n  }\n\n}\n\nexports.default = ScrollDemoSample3;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9zY3JvbGwtZGVtbzMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9zY3JvbGwtZGVtbzMuanM/NzVlOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yYWZQcm9ncmVzcyA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZi1wcm9ncmVzc1wiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbnZhciBfdmVjdG9yRG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb20vdmVjdG9yLWRvbVwiKTtcblxudmFyIF9lYXNlID0gcmVxdWlyZShcIi4uL2xpYi9lYXNlL2Vhc2VcIik7XG5cbnZhciBfZG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tXCIpO1xuXG52YXIgX21hdGhmID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi9tYXRoZlwiKTtcblxudmFyIF9jYXRtdWxsUm9tID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi9jYXRtdWxsLXJvbVwiKTtcblxudmFyIF92ZWN0b3IgPSByZXF1aXJlKFwiLi4vbGliL21hdGhmL3ZlY3RvclwiKTtcblxuY2xhc3MgU2Nyb2xsRGVtb1NhbXBsZTMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygnU2Nyb2xsIERlbW8gMycpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpO1xuICAgIHRoaXMubW9kdWxlSGVpZ2h0ID0gdGhpcy5wYXJlbnRFbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICB0aGlzLmNoaWxkRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGlsZCcpOyAvLyBJbnN0YW5jZSBvZiByYWZQcm9ncmVzcy5cblxuICAgIGNvbnN0IHJhZlByb2dyZXNzID0gbmV3IF9yYWZQcm9ncmVzcy5SYWZQcm9ncmVzcygpOyAvLyBVcGRhdGUgdGhlIHByb2dyZXNzIHZhbHVlIHBlciBzY3JvbGwuXG5cbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGNhbGxiYWNrOiBldmVudCA9PiB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBfZG9tLmRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgICAgcmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDAuMDgsIF9lYXNlLkVBU0UuTGluZWFyKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZmxvd2VyRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbG93ZXInKTtcbiAgICB0aGlzLmZsb3dlclZlY3RvciA9IG5ldyBfdmVjdG9yRG9tLlZlY3RvckRvbSh0aGlzLmZsb3dlckVsZW1lbnQpO1xuICAgIHRoaXMuZmxvd2VyVmVjdG9yLmFuY2hvclggPSAwLjU7XG4gICAgdGhpcy5mbG93ZXJWZWN0b3IuYW5jaG9yWSA9IDAuNTtcbiAgICBsZXQgdGltZWxpbmUgPSBbe1xuICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICB4OiAxMjAwLFxuICAgICAgeTogNjAwLFxuICAgICAgejogMiAtIDEsXG4gICAgICByeDogMTgwLFxuICAgICAgcnk6IDAsXG4gICAgICByejogMCxcbiAgICAgIGFscGhhOiAwXG4gICAgfSwge1xuICAgICAgcHJvZ3Jlc3M6IDAuMyxcbiAgICAgIHg6IDEwMCxcbiAgICAgIHk6IDQwMCxcbiAgICAgIHo6IDIgLSAxLFxuICAgICAgcno6IDE4MCxcbiAgICAgIGFscGhhOiAxXG4gICAgfSwge1xuICAgICAgcHJvZ3Jlc3M6IDAuNixcbiAgICAgIHg6IDAsXG4gICAgICB5OiAyMDAsXG4gICAgICB6OiAxIC0gMSxcbiAgICAgIHJ5OiAxODAsXG4gICAgICByejogMFxuICAgIH0sIHtcbiAgICAgIHByb2dyZXNzOiAwLjgsXG4gICAgICB4OiAzMDAsXG4gICAgICB5OiA4MDAsXG4gICAgICB6OiAwLjMgLSAxLFxuICAgICAgcng6IDIwLFxuICAgICAgcnk6IDIwLFxuICAgICAgcno6IDkwLFxuICAgICAgZWFzaW5nRnVuY3Rpb246IF9lYXNlLkVBU0UuZWFzZUluT3V0Q3ViaWNcbiAgICB9LCB7XG4gICAgICBwcm9ncmVzczogMSxcbiAgICAgIHg6IDQwMCxcbiAgICAgIHk6IDUwMCxcbiAgICAgIHo6IDUgLSAxLFxuICAgICAgcng6IDAsXG4gICAgICByeTogMCxcbiAgICAgIHJ6OiAwXG4gICAgfV07XG5cbiAgICB0aGlzLmZsb3dlclZlY3Rvci5fLnRpbWVsaW5lLnNldFRpbWVsaW5lKHRpbWVsaW5lKTsgLy8gRW5hYmxlIHNtb290aGluZy5cblxuXG4gICAgdGhpcy5mbG93ZXJWZWN0b3IuXy50aW1lbGluZS5jYXRtdWxsUm9tTW9kZSA9IHRydWU7IC8vIEVuYWJsZSB0aGlzIHRvIGZvcmNlIHRoZSBmbG93ZXJWZWN0b3JEb20gdG8gdXNlIHRoZVxuICAgIC8vIGludGVybmFsIGV1bGFyUm90YXRpb24gYXMgdGhlIHJvdGF0aW9uIG1hdHJpeC4gIFlvdSB3aWxsXG4gICAgLy8gc2VlIGdpbWJsZSBsb2NrLlxuICAgIC8vIHRoaXMuZmxvd2VyVmVjdG9yLmV1bGFyUm90YXRpb25Bc1JvdGF0aW9uTWF0cml4ID0gdHJ1ZTtcblxuICAgIHRoaXMuZmxvd2VyVmVjdG9yLmluaXQoKTtcbiAgICB0aGlzLmNpdHlFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NpdHknKTtcbiAgICB0aGlzLmNpdHlWZWN0b3IgPSBuZXcgX3ZlY3RvckRvbS5WZWN0b3JEb20odGhpcy5jaXR5RWxlbWVudCk7XG4gICAgdGhpcy5jaXR5VmVjdG9yLmFuY2hvclggPSAwO1xuICAgIHRoaXMuY2l0eVZlY3Rvci5hbmNob3JZID0gMDtcbiAgICB0aW1lbGluZSA9IFt7XG4gICAgICBwcm9ncmVzczogMCxcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgcng6IDAsXG4gICAgICByejogMCxcbiAgICAgIHo6IDAuNSAtIDEsXG4gICAgICBhbHBoYTogMSxcbiAgICAgIGVhc2luZ0Z1bmN0aW9uOiBfZWFzZS5FQVNFLmVhc2VJbk91dFF1aW50XG4gICAgfSwge1xuICAgICAgcHJvZ3Jlc3M6IDAuMixcbiAgICAgIHg6IDEwMDAsXG4gICAgICB5OiA0MDAsXG4gICAgICByeDogMCxcbiAgICAgIHJ6OiAzNjAsXG4gICAgICB6OiAwIC0gMSxcbiAgICAgIGFscGhhOiAwLFxuICAgICAgZWFzaW5nRnVuY3Rpb246IF9lYXNlLkVBU0UuZWFzZUluT3V0UXVpbnRcbiAgICB9XTtcblxuICAgIHRoaXMuY2l0eVZlY3Rvci5fLnRpbWVsaW5lLnNldFRpbWVsaW5lKHRpbWVsaW5lKTtcblxuICAgIHRoaXMuY2l0eVZlY3Rvci5pbml0KCk7IC8vIENyZWF0ZSBhIHNlY29uZCBWZWN0b3JEb20gb24gdGhlIHBhcmVudCBlbGVtZW50LlxuXG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpO1xuICAgIHRoaXMucGFyZW50VmVjdG9yID0gbmV3IF92ZWN0b3JEb20uVmVjdG9yRG9tKHRoaXMucGFyZW50RWxlbWVudCwge1xuICAgICAgdGltZWxpbmU6IHtcbiAgICAgICAgY3NzT25seTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5wYXJlbnRWZWN0b3IuXy50aW1lbGluZS5zZXRUaW1lbGluZShbe1xuICAgICAgJ3Byb2dyZXNzJzogMCxcbiAgICAgICctLWJhY2tncm91bmQnOiAncmdiYSgyNTUsIDEyOSwgMCwgMSknLFxuICAgICAgJy0tdGV4dC1jb2xvcic6ICcjMDAwMDAwJ1xuICAgIH0sIHtcbiAgICAgICdwcm9ncmVzcyc6IDAuNSxcbiAgICAgICctLWJhY2tncm91bmQnOiAncmdiYSgyNTUsIDE1MywgMjA0LCAxKScsXG4gICAgICAnLS10ZXh0LWNvbG9yJzogJyNBNTYwMjMnXG4gICAgfSwge1xuICAgICAgJ3Byb2dyZXNzJzogMSxcbiAgICAgIC8vIFlvdSBjYW4gaW50ZXJjaGFuZ2UgYmV0d2VlbiBoZXggYW5kIHJnYmFcbiAgICAgIC8vIHNpbmNlIGl0IGFsbCBjb252ZXJ0cyB0byByZ2JhLlxuICAgICAgJy0tYmFja2dyb3VuZCc6ICcjMDAwMDAwJyxcbiAgICAgICctLXRleHQtY29sb3InOiAnI0ZGRkZGRidcbiAgICB9XSk7XG5cbiAgICB0aGlzLnBhcmVudFZlY3Rvci5pbml0KCk7XG4gICAgdGhpcy50ZXh0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXh0Jyk7XG4gICAgdGhpcy50ZXh0VmVjdG9yID0gbmV3IF92ZWN0b3JEb20uVmVjdG9yRG9tKHRoaXMudGV4dEVsZW1lbnQpO1xuICAgIHRoaXMudGV4dFZlY3Rvci5kaXNhYmxlU3R5bGVSZW5kZXJzID0gdHJ1ZTsgLy8gLy8gLy8gSnVzdCBkb2luZyB0aGlzIHZpYSBzdHJhaWdodCBjc3MgdmFyIHRvIGRlbW8uXG4gICAgLy8gLy8gLy8gWW91IGNhbiBub3JtYWxseSBqdXN0IHVzZSB0aGUgeSB2YWx1ZS5cblxuICAgIHRoaXMudGV4dFZlY3Rvci5fLnRpbWVsaW5lLnNldFRpbWVsaW5lKFt7XG4gICAgICAncHJvZ3Jlc3MnOiAwLjI1LFxuICAgICAgJy0tb3BhY2l0eSc6IDAsXG4gICAgICAnLS15JzogJzEwMHB4J1xuICAgIH0sIHtcbiAgICAgICdwcm9ncmVzcyc6IDAuMyxcbiAgICAgICctLW9wYWNpdHknOiAxLFxuICAgICAgJy0teSc6ICcwcHgnXG4gICAgfSwge1xuICAgICAgJ3Byb2dyZXNzJzogMC45NSxcbiAgICAgICctLW9wYWNpdHknOiAxLFxuICAgICAgJy0teSc6ICcwcHgnXG4gICAgfSwge1xuICAgICAgJ3Byb2dyZXNzJzogMC45OCxcbiAgICAgICctLW9wYWNpdHknOiAwLFxuICAgICAgJy0teSc6ICctMTAwcHgnXG4gICAgfV0pO1xuXG4gICAgdGhpcy50ZXh0VmVjdG9yLmluaXQoKTsgLy8gVXBkYXRlIHByb2dyZXNzIGltbWVkaWF0ZWx5IG9uIGxvYWQuXG5cbiAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgdGhpcy5yZW5kZXIodGhpcy5wcm9ncmVzcyk7XG4gICAgcmFmUHJvZ3Jlc3Muc2V0Q3VycmVudFByb2dyZXNzKHRoaXMucHJvZ3Jlc3MpO1xuICAgIHJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIHJlbmRlcihlYXNlZFByb2dyZXNzKSB7XG4gICAgdGhpcy5wYXJlbnRWZWN0b3IuXy50aW1lbGluZS51cGRhdGVQcm9ncmVzcyhlYXNlZFByb2dyZXNzKTtcblxuICAgIHRoaXMucGFyZW50VmVjdG9yLnJlbmRlcih0cnVlKTtcblxuICAgIHRoaXMudGV4dFZlY3Rvci5fLnRpbWVsaW5lLnVwZGF0ZVByb2dyZXNzKGVhc2VkUHJvZ3Jlc3MpO1xuXG4gICAgdGhpcy50ZXh0VmVjdG9yLnJlbmRlcih0cnVlKTtcblxuICAgIHRoaXMuZmxvd2VyVmVjdG9yLl8udGltZWxpbmUudXBkYXRlUHJvZ3Jlc3MoZWFzZWRQcm9ncmVzcyk7XG5cbiAgICB0aGlzLmZsb3dlclZlY3Rvci5yZW5kZXIodHJ1ZSk7XG5cbiAgICB0aGlzLmNpdHlWZWN0b3IuXy50aW1lbGluZS51cGRhdGVQcm9ncmVzcyhlYXNlZFByb2dyZXNzKTtcblxuICAgIHRoaXMuY2l0eVZlY3Rvci5yZW5kZXIodHJ1ZSk7XG4gIH0gLy8gUnVucyBldmVyeSB0aW1lIGVhc2VkIHByb2dyZXNzIGlzIHVwZGF0ZWQuXG5cblxuICBvblByb2dyZXNzVXBkYXRlKGVhc2VkUHJvZ3Jlc3MsIGRpcmVjdGlvbikge1xuICAgIHRoaXMucmVuZGVyKGVhc2VkUHJvZ3Jlc3MpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gU2Nyb2xsRGVtb1NhbXBsZTM7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/scroll-demo3.js\n");

/***/ }),

/***/ "./examples/scroll-demo4.js":
/*!**********************************!*\
  !*** ./examples/scroll-demo4.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _vectorDom = __webpack_require__(/*! ../lib/dom/vector-dom */ \"./lib/dom/vector-dom.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _catmullRom = __webpack_require__(/*! ../lib/mathf/catmull-rom */ \"./lib/mathf/catmull-rom.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nvar _wave = __webpack_require__(/*! ../lib/mathf/wave */ \"./lib/mathf/wave.js\");\n\nclass ScrollDemoSample4 {\n  constructor() {\n    console.log('Scroll Demo 4');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.parentElement = document.getElementById('parent');\n    this.moduleHeight = this.parentElement.offsetHeight;\n    this.childElement = document.getElementById('child');\n    this.easedProgress = 0;\n    this.progress = 0;\n    this.wave = new _wave.Wave(0.03); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.flowerElements = Array.from(document.querySelectorAll('.flower'));\n    this.flowerVectors = [];\n    let ww = window.innerWidth;\n    let wh = window.innerHeight;\n    let columns = 6;\n    let xIncrement = ww / columns;\n    let yIncrement = wh * 0.2;\n    let row = 0;\n    let column = 0;\n    this.flowerElements.forEach((flower, i) => {\n      const flowerVector = new _vectorDom.VectorDom(flower);\n      flowerVector.anchorX = 0;\n      flowerVector.anchorY = 0;\n      let x = xIncrement * column;\n      let y = yIncrement * row; // Use the offset feature to generalliy position the element.\n      // We could also use top, left in css to do this as well.\n\n      flowerVector.setOffset(new _vector.Vector(x, y));\n\n      if (i % 2 == 1) {\n        const timeline = [{\n          progress: 0,\n          x: -100,\n          y: -100,\n          rx: -40,\n          ry: 0,\n          rz: -360,\n          z: 0 - 1\n        }, {\n          progress: 0.2,\n          z: 0 - 1\n        }, {\n          progress: 0.5,\n          ry: 90\n        }, {\n          progress: 0.9,\n          x: -200,\n          y: 0,\n          rx: 10,\n          ry: 0,\n          rz: -10,\n          z: 1 - 1\n        }];\n\n        flowerVector._.timeline.setTimeline(timeline);\n      } else {\n        const timeline = [{\n          'progress': 0,\n          'x': -100,\n          'y': -100,\n          'z': 1 - 1,\n          'rz': 0,\n          'alpha': 1,\n          '--blur': 1\n        }, {\n          progress: 0.8,\n          alpha: 1,\n          easingFunction: _ease.EASE.easeInOutQuint\n        }, {\n          'progress': 0.9,\n          'x': -200,\n          'y': 0,\n          'z': 0.2 - 1,\n          'rz': -360,\n          'alpha': 0,\n          '--blur': 0\n        }];\n\n        flowerVector._.timeline.setTimeline(timeline);\n      }\n\n      flowerVector.id = i;\n      flowerVector.useBoundsForGlobalCalculation = true;\n      flowerVector.waveMovementFactor = _mathf.mathf.getRandomInt(-20, 20);\n      flowerVector.init();\n      this.flowerVectors.push(flowerVector);\n\n      if (column >= columns) {\n        column = 0;\n        row++;\n      } else {\n        column++;\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n    this.raf = new _raf.Raf(this.onRaf.bind(this)).start();\n  }\n\n  onRaf() {\n    this.easedProgress = _mathf.mathf.lerp(this.easedProgress, this.progress, 0.25);\n    this.wave.update();\n    let invertProgress = 1 - this.easedProgress;\n    this.flowerVectors.forEach(vector => {\n      vector._.timeline.updateProgress(this.easedProgress); // Add a littie up and down motion.\n\n\n      let floatyVector = new _vector.Vector(vector.waveMovementFactor * this.wave.sinWave * this.easedProgress, // We want the wave effect to be strong bottom and none at the top.\n      vector.waveMovementFactor * this.wave.sinWave * this.easedProgress, 0);\n      vector.position.add(floatyVector); // if (vector.id % 2 == 1) {\n      //     vector._.force.mouseRotationForce(\n      //         -0.15, -0.15, 0, 0.02\n      //     );\n      // } else {\n      //     vector._.force.scrollYRotationForce(\n      //         0, 0.05, 0, 0.02\n      //     );\n      // }\n\n      vector.render(true);\n    });\n  }\n\n}\n\nexports.default = ScrollDemoSample4;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9zY3JvbGwtZGVtbzQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9zY3JvbGwtZGVtbzQuanM/YTE0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yYWYgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWZcIik7XG5cbnZhciBfcmFmUHJvZ3Jlc3MgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3NcIik7XG5cbnZhciBfZG9tV2F0Y2hlciA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbS13YXRjaGVyXCIpO1xuXG52YXIgX3ZlY3RvckRvbSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL3ZlY3Rvci1kb21cIik7XG5cbnZhciBfZWFzZSA9IHJlcXVpcmUoXCIuLi9saWIvZWFzZS9lYXNlXCIpO1xuXG52YXIgX2RvbSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbVwiKTtcblxudmFyIF9tYXRoZiA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvbWF0aGZcIik7XG5cbnZhciBfY2F0bXVsbFJvbSA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvY2F0bXVsbC1yb21cIik7XG5cbnZhciBfdmVjdG9yID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi92ZWN0b3JcIik7XG5cbnZhciBfd2F2ZSA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvd2F2ZVwiKTtcblxuY2xhc3MgU2Nyb2xsRGVtb1NhbXBsZTQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygnU2Nyb2xsIERlbW8gNCcpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpO1xuICAgIHRoaXMubW9kdWxlSGVpZ2h0ID0gdGhpcy5wYXJlbnRFbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICB0aGlzLmNoaWxkRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGlsZCcpO1xuICAgIHRoaXMuZWFzZWRQcm9ncmVzcyA9IDA7XG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgdGhpcy53YXZlID0gbmV3IF93YXZlLldhdmUoMC4wMyk7IC8vIFVwZGF0ZSB0aGUgcHJvZ3Jlc3MgdmFsdWUgcGVyIHNjcm9sbC5cblxuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgY2FsbGJhY2s6IGV2ZW50ID0+IHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IF9kb20uZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZmxvd2VyRWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mbG93ZXInKSk7XG4gICAgdGhpcy5mbG93ZXJWZWN0b3JzID0gW107XG4gICAgbGV0IHd3ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgbGV0IHdoID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIGxldCBjb2x1bW5zID0gNjtcbiAgICBsZXQgeEluY3JlbWVudCA9IHd3IC8gY29sdW1ucztcbiAgICBsZXQgeUluY3JlbWVudCA9IHdoICogMC4yO1xuICAgIGxldCByb3cgPSAwO1xuICAgIGxldCBjb2x1bW4gPSAwO1xuICAgIHRoaXMuZmxvd2VyRWxlbWVudHMuZm9yRWFjaCgoZmxvd2VyLCBpKSA9PiB7XG4gICAgICBjb25zdCBmbG93ZXJWZWN0b3IgPSBuZXcgX3ZlY3RvckRvbS5WZWN0b3JEb20oZmxvd2VyKTtcbiAgICAgIGZsb3dlclZlY3Rvci5hbmNob3JYID0gMDtcbiAgICAgIGZsb3dlclZlY3Rvci5hbmNob3JZID0gMDtcbiAgICAgIGxldCB4ID0geEluY3JlbWVudCAqIGNvbHVtbjtcbiAgICAgIGxldCB5ID0geUluY3JlbWVudCAqIHJvdzsgLy8gVXNlIHRoZSBvZmZzZXQgZmVhdHVyZSB0byBnZW5lcmFsbGl5IHBvc2l0aW9uIHRoZSBlbGVtZW50LlxuICAgICAgLy8gV2UgY291bGQgYWxzbyB1c2UgdG9wLCBsZWZ0IGluIGNzcyB0byBkbyB0aGlzIGFzIHdlbGwuXG5cbiAgICAgIGZsb3dlclZlY3Rvci5zZXRPZmZzZXQobmV3IF92ZWN0b3IuVmVjdG9yKHgsIHkpKTtcblxuICAgICAgaWYgKGkgJSAyID09IDEpIHtcbiAgICAgICAgY29uc3QgdGltZWxpbmUgPSBbe1xuICAgICAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgICAgIHg6IC0xMDAsXG4gICAgICAgICAgeTogLTEwMCxcbiAgICAgICAgICByeDogLTQwLFxuICAgICAgICAgIHJ5OiAwLFxuICAgICAgICAgIHJ6OiAtMzYwLFxuICAgICAgICAgIHo6IDAgLSAxXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBwcm9ncmVzczogMC4yLFxuICAgICAgICAgIHo6IDAgLSAxXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBwcm9ncmVzczogMC41LFxuICAgICAgICAgIHJ5OiA5MFxuICAgICAgICB9LCB7XG4gICAgICAgICAgcHJvZ3Jlc3M6IDAuOSxcbiAgICAgICAgICB4OiAtMjAwLFxuICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgcng6IDEwLFxuICAgICAgICAgIHJ5OiAwLFxuICAgICAgICAgIHJ6OiAtMTAsXG4gICAgICAgICAgejogMSAtIDFcbiAgICAgICAgfV07XG5cbiAgICAgICAgZmxvd2VyVmVjdG9yLl8udGltZWxpbmUuc2V0VGltZWxpbmUodGltZWxpbmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdGltZWxpbmUgPSBbe1xuICAgICAgICAgICdwcm9ncmVzcyc6IDAsXG4gICAgICAgICAgJ3gnOiAtMTAwLFxuICAgICAgICAgICd5JzogLTEwMCxcbiAgICAgICAgICAneic6IDEgLSAxLFxuICAgICAgICAgICdyeic6IDAsXG4gICAgICAgICAgJ2FscGhhJzogMSxcbiAgICAgICAgICAnLS1ibHVyJzogMVxuICAgICAgICB9LCB7XG4gICAgICAgICAgcHJvZ3Jlc3M6IDAuOCxcbiAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICBlYXNpbmdGdW5jdGlvbjogX2Vhc2UuRUFTRS5lYXNlSW5PdXRRdWludFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJ3Byb2dyZXNzJzogMC45LFxuICAgICAgICAgICd4JzogLTIwMCxcbiAgICAgICAgICAneSc6IDAsXG4gICAgICAgICAgJ3onOiAwLjIgLSAxLFxuICAgICAgICAgICdyeic6IC0zNjAsXG4gICAgICAgICAgJ2FscGhhJzogMCxcbiAgICAgICAgICAnLS1ibHVyJzogMFxuICAgICAgICB9XTtcblxuICAgICAgICBmbG93ZXJWZWN0b3IuXy50aW1lbGluZS5zZXRUaW1lbGluZSh0aW1lbGluZSk7XG4gICAgICB9XG5cbiAgICAgIGZsb3dlclZlY3Rvci5pZCA9IGk7XG4gICAgICBmbG93ZXJWZWN0b3IudXNlQm91bmRzRm9yR2xvYmFsQ2FsY3VsYXRpb24gPSB0cnVlO1xuICAgICAgZmxvd2VyVmVjdG9yLndhdmVNb3ZlbWVudEZhY3RvciA9IF9tYXRoZi5tYXRoZi5nZXRSYW5kb21JbnQoLTIwLCAyMCk7XG4gICAgICBmbG93ZXJWZWN0b3IuaW5pdCgpO1xuICAgICAgdGhpcy5mbG93ZXJWZWN0b3JzLnB1c2goZmxvd2VyVmVjdG9yKTtcblxuICAgICAgaWYgKGNvbHVtbiA+PSBjb2x1bW5zKSB7XG4gICAgICAgIGNvbHVtbiA9IDA7XG4gICAgICAgIHJvdysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29sdW1uKys7XG4gICAgICB9XG4gICAgfSk7IC8vIFVwZGF0ZSBwcm9ncmVzcyBpbW1lZGlhdGVseSBvbiBsb2FkLlxuXG4gICAgdGhpcy5wcm9ncmVzcyA9IF9kb20uZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpLnN0YXJ0KCk7XG4gIH1cblxuICBvblJhZigpIHtcbiAgICB0aGlzLmVhc2VkUHJvZ3Jlc3MgPSBfbWF0aGYubWF0aGYubGVycCh0aGlzLmVhc2VkUHJvZ3Jlc3MsIHRoaXMucHJvZ3Jlc3MsIDAuMjUpO1xuICAgIHRoaXMud2F2ZS51cGRhdGUoKTtcbiAgICBsZXQgaW52ZXJ0UHJvZ3Jlc3MgPSAxIC0gdGhpcy5lYXNlZFByb2dyZXNzO1xuICAgIHRoaXMuZmxvd2VyVmVjdG9ycy5mb3JFYWNoKHZlY3RvciA9PiB7XG4gICAgICB2ZWN0b3IuXy50aW1lbGluZS51cGRhdGVQcm9ncmVzcyh0aGlzLmVhc2VkUHJvZ3Jlc3MpOyAvLyBBZGQgYSBsaXR0aWUgdXAgYW5kIGRvd24gbW90aW9uLlxuXG5cbiAgICAgIGxldCBmbG9hdHlWZWN0b3IgPSBuZXcgX3ZlY3Rvci5WZWN0b3IodmVjdG9yLndhdmVNb3ZlbWVudEZhY3RvciAqIHRoaXMud2F2ZS5zaW5XYXZlICogdGhpcy5lYXNlZFByb2dyZXNzLCAvLyBXZSB3YW50IHRoZSB3YXZlIGVmZmVjdCB0byBiZSBzdHJvbmcgYm90dG9tIGFuZCBub25lIGF0IHRoZSB0b3AuXG4gICAgICB2ZWN0b3Iud2F2ZU1vdmVtZW50RmFjdG9yICogdGhpcy53YXZlLnNpbldhdmUgKiB0aGlzLmVhc2VkUHJvZ3Jlc3MsIDApO1xuICAgICAgdmVjdG9yLnBvc2l0aW9uLmFkZChmbG9hdHlWZWN0b3IpOyAvLyBpZiAodmVjdG9yLmlkICUgMiA9PSAxKSB7XG4gICAgICAvLyAgICAgdmVjdG9yLl8uZm9yY2UubW91c2VSb3RhdGlvbkZvcmNlKFxuICAgICAgLy8gICAgICAgICAtMC4xNSwgLTAuMTUsIDAsIDAuMDJcbiAgICAgIC8vICAgICApO1xuICAgICAgLy8gfSBlbHNlIHtcbiAgICAgIC8vICAgICB2ZWN0b3IuXy5mb3JjZS5zY3JvbGxZUm90YXRpb25Gb3JjZShcbiAgICAgIC8vICAgICAgICAgMCwgMC4wNSwgMCwgMC4wMlxuICAgICAgLy8gICAgICk7XG4gICAgICAvLyB9XG5cbiAgICAgIHZlY3Rvci5yZW5kZXIodHJ1ZSk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBTY3JvbGxEZW1vU2FtcGxlNDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/scroll-demo4.js\n");

/***/ }),

/***/ "./examples/scroll-demo5.js":
/*!**********************************!*\
  !*** ./examples/scroll-demo5.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _dat = __webpack_require__(/*! dat.gui */ \"./node_modules/dat.gui/build/dat.gui.module.js\");\n\nvar dat = _interopRequireWildcard(_dat);\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _vectorDom = __webpack_require__(/*! ../lib/dom/vector-dom */ \"./lib/dom/vector-dom.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _cssVarInterpolate = __webpack_require__(/*! ../lib/interpolate/css-var-interpolate */ \"./lib/interpolate/css-var-interpolate.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nclass ScrollDemoSample5 {\n  constructor() {\n    console.log('Sample 5');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.parentElement = document.getElementById('parent');\n    this.moduleHeight = this.parentElement.offsetHeight;\n    this.childElement = document.getElementById('child'); // Instance of rafProgress.\n\n    const rafProgress = new _rafProgress.RafProgress();\n    const raf = new _raf.Raf(this.raf.bind(this)); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n        rafProgress.easeTo(this.progress, 0.08, _ease.EASE.Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.flowerElement = document.getElementById('flower');\n    this.flowerVector = new _vectorDom.VectorDom(this.flowerElement);\n    this.flowerVector.anchorX = 0;\n    this.flowerVector.anchorY = 0;\n    const timeline = [{\n      progress: 0,\n      ry: 0,\n      rz: 0,\n      x: 0,\n      y: 0,\n      z: 0.5 - 1\n    }, {\n      progress: 0.2,\n      ry: -90,\n      rz: 180,\n      x: 200,\n      y: 500,\n      z: 0.2 - 1\n    }, {\n      progress: 0.4,\n      ry: 0,\n      rz: -180,\n      x: 400,\n      y: 100,\n      z: 0.5 - 1\n    }, {\n      progress: 0.6,\n      rz: 0,\n      x: 600,\n      y: 400,\n      z: 1 - 1\n    }, {\n      progress: 0.8,\n      rz: 90,\n      x: 800,\n      y: 500,\n      z: 0.3 - 1\n    }, {\n      progress: 1,\n      rz: 0,\n      x: 1000,\n      y: 200,\n      z: 1 - 1\n    }];\n\n    this.flowerVector._.timeline.setTimeline(timeline);\n\n    this.flowerVector.init(); // Use catmull rom mode to make this super smooth between points.\n\n    this.flowerVector._.timeline.catmullRomMode = true;\n    this.flowerVector._.timeline.catmullRomTension = 1; // Update progress immediately on load.\n\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n    rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    rafProgress.watch(this.onProgressUpdate.bind(this)); // Animate the background color of the body with css var interpolate.\n\n    this.cssVarInterpolate = new _cssVarInterpolate.CssVarInterpolate(document.body, {\n      interpolations: [{\n        progress: [{\n          from: 0,\n          to: 0.5,\n          start: 'rgba(255, 128, 0, 0.3)',\n          // orange\n          end: 'rgba(255, 153, 204, 1)' // pink\n\n        }, {\n          from: 0.5,\n          to: 1,\n          start: 'rgba(255, 153, 204, 1)',\n          // pink\n          end: 'rgba(0, 0, 255, 1)' // blue\n\n        }],\n        id: '--background'\n      }]\n    });\n    this.gui = new dat.GUI();\n    let datFolder = this.gui.addFolder('Catmull Rom');\n    datFolder.add(this.flowerVector._.timeline, 'catmullRomMode');\n    datFolder.add(this.flowerVector._.timeline, 'catmullRomTension', -3, 3);\n    raf.start();\n  } // Runs every time eased progress is updated.\n\n\n  onProgressUpdate(easedProgress, direction) {\n    let sin = Math.sin(easedProgress);\n    this.cssVarInterpolate.update(easedProgress);\n\n    this.flowerVector._.timeline.updateProgress(easedProgress);\n  }\n\n  raf() {\n    this.flowerVector.slerpEularRotation(0.1);\n    this.flowerVector.render();\n  }\n\n}\n\nexports.default = ScrollDemoSample5;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9zY3JvbGwtZGVtbzUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9zY3JvbGwtZGVtbzUuanM/NjMzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kYXQgPSByZXF1aXJlKFwiZGF0Lmd1aVwiKTtcblxudmFyIGRhdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9kYXQpO1xuXG52YXIgX3JhZiA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZlwiKTtcblxudmFyIF9yYWZQcm9ncmVzcyA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZi1wcm9ncmVzc1wiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbnZhciBfdmVjdG9yRG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb20vdmVjdG9yLWRvbVwiKTtcblxudmFyIF9lYXNlID0gcmVxdWlyZShcIi4uL2xpYi9lYXNlL2Vhc2VcIik7XG5cbnZhciBfZG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tXCIpO1xuXG52YXIgX2Nzc1ZhckludGVycG9sYXRlID0gcmVxdWlyZShcIi4uL2xpYi9pbnRlcnBvbGF0ZS9jc3MtdmFyLWludGVycG9sYXRlXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmNsYXNzIFNjcm9sbERlbW9TYW1wbGU1IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc29sZS5sb2coJ1NhbXBsZSA1Jyk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IF9kb21XYXRjaGVyLkRvbVdhdGNoZXIoKTtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyZW50Jyk7XG4gICAgdGhpcy5tb2R1bGVIZWlnaHQgPSB0aGlzLnBhcmVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgIHRoaXMuY2hpbGRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoaWxkJyk7IC8vIEluc3RhbmNlIG9mIHJhZlByb2dyZXNzLlxuXG4gICAgY29uc3QgcmFmUHJvZ3Jlc3MgPSBuZXcgX3JhZlByb2dyZXNzLlJhZlByb2dyZXNzKCk7XG4gICAgY29uc3QgcmFmID0gbmV3IF9yYWYuUmFmKHRoaXMucmFmLmJpbmQodGhpcykpOyAvLyBVcGRhdGUgdGhlIHByb2dyZXNzIHZhbHVlIHBlciBzY3JvbGwuXG5cbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGNhbGxiYWNrOiBldmVudCA9PiB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBfZG9tLmRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCk7XG4gICAgICAgIHJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjA4LCBfZWFzZS5FQVNFLkxpbmVhcik7XG4gICAgICB9LFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmZsb3dlckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmxvd2VyJyk7XG4gICAgdGhpcy5mbG93ZXJWZWN0b3IgPSBuZXcgX3ZlY3RvckRvbS5WZWN0b3JEb20odGhpcy5mbG93ZXJFbGVtZW50KTtcbiAgICB0aGlzLmZsb3dlclZlY3Rvci5hbmNob3JYID0gMDtcbiAgICB0aGlzLmZsb3dlclZlY3Rvci5hbmNob3JZID0gMDtcbiAgICBjb25zdCB0aW1lbGluZSA9IFt7XG4gICAgICBwcm9ncmVzczogMCxcbiAgICAgIHJ5OiAwLFxuICAgICAgcno6IDAsXG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHo6IDAuNSAtIDFcbiAgICB9LCB7XG4gICAgICBwcm9ncmVzczogMC4yLFxuICAgICAgcnk6IC05MCxcbiAgICAgIHJ6OiAxODAsXG4gICAgICB4OiAyMDAsXG4gICAgICB5OiA1MDAsXG4gICAgICB6OiAwLjIgLSAxXG4gICAgfSwge1xuICAgICAgcHJvZ3Jlc3M6IDAuNCxcbiAgICAgIHJ5OiAwLFxuICAgICAgcno6IC0xODAsXG4gICAgICB4OiA0MDAsXG4gICAgICB5OiAxMDAsXG4gICAgICB6OiAwLjUgLSAxXG4gICAgfSwge1xuICAgICAgcHJvZ3Jlc3M6IDAuNixcbiAgICAgIHJ6OiAwLFxuICAgICAgeDogNjAwLFxuICAgICAgeTogNDAwLFxuICAgICAgejogMSAtIDFcbiAgICB9LCB7XG4gICAgICBwcm9ncmVzczogMC44LFxuICAgICAgcno6IDkwLFxuICAgICAgeDogODAwLFxuICAgICAgeTogNTAwLFxuICAgICAgejogMC4zIC0gMVxuICAgIH0sIHtcbiAgICAgIHByb2dyZXNzOiAxLFxuICAgICAgcno6IDAsXG4gICAgICB4OiAxMDAwLFxuICAgICAgeTogMjAwLFxuICAgICAgejogMSAtIDFcbiAgICB9XTtcblxuICAgIHRoaXMuZmxvd2VyVmVjdG9yLl8udGltZWxpbmUuc2V0VGltZWxpbmUodGltZWxpbmUpO1xuXG4gICAgdGhpcy5mbG93ZXJWZWN0b3IuaW5pdCgpOyAvLyBVc2UgY2F0bXVsbCByb20gbW9kZSB0byBtYWtlIHRoaXMgc3VwZXIgc21vb3RoIGJldHdlZW4gcG9pbnRzLlxuXG4gICAgdGhpcy5mbG93ZXJWZWN0b3IuXy50aW1lbGluZS5jYXRtdWxsUm9tTW9kZSA9IHRydWU7XG4gICAgdGhpcy5mbG93ZXJWZWN0b3IuXy50aW1lbGluZS5jYXRtdWxsUm9tVGVuc2lvbiA9IDE7IC8vIFVwZGF0ZSBwcm9ncmVzcyBpbW1lZGlhdGVseSBvbiBsb2FkLlxuXG4gICAgdGhpcy5wcm9ncmVzcyA9IF9kb20uZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICByYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgX2Vhc2UuRUFTRS5MaW5lYXIpO1xuICAgIHJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTsgLy8gQW5pbWF0ZSB0aGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgYm9keSB3aXRoIGNzcyB2YXIgaW50ZXJwb2xhdGUuXG5cbiAgICB0aGlzLmNzc1ZhckludGVycG9sYXRlID0gbmV3IF9jc3NWYXJJbnRlcnBvbGF0ZS5Dc3NWYXJJbnRlcnBvbGF0ZShkb2N1bWVudC5ib2R5LCB7XG4gICAgICBpbnRlcnBvbGF0aW9uczogW3tcbiAgICAgICAgcHJvZ3Jlc3M6IFt7XG4gICAgICAgICAgZnJvbTogMCxcbiAgICAgICAgICB0bzogMC41LFxuICAgICAgICAgIHN0YXJ0OiAncmdiYSgyNTUsIDEyOCwgMCwgMC4zKScsXG4gICAgICAgICAgLy8gb3JhbmdlXG4gICAgICAgICAgZW5kOiAncmdiYSgyNTUsIDE1MywgMjA0LCAxKScgLy8gcGlua1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmcm9tOiAwLjUsXG4gICAgICAgICAgdG86IDEsXG4gICAgICAgICAgc3RhcnQ6ICdyZ2JhKDI1NSwgMTUzLCAyMDQsIDEpJyxcbiAgICAgICAgICAvLyBwaW5rXG4gICAgICAgICAgZW5kOiAncmdiYSgwLCAwLCAyNTUsIDEpJyAvLyBibHVlXG5cbiAgICAgICAgfV0sXG4gICAgICAgIGlkOiAnLS1iYWNrZ3JvdW5kJ1xuICAgICAgfV1cbiAgICB9KTtcbiAgICB0aGlzLmd1aSA9IG5ldyBkYXQuR1VJKCk7XG4gICAgbGV0IGRhdEZvbGRlciA9IHRoaXMuZ3VpLmFkZEZvbGRlcignQ2F0bXVsbCBSb20nKTtcbiAgICBkYXRGb2xkZXIuYWRkKHRoaXMuZmxvd2VyVmVjdG9yLl8udGltZWxpbmUsICdjYXRtdWxsUm9tTW9kZScpO1xuICAgIGRhdEZvbGRlci5hZGQodGhpcy5mbG93ZXJWZWN0b3IuXy50aW1lbGluZSwgJ2NhdG11bGxSb21UZW5zaW9uJywgLTMsIDMpO1xuICAgIHJhZi5zdGFydCgpO1xuICB9IC8vIFJ1bnMgZXZlcnkgdGltZSBlYXNlZCBwcm9ncmVzcyBpcyB1cGRhdGVkLlxuXG5cbiAgb25Qcm9ncmVzc1VwZGF0ZShlYXNlZFByb2dyZXNzLCBkaXJlY3Rpb24pIHtcbiAgICBsZXQgc2luID0gTWF0aC5zaW4oZWFzZWRQcm9ncmVzcyk7XG4gICAgdGhpcy5jc3NWYXJJbnRlcnBvbGF0ZS51cGRhdGUoZWFzZWRQcm9ncmVzcyk7XG5cbiAgICB0aGlzLmZsb3dlclZlY3Rvci5fLnRpbWVsaW5lLnVwZGF0ZVByb2dyZXNzKGVhc2VkUHJvZ3Jlc3MpO1xuICB9XG5cbiAgcmFmKCkge1xuICAgIHRoaXMuZmxvd2VyVmVjdG9yLnNsZXJwRXVsYXJSb3RhdGlvbigwLjEpO1xuICAgIHRoaXMuZmxvd2VyVmVjdG9yLnJlbmRlcigpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gU2Nyb2xsRGVtb1NhbXBsZTU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/scroll-demo5.js\n");

/***/ }),

/***/ "./examples/styles/index.sass":
/*!************************************!*\
  !*** ./examples/styles/index.sass ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar content = __webpack_require__(/*! !../../node_modules/css-loader/dist/cjs.js?sourceMap=true!../../node_modules/sass-loader/lib/loader.js!./index.sass */ \"./node_modules/css-loader/dist/cjs.js?sourceMap=true!./node_modules/sass-loader/lib/loader.js!./examples/styles/index.sass\");\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(/*! ../../node_modules/style-loader/lib/addStyles.js */ \"./node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9zdHlsZXMvaW5kZXguc2Fzcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3N0eWxlcy9pbmRleC5zYXNzP2VlOWIiXSwic291cmNlc0NvbnRlbnQiOlsiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzP3NvdXJjZU1hcD10cnVlIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vaW5kZXguc2Fzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/c291cmNlTWFwPXRydWUhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9pbmRleC5zYXNzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/c291cmNlTWFwPXRydWUhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9pbmRleC5zYXNzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/styles/index.sass\n");

/***/ }),

/***/ "./examples/text-split.js":
/*!********************************!*\
  !*** ./examples/text-split.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _textSplit = __webpack_require__(/*! ../lib/dom/text-split */ \"./lib/dom/text-split.js\");\n\nclass TextSplitSample {\n  constructor() {\n    console.log('text split sample'); // Split by word\n\n    let splitter = new _textSplit.TextSplit({\n      element: document.getElementById('split1'),\n      split: ' '\n    }); // Split by character\n\n    let splitter2 = new _textSplit.TextSplit({\n      element: document.getElementById('split2'),\n      split: ''\n    });\n    let splitter3 = new _textSplit.TextSplit({\n      element: document.getElementById('split3'),\n      split: ' '\n    }); // Run splitting every 2 seconds.\n    // This layout thrashes so in practice, you wouldn't want to do this,\n    // and instead reset a css class.\n\n    window.setInterval(() => {\n      splitter.split();\n      splitter2.split();\n      splitter3.split();\n    }, 2000);\n  }\n\n}\n\nexports.default = TextSplitSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90ZXh0LXNwbGl0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvdGV4dC1zcGxpdC5qcz8yM2Y0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3RleHRTcGxpdCA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL3RleHQtc3BsaXRcIik7XG5cbmNsYXNzIFRleHRTcGxpdFNhbXBsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCd0ZXh0IHNwbGl0IHNhbXBsZScpOyAvLyBTcGxpdCBieSB3b3JkXG5cbiAgICBsZXQgc3BsaXR0ZXIgPSBuZXcgX3RleHRTcGxpdC5UZXh0U3BsaXQoe1xuICAgICAgZWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwbGl0MScpLFxuICAgICAgc3BsaXQ6ICcgJ1xuICAgIH0pOyAvLyBTcGxpdCBieSBjaGFyYWN0ZXJcblxuICAgIGxldCBzcGxpdHRlcjIgPSBuZXcgX3RleHRTcGxpdC5UZXh0U3BsaXQoe1xuICAgICAgZWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwbGl0MicpLFxuICAgICAgc3BsaXQ6ICcnXG4gICAgfSk7XG4gICAgbGV0IHNwbGl0dGVyMyA9IG5ldyBfdGV4dFNwbGl0LlRleHRTcGxpdCh7XG4gICAgICBlbGVtZW50OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BsaXQzJyksXG4gICAgICBzcGxpdDogJyAnXG4gICAgfSk7IC8vIFJ1biBzcGxpdHRpbmcgZXZlcnkgMiBzZWNvbmRzLlxuICAgIC8vIFRoaXMgbGF5b3V0IHRocmFzaGVzIHNvIGluIHByYWN0aWNlLCB5b3Ugd291bGRuJ3Qgd2FudCB0byBkbyB0aGlzLFxuICAgIC8vIGFuZCBpbnN0ZWFkIHJlc2V0IGEgY3NzIGNsYXNzLlxuXG4gICAgd2luZG93LnNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHNwbGl0dGVyLnNwbGl0KCk7XG4gICAgICBzcGxpdHRlcjIuc3BsaXQoKTtcbiAgICAgIHNwbGl0dGVyMy5zcGxpdCgpO1xuICAgIH0sIDIwMDApO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gVGV4dFNwbGl0U2FtcGxlOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/text-split.js\n");

/***/ }),

/***/ "./examples/three-light-test.js":
/*!**************************************!*\
  !*** ./examples/three-light-test.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _GLTFLoader = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _OrbitControls = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n\nvar _sceneRenderer = __webpack_require__(/*! ../lib/threef/scene-renderer */ \"./lib/threef/scene-renderer.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _threef = __webpack_require__(/*! ../lib/threef/threef */ \"./lib/threef/threef.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n// https://threejs.org/examples/webgl_shadowmap_pcss.html\nconst PCSS2 = `\n#define LIGHT_WORLD_SIZE 0.005\n\t\t\t\t#define LIGHT_FRUSTUM_WIDTH 3.75\n\t\t\t\t#define LIGHT_SIZE_UV (LIGHT_WORLD_SIZE / LIGHT_FRUSTUM_WIDTH)\n\t\t\t\t#define NEAR_PLANE 9.5\n\t\t\t\t#define NUM_SAMPLES 30\n\t\t\t\t#define NUM_RINGS 10\n\t\t\t\t#define BLOCKER_SEARCH_NUM_SAMPLES NUM_SAMPLES\n\t\t\t\t#define PCF_NUM_SAMPLES NUM_SAMPLES\n\n\t\t\t\tvec2 poissonDisk[NUM_SAMPLES];\n\n\t\t\t\tvoid initPoissonSamples( const in vec2 randomSeed ) {\n\t\t\t\t\tfloat ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );\n\t\t\t\t\tfloat INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );\n\n\t\t\t\t\t// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/\n\t\t\t\t\tfloat angle = rand( randomSeed ) * PI2;\n\t\t\t\t\tfloat radius = INV_NUM_SAMPLES;\n\t\t\t\t\tfloat radiusStep = radius;\n\n\t\t\t\t\tfor( int i = 0; i < NUM_SAMPLES; i ++ ) {\n\t\t\t\t\t\tpoissonDisk[i] = vec2( cos( angle ), sin( angle ) ) * pow( radius, 0.75 );\n\t\t\t\t\t\tradius += radiusStep;\n\t\t\t\t\t\tangle += ANGLE_STEP;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfloat penumbraSize( const in float zReceiver, const in float zBlocker ) { // Parallel plane estimation\n\t\t\t\t\treturn (zReceiver - zBlocker) / zBlocker;\n\t\t\t\t}\n\n\t\t\t\tfloat findBlocker( sampler2D shadowMap, const in vec2 uv, const in float zReceiver ) {\n\t\t\t\t\t// This uses similar triangles to compute what\n\t\t\t\t\t// area of the shadow map we should search\n\t\t\t\t\tfloat searchRadius = LIGHT_SIZE_UV * ( zReceiver - NEAR_PLANE ) / zReceiver;\n\t\t\t\t\tfloat blockerDepthSum = 0.0;\n\t\t\t\t\tint numBlockers = 0;\n\n\t\t\t\t\tfor( int i = 0; i < BLOCKER_SEARCH_NUM_SAMPLES; i++ ) {\n\t\t\t\t\t\tfloat shadowMapDepth = unpackRGBAToDepth(texture2D(shadowMap, uv + poissonDisk[i] * searchRadius));\n\t\t\t\t\t\tif ( shadowMapDepth < zReceiver ) {\n\t\t\t\t\t\t\tblockerDepthSum += shadowMapDepth;\n\t\t\t\t\t\t\tnumBlockers ++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif( numBlockers == 0 ) return -1.0;\n\n\t\t\t\t\treturn blockerDepthSum / float( numBlockers );\n\t\t\t\t}\n\n\t\t\t\tfloat PCF_Filter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius ) {\n\t\t\t\t\tfloat sum = 0.0;\n\t\t\t\t\tfor( int i = 0; i < PCF_NUM_SAMPLES; i ++ ) {\n\t\t\t\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadowMap, uv + poissonDisk[ i ] * filterRadius ) );\n\t\t\t\t\t\tif( zReceiver <= depth ) sum += 1.0;\n\t\t\t\t\t}\n\t\t\t\t\tfor( int i = 0; i < PCF_NUM_SAMPLES; i ++ ) {\n\t\t\t\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadowMap, uv + -poissonDisk[ i ].yx * filterRadius ) );\n\t\t\t\t\t\tif( zReceiver <= depth ) sum += 1.0;\n\t\t\t\t\t}\n\t\t\t\t\treturn sum / ( 2.0 * float( PCF_NUM_SAMPLES ) );\n\t\t\t\t}\n\n\t\t\t\tfloat PCSS ( sampler2D shadowMap, vec4 coords ) {\n\t\t\t\t\tvec2 uv = coords.xy;\n\t\t\t\t\tfloat zReceiver = coords.z; // Assumed to be eye-space z in this code\n\n\t\t\t\t\tinitPoissonSamples( uv );\n\t\t\t\t\t// STEP 1: blocker search\n\t\t\t\t\tfloat avgBlockerDepth = findBlocker( shadowMap, uv, zReceiver );\n\n\t\t\t\t\t//There are no occluders so early out (this saves filtering)\n\t\t\t\t\tif( avgBlockerDepth == -1.0 ) return 1.0;\n\n\t\t\t\t\t// STEP 2: penumbra size\n\t\t\t\t\tfloat penumbraRatio = penumbraSize( zReceiver, avgBlockerDepth );\n\t\t\t\t\tfloat filterRadius = penumbraRatio * LIGHT_SIZE_UV * NEAR_PLANE / zReceiver;\n\n\t\t\t\t\t// STEP 3: filtering\n\t\t\t\t\t//return avgBlockerDepth;\n\t\t\t\t\treturn PCF_Filter( shadowMap, uv, zReceiver, filterRadius);\n\t\t\t\t}\n`;\nconst PCSS = `\n#define LIGHT_WORLD_SIZE 0.005\n\t\t\t\t#define LIGHT_FRUSTUM_WIDTH 3.75\n\t\t\t\t#define LIGHT_SIZE_UV (LIGHT_WORLD_SIZE / LIGHT_FRUSTUM_WIDTH)\n\t\t\t\t#define NEAR_PLANE 9.5\n\n\t\t\t\t#define NUM_SAMPLES 17\n\t\t\t\t#define NUM_RINGS 11\n\t\t\t\t#define BLOCKER_SEARCH_NUM_SAMPLES NUM_SAMPLES\n\t\t\t\t#define PCF_NUM_SAMPLES NUM_SAMPLES\n\n\t\t\t\tvec2 poissonDisk[NUM_SAMPLES];\n\n\t\t\t\tvoid initPoissonSamples( const in vec2 randomSeed ) {\n\t\t\t\t\tfloat ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );\n\t\t\t\t\tfloat INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );\n\n\t\t\t\t\t// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/\n\t\t\t\t\tfloat angle = rand( randomSeed ) * PI2;\n\t\t\t\t\tfloat radius = INV_NUM_SAMPLES;\n\t\t\t\t\tfloat radiusStep = radius;\n\n\t\t\t\t\tfor( int i = 0; i < NUM_SAMPLES; i ++ ) {\n\t\t\t\t\t\tpoissonDisk[i] = vec2( cos( angle ), sin( angle ) ) * pow( radius, 0.75 );\n\t\t\t\t\t\tradius += radiusStep;\n\t\t\t\t\t\tangle += ANGLE_STEP;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfloat penumbraSize( const in float zReceiver, const in float zBlocker ) { // Parallel plane estimation\n\t\t\t\t\treturn (zReceiver - zBlocker) / zBlocker;\n\t\t\t\t}\n\n\t\t\t\tfloat findBlocker( sampler2D shadowMap, const in vec2 uv, const in float zReceiver ) {\n\t\t\t\t\t// This uses similar triangles to compute what\n\t\t\t\t\t// area of the shadow map we should search\n\t\t\t\t\tfloat searchRadius = LIGHT_SIZE_UV * ( zReceiver - NEAR_PLANE ) / zReceiver;\n\t\t\t\t\tfloat blockerDepthSum = 0.0;\n\t\t\t\t\tint numBlockers = 0;\n\n\t\t\t\t\tfor( int i = 0; i < BLOCKER_SEARCH_NUM_SAMPLES; i++ ) {\n\t\t\t\t\t\tfloat shadowMapDepth = unpackRGBAToDepth(texture2D(shadowMap, uv + poissonDisk[i] * searchRadius));\n\t\t\t\t\t\tif ( shadowMapDepth < zReceiver ) {\n\t\t\t\t\t\t\tblockerDepthSum += shadowMapDepth;\n\t\t\t\t\t\t\tnumBlockers ++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif( numBlockers == 0 ) return -1.0;\n\n\t\t\t\t\treturn blockerDepthSum / float( numBlockers );\n\t\t\t\t}\n\n\t\t\t\tfloat PCF_Filter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius ) {\n\t\t\t\t\tfloat sum = 0.0;\n\t\t\t\t\tfor( int i = 0; i < PCF_NUM_SAMPLES; i ++ ) {\n\t\t\t\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadowMap, uv + poissonDisk[ i ] * filterRadius ) );\n\t\t\t\t\t\tif( zReceiver <= depth ) sum += 1.0;\n\t\t\t\t\t}\n\t\t\t\t\tfor( int i = 0; i < PCF_NUM_SAMPLES; i ++ ) {\n\t\t\t\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadowMap, uv + -poissonDisk[ i ].yx * filterRadius ) );\n\t\t\t\t\t\tif( zReceiver <= depth ) sum += 1.0;\n\t\t\t\t\t}\n\t\t\t\t\treturn sum / ( 2.0 * float( PCF_NUM_SAMPLES ) );\n\t\t\t\t}\n\n\t\t\t\tfloat PCSS ( sampler2D shadowMap, vec4 coords ) {\n\t\t\t\t\tvec2 uv = coords.xy;\n\t\t\t\t\tfloat zReceiver = coords.z; // Assumed to be eye-space z in this code\n\n\t\t\t\t\tinitPoissonSamples( uv );\n\t\t\t\t\t// STEP 1: blocker search\n\t\t\t\t\tfloat avgBlockerDepth = findBlocker( shadowMap, uv, zReceiver );\n\n\t\t\t\t\t//There are no occluders so early out (this saves filtering)\n\t\t\t\t\tif( avgBlockerDepth == -1.0 ) return 1.0;\n\n\t\t\t\t\t// STEP 2: penumbra size\n\t\t\t\t\tfloat penumbraRatio = penumbraSize( zReceiver, avgBlockerDepth );\n\t\t\t\t\tfloat filterRadius = penumbraRatio * LIGHT_SIZE_UV * NEAR_PLANE / zReceiver;\n\n\t\t\t\t\t// STEP 3: filtering\n\t\t\t\t\t//return avgBlockerDepth;\n\t\t\t\t\treturn PCF_Filter( shadowMap, uv, zReceiver, filterRadius );\n\t\t\t\t}\n`;\nconst PCSSGetShadow = `\n return PCSS( shadowMap, shadowCoord );\n`;\n\nclass ThreeLightTest {\n  constructor() {\n    console.log(\"Three Lighting Test\");\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.sceneRenderer = new _sceneRenderer.SceneRenderer({});\n    this.boxElements = {\n      box1: document.getElementById('box-1')\n    };\n    this.overwriteShadowMap();\n    this.createGltfScene1();\n    this.sceneRenderer.resize();\n    this.raf.start();\n  }\n\n  overwriteShadowMap() {\n    var shader = THREE.ShaderChunk.shadowmap_pars_fragment;\n    shader = shader.replace('#ifdef USE_SHADOWMAP', '#ifdef USE_SHADOWMAP' + PCSS2);\n    shader = shader.replace('#if defined( SHADOWMAP_TYPE_PCF )', PCSSGetShadow + '#if defined( SHADOWMAP_TYPE_PCF )');\n    THREE.ShaderChunk.shadowmap_pars_fragment = shader;\n  }\n\n  createGltfScene1() {\n    const domElement = this.boxElements.box1;\n    const scene = new THREE.Scene();\n    const camera = new THREE.PerspectiveCamera(30, domElement.offsetWidth / domElement.offsetWidth, 1, 10000);\n    camera.position.x = 7;\n    camera.position.y = 13;\n    camera.position.z = 7;\n    this.sceneRenderer.addScene({\n      resizingAlgo: 'contain',\n      resizingOptions: {\n        scalarX: 1,\n        scalarY: 1,\n        useFov: false\n      },\n      domElement: domElement,\n      scene: scene,\n      camera: camera,\n      onInit: (renderer, scene, camera) => {\n        scene.userData.sphereGroup = this.addRandomSpheres(scene);\n        scene.userData.group = this.addGround(scene);\n        const ambientLight = new THREE.AmbientLight('#FFFFFF');\n        ambientLight.intensity = 0.5;\n        scene.add(ambientLight); // Light 1\n\n        var light = new THREE.DirectionalLight(0xdfebff, 1);\n        light.position.set(2, 8, 4);\n        light.castShadow = true;\n        light.shadow.mapSize.width = 1024;\n        light.shadow.mapSize.height = 1024; // This blurs but doesn't look great.\n        // light.shadow.radius = 20;\n        // light.shadow.camera.far = 200;\n        // Adjust for blurryness\n\n        light.shadow.camera.far = 50;\n        light.shadow.camera.near = 1;\n        scene.add(light);\n        scene.add(new THREE.CameraHelper(light.shadow.camera)); // var light2 = new THREE.DirectionalLight(0xdfebff, 1);\n        // light2.position.set(0, 8, -5);\n        // light2.castShadow = true;\n        // light2.shadow.mapSize.width = 1024;\n        // light2.shadow.mapSize.height = 1024;\n        // // This blurs but doesn't look great.\n        // // light.shadow.radius = 20;\n        // // light.shadow.camera.far = 200;\n        // // Adjust for blurryness\n        // light2.shadow.camera.far = 100;\n        // scene.add(light2);\n        // scene.add(new THREE.CameraHelper(light2.shadow.camera));\n        // Add orbit controls.\n\n        var controls = new _OrbitControls.OrbitControls(camera, domElement);\n        controls.maxPolarAngle = Math.PI * 0.5;\n        controls.minDistance = 10;\n        controls.maxDistance = 75;\n        controls.target.set(0, 2.5, 0);\n        controls.update();\n        scene.userData.controls = controls;\n      },\n      onBeforeRender: (renderer, scene) => {\n        renderer.gammaInput = true;\n        renderer.gammaOutput = true;\n        renderer.shadowMap.enabled = true; // renderer.shadowMapSoft = true;\n        // renderer.shadowMapType = THREE.PCFSoftShadowMap;\n\n        scene.userData.sphereGroup.traverse(child => {\n          if ('phase' in child.userData) {\n            child.position.y = Math.abs(Math.sin(this.raf.getElapsedTime() + child.userData.phase)) * 5 + 0.3;\n          }\n        });\n      }\n    }, true);\n  }\n  /**\n   * Add shadow casting spheres.\n   */\n\n\n  addRandomSpheres(scene) {\n    const group = new THREE.Group();\n\n    for (var i = 0; i < 12; i++) {\n      var geometry = new THREE.SphereBufferGeometry(0.3, _mathf.mathf.getRandomInt(10, 50), _mathf.mathf.getRandomInt(10, 50));\n      var material;\n\n      if (i % 2 == 0) {\n        material = new THREE.MeshStandardMaterial({\n          color: Math.random() * 0xffffff\n        });\n      } else {\n        material = new THREE.MeshPhongMaterial({\n          color: Math.random() * 0xffffff\n        });\n      }\n\n      var sphere = new THREE.Mesh(geometry, material);\n      sphere.position.x = Math.random() - 0.5;\n      sphere.position.z = Math.random() - 0.5;\n      sphere.position.normalize();\n      sphere.position.multiplyScalar(Math.random() * 2 + 1);\n      sphere.castShadow = true;\n      sphere.receiveShadow = true;\n      sphere.userData.phase = Math.random() * Math.PI;\n      group.add(sphere);\n    }\n\n    scene.add(group);\n    return group;\n  }\n\n  addGround(scene) {\n    var groundMaterial = new THREE.MeshPhongMaterial({\n      color: 0xFFFFFF,\n      specular: 0xFFFFFFF\n    });\n    var mesh = new THREE.Mesh(new THREE.PlaneBufferGeometry(20000, 20000, 8, 8), groundMaterial);\n    mesh.rotation.x = -Math.PI / 2;\n    mesh.receiveShadow = true;\n    scene.add(mesh);\n    mesh = new THREE.Mesh(new THREE.BoxBufferGeometry(1, 4, 1), groundMaterial);\n    mesh.position.y = 2;\n    mesh.castShadow = true;\n    mesh.receiveShadow = true;\n    scene.add(mesh);\n  }\n\n  onRaf() {\n    this.sceneRenderer.render();\n  }\n\n}\n\nexports.default = ThreeLightTest;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1saWdodC10ZXN0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvdGhyZWUtbGlnaHQtdGVzdC5qcz80ZmE2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX0dMVEZMb2FkZXIgPSByZXF1aXJlKFwidGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlclwiKTtcblxudmFyIF90aHJlZSA9IHJlcXVpcmUoXCJ0aHJlZVwiKTtcblxudmFyIFRIUkVFID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3RocmVlKTtcblxudmFyIF9PcmJpdENvbnRyb2xzID0gcmVxdWlyZShcInRocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzXCIpO1xuXG52YXIgX3NjZW5lUmVuZGVyZXIgPSByZXF1aXJlKFwiLi4vbGliL3RocmVlZi9zY2VuZS1yZW5kZXJlclwiKTtcblxudmFyIF9tYXRoZiA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvbWF0aGZcIik7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX3RocmVlZiA9IHJlcXVpcmUoXCIuLi9saWIvdGhyZWVmL3RocmVlZlwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vLyBodHRwczovL3RocmVlanMub3JnL2V4YW1wbGVzL3dlYmdsX3NoYWRvd21hcF9wY3NzLmh0bWxcbmNvbnN0IFBDU1MyID0gYFxuI2RlZmluZSBMSUdIVF9XT1JMRF9TSVpFIDAuMDA1XG5cdFx0XHRcdCNkZWZpbmUgTElHSFRfRlJVU1RVTV9XSURUSCAzLjc1XG5cdFx0XHRcdCNkZWZpbmUgTElHSFRfU0laRV9VViAoTElHSFRfV09STERfU0laRSAvIExJR0hUX0ZSVVNUVU1fV0lEVEgpXG5cdFx0XHRcdCNkZWZpbmUgTkVBUl9QTEFORSA5LjVcblx0XHRcdFx0I2RlZmluZSBOVU1fU0FNUExFUyAzMFxuXHRcdFx0XHQjZGVmaW5lIE5VTV9SSU5HUyAxMFxuXHRcdFx0XHQjZGVmaW5lIEJMT0NLRVJfU0VBUkNIX05VTV9TQU1QTEVTIE5VTV9TQU1QTEVTXG5cdFx0XHRcdCNkZWZpbmUgUENGX05VTV9TQU1QTEVTIE5VTV9TQU1QTEVTXG5cblx0XHRcdFx0dmVjMiBwb2lzc29uRGlza1tOVU1fU0FNUExFU107XG5cblx0XHRcdFx0dm9pZCBpbml0UG9pc3NvblNhbXBsZXMoIGNvbnN0IGluIHZlYzIgcmFuZG9tU2VlZCApIHtcblx0XHRcdFx0XHRmbG9hdCBBTkdMRV9TVEVQID0gUEkyICogZmxvYXQoIE5VTV9SSU5HUyApIC8gZmxvYXQoIE5VTV9TQU1QTEVTICk7XG5cdFx0XHRcdFx0ZmxvYXQgSU5WX05VTV9TQU1QTEVTID0gMS4wIC8gZmxvYXQoIE5VTV9TQU1QTEVTICk7XG5cblx0XHRcdFx0XHQvLyBqc2ZpZGRsZSB0aGF0IHNob3dzIHNhbXBsZSBwYXR0ZXJuOiBodHRwczovL2pzZmlkZGxlLm5ldC9hMTZmZjFwNy9cblx0XHRcdFx0XHRmbG9hdCBhbmdsZSA9IHJhbmQoIHJhbmRvbVNlZWQgKSAqIFBJMjtcblx0XHRcdFx0XHRmbG9hdCByYWRpdXMgPSBJTlZfTlVNX1NBTVBMRVM7XG5cdFx0XHRcdFx0ZmxvYXQgcmFkaXVzU3RlcCA9IHJhZGl1cztcblxuXHRcdFx0XHRcdGZvciggaW50IGkgPSAwOyBpIDwgTlVNX1NBTVBMRVM7IGkgKysgKSB7XG5cdFx0XHRcdFx0XHRwb2lzc29uRGlza1tpXSA9IHZlYzIoIGNvcyggYW5nbGUgKSwgc2luKCBhbmdsZSApICkgKiBwb3coIHJhZGl1cywgMC43NSApO1xuXHRcdFx0XHRcdFx0cmFkaXVzICs9IHJhZGl1c1N0ZXA7XG5cdFx0XHRcdFx0XHRhbmdsZSArPSBBTkdMRV9TVEVQO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZsb2F0IHBlbnVtYnJhU2l6ZSggY29uc3QgaW4gZmxvYXQgelJlY2VpdmVyLCBjb25zdCBpbiBmbG9hdCB6QmxvY2tlciApIHsgLy8gUGFyYWxsZWwgcGxhbmUgZXN0aW1hdGlvblxuXHRcdFx0XHRcdHJldHVybiAoelJlY2VpdmVyIC0gekJsb2NrZXIpIC8gekJsb2NrZXI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmbG9hdCBmaW5kQmxvY2tlciggc2FtcGxlcjJEIHNoYWRvd01hcCwgY29uc3QgaW4gdmVjMiB1diwgY29uc3QgaW4gZmxvYXQgelJlY2VpdmVyICkge1xuXHRcdFx0XHRcdC8vIFRoaXMgdXNlcyBzaW1pbGFyIHRyaWFuZ2xlcyB0byBjb21wdXRlIHdoYXRcblx0XHRcdFx0XHQvLyBhcmVhIG9mIHRoZSBzaGFkb3cgbWFwIHdlIHNob3VsZCBzZWFyY2hcblx0XHRcdFx0XHRmbG9hdCBzZWFyY2hSYWRpdXMgPSBMSUdIVF9TSVpFX1VWICogKCB6UmVjZWl2ZXIgLSBORUFSX1BMQU5FICkgLyB6UmVjZWl2ZXI7XG5cdFx0XHRcdFx0ZmxvYXQgYmxvY2tlckRlcHRoU3VtID0gMC4wO1xuXHRcdFx0XHRcdGludCBudW1CbG9ja2VycyA9IDA7XG5cblx0XHRcdFx0XHRmb3IoIGludCBpID0gMDsgaSA8IEJMT0NLRVJfU0VBUkNIX05VTV9TQU1QTEVTOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRmbG9hdCBzaGFkb3dNYXBEZXB0aCA9IHVucGFja1JHQkFUb0RlcHRoKHRleHR1cmUyRChzaGFkb3dNYXAsIHV2ICsgcG9pc3NvbkRpc2tbaV0gKiBzZWFyY2hSYWRpdXMpKTtcblx0XHRcdFx0XHRcdGlmICggc2hhZG93TWFwRGVwdGggPCB6UmVjZWl2ZXIgKSB7XG5cdFx0XHRcdFx0XHRcdGJsb2NrZXJEZXB0aFN1bSArPSBzaGFkb3dNYXBEZXB0aDtcblx0XHRcdFx0XHRcdFx0bnVtQmxvY2tlcnMgKys7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYoIG51bUJsb2NrZXJzID09IDAgKSByZXR1cm4gLTEuMDtcblxuXHRcdFx0XHRcdHJldHVybiBibG9ja2VyRGVwdGhTdW0gLyBmbG9hdCggbnVtQmxvY2tlcnMgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZsb2F0IFBDRl9GaWx0ZXIoc2FtcGxlcjJEIHNoYWRvd01hcCwgdmVjMiB1diwgZmxvYXQgelJlY2VpdmVyLCBmbG9hdCBmaWx0ZXJSYWRpdXMgKSB7XG5cdFx0XHRcdFx0ZmxvYXQgc3VtID0gMC4wO1xuXHRcdFx0XHRcdGZvciggaW50IGkgPSAwOyBpIDwgUENGX05VTV9TQU1QTEVTOyBpICsrICkge1xuXHRcdFx0XHRcdFx0ZmxvYXQgZGVwdGggPSB1bnBhY2tSR0JBVG9EZXB0aCggdGV4dHVyZTJEKCBzaGFkb3dNYXAsIHV2ICsgcG9pc3NvbkRpc2tbIGkgXSAqIGZpbHRlclJhZGl1cyApICk7XG5cdFx0XHRcdFx0XHRpZiggelJlY2VpdmVyIDw9IGRlcHRoICkgc3VtICs9IDEuMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Zm9yKCBpbnQgaSA9IDA7IGkgPCBQQ0ZfTlVNX1NBTVBMRVM7IGkgKysgKSB7XG5cdFx0XHRcdFx0XHRmbG9hdCBkZXB0aCA9IHVucGFja1JHQkFUb0RlcHRoKCB0ZXh0dXJlMkQoIHNoYWRvd01hcCwgdXYgKyAtcG9pc3NvbkRpc2tbIGkgXS55eCAqIGZpbHRlclJhZGl1cyApICk7XG5cdFx0XHRcdFx0XHRpZiggelJlY2VpdmVyIDw9IGRlcHRoICkgc3VtICs9IDEuMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHN1bSAvICggMi4wICogZmxvYXQoIFBDRl9OVU1fU0FNUExFUyApICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmbG9hdCBQQ1NTICggc2FtcGxlcjJEIHNoYWRvd01hcCwgdmVjNCBjb29yZHMgKSB7XG5cdFx0XHRcdFx0dmVjMiB1diA9IGNvb3Jkcy54eTtcblx0XHRcdFx0XHRmbG9hdCB6UmVjZWl2ZXIgPSBjb29yZHMuejsgLy8gQXNzdW1lZCB0byBiZSBleWUtc3BhY2UgeiBpbiB0aGlzIGNvZGVcblxuXHRcdFx0XHRcdGluaXRQb2lzc29uU2FtcGxlcyggdXYgKTtcblx0XHRcdFx0XHQvLyBTVEVQIDE6IGJsb2NrZXIgc2VhcmNoXG5cdFx0XHRcdFx0ZmxvYXQgYXZnQmxvY2tlckRlcHRoID0gZmluZEJsb2NrZXIoIHNoYWRvd01hcCwgdXYsIHpSZWNlaXZlciApO1xuXG5cdFx0XHRcdFx0Ly9UaGVyZSBhcmUgbm8gb2NjbHVkZXJzIHNvIGVhcmx5IG91dCAodGhpcyBzYXZlcyBmaWx0ZXJpbmcpXG5cdFx0XHRcdFx0aWYoIGF2Z0Jsb2NrZXJEZXB0aCA9PSAtMS4wICkgcmV0dXJuIDEuMDtcblxuXHRcdFx0XHRcdC8vIFNURVAgMjogcGVudW1icmEgc2l6ZVxuXHRcdFx0XHRcdGZsb2F0IHBlbnVtYnJhUmF0aW8gPSBwZW51bWJyYVNpemUoIHpSZWNlaXZlciwgYXZnQmxvY2tlckRlcHRoICk7XG5cdFx0XHRcdFx0ZmxvYXQgZmlsdGVyUmFkaXVzID0gcGVudW1icmFSYXRpbyAqIExJR0hUX1NJWkVfVVYgKiBORUFSX1BMQU5FIC8gelJlY2VpdmVyO1xuXG5cdFx0XHRcdFx0Ly8gU1RFUCAzOiBmaWx0ZXJpbmdcblx0XHRcdFx0XHQvL3JldHVybiBhdmdCbG9ja2VyRGVwdGg7XG5cdFx0XHRcdFx0cmV0dXJuIFBDRl9GaWx0ZXIoIHNoYWRvd01hcCwgdXYsIHpSZWNlaXZlciwgZmlsdGVyUmFkaXVzKTtcblx0XHRcdFx0fVxuYDtcbmNvbnN0IFBDU1MgPSBgXG4jZGVmaW5lIExJR0hUX1dPUkxEX1NJWkUgMC4wMDVcblx0XHRcdFx0I2RlZmluZSBMSUdIVF9GUlVTVFVNX1dJRFRIIDMuNzVcblx0XHRcdFx0I2RlZmluZSBMSUdIVF9TSVpFX1VWIChMSUdIVF9XT1JMRF9TSVpFIC8gTElHSFRfRlJVU1RVTV9XSURUSClcblx0XHRcdFx0I2RlZmluZSBORUFSX1BMQU5FIDkuNVxuXG5cdFx0XHRcdCNkZWZpbmUgTlVNX1NBTVBMRVMgMTdcblx0XHRcdFx0I2RlZmluZSBOVU1fUklOR1MgMTFcblx0XHRcdFx0I2RlZmluZSBCTE9DS0VSX1NFQVJDSF9OVU1fU0FNUExFUyBOVU1fU0FNUExFU1xuXHRcdFx0XHQjZGVmaW5lIFBDRl9OVU1fU0FNUExFUyBOVU1fU0FNUExFU1xuXG5cdFx0XHRcdHZlYzIgcG9pc3NvbkRpc2tbTlVNX1NBTVBMRVNdO1xuXG5cdFx0XHRcdHZvaWQgaW5pdFBvaXNzb25TYW1wbGVzKCBjb25zdCBpbiB2ZWMyIHJhbmRvbVNlZWQgKSB7XG5cdFx0XHRcdFx0ZmxvYXQgQU5HTEVfU1RFUCA9IFBJMiAqIGZsb2F0KCBOVU1fUklOR1MgKSAvIGZsb2F0KCBOVU1fU0FNUExFUyApO1xuXHRcdFx0XHRcdGZsb2F0IElOVl9OVU1fU0FNUExFUyA9IDEuMCAvIGZsb2F0KCBOVU1fU0FNUExFUyApO1xuXG5cdFx0XHRcdFx0Ly8ganNmaWRkbGUgdGhhdCBzaG93cyBzYW1wbGUgcGF0dGVybjogaHR0cHM6Ly9qc2ZpZGRsZS5uZXQvYTE2ZmYxcDcvXG5cdFx0XHRcdFx0ZmxvYXQgYW5nbGUgPSByYW5kKCByYW5kb21TZWVkICkgKiBQSTI7XG5cdFx0XHRcdFx0ZmxvYXQgcmFkaXVzID0gSU5WX05VTV9TQU1QTEVTO1xuXHRcdFx0XHRcdGZsb2F0IHJhZGl1c1N0ZXAgPSByYWRpdXM7XG5cblx0XHRcdFx0XHRmb3IoIGludCBpID0gMDsgaSA8IE5VTV9TQU1QTEVTOyBpICsrICkge1xuXHRcdFx0XHRcdFx0cG9pc3NvbkRpc2tbaV0gPSB2ZWMyKCBjb3MoIGFuZ2xlICksIHNpbiggYW5nbGUgKSApICogcG93KCByYWRpdXMsIDAuNzUgKTtcblx0XHRcdFx0XHRcdHJhZGl1cyArPSByYWRpdXNTdGVwO1xuXHRcdFx0XHRcdFx0YW5nbGUgKz0gQU5HTEVfU1RFUDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmbG9hdCBwZW51bWJyYVNpemUoIGNvbnN0IGluIGZsb2F0IHpSZWNlaXZlciwgY29uc3QgaW4gZmxvYXQgekJsb2NrZXIgKSB7IC8vIFBhcmFsbGVsIHBsYW5lIGVzdGltYXRpb25cblx0XHRcdFx0XHRyZXR1cm4gKHpSZWNlaXZlciAtIHpCbG9ja2VyKSAvIHpCbG9ja2VyO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZmxvYXQgZmluZEJsb2NrZXIoIHNhbXBsZXIyRCBzaGFkb3dNYXAsIGNvbnN0IGluIHZlYzIgdXYsIGNvbnN0IGluIGZsb2F0IHpSZWNlaXZlciApIHtcblx0XHRcdFx0XHQvLyBUaGlzIHVzZXMgc2ltaWxhciB0cmlhbmdsZXMgdG8gY29tcHV0ZSB3aGF0XG5cdFx0XHRcdFx0Ly8gYXJlYSBvZiB0aGUgc2hhZG93IG1hcCB3ZSBzaG91bGQgc2VhcmNoXG5cdFx0XHRcdFx0ZmxvYXQgc2VhcmNoUmFkaXVzID0gTElHSFRfU0laRV9VViAqICggelJlY2VpdmVyIC0gTkVBUl9QTEFORSApIC8gelJlY2VpdmVyO1xuXHRcdFx0XHRcdGZsb2F0IGJsb2NrZXJEZXB0aFN1bSA9IDAuMDtcblx0XHRcdFx0XHRpbnQgbnVtQmxvY2tlcnMgPSAwO1xuXG5cdFx0XHRcdFx0Zm9yKCBpbnQgaSA9IDA7IGkgPCBCTE9DS0VSX1NFQVJDSF9OVU1fU0FNUExFUzsgaSsrICkge1xuXHRcdFx0XHRcdFx0ZmxvYXQgc2hhZG93TWFwRGVwdGggPSB1bnBhY2tSR0JBVG9EZXB0aCh0ZXh0dXJlMkQoc2hhZG93TWFwLCB1diArIHBvaXNzb25EaXNrW2ldICogc2VhcmNoUmFkaXVzKSk7XG5cdFx0XHRcdFx0XHRpZiAoIHNoYWRvd01hcERlcHRoIDwgelJlY2VpdmVyICkge1xuXHRcdFx0XHRcdFx0XHRibG9ja2VyRGVwdGhTdW0gKz0gc2hhZG93TWFwRGVwdGg7XG5cdFx0XHRcdFx0XHRcdG51bUJsb2NrZXJzICsrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmKCBudW1CbG9ja2VycyA9PSAwICkgcmV0dXJuIC0xLjA7XG5cblx0XHRcdFx0XHRyZXR1cm4gYmxvY2tlckRlcHRoU3VtIC8gZmxvYXQoIG51bUJsb2NrZXJzICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmbG9hdCBQQ0ZfRmlsdGVyKHNhbXBsZXIyRCBzaGFkb3dNYXAsIHZlYzIgdXYsIGZsb2F0IHpSZWNlaXZlciwgZmxvYXQgZmlsdGVyUmFkaXVzICkge1xuXHRcdFx0XHRcdGZsb2F0IHN1bSA9IDAuMDtcblx0XHRcdFx0XHRmb3IoIGludCBpID0gMDsgaSA8IFBDRl9OVU1fU0FNUExFUzsgaSArKyApIHtcblx0XHRcdFx0XHRcdGZsb2F0IGRlcHRoID0gdW5wYWNrUkdCQVRvRGVwdGgoIHRleHR1cmUyRCggc2hhZG93TWFwLCB1diArIHBvaXNzb25EaXNrWyBpIF0gKiBmaWx0ZXJSYWRpdXMgKSApO1xuXHRcdFx0XHRcdFx0aWYoIHpSZWNlaXZlciA8PSBkZXB0aCApIHN1bSArPSAxLjA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGZvciggaW50IGkgPSAwOyBpIDwgUENGX05VTV9TQU1QTEVTOyBpICsrICkge1xuXHRcdFx0XHRcdFx0ZmxvYXQgZGVwdGggPSB1bnBhY2tSR0JBVG9EZXB0aCggdGV4dHVyZTJEKCBzaGFkb3dNYXAsIHV2ICsgLXBvaXNzb25EaXNrWyBpIF0ueXggKiBmaWx0ZXJSYWRpdXMgKSApO1xuXHRcdFx0XHRcdFx0aWYoIHpSZWNlaXZlciA8PSBkZXB0aCApIHN1bSArPSAxLjA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBzdW0gLyAoIDIuMCAqIGZsb2F0KCBQQ0ZfTlVNX1NBTVBMRVMgKSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZmxvYXQgUENTUyAoIHNhbXBsZXIyRCBzaGFkb3dNYXAsIHZlYzQgY29vcmRzICkge1xuXHRcdFx0XHRcdHZlYzIgdXYgPSBjb29yZHMueHk7XG5cdFx0XHRcdFx0ZmxvYXQgelJlY2VpdmVyID0gY29vcmRzLno7IC8vIEFzc3VtZWQgdG8gYmUgZXllLXNwYWNlIHogaW4gdGhpcyBjb2RlXG5cblx0XHRcdFx0XHRpbml0UG9pc3NvblNhbXBsZXMoIHV2ICk7XG5cdFx0XHRcdFx0Ly8gU1RFUCAxOiBibG9ja2VyIHNlYXJjaFxuXHRcdFx0XHRcdGZsb2F0IGF2Z0Jsb2NrZXJEZXB0aCA9IGZpbmRCbG9ja2VyKCBzaGFkb3dNYXAsIHV2LCB6UmVjZWl2ZXIgKTtcblxuXHRcdFx0XHRcdC8vVGhlcmUgYXJlIG5vIG9jY2x1ZGVycyBzbyBlYXJseSBvdXQgKHRoaXMgc2F2ZXMgZmlsdGVyaW5nKVxuXHRcdFx0XHRcdGlmKCBhdmdCbG9ja2VyRGVwdGggPT0gLTEuMCApIHJldHVybiAxLjA7XG5cblx0XHRcdFx0XHQvLyBTVEVQIDI6IHBlbnVtYnJhIHNpemVcblx0XHRcdFx0XHRmbG9hdCBwZW51bWJyYVJhdGlvID0gcGVudW1icmFTaXplKCB6UmVjZWl2ZXIsIGF2Z0Jsb2NrZXJEZXB0aCApO1xuXHRcdFx0XHRcdGZsb2F0IGZpbHRlclJhZGl1cyA9IHBlbnVtYnJhUmF0aW8gKiBMSUdIVF9TSVpFX1VWICogTkVBUl9QTEFORSAvIHpSZWNlaXZlcjtcblxuXHRcdFx0XHRcdC8vIFNURVAgMzogZmlsdGVyaW5nXG5cdFx0XHRcdFx0Ly9yZXR1cm4gYXZnQmxvY2tlckRlcHRoO1xuXHRcdFx0XHRcdHJldHVybiBQQ0ZfRmlsdGVyKCBzaGFkb3dNYXAsIHV2LCB6UmVjZWl2ZXIsIGZpbHRlclJhZGl1cyApO1xuXHRcdFx0XHR9XG5gO1xuY29uc3QgUENTU0dldFNoYWRvdyA9IGBcbiByZXR1cm4gUENTUyggc2hhZG93TWFwLCBzaGFkb3dDb29yZCApO1xuYDtcblxuY2xhc3MgVGhyZWVMaWdodFRlc3Qge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZyhcIlRocmVlIExpZ2h0aW5nIFRlc3RcIik7XG4gICAgdGhpcy5yYWYgPSBuZXcgX3JhZi5SYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnNjZW5lUmVuZGVyZXIgPSBuZXcgX3NjZW5lUmVuZGVyZXIuU2NlbmVSZW5kZXJlcih7fSk7XG4gICAgdGhpcy5ib3hFbGVtZW50cyA9IHtcbiAgICAgIGJveDE6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3gtMScpXG4gICAgfTtcbiAgICB0aGlzLm92ZXJ3cml0ZVNoYWRvd01hcCgpO1xuICAgIHRoaXMuY3JlYXRlR2x0ZlNjZW5lMSgpO1xuICAgIHRoaXMuc2NlbmVSZW5kZXJlci5yZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgb3ZlcndyaXRlU2hhZG93TWFwKCkge1xuICAgIHZhciBzaGFkZXIgPSBUSFJFRS5TaGFkZXJDaHVuay5zaGFkb3dtYXBfcGFyc19mcmFnbWVudDtcbiAgICBzaGFkZXIgPSBzaGFkZXIucmVwbGFjZSgnI2lmZGVmIFVTRV9TSEFET1dNQVAnLCAnI2lmZGVmIFVTRV9TSEFET1dNQVAnICsgUENTUzIpO1xuICAgIHNoYWRlciA9IHNoYWRlci5yZXBsYWNlKCcjaWYgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGICknLCBQQ1NTR2V0U2hhZG93ICsgJyNpZiBkZWZpbmVkKCBTSEFET1dNQVBfVFlQRV9QQ0YgKScpO1xuICAgIFRIUkVFLlNoYWRlckNodW5rLnNoYWRvd21hcF9wYXJzX2ZyYWdtZW50ID0gc2hhZGVyO1xuICB9XG5cbiAgY3JlYXRlR2x0ZlNjZW5lMSgpIHtcbiAgICBjb25zdCBkb21FbGVtZW50ID0gdGhpcy5ib3hFbGVtZW50cy5ib3gxO1xuICAgIGNvbnN0IHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgY29uc3QgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDMwLCBkb21FbGVtZW50Lm9mZnNldFdpZHRoIC8gZG9tRWxlbWVudC5vZmZzZXRXaWR0aCwgMSwgMTAwMDApO1xuICAgIGNhbWVyYS5wb3NpdGlvbi54ID0gNztcbiAgICBjYW1lcmEucG9zaXRpb24ueSA9IDEzO1xuICAgIGNhbWVyYS5wb3NpdGlvbi56ID0gNztcbiAgICB0aGlzLnNjZW5lUmVuZGVyZXIuYWRkU2NlbmUoe1xuICAgICAgcmVzaXppbmdBbGdvOiAnY29udGFpbicsXG4gICAgICByZXNpemluZ09wdGlvbnM6IHtcbiAgICAgICAgc2NhbGFyWDogMSxcbiAgICAgICAgc2NhbGFyWTogMSxcbiAgICAgICAgdXNlRm92OiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGRvbUVsZW1lbnQ6IGRvbUVsZW1lbnQsXG4gICAgICBzY2VuZTogc2NlbmUsXG4gICAgICBjYW1lcmE6IGNhbWVyYSxcbiAgICAgIG9uSW5pdDogKHJlbmRlcmVyLCBzY2VuZSwgY2FtZXJhKSA9PiB7XG4gICAgICAgIHNjZW5lLnVzZXJEYXRhLnNwaGVyZUdyb3VwID0gdGhpcy5hZGRSYW5kb21TcGhlcmVzKHNjZW5lKTtcbiAgICAgICAgc2NlbmUudXNlckRhdGEuZ3JvdXAgPSB0aGlzLmFkZEdyb3VuZChzY2VuZSk7XG4gICAgICAgIGNvbnN0IGFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoJyNGRkZGRkYnKTtcbiAgICAgICAgYW1iaWVudExpZ2h0LmludGVuc2l0eSA9IDAuNTtcbiAgICAgICAgc2NlbmUuYWRkKGFtYmllbnRMaWdodCk7IC8vIExpZ2h0IDFcblxuICAgICAgICB2YXIgbGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGRmZWJmZiwgMSk7XG4gICAgICAgIGxpZ2h0LnBvc2l0aW9uLnNldCgyLCA4LCA0KTtcbiAgICAgICAgbGlnaHQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgIGxpZ2h0LnNoYWRvdy5tYXBTaXplLndpZHRoID0gMTAyNDtcbiAgICAgICAgbGlnaHQuc2hhZG93Lm1hcFNpemUuaGVpZ2h0ID0gMTAyNDsgLy8gVGhpcyBibHVycyBidXQgZG9lc24ndCBsb29rIGdyZWF0LlxuICAgICAgICAvLyBsaWdodC5zaGFkb3cucmFkaXVzID0gMjA7XG4gICAgICAgIC8vIGxpZ2h0LnNoYWRvdy5jYW1lcmEuZmFyID0gMjAwO1xuICAgICAgICAvLyBBZGp1c3QgZm9yIGJsdXJyeW5lc3NcblxuICAgICAgICBsaWdodC5zaGFkb3cuY2FtZXJhLmZhciA9IDUwO1xuICAgICAgICBsaWdodC5zaGFkb3cuY2FtZXJhLm5lYXIgPSAxO1xuICAgICAgICBzY2VuZS5hZGQobGlnaHQpO1xuICAgICAgICBzY2VuZS5hZGQobmV3IFRIUkVFLkNhbWVyYUhlbHBlcihsaWdodC5zaGFkb3cuY2FtZXJhKSk7IC8vIHZhciBsaWdodDIgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGRmZWJmZiwgMSk7XG4gICAgICAgIC8vIGxpZ2h0Mi5wb3NpdGlvbi5zZXQoMCwgOCwgLTUpO1xuICAgICAgICAvLyBsaWdodDIuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgIC8vIGxpZ2h0Mi5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IDEwMjQ7XG4gICAgICAgIC8vIGxpZ2h0Mi5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSAxMDI0O1xuICAgICAgICAvLyAvLyBUaGlzIGJsdXJzIGJ1dCBkb2Vzbid0IGxvb2sgZ3JlYXQuXG4gICAgICAgIC8vIC8vIGxpZ2h0LnNoYWRvdy5yYWRpdXMgPSAyMDtcbiAgICAgICAgLy8gLy8gbGlnaHQuc2hhZG93LmNhbWVyYS5mYXIgPSAyMDA7XG4gICAgICAgIC8vIC8vIEFkanVzdCBmb3IgYmx1cnJ5bmVzc1xuICAgICAgICAvLyBsaWdodDIuc2hhZG93LmNhbWVyYS5mYXIgPSAxMDA7XG4gICAgICAgIC8vIHNjZW5lLmFkZChsaWdodDIpO1xuICAgICAgICAvLyBzY2VuZS5hZGQobmV3IFRIUkVFLkNhbWVyYUhlbHBlcihsaWdodDIuc2hhZG93LmNhbWVyYSkpO1xuICAgICAgICAvLyBBZGQgb3JiaXQgY29udHJvbHMuXG5cbiAgICAgICAgdmFyIGNvbnRyb2xzID0gbmV3IF9PcmJpdENvbnRyb2xzLk9yYml0Q29udHJvbHMoY2FtZXJhLCBkb21FbGVtZW50KTtcbiAgICAgICAgY29udHJvbHMubWF4UG9sYXJBbmdsZSA9IE1hdGguUEkgKiAwLjU7XG4gICAgICAgIGNvbnRyb2xzLm1pbkRpc3RhbmNlID0gMTA7XG4gICAgICAgIGNvbnRyb2xzLm1heERpc3RhbmNlID0gNzU7XG4gICAgICAgIGNvbnRyb2xzLnRhcmdldC5zZXQoMCwgMi41LCAwKTtcbiAgICAgICAgY29udHJvbHMudXBkYXRlKCk7XG4gICAgICAgIHNjZW5lLnVzZXJEYXRhLmNvbnRyb2xzID0gY29udHJvbHM7XG4gICAgICB9LFxuICAgICAgb25CZWZvcmVSZW5kZXI6IChyZW5kZXJlciwgc2NlbmUpID0+IHtcbiAgICAgICAgcmVuZGVyZXIuZ2FtbWFJbnB1dCA9IHRydWU7XG4gICAgICAgIHJlbmRlcmVyLmdhbW1hT3V0cHV0ID0gdHJ1ZTtcbiAgICAgICAgcmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlOyAvLyByZW5kZXJlci5zaGFkb3dNYXBTb2Z0ID0gdHJ1ZTtcbiAgICAgICAgLy8gcmVuZGVyZXIuc2hhZG93TWFwVHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG5cbiAgICAgICAgc2NlbmUudXNlckRhdGEuc3BoZXJlR3JvdXAudHJhdmVyc2UoY2hpbGQgPT4ge1xuICAgICAgICAgIGlmICgncGhhc2UnIGluIGNoaWxkLnVzZXJEYXRhKSB7XG4gICAgICAgICAgICBjaGlsZC5wb3NpdGlvbi55ID0gTWF0aC5hYnMoTWF0aC5zaW4odGhpcy5yYWYuZ2V0RWxhcHNlZFRpbWUoKSArIGNoaWxkLnVzZXJEYXRhLnBoYXNlKSkgKiA1ICsgMC4zO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwgdHJ1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBzaGFkb3cgY2FzdGluZyBzcGhlcmVzLlxuICAgKi9cblxuXG4gIGFkZFJhbmRvbVNwaGVyZXMoc2NlbmUpIHtcbiAgICBjb25zdCBncm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuU3BoZXJlQnVmZmVyR2VvbWV0cnkoMC4zLCBfbWF0aGYubWF0aGYuZ2V0UmFuZG9tSW50KDEwLCA1MCksIF9tYXRoZi5tYXRoZi5nZXRSYW5kb21JbnQoMTAsIDUwKSk7XG4gICAgICB2YXIgbWF0ZXJpYWw7XG5cbiAgICAgIGlmIChpICUgMiA9PSAwKSB7XG4gICAgICAgIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcbiAgICAgICAgICBjb2xvcjogTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe1xuICAgICAgICAgIGNvbG9yOiBNYXRoLnJhbmRvbSgpICogMHhmZmZmZmZcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzcGhlcmUgPSBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgICAgc3BoZXJlLnBvc2l0aW9uLnggPSBNYXRoLnJhbmRvbSgpIC0gMC41O1xuICAgICAgc3BoZXJlLnBvc2l0aW9uLnogPSBNYXRoLnJhbmRvbSgpIC0gMC41O1xuICAgICAgc3BoZXJlLnBvc2l0aW9uLm5vcm1hbGl6ZSgpO1xuICAgICAgc3BoZXJlLnBvc2l0aW9uLm11bHRpcGx5U2NhbGFyKE1hdGgucmFuZG9tKCkgKiAyICsgMSk7XG4gICAgICBzcGhlcmUuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICBzcGhlcmUucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG4gICAgICBzcGhlcmUudXNlckRhdGEucGhhc2UgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSTtcbiAgICAgIGdyb3VwLmFkZChzcGhlcmUpO1xuICAgIH1cblxuICAgIHNjZW5lLmFkZChncm91cCk7XG4gICAgcmV0dXJuIGdyb3VwO1xuICB9XG5cbiAgYWRkR3JvdW5kKHNjZW5lKSB7XG4gICAgdmFyIGdyb3VuZE1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHtcbiAgICAgIGNvbG9yOiAweEZGRkZGRixcbiAgICAgIHNwZWN1bGFyOiAweEZGRkZGRkZcbiAgICB9KTtcbiAgICB2YXIgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKG5ldyBUSFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5KDIwMDAwLCAyMDAwMCwgOCwgOCksIGdyb3VuZE1hdGVyaWFsKTtcbiAgICBtZXNoLnJvdGF0aW9uLnggPSAtTWF0aC5QSSAvIDI7XG4gICAgbWVzaC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICBzY2VuZS5hZGQobWVzaCk7XG4gICAgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKG5ldyBUSFJFRS5Cb3hCdWZmZXJHZW9tZXRyeSgxLCA0LCAxKSwgZ3JvdW5kTWF0ZXJpYWwpO1xuICAgIG1lc2gucG9zaXRpb24ueSA9IDI7XG4gICAgbWVzaC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICBtZXNoLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgIHNjZW5lLmFkZChtZXNoKTtcbiAgfVxuXG4gIG9uUmFmKCkge1xuICAgIHRoaXMuc2NlbmVSZW5kZXJlci5yZW5kZXIoKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRocmVlTGlnaHRUZXN0OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/three-light-test.js\n");

/***/ }),

/***/ "./examples/three-light-test2.js":
/*!***************************************!*\
  !*** ./examples/three-light-test2.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _GLTFLoader = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _OrbitControls = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n\nvar _sceneRenderer = __webpack_require__(/*! ../lib/threef/scene-renderer */ \"./lib/threef/scene-renderer.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _threef = __webpack_require__(/*! ../lib/threef/threef */ \"./lib/threef/threef.js\");\n\nvar _deguMathf = __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module '../lib/shaders/three-shader-chunks/degu-mathf'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n// Import shader chunks\n(0, _deguMathf.deguMathf)(THREE);\nconst vshader = `\n#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n\nvarying vec3 vPosition;\nvarying vec2 v_uv;\nvarying vec3 vWorldNormal;\nvarying mat4 vModelMatrix;\n\nvoid main() {\n  vPosition = position;\n  v_uv = uv;\n\n//   vWorldNormal = normalize((modelMatrix * vec4(normal, 0.0)).xyz);\n  vModelMatrix = modelMatrix;\n\n  #include <begin_vertex>\n  #include <project_vertex>\n  #include <worldpos_vertex>\n  #include <shadowmap_vertex>\n  #include <fog_vertex>\n}\n`;\nconst fshader = `\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <dithering_pars_fragment>\n\n\n// https://github.com/mrdoob/three.js/blob/master/src/renderers/shaders/ShaderChunk/shadowmask_pars_fragment.glsl.js\n// Get the shadow value at specific coordinates.\nfloat getCustomShadowMask(vec2 offset) {\n    float shadow = 1.0;\n\n    #ifdef USE_SHADOWMAP\n    #if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n        directionalLight = directionalLights[ i ];\n\n        // Get the shadow value.\n        float s = 1.0;\n        vec4 coords = vDirectionalShadowCoord[ i ];\n        coords.x += offset.x;\n        coords.z += -offset.y;\n        s =\n           getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize,\n           directionalLight.shadowBias,\n           directionalLight.shadowRadius,\n           coords\n          );\n\n        shadow *= s;\n\t}\n\t#endif\n\n    #endif\n\n\treturn shadow;\n}\n\n\n\nuniform vec2 u_resolution;\nvarying vec2 v_uv;\nvarying vec3 vPosition;\nvarying vec3 vWorldNormal;\nvarying mat4 vModelMatrix;\n\nvoid main() {\n  float zReceiver = vPosition.z;\n  vec3 worldPosition = ( vModelMatrix * vec4( vPosition, 1.0 )).xyz;\n  vec2 uv = vec2(gl_FragCoord.xy / u_resolution.xy);\n\n  vec3 finalColor = vec3(1.0, 1.0, 1.0);\n  vec3 shadowColor = vec3(0, 0, 0);\n  float shadowPower = 0.1;\n  float shadowStrength = 1.0;\n\n  for ( int i = 0; i < 20; i ++ ) {\n    vec2 offset = vec2(\n            float(i) * 0.01,\n            float(i) * 0.01);\n\n    float s = mix(\n        getCustomShadowMask(vec2(0.0, 0.0)),\n        getCustomShadowMask(offset),\n        0.5);\n\n    shadowStrength *= s;\n  }\n\n//   shadowStrength *= shadowPower;\n\n\n  vec3 color = mix(finalColor, shadowColor, shadowStrength);\n\n  vec2 direction = vec2(1.0, 1.0);\n\n  gl_FragColor = vec4(color, 1.0);\n  #include <fog_fragment>\n  #include <dithering_fragment>\n}\n`;\n\nclass ThreeLightTest2 {\n  constructor() {\n    console.log(\"Three Lighting Test2\");\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.sceneRenderer = new _sceneRenderer.SceneRenderer({});\n    this.boxElements = {\n      box1: document.getElementById('box-1')\n    };\n    this.createGltfScene1();\n    this.sceneRenderer.resize();\n    this.raf.start();\n  }\n\n  createGltfScene1() {\n    const domElement = this.boxElements.box1;\n    const scene = new THREE.Scene();\n    const camera = new THREE.PerspectiveCamera(30, domElement.offsetWidth / domElement.offsetWidth, 1, 10000);\n    camera.position.x = 7;\n    camera.position.y = 13;\n    camera.position.z = 7; // Setup uniforms.\n\n    this.uniforms = {};\n    this.uniforms = THREE.UniformsUtils.merge([THREE.UniformsLib[\"common\"], THREE.UniformsLib[\"lights\"], THREE.UniformsLib[\"fog\"]]); // this.uniforms.u_light = { value: new THREE.Vector3(0.5, 0.8, 0.1) };\n    // this.uniforms.u_resolution = { value: new THREE.Vector2(1.0, 1.0) };\n    // this.uniforms.u_color = { value: new THREE.Color(0xaa6611) };\n    // this.uniforms.u_diffuse_map = { value: new THREE.TextureLoader().load('./public/bricks-diffuse3.png') };\n    // this.uniforms.u_normal_map = { value: new THREE.TextureLoader().load('./public/bricks-normal3.png') };\n    // this.uniforms.u_time = { value: 0.0 };\n\n    this.uniforms.u_resolution = {\n      value: {\n        x: 0.0,\n        y: 0.0\n      }\n    }; // Primary shader maaterial\n\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader,\n      lights: true,\n      wireframe: false,\n      dithering: true,\n      transparent: true\n    });\n    this.sceneRenderer.addScene({\n      resizingAlgo: 'contain',\n      resizingOptions: {\n        scalarX: 1,\n        scalarY: 1,\n        useFov: false\n      },\n      domElement: domElement,\n      scene: scene,\n      camera: camera,\n      onInit: (renderer, scene, camera) => {\n        scene.userData.sphereGroup = this.addRandomSpheres(scene);\n        scene.userData.group = this.addGround(scene);\n        const ambientLight = new THREE.AmbientLight('#FFFFFF');\n        ambientLight.intensity = 0.5;\n        scene.add(ambientLight); // Light 1\n\n        var light = new THREE.DirectionalLight(0xdfebff, 1);\n        light.position.set(2, 8, 4);\n        light.castShadow = true;\n        light.shadow.mapSize.set(2048, 2048); // This blurs but doesn't look great.\n        // light.shadow.radius = 1;\n        // light.shadow.camera.far = 200;\n\n        light.shadowDarkness = 0.5; // Adjust for blurryness\n\n        light.shadow.camera.far = 50;\n        light.shadow.camera.near = 1;\n        scene.add(light);\n        scene.add(new THREE.CameraHelper(light.shadow.camera));\n        renderer.gammaInput = true;\n        renderer.gammaOutput = true;\n        renderer.shadowMap.enabled = true;\n        renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n        renderer.shadowMap.soft = true;\n        renderer.shadowMap.needsUpdate = true;\n        renderer.shadowMap.bias = 0.000001; // Add orbit controls.\n\n        var controls = new _OrbitControls.OrbitControls(camera, domElement);\n        controls.maxPolarAngle = Math.PI * 0.5;\n        controls.minDistance = 10;\n        controls.maxDistance = 75;\n        controls.target.set(0, 2.5, 0);\n        controls.update();\n        scene.userData.controls = controls;\n      },\n      onResize: (renderer, scene) => {\n        this.uniforms.u_resolution.value.x = domElement.offsetWidth;\n        this.uniforms.u_resolution.value.y = domElement.offsetHeight;\n      },\n      onBeforeRender: (renderer, scene) => {\n        // if (this.uniforms) {\n        //     this.uniforms.u_time.value += this.raf.getDelta(true);\n        // }\n        scene.userData.sphereGroup.traverse(child => {\n          if ('phase' in child.userData) {\n            child.position.y = Math.abs(Math.sin(this.raf.getElapsedTime() + child.userData.phase)) * 5 + 0.3;\n          }\n        });\n      }\n    }, true);\n  }\n  /**\n   * Add shadow casting spheres.\n   */\n\n\n  addRandomSpheres(scene) {\n    const group = new THREE.Group();\n\n    for (var i = 0; i < 2; i++) {\n      var geometry = new THREE.SphereBufferGeometry(0.3, _mathf.mathf.getRandomInt(10, 50), _mathf.mathf.getRandomInt(10, 50));\n      var material;\n\n      if (i % 2 == 0) {\n        material = new THREE.MeshStandardMaterial({\n          color: Math.random() * 0xffffff\n        });\n      } else {\n        material = new THREE.MeshPhongMaterial({\n          color: Math.random() * 0xffffff\n        });\n      }\n\n      var sphere = new THREE.Mesh(geometry, material);\n      sphere.position.x = Math.random() - 0.5;\n      sphere.position.z = Math.random() - 0.5;\n      sphere.position.normalize();\n      sphere.position.multiplyScalar(Math.random() * 2 + 1);\n      sphere.castShadow = true;\n      sphere.receiveShadow = true;\n      sphere.userData.phase = Math.random() * Math.PI;\n      group.add(sphere);\n    }\n\n    scene.add(group);\n    return group;\n  }\n\n  addGround(scene) {\n    var groundMaterial = new THREE.MeshPhongMaterial({\n      color: 0xFFFFFF,\n      specular: 0xFFFFFFF\n    });\n    var mesh = new THREE.Mesh(new THREE.PlaneBufferGeometry(20000, 20000, 8, 8), this.material);\n    mesh.rotation.x = -Math.PI / 2;\n    mesh.receiveShadow = true;\n    scene.add(mesh);\n    mesh = new THREE.Mesh(new THREE.BoxBufferGeometry(1, 4, 1), groundMaterial);\n    mesh.position.y = 2;\n    mesh.castShadow = true;\n    mesh.receiveShadow = true;\n    scene.add(mesh);\n  }\n\n  onRaf() {\n    this.sceneRenderer.render();\n  }\n\n}\n\nexports.default = ThreeLightTest2;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1saWdodC10ZXN0Mi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLWxpZ2h0LXRlc3QyLmpzPzhjOTAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfR0xURkxvYWRlciA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyXCIpO1xuXG52YXIgX3RocmVlID0gcmVxdWlyZShcInRocmVlXCIpO1xuXG52YXIgVEhSRUUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGhyZWUpO1xuXG52YXIgX09yYml0Q29udHJvbHMgPSByZXF1aXJlKFwidGhyZWUvZXhhbXBsZXMvanNtL2NvbnRyb2xzL09yYml0Q29udHJvbHNcIik7XG5cbnZhciBfc2NlbmVSZW5kZXJlciA9IHJlcXVpcmUoXCIuLi9saWIvdGhyZWVmL3NjZW5lLXJlbmRlcmVyXCIpO1xuXG52YXIgX21hdGhmID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi9tYXRoZlwiKTtcblxudmFyIF9yYWYgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWZcIik7XG5cbnZhciBfdGhyZWVmID0gcmVxdWlyZShcIi4uL2xpYi90aHJlZWYvdGhyZWVmXCIpO1xuXG52YXIgX2RlZ3VNYXRoZiA9IHJlcXVpcmUoXCIuLi9saWIvc2hhZGVycy90aHJlZS1zaGFkZXItY2h1bmtzL2RlZ3UtbWF0aGZcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLy8gSW1wb3J0IHNoYWRlciBjaHVua3NcbigwLCBfZGVndU1hdGhmLmRlZ3VNYXRoZikoVEhSRUUpO1xuY29uc3QgdnNoYWRlciA9IGBcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX3ZlcnRleD5cblxudmFyeWluZyB2ZWMzIHZQb3NpdGlvbjtcbnZhcnlpbmcgdmVjMiB2X3V2O1xudmFyeWluZyB2ZWMzIHZXb3JsZE5vcm1hbDtcbnZhcnlpbmcgbWF0NCB2TW9kZWxNYXRyaXg7XG5cbnZvaWQgbWFpbigpIHtcbiAgdlBvc2l0aW9uID0gcG9zaXRpb247XG4gIHZfdXYgPSB1djtcblxuLy8gICB2V29ybGROb3JtYWwgPSBub3JtYWxpemUoKG1vZGVsTWF0cml4ICogdmVjNChub3JtYWwsIDAuMCkpLnh5eik7XG4gIHZNb2RlbE1hdHJpeCA9IG1vZGVsTWF0cml4O1xuXG4gICNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG4gICNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cbiAgI2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD5cbiAgI2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+XG4gICNpbmNsdWRlIDxmb2dfdmVydGV4PlxufVxuYDtcbmNvbnN0IGZzaGFkZXIgPSBgXG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHBhY2tpbmc+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YnNkZnM+XG4jaW5jbHVkZSA8bGlnaHRzX3BhcnNfYmVnaW4+XG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8c2hhZG93bWFza19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PlxuXG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvYmxvYi9tYXN0ZXIvc3JjL3JlbmRlcmVycy9zaGFkZXJzL1NoYWRlckNodW5rL3NoYWRvd21hc2tfcGFyc19mcmFnbWVudC5nbHNsLmpzXG4vLyBHZXQgdGhlIHNoYWRvdyB2YWx1ZSBhdCBzcGVjaWZpYyBjb29yZGluYXRlcy5cbmZsb2F0IGdldEN1c3RvbVNoYWRvd01hc2sodmVjMiBvZmZzZXQpIHtcbiAgICBmbG9hdCBzaGFkb3cgPSAxLjA7XG5cbiAgICAjaWZkZWYgVVNFX1NIQURPV01BUFxuICAgICNpZiBOVU1fRElSX0xJR0hUX1NIQURPV1MgPiAwXG5cdERpcmVjdGlvbmFsTGlnaHQgZGlyZWN0aW9uYWxMaWdodDtcblx0I3ByYWdtYSB1bnJvbGxfbG9vcFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fRElSX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7XG4gICAgICAgIGRpcmVjdGlvbmFsTGlnaHQgPSBkaXJlY3Rpb25hbExpZ2h0c1sgaSBdO1xuXG4gICAgICAgIC8vIEdldCB0aGUgc2hhZG93IHZhbHVlLlxuICAgICAgICBmbG9hdCBzID0gMS4wO1xuICAgICAgICB2ZWM0IGNvb3JkcyA9IHZEaXJlY3Rpb25hbFNoYWRvd0Nvb3JkWyBpIF07XG4gICAgICAgIGNvb3Jkcy54ICs9IG9mZnNldC54O1xuICAgICAgICBjb29yZHMueiArPSAtb2Zmc2V0Lnk7XG4gICAgICAgIHMgPVxuICAgICAgICAgICBnZXRTaGFkb3coIGRpcmVjdGlvbmFsU2hhZG93TWFwWyBpIF0sIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93TWFwU2l6ZSxcbiAgICAgICAgICAgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3dCaWFzLFxuICAgICAgICAgICBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvd1JhZGl1cyxcbiAgICAgICAgICAgY29vcmRzXG4gICAgICAgICAgKTtcblxuICAgICAgICBzaGFkb3cgKj0gcztcblx0fVxuXHQjZW5kaWZcblxuICAgICNlbmRpZlxuXG5cdHJldHVybiBzaGFkb3c7XG59XG5cblxuXG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xudmFyeWluZyB2ZWMyIHZfdXY7XG52YXJ5aW5nIHZlYzMgdlBvc2l0aW9uO1xudmFyeWluZyB2ZWMzIHZXb3JsZE5vcm1hbDtcbnZhcnlpbmcgbWF0NCB2TW9kZWxNYXRyaXg7XG5cbnZvaWQgbWFpbigpIHtcbiAgZmxvYXQgelJlY2VpdmVyID0gdlBvc2l0aW9uLno7XG4gIHZlYzMgd29ybGRQb3NpdGlvbiA9ICggdk1vZGVsTWF0cml4ICogdmVjNCggdlBvc2l0aW9uLCAxLjAgKSkueHl6O1xuICB2ZWMyIHV2ID0gdmVjMihnbF9GcmFnQ29vcmQueHkgLyB1X3Jlc29sdXRpb24ueHkpO1xuXG4gIHZlYzMgZmluYWxDb2xvciA9IHZlYzMoMS4wLCAxLjAsIDEuMCk7XG4gIHZlYzMgc2hhZG93Q29sb3IgPSB2ZWMzKDAsIDAsIDApO1xuICBmbG9hdCBzaGFkb3dQb3dlciA9IDAuMTtcbiAgZmxvYXQgc2hhZG93U3RyZW5ndGggPSAxLjA7XG5cbiAgZm9yICggaW50IGkgPSAwOyBpIDwgMjA7IGkgKysgKSB7XG4gICAgdmVjMiBvZmZzZXQgPSB2ZWMyKFxuICAgICAgICAgICAgZmxvYXQoaSkgKiAwLjAxLFxuICAgICAgICAgICAgZmxvYXQoaSkgKiAwLjAxKTtcblxuICAgIGZsb2F0IHMgPSBtaXgoXG4gICAgICAgIGdldEN1c3RvbVNoYWRvd01hc2sodmVjMigwLjAsIDAuMCkpLFxuICAgICAgICBnZXRDdXN0b21TaGFkb3dNYXNrKG9mZnNldCksXG4gICAgICAgIDAuNSk7XG5cbiAgICBzaGFkb3dTdHJlbmd0aCAqPSBzO1xuICB9XG5cbi8vICAgc2hhZG93U3RyZW5ndGggKj0gc2hhZG93UG93ZXI7XG5cblxuICB2ZWMzIGNvbG9yID0gbWl4KGZpbmFsQ29sb3IsIHNoYWRvd0NvbG9yLCBzaGFkb3dTdHJlbmd0aCk7XG5cbiAgdmVjMiBkaXJlY3Rpb24gPSB2ZWMyKDEuMCwgMS4wKTtcblxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxLjApO1xuICAjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PlxuICAjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50PlxufVxuYDtcblxuY2xhc3MgVGhyZWVMaWdodFRlc3QyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc29sZS5sb2coXCJUaHJlZSBMaWdodGluZyBUZXN0MlwiKTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2NlbmVSZW5kZXJlciA9IG5ldyBfc2NlbmVSZW5kZXJlci5TY2VuZVJlbmRlcmVyKHt9KTtcbiAgICB0aGlzLmJveEVsZW1lbnRzID0ge1xuICAgICAgYm94MTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveC0xJylcbiAgICB9O1xuICAgIHRoaXMuY3JlYXRlR2x0ZlNjZW5lMSgpO1xuICAgIHRoaXMuc2NlbmVSZW5kZXJlci5yZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgY3JlYXRlR2x0ZlNjZW5lMSgpIHtcbiAgICBjb25zdCBkb21FbGVtZW50ID0gdGhpcy5ib3hFbGVtZW50cy5ib3gxO1xuICAgIGNvbnN0IHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgY29uc3QgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDMwLCBkb21FbGVtZW50Lm9mZnNldFdpZHRoIC8gZG9tRWxlbWVudC5vZmZzZXRXaWR0aCwgMSwgMTAwMDApO1xuICAgIGNhbWVyYS5wb3NpdGlvbi54ID0gNztcbiAgICBjYW1lcmEucG9zaXRpb24ueSA9IDEzO1xuICAgIGNhbWVyYS5wb3NpdGlvbi56ID0gNzsgLy8gU2V0dXAgdW5pZm9ybXMuXG5cbiAgICB0aGlzLnVuaWZvcm1zID0ge307XG4gICAgdGhpcy51bmlmb3JtcyA9IFRIUkVFLlVuaWZvcm1zVXRpbHMubWVyZ2UoW1RIUkVFLlVuaWZvcm1zTGliW1wiY29tbW9uXCJdLCBUSFJFRS5Vbmlmb3Jtc0xpYltcImxpZ2h0c1wiXSwgVEhSRUUuVW5pZm9ybXNMaWJbXCJmb2dcIl1dKTsgLy8gdGhpcy51bmlmb3Jtcy51X2xpZ2h0ID0geyB2YWx1ZTogbmV3IFRIUkVFLlZlY3RvcjMoMC41LCAwLjgsIDAuMSkgfTtcbiAgICAvLyB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbiA9IHsgdmFsdWU6IG5ldyBUSFJFRS5WZWN0b3IyKDEuMCwgMS4wKSB9O1xuICAgIC8vIHRoaXMudW5pZm9ybXMudV9jb2xvciA9IHsgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweGFhNjYxMSkgfTtcbiAgICAvLyB0aGlzLnVuaWZvcm1zLnVfZGlmZnVzZV9tYXAgPSB7IHZhbHVlOiBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoJy4vcHVibGljL2JyaWNrcy1kaWZmdXNlMy5wbmcnKSB9O1xuICAgIC8vIHRoaXMudW5pZm9ybXMudV9ub3JtYWxfbWFwID0geyB2YWx1ZTogbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKCcuL3B1YmxpYy9icmlja3Mtbm9ybWFsMy5wbmcnKSB9O1xuICAgIC8vIHRoaXMudW5pZm9ybXMudV90aW1lID0geyB2YWx1ZTogMC4wIH07XG5cbiAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbiA9IHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIHg6IDAuMCxcbiAgICAgICAgeTogMC4wXG4gICAgICB9XG4gICAgfTsgLy8gUHJpbWFyeSBzaGFkZXIgbWFhdGVyaWFsXG5cbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXIsXG4gICAgICBsaWdodHM6IHRydWUsXG4gICAgICB3aXJlZnJhbWU6IGZhbHNlLFxuICAgICAgZGl0aGVyaW5nOiB0cnVlLFxuICAgICAgdHJhbnNwYXJlbnQ6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLnNjZW5lUmVuZGVyZXIuYWRkU2NlbmUoe1xuICAgICAgcmVzaXppbmdBbGdvOiAnY29udGFpbicsXG4gICAgICByZXNpemluZ09wdGlvbnM6IHtcbiAgICAgICAgc2NhbGFyWDogMSxcbiAgICAgICAgc2NhbGFyWTogMSxcbiAgICAgICAgdXNlRm92OiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGRvbUVsZW1lbnQ6IGRvbUVsZW1lbnQsXG4gICAgICBzY2VuZTogc2NlbmUsXG4gICAgICBjYW1lcmE6IGNhbWVyYSxcbiAgICAgIG9uSW5pdDogKHJlbmRlcmVyLCBzY2VuZSwgY2FtZXJhKSA9PiB7XG4gICAgICAgIHNjZW5lLnVzZXJEYXRhLnNwaGVyZUdyb3VwID0gdGhpcy5hZGRSYW5kb21TcGhlcmVzKHNjZW5lKTtcbiAgICAgICAgc2NlbmUudXNlckRhdGEuZ3JvdXAgPSB0aGlzLmFkZEdyb3VuZChzY2VuZSk7XG4gICAgICAgIGNvbnN0IGFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoJyNGRkZGRkYnKTtcbiAgICAgICAgYW1iaWVudExpZ2h0LmludGVuc2l0eSA9IDAuNTtcbiAgICAgICAgc2NlbmUuYWRkKGFtYmllbnRMaWdodCk7IC8vIExpZ2h0IDFcblxuICAgICAgICB2YXIgbGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGRmZWJmZiwgMSk7XG4gICAgICAgIGxpZ2h0LnBvc2l0aW9uLnNldCgyLCA4LCA0KTtcbiAgICAgICAgbGlnaHQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgIGxpZ2h0LnNoYWRvdy5tYXBTaXplLnNldCgyMDQ4LCAyMDQ4KTsgLy8gVGhpcyBibHVycyBidXQgZG9lc24ndCBsb29rIGdyZWF0LlxuICAgICAgICAvLyBsaWdodC5zaGFkb3cucmFkaXVzID0gMTtcbiAgICAgICAgLy8gbGlnaHQuc2hhZG93LmNhbWVyYS5mYXIgPSAyMDA7XG5cbiAgICAgICAgbGlnaHQuc2hhZG93RGFya25lc3MgPSAwLjU7IC8vIEFkanVzdCBmb3IgYmx1cnJ5bmVzc1xuXG4gICAgICAgIGxpZ2h0LnNoYWRvdy5jYW1lcmEuZmFyID0gNTA7XG4gICAgICAgIGxpZ2h0LnNoYWRvdy5jYW1lcmEubmVhciA9IDE7XG4gICAgICAgIHNjZW5lLmFkZChsaWdodCk7XG4gICAgICAgIHNjZW5lLmFkZChuZXcgVEhSRUUuQ2FtZXJhSGVscGVyKGxpZ2h0LnNoYWRvdy5jYW1lcmEpKTtcbiAgICAgICAgcmVuZGVyZXIuZ2FtbWFJbnB1dCA9IHRydWU7XG4gICAgICAgIHJlbmRlcmVyLmdhbW1hT3V0cHV0ID0gdHJ1ZTtcbiAgICAgICAgcmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICByZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG4gICAgICAgIHJlbmRlcmVyLnNoYWRvd01hcC5zb2Z0ID0gdHJ1ZTtcbiAgICAgICAgcmVuZGVyZXIuc2hhZG93TWFwLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgcmVuZGVyZXIuc2hhZG93TWFwLmJpYXMgPSAwLjAwMDAwMTsgLy8gQWRkIG9yYml0IGNvbnRyb2xzLlxuXG4gICAgICAgIHZhciBjb250cm9scyA9IG5ldyBfT3JiaXRDb250cm9scy5PcmJpdENvbnRyb2xzKGNhbWVyYSwgZG9tRWxlbWVudCk7XG4gICAgICAgIGNvbnRyb2xzLm1heFBvbGFyQW5nbGUgPSBNYXRoLlBJICogMC41O1xuICAgICAgICBjb250cm9scy5taW5EaXN0YW5jZSA9IDEwO1xuICAgICAgICBjb250cm9scy5tYXhEaXN0YW5jZSA9IDc1O1xuICAgICAgICBjb250cm9scy50YXJnZXQuc2V0KDAsIDIuNSwgMCk7XG4gICAgICAgIGNvbnRyb2xzLnVwZGF0ZSgpO1xuICAgICAgICBzY2VuZS51c2VyRGF0YS5jb250cm9scyA9IGNvbnRyb2xzO1xuICAgICAgfSxcbiAgICAgIG9uUmVzaXplOiAocmVuZGVyZXIsIHNjZW5lKSA9PiB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnggPSBkb21FbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS55ID0gZG9tRWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICB9LFxuICAgICAgb25CZWZvcmVSZW5kZXI6IChyZW5kZXJlciwgc2NlbmUpID0+IHtcbiAgICAgICAgLy8gaWYgKHRoaXMudW5pZm9ybXMpIHtcbiAgICAgICAgLy8gICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgICAgICAvLyB9XG4gICAgICAgIHNjZW5lLnVzZXJEYXRhLnNwaGVyZUdyb3VwLnRyYXZlcnNlKGNoaWxkID0+IHtcbiAgICAgICAgICBpZiAoJ3BoYXNlJyBpbiBjaGlsZC51c2VyRGF0YSkge1xuICAgICAgICAgICAgY2hpbGQucG9zaXRpb24ueSA9IE1hdGguYWJzKE1hdGguc2luKHRoaXMucmFmLmdldEVsYXBzZWRUaW1lKCkgKyBjaGlsZC51c2VyRGF0YS5waGFzZSkpICogNSArIDAuMztcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHRydWUpO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgc2hhZG93IGNhc3Rpbmcgc3BoZXJlcy5cbiAgICovXG5cblxuICBhZGRSYW5kb21TcGhlcmVzKHNjZW5lKSB7XG4gICAgY29uc3QgZ3JvdXAgPSBuZXcgVEhSRUUuR3JvdXAoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjsgaSsrKSB7XG4gICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuU3BoZXJlQnVmZmVyR2VvbWV0cnkoMC4zLCBfbWF0aGYubWF0aGYuZ2V0UmFuZG9tSW50KDEwLCA1MCksIF9tYXRoZi5tYXRoZi5nZXRSYW5kb21JbnQoMTAsIDUwKSk7XG4gICAgICB2YXIgbWF0ZXJpYWw7XG5cbiAgICAgIGlmIChpICUgMiA9PSAwKSB7XG4gICAgICAgIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcbiAgICAgICAgICBjb2xvcjogTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe1xuICAgICAgICAgIGNvbG9yOiBNYXRoLnJhbmRvbSgpICogMHhmZmZmZmZcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzcGhlcmUgPSBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgICAgc3BoZXJlLnBvc2l0aW9uLnggPSBNYXRoLnJhbmRvbSgpIC0gMC41O1xuICAgICAgc3BoZXJlLnBvc2l0aW9uLnogPSBNYXRoLnJhbmRvbSgpIC0gMC41O1xuICAgICAgc3BoZXJlLnBvc2l0aW9uLm5vcm1hbGl6ZSgpO1xuICAgICAgc3BoZXJlLnBvc2l0aW9uLm11bHRpcGx5U2NhbGFyKE1hdGgucmFuZG9tKCkgKiAyICsgMSk7XG4gICAgICBzcGhlcmUuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICBzcGhlcmUucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG4gICAgICBzcGhlcmUudXNlckRhdGEucGhhc2UgPSBNYXRoLnJhbmRvbSgpICogTWF0aC5QSTtcbiAgICAgIGdyb3VwLmFkZChzcGhlcmUpO1xuICAgIH1cblxuICAgIHNjZW5lLmFkZChncm91cCk7XG4gICAgcmV0dXJuIGdyb3VwO1xuICB9XG5cbiAgYWRkR3JvdW5kKHNjZW5lKSB7XG4gICAgdmFyIGdyb3VuZE1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHtcbiAgICAgIGNvbG9yOiAweEZGRkZGRixcbiAgICAgIHNwZWN1bGFyOiAweEZGRkZGRkZcbiAgICB9KTtcbiAgICB2YXIgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKG5ldyBUSFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5KDIwMDAwLCAyMDAwMCwgOCwgOCksIHRoaXMubWF0ZXJpYWwpO1xuICAgIG1lc2gucm90YXRpb24ueCA9IC1NYXRoLlBJIC8gMjtcbiAgICBtZXNoLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgIHNjZW5lLmFkZChtZXNoKTtcbiAgICBtZXNoID0gbmV3IFRIUkVFLk1lc2gobmV3IFRIUkVFLkJveEJ1ZmZlckdlb21ldHJ5KDEsIDQsIDEpLCBncm91bmRNYXRlcmlhbCk7XG4gICAgbWVzaC5wb3NpdGlvbi55ID0gMjtcbiAgICBtZXNoLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgIG1lc2gucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG4gICAgc2NlbmUuYWRkKG1lc2gpO1xuICB9XG5cbiAgb25SYWYoKSB7XG4gICAgdGhpcy5zY2VuZVJlbmRlcmVyLnJlbmRlcigpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gVGhyZWVMaWdodFRlc3QyOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/three-light-test2.js\n");

/***/ }),

/***/ "./examples/three-object-viewer.js":
/*!*****************************************!*\
  !*** ./examples/three-object-viewer.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _GLTFLoader = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n// https://github.com/KhronosGroup/glTF-Blender-Exporter/blob/master/docs/user.md\n// https://threejs.org/docs/#manual/en/introduction/Loading-3D-models\n// https://threejs.org/examples/#webgl_loader_gltf\n// https://gist.github.com/bellbind/c4f8c502fcacbe29422e5ac315273858\n// https://github.com/funwithtriangles/blender-to-threejs-export-guide/blob/master/readme.md\n// https://threejsfundamentals.org/threejs/lessons/threejs-load-gltf.html\n// https://discoverthreejs.com/book/first-steps/load-models/\n// https://www.pentacreation.com/blog/2019/09/190916.html\n// https://www.pentacreation.com/blog/2019/10/191016.html\n// https://gltf-viewer.donmccurdy.com/\n// https://github.com/donmccurdy/three-gltf-viewer\n// https://qiita.com/adrs2002/items/dc6416d6fd2389c75ab5\n// https://qiita.com/cx20/items/2b86cb5052cd7c36038a\n// https://discoverthreejs.com/book/first-steps/load-models/\n// The glTF format does not allow bump maps.  Use normal maps.\n// https://discourse.threejs.org/t/three-js-gltf-model-exported-from-editor-bump-map-not-rendering/10835\n// PBR Exporting in blender\n// https://www.youtube.com/watch?v=wWyBXt565eE&t=318s\n\n/**\n * Just a crude example of adding a gltf object file in three.js.\n *\n * Basic steps.\n * Take your blender file and export it out as a gtlf and set it the path\n *    in the code below.\n *\n * https://docs.blender.org/manual/ja/latest/addons/io_scene_gltf2.html\n * https://github.com/KhronosGroup/glTF-Blender-Exporter/blob/master/docs/user.md#pbr-materials\n *\n * To export, in Blender 2.8 to go:\n * File -> Export glTF2.0 -> save your file.\n * Make sure you have the following checked under the export settings.\n * - General -> Apply Modifiers\n * - General -> +Y up\n * - Meshes -> Uvs, Normals, Vertex Colors, Materials\n * - Objects -> Cameras, Punctual Lights\n * - Animations -> Animations, Limit Playback Range, Always Sample Animations, SKinning, Shape Keys, Shape Keys Normals.\n *\n * Save file as glb.\n *\n *\n * Lights\n * - Area lights don't seem to export correctly out of blender.\n * - Sun lights turn into directional lights.  This means, if there is an object\n *   obstructing, in three.js it will block the light.\n *   https://threejs.org/docs/#api/en/lights/RectAreaLight could be an alternative option\n *\n * - Shadows\n * Light shadow values are not respected in three.js\n *\n * - It's easier if you don't have an HDRI.\n * - Also in Shading to go background set color strength to 0.\n *\n *\n * Renderer Specifics\n * - Things like bloom in eevee won't carry over.\n *\n *\n * Multi UV mapping\n * - not supported?\n *\n * Materials\n * - Seems like just Princpled BSDF is the main supported (okay with images)\n * - No support for bump maps (although you could maybe convert or load it on three.js side and apply a bump map)\n *\n * UV Editing and Baking\n * https://docs.blender.org/manual/en/latest/render/cycles/baking.html\n * Blender Baking Three.js\n * https://www.youtube.com/watch?v=yqF77-M3RVY\n * https://www.youtube.com/watch?v=XI-pZshRp8g (PBR)\n * https://youtu.be/X39iQ6P3CQw\n * https://youtu.be/R2YkbzObdB0 (high rez to low poly normal maps)\n * https://youtu.be/Atz4vT3UYAQ\n *\n * - https://www.youtube.com/watch?v=sB09T--_ZvU&t=193s\n * - https://www.youtube.com/watch?v=o568T79egTs\n * - https://www.youtube.com/watch?v=c2ut0Trcdi0\n * - https://www.youtube.com/watch?v=ejSVHuHOb7U\n *\n * To smooth out lines, you need to select all vertices.  Select the object -> tab (edit mdoe) ->\n * mesh -> shading --> smooth edges and smooth vertices.\n *\n * 1) Create UV Map\n * 2) Add image node to material and add the map (not hooked up)\n * 3) Make sure that when you turn off all lights, the world is dark (so the render is exact)\n * 4) Bake\n * 5) Go back to material and add Emission.  Hook image node -> emmission -> Material output Surfact\n * 6) Now your object will be using the baked material.\n * 7) Export out.\n *\n * IMPORTANT:\n * - If shadows are not showing up or lighting is off, it's possible because you have emission on the ground\n * or the world contains emits color (white is up to strength 1) which doens't get included in the bake.\n * In other words, if lighting is too strong it won't work.   Test it by turning all lights off.\n * If it is correct, your world will be pitch dark.        If you see like, that\n * could be a source of shadows and lighting going off.\n *\n * - If you see banding, it's likely you need more margins in the UV map.  0.5 or even 1 worked in tests.\n *\n *\n * Using Shadow Catchers:\n * https://blender.stackexchange.com/questions/47569/render-shadows-over-a-transparent-background-in-cycles\n * - go to object and under visibility -> check shadow catcher\n * - under cycles ensure film -> transparent is enabled.\n *\n *\n *\n *\n * Camera Movement.  If you are exporting camera movement, note the following.\n * - You can't use path animation since even if you bake the animations,\n *  they don't get included.  This means that beizer-curve path animations\n *  like done here: https://www.youtube.com/watch?v=-2dd_qK54pg\n *  won't work.\n * - Instead, you have to animate the camera.  Prior to exporting as gltf,\n *  you MUST, bake the animation.  To do this, go to the Camera,\n *  Object -> Animation -> Bake Action.  Make sure the \"Clear Constraints\"\n *  and \"Clear Parents\" options are selected.\n *  @see /examples/public/blender-three/baking-instructions.mov for\n *  further insturctions.\n *\n *\n * More limitations:\n * https://github.com/KhronosGroup/glTF-Blender-Exporter/blob/master/docs/user.md#pbr-materials*\n */\nclass ThreeObjectViewer {\n  constructor() {\n    console.log('ThreeJS Object Viewer Demo');\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.canvasContainer = document.getElementById('canvas-container'); // Noraml camera.\n    // this.camera = new THREE.PerspectiveCamera(45, this.width / this.height, 0.25, 1000);\n    // this.camera.position.set( - 50, 10, 2.7 );\n\n    this.scene = new THREE.Scene(); // var ambient = new THREE.AmbientLight(0x222222);\n    // this.scene.add(ambient);\n    // this.scene.background = new THREE.Color(0x222222);\n    // this.scene.add(new THREE.AmbientLight(0xFFFFFF));\n    // var light = new THREE.HemisphereLight( 0xffffbb, 0x080820, 1 );\n    // this.scene.add( light );\n\n    var loader = new _GLTFLoader.GLTFLoader(); // const path = 'https://threejs.org/examples/models/gltf/DamagedHelmet/glTF/DamagedHelmet.gltf';\n    // const path = './public/dude.glb';\n\n    const path = './public/monster-scene3.glb';\n    loader.load(path, gltf => {\n      this.clock = new THREE.Clock();\n      const scene = gltf.scenes[0];\n      this.activeScene = scene;\n      this.animations = gltf.animations; // Animation Mixer\n\n      this.mixer = new THREE.AnimationMixer(scene); //Animation Clip\n\n      for (var i = 0; i < this.animations.length; i++) {\n        var animation = this.animations[i]; //Animation Action\n\n        var action = this.mixer.clipAction(animation);\n        console.log('added', animation); // //1\n        // action.setLoop(THREE.LoopOnce);\n        // //\n        // action.clampWhenFinished = true;\n        //\n\n        action.play();\n      }\n\n      this.scene.add(scene);\n      console.log(this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      this.scene.traverse(child => {\n        if (child instanceof THREE.Light) {\n          child.castShadow = true;\n          console.log('cast', child); // Debugging light positions.\n\n          child.shadowCameraVisible = true; // Adjust shadow bias.\n\n          child.shadowBias = -0.005;\n          child.shadowDarkness = 0.1; // child.shadow.camera.near = 0;\n          // child.shadow.camera.far = 1000;\n          // Lights come off a bit stronger compared to Eevee, so\n          // lower the intensity.\n\n          child.intensity = child.intensity * 0.2; // var helper = new THREE.CameraHelper( child.shadow.camera );\n          // scene.add( helper );\n        } else if (child instanceof THREE.Mesh) {\n          child.castShadow = true;\n          child.receiveShadow = true;\n          console.log('receive', child);\n        } else {\n          console.log('nothing', child);\n        } // if(child.name.startsWith('Cube003')) {\n        //     child.receiveShadow = true;\n        // }\n        // Fix eyes\n\n\n        if (child.name.startsWith('Cube006')) {\n          child.castShadow = false;\n          child.receiveShadow = false;\n        }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n      this.camera = gltf.cameras[0];\n      console.log(this.camera);\n      this.resize();\n      this.raf.start();\n    }, undefined, error => {\n      console.error(error);\n    });\n    this.renderer = new THREE.WebGLRenderer({\n      antialias: true\n    });\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  resize() {\n    this.width = this.canvasContainer.parentElement.offsetWidth;\n    this.height = this.canvasContainer.parentElement.offsetHeight;\n    console.log('resizing', this.width); // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(this.width, this.height); // Important to get the correct colors.\n\n    this.renderer.physicallyCorrectLights = true;\n    this.renderer.setClearColor(0x000000); // this.renderer.setClearColor(0xFFFFFF, 1.0);\n    // Affects how strongly lights come exposed.\n    // this.renderer.toneMappingExposure = 0.4;\n\n    this.renderer.shadowMap.enabled = true;\n    this.renderer.gammaOutput = true;\n    this.renderer.gammaFactor = 2.2; // The camera aspect goes off since it could be exported at a different\n    // ratio.  Force update the aspect ratio.\n    // this.camera.fov = this.width / this.height;\n\n    this.camera.aspect = this.width / this.height;\n    this.camera.updateProjectionMatrix();\n  }\n\n  getAnimationByName(name) {\n    return this.animations.filter(animationClip => {\n      return animationClip.name == name;\n    })[0];\n  }\n\n  getObjectByName(name) {\n    return this.activeScene.children.filter(object3d => {\n      return object3d.name == name;\n    })[0];\n  }\n\n  onRaf() {\n    //Animation Mixer\n    if (this.mixer) {\n      this.mixer.update(this.clock.getDelta());\n    } // const cameraAnimation = this.getAnimationByName('camera-action');\n    // const animationAction = this.mixer.clipAction(cameraAnimation);\n    // console.log(animationAction);\n    // console.log(this.mixer);\n    // const camera = this.getObjectByName('Camera');\n    // console.log(camera.position);\n    // const camera = this.camera.parent;\n    // if(cameraPosition) {\n    //   this.camera.position.set(this.camera.parent.position);\n    //   this.camera.scale.set(camera.scale);\n    //   this.camera.setRotationFromEuler(this.camera.rotation);\n    // }\n    // Make camera follow target object.\n    // const cameraTarget = this.getObjectByName('camera-target');\n    // if (cameraTarget) {\n    //     this.camera.lookAt(cameraTarget.position);\n    // }\n    // this.camera.scale.set(this.camera.parent.scale);\n    // console.log(this.camera.position);\n\n\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = ThreeObjectViewer;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvdGhyZWUtb2JqZWN0LXZpZXdlci5qcz82ZmEzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3RocmVlID0gcmVxdWlyZShcInRocmVlXCIpO1xuXG52YXIgVEhSRUUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGhyZWUpO1xuXG52YXIgX0dMVEZMb2FkZXIgPSByZXF1aXJlKFwidGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlclwiKTtcblxudmFyIF9yYWYgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWZcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGLUJsZW5kZXItRXhwb3J0ZXIvYmxvYi9tYXN0ZXIvZG9jcy91c2VyLm1kXG4vLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI21hbnVhbC9lbi9pbnRyb2R1Y3Rpb24vTG9hZGluZy0zRC1tb2RlbHNcbi8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX2xvYWRlcl9nbHRmXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9iZWxsYmluZC9jNGY4YzUwMmZjYWNiZTI5NDIyZTVhYzMxNTI3Mzg1OFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Z1bndpdGh0cmlhbmdsZXMvYmxlbmRlci10by10aHJlZWpzLWV4cG9ydC1ndWlkZS9ibG9iL21hc3Rlci9yZWFkbWUubWRcbi8vIGh0dHBzOi8vdGhyZWVqc2Z1bmRhbWVudGFscy5vcmcvdGhyZWVqcy9sZXNzb25zL3RocmVlanMtbG9hZC1nbHRmLmh0bWxcbi8vIGh0dHBzOi8vZGlzY292ZXJ0aHJlZWpzLmNvbS9ib29rL2ZpcnN0LXN0ZXBzL2xvYWQtbW9kZWxzL1xuLy8gaHR0cHM6Ly93d3cucGVudGFjcmVhdGlvbi5jb20vYmxvZy8yMDE5LzA5LzE5MDkxNi5odG1sXG4vLyBodHRwczovL3d3dy5wZW50YWNyZWF0aW9uLmNvbS9ibG9nLzIwMTkvMTAvMTkxMDE2Lmh0bWxcbi8vIGh0dHBzOi8vZ2x0Zi12aWV3ZXIuZG9ubWNjdXJkeS5jb20vXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZG9ubWNjdXJkeS90aHJlZS1nbHRmLXZpZXdlclxuLy8gaHR0cHM6Ly9xaWl0YS5jb20vYWRyczIwMDIvaXRlbXMvZGM2NDE2ZDZmZDIzODljNzVhYjVcbi8vIGh0dHBzOi8vcWlpdGEuY29tL2N4MjAvaXRlbXMvMmI4NmNiNTA1MmNkN2MzNjAzOGFcbi8vIGh0dHBzOi8vZGlzY292ZXJ0aHJlZWpzLmNvbS9ib29rL2ZpcnN0LXN0ZXBzL2xvYWQtbW9kZWxzL1xuLy8gVGhlIGdsVEYgZm9ybWF0IGRvZXMgbm90IGFsbG93IGJ1bXAgbWFwcy4gIFVzZSBub3JtYWwgbWFwcy5cbi8vIGh0dHBzOi8vZGlzY291cnNlLnRocmVlanMub3JnL3QvdGhyZWUtanMtZ2x0Zi1tb2RlbC1leHBvcnRlZC1mcm9tLWVkaXRvci1idW1wLW1hcC1ub3QtcmVuZGVyaW5nLzEwODM1XG4vLyBQQlIgRXhwb3J0aW5nIGluIGJsZW5kZXJcbi8vIGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9d1d5Qlh0NTY1ZUUmdD0zMThzXG5cbi8qKlxuICogSnVzdCBhIGNydWRlIGV4YW1wbGUgb2YgYWRkaW5nIGEgZ2x0ZiBvYmplY3QgZmlsZSBpbiB0aHJlZS5qcy5cbiAqXG4gKiBCYXNpYyBzdGVwcy5cbiAqIFRha2UgeW91ciBibGVuZGVyIGZpbGUgYW5kIGV4cG9ydCBpdCBvdXQgYXMgYSBndGxmIGFuZCBzZXQgaXQgdGhlIHBhdGhcbiAqICAgIGluIHRoZSBjb2RlIGJlbG93LlxuICpcbiAqIGh0dHBzOi8vZG9jcy5ibGVuZGVyLm9yZy9tYW51YWwvamEvbGF0ZXN0L2FkZG9ucy9pb19zY2VuZV9nbHRmMi5odG1sXG4gKiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYtQmxlbmRlci1FeHBvcnRlci9ibG9iL21hc3Rlci9kb2NzL3VzZXIubWQjcGJyLW1hdGVyaWFsc1xuICpcbiAqIFRvIGV4cG9ydCwgaW4gQmxlbmRlciAyLjggdG8gZ286XG4gKiBGaWxlIC0+IEV4cG9ydCBnbFRGMi4wIC0+IHNhdmUgeW91ciBmaWxlLlxuICogTWFrZSBzdXJlIHlvdSBoYXZlIHRoZSBmb2xsb3dpbmcgY2hlY2tlZCB1bmRlciB0aGUgZXhwb3J0IHNldHRpbmdzLlxuICogLSBHZW5lcmFsIC0+IEFwcGx5IE1vZGlmaWVyc1xuICogLSBHZW5lcmFsIC0+ICtZIHVwXG4gKiAtIE1lc2hlcyAtPiBVdnMsIE5vcm1hbHMsIFZlcnRleCBDb2xvcnMsIE1hdGVyaWFsc1xuICogLSBPYmplY3RzIC0+IENhbWVyYXMsIFB1bmN0dWFsIExpZ2h0c1xuICogLSBBbmltYXRpb25zIC0+IEFuaW1hdGlvbnMsIExpbWl0IFBsYXliYWNrIFJhbmdlLCBBbHdheXMgU2FtcGxlIEFuaW1hdGlvbnMsIFNLaW5uaW5nLCBTaGFwZSBLZXlzLCBTaGFwZSBLZXlzIE5vcm1hbHMuXG4gKlxuICogU2F2ZSBmaWxlIGFzIGdsYi5cbiAqXG4gKlxuICogTGlnaHRzXG4gKiAtIEFyZWEgbGlnaHRzIGRvbid0IHNlZW0gdG8gZXhwb3J0IGNvcnJlY3RseSBvdXQgb2YgYmxlbmRlci5cbiAqIC0gU3VuIGxpZ2h0cyB0dXJuIGludG8gZGlyZWN0aW9uYWwgbGlnaHRzLiAgVGhpcyBtZWFucywgaWYgdGhlcmUgaXMgYW4gb2JqZWN0XG4gKiAgIG9ic3RydWN0aW5nLCBpbiB0aHJlZS5qcyBpdCB3aWxsIGJsb2NrIHRoZSBsaWdodC5cbiAqICAgaHR0cHM6Ly90aHJlZWpzLm9yZy9kb2NzLyNhcGkvZW4vbGlnaHRzL1JlY3RBcmVhTGlnaHQgY291bGQgYmUgYW4gYWx0ZXJuYXRpdmUgb3B0aW9uXG4gKlxuICogLSBTaGFkb3dzXG4gKiBMaWdodCBzaGFkb3cgdmFsdWVzIGFyZSBub3QgcmVzcGVjdGVkIGluIHRocmVlLmpzXG4gKlxuICogLSBJdCdzIGVhc2llciBpZiB5b3UgZG9uJ3QgaGF2ZSBhbiBIRFJJLlxuICogLSBBbHNvIGluIFNoYWRpbmcgdG8gZ28gYmFja2dyb3VuZCBzZXQgY29sb3Igc3RyZW5ndGggdG8gMC5cbiAqXG4gKlxuICogUmVuZGVyZXIgU3BlY2lmaWNzXG4gKiAtIFRoaW5ncyBsaWtlIGJsb29tIGluIGVldmVlIHdvbid0IGNhcnJ5IG92ZXIuXG4gKlxuICpcbiAqIE11bHRpIFVWIG1hcHBpbmdcbiAqIC0gbm90IHN1cHBvcnRlZD9cbiAqXG4gKiBNYXRlcmlhbHNcbiAqIC0gU2VlbXMgbGlrZSBqdXN0IFByaW5jcGxlZCBCU0RGIGlzIHRoZSBtYWluIHN1cHBvcnRlZCAob2theSB3aXRoIGltYWdlcylcbiAqIC0gTm8gc3VwcG9ydCBmb3IgYnVtcCBtYXBzIChhbHRob3VnaCB5b3UgY291bGQgbWF5YmUgY29udmVydCBvciBsb2FkIGl0IG9uIHRocmVlLmpzIHNpZGUgYW5kIGFwcGx5IGEgYnVtcCBtYXApXG4gKlxuICogVVYgRWRpdGluZyBhbmQgQmFraW5nXG4gKiBodHRwczovL2RvY3MuYmxlbmRlci5vcmcvbWFudWFsL2VuL2xhdGVzdC9yZW5kZXIvY3ljbGVzL2Jha2luZy5odG1sXG4gKiBCbGVuZGVyIEJha2luZyBUaHJlZS5qc1xuICogaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj15cUY3Ny1NM1JWWVxuICogaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1YSS1wWnNoUnA4ZyAoUEJSKVxuICogaHR0cHM6Ly95b3V0dS5iZS9YMzlpUTZQM0NRd1xuICogaHR0cHM6Ly95b3V0dS5iZS9SMllrYnpPYmRCMCAoaGlnaCByZXogdG8gbG93IHBvbHkgbm9ybWFsIG1hcHMpXG4gKiBodHRwczovL3lvdXR1LmJlL0F0ejR2VDNVWUFRXG4gKlxuICogLSBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PXNCMDlULS1fWnZVJnQ9MTkzc1xuICogLSBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PW81NjhUNzllZ1RzXG4gKiAtIGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9YzJ1dDBUcmNkaTBcbiAqIC0gaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1lalNWSHVIT2I3VVxuICpcbiAqIFRvIHNtb290aCBvdXQgbGluZXMsIHlvdSBuZWVkIHRvIHNlbGVjdCBhbGwgdmVydGljZXMuICBTZWxlY3QgdGhlIG9iamVjdCAtPiB0YWIgKGVkaXQgbWRvZSkgLT5cbiAqIG1lc2ggLT4gc2hhZGluZyAtLT4gc21vb3RoIGVkZ2VzIGFuZCBzbW9vdGggdmVydGljZXMuXG4gKlxuICogMSkgQ3JlYXRlIFVWIE1hcFxuICogMikgQWRkIGltYWdlIG5vZGUgdG8gbWF0ZXJpYWwgYW5kIGFkZCB0aGUgbWFwIChub3QgaG9va2VkIHVwKVxuICogMykgTWFrZSBzdXJlIHRoYXQgd2hlbiB5b3UgdHVybiBvZmYgYWxsIGxpZ2h0cywgdGhlIHdvcmxkIGlzIGRhcmsgKHNvIHRoZSByZW5kZXIgaXMgZXhhY3QpXG4gKiA0KSBCYWtlXG4gKiA1KSBHbyBiYWNrIHRvIG1hdGVyaWFsIGFuZCBhZGQgRW1pc3Npb24uICBIb29rIGltYWdlIG5vZGUgLT4gZW1taXNzaW9uIC0+IE1hdGVyaWFsIG91dHB1dCBTdXJmYWN0XG4gKiA2KSBOb3cgeW91ciBvYmplY3Qgd2lsbCBiZSB1c2luZyB0aGUgYmFrZWQgbWF0ZXJpYWwuXG4gKiA3KSBFeHBvcnQgb3V0LlxuICpcbiAqIElNUE9SVEFOVDpcbiAqIC0gSWYgc2hhZG93cyBhcmUgbm90IHNob3dpbmcgdXAgb3IgbGlnaHRpbmcgaXMgb2ZmLCBpdCdzIHBvc3NpYmxlIGJlY2F1c2UgeW91IGhhdmUgZW1pc3Npb24gb24gdGhlIGdyb3VuZFxuICogb3IgdGhlIHdvcmxkIGNvbnRhaW5zIGVtaXRzIGNvbG9yICh3aGl0ZSBpcyB1cCB0byBzdHJlbmd0aCAxKSB3aGljaCBkb2Vucyd0IGdldCBpbmNsdWRlZCBpbiB0aGUgYmFrZS5cbiAqIEluIG90aGVyIHdvcmRzLCBpZiBsaWdodGluZyBpcyB0b28gc3Ryb25nIGl0IHdvbid0IHdvcmsuICAgVGVzdCBpdCBieSB0dXJuaW5nIGFsbCBsaWdodHMgb2ZmLlxuICogSWYgaXQgaXMgY29ycmVjdCwgeW91ciB3b3JsZCB3aWxsIGJlIHBpdGNoIGRhcmsuICAgICAgICBJZiB5b3Ugc2VlIGxpa2UsIHRoYXRcbiAqIGNvdWxkIGJlIGEgc291cmNlIG9mIHNoYWRvd3MgYW5kIGxpZ2h0aW5nIGdvaW5nIG9mZi5cbiAqXG4gKiAtIElmIHlvdSBzZWUgYmFuZGluZywgaXQncyBsaWtlbHkgeW91IG5lZWQgbW9yZSBtYXJnaW5zIGluIHRoZSBVViBtYXAuICAwLjUgb3IgZXZlbiAxIHdvcmtlZCBpbiB0ZXN0cy5cbiAqXG4gKlxuICogVXNpbmcgU2hhZG93IENhdGNoZXJzOlxuICogaHR0cHM6Ly9ibGVuZGVyLnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy80NzU2OS9yZW5kZXItc2hhZG93cy1vdmVyLWEtdHJhbnNwYXJlbnQtYmFja2dyb3VuZC1pbi1jeWNsZXNcbiAqIC0gZ28gdG8gb2JqZWN0IGFuZCB1bmRlciB2aXNpYmlsaXR5IC0+IGNoZWNrIHNoYWRvdyBjYXRjaGVyXG4gKiAtIHVuZGVyIGN5Y2xlcyBlbnN1cmUgZmlsbSAtPiB0cmFuc3BhcmVudCBpcyBlbmFibGVkLlxuICpcbiAqXG4gKlxuICpcbiAqIENhbWVyYSBNb3ZlbWVudC4gIElmIHlvdSBhcmUgZXhwb3J0aW5nIGNhbWVyYSBtb3ZlbWVudCwgbm90ZSB0aGUgZm9sbG93aW5nLlxuICogLSBZb3UgY2FuJ3QgdXNlIHBhdGggYW5pbWF0aW9uIHNpbmNlIGV2ZW4gaWYgeW91IGJha2UgdGhlIGFuaW1hdGlvbnMsXG4gKiAgdGhleSBkb24ndCBnZXQgaW5jbHVkZWQuICBUaGlzIG1lYW5zIHRoYXQgYmVpemVyLWN1cnZlIHBhdGggYW5pbWF0aW9uc1xuICogIGxpa2UgZG9uZSBoZXJlOiBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PS0yZGRfcUs1NHBnXG4gKiAgd29uJ3Qgd29yay5cbiAqIC0gSW5zdGVhZCwgeW91IGhhdmUgdG8gYW5pbWF0ZSB0aGUgY2FtZXJhLiAgUHJpb3IgdG8gZXhwb3J0aW5nIGFzIGdsdGYsXG4gKiAgeW91IE1VU1QsIGJha2UgdGhlIGFuaW1hdGlvbi4gIFRvIGRvIHRoaXMsIGdvIHRvIHRoZSBDYW1lcmEsXG4gKiAgT2JqZWN0IC0+IEFuaW1hdGlvbiAtPiBCYWtlIEFjdGlvbi4gIE1ha2Ugc3VyZSB0aGUgXCJDbGVhciBDb25zdHJhaW50c1wiXG4gKiAgYW5kIFwiQ2xlYXIgUGFyZW50c1wiIG9wdGlvbnMgYXJlIHNlbGVjdGVkLlxuICogIEBzZWUgL2V4YW1wbGVzL3B1YmxpYy9ibGVuZGVyLXRocmVlL2Jha2luZy1pbnN0cnVjdGlvbnMubW92IGZvclxuICogIGZ1cnRoZXIgaW5zdHVyY3Rpb25zLlxuICpcbiAqXG4gKiBNb3JlIGxpbWl0YXRpb25zOlxuICogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGLUJsZW5kZXItRXhwb3J0ZXIvYmxvYi9tYXN0ZXIvZG9jcy91c2VyLm1kI3Bici1tYXRlcmlhbHMqXG4gKi9cbmNsYXNzIFRocmVlT2JqZWN0Vmlld2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc29sZS5sb2coJ1RocmVlSlMgT2JqZWN0IFZpZXdlciBEZW1vJyk7XG4gICAgdGhpcy5yYWYgPSBuZXcgX3JhZi5SYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMtY29udGFpbmVyJyk7IC8vIE5vcmFtbCBjYW1lcmEuXG4gICAgLy8gdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNDUsIHRoaXMud2lkdGggLyB0aGlzLmhlaWdodCwgMC4yNSwgMTAwMCk7XG4gICAgLy8gdGhpcy5jYW1lcmEucG9zaXRpb24uc2V0KCAtIDUwLCAxMCwgMi43ICk7XG5cbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIHZhciBhbWJpZW50ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodCgweDIyMjIyMik7XG4gICAgLy8gdGhpcy5zY2VuZS5hZGQoYW1iaWVudCk7XG4gICAgLy8gdGhpcy5zY2VuZS5iYWNrZ3JvdW5kID0gbmV3IFRIUkVFLkNvbG9yKDB4MjIyMjIyKTtcbiAgICAvLyB0aGlzLnNjZW5lLmFkZChuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4RkZGRkZGKSk7XG4gICAgLy8gdmFyIGxpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodCggMHhmZmZmYmIsIDB4MDgwODIwLCAxICk7XG4gICAgLy8gdGhpcy5zY2VuZS5hZGQoIGxpZ2h0ICk7XG5cbiAgICB2YXIgbG9hZGVyID0gbmV3IF9HTFRGTG9hZGVyLkdMVEZMb2FkZXIoKTsgLy8gY29uc3QgcGF0aCA9ICdodHRwczovL3RocmVlanMub3JnL2V4YW1wbGVzL21vZGVscy9nbHRmL0RhbWFnZWRIZWxtZXQvZ2xURi9EYW1hZ2VkSGVsbWV0LmdsdGYnO1xuICAgIC8vIGNvbnN0IHBhdGggPSAnLi9wdWJsaWMvZHVkZS5nbGInO1xuXG4gICAgY29uc3QgcGF0aCA9ICcuL3B1YmxpYy9tb25zdGVyLXNjZW5lMy5nbGInO1xuICAgIGxvYWRlci5sb2FkKHBhdGgsIGdsdGYgPT4ge1xuICAgICAgdGhpcy5jbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpO1xuICAgICAgY29uc3Qgc2NlbmUgPSBnbHRmLnNjZW5lc1swXTtcbiAgICAgIHRoaXMuYWN0aXZlU2NlbmUgPSBzY2VuZTtcbiAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IGdsdGYuYW5pbWF0aW9uczsgLy8gQW5pbWF0aW9uIE1peGVy44Kk44Oz44K544K/44Oz44K544KS55Sf5oiQXG5cbiAgICAgIHRoaXMubWl4ZXIgPSBuZXcgVEhSRUUuQW5pbWF0aW9uTWl4ZXIoc2NlbmUpOyAvL+WFqOOBpuOBrkFuaW1hdGlvbiBDbGlw44Gr5a++44GX44GmXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbnNbaV07IC8vQW5pbWF0aW9uIEFjdGlvbuOCkueUn+aIkFxuXG4gICAgICAgIHZhciBhY3Rpb24gPSB0aGlzLm1peGVyLmNsaXBBY3Rpb24oYW5pbWF0aW9uKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2FkZGVkJywgYW5pbWF0aW9uKTsgLy8gLy/jg6vjg7zjg5foqK3lrprvvIgx5Zue44Gu44G/77yJXG4gICAgICAgIC8vIGFjdGlvbi5zZXRMb29wKFRIUkVFLkxvb3BPbmNlKTtcbiAgICAgICAgLy8gLy/jgqLjg4vjg6Hjg7zjgrfjg6fjg7Pjga7mnIDlvozjga7jg5Xjg6zjg7zjg6DjgafjgqLjg4vjg6Hjg7zjgrfjg6fjg7PjgYzntYLkuoZcbiAgICAgICAgLy8gYWN0aW9uLmNsYW1wV2hlbkZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgLy/jgqLjg4vjg6Hjg7zjgrfjg6fjg7PjgpLlho3nlJ9cblxuICAgICAgICBhY3Rpb24ucGxheSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNjZW5lLmFkZChzY2VuZSk7XG4gICAgICBjb25zb2xlLmxvZyh0aGlzLm1peGVyKTsgLy8gaHR0cDovL2xlYXJuaW5ndGhyZWVqcy5jb20vYmxvZy8yMDEyLzAxLzIwL2Nhc3Rpbmctc2hhZG93cy9cblxuICAgICAgdGhpcy5zY2VuZS50cmF2ZXJzZShjaGlsZCA9PiB7XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLkxpZ2h0KSB7XG4gICAgICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2Nhc3QnLCBjaGlsZCk7IC8vIERlYnVnZ2luZyBsaWdodCBwb3NpdGlvbnMuXG5cbiAgICAgICAgICBjaGlsZC5zaGFkb3dDYW1lcmFWaXNpYmxlID0gdHJ1ZTsgLy8gQWRqdXN0IHNoYWRvdyBiaWFzLlxuXG4gICAgICAgICAgY2hpbGQuc2hhZG93QmlhcyA9IC0wLjAwNTtcbiAgICAgICAgICBjaGlsZC5zaGFkb3dEYXJrbmVzcyA9IDAuMTsgLy8gY2hpbGQuc2hhZG93LmNhbWVyYS5uZWFyID0gMDtcbiAgICAgICAgICAvLyBjaGlsZC5zaGFkb3cuY2FtZXJhLmZhciA9IDEwMDA7XG4gICAgICAgICAgLy8gTGlnaHRzIGNvbWUgb2ZmIGEgYml0IHN0cm9uZ2VyIGNvbXBhcmVkIHRvIEVldmVlLCBzb1xuICAgICAgICAgIC8vIGxvd2VyIHRoZSBpbnRlbnNpdHkuXG5cbiAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSBjaGlsZC5pbnRlbnNpdHkgKiAwLjI7IC8vIHZhciBoZWxwZXIgPSBuZXcgVEhSRUUuQ2FtZXJhSGVscGVyKCBjaGlsZC5zaGFkb3cuY2FtZXJhICk7XG4gICAgICAgICAgLy8gc2NlbmUuYWRkKCBoZWxwZXIgKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2gpIHtcbiAgICAgICAgICBjaGlsZC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICBjaGlsZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICBjb25zb2xlLmxvZygncmVjZWl2ZScsIGNoaWxkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnbm90aGluZycsIGNoaWxkKTtcbiAgICAgICAgfSAvLyBpZihjaGlsZC5uYW1lLnN0YXJ0c1dpdGgoJ0N1YmUwMDMnKSkge1xuICAgICAgICAvLyAgICAgY2hpbGQucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gRml4IGV5ZXNcblxuXG4gICAgICAgIGlmIChjaGlsZC5uYW1lLnN0YXJ0c1dpdGgoJ0N1YmUwMDYnKSkge1xuICAgICAgICAgIGNoaWxkLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgICAgICBjaGlsZC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pOyAvLyBTZXQgdGhlIGNhbWVyYSBleHBvcnRlZCBpbiBnbHRmLlxuICAgICAgLy8gUmVxdWlyZXMgY2FtZXJhIHRvIGJlIGV4cG9ydGVkIGZvciBnbHRmLlxuXG4gICAgICB0aGlzLmNhbWVyYSA9IGdsdGYuY2FtZXJhc1swXTtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2FtZXJhKTtcbiAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICB0aGlzLnJhZi5zdGFydCgpO1xuICAgIH0sIHVuZGVmaW5lZCwgZXJyb3IgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfSk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcbiAgICAgIGFudGlhbGlhczogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLndpZHRoID0gdGhpcy5jYW52YXNDb250YWluZXIucGFyZW50RWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgIGNvbnNvbGUubG9nKCdyZXNpemluZycsIHRoaXMud2lkdGgpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vZG9ubWNjdXJkeS90aHJlZS1nbHRmLXZpZXdlci9ibG9iL21hc3Rlci9zcmMvdmlld2VyLmpzXG5cbiAgICB0aGlzLnJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7IC8vIEltcG9ydGFudCB0byBnZXQgdGhlIGNvcnJlY3QgY29sb3JzLlxuXG4gICAgdGhpcy5yZW5kZXJlci5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cyA9IHRydWU7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKDB4MDAwMDAwKTsgLy8gdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKDB4RkZGRkZGLCAxLjApO1xuICAgIC8vIEFmZmVjdHMgaG93IHN0cm9uZ2x5IGxpZ2h0cyBjb21lIGV4cG9zZWQuXG4gICAgLy8gdGhpcy5yZW5kZXJlci50b25lTWFwcGluZ0V4cG9zdXJlID0gMC40O1xuXG4gICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7XG4gICAgdGhpcy5yZW5kZXJlci5nYW1tYU91dHB1dCA9IHRydWU7XG4gICAgdGhpcy5yZW5kZXJlci5nYW1tYUZhY3RvciA9IDIuMjsgLy8gVGhlIGNhbWVyYSBhc3BlY3QgZ29lcyBvZmYgc2luY2UgaXQgY291bGQgYmUgZXhwb3J0ZWQgYXQgYSBkaWZmZXJlbnRcbiAgICAvLyByYXRpby4gIEZvcmNlIHVwZGF0ZSB0aGUgYXNwZWN0IHJhdGlvLlxuICAgIC8vIHRoaXMuY2FtZXJhLmZvdiA9IHRoaXMud2lkdGggLyB0aGlzLmhlaWdodDtcblxuICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHRoaXMud2lkdGggLyB0aGlzLmhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gIH1cblxuICBnZXRBbmltYXRpb25CeU5hbWUobmFtZSkge1xuICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbnMuZmlsdGVyKGFuaW1hdGlvbkNsaXAgPT4ge1xuICAgICAgcmV0dXJuIGFuaW1hdGlvbkNsaXAubmFtZSA9PSBuYW1lO1xuICAgIH0pWzBdO1xuICB9XG5cbiAgZ2V0T2JqZWN0QnlOYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5hY3RpdmVTY2VuZS5jaGlsZHJlbi5maWx0ZXIob2JqZWN0M2QgPT4ge1xuICAgICAgcmV0dXJuIG9iamVjdDNkLm5hbWUgPT0gbmFtZTtcbiAgICB9KVswXTtcbiAgfVxuXG4gIG9uUmFmKCkge1xuICAgIC8vQW5pbWF0aW9uIE1peGVy44KS5a6f6KGMXG4gICAgaWYgKHRoaXMubWl4ZXIpIHtcbiAgICAgIHRoaXMubWl4ZXIudXBkYXRlKHRoaXMuY2xvY2suZ2V0RGVsdGEoKSk7XG4gICAgfSAvLyBjb25zdCBjYW1lcmFBbmltYXRpb24gPSB0aGlzLmdldEFuaW1hdGlvbkJ5TmFtZSgnY2FtZXJhLWFjdGlvbicpO1xuICAgIC8vIGNvbnN0IGFuaW1hdGlvbkFjdGlvbiA9IHRoaXMubWl4ZXIuY2xpcEFjdGlvbihjYW1lcmFBbmltYXRpb24pO1xuICAgIC8vIGNvbnNvbGUubG9nKGFuaW1hdGlvbkFjdGlvbik7XG4gICAgLy8gY29uc29sZS5sb2codGhpcy5taXhlcik7XG4gICAgLy8gY29uc3QgY2FtZXJhID0gdGhpcy5nZXRPYmplY3RCeU5hbWUoJ0NhbWVyYScpO1xuICAgIC8vIGNvbnNvbGUubG9nKGNhbWVyYS5wb3NpdGlvbik7XG4gICAgLy8gY29uc3QgY2FtZXJhID0gdGhpcy5jYW1lcmEucGFyZW50O1xuICAgIC8vIGlmKGNhbWVyYVBvc2l0aW9uKSB7XG4gICAgLy8gICB0aGlzLmNhbWVyYS5wb3NpdGlvbi5zZXQodGhpcy5jYW1lcmEucGFyZW50LnBvc2l0aW9uKTtcbiAgICAvLyAgIHRoaXMuY2FtZXJhLnNjYWxlLnNldChjYW1lcmEuc2NhbGUpO1xuICAgIC8vICAgdGhpcy5jYW1lcmEuc2V0Um90YXRpb25Gcm9tRXVsZXIodGhpcy5jYW1lcmEucm90YXRpb24pO1xuICAgIC8vIH1cbiAgICAvLyBNYWtlIGNhbWVyYSBmb2xsb3cgdGFyZ2V0IG9iamVjdC5cbiAgICAvLyBjb25zdCBjYW1lcmFUYXJnZXQgPSB0aGlzLmdldE9iamVjdEJ5TmFtZSgnY2FtZXJhLXRhcmdldCcpO1xuICAgIC8vIGlmIChjYW1lcmFUYXJnZXQpIHtcbiAgICAvLyAgICAgdGhpcy5jYW1lcmEubG9va0F0KGNhbWVyYVRhcmdldC5wb3NpdGlvbik7XG4gICAgLy8gfVxuICAgIC8vIHRoaXMuY2FtZXJhLnNjYWxlLnNldCh0aGlzLmNhbWVyYS5wYXJlbnQuc2NhbGUpO1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY2FtZXJhLnBvc2l0aW9uKTtcblxuXG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gVGhyZWVPYmplY3RWaWV3ZXI7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/three-object-viewer.js\n");

/***/ }),

/***/ "./examples/three-object-viewer10.js":
/*!*******************************************!*\
  !*** ./examples/three-object-viewer10.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _datguif = __webpack_require__(/*! ../lib/datguif/datguif */ \"./lib/datguif/datguif.js\");\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _GLTFLoader = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n\nvar _EffectComposer = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer */ \"./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _threef = __webpack_require__(/*! ../lib/threef/threef */ \"./lib/threef/threef.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n// https://svs.gsfc.nasa.gov/4720\n// https://threejs.org/docs/#api/en/materials/MeshStandardMaterial\n// https://qiita.com/adrs2002/items/dc6416d6fd2389c75ab5\n// https://qiita.com/cx20/items/2b86cb5052cd7c36038a\n// https://stackoverflow.com/questions/54283080/normal-map-values-with-threejs-gltf-blender-exporter?rq=1\n// The glTF format does not allow bump maps.  Use normal maps.\n// https://discourse.threejs.org/t/three-js-gltf-model-exported-from-editor-bump-map-not-rendering/10835\n//\n// - watch over exposure of normal map\n// - png based normal map works better? (jpg over exposed?)\n//\n// import { Raf } from '../lib/raf/raf';\nclass ThreeObjectViewer10 {\n  constructor() {\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.rafProgress = new _rafProgress.RafProgress();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.scrollLerp = 0.38;\n    this.scrollEase = 'easeInQuad';\n    this.textMarker1 = document.getElementById('text-marker1');\n    this.textMarker2 = document.getElementById('text-marker2');\n    this.textMarkers = [];\n    this.rendererConfig = {\n      clearColor: '#000000',\n      backgroundAlpha: 1.0\n    };\n    this.gui = new _datguif.Datguif({\n      load: JSON\n    });\n    this.gui.addFolder('Settings').open();\n    this.gui.addFolder('Renderer', 'Settings');\n    this.gui.addFolder('Camera', 'Settings');\n    this.gui.addFolder('Scroll', 'Settings');\n    this.gui.addFolder('Lights');\n    this.gui.addFolder('Objects');\n    this.gui.addObjectToFolder('Scroll', this, [{\n      keyName: 'scrollLerp',\n      min: 0,\n      max: 1,\n      step: 0.01\n    }, {\n      keyName: 'scrollEase',\n      options: ['linear', 'easeOutQuad', 'easeInQuad']\n    }]);\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight); //   this.rafProgress.easeTo(this.progress, 0.26, EASE.easeInOutExpo);\n        //   this.rafProgress.easeTo(this.progress, 0.08, EASE.linear);\n\n        this.rafProgress.easeTo(this.progress, this.scrollLerp, _ease.EASE[this.scrollEase]);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new THREE.Scene();\n    this.gui.onUpdate(prop => {\n      this.draw();\n    });\n    var loader = new _GLTFLoader.GLTFLoader();\n    const path = './public/moon/moon1.gltf';\n    loader.load(path, gltf => {\n      const gltfData = gltf.parser.json;\n\n      const getNodeByName = name => {\n        return gltfData.nodes.filter(node => {\n          return node.name = name;\n        })[0];\n      };\n\n      console.log('gltf data', gltfData);\n      this.clock = new THREE.Clock();\n      const scene = gltf.scenes[0];\n      this.activeScene = scene;\n      this.animations = gltf.animations; // Animation Mixer\n\n      this.mixer = new THREE.AnimationMixer(scene); //Animation Clip\n\n      for (var i = 0; i < this.animations.length; i++) {\n        var animation = this.animations[i]; //Animation Action\n\n        var action = this.mixer.clipAction(animation);\n        console.log('added', animation);\n        action.play();\n      }\n\n      this.scene.add(scene);\n      console.log('scene', scene);\n      console.log('mixer', this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      this.scene.traverse(child => {\n        if (child instanceof THREE.Light) {\n          // child.castShadow = true;\n          console.log(child.name);\n          console.log('light', child); // Debugging light positions.\n          // child.shadowCameraVisible = false;\n\n          if (child.shadow) {\n            // Adjust shadow bias.\n            // child.shadow.bias = -0.002;\n            // Remove the rigged looking shadows.\n            child.shadow.mapSize.width = 1024;\n            child.shadow.mapSize.height = 1024;\n            child.shadowDarkness = 1; // child.shadow.camera.near = 0;\n            // child.shadow.camera.far = 1000;\n            // var helper = new THREE.CameraHelper( child.shadow.camera );\n            // scene.add( helper );\n          } // child.layers.set(1);\n          // // Point lights are defined in watts which goes waay off in three.js\n\n\n          if (child instanceof THREE.PointLight) {\n            child.intensity = child.intensity * 0.05;\n          } // If it's a spot light, it needs to go down even more.\n\n\n          if (child.type == \"SpotLight\") {\n            child.intensity = child.intensity * 0.003;\n          }\n\n          this.gui.addFolder(child.name, 'Lights');\n          this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'intensity',\n            min: 0,\n            max: 3000\n          }, {\n            keyName: 'color'\n          }]);\n\n          if (child.shadow) {\n            const shadowFolderId = child.name + ' shadow'; // console.log(child.shadow);\n\n            this.gui.addFolder(shadowFolderId, child.name);\n            this.gui.addObjectToFolder(shadowFolderId, child.shadow, [{\n              keyName: 'bias',\n              min: -1,\n              max: 1,\n              step: 0.00001\n            }, {\n              keyName: 'radius',\n              min: 0,\n              max: 100,\n              step: 0.01\n            }]);\n          }\n        } else if (child instanceof THREE.Mesh) {\n          // child.geometry.computeVertexNormals(true);\n          console.log(child.name);\n          console.log('mesh', child); // If an object starts with 'text-' by convension, it will\n          // be considered a marker.\n\n          if (child.name.startsWith('text')) {\n            // Hide the marker\n            // This is important\n            child.visible = false;\n            this.textMarkers.push(child);\n          }\n\n          this.gui.addFolder(child.name, 'Objects');\n          this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'receiveShadow'\n          }]);\n\n          if (child.material) {\n            console.log('material', child.material);\n            const materialId = child.name + ' material';\n            this.gui.addFolder(materialId, child.name);\n            this.gui.addObjectToFolder(materialId, child.material, [{\n              keyName: 'emissiveIntensity',\n              min: 0,\n              max: 1\n            }, {\n              keyName: 'flatShading',\n              callback: () => {\n                child.material.needsUpdate = true;\n              }\n            }, {\n              keyName: 'wireframe',\n              callback: () => {\n                child.material.needsUpdate = true;\n              }\n            }]);\n\n            if (child.material.normalMap) {\n              console.log('normal map');\n              console.log(child.material.normalMap);\n              console.log(child.material.normalScale);\n            } // Enable smooth shading.\n            // child.material.flatShading = false;\n            // child.material.wireframe = false;\n            // child.material.needsUpdate = true;\n            // child.geometry.computeFaceNormals();\n            // child.geometry.computeVertexNormals(true);\n\n          }\n\n          if (child.name == 'Plane001') {\n            console.log('mesh', child);\n          } // Get the image mappings.\n          // if(child.material && child.material.map) {\n          //   child.material.map.needsUpdate = true;\n          // }\n\n        } else {// console.log('other', child);\n          }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n      this.camera = gltf.cameras[0];\n      console.log('camera', this.camera);\n      this.resize(); // Use fog to cover far distances.\n      // const color = 0x00000;\n      // this.scene.fog = new THREE.Fog(color, 5, 8);\n      // Enable shadows.\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      this.renderer.shadowMap.enabled = true; // To antialias the shadow\n\n      this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n      this.renderer.gammaOutput = true; // this.renderer.gammaFactor = 2.2;\n      // Important to get the correct colors.\n\n      this.renderer.physicallyCorrectLights = true; // Background as black.\n      // this.renderer.setClearColor(0x4287f5);\n\n      this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha); // Affects how strongly lights come exposed.\n      // https://threejs.org/examples/#webgl_tonemapping\n\n      this.renderer.toneMappingExposure = 1; // this.renderer.toneMappingExposure = 0.3;\n\n      this.renderer.toneMapping = THREE.ACESFilmicToneMapping;\n      this.gui.addObjectToFolder('Renderer', this.renderer, [{\n        keyName: 'toneMappingExposure',\n        min: 0,\n        max: 5,\n        step: 0.01\n      }, {\n        keyName: 'gammaFactor',\n        min: 0,\n        max: 10,\n        step: 0.01\n      }]);\n      this.gui.addObjectToFolder('Renderer', this.rendererConfig, [{\n        keyName: 'clearColor',\n        callback: () => {\n          this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n        }\n      }, {\n        keyName: 'backgroundAlpha',\n        callback: () => {\n          this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n        }\n      }]);\n      this.gui.addObjectToFolder('Camera', this.camera, [{\n        keyName: 'fov',\n        min: 0,\n        max: 50,\n        step: 0.01,\n        callback: () => {\n          this.camera.updateProjectionMatrix();\n        }\n      }, {\n        keyName: 'zoom',\n        min: 0,\n        max: 10,\n        step: 0.0001,\n        callback: () => {\n          this.camera.updateProjectionMatrix();\n        }\n      }]);\n      this.gui.addFolder('General Lights');\n      this.generalLightConfig = {\n        ambientLightColor: '#7395b3',\n        ambientLightAlpha: 0\n      }; // Additional lighting outside the blender.\n      // var light = new THREE.HemisphereLight( 0xffffff, 0x000000, 1 );\n      // this.scene.add( light );\n\n      this.ambientLight = new THREE.AmbientLight(this.generalLightConfig.ambientLightColor);\n      this.ambientLight.intensity = this.generalLightConfig.ambientLightAlpha;\n      scene.add(this.ambientLight);\n      this.gui.addObjectToFolder('General Lights', this.generalLightConfig, [{\n        keyName: 'ambientLightColor',\n        callback: () => {\n          this.ambientLight.color = new THREE.Color(this.generalLightConfig.ambientLightColor);\n        }\n      }, {\n        keyName: 'ambientLightAlpha',\n        callback: () => {\n          this.ambientLight.intensity = this.generalLightConfig.ambientLightAlpha;\n        }\n      }]); // var width = 50;\n      // var height = 50;\n      // var intensity = 0;\n      // var rectLight = new THREE.RectAreaLight('#FFFFFF', intensity,  width, height );\n      // rectLight.position.set( 0, 0, 25 );\n      // // rectLight.lookAt( 0, 0, 0 );\n      // this.scene.add( rectLight );\n      // rectLightHelper = new THREE.RectAreaLightHelper( rectLight );\n      // rectLight.add( rectLightHelper );\n\n      this.gui.addButton('Refresh', this.refresh.bind(this));\n      this.addStars(scene);\n    }, undefined, error => {\n      console.error(error);\n    });\n    this.renderer = new THREE.WebGLRenderer({\n      antialias: true,\n      // precision: 'highp'\n      autoSize: true\n    });\n    this.composer = new _EffectComposer.EffectComposer(this.renderer);\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  addStars(scene) {\n    for (var i = 0; i < 300; i++) {\n      var geometry = new THREE.SphereGeometry(0.5, 32, 32);\n      var material = new THREE.MeshBasicMaterial({\n        color: 0xffffff\n      });\n      var sphere = new THREE.Mesh(geometry, material);\n      sphere.position.x = _mathf.mathf.getRandomInt(-5, 5);\n      sphere.position.y = _mathf.mathf.getRandomInt(-5, 5);\n      sphere.position.z = _mathf.mathf.getRandomInt(-5, 5);\n      sphere.scale.x = sphere.scale.y = sphere.scale.z = 0.01;\n      scene.add(sphere);\n    }\n  }\n\n  resize() {\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.width = this.canvasContainer.parentElement.offsetWidth;\n    this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n    // https://threejs.org/docs/#api/en/constants/Renderer\n\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(this.width, this.height); // Post processing\n    // this.composer.setSize( this.width, this.height);\n    // const fxaaPass = new ShaderPass( FXAAShader );\n    // fxaaPass.material.uniforms[ 'resolution' ].value.x = 1 / ( this.width * window.devicePixelRatio);\n    // fxaaPass.material.uniforms[ 'resolution' ].value.y = 1 / ( this.height * window.devicePixelRatio);\n    // this.composer.addPass(fxaaPass);\n    // this.composer.addPass(new RenderPass(this.scene, this.camera));\n    // var bloomPass = new Unr2.2mealBloomPass(1, 25, 5, 256);\n    // this.composer.addPass(bloomPass);\n    // The camera aspect goes off since it could be exported at a different\n    // ratio.  Force update the aspect ratio.\n\n    this.camera.aspect = this.width / this.height;\n    this.camera.updateProjectionMatrix();\n  }\n\n  refresh() {\n    this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n    this.resize();\n    this.draw();\n  }\n\n  getAnimationByName(name) {\n    return this.animations.filter(animationClip => {\n      return animationClip.name == name;\n    })[0];\n  }\n\n  getObjectByName(name) {\n    return this.activeScene.children.filter(object3d => {\n      return object3d.name == name;\n    })[0];\n  }\n\n  onProgressUpdate(progress) {\n    //Animation Mixer\n    if (this.mixer) {\n      // We need to find out how long the animation is.\n      // The mixer appears to have no knowledge oft this so we need to\n      // look up a specific animation and get the duration to\n      // get the total duration of the animation.\n      const cameraAnimation = this.getAnimationByName('CameraAction');\n      const duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n      // frame so next allow it to reach the max value.\n\n      this.mixer.setTime(Math.min(duration * progress, duration - 1));\n    }\n\n    const getMarkerByName = name => {\n      return this.textMarkers.filter(marker => {\n        return marker.userData.name == name;\n      })[0];\n    }; // Text marker1.\n\n\n    const marker = getMarkerByName('text-marker1');\n\n    const domCoordinates = _threef.threef.toDomCoordinates(marker, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight); // Billboarded and not scaling.\n\n\n    domCoordinates.z = 1;\n\n    _threef.threef.applyVectorToDom(this.textMarker1, domCoordinates, null); // Text marker2.\n\n\n    const marker2 = getMarkerByName('text-marker2');\n\n    const domCoordinates2 = _threef.threef.toDomCoordinates(marker2, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight); // Billboarded and not scaling.\n\n\n    domCoordinates2.z = 1;\n\n    const domRotation2 = _threef.threef.toDomRotation(marker2, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight);\n\n    _threef.threef.applyVectorToDom(this.textMarker2, domCoordinates2, domRotation2);\n\n    this.draw();\n  }\n\n  draw() {\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = ThreeObjectViewer10;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyMTAuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyMTAuanM/YjU3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kYXRndWlmID0gcmVxdWlyZShcIi4uL2xpYi9kYXRndWlmL2RhdGd1aWZcIik7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfR0xURkxvYWRlciA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyXCIpO1xuXG52YXIgX0VmZmVjdENvbXBvc2VyID0gcmVxdWlyZShcInRocmVlL2V4YW1wbGVzL2pzbS9wb3N0cHJvY2Vzc2luZy9FZmZlY3RDb21wb3NlclwiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbnZhciBfcmFmUHJvZ3Jlc3MgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3NcIik7XG5cbnZhciBfZG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tXCIpO1xuXG52YXIgX2Vhc2UgPSByZXF1aXJlKFwiLi4vbGliL2Vhc2UvZWFzZVwiKTtcblxudmFyIF9tYXRoZiA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvbWF0aGZcIik7XG5cbnZhciBfdGhyZWVmID0gcmVxdWlyZShcIi4uL2xpYi90aHJlZWYvdGhyZWVmXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8vIGh0dHBzOi8vc3ZzLmdzZmMubmFzYS5nb3YvNDcyMFxuLy8gaHR0cHM6Ly90aHJlZWpzLm9yZy9kb2NzLyNhcGkvZW4vbWF0ZXJpYWxzL01lc2hTdGFuZGFyZE1hdGVyaWFsXG4vLyBodHRwczovL3FpaXRhLmNvbS9hZHJzMjAwMi9pdGVtcy9kYzY0MTZkNmZkMjM4OWM3NWFiNVxuLy8gaHR0cHM6Ly9xaWl0YS5jb20vY3gyMC9pdGVtcy8yYjg2Y2I1MDUyY2Q3YzM2MDM4YVxuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTQyODMwODAvbm9ybWFsLW1hcC12YWx1ZXMtd2l0aC10aHJlZWpzLWdsdGYtYmxlbmRlci1leHBvcnRlcj9ycT0xXG4vLyBUaGUgZ2xURiBmb3JtYXQgZG9lcyBub3QgYWxsb3cgYnVtcCBtYXBzLiAgVXNlIG5vcm1hbCBtYXBzLlxuLy8gaHR0cHM6Ly9kaXNjb3Vyc2UudGhyZWVqcy5vcmcvdC90aHJlZS1qcy1nbHRmLW1vZGVsLWV4cG9ydGVkLWZyb20tZWRpdG9yLWJ1bXAtbWFwLW5vdC1yZW5kZXJpbmcvMTA4MzVcbi8vXG4vLyAtIHdhdGNoIG92ZXIgZXhwb3N1cmUgb2Ygbm9ybWFsIG1hcFxuLy8gLSBwbmcgYmFzZWQgbm9ybWFsIG1hcCB3b3JrcyBiZXR0ZXI/IChqcGcgb3ZlciBleHBvc2VkPylcbi8vXG4vLyBpbXBvcnQgeyBSYWYgfSBmcm9tICcuLi9saWIvcmFmL3JhZic7XG5jbGFzcyBUaHJlZU9iamVjdFZpZXdlcjEwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc29sZS5sb2coJ1RocmVlSlMgT2JqZWN0IFZpZXdlciBEZW1vJyk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgX2RvbVdhdGNoZXIuRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MgPSBuZXcgX3JhZlByb2dyZXNzLlJhZlByb2dyZXNzKCk7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy53YXRjaCh0aGlzLm9uUHJvZ3Jlc3NVcGRhdGUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5zY3JvbGxMZXJwID0gMC4zODtcbiAgICB0aGlzLnNjcm9sbEVhc2UgPSAnZWFzZUluUXVhZCc7XG4gICAgdGhpcy50ZXh0TWFya2VyMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXh0LW1hcmtlcjEnKTtcbiAgICB0aGlzLnRleHRNYXJrZXIyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RleHQtbWFya2VyMicpO1xuICAgIHRoaXMudGV4dE1hcmtlcnMgPSBbXTtcbiAgICB0aGlzLnJlbmRlcmVyQ29uZmlnID0ge1xuICAgICAgY2xlYXJDb2xvcjogJyMwMDAwMDAnLFxuICAgICAgYmFja2dyb3VuZEFscGhhOiAxLjBcbiAgICB9O1xuICAgIHRoaXMuZ3VpID0gbmV3IF9kYXRndWlmLkRhdGd1aWYoe1xuICAgICAgbG9hZDogSlNPTlxuICAgIH0pO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignU2V0dGluZ3MnKS5vcGVuKCk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdSZW5kZXJlcicsICdTZXR0aW5ncycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignQ2FtZXJhJywgJ1NldHRpbmdzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdTY3JvbGwnLCAnU2V0dGluZ3MnKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ0xpZ2h0cycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignT2JqZWN0cycpO1xuICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdTY3JvbGwnLCB0aGlzLCBbe1xuICAgICAga2V5TmFtZTogJ3Njcm9sbExlcnAnLFxuICAgICAgbWluOiAwLFxuICAgICAgbWF4OiAxLFxuICAgICAgc3RlcDogMC4wMVxuICAgIH0sIHtcbiAgICAgIGtleU5hbWU6ICdzY3JvbGxFYXNlJyxcbiAgICAgIG9wdGlvbnM6IFsnbGluZWFyJywgJ2Vhc2VPdXRRdWFkJywgJ2Vhc2VJblF1YWQnXVxuICAgIH1dKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGNhbGxiYWNrOiBldmVudCA9PiB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBfZG9tLmRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCwgd2luZG93LmlubmVySGVpZ2h0KTsgLy8gICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjI2LCBFQVNFLmVhc2VJbk91dEV4cG8pO1xuICAgICAgICAvLyAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDAuMDgsIEVBU0UubGluZWFyKTtcblxuICAgICAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCB0aGlzLnNjcm9sbExlcnAsIF9lYXNlLkVBU0VbdGhpcy5zY3JvbGxFYXNlXSk7XG4gICAgICB9LFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgdGhpcy5ndWkub25VcGRhdGUocHJvcCA9PiB7XG4gICAgICB0aGlzLmRyYXcoKTtcbiAgICB9KTtcbiAgICB2YXIgbG9hZGVyID0gbmV3IF9HTFRGTG9hZGVyLkdMVEZMb2FkZXIoKTtcbiAgICBjb25zdCBwYXRoID0gJy4vcHVibGljL21vb24vbW9vbjEuZ2x0Zic7XG4gICAgbG9hZGVyLmxvYWQocGF0aCwgZ2x0ZiA9PiB7XG4gICAgICBjb25zdCBnbHRmRGF0YSA9IGdsdGYucGFyc2VyLmpzb247XG5cbiAgICAgIGNvbnN0IGdldE5vZGVCeU5hbWUgPSBuYW1lID0+IHtcbiAgICAgICAgcmV0dXJuIGdsdGZEYXRhLm5vZGVzLmZpbHRlcihub2RlID0+IHtcbiAgICAgICAgICByZXR1cm4gbm9kZS5uYW1lID0gbmFtZTtcbiAgICAgICAgfSlbMF07XG4gICAgICB9O1xuXG4gICAgICBjb25zb2xlLmxvZygnZ2x0ZiBkYXRhJywgZ2x0ZkRhdGEpO1xuICAgICAgdGhpcy5jbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpO1xuICAgICAgY29uc3Qgc2NlbmUgPSBnbHRmLnNjZW5lc1swXTtcbiAgICAgIHRoaXMuYWN0aXZlU2NlbmUgPSBzY2VuZTtcbiAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IGdsdGYuYW5pbWF0aW9uczsgLy8gQW5pbWF0aW9uIE1peGVy44Kk44Oz44K544K/44Oz44K544KS55Sf5oiQXG5cbiAgICAgIHRoaXMubWl4ZXIgPSBuZXcgVEhSRUUuQW5pbWF0aW9uTWl4ZXIoc2NlbmUpOyAvL+WFqOOBpuOBrkFuaW1hdGlvbiBDbGlw44Gr5a++44GX44GmXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbnNbaV07IC8vQW5pbWF0aW9uIEFjdGlvbuOCkueUn+aIkFxuXG4gICAgICAgIHZhciBhY3Rpb24gPSB0aGlzLm1peGVyLmNsaXBBY3Rpb24oYW5pbWF0aW9uKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2FkZGVkJywgYW5pbWF0aW9uKTtcbiAgICAgICAgYWN0aW9uLnBsYXkoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zY2VuZS5hZGQoc2NlbmUpO1xuICAgICAgY29uc29sZS5sb2coJ3NjZW5lJywgc2NlbmUpO1xuICAgICAgY29uc29sZS5sb2coJ21peGVyJywgdGhpcy5taXhlcik7IC8vIGh0dHA6Ly9sZWFybmluZ3RocmVlanMuY29tL2Jsb2cvMjAxMi8wMS8yMC9jYXN0aW5nLXNoYWRvd3MvXG5cbiAgICAgIHRoaXMuc2NlbmUudHJhdmVyc2UoY2hpbGQgPT4ge1xuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5MaWdodCkge1xuICAgICAgICAgIC8vIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGNoaWxkLm5hbWUpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdsaWdodCcsIGNoaWxkKTsgLy8gRGVidWdnaW5nIGxpZ2h0IHBvc2l0aW9ucy5cbiAgICAgICAgICAvLyBjaGlsZC5zaGFkb3dDYW1lcmFWaXNpYmxlID0gZmFsc2U7XG5cbiAgICAgICAgICBpZiAoY2hpbGQuc2hhZG93KSB7XG4gICAgICAgICAgICAvLyBBZGp1c3Qgc2hhZG93IGJpYXMuXG4gICAgICAgICAgICAvLyBjaGlsZC5zaGFkb3cuYmlhcyA9IC0wLjAwMjtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgcmlnZ2VkIGxvb2tpbmcgc2hhZG93cy5cbiAgICAgICAgICAgIGNoaWxkLnNoYWRvdy5tYXBTaXplLndpZHRoID0gMTAyNDtcbiAgICAgICAgICAgIGNoaWxkLnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IDEwMjQ7XG4gICAgICAgICAgICBjaGlsZC5zaGFkb3dEYXJrbmVzcyA9IDE7IC8vIGNoaWxkLnNoYWRvdy5jYW1lcmEubmVhciA9IDA7XG4gICAgICAgICAgICAvLyBjaGlsZC5zaGFkb3cuY2FtZXJhLmZhciA9IDEwMDA7XG4gICAgICAgICAgICAvLyB2YXIgaGVscGVyID0gbmV3IFRIUkVFLkNhbWVyYUhlbHBlciggY2hpbGQuc2hhZG93LmNhbWVyYSApO1xuICAgICAgICAgICAgLy8gc2NlbmUuYWRkKCBoZWxwZXIgKTtcbiAgICAgICAgICB9IC8vIGNoaWxkLmxheWVycy5zZXQoMSk7XG4gICAgICAgICAgLy8gLy8gUG9pbnQgbGlnaHRzIGFyZSBkZWZpbmVkIGluIHdhdHRzIHdoaWNoIGdvZXMgd2FheSBvZmYgaW4gdGhyZWUuanNcblxuXG4gICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuUG9pbnRMaWdodCkge1xuICAgICAgICAgICAgY2hpbGQuaW50ZW5zaXR5ID0gY2hpbGQuaW50ZW5zaXR5ICogMC4wNTtcbiAgICAgICAgICB9IC8vIElmIGl0J3MgYSBzcG90IGxpZ2h0LCBpdCBuZWVkcyB0byBnbyBkb3duIGV2ZW4gbW9yZS5cblxuXG4gICAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT0gXCJTcG90TGlnaHRcIikge1xuICAgICAgICAgICAgY2hpbGQuaW50ZW5zaXR5ID0gY2hpbGQuaW50ZW5zaXR5ICogMC4wMDM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5ndWkuYWRkRm9sZGVyKGNoaWxkLm5hbWUsICdMaWdodHMnKTtcbiAgICAgICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihjaGlsZC5uYW1lLCBjaGlsZCwgW3tcbiAgICAgICAgICAgIGtleU5hbWU6ICdjYXN0U2hhZG93J1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleU5hbWU6ICdpbnRlbnNpdHknLFxuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiAzMDAwXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5TmFtZTogJ2NvbG9yJ1xuICAgICAgICAgIH1dKTtcblxuICAgICAgICAgIGlmIChjaGlsZC5zaGFkb3cpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvd0ZvbGRlcklkID0gY2hpbGQubmFtZSArICcgc2hhZG93JzsgLy8gY29uc29sZS5sb2coY2hpbGQuc2hhZG93KTtcblxuICAgICAgICAgICAgdGhpcy5ndWkuYWRkRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5uYW1lKTtcbiAgICAgICAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5zaGFkb3csIFt7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdiaWFzJyxcbiAgICAgICAgICAgICAgbWluOiAtMSxcbiAgICAgICAgICAgICAgbWF4OiAxLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAwMDAxXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdyYWRpdXMnLFxuICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgIG1heDogMTAwLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAxXG4gICAgICAgICAgICB9XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaCkge1xuICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKHRydWUpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGNoaWxkLm5hbWUpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdtZXNoJywgY2hpbGQpOyAvLyBJZiBhbiBvYmplY3Qgc3RhcnRzIHdpdGggJ3RleHQtJyBieSBjb252ZW5zaW9uLCBpdCB3aWxsXG4gICAgICAgICAgLy8gYmUgY29uc2lkZXJlZCBhIG1hcmtlci5cblxuICAgICAgICAgIGlmIChjaGlsZC5uYW1lLnN0YXJ0c1dpdGgoJ3RleHQnKSkge1xuICAgICAgICAgICAgLy8gSGlkZSB0aGUgbWFya2VyXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGltcG9ydGFudFxuICAgICAgICAgICAgY2hpbGQudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy50ZXh0TWFya2Vycy5wdXNoKGNoaWxkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmd1aS5hZGRGb2xkZXIoY2hpbGQubmFtZSwgJ09iamVjdHMnKTtcbiAgICAgICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihjaGlsZC5uYW1lLCBjaGlsZCwgW3tcbiAgICAgICAgICAgIGtleU5hbWU6ICdjYXN0U2hhZG93J1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleU5hbWU6ICdyZWNlaXZlU2hhZG93J1xuICAgICAgICAgIH1dKTtcblxuICAgICAgICAgIGlmIChjaGlsZC5tYXRlcmlhbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ21hdGVyaWFsJywgY2hpbGQubWF0ZXJpYWwpO1xuICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWxJZCA9IGNoaWxkLm5hbWUgKyAnIG1hdGVyaWFsJztcbiAgICAgICAgICAgIHRoaXMuZ3VpLmFkZEZvbGRlcihtYXRlcmlhbElkLCBjaGlsZC5uYW1lKTtcbiAgICAgICAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKG1hdGVyaWFsSWQsIGNoaWxkLm1hdGVyaWFsLCBbe1xuICAgICAgICAgICAgICBrZXlOYW1lOiAnZW1pc3NpdmVJbnRlbnNpdHknLFxuICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgIG1heDogMVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBrZXlOYW1lOiAnZmxhdFNoYWRpbmcnLFxuICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBrZXlOYW1lOiAnd2lyZWZyYW1lJyxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjaGlsZC5tYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkLm1hdGVyaWFsLm5vcm1hbE1hcCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbm9ybWFsIG1hcCcpO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaGlsZC5tYXRlcmlhbC5ub3JtYWxNYXApO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaGlsZC5tYXRlcmlhbC5ub3JtYWxTY2FsZSk7XG4gICAgICAgICAgICB9IC8vIEVuYWJsZSBzbW9vdGggc2hhZGluZy5cbiAgICAgICAgICAgIC8vIGNoaWxkLm1hdGVyaWFsLmZsYXRTaGFkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBjaGlsZC5tYXRlcmlhbC53aXJlZnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGNoaWxkLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVGYWNlTm9ybWFscygpO1xuICAgICAgICAgICAgLy8gY2hpbGQuZ2VvbWV0cnkuY29tcHV0ZVZlcnRleE5vcm1hbHModHJ1ZSk7XG5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY2hpbGQubmFtZSA9PSAnUGxhbmUwMDEnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbWVzaCcsIGNoaWxkKTtcbiAgICAgICAgICB9IC8vIEdldCB0aGUgaW1hZ2UgbWFwcGluZ3MuXG4gICAgICAgICAgLy8gaWYoY2hpbGQubWF0ZXJpYWwgJiYgY2hpbGQubWF0ZXJpYWwubWFwKSB7XG4gICAgICAgICAgLy8gICBjaGlsZC5tYXRlcmlhbC5tYXAubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgIC8vIH1cblxuICAgICAgICB9IGVsc2Ugey8vIGNvbnNvbGUubG9nKCdvdGhlcicsIGNoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICB9KTsgLy8gU2V0IHRoZSBjYW1lcmEgZXhwb3J0ZWQgaW4gZ2x0Zi5cbiAgICAgIC8vIFJlcXVpcmVzIGNhbWVyYSB0byBiZSBleHBvcnRlZCBmb3IgZ2x0Zi5cblxuICAgICAgdGhpcy5jYW1lcmEgPSBnbHRmLmNhbWVyYXNbMF07XG4gICAgICBjb25zb2xlLmxvZygnY2FtZXJhJywgdGhpcy5jYW1lcmEpO1xuICAgICAgdGhpcy5yZXNpemUoKTsgLy8gVXNlIGZvZyB0byBjb3ZlciBmYXIgZGlzdGFuY2VzLlxuICAgICAgLy8gY29uc3QgY29sb3IgPSAweDAwMDAwO1xuICAgICAgLy8gdGhpcy5zY2VuZS5mb2cgPSBuZXcgVEhSRUUuRm9nKGNvbG9yLCA1LCA4KTtcbiAgICAgIC8vIEVuYWJsZSBzaGFkb3dzLlxuICAgICAgLy8gaHR0cHM6Ly90aHJlZWpzLm9yZy9kb2NzLyNhcGkvZW4vY29uc3RhbnRzL1JlbmRlcmVyXG5cbiAgICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlOyAvLyBUbyBhbnRpYWxpYXMgdGhlIHNoYWRvd1xuXG4gICAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcbiAgICAgIHRoaXMucmVuZGVyZXIuZ2FtbWFPdXRwdXQgPSB0cnVlOyAvLyB0aGlzLnJlbmRlcmVyLmdhbW1hRmFjdG9yID0gMi4yO1xuICAgICAgLy8gSW1wb3J0YW50IHRvIGdldCB0aGUgY29ycmVjdCBjb2xvcnMuXG5cbiAgICAgIHRoaXMucmVuZGVyZXIucGh5c2ljYWxseUNvcnJlY3RMaWdodHMgPSB0cnVlOyAvLyBCYWNrZ3JvdW5kIGFzIGJsYWNrLlxuICAgICAgLy8gdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKDB4NDI4N2Y1KTtcblxuICAgICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKHRoaXMucmVuZGVyZXJDb25maWcuY2xlYXJDb2xvciwgdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpOyAvLyBBZmZlY3RzIGhvdyBzdHJvbmdseSBsaWdodHMgY29tZSBleHBvc2VkLlxuICAgICAgLy8gaHR0cHM6Ly90aHJlZWpzLm9yZy9leGFtcGxlcy8jd2ViZ2xfdG9uZW1hcHBpbmdcblxuICAgICAgdGhpcy5yZW5kZXJlci50b25lTWFwcGluZ0V4cG9zdXJlID0gMTsgLy8gdGhpcy5yZW5kZXJlci50b25lTWFwcGluZ0V4cG9zdXJlID0gMC4zO1xuXG4gICAgICB0aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nID0gVEhSRUUuQUNFU0ZpbG1pY1RvbmVNYXBwaW5nO1xuICAgICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1JlbmRlcmVyJywgdGhpcy5yZW5kZXJlciwgW3tcbiAgICAgICAga2V5TmFtZTogJ3RvbmVNYXBwaW5nRXhwb3N1cmUnLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogNSxcbiAgICAgICAgc3RlcDogMC4wMVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnZ2FtbWFGYWN0b3InLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogMTAsXG4gICAgICAgIHN0ZXA6IDAuMDFcbiAgICAgIH1dKTtcbiAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdSZW5kZXJlcicsIHRoaXMucmVuZGVyZXJDb25maWcsIFt7XG4gICAgICAgIGtleU5hbWU6ICdjbGVhckNvbG9yJyxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCB0aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ2JhY2tncm91bmRBbHBoYScsXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKHRoaXMucmVuZGVyZXJDb25maWcuY2xlYXJDb2xvciwgdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpO1xuICAgICAgICB9XG4gICAgICB9XSk7XG4gICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignQ2FtZXJhJywgdGhpcy5jYW1lcmEsIFt7XG4gICAgICAgIGtleU5hbWU6ICdmb3YnLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogNTAsXG4gICAgICAgIHN0ZXA6IDAuMDEsXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleU5hbWU6ICd6b29tJyxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDEwLFxuICAgICAgICBzdGVwOiAwLjAwMDEsXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICB9XSk7XG4gICAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ0dlbmVyYWwgTGlnaHRzJyk7XG4gICAgICB0aGlzLmdlbmVyYWxMaWdodENvbmZpZyA9IHtcbiAgICAgICAgYW1iaWVudExpZ2h0Q29sb3I6ICcjNzM5NWIzJyxcbiAgICAgICAgYW1iaWVudExpZ2h0QWxwaGE6IDBcbiAgICAgIH07IC8vIEFkZGl0aW9uYWwgbGlnaHRpbmcgb3V0c2lkZSB0aGUgYmxlbmRlci5cbiAgICAgIC8vIHZhciBsaWdodCA9IG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQoIDB4ZmZmZmZmLCAweDAwMDAwMCwgMSApO1xuICAgICAgLy8gdGhpcy5zY2VuZS5hZGQoIGxpZ2h0ICk7XG5cbiAgICAgIHRoaXMuYW1iaWVudExpZ2h0ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodCh0aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRDb2xvcik7XG4gICAgICB0aGlzLmFtYmllbnRMaWdodC5pbnRlbnNpdHkgPSB0aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRBbHBoYTtcbiAgICAgIHNjZW5lLmFkZCh0aGlzLmFtYmllbnRMaWdodCk7XG4gICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignR2VuZXJhbCBMaWdodHMnLCB0aGlzLmdlbmVyYWxMaWdodENvbmZpZywgW3tcbiAgICAgICAga2V5TmFtZTogJ2FtYmllbnRMaWdodENvbG9yJyxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmFtYmllbnRMaWdodC5jb2xvciA9IG5ldyBUSFJFRS5Db2xvcih0aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRDb2xvcik7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ2FtYmllbnRMaWdodEFscGhhJyxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmFtYmllbnRMaWdodC5pbnRlbnNpdHkgPSB0aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRBbHBoYTtcbiAgICAgICAgfVxuICAgICAgfV0pOyAvLyB2YXIgd2lkdGggPSA1MDtcbiAgICAgIC8vIHZhciBoZWlnaHQgPSA1MDtcbiAgICAgIC8vIHZhciBpbnRlbnNpdHkgPSAwO1xuICAgICAgLy8gdmFyIHJlY3RMaWdodCA9IG5ldyBUSFJFRS5SZWN0QXJlYUxpZ2h0KCcjRkZGRkZGJywgaW50ZW5zaXR5LCAgd2lkdGgsIGhlaWdodCApO1xuICAgICAgLy8gcmVjdExpZ2h0LnBvc2l0aW9uLnNldCggMCwgMCwgMjUgKTtcbiAgICAgIC8vIC8vIHJlY3RMaWdodC5sb29rQXQoIDAsIDAsIDAgKTtcbiAgICAgIC8vIHRoaXMuc2NlbmUuYWRkKCByZWN0TGlnaHQgKTtcbiAgICAgIC8vIHJlY3RMaWdodEhlbHBlciA9IG5ldyBUSFJFRS5SZWN0QXJlYUxpZ2h0SGVscGVyKCByZWN0TGlnaHQgKTtcbiAgICAgIC8vIHJlY3RMaWdodC5hZGQoIHJlY3RMaWdodEhlbHBlciApO1xuXG4gICAgICB0aGlzLmd1aS5hZGRCdXR0b24oJ1JlZnJlc2gnLCB0aGlzLnJlZnJlc2guYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLmFkZFN0YXJzKHNjZW5lKTtcbiAgICB9LCB1bmRlZmluZWQsIGVycm9yID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH0pO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7XG4gICAgICBhbnRpYWxpYXM6IHRydWUsXG4gICAgICAvLyBwcmVjaXNpb246ICdoaWdocCdcbiAgICAgIGF1dG9TaXplOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5jb21wb3NlciA9IG5ldyBfRWZmZWN0Q29tcG9zZXIuRWZmZWN0Q29tcG9zZXIodGhpcy5yZW5kZXJlcik7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUuYmluZCh0aGlzKSwgZmFsc2UpO1xuICB9XG5cbiAgYWRkU3RhcnMoc2NlbmUpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDMwMDsgaSsrKSB7XG4gICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoMC41LCAzMiwgMzIpO1xuICAgICAgdmFyIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgICAgY29sb3I6IDB4ZmZmZmZmXG4gICAgICB9KTtcbiAgICAgIHZhciBzcGhlcmUgPSBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgICAgc3BoZXJlLnBvc2l0aW9uLnggPSBfbWF0aGYubWF0aGYuZ2V0UmFuZG9tSW50KC01LCA1KTtcbiAgICAgIHNwaGVyZS5wb3NpdGlvbi55ID0gX21hdGhmLm1hdGhmLmdldFJhbmRvbUludCgtNSwgNSk7XG4gICAgICBzcGhlcmUucG9zaXRpb24ueiA9IF9tYXRoZi5tYXRoZi5nZXRSYW5kb21JbnQoLTUsIDUpO1xuICAgICAgc3BoZXJlLnNjYWxlLnggPSBzcGhlcmUuc2NhbGUueSA9IHNwaGVyZS5zY2FsZS56ID0gMC4wMTtcbiAgICAgIHNjZW5lLmFkZChzcGhlcmUpO1xuICAgIH1cbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgX2Vhc2UuRUFTRS5MaW5lYXIpO1xuICAgIHRoaXMud2lkdGggPSB0aGlzLmNhbnZhc0NvbnRhaW5lci5wYXJlbnRFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5jYW52YXNDb250YWluZXIucGFyZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kb25tY2N1cmR5L3RocmVlLWdsdGYtdmlld2VyL2Jsb2IvbWFzdGVyL3NyYy92aWV3ZXIuanNcbiAgICAvLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9jb25zdGFudHMvUmVuZGVyZXJcblxuICAgIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTsgLy8gUG9zdCBwcm9jZXNzaW5nXG4gICAgLy8gdGhpcy5jb21wb3Nlci5zZXRTaXplKCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgLy8gY29uc3QgZnhhYVBhc3MgPSBuZXcgU2hhZGVyUGFzcyggRlhBQVNoYWRlciApO1xuICAgIC8vIGZ4YWFQYXNzLm1hdGVyaWFsLnVuaWZvcm1zWyAncmVzb2x1dGlvbicgXS52YWx1ZS54ID0gMSAvICggdGhpcy53aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAvLyBmeGFhUGFzcy5tYXRlcmlhbC51bmlmb3Jtc1sgJ3Jlc29sdXRpb24nIF0udmFsdWUueSA9IDEgLyAoIHRoaXMuaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgIC8vIHRoaXMuY29tcG9zZXIuYWRkUGFzcyhmeGFhUGFzcyk7XG4gICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKG5ldyBSZW5kZXJQYXNzKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKSk7XG4gICAgLy8gdmFyIGJsb29tUGFzcyA9IG5ldyBVbnIyLjJtZWFsQmxvb21QYXNzKDEsIDI1LCA1LCAyNTYpO1xuICAgIC8vIHRoaXMuY29tcG9zZXIuYWRkUGFzcyhibG9vbVBhc3MpO1xuICAgIC8vIFRoZSBjYW1lcmEgYXNwZWN0IGdvZXMgb2ZmIHNpbmNlIGl0IGNvdWxkIGJlIGV4cG9ydGVkIGF0IGEgZGlmZmVyZW50XG4gICAgLy8gcmF0aW8uICBGb3JjZSB1cGRhdGUgdGhlIGFzcGVjdCByYXRpby5cblxuICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHRoaXMud2lkdGggLyB0aGlzLmhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gIH1cblxuICByZWZyZXNoKCkge1xuICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcih0aGlzLnJlbmRlcmVyQ29uZmlnLmNsZWFyQ29sb3IsIHRoaXMucmVuZGVyZXJDb25maWcuYmFja2dyb3VuZEFscGhhKTtcbiAgICB0aGlzLnJlc2l6ZSgpO1xuICAgIHRoaXMuZHJhdygpO1xuICB9XG5cbiAgZ2V0QW5pbWF0aW9uQnlOYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5hbmltYXRpb25zLmZpbHRlcihhbmltYXRpb25DbGlwID0+IHtcbiAgICAgIHJldHVybiBhbmltYXRpb25DbGlwLm5hbWUgPT0gbmFtZTtcbiAgICB9KVswXTtcbiAgfVxuXG4gIGdldE9iamVjdEJ5TmFtZShuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZlU2NlbmUuY2hpbGRyZW4uZmlsdGVyKG9iamVjdDNkID0+IHtcbiAgICAgIHJldHVybiBvYmplY3QzZC5uYW1lID09IG5hbWU7XG4gICAgfSlbMF07XG4gIH1cblxuICBvblByb2dyZXNzVXBkYXRlKHByb2dyZXNzKSB7XG4gICAgLy9BbmltYXRpb24gTWl4ZXLjgpLlrp/ooYxcbiAgICBpZiAodGhpcy5taXhlcikge1xuICAgICAgLy8gV2UgbmVlZCB0byBmaW5kIG91dCBob3cgbG9uZyB0aGUgYW5pbWF0aW9uIGlzLlxuICAgICAgLy8gVGhlIG1peGVyIGFwcGVhcnMgdG8gaGF2ZSBubyBrbm93bGVkZ2Ugb2Z0IHRoaXMgc28gd2UgbmVlZCB0b1xuICAgICAgLy8gbG9vayB1cCBhIHNwZWNpZmljIGFuaW1hdGlvbiBhbmQgZ2V0IHRoZSBkdXJhdGlvbiB0b1xuICAgICAgLy8gZ2V0IHRoZSB0b3RhbCBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uLlxuICAgICAgY29uc3QgY2FtZXJhQW5pbWF0aW9uID0gdGhpcy5nZXRBbmltYXRpb25CeU5hbWUoJ0NhbWVyYUFjdGlvbicpO1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBjYW1lcmFBbmltYXRpb24uZHVyYXRpb247IC8vIFdoZW4gZHVyYXRpb24gaGl0cyBpdCdzIG1heCwgYW5pbWF0aW9uTWl4ZXIgc2VlbXMgdG8gaGl0IHRoZSBmaXJzdFxuICAgICAgLy8gZnJhbWUgc28gbmV4dCBhbGxvdyBpdCB0byByZWFjaCB0aGUgbWF4IHZhbHVlLlxuXG4gICAgICB0aGlzLm1peGVyLnNldFRpbWUoTWF0aC5taW4oZHVyYXRpb24gKiBwcm9ncmVzcywgZHVyYXRpb24gLSAxKSk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0TWFya2VyQnlOYW1lID0gbmFtZSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0TWFya2Vycy5maWx0ZXIobWFya2VyID0+IHtcbiAgICAgICAgcmV0dXJuIG1hcmtlci51c2VyRGF0YS5uYW1lID09IG5hbWU7XG4gICAgICB9KVswXTtcbiAgICB9OyAvLyBUZXh0IG1hcmtlcjEuXG5cblxuICAgIGNvbnN0IG1hcmtlciA9IGdldE1hcmtlckJ5TmFtZSgndGV4dC1tYXJrZXIxJyk7XG5cbiAgICBjb25zdCBkb21Db29yZGluYXRlcyA9IF90aHJlZWYudGhyZWVmLnRvRG9tQ29vcmRpbmF0ZXMobWFya2VyLCB0aGlzLmNhbWVyYSwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0V2lkdGgsIHRoaXMuY2FudmFzQ29udGFpbmVyLm9mZnNldEhlaWdodCk7IC8vIEJpbGxib2FyZGVkIGFuZCBub3Qgc2NhbGluZy5cblxuXG4gICAgZG9tQ29vcmRpbmF0ZXMueiA9IDE7XG5cbiAgICBfdGhyZWVmLnRocmVlZi5hcHBseVZlY3RvclRvRG9tKHRoaXMudGV4dE1hcmtlcjEsIGRvbUNvb3JkaW5hdGVzLCBudWxsKTsgLy8gVGV4dCBtYXJrZXIyLlxuXG5cbiAgICBjb25zdCBtYXJrZXIyID0gZ2V0TWFya2VyQnlOYW1lKCd0ZXh0LW1hcmtlcjInKTtcblxuICAgIGNvbnN0IGRvbUNvb3JkaW5hdGVzMiA9IF90aHJlZWYudGhyZWVmLnRvRG9tQ29vcmRpbmF0ZXMobWFya2VyMiwgdGhpcy5jYW1lcmEsIHRoaXMuY2FudmFzQ29udGFpbmVyLm9mZnNldFdpZHRoLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRIZWlnaHQpOyAvLyBCaWxsYm9hcmRlZCBhbmQgbm90IHNjYWxpbmcuXG5cblxuICAgIGRvbUNvb3JkaW5hdGVzMi56ID0gMTtcblxuICAgIGNvbnN0IGRvbVJvdGF0aW9uMiA9IF90aHJlZWYudGhyZWVmLnRvRG9tUm90YXRpb24obWFya2VyMiwgdGhpcy5jYW1lcmEsIHRoaXMuY2FudmFzQ29udGFpbmVyLm9mZnNldFdpZHRoLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRIZWlnaHQpO1xuXG4gICAgX3RocmVlZi50aHJlZWYuYXBwbHlWZWN0b3JUb0RvbSh0aGlzLnRleHRNYXJrZXIyLCBkb21Db29yZGluYXRlczIsIGRvbVJvdGF0aW9uMik7XG5cbiAgICB0aGlzLmRyYXcoKTtcbiAgfVxuXG4gIGRyYXcoKSB7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gVGhyZWVPYmplY3RWaWV3ZXIxMDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/three-object-viewer10.js\n");

/***/ }),

/***/ "./examples/three-object-viewer11.js":
/*!*******************************************!*\
  !*** ./examples/three-object-viewer11.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _datguif = __webpack_require__(/*! ../lib/datguif/datguif */ \"./lib/datguif/datguif.js\");\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _GLTFLoader = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n\nvar _EffectComposer = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer */ \"./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n\nvar _RenderPass = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/RenderPass.js\");\n\nvar _UnrealBloomPass = __webpack_require__(/*! three/examples/jsm/postprocessing/UnrealBloomPass.js */ \"./node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js\");\n\nvar _FXAAShader = __webpack_require__(/*! three/examples/jsm/shaders/FXAAShader.js */ \"./node_modules/three/examples/jsm/shaders/FXAAShader.js\");\n\nvar _ShaderPass = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/ShaderPass.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _threef = __webpack_require__(/*! ../lib/threef/threef */ \"./lib/threef/threef.js\");\n\nvar _minimatch = __webpack_require__(/*! minimatch */ \"./node_modules/minimatch/minimatch.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n// https://svs.gsfc.nasa.gov/4720\n// https://threejs.org/docs/#api/en/materials/MeshStandardMaterial\n// https://qiita.com/adrs2002/items/dc6416d6fd2389c75ab5\n// https://qiita.com/cx20/items/2b86cb5052cd7c36038a\n// https://stackoverflow.com/questions/54283080/normal-map-values-with-threejs-gltf-blender-exporter?rq=1\n// The glTF format does not allow bump maps.  Use normal maps.\n// https://discourse.threejs.org/t/three-js-gltf-model-exported-from-editor-bump-map-not-rendering/10835\n//\n// - watch over exposure of normal map\n// - png based normal map works better? (jpg over exposed?)\n//\n// import { Raf } from '../lib/raf/raf';\nclass ThreeObjectViewer11 {\n  constructor() {\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.rafProgress = new _rafProgress.RafProgress();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.scrollLerp = 0.38;\n    this.scrollEase = 'easeInQuad';\n    this.domCamera = document.getElementById('canvas-dom-camera');\n    this.textMarker1 = document.getElementById('text-marker1');\n    this.textMarker2 = document.getElementById('text-marker2');\n    this.textMarker3 = document.getElementById('text-marker3');\n    this.textMarker4 = document.getElementById('text-marker4');\n    this.textMarker5 = document.getElementById('text-marker5');\n    this.textMarker6 = document.getElementById('text-marker6');\n    this.textMarkers = [];\n    this.rendererConfig = {\n      clearColor: '#000000',\n      backgroundAlpha: 1.0\n    };\n    this.gui = new _datguif.Datguif({\n      load: JSON\n    });\n    this.gui.addFolder('Settings').open();\n    this.gui.addFolder('Renderer', 'Settings');\n    this.gui.addFolder('Camera', 'Settings');\n    this.gui.addFolder('Scroll', 'Settings');\n    this.gui.addFolder('Lights');\n    this.gui.addFolder('Objects');\n    this.gui.addObjectToFolder('Scroll', this, [{\n      keyName: 'scrollLerp',\n      min: 0,\n      max: 1,\n      step: 0.01\n    }, {\n      keyName: 'scrollEase',\n      options: ['linear', 'easeOutQuad', 'easeInQuad']\n    }]);\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight); //   this.rafProgress.easeTo(this.progress, 0.26, EASE.easeInOutExpo);\n        //   this.rafProgress.easeTo(this.progress, 0.08, EASE.linear);\n\n        this.rafProgress.easeTo(this.progress, this.scrollLerp, _ease.EASE[this.scrollEase]);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new THREE.Scene();\n    this.gui.onUpdate(prop => {\n      this.draw();\n    });\n    var loader = new _GLTFLoader.GLTFLoader();\n    const path = './public/moon/three-object-viewer11.gltf';\n    loader.load(path, gltf => {\n      const gltfData = gltf.parser.json;\n\n      const getNodeByName = name => {\n        return gltfData.nodes.filter(node => {\n          return node.name = name;\n        })[0];\n      };\n\n      console.log('gltf data', gltfData);\n      this.clock = new THREE.Clock();\n      const scene = gltf.scenes[0];\n      this.activeScene = scene;\n      this.animations = gltf.animations; // Animation Mixer\n\n      this.mixer = new THREE.AnimationMixer(scene); //Animation Clip\n\n      for (var i = 0; i < this.animations.length; i++) {\n        var animation = this.animations[i]; //Animation Action\n\n        var action = this.mixer.clipAction(animation);\n        console.log('added', animation);\n        action.play();\n      }\n\n      this.scene.add(scene);\n      console.log('scene', scene);\n      console.log('mixer', this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      this.scene.traverse(child => {\n        if (child instanceof THREE.Light) {\n          // child.castShadow = true;\n          console.log(child.name);\n          console.log('light', child); // Debugging light positions.\n          // child.shadowCameraVisible = false;\n\n          if (child.shadow) {\n            // Adjust shadow bias.\n            // child.shadow.bias = -0.002;\n            // Remove the rigged looking shadows.\n            child.shadow.mapSize.width = 1024;\n            child.shadow.mapSize.height = 1024;\n            child.shadowDarkness = 1; // child.shadow.camera.near = 0;\n            // child.shadow.camera.far = 1000;\n            // var helper = new THREE.CameraHelper( child.shadow.camera );\n            // scene.add( helper );\n          } // child.layers.set(1);\n          // // Point lights are defined in watts which goes waay off in three.js\n\n\n          if (child instanceof THREE.PointLight) {\n            child.intensity = child.intensity * 0.05;\n          } // If it's a spot light, it needs to go down even more.\n\n\n          if (child.type == \"SpotLight\") {\n            child.intensity = child.intensity * 0.003;\n          }\n\n          this.gui.addFolder(child.name, 'Lights');\n          this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'intensity',\n            min: 0,\n            max: 3000\n          }, {\n            keyName: 'color'\n          }]);\n\n          if (child.shadow) {\n            const shadowFolderId = child.name + ' shadow'; // console.log(child.shadow);\n\n            this.gui.addFolder(shadowFolderId, child.name);\n            this.gui.addObjectToFolder(shadowFolderId, child.shadow, [{\n              keyName: 'bias',\n              min: -1,\n              max: 1,\n              step: 0.00001\n            }, {\n              keyName: 'radius',\n              min: 0,\n              max: 100,\n              step: 0.01\n            }]);\n          }\n        } else if (child instanceof THREE.Mesh) {\n          // child.geometry.computeVertexNormals(true);\n          console.log(child.name);\n          console.log('mesh', child); // If an object starts with 'text-' by convension, it will\n          // be considered a marker.\n\n          if (child.name.startsWith('text')) {\n            // Hide the marker\n            // child.visible = false;\n            this.textMarkers.push(child);\n          }\n\n          this.gui.addFolder(child.name, 'Objects');\n          this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'receiveShadow'\n          }]);\n\n          if (child.material) {\n            console.log('material', child.material);\n            const materialId = child.name + ' material';\n            this.gui.addFolder(materialId, child.name);\n            this.gui.addObjectToFolder(materialId, child.material, [{\n              keyName: 'emissiveIntensity',\n              min: 0,\n              max: 1\n            }, {\n              keyName: 'flatShading',\n              callback: () => {\n                child.material.needsUpdate = true;\n              }\n            }, {\n              keyName: 'wireframe',\n              callback: () => {\n                child.material.needsUpdate = true;\n              }\n            }]);\n\n            if (child.material.normalMap) {\n              console.log('normal map');\n              console.log(child.material.normalMap);\n              console.log(child.material.normalScale);\n            } // Enable smooth shading.\n            // child.material.flatShading = false;\n            // child.material.wireframe = false;\n            // child.material.needsUpdate = true;\n            // child.geometry.computeFaceNormals();\n            // child.geometry.computeVertexNormals(true);\n\n          }\n\n          if (child.name == 'Plane001') {\n            console.log('mesh', child);\n          } // Get the image mappings.\n          // if(child.material && child.material.map) {\n          //   child.material.map.needsUpdate = true;\n          // }\n\n        } else {// console.log('other', child);\n          }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n      this.camera = gltf.cameras[0];\n      console.log('camera', this.camera);\n      this.resize(); // Use fog to cover far distances.\n      // const color = 0x00000;\n      // this.scene.fog = new THREE.Fog(color, 5, 8);\n      // Enable shadows.\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      this.renderer.shadowMap.enabled = true; // To antialias the shadow\n\n      this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n      this.renderer.gammaOutput = true; // this.renderer.gammaFactor = 2.2;\n      // Important to get the correct colors.\n\n      this.renderer.physicallyCorrectLights = true; // Background as black.\n      // this.renderer.setClearColor(0x4287f5);\n\n      this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha); // Affects how strongly lights come exposed.\n      // https://threejs.org/examples/#webgl_tonemapping\n\n      this.renderer.toneMappingExposure = 1; // this.renderer.toneMappingExposure = 0.3;\n\n      this.renderer.toneMapping = THREE.ACESFilmicToneMapping;\n      this.gui.addObjectToFolder('Renderer', this.renderer, [{\n        keyName: 'toneMappingExposure',\n        min: 0,\n        max: 5,\n        step: 0.01\n      }, {\n        keyName: 'gammaFactor',\n        min: 0,\n        max: 10,\n        step: 0.01\n      }]);\n      this.gui.addObjectToFolder('Renderer', this.rendererConfig, [{\n        keyName: 'clearColor',\n        callback: () => {\n          this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n        }\n      }, {\n        keyName: 'backgroundAlpha',\n        callback: () => {\n          this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n        }\n      }]);\n      this.gui.addObjectToFolder('Camera', this.camera, [{\n        keyName: 'fov',\n        min: 0,\n        max: 50,\n        step: 0.01,\n        callback: () => {\n          this.camera.updateProjectionMatrix();\n        }\n      }, {\n        keyName: 'zoom',\n        min: 0,\n        max: 10,\n        step: 0.0001,\n        callback: () => {\n          this.camera.updateProjectionMatrix();\n        }\n      }]);\n      this.gui.addFolder('General Lights');\n      this.generalLightConfig = {\n        ambientLightColor: '#FFFFFF',\n        ambientLightAlpha: 1\n      }; // Additional lighting outside the blender.\n      // var light = new THREE.HemisphereLight( 0xffffff, 0x000000, 1 );\n      // this.scene.add( light );\n\n      this.ambientLight = new THREE.AmbientLight(this.generalLightConfig.ambientLightColor);\n      this.ambientLight.intensity = this.generalLightConfig.ambientLightAlpha;\n      scene.add(this.ambientLight);\n      this.gui.addObjectToFolder('General Lights', this.generalLightConfig, [{\n        keyName: 'ambientLightColor',\n        callback: () => {\n          this.ambientLight.color = new THREE.Color(this.generalLightConfig.ambientLightColor);\n        }\n      }, {\n        keyName: 'ambientLightAlpha',\n        callback: () => {\n          this.ambientLight.intensity = this.generalLightConfig.ambientLightAlpha;\n        }\n      }]);\n      this.gui.addButton('Refresh', this.refresh.bind(this));\n    }, undefined, error => {\n      console.error(error);\n    });\n    this.renderer = new THREE.WebGLRenderer({\n      antialias: true,\n      // precision: 'highp'\n      autoSize: true\n    });\n    this.composer = new _EffectComposer.EffectComposer(this.renderer);\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  resize() {\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.width = this.canvasContainer.parentElement.offsetWidth;\n    this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n    // https://threejs.org/docs/#api/en/constants/Renderer\n\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(this.width, this.height); // Post processing\n    // this.composer.setSize( this.width, this.height);\n    // const fxaaPass = new ShaderPass( FXAAShader );\n    // fxaaPass.material.uniforms[ 'resolution' ].value.x = 1 / ( this.width * window.devicePixelRatio);\n    // fxaaPass.material.uniforms[ 'resolution' ].value.y = 1 / ( this.height * window.devicePixelRatio);\n    // this.composer.addPass(fxaaPass);\n    // this.composer.addPass(new RenderPass(this.scene, this.camera));\n    // var bloomPass = new Unr2.2mealBloomPass(1, 25, 5, 256);\n    // this.composer.addPass(bloomPass);\n    // The camera aspect goes off since it could be exported at a different\n    // ratio.  Force update the aspect ratio.\n\n    this.camera.aspect = this.width / this.height;\n    this.camera.updateProjectionMatrix();\n  }\n\n  refresh() {\n    this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n    this.resize();\n    this.draw();\n  }\n\n  getAnimationByName(name) {\n    return this.animations.filter(animationClip => {\n      return animationClip.name == name;\n    })[0];\n  }\n\n  getObjectByName(name) {\n    return this.activeScene.children.filter(object3d => {\n      return object3d.name == name;\n    })[0];\n  }\n\n  onProgressUpdate(progress) {\n    //Animation Mixer\n    if (this.mixer) {\n      // We need to find out how long the animation is.\n      // The mixer appears to have no knowledge oft this so we need to\n      // look up a specific animation and get the duration to\n      // get the total duration of the animation.\n      const cameraAnimation = this.getAnimationByName('CameraAction');\n      const duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n      // frame so next allow it to reach the max value.\n\n      this.mixer.setTime(Math.min(duration * progress, duration - 0.01));\n    }\n\n    const getMarkerByName = name => {\n      return this.textMarkers.filter(marker => {\n        return marker.userData.name == name;\n      })[0];\n    };\n\n    this.draw(); // Text marker1.\n\n    const marker = getMarkerByName('text-marker1');\n\n    const domCoordinates = _threef.threef.toDomCoordinates(marker, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight); // Billboarded and not scaling.\n\n\n    const domRotation = _threef.threef.toDomRotation(marker, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight);\n\n    _threef.threef.applyVectorToDom(this.textMarker1, domCoordinates, domRotation); // Text marker2.\n\n\n    const marker2 = getMarkerByName('text-marker2');\n\n    const domCoordinates2 = _threef.threef.toDomCoordinates(marker2, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight);\n\n    const domRotation2 = _threef.threef.toDomRotation(marker2, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight);\n\n    _threef.threef.applyVectorToDom(this.textMarker2, domCoordinates2, domRotation2); // Text marker3.\n\n\n    const marker3 = getMarkerByName('text-marker3');\n\n    const domCoordinates3 = _threef.threef.toDomCoordinates(marker3, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight);\n\n    const domRotation3 = _threef.threef.toDomRotation(marker3, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight);\n\n    _threef.threef.applyVectorToDom(this.textMarker3, domCoordinates3, domRotation3);\n\n    const marker4 = getMarkerByName('text-marker4');\n\n    const domCoordinates4 = _threef.threef.toDomCoordinates(marker4, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight, 0.3);\n\n    const domRotation4 = _threef.threef.toDomRotation(marker4, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight);\n\n    _threef.threef.applyVectorToDom(this.textMarker4, domCoordinates4, domRotation4);\n\n    const marker5 = getMarkerByName('text-marker5');\n\n    const domCoordinates5 = _threef.threef.toDomCoordinates(marker5, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight, 0.3);\n\n    const domRotation5 = _threef.threef.toDomRotation(marker5, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight);\n\n    _threef.threef.applyVectorToDom(this.textMarker5, domCoordinates5, domRotation5); // Billboarding sample.\n    // Notice how rotation is not applied.\n    // domCoodinates also don't pass a scale value so the text maintains it's original scale.\n\n\n    const marker6 = getMarkerByName('text-marker6');\n\n    const domBoundingRect = _threef.threef.toDomBoundingRect(marker6, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight);\n\n    const domCoordinates6 = _threef.threef.toDomCoordinates(marker6, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight); // Set to the topRight corner of an element.\n\n\n    _threef.threef.applyVectorToDom(this.textMarker6, {\n      x: domBoundingRect.topRight.x,\n      y: domBoundingRect.topRight.y,\n      z: 1.0\n    });\n\n    console.log(domBoundingRect);\n  }\n\n  draw() {\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = ThreeObjectViewer11;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyMTEuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyMTEuanM/MTBjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kYXRndWlmID0gcmVxdWlyZShcIi4uL2xpYi9kYXRndWlmL2RhdGd1aWZcIik7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfR0xURkxvYWRlciA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyXCIpO1xuXG52YXIgX0VmZmVjdENvbXBvc2VyID0gcmVxdWlyZShcInRocmVlL2V4YW1wbGVzL2pzbS9wb3N0cHJvY2Vzc2luZy9FZmZlY3RDb21wb3NlclwiKTtcblxudmFyIF9SZW5kZXJQYXNzID0gcmVxdWlyZShcInRocmVlL2V4YW1wbGVzL2pzbS9wb3N0cHJvY2Vzc2luZy9SZW5kZXJQYXNzLmpzXCIpO1xuXG52YXIgX1VucmVhbEJsb29tUGFzcyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvVW5yZWFsQmxvb21QYXNzLmpzXCIpO1xuXG52YXIgX0ZYQUFTaGFkZXIgPSByZXF1aXJlKFwidGhyZWUvZXhhbXBsZXMvanNtL3NoYWRlcnMvRlhBQVNoYWRlci5qc1wiKTtcblxudmFyIF9TaGFkZXJQYXNzID0gcmVxdWlyZShcInRocmVlL2V4YW1wbGVzL2pzbS9wb3N0cHJvY2Vzc2luZy9TaGFkZXJQYXNzLmpzXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxudmFyIF9yYWZQcm9ncmVzcyA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZi1wcm9ncmVzc1wiKTtcblxudmFyIF9kb20gPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb21cIik7XG5cbnZhciBfZWFzZSA9IHJlcXVpcmUoXCIuLi9saWIvZWFzZS9lYXNlXCIpO1xuXG52YXIgX21hdGhmID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi9tYXRoZlwiKTtcblxudmFyIF90aHJlZWYgPSByZXF1aXJlKFwiLi4vbGliL3RocmVlZi90aHJlZWZcIik7XG5cbnZhciBfbWluaW1hdGNoID0gcmVxdWlyZShcIm1pbmltYXRjaFwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vLyBodHRwczovL3N2cy5nc2ZjLm5hc2EuZ292LzQ3MjBcbi8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL21hdGVyaWFscy9NZXNoU3RhbmRhcmRNYXRlcmlhbFxuLy8gaHR0cHM6Ly9xaWl0YS5jb20vYWRyczIwMDIvaXRlbXMvZGM2NDE2ZDZmZDIzODljNzVhYjVcbi8vIGh0dHBzOi8vcWlpdGEuY29tL2N4MjAvaXRlbXMvMmI4NmNiNTA1MmNkN2MzNjAzOGFcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzU0MjgzMDgwL25vcm1hbC1tYXAtdmFsdWVzLXdpdGgtdGhyZWVqcy1nbHRmLWJsZW5kZXItZXhwb3J0ZXI/cnE9MVxuLy8gVGhlIGdsVEYgZm9ybWF0IGRvZXMgbm90IGFsbG93IGJ1bXAgbWFwcy4gIFVzZSBub3JtYWwgbWFwcy5cbi8vIGh0dHBzOi8vZGlzY291cnNlLnRocmVlanMub3JnL3QvdGhyZWUtanMtZ2x0Zi1tb2RlbC1leHBvcnRlZC1mcm9tLWVkaXRvci1idW1wLW1hcC1ub3QtcmVuZGVyaW5nLzEwODM1XG4vL1xuLy8gLSB3YXRjaCBvdmVyIGV4cG9zdXJlIG9mIG5vcm1hbCBtYXBcbi8vIC0gcG5nIGJhc2VkIG5vcm1hbCBtYXAgd29ya3MgYmV0dGVyPyAoanBnIG92ZXIgZXhwb3NlZD8pXG4vL1xuLy8gaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuY2xhc3MgVGhyZWVPYmplY3RWaWV3ZXIxMSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdUaHJlZUpTIE9iamVjdCBWaWV3ZXIgRGVtbycpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMtY29udGFpbmVyJyk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IF9kb21XYXRjaGVyLkRvbVdhdGNoZXIoKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzID0gbmV3IF9yYWZQcm9ncmVzcy5SYWZQcm9ncmVzcygpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3Mud2F0Y2godGhpcy5vblByb2dyZXNzVXBkYXRlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2Nyb2xsTGVycCA9IDAuMzg7XG4gICAgdGhpcy5zY3JvbGxFYXNlID0gJ2Vhc2VJblF1YWQnO1xuICAgIHRoaXMuZG9tQ2FtZXJhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcy1kb20tY2FtZXJhJyk7XG4gICAgdGhpcy50ZXh0TWFya2VyMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXh0LW1hcmtlcjEnKTtcbiAgICB0aGlzLnRleHRNYXJrZXIyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RleHQtbWFya2VyMicpO1xuICAgIHRoaXMudGV4dE1hcmtlcjMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGV4dC1tYXJrZXIzJyk7XG4gICAgdGhpcy50ZXh0TWFya2VyNCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXh0LW1hcmtlcjQnKTtcbiAgICB0aGlzLnRleHRNYXJrZXI1ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RleHQtbWFya2VyNScpO1xuICAgIHRoaXMudGV4dE1hcmtlcjYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGV4dC1tYXJrZXI2Jyk7XG4gICAgdGhpcy50ZXh0TWFya2VycyA9IFtdO1xuICAgIHRoaXMucmVuZGVyZXJDb25maWcgPSB7XG4gICAgICBjbGVhckNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICBiYWNrZ3JvdW5kQWxwaGE6IDEuMFxuICAgIH07XG4gICAgdGhpcy5ndWkgPSBuZXcgX2RhdGd1aWYuRGF0Z3VpZih7XG4gICAgICBsb2FkOiBKU09OXG4gICAgfSk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdTZXR0aW5ncycpLm9wZW4oKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ1JlbmRlcmVyJywgJ1NldHRpbmdzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdDYW1lcmEnLCAnU2V0dGluZ3MnKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ1Njcm9sbCcsICdTZXR0aW5ncycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignTGlnaHRzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdPYmplY3RzJyk7XG4gICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1Njcm9sbCcsIHRoaXMsIFt7XG4gICAgICBrZXlOYW1lOiAnc2Nyb2xsTGVycCcsXG4gICAgICBtaW46IDAsXG4gICAgICBtYXg6IDEsXG4gICAgICBzdGVwOiAwLjAxXG4gICAgfSwge1xuICAgICAga2V5TmFtZTogJ3Njcm9sbEVhc2UnLFxuICAgICAgb3B0aW9uczogWydsaW5lYXInLCAnZWFzZU91dFF1YWQnLCAnZWFzZUluUXVhZCddXG4gICAgfV0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgY2FsbGJhY2s6IGV2ZW50ID0+IHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IF9kb20uZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50LCB3aW5kb3cuaW5uZXJIZWlnaHQpOyAvLyAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDAuMjYsIEVBU0UuZWFzZUluT3V0RXhwbyk7XG4gICAgICAgIC8vICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMC4wOCwgRUFTRS5saW5lYXIpO1xuXG4gICAgICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIHRoaXMuc2Nyb2xsTGVycCwgX2Vhc2UuRUFTRVt0aGlzLnNjcm9sbEVhc2VdKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLmd1aS5vblVwZGF0ZShwcm9wID0+IHtcbiAgICAgIHRoaXMuZHJhdygpO1xuICAgIH0pO1xuICAgIHZhciBsb2FkZXIgPSBuZXcgX0dMVEZMb2FkZXIuR0xURkxvYWRlcigpO1xuICAgIGNvbnN0IHBhdGggPSAnLi9wdWJsaWMvbW9vbi90aHJlZS1vYmplY3Qtdmlld2VyMTEuZ2x0Zic7XG4gICAgbG9hZGVyLmxvYWQocGF0aCwgZ2x0ZiA9PiB7XG4gICAgICBjb25zdCBnbHRmRGF0YSA9IGdsdGYucGFyc2VyLmpzb247XG5cbiAgICAgIGNvbnN0IGdldE5vZGVCeU5hbWUgPSBuYW1lID0+IHtcbiAgICAgICAgcmV0dXJuIGdsdGZEYXRhLm5vZGVzLmZpbHRlcihub2RlID0+IHtcbiAgICAgICAgICByZXR1cm4gbm9kZS5uYW1lID0gbmFtZTtcbiAgICAgICAgfSlbMF07XG4gICAgICB9O1xuXG4gICAgICBjb25zb2xlLmxvZygnZ2x0ZiBkYXRhJywgZ2x0ZkRhdGEpO1xuICAgICAgdGhpcy5jbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpO1xuICAgICAgY29uc3Qgc2NlbmUgPSBnbHRmLnNjZW5lc1swXTtcbiAgICAgIHRoaXMuYWN0aXZlU2NlbmUgPSBzY2VuZTtcbiAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IGdsdGYuYW5pbWF0aW9uczsgLy8gQW5pbWF0aW9uIE1peGVy44Kk44Oz44K544K/44Oz44K544KS55Sf5oiQXG5cbiAgICAgIHRoaXMubWl4ZXIgPSBuZXcgVEhSRUUuQW5pbWF0aW9uTWl4ZXIoc2NlbmUpOyAvL+WFqOOBpuOBrkFuaW1hdGlvbiBDbGlw44Gr5a++44GX44GmXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbnNbaV07IC8vQW5pbWF0aW9uIEFjdGlvbuOCkueUn+aIkFxuXG4gICAgICAgIHZhciBhY3Rpb24gPSB0aGlzLm1peGVyLmNsaXBBY3Rpb24oYW5pbWF0aW9uKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2FkZGVkJywgYW5pbWF0aW9uKTtcbiAgICAgICAgYWN0aW9uLnBsYXkoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zY2VuZS5hZGQoc2NlbmUpO1xuICAgICAgY29uc29sZS5sb2coJ3NjZW5lJywgc2NlbmUpO1xuICAgICAgY29uc29sZS5sb2coJ21peGVyJywgdGhpcy5taXhlcik7IC8vIGh0dHA6Ly9sZWFybmluZ3RocmVlanMuY29tL2Jsb2cvMjAxMi8wMS8yMC9jYXN0aW5nLXNoYWRvd3MvXG5cbiAgICAgIHRoaXMuc2NlbmUudHJhdmVyc2UoY2hpbGQgPT4ge1xuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5MaWdodCkge1xuICAgICAgICAgIC8vIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGNoaWxkLm5hbWUpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdsaWdodCcsIGNoaWxkKTsgLy8gRGVidWdnaW5nIGxpZ2h0IHBvc2l0aW9ucy5cbiAgICAgICAgICAvLyBjaGlsZC5zaGFkb3dDYW1lcmFWaXNpYmxlID0gZmFsc2U7XG5cbiAgICAgICAgICBpZiAoY2hpbGQuc2hhZG93KSB7XG4gICAgICAgICAgICAvLyBBZGp1c3Qgc2hhZG93IGJpYXMuXG4gICAgICAgICAgICAvLyBjaGlsZC5zaGFkb3cuYmlhcyA9IC0wLjAwMjtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgcmlnZ2VkIGxvb2tpbmcgc2hhZG93cy5cbiAgICAgICAgICAgIGNoaWxkLnNoYWRvdy5tYXBTaXplLndpZHRoID0gMTAyNDtcbiAgICAgICAgICAgIGNoaWxkLnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IDEwMjQ7XG4gICAgICAgICAgICBjaGlsZC5zaGFkb3dEYXJrbmVzcyA9IDE7IC8vIGNoaWxkLnNoYWRvdy5jYW1lcmEubmVhciA9IDA7XG4gICAgICAgICAgICAvLyBjaGlsZC5zaGFkb3cuY2FtZXJhLmZhciA9IDEwMDA7XG4gICAgICAgICAgICAvLyB2YXIgaGVscGVyID0gbmV3IFRIUkVFLkNhbWVyYUhlbHBlciggY2hpbGQuc2hhZG93LmNhbWVyYSApO1xuICAgICAgICAgICAgLy8gc2NlbmUuYWRkKCBoZWxwZXIgKTtcbiAgICAgICAgICB9IC8vIGNoaWxkLmxheWVycy5zZXQoMSk7XG4gICAgICAgICAgLy8gLy8gUG9pbnQgbGlnaHRzIGFyZSBkZWZpbmVkIGluIHdhdHRzIHdoaWNoIGdvZXMgd2FheSBvZmYgaW4gdGhyZWUuanNcblxuXG4gICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuUG9pbnRMaWdodCkge1xuICAgICAgICAgICAgY2hpbGQuaW50ZW5zaXR5ID0gY2hpbGQuaW50ZW5zaXR5ICogMC4wNTtcbiAgICAgICAgICB9IC8vIElmIGl0J3MgYSBzcG90IGxpZ2h0LCBpdCBuZWVkcyB0byBnbyBkb3duIGV2ZW4gbW9yZS5cblxuXG4gICAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT0gXCJTcG90TGlnaHRcIikge1xuICAgICAgICAgICAgY2hpbGQuaW50ZW5zaXR5ID0gY2hpbGQuaW50ZW5zaXR5ICogMC4wMDM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5ndWkuYWRkRm9sZGVyKGNoaWxkLm5hbWUsICdMaWdodHMnKTtcbiAgICAgICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihjaGlsZC5uYW1lLCBjaGlsZCwgW3tcbiAgICAgICAgICAgIGtleU5hbWU6ICdjYXN0U2hhZG93J1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleU5hbWU6ICdpbnRlbnNpdHknLFxuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiAzMDAwXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5TmFtZTogJ2NvbG9yJ1xuICAgICAgICAgIH1dKTtcblxuICAgICAgICAgIGlmIChjaGlsZC5zaGFkb3cpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvd0ZvbGRlcklkID0gY2hpbGQubmFtZSArICcgc2hhZG93JzsgLy8gY29uc29sZS5sb2coY2hpbGQuc2hhZG93KTtcblxuICAgICAgICAgICAgdGhpcy5ndWkuYWRkRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5uYW1lKTtcbiAgICAgICAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5zaGFkb3csIFt7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdiaWFzJyxcbiAgICAgICAgICAgICAgbWluOiAtMSxcbiAgICAgICAgICAgICAgbWF4OiAxLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAwMDAxXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdyYWRpdXMnLFxuICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgIG1heDogMTAwLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAxXG4gICAgICAgICAgICB9XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaCkge1xuICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKHRydWUpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGNoaWxkLm5hbWUpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdtZXNoJywgY2hpbGQpOyAvLyBJZiBhbiBvYmplY3Qgc3RhcnRzIHdpdGggJ3RleHQtJyBieSBjb252ZW5zaW9uLCBpdCB3aWxsXG4gICAgICAgICAgLy8gYmUgY29uc2lkZXJlZCBhIG1hcmtlci5cblxuICAgICAgICAgIGlmIChjaGlsZC5uYW1lLnN0YXJ0c1dpdGgoJ3RleHQnKSkge1xuICAgICAgICAgICAgLy8gSGlkZSB0aGUgbWFya2VyXG4gICAgICAgICAgICAvLyBjaGlsZC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRleHRNYXJrZXJzLnB1c2goY2hpbGQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuZ3VpLmFkZEZvbGRlcihjaGlsZC5uYW1lLCAnT2JqZWN0cycpO1xuICAgICAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKGNoaWxkLm5hbWUsIGNoaWxkLCBbe1xuICAgICAgICAgICAga2V5TmFtZTogJ2Nhc3RTaGFkb3cnXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5TmFtZTogJ3JlY2VpdmVTaGFkb3cnXG4gICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgaWYgKGNoaWxkLm1hdGVyaWFsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbWF0ZXJpYWwnLCBjaGlsZC5tYXRlcmlhbCk7XG4gICAgICAgICAgICBjb25zdCBtYXRlcmlhbElkID0gY2hpbGQubmFtZSArICcgbWF0ZXJpYWwnO1xuICAgICAgICAgICAgdGhpcy5ndWkuYWRkRm9sZGVyKG1hdGVyaWFsSWQsIGNoaWxkLm5hbWUpO1xuICAgICAgICAgICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIobWF0ZXJpYWxJZCwgY2hpbGQubWF0ZXJpYWwsIFt7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdlbWlzc2l2ZUludGVuc2l0eScsXG4gICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgbWF4OiAxXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdmbGF0U2hhZGluZycsXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICd3aXJlZnJhbWUnLFxuICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQubWF0ZXJpYWwubm9ybWFsTWFwKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdub3JtYWwgbWFwJyk7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoaWxkLm1hdGVyaWFsLm5vcm1hbE1hcCk7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoaWxkLm1hdGVyaWFsLm5vcm1hbFNjYWxlKTtcbiAgICAgICAgICAgIH0gLy8gRW5hYmxlIHNtb290aCBzaGFkaW5nLlxuICAgICAgICAgICAgLy8gY2hpbGQubWF0ZXJpYWwuZmxhdFNoYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGNoaWxkLm1hdGVyaWFsLndpcmVmcmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gY2hpbGQubWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgLy8gY2hpbGQuZ2VvbWV0cnkuY29tcHV0ZUZhY2VOb3JtYWxzKCk7XG4gICAgICAgICAgICAvLyBjaGlsZC5nZW9tZXRyeS5jb21wdXRlVmVydGV4Tm9ybWFscyh0cnVlKTtcblxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjaGlsZC5uYW1lID09ICdQbGFuZTAwMScpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtZXNoJywgY2hpbGQpO1xuICAgICAgICAgIH0gLy8gR2V0IHRoZSBpbWFnZSBtYXBwaW5ncy5cbiAgICAgICAgICAvLyBpZihjaGlsZC5tYXRlcmlhbCAmJiBjaGlsZC5tYXRlcmlhbC5tYXApIHtcbiAgICAgICAgICAvLyAgIGNoaWxkLm1hdGVyaWFsLm1hcC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgLy8gfVxuXG4gICAgICAgIH0gZWxzZSB7Ly8gY29uc29sZS5sb2coJ290aGVyJywgY2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgIH0pOyAvLyBTZXQgdGhlIGNhbWVyYSBleHBvcnRlZCBpbiBnbHRmLlxuICAgICAgLy8gUmVxdWlyZXMgY2FtZXJhIHRvIGJlIGV4cG9ydGVkIGZvciBnbHRmLlxuXG4gICAgICB0aGlzLmNhbWVyYSA9IGdsdGYuY2FtZXJhc1swXTtcbiAgICAgIGNvbnNvbGUubG9nKCdjYW1lcmEnLCB0aGlzLmNhbWVyYSk7XG4gICAgICB0aGlzLnJlc2l6ZSgpOyAvLyBVc2UgZm9nIHRvIGNvdmVyIGZhciBkaXN0YW5jZXMuXG4gICAgICAvLyBjb25zdCBjb2xvciA9IDB4MDAwMDA7XG4gICAgICAvLyB0aGlzLnNjZW5lLmZvZyA9IG5ldyBUSFJFRS5Gb2coY29sb3IsIDUsIDgpO1xuICAgICAgLy8gRW5hYmxlIHNoYWRvd3MuXG4gICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9jb25zdGFudHMvUmVuZGVyZXJcblxuICAgICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7IC8vIFRvIGFudGlhbGlhcyB0aGUgc2hhZG93XG5cbiAgICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwLnR5cGUgPSBUSFJFRS5QQ0ZTb2Z0U2hhZG93TWFwO1xuICAgICAgdGhpcy5yZW5kZXJlci5nYW1tYU91dHB1dCA9IHRydWU7IC8vIHRoaXMucmVuZGVyZXIuZ2FtbWFGYWN0b3IgPSAyLjI7XG4gICAgICAvLyBJbXBvcnRhbnQgdG8gZ2V0IHRoZSBjb3JyZWN0IGNvbG9ycy5cblxuICAgICAgdGhpcy5yZW5kZXJlci5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cyA9IHRydWU7IC8vIEJhY2tncm91bmQgYXMgYmxhY2suXG4gICAgICAvLyB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHg0Mjg3ZjUpO1xuXG4gICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCB0aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7IC8vIEFmZmVjdHMgaG93IHN0cm9uZ2x5IGxpZ2h0cyBjb21lIGV4cG9zZWQuXG4gICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2V4YW1wbGVzLyN3ZWJnbF90b25lbWFwcGluZ1xuXG4gICAgICB0aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSAxOyAvLyB0aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSAwLjM7XG5cbiAgICAgIHRoaXMucmVuZGVyZXIudG9uZU1hcHBpbmcgPSBUSFJFRS5BQ0VTRmlsbWljVG9uZU1hcHBpbmc7XG4gICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignUmVuZGVyZXInLCB0aGlzLnJlbmRlcmVyLCBbe1xuICAgICAgICBrZXlOYW1lOiAndG9uZU1hcHBpbmdFeHBvc3VyZScsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiA1LFxuICAgICAgICBzdGVwOiAwLjAxXG4gICAgICB9LCB7XG4gICAgICAgIGtleU5hbWU6ICdnYW1tYUZhY3RvcicsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiAxMCxcbiAgICAgICAgc3RlcDogMC4wMVxuICAgICAgfV0pO1xuICAgICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1JlbmRlcmVyJywgdGhpcy5yZW5kZXJlckNvbmZpZywgW3tcbiAgICAgICAga2V5TmFtZTogJ2NsZWFyQ29sb3InLFxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcih0aGlzLnJlbmRlcmVyQ29uZmlnLmNsZWFyQ29sb3IsIHRoaXMucmVuZGVyZXJDb25maWcuYmFja2dyb3VuZEFscGhhKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnYmFja2dyb3VuZEFscGhhJyxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCB0aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7XG4gICAgICAgIH1cbiAgICAgIH1dKTtcbiAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdDYW1lcmEnLCB0aGlzLmNhbWVyYSwgW3tcbiAgICAgICAga2V5TmFtZTogJ2ZvdicsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiA1MCxcbiAgICAgICAgc3RlcDogMC4wMSxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ3pvb20nLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogMTAsXG4gICAgICAgIHN0ZXA6IDAuMDAwMSxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICAgIH1dKTtcbiAgICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignR2VuZXJhbCBMaWdodHMnKTtcbiAgICAgIHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnID0ge1xuICAgICAgICBhbWJpZW50TGlnaHRDb2xvcjogJyNGRkZGRkYnLFxuICAgICAgICBhbWJpZW50TGlnaHRBbHBoYTogMVxuICAgICAgfTsgLy8gQWRkaXRpb25hbCBsaWdodGluZyBvdXRzaWRlIHRoZSBibGVuZGVyLlxuICAgICAgLy8gdmFyIGxpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodCggMHhmZmZmZmYsIDB4MDAwMDAwLCAxICk7XG4gICAgICAvLyB0aGlzLnNjZW5lLmFkZCggbGlnaHQgKTtcblxuICAgICAgdGhpcy5hbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodENvbG9yKTtcbiAgICAgIHRoaXMuYW1iaWVudExpZ2h0LmludGVuc2l0eSA9IHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodEFscGhhO1xuICAgICAgc2NlbmUuYWRkKHRoaXMuYW1iaWVudExpZ2h0KTtcbiAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdHZW5lcmFsIExpZ2h0cycsIHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLCBbe1xuICAgICAgICBrZXlOYW1lOiAnYW1iaWVudExpZ2h0Q29sb3InLFxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuYW1iaWVudExpZ2h0LmNvbG9yID0gbmV3IFRIUkVFLkNvbG9yKHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodENvbG9yKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnYW1iaWVudExpZ2h0QWxwaGEnLFxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuYW1iaWVudExpZ2h0LmludGVuc2l0eSA9IHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodEFscGhhO1xuICAgICAgICB9XG4gICAgICB9XSk7XG4gICAgICB0aGlzLmd1aS5hZGRCdXR0b24oJ1JlZnJlc2gnLCB0aGlzLnJlZnJlc2guYmluZCh0aGlzKSk7XG4gICAgfSwgdW5kZWZpbmVkLCBlcnJvciA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe1xuICAgICAgYW50aWFsaWFzOiB0cnVlLFxuICAgICAgLy8gcHJlY2lzaW9uOiAnaGlnaHAnXG4gICAgICBhdXRvU2l6ZTogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuY29tcG9zZXIgPSBuZXcgX0VmZmVjdENvbXBvc2VyLkVmZmVjdENvbXBvc2VyKHRoaXMucmVuZGVyZXIpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgX2Vhc2UuRUFTRS5MaW5lYXIpO1xuICAgIHRoaXMud2lkdGggPSB0aGlzLmNhbnZhc0NvbnRhaW5lci5wYXJlbnRFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5jYW52YXNDb250YWluZXIucGFyZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kb25tY2N1cmR5L3RocmVlLWdsdGYtdmlld2VyL2Jsb2IvbWFzdGVyL3NyYy92aWV3ZXIuanNcbiAgICAvLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9jb25zdGFudHMvUmVuZGVyZXJcblxuICAgIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTsgLy8gUG9zdCBwcm9jZXNzaW5nXG4gICAgLy8gdGhpcy5jb21wb3Nlci5zZXRTaXplKCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgLy8gY29uc3QgZnhhYVBhc3MgPSBuZXcgU2hhZGVyUGFzcyggRlhBQVNoYWRlciApO1xuICAgIC8vIGZ4YWFQYXNzLm1hdGVyaWFsLnVuaWZvcm1zWyAncmVzb2x1dGlvbicgXS52YWx1ZS54ID0gMSAvICggdGhpcy53aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAvLyBmeGFhUGFzcy5tYXRlcmlhbC51bmlmb3Jtc1sgJ3Jlc29sdXRpb24nIF0udmFsdWUueSA9IDEgLyAoIHRoaXMuaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgIC8vIHRoaXMuY29tcG9zZXIuYWRkUGFzcyhmeGFhUGFzcyk7XG4gICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKG5ldyBSZW5kZXJQYXNzKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKSk7XG4gICAgLy8gdmFyIGJsb29tUGFzcyA9IG5ldyBVbnIyLjJtZWFsQmxvb21QYXNzKDEsIDI1LCA1LCAyNTYpO1xuICAgIC8vIHRoaXMuY29tcG9zZXIuYWRkUGFzcyhibG9vbVBhc3MpO1xuICAgIC8vIFRoZSBjYW1lcmEgYXNwZWN0IGdvZXMgb2ZmIHNpbmNlIGl0IGNvdWxkIGJlIGV4cG9ydGVkIGF0IGEgZGlmZmVyZW50XG4gICAgLy8gcmF0aW8uICBGb3JjZSB1cGRhdGUgdGhlIGFzcGVjdCByYXRpby5cblxuICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHRoaXMud2lkdGggLyB0aGlzLmhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gIH1cblxuICByZWZyZXNoKCkge1xuICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcih0aGlzLnJlbmRlcmVyQ29uZmlnLmNsZWFyQ29sb3IsIHRoaXMucmVuZGVyZXJDb25maWcuYmFja2dyb3VuZEFscGhhKTtcbiAgICB0aGlzLnJlc2l6ZSgpO1xuICAgIHRoaXMuZHJhdygpO1xuICB9XG5cbiAgZ2V0QW5pbWF0aW9uQnlOYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5hbmltYXRpb25zLmZpbHRlcihhbmltYXRpb25DbGlwID0+IHtcbiAgICAgIHJldHVybiBhbmltYXRpb25DbGlwLm5hbWUgPT0gbmFtZTtcbiAgICB9KVswXTtcbiAgfVxuXG4gIGdldE9iamVjdEJ5TmFtZShuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZlU2NlbmUuY2hpbGRyZW4uZmlsdGVyKG9iamVjdDNkID0+IHtcbiAgICAgIHJldHVybiBvYmplY3QzZC5uYW1lID09IG5hbWU7XG4gICAgfSlbMF07XG4gIH1cblxuICBvblByb2dyZXNzVXBkYXRlKHByb2dyZXNzKSB7XG4gICAgLy9BbmltYXRpb24gTWl4ZXLjgpLlrp/ooYxcbiAgICBpZiAodGhpcy5taXhlcikge1xuICAgICAgLy8gV2UgbmVlZCB0byBmaW5kIG91dCBob3cgbG9uZyB0aGUgYW5pbWF0aW9uIGlzLlxuICAgICAgLy8gVGhlIG1peGVyIGFwcGVhcnMgdG8gaGF2ZSBubyBrbm93bGVkZ2Ugb2Z0IHRoaXMgc28gd2UgbmVlZCB0b1xuICAgICAgLy8gbG9vayB1cCBhIHNwZWNpZmljIGFuaW1hdGlvbiBhbmQgZ2V0IHRoZSBkdXJhdGlvbiB0b1xuICAgICAgLy8gZ2V0IHRoZSB0b3RhbCBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uLlxuICAgICAgY29uc3QgY2FtZXJhQW5pbWF0aW9uID0gdGhpcy5nZXRBbmltYXRpb25CeU5hbWUoJ0NhbWVyYUFjdGlvbicpO1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBjYW1lcmFBbmltYXRpb24uZHVyYXRpb247IC8vIFdoZW4gZHVyYXRpb24gaGl0cyBpdCdzIG1heCwgYW5pbWF0aW9uTWl4ZXIgc2VlbXMgdG8gaGl0IHRoZSBmaXJzdFxuICAgICAgLy8gZnJhbWUgc28gbmV4dCBhbGxvdyBpdCB0byByZWFjaCB0aGUgbWF4IHZhbHVlLlxuXG4gICAgICB0aGlzLm1peGVyLnNldFRpbWUoTWF0aC5taW4oZHVyYXRpb24gKiBwcm9ncmVzcywgZHVyYXRpb24gLSAwLjAxKSk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0TWFya2VyQnlOYW1lID0gbmFtZSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0TWFya2Vycy5maWx0ZXIobWFya2VyID0+IHtcbiAgICAgICAgcmV0dXJuIG1hcmtlci51c2VyRGF0YS5uYW1lID09IG5hbWU7XG4gICAgICB9KVswXTtcbiAgICB9O1xuXG4gICAgdGhpcy5kcmF3KCk7IC8vIFRleHQgbWFya2VyMS5cblxuICAgIGNvbnN0IG1hcmtlciA9IGdldE1hcmtlckJ5TmFtZSgndGV4dC1tYXJrZXIxJyk7XG5cbiAgICBjb25zdCBkb21Db29yZGluYXRlcyA9IF90aHJlZWYudGhyZWVmLnRvRG9tQ29vcmRpbmF0ZXMobWFya2VyLCB0aGlzLmNhbWVyYSwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0V2lkdGgsIHRoaXMuY2FudmFzQ29udGFpbmVyLm9mZnNldEhlaWdodCk7IC8vIEJpbGxib2FyZGVkIGFuZCBub3Qgc2NhbGluZy5cblxuXG4gICAgY29uc3QgZG9tUm90YXRpb24gPSBfdGhyZWVmLnRocmVlZi50b0RvbVJvdGF0aW9uKG1hcmtlciwgdGhpcy5jYW1lcmEsIHRoaXMuY2FudmFzQ29udGFpbmVyLm9mZnNldFdpZHRoLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRIZWlnaHQpO1xuXG4gICAgX3RocmVlZi50aHJlZWYuYXBwbHlWZWN0b3JUb0RvbSh0aGlzLnRleHRNYXJrZXIxLCBkb21Db29yZGluYXRlcywgZG9tUm90YXRpb24pOyAvLyBUZXh0IG1hcmtlcjIuXG5cblxuICAgIGNvbnN0IG1hcmtlcjIgPSBnZXRNYXJrZXJCeU5hbWUoJ3RleHQtbWFya2VyMicpO1xuXG4gICAgY29uc3QgZG9tQ29vcmRpbmF0ZXMyID0gX3RocmVlZi50aHJlZWYudG9Eb21Db29yZGluYXRlcyhtYXJrZXIyLCB0aGlzLmNhbWVyYSwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0V2lkdGgsIHRoaXMuY2FudmFzQ29udGFpbmVyLm9mZnNldEhlaWdodCk7XG5cbiAgICBjb25zdCBkb21Sb3RhdGlvbjIgPSBfdGhyZWVmLnRocmVlZi50b0RvbVJvdGF0aW9uKG1hcmtlcjIsIHRoaXMuY2FtZXJhLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRXaWR0aCwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0SGVpZ2h0KTtcblxuICAgIF90aHJlZWYudGhyZWVmLmFwcGx5VmVjdG9yVG9Eb20odGhpcy50ZXh0TWFya2VyMiwgZG9tQ29vcmRpbmF0ZXMyLCBkb21Sb3RhdGlvbjIpOyAvLyBUZXh0IG1hcmtlcjMuXG5cblxuICAgIGNvbnN0IG1hcmtlcjMgPSBnZXRNYXJrZXJCeU5hbWUoJ3RleHQtbWFya2VyMycpO1xuXG4gICAgY29uc3QgZG9tQ29vcmRpbmF0ZXMzID0gX3RocmVlZi50aHJlZWYudG9Eb21Db29yZGluYXRlcyhtYXJrZXIzLCB0aGlzLmNhbWVyYSwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0V2lkdGgsIHRoaXMuY2FudmFzQ29udGFpbmVyLm9mZnNldEhlaWdodCk7XG5cbiAgICBjb25zdCBkb21Sb3RhdGlvbjMgPSBfdGhyZWVmLnRocmVlZi50b0RvbVJvdGF0aW9uKG1hcmtlcjMsIHRoaXMuY2FtZXJhLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRXaWR0aCwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0SGVpZ2h0KTtcblxuICAgIF90aHJlZWYudGhyZWVmLmFwcGx5VmVjdG9yVG9Eb20odGhpcy50ZXh0TWFya2VyMywgZG9tQ29vcmRpbmF0ZXMzLCBkb21Sb3RhdGlvbjMpO1xuXG4gICAgY29uc3QgbWFya2VyNCA9IGdldE1hcmtlckJ5TmFtZSgndGV4dC1tYXJrZXI0Jyk7XG5cbiAgICBjb25zdCBkb21Db29yZGluYXRlczQgPSBfdGhyZWVmLnRocmVlZi50b0RvbUNvb3JkaW5hdGVzKG1hcmtlcjQsIHRoaXMuY2FtZXJhLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRXaWR0aCwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0SGVpZ2h0LCAwLjMpO1xuXG4gICAgY29uc3QgZG9tUm90YXRpb240ID0gX3RocmVlZi50aHJlZWYudG9Eb21Sb3RhdGlvbihtYXJrZXI0LCB0aGlzLmNhbWVyYSwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0V2lkdGgsIHRoaXMuY2FudmFzQ29udGFpbmVyLm9mZnNldEhlaWdodCk7XG5cbiAgICBfdGhyZWVmLnRocmVlZi5hcHBseVZlY3RvclRvRG9tKHRoaXMudGV4dE1hcmtlcjQsIGRvbUNvb3JkaW5hdGVzNCwgZG9tUm90YXRpb240KTtcblxuICAgIGNvbnN0IG1hcmtlcjUgPSBnZXRNYXJrZXJCeU5hbWUoJ3RleHQtbWFya2VyNScpO1xuXG4gICAgY29uc3QgZG9tQ29vcmRpbmF0ZXM1ID0gX3RocmVlZi50aHJlZWYudG9Eb21Db29yZGluYXRlcyhtYXJrZXI1LCB0aGlzLmNhbWVyYSwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0V2lkdGgsIHRoaXMuY2FudmFzQ29udGFpbmVyLm9mZnNldEhlaWdodCwgMC4zKTtcblxuICAgIGNvbnN0IGRvbVJvdGF0aW9uNSA9IF90aHJlZWYudGhyZWVmLnRvRG9tUm90YXRpb24obWFya2VyNSwgdGhpcy5jYW1lcmEsIHRoaXMuY2FudmFzQ29udGFpbmVyLm9mZnNldFdpZHRoLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRIZWlnaHQpO1xuXG4gICAgX3RocmVlZi50aHJlZWYuYXBwbHlWZWN0b3JUb0RvbSh0aGlzLnRleHRNYXJrZXI1LCBkb21Db29yZGluYXRlczUsIGRvbVJvdGF0aW9uNSk7IC8vIEJpbGxib2FyZGluZyBzYW1wbGUuXG4gICAgLy8gTm90aWNlIGhvdyByb3RhdGlvbiBpcyBub3QgYXBwbGllZC5cbiAgICAvLyBkb21Db29kaW5hdGVzIGFsc28gZG9uJ3QgcGFzcyBhIHNjYWxlIHZhbHVlIHNvIHRoZSB0ZXh0IG1haW50YWlucyBpdCdzIG9yaWdpbmFsIHNjYWxlLlxuXG5cbiAgICBjb25zdCBtYXJrZXI2ID0gZ2V0TWFya2VyQnlOYW1lKCd0ZXh0LW1hcmtlcjYnKTtcblxuICAgIGNvbnN0IGRvbUJvdW5kaW5nUmVjdCA9IF90aHJlZWYudGhyZWVmLnRvRG9tQm91bmRpbmdSZWN0KG1hcmtlcjYsIHRoaXMuY2FtZXJhLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRXaWR0aCwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0SGVpZ2h0KTtcblxuICAgIGNvbnN0IGRvbUNvb3JkaW5hdGVzNiA9IF90aHJlZWYudGhyZWVmLnRvRG9tQ29vcmRpbmF0ZXMobWFya2VyNiwgdGhpcy5jYW1lcmEsIHRoaXMuY2FudmFzQ29udGFpbmVyLm9mZnNldFdpZHRoLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRIZWlnaHQpOyAvLyBTZXQgdG8gdGhlIHRvcFJpZ2h0IGNvcm5lciBvZiBhbiBlbGVtZW50LlxuXG5cbiAgICBfdGhyZWVmLnRocmVlZi5hcHBseVZlY3RvclRvRG9tKHRoaXMudGV4dE1hcmtlcjYsIHtcbiAgICAgIHg6IGRvbUJvdW5kaW5nUmVjdC50b3BSaWdodC54LFxuICAgICAgeTogZG9tQm91bmRpbmdSZWN0LnRvcFJpZ2h0LnksXG4gICAgICB6OiAxLjBcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKGRvbUJvdW5kaW5nUmVjdCk7XG4gIH1cblxuICBkcmF3KCkge1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRocmVlT2JqZWN0Vmlld2VyMTE7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/three-object-viewer11.js\n");

/***/ }),

/***/ "./examples/three-object-viewer2.js":
/*!******************************************!*\
  !*** ./examples/three-object-viewer2.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _GLTFLoader = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n// https://threejs.org/docs/#manual/en/introduction/Loading-3D-models\n// https://threejs.org/examples/#webgl_loader_gltf\n// https://gist.github.com/bellbind/c4f8c502fcacbe29422e5ac315273858\n// https://github.com/funwithtriangles/blender-to-threejs-export-guide/blob/master/readme.md\n// https://threejsfundamentals.org/threejs/lessons/threejs-load-gltf.html\n// https://discoverthreejs.com/book/first-steps/load-models/\n// https://www.pentacreation.com/blog/2019/09/190916.html\n// https://www.pentacreation.com/blog/2019/10/191016.html\n// https://gltf-viewer.donmccurdy.com/\n// https://github.com/donmccurdy/three-gltf-viewer\n// import { Raf } from '../lib/raf/raf';\nclass ThreeObjectViewer2 {\n  constructor() {\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.rafProgress = new _rafProgress.RafProgress();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n        this.rafProgress.easeTo(this.progress, 0.18, _ease.EASE.Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new THREE.Scene();\n    var loader = new _GLTFLoader.GLTFLoader(); // const path = 'https://threejs.org/examples/models/gltf/DamagedHelmet/glTF/DamagedHelmet.gltf';\n    // const path = './public/dude.glb';\n\n    const path = './public/monster-scene3.glb';\n    loader.load(path, gltf => {\n      this.clock = new THREE.Clock();\n      const scene = gltf.scenes[0];\n      this.activeScene = scene;\n      this.animations = gltf.animations; // Animation Mixer\n\n      this.mixer = new THREE.AnimationMixer(scene); //Animation Clip\n\n      for (var i = 0; i < this.animations.length; i++) {\n        var animation = this.animations[i]; //Animation Action\n\n        var action = this.mixer.clipAction(animation);\n        console.log('added', animation);\n        action.play();\n      }\n\n      this.scene.add(scene);\n      console.log(this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      this.scene.traverse(child => {\n        if (child instanceof THREE.Light) {\n          child.castShadow = true;\n          console.log('cast', child); // Debugging light positions.\n\n          child.shadowCameraVisible = true; // Adjust shadow bias.\n\n          child.shadowBias = -0.005;\n          child.shadowDarkness = 0.1; // child.shadow.camera.near = 0;\n          // child.shadow.camera.far = 1000;\n          // Lights come off a bit stronger compared to Eevee, so\n          // lower the intensity.\n\n          child.intensity = child.intensity * 0.3; // var helper = new THREE.CameraHelper( child.shadow.camera );\n          // scene.add( helper );\n        } else if (child instanceof THREE.Mesh) {\n          child.castShadow = true;\n          child.receiveShadow = true;\n          console.log('receive', child);\n        } else {\n          console.log('nothing', child);\n        } // if(child.name.startsWith('Cube003')) {\n        //     child.receiveShadow = true;\n        // }\n        // Fix eyes\n\n\n        if (child.name.startsWith('Cube006')) {\n          child.castShadow = false;\n          child.receiveShadow = false;\n        }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n      this.camera = gltf.cameras[0];\n      console.log(this.camera);\n      this.resize();\n    }, undefined, error => {\n      console.error(error);\n    });\n    this.renderer = new THREE.WebGLRenderer({\n      antialias: true\n    });\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  resize() {\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.width = this.canvasContainer.parentElement.offsetWidth;\n    this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(this.width, this.height); // Important to get the correct colors.\n\n    this.renderer.physicallyCorrectLights = true; // Background as black.\n\n    this.renderer.setClearColor(0x000000); // this.renderer.setClearColor(0xFFFFFF, 1.0);\n    // Affects how strongly lights come exposed.\n    // this.renderer.toneMappingExposure = 0.4;\n    // Enable shadows.\n\n    this.renderer.shadowMap.enabled = true; // To antialias the shadow\n\n    this.renderer.shadowMapType = THREE.PCFSoftShadowMap;\n    this.renderer.gammaOutput = true;\n    this.renderer.gammaFactor = 2.2; // The camera aspect goes off since it could be exported at a different\n    // ratio.  Force update the aspect ratio.\n    // this.camera.fov = this.width / this.height;\n\n    this.camera.aspect = this.width / this.height;\n    this.camera.updateProjectionMatrix();\n  }\n\n  getAnimationByName(name) {\n    return this.animations.filter(animationClip => {\n      return animationClip.name == name;\n    })[0];\n  }\n\n  getObjectByName(name) {\n    return this.activeScene.children.filter(object3d => {\n      return object3d.name == name;\n    })[0];\n  }\n\n  onProgressUpdate(progress) {\n    //Animation Mixer\n    if (this.mixer) {\n      // We need to find out how long the animation is.\n      // The mixer appears to have no knowledge oft this so we need to\n      // look up a specific animation and get the duration to\n      // get the total duration of the animation.\n      const cameraAnimation = this.getAnimationByName('Action');\n      const duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n      // frame so next allow it to reach the max value.\n\n      this.mixer.setTime(Math.min(duration * progress, duration - 0.001));\n    }\n\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = ThreeObjectViewer2;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyMi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLW9iamVjdC12aWV3ZXIyLmpzPzc5NjIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfR0xURkxvYWRlciA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxudmFyIF9yYWZQcm9ncmVzcyA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZi1wcm9ncmVzc1wiKTtcblxudmFyIF9kb20gPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb21cIik7XG5cbnZhciBfZWFzZSA9IHJlcXVpcmUoXCIuLi9saWIvZWFzZS9lYXNlXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jbWFudWFsL2VuL2ludHJvZHVjdGlvbi9Mb2FkaW5nLTNELW1vZGVsc1xuLy8gaHR0cHM6Ly90aHJlZWpzLm9yZy9leGFtcGxlcy8jd2ViZ2xfbG9hZGVyX2dsdGZcbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2JlbGxiaW5kL2M0ZjhjNTAyZmNhY2JlMjk0MjJlNWFjMzE1MjczODU4XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZnVud2l0aHRyaWFuZ2xlcy9ibGVuZGVyLXRvLXRocmVlanMtZXhwb3J0LWd1aWRlL2Jsb2IvbWFzdGVyL3JlYWRtZS5tZFxuLy8gaHR0cHM6Ly90aHJlZWpzZnVuZGFtZW50YWxzLm9yZy90aHJlZWpzL2xlc3NvbnMvdGhyZWVqcy1sb2FkLWdsdGYuaHRtbFxuLy8gaHR0cHM6Ly9kaXNjb3ZlcnRocmVlanMuY29tL2Jvb2svZmlyc3Qtc3RlcHMvbG9hZC1tb2RlbHMvXG4vLyBodHRwczovL3d3dy5wZW50YWNyZWF0aW9uLmNvbS9ibG9nLzIwMTkvMDkvMTkwOTE2Lmh0bWxcbi8vIGh0dHBzOi8vd3d3LnBlbnRhY3JlYXRpb24uY29tL2Jsb2cvMjAxOS8xMC8xOTEwMTYuaHRtbFxuLy8gaHR0cHM6Ly9nbHRmLXZpZXdlci5kb25tY2N1cmR5LmNvbS9cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kb25tY2N1cmR5L3RocmVlLWdsdGYtdmlld2VyXG4vLyBpbXBvcnQgeyBSYWYgfSBmcm9tICcuLi9saWIvcmFmL3JhZic7XG5jbGFzcyBUaHJlZU9iamVjdFZpZXdlcjIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygnVGhyZWVKUyBPYmplY3QgVmlld2VyIERlbW8nKTtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyZW50Jyk7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzLWNvbnRhaW5lcicpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5yYWZQcm9ncmVzcyA9IG5ldyBfcmFmUHJvZ3Jlc3MuUmFmUHJvZ3Jlc3MoKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGNhbGxiYWNrOiBldmVudCA9PiB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBfZG9tLmRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCk7XG4gICAgICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDAuMTgsIF9lYXNlLkVBU0UuTGluZWFyKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB2YXIgbG9hZGVyID0gbmV3IF9HTFRGTG9hZGVyLkdMVEZMb2FkZXIoKTsgLy8gY29uc3QgcGF0aCA9ICdodHRwczovL3RocmVlanMub3JnL2V4YW1wbGVzL21vZGVscy9nbHRmL0RhbWFnZWRIZWxtZXQvZ2xURi9EYW1hZ2VkSGVsbWV0LmdsdGYnO1xuICAgIC8vIGNvbnN0IHBhdGggPSAnLi9wdWJsaWMvZHVkZS5nbGInO1xuXG4gICAgY29uc3QgcGF0aCA9ICcuL3B1YmxpYy9tb25zdGVyLXNjZW5lMy5nbGInO1xuICAgIGxvYWRlci5sb2FkKHBhdGgsIGdsdGYgPT4ge1xuICAgICAgdGhpcy5jbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpO1xuICAgICAgY29uc3Qgc2NlbmUgPSBnbHRmLnNjZW5lc1swXTtcbiAgICAgIHRoaXMuYWN0aXZlU2NlbmUgPSBzY2VuZTtcbiAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IGdsdGYuYW5pbWF0aW9uczsgLy8gQW5pbWF0aW9uIE1peGVy44Kk44Oz44K544K/44Oz44K544KS55Sf5oiQXG5cbiAgICAgIHRoaXMubWl4ZXIgPSBuZXcgVEhSRUUuQW5pbWF0aW9uTWl4ZXIoc2NlbmUpOyAvL+WFqOOBpuOBrkFuaW1hdGlvbiBDbGlw44Gr5a++44GX44GmXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbnNbaV07IC8vQW5pbWF0aW9uIEFjdGlvbuOCkueUn+aIkFxuXG4gICAgICAgIHZhciBhY3Rpb24gPSB0aGlzLm1peGVyLmNsaXBBY3Rpb24oYW5pbWF0aW9uKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2FkZGVkJywgYW5pbWF0aW9uKTtcbiAgICAgICAgYWN0aW9uLnBsYXkoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zY2VuZS5hZGQoc2NlbmUpO1xuICAgICAgY29uc29sZS5sb2codGhpcy5taXhlcik7IC8vIGh0dHA6Ly9sZWFybmluZ3RocmVlanMuY29tL2Jsb2cvMjAxMi8wMS8yMC9jYXN0aW5nLXNoYWRvd3MvXG5cbiAgICAgIHRoaXMuc2NlbmUudHJhdmVyc2UoY2hpbGQgPT4ge1xuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5MaWdodCkge1xuICAgICAgICAgIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdjYXN0JywgY2hpbGQpOyAvLyBEZWJ1Z2dpbmcgbGlnaHQgcG9zaXRpb25zLlxuXG4gICAgICAgICAgY2hpbGQuc2hhZG93Q2FtZXJhVmlzaWJsZSA9IHRydWU7IC8vIEFkanVzdCBzaGFkb3cgYmlhcy5cblxuICAgICAgICAgIGNoaWxkLnNoYWRvd0JpYXMgPSAtMC4wMDU7XG4gICAgICAgICAgY2hpbGQuc2hhZG93RGFya25lc3MgPSAwLjE7IC8vIGNoaWxkLnNoYWRvdy5jYW1lcmEubmVhciA9IDA7XG4gICAgICAgICAgLy8gY2hpbGQuc2hhZG93LmNhbWVyYS5mYXIgPSAxMDAwO1xuICAgICAgICAgIC8vIExpZ2h0cyBjb21lIG9mZiBhIGJpdCBzdHJvbmdlciBjb21wYXJlZCB0byBFZXZlZSwgc29cbiAgICAgICAgICAvLyBsb3dlciB0aGUgaW50ZW5zaXR5LlxuXG4gICAgICAgICAgY2hpbGQuaW50ZW5zaXR5ID0gY2hpbGQuaW50ZW5zaXR5ICogMC4zOyAvLyB2YXIgaGVscGVyID0gbmV3IFRIUkVFLkNhbWVyYUhlbHBlciggY2hpbGQuc2hhZG93LmNhbWVyYSApO1xuICAgICAgICAgIC8vIHNjZW5lLmFkZCggaGVscGVyICk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5NZXNoKSB7XG4gICAgICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgICAgY2hpbGQucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG4gICAgICAgICAgY29uc29sZS5sb2coJ3JlY2VpdmUnLCBjaGlsZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ25vdGhpbmcnLCBjaGlsZCk7XG4gICAgICAgIH0gLy8gaWYoY2hpbGQubmFtZS5zdGFydHNXaXRoKCdDdWJlMDAzJykpIHtcbiAgICAgICAgLy8gICAgIGNoaWxkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vIEZpeCBleWVzXG5cblxuICAgICAgICBpZiAoY2hpbGQubmFtZS5zdGFydHNXaXRoKCdDdWJlMDA2JykpIHtcbiAgICAgICAgICBjaGlsZC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICAgICAgY2hpbGQucmVjZWl2ZVNoYWRvdyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTsgLy8gU2V0IHRoZSBjYW1lcmEgZXhwb3J0ZWQgaW4gZ2x0Zi5cbiAgICAgIC8vIFJlcXVpcmVzIGNhbWVyYSB0byBiZSBleHBvcnRlZCBmb3IgZ2x0Zi5cblxuICAgICAgdGhpcy5jYW1lcmEgPSBnbHRmLmNhbWVyYXNbMF07XG4gICAgICBjb25zb2xlLmxvZyh0aGlzLmNhbWVyYSk7XG4gICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgIH0sIHVuZGVmaW5lZCwgZXJyb3IgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfSk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcbiAgICAgIGFudGlhbGlhczogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDEsIF9lYXNlLkVBU0UuTGluZWFyKTtcbiAgICB0aGlzLndpZHRoID0gdGhpcy5jYW52YXNDb250YWluZXIucGFyZW50RWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0OyAvLyBodHRwczovL2dpdGh1Yi5jb20vZG9ubWNjdXJkeS90aHJlZS1nbHRmLXZpZXdlci9ibG9iL21hc3Rlci9zcmMvdmlld2VyLmpzXG5cbiAgICB0aGlzLnJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7IC8vIEltcG9ydGFudCB0byBnZXQgdGhlIGNvcnJlY3QgY29sb3JzLlxuXG4gICAgdGhpcy5yZW5kZXJlci5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cyA9IHRydWU7IC8vIEJhY2tncm91bmQgYXMgYmxhY2suXG5cbiAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHgwMDAwMDApOyAvLyB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHhGRkZGRkYsIDEuMCk7XG4gICAgLy8gQWZmZWN0cyBob3cgc3Ryb25nbHkgbGlnaHRzIGNvbWUgZXhwb3NlZC5cbiAgICAvLyB0aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSAwLjQ7XG4gICAgLy8gRW5hYmxlIHNoYWRvd3MuXG5cbiAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTsgLy8gVG8gYW50aWFsaWFzIHRoZSBzaGFkb3dcblxuICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwVHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG4gICAgdGhpcy5yZW5kZXJlci5nYW1tYU91dHB1dCA9IHRydWU7XG4gICAgdGhpcy5yZW5kZXJlci5nYW1tYUZhY3RvciA9IDIuMjsgLy8gVGhlIGNhbWVyYSBhc3BlY3QgZ29lcyBvZmYgc2luY2UgaXQgY291bGQgYmUgZXhwb3J0ZWQgYXQgYSBkaWZmZXJlbnRcbiAgICAvLyByYXRpby4gIEZvcmNlIHVwZGF0ZSB0aGUgYXNwZWN0IHJhdGlvLlxuICAgIC8vIHRoaXMuY2FtZXJhLmZvdiA9IHRoaXMud2lkdGggLyB0aGlzLmhlaWdodDtcblxuICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHRoaXMud2lkdGggLyB0aGlzLmhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gIH1cblxuICBnZXRBbmltYXRpb25CeU5hbWUobmFtZSkge1xuICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbnMuZmlsdGVyKGFuaW1hdGlvbkNsaXAgPT4ge1xuICAgICAgcmV0dXJuIGFuaW1hdGlvbkNsaXAubmFtZSA9PSBuYW1lO1xuICAgIH0pWzBdO1xuICB9XG5cbiAgZ2V0T2JqZWN0QnlOYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5hY3RpdmVTY2VuZS5jaGlsZHJlbi5maWx0ZXIob2JqZWN0M2QgPT4ge1xuICAgICAgcmV0dXJuIG9iamVjdDNkLm5hbWUgPT0gbmFtZTtcbiAgICB9KVswXTtcbiAgfVxuXG4gIG9uUHJvZ3Jlc3NVcGRhdGUocHJvZ3Jlc3MpIHtcbiAgICAvL0FuaW1hdGlvbiBNaXhlcuOCkuWun+ihjFxuICAgIGlmICh0aGlzLm1peGVyKSB7XG4gICAgICAvLyBXZSBuZWVkIHRvIGZpbmQgb3V0IGhvdyBsb25nIHRoZSBhbmltYXRpb24gaXMuXG4gICAgICAvLyBUaGUgbWl4ZXIgYXBwZWFycyB0byBoYXZlIG5vIGtub3dsZWRnZSBvZnQgdGhpcyBzbyB3ZSBuZWVkIHRvXG4gICAgICAvLyBsb29rIHVwIGEgc3BlY2lmaWMgYW5pbWF0aW9uIGFuZCBnZXQgdGhlIGR1cmF0aW9uIHRvXG4gICAgICAvLyBnZXQgdGhlIHRvdGFsIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICBjb25zdCBjYW1lcmFBbmltYXRpb24gPSB0aGlzLmdldEFuaW1hdGlvbkJ5TmFtZSgnQWN0aW9uJyk7XG4gICAgICBjb25zdCBkdXJhdGlvbiA9IGNhbWVyYUFuaW1hdGlvbi5kdXJhdGlvbjsgLy8gV2hlbiBkdXJhdGlvbiBoaXRzIGl0J3MgbWF4LCBhbmltYXRpb25NaXhlciBzZWVtcyB0byBoaXQgdGhlIGZpcnN0XG4gICAgICAvLyBmcmFtZSBzbyBuZXh0IGFsbG93IGl0IHRvIHJlYWNoIHRoZSBtYXggdmFsdWUuXG5cbiAgICAgIHRoaXMubWl4ZXIuc2V0VGltZShNYXRoLm1pbihkdXJhdGlvbiAqIHByb2dyZXNzLCBkdXJhdGlvbiAtIDAuMDAxKSk7XG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gVGhyZWVPYmplY3RWaWV3ZXIyOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/three-object-viewer2.js\n");

/***/ }),

/***/ "./examples/three-object-viewer3.js":
/*!******************************************!*\
  !*** ./examples/three-object-viewer3.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _GLTFLoader = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n\nvar _EffectComposer = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer */ \"./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n\nvar _RenderPass = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/RenderPass.js\");\n\nvar _UnrealBloomPass = __webpack_require__(/*! three/examples/jsm/postprocessing/UnrealBloomPass.js */ \"./node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js\");\n\nvar _FXAAShader = __webpack_require__(/*! three/examples/jsm/shaders/FXAAShader.js */ \"./node_modules/three/examples/jsm/shaders/FXAAShader.js\");\n\nvar _ShaderPass = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/ShaderPass.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n// https://threejs.org/docs/#manual/en/introduction/Loading-3D-models\n// https://threejs.org/examples/#webgl_loader_gltf\n// https://gist.github.com/bellbind/c4f8c502fcacbe29422e5ac315273858\n// https://github.com/funwithtriangles/blender-to-threejs-export-guide/blob/master/readme.md\n// https://threejsfundamentals.org/threejs/lessons/threejs-load-gltf.html\n// https://discoverthreejs.com/book/first-steps/load-models/\n// https://www.pentacreation.com/blog/2019/09/190916.html\n// https://www.pentacreation.com/blog/2019/10/191016.html\n// https://docs.blender.org/manual/ja/latest/addons/io_scene_gltf2.html\n// https://gltf-viewer.donmccurdy.com/\n// https://github.com/donmccurdy/three-gltf-viewer\n// import { Raf } from '../lib/raf/raf';\nclass ThreeObjectViewer3 {\n  constructor() {\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.rafProgress = new _rafProgress.RafProgress();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight); //   this.rafProgress.easeTo(this.progress, 0.26, EASE.easeInOutExpo);\n        //   this.rafProgress.easeTo(this.progress, 0.08, EASE.linear);\n\n        this.rafProgress.easeTo(this.progress, 0.18, _ease.EASE.easeInOutQuad);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new THREE.Scene();\n    var loader = new _GLTFLoader.GLTFLoader(); // const path = 'https://threejs.org/examples/models/gltf/DamagedHelmet/glTF/DamagedHelmet.gltf';\n    // const path = './public/dude.glb';\n\n    const path = './public/phone/phone.glb';\n    loader.load(path, gltf => {\n      this.clock = new THREE.Clock();\n      const scene = gltf.scenes[0];\n      this.activeScene = scene;\n      this.animations = gltf.animations; // Animation Mixer\n\n      this.mixer = new THREE.AnimationMixer(scene); //Animation Clip\n\n      for (var i = 0; i < this.animations.length; i++) {\n        var animation = this.animations[i]; //Animation Action\n\n        var action = this.mixer.clipAction(animation);\n        console.log('added', animation);\n        action.play();\n      }\n\n      this.scene.add(scene);\n      console.log(this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      this.scene.traverse(child => {\n        if (child instanceof THREE.Light) {\n          child.castShadow = true; // Debugging light positions.\n\n          child.shadowCameraVisible = false; // Adjust shadow bias.\n\n          child.shadow.bias = -0.002; // Remove the rigged looking shadows.\n\n          child.shadow.mapSize.width = 1024;\n          child.shadow.mapSize.height = 1024; // child.shadowDarkness = 0.5;\n          // child.shadow.camera.near = 0;\n          // child.shadow.camera.far = 1000;\n          // Lights come off a bit stronger compared to Eevee, so\n          // lower the intensity. Stronger = less shadows.\n\n          child.intensity = child.intensity * 0.3; // var helper = new THREE.CameraHelper( child.shadow.camera );\n          // scene.add( helper );\n        } else if (child instanceof THREE.Mesh) {\n          child.castShadow = true;\n          child.receiveShadow = true; // child.geometry.computeVertexNormals(true);\n          // Get the image mappings.\n          // if(child.material && child.material.map) {\n          //   child.material.map.needsUpdate = true;\n          // }\n        } else {} // if(child.name.startsWith('Cube003')) {\n        //     child.receiveShadow = true;\n        // }\n        // Fix eyes\n\n\n        if (child.name.startsWith('Cylinder')) {\n          child.castShadow = false;\n          child.receiveShadow = true;\n        }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n      this.camera = gltf.cameras[0];\n      console.log(this.camera);\n      this.resize();\n    }, undefined, error => {\n      console.error(error);\n    });\n    this.renderer = new THREE.WebGLRenderer({\n      antialias: true,\n      // precision: 'highp'\n      autoSize: true\n    });\n    this.composer = new _EffectComposer.EffectComposer(this.renderer);\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  resize() {\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.width = this.canvasContainer.parentElement.offsetWidth;\n    this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n    // https://threejs.org/docs/#api/en/constants/Renderer\n\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(this.width, this.height); // Important to get the correct colors.\n\n    this.renderer.physicallyCorrectLights = true; // Background as black.\n\n    this.renderer.setClearColor(0x4287f5); // this.renderer.setClearColor(0xE7E7E7, 1.0);\n    // Affects how strongly lights come exposed.\n    // this.renderer.toneMappingExposure = 0.4;\n    // https://threejs.org/examples/#webgl_tonemapping\n\n    this.renderer.toneMappingExposure = 0.35;\n    this.renderer.toneMapping = THREE.ACESFilmicToneMapping; // Enable shadows.\n    // https://threejs.org/docs/#api/en/constants/Renderer\n\n    this.renderer.shadowMap.enabled = true; // To antialias the shadow\n\n    this.renderer.shadowMapType = THREE.PCFSoftShadowMap;\n    this.renderer.gammaOutput = true;\n    this.renderer.gammaFactor = 2.2; // Post processing\n\n    this.composer.setSize(this.width, this.height);\n    const fxaaPass = new _ShaderPass.ShaderPass(_FXAAShader.FXAAShader);\n    fxaaPass.material.uniforms['resolution'].value.x = 1 / (this.width * window.devicePixelRatio);\n    fxaaPass.material.uniforms['resolution'].value.y = 1 / (this.height * window.devicePixelRatio);\n    this.composer.addPass(fxaaPass);\n    this.composer.addPass(new _RenderPass.RenderPass(this.scene, this.camera)); // var bloomPass = new UnrealBloomPass(1, 25, 5, 256);\n    // this.composer.addPass(bloomPass);\n    // The camera aspect goes off since it could be exported at a different\n    // ratio.  Force update the aspect ratio.\n    // this.camera.fov = 25; // Update FOV.\n\n    this.camera.zoom = 1; // Update FOV.\n\n    this.camera.aspect = this.width / this.height;\n    this.camera.updateProjectionMatrix();\n  }\n\n  getAnimationByName(name) {\n    return this.animations.filter(animationClip => {\n      return animationClip.name == name;\n    })[0];\n  }\n\n  getObjectByName(name) {\n    return this.activeScene.children.filter(object3d => {\n      return object3d.name == name;\n    })[0];\n  }\n\n  onProgressUpdate(progress) {\n    //Animation Mixer\n    if (this.mixer) {\n      // We need to find out how long the animation is.\n      // The mixer appears to have no knowledge oft this so we need to\n      // look up a specific animation and get the duration to\n      // get the total duration of the animation.\n      const cameraAnimation = this.getAnimationByName('CubeAction');\n      const duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n      // frame so next allow it to reach the max value.\n\n      this.mixer.setTime(Math.min(duration * progress, duration - 0.001));\n    } // this.renderer.render(this.scene, this.camera);\n\n\n    this.composer.render();\n  }\n\n}\n\nexports.default = ThreeObjectViewer3;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyMy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLW9iamVjdC12aWV3ZXIzLmpzPzI2YzciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfR0xURkxvYWRlciA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyXCIpO1xuXG52YXIgX0VmZmVjdENvbXBvc2VyID0gcmVxdWlyZShcInRocmVlL2V4YW1wbGVzL2pzbS9wb3N0cHJvY2Vzc2luZy9FZmZlY3RDb21wb3NlclwiKTtcblxudmFyIF9SZW5kZXJQYXNzID0gcmVxdWlyZShcInRocmVlL2V4YW1wbGVzL2pzbS9wb3N0cHJvY2Vzc2luZy9SZW5kZXJQYXNzLmpzXCIpO1xuXG52YXIgX1VucmVhbEJsb29tUGFzcyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvVW5yZWFsQmxvb21QYXNzLmpzXCIpO1xuXG52YXIgX0ZYQUFTaGFkZXIgPSByZXF1aXJlKFwidGhyZWUvZXhhbXBsZXMvanNtL3NoYWRlcnMvRlhBQVNoYWRlci5qc1wiKTtcblxudmFyIF9TaGFkZXJQYXNzID0gcmVxdWlyZShcInRocmVlL2V4YW1wbGVzL2pzbS9wb3N0cHJvY2Vzc2luZy9TaGFkZXJQYXNzLmpzXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxudmFyIF9yYWZQcm9ncmVzcyA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZi1wcm9ncmVzc1wiKTtcblxudmFyIF9kb20gPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb21cIik7XG5cbnZhciBfZWFzZSA9IHJlcXVpcmUoXCIuLi9saWIvZWFzZS9lYXNlXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbi8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jbWFudWFsL2VuL2ludHJvZHVjdGlvbi9Mb2FkaW5nLTNELW1vZGVsc1xuLy8gaHR0cHM6Ly90aHJlZWpzLm9yZy9leGFtcGxlcy8jd2ViZ2xfbG9hZGVyX2dsdGZcbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2JlbGxiaW5kL2M0ZjhjNTAyZmNhY2JlMjk0MjJlNWFjMzE1MjczODU4XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZnVud2l0aHRyaWFuZ2xlcy9ibGVuZGVyLXRvLXRocmVlanMtZXhwb3J0LWd1aWRlL2Jsb2IvbWFzdGVyL3JlYWRtZS5tZFxuLy8gaHR0cHM6Ly90aHJlZWpzZnVuZGFtZW50YWxzLm9yZy90aHJlZWpzL2xlc3NvbnMvdGhyZWVqcy1sb2FkLWdsdGYuaHRtbFxuLy8gaHR0cHM6Ly9kaXNjb3ZlcnRocmVlanMuY29tL2Jvb2svZmlyc3Qtc3RlcHMvbG9hZC1tb2RlbHMvXG4vLyBodHRwczovL3d3dy5wZW50YWNyZWF0aW9uLmNvbS9ibG9nLzIwMTkvMDkvMTkwOTE2Lmh0bWxcbi8vIGh0dHBzOi8vd3d3LnBlbnRhY3JlYXRpb24uY29tL2Jsb2cvMjAxOS8xMC8xOTEwMTYuaHRtbFxuLy8gaHR0cHM6Ly9kb2NzLmJsZW5kZXIub3JnL21hbnVhbC9qYS9sYXRlc3QvYWRkb25zL2lvX3NjZW5lX2dsdGYyLmh0bWxcbi8vIGh0dHBzOi8vZ2x0Zi12aWV3ZXIuZG9ubWNjdXJkeS5jb20vXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZG9ubWNjdXJkeS90aHJlZS1nbHRmLXZpZXdlclxuLy8gaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuY2xhc3MgVGhyZWVPYmplY3RWaWV3ZXIzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc29sZS5sb2coJ1RocmVlSlMgT2JqZWN0IFZpZXdlciBEZW1vJyk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgX2RvbVdhdGNoZXIuRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MgPSBuZXcgX3JhZlByb2dyZXNzLlJhZlByb2dyZXNzKCk7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy53YXRjaCh0aGlzLm9uUHJvZ3Jlc3NVcGRhdGUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Njcm9sbCcsXG4gICAgICBjYWxsYmFjazogZXZlbnQgPT4ge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQsIHdpbmRvdy5pbm5lckhlaWdodCk7IC8vICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMC4yNiwgRUFTRS5lYXNlSW5PdXRFeHBvKTtcbiAgICAgICAgLy8gICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjA4LCBFQVNFLmxpbmVhcik7XG5cbiAgICAgICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMC4xOCwgX2Vhc2UuRUFTRS5lYXNlSW5PdXRRdWFkKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB2YXIgbG9hZGVyID0gbmV3IF9HTFRGTG9hZGVyLkdMVEZMb2FkZXIoKTsgLy8gY29uc3QgcGF0aCA9ICdodHRwczovL3RocmVlanMub3JnL2V4YW1wbGVzL21vZGVscy9nbHRmL0RhbWFnZWRIZWxtZXQvZ2xURi9EYW1hZ2VkSGVsbWV0LmdsdGYnO1xuICAgIC8vIGNvbnN0IHBhdGggPSAnLi9wdWJsaWMvZHVkZS5nbGInO1xuXG4gICAgY29uc3QgcGF0aCA9ICcuL3B1YmxpYy9waG9uZS9waG9uZS5nbGInO1xuICAgIGxvYWRlci5sb2FkKHBhdGgsIGdsdGYgPT4ge1xuICAgICAgdGhpcy5jbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpO1xuICAgICAgY29uc3Qgc2NlbmUgPSBnbHRmLnNjZW5lc1swXTtcbiAgICAgIHRoaXMuYWN0aXZlU2NlbmUgPSBzY2VuZTtcbiAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IGdsdGYuYW5pbWF0aW9uczsgLy8gQW5pbWF0aW9uIE1peGVy44Kk44Oz44K544K/44Oz44K544KS55Sf5oiQXG5cbiAgICAgIHRoaXMubWl4ZXIgPSBuZXcgVEhSRUUuQW5pbWF0aW9uTWl4ZXIoc2NlbmUpOyAvL+WFqOOBpuOBrkFuaW1hdGlvbiBDbGlw44Gr5a++44GX44GmXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbnNbaV07IC8vQW5pbWF0aW9uIEFjdGlvbuOCkueUn+aIkFxuXG4gICAgICAgIHZhciBhY3Rpb24gPSB0aGlzLm1peGVyLmNsaXBBY3Rpb24oYW5pbWF0aW9uKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2FkZGVkJywgYW5pbWF0aW9uKTtcbiAgICAgICAgYWN0aW9uLnBsYXkoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zY2VuZS5hZGQoc2NlbmUpO1xuICAgICAgY29uc29sZS5sb2codGhpcy5taXhlcik7IC8vIGh0dHA6Ly9sZWFybmluZ3RocmVlanMuY29tL2Jsb2cvMjAxMi8wMS8yMC9jYXN0aW5nLXNoYWRvd3MvXG5cbiAgICAgIHRoaXMuc2NlbmUudHJhdmVyc2UoY2hpbGQgPT4ge1xuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5MaWdodCkge1xuICAgICAgICAgIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlOyAvLyBEZWJ1Z2dpbmcgbGlnaHQgcG9zaXRpb25zLlxuXG4gICAgICAgICAgY2hpbGQuc2hhZG93Q2FtZXJhVmlzaWJsZSA9IGZhbHNlOyAvLyBBZGp1c3Qgc2hhZG93IGJpYXMuXG5cbiAgICAgICAgICBjaGlsZC5zaGFkb3cuYmlhcyA9IC0wLjAwMjsgLy8gUmVtb3ZlIHRoZSByaWdnZWQgbG9va2luZyBzaGFkb3dzLlxuXG4gICAgICAgICAgY2hpbGQuc2hhZG93Lm1hcFNpemUud2lkdGggPSAxMDI0O1xuICAgICAgICAgIGNoaWxkLnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IDEwMjQ7IC8vIGNoaWxkLnNoYWRvd0RhcmtuZXNzID0gMC41O1xuICAgICAgICAgIC8vIGNoaWxkLnNoYWRvdy5jYW1lcmEubmVhciA9IDA7XG4gICAgICAgICAgLy8gY2hpbGQuc2hhZG93LmNhbWVyYS5mYXIgPSAxMDAwO1xuICAgICAgICAgIC8vIExpZ2h0cyBjb21lIG9mZiBhIGJpdCBzdHJvbmdlciBjb21wYXJlZCB0byBFZXZlZSwgc29cbiAgICAgICAgICAvLyBsb3dlciB0aGUgaW50ZW5zaXR5LiBTdHJvbmdlciA9IGxlc3Mgc2hhZG93cy5cblxuICAgICAgICAgIGNoaWxkLmludGVuc2l0eSA9IGNoaWxkLmludGVuc2l0eSAqIDAuMzsgLy8gdmFyIGhlbHBlciA9IG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIoIGNoaWxkLnNoYWRvdy5jYW1lcmEgKTtcbiAgICAgICAgICAvLyBzY2VuZS5hZGQoIGhlbHBlciApO1xuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaCkge1xuICAgICAgICAgIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIGNoaWxkLnJlY2VpdmVTaGFkb3cgPSB0cnVlOyAvLyBjaGlsZC5nZW9tZXRyeS5jb21wdXRlVmVydGV4Tm9ybWFscyh0cnVlKTtcbiAgICAgICAgICAvLyBHZXQgdGhlIGltYWdlIG1hcHBpbmdzLlxuICAgICAgICAgIC8vIGlmKGNoaWxkLm1hdGVyaWFsICYmIGNoaWxkLm1hdGVyaWFsLm1hcCkge1xuICAgICAgICAgIC8vICAgY2hpbGQubWF0ZXJpYWwubWFwLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAvLyB9XG4gICAgICAgIH0gZWxzZSB7fSAvLyBpZihjaGlsZC5uYW1lLnN0YXJ0c1dpdGgoJ0N1YmUwMDMnKSkge1xuICAgICAgICAvLyAgICAgY2hpbGQucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gRml4IGV5ZXNcblxuXG4gICAgICAgIGlmIChjaGlsZC5uYW1lLnN0YXJ0c1dpdGgoJ0N5bGluZGVyJykpIHtcbiAgICAgICAgICBjaGlsZC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICAgICAgY2hpbGQucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pOyAvLyBTZXQgdGhlIGNhbWVyYSBleHBvcnRlZCBpbiBnbHRmLlxuICAgICAgLy8gUmVxdWlyZXMgY2FtZXJhIHRvIGJlIGV4cG9ydGVkIGZvciBnbHRmLlxuXG4gICAgICB0aGlzLmNhbWVyYSA9IGdsdGYuY2FtZXJhc1swXTtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2FtZXJhKTtcbiAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgfSwgdW5kZWZpbmVkLCBlcnJvciA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe1xuICAgICAgYW50aWFsaWFzOiB0cnVlLFxuICAgICAgLy8gcHJlY2lzaW9uOiAnaGlnaHAnXG4gICAgICBhdXRvU2l6ZTogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuY29tcG9zZXIgPSBuZXcgX0VmZmVjdENvbXBvc2VyLkVmZmVjdENvbXBvc2VyKHRoaXMucmVuZGVyZXIpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgX2Vhc2UuRUFTRS5MaW5lYXIpO1xuICAgIHRoaXMud2lkdGggPSB0aGlzLmNhbnZhc0NvbnRhaW5lci5wYXJlbnRFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5jYW52YXNDb250YWluZXIucGFyZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kb25tY2N1cmR5L3RocmVlLWdsdGYtdmlld2VyL2Jsb2IvbWFzdGVyL3NyYy92aWV3ZXIuanNcbiAgICAvLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9jb25zdGFudHMvUmVuZGVyZXJcblxuICAgIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTsgLy8gSW1wb3J0YW50IHRvIGdldCB0aGUgY29ycmVjdCBjb2xvcnMuXG5cbiAgICB0aGlzLnJlbmRlcmVyLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzID0gdHJ1ZTsgLy8gQmFja2dyb3VuZCBhcyBibGFjay5cblxuICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcigweDQyODdmNSk7IC8vIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcigweEU3RTdFNywgMS4wKTtcbiAgICAvLyBBZmZlY3RzIGhvdyBzdHJvbmdseSBsaWdodHMgY29tZSBleHBvc2VkLlxuICAgIC8vIHRoaXMucmVuZGVyZXIudG9uZU1hcHBpbmdFeHBvc3VyZSA9IDAuNDtcbiAgICAvLyBodHRwczovL3RocmVlanMub3JnL2V4YW1wbGVzLyN3ZWJnbF90b25lbWFwcGluZ1xuXG4gICAgdGhpcy5yZW5kZXJlci50b25lTWFwcGluZ0V4cG9zdXJlID0gMC4zNTtcbiAgICB0aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nID0gVEhSRUUuQUNFU0ZpbG1pY1RvbmVNYXBwaW5nOyAvLyBFbmFibGUgc2hhZG93cy5cbiAgICAvLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9jb25zdGFudHMvUmVuZGVyZXJcblxuICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlOyAvLyBUbyBhbnRpYWxpYXMgdGhlIHNoYWRvd1xuXG4gICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXBUeXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcbiAgICB0aGlzLnJlbmRlcmVyLmdhbW1hT3V0cHV0ID0gdHJ1ZTtcbiAgICB0aGlzLnJlbmRlcmVyLmdhbW1hRmFjdG9yID0gMi4yOyAvLyBQb3N0IHByb2Nlc3NpbmdcblxuICAgIHRoaXMuY29tcG9zZXIuc2V0U2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgY29uc3QgZnhhYVBhc3MgPSBuZXcgX1NoYWRlclBhc3MuU2hhZGVyUGFzcyhfRlhBQVNoYWRlci5GWEFBU2hhZGVyKTtcbiAgICBmeGFhUGFzcy5tYXRlcmlhbC51bmlmb3Jtc1sncmVzb2x1dGlvbiddLnZhbHVlLnggPSAxIC8gKHRoaXMud2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgZnhhYVBhc3MubWF0ZXJpYWwudW5pZm9ybXNbJ3Jlc29sdXRpb24nXS52YWx1ZS55ID0gMSAvICh0aGlzLmhlaWdodCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICB0aGlzLmNvbXBvc2VyLmFkZFBhc3MoZnhhYVBhc3MpO1xuICAgIHRoaXMuY29tcG9zZXIuYWRkUGFzcyhuZXcgX1JlbmRlclBhc3MuUmVuZGVyUGFzcyh0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSkpOyAvLyB2YXIgYmxvb21QYXNzID0gbmV3IFVucmVhbEJsb29tUGFzcygxLCAyNSwgNSwgMjU2KTtcbiAgICAvLyB0aGlzLmNvbXBvc2VyLmFkZFBhc3MoYmxvb21QYXNzKTtcbiAgICAvLyBUaGUgY2FtZXJhIGFzcGVjdCBnb2VzIG9mZiBzaW5jZSBpdCBjb3VsZCBiZSBleHBvcnRlZCBhdCBhIGRpZmZlcmVudFxuICAgIC8vIHJhdGlvLiAgRm9yY2UgdXBkYXRlIHRoZSBhc3BlY3QgcmF0aW8uXG4gICAgLy8gdGhpcy5jYW1lcmEuZm92ID0gMjU7IC8vIFVwZGF0ZSBGT1YuXG5cbiAgICB0aGlzLmNhbWVyYS56b29tID0gMTsgLy8gVXBkYXRlIEZPVi5cblxuICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHRoaXMud2lkdGggLyB0aGlzLmhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gIH1cblxuICBnZXRBbmltYXRpb25CeU5hbWUobmFtZSkge1xuICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbnMuZmlsdGVyKGFuaW1hdGlvbkNsaXAgPT4ge1xuICAgICAgcmV0dXJuIGFuaW1hdGlvbkNsaXAubmFtZSA9PSBuYW1lO1xuICAgIH0pWzBdO1xuICB9XG5cbiAgZ2V0T2JqZWN0QnlOYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5hY3RpdmVTY2VuZS5jaGlsZHJlbi5maWx0ZXIob2JqZWN0M2QgPT4ge1xuICAgICAgcmV0dXJuIG9iamVjdDNkLm5hbWUgPT0gbmFtZTtcbiAgICB9KVswXTtcbiAgfVxuXG4gIG9uUHJvZ3Jlc3NVcGRhdGUocHJvZ3Jlc3MpIHtcbiAgICAvL0FuaW1hdGlvbiBNaXhlcuOCkuWun+ihjFxuICAgIGlmICh0aGlzLm1peGVyKSB7XG4gICAgICAvLyBXZSBuZWVkIHRvIGZpbmQgb3V0IGhvdyBsb25nIHRoZSBhbmltYXRpb24gaXMuXG4gICAgICAvLyBUaGUgbWl4ZXIgYXBwZWFycyB0byBoYXZlIG5vIGtub3dsZWRnZSBvZnQgdGhpcyBzbyB3ZSBuZWVkIHRvXG4gICAgICAvLyBsb29rIHVwIGEgc3BlY2lmaWMgYW5pbWF0aW9uIGFuZCBnZXQgdGhlIGR1cmF0aW9uIHRvXG4gICAgICAvLyBnZXQgdGhlIHRvdGFsIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICBjb25zdCBjYW1lcmFBbmltYXRpb24gPSB0aGlzLmdldEFuaW1hdGlvbkJ5TmFtZSgnQ3ViZUFjdGlvbicpO1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBjYW1lcmFBbmltYXRpb24uZHVyYXRpb247IC8vIFdoZW4gZHVyYXRpb24gaGl0cyBpdCdzIG1heCwgYW5pbWF0aW9uTWl4ZXIgc2VlbXMgdG8gaGl0IHRoZSBmaXJzdFxuICAgICAgLy8gZnJhbWUgc28gbmV4dCBhbGxvdyBpdCB0byByZWFjaCB0aGUgbWF4IHZhbHVlLlxuXG4gICAgICB0aGlzLm1peGVyLnNldFRpbWUoTWF0aC5taW4oZHVyYXRpb24gKiBwcm9ncmVzcywgZHVyYXRpb24gLSAwLjAwMSkpO1xuICAgIH0gLy8gdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuXG5cbiAgICB0aGlzLmNvbXBvc2VyLnJlbmRlcigpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gVGhyZWVPYmplY3RWaWV3ZXIzOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/three-object-viewer3.js\n");

/***/ }),

/***/ "./examples/three-object-viewer4.js":
/*!******************************************!*\
  !*** ./examples/three-object-viewer4.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _datguif = __webpack_require__(/*! ../lib/datguif/datguif */ \"./lib/datguif/datguif.js\");\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _GLTFLoader = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n\nvar _EffectComposer = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer */ \"./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n\nvar _RenderPass = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/RenderPass.js\");\n\nvar _UnrealBloomPass = __webpack_require__(/*! three/examples/jsm/postprocessing/UnrealBloomPass.js */ \"./node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js\");\n\nvar _FXAAShader = __webpack_require__(/*! three/examples/jsm/shaders/FXAAShader.js */ \"./node_modules/three/examples/jsm/shaders/FXAAShader.js\");\n\nvar _ShaderPass = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/ShaderPass.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n// https://threejs.org/docs/#manual/en/introduction/Loading-3D-models\n// https://threejs.org/examples/#webgl_loader_gltf\n// https://gist.github.com/bellbind/c4f8c502fcacbe29422e5ac315273858\n// https://github.com/funwithtriangles/blender-to-threejs-export-guide/blob/master/readme.md\n// https://threejsfundamentals.org/threejs/lessons/threejs-load-gltf.html\n// https://discoverthreejs.com/book/first-steps/load-models/\n// https://www.pentacreation.com/blog/2019/09/190916.html\n// https://www.pentacreation.com/blog/2019/10/191016.html\n// https://docs.blender.org/manual/ja/latest/addons/io_scene_gltf2.html\n// https://gltf-viewer.donmccurdy.com/\n// https://github.com/donmccurdy/three-gltf-viewer\n// import { Raf } from '../lib/raf/raf';\nclass ThreeObjectViewer4 {\n  constructor() {\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.rafProgress = new _rafProgress.RafProgress();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.scrollLerp = 0.38;\n    this.scrollEase = 'easeInQuad';\n    this.rendererConfig = {\n      clearColor: '#FFFFFF',\n      backgroundAlpha: 1.0\n    };\n    this.gui = new _datguif.Datguif({\n      load: JSON\n    });\n    this.gui.addFolder('Settings').open();\n    this.gui.addFolder('Renderer', 'Settings');\n    this.gui.addFolder('Camera', 'Settings');\n    this.gui.addFolder('Scroll', 'Settings');\n    this.gui.addFolder('Lights');\n    this.gui.addFolder('Objects');\n    this.gui.addObjectToFolder('Scroll', this, [{\n      keyName: 'scrollLerp',\n      min: 0,\n      max: 1,\n      step: 0.01\n    }, {\n      keyName: 'scrollEase',\n      options: ['linear', 'easeOutQuad', 'easeInQuad']\n    }]);\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight); //   this.rafProgress.easeTo(this.progress, 0.26, EASE.easeInOutExpo);\n        //   this.rafProgress.easeTo(this.progress, 0.08, EASE.linear);\n\n        this.rafProgress.easeTo(this.progress, this.scrollLerp, _ease.EASE[this.scrollEase]);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new THREE.Scene();\n    this.gui.onUpdate(prop => {\n      this.draw();\n    });\n    var loader = new _GLTFLoader.GLTFLoader(); // const path = 'https://threejs.org/examples/models/gltf/DamagedHelmet/glTF/DamagedHelmet.gltf';\n    // const path = './public/dude.glb';\n\n    const path = './public/home/home3.gltf';\n    loader.load(path, gltf => {\n      const gltfData = gltf.parser.json;\n\n      const getNodeByName = name => {\n        return gltfData.nodes.filter(node => {\n          return node.name = name;\n        })[0];\n      };\n\n      console.log(gltfData);\n      this.clock = new THREE.Clock();\n      const scene = gltf.scenes[0];\n      this.activeScene = scene;\n      this.animations = gltf.animations; // Animation Mixer\n\n      this.mixer = new THREE.AnimationMixer(scene); //Animation Clip\n\n      for (var i = 0; i < this.animations.length; i++) {\n        var animation = this.animations[i]; //Animation Action\n\n        var action = this.mixer.clipAction(animation);\n        console.log('added', animation);\n        action.play();\n      }\n\n      this.scene.add(scene);\n      console.log(this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      this.scene.traverse(child => {\n        if (child instanceof THREE.Light) {\n          child.castShadow = false;\n          console.log('light', child);\n          const shadowEnabledLights = ['Point013_Orientation', 'Point003_Orientation'];\n\n          if (~shadowEnabledLights.indexOf(child.name)) {\n            child.castShadow = true;\n          } // Debugging light positions.\n          // child.shadowCameraVisible = false;\n\n\n          if (child.shadow) {\n            // Adjust shadow bias.\n            child.shadow.bias = -0.002; // Remove the rigged looking shadows.\n\n            child.shadow.mapSize.width = 1024;\n            child.shadow.mapSize.height = 1024; // child.shadowDarkness = 0.5;\n            // child.shadow.camera.near = 0;\n            // child.shadow.camera.far = 1000;\n            // var helper = new THREE.CameraHelper( child.shadow.camera );\n            // scene.add( helper );\n          } // Point lights are defined in watts which goes waay off in three.js\n\n\n          if (child instanceof THREE.PointLight) {\n            child.intensity = child.intensity * 0.01;\n          } // If it's a spot light, it needs to go down even more.\n\n\n          if (child.type == \"SpotLight\") {\n            child.intensity = child.intensity * 0.001;\n          }\n\n          this.gui.addFolder(child.name, 'Lights');\n          this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'intensity',\n            min: 0,\n            max: 3000\n          }, {\n            keyName: 'color'\n          }]);\n\n          if (child.shadow) {\n            const shadowFolderId = child.name + ' shadow';\n            console.log(child.shadow);\n            this.gui.addFolder(shadowFolderId, child.name);\n            this.gui.addObjectToFolder(shadowFolderId, child.shadow, [{\n              keyName: 'bias',\n              min: -1,\n              max: 1,\n              step: 0.00001\n            }, {\n              keyName: 'radius',\n              min: 0,\n              max: 100,\n              step: 0.01\n            }]);\n          }\n        } else if (child instanceof THREE.Mesh) {\n          child.castShadow = true; // child.receiveShadow = true;\n          // child.geometry.computeVertexNormals(true);\n\n          this.gui.addFolder(child.name, 'Objects');\n          this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'receiveShadow'\n          }]); // Get the image mappings.\n          // if(child.material && child.material.map) {\n          //   child.material.map.needsUpdate = true;\n          // }\n        } else {} // if(child.name.startsWith('Cube003')) {\n        //     child.receiveShadow = true;\n        // }\n        // Fix eyes\n\n\n        if (child.name.startsWith('Plane')) {\n          child.castShadow = false;\n          child.receiveShadow = true;\n        }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n      this.camera = gltf.cameras[0];\n      console.log(this.camera);\n      this.resize(); // Use fog to cover far distances.\n\n      const color = 0xFFFFFF;\n      this.scene.fog = new THREE.Fog(color, 20, 24); // Enable shadows.\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      this.renderer.shadowMap.enabled = true; // To antialias the shadow\n\n      this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n      this.renderer.gammaOutput = true;\n      this.renderer.gammaFactor = 2.2; // Important to get the correct colors.\n\n      this.renderer.physicallyCorrectLights = true; // Background as black.\n      // this.renderer.setClearColor(0x4287f5);\n\n      this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha); // Affects how strongly lights come exposed.\n      // https://threejs.org/examples/#webgl_tonemapping\n\n      this.renderer.toneMappingExposure = 1; // this.renderer.toneMapping = THREE.ACESFilmicToneMapping;\n\n      this.gui.addObjectToFolder('Renderer', this.renderer, [{\n        keyName: 'toneMappingExposure',\n        min: 0,\n        max: 5,\n        step: 0.01\n      }]);\n      this.gui.addObjectToFolder('Renderer', this.rendererConfig, [{\n        keyName: 'clearColor',\n        callback: () => {\n          this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n        }\n      }, {\n        keyName: 'backgroundAlpha',\n        callback: () => {\n          this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n        }\n      }]);\n      this.gui.addObjectToFolder('Camera', this.camera, [{\n        keyName: 'fov',\n        min: 0,\n        max: 50,\n        step: 0.01,\n        callback: () => {\n          this.camera.updateProjectionMatrix();\n        }\n      }, {\n        keyName: 'zoom',\n        min: 0,\n        max: 10,\n        step: 0.0001,\n        callback: () => {\n          this.camera.updateProjectionMatrix();\n        }\n      }]);\n      this.gui.addFolder('General Lights');\n      this.generalLightConfig = {\n        ambientLightColor: '#FFFFFF',\n        ambientLightAlpha: 1.2\n      }; // Additional lighting outside the blender.\n      // var light = new THREE.HemisphereLight( 0xffffbb, 0xffffff, 1 );\n      // this.scene.add( light );\n\n      this.ambientLight = new THREE.AmbientLight(this.generalLightConfig.ambientLightColor);\n      this.ambientLight.intensity = this.generalLightConfig.ambientLightAlpha;\n      scene.add(this.ambientLight);\n      this.gui.addObjectToFolder('General Lights', this.generalLightConfig, [{\n        keyName: 'ambientLightColor',\n        callback: () => {\n          this.ambientLight.color = new THREE.Color(this.generalLightConfig.ambientLightColor);\n        }\n      }, {\n        keyName: 'ambientLightAlpha',\n        callback: () => {\n          this.ambientLight.intensity = this.generalLightConfig.ambientLightAlpha;\n        }\n      }]);\n      var width = 50;\n      var height = 50;\n      var intensity = 0;\n      var rectLight = new THREE.RectAreaLight('#FFFFFF', intensity, width, height);\n      rectLight.position.set(0, 0, 25); // rectLight.lookAt( 0, 0, 0 );\n\n      this.scene.add(rectLight);\n      rectLightHelper = new THREE.RectAreaLightHelper(rectLight);\n      rectLight.add(rectLightHelper);\n      this.gui.addButton('Refresh', this.refresh.bind(this));\n    }, undefined, error => {\n      console.error(error);\n    });\n    this.renderer = new THREE.WebGLRenderer({\n      antialias: true,\n      // precision: 'highp'\n      autoSize: true\n    });\n    this.composer = new _EffectComposer.EffectComposer(this.renderer);\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  resize() {\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.width = this.canvasContainer.parentElement.offsetWidth;\n    this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n    // https://threejs.org/docs/#api/en/constants/Renderer\n\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(this.width, this.height); // Post processing\n    // this.composer.setSize( this.width, this.height);\n    // const fxaaPass = new ShaderPass( FXAAShader );\n    // fxaaPass.material.uniforms[ 'resolution' ].value.x = 1 / ( this.width * window.devicePixelRatio);\n    // fxaaPass.material.uniforms[ 'resolution' ].value.y = 1 / ( this.height * window.devicePixelRatio);\n    // this.composer.addPass(fxaaPass);\n    // this.composer.addPass(new RenderPass(this.scene, this.camera));\n    // var bloomPass = new UnrealBloomPass(1, 25, 5, 256);\n    // this.composer.addPass(bloomPass);\n    // The camera aspect goes off since it could be exported at a different\n    // ratio.  Force update the aspect ratio.\n\n    this.camera.aspect = this.width / this.height;\n    this.camera.updateProjectionMatrix();\n  }\n\n  refresh() {\n    this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n    this.resize();\n    this.draw();\n  }\n\n  getAnimationByName(name) {\n    return this.animations.filter(animationClip => {\n      return animationClip.name == name;\n    })[0];\n  }\n\n  getObjectByName(name) {\n    return this.activeScene.children.filter(object3d => {\n      return object3d.name == name;\n    })[0];\n  }\n\n  onProgressUpdate(progress) {\n    //Animation Mixer\n    if (this.mixer) {\n      // We need to find out how long the animation is.\n      // The mixer appears to have no knowledge oft this so we need to\n      // look up a specific animation and get the duration to\n      // get the total duration of the animation.\n      const cameraAnimation = this.getAnimationByName('Action');\n      const duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n      // frame so next allow it to reach the max value.\n\n      this.mixer.setTime(Math.min(duration * progress, duration - 0.001));\n    }\n\n    this.draw(); // this.renderer.render(this.scene, this.camera);\n    // this.composer.render();\n  }\n\n  draw() {\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = ThreeObjectViewer4;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyNC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLW9iamVjdC12aWV3ZXI0LmpzPzg1ODMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGF0Z3VpZiA9IHJlcXVpcmUoXCIuLi9saWIvZGF0Z3VpZi9kYXRndWlmXCIpO1xuXG52YXIgX3RocmVlID0gcmVxdWlyZShcInRocmVlXCIpO1xuXG52YXIgVEhSRUUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGhyZWUpO1xuXG52YXIgX0dMVEZMb2FkZXIgPSByZXF1aXJlKFwidGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlclwiKTtcblxudmFyIF9FZmZlY3RDb21wb3NlciA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvRWZmZWN0Q29tcG9zZXJcIik7XG5cbnZhciBfUmVuZGVyUGFzcyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvUmVuZGVyUGFzcy5qc1wiKTtcblxudmFyIF9VbnJlYWxCbG9vbVBhc3MgPSByZXF1aXJlKFwidGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL1VucmVhbEJsb29tUGFzcy5qc1wiKTtcblxudmFyIF9GWEFBU2hhZGVyID0gcmVxdWlyZShcInRocmVlL2V4YW1wbGVzL2pzbS9zaGFkZXJzL0ZYQUFTaGFkZXIuanNcIik7XG5cbnZhciBfU2hhZGVyUGFzcyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvU2hhZGVyUGFzcy5qc1wiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbnZhciBfcmFmUHJvZ3Jlc3MgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3NcIik7XG5cbnZhciBfZG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tXCIpO1xuXG52YXIgX2Vhc2UgPSByZXF1aXJlKFwiLi4vbGliL2Vhc2UvZWFzZVwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI21hbnVhbC9lbi9pbnRyb2R1Y3Rpb24vTG9hZGluZy0zRC1tb2RlbHNcbi8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX2xvYWRlcl9nbHRmXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9iZWxsYmluZC9jNGY4YzUwMmZjYWNiZTI5NDIyZTVhYzMxNTI3Mzg1OFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Z1bndpdGh0cmlhbmdsZXMvYmxlbmRlci10by10aHJlZWpzLWV4cG9ydC1ndWlkZS9ibG9iL21hc3Rlci9yZWFkbWUubWRcbi8vIGh0dHBzOi8vdGhyZWVqc2Z1bmRhbWVudGFscy5vcmcvdGhyZWVqcy9sZXNzb25zL3RocmVlanMtbG9hZC1nbHRmLmh0bWxcbi8vIGh0dHBzOi8vZGlzY292ZXJ0aHJlZWpzLmNvbS9ib29rL2ZpcnN0LXN0ZXBzL2xvYWQtbW9kZWxzL1xuLy8gaHR0cHM6Ly93d3cucGVudGFjcmVhdGlvbi5jb20vYmxvZy8yMDE5LzA5LzE5MDkxNi5odG1sXG4vLyBodHRwczovL3d3dy5wZW50YWNyZWF0aW9uLmNvbS9ibG9nLzIwMTkvMTAvMTkxMDE2Lmh0bWxcbi8vIGh0dHBzOi8vZG9jcy5ibGVuZGVyLm9yZy9tYW51YWwvamEvbGF0ZXN0L2FkZG9ucy9pb19zY2VuZV9nbHRmMi5odG1sXG4vLyBodHRwczovL2dsdGYtdmlld2VyLmRvbm1jY3VyZHkuY29tL1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rvbm1jY3VyZHkvdGhyZWUtZ2x0Zi12aWV3ZXJcbi8vIGltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmNsYXNzIFRocmVlT2JqZWN0Vmlld2VyNCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdUaHJlZUpTIE9iamVjdCBWaWV3ZXIgRGVtbycpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMtY29udGFpbmVyJyk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IF9kb21XYXRjaGVyLkRvbVdhdGNoZXIoKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzID0gbmV3IF9yYWZQcm9ncmVzcy5SYWZQcm9ncmVzcygpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3Mud2F0Y2godGhpcy5vblByb2dyZXNzVXBkYXRlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2Nyb2xsTGVycCA9IDAuMzg7XG4gICAgdGhpcy5zY3JvbGxFYXNlID0gJ2Vhc2VJblF1YWQnO1xuICAgIHRoaXMucmVuZGVyZXJDb25maWcgPSB7XG4gICAgICBjbGVhckNvbG9yOiAnI0ZGRkZGRicsXG4gICAgICBiYWNrZ3JvdW5kQWxwaGE6IDEuMFxuICAgIH07XG4gICAgdGhpcy5ndWkgPSBuZXcgX2RhdGd1aWYuRGF0Z3VpZih7XG4gICAgICBsb2FkOiBKU09OXG4gICAgfSk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdTZXR0aW5ncycpLm9wZW4oKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ1JlbmRlcmVyJywgJ1NldHRpbmdzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdDYW1lcmEnLCAnU2V0dGluZ3MnKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ1Njcm9sbCcsICdTZXR0aW5ncycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignTGlnaHRzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdPYmplY3RzJyk7XG4gICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1Njcm9sbCcsIHRoaXMsIFt7XG4gICAgICBrZXlOYW1lOiAnc2Nyb2xsTGVycCcsXG4gICAgICBtaW46IDAsXG4gICAgICBtYXg6IDEsXG4gICAgICBzdGVwOiAwLjAxXG4gICAgfSwge1xuICAgICAga2V5TmFtZTogJ3Njcm9sbEVhc2UnLFxuICAgICAgb3B0aW9uczogWydsaW5lYXInLCAnZWFzZU91dFF1YWQnLCAnZWFzZUluUXVhZCddXG4gICAgfV0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgY2FsbGJhY2s6IGV2ZW50ID0+IHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IF9kb20uZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50LCB3aW5kb3cuaW5uZXJIZWlnaHQpOyAvLyAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDAuMjYsIEVBU0UuZWFzZUluT3V0RXhwbyk7XG4gICAgICAgIC8vICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMC4wOCwgRUFTRS5saW5lYXIpO1xuXG4gICAgICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIHRoaXMuc2Nyb2xsTGVycCwgX2Vhc2UuRUFTRVt0aGlzLnNjcm9sbEVhc2VdKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLmd1aS5vblVwZGF0ZShwcm9wID0+IHtcbiAgICAgIHRoaXMuZHJhdygpO1xuICAgIH0pO1xuICAgIHZhciBsb2FkZXIgPSBuZXcgX0dMVEZMb2FkZXIuR0xURkxvYWRlcigpOyAvLyBjb25zdCBwYXRoID0gJ2h0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvbW9kZWxzL2dsdGYvRGFtYWdlZEhlbG1ldC9nbFRGL0RhbWFnZWRIZWxtZXQuZ2x0Zic7XG4gICAgLy8gY29uc3QgcGF0aCA9ICcuL3B1YmxpYy9kdWRlLmdsYic7XG5cbiAgICBjb25zdCBwYXRoID0gJy4vcHVibGljL2hvbWUvaG9tZTMuZ2x0Zic7XG4gICAgbG9hZGVyLmxvYWQocGF0aCwgZ2x0ZiA9PiB7XG4gICAgICBjb25zdCBnbHRmRGF0YSA9IGdsdGYucGFyc2VyLmpzb247XG5cbiAgICAgIGNvbnN0IGdldE5vZGVCeU5hbWUgPSBuYW1lID0+IHtcbiAgICAgICAgcmV0dXJuIGdsdGZEYXRhLm5vZGVzLmZpbHRlcihub2RlID0+IHtcbiAgICAgICAgICByZXR1cm4gbm9kZS5uYW1lID0gbmFtZTtcbiAgICAgICAgfSlbMF07XG4gICAgICB9O1xuXG4gICAgICBjb25zb2xlLmxvZyhnbHRmRGF0YSk7XG4gICAgICB0aGlzLmNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKCk7XG4gICAgICBjb25zdCBzY2VuZSA9IGdsdGYuc2NlbmVzWzBdO1xuICAgICAgdGhpcy5hY3RpdmVTY2VuZSA9IHNjZW5lO1xuICAgICAgdGhpcy5hbmltYXRpb25zID0gZ2x0Zi5hbmltYXRpb25zOyAvLyBBbmltYXRpb24gTWl4ZXLjgqTjg7Pjgrnjgr/jg7PjgrnjgpLnlJ/miJBcblxuICAgICAgdGhpcy5taXhlciA9IG5ldyBUSFJFRS5BbmltYXRpb25NaXhlcihzY2VuZSk7IC8v5YWo44Gm44GuQW5pbWF0aW9uIENsaXDjgavlr77jgZfjgaZcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHRoaXMuYW5pbWF0aW9uc1tpXTsgLy9BbmltYXRpb24gQWN0aW9u44KS55Sf5oiQXG5cbiAgICAgICAgdmFyIGFjdGlvbiA9IHRoaXMubWl4ZXIuY2xpcEFjdGlvbihhbmltYXRpb24pO1xuICAgICAgICBjb25zb2xlLmxvZygnYWRkZWQnLCBhbmltYXRpb24pO1xuICAgICAgICBhY3Rpb24ucGxheSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNjZW5lLmFkZChzY2VuZSk7XG4gICAgICBjb25zb2xlLmxvZyh0aGlzLm1peGVyKTsgLy8gaHR0cDovL2xlYXJuaW5ndGhyZWVqcy5jb20vYmxvZy8yMDEyLzAxLzIwL2Nhc3Rpbmctc2hhZG93cy9cblxuICAgICAgdGhpcy5zY2VuZS50cmF2ZXJzZShjaGlsZCA9PiB7XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLkxpZ2h0KSB7XG4gICAgICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdsaWdodCcsIGNoaWxkKTtcbiAgICAgICAgICBjb25zdCBzaGFkb3dFbmFibGVkTGlnaHRzID0gWydQb2ludDAxM19PcmllbnRhdGlvbicsICdQb2ludDAwM19PcmllbnRhdGlvbiddO1xuXG4gICAgICAgICAgaWYgKH5zaGFkb3dFbmFibGVkTGlnaHRzLmluZGV4T2YoY2hpbGQubmFtZSkpIHtcbiAgICAgICAgICAgIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIH0gLy8gRGVidWdnaW5nIGxpZ2h0IHBvc2l0aW9ucy5cbiAgICAgICAgICAvLyBjaGlsZC5zaGFkb3dDYW1lcmFWaXNpYmxlID0gZmFsc2U7XG5cblxuICAgICAgICAgIGlmIChjaGlsZC5zaGFkb3cpIHtcbiAgICAgICAgICAgIC8vIEFkanVzdCBzaGFkb3cgYmlhcy5cbiAgICAgICAgICAgIGNoaWxkLnNoYWRvdy5iaWFzID0gLTAuMDAyOyAvLyBSZW1vdmUgdGhlIHJpZ2dlZCBsb29raW5nIHNoYWRvd3MuXG5cbiAgICAgICAgICAgIGNoaWxkLnNoYWRvdy5tYXBTaXplLndpZHRoID0gMTAyNDtcbiAgICAgICAgICAgIGNoaWxkLnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IDEwMjQ7IC8vIGNoaWxkLnNoYWRvd0RhcmtuZXNzID0gMC41O1xuICAgICAgICAgICAgLy8gY2hpbGQuc2hhZG93LmNhbWVyYS5uZWFyID0gMDtcbiAgICAgICAgICAgIC8vIGNoaWxkLnNoYWRvdy5jYW1lcmEuZmFyID0gMTAwMDtcbiAgICAgICAgICAgIC8vIHZhciBoZWxwZXIgPSBuZXcgVEhSRUUuQ2FtZXJhSGVscGVyKCBjaGlsZC5zaGFkb3cuY2FtZXJhICk7XG4gICAgICAgICAgICAvLyBzY2VuZS5hZGQoIGhlbHBlciApO1xuICAgICAgICAgIH0gLy8gUG9pbnQgbGlnaHRzIGFyZSBkZWZpbmVkIGluIHdhdHRzIHdoaWNoIGdvZXMgd2FheSBvZmYgaW4gdGhyZWUuanNcblxuXG4gICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuUG9pbnRMaWdodCkge1xuICAgICAgICAgICAgY2hpbGQuaW50ZW5zaXR5ID0gY2hpbGQuaW50ZW5zaXR5ICogMC4wMTtcbiAgICAgICAgICB9IC8vIElmIGl0J3MgYSBzcG90IGxpZ2h0LCBpdCBuZWVkcyB0byBnbyBkb3duIGV2ZW4gbW9yZS5cblxuXG4gICAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT0gXCJTcG90TGlnaHRcIikge1xuICAgICAgICAgICAgY2hpbGQuaW50ZW5zaXR5ID0gY2hpbGQuaW50ZW5zaXR5ICogMC4wMDE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5ndWkuYWRkRm9sZGVyKGNoaWxkLm5hbWUsICdMaWdodHMnKTtcbiAgICAgICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihjaGlsZC5uYW1lLCBjaGlsZCwgW3tcbiAgICAgICAgICAgIGtleU5hbWU6ICdjYXN0U2hhZG93J1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleU5hbWU6ICdpbnRlbnNpdHknLFxuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiAzMDAwXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5TmFtZTogJ2NvbG9yJ1xuICAgICAgICAgIH1dKTtcblxuICAgICAgICAgIGlmIChjaGlsZC5zaGFkb3cpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvd0ZvbGRlcklkID0gY2hpbGQubmFtZSArICcgc2hhZG93JztcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoaWxkLnNoYWRvdyk7XG4gICAgICAgICAgICB0aGlzLmd1aS5hZGRGb2xkZXIoc2hhZG93Rm9sZGVySWQsIGNoaWxkLm5hbWUpO1xuICAgICAgICAgICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoc2hhZG93Rm9sZGVySWQsIGNoaWxkLnNoYWRvdywgW3tcbiAgICAgICAgICAgICAga2V5TmFtZTogJ2JpYXMnLFxuICAgICAgICAgICAgICBtaW46IC0xLFxuICAgICAgICAgICAgICBtYXg6IDEsXG4gICAgICAgICAgICAgIHN0ZXA6IDAuMDAwMDFcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAga2V5TmFtZTogJ3JhZGl1cycsXG4gICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgbWF4OiAxMDAsXG4gICAgICAgICAgICAgIHN0ZXA6IDAuMDFcbiAgICAgICAgICAgIH1dKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5NZXNoKSB7XG4gICAgICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IHRydWU7IC8vIGNoaWxkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKHRydWUpO1xuXG4gICAgICAgICAgdGhpcy5ndWkuYWRkRm9sZGVyKGNoaWxkLm5hbWUsICdPYmplY3RzJyk7XG4gICAgICAgICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoY2hpbGQubmFtZSwgY2hpbGQsIFt7XG4gICAgICAgICAgICBrZXlOYW1lOiAnY2FzdFNoYWRvdydcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXlOYW1lOiAncmVjZWl2ZVNoYWRvdydcbiAgICAgICAgICB9XSk7IC8vIEdldCB0aGUgaW1hZ2UgbWFwcGluZ3MuXG4gICAgICAgICAgLy8gaWYoY2hpbGQubWF0ZXJpYWwgJiYgY2hpbGQubWF0ZXJpYWwubWFwKSB7XG4gICAgICAgICAgLy8gICBjaGlsZC5tYXRlcmlhbC5tYXAubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgIC8vIH1cbiAgICAgICAgfSBlbHNlIHt9IC8vIGlmKGNoaWxkLm5hbWUuc3RhcnRzV2l0aCgnQ3ViZTAwMycpKSB7XG4gICAgICAgIC8vICAgICBjaGlsZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBGaXggZXllc1xuXG5cbiAgICAgICAgaWYgKGNoaWxkLm5hbWUuc3RhcnRzV2l0aCgnUGxhbmUnKSkge1xuICAgICAgICAgIGNoaWxkLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgICAgICBjaGlsZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7IC8vIFNldCB0aGUgY2FtZXJhIGV4cG9ydGVkIGluIGdsdGYuXG4gICAgICAvLyBSZXF1aXJlcyBjYW1lcmEgdG8gYmUgZXhwb3J0ZWQgZm9yIGdsdGYuXG5cbiAgICAgIHRoaXMuY2FtZXJhID0gZ2x0Zi5jYW1lcmFzWzBdO1xuICAgICAgY29uc29sZS5sb2codGhpcy5jYW1lcmEpO1xuICAgICAgdGhpcy5yZXNpemUoKTsgLy8gVXNlIGZvZyB0byBjb3ZlciBmYXIgZGlzdGFuY2VzLlxuXG4gICAgICBjb25zdCBjb2xvciA9IDB4RkZGRkZGO1xuICAgICAgdGhpcy5zY2VuZS5mb2cgPSBuZXcgVEhSRUUuRm9nKGNvbG9yLCAyMCwgMjQpOyAvLyBFbmFibGUgc2hhZG93cy5cbiAgICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL2NvbnN0YW50cy9SZW5kZXJlclxuXG4gICAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTsgLy8gVG8gYW50aWFsaWFzIHRoZSBzaGFkb3dcblxuICAgICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG4gICAgICB0aGlzLnJlbmRlcmVyLmdhbW1hT3V0cHV0ID0gdHJ1ZTtcbiAgICAgIHRoaXMucmVuZGVyZXIuZ2FtbWFGYWN0b3IgPSAyLjI7IC8vIEltcG9ydGFudCB0byBnZXQgdGhlIGNvcnJlY3QgY29sb3JzLlxuXG4gICAgICB0aGlzLnJlbmRlcmVyLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzID0gdHJ1ZTsgLy8gQmFja2dyb3VuZCBhcyBibGFjay5cbiAgICAgIC8vIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcigweDQyODdmNSk7XG5cbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcih0aGlzLnJlbmRlcmVyQ29uZmlnLmNsZWFyQ29sb3IsIHRoaXMucmVuZGVyZXJDb25maWcuYmFja2dyb3VuZEFscGhhKTsgLy8gQWZmZWN0cyBob3cgc3Ryb25nbHkgbGlnaHRzIGNvbWUgZXhwb3NlZC5cbiAgICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX3RvbmVtYXBwaW5nXG5cbiAgICAgIHRoaXMucmVuZGVyZXIudG9uZU1hcHBpbmdFeHBvc3VyZSA9IDE7IC8vIHRoaXMucmVuZGVyZXIudG9uZU1hcHBpbmcgPSBUSFJFRS5BQ0VTRmlsbWljVG9uZU1hcHBpbmc7XG5cbiAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdSZW5kZXJlcicsIHRoaXMucmVuZGVyZXIsIFt7XG4gICAgICAgIGtleU5hbWU6ICd0b25lTWFwcGluZ0V4cG9zdXJlJyxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDUsXG4gICAgICAgIHN0ZXA6IDAuMDFcbiAgICAgIH1dKTtcbiAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdSZW5kZXJlcicsIHRoaXMucmVuZGVyZXJDb25maWcsIFt7XG4gICAgICAgIGtleU5hbWU6ICdjbGVhckNvbG9yJyxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCB0aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ2JhY2tncm91bmRBbHBoYScsXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKHRoaXMucmVuZGVyZXJDb25maWcuY2xlYXJDb2xvciwgdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpO1xuICAgICAgICB9XG4gICAgICB9XSk7XG4gICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignQ2FtZXJhJywgdGhpcy5jYW1lcmEsIFt7XG4gICAgICAgIGtleU5hbWU6ICdmb3YnLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogNTAsXG4gICAgICAgIHN0ZXA6IDAuMDEsXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleU5hbWU6ICd6b29tJyxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDEwLFxuICAgICAgICBzdGVwOiAwLjAwMDEsXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICB9XSk7XG4gICAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ0dlbmVyYWwgTGlnaHRzJyk7XG4gICAgICB0aGlzLmdlbmVyYWxMaWdodENvbmZpZyA9IHtcbiAgICAgICAgYW1iaWVudExpZ2h0Q29sb3I6ICcjRkZGRkZGJyxcbiAgICAgICAgYW1iaWVudExpZ2h0QWxwaGE6IDEuMlxuICAgICAgfTsgLy8gQWRkaXRpb25hbCBsaWdodGluZyBvdXRzaWRlIHRoZSBibGVuZGVyLlxuICAgICAgLy8gdmFyIGxpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodCggMHhmZmZmYmIsIDB4ZmZmZmZmLCAxICk7XG4gICAgICAvLyB0aGlzLnNjZW5lLmFkZCggbGlnaHQgKTtcblxuICAgICAgdGhpcy5hbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodENvbG9yKTtcbiAgICAgIHRoaXMuYW1iaWVudExpZ2h0LmludGVuc2l0eSA9IHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodEFscGhhO1xuICAgICAgc2NlbmUuYWRkKHRoaXMuYW1iaWVudExpZ2h0KTtcbiAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdHZW5lcmFsIExpZ2h0cycsIHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLCBbe1xuICAgICAgICBrZXlOYW1lOiAnYW1iaWVudExpZ2h0Q29sb3InLFxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuYW1iaWVudExpZ2h0LmNvbG9yID0gbmV3IFRIUkVFLkNvbG9yKHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodENvbG9yKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnYW1iaWVudExpZ2h0QWxwaGEnLFxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuYW1iaWVudExpZ2h0LmludGVuc2l0eSA9IHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodEFscGhhO1xuICAgICAgICB9XG4gICAgICB9XSk7XG4gICAgICB2YXIgd2lkdGggPSA1MDtcbiAgICAgIHZhciBoZWlnaHQgPSA1MDtcbiAgICAgIHZhciBpbnRlbnNpdHkgPSAwO1xuICAgICAgdmFyIHJlY3RMaWdodCA9IG5ldyBUSFJFRS5SZWN0QXJlYUxpZ2h0KCcjRkZGRkZGJywgaW50ZW5zaXR5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIHJlY3RMaWdodC5wb3NpdGlvbi5zZXQoMCwgMCwgMjUpOyAvLyByZWN0TGlnaHQubG9va0F0KCAwLCAwLCAwICk7XG5cbiAgICAgIHRoaXMuc2NlbmUuYWRkKHJlY3RMaWdodCk7XG4gICAgICByZWN0TGlnaHRIZWxwZXIgPSBuZXcgVEhSRUUuUmVjdEFyZWFMaWdodEhlbHBlcihyZWN0TGlnaHQpO1xuICAgICAgcmVjdExpZ2h0LmFkZChyZWN0TGlnaHRIZWxwZXIpO1xuICAgICAgdGhpcy5ndWkuYWRkQnV0dG9uKCdSZWZyZXNoJywgdGhpcy5yZWZyZXNoLmJpbmQodGhpcykpO1xuICAgIH0sIHVuZGVmaW5lZCwgZXJyb3IgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfSk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcbiAgICAgIGFudGlhbGlhczogdHJ1ZSxcbiAgICAgIC8vIHByZWNpc2lvbjogJ2hpZ2hwJ1xuICAgICAgYXV0b1NpemU6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLmNvbXBvc2VyID0gbmV3IF9FZmZlY3RDb21wb3Nlci5FZmZlY3RDb21wb3Nlcih0aGlzLnJlbmRlcmVyKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZS5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gIH1cblxuICByZXNpemUoKSB7XG4gICAgdGhpcy5wcm9ncmVzcyA9IF9kb20uZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50LCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDEsIF9lYXNlLkVBU0UuTGluZWFyKTtcbiAgICB0aGlzLndpZHRoID0gdGhpcy5jYW52YXNDb250YWluZXIucGFyZW50RWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0OyAvLyBodHRwczovL2dpdGh1Yi5jb20vZG9ubWNjdXJkeS90aHJlZS1nbHRmLXZpZXdlci9ibG9iL21hc3Rlci9zcmMvdmlld2VyLmpzXG4gICAgLy8gaHR0cHM6Ly90aHJlZWpzLm9yZy9kb2NzLyNhcGkvZW4vY29uc3RhbnRzL1JlbmRlcmVyXG5cbiAgICB0aGlzLnJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7IC8vIFBvc3QgcHJvY2Vzc2luZ1xuICAgIC8vIHRoaXMuY29tcG9zZXIuc2V0U2l6ZSggdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIC8vIGNvbnN0IGZ4YWFQYXNzID0gbmV3IFNoYWRlclBhc3MoIEZYQUFTaGFkZXIgKTtcbiAgICAvLyBmeGFhUGFzcy5tYXRlcmlhbC51bmlmb3Jtc1sgJ3Jlc29sdXRpb24nIF0udmFsdWUueCA9IDEgLyAoIHRoaXMud2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgLy8gZnhhYVBhc3MubWF0ZXJpYWwudW5pZm9ybXNbICdyZXNvbHV0aW9uJyBdLnZhbHVlLnkgPSAxIC8gKCB0aGlzLmhlaWdodCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAvLyB0aGlzLmNvbXBvc2VyLmFkZFBhc3MoZnhhYVBhc3MpO1xuICAgIC8vIHRoaXMuY29tcG9zZXIuYWRkUGFzcyhuZXcgUmVuZGVyUGFzcyh0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSkpO1xuICAgIC8vIHZhciBibG9vbVBhc3MgPSBuZXcgVW5yZWFsQmxvb21QYXNzKDEsIDI1LCA1LCAyNTYpO1xuICAgIC8vIHRoaXMuY29tcG9zZXIuYWRkUGFzcyhibG9vbVBhc3MpO1xuICAgIC8vIFRoZSBjYW1lcmEgYXNwZWN0IGdvZXMgb2ZmIHNpbmNlIGl0IGNvdWxkIGJlIGV4cG9ydGVkIGF0IGEgZGlmZmVyZW50XG4gICAgLy8gcmF0aW8uICBGb3JjZSB1cGRhdGUgdGhlIGFzcGVjdCByYXRpby5cblxuICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHRoaXMud2lkdGggLyB0aGlzLmhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gIH1cblxuICByZWZyZXNoKCkge1xuICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcih0aGlzLnJlbmRlcmVyQ29uZmlnLmNsZWFyQ29sb3IsIHRoaXMucmVuZGVyZXJDb25maWcuYmFja2dyb3VuZEFscGhhKTtcbiAgICB0aGlzLnJlc2l6ZSgpO1xuICAgIHRoaXMuZHJhdygpO1xuICB9XG5cbiAgZ2V0QW5pbWF0aW9uQnlOYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5hbmltYXRpb25zLmZpbHRlcihhbmltYXRpb25DbGlwID0+IHtcbiAgICAgIHJldHVybiBhbmltYXRpb25DbGlwLm5hbWUgPT0gbmFtZTtcbiAgICB9KVswXTtcbiAgfVxuXG4gIGdldE9iamVjdEJ5TmFtZShuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZlU2NlbmUuY2hpbGRyZW4uZmlsdGVyKG9iamVjdDNkID0+IHtcbiAgICAgIHJldHVybiBvYmplY3QzZC5uYW1lID09IG5hbWU7XG4gICAgfSlbMF07XG4gIH1cblxuICBvblByb2dyZXNzVXBkYXRlKHByb2dyZXNzKSB7XG4gICAgLy9BbmltYXRpb24gTWl4ZXLjgpLlrp/ooYxcbiAgICBpZiAodGhpcy5taXhlcikge1xuICAgICAgLy8gV2UgbmVlZCB0byBmaW5kIG91dCBob3cgbG9uZyB0aGUgYW5pbWF0aW9uIGlzLlxuICAgICAgLy8gVGhlIG1peGVyIGFwcGVhcnMgdG8gaGF2ZSBubyBrbm93bGVkZ2Ugb2Z0IHRoaXMgc28gd2UgbmVlZCB0b1xuICAgICAgLy8gbG9vayB1cCBhIHNwZWNpZmljIGFuaW1hdGlvbiBhbmQgZ2V0IHRoZSBkdXJhdGlvbiB0b1xuICAgICAgLy8gZ2V0IHRoZSB0b3RhbCBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uLlxuICAgICAgY29uc3QgY2FtZXJhQW5pbWF0aW9uID0gdGhpcy5nZXRBbmltYXRpb25CeU5hbWUoJ0FjdGlvbicpO1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBjYW1lcmFBbmltYXRpb24uZHVyYXRpb247IC8vIFdoZW4gZHVyYXRpb24gaGl0cyBpdCdzIG1heCwgYW5pbWF0aW9uTWl4ZXIgc2VlbXMgdG8gaGl0IHRoZSBmaXJzdFxuICAgICAgLy8gZnJhbWUgc28gbmV4dCBhbGxvdyBpdCB0byByZWFjaCB0aGUgbWF4IHZhbHVlLlxuXG4gICAgICB0aGlzLm1peGVyLnNldFRpbWUoTWF0aC5taW4oZHVyYXRpb24gKiBwcm9ncmVzcywgZHVyYXRpb24gLSAwLjAwMSkpO1xuICAgIH1cblxuICAgIHRoaXMuZHJhdygpOyAvLyB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgLy8gdGhpcy5jb21wb3Nlci5yZW5kZXIoKTtcbiAgfVxuXG4gIGRyYXcoKSB7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gVGhyZWVPYmplY3RWaWV3ZXI0OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/three-object-viewer4.js\n");

/***/ }),

/***/ "./examples/three-object-viewer5.js":
/*!******************************************!*\
  !*** ./examples/three-object-viewer5.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _datguif = __webpack_require__(/*! ../lib/datguif/datguif */ \"./lib/datguif/datguif.js\");\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _GLTFLoader = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n\nvar _EffectComposer = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer */ \"./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n\nvar _RenderPass = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/RenderPass.js\");\n\nvar _UnrealBloomPass = __webpack_require__(/*! three/examples/jsm/postprocessing/UnrealBloomPass.js */ \"./node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js\");\n\nvar _FXAAShader = __webpack_require__(/*! three/examples/jsm/shaders/FXAAShader.js */ \"./node_modules/three/examples/jsm/shaders/FXAAShader.js\");\n\nvar _ShaderPass = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/ShaderPass.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n// https://threejs.org/docs/#manual/en/introduction/Loading-3D-models\n// https://threejs.org/examples/#webgl_loader_gltf\n// https://gist.github.com/bellbind/c4f8c502fcacbe29422e5ac315273858\n// https://github.com/funwithtriangles/blender-to-threejs-export-guide/blob/master/readme.md\n// https://threejsfundamentals.org/threejs/lessons/threejs-load-gltf.html\n// https://discoverthreejs.com/book/first-steps/load-models/\n// https://www.pentacreation.com/blog/2019/09/190916.html\n// https://www.pentacreation.com/blog/2019/10/191016.html\n// https://docs.blender.org/manual/ja/latest/addons/io_scene_gltf2.html\n// https://gltf-viewer.donmccurdy.com/\n// https://github.com/donmccurdy/three-gltf-viewer\n// import { Raf } from '../lib/raf/raf';\nclass ThreeObjectViewer5 {\n  constructor() {\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.rafProgress = new _rafProgress.RafProgress();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.scrollLerp = 0.38;\n    this.scrollEase = 'easeInQuad';\n    this.rendererConfig = {\n      clearColor: '#FFFFFF',\n      backgroundAlpha: 1.0\n    };\n    this.gui = new _datguif.Datguif({\n      load: JSON\n    });\n    this.gui.addFolder('Settings').open();\n    this.gui.addFolder('Renderer', 'Settings');\n    this.gui.addFolder('Camera', 'Settings');\n    this.gui.addFolder('Scroll', 'Settings');\n    this.gui.addFolder('Lights');\n    this.gui.addFolder('Objects');\n    this.gui.addObjectToFolder('Scroll', this, [{\n      keyName: 'scrollLerp',\n      min: 0,\n      max: 1,\n      step: 0.01\n    }, {\n      keyName: 'scrollEase',\n      options: ['linear', 'easeOutQuad', 'easeInQuad']\n    }]);\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight); //   this.rafProgress.easeTo(this.progress, 0.26, EASE.easeInOutExpo);\n        //   this.rafProgress.easeTo(this.progress, 0.08, EASE.linear);\n\n        this.rafProgress.easeTo(this.progress, this.scrollLerp, _ease.EASE[this.scrollEase]);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new THREE.Scene();\n    this.gui.onUpdate(prop => {\n      this.draw();\n    });\n    var loader = new _GLTFLoader.GLTFLoader();\n    const path = './public/home/demo.gltf';\n    loader.load(path, gltf => {\n      const gltfData = gltf.parser.json;\n\n      const getNodeByName = name => {\n        return gltfData.nodes.filter(node => {\n          return node.name = name;\n        })[0];\n      };\n\n      console.log('gltf data', gltfData);\n      this.clock = new THREE.Clock();\n      const scene = gltf.scenes[0];\n      this.activeScene = scene;\n      this.animations = gltf.animations; // Animation Mixer\n\n      this.mixer = new THREE.AnimationMixer(scene); //Animation Clip\n\n      for (var i = 0; i < this.animations.length; i++) {\n        var animation = this.animations[i]; //Animation Action\n\n        var action = this.mixer.clipAction(animation);\n        console.log('added', animation);\n        action.play();\n      }\n\n      this.scene.add(scene);\n      console.log('scene', scene);\n      console.log('mixer', this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      this.scene.traverse(child => {\n        if (child instanceof THREE.Light) {\n          // child.castShadow = false;\n          // console.log('light', child);\n          const shadowEnabledLights = ['Point013_Orientation', 'Point003_Orientation'];\n\n          if (~shadowEnabledLights.indexOf(child.name)) {\n            child.castShadow = true;\n          } // Debugging light positions.\n          // child.shadowCameraVisible = false;\n\n\n          if (child.shadow) {} // Adjust shadow bias.\n          // child.shadow.bias = -0.002;\n          // Remove the rigged looking shadows.\n          // child.shadow.mapSize.width = 1024;\n          // child.shadow.mapSize.height = 1024;\n          // child.shadowDarkness = 0.5;\n          // child.shadow.camera.near = 0;\n          // child.shadow.camera.far = 1000;\n          // var helper = new THREE.CameraHelper( child.shadow.camera );\n          // scene.add( helper );\n          // Point lights are defined in watts which goes waay off in three.js\n\n\n          if (child instanceof THREE.PointLight) {\n            child.intensity = child.intensity * 0.01;\n          } // If it's a spot light, it needs to go down even more.\n\n\n          if (child.type == \"SpotLight\") {\n            child.intensity = child.intensity * 0.001;\n          } // No lights.\n\n\n          child.intensity = 0;\n          this.gui.addFolder(child.name, 'Lights');\n          this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'intensity',\n            min: 0,\n            max: 3000\n          }, {\n            keyName: 'color'\n          }]);\n\n          if (child.shadow) {\n            const shadowFolderId = child.name + ' shadow'; // console.log(child.shadow);\n\n            this.gui.addFolder(shadowFolderId, child.name);\n            this.gui.addObjectToFolder(shadowFolderId, child.shadow, [{\n              keyName: 'bias',\n              min: -1,\n              max: 1,\n              step: 0.00001\n            }, {\n              keyName: 'radius',\n              min: 0,\n              max: 100,\n              step: 0.01\n            }]);\n          }\n        } else if (child instanceof THREE.Mesh) {\n          // child.castShadow = true;\n          // child.receiveShadow = true;\n          // child.geometry.computeVertexNormals(true);\n          console.log('mesh', child);\n          this.gui.addFolder(child.name, 'Objects');\n          this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'receiveShadow'\n          }]);\n\n          if (child.material) {\n            const materialId = child.name + ' material';\n            this.gui.addFolder(materialId, child.name);\n            this.gui.addObjectToFolder(materialId, child.material, [{\n              keyName: 'emissiveIntensity',\n              min: 0,\n              max: 1\n            }, {\n              keyName: 'flatShading',\n              callback: () => {\n                child.material.needsUpdate = true;\n              }\n            }, {\n              keyName: 'wireframe',\n              callback: () => {\n                child.material.needsUpdate = true;\n              }\n            }]); // Enable smooth shading.\n            // child.material.flatShading = false;\n            // child.material.wireframe = false;\n            // child.material.needsUpdate = true;\n            // child.geometry.computeFaceNormals();\n            // child.geometry.computeVertexNormals(true);\n          } // Get the image mappings.\n          // if(child.material && child.material.map) {\n          //   child.material.map.needsUpdate = true;\n          // }\n\n        } else {\n          console.log('other', child);\n        }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n      this.camera = gltf.cameras[0];\n      console.log('camera', this.camera);\n      this.resize(); // Use fog to cover far distances.\n\n      const color = 0xFFFFFF;\n      this.scene.fog = new THREE.Fog(color, 20, 24); // Enable shadows.\n      // https://threejs.org/docs/#api/en/constants/Renderer\n      // this.renderer.shadowMap.enabled = true;\n      // To antialias the shadow\n      // this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\n      this.renderer.gammaOutput = true;\n      this.renderer.gammaFactor = 2.2; // Important to get the correct colors.\n      // this.renderer.physicallyCorrectLights = true;\n      // Background as black.\n      // this.renderer.setClearColor(0x4287f5);\n\n      this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha); // Affects how strongly lights come exposed.\n      // https://threejs.org/examples/#webgl_tonemapping\n\n      this.renderer.toneMappingExposure = 1.7; // this.renderer.toneMappingExposure = 0.6;\n      // this.renderer.toneMapping = THREE.ACESFilmicToneMapping;\n\n      this.gui.addObjectToFolder('Renderer', this.renderer, [{\n        keyName: 'toneMappingExposure',\n        min: 0,\n        max: 5,\n        step: 0.01\n      }]);\n      this.gui.addObjectToFolder('Renderer', this.rendererConfig, [{\n        keyName: 'clearColor',\n        callback: () => {\n          this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n        }\n      }, {\n        keyName: 'backgroundAlpha',\n        callback: () => {\n          this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n        }\n      }]);\n      this.gui.addObjectToFolder('Camera', this.camera, [{\n        keyName: 'fov',\n        min: 0,\n        max: 50,\n        step: 0.01,\n        callback: () => {\n          this.camera.updateProjectionMatrix();\n        }\n      }, {\n        keyName: 'zoom',\n        min: 0,\n        max: 10,\n        step: 0.0001,\n        callback: () => {\n          this.camera.updateProjectionMatrix();\n        }\n      }]);\n      this.gui.addFolder('General Lights');\n      this.generalLightConfig = {\n        ambientLightColor: '#FFFFFF',\n        ambientLightAlpha: 1\n      }; // Additional lighting outside the blender.\n      // var light = new THREE.HemisphereLight( 0xffffbb, 0xffffff, 1 );\n      // this.scene.add( light );\n\n      this.ambientLight = new THREE.AmbientLight(this.generalLightConfig.ambientLightColor);\n      this.ambientLight.intensity = this.generalLightConfig.ambientLightAlpha;\n      scene.add(this.ambientLight);\n      this.gui.addObjectToFolder('General Lights', this.generalLightConfig, [{\n        keyName: 'ambientLightColor',\n        callback: () => {\n          this.ambientLight.color = new THREE.Color(this.generalLightConfig.ambientLightColor);\n        }\n      }, {\n        keyName: 'ambientLightAlpha',\n        callback: () => {\n          this.ambientLight.intensity = this.generalLightConfig.ambientLightAlpha;\n        }\n      }]); // var width = 50;\n      // var height = 50;\n      // var intensity = 0;\n      // var rectLight = new THREE.RectAreaLight('#FFFFFF', intensity,  width, height );\n      // rectLight.position.set( 0, 0, 25 );\n      // // rectLight.lookAt( 0, 0, 0 );\n      // this.scene.add( rectLight );\n      // rectLightHelper = new THREE.RectAreaLightHelper( rectLight );\n      // rectLight.add( rectLightHelper );\n\n      this.gui.addButton('Refresh', this.refresh.bind(this));\n    }, undefined, error => {\n      console.error(error);\n    });\n    this.renderer = new THREE.WebGLRenderer({\n      antialias: true,\n      // precision: 'highp'\n      autoSize: true\n    });\n    this.composer = new _EffectComposer.EffectComposer(this.renderer);\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  resize() {\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.width = this.canvasContainer.parentElement.offsetWidth;\n    this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n    // https://threejs.org/docs/#api/en/constants/Renderer\n\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(this.width, this.height); // Post processing\n    // this.composer.setSize( this.width, this.height);\n    // const fxaaPass = new ShaderPass( FXAAShader );\n    // fxaaPass.material.uniforms[ 'resolution' ].value.x = 1 / ( this.width * window.devicePixelRatio);\n    // fxaaPass.material.uniforms[ 'resolution' ].value.y = 1 / ( this.height * window.devicePixelRatio);\n    // this.composer.addPass(fxaaPass);\n    // this.composer.addPass(new RenderPass(this.scene, this.camera));\n    // var bloomPass = new UnrealBloomPass(1, 25, 5, 256);\n    // this.composer.addPass(bloomPass);\n    // The camera aspect goes off since it could be exported at a different\n    // ratio.  Force update the aspect ratio.\n\n    this.camera.aspect = this.width / this.height;\n    this.camera.updateProjectionMatrix();\n  }\n\n  refresh() {\n    this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n    this.resize();\n    this.draw();\n  }\n\n  getAnimationByName(name) {\n    return this.animations.filter(animationClip => {\n      return animationClip.name == name;\n    })[0];\n  }\n\n  getObjectByName(name) {\n    return this.activeScene.children.filter(object3d => {\n      return object3d.name == name;\n    })[0];\n  }\n\n  onProgressUpdate(progress) {\n    //Animation Mixer\n    if (this.mixer) {\n      // We need to find out how long the animation is.\n      // The mixer appears to have no knowledge oft this so we need to\n      // look up a specific animation and get the duration to\n      // get the total duration of the animation.\n      const cameraAnimation = this.getAnimationByName('Action.001');\n      const duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n      // frame so next allow it to reach the max value.\n\n      this.mixer.setTime(Math.min(duration * progress, duration - 0.001));\n    }\n\n    this.draw(); // this.renderer.render(this.scene, this.camera);\n    // this.composer.render();\n  }\n\n  draw() {\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = ThreeObjectViewer5;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyNS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLW9iamVjdC12aWV3ZXI1LmpzPzdjODYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGF0Z3VpZiA9IHJlcXVpcmUoXCIuLi9saWIvZGF0Z3VpZi9kYXRndWlmXCIpO1xuXG52YXIgX3RocmVlID0gcmVxdWlyZShcInRocmVlXCIpO1xuXG52YXIgVEhSRUUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGhyZWUpO1xuXG52YXIgX0dMVEZMb2FkZXIgPSByZXF1aXJlKFwidGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlclwiKTtcblxudmFyIF9FZmZlY3RDb21wb3NlciA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvRWZmZWN0Q29tcG9zZXJcIik7XG5cbnZhciBfUmVuZGVyUGFzcyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvUmVuZGVyUGFzcy5qc1wiKTtcblxudmFyIF9VbnJlYWxCbG9vbVBhc3MgPSByZXF1aXJlKFwidGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL1VucmVhbEJsb29tUGFzcy5qc1wiKTtcblxudmFyIF9GWEFBU2hhZGVyID0gcmVxdWlyZShcInRocmVlL2V4YW1wbGVzL2pzbS9zaGFkZXJzL0ZYQUFTaGFkZXIuanNcIik7XG5cbnZhciBfU2hhZGVyUGFzcyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvU2hhZGVyUGFzcy5qc1wiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbnZhciBfcmFmUHJvZ3Jlc3MgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3NcIik7XG5cbnZhciBfZG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tXCIpO1xuXG52YXIgX2Vhc2UgPSByZXF1aXJlKFwiLi4vbGliL2Vhc2UvZWFzZVwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI21hbnVhbC9lbi9pbnRyb2R1Y3Rpb24vTG9hZGluZy0zRC1tb2RlbHNcbi8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX2xvYWRlcl9nbHRmXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9iZWxsYmluZC9jNGY4YzUwMmZjYWNiZTI5NDIyZTVhYzMxNTI3Mzg1OFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Z1bndpdGh0cmlhbmdsZXMvYmxlbmRlci10by10aHJlZWpzLWV4cG9ydC1ndWlkZS9ibG9iL21hc3Rlci9yZWFkbWUubWRcbi8vIGh0dHBzOi8vdGhyZWVqc2Z1bmRhbWVudGFscy5vcmcvdGhyZWVqcy9sZXNzb25zL3RocmVlanMtbG9hZC1nbHRmLmh0bWxcbi8vIGh0dHBzOi8vZGlzY292ZXJ0aHJlZWpzLmNvbS9ib29rL2ZpcnN0LXN0ZXBzL2xvYWQtbW9kZWxzL1xuLy8gaHR0cHM6Ly93d3cucGVudGFjcmVhdGlvbi5jb20vYmxvZy8yMDE5LzA5LzE5MDkxNi5odG1sXG4vLyBodHRwczovL3d3dy5wZW50YWNyZWF0aW9uLmNvbS9ibG9nLzIwMTkvMTAvMTkxMDE2Lmh0bWxcbi8vIGh0dHBzOi8vZG9jcy5ibGVuZGVyLm9yZy9tYW51YWwvamEvbGF0ZXN0L2FkZG9ucy9pb19zY2VuZV9nbHRmMi5odG1sXG4vLyBodHRwczovL2dsdGYtdmlld2VyLmRvbm1jY3VyZHkuY29tL1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rvbm1jY3VyZHkvdGhyZWUtZ2x0Zi12aWV3ZXJcbi8vIGltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmNsYXNzIFRocmVlT2JqZWN0Vmlld2VyNSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdUaHJlZUpTIE9iamVjdCBWaWV3ZXIgRGVtbycpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMtY29udGFpbmVyJyk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IF9kb21XYXRjaGVyLkRvbVdhdGNoZXIoKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzID0gbmV3IF9yYWZQcm9ncmVzcy5SYWZQcm9ncmVzcygpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3Mud2F0Y2godGhpcy5vblByb2dyZXNzVXBkYXRlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2Nyb2xsTGVycCA9IDAuMzg7XG4gICAgdGhpcy5zY3JvbGxFYXNlID0gJ2Vhc2VJblF1YWQnO1xuICAgIHRoaXMucmVuZGVyZXJDb25maWcgPSB7XG4gICAgICBjbGVhckNvbG9yOiAnI0ZGRkZGRicsXG4gICAgICBiYWNrZ3JvdW5kQWxwaGE6IDEuMFxuICAgIH07XG4gICAgdGhpcy5ndWkgPSBuZXcgX2RhdGd1aWYuRGF0Z3VpZih7XG4gICAgICBsb2FkOiBKU09OXG4gICAgfSk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdTZXR0aW5ncycpLm9wZW4oKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ1JlbmRlcmVyJywgJ1NldHRpbmdzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdDYW1lcmEnLCAnU2V0dGluZ3MnKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ1Njcm9sbCcsICdTZXR0aW5ncycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignTGlnaHRzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdPYmplY3RzJyk7XG4gICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1Njcm9sbCcsIHRoaXMsIFt7XG4gICAgICBrZXlOYW1lOiAnc2Nyb2xsTGVycCcsXG4gICAgICBtaW46IDAsXG4gICAgICBtYXg6IDEsXG4gICAgICBzdGVwOiAwLjAxXG4gICAgfSwge1xuICAgICAga2V5TmFtZTogJ3Njcm9sbEVhc2UnLFxuICAgICAgb3B0aW9uczogWydsaW5lYXInLCAnZWFzZU91dFF1YWQnLCAnZWFzZUluUXVhZCddXG4gICAgfV0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgY2FsbGJhY2s6IGV2ZW50ID0+IHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IF9kb20uZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50LCB3aW5kb3cuaW5uZXJIZWlnaHQpOyAvLyAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDAuMjYsIEVBU0UuZWFzZUluT3V0RXhwbyk7XG4gICAgICAgIC8vICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMC4wOCwgRUFTRS5saW5lYXIpO1xuXG4gICAgICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIHRoaXMuc2Nyb2xsTGVycCwgX2Vhc2UuRUFTRVt0aGlzLnNjcm9sbEVhc2VdKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLmd1aS5vblVwZGF0ZShwcm9wID0+IHtcbiAgICAgIHRoaXMuZHJhdygpO1xuICAgIH0pO1xuICAgIHZhciBsb2FkZXIgPSBuZXcgX0dMVEZMb2FkZXIuR0xURkxvYWRlcigpO1xuICAgIGNvbnN0IHBhdGggPSAnLi9wdWJsaWMvaG9tZS9kZW1vLmdsdGYnO1xuICAgIGxvYWRlci5sb2FkKHBhdGgsIGdsdGYgPT4ge1xuICAgICAgY29uc3QgZ2x0ZkRhdGEgPSBnbHRmLnBhcnNlci5qc29uO1xuXG4gICAgICBjb25zdCBnZXROb2RlQnlOYW1lID0gbmFtZSA9PiB7XG4gICAgICAgIHJldHVybiBnbHRmRGF0YS5ub2Rlcy5maWx0ZXIobm9kZSA9PiB7XG4gICAgICAgICAgcmV0dXJuIG5vZGUubmFtZSA9IG5hbWU7XG4gICAgICAgIH0pWzBdO1xuICAgICAgfTtcblxuICAgICAgY29uc29sZS5sb2coJ2dsdGYgZGF0YScsIGdsdGZEYXRhKTtcbiAgICAgIHRoaXMuY2xvY2sgPSBuZXcgVEhSRUUuQ2xvY2soKTtcbiAgICAgIGNvbnN0IHNjZW5lID0gZ2x0Zi5zY2VuZXNbMF07XG4gICAgICB0aGlzLmFjdGl2ZVNjZW5lID0gc2NlbmU7XG4gICAgICB0aGlzLmFuaW1hdGlvbnMgPSBnbHRmLmFuaW1hdGlvbnM7IC8vIEFuaW1hdGlvbiBNaXhlcuOCpOODs+OCueOCv+ODs+OCueOCkueUn+aIkFxuXG4gICAgICB0aGlzLm1peGVyID0gbmV3IFRIUkVFLkFuaW1hdGlvbk1peGVyKHNjZW5lKTsgLy/lhajjgabjga5BbmltYXRpb24gQ2xpcOOBq+WvvuOBl+OBplxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYW5pbWF0aW9uID0gdGhpcy5hbmltYXRpb25zW2ldOyAvL0FuaW1hdGlvbiBBY3Rpb27jgpLnlJ/miJBcblxuICAgICAgICB2YXIgYWN0aW9uID0gdGhpcy5taXhlci5jbGlwQWN0aW9uKGFuaW1hdGlvbik7XG4gICAgICAgIGNvbnNvbGUubG9nKCdhZGRlZCcsIGFuaW1hdGlvbik7XG4gICAgICAgIGFjdGlvbi5wbGF5KCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2NlbmUuYWRkKHNjZW5lKTtcbiAgICAgIGNvbnNvbGUubG9nKCdzY2VuZScsIHNjZW5lKTtcbiAgICAgIGNvbnNvbGUubG9nKCdtaXhlcicsIHRoaXMubWl4ZXIpOyAvLyBodHRwOi8vbGVhcm5pbmd0aHJlZWpzLmNvbS9ibG9nLzIwMTIvMDEvMjAvY2FzdGluZy1zaGFkb3dzL1xuXG4gICAgICB0aGlzLnNjZW5lLnRyYXZlcnNlKGNoaWxkID0+IHtcbiAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTGlnaHQpIHtcbiAgICAgICAgICAvLyBjaGlsZC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ2xpZ2h0JywgY2hpbGQpO1xuICAgICAgICAgIGNvbnN0IHNoYWRvd0VuYWJsZWRMaWdodHMgPSBbJ1BvaW50MDEzX09yaWVudGF0aW9uJywgJ1BvaW50MDAzX09yaWVudGF0aW9uJ107XG5cbiAgICAgICAgICBpZiAofnNoYWRvd0VuYWJsZWRMaWdodHMuaW5kZXhPZihjaGlsZC5uYW1lKSkge1xuICAgICAgICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgICAgfSAvLyBEZWJ1Z2dpbmcgbGlnaHQgcG9zaXRpb25zLlxuICAgICAgICAgIC8vIGNoaWxkLnNoYWRvd0NhbWVyYVZpc2libGUgPSBmYWxzZTtcblxuXG4gICAgICAgICAgaWYgKGNoaWxkLnNoYWRvdykge30gLy8gQWRqdXN0IHNoYWRvdyBiaWFzLlxuICAgICAgICAgIC8vIGNoaWxkLnNoYWRvdy5iaWFzID0gLTAuMDAyO1xuICAgICAgICAgIC8vIFJlbW92ZSB0aGUgcmlnZ2VkIGxvb2tpbmcgc2hhZG93cy5cbiAgICAgICAgICAvLyBjaGlsZC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IDEwMjQ7XG4gICAgICAgICAgLy8gY2hpbGQuc2hhZG93Lm1hcFNpemUuaGVpZ2h0ID0gMTAyNDtcbiAgICAgICAgICAvLyBjaGlsZC5zaGFkb3dEYXJrbmVzcyA9IDAuNTtcbiAgICAgICAgICAvLyBjaGlsZC5zaGFkb3cuY2FtZXJhLm5lYXIgPSAwO1xuICAgICAgICAgIC8vIGNoaWxkLnNoYWRvdy5jYW1lcmEuZmFyID0gMTAwMDtcbiAgICAgICAgICAvLyB2YXIgaGVscGVyID0gbmV3IFRIUkVFLkNhbWVyYUhlbHBlciggY2hpbGQuc2hhZG93LmNhbWVyYSApO1xuICAgICAgICAgIC8vIHNjZW5lLmFkZCggaGVscGVyICk7XG4gICAgICAgICAgLy8gUG9pbnQgbGlnaHRzIGFyZSBkZWZpbmVkIGluIHdhdHRzIHdoaWNoIGdvZXMgd2FheSBvZmYgaW4gdGhyZWUuanNcblxuXG4gICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuUG9pbnRMaWdodCkge1xuICAgICAgICAgICAgY2hpbGQuaW50ZW5zaXR5ID0gY2hpbGQuaW50ZW5zaXR5ICogMC4wMTtcbiAgICAgICAgICB9IC8vIElmIGl0J3MgYSBzcG90IGxpZ2h0LCBpdCBuZWVkcyB0byBnbyBkb3duIGV2ZW4gbW9yZS5cblxuXG4gICAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT0gXCJTcG90TGlnaHRcIikge1xuICAgICAgICAgICAgY2hpbGQuaW50ZW5zaXR5ID0gY2hpbGQuaW50ZW5zaXR5ICogMC4wMDE7XG4gICAgICAgICAgfSAvLyBObyBsaWdodHMuXG5cblxuICAgICAgICAgIGNoaWxkLmludGVuc2l0eSA9IDA7XG4gICAgICAgICAgdGhpcy5ndWkuYWRkRm9sZGVyKGNoaWxkLm5hbWUsICdMaWdodHMnKTtcbiAgICAgICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihjaGlsZC5uYW1lLCBjaGlsZCwgW3tcbiAgICAgICAgICAgIGtleU5hbWU6ICdjYXN0U2hhZG93J1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleU5hbWU6ICdpbnRlbnNpdHknLFxuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiAzMDAwXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5TmFtZTogJ2NvbG9yJ1xuICAgICAgICAgIH1dKTtcblxuICAgICAgICAgIGlmIChjaGlsZC5zaGFkb3cpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvd0ZvbGRlcklkID0gY2hpbGQubmFtZSArICcgc2hhZG93JzsgLy8gY29uc29sZS5sb2coY2hpbGQuc2hhZG93KTtcblxuICAgICAgICAgICAgdGhpcy5ndWkuYWRkRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5uYW1lKTtcbiAgICAgICAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5zaGFkb3csIFt7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdiaWFzJyxcbiAgICAgICAgICAgICAgbWluOiAtMSxcbiAgICAgICAgICAgICAgbWF4OiAxLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAwMDAxXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdyYWRpdXMnLFxuICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgIG1heDogMTAwLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAxXG4gICAgICAgICAgICB9XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaCkge1xuICAgICAgICAgIC8vIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNoaWxkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKHRydWUpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdtZXNoJywgY2hpbGQpO1xuICAgICAgICAgIHRoaXMuZ3VpLmFkZEZvbGRlcihjaGlsZC5uYW1lLCAnT2JqZWN0cycpO1xuICAgICAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKGNoaWxkLm5hbWUsIGNoaWxkLCBbe1xuICAgICAgICAgICAga2V5TmFtZTogJ2Nhc3RTaGFkb3cnXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5TmFtZTogJ3JlY2VpdmVTaGFkb3cnXG4gICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgaWYgKGNoaWxkLm1hdGVyaWFsKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRlcmlhbElkID0gY2hpbGQubmFtZSArICcgbWF0ZXJpYWwnO1xuICAgICAgICAgICAgdGhpcy5ndWkuYWRkRm9sZGVyKG1hdGVyaWFsSWQsIGNoaWxkLm5hbWUpO1xuICAgICAgICAgICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIobWF0ZXJpYWxJZCwgY2hpbGQubWF0ZXJpYWwsIFt7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdlbWlzc2l2ZUludGVuc2l0eScsXG4gICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgbWF4OiAxXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdmbGF0U2hhZGluZycsXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICd3aXJlZnJhbWUnLFxuICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pOyAvLyBFbmFibGUgc21vb3RoIHNoYWRpbmcuXG4gICAgICAgICAgICAvLyBjaGlsZC5tYXRlcmlhbC5mbGF0U2hhZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gY2hpbGQubWF0ZXJpYWwud2lyZWZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBjaGlsZC5tYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAvLyBjaGlsZC5nZW9tZXRyeS5jb21wdXRlRmFjZU5vcm1hbHMoKTtcbiAgICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKHRydWUpO1xuICAgICAgICAgIH0gLy8gR2V0IHRoZSBpbWFnZSBtYXBwaW5ncy5cbiAgICAgICAgICAvLyBpZihjaGlsZC5tYXRlcmlhbCAmJiBjaGlsZC5tYXRlcmlhbC5tYXApIHtcbiAgICAgICAgICAvLyAgIGNoaWxkLm1hdGVyaWFsLm1hcC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgLy8gfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ290aGVyJywgY2hpbGQpO1xuICAgICAgICB9XG4gICAgICB9KTsgLy8gU2V0IHRoZSBjYW1lcmEgZXhwb3J0ZWQgaW4gZ2x0Zi5cbiAgICAgIC8vIFJlcXVpcmVzIGNhbWVyYSB0byBiZSBleHBvcnRlZCBmb3IgZ2x0Zi5cblxuICAgICAgdGhpcy5jYW1lcmEgPSBnbHRmLmNhbWVyYXNbMF07XG4gICAgICBjb25zb2xlLmxvZygnY2FtZXJhJywgdGhpcy5jYW1lcmEpO1xuICAgICAgdGhpcy5yZXNpemUoKTsgLy8gVXNlIGZvZyB0byBjb3ZlciBmYXIgZGlzdGFuY2VzLlxuXG4gICAgICBjb25zdCBjb2xvciA9IDB4RkZGRkZGO1xuICAgICAgdGhpcy5zY2VuZS5mb2cgPSBuZXcgVEhSRUUuRm9nKGNvbG9yLCAyMCwgMjQpOyAvLyBFbmFibGUgc2hhZG93cy5cbiAgICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL2NvbnN0YW50cy9SZW5kZXJlclxuICAgICAgLy8gdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7XG4gICAgICAvLyBUbyBhbnRpYWxpYXMgdGhlIHNoYWRvd1xuICAgICAgLy8gdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG5cbiAgICAgIHRoaXMucmVuZGVyZXIuZ2FtbWFPdXRwdXQgPSB0cnVlO1xuICAgICAgdGhpcy5yZW5kZXJlci5nYW1tYUZhY3RvciA9IDIuMjsgLy8gSW1wb3J0YW50IHRvIGdldCB0aGUgY29ycmVjdCBjb2xvcnMuXG4gICAgICAvLyB0aGlzLnJlbmRlcmVyLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzID0gdHJ1ZTtcbiAgICAgIC8vIEJhY2tncm91bmQgYXMgYmxhY2suXG4gICAgICAvLyB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHg0Mjg3ZjUpO1xuXG4gICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCB0aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7IC8vIEFmZmVjdHMgaG93IHN0cm9uZ2x5IGxpZ2h0cyBjb21lIGV4cG9zZWQuXG4gICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2V4YW1wbGVzLyN3ZWJnbF90b25lbWFwcGluZ1xuXG4gICAgICB0aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSAxLjc7IC8vIHRoaXMucmVuZGVyZXIudG9uZU1hcHBpbmdFeHBvc3VyZSA9IDAuNjtcbiAgICAgIC8vIHRoaXMucmVuZGVyZXIudG9uZU1hcHBpbmcgPSBUSFJFRS5BQ0VTRmlsbWljVG9uZU1hcHBpbmc7XG5cbiAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdSZW5kZXJlcicsIHRoaXMucmVuZGVyZXIsIFt7XG4gICAgICAgIGtleU5hbWU6ICd0b25lTWFwcGluZ0V4cG9zdXJlJyxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDUsXG4gICAgICAgIHN0ZXA6IDAuMDFcbiAgICAgIH1dKTtcbiAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdSZW5kZXJlcicsIHRoaXMucmVuZGVyZXJDb25maWcsIFt7XG4gICAgICAgIGtleU5hbWU6ICdjbGVhckNvbG9yJyxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCB0aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ2JhY2tncm91bmRBbHBoYScsXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKHRoaXMucmVuZGVyZXJDb25maWcuY2xlYXJDb2xvciwgdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpO1xuICAgICAgICB9XG4gICAgICB9XSk7XG4gICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignQ2FtZXJhJywgdGhpcy5jYW1lcmEsIFt7XG4gICAgICAgIGtleU5hbWU6ICdmb3YnLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogNTAsXG4gICAgICAgIHN0ZXA6IDAuMDEsXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleU5hbWU6ICd6b29tJyxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDEwLFxuICAgICAgICBzdGVwOiAwLjAwMDEsXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICB9XSk7XG4gICAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ0dlbmVyYWwgTGlnaHRzJyk7XG4gICAgICB0aGlzLmdlbmVyYWxMaWdodENvbmZpZyA9IHtcbiAgICAgICAgYW1iaWVudExpZ2h0Q29sb3I6ICcjRkZGRkZGJyxcbiAgICAgICAgYW1iaWVudExpZ2h0QWxwaGE6IDFcbiAgICAgIH07IC8vIEFkZGl0aW9uYWwgbGlnaHRpbmcgb3V0c2lkZSB0aGUgYmxlbmRlci5cbiAgICAgIC8vIHZhciBsaWdodCA9IG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQoIDB4ZmZmZmJiLCAweGZmZmZmZiwgMSApO1xuICAgICAgLy8gdGhpcy5zY2VuZS5hZGQoIGxpZ2h0ICk7XG5cbiAgICAgIHRoaXMuYW1iaWVudExpZ2h0ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodCh0aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRDb2xvcik7XG4gICAgICB0aGlzLmFtYmllbnRMaWdodC5pbnRlbnNpdHkgPSB0aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRBbHBoYTtcbiAgICAgIHNjZW5lLmFkZCh0aGlzLmFtYmllbnRMaWdodCk7XG4gICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignR2VuZXJhbCBMaWdodHMnLCB0aGlzLmdlbmVyYWxMaWdodENvbmZpZywgW3tcbiAgICAgICAga2V5TmFtZTogJ2FtYmllbnRMaWdodENvbG9yJyxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmFtYmllbnRMaWdodC5jb2xvciA9IG5ldyBUSFJFRS5Db2xvcih0aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRDb2xvcik7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ2FtYmllbnRMaWdodEFscGhhJyxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmFtYmllbnRMaWdodC5pbnRlbnNpdHkgPSB0aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRBbHBoYTtcbiAgICAgICAgfVxuICAgICAgfV0pOyAvLyB2YXIgd2lkdGggPSA1MDtcbiAgICAgIC8vIHZhciBoZWlnaHQgPSA1MDtcbiAgICAgIC8vIHZhciBpbnRlbnNpdHkgPSAwO1xuICAgICAgLy8gdmFyIHJlY3RMaWdodCA9IG5ldyBUSFJFRS5SZWN0QXJlYUxpZ2h0KCcjRkZGRkZGJywgaW50ZW5zaXR5LCAgd2lkdGgsIGhlaWdodCApO1xuICAgICAgLy8gcmVjdExpZ2h0LnBvc2l0aW9uLnNldCggMCwgMCwgMjUgKTtcbiAgICAgIC8vIC8vIHJlY3RMaWdodC5sb29rQXQoIDAsIDAsIDAgKTtcbiAgICAgIC8vIHRoaXMuc2NlbmUuYWRkKCByZWN0TGlnaHQgKTtcbiAgICAgIC8vIHJlY3RMaWdodEhlbHBlciA9IG5ldyBUSFJFRS5SZWN0QXJlYUxpZ2h0SGVscGVyKCByZWN0TGlnaHQgKTtcbiAgICAgIC8vIHJlY3RMaWdodC5hZGQoIHJlY3RMaWdodEhlbHBlciApO1xuXG4gICAgICB0aGlzLmd1aS5hZGRCdXR0b24oJ1JlZnJlc2gnLCB0aGlzLnJlZnJlc2guYmluZCh0aGlzKSk7XG4gICAgfSwgdW5kZWZpbmVkLCBlcnJvciA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe1xuICAgICAgYW50aWFsaWFzOiB0cnVlLFxuICAgICAgLy8gcHJlY2lzaW9uOiAnaGlnaHAnXG4gICAgICBhdXRvU2l6ZTogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuY29tcG9zZXIgPSBuZXcgX0VmZmVjdENvbXBvc2VyLkVmZmVjdENvbXBvc2VyKHRoaXMucmVuZGVyZXIpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgX2Vhc2UuRUFTRS5MaW5lYXIpO1xuICAgIHRoaXMud2lkdGggPSB0aGlzLmNhbnZhc0NvbnRhaW5lci5wYXJlbnRFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5jYW52YXNDb250YWluZXIucGFyZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kb25tY2N1cmR5L3RocmVlLWdsdGYtdmlld2VyL2Jsb2IvbWFzdGVyL3NyYy92aWV3ZXIuanNcbiAgICAvLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9jb25zdGFudHMvUmVuZGVyZXJcblxuICAgIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTsgLy8gUG9zdCBwcm9jZXNzaW5nXG4gICAgLy8gdGhpcy5jb21wb3Nlci5zZXRTaXplKCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgLy8gY29uc3QgZnhhYVBhc3MgPSBuZXcgU2hhZGVyUGFzcyggRlhBQVNoYWRlciApO1xuICAgIC8vIGZ4YWFQYXNzLm1hdGVyaWFsLnVuaWZvcm1zWyAncmVzb2x1dGlvbicgXS52YWx1ZS54ID0gMSAvICggdGhpcy53aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAvLyBmeGFhUGFzcy5tYXRlcmlhbC51bmlmb3Jtc1sgJ3Jlc29sdXRpb24nIF0udmFsdWUueSA9IDEgLyAoIHRoaXMuaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgIC8vIHRoaXMuY29tcG9zZXIuYWRkUGFzcyhmeGFhUGFzcyk7XG4gICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKG5ldyBSZW5kZXJQYXNzKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKSk7XG4gICAgLy8gdmFyIGJsb29tUGFzcyA9IG5ldyBVbnJlYWxCbG9vbVBhc3MoMSwgMjUsIDUsIDI1Nik7XG4gICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKGJsb29tUGFzcyk7XG4gICAgLy8gVGhlIGNhbWVyYSBhc3BlY3QgZ29lcyBvZmYgc2luY2UgaXQgY291bGQgYmUgZXhwb3J0ZWQgYXQgYSBkaWZmZXJlbnRcbiAgICAvLyByYXRpby4gIEZvcmNlIHVwZGF0ZSB0aGUgYXNwZWN0IHJhdGlvLlxuXG4gICAgdGhpcy5jYW1lcmEuYXNwZWN0ID0gdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgfVxuXG4gIHJlZnJlc2goKSB7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKHRoaXMucmVuZGVyZXJDb25maWcuY2xlYXJDb2xvciwgdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpO1xuICAgIHRoaXMucmVzaXplKCk7XG4gICAgdGhpcy5kcmF3KCk7XG4gIH1cblxuICBnZXRBbmltYXRpb25CeU5hbWUobmFtZSkge1xuICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbnMuZmlsdGVyKGFuaW1hdGlvbkNsaXAgPT4ge1xuICAgICAgcmV0dXJuIGFuaW1hdGlvbkNsaXAubmFtZSA9PSBuYW1lO1xuICAgIH0pWzBdO1xuICB9XG5cbiAgZ2V0T2JqZWN0QnlOYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5hY3RpdmVTY2VuZS5jaGlsZHJlbi5maWx0ZXIob2JqZWN0M2QgPT4ge1xuICAgICAgcmV0dXJuIG9iamVjdDNkLm5hbWUgPT0gbmFtZTtcbiAgICB9KVswXTtcbiAgfVxuXG4gIG9uUHJvZ3Jlc3NVcGRhdGUocHJvZ3Jlc3MpIHtcbiAgICAvL0FuaW1hdGlvbiBNaXhlcuOCkuWun+ihjFxuICAgIGlmICh0aGlzLm1peGVyKSB7XG4gICAgICAvLyBXZSBuZWVkIHRvIGZpbmQgb3V0IGhvdyBsb25nIHRoZSBhbmltYXRpb24gaXMuXG4gICAgICAvLyBUaGUgbWl4ZXIgYXBwZWFycyB0byBoYXZlIG5vIGtub3dsZWRnZSBvZnQgdGhpcyBzbyB3ZSBuZWVkIHRvXG4gICAgICAvLyBsb29rIHVwIGEgc3BlY2lmaWMgYW5pbWF0aW9uIGFuZCBnZXQgdGhlIGR1cmF0aW9uIHRvXG4gICAgICAvLyBnZXQgdGhlIHRvdGFsIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICBjb25zdCBjYW1lcmFBbmltYXRpb24gPSB0aGlzLmdldEFuaW1hdGlvbkJ5TmFtZSgnQWN0aW9uLjAwMScpO1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBjYW1lcmFBbmltYXRpb24uZHVyYXRpb247IC8vIFdoZW4gZHVyYXRpb24gaGl0cyBpdCdzIG1heCwgYW5pbWF0aW9uTWl4ZXIgc2VlbXMgdG8gaGl0IHRoZSBmaXJzdFxuICAgICAgLy8gZnJhbWUgc28gbmV4dCBhbGxvdyBpdCB0byByZWFjaCB0aGUgbWF4IHZhbHVlLlxuXG4gICAgICB0aGlzLm1peGVyLnNldFRpbWUoTWF0aC5taW4oZHVyYXRpb24gKiBwcm9ncmVzcywgZHVyYXRpb24gLSAwLjAwMSkpO1xuICAgIH1cblxuICAgIHRoaXMuZHJhdygpOyAvLyB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgLy8gdGhpcy5jb21wb3Nlci5yZW5kZXIoKTtcbiAgfVxuXG4gIGRyYXcoKSB7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gVGhyZWVPYmplY3RWaWV3ZXI1OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/three-object-viewer5.js\n");

/***/ }),

/***/ "./examples/three-object-viewer6.js":
/*!******************************************!*\
  !*** ./examples/three-object-viewer6.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _datguif = __webpack_require__(/*! ../lib/datguif/datguif */ \"./lib/datguif/datguif.js\");\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _GLTFLoader = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n\nvar _EffectComposer = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer */ \"./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n\nvar _RenderPass = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/RenderPass.js\");\n\nvar _UnrealBloomPass = __webpack_require__(/*! three/examples/jsm/postprocessing/UnrealBloomPass.js */ \"./node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js\");\n\nvar _FXAAShader = __webpack_require__(/*! three/examples/jsm/shaders/FXAAShader.js */ \"./node_modules/three/examples/jsm/shaders/FXAAShader.js\");\n\nvar _ShaderPass = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/ShaderPass.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n// https://threejs.org/docs/#manual/en/introduction/Loading-3D-models\n// https://threejs.org/examples/#webgl_loader_gltf\n// https://gist.github.com/bellbind/c4f8c502fcacbe29422e5ac315273858\n// https://github.com/funwithtriangles/blender-to-threejs-export-guide/blob/master/readme.md\n// https://threejsfundamentals.org/threejs/lessons/threejs-load-gltf.html\n// https://discoverthreejs.com/book/first-steps/load-models/\n// https://www.pentacreation.com/blog/2019/09/190916.html\n// https://www.pentacreation.com/blog/2019/10/191016.html\n// https://docs.blender.org/manual/ja/latest/addons/io_scene_gltf2.html\n// https://gltf-viewer.donmccurdy.com/\n// https://github.com/donmccurdy/three-gltf-viewer\n// import { Raf } from '../lib/raf/raf';\nclass ThreeObjectViewer6 {\n  constructor() {\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.rafProgress = new _rafProgress.RafProgress();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.scrollLerp = 0.38;\n    this.scrollEase = 'easeInQuad';\n    this.rendererConfig = {\n      clearColor: '#EAE8E7',\n      backgroundAlpha: 1.0\n    };\n    this.gui = new _datguif.Datguif({\n      load: JSON\n    });\n    this.gui.addFolder('Settings').open();\n    this.gui.addFolder('Renderer', 'Settings');\n    this.gui.addFolder('Camera', 'Settings');\n    this.gui.addFolder('Scroll', 'Settings');\n    this.gui.addFolder('Lights');\n    this.gui.addFolder('Objects');\n    this.gui.addObjectToFolder('Scroll', this, [{\n      keyName: 'scrollLerp',\n      min: 0,\n      max: 1,\n      step: 0.01\n    }, {\n      keyName: 'scrollEase',\n      options: ['linear', 'easeOutQuad', 'easeInQuad']\n    }]);\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight); //   this.rafProgress.easeTo(this.progress, 0.26, EASE.easeInOutExpo);\n        //   this.rafProgress.easeTo(this.progress, 0.08, EASE.linear);\n\n        this.rafProgress.easeTo(this.progress, this.scrollLerp, _ease.EASE[this.scrollEase]);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new THREE.Scene();\n    this.gui.onUpdate(prop => {\n      this.draw();\n    });\n    var loader = new _GLTFLoader.GLTFLoader();\n    const path = './public/home/demo5.gltf';\n    loader.load(path, gltf => {\n      const gltfData = gltf.parser.json;\n\n      const getNodeByName = name => {\n        return gltfData.nodes.filter(node => {\n          return node.name = name;\n        })[0];\n      };\n\n      console.log('gltf data', gltfData);\n      this.clock = new THREE.Clock();\n      const scene = gltf.scenes[0];\n      this.activeScene = scene;\n      this.animations = gltf.animations; // Animation Mixer\n\n      this.mixer = new THREE.AnimationMixer(scene); //Animation Clip\n\n      for (var i = 0; i < this.animations.length; i++) {\n        var animation = this.animations[i]; //Animation Action\n\n        var action = this.mixer.clipAction(animation);\n        console.log('added', animation);\n        action.play();\n      }\n\n      this.scene.add(scene);\n      console.log('scene', scene);\n      console.log('mixer', this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      this.scene.traverse(child => {\n        if (child instanceof THREE.Light) {\n          // child.castShadow = false;\n          // console.log('light', child);\n          const shadowEnabledLights = ['Point013_Orientation', 'Point003_Orientation'];\n\n          if (~shadowEnabledLights.indexOf(child.name)) {\n            child.castShadow = true;\n          } // Debugging light positions.\n          // child.shadowCameraVisible = false;\n\n\n          if (child.shadow) {} // Adjust shadow bias.\n          // child.shadow.bias = -0.002;\n          // Remove the rigged looking shadows.\n          // child.shadow.mapSize.width = 1024;\n          // child.shadow.mapSize.height = 1024;\n          // child.shadowDarkness = 0.5;\n          // child.shadow.camera.near = 0;\n          // child.shadow.camera.far = 1000;\n          // var helper = new THREE.CameraHelper( child.shadow.camera );\n          // scene.add( helper );\n          // Point lights are defined in watts which goes waay off in three.js\n\n\n          if (child instanceof THREE.PointLight) {\n            child.intensity = child.intensity * 0.01;\n          } // If it's a spot light, it needs to go down even more.\n\n\n          if (child.type == \"SpotLight\") {\n            child.intensity = child.intensity * 0.001;\n          } // No lights.\n\n\n          child.intensity = 0;\n          this.gui.addFolder(child.name, 'Lights');\n          this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'intensity',\n            min: 0,\n            max: 3000\n          }, {\n            keyName: 'color'\n          }]);\n\n          if (child.shadow) {\n            const shadowFolderId = child.name + ' shadow'; // console.log(child.shadow);\n\n            this.gui.addFolder(shadowFolderId, child.name);\n            this.gui.addObjectToFolder(shadowFolderId, child.shadow, [{\n              keyName: 'bias',\n              min: -1,\n              max: 1,\n              step: 0.00001\n            }, {\n              keyName: 'radius',\n              min: 0,\n              max: 100,\n              step: 0.01\n            }]);\n          }\n        } else if (child instanceof THREE.Mesh) {\n          // child.castShadow = true;\n          // child.receiveShadow = true;\n          // child.geometry.computeVertexNormals(true);\n          console.log('mesh', child);\n          this.gui.addFolder(child.name, 'Objects');\n          this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'receiveShadow'\n          }]);\n\n          if (child.material) {\n            const materialId = child.name + ' material';\n            this.gui.addFolder(materialId, child.name);\n            this.gui.addObjectToFolder(materialId, child.material, [{\n              keyName: 'emissiveIntensity',\n              min: 0,\n              max: 1\n            }, {\n              keyName: 'flatShading',\n              callback: () => {\n                child.material.needsUpdate = true;\n              }\n            }, {\n              keyName: 'wireframe',\n              callback: () => {\n                child.material.needsUpdate = true;\n              }\n            }]); // Enable smooth shading.\n            // child.material.flatShading = false;\n            // child.material.wireframe = false;\n            // child.material.needsUpdate = true;\n            // child.geometry.computeFaceNormals();\n            // child.geometry.computeVertexNormals(true);\n          } // Get the image mappings.\n          // if(child.material && child.material.map) {\n          //   child.material.map.needsUpdate = true;\n          // }\n\n        } else {\n          console.log('other', child);\n        }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n      this.camera = gltf.cameras[0];\n      console.log('camera', this.camera);\n      this.resize(); // Use fog to cover far distances.\n\n      const color = 0xEAE8E7;\n      this.scene.fog = new THREE.Fog(color, 5, 10); // Enable shadows.\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      this.renderer.shadowMap.enabled = true; // To antialias the shadow\n\n      this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n      this.renderer.gammaOutput = true;\n      this.renderer.gammaFactor = 3; // Important to get the correct colors.\n      // this.renderer.physicallyCorrectLigts = true;\n      // Background as black.\n      // this.renderer.setClearColor(0x4287f5);\n\n      this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha); // Affects how strongly lights come exposed.\n      // https://threejs.org/examples/#webgl_tonemapping\n\n      this.renderer.toneMappingExposure = 1; // this.renderer.toneMappingExposure = 0.6;\n\n      this.renderer.toneMapping = THREE.ACESFilmicToneMapping;\n      this.gui.addObjectToFolder('Renderer', this.renderer, [{\n        keyName: 'toneMappingExposure',\n        min: 0,\n        max: 5,\n        step: 0.01\n      }, {\n        keyName: 'gammaFactor',\n        min: 0,\n        max: 10,\n        step: 0.01\n      }]);\n      this.gui.addObjectToFolder('Renderer', this.rendererConfig, [{\n        keyName: 'clearColor',\n        callback: () => {\n          this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n        }\n      }, {\n        keyName: 'backgroundAlpha',\n        callback: () => {\n          this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n        }\n      }]);\n      this.gui.addObjectToFolder('Camera', this.camera, [{\n        keyName: 'fov',\n        min: 0,\n        max: 50,\n        step: 0.01,\n        callback: () => {\n          this.camera.updateProjectionMatrix();\n        }\n      }, {\n        keyName: 'zoom',\n        min: 0,\n        max: 10,\n        step: 0.0001,\n        callback: () => {\n          this.camera.updateProjectionMatrix();\n        }\n      }]);\n      this.gui.addFolder('General Lights');\n      this.generalLightConfig = {\n        ambientLightColor: '#FFFFFF',\n        ambientLightAlpha: 0\n      }; // Additional lighting outside the blender.\n      // var light = new THREE.HemisphereLight( 0xffffbb, 0xffffff, 1 );\n      // this.scene.add( light );\n\n      this.ambientLight = new THREE.AmbientLight(this.generalLightConfig.ambientLightColor);\n      this.ambientLight.intensity = this.generalLightConfig.ambientLightAlpha;\n      scene.add(this.ambientLight);\n      this.gui.addObjectToFolder('General Lights', this.generalLightConfig, [{\n        keyName: 'ambientLightColor',\n        callback: () => {\n          this.ambientLight.color = new THREE.Color(this.generalLightConfig.ambientLightColor);\n        }\n      }, {\n        keyName: 'ambientLightAlpha',\n        callback: () => {\n          this.ambientLight.intensity = this.generalLightConfig.ambientLightAlpha;\n        }\n      }]); // var width = 50;\n      // var height = 50;\n      // var intensity = 0;\n      // var rectLight = new THREE.RectAreaLight('#FFFFFF', intensity,  width, height );\n      // rectLight.position.set( 0, 0, 25 );\n      // // rectLight.lookAt( 0, 0, 0 );\n      // this.scene.add( rectLight );\n      // rectLightHelper = new THREE.RectAreaLightHelper( rectLight );\n      // rectLight.add( rectLightHelper );\n\n      this.gui.addButton('Refresh', this.refresh.bind(this));\n    }, undefined, error => {\n      console.error(error);\n    });\n    this.renderer = new THREE.WebGLRenderer({\n      antialias: true,\n      // precision: 'highp'\n      autoSize: true\n    });\n    this.composer = new _EffectComposer.EffectComposer(this.renderer);\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  resize() {\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.width = this.canvasContainer.parentElement.offsetWidth;\n    this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n    // https://threejs.org/docs/#api/en/constants/Renderer\n\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(this.width, this.height); // Post processing\n    // this.composer.setSize( this.width, this.height);\n    // const fxaaPass = new ShaderPass( FXAAShader );\n    // fxaaPass.material.uniforms[ 'resolution' ].value.x = 1 / ( this.width * window.devicePixelRatio);\n    // fxaaPass.material.uniforms[ 'resolution' ].value.y = 1 / ( this.height * window.devicePixelRatio);\n    // this.composer.addPass(fxaaPass);\n    // this.composer.addPass(new RenderPass(this.scene, this.camera));\n    // var bloomPass = new UnrealBloomPass(1, 25, 5, 256);\n    // this.composer.addPass(bloomPass);\n    // The camera aspect goes off since it could be exported at a different\n    // ratio.  Force update the aspect ratio.\n\n    this.camera.aspect = this.width / this.height;\n    this.camera.updateProjectionMatrix();\n  }\n\n  refresh() {\n    this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n    this.resize();\n    this.draw();\n  }\n\n  getAnimationByName(name) {\n    return this.animations.filter(animationClip => {\n      return animationClip.name == name;\n    })[0];\n  }\n\n  getObjectByName(name) {\n    return this.activeScene.children.filter(object3d => {\n      return object3d.name == name;\n    })[0];\n  }\n\n  onProgressUpdate(progress) {\n    //Animation Mixer\n    if (this.mixer) {\n      // We need to find out how long the animation is.\n      // The mixer appears to have no knowledge oft this so we need to\n      // look up a specific animation and get the duration to\n      // get the total duration of the animation.\n      const cameraAnimation = this.getAnimationByName('Action.001');\n      const duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n      // frame so next allow it to reach the max value.\n\n      this.mixer.setTime(Math.min(duration * progress, duration - 0.001));\n    }\n\n    this.draw(); // this.renderer.render(this.scene, this.camera);\n    // this.composer.render();\n  }\n\n  draw() {\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = ThreeObjectViewer6;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyNi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLW9iamVjdC12aWV3ZXI2LmpzP2IwYzgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGF0Z3VpZiA9IHJlcXVpcmUoXCIuLi9saWIvZGF0Z3VpZi9kYXRndWlmXCIpO1xuXG52YXIgX3RocmVlID0gcmVxdWlyZShcInRocmVlXCIpO1xuXG52YXIgVEhSRUUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGhyZWUpO1xuXG52YXIgX0dMVEZMb2FkZXIgPSByZXF1aXJlKFwidGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlclwiKTtcblxudmFyIF9FZmZlY3RDb21wb3NlciA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvRWZmZWN0Q29tcG9zZXJcIik7XG5cbnZhciBfUmVuZGVyUGFzcyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvUmVuZGVyUGFzcy5qc1wiKTtcblxudmFyIF9VbnJlYWxCbG9vbVBhc3MgPSByZXF1aXJlKFwidGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL1VucmVhbEJsb29tUGFzcy5qc1wiKTtcblxudmFyIF9GWEFBU2hhZGVyID0gcmVxdWlyZShcInRocmVlL2V4YW1wbGVzL2pzbS9zaGFkZXJzL0ZYQUFTaGFkZXIuanNcIik7XG5cbnZhciBfU2hhZGVyUGFzcyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvU2hhZGVyUGFzcy5qc1wiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbnZhciBfcmFmUHJvZ3Jlc3MgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3NcIik7XG5cbnZhciBfZG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tXCIpO1xuXG52YXIgX2Vhc2UgPSByZXF1aXJlKFwiLi4vbGliL2Vhc2UvZWFzZVwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI21hbnVhbC9lbi9pbnRyb2R1Y3Rpb24vTG9hZGluZy0zRC1tb2RlbHNcbi8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX2xvYWRlcl9nbHRmXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9iZWxsYmluZC9jNGY4YzUwMmZjYWNiZTI5NDIyZTVhYzMxNTI3Mzg1OFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Z1bndpdGh0cmlhbmdsZXMvYmxlbmRlci10by10aHJlZWpzLWV4cG9ydC1ndWlkZS9ibG9iL21hc3Rlci9yZWFkbWUubWRcbi8vIGh0dHBzOi8vdGhyZWVqc2Z1bmRhbWVudGFscy5vcmcvdGhyZWVqcy9sZXNzb25zL3RocmVlanMtbG9hZC1nbHRmLmh0bWxcbi8vIGh0dHBzOi8vZGlzY292ZXJ0aHJlZWpzLmNvbS9ib29rL2ZpcnN0LXN0ZXBzL2xvYWQtbW9kZWxzL1xuLy8gaHR0cHM6Ly93d3cucGVudGFjcmVhdGlvbi5jb20vYmxvZy8yMDE5LzA5LzE5MDkxNi5odG1sXG4vLyBodHRwczovL3d3dy5wZW50YWNyZWF0aW9uLmNvbS9ibG9nLzIwMTkvMTAvMTkxMDE2Lmh0bWxcbi8vIGh0dHBzOi8vZG9jcy5ibGVuZGVyLm9yZy9tYW51YWwvamEvbGF0ZXN0L2FkZG9ucy9pb19zY2VuZV9nbHRmMi5odG1sXG4vLyBodHRwczovL2dsdGYtdmlld2VyLmRvbm1jY3VyZHkuY29tL1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rvbm1jY3VyZHkvdGhyZWUtZ2x0Zi12aWV3ZXJcbi8vIGltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmNsYXNzIFRocmVlT2JqZWN0Vmlld2VyNiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdUaHJlZUpTIE9iamVjdCBWaWV3ZXIgRGVtbycpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMtY29udGFpbmVyJyk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IF9kb21XYXRjaGVyLkRvbVdhdGNoZXIoKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzID0gbmV3IF9yYWZQcm9ncmVzcy5SYWZQcm9ncmVzcygpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3Mud2F0Y2godGhpcy5vblByb2dyZXNzVXBkYXRlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2Nyb2xsTGVycCA9IDAuMzg7XG4gICAgdGhpcy5zY3JvbGxFYXNlID0gJ2Vhc2VJblF1YWQnO1xuICAgIHRoaXMucmVuZGVyZXJDb25maWcgPSB7XG4gICAgICBjbGVhckNvbG9yOiAnI0VBRThFNycsXG4gICAgICBiYWNrZ3JvdW5kQWxwaGE6IDEuMFxuICAgIH07XG4gICAgdGhpcy5ndWkgPSBuZXcgX2RhdGd1aWYuRGF0Z3VpZih7XG4gICAgICBsb2FkOiBKU09OXG4gICAgfSk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdTZXR0aW5ncycpLm9wZW4oKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ1JlbmRlcmVyJywgJ1NldHRpbmdzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdDYW1lcmEnLCAnU2V0dGluZ3MnKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ1Njcm9sbCcsICdTZXR0aW5ncycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignTGlnaHRzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdPYmplY3RzJyk7XG4gICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1Njcm9sbCcsIHRoaXMsIFt7XG4gICAgICBrZXlOYW1lOiAnc2Nyb2xsTGVycCcsXG4gICAgICBtaW46IDAsXG4gICAgICBtYXg6IDEsXG4gICAgICBzdGVwOiAwLjAxXG4gICAgfSwge1xuICAgICAga2V5TmFtZTogJ3Njcm9sbEVhc2UnLFxuICAgICAgb3B0aW9uczogWydsaW5lYXInLCAnZWFzZU91dFF1YWQnLCAnZWFzZUluUXVhZCddXG4gICAgfV0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgY2FsbGJhY2s6IGV2ZW50ID0+IHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IF9kb20uZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50LCB3aW5kb3cuaW5uZXJIZWlnaHQpOyAvLyAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDAuMjYsIEVBU0UuZWFzZUluT3V0RXhwbyk7XG4gICAgICAgIC8vICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMC4wOCwgRUFTRS5saW5lYXIpO1xuXG4gICAgICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIHRoaXMuc2Nyb2xsTGVycCwgX2Vhc2UuRUFTRVt0aGlzLnNjcm9sbEVhc2VdKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLmd1aS5vblVwZGF0ZShwcm9wID0+IHtcbiAgICAgIHRoaXMuZHJhdygpO1xuICAgIH0pO1xuICAgIHZhciBsb2FkZXIgPSBuZXcgX0dMVEZMb2FkZXIuR0xURkxvYWRlcigpO1xuICAgIGNvbnN0IHBhdGggPSAnLi9wdWJsaWMvaG9tZS9kZW1vNS5nbHRmJztcbiAgICBsb2FkZXIubG9hZChwYXRoLCBnbHRmID0+IHtcbiAgICAgIGNvbnN0IGdsdGZEYXRhID0gZ2x0Zi5wYXJzZXIuanNvbjtcblxuICAgICAgY29uc3QgZ2V0Tm9kZUJ5TmFtZSA9IG5hbWUgPT4ge1xuICAgICAgICByZXR1cm4gZ2x0ZkRhdGEubm9kZXMuZmlsdGVyKG5vZGUgPT4ge1xuICAgICAgICAgIHJldHVybiBub2RlLm5hbWUgPSBuYW1lO1xuICAgICAgICB9KVswXTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnNvbGUubG9nKCdnbHRmIGRhdGEnLCBnbHRmRGF0YSk7XG4gICAgICB0aGlzLmNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKCk7XG4gICAgICBjb25zdCBzY2VuZSA9IGdsdGYuc2NlbmVzWzBdO1xuICAgICAgdGhpcy5hY3RpdmVTY2VuZSA9IHNjZW5lO1xuICAgICAgdGhpcy5hbmltYXRpb25zID0gZ2x0Zi5hbmltYXRpb25zOyAvLyBBbmltYXRpb24gTWl4ZXLjgqTjg7Pjgrnjgr/jg7PjgrnjgpLnlJ/miJBcblxuICAgICAgdGhpcy5taXhlciA9IG5ldyBUSFJFRS5BbmltYXRpb25NaXhlcihzY2VuZSk7IC8v5YWo44Gm44GuQW5pbWF0aW9uIENsaXDjgavlr77jgZfjgaZcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHRoaXMuYW5pbWF0aW9uc1tpXTsgLy9BbmltYXRpb24gQWN0aW9u44KS55Sf5oiQXG5cbiAgICAgICAgdmFyIGFjdGlvbiA9IHRoaXMubWl4ZXIuY2xpcEFjdGlvbihhbmltYXRpb24pO1xuICAgICAgICBjb25zb2xlLmxvZygnYWRkZWQnLCBhbmltYXRpb24pO1xuICAgICAgICBhY3Rpb24ucGxheSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNjZW5lLmFkZChzY2VuZSk7XG4gICAgICBjb25zb2xlLmxvZygnc2NlbmUnLCBzY2VuZSk7XG4gICAgICBjb25zb2xlLmxvZygnbWl4ZXInLCB0aGlzLm1peGVyKTsgLy8gaHR0cDovL2xlYXJuaW5ndGhyZWVqcy5jb20vYmxvZy8yMDEyLzAxLzIwL2Nhc3Rpbmctc2hhZG93cy9cblxuICAgICAgdGhpcy5zY2VuZS50cmF2ZXJzZShjaGlsZCA9PiB7XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLkxpZ2h0KSB7XG4gICAgICAgICAgLy8gY2hpbGQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdsaWdodCcsIGNoaWxkKTtcbiAgICAgICAgICBjb25zdCBzaGFkb3dFbmFibGVkTGlnaHRzID0gWydQb2ludDAxM19PcmllbnRhdGlvbicsICdQb2ludDAwM19PcmllbnRhdGlvbiddO1xuXG4gICAgICAgICAgaWYgKH5zaGFkb3dFbmFibGVkTGlnaHRzLmluZGV4T2YoY2hpbGQubmFtZSkpIHtcbiAgICAgICAgICAgIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIH0gLy8gRGVidWdnaW5nIGxpZ2h0IHBvc2l0aW9ucy5cbiAgICAgICAgICAvLyBjaGlsZC5zaGFkb3dDYW1lcmFWaXNpYmxlID0gZmFsc2U7XG5cblxuICAgICAgICAgIGlmIChjaGlsZC5zaGFkb3cpIHt9IC8vIEFkanVzdCBzaGFkb3cgYmlhcy5cbiAgICAgICAgICAvLyBjaGlsZC5zaGFkb3cuYmlhcyA9IC0wLjAwMjtcbiAgICAgICAgICAvLyBSZW1vdmUgdGhlIHJpZ2dlZCBsb29raW5nIHNoYWRvd3MuXG4gICAgICAgICAgLy8gY2hpbGQuc2hhZG93Lm1hcFNpemUud2lkdGggPSAxMDI0O1xuICAgICAgICAgIC8vIGNoaWxkLnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IDEwMjQ7XG4gICAgICAgICAgLy8gY2hpbGQuc2hhZG93RGFya25lc3MgPSAwLjU7XG4gICAgICAgICAgLy8gY2hpbGQuc2hhZG93LmNhbWVyYS5uZWFyID0gMDtcbiAgICAgICAgICAvLyBjaGlsZC5zaGFkb3cuY2FtZXJhLmZhciA9IDEwMDA7XG4gICAgICAgICAgLy8gdmFyIGhlbHBlciA9IG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIoIGNoaWxkLnNoYWRvdy5jYW1lcmEgKTtcbiAgICAgICAgICAvLyBzY2VuZS5hZGQoIGhlbHBlciApO1xuICAgICAgICAgIC8vIFBvaW50IGxpZ2h0cyBhcmUgZGVmaW5lZCBpbiB3YXR0cyB3aGljaCBnb2VzIHdhYXkgb2ZmIGluIHRocmVlLmpzXG5cblxuICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLlBvaW50TGlnaHQpIHtcbiAgICAgICAgICAgIGNoaWxkLmludGVuc2l0eSA9IGNoaWxkLmludGVuc2l0eSAqIDAuMDE7XG4gICAgICAgICAgfSAvLyBJZiBpdCdzIGEgc3BvdCBsaWdodCwgaXQgbmVlZHMgdG8gZ28gZG93biBldmVuIG1vcmUuXG5cblxuICAgICAgICAgIGlmIChjaGlsZC50eXBlID09IFwiU3BvdExpZ2h0XCIpIHtcbiAgICAgICAgICAgIGNoaWxkLmludGVuc2l0eSA9IGNoaWxkLmludGVuc2l0eSAqIDAuMDAxO1xuICAgICAgICAgIH0gLy8gTm8gbGlnaHRzLlxuXG5cbiAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSAwO1xuICAgICAgICAgIHRoaXMuZ3VpLmFkZEZvbGRlcihjaGlsZC5uYW1lLCAnTGlnaHRzJyk7XG4gICAgICAgICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoY2hpbGQubmFtZSwgY2hpbGQsIFt7XG4gICAgICAgICAgICBrZXlOYW1lOiAnY2FzdFNoYWRvdydcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXlOYW1lOiAnaW50ZW5zaXR5JyxcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIG1heDogMzAwMFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleU5hbWU6ICdjb2xvcidcbiAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICBpZiAoY2hpbGQuc2hhZG93KSB7XG4gICAgICAgICAgICBjb25zdCBzaGFkb3dGb2xkZXJJZCA9IGNoaWxkLm5hbWUgKyAnIHNoYWRvdyc7IC8vIGNvbnNvbGUubG9nKGNoaWxkLnNoYWRvdyk7XG5cbiAgICAgICAgICAgIHRoaXMuZ3VpLmFkZEZvbGRlcihzaGFkb3dGb2xkZXJJZCwgY2hpbGQubmFtZSk7XG4gICAgICAgICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihzaGFkb3dGb2xkZXJJZCwgY2hpbGQuc2hhZG93LCBbe1xuICAgICAgICAgICAgICBrZXlOYW1lOiAnYmlhcycsXG4gICAgICAgICAgICAgIG1pbjogLTEsXG4gICAgICAgICAgICAgIG1heDogMSxcbiAgICAgICAgICAgICAgc3RlcDogMC4wMDAwMVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBrZXlOYW1lOiAncmFkaXVzJyxcbiAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICBtYXg6IDEwMCxcbiAgICAgICAgICAgICAgc3RlcDogMC4wMVxuICAgICAgICAgICAgfV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2gpIHtcbiAgICAgICAgICAvLyBjaGlsZC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICAvLyBjaGlsZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICAvLyBjaGlsZC5nZW9tZXRyeS5jb21wdXRlVmVydGV4Tm9ybWFscyh0cnVlKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnbWVzaCcsIGNoaWxkKTtcbiAgICAgICAgICB0aGlzLmd1aS5hZGRGb2xkZXIoY2hpbGQubmFtZSwgJ09iamVjdHMnKTtcbiAgICAgICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihjaGlsZC5uYW1lLCBjaGlsZCwgW3tcbiAgICAgICAgICAgIGtleU5hbWU6ICdjYXN0U2hhZG93J1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleU5hbWU6ICdyZWNlaXZlU2hhZG93J1xuICAgICAgICAgIH1dKTtcblxuICAgICAgICAgIGlmIChjaGlsZC5tYXRlcmlhbCkge1xuICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWxJZCA9IGNoaWxkLm5hbWUgKyAnIG1hdGVyaWFsJztcbiAgICAgICAgICAgIHRoaXMuZ3VpLmFkZEZvbGRlcihtYXRlcmlhbElkLCBjaGlsZC5uYW1lKTtcbiAgICAgICAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKG1hdGVyaWFsSWQsIGNoaWxkLm1hdGVyaWFsLCBbe1xuICAgICAgICAgICAgICBrZXlOYW1lOiAnZW1pc3NpdmVJbnRlbnNpdHknLFxuICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgIG1heDogMVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBrZXlOYW1lOiAnZmxhdFNoYWRpbmcnLFxuICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBrZXlOYW1lOiAnd2lyZWZyYW1lJyxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjaGlsZC5tYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTsgLy8gRW5hYmxlIHNtb290aCBzaGFkaW5nLlxuICAgICAgICAgICAgLy8gY2hpbGQubWF0ZXJpYWwuZmxhdFNoYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGNoaWxkLm1hdGVyaWFsLndpcmVmcmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gY2hpbGQubWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgLy8gY2hpbGQuZ2VvbWV0cnkuY29tcHV0ZUZhY2VOb3JtYWxzKCk7XG4gICAgICAgICAgICAvLyBjaGlsZC5nZW9tZXRyeS5jb21wdXRlVmVydGV4Tm9ybWFscyh0cnVlKTtcbiAgICAgICAgICB9IC8vIEdldCB0aGUgaW1hZ2UgbWFwcGluZ3MuXG4gICAgICAgICAgLy8gaWYoY2hpbGQubWF0ZXJpYWwgJiYgY2hpbGQubWF0ZXJpYWwubWFwKSB7XG4gICAgICAgICAgLy8gICBjaGlsZC5tYXRlcmlhbC5tYXAubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgIC8vIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdvdGhlcicsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgfSk7IC8vIFNldCB0aGUgY2FtZXJhIGV4cG9ydGVkIGluIGdsdGYuXG4gICAgICAvLyBSZXF1aXJlcyBjYW1lcmEgdG8gYmUgZXhwb3J0ZWQgZm9yIGdsdGYuXG5cbiAgICAgIHRoaXMuY2FtZXJhID0gZ2x0Zi5jYW1lcmFzWzBdO1xuICAgICAgY29uc29sZS5sb2coJ2NhbWVyYScsIHRoaXMuY2FtZXJhKTtcbiAgICAgIHRoaXMucmVzaXplKCk7IC8vIFVzZSBmb2cgdG8gY292ZXIgZmFyIGRpc3RhbmNlcy5cblxuICAgICAgY29uc3QgY29sb3IgPSAweEVBRThFNztcbiAgICAgIHRoaXMuc2NlbmUuZm9nID0gbmV3IFRIUkVFLkZvZyhjb2xvciwgNSwgMTApOyAvLyBFbmFibGUgc2hhZG93cy5cbiAgICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL2NvbnN0YW50cy9SZW5kZXJlclxuXG4gICAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTsgLy8gVG8gYW50aWFsaWFzIHRoZSBzaGFkb3dcblxuICAgICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG4gICAgICB0aGlzLnJlbmRlcmVyLmdhbW1hT3V0cHV0ID0gdHJ1ZTtcbiAgICAgIHRoaXMucmVuZGVyZXIuZ2FtbWFGYWN0b3IgPSAzOyAvLyBJbXBvcnRhbnQgdG8gZ2V0IHRoZSBjb3JyZWN0IGNvbG9ycy5cbiAgICAgIC8vIHRoaXMucmVuZGVyZXIucGh5c2ljYWxseUNvcnJlY3RMaWd0cyA9IHRydWU7XG4gICAgICAvLyBCYWNrZ3JvdW5kIGFzIGJsYWNrLlxuICAgICAgLy8gdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKDB4NDI4N2Y1KTtcblxuICAgICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKHRoaXMucmVuZGVyZXJDb25maWcuY2xlYXJDb2xvciwgdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpOyAvLyBBZmZlY3RzIGhvdyBzdHJvbmdseSBsaWdodHMgY29tZSBleHBvc2VkLlxuICAgICAgLy8gaHR0cHM6Ly90aHJlZWpzLm9yZy9leGFtcGxlcy8jd2ViZ2xfdG9uZW1hcHBpbmdcblxuICAgICAgdGhpcy5yZW5kZXJlci50b25lTWFwcGluZ0V4cG9zdXJlID0gMTsgLy8gdGhpcy5yZW5kZXJlci50b25lTWFwcGluZ0V4cG9zdXJlID0gMC42O1xuXG4gICAgICB0aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nID0gVEhSRUUuQUNFU0ZpbG1pY1RvbmVNYXBwaW5nO1xuICAgICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1JlbmRlcmVyJywgdGhpcy5yZW5kZXJlciwgW3tcbiAgICAgICAga2V5TmFtZTogJ3RvbmVNYXBwaW5nRXhwb3N1cmUnLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogNSxcbiAgICAgICAgc3RlcDogMC4wMVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnZ2FtbWFGYWN0b3InLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogMTAsXG4gICAgICAgIHN0ZXA6IDAuMDFcbiAgICAgIH1dKTtcbiAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdSZW5kZXJlcicsIHRoaXMucmVuZGVyZXJDb25maWcsIFt7XG4gICAgICAgIGtleU5hbWU6ICdjbGVhckNvbG9yJyxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCB0aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ2JhY2tncm91bmRBbHBoYScsXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKHRoaXMucmVuZGVyZXJDb25maWcuY2xlYXJDb2xvciwgdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpO1xuICAgICAgICB9XG4gICAgICB9XSk7XG4gICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignQ2FtZXJhJywgdGhpcy5jYW1lcmEsIFt7XG4gICAgICAgIGtleU5hbWU6ICdmb3YnLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogNTAsXG4gICAgICAgIHN0ZXA6IDAuMDEsXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleU5hbWU6ICd6b29tJyxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDEwLFxuICAgICAgICBzdGVwOiAwLjAwMDEsXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICB9XSk7XG4gICAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ0dlbmVyYWwgTGlnaHRzJyk7XG4gICAgICB0aGlzLmdlbmVyYWxMaWdodENvbmZpZyA9IHtcbiAgICAgICAgYW1iaWVudExpZ2h0Q29sb3I6ICcjRkZGRkZGJyxcbiAgICAgICAgYW1iaWVudExpZ2h0QWxwaGE6IDBcbiAgICAgIH07IC8vIEFkZGl0aW9uYWwgbGlnaHRpbmcgb3V0c2lkZSB0aGUgYmxlbmRlci5cbiAgICAgIC8vIHZhciBsaWdodCA9IG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQoIDB4ZmZmZmJiLCAweGZmZmZmZiwgMSApO1xuICAgICAgLy8gdGhpcy5zY2VuZS5hZGQoIGxpZ2h0ICk7XG5cbiAgICAgIHRoaXMuYW1iaWVudExpZ2h0ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodCh0aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRDb2xvcik7XG4gICAgICB0aGlzLmFtYmllbnRMaWdodC5pbnRlbnNpdHkgPSB0aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRBbHBoYTtcbiAgICAgIHNjZW5lLmFkZCh0aGlzLmFtYmllbnRMaWdodCk7XG4gICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignR2VuZXJhbCBMaWdodHMnLCB0aGlzLmdlbmVyYWxMaWdodENvbmZpZywgW3tcbiAgICAgICAga2V5TmFtZTogJ2FtYmllbnRMaWdodENvbG9yJyxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmFtYmllbnRMaWdodC5jb2xvciA9IG5ldyBUSFJFRS5Db2xvcih0aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRDb2xvcik7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ2FtYmllbnRMaWdodEFscGhhJyxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmFtYmllbnRMaWdodC5pbnRlbnNpdHkgPSB0aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRBbHBoYTtcbiAgICAgICAgfVxuICAgICAgfV0pOyAvLyB2YXIgd2lkdGggPSA1MDtcbiAgICAgIC8vIHZhciBoZWlnaHQgPSA1MDtcbiAgICAgIC8vIHZhciBpbnRlbnNpdHkgPSAwO1xuICAgICAgLy8gdmFyIHJlY3RMaWdodCA9IG5ldyBUSFJFRS5SZWN0QXJlYUxpZ2h0KCcjRkZGRkZGJywgaW50ZW5zaXR5LCAgd2lkdGgsIGhlaWdodCApO1xuICAgICAgLy8gcmVjdExpZ2h0LnBvc2l0aW9uLnNldCggMCwgMCwgMjUgKTtcbiAgICAgIC8vIC8vIHJlY3RMaWdodC5sb29rQXQoIDAsIDAsIDAgKTtcbiAgICAgIC8vIHRoaXMuc2NlbmUuYWRkKCByZWN0TGlnaHQgKTtcbiAgICAgIC8vIHJlY3RMaWdodEhlbHBlciA9IG5ldyBUSFJFRS5SZWN0QXJlYUxpZ2h0SGVscGVyKCByZWN0TGlnaHQgKTtcbiAgICAgIC8vIHJlY3RMaWdodC5hZGQoIHJlY3RMaWdodEhlbHBlciApO1xuXG4gICAgICB0aGlzLmd1aS5hZGRCdXR0b24oJ1JlZnJlc2gnLCB0aGlzLnJlZnJlc2guYmluZCh0aGlzKSk7XG4gICAgfSwgdW5kZWZpbmVkLCBlcnJvciA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe1xuICAgICAgYW50aWFsaWFzOiB0cnVlLFxuICAgICAgLy8gcHJlY2lzaW9uOiAnaGlnaHAnXG4gICAgICBhdXRvU2l6ZTogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuY29tcG9zZXIgPSBuZXcgX0VmZmVjdENvbXBvc2VyLkVmZmVjdENvbXBvc2VyKHRoaXMucmVuZGVyZXIpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgX2Vhc2UuRUFTRS5MaW5lYXIpO1xuICAgIHRoaXMud2lkdGggPSB0aGlzLmNhbnZhc0NvbnRhaW5lci5wYXJlbnRFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5jYW52YXNDb250YWluZXIucGFyZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kb25tY2N1cmR5L3RocmVlLWdsdGYtdmlld2VyL2Jsb2IvbWFzdGVyL3NyYy92aWV3ZXIuanNcbiAgICAvLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9jb25zdGFudHMvUmVuZGVyZXJcblxuICAgIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTsgLy8gUG9zdCBwcm9jZXNzaW5nXG4gICAgLy8gdGhpcy5jb21wb3Nlci5zZXRTaXplKCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgLy8gY29uc3QgZnhhYVBhc3MgPSBuZXcgU2hhZGVyUGFzcyggRlhBQVNoYWRlciApO1xuICAgIC8vIGZ4YWFQYXNzLm1hdGVyaWFsLnVuaWZvcm1zWyAncmVzb2x1dGlvbicgXS52YWx1ZS54ID0gMSAvICggdGhpcy53aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAvLyBmeGFhUGFzcy5tYXRlcmlhbC51bmlmb3Jtc1sgJ3Jlc29sdXRpb24nIF0udmFsdWUueSA9IDEgLyAoIHRoaXMuaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgIC8vIHRoaXMuY29tcG9zZXIuYWRkUGFzcyhmeGFhUGFzcyk7XG4gICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKG5ldyBSZW5kZXJQYXNzKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKSk7XG4gICAgLy8gdmFyIGJsb29tUGFzcyA9IG5ldyBVbnJlYWxCbG9vbVBhc3MoMSwgMjUsIDUsIDI1Nik7XG4gICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKGJsb29tUGFzcyk7XG4gICAgLy8gVGhlIGNhbWVyYSBhc3BlY3QgZ29lcyBvZmYgc2luY2UgaXQgY291bGQgYmUgZXhwb3J0ZWQgYXQgYSBkaWZmZXJlbnRcbiAgICAvLyByYXRpby4gIEZvcmNlIHVwZGF0ZSB0aGUgYXNwZWN0IHJhdGlvLlxuXG4gICAgdGhpcy5jYW1lcmEuYXNwZWN0ID0gdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgfVxuXG4gIHJlZnJlc2goKSB7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKHRoaXMucmVuZGVyZXJDb25maWcuY2xlYXJDb2xvciwgdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpO1xuICAgIHRoaXMucmVzaXplKCk7XG4gICAgdGhpcy5kcmF3KCk7XG4gIH1cblxuICBnZXRBbmltYXRpb25CeU5hbWUobmFtZSkge1xuICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbnMuZmlsdGVyKGFuaW1hdGlvbkNsaXAgPT4ge1xuICAgICAgcmV0dXJuIGFuaW1hdGlvbkNsaXAubmFtZSA9PSBuYW1lO1xuICAgIH0pWzBdO1xuICB9XG5cbiAgZ2V0T2JqZWN0QnlOYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5hY3RpdmVTY2VuZS5jaGlsZHJlbi5maWx0ZXIob2JqZWN0M2QgPT4ge1xuICAgICAgcmV0dXJuIG9iamVjdDNkLm5hbWUgPT0gbmFtZTtcbiAgICB9KVswXTtcbiAgfVxuXG4gIG9uUHJvZ3Jlc3NVcGRhdGUocHJvZ3Jlc3MpIHtcbiAgICAvL0FuaW1hdGlvbiBNaXhlcuOCkuWun+ihjFxuICAgIGlmICh0aGlzLm1peGVyKSB7XG4gICAgICAvLyBXZSBuZWVkIHRvIGZpbmQgb3V0IGhvdyBsb25nIHRoZSBhbmltYXRpb24gaXMuXG4gICAgICAvLyBUaGUgbWl4ZXIgYXBwZWFycyB0byBoYXZlIG5vIGtub3dsZWRnZSBvZnQgdGhpcyBzbyB3ZSBuZWVkIHRvXG4gICAgICAvLyBsb29rIHVwIGEgc3BlY2lmaWMgYW5pbWF0aW9uIGFuZCBnZXQgdGhlIGR1cmF0aW9uIHRvXG4gICAgICAvLyBnZXQgdGhlIHRvdGFsIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICBjb25zdCBjYW1lcmFBbmltYXRpb24gPSB0aGlzLmdldEFuaW1hdGlvbkJ5TmFtZSgnQWN0aW9uLjAwMScpO1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBjYW1lcmFBbmltYXRpb24uZHVyYXRpb247IC8vIFdoZW4gZHVyYXRpb24gaGl0cyBpdCdzIG1heCwgYW5pbWF0aW9uTWl4ZXIgc2VlbXMgdG8gaGl0IHRoZSBmaXJzdFxuICAgICAgLy8gZnJhbWUgc28gbmV4dCBhbGxvdyBpdCB0byByZWFjaCB0aGUgbWF4IHZhbHVlLlxuXG4gICAgICB0aGlzLm1peGVyLnNldFRpbWUoTWF0aC5taW4oZHVyYXRpb24gKiBwcm9ncmVzcywgZHVyYXRpb24gLSAwLjAwMSkpO1xuICAgIH1cblxuICAgIHRoaXMuZHJhdygpOyAvLyB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgLy8gdGhpcy5jb21wb3Nlci5yZW5kZXIoKTtcbiAgfVxuXG4gIGRyYXcoKSB7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gVGhyZWVPYmplY3RWaWV3ZXI2OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/three-object-viewer6.js\n");

/***/ }),

/***/ "./examples/three-object-viewer7.js":
/*!******************************************!*\
  !*** ./examples/three-object-viewer7.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _datguif = __webpack_require__(/*! ../lib/datguif/datguif */ \"./lib/datguif/datguif.js\");\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _GLTFLoader = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n\nvar _EffectComposer = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer */ \"./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n\nvar _RenderPass = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/RenderPass.js\");\n\nvar _UnrealBloomPass = __webpack_require__(/*! three/examples/jsm/postprocessing/UnrealBloomPass.js */ \"./node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js\");\n\nvar _FXAAShader = __webpack_require__(/*! three/examples/jsm/shaders/FXAAShader.js */ \"./node_modules/three/examples/jsm/shaders/FXAAShader.js\");\n\nvar _ShaderPass = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/ShaderPass.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n// https://threejs.org/docs/#manual/en/introduction/Loading-3D-models\n// https://threejs.org/examples/#webgl_loader_gltf\n// https://gist.github.com/bellbind/c4f8c502fcacbe29422e5ac315273858\n// https://github.com/funwithtriangles/blender-to-threejs-export-guide/blob/master/readme.md\n// https://threejsfundamentals.org/threejs/lessons/threejs-load-gltf.html\n// https://discoverthreejs.com/book/first-steps/load-models/\n// https://www.pentacreation.com/blog/2019/09/190916.html\n// https://www.pentacreation.com/blog/2019/10/191016.html\n// https://docs.blender.org/manual/ja/latest/addons/io_scene_gltf2.html\n// https://gltf-viewer.donmccurdy.com/\n// https://github.com/donmccurdy/three-gltf-viewer\n// import { Raf } from '../lib/raf/raf';\nclass ThreeObjectViewer7 {\n  constructor() {\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.rafProgress = new _rafProgress.RafProgress();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.scrollLerp = 0.38;\n    this.scrollEase = 'easeInQuad';\n    this.rendererConfig = {\n      clearColor: '#000000',\n      backgroundAlpha: 1.0\n    };\n    this.gui = new _datguif.Datguif({\n      load: JSON\n    });\n    this.gui.addFolder('Settings').open();\n    this.gui.addFolder('Renderer', 'Settings');\n    this.gui.addFolder('Camera', 'Settings');\n    this.gui.addFolder('Scroll', 'Settings');\n    this.gui.addFolder('Lights');\n    this.gui.addFolder('Objects');\n    this.gui.addObjectToFolder('Scroll', this, [{\n      keyName: 'scrollLerp',\n      min: 0,\n      max: 1,\n      step: 0.01\n    }, {\n      keyName: 'scrollEase',\n      options: ['linear', 'easeOutQuad', 'easeInQuad']\n    }]);\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight); //   this.rafProgress.easeTo(this.progress, 0.26, EASE.easeInOutExpo);\n        //   this.rafProgress.easeTo(this.progress, 0.08, EASE.linear);\n\n        this.rafProgress.easeTo(this.progress, this.scrollLerp, _ease.EASE[this.scrollEase]);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new THREE.Scene();\n    this.gui.onUpdate(prop => {\n      this.draw();\n    });\n    var loader = new _GLTFLoader.GLTFLoader();\n    const path = './public/home/demo7.gltf';\n    loader.load(path, gltf => {\n      const gltfData = gltf.parser.json;\n\n      const getNodeByName = name => {\n        return gltfData.nodes.filter(node => {\n          return node.name = name;\n        })[0];\n      };\n\n      console.log('gltf data', gltfData);\n      this.clock = new THREE.Clock();\n      const scene = gltf.scenes[0];\n      this.activeScene = scene;\n      this.animations = gltf.animations; // Animation Mixer\n\n      this.mixer = new THREE.AnimationMixer(scene); //Animation Clip\n\n      for (var i = 0; i < this.animations.length; i++) {\n        var animation = this.animations[i]; //Animation Action\n\n        var action = this.mixer.clipAction(animation);\n        console.log('added', animation);\n        action.play();\n      }\n\n      this.scene.add(scene);\n      console.log('scene', scene);\n      console.log('mixer', this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      this.scene.traverse(child => {\n        if (child instanceof THREE.Light) {\n          // child.castShadow = false;\n          // console.log('light', child);\n          // Set all lights to layer 1.\n          child.layers.set(1); // Debugging light positions.\n          // child.shadowCameraVisible = false;\n          // if(child.shadow) {\n          //     // Adjust shadow bias.\n          //     // child.shadow.bias = -0.002;\n          //     // Remove the rigged looking shadows.\n          //     // child.shadow.mapSize.width = 1024;\n          //     // child.shadow.mapSize.height = 1024;\n          //     // child.shadowDarkness = 0.5;\n          //     // child.shadow.camera.near = 0;\n          //     // child.shadow.camera.far = 1000;\n          //     // var helper = new THREE.CameraHelper( child.shadow.camera );\n          //     // scene.add( helper );\n          // }\n          // // Point lights are defined in watts which goes waay off in three.js\n          // if (child instanceof THREE.PointLight) {\n          //     child.intensity = child.intensity * 0.01;\n          // }\n          // // If it's a spot light, it needs to go down even more.\n          // if (child.type == \"SpotLight\") {\n          //     child.intensity = child.intensity * 0.001;\n          // }\n\n          child.intensity = 0;\n\n          if (child.name == 'Point004_Orientation') {\n            child.intensity = 1.3;\n          }\n\n          this.gui.addFolder(child.name, 'Lights');\n          this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'intensity',\n            min: 0,\n            max: 3000\n          }, {\n            keyName: 'color'\n          }]);\n\n          if (child.shadow) {\n            const shadowFolderId = child.name + ' shadow'; // console.log(child.shadow);\n\n            this.gui.addFolder(shadowFolderId, child.name);\n            this.gui.addObjectToFolder(shadowFolderId, child.shadow, [{\n              keyName: 'bias',\n              min: -1,\n              max: 1,\n              step: 0.00001\n            }, {\n              keyName: 'radius',\n              min: 0,\n              max: 100,\n              step: 0.01\n            }]);\n          }\n        } else if (child instanceof THREE.Mesh) {\n          // child.castShadow = true;\n          // child.receiveShadow = true;\n          // child.geometry.computeVertexNormals(true);\n          console.log('mesh', child);\n          const lightEnabled = ['p4-super-sm', 'p4-super-sm001', 'p4-super-sm002'];\n\n          if (~lightEnabled.indexOf(child.name)) {\n            child.layers.set(1);\n          }\n\n          this.gui.addFolder(child.name, 'Objects');\n          this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'receiveShadow'\n          }]);\n\n          if (child.material) {\n            const materialId = child.name + ' material';\n            this.gui.addFolder(materialId, child.name);\n            this.gui.addObjectToFolder(materialId, child.material, [{\n              keyName: 'emissiveIntensity',\n              min: 0,\n              max: 1\n            }, {\n              keyName: 'flatShading',\n              callback: () => {\n                child.material.needsUpdate = true;\n              }\n            }, {\n              keyName: 'wireframe',\n              callback: () => {\n                child.material.needsUpdate = true;\n              }\n            }]); // Enable smooth shading.\n            // child.material.flatShading = false;\n            // child.material.wireframe = false;\n            // child.material.needsUpdate = true;\n            // child.geometry.computeFaceNormals();\n            // child.geometry.computeVertexNormals(true);\n          } // Get the image mappings.\n          // if(child.material && child.material.map) {\n          //   child.material.map.needsUpdate = true;\n          // }\n\n        } else {\n          console.log('other', child);\n        }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n      this.camera = gltf.cameras[0];\n      console.log('camera', this.camera);\n      this.resize(); // Use fog to cover far distances.\n\n      const color = 0x00000;\n      this.scene.fog = new THREE.Fog(color, 5, 8); // Enable shadows.\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      this.renderer.shadowMap.enabled = true; // To antialias the shadow\n\n      this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n      this.renderer.gammaOutput = true;\n      this.renderer.gammaFactor = 3; // Important to get the correct colors.\n      // this.renderer.physicallyCorrectLigts = true;\n      // Background as black.\n      // this.renderer.setClearColor(0x4287f5);\n\n      this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha); // Affects how strongly lights come exposed.\n      // https://threejs.org/examples/#webgl_tonemapping\n\n      this.renderer.toneMappingExposure = 1; // this.renderer.toneMappingExposure = 0.6;\n\n      this.renderer.toneMapping = THREE.ACESFilmicToneMapping;\n      this.gui.addObjectToFolder('Renderer', this.renderer, [{\n        keyName: 'toneMappingExposure',\n        min: 0,\n        max: 5,\n        step: 0.01\n      }, {\n        keyName: 'gammaFactor',\n        min: 0,\n        max: 10,\n        step: 0.01\n      }]);\n      this.gui.addObjectToFolder('Renderer', this.rendererConfig, [{\n        keyName: 'clearColor',\n        callback: () => {\n          this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n        }\n      }, {\n        keyName: 'backgroundAlpha',\n        callback: () => {\n          this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n        }\n      }]);\n      this.gui.addObjectToFolder('Camera', this.camera, [{\n        keyName: 'fov',\n        min: 0,\n        max: 50,\n        step: 0.01,\n        callback: () => {\n          this.camera.updateProjectionMatrix();\n        }\n      }, {\n        keyName: 'zoom',\n        min: 0,\n        max: 10,\n        step: 0.0001,\n        callback: () => {\n          this.camera.updateProjectionMatrix();\n        }\n      }]);\n      this.gui.addFolder('General Lights');\n      this.generalLightConfig = {\n        ambientLightColor: '#FFFFFF',\n        ambientLightAlpha: 0\n      }; // Additional lighting outside the blender.\n      // var light = new THREE.HemisphereLight( 0xffffbb, 0xffffff, 1 );\n      // this.scene.add( light );\n\n      this.ambientLight = new THREE.AmbientLight(this.generalLightConfig.ambientLightColor);\n      this.ambientLight.intensity = this.generalLightConfig.ambientLightAlpha;\n      scene.add(this.ambientLight);\n      this.gui.addObjectToFolder('General Lights', this.generalLightConfig, [{\n        keyName: 'ambientLightColor',\n        callback: () => {\n          this.ambientLight.color = new THREE.Color(this.generalLightConfig.ambientLightColor);\n        }\n      }, {\n        keyName: 'ambientLightAlpha',\n        callback: () => {\n          this.ambientLight.intensity = this.generalLightConfig.ambientLightAlpha;\n        }\n      }]); // var width = 50;\n      // var height = 50;\n      // var intensity = 0;\n      // var rectLight = new THREE.RectAreaLight('#FFFFFF', intensity,  width, height );\n      // rectLight.position.set( 0, 0, 25 );\n      // // rectLight.lookAt( 0, 0, 0 );\n      // this.scene.add( rectLight );\n      // rectLightHelper = new THREE.RectAreaLightHelper( rectLight );\n      // rectLight.add( rectLightHelper );\n\n      this.gui.addButton('Refresh', this.refresh.bind(this));\n    }, undefined, error => {\n      console.error(error);\n    });\n    this.renderer = new THREE.WebGLRenderer({\n      antialias: true,\n      // precision: 'highp'\n      autoSize: true\n    });\n    this.composer = new _EffectComposer.EffectComposer(this.renderer);\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  resize() {\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.width = this.canvasContainer.parentElement.offsetWidth;\n    this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n    // https://threejs.org/docs/#api/en/constants/Renderer\n\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(this.width, this.height); // Post processing\n    // this.composer.setSize( this.width, this.height);\n    // const fxaaPass = new ShaderPass( FXAAShader );\n    // fxaaPass.material.uniforms[ 'resolution' ].value.x = 1 / ( this.width * window.devicePixelRatio);\n    // fxaaPass.material.uniforms[ 'resolution' ].value.y = 1 / ( this.height * window.devicePixelRatio);\n    // this.composer.addPass(fxaaPass);\n    // this.composer.addPass(new RenderPass(this.scene, this.camera));\n    // var bloomPass = new UnrealBloomPass(1, 25, 5, 256);\n    // this.composer.addPass(bloomPass);\n    // The camera aspect goes off since it could be exported at a different\n    // ratio.  Force update the aspect ratio.\n\n    this.camera.aspect = this.width / this.height;\n    this.camera.updateProjectionMatrix();\n  }\n\n  refresh() {\n    this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n    this.resize();\n    this.draw();\n  }\n\n  getAnimationByName(name) {\n    return this.animations.filter(animationClip => {\n      return animationClip.name == name;\n    })[0];\n  }\n\n  getObjectByName(name) {\n    return this.activeScene.children.filter(object3d => {\n      return object3d.name == name;\n    })[0];\n  }\n\n  onProgressUpdate(progress) {\n    //Animation Mixer\n    if (this.mixer) {\n      // We need to find out how long the animation is.\n      // The mixer appears to have no knowledge oft this so we need to\n      // look up a specific animation and get the duration to\n      // get the total duration of the animation.\n      const cameraAnimation = this.getAnimationByName('Action.001');\n      const duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n      // frame so next allow it to reach the max value.\n\n      this.mixer.setTime(Math.min(duration * progress, duration - 0.001));\n    }\n\n    this.draw(); // this.renderer.render(this.scene, this.camera);\n    // this.composer.render();\n  }\n\n  draw() {\n    this.renderer.autoClear = true;\n    this.camera.layers.set(0);\n    this.renderer.render(this.scene, this.camera);\n    this.renderer.autoClear = false; // Don't clear\n\n    this.camera.layers.set(1);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = ThreeObjectViewer7;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyNy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLW9iamVjdC12aWV3ZXI3LmpzPzBiMWUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGF0Z3VpZiA9IHJlcXVpcmUoXCIuLi9saWIvZGF0Z3VpZi9kYXRndWlmXCIpO1xuXG52YXIgX3RocmVlID0gcmVxdWlyZShcInRocmVlXCIpO1xuXG52YXIgVEhSRUUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGhyZWUpO1xuXG52YXIgX0dMVEZMb2FkZXIgPSByZXF1aXJlKFwidGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlclwiKTtcblxudmFyIF9FZmZlY3RDb21wb3NlciA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvRWZmZWN0Q29tcG9zZXJcIik7XG5cbnZhciBfUmVuZGVyUGFzcyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvUmVuZGVyUGFzcy5qc1wiKTtcblxudmFyIF9VbnJlYWxCbG9vbVBhc3MgPSByZXF1aXJlKFwidGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL1VucmVhbEJsb29tUGFzcy5qc1wiKTtcblxudmFyIF9GWEFBU2hhZGVyID0gcmVxdWlyZShcInRocmVlL2V4YW1wbGVzL2pzbS9zaGFkZXJzL0ZYQUFTaGFkZXIuanNcIik7XG5cbnZhciBfU2hhZGVyUGFzcyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvU2hhZGVyUGFzcy5qc1wiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbnZhciBfcmFmUHJvZ3Jlc3MgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3NcIik7XG5cbnZhciBfZG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tXCIpO1xuXG52YXIgX2Vhc2UgPSByZXF1aXJlKFwiLi4vbGliL2Vhc2UvZWFzZVwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI21hbnVhbC9lbi9pbnRyb2R1Y3Rpb24vTG9hZGluZy0zRC1tb2RlbHNcbi8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX2xvYWRlcl9nbHRmXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9iZWxsYmluZC9jNGY4YzUwMmZjYWNiZTI5NDIyZTVhYzMxNTI3Mzg1OFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Z1bndpdGh0cmlhbmdsZXMvYmxlbmRlci10by10aHJlZWpzLWV4cG9ydC1ndWlkZS9ibG9iL21hc3Rlci9yZWFkbWUubWRcbi8vIGh0dHBzOi8vdGhyZWVqc2Z1bmRhbWVudGFscy5vcmcvdGhyZWVqcy9sZXNzb25zL3RocmVlanMtbG9hZC1nbHRmLmh0bWxcbi8vIGh0dHBzOi8vZGlzY292ZXJ0aHJlZWpzLmNvbS9ib29rL2ZpcnN0LXN0ZXBzL2xvYWQtbW9kZWxzL1xuLy8gaHR0cHM6Ly93d3cucGVudGFjcmVhdGlvbi5jb20vYmxvZy8yMDE5LzA5LzE5MDkxNi5odG1sXG4vLyBodHRwczovL3d3dy5wZW50YWNyZWF0aW9uLmNvbS9ibG9nLzIwMTkvMTAvMTkxMDE2Lmh0bWxcbi8vIGh0dHBzOi8vZG9jcy5ibGVuZGVyLm9yZy9tYW51YWwvamEvbGF0ZXN0L2FkZG9ucy9pb19zY2VuZV9nbHRmMi5odG1sXG4vLyBodHRwczovL2dsdGYtdmlld2VyLmRvbm1jY3VyZHkuY29tL1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rvbm1jY3VyZHkvdGhyZWUtZ2x0Zi12aWV3ZXJcbi8vIGltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmNsYXNzIFRocmVlT2JqZWN0Vmlld2VyNyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdUaHJlZUpTIE9iamVjdCBWaWV3ZXIgRGVtbycpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMtY29udGFpbmVyJyk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IF9kb21XYXRjaGVyLkRvbVdhdGNoZXIoKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzID0gbmV3IF9yYWZQcm9ncmVzcy5SYWZQcm9ncmVzcygpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3Mud2F0Y2godGhpcy5vblByb2dyZXNzVXBkYXRlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2Nyb2xsTGVycCA9IDAuMzg7XG4gICAgdGhpcy5zY3JvbGxFYXNlID0gJ2Vhc2VJblF1YWQnO1xuICAgIHRoaXMucmVuZGVyZXJDb25maWcgPSB7XG4gICAgICBjbGVhckNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICBiYWNrZ3JvdW5kQWxwaGE6IDEuMFxuICAgIH07XG4gICAgdGhpcy5ndWkgPSBuZXcgX2RhdGd1aWYuRGF0Z3VpZih7XG4gICAgICBsb2FkOiBKU09OXG4gICAgfSk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdTZXR0aW5ncycpLm9wZW4oKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ1JlbmRlcmVyJywgJ1NldHRpbmdzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdDYW1lcmEnLCAnU2V0dGluZ3MnKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ1Njcm9sbCcsICdTZXR0aW5ncycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignTGlnaHRzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdPYmplY3RzJyk7XG4gICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1Njcm9sbCcsIHRoaXMsIFt7XG4gICAgICBrZXlOYW1lOiAnc2Nyb2xsTGVycCcsXG4gICAgICBtaW46IDAsXG4gICAgICBtYXg6IDEsXG4gICAgICBzdGVwOiAwLjAxXG4gICAgfSwge1xuICAgICAga2V5TmFtZTogJ3Njcm9sbEVhc2UnLFxuICAgICAgb3B0aW9uczogWydsaW5lYXInLCAnZWFzZU91dFF1YWQnLCAnZWFzZUluUXVhZCddXG4gICAgfV0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgY2FsbGJhY2s6IGV2ZW50ID0+IHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IF9kb20uZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50LCB3aW5kb3cuaW5uZXJIZWlnaHQpOyAvLyAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDAuMjYsIEVBU0UuZWFzZUluT3V0RXhwbyk7XG4gICAgICAgIC8vICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMC4wOCwgRUFTRS5saW5lYXIpO1xuXG4gICAgICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIHRoaXMuc2Nyb2xsTGVycCwgX2Vhc2UuRUFTRVt0aGlzLnNjcm9sbEVhc2VdKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLmd1aS5vblVwZGF0ZShwcm9wID0+IHtcbiAgICAgIHRoaXMuZHJhdygpO1xuICAgIH0pO1xuICAgIHZhciBsb2FkZXIgPSBuZXcgX0dMVEZMb2FkZXIuR0xURkxvYWRlcigpO1xuICAgIGNvbnN0IHBhdGggPSAnLi9wdWJsaWMvaG9tZS9kZW1vNy5nbHRmJztcbiAgICBsb2FkZXIubG9hZChwYXRoLCBnbHRmID0+IHtcbiAgICAgIGNvbnN0IGdsdGZEYXRhID0gZ2x0Zi5wYXJzZXIuanNvbjtcblxuICAgICAgY29uc3QgZ2V0Tm9kZUJ5TmFtZSA9IG5hbWUgPT4ge1xuICAgICAgICByZXR1cm4gZ2x0ZkRhdGEubm9kZXMuZmlsdGVyKG5vZGUgPT4ge1xuICAgICAgICAgIHJldHVybiBub2RlLm5hbWUgPSBuYW1lO1xuICAgICAgICB9KVswXTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnNvbGUubG9nKCdnbHRmIGRhdGEnLCBnbHRmRGF0YSk7XG4gICAgICB0aGlzLmNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKCk7XG4gICAgICBjb25zdCBzY2VuZSA9IGdsdGYuc2NlbmVzWzBdO1xuICAgICAgdGhpcy5hY3RpdmVTY2VuZSA9IHNjZW5lO1xuICAgICAgdGhpcy5hbmltYXRpb25zID0gZ2x0Zi5hbmltYXRpb25zOyAvLyBBbmltYXRpb24gTWl4ZXLjgqTjg7Pjgrnjgr/jg7PjgrnjgpLnlJ/miJBcblxuICAgICAgdGhpcy5taXhlciA9IG5ldyBUSFJFRS5BbmltYXRpb25NaXhlcihzY2VuZSk7IC8v5YWo44Gm44GuQW5pbWF0aW9uIENsaXDjgavlr77jgZfjgaZcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHRoaXMuYW5pbWF0aW9uc1tpXTsgLy9BbmltYXRpb24gQWN0aW9u44KS55Sf5oiQXG5cbiAgICAgICAgdmFyIGFjdGlvbiA9IHRoaXMubWl4ZXIuY2xpcEFjdGlvbihhbmltYXRpb24pO1xuICAgICAgICBjb25zb2xlLmxvZygnYWRkZWQnLCBhbmltYXRpb24pO1xuICAgICAgICBhY3Rpb24ucGxheSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNjZW5lLmFkZChzY2VuZSk7XG4gICAgICBjb25zb2xlLmxvZygnc2NlbmUnLCBzY2VuZSk7XG4gICAgICBjb25zb2xlLmxvZygnbWl4ZXInLCB0aGlzLm1peGVyKTsgLy8gaHR0cDovL2xlYXJuaW5ndGhyZWVqcy5jb20vYmxvZy8yMDEyLzAxLzIwL2Nhc3Rpbmctc2hhZG93cy9cblxuICAgICAgdGhpcy5zY2VuZS50cmF2ZXJzZShjaGlsZCA9PiB7XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLkxpZ2h0KSB7XG4gICAgICAgICAgLy8gY2hpbGQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdsaWdodCcsIGNoaWxkKTtcbiAgICAgICAgICAvLyBTZXQgYWxsIGxpZ2h0cyB0byBsYXllciAxLlxuICAgICAgICAgIGNoaWxkLmxheWVycy5zZXQoMSk7IC8vIERlYnVnZ2luZyBsaWdodCBwb3NpdGlvbnMuXG4gICAgICAgICAgLy8gY2hpbGQuc2hhZG93Q2FtZXJhVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgIC8vIGlmKGNoaWxkLnNoYWRvdykge1xuICAgICAgICAgIC8vICAgICAvLyBBZGp1c3Qgc2hhZG93IGJpYXMuXG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvdy5iaWFzID0gLTAuMDAyO1xuICAgICAgICAgIC8vICAgICAvLyBSZW1vdmUgdGhlIHJpZ2dlZCBsb29raW5nIHNoYWRvd3MuXG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvdy5tYXBTaXplLndpZHRoID0gMTAyNDtcbiAgICAgICAgICAvLyAgICAgLy8gY2hpbGQuc2hhZG93Lm1hcFNpemUuaGVpZ2h0ID0gMTAyNDtcbiAgICAgICAgICAvLyAgICAgLy8gY2hpbGQuc2hhZG93RGFya25lc3MgPSAwLjU7XG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvdy5jYW1lcmEubmVhciA9IDA7XG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvdy5jYW1lcmEuZmFyID0gMTAwMDtcbiAgICAgICAgICAvLyAgICAgLy8gdmFyIGhlbHBlciA9IG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIoIGNoaWxkLnNoYWRvdy5jYW1lcmEgKTtcbiAgICAgICAgICAvLyAgICAgLy8gc2NlbmUuYWRkKCBoZWxwZXIgKTtcbiAgICAgICAgICAvLyB9XG4gICAgICAgICAgLy8gLy8gUG9pbnQgbGlnaHRzIGFyZSBkZWZpbmVkIGluIHdhdHRzIHdoaWNoIGdvZXMgd2FheSBvZmYgaW4gdGhyZWUuanNcbiAgICAgICAgICAvLyBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5Qb2ludExpZ2h0KSB7XG4gICAgICAgICAgLy8gICAgIGNoaWxkLmludGVuc2l0eSA9IGNoaWxkLmludGVuc2l0eSAqIDAuMDE7XG4gICAgICAgICAgLy8gfVxuICAgICAgICAgIC8vIC8vIElmIGl0J3MgYSBzcG90IGxpZ2h0LCBpdCBuZWVkcyB0byBnbyBkb3duIGV2ZW4gbW9yZS5cbiAgICAgICAgICAvLyBpZiAoY2hpbGQudHlwZSA9PSBcIlNwb3RMaWdodFwiKSB7XG4gICAgICAgICAgLy8gICAgIGNoaWxkLmludGVuc2l0eSA9IGNoaWxkLmludGVuc2l0eSAqIDAuMDAxO1xuICAgICAgICAgIC8vIH1cblxuICAgICAgICAgIGNoaWxkLmludGVuc2l0eSA9IDA7XG5cbiAgICAgICAgICBpZiAoY2hpbGQubmFtZSA9PSAnUG9pbnQwMDRfT3JpZW50YXRpb24nKSB7XG4gICAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSAxLjM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5ndWkuYWRkRm9sZGVyKGNoaWxkLm5hbWUsICdMaWdodHMnKTtcbiAgICAgICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihjaGlsZC5uYW1lLCBjaGlsZCwgW3tcbiAgICAgICAgICAgIGtleU5hbWU6ICdjYXN0U2hhZG93J1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleU5hbWU6ICdpbnRlbnNpdHknLFxuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiAzMDAwXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5TmFtZTogJ2NvbG9yJ1xuICAgICAgICAgIH1dKTtcblxuICAgICAgICAgIGlmIChjaGlsZC5zaGFkb3cpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvd0ZvbGRlcklkID0gY2hpbGQubmFtZSArICcgc2hhZG93JzsgLy8gY29uc29sZS5sb2coY2hpbGQuc2hhZG93KTtcblxuICAgICAgICAgICAgdGhpcy5ndWkuYWRkRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5uYW1lKTtcbiAgICAgICAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5zaGFkb3csIFt7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdiaWFzJyxcbiAgICAgICAgICAgICAgbWluOiAtMSxcbiAgICAgICAgICAgICAgbWF4OiAxLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAwMDAxXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdyYWRpdXMnLFxuICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgIG1heDogMTAwLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAxXG4gICAgICAgICAgICB9XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaCkge1xuICAgICAgICAgIC8vIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNoaWxkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKHRydWUpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdtZXNoJywgY2hpbGQpO1xuICAgICAgICAgIGNvbnN0IGxpZ2h0RW5hYmxlZCA9IFsncDQtc3VwZXItc20nLCAncDQtc3VwZXItc20wMDEnLCAncDQtc3VwZXItc20wMDInXTtcblxuICAgICAgICAgIGlmICh+bGlnaHRFbmFibGVkLmluZGV4T2YoY2hpbGQubmFtZSkpIHtcbiAgICAgICAgICAgIGNoaWxkLmxheWVycy5zZXQoMSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5ndWkuYWRkRm9sZGVyKGNoaWxkLm5hbWUsICdPYmplY3RzJyk7XG4gICAgICAgICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoY2hpbGQubmFtZSwgY2hpbGQsIFt7XG4gICAgICAgICAgICBrZXlOYW1lOiAnY2FzdFNoYWRvdydcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXlOYW1lOiAncmVjZWl2ZVNoYWRvdydcbiAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICBpZiAoY2hpbGQubWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsSWQgPSBjaGlsZC5uYW1lICsgJyBtYXRlcmlhbCc7XG4gICAgICAgICAgICB0aGlzLmd1aS5hZGRGb2xkZXIobWF0ZXJpYWxJZCwgY2hpbGQubmFtZSk7XG4gICAgICAgICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihtYXRlcmlhbElkLCBjaGlsZC5tYXRlcmlhbCwgW3tcbiAgICAgICAgICAgICAga2V5TmFtZTogJ2VtaXNzaXZlSW50ZW5zaXR5JyxcbiAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICBtYXg6IDFcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAga2V5TmFtZTogJ2ZsYXRTaGFkaW5nJyxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjaGlsZC5tYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAga2V5TmFtZTogJ3dpcmVmcmFtZScsXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7IC8vIEVuYWJsZSBzbW9vdGggc2hhZGluZy5cbiAgICAgICAgICAgIC8vIGNoaWxkLm1hdGVyaWFsLmZsYXRTaGFkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBjaGlsZC5tYXRlcmlhbC53aXJlZnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGNoaWxkLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVGYWNlTm9ybWFscygpO1xuICAgICAgICAgICAgLy8gY2hpbGQuZ2VvbWV0cnkuY29tcHV0ZVZlcnRleE5vcm1hbHModHJ1ZSk7XG4gICAgICAgICAgfSAvLyBHZXQgdGhlIGltYWdlIG1hcHBpbmdzLlxuICAgICAgICAgIC8vIGlmKGNoaWxkLm1hdGVyaWFsICYmIGNoaWxkLm1hdGVyaWFsLm1hcCkge1xuICAgICAgICAgIC8vICAgY2hpbGQubWF0ZXJpYWwubWFwLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAvLyB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnb3RoZXInLCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgIH0pOyAvLyBTZXQgdGhlIGNhbWVyYSBleHBvcnRlZCBpbiBnbHRmLlxuICAgICAgLy8gUmVxdWlyZXMgY2FtZXJhIHRvIGJlIGV4cG9ydGVkIGZvciBnbHRmLlxuXG4gICAgICB0aGlzLmNhbWVyYSA9IGdsdGYuY2FtZXJhc1swXTtcbiAgICAgIGNvbnNvbGUubG9nKCdjYW1lcmEnLCB0aGlzLmNhbWVyYSk7XG4gICAgICB0aGlzLnJlc2l6ZSgpOyAvLyBVc2UgZm9nIHRvIGNvdmVyIGZhciBkaXN0YW5jZXMuXG5cbiAgICAgIGNvbnN0IGNvbG9yID0gMHgwMDAwMDtcbiAgICAgIHRoaXMuc2NlbmUuZm9nID0gbmV3IFRIUkVFLkZvZyhjb2xvciwgNSwgOCk7IC8vIEVuYWJsZSBzaGFkb3dzLlxuICAgICAgLy8gaHR0cHM6Ly90aHJlZWpzLm9yZy9kb2NzLyNhcGkvZW4vY29uc3RhbnRzL1JlbmRlcmVyXG5cbiAgICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlOyAvLyBUbyBhbnRpYWxpYXMgdGhlIHNoYWRvd1xuXG4gICAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcbiAgICAgIHRoaXMucmVuZGVyZXIuZ2FtbWFPdXRwdXQgPSB0cnVlO1xuICAgICAgdGhpcy5yZW5kZXJlci5nYW1tYUZhY3RvciA9IDM7IC8vIEltcG9ydGFudCB0byBnZXQgdGhlIGNvcnJlY3QgY29sb3JzLlxuICAgICAgLy8gdGhpcy5yZW5kZXJlci5waHlzaWNhbGx5Q29ycmVjdExpZ3RzID0gdHJ1ZTtcbiAgICAgIC8vIEJhY2tncm91bmQgYXMgYmxhY2suXG4gICAgICAvLyB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHg0Mjg3ZjUpO1xuXG4gICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCB0aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7IC8vIEFmZmVjdHMgaG93IHN0cm9uZ2x5IGxpZ2h0cyBjb21lIGV4cG9zZWQuXG4gICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2V4YW1wbGVzLyN3ZWJnbF90b25lbWFwcGluZ1xuXG4gICAgICB0aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSAxOyAvLyB0aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSAwLjY7XG5cbiAgICAgIHRoaXMucmVuZGVyZXIudG9uZU1hcHBpbmcgPSBUSFJFRS5BQ0VTRmlsbWljVG9uZU1hcHBpbmc7XG4gICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignUmVuZGVyZXInLCB0aGlzLnJlbmRlcmVyLCBbe1xuICAgICAgICBrZXlOYW1lOiAndG9uZU1hcHBpbmdFeHBvc3VyZScsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiA1LFxuICAgICAgICBzdGVwOiAwLjAxXG4gICAgICB9LCB7XG4gICAgICAgIGtleU5hbWU6ICdnYW1tYUZhY3RvcicsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiAxMCxcbiAgICAgICAgc3RlcDogMC4wMVxuICAgICAgfV0pO1xuICAgICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1JlbmRlcmVyJywgdGhpcy5yZW5kZXJlckNvbmZpZywgW3tcbiAgICAgICAga2V5TmFtZTogJ2NsZWFyQ29sb3InLFxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcih0aGlzLnJlbmRlcmVyQ29uZmlnLmNsZWFyQ29sb3IsIHRoaXMucmVuZGVyZXJDb25maWcuYmFja2dyb3VuZEFscGhhKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnYmFja2dyb3VuZEFscGhhJyxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCB0aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7XG4gICAgICAgIH1cbiAgICAgIH1dKTtcbiAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdDYW1lcmEnLCB0aGlzLmNhbWVyYSwgW3tcbiAgICAgICAga2V5TmFtZTogJ2ZvdicsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiA1MCxcbiAgICAgICAgc3RlcDogMC4wMSxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ3pvb20nLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogMTAsXG4gICAgICAgIHN0ZXA6IDAuMDAwMSxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICAgIH1dKTtcbiAgICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignR2VuZXJhbCBMaWdodHMnKTtcbiAgICAgIHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnID0ge1xuICAgICAgICBhbWJpZW50TGlnaHRDb2xvcjogJyNGRkZGRkYnLFxuICAgICAgICBhbWJpZW50TGlnaHRBbHBoYTogMFxuICAgICAgfTsgLy8gQWRkaXRpb25hbCBsaWdodGluZyBvdXRzaWRlIHRoZSBibGVuZGVyLlxuICAgICAgLy8gdmFyIGxpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodCggMHhmZmZmYmIsIDB4ZmZmZmZmLCAxICk7XG4gICAgICAvLyB0aGlzLnNjZW5lLmFkZCggbGlnaHQgKTtcblxuICAgICAgdGhpcy5hbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodENvbG9yKTtcbiAgICAgIHRoaXMuYW1iaWVudExpZ2h0LmludGVuc2l0eSA9IHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodEFscGhhO1xuICAgICAgc2NlbmUuYWRkKHRoaXMuYW1iaWVudExpZ2h0KTtcbiAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdHZW5lcmFsIExpZ2h0cycsIHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLCBbe1xuICAgICAgICBrZXlOYW1lOiAnYW1iaWVudExpZ2h0Q29sb3InLFxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuYW1iaWVudExpZ2h0LmNvbG9yID0gbmV3IFRIUkVFLkNvbG9yKHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodENvbG9yKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnYW1iaWVudExpZ2h0QWxwaGEnLFxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuYW1iaWVudExpZ2h0LmludGVuc2l0eSA9IHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodEFscGhhO1xuICAgICAgICB9XG4gICAgICB9XSk7IC8vIHZhciB3aWR0aCA9IDUwO1xuICAgICAgLy8gdmFyIGhlaWdodCA9IDUwO1xuICAgICAgLy8gdmFyIGludGVuc2l0eSA9IDA7XG4gICAgICAvLyB2YXIgcmVjdExpZ2h0ID0gbmV3IFRIUkVFLlJlY3RBcmVhTGlnaHQoJyNGRkZGRkYnLCBpbnRlbnNpdHksICB3aWR0aCwgaGVpZ2h0ICk7XG4gICAgICAvLyByZWN0TGlnaHQucG9zaXRpb24uc2V0KCAwLCAwLCAyNSApO1xuICAgICAgLy8gLy8gcmVjdExpZ2h0Lmxvb2tBdCggMCwgMCwgMCApO1xuICAgICAgLy8gdGhpcy5zY2VuZS5hZGQoIHJlY3RMaWdodCApO1xuICAgICAgLy8gcmVjdExpZ2h0SGVscGVyID0gbmV3IFRIUkVFLlJlY3RBcmVhTGlnaHRIZWxwZXIoIHJlY3RMaWdodCApO1xuICAgICAgLy8gcmVjdExpZ2h0LmFkZCggcmVjdExpZ2h0SGVscGVyICk7XG5cbiAgICAgIHRoaXMuZ3VpLmFkZEJ1dHRvbignUmVmcmVzaCcsIHRoaXMucmVmcmVzaC5iaW5kKHRoaXMpKTtcbiAgICB9LCB1bmRlZmluZWQsIGVycm9yID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH0pO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7XG4gICAgICBhbnRpYWxpYXM6IHRydWUsXG4gICAgICAvLyBwcmVjaXNpb246ICdoaWdocCdcbiAgICAgIGF1dG9TaXplOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5jb21wb3NlciA9IG5ldyBfRWZmZWN0Q29tcG9zZXIuRWZmZWN0Q29tcG9zZXIodGhpcy5yZW5kZXJlcik7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUuYmluZCh0aGlzKSwgZmFsc2UpO1xuICB9XG5cbiAgcmVzaXplKCkge1xuICAgIHRoaXMucHJvZ3Jlc3MgPSBfZG9tLmRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAxLCBfZWFzZS5FQVNFLkxpbmVhcik7XG4gICAgdGhpcy53aWR0aCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNhbnZhc0NvbnRhaW5lci5wYXJlbnRFbGVtZW50Lm9mZnNldEhlaWdodDsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rvbm1jY3VyZHkvdGhyZWUtZ2x0Zi12aWV3ZXIvYmxvYi9tYXN0ZXIvc3JjL3ZpZXdlci5qc1xuICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL2NvbnN0YW50cy9SZW5kZXJlclxuXG4gICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpOyAvLyBQb3N0IHByb2Nlc3NpbmdcbiAgICAvLyB0aGlzLmNvbXBvc2VyLnNldFNpemUoIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAvLyBjb25zdCBmeGFhUGFzcyA9IG5ldyBTaGFkZXJQYXNzKCBGWEFBU2hhZGVyICk7XG4gICAgLy8gZnhhYVBhc3MubWF0ZXJpYWwudW5pZm9ybXNbICdyZXNvbHV0aW9uJyBdLnZhbHVlLnggPSAxIC8gKCB0aGlzLndpZHRoICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgIC8vIGZ4YWFQYXNzLm1hdGVyaWFsLnVuaWZvcm1zWyAncmVzb2x1dGlvbicgXS52YWx1ZS55ID0gMSAvICggdGhpcy5oZWlnaHQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKGZ4YWFQYXNzKTtcbiAgICAvLyB0aGlzLmNvbXBvc2VyLmFkZFBhc3MobmV3IFJlbmRlclBhc3ModGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpKTtcbiAgICAvLyB2YXIgYmxvb21QYXNzID0gbmV3IFVucmVhbEJsb29tUGFzcygxLCAyNSwgNSwgMjU2KTtcbiAgICAvLyB0aGlzLmNvbXBvc2VyLmFkZFBhc3MoYmxvb21QYXNzKTtcbiAgICAvLyBUaGUgY2FtZXJhIGFzcGVjdCBnb2VzIG9mZiBzaW5jZSBpdCBjb3VsZCBiZSBleHBvcnRlZCBhdCBhIGRpZmZlcmVudFxuICAgIC8vIHJhdGlvLiAgRm9yY2UgdXBkYXRlIHRoZSBhc3BlY3QgcmF0aW8uXG5cbiAgICB0aGlzLmNhbWVyYS5hc3BlY3QgPSB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQ7XG4gICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICB9XG5cbiAgcmVmcmVzaCgpIHtcbiAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCB0aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7XG4gICAgdGhpcy5yZXNpemUoKTtcbiAgICB0aGlzLmRyYXcoKTtcbiAgfVxuXG4gIGdldEFuaW1hdGlvbkJ5TmFtZShuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuYW5pbWF0aW9ucy5maWx0ZXIoYW5pbWF0aW9uQ2xpcCA9PiB7XG4gICAgICByZXR1cm4gYW5pbWF0aW9uQ2xpcC5uYW1lID09IG5hbWU7XG4gICAgfSlbMF07XG4gIH1cblxuICBnZXRPYmplY3RCeU5hbWUobmFtZSkge1xuICAgIHJldHVybiB0aGlzLmFjdGl2ZVNjZW5lLmNoaWxkcmVuLmZpbHRlcihvYmplY3QzZCA9PiB7XG4gICAgICByZXR1cm4gb2JqZWN0M2QubmFtZSA9PSBuYW1lO1xuICAgIH0pWzBdO1xuICB9XG5cbiAgb25Qcm9ncmVzc1VwZGF0ZShwcm9ncmVzcykge1xuICAgIC8vQW5pbWF0aW9uIE1peGVy44KS5a6f6KGMXG4gICAgaWYgKHRoaXMubWl4ZXIpIHtcbiAgICAgIC8vIFdlIG5lZWQgdG8gZmluZCBvdXQgaG93IGxvbmcgdGhlIGFuaW1hdGlvbiBpcy5cbiAgICAgIC8vIFRoZSBtaXhlciBhcHBlYXJzIHRvIGhhdmUgbm8ga25vd2xlZGdlIG9mdCB0aGlzIHNvIHdlIG5lZWQgdG9cbiAgICAgIC8vIGxvb2sgdXAgYSBzcGVjaWZpYyBhbmltYXRpb24gYW5kIGdldCB0aGUgZHVyYXRpb24gdG9cbiAgICAgIC8vIGdldCB0aGUgdG90YWwgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbi5cbiAgICAgIGNvbnN0IGNhbWVyYUFuaW1hdGlvbiA9IHRoaXMuZ2V0QW5pbWF0aW9uQnlOYW1lKCdBY3Rpb24uMDAxJyk7XG4gICAgICBjb25zdCBkdXJhdGlvbiA9IGNhbWVyYUFuaW1hdGlvbi5kdXJhdGlvbjsgLy8gV2hlbiBkdXJhdGlvbiBoaXRzIGl0J3MgbWF4LCBhbmltYXRpb25NaXhlciBzZWVtcyB0byBoaXQgdGhlIGZpcnN0XG4gICAgICAvLyBmcmFtZSBzbyBuZXh0IGFsbG93IGl0IHRvIHJlYWNoIHRoZSBtYXggdmFsdWUuXG5cbiAgICAgIHRoaXMubWl4ZXIuc2V0VGltZShNYXRoLm1pbihkdXJhdGlvbiAqIHByb2dyZXNzLCBkdXJhdGlvbiAtIDAuMDAxKSk7XG4gICAgfVxuXG4gICAgdGhpcy5kcmF3KCk7IC8vIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICAvLyB0aGlzLmNvbXBvc2VyLnJlbmRlcigpO1xuICB9XG5cbiAgZHJhdygpIHtcbiAgICB0aGlzLnJlbmRlcmVyLmF1dG9DbGVhciA9IHRydWU7XG4gICAgdGhpcy5jYW1lcmEubGF5ZXJzLnNldCgwKTtcbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgdGhpcy5yZW5kZXJlci5hdXRvQ2xlYXIgPSBmYWxzZTsgLy8gRG9uJ3QgY2xlYXJcblxuICAgIHRoaXMuY2FtZXJhLmxheWVycy5zZXQoMSk7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gVGhyZWVPYmplY3RWaWV3ZXI3OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/three-object-viewer7.js\n");

/***/ }),

/***/ "./examples/three-object-viewer8.js":
/*!******************************************!*\
  !*** ./examples/three-object-viewer8.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _datguif = __webpack_require__(/*! ../lib/datguif/datguif */ \"./lib/datguif/datguif.js\");\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _GLTFLoader = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n\nvar _EffectComposer = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer */ \"./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n\nvar _RenderPass = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/RenderPass.js\");\n\nvar _UnrealBloomPass = __webpack_require__(/*! three/examples/jsm/postprocessing/UnrealBloomPass.js */ \"./node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js\");\n\nvar _FXAAShader = __webpack_require__(/*! three/examples/jsm/shaders/FXAAShader.js */ \"./node_modules/three/examples/jsm/shaders/FXAAShader.js\");\n\nvar _ShaderPass = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/ShaderPass.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n// https://threejs.org/docs/#manual/en/introduction/Loading-3D-models\n// https://threejs.org/examples/#webgl_loader_gltf\n// https://gist.github.com/bellbind/c4f8c502fcacbe29422e5ac315273858\n// https://github.com/funwithtriangles/blender-to-threejs-export-guide/blob/master/readme.md\n// https://threejsfundamentals.org/threejs/lessons/threejs-load-gltf.html\n// https://discoverthreejs.com/book/first-steps/load-models/\n// https://www.pentacreation.com/blog/2019/09/190916.html\n// https://www.pentacreation.com/blog/2019/10/191016.html\n// https://docs.blender.org/manual/ja/latest/addons/io_scene_gltf2.html\n// https://gltf-viewer.donmccurdy.com/\n// https://github.com/donmccurdy/three-gltf-viewer\n// import { Raf } from '../lib/raf/raf';\nclass ThreeObjectViewer8 {\n  constructor() {\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.rafProgress = new _rafProgress.RafProgress();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.scrollLerp = 0.38;\n    this.scrollEase = 'easeInQuad';\n    this.rendererConfig = {\n      clearColor: '#000000',\n      backgroundAlpha: 1.0\n    };\n    this.gui = new _datguif.Datguif({\n      load: JSON\n    });\n    this.gui.addFolder('Settings').open();\n    this.gui.addFolder('Renderer', 'Settings');\n    this.gui.addFolder('Camera', 'Settings');\n    this.gui.addFolder('Scroll', 'Settings');\n    this.gui.addFolder('Lights');\n    this.gui.addFolder('Objects');\n    this.gui.addObjectToFolder('Scroll', this, [{\n      keyName: 'scrollLerp',\n      min: 0,\n      max: 1,\n      step: 0.01\n    }, {\n      keyName: 'scrollEase',\n      options: ['linear', 'easeOutQuad', 'easeInQuad']\n    }]);\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight); //   this.rafProgress.easeTo(this.progress, 0.26, EASE.easeInOutExpo);\n        //   this.rafProgress.easeTo(this.progress, 0.08, EASE.linear);\n\n        this.rafProgress.easeTo(this.progress, this.scrollLerp, _ease.EASE[this.scrollEase]);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new THREE.Scene();\n    this.gui.onUpdate(prop => {\n      this.draw();\n    });\n    var loader = new _GLTFLoader.GLTFLoader();\n    const path = './public/home/demo9.gltf';\n    loader.load(path, gltf => {\n      const gltfData = gltf.parser.json;\n\n      const getNodeByName = name => {\n        return gltfData.nodes.filter(node => {\n          return node.name = name;\n        })[0];\n      };\n\n      console.log('gltf data', gltfData);\n      this.clock = new THREE.Clock();\n      const scene = gltf.scenes[0];\n      this.activeScene = scene;\n      this.animations = gltf.animations; // Animation Mixer\n\n      this.mixer = new THREE.AnimationMixer(scene); //Animation Clip\n\n      for (var i = 0; i < this.animations.length; i++) {\n        var animation = this.animations[i]; //Animation Action\n\n        var action = this.mixer.clipAction(animation);\n        console.log('added', animation);\n        action.play();\n      }\n\n      this.scene.add(scene);\n      console.log('scene', scene);\n      console.log('mixer', this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      this.scene.traverse(child => {\n        if (child instanceof THREE.Light) {\n          // child.castShadow = true;\n          // console.log('light', child);\n          // Debugging light positions.\n          // child.shadowCameraVisible = false;\n          // if(child.shadow) {\n          //     // Adjust shadow bias.\n          //     // child.shadow.bias = -0.002;\n          //     // Remove the rigged looking shadows.\n          //     // child.shadow.mapSize.width = 1024;\n          //     // child.shadow.mapSize.height = 1024;\n          //     // child.shadowDarkness = 0.5;\n          //     // child.shadow.camera.near = 0;\n          //     // child.shadow.camera.far = 1000;\n          //     // var helper = new THREE.CameraHelper( child.shadow.camera );\n          //     // scene.add( helper );\n          // }\n          // // Point lights are defined in watts which goes waay off in three.js\n          if (child instanceof THREE.PointLight) {\n            child.intensity = child.intensity * 0.0005;\n          } // If it's a spot light, it needs to go down even more.\n\n\n          if (child.type == \"SpotLight\") {\n            child.intensity = child.intensity * 0.001;\n          } // child.intensity = 0;\n\n\n          if (child.name == 'Point003_Orientation') {\n            // child.castShadow = true;\n            child.intensity = 0.6;\n          }\n\n          this.gui.addFolder(child.name, 'Lights');\n          this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'intensity',\n            min: 0,\n            max: 3000\n          }, {\n            keyName: 'color'\n          }]);\n\n          if (child.shadow) {\n            const shadowFolderId = child.name + ' shadow'; // console.log(child.shadow);\n\n            this.gui.addFolder(shadowFolderId, child.name);\n            this.gui.addObjectToFolder(shadowFolderId, child.shadow, [{\n              keyName: 'bias',\n              min: -1,\n              max: 1,\n              step: 0.00001\n            }, {\n              keyName: 'radius',\n              min: 0,\n              max: 100,\n              step: 0.01\n            }]);\n          }\n        } else if (child instanceof THREE.Mesh) {\n          // child.castShadow = true;\n          // child.receiveShadow = true;\n          // child.geometry.computeVertexNormals(true);\n          //    const lightEnabled = [\n          //         'p4-super-sm',\n          //         'p4-super-sm001',\n          //         'p4-super-sm002',\n          //     ];\n          //     if(~lightEnabled.indexOf(child.name)) {\n          //         child.layers.set(1);\n          //     }\n          this.gui.addFolder(child.name, 'Objects');\n          this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'receiveShadow'\n          }]);\n\n          if (child.material) {\n            const materialId = child.name + ' material';\n            this.gui.addFolder(materialId, child.name);\n            this.gui.addObjectToFolder(materialId, child.material, [{\n              keyName: 'emissiveIntensity',\n              min: 0,\n              max: 1\n            }, {\n              keyName: 'flatShading',\n              callback: () => {\n                child.material.needsUpdate = true;\n              }\n            }, {\n              keyName: 'wireframe',\n              callback: () => {\n                child.material.needsUpdate = true;\n              }\n            }]); // Enable smooth shading.\n            // child.material.flatShading = false;\n            // child.material.wireframe = false;\n            // child.material.needsUpdate = true;\n            // child.geometry.computeFaceNormals();\n            // child.geometry.computeVertexNormals(true);\n          }\n\n          if (child.name == 'Plane001') {\n            console.log('mesh', child);\n          } // Get the image mappings.\n          // if(child.material && child.material.map) {\n          //   child.material.map.needsUpdate = true;\n          // }\n\n        } else {// console.log('other', child);\n          }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n      this.camera = gltf.cameras[0];\n      console.log('camera', this.camera);\n      this.resize(); // Use fog to cover far distances.\n      // const color = 0x00000;\n      // this.scene.fog = new THREE.Fog(color, 5, 8);\n      // Enable shadows.\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      this.renderer.shadowMap.enabled = true; // To antialias the shadow\n\n      this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n      this.renderer.gammaOutput = true;\n      this.renderer.gammaFactor = 2.2; // Important to get the correct colors.\n      // this.renderer.physicallyCorrectLigts = true;\n      // Background as black.\n      // this.renderer.setClearColor(0x4287f5);\n\n      this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha); // Affects how strongly lights come exposed.\n      // https://threejs.org/examples/#webgl_tonemapping\n\n      this.renderer.toneMappingExposure = 1; // this.renderer.toneMappingExposure = 0.6;\n\n      this.renderer.toneMapping = THREE.ACESFilmicToneMapping;\n      this.gui.addObjectToFolder('Renderer', this.renderer, [{\n        keyName: 'toneMappingExposure',\n        min: 0,\n        max: 5,\n        step: 0.01\n      }, {\n        keyName: 'gammaFactor',\n        min: 0,\n        max: 10,\n        step: 0.01\n      }]);\n      this.gui.addObjectToFolder('Renderer', this.rendererConfig, [{\n        keyName: 'clearColor',\n        callback: () => {\n          this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n        }\n      }, {\n        keyName: 'backgroundAlpha',\n        callback: () => {\n          this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n        }\n      }]);\n      this.gui.addObjectToFolder('Camera', this.camera, [{\n        keyName: 'fov',\n        min: 0,\n        max: 50,\n        step: 0.01,\n        callback: () => {\n          this.camera.updateProjectionMatrix();\n        }\n      }, {\n        keyName: 'zoom',\n        min: 0,\n        max: 10,\n        step: 0.0001,\n        callback: () => {\n          this.camera.updateProjectionMatrix();\n        }\n      }]);\n      this.gui.addFolder('General Lights');\n      this.generalLightConfig = {\n        ambientLightColor: '##7395b3',\n        ambientLightAlpha: 1.3\n      }; // Additional lighting outside the blender.\n      // var light = new THREE.HemisphereLight( 0xffffbb, 0xffffff, 1 );\n      // this.scene.add( light );\n\n      this.ambientLight = new THREE.AmbientLight(this.generalLightConfig.ambientLightColor);\n      this.ambientLight.intensity = this.generalLightConfig.ambientLightAlpha;\n      scene.add(this.ambientLight);\n      this.gui.addObjectToFolder('General Lights', this.generalLightConfig, [{\n        keyName: 'ambientLightColor',\n        callback: () => {\n          this.ambientLight.color = new THREE.Color(this.generalLightConfig.ambientLightColor);\n        }\n      }, {\n        keyName: 'ambientLightAlpha',\n        callback: () => {\n          this.ambientLight.intensity = this.generalLightConfig.ambientLightAlpha;\n        }\n      }]); // var width = 50;\n      // var height = 50;\n      // var intensity = 0;\n      // var rectLight = new THREE.RectAreaLight('#FFFFFF', intensity,  width, height );\n      // rectLight.position.set( 0, 0, 25 );\n      // // rectLight.lookAt( 0, 0, 0 );\n      // this.scene.add( rectLight );\n      // rectLightHelper = new THREE.RectAreaLightHelper( rectLight );\n      // rectLight.add( rectLightHelper );\n\n      this.gui.addButton('Refresh', this.refresh.bind(this));\n    }, undefined, error => {\n      console.error(error);\n    });\n    this.renderer = new THREE.WebGLRenderer({\n      antialias: true,\n      // precision: 'highp'\n      autoSize: true\n    });\n    this.composer = new _EffectComposer.EffectComposer(this.renderer);\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  resize() {\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.width = this.canvasContainer.parentElement.offsetWidth;\n    this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n    // https://threejs.org/docs/#api/en/constants/Renderer\n\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(this.width, this.height); // Post processing\n    // this.composer.setSize( this.width, this.height);\n    // const fxaaPass = new ShaderPass( FXAAShader );\n    // fxaaPass.material.uniforms[ 'resolution' ].value.x = 1 / ( this.width * window.devicePixelRatio);\n    // fxaaPass.material.uniforms[ 'resolution' ].value.y = 1 / ( this.height * window.devicePixelRatio);\n    // this.composer.addPass(fxaaPass);\n    // this.composer.addPass(new RenderPass(this.scene, this.camera));\n    // var bloomPass = new Unr2.2mealBloomPass(1, 25, 5, 256);\n    // this.composer.addPass(bloomPass);\n    // The camera aspect goes off since it could be exported at a different\n    // ratio.  Force update the aspect ratio.\n\n    this.camera.aspect = this.width / this.height;\n    this.camera.updateProjectionMatrix();\n  }\n\n  refresh() {\n    this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n    this.resize();\n    this.draw();\n  }\n\n  getAnimationByName(name) {\n    return this.animations.filter(animationClip => {\n      return animationClip.name == name;\n    })[0];\n  }\n\n  getObjectByName(name) {\n    return this.activeScene.children.filter(object3d => {\n      return object3d.name == name;\n    })[0];\n  }\n\n  onProgressUpdate(progress) {\n    //Animation Mixer\n    if (this.mixer) {\n      // We need to find out how long the animation is.\n      // The mixer appears to have no knowledge oft this so we need to\n      // look up a specific animation and get the duration to\n      // get the total duration of the animation.\n      const cameraAnimation = this.getAnimationByName('Action.003');\n      const duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n      // frame so next allow it to reach the max value.\n\n      this.mixer.setTime(Math.min(duration * progress, duration - 0.001));\n    }\n\n    this.draw(); // this.renderer.render(this.scene, this.camera);\n    // this.composer.render();\n  }\n\n  draw() {\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = ThreeObjectViewer8;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyOC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLW9iamVjdC12aWV3ZXI4LmpzPzgyZGEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGF0Z3VpZiA9IHJlcXVpcmUoXCIuLi9saWIvZGF0Z3VpZi9kYXRndWlmXCIpO1xuXG52YXIgX3RocmVlID0gcmVxdWlyZShcInRocmVlXCIpO1xuXG52YXIgVEhSRUUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGhyZWUpO1xuXG52YXIgX0dMVEZMb2FkZXIgPSByZXF1aXJlKFwidGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlclwiKTtcblxudmFyIF9FZmZlY3RDb21wb3NlciA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvRWZmZWN0Q29tcG9zZXJcIik7XG5cbnZhciBfUmVuZGVyUGFzcyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvUmVuZGVyUGFzcy5qc1wiKTtcblxudmFyIF9VbnJlYWxCbG9vbVBhc3MgPSByZXF1aXJlKFwidGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL1VucmVhbEJsb29tUGFzcy5qc1wiKTtcblxudmFyIF9GWEFBU2hhZGVyID0gcmVxdWlyZShcInRocmVlL2V4YW1wbGVzL2pzbS9zaGFkZXJzL0ZYQUFTaGFkZXIuanNcIik7XG5cbnZhciBfU2hhZGVyUGFzcyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvU2hhZGVyUGFzcy5qc1wiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbnZhciBfcmFmUHJvZ3Jlc3MgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3NcIik7XG5cbnZhciBfZG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tXCIpO1xuXG52YXIgX2Vhc2UgPSByZXF1aXJlKFwiLi4vbGliL2Vhc2UvZWFzZVwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI21hbnVhbC9lbi9pbnRyb2R1Y3Rpb24vTG9hZGluZy0zRC1tb2RlbHNcbi8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX2xvYWRlcl9nbHRmXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9iZWxsYmluZC9jNGY4YzUwMmZjYWNiZTI5NDIyZTVhYzMxNTI3Mzg1OFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Z1bndpdGh0cmlhbmdsZXMvYmxlbmRlci10by10aHJlZWpzLWV4cG9ydC1ndWlkZS9ibG9iL21hc3Rlci9yZWFkbWUubWRcbi8vIGh0dHBzOi8vdGhyZWVqc2Z1bmRhbWVudGFscy5vcmcvdGhyZWVqcy9sZXNzb25zL3RocmVlanMtbG9hZC1nbHRmLmh0bWxcbi8vIGh0dHBzOi8vZGlzY292ZXJ0aHJlZWpzLmNvbS9ib29rL2ZpcnN0LXN0ZXBzL2xvYWQtbW9kZWxzL1xuLy8gaHR0cHM6Ly93d3cucGVudGFjcmVhdGlvbi5jb20vYmxvZy8yMDE5LzA5LzE5MDkxNi5odG1sXG4vLyBodHRwczovL3d3dy5wZW50YWNyZWF0aW9uLmNvbS9ibG9nLzIwMTkvMTAvMTkxMDE2Lmh0bWxcbi8vIGh0dHBzOi8vZG9jcy5ibGVuZGVyLm9yZy9tYW51YWwvamEvbGF0ZXN0L2FkZG9ucy9pb19zY2VuZV9nbHRmMi5odG1sXG4vLyBodHRwczovL2dsdGYtdmlld2VyLmRvbm1jY3VyZHkuY29tL1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rvbm1jY3VyZHkvdGhyZWUtZ2x0Zi12aWV3ZXJcbi8vIGltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmNsYXNzIFRocmVlT2JqZWN0Vmlld2VyOCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdUaHJlZUpTIE9iamVjdCBWaWV3ZXIgRGVtbycpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMtY29udGFpbmVyJyk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IF9kb21XYXRjaGVyLkRvbVdhdGNoZXIoKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzID0gbmV3IF9yYWZQcm9ncmVzcy5SYWZQcm9ncmVzcygpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3Mud2F0Y2godGhpcy5vblByb2dyZXNzVXBkYXRlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2Nyb2xsTGVycCA9IDAuMzg7XG4gICAgdGhpcy5zY3JvbGxFYXNlID0gJ2Vhc2VJblF1YWQnO1xuICAgIHRoaXMucmVuZGVyZXJDb25maWcgPSB7XG4gICAgICBjbGVhckNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICBiYWNrZ3JvdW5kQWxwaGE6IDEuMFxuICAgIH07XG4gICAgdGhpcy5ndWkgPSBuZXcgX2RhdGd1aWYuRGF0Z3VpZih7XG4gICAgICBsb2FkOiBKU09OXG4gICAgfSk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdTZXR0aW5ncycpLm9wZW4oKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ1JlbmRlcmVyJywgJ1NldHRpbmdzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdDYW1lcmEnLCAnU2V0dGluZ3MnKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ1Njcm9sbCcsICdTZXR0aW5ncycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignTGlnaHRzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdPYmplY3RzJyk7XG4gICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1Njcm9sbCcsIHRoaXMsIFt7XG4gICAgICBrZXlOYW1lOiAnc2Nyb2xsTGVycCcsXG4gICAgICBtaW46IDAsXG4gICAgICBtYXg6IDEsXG4gICAgICBzdGVwOiAwLjAxXG4gICAgfSwge1xuICAgICAga2V5TmFtZTogJ3Njcm9sbEVhc2UnLFxuICAgICAgb3B0aW9uczogWydsaW5lYXInLCAnZWFzZU91dFF1YWQnLCAnZWFzZUluUXVhZCddXG4gICAgfV0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgY2FsbGJhY2s6IGV2ZW50ID0+IHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IF9kb20uZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50LCB3aW5kb3cuaW5uZXJIZWlnaHQpOyAvLyAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDAuMjYsIEVBU0UuZWFzZUluT3V0RXhwbyk7XG4gICAgICAgIC8vICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMC4wOCwgRUFTRS5saW5lYXIpO1xuXG4gICAgICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIHRoaXMuc2Nyb2xsTGVycCwgX2Vhc2UuRUFTRVt0aGlzLnNjcm9sbEVhc2VdKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLmd1aS5vblVwZGF0ZShwcm9wID0+IHtcbiAgICAgIHRoaXMuZHJhdygpO1xuICAgIH0pO1xuICAgIHZhciBsb2FkZXIgPSBuZXcgX0dMVEZMb2FkZXIuR0xURkxvYWRlcigpO1xuICAgIGNvbnN0IHBhdGggPSAnLi9wdWJsaWMvaG9tZS9kZW1vOS5nbHRmJztcbiAgICBsb2FkZXIubG9hZChwYXRoLCBnbHRmID0+IHtcbiAgICAgIGNvbnN0IGdsdGZEYXRhID0gZ2x0Zi5wYXJzZXIuanNvbjtcblxuICAgICAgY29uc3QgZ2V0Tm9kZUJ5TmFtZSA9IG5hbWUgPT4ge1xuICAgICAgICByZXR1cm4gZ2x0ZkRhdGEubm9kZXMuZmlsdGVyKG5vZGUgPT4ge1xuICAgICAgICAgIHJldHVybiBub2RlLm5hbWUgPSBuYW1lO1xuICAgICAgICB9KVswXTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnNvbGUubG9nKCdnbHRmIGRhdGEnLCBnbHRmRGF0YSk7XG4gICAgICB0aGlzLmNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKCk7XG4gICAgICBjb25zdCBzY2VuZSA9IGdsdGYuc2NlbmVzWzBdO1xuICAgICAgdGhpcy5hY3RpdmVTY2VuZSA9IHNjZW5lO1xuICAgICAgdGhpcy5hbmltYXRpb25zID0gZ2x0Zi5hbmltYXRpb25zOyAvLyBBbmltYXRpb24gTWl4ZXLjgqTjg7Pjgrnjgr/jg7PjgrnjgpLnlJ/miJBcblxuICAgICAgdGhpcy5taXhlciA9IG5ldyBUSFJFRS5BbmltYXRpb25NaXhlcihzY2VuZSk7IC8v5YWo44Gm44GuQW5pbWF0aW9uIENsaXDjgavlr77jgZfjgaZcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHRoaXMuYW5pbWF0aW9uc1tpXTsgLy9BbmltYXRpb24gQWN0aW9u44KS55Sf5oiQXG5cbiAgICAgICAgdmFyIGFjdGlvbiA9IHRoaXMubWl4ZXIuY2xpcEFjdGlvbihhbmltYXRpb24pO1xuICAgICAgICBjb25zb2xlLmxvZygnYWRkZWQnLCBhbmltYXRpb24pO1xuICAgICAgICBhY3Rpb24ucGxheSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNjZW5lLmFkZChzY2VuZSk7XG4gICAgICBjb25zb2xlLmxvZygnc2NlbmUnLCBzY2VuZSk7XG4gICAgICBjb25zb2xlLmxvZygnbWl4ZXInLCB0aGlzLm1peGVyKTsgLy8gaHR0cDovL2xlYXJuaW5ndGhyZWVqcy5jb20vYmxvZy8yMDEyLzAxLzIwL2Nhc3Rpbmctc2hhZG93cy9cblxuICAgICAgdGhpcy5zY2VuZS50cmF2ZXJzZShjaGlsZCA9PiB7XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLkxpZ2h0KSB7XG4gICAgICAgICAgLy8gY2hpbGQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ2xpZ2h0JywgY2hpbGQpO1xuICAgICAgICAgIC8vIERlYnVnZ2luZyBsaWdodCBwb3NpdGlvbnMuXG4gICAgICAgICAgLy8gY2hpbGQuc2hhZG93Q2FtZXJhVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgIC8vIGlmKGNoaWxkLnNoYWRvdykge1xuICAgICAgICAgIC8vICAgICAvLyBBZGp1c3Qgc2hhZG93IGJpYXMuXG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvdy5iaWFzID0gLTAuMDAyO1xuICAgICAgICAgIC8vICAgICAvLyBSZW1vdmUgdGhlIHJpZ2dlZCBsb29raW5nIHNoYWRvd3MuXG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvdy5tYXBTaXplLndpZHRoID0gMTAyNDtcbiAgICAgICAgICAvLyAgICAgLy8gY2hpbGQuc2hhZG93Lm1hcFNpemUuaGVpZ2h0ID0gMTAyNDtcbiAgICAgICAgICAvLyAgICAgLy8gY2hpbGQuc2hhZG93RGFya25lc3MgPSAwLjU7XG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvdy5jYW1lcmEubmVhciA9IDA7XG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvdy5jYW1lcmEuZmFyID0gMTAwMDtcbiAgICAgICAgICAvLyAgICAgLy8gdmFyIGhlbHBlciA9IG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIoIGNoaWxkLnNoYWRvdy5jYW1lcmEgKTtcbiAgICAgICAgICAvLyAgICAgLy8gc2NlbmUuYWRkKCBoZWxwZXIgKTtcbiAgICAgICAgICAvLyB9XG4gICAgICAgICAgLy8gLy8gUG9pbnQgbGlnaHRzIGFyZSBkZWZpbmVkIGluIHdhdHRzIHdoaWNoIGdvZXMgd2FheSBvZmYgaW4gdGhyZWUuanNcbiAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5Qb2ludExpZ2h0KSB7XG4gICAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSBjaGlsZC5pbnRlbnNpdHkgKiAwLjAwMDU7XG4gICAgICAgICAgfSAvLyBJZiBpdCdzIGEgc3BvdCBsaWdodCwgaXQgbmVlZHMgdG8gZ28gZG93biBldmVuIG1vcmUuXG5cblxuICAgICAgICAgIGlmIChjaGlsZC50eXBlID09IFwiU3BvdExpZ2h0XCIpIHtcbiAgICAgICAgICAgIGNoaWxkLmludGVuc2l0eSA9IGNoaWxkLmludGVuc2l0eSAqIDAuMDAxO1xuICAgICAgICAgIH0gLy8gY2hpbGQuaW50ZW5zaXR5ID0gMDtcblxuXG4gICAgICAgICAgaWYgKGNoaWxkLm5hbWUgPT0gJ1BvaW50MDAzX09yaWVudGF0aW9uJykge1xuICAgICAgICAgICAgLy8gY2hpbGQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSAwLjY7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5ndWkuYWRkRm9sZGVyKGNoaWxkLm5hbWUsICdMaWdodHMnKTtcbiAgICAgICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihjaGlsZC5uYW1lLCBjaGlsZCwgW3tcbiAgICAgICAgICAgIGtleU5hbWU6ICdjYXN0U2hhZG93J1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleU5hbWU6ICdpbnRlbnNpdHknLFxuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiAzMDAwXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5TmFtZTogJ2NvbG9yJ1xuICAgICAgICAgIH1dKTtcblxuICAgICAgICAgIGlmIChjaGlsZC5zaGFkb3cpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvd0ZvbGRlcklkID0gY2hpbGQubmFtZSArICcgc2hhZG93JzsgLy8gY29uc29sZS5sb2coY2hpbGQuc2hhZG93KTtcblxuICAgICAgICAgICAgdGhpcy5ndWkuYWRkRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5uYW1lKTtcbiAgICAgICAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5zaGFkb3csIFt7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdiaWFzJyxcbiAgICAgICAgICAgICAgbWluOiAtMSxcbiAgICAgICAgICAgICAgbWF4OiAxLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAwMDAxXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdyYWRpdXMnLFxuICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgIG1heDogMTAwLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAxXG4gICAgICAgICAgICB9XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaCkge1xuICAgICAgICAgIC8vIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNoaWxkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKHRydWUpO1xuICAgICAgICAgIC8vICAgIGNvbnN0IGxpZ2h0RW5hYmxlZCA9IFtcbiAgICAgICAgICAvLyAgICAgICAgICdwNC1zdXBlci1zbScsXG4gICAgICAgICAgLy8gICAgICAgICAncDQtc3VwZXItc20wMDEnLFxuICAgICAgICAgIC8vICAgICAgICAgJ3A0LXN1cGVyLXNtMDAyJyxcbiAgICAgICAgICAvLyAgICAgXTtcbiAgICAgICAgICAvLyAgICAgaWYofmxpZ2h0RW5hYmxlZC5pbmRleE9mKGNoaWxkLm5hbWUpKSB7XG4gICAgICAgICAgLy8gICAgICAgICBjaGlsZC5sYXllcnMuc2V0KDEpO1xuICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgdGhpcy5ndWkuYWRkRm9sZGVyKGNoaWxkLm5hbWUsICdPYmplY3RzJyk7XG4gICAgICAgICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoY2hpbGQubmFtZSwgY2hpbGQsIFt7XG4gICAgICAgICAgICBrZXlOYW1lOiAnY2FzdFNoYWRvdydcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXlOYW1lOiAncmVjZWl2ZVNoYWRvdydcbiAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICBpZiAoY2hpbGQubWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsSWQgPSBjaGlsZC5uYW1lICsgJyBtYXRlcmlhbCc7XG4gICAgICAgICAgICB0aGlzLmd1aS5hZGRGb2xkZXIobWF0ZXJpYWxJZCwgY2hpbGQubmFtZSk7XG4gICAgICAgICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihtYXRlcmlhbElkLCBjaGlsZC5tYXRlcmlhbCwgW3tcbiAgICAgICAgICAgICAga2V5TmFtZTogJ2VtaXNzaXZlSW50ZW5zaXR5JyxcbiAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICBtYXg6IDFcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAga2V5TmFtZTogJ2ZsYXRTaGFkaW5nJyxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjaGlsZC5tYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAga2V5TmFtZTogJ3dpcmVmcmFtZScsXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7IC8vIEVuYWJsZSBzbW9vdGggc2hhZGluZy5cbiAgICAgICAgICAgIC8vIGNoaWxkLm1hdGVyaWFsLmZsYXRTaGFkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBjaGlsZC5tYXRlcmlhbC53aXJlZnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGNoaWxkLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVGYWNlTm9ybWFscygpO1xuICAgICAgICAgICAgLy8gY2hpbGQuZ2VvbWV0cnkuY29tcHV0ZVZlcnRleE5vcm1hbHModHJ1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNoaWxkLm5hbWUgPT0gJ1BsYW5lMDAxJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ21lc2gnLCBjaGlsZCk7XG4gICAgICAgICAgfSAvLyBHZXQgdGhlIGltYWdlIG1hcHBpbmdzLlxuICAgICAgICAgIC8vIGlmKGNoaWxkLm1hdGVyaWFsICYmIGNoaWxkLm1hdGVyaWFsLm1hcCkge1xuICAgICAgICAgIC8vICAgY2hpbGQubWF0ZXJpYWwubWFwLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAvLyB9XG5cbiAgICAgICAgfSBlbHNlIHsvLyBjb25zb2xlLmxvZygnb3RoZXInLCBjaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgfSk7IC8vIFNldCB0aGUgY2FtZXJhIGV4cG9ydGVkIGluIGdsdGYuXG4gICAgICAvLyBSZXF1aXJlcyBjYW1lcmEgdG8gYmUgZXhwb3J0ZWQgZm9yIGdsdGYuXG5cbiAgICAgIHRoaXMuY2FtZXJhID0gZ2x0Zi5jYW1lcmFzWzBdO1xuICAgICAgY29uc29sZS5sb2coJ2NhbWVyYScsIHRoaXMuY2FtZXJhKTtcbiAgICAgIHRoaXMucmVzaXplKCk7IC8vIFVzZSBmb2cgdG8gY292ZXIgZmFyIGRpc3RhbmNlcy5cbiAgICAgIC8vIGNvbnN0IGNvbG9yID0gMHgwMDAwMDtcbiAgICAgIC8vIHRoaXMuc2NlbmUuZm9nID0gbmV3IFRIUkVFLkZvZyhjb2xvciwgNSwgOCk7XG4gICAgICAvLyBFbmFibGUgc2hhZG93cy5cbiAgICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL2NvbnN0YW50cy9SZW5kZXJlclxuXG4gICAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTsgLy8gVG8gYW50aWFsaWFzIHRoZSBzaGFkb3dcblxuICAgICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG4gICAgICB0aGlzLnJlbmRlcmVyLmdhbW1hT3V0cHV0ID0gdHJ1ZTtcbiAgICAgIHRoaXMucmVuZGVyZXIuZ2FtbWFGYWN0b3IgPSAyLjI7IC8vIEltcG9ydGFudCB0byBnZXQgdGhlIGNvcnJlY3QgY29sb3JzLlxuICAgICAgLy8gdGhpcy5yZW5kZXJlci5waHlzaWNhbGx5Q29ycmVjdExpZ3RzID0gdHJ1ZTtcbiAgICAgIC8vIEJhY2tncm91bmQgYXMgYmxhY2suXG4gICAgICAvLyB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHg0Mjg3ZjUpO1xuXG4gICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCB0aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7IC8vIEFmZmVjdHMgaG93IHN0cm9uZ2x5IGxpZ2h0cyBjb21lIGV4cG9zZWQuXG4gICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2V4YW1wbGVzLyN3ZWJnbF90b25lbWFwcGluZ1xuXG4gICAgICB0aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSAxOyAvLyB0aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSAwLjY7XG5cbiAgICAgIHRoaXMucmVuZGVyZXIudG9uZU1hcHBpbmcgPSBUSFJFRS5BQ0VTRmlsbWljVG9uZU1hcHBpbmc7XG4gICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignUmVuZGVyZXInLCB0aGlzLnJlbmRlcmVyLCBbe1xuICAgICAgICBrZXlOYW1lOiAndG9uZU1hcHBpbmdFeHBvc3VyZScsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiA1LFxuICAgICAgICBzdGVwOiAwLjAxXG4gICAgICB9LCB7XG4gICAgICAgIGtleU5hbWU6ICdnYW1tYUZhY3RvcicsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiAxMCxcbiAgICAgICAgc3RlcDogMC4wMVxuICAgICAgfV0pO1xuICAgICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1JlbmRlcmVyJywgdGhpcy5yZW5kZXJlckNvbmZpZywgW3tcbiAgICAgICAga2V5TmFtZTogJ2NsZWFyQ29sb3InLFxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcih0aGlzLnJlbmRlcmVyQ29uZmlnLmNsZWFyQ29sb3IsIHRoaXMucmVuZGVyZXJDb25maWcuYmFja2dyb3VuZEFscGhhKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnYmFja2dyb3VuZEFscGhhJyxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCB0aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7XG4gICAgICAgIH1cbiAgICAgIH1dKTtcbiAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdDYW1lcmEnLCB0aGlzLmNhbWVyYSwgW3tcbiAgICAgICAga2V5TmFtZTogJ2ZvdicsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiA1MCxcbiAgICAgICAgc3RlcDogMC4wMSxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ3pvb20nLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogMTAsXG4gICAgICAgIHN0ZXA6IDAuMDAwMSxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICAgIH1dKTtcbiAgICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignR2VuZXJhbCBMaWdodHMnKTtcbiAgICAgIHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnID0ge1xuICAgICAgICBhbWJpZW50TGlnaHRDb2xvcjogJyMjNzM5NWIzJyxcbiAgICAgICAgYW1iaWVudExpZ2h0QWxwaGE6IDEuM1xuICAgICAgfTsgLy8gQWRkaXRpb25hbCBsaWdodGluZyBvdXRzaWRlIHRoZSBibGVuZGVyLlxuICAgICAgLy8gdmFyIGxpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodCggMHhmZmZmYmIsIDB4ZmZmZmZmLCAxICk7XG4gICAgICAvLyB0aGlzLnNjZW5lLmFkZCggbGlnaHQgKTtcblxuICAgICAgdGhpcy5hbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodENvbG9yKTtcbiAgICAgIHRoaXMuYW1iaWVudExpZ2h0LmludGVuc2l0eSA9IHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodEFscGhhO1xuICAgICAgc2NlbmUuYWRkKHRoaXMuYW1iaWVudExpZ2h0KTtcbiAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdHZW5lcmFsIExpZ2h0cycsIHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLCBbe1xuICAgICAgICBrZXlOYW1lOiAnYW1iaWVudExpZ2h0Q29sb3InLFxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuYW1iaWVudExpZ2h0LmNvbG9yID0gbmV3IFRIUkVFLkNvbG9yKHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodENvbG9yKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnYW1iaWVudExpZ2h0QWxwaGEnLFxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuYW1iaWVudExpZ2h0LmludGVuc2l0eSA9IHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodEFscGhhO1xuICAgICAgICB9XG4gICAgICB9XSk7IC8vIHZhciB3aWR0aCA9IDUwO1xuICAgICAgLy8gdmFyIGhlaWdodCA9IDUwO1xuICAgICAgLy8gdmFyIGludGVuc2l0eSA9IDA7XG4gICAgICAvLyB2YXIgcmVjdExpZ2h0ID0gbmV3IFRIUkVFLlJlY3RBcmVhTGlnaHQoJyNGRkZGRkYnLCBpbnRlbnNpdHksICB3aWR0aCwgaGVpZ2h0ICk7XG4gICAgICAvLyByZWN0TGlnaHQucG9zaXRpb24uc2V0KCAwLCAwLCAyNSApO1xuICAgICAgLy8gLy8gcmVjdExpZ2h0Lmxvb2tBdCggMCwgMCwgMCApO1xuICAgICAgLy8gdGhpcy5zY2VuZS5hZGQoIHJlY3RMaWdodCApO1xuICAgICAgLy8gcmVjdExpZ2h0SGVscGVyID0gbmV3IFRIUkVFLlJlY3RBcmVhTGlnaHRIZWxwZXIoIHJlY3RMaWdodCApO1xuICAgICAgLy8gcmVjdExpZ2h0LmFkZCggcmVjdExpZ2h0SGVscGVyICk7XG5cbiAgICAgIHRoaXMuZ3VpLmFkZEJ1dHRvbignUmVmcmVzaCcsIHRoaXMucmVmcmVzaC5iaW5kKHRoaXMpKTtcbiAgICB9LCB1bmRlZmluZWQsIGVycm9yID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH0pO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7XG4gICAgICBhbnRpYWxpYXM6IHRydWUsXG4gICAgICAvLyBwcmVjaXNpb246ICdoaWdocCdcbiAgICAgIGF1dG9TaXplOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5jb21wb3NlciA9IG5ldyBfRWZmZWN0Q29tcG9zZXIuRWZmZWN0Q29tcG9zZXIodGhpcy5yZW5kZXJlcik7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUuYmluZCh0aGlzKSwgZmFsc2UpO1xuICB9XG5cbiAgcmVzaXplKCkge1xuICAgIHRoaXMucHJvZ3Jlc3MgPSBfZG9tLmRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAxLCBfZWFzZS5FQVNFLkxpbmVhcik7XG4gICAgdGhpcy53aWR0aCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNhbnZhc0NvbnRhaW5lci5wYXJlbnRFbGVtZW50Lm9mZnNldEhlaWdodDsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rvbm1jY3VyZHkvdGhyZWUtZ2x0Zi12aWV3ZXIvYmxvYi9tYXN0ZXIvc3JjL3ZpZXdlci5qc1xuICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL2NvbnN0YW50cy9SZW5kZXJlclxuXG4gICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpOyAvLyBQb3N0IHByb2Nlc3NpbmdcbiAgICAvLyB0aGlzLmNvbXBvc2VyLnNldFNpemUoIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAvLyBjb25zdCBmeGFhUGFzcyA9IG5ldyBTaGFkZXJQYXNzKCBGWEFBU2hhZGVyICk7XG4gICAgLy8gZnhhYVBhc3MubWF0ZXJpYWwudW5pZm9ybXNbICdyZXNvbHV0aW9uJyBdLnZhbHVlLnggPSAxIC8gKCB0aGlzLndpZHRoICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgIC8vIGZ4YWFQYXNzLm1hdGVyaWFsLnVuaWZvcm1zWyAncmVzb2x1dGlvbicgXS52YWx1ZS55ID0gMSAvICggdGhpcy5oZWlnaHQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKGZ4YWFQYXNzKTtcbiAgICAvLyB0aGlzLmNvbXBvc2VyLmFkZFBhc3MobmV3IFJlbmRlclBhc3ModGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpKTtcbiAgICAvLyB2YXIgYmxvb21QYXNzID0gbmV3IFVucjIuMm1lYWxCbG9vbVBhc3MoMSwgMjUsIDUsIDI1Nik7XG4gICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKGJsb29tUGFzcyk7XG4gICAgLy8gVGhlIGNhbWVyYSBhc3BlY3QgZ29lcyBvZmYgc2luY2UgaXQgY291bGQgYmUgZXhwb3J0ZWQgYXQgYSBkaWZmZXJlbnRcbiAgICAvLyByYXRpby4gIEZvcmNlIHVwZGF0ZSB0aGUgYXNwZWN0IHJhdGlvLlxuXG4gICAgdGhpcy5jYW1lcmEuYXNwZWN0ID0gdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgfVxuXG4gIHJlZnJlc2goKSB7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKHRoaXMucmVuZGVyZXJDb25maWcuY2xlYXJDb2xvciwgdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpO1xuICAgIHRoaXMucmVzaXplKCk7XG4gICAgdGhpcy5kcmF3KCk7XG4gIH1cblxuICBnZXRBbmltYXRpb25CeU5hbWUobmFtZSkge1xuICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbnMuZmlsdGVyKGFuaW1hdGlvbkNsaXAgPT4ge1xuICAgICAgcmV0dXJuIGFuaW1hdGlvbkNsaXAubmFtZSA9PSBuYW1lO1xuICAgIH0pWzBdO1xuICB9XG5cbiAgZ2V0T2JqZWN0QnlOYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5hY3RpdmVTY2VuZS5jaGlsZHJlbi5maWx0ZXIob2JqZWN0M2QgPT4ge1xuICAgICAgcmV0dXJuIG9iamVjdDNkLm5hbWUgPT0gbmFtZTtcbiAgICB9KVswXTtcbiAgfVxuXG4gIG9uUHJvZ3Jlc3NVcGRhdGUocHJvZ3Jlc3MpIHtcbiAgICAvL0FuaW1hdGlvbiBNaXhlcuOCkuWun+ihjFxuICAgIGlmICh0aGlzLm1peGVyKSB7XG4gICAgICAvLyBXZSBuZWVkIHRvIGZpbmQgb3V0IGhvdyBsb25nIHRoZSBhbmltYXRpb24gaXMuXG4gICAgICAvLyBUaGUgbWl4ZXIgYXBwZWFycyB0byBoYXZlIG5vIGtub3dsZWRnZSBvZnQgdGhpcyBzbyB3ZSBuZWVkIHRvXG4gICAgICAvLyBsb29rIHVwIGEgc3BlY2lmaWMgYW5pbWF0aW9uIGFuZCBnZXQgdGhlIGR1cmF0aW9uIHRvXG4gICAgICAvLyBnZXQgdGhlIHRvdGFsIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICBjb25zdCBjYW1lcmFBbmltYXRpb24gPSB0aGlzLmdldEFuaW1hdGlvbkJ5TmFtZSgnQWN0aW9uLjAwMycpO1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBjYW1lcmFBbmltYXRpb24uZHVyYXRpb247IC8vIFdoZW4gZHVyYXRpb24gaGl0cyBpdCdzIG1heCwgYW5pbWF0aW9uTWl4ZXIgc2VlbXMgdG8gaGl0IHRoZSBmaXJzdFxuICAgICAgLy8gZnJhbWUgc28gbmV4dCBhbGxvdyBpdCB0byByZWFjaCB0aGUgbWF4IHZhbHVlLlxuXG4gICAgICB0aGlzLm1peGVyLnNldFRpbWUoTWF0aC5taW4oZHVyYXRpb24gKiBwcm9ncmVzcywgZHVyYXRpb24gLSAwLjAwMSkpO1xuICAgIH1cblxuICAgIHRoaXMuZHJhdygpOyAvLyB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgLy8gdGhpcy5jb21wb3Nlci5yZW5kZXIoKTtcbiAgfVxuXG4gIGRyYXcoKSB7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gVGhyZWVPYmplY3RWaWV3ZXI4OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/three-object-viewer8.js\n");

/***/ }),

/***/ "./examples/three-object-viewer9.js":
/*!******************************************!*\
  !*** ./examples/three-object-viewer9.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _datguif = __webpack_require__(/*! ../lib/datguif/datguif */ \"./lib/datguif/datguif.js\");\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _GLTFLoader = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n\nvar _EffectComposer = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer */ \"./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n\nvar _RenderPass = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/RenderPass.js\");\n\nvar _UnrealBloomPass = __webpack_require__(/*! three/examples/jsm/postprocessing/UnrealBloomPass.js */ \"./node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js\");\n\nvar _FXAAShader = __webpack_require__(/*! three/examples/jsm/shaders/FXAAShader.js */ \"./node_modules/three/examples/jsm/shaders/FXAAShader.js\");\n\nvar _ShaderPass = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/ShaderPass.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n// https://threejs.org/docs/#manual/en/introduction/Loading-3D-models\n// https://threejs.org/examples/#webgl_loader_gltf\n// https://gist.github.com/bellbind/c4f8c502fcacbe29422e5ac315273858\n// https://github.com/funwithtriangles/blender-to-threejs-export-guide/blob/master/readme.md\n// https://threejsfundamentals.org/threejs/lessons/threejs-load-gltf.html\n// https://discoverthreejs.com/book/first-steps/load-models/\n// https://www.pentacreation.com/blog/2019/09/190916.html\n// https://www.pentacreation.com/blog/2019/10/191016.html\n// https://docs.blender.org/manual/ja/latest/addons/io_scene_gltf2.html\n// https://gltf-viewer.donmccurdy.com/\n// https://github.com/donmccurdy/three-gltf-viewer\n// import { Raf } from '../lib/raf/raf';\nclass ThreeObjectViewer9 {\n  constructor() {\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.rafProgress = new _rafProgress.RafProgress();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.scrollLerp = 0.38;\n    this.scrollEase = 'easeInQuad';\n    this.rendererConfig = {\n      clearColor: '#C7C5B8',\n      backgroundAlpha: 1.0\n    };\n    this.gui = new _datguif.Datguif({\n      load: JSON\n    });\n    this.gui.addFolder('Settings').open();\n    this.gui.addFolder('Renderer', 'Settings');\n    this.gui.addFolder('Camera', 'Settings');\n    this.gui.addFolder('Scroll', 'Settings');\n    this.gui.addFolder('Lights');\n    this.gui.addFolder('Objects');\n    this.gui.addObjectToFolder('Scroll', this, [{\n      keyName: 'scrollLerp',\n      min: 0,\n      max: 1,\n      step: 0.01\n    }, {\n      keyName: 'scrollEase',\n      options: ['linear', 'easeOutQuad', 'easeInQuad']\n    }]);\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight); //   this.rafProgress.easeTo(this.progress, 0.26, EASE.easeInOutExpo);\n        //   this.rafProgress.easeTo(this.progress, 0.08, EASE.linear);\n\n        this.rafProgress.easeTo(this.progress, this.scrollLerp, _ease.EASE[this.scrollEase]);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new THREE.Scene();\n    this.gui.onUpdate(prop => {\n      this.draw();\n    });\n    var loader = new _GLTFLoader.GLTFLoader();\n    const path = './public/home/demo10.gltf';\n    loader.load(path, gltf => {\n      const gltfData = gltf.parser.json;\n\n      const getNodeByName = name => {\n        return gltfData.nodes.filter(node => {\n          return node.name = name;\n        })[0];\n      };\n\n      console.log('gltf data', gltfData);\n      this.clock = new THREE.Clock();\n      const scene = gltf.scenes[0];\n      this.activeScene = scene;\n      this.animations = gltf.animations; // Animation Mixer\n\n      this.mixer = new THREE.AnimationMixer(scene); //Animation Clip\n\n      for (var i = 0; i < this.animations.length; i++) {\n        var animation = this.animations[i]; //Animation Action\n\n        var action = this.mixer.clipAction(animation);\n        console.log('added', animation);\n        action.play();\n      }\n\n      this.scene.add(scene);\n      console.log('scene', scene);\n      console.log('mixer', this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      this.scene.traverse(child => {\n        if (child instanceof THREE.Light) {\n          // child.castShadow = true;\n          // console.log('light', child);\n          // Debugging light positions.\n          // child.shadowCameraVisible = false;\n          // if(child.shadow) {\n          //     // Adjust shadow bias.\n          //     // child.shadow.bias = -0.002;\n          //     // Remove the rigged looking shadows.\n          //     // child.shadow.mapSize.width = 1024;\n          //     // child.shadow.mapSize.height = 1024;\n          //     // child.shadowDarkness = 0.5;\n          //     // child.shadow.camera.near = 0;\n          //     // child.shadow.camera.far = 1000;\n          //     // var helper = new THREE.CameraHelper( child.shadow.camera );\n          //     // scene.add( helper );\n          // }\n          child.layers.set(1); // // Point lights are defined in watts which goes waay off in three.js\n\n          if (child instanceof THREE.PointLight) {\n            child.intensity = child.intensity * 0.0005;\n          } // If it's a spot light, it needs to go down even more.\n\n\n          if (child.type == \"SpotLight\") {\n            child.intensity = child.intensity * 0.001;\n          } // child.intensity = 0;\n\n\n          if (child.name == 'Point_Orientation') {\n            // child.castShadow = true;\n            child.intensity = 4.6;\n          }\n\n          this.gui.addFolder(child.name, 'Lights');\n          this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'intensity',\n            min: 0,\n            max: 3000\n          }, {\n            keyName: 'color'\n          }]);\n\n          if (child.shadow) {\n            const shadowFolderId = child.name + ' shadow'; // console.log(child.shadow);\n\n            this.gui.addFolder(shadowFolderId, child.name);\n            this.gui.addObjectToFolder(shadowFolderId, child.shadow, [{\n              keyName: 'bias',\n              min: -1,\n              max: 1,\n              step: 0.00001\n            }, {\n              keyName: 'radius',\n              min: 0,\n              max: 100,\n              step: 0.01\n            }]);\n          }\n        } else if (child instanceof THREE.Mesh) {\n          // child.castShadow = true;\n          // child.receiveShadow = true;\n          // child.geometry.computeVertexNormals(true);\n          const lightEnabled = ['p4-super-sm', 'p4-super-sm001', 'p4-super-sm002'];\n\n          if (~lightEnabled.indexOf(child.name)) {\n            child.layers.set(1);\n          }\n\n          this.gui.addFolder(child.name, 'Objects');\n          this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'receiveShadow'\n          }]);\n\n          if (child.material) {\n            const materialId = child.name + ' material';\n            this.gui.addFolder(materialId, child.name);\n            this.gui.addObjectToFolder(materialId, child.material, [{\n              keyName: 'emissiveIntensity',\n              min: 0,\n              max: 1\n            }, {\n              keyName: 'flatShading',\n              callback: () => {\n                child.material.needsUpdate = true;\n              }\n            }, {\n              keyName: 'wireframe',\n              callback: () => {\n                child.material.needsUpdate = true;\n              }\n            }]); // Enable smooth shading.\n            // child.material.flatShading = false;\n            // child.material.wireframe = false;\n            // child.material.needsUpdate = true;\n            // child.geometry.computeFaceNormals();\n            // child.geometry.computeVertexNormals(true);\n          }\n\n          if (child.name == 'Plane001') {\n            console.log('mesh', child);\n          } // Get the image mappings.\n          // if(child.material && child.material.map) {\n          //   child.material.map.needsUpdate = true;\n          // }\n\n        } else {// console.log('other', child);\n          }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n      this.camera = gltf.cameras[0];\n      console.log('camera', this.camera);\n      this.resize(); // Use fog to cover far distances.\n      // const color = 0x00000;\n      // this.scene.fog = new THREE.Fog(color, 5, 8);\n      // Enable shadows.\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      this.renderer.shadowMap.enabled = true; // To antialias the shadow\n\n      this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n      this.renderer.gammaOutput = true;\n      this.renderer.gammaFactor = 2.2; // Important to get the correct colors.\n      // this.renderer.physicallyCorrectLigts = true;\n      // Background as black.\n      // this.renderer.setClearColor(0x4287f5);\n\n      this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha); // Affects how strongly lights come exposed.\n      // https://threejs.org/examples/#webgl_tonemapping\n\n      this.renderer.toneMappingExposure = 1; // this.renderer.toneMappingExposure = 0.6;\n\n      this.renderer.toneMapping = THREE.ACESFilmicToneMapping;\n      this.gui.addObjectToFolder('Renderer', this.renderer, [{\n        keyName: 'toneMappingExposure',\n        min: 0,\n        max: 5,\n        step: 0.01\n      }, {\n        keyName: 'gammaFactor',\n        min: 0,\n        max: 10,\n        step: 0.01\n      }]);\n      this.gui.addObjectToFolder('Renderer', this.rendererConfig, [{\n        keyName: 'clearColor',\n        callback: () => {\n          this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n        }\n      }, {\n        keyName: 'backgroundAlpha',\n        callback: () => {\n          this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n        }\n      }]);\n      this.gui.addObjectToFolder('Camera', this.camera, [{\n        keyName: 'fov',\n        min: 0,\n        max: 50,\n        step: 0.01,\n        callback: () => {\n          this.camera.updateProjectionMatrix();\n        }\n      }, {\n        keyName: 'zoom',\n        min: 0,\n        max: 10,\n        step: 0.0001,\n        callback: () => {\n          this.camera.updateProjectionMatrix();\n        }\n      }]);\n      this.gui.addFolder('General Lights');\n      this.generalLightConfig = {\n        ambientLightColor: '#7395b3',\n        ambientLightAlpha: 0\n      }; // Additional lighting outside the blender.\n      // var light = new THREE.HemisphereLight( 0xffffbb, 0xffffff, 1 );\n      // this.scene.add( light );\n\n      this.ambientLight = new THREE.AmbientLight(this.generalLightConfig.ambientLightColor);\n      this.ambientLight.intensity = this.generalLightConfig.ambientLightAlpha;\n      scene.add(this.ambientLight);\n      this.gui.addObjectToFolder('General Lights', this.generalLightConfig, [{\n        keyName: 'ambientLightColor',\n        callback: () => {\n          this.ambientLight.color = new THREE.Color(this.generalLightConfig.ambientLightColor);\n        }\n      }, {\n        keyName: 'ambientLightAlpha',\n        callback: () => {\n          this.ambientLight.intensity = this.generalLightConfig.ambientLightAlpha;\n        }\n      }]); // var width = 50;\n      // var height = 50;\n      // var intensity = 0;\n      // var rectLight = new THREE.RectAreaLight('#FFFFFF', intensity,  width, height );\n      // rectLight.position.set( 0, 0, 25 );\n      // // rectLight.lookAt( 0, 0, 0 );\n      // this.scene.add( rectLight );\n      // rectLightHelper = new THREE.RectAreaLightHelper( rectLight );\n      // rectLight.add( rectLightHelper );\n\n      this.gui.addButton('Refresh', this.refresh.bind(this));\n    }, undefined, error => {\n      console.error(error);\n    });\n    this.renderer = new THREE.WebGLRenderer({\n      antialias: true,\n      // precision: 'highp'\n      autoSize: true\n    });\n    this.composer = new _EffectComposer.EffectComposer(this.renderer);\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  resize() {\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement, window.innerHeight);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.width = this.canvasContainer.parentElement.offsetWidth;\n    this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n    // https://threejs.org/docs/#api/en/constants/Renderer\n\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(this.width, this.height); // Post processing\n    // this.composer.setSize( this.width, this.height);\n    // const fxaaPass = new ShaderPass( FXAAShader );\n    // fxaaPass.material.uniforms[ 'resolution' ].value.x = 1 / ( this.width * window.devicePixelRatio);\n    // fxaaPass.material.uniforms[ 'resolution' ].value.y = 1 / ( this.height * window.devicePixelRatio);\n    // this.composer.addPass(fxaaPass);\n    // this.composer.addPass(new RenderPass(this.scene, this.camera));\n    // var bloomPass = new Unr2.2mealBloomPass(1, 25, 5, 256);\n    // this.composer.addPass(bloomPass);\n    // The camera aspect goes off since it could be exported at a different\n    // ratio.  Force update the aspect ratio.\n\n    this.camera.aspect = this.width / this.height;\n    this.camera.updateProjectionMatrix();\n  }\n\n  refresh() {\n    this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n    this.resize();\n    this.draw();\n  }\n\n  getAnimationByName(name) {\n    return this.animations.filter(animationClip => {\n      return animationClip.name == name;\n    })[0];\n  }\n\n  getObjectByName(name) {\n    return this.activeScene.children.filter(object3d => {\n      return object3d.name == name;\n    })[0];\n  }\n\n  onProgressUpdate(progress) {\n    //Animation Mixer\n    if (this.mixer) {\n      // We need to find out how long the animation is.\n      // The mixer appears to have no knowledge oft this so we need to\n      // look up a specific animation and get the duration to\n      // get the total duration of the animation.\n      const cameraAnimation = this.getAnimationByName('CameraAction.004');\n      const duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n      // frame so next allow it to reach the max value.\n\n      this.mixer.setTime(Math.min(duration * progress, duration - 0.001));\n    }\n\n    this.draw(); // this.renderer.render(this.scene, this.camera);\n    // this.composer.render();\n  }\n\n  draw() {\n    this.renderer.autoClear = true;\n    this.camera.layers.set(0);\n    this.renderer.render(this.scene, this.camera);\n    this.renderer.autoClear = false; // Don't clear\n\n    this.camera.layers.set(1);\n    this.renderer.render(this.scene, this.camera);\n  }\n\n}\n\nexports.default = ThreeObjectViewer9;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyOS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLW9iamVjdC12aWV3ZXI5LmpzP2Y2NDEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGF0Z3VpZiA9IHJlcXVpcmUoXCIuLi9saWIvZGF0Z3VpZi9kYXRndWlmXCIpO1xuXG52YXIgX3RocmVlID0gcmVxdWlyZShcInRocmVlXCIpO1xuXG52YXIgVEhSRUUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdGhyZWUpO1xuXG52YXIgX0dMVEZMb2FkZXIgPSByZXF1aXJlKFwidGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlclwiKTtcblxudmFyIF9FZmZlY3RDb21wb3NlciA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvRWZmZWN0Q29tcG9zZXJcIik7XG5cbnZhciBfUmVuZGVyUGFzcyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvUmVuZGVyUGFzcy5qc1wiKTtcblxudmFyIF9VbnJlYWxCbG9vbVBhc3MgPSByZXF1aXJlKFwidGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL1VucmVhbEJsb29tUGFzcy5qc1wiKTtcblxudmFyIF9GWEFBU2hhZGVyID0gcmVxdWlyZShcInRocmVlL2V4YW1wbGVzL2pzbS9zaGFkZXJzL0ZYQUFTaGFkZXIuanNcIik7XG5cbnZhciBfU2hhZGVyUGFzcyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvU2hhZGVyUGFzcy5qc1wiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbnZhciBfcmFmUHJvZ3Jlc3MgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3NcIik7XG5cbnZhciBfZG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tXCIpO1xuXG52YXIgX2Vhc2UgPSByZXF1aXJlKFwiLi4vbGliL2Vhc2UvZWFzZVwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG4vLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI21hbnVhbC9lbi9pbnRyb2R1Y3Rpb24vTG9hZGluZy0zRC1tb2RlbHNcbi8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX2xvYWRlcl9nbHRmXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9iZWxsYmluZC9jNGY4YzUwMmZjYWNiZTI5NDIyZTVhYzMxNTI3Mzg1OFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Z1bndpdGh0cmlhbmdsZXMvYmxlbmRlci10by10aHJlZWpzLWV4cG9ydC1ndWlkZS9ibG9iL21hc3Rlci9yZWFkbWUubWRcbi8vIGh0dHBzOi8vdGhyZWVqc2Z1bmRhbWVudGFscy5vcmcvdGhyZWVqcy9sZXNzb25zL3RocmVlanMtbG9hZC1nbHRmLmh0bWxcbi8vIGh0dHBzOi8vZGlzY292ZXJ0aHJlZWpzLmNvbS9ib29rL2ZpcnN0LXN0ZXBzL2xvYWQtbW9kZWxzL1xuLy8gaHR0cHM6Ly93d3cucGVudGFjcmVhdGlvbi5jb20vYmxvZy8yMDE5LzA5LzE5MDkxNi5odG1sXG4vLyBodHRwczovL3d3dy5wZW50YWNyZWF0aW9uLmNvbS9ibG9nLzIwMTkvMTAvMTkxMDE2Lmh0bWxcbi8vIGh0dHBzOi8vZG9jcy5ibGVuZGVyLm9yZy9tYW51YWwvamEvbGF0ZXN0L2FkZG9ucy9pb19zY2VuZV9nbHRmMi5odG1sXG4vLyBodHRwczovL2dsdGYtdmlld2VyLmRvbm1jY3VyZHkuY29tL1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rvbm1jY3VyZHkvdGhyZWUtZ2x0Zi12aWV3ZXJcbi8vIGltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmNsYXNzIFRocmVlT2JqZWN0Vmlld2VyOSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdUaHJlZUpTIE9iamVjdCBWaWV3ZXIgRGVtbycpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMtY29udGFpbmVyJyk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IF9kb21XYXRjaGVyLkRvbVdhdGNoZXIoKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzID0gbmV3IF9yYWZQcm9ncmVzcy5SYWZQcm9ncmVzcygpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3Mud2F0Y2godGhpcy5vblByb2dyZXNzVXBkYXRlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2Nyb2xsTGVycCA9IDAuMzg7XG4gICAgdGhpcy5zY3JvbGxFYXNlID0gJ2Vhc2VJblF1YWQnO1xuICAgIHRoaXMucmVuZGVyZXJDb25maWcgPSB7XG4gICAgICBjbGVhckNvbG9yOiAnI0M3QzVCOCcsXG4gICAgICBiYWNrZ3JvdW5kQWxwaGE6IDEuMFxuICAgIH07XG4gICAgdGhpcy5ndWkgPSBuZXcgX2RhdGd1aWYuRGF0Z3VpZih7XG4gICAgICBsb2FkOiBKU09OXG4gICAgfSk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdTZXR0aW5ncycpLm9wZW4oKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ1JlbmRlcmVyJywgJ1NldHRpbmdzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdDYW1lcmEnLCAnU2V0dGluZ3MnKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ1Njcm9sbCcsICdTZXR0aW5ncycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignTGlnaHRzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdPYmplY3RzJyk7XG4gICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1Njcm9sbCcsIHRoaXMsIFt7XG4gICAgICBrZXlOYW1lOiAnc2Nyb2xsTGVycCcsXG4gICAgICBtaW46IDAsXG4gICAgICBtYXg6IDEsXG4gICAgICBzdGVwOiAwLjAxXG4gICAgfSwge1xuICAgICAga2V5TmFtZTogJ3Njcm9sbEVhc2UnLFxuICAgICAgb3B0aW9uczogWydsaW5lYXInLCAnZWFzZU91dFF1YWQnLCAnZWFzZUluUXVhZCddXG4gICAgfV0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgY2FsbGJhY2s6IGV2ZW50ID0+IHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IF9kb20uZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50LCB3aW5kb3cuaW5uZXJIZWlnaHQpOyAvLyAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDAuMjYsIEVBU0UuZWFzZUluT3V0RXhwbyk7XG4gICAgICAgIC8vICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMC4wOCwgRUFTRS5saW5lYXIpO1xuXG4gICAgICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIHRoaXMuc2Nyb2xsTGVycCwgX2Vhc2UuRUFTRVt0aGlzLnNjcm9sbEVhc2VdKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLmd1aS5vblVwZGF0ZShwcm9wID0+IHtcbiAgICAgIHRoaXMuZHJhdygpO1xuICAgIH0pO1xuICAgIHZhciBsb2FkZXIgPSBuZXcgX0dMVEZMb2FkZXIuR0xURkxvYWRlcigpO1xuICAgIGNvbnN0IHBhdGggPSAnLi9wdWJsaWMvaG9tZS9kZW1vMTAuZ2x0Zic7XG4gICAgbG9hZGVyLmxvYWQocGF0aCwgZ2x0ZiA9PiB7XG4gICAgICBjb25zdCBnbHRmRGF0YSA9IGdsdGYucGFyc2VyLmpzb247XG5cbiAgICAgIGNvbnN0IGdldE5vZGVCeU5hbWUgPSBuYW1lID0+IHtcbiAgICAgICAgcmV0dXJuIGdsdGZEYXRhLm5vZGVzLmZpbHRlcihub2RlID0+IHtcbiAgICAgICAgICByZXR1cm4gbm9kZS5uYW1lID0gbmFtZTtcbiAgICAgICAgfSlbMF07XG4gICAgICB9O1xuXG4gICAgICBjb25zb2xlLmxvZygnZ2x0ZiBkYXRhJywgZ2x0ZkRhdGEpO1xuICAgICAgdGhpcy5jbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpO1xuICAgICAgY29uc3Qgc2NlbmUgPSBnbHRmLnNjZW5lc1swXTtcbiAgICAgIHRoaXMuYWN0aXZlU2NlbmUgPSBzY2VuZTtcbiAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IGdsdGYuYW5pbWF0aW9uczsgLy8gQW5pbWF0aW9uIE1peGVy44Kk44Oz44K544K/44Oz44K544KS55Sf5oiQXG5cbiAgICAgIHRoaXMubWl4ZXIgPSBuZXcgVEhSRUUuQW5pbWF0aW9uTWl4ZXIoc2NlbmUpOyAvL+WFqOOBpuOBrkFuaW1hdGlvbiBDbGlw44Gr5a++44GX44GmXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbnNbaV07IC8vQW5pbWF0aW9uIEFjdGlvbuOCkueUn+aIkFxuXG4gICAgICAgIHZhciBhY3Rpb24gPSB0aGlzLm1peGVyLmNsaXBBY3Rpb24oYW5pbWF0aW9uKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2FkZGVkJywgYW5pbWF0aW9uKTtcbiAgICAgICAgYWN0aW9uLnBsYXkoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zY2VuZS5hZGQoc2NlbmUpO1xuICAgICAgY29uc29sZS5sb2coJ3NjZW5lJywgc2NlbmUpO1xuICAgICAgY29uc29sZS5sb2coJ21peGVyJywgdGhpcy5taXhlcik7IC8vIGh0dHA6Ly9sZWFybmluZ3RocmVlanMuY29tL2Jsb2cvMjAxMi8wMS8yMC9jYXN0aW5nLXNoYWRvd3MvXG5cbiAgICAgIHRoaXMuc2NlbmUudHJhdmVyc2UoY2hpbGQgPT4ge1xuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5MaWdodCkge1xuICAgICAgICAgIC8vIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdsaWdodCcsIGNoaWxkKTtcbiAgICAgICAgICAvLyBEZWJ1Z2dpbmcgbGlnaHQgcG9zaXRpb25zLlxuICAgICAgICAgIC8vIGNoaWxkLnNoYWRvd0NhbWVyYVZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAvLyBpZihjaGlsZC5zaGFkb3cpIHtcbiAgICAgICAgICAvLyAgICAgLy8gQWRqdXN0IHNoYWRvdyBiaWFzLlxuICAgICAgICAgIC8vICAgICAvLyBjaGlsZC5zaGFkb3cuYmlhcyA9IC0wLjAwMjtcbiAgICAgICAgICAvLyAgICAgLy8gUmVtb3ZlIHRoZSByaWdnZWQgbG9va2luZyBzaGFkb3dzLlxuICAgICAgICAgIC8vICAgICAvLyBjaGlsZC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IDEwMjQ7XG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IDEwMjQ7XG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvd0RhcmtuZXNzID0gMC41O1xuICAgICAgICAgIC8vICAgICAvLyBjaGlsZC5zaGFkb3cuY2FtZXJhLm5lYXIgPSAwO1xuICAgICAgICAgIC8vICAgICAvLyBjaGlsZC5zaGFkb3cuY2FtZXJhLmZhciA9IDEwMDA7XG4gICAgICAgICAgLy8gICAgIC8vIHZhciBoZWxwZXIgPSBuZXcgVEhSRUUuQ2FtZXJhSGVscGVyKCBjaGlsZC5zaGFkb3cuY2FtZXJhICk7XG4gICAgICAgICAgLy8gICAgIC8vIHNjZW5lLmFkZCggaGVscGVyICk7XG4gICAgICAgICAgLy8gfVxuICAgICAgICAgIGNoaWxkLmxheWVycy5zZXQoMSk7IC8vIC8vIFBvaW50IGxpZ2h0cyBhcmUgZGVmaW5lZCBpbiB3YXR0cyB3aGljaCBnb2VzIHdhYXkgb2ZmIGluIHRocmVlLmpzXG5cbiAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5Qb2ludExpZ2h0KSB7XG4gICAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSBjaGlsZC5pbnRlbnNpdHkgKiAwLjAwMDU7XG4gICAgICAgICAgfSAvLyBJZiBpdCdzIGEgc3BvdCBsaWdodCwgaXQgbmVlZHMgdG8gZ28gZG93biBldmVuIG1vcmUuXG5cblxuICAgICAgICAgIGlmIChjaGlsZC50eXBlID09IFwiU3BvdExpZ2h0XCIpIHtcbiAgICAgICAgICAgIGNoaWxkLmludGVuc2l0eSA9IGNoaWxkLmludGVuc2l0eSAqIDAuMDAxO1xuICAgICAgICAgIH0gLy8gY2hpbGQuaW50ZW5zaXR5ID0gMDtcblxuXG4gICAgICAgICAgaWYgKGNoaWxkLm5hbWUgPT0gJ1BvaW50X09yaWVudGF0aW9uJykge1xuICAgICAgICAgICAgLy8gY2hpbGQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSA0LjY7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5ndWkuYWRkRm9sZGVyKGNoaWxkLm5hbWUsICdMaWdodHMnKTtcbiAgICAgICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihjaGlsZC5uYW1lLCBjaGlsZCwgW3tcbiAgICAgICAgICAgIGtleU5hbWU6ICdjYXN0U2hhZG93J1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleU5hbWU6ICdpbnRlbnNpdHknLFxuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiAzMDAwXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5TmFtZTogJ2NvbG9yJ1xuICAgICAgICAgIH1dKTtcblxuICAgICAgICAgIGlmIChjaGlsZC5zaGFkb3cpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvd0ZvbGRlcklkID0gY2hpbGQubmFtZSArICcgc2hhZG93JzsgLy8gY29uc29sZS5sb2coY2hpbGQuc2hhZG93KTtcblxuICAgICAgICAgICAgdGhpcy5ndWkuYWRkRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5uYW1lKTtcbiAgICAgICAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5zaGFkb3csIFt7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdiaWFzJyxcbiAgICAgICAgICAgICAgbWluOiAtMSxcbiAgICAgICAgICAgICAgbWF4OiAxLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAwMDAxXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdyYWRpdXMnLFxuICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgIG1heDogMTAwLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAxXG4gICAgICAgICAgICB9XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaCkge1xuICAgICAgICAgIC8vIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNoaWxkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKHRydWUpO1xuICAgICAgICAgIGNvbnN0IGxpZ2h0RW5hYmxlZCA9IFsncDQtc3VwZXItc20nLCAncDQtc3VwZXItc20wMDEnLCAncDQtc3VwZXItc20wMDInXTtcblxuICAgICAgICAgIGlmICh+bGlnaHRFbmFibGVkLmluZGV4T2YoY2hpbGQubmFtZSkpIHtcbiAgICAgICAgICAgIGNoaWxkLmxheWVycy5zZXQoMSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5ndWkuYWRkRm9sZGVyKGNoaWxkLm5hbWUsICdPYmplY3RzJyk7XG4gICAgICAgICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoY2hpbGQubmFtZSwgY2hpbGQsIFt7XG4gICAgICAgICAgICBrZXlOYW1lOiAnY2FzdFNoYWRvdydcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXlOYW1lOiAncmVjZWl2ZVNoYWRvdydcbiAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICBpZiAoY2hpbGQubWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsSWQgPSBjaGlsZC5uYW1lICsgJyBtYXRlcmlhbCc7XG4gICAgICAgICAgICB0aGlzLmd1aS5hZGRGb2xkZXIobWF0ZXJpYWxJZCwgY2hpbGQubmFtZSk7XG4gICAgICAgICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihtYXRlcmlhbElkLCBjaGlsZC5tYXRlcmlhbCwgW3tcbiAgICAgICAgICAgICAga2V5TmFtZTogJ2VtaXNzaXZlSW50ZW5zaXR5JyxcbiAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICBtYXg6IDFcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAga2V5TmFtZTogJ2ZsYXRTaGFkaW5nJyxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjaGlsZC5tYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAga2V5TmFtZTogJ3dpcmVmcmFtZScsXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7IC8vIEVuYWJsZSBzbW9vdGggc2hhZGluZy5cbiAgICAgICAgICAgIC8vIGNoaWxkLm1hdGVyaWFsLmZsYXRTaGFkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBjaGlsZC5tYXRlcmlhbC53aXJlZnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGNoaWxkLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVGYWNlTm9ybWFscygpO1xuICAgICAgICAgICAgLy8gY2hpbGQuZ2VvbWV0cnkuY29tcHV0ZVZlcnRleE5vcm1hbHModHJ1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNoaWxkLm5hbWUgPT0gJ1BsYW5lMDAxJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ21lc2gnLCBjaGlsZCk7XG4gICAgICAgICAgfSAvLyBHZXQgdGhlIGltYWdlIG1hcHBpbmdzLlxuICAgICAgICAgIC8vIGlmKGNoaWxkLm1hdGVyaWFsICYmIGNoaWxkLm1hdGVyaWFsLm1hcCkge1xuICAgICAgICAgIC8vICAgY2hpbGQubWF0ZXJpYWwubWFwLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAvLyB9XG5cbiAgICAgICAgfSBlbHNlIHsvLyBjb25zb2xlLmxvZygnb3RoZXInLCBjaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgfSk7IC8vIFNldCB0aGUgY2FtZXJhIGV4cG9ydGVkIGluIGdsdGYuXG4gICAgICAvLyBSZXF1aXJlcyBjYW1lcmEgdG8gYmUgZXhwb3J0ZWQgZm9yIGdsdGYuXG5cbiAgICAgIHRoaXMuY2FtZXJhID0gZ2x0Zi5jYW1lcmFzWzBdO1xuICAgICAgY29uc29sZS5sb2coJ2NhbWVyYScsIHRoaXMuY2FtZXJhKTtcbiAgICAgIHRoaXMucmVzaXplKCk7IC8vIFVzZSBmb2cgdG8gY292ZXIgZmFyIGRpc3RhbmNlcy5cbiAgICAgIC8vIGNvbnN0IGNvbG9yID0gMHgwMDAwMDtcbiAgICAgIC8vIHRoaXMuc2NlbmUuZm9nID0gbmV3IFRIUkVFLkZvZyhjb2xvciwgNSwgOCk7XG4gICAgICAvLyBFbmFibGUgc2hhZG93cy5cbiAgICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL2NvbnN0YW50cy9SZW5kZXJlclxuXG4gICAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTsgLy8gVG8gYW50aWFsaWFzIHRoZSBzaGFkb3dcblxuICAgICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG4gICAgICB0aGlzLnJlbmRlcmVyLmdhbW1hT3V0cHV0ID0gdHJ1ZTtcbiAgICAgIHRoaXMucmVuZGVyZXIuZ2FtbWFGYWN0b3IgPSAyLjI7IC8vIEltcG9ydGFudCB0byBnZXQgdGhlIGNvcnJlY3QgY29sb3JzLlxuICAgICAgLy8gdGhpcy5yZW5kZXJlci5waHlzaWNhbGx5Q29ycmVjdExpZ3RzID0gdHJ1ZTtcbiAgICAgIC8vIEJhY2tncm91bmQgYXMgYmxhY2suXG4gICAgICAvLyB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHg0Mjg3ZjUpO1xuXG4gICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCB0aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7IC8vIEFmZmVjdHMgaG93IHN0cm9uZ2x5IGxpZ2h0cyBjb21lIGV4cG9zZWQuXG4gICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2V4YW1wbGVzLyN3ZWJnbF90b25lbWFwcGluZ1xuXG4gICAgICB0aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSAxOyAvLyB0aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSAwLjY7XG5cbiAgICAgIHRoaXMucmVuZGVyZXIudG9uZU1hcHBpbmcgPSBUSFJFRS5BQ0VTRmlsbWljVG9uZU1hcHBpbmc7XG4gICAgICB0aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignUmVuZGVyZXInLCB0aGlzLnJlbmRlcmVyLCBbe1xuICAgICAgICBrZXlOYW1lOiAndG9uZU1hcHBpbmdFeHBvc3VyZScsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiA1LFxuICAgICAgICBzdGVwOiAwLjAxXG4gICAgICB9LCB7XG4gICAgICAgIGtleU5hbWU6ICdnYW1tYUZhY3RvcicsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiAxMCxcbiAgICAgICAgc3RlcDogMC4wMVxuICAgICAgfV0pO1xuICAgICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1JlbmRlcmVyJywgdGhpcy5yZW5kZXJlckNvbmZpZywgW3tcbiAgICAgICAga2V5TmFtZTogJ2NsZWFyQ29sb3InLFxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcih0aGlzLnJlbmRlcmVyQ29uZmlnLmNsZWFyQ29sb3IsIHRoaXMucmVuZGVyZXJDb25maWcuYmFja2dyb3VuZEFscGhhKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnYmFja2dyb3VuZEFscGhhJyxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCB0aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7XG4gICAgICAgIH1cbiAgICAgIH1dKTtcbiAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdDYW1lcmEnLCB0aGlzLmNhbWVyYSwgW3tcbiAgICAgICAga2V5TmFtZTogJ2ZvdicsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiA1MCxcbiAgICAgICAgc3RlcDogMC4wMSxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ3pvb20nLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogMTAsXG4gICAgICAgIHN0ZXA6IDAuMDAwMSxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICAgIH1dKTtcbiAgICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignR2VuZXJhbCBMaWdodHMnKTtcbiAgICAgIHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnID0ge1xuICAgICAgICBhbWJpZW50TGlnaHRDb2xvcjogJyM3Mzk1YjMnLFxuICAgICAgICBhbWJpZW50TGlnaHRBbHBoYTogMFxuICAgICAgfTsgLy8gQWRkaXRpb25hbCBsaWdodGluZyBvdXRzaWRlIHRoZSBibGVuZGVyLlxuICAgICAgLy8gdmFyIGxpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodCggMHhmZmZmYmIsIDB4ZmZmZmZmLCAxICk7XG4gICAgICAvLyB0aGlzLnNjZW5lLmFkZCggbGlnaHQgKTtcblxuICAgICAgdGhpcy5hbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodENvbG9yKTtcbiAgICAgIHRoaXMuYW1iaWVudExpZ2h0LmludGVuc2l0eSA9IHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodEFscGhhO1xuICAgICAgc2NlbmUuYWRkKHRoaXMuYW1iaWVudExpZ2h0KTtcbiAgICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdHZW5lcmFsIExpZ2h0cycsIHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLCBbe1xuICAgICAgICBrZXlOYW1lOiAnYW1iaWVudExpZ2h0Q29sb3InLFxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuYW1iaWVudExpZ2h0LmNvbG9yID0gbmV3IFRIUkVFLkNvbG9yKHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodENvbG9yKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnYW1iaWVudExpZ2h0QWxwaGEnLFxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuYW1iaWVudExpZ2h0LmludGVuc2l0eSA9IHRoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodEFscGhhO1xuICAgICAgICB9XG4gICAgICB9XSk7IC8vIHZhciB3aWR0aCA9IDUwO1xuICAgICAgLy8gdmFyIGhlaWdodCA9IDUwO1xuICAgICAgLy8gdmFyIGludGVuc2l0eSA9IDA7XG4gICAgICAvLyB2YXIgcmVjdExpZ2h0ID0gbmV3IFRIUkVFLlJlY3RBcmVhTGlnaHQoJyNGRkZGRkYnLCBpbnRlbnNpdHksICB3aWR0aCwgaGVpZ2h0ICk7XG4gICAgICAvLyByZWN0TGlnaHQucG9zaXRpb24uc2V0KCAwLCAwLCAyNSApO1xuICAgICAgLy8gLy8gcmVjdExpZ2h0Lmxvb2tBdCggMCwgMCwgMCApO1xuICAgICAgLy8gdGhpcy5zY2VuZS5hZGQoIHJlY3RMaWdodCApO1xuICAgICAgLy8gcmVjdExpZ2h0SGVscGVyID0gbmV3IFRIUkVFLlJlY3RBcmVhTGlnaHRIZWxwZXIoIHJlY3RMaWdodCApO1xuICAgICAgLy8gcmVjdExpZ2h0LmFkZCggcmVjdExpZ2h0SGVscGVyICk7XG5cbiAgICAgIHRoaXMuZ3VpLmFkZEJ1dHRvbignUmVmcmVzaCcsIHRoaXMucmVmcmVzaC5iaW5kKHRoaXMpKTtcbiAgICB9LCB1bmRlZmluZWQsIGVycm9yID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH0pO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7XG4gICAgICBhbnRpYWxpYXM6IHRydWUsXG4gICAgICAvLyBwcmVjaXNpb246ICdoaWdocCdcbiAgICAgIGF1dG9TaXplOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5jb21wb3NlciA9IG5ldyBfRWZmZWN0Q29tcG9zZXIuRWZmZWN0Q29tcG9zZXIodGhpcy5yZW5kZXJlcik7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUuYmluZCh0aGlzKSwgZmFsc2UpO1xuICB9XG5cbiAgcmVzaXplKCkge1xuICAgIHRoaXMucHJvZ3Jlc3MgPSBfZG9tLmRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAxLCBfZWFzZS5FQVNFLkxpbmVhcik7XG4gICAgdGhpcy53aWR0aCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNhbnZhc0NvbnRhaW5lci5wYXJlbnRFbGVtZW50Lm9mZnNldEhlaWdodDsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rvbm1jY3VyZHkvdGhyZWUtZ2x0Zi12aWV3ZXIvYmxvYi9tYXN0ZXIvc3JjL3ZpZXdlci5qc1xuICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL2NvbnN0YW50cy9SZW5kZXJlclxuXG4gICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpOyAvLyBQb3N0IHByb2Nlc3NpbmdcbiAgICAvLyB0aGlzLmNvbXBvc2VyLnNldFNpemUoIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAvLyBjb25zdCBmeGFhUGFzcyA9IG5ldyBTaGFkZXJQYXNzKCBGWEFBU2hhZGVyICk7XG4gICAgLy8gZnhhYVBhc3MubWF0ZXJpYWwudW5pZm9ybXNbICdyZXNvbHV0aW9uJyBdLnZhbHVlLnggPSAxIC8gKCB0aGlzLndpZHRoICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgIC8vIGZ4YWFQYXNzLm1hdGVyaWFsLnVuaWZvcm1zWyAncmVzb2x1dGlvbicgXS52YWx1ZS55ID0gMSAvICggdGhpcy5oZWlnaHQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKGZ4YWFQYXNzKTtcbiAgICAvLyB0aGlzLmNvbXBvc2VyLmFkZFBhc3MobmV3IFJlbmRlclBhc3ModGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpKTtcbiAgICAvLyB2YXIgYmxvb21QYXNzID0gbmV3IFVucjIuMm1lYWxCbG9vbVBhc3MoMSwgMjUsIDUsIDI1Nik7XG4gICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKGJsb29tUGFzcyk7XG4gICAgLy8gVGhlIGNhbWVyYSBhc3BlY3QgZ29lcyBvZmYgc2luY2UgaXQgY291bGQgYmUgZXhwb3J0ZWQgYXQgYSBkaWZmZXJlbnRcbiAgICAvLyByYXRpby4gIEZvcmNlIHVwZGF0ZSB0aGUgYXNwZWN0IHJhdGlvLlxuXG4gICAgdGhpcy5jYW1lcmEuYXNwZWN0ID0gdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0O1xuICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgfVxuXG4gIHJlZnJlc2goKSB7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKHRoaXMucmVuZGVyZXJDb25maWcuY2xlYXJDb2xvciwgdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpO1xuICAgIHRoaXMucmVzaXplKCk7XG4gICAgdGhpcy5kcmF3KCk7XG4gIH1cblxuICBnZXRBbmltYXRpb25CeU5hbWUobmFtZSkge1xuICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbnMuZmlsdGVyKGFuaW1hdGlvbkNsaXAgPT4ge1xuICAgICAgcmV0dXJuIGFuaW1hdGlvbkNsaXAubmFtZSA9PSBuYW1lO1xuICAgIH0pWzBdO1xuICB9XG5cbiAgZ2V0T2JqZWN0QnlOYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5hY3RpdmVTY2VuZS5jaGlsZHJlbi5maWx0ZXIob2JqZWN0M2QgPT4ge1xuICAgICAgcmV0dXJuIG9iamVjdDNkLm5hbWUgPT0gbmFtZTtcbiAgICB9KVswXTtcbiAgfVxuXG4gIG9uUHJvZ3Jlc3NVcGRhdGUocHJvZ3Jlc3MpIHtcbiAgICAvL0FuaW1hdGlvbiBNaXhlcuOCkuWun+ihjFxuICAgIGlmICh0aGlzLm1peGVyKSB7XG4gICAgICAvLyBXZSBuZWVkIHRvIGZpbmQgb3V0IGhvdyBsb25nIHRoZSBhbmltYXRpb24gaXMuXG4gICAgICAvLyBUaGUgbWl4ZXIgYXBwZWFycyB0byBoYXZlIG5vIGtub3dsZWRnZSBvZnQgdGhpcyBzbyB3ZSBuZWVkIHRvXG4gICAgICAvLyBsb29rIHVwIGEgc3BlY2lmaWMgYW5pbWF0aW9uIGFuZCBnZXQgdGhlIGR1cmF0aW9uIHRvXG4gICAgICAvLyBnZXQgdGhlIHRvdGFsIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICBjb25zdCBjYW1lcmFBbmltYXRpb24gPSB0aGlzLmdldEFuaW1hdGlvbkJ5TmFtZSgnQ2FtZXJhQWN0aW9uLjAwNCcpO1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBjYW1lcmFBbmltYXRpb24uZHVyYXRpb247IC8vIFdoZW4gZHVyYXRpb24gaGl0cyBpdCdzIG1heCwgYW5pbWF0aW9uTWl4ZXIgc2VlbXMgdG8gaGl0IHRoZSBmaXJzdFxuICAgICAgLy8gZnJhbWUgc28gbmV4dCBhbGxvdyBpdCB0byByZWFjaCB0aGUgbWF4IHZhbHVlLlxuXG4gICAgICB0aGlzLm1peGVyLnNldFRpbWUoTWF0aC5taW4oZHVyYXRpb24gKiBwcm9ncmVzcywgZHVyYXRpb24gLSAwLjAwMSkpO1xuICAgIH1cblxuICAgIHRoaXMuZHJhdygpOyAvLyB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgLy8gdGhpcy5jb21wb3Nlci5yZW5kZXIoKTtcbiAgfVxuXG4gIGRyYXcoKSB7XG4gICAgdGhpcy5yZW5kZXJlci5hdXRvQ2xlYXIgPSB0cnVlO1xuICAgIHRoaXMuY2FtZXJhLmxheWVycy5zZXQoMCk7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIHRoaXMucmVuZGVyZXIuYXV0b0NsZWFyID0gZmFsc2U7IC8vIERvbid0IGNsZWFyXG5cbiAgICB0aGlzLmNhbWVyYS5sYXllcnMuc2V0KDEpO1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFRocmVlT2JqZWN0Vmlld2VyOTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/three-object-viewer9.js\n");

/***/ }),

/***/ "./examples/three-scene-renderer.js":
/*!******************************************!*\
  !*** ./examples/three-scene-renderer.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _OrbitControls = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n\nvar _sceneRenderer = __webpack_require__(/*! ../lib/threef/scene-renderer */ \"./lib/threef/scene-renderer.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _threef = __webpack_require__(/*! ../lib/threef/threef */ \"./lib/threef/threef.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nclass ThreeSceneRenderer {\n  constructor() {\n    console.log('scene renderer test.');\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.sceneRenderer = new _sceneRenderer.SceneRenderer({});\n    this.boxElements = [document.getElementById('box-1'), document.getElementById('box-2'), document.getElementById('box-3'), document.getElementById('box-4'), document.getElementById('box-5'), document.getElementById('box-6'), document.getElementById('box-7'), document.getElementById('box-8'), document.getElementById('box-8'), document.getElementById('box-9'), document.getElementById('box-10'), document.getElementById('box-11'), document.getElementById('box-12')];\n    this.generateScenes();\n    this.sceneRenderer.resize();\n    this.raf.start();\n  }\n\n  generateScenes() {\n    var geometries = [new THREE.BoxBufferGeometry(1, 1, 1), new THREE.SphereBufferGeometry(0.5, 12, 8), new THREE.DodecahedronBufferGeometry(0.5), new THREE.CylinderBufferGeometry(0.5, 0.5, 1, 12)];\n    this.boxElements.forEach(element => {\n      // Create a new scene.\n      const scene = new THREE.Scene(); // Add a new cam.\n\n      var camera = new THREE.PerspectiveCamera(50, 1, 1, 10);\n      camera.position.z = 2; // Add some stuff to the sample scene.\n\n      var geometry = geometries[geometries.length * Math.random() | 0];\n      var material = new THREE.MeshStandardMaterial({\n        color: new THREE.Color().setHSL(Math.random(), 1, 0.75),\n        roughness: 0.5,\n        metalness: 0,\n        flatShading: true\n      });\n      scene.add(new THREE.Mesh(geometry, material));\n      scene.add(new THREE.HemisphereLight(0xaaaaaa, 0x444444));\n      var light = new THREE.DirectionalLight(0xffffff, 0.5);\n      light.position.set(1, 1, 1);\n      scene.add(light); // var controls = new OrbitControls( camera, element);\n      // controls.minDistance = 2;\n      // controls.maxDistance = 5;\n      // controls.enablePan = false;\n      // controls.enableZoom = false;\n      // Register this to the sceneRenderer.\n\n      const textElement = element.querySelector('.text');\n      this.sceneRenderer.addScene({\n        // resizingAlgo: 'resizeWithFov',\n        // resizingScalar: 1.0,\n        resizingAlgo: 'contain',\n        resizingOptions: {\n          scalarX: 1.0,\n          scalarY: 1.0\n        },\n        scene: scene,\n        camera: camera,\n        domElement: element,\n        // On each render update, update the controls.\n        onBeforeRender: () => {\n          // controls.update();\n          scene.children[0].rotation.y = Date.now() * 0.001; // Example of moving DOM text with the scene.\n          // The element (not the scene renderer) size needs to be\n          // used to calculate positions.\n          // Because we are using FOV based resizing, we need to\n          // consider the resizingScalar and pass that over as a\n          // textScalar.\n\n          const textScalar = scene.userData.resizingScalar * 0.00003;\n\n          const domCoordinates = _threef.threef.toDomCoordinates(scene.children[0], camera, element.offsetWidth, element.offsetHeight, textScalar);\n\n          const domRotation = _threef.threef.toDomRotation(scene.children[0], camera, element.offsetWidth, element.offsetHeight);\n\n          _threef.threef.applyVectorToDom(textElement, domCoordinates, domRotation);\n        },\n        onBeforeResize: () => {\n          // scene.userData.resizingScalar = element.offsetHeight * 0.5;\n          scene.userData.resizingScalar = Math.min(element.offsetHeight, element.offsetWidth);\n        },\n\n        onResize() {\n          console.log('updating'); // camera.aspect = this.width / this.height;\n          // camera.updateProjectionMatrix();\n        }\n\n      });\n    });\n  }\n\n  onRaf() {\n    this.sceneRenderer.render();\n  }\n\n  resize() {}\n\n}\n\nexports.default = ThreeSceneRenderer;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1zY2VuZS1yZW5kZXJlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLXNjZW5lLXJlbmRlcmVyLmpzPzM0YjgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfT3JiaXRDb250cm9scyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9sc1wiKTtcblxudmFyIF9zY2VuZVJlbmRlcmVyID0gcmVxdWlyZShcIi4uL2xpYi90aHJlZWYvc2NlbmUtcmVuZGVyZXJcIik7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX3RocmVlZiA9IHJlcXVpcmUoXCIuLi9saWIvdGhyZWVmL3RocmVlZlwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5jbGFzcyBUaHJlZVNjZW5lUmVuZGVyZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygnc2NlbmUgcmVuZGVyZXIgdGVzdC4nKTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2NlbmVSZW5kZXJlciA9IG5ldyBfc2NlbmVSZW5kZXJlci5TY2VuZVJlbmRlcmVyKHt9KTtcbiAgICB0aGlzLmJveEVsZW1lbnRzID0gW2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3gtMScpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94LTInKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveC0zJyksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3gtNCcpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94LTUnKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveC02JyksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3gtNycpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94LTgnKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveC04JyksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3gtOScpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94LTEwJyksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3gtMTEnKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveC0xMicpXTtcbiAgICB0aGlzLmdlbmVyYXRlU2NlbmVzKCk7XG4gICAgdGhpcy5zY2VuZVJlbmRlcmVyLnJlc2l6ZSgpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBnZW5lcmF0ZVNjZW5lcygpIHtcbiAgICB2YXIgZ2VvbWV0cmllcyA9IFtuZXcgVEhSRUUuQm94QnVmZmVyR2VvbWV0cnkoMSwgMSwgMSksIG5ldyBUSFJFRS5TcGhlcmVCdWZmZXJHZW9tZXRyeSgwLjUsIDEyLCA4KSwgbmV3IFRIUkVFLkRvZGVjYWhlZHJvbkJ1ZmZlckdlb21ldHJ5KDAuNSksIG5ldyBUSFJFRS5DeWxpbmRlckJ1ZmZlckdlb21ldHJ5KDAuNSwgMC41LCAxLCAxMildO1xuICAgIHRoaXMuYm94RWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIC8vIENyZWF0ZSBhIG5ldyBzY2VuZS5cbiAgICAgIGNvbnN0IHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIEFkZCBhIG5ldyBjYW0uXG5cbiAgICAgIHZhciBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNTAsIDEsIDEsIDEwKTtcbiAgICAgIGNhbWVyYS5wb3NpdGlvbi56ID0gMjsgLy8gQWRkIHNvbWUgc3R1ZmYgdG8gdGhlIHNhbXBsZSBzY2VuZS5cblxuICAgICAgdmFyIGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tnZW9tZXRyaWVzLmxlbmd0aCAqIE1hdGgucmFuZG9tKCkgfCAwXTtcbiAgICAgIHZhciBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgICAgIGNvbG9yOiBuZXcgVEhSRUUuQ29sb3IoKS5zZXRIU0woTWF0aC5yYW5kb20oKSwgMSwgMC43NSksXG4gICAgICAgIHJvdWdobmVzczogMC41LFxuICAgICAgICBtZXRhbG5lc3M6IDAsXG4gICAgICAgIGZsYXRTaGFkaW5nOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHNjZW5lLmFkZChuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpKTtcbiAgICAgIHNjZW5lLmFkZChuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KDB4YWFhYWFhLCAweDQ0NDQ0NCkpO1xuICAgICAgdmFyIGxpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhmZmZmZmYsIDAuNSk7XG4gICAgICBsaWdodC5wb3NpdGlvbi5zZXQoMSwgMSwgMSk7XG4gICAgICBzY2VuZS5hZGQobGlnaHQpOyAvLyB2YXIgY29udHJvbHMgPSBuZXcgT3JiaXRDb250cm9scyggY2FtZXJhLCBlbGVtZW50KTtcbiAgICAgIC8vIGNvbnRyb2xzLm1pbkRpc3RhbmNlID0gMjtcbiAgICAgIC8vIGNvbnRyb2xzLm1heERpc3RhbmNlID0gNTtcbiAgICAgIC8vIGNvbnRyb2xzLmVuYWJsZVBhbiA9IGZhbHNlO1xuICAgICAgLy8gY29udHJvbHMuZW5hYmxlWm9vbSA9IGZhbHNlO1xuICAgICAgLy8gUmVnaXN0ZXIgdGhpcyB0byB0aGUgc2NlbmVSZW5kZXJlci5cblxuICAgICAgY29uc3QgdGV4dEVsZW1lbnQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZXh0Jyk7XG4gICAgICB0aGlzLnNjZW5lUmVuZGVyZXIuYWRkU2NlbmUoe1xuICAgICAgICAvLyByZXNpemluZ0FsZ286ICdyZXNpemVXaXRoRm92JyxcbiAgICAgICAgLy8gcmVzaXppbmdTY2FsYXI6IDEuMCxcbiAgICAgICAgcmVzaXppbmdBbGdvOiAnY29udGFpbicsXG4gICAgICAgIHJlc2l6aW5nT3B0aW9uczoge1xuICAgICAgICAgIHNjYWxhclg6IDEuMCxcbiAgICAgICAgICBzY2FsYXJZOiAxLjBcbiAgICAgICAgfSxcbiAgICAgICAgc2NlbmU6IHNjZW5lLFxuICAgICAgICBjYW1lcmE6IGNhbWVyYSxcbiAgICAgICAgZG9tRWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgLy8gT24gZWFjaCByZW5kZXIgdXBkYXRlLCB1cGRhdGUgdGhlIGNvbnRyb2xzLlxuICAgICAgICBvbkJlZm9yZVJlbmRlcjogKCkgPT4ge1xuICAgICAgICAgIC8vIGNvbnRyb2xzLnVwZGF0ZSgpO1xuICAgICAgICAgIHNjZW5lLmNoaWxkcmVuWzBdLnJvdGF0aW9uLnkgPSBEYXRlLm5vdygpICogMC4wMDE7IC8vIEV4YW1wbGUgb2YgbW92aW5nIERPTSB0ZXh0IHdpdGggdGhlIHNjZW5lLlxuICAgICAgICAgIC8vIFRoZSBlbGVtZW50IChub3QgdGhlIHNjZW5lIHJlbmRlcmVyKSBzaXplIG5lZWRzIHRvIGJlXG4gICAgICAgICAgLy8gdXNlZCB0byBjYWxjdWxhdGUgcG9zaXRpb25zLlxuICAgICAgICAgIC8vIEJlY2F1c2Ugd2UgYXJlIHVzaW5nIEZPViBiYXNlZCByZXNpemluZywgd2UgbmVlZCB0b1xuICAgICAgICAgIC8vIGNvbnNpZGVyIHRoZSByZXNpemluZ1NjYWxhciBhbmQgcGFzcyB0aGF0IG92ZXIgYXMgYVxuICAgICAgICAgIC8vIHRleHRTY2FsYXIuXG5cbiAgICAgICAgICBjb25zdCB0ZXh0U2NhbGFyID0gc2NlbmUudXNlckRhdGEucmVzaXppbmdTY2FsYXIgKiAwLjAwMDAzO1xuXG4gICAgICAgICAgY29uc3QgZG9tQ29vcmRpbmF0ZXMgPSBfdGhyZWVmLnRocmVlZi50b0RvbUNvb3JkaW5hdGVzKHNjZW5lLmNoaWxkcmVuWzBdLCBjYW1lcmEsIGVsZW1lbnQub2Zmc2V0V2lkdGgsIGVsZW1lbnQub2Zmc2V0SGVpZ2h0LCB0ZXh0U2NhbGFyKTtcblxuICAgICAgICAgIGNvbnN0IGRvbVJvdGF0aW9uID0gX3RocmVlZi50aHJlZWYudG9Eb21Sb3RhdGlvbihzY2VuZS5jaGlsZHJlblswXSwgY2FtZXJhLCBlbGVtZW50Lm9mZnNldFdpZHRoLCBlbGVtZW50Lm9mZnNldEhlaWdodCk7XG5cbiAgICAgICAgICBfdGhyZWVmLnRocmVlZi5hcHBseVZlY3RvclRvRG9tKHRleHRFbGVtZW50LCBkb21Db29yZGluYXRlcywgZG9tUm90YXRpb24pO1xuICAgICAgICB9LFxuICAgICAgICBvbkJlZm9yZVJlc2l6ZTogKCkgPT4ge1xuICAgICAgICAgIC8vIHNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nU2NhbGFyID0gZWxlbWVudC5vZmZzZXRIZWlnaHQgKiAwLjU7XG4gICAgICAgICAgc2NlbmUudXNlckRhdGEucmVzaXppbmdTY2FsYXIgPSBNYXRoLm1pbihlbGVtZW50Lm9mZnNldEhlaWdodCwgZWxlbWVudC5vZmZzZXRXaWR0aCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25SZXNpemUoKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ3VwZGF0aW5nJyk7IC8vIGNhbWVyYS5hc3BlY3QgPSB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQ7XG4gICAgICAgICAgLy8gY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgICAgfVxuXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uUmFmKCkge1xuICAgIHRoaXMuc2NlbmVSZW5kZXJlci5yZW5kZXIoKTtcbiAgfVxuXG4gIHJlc2l6ZSgpIHt9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gVGhyZWVTY2VuZVJlbmRlcmVyOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/three-scene-renderer.js\n");

/***/ }),

/***/ "./examples/three-scene-renderer2.js":
/*!*******************************************!*\
  !*** ./examples/three-scene-renderer2.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _GLTFLoader = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n\nvar _three = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _OrbitControls = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n\nvar _sceneRenderer = __webpack_require__(/*! ../lib/threef/scene-renderer */ \"./lib/threef/scene-renderer.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _threef = __webpack_require__(/*! ../lib/threef/threef */ \"./lib/threef/threef.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nclass ThreeSceneRenderer2 {\n  constructor() {\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.sceneRenderer = new _sceneRenderer.SceneRenderer({});\n    this.boxElements = {\n      box1: document.getElementById('box-1'),\n      box2: document.getElementById('box-2'),\n      box3: document.getElementById('box-3'),\n      box4: document.getElementById('box-4'),\n      box5: document.getElementById('box-5'),\n      box6: document.getElementById('box-6')\n    }; // Create first scene1.\n\n    this.createGltfScene(this.boxElements.box1, 'public/scene-size-test2.gltf', {\n      resizingAlgo: 'contain',\n      resizingOptions: {\n        scalarX: 2.6,\n        scalarY: 3.8,\n        useFov: false\n      }\n    }); // Create second scene.\n\n    this.createGltfScene(this.boxElements.box2, 'public/scene-size-test2.gltf', {\n      resizingAlgo: 'contain',\n      resizingOptions: {\n        scalarX: 2.6,\n        scalarY: 3.8,\n        top: 0,\n        useFov: false\n      }\n    }); // Create third scene.\n\n    this.createGltfScene(this.boxElements.box3, 'public/scene-size-test2.gltf', {\n      resizingAlgo: 'contain',\n      resizingOptions: {\n        scalarX: 2.6,\n        scalarY: 3.8,\n        bottom: 0,\n        left: 0,\n        useFov: false\n      }\n    });\n    this.createGltfScene(this.boxElements.box4, 'public/scene-size-test2.gltf', {\n      resizingAlgo: 'cover',\n      resizingOptions: {\n        scalarX: 2.6,\n        scalarY: 3.8,\n        useFov: false\n      }\n    });\n    this.createGltfScene(this.boxElements.box5, 'public/scene-size-test2.gltf', {\n      resizingAlgo: 'cover',\n      resizingOptions: {\n        scalarX: 2.6,\n        scalarY: 3.8,\n        top: 0,\n        useFov: false\n      }\n    });\n    this.createGltfScene(this.boxElements.box6, 'public/scene-size-test2.gltf', {\n      resizingAlgo: 'cover',\n      resizingOptions: {\n        scalarX: 2.6,\n        scalarY: 3.8,\n        bottom: 0,\n        left: 0,\n        // right: 1\n        useFov: false\n      }\n    });\n    this.sceneRenderer.resize();\n    this.raf.start();\n  }\n\n  createGltfScene(domElement, gltfPath, options) {\n    const gltfLoader = new _GLTFLoader.GLTFLoader();\n\n    _threef.threef.loadGltf({\n      gltfPath: gltfPath,\n      gltfLoader: gltfLoader\n    }).then(gltf => {\n      // Add some lights.\n      const ambientLight = new THREE.AmbientLight('#FFFFFF');\n      ambientLight.intensity = options.ambientLightIntensity || 1.0; // Add the light to the scene.\n\n      gltf.scene.add(ambientLight);\n      this.sceneRenderer.addScene({\n        resizingAlgo: options.resizingAlgo,\n        resizingOptions: options.resizingOptions,\n        domElement: domElement,\n        scene: gltf.scene,\n        camera: gltf.cameras[0],\n        onBeforeRender: renderer => {\n          // Since this loads a gltf, we need to correct out the colors.\n          renderer.physicallyCorrectLights = true;\n          renderer.gammaOutput = true;\n        }\n      }, true);\n    });\n  }\n\n  onRaf() {\n    this.sceneRenderer.render();\n  }\n\n}\n\nexports.default = ThreeSceneRenderer2;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1zY2VuZS1yZW5kZXJlcjIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy90aHJlZS1zY2VuZS1yZW5kZXJlcjIuanM/OWFhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9HTFRGTG9hZGVyID0gcmVxdWlyZShcInRocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0dMVEZMb2FkZXJcIik7XG5cbnZhciBfdGhyZWUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5cbnZhciBUSFJFRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90aHJlZSk7XG5cbnZhciBfT3JiaXRDb250cm9scyA9IHJlcXVpcmUoXCJ0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9sc1wiKTtcblxudmFyIF9zY2VuZVJlbmRlcmVyID0gcmVxdWlyZShcIi4uL2xpYi90aHJlZWYvc2NlbmUtcmVuZGVyZXJcIik7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX3RocmVlZiA9IHJlcXVpcmUoXCIuLi9saWIvdGhyZWVmL3RocmVlZlwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5jbGFzcyBUaHJlZVNjZW5lUmVuZGVyZXIyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5yYWYgPSBuZXcgX3JhZi5SYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnNjZW5lUmVuZGVyZXIgPSBuZXcgX3NjZW5lUmVuZGVyZXIuU2NlbmVSZW5kZXJlcih7fSk7XG4gICAgdGhpcy5ib3hFbGVtZW50cyA9IHtcbiAgICAgIGJveDE6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3gtMScpLFxuICAgICAgYm94MjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveC0yJyksXG4gICAgICBib3gzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94LTMnKSxcbiAgICAgIGJveDQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3gtNCcpLFxuICAgICAgYm94NTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveC01JyksXG4gICAgICBib3g2OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94LTYnKVxuICAgIH07IC8vIENyZWF0ZSBmaXJzdCBzY2VuZTEuXG5cbiAgICB0aGlzLmNyZWF0ZUdsdGZTY2VuZSh0aGlzLmJveEVsZW1lbnRzLmJveDEsICdwdWJsaWMvc2NlbmUtc2l6ZS10ZXN0Mi5nbHRmJywge1xuICAgICAgcmVzaXppbmdBbGdvOiAnY29udGFpbicsXG4gICAgICByZXNpemluZ09wdGlvbnM6IHtcbiAgICAgICAgc2NhbGFyWDogMi42LFxuICAgICAgICBzY2FsYXJZOiAzLjgsXG4gICAgICAgIHVzZUZvdjogZmFsc2VcbiAgICAgIH1cbiAgICB9KTsgLy8gQ3JlYXRlIHNlY29uZCBzY2VuZS5cblxuICAgIHRoaXMuY3JlYXRlR2x0ZlNjZW5lKHRoaXMuYm94RWxlbWVudHMuYm94MiwgJ3B1YmxpYy9zY2VuZS1zaXplLXRlc3QyLmdsdGYnLCB7XG4gICAgICByZXNpemluZ0FsZ286ICdjb250YWluJyxcbiAgICAgIHJlc2l6aW5nT3B0aW9uczoge1xuICAgICAgICBzY2FsYXJYOiAyLjYsXG4gICAgICAgIHNjYWxhclk6IDMuOCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICB1c2VGb3Y6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7IC8vIENyZWF0ZSB0aGlyZCBzY2VuZS5cblxuICAgIHRoaXMuY3JlYXRlR2x0ZlNjZW5lKHRoaXMuYm94RWxlbWVudHMuYm94MywgJ3B1YmxpYy9zY2VuZS1zaXplLXRlc3QyLmdsdGYnLCB7XG4gICAgICByZXNpemluZ0FsZ286ICdjb250YWluJyxcbiAgICAgIHJlc2l6aW5nT3B0aW9uczoge1xuICAgICAgICBzY2FsYXJYOiAyLjYsXG4gICAgICAgIHNjYWxhclk6IDMuOCxcbiAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB1c2VGb3Y6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5jcmVhdGVHbHRmU2NlbmUodGhpcy5ib3hFbGVtZW50cy5ib3g0LCAncHVibGljL3NjZW5lLXNpemUtdGVzdDIuZ2x0ZicsIHtcbiAgICAgIHJlc2l6aW5nQWxnbzogJ2NvdmVyJyxcbiAgICAgIHJlc2l6aW5nT3B0aW9uczoge1xuICAgICAgICBzY2FsYXJYOiAyLjYsXG4gICAgICAgIHNjYWxhclk6IDMuOCxcbiAgICAgICAgdXNlRm92OiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuY3JlYXRlR2x0ZlNjZW5lKHRoaXMuYm94RWxlbWVudHMuYm94NSwgJ3B1YmxpYy9zY2VuZS1zaXplLXRlc3QyLmdsdGYnLCB7XG4gICAgICByZXNpemluZ0FsZ286ICdjb3ZlcicsXG4gICAgICByZXNpemluZ09wdGlvbnM6IHtcbiAgICAgICAgc2NhbGFyWDogMi42LFxuICAgICAgICBzY2FsYXJZOiAzLjgsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgdXNlRm92OiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuY3JlYXRlR2x0ZlNjZW5lKHRoaXMuYm94RWxlbWVudHMuYm94NiwgJ3B1YmxpYy9zY2VuZS1zaXplLXRlc3QyLmdsdGYnLCB7XG4gICAgICByZXNpemluZ0FsZ286ICdjb3ZlcicsXG4gICAgICByZXNpemluZ09wdGlvbnM6IHtcbiAgICAgICAgc2NhbGFyWDogMi42LFxuICAgICAgICBzY2FsYXJZOiAzLjgsXG4gICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgLy8gcmlnaHQ6IDFcbiAgICAgICAgdXNlRm92OiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2NlbmVSZW5kZXJlci5yZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgY3JlYXRlR2x0ZlNjZW5lKGRvbUVsZW1lbnQsIGdsdGZQYXRoLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZ2x0ZkxvYWRlciA9IG5ldyBfR0xURkxvYWRlci5HTFRGTG9hZGVyKCk7XG5cbiAgICBfdGhyZWVmLnRocmVlZi5sb2FkR2x0Zih7XG4gICAgICBnbHRmUGF0aDogZ2x0ZlBhdGgsXG4gICAgICBnbHRmTG9hZGVyOiBnbHRmTG9hZGVyXG4gICAgfSkudGhlbihnbHRmID0+IHtcbiAgICAgIC8vIEFkZCBzb21lIGxpZ2h0cy5cbiAgICAgIGNvbnN0IGFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoJyNGRkZGRkYnKTtcbiAgICAgIGFtYmllbnRMaWdodC5pbnRlbnNpdHkgPSBvcHRpb25zLmFtYmllbnRMaWdodEludGVuc2l0eSB8fCAxLjA7IC8vIEFkZCB0aGUgbGlnaHQgdG8gdGhlIHNjZW5lLlxuXG4gICAgICBnbHRmLnNjZW5lLmFkZChhbWJpZW50TGlnaHQpO1xuICAgICAgdGhpcy5zY2VuZVJlbmRlcmVyLmFkZFNjZW5lKHtcbiAgICAgICAgcmVzaXppbmdBbGdvOiBvcHRpb25zLnJlc2l6aW5nQWxnbyxcbiAgICAgICAgcmVzaXppbmdPcHRpb25zOiBvcHRpb25zLnJlc2l6aW5nT3B0aW9ucyxcbiAgICAgICAgZG9tRWxlbWVudDogZG9tRWxlbWVudCxcbiAgICAgICAgc2NlbmU6IGdsdGYuc2NlbmUsXG4gICAgICAgIGNhbWVyYTogZ2x0Zi5jYW1lcmFzWzBdLFxuICAgICAgICBvbkJlZm9yZVJlbmRlcjogcmVuZGVyZXIgPT4ge1xuICAgICAgICAgIC8vIFNpbmNlIHRoaXMgbG9hZHMgYSBnbHRmLCB3ZSBuZWVkIHRvIGNvcnJlY3Qgb3V0IHRoZSBjb2xvcnMuXG4gICAgICAgICAgcmVuZGVyZXIucGh5c2ljYWxseUNvcnJlY3RMaWdodHMgPSB0cnVlO1xuICAgICAgICAgIHJlbmRlcmVyLmdhbW1hT3V0cHV0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSk7XG4gIH1cblxuICBvblJhZigpIHtcbiAgICB0aGlzLnNjZW5lUmVuZGVyZXIucmVuZGVyKCk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBUaHJlZVNjZW5lUmVuZGVyZXIyOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/three-scene-renderer2.js\n");

/***/ }),

/***/ "./examples/vector-dom.js":
/*!********************************!*\
  !*** ./examples/vector-dom.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _dat = __webpack_require__(/*! dat.gui */ \"./node_modules/dat.gui/build/dat.gui.module.js\");\n\nvar dat = _interopRequireWildcard(_dat);\n\nvar _vectorDom = __webpack_require__(/*! ../lib/dom/vector-dom */ \"./lib/dom/vector-dom.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nclass VectorDomSample {\n  constructor() {\n    this.gui = new dat.GUI();\n    this.vectorBall = new _vectorDom.VectorDom(document.getElementById('ball'));\n    this.vectorBall.setPosition(new _vector.Vector(0, 0, 0)); // We are going to offset the entire element position to the center\n    // of the container.\n\n    this.vectorBall.setOffset(new _vector.Vector(800 / 2, 800 / 2, 0));\n    this.eularRotationAsRotationMatrix = false;\n    this.vectorBall.init();\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.raf.start();\n    let anchor = this.gui.addFolder('Anchor');\n    anchor.add(this.vectorBall, 'anchorX', 0, 1);\n    anchor.add(this.vectorBall, 'anchorY', 0, 1);\n    let projection = this.gui.addFolder('Position');\n    projection.add(this.vectorBall.position, 'x', -180, 180);\n    projection.add(this.vectorBall.position, 'y', -180, 180);\n    projection.add(this.vectorBall.position, 'z', -2, 10);\n    let rotation = this.gui.addFolder('Rotation');\n    rotation.add(this.vectorBall, 'rx', -360, 360);\n    rotation.add(this.vectorBall, 'ry', -360, 360);\n    rotation.add(this.vectorBall, 'rz', -360, 360);\n    rotation.add(this.vectorBall, 'eularRotationAsRotationMatrix');\n  }\n\n  onRaf() {\n    // this.vectorBall.rotation.addEuler(\n    //     20, 90, 30);\n    // this.progress += 0.04;\n    // this.vectorBall.rz = this.progress;\n    // console.log('s', this.vectorBall.rotation);\n    this.vectorBall.render(true);\n  }\n\n}\n\nexports.default = VectorDomSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy92ZWN0b3ItZG9tLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvdmVjdG9yLWRvbS5qcz9mNzlkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RhdCA9IHJlcXVpcmUoXCJkYXQuZ3VpXCIpO1xuXG52YXIgZGF0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2RhdCk7XG5cbnZhciBfdmVjdG9yRG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb20vdmVjdG9yLWRvbVwiKTtcblxudmFyIF9yYWYgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWZcIik7XG5cbnZhciBfdmVjdG9yID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi92ZWN0b3JcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuY2xhc3MgVmVjdG9yRG9tU2FtcGxlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5ndWkgPSBuZXcgZGF0LkdVSSgpO1xuICAgIHRoaXMudmVjdG9yQmFsbCA9IG5ldyBfdmVjdG9yRG9tLlZlY3RvckRvbShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFsbCcpKTtcbiAgICB0aGlzLnZlY3RvckJhbGwuc2V0UG9zaXRpb24obmV3IF92ZWN0b3IuVmVjdG9yKDAsIDAsIDApKTsgLy8gV2UgYXJlIGdvaW5nIHRvIG9mZnNldCB0aGUgZW50aXJlIGVsZW1lbnQgcG9zaXRpb24gdG8gdGhlIGNlbnRlclxuICAgIC8vIG9mIHRoZSBjb250YWluZXIuXG5cbiAgICB0aGlzLnZlY3RvckJhbGwuc2V0T2Zmc2V0KG5ldyBfdmVjdG9yLlZlY3Rvcig4MDAgLyAyLCA4MDAgLyAyLCAwKSk7XG4gICAgdGhpcy5ldWxhclJvdGF0aW9uQXNSb3RhdGlvbk1hdHJpeCA9IGZhbHNlO1xuICAgIHRoaXMudmVjdG9yQmFsbC5pbml0KCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgX3JhZi5SYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICAgIGxldCBhbmNob3IgPSB0aGlzLmd1aS5hZGRGb2xkZXIoJ0FuY2hvcicpO1xuICAgIGFuY2hvci5hZGQodGhpcy52ZWN0b3JCYWxsLCAnYW5jaG9yWCcsIDAsIDEpO1xuICAgIGFuY2hvci5hZGQodGhpcy52ZWN0b3JCYWxsLCAnYW5jaG9yWScsIDAsIDEpO1xuICAgIGxldCBwcm9qZWN0aW9uID0gdGhpcy5ndWkuYWRkRm9sZGVyKCdQb3NpdGlvbicpO1xuICAgIHByb2plY3Rpb24uYWRkKHRoaXMudmVjdG9yQmFsbC5wb3NpdGlvbiwgJ3gnLCAtMTgwLCAxODApO1xuICAgIHByb2plY3Rpb24uYWRkKHRoaXMudmVjdG9yQmFsbC5wb3NpdGlvbiwgJ3knLCAtMTgwLCAxODApO1xuICAgIHByb2plY3Rpb24uYWRkKHRoaXMudmVjdG9yQmFsbC5wb3NpdGlvbiwgJ3onLCAtMiwgMTApO1xuICAgIGxldCByb3RhdGlvbiA9IHRoaXMuZ3VpLmFkZEZvbGRlcignUm90YXRpb24nKTtcbiAgICByb3RhdGlvbi5hZGQodGhpcy52ZWN0b3JCYWxsLCAncngnLCAtMzYwLCAzNjApO1xuICAgIHJvdGF0aW9uLmFkZCh0aGlzLnZlY3RvckJhbGwsICdyeScsIC0zNjAsIDM2MCk7XG4gICAgcm90YXRpb24uYWRkKHRoaXMudmVjdG9yQmFsbCwgJ3J6JywgLTM2MCwgMzYwKTtcbiAgICByb3RhdGlvbi5hZGQodGhpcy52ZWN0b3JCYWxsLCAnZXVsYXJSb3RhdGlvbkFzUm90YXRpb25NYXRyaXgnKTtcbiAgfVxuXG4gIG9uUmFmKCkge1xuICAgIC8vIHRoaXMudmVjdG9yQmFsbC5yb3RhdGlvbi5hZGRFdWxlcihcbiAgICAvLyAgICAgMjAsIDkwLCAzMCk7XG4gICAgLy8gdGhpcy5wcm9ncmVzcyArPSAwLjA0O1xuICAgIC8vIHRoaXMudmVjdG9yQmFsbC5yeiA9IHRoaXMucHJvZ3Jlc3M7XG4gICAgLy8gY29uc29sZS5sb2coJ3MnLCB0aGlzLnZlY3RvckJhbGwucm90YXRpb24pO1xuICAgIHRoaXMudmVjdG9yQmFsbC5yZW5kZXIodHJ1ZSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBWZWN0b3JEb21TYW1wbGU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/vector-dom.js\n");

/***/ }),

/***/ "./examples/vector-dom2.js":
/*!*********************************!*\
  !*** ./examples/vector-dom2.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _dat = __webpack_require__(/*! dat.gui */ \"./node_modules/dat.gui/build/dat.gui.module.js\");\n\nvar dat = _interopRequireWildcard(_dat);\n\nvar _vectorDom = __webpack_require__(/*! ../lib/dom/vector-dom */ \"./lib/dom/vector-dom.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nclass VectorDomSample2 {\n  constructor() {\n    this.gui = new dat.GUI();\n    this.balls = Array.from(document.querySelectorAll('.ball'));\n    this.ballVectors = [];\n\n    const createBall = (id, x, y, z, sway) => {\n      let ballVector = new _vectorDom.VectorDom(document.getElementById(id)); // By default, VectorDom will stop running when element goes\n      // out of view so we turn this feature off.\n\n      ballVector.renderOnlyWhenInview = false; // Rougly and manually set it to the center of the screen.\n\n      ballVector.setOffset(new _vector.Vector(800 / 2 - 100, 800 / 2, 0));\n      ballVector.moveX = _mathf.mathf.getRandomFloat(-15, 15);\n      ballVector.moveY = _mathf.mathf.getRandomFloat(-5, 5);\n      ballVector.moveZ = _mathf.mathf.getRandomFloat(-0.01, 0.01);\n      ballVector.rotateX = _mathf.mathf.getRandomFloat(-180, 180);\n      ballVector.rotateY = _mathf.mathf.getRandomFloat(-180, 180);\n      ballVector.rotateZ = _mathf.mathf.getRandomFloat(-180, 180);\n      ballVector.sway = sway; // This demonstrates continously adding degrees to keep rotating\n      // an element.\n\n      ballVector.randomRotation = _mathf.mathf.getRandomFloat(-90, 90.5);\n      ballVector.setPosition(new _vector.Vector(x, y, z));\n      ballVector.init();\n      this.ballVectors.push(ballVector);\n    };\n\n    createBall('ball1', -100, 100, 2, true);\n    createBall('ball2', 100, 100, -0.5);\n    createBall('ball3', -100, -100, -0.2, true);\n    createBall('ball4', -100, -100, 1, true);\n    createBall('ball5', -100, 100, 0.5);\n    createBall('ball6', 100, 100, 0.2, true);\n    createBall('ball7', 100, -100, 0.5);\n    createBall('ball8', 100, -100, 1);\n    this.timer = 0;\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.raf.start();\n  }\n\n  onRaf(delta) {\n    this.timer += 0.04;\n    const sin = Math.sin(this.timer);\n    this.ballVectors.forEach(ballVector => {\n      let position = new _vector.Vector(ballVector.moveX * sin, ballVector.moveY * sin, ballVector.moveZ * sin);\n      ballVector.position.add(position); // Slerp the rotatation. Goes back and worth.\n\n      if (ballVector.sway) {\n        ballVector.rotation.slerpEuler(ballVector.rotateX * sin, ballVector.rotateY * sin, ballVector.rotateZ * sin, 0.25);\n      } else {\n        // Constant rotation rotation.\n        ballVector.rotation.addEuler(ballVector.randomRotation, ballVector.randomRotation, ballVector.randomRotation);\n      }\n\n      ballVector.render();\n    });\n  }\n\n}\n\nexports.default = VectorDomSample2;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy92ZWN0b3ItZG9tMi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3ZlY3Rvci1kb20yLmpzPzUwZjEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGF0ID0gcmVxdWlyZShcImRhdC5ndWlcIik7XG5cbnZhciBkYXQgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZGF0KTtcblxudmFyIF92ZWN0b3JEb20gPSByZXF1aXJlKFwiLi4vbGliL2RvbS92ZWN0b3ItZG9tXCIpO1xuXG52YXIgX3JhZiA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZlwiKTtcblxudmFyIF92ZWN0b3IgPSByZXF1aXJlKFwiLi4vbGliL21hdGhmL3ZlY3RvclwiKTtcblxudmFyIF9tYXRoZiA9IHJlcXVpcmUoXCIuLi9saWIvbWF0aGYvbWF0aGZcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuY2xhc3MgVmVjdG9yRG9tU2FtcGxlMiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZ3VpID0gbmV3IGRhdC5HVUkoKTtcbiAgICB0aGlzLmJhbGxzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYmFsbCcpKTtcbiAgICB0aGlzLmJhbGxWZWN0b3JzID0gW107XG5cbiAgICBjb25zdCBjcmVhdGVCYWxsID0gKGlkLCB4LCB5LCB6LCBzd2F5KSA9PiB7XG4gICAgICBsZXQgYmFsbFZlY3RvciA9IG5ldyBfdmVjdG9yRG9tLlZlY3RvckRvbShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpOyAvLyBCeSBkZWZhdWx0LCBWZWN0b3JEb20gd2lsbCBzdG9wIHJ1bm5pbmcgd2hlbiBlbGVtZW50IGdvZXNcbiAgICAgIC8vIG91dCBvZiB2aWV3IHNvIHdlIHR1cm4gdGhpcyBmZWF0dXJlIG9mZi5cblxuICAgICAgYmFsbFZlY3Rvci5yZW5kZXJPbmx5V2hlbkludmlldyA9IGZhbHNlOyAvLyBSb3VnbHkgYW5kIG1hbnVhbGx5IHNldCBpdCB0byB0aGUgY2VudGVyIG9mIHRoZSBzY3JlZW4uXG5cbiAgICAgIGJhbGxWZWN0b3Iuc2V0T2Zmc2V0KG5ldyBfdmVjdG9yLlZlY3Rvcig4MDAgLyAyIC0gMTAwLCA4MDAgLyAyLCAwKSk7XG4gICAgICBiYWxsVmVjdG9yLm1vdmVYID0gX21hdGhmLm1hdGhmLmdldFJhbmRvbUZsb2F0KC0xNSwgMTUpO1xuICAgICAgYmFsbFZlY3Rvci5tb3ZlWSA9IF9tYXRoZi5tYXRoZi5nZXRSYW5kb21GbG9hdCgtNSwgNSk7XG4gICAgICBiYWxsVmVjdG9yLm1vdmVaID0gX21hdGhmLm1hdGhmLmdldFJhbmRvbUZsb2F0KC0wLjAxLCAwLjAxKTtcbiAgICAgIGJhbGxWZWN0b3Iucm90YXRlWCA9IF9tYXRoZi5tYXRoZi5nZXRSYW5kb21GbG9hdCgtMTgwLCAxODApO1xuICAgICAgYmFsbFZlY3Rvci5yb3RhdGVZID0gX21hdGhmLm1hdGhmLmdldFJhbmRvbUZsb2F0KC0xODAsIDE4MCk7XG4gICAgICBiYWxsVmVjdG9yLnJvdGF0ZVogPSBfbWF0aGYubWF0aGYuZ2V0UmFuZG9tRmxvYXQoLTE4MCwgMTgwKTtcbiAgICAgIGJhbGxWZWN0b3Iuc3dheSA9IHN3YXk7IC8vIFRoaXMgZGVtb25zdHJhdGVzIGNvbnRpbm91c2x5IGFkZGluZyBkZWdyZWVzIHRvIGtlZXAgcm90YXRpbmdcbiAgICAgIC8vIGFuIGVsZW1lbnQuXG5cbiAgICAgIGJhbGxWZWN0b3IucmFuZG9tUm90YXRpb24gPSBfbWF0aGYubWF0aGYuZ2V0UmFuZG9tRmxvYXQoLTkwLCA5MC41KTtcbiAgICAgIGJhbGxWZWN0b3Iuc2V0UG9zaXRpb24obmV3IF92ZWN0b3IuVmVjdG9yKHgsIHksIHopKTtcbiAgICAgIGJhbGxWZWN0b3IuaW5pdCgpO1xuICAgICAgdGhpcy5iYWxsVmVjdG9ycy5wdXNoKGJhbGxWZWN0b3IpO1xuICAgIH07XG5cbiAgICBjcmVhdGVCYWxsKCdiYWxsMScsIC0xMDAsIDEwMCwgMiwgdHJ1ZSk7XG4gICAgY3JlYXRlQmFsbCgnYmFsbDInLCAxMDAsIDEwMCwgLTAuNSk7XG4gICAgY3JlYXRlQmFsbCgnYmFsbDMnLCAtMTAwLCAtMTAwLCAtMC4yLCB0cnVlKTtcbiAgICBjcmVhdGVCYWxsKCdiYWxsNCcsIC0xMDAsIC0xMDAsIDEsIHRydWUpO1xuICAgIGNyZWF0ZUJhbGwoJ2JhbGw1JywgLTEwMCwgMTAwLCAwLjUpO1xuICAgIGNyZWF0ZUJhbGwoJ2JhbGw2JywgMTAwLCAxMDAsIDAuMiwgdHJ1ZSk7XG4gICAgY3JlYXRlQmFsbCgnYmFsbDcnLCAxMDAsIC0xMDAsIDAuNSk7XG4gICAgY3JlYXRlQmFsbCgnYmFsbDgnLCAxMDAsIC0xMDAsIDEpO1xuICAgIHRoaXMudGltZXIgPSAwO1xuICAgIHRoaXMucmFmID0gbmV3IF9yYWYuUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIG9uUmFmKGRlbHRhKSB7XG4gICAgdGhpcy50aW1lciArPSAwLjA0O1xuICAgIGNvbnN0IHNpbiA9IE1hdGguc2luKHRoaXMudGltZXIpO1xuICAgIHRoaXMuYmFsbFZlY3RvcnMuZm9yRWFjaChiYWxsVmVjdG9yID0+IHtcbiAgICAgIGxldCBwb3NpdGlvbiA9IG5ldyBfdmVjdG9yLlZlY3RvcihiYWxsVmVjdG9yLm1vdmVYICogc2luLCBiYWxsVmVjdG9yLm1vdmVZICogc2luLCBiYWxsVmVjdG9yLm1vdmVaICogc2luKTtcbiAgICAgIGJhbGxWZWN0b3IucG9zaXRpb24uYWRkKHBvc2l0aW9uKTsgLy8gU2xlcnAgdGhlIHJvdGF0YXRpb24uIEdvZXMgYmFjayBhbmQgd29ydGguXG5cbiAgICAgIGlmIChiYWxsVmVjdG9yLnN3YXkpIHtcbiAgICAgICAgYmFsbFZlY3Rvci5yb3RhdGlvbi5zbGVycEV1bGVyKGJhbGxWZWN0b3Iucm90YXRlWCAqIHNpbiwgYmFsbFZlY3Rvci5yb3RhdGVZICogc2luLCBiYWxsVmVjdG9yLnJvdGF0ZVogKiBzaW4sIDAuMjUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ29uc3RhbnQgcm90YXRpb24gcm90YXRpb24uXG4gICAgICAgIGJhbGxWZWN0b3Iucm90YXRpb24uYWRkRXVsZXIoYmFsbFZlY3Rvci5yYW5kb21Sb3RhdGlvbiwgYmFsbFZlY3Rvci5yYW5kb21Sb3RhdGlvbiwgYmFsbFZlY3Rvci5yYW5kb21Sb3RhdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGJhbGxWZWN0b3IucmVuZGVyKCk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBWZWN0b3JEb21TYW1wbGUyOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/vector-dom2.js\n");

/***/ }),

/***/ "./examples/vector-dom3.js":
/*!*********************************!*\
  !*** ./examples/vector-dom3.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _dat = __webpack_require__(/*! dat.gui */ \"./node_modules/dat.gui/build/dat.gui.module.js\");\n\nvar dat = _interopRequireWildcard(_dat);\n\nvar _vectorDom = __webpack_require__(/*! ../lib/dom/vector-dom */ \"./lib/dom/vector-dom.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nvar _mouseTracker = __webpack_require__(/*! ../lib/dom/mouse-tracker */ \"./lib/dom/mouse-tracker.js\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nclass VectorDomSample3 {\n  constructor() {\n    this.gui = new dat.GUI();\n    console.log('vectorDOM3');\n    this.vectorBall = new _vectorDom.VectorDom(document.getElementById('ball'));\n    this.vectorBall.anchorX = 0;\n    this.vectorBall.anchorY = 0;\n    this.vectorBall.setPosition(new _vector.Vector(0, 0, 0.8 - 1));\n    this.vectorBall.init();\n    this.vectorBall2 = new _vectorDom.VectorDom(document.getElementById('ball2'));\n    this.vectorBall2.anchorX = 0.5;\n    this.vectorBall2.anchorY = 0.5;\n    this.vectorBall2.setPosition(new _vector.Vector(0, 0, 1.3 - 1));\n    this.vectorBall2.setOffset(new _vector.Vector(100, -200, 0));\n    this.vectorBall2.init();\n    this.text = new _vectorDom.VectorDom(document.getElementById('text'));\n    this.text.anchorX = 0;\n    this.text.anchorY = 0;\n    this.text.setPosition(new _vector.Vector(100, 200, 1.2 - 1));\n    this.text.init();\n    this.raf = new _raf.Raf(this.onRaf.bind(this));\n    this.raf.start();\n  }\n\n  onRaf() {\n    // this.text._.force.mouseRotationForce(\n    //     -0.002, -0.02, 0, 0.16\n    // );\n    this.vectorBall2._.force.mouseRotationForce(0.02, 0.02, 0, 0.02);\n\n    this.vectorBall._.force.scrollYRotationForce(-0.004, 0); // this.vectorBall2.rx += 0.003;\n    // this.vectorBall2._.force.addScrollYRotationForce(\n    //     0,\n    //     -0.004\n    // );\n\n\n    this.vectorBall.render();\n    this.vectorBall2.render(); // this.text.render();\n  }\n\n}\n\nexports.default = VectorDomSample3;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy92ZWN0b3ItZG9tMy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3ZlY3Rvci1kb20zLmpzP2NhZmEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGF0ID0gcmVxdWlyZShcImRhdC5ndWlcIik7XG5cbnZhciBkYXQgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZGF0KTtcblxudmFyIF92ZWN0b3JEb20gPSByZXF1aXJlKFwiLi4vbGliL2RvbS92ZWN0b3ItZG9tXCIpO1xuXG52YXIgX3JhZiA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZlwiKTtcblxudmFyIF92ZWN0b3IgPSByZXF1aXJlKFwiLi4vbGliL21hdGhmL3ZlY3RvclwiKTtcblxudmFyIF9tb3VzZVRyYWNrZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9tb3VzZS10cmFja2VyXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9OyBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cbmNsYXNzIFZlY3RvckRvbVNhbXBsZTMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmd1aSA9IG5ldyBkYXQuR1VJKCk7XG4gICAgY29uc29sZS5sb2coJ3ZlY3RvckRPTTMnKTtcbiAgICB0aGlzLnZlY3RvckJhbGwgPSBuZXcgX3ZlY3RvckRvbS5WZWN0b3JEb20oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhbGwnKSk7XG4gICAgdGhpcy52ZWN0b3JCYWxsLmFuY2hvclggPSAwO1xuICAgIHRoaXMudmVjdG9yQmFsbC5hbmNob3JZID0gMDtcbiAgICB0aGlzLnZlY3RvckJhbGwuc2V0UG9zaXRpb24obmV3IF92ZWN0b3IuVmVjdG9yKDAsIDAsIDAuOCAtIDEpKTtcbiAgICB0aGlzLnZlY3RvckJhbGwuaW5pdCgpO1xuICAgIHRoaXMudmVjdG9yQmFsbDIgPSBuZXcgX3ZlY3RvckRvbS5WZWN0b3JEb20oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhbGwyJykpO1xuICAgIHRoaXMudmVjdG9yQmFsbDIuYW5jaG9yWCA9IDAuNTtcbiAgICB0aGlzLnZlY3RvckJhbGwyLmFuY2hvclkgPSAwLjU7XG4gICAgdGhpcy52ZWN0b3JCYWxsMi5zZXRQb3NpdGlvbihuZXcgX3ZlY3Rvci5WZWN0b3IoMCwgMCwgMS4zIC0gMSkpO1xuICAgIHRoaXMudmVjdG9yQmFsbDIuc2V0T2Zmc2V0KG5ldyBfdmVjdG9yLlZlY3RvcigxMDAsIC0yMDAsIDApKTtcbiAgICB0aGlzLnZlY3RvckJhbGwyLmluaXQoKTtcbiAgICB0aGlzLnRleHQgPSBuZXcgX3ZlY3RvckRvbS5WZWN0b3JEb20oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RleHQnKSk7XG4gICAgdGhpcy50ZXh0LmFuY2hvclggPSAwO1xuICAgIHRoaXMudGV4dC5hbmNob3JZID0gMDtcbiAgICB0aGlzLnRleHQuc2V0UG9zaXRpb24obmV3IF92ZWN0b3IuVmVjdG9yKDEwMCwgMjAwLCAxLjIgLSAxKSk7XG4gICAgdGhpcy50ZXh0LmluaXQoKTtcbiAgICB0aGlzLnJhZiA9IG5ldyBfcmFmLlJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBvblJhZigpIHtcbiAgICAvLyB0aGlzLnRleHQuXy5mb3JjZS5tb3VzZVJvdGF0aW9uRm9yY2UoXG4gICAgLy8gICAgIC0wLjAwMiwgLTAuMDIsIDAsIDAuMTZcbiAgICAvLyApO1xuICAgIHRoaXMudmVjdG9yQmFsbDIuXy5mb3JjZS5tb3VzZVJvdGF0aW9uRm9yY2UoMC4wMiwgMC4wMiwgMCwgMC4wMik7XG5cbiAgICB0aGlzLnZlY3RvckJhbGwuXy5mb3JjZS5zY3JvbGxZUm90YXRpb25Gb3JjZSgtMC4wMDQsIDApOyAvLyB0aGlzLnZlY3RvckJhbGwyLnJ4ICs9IDAuMDAzO1xuICAgIC8vIHRoaXMudmVjdG9yQmFsbDIuXy5mb3JjZS5hZGRTY3JvbGxZUm90YXRpb25Gb3JjZShcbiAgICAvLyAgICAgMCxcbiAgICAvLyAgICAgLTAuMDA0XG4gICAgLy8gKTtcblxuXG4gICAgdGhpcy52ZWN0b3JCYWxsLnJlbmRlcigpO1xuICAgIHRoaXMudmVjdG9yQmFsbDIucmVuZGVyKCk7IC8vIHRoaXMudGV4dC5yZW5kZXIoKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFZlY3RvckRvbVNhbXBsZTM7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/vector-dom3.js\n");

/***/ }),

/***/ "./examples/video-progress.js":
/*!************************************!*\
  !*** ./examples/video-progress.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _videoProgress = __webpack_require__(/*! ../lib/dom/video-progress */ \"./lib/dom/video-progress.js\");\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _scrollRenderFix = __webpack_require__(/*! ../lib/dom/scroll-render-fix */ \"./lib/dom/scroll-render-fix.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\n/**\n * Experimental class that ties updates an html5 video with progress.\n * The problem with this approach is that the video is updated via,\n * currentTime which fires very slowly depending on video size\n * and browser.\n *\n * Currently, this seems to only work on Safari and Chrome if the video\n * file is compressed and small enough.\n *\n * Not recommended this for production use.\n *\n * ffmpeg -i video-test.mp4 -r 30 -g 1 -an -loglevel panic -vcodec copy -acodec copy video-test2.mp4\n * -r sets frame rate\n * -g sets a keyframe every frame.\n *\n * @experimental\n */\nclass VideoProgressSample {\n  constructor() {\n    let wrapper = document.getElementById('wrapper');\n    let video = document.getElementById('video');\n    const rafProgress = new _rafProgress.RafProgress();\n    this.videoProgress = new _videoProgress.VideoProgress(video); // Update rafProgress when the window scrolls.\n\n    window.addEventListener('scroll', () => {\n      // Set the progress of the video.\n      let progress = _dom.dom.getElementScrolledPercent(wrapper);\n\n      rafProgress.easeTo(progress, 0.25, _ease.EASE.easeInOutQuad);\n    }); // When the rafProgress updates, update the videoProgress\n    // with the latest.\n\n    rafProgress.watch((easedProgress, direction) => {\n      this.videoProgress.setProgress(easedProgress);\n    }); // When the video loads.\n\n    this.videoProgress.load().then(() => {\n      console.log('video loaded'); // Update the current progress.\n\n      let progress = _dom.dom.getElementScrolledPercent(wrapper);\n\n      rafProgress.setCurrentProgress(progress);\n    });\n  }\n\n}\n\nexports.default = VideoProgressSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy92aWRlby1wcm9ncmVzcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3ZpZGVvLXByb2dyZXNzLmpzP2I5NTYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdmlkZW9Qcm9ncmVzcyA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL3ZpZGVvLXByb2dyZXNzXCIpO1xuXG52YXIgX3JhZlByb2dyZXNzID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmLXByb2dyZXNzXCIpO1xuXG52YXIgX2RvbSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbVwiKTtcblxudmFyIF9zY3JvbGxSZW5kZXJGaXggPSByZXF1aXJlKFwiLi4vbGliL2RvbS9zY3JvbGwtcmVuZGVyLWZpeFwiKTtcblxudmFyIF9lYXNlID0gcmVxdWlyZShcIi4uL2xpYi9lYXNlL2Vhc2VcIik7XG5cbi8qKlxuICogRXhwZXJpbWVudGFsIGNsYXNzIHRoYXQgdGllcyB1cGRhdGVzIGFuIGh0bWw1IHZpZGVvIHdpdGggcHJvZ3Jlc3MuXG4gKiBUaGUgcHJvYmxlbSB3aXRoIHRoaXMgYXBwcm9hY2ggaXMgdGhhdCB0aGUgdmlkZW8gaXMgdXBkYXRlZCB2aWEsXG4gKiBjdXJyZW50VGltZSB3aGljaCBmaXJlcyB2ZXJ5IHNsb3dseSBkZXBlbmRpbmcgb24gdmlkZW8gc2l6ZVxuICogYW5kIGJyb3dzZXIuXG4gKlxuICogQ3VycmVudGx5LCB0aGlzIHNlZW1zIHRvIG9ubHkgd29yayBvbiBTYWZhcmkgYW5kIENocm9tZSBpZiB0aGUgdmlkZW9cbiAqIGZpbGUgaXMgY29tcHJlc3NlZCBhbmQgc21hbGwgZW5vdWdoLlxuICpcbiAqIE5vdCByZWNvbW1lbmRlZCB0aGlzIGZvciBwcm9kdWN0aW9uIHVzZS5cbiAqXG4gKiBmZm1wZWcgLWkgdmlkZW8tdGVzdC5tcDQgLXIgMzAgLWcgMSAtYW4gLWxvZ2xldmVsIHBhbmljIC12Y29kZWMgY29weSAtYWNvZGVjIGNvcHkgdmlkZW8tdGVzdDIubXA0XG4gKiAtciBzZXRzIGZyYW1lIHJhdGVcbiAqIC1nIHNldHMgYSBrZXlmcmFtZSBldmVyeSBmcmFtZS5cbiAqXG4gKiBAZXhwZXJpbWVudGFsXG4gKi9cbmNsYXNzIFZpZGVvUHJvZ3Jlc3NTYW1wbGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBsZXQgd3JhcHBlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3cmFwcGVyJyk7XG4gICAgbGV0IHZpZGVvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvJyk7XG4gICAgY29uc3QgcmFmUHJvZ3Jlc3MgPSBuZXcgX3JhZlByb2dyZXNzLlJhZlByb2dyZXNzKCk7XG4gICAgdGhpcy52aWRlb1Byb2dyZXNzID0gbmV3IF92aWRlb1Byb2dyZXNzLlZpZGVvUHJvZ3Jlc3ModmlkZW8pOyAvLyBVcGRhdGUgcmFmUHJvZ3Jlc3Mgd2hlbiB0aGUgd2luZG93IHNjcm9sbHMuXG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuICAgICAgLy8gU2V0IHRoZSBwcm9ncmVzcyBvZiB0aGUgdmlkZW8uXG4gICAgICBsZXQgcHJvZ3Jlc3MgPSBfZG9tLmRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHdyYXBwZXIpO1xuXG4gICAgICByYWZQcm9ncmVzcy5lYXNlVG8ocHJvZ3Jlc3MsIDAuMjUsIF9lYXNlLkVBU0UuZWFzZUluT3V0UXVhZCk7XG4gICAgfSk7IC8vIFdoZW4gdGhlIHJhZlByb2dyZXNzIHVwZGF0ZXMsIHVwZGF0ZSB0aGUgdmlkZW9Qcm9ncmVzc1xuICAgIC8vIHdpdGggdGhlIGxhdGVzdC5cblxuICAgIHJhZlByb2dyZXNzLndhdGNoKChlYXNlZFByb2dyZXNzLCBkaXJlY3Rpb24pID0+IHtcbiAgICAgIHRoaXMudmlkZW9Qcm9ncmVzcy5zZXRQcm9ncmVzcyhlYXNlZFByb2dyZXNzKTtcbiAgICB9KTsgLy8gV2hlbiB0aGUgdmlkZW8gbG9hZHMuXG5cbiAgICB0aGlzLnZpZGVvUHJvZ3Jlc3MubG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3ZpZGVvIGxvYWRlZCcpOyAvLyBVcGRhdGUgdGhlIGN1cnJlbnQgcHJvZ3Jlc3MuXG5cbiAgICAgIGxldCBwcm9ncmVzcyA9IF9kb20uZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQod3JhcHBlcik7XG5cbiAgICAgIHJhZlByb2dyZXNzLnNldEN1cnJlbnRQcm9ncmVzcyhwcm9ncmVzcyk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBWaWRlb1Byb2dyZXNzU2FtcGxlOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/video-progress.js\n");

/***/ }),

/***/ "./examples/webgl-image-sequence.js":
/*!******************************************!*\
  !*** ./examples/webgl-image-sequence.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _webglImageSequence = __webpack_require__(/*! ../lib/dom/webgl-image-sequence */ \"./lib/dom/webgl-image-sequence.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\nclass WebGlImageSequenceSample {\n  constructor() {\n    console.log('webgl image sequence');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _rafProgress.RafProgress(); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n        this.rafProgress.easeTo(this.progress, 0.25, _ease.EASE.Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.imageSources = [];\n\n    for (let i = 1; i <= 153; i++) {\n      let value = i + '';\n      value = value.padStart(4, '0');\n      this.imageSources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.webglImageSequence = new _webglImageSequence.WebGlImageSequence(this.canvasContainerElement, [{\n      images: this.imageSources\n    }], {\n      ariaLabel: 'Aria Label Test'\n    }); // Load the iamges.\n\n    this.webglImageSequence.load().then(() => {\n      // When ready render whatever the current easedProgress value is.\n      this.webglImageSequence.renderByProgress(this.rafProgress.currentProgress);\n    });\n  }\n\n  onProgressUpdate(easedProgress, direction) {\n    this.webglImageSequence.renderByProgress(easedProgress);\n  }\n\n}\n\nexports.default = WebGlImageSequenceSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3dlYmdsLWltYWdlLXNlcXVlbmNlLmpzPzJmNTYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmFmUHJvZ3Jlc3MgPSByZXF1aXJlKFwiLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3NcIik7XG5cbnZhciBfd2ViZ2xJbWFnZVNlcXVlbmNlID0gcmVxdWlyZShcIi4uL2xpYi9kb20vd2ViZ2wtaW1hZ2Utc2VxdWVuY2VcIik7XG5cbnZhciBfZWFzZSA9IHJlcXVpcmUoXCIuLi9saWIvZWFzZS9lYXNlXCIpO1xuXG52YXIgX2RvbSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tL2RvbVwiKTtcblxudmFyIF9kb21XYXRjaGVyID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tLXdhdGNoZXJcIik7XG5cbmNsYXNzIFdlYkdsSW1hZ2VTZXF1ZW5jZVNhbXBsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCd3ZWJnbCBpbWFnZSBzZXF1ZW5jZScpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyZW50Jyk7IC8vIEluc3RhbmNlIG9mIHJhZlByb2dyZXNzLlxuXG4gICAgdGhpcy5yYWZQcm9ncmVzcyA9IG5ldyBfcmFmUHJvZ3Jlc3MuUmFmUHJvZ3Jlc3MoKTsgLy8gVXBkYXRlIHRoZSBwcm9ncmVzcyB2YWx1ZSBwZXIgc2Nyb2xsLlxuXG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Njcm9sbCcsXG4gICAgICBjYWxsYmFjazogZXZlbnQgPT4ge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjI1LCBfZWFzZS5FQVNFLkxpbmVhcik7XG4gICAgICB9LFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTsgLy8gVXBkYXRlIHByb2dyZXNzIGltbWVkaWF0ZWx5IG9uIGxvYWQuXG5cbiAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDEsIF9lYXNlLkVBU0UuTGluZWFyKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTsgLy8gR2VuZXJhdGUgaW1hZ2Ugc291cmNlcy5cblxuICAgIHRoaXMuaW1hZ2VTb3VyY2VzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSAxNTM7IGkrKykge1xuICAgICAgbGV0IHZhbHVlID0gaSArICcnO1xuICAgICAgdmFsdWUgPSB2YWx1ZS5wYWRTdGFydCg0LCAnMCcpO1xuICAgICAgdGhpcy5pbWFnZVNvdXJjZXMucHVzaCgnLi9wdWJsaWMvZnJhbWVzL3RodW1iJyArIHZhbHVlICsgJy5qcGcnKTtcbiAgICB9IC8vIENyZWF0ZSBDYW52YXMgSW1hZ2UgU2VxdWVuZWNlXG5cblxuICAgIHRoaXMud2ViZ2xJbWFnZVNlcXVlbmNlID0gbmV3IF93ZWJnbEltYWdlU2VxdWVuY2UuV2ViR2xJbWFnZVNlcXVlbmNlKHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCwgW3tcbiAgICAgIGltYWdlczogdGhpcy5pbWFnZVNvdXJjZXNcbiAgICB9XSwge1xuICAgICAgYXJpYUxhYmVsOiAnQXJpYSBMYWJlbCBUZXN0J1xuICAgIH0pOyAvLyBMb2FkIHRoZSBpYW1nZXMuXG5cbiAgICB0aGlzLndlYmdsSW1hZ2VTZXF1ZW5jZS5sb2FkKCkudGhlbigoKSA9PiB7XG4gICAgICAvLyBXaGVuIHJlYWR5IHJlbmRlciB3aGF0ZXZlciB0aGUgY3VycmVudCBlYXNlZFByb2dyZXNzIHZhbHVlIGlzLlxuICAgICAgdGhpcy53ZWJnbEltYWdlU2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcyh0aGlzLnJhZlByb2dyZXNzLmN1cnJlbnRQcm9ncmVzcyk7XG4gICAgfSk7XG4gIH1cblxuICBvblByb2dyZXNzVXBkYXRlKGVhc2VkUHJvZ3Jlc3MsIGRpcmVjdGlvbikge1xuICAgIHRoaXMud2ViZ2xJbWFnZVNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoZWFzZWRQcm9ncmVzcyk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBXZWJHbEltYWdlU2VxdWVuY2VTYW1wbGU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/webgl-image-sequence.js\n");

/***/ }),

/***/ "./examples/webgl-image-sequence2.js":
/*!*******************************************!*\
  !*** ./examples/webgl-image-sequence2.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _webglImageSequence = __webpack_require__(/*! ../lib/dom/webgl-image-sequence */ \"./lib/dom/webgl-image-sequence.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\n/**\n * This sample expands on canvas image sequence sample 1 and demonstrates\n * usage of multiinterpolate.\n */\nclass WebGlImageSequenceSample2 {\n  constructor() {\n    console.log('webgl image sequence2');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _rafProgress.RafProgress(); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n        this.rafProgress.easeTo(this.progress, 0.25, _ease.EASE.Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.sources = [];\n\n    for (let i = 1; i <= 153; i++) {\n      let value = i + '';\n      value = value.padStart(4, '0');\n      this.sources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.webglImageSequence = new _webglImageSequence.WebGlImageSequence(this.canvasContainerElement, [{\n      images: this.sources\n    }]);\n    let progressPoints = [{\n      from: 0,\n      to: 0.5,\n      start: 0,\n      end: 1\n    }, {\n      from: 0.5,\n      to: 1,\n      start: 1,\n      end: 0\n    }];\n    this.webglImageSequence.setMultiInterpolation(progressPoints); // Load the iamges.\n\n    this.webglImageSequence.load().then(() => {\n      // When ready render whatever the current easedProgress value is.\n      this.webglImageSequence.renderByProgress(this.rafProgress.currentProgress);\n    });\n  }\n\n  onProgressUpdate(easedProgress, direction) {\n    this.webglImageSequence.renderByProgress(easedProgress);\n  }\n\n}\n\nexports.default = WebGlImageSequenceSample2;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTIuanM/NDA0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yYWZQcm9ncmVzcyA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZi1wcm9ncmVzc1wiKTtcblxudmFyIF93ZWJnbEltYWdlU2VxdWVuY2UgPSByZXF1aXJlKFwiLi4vbGliL2RvbS93ZWJnbC1pbWFnZS1zZXF1ZW5jZVwiKTtcblxudmFyIF9lYXNlID0gcmVxdWlyZShcIi4uL2xpYi9lYXNlL2Vhc2VcIik7XG5cbnZhciBfZG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxuLyoqXG4gKiBUaGlzIHNhbXBsZSBleHBhbmRzIG9uIGNhbnZhcyBpbWFnZSBzZXF1ZW5jZSBzYW1wbGUgMSBhbmQgZGVtb25zdHJhdGVzXG4gKiB1c2FnZSBvZiBtdWx0aWludGVycG9sYXRlLlxuICovXG5jbGFzcyBXZWJHbEltYWdlU2VxdWVuY2VTYW1wbGUyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc29sZS5sb2coJ3dlYmdsIGltYWdlIHNlcXVlbmNlMicpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyZW50Jyk7IC8vIEluc3RhbmNlIG9mIHJhZlByb2dyZXNzLlxuXG4gICAgdGhpcy5yYWZQcm9ncmVzcyA9IG5ldyBfcmFmUHJvZ3Jlc3MuUmFmUHJvZ3Jlc3MoKTsgLy8gVXBkYXRlIHRoZSBwcm9ncmVzcyB2YWx1ZSBwZXIgc2Nyb2xsLlxuXG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Njcm9sbCcsXG4gICAgICBjYWxsYmFjazogZXZlbnQgPT4ge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjI1LCBfZWFzZS5FQVNFLkxpbmVhcik7XG4gICAgICB9LFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTsgLy8gVXBkYXRlIHByb2dyZXNzIGltbWVkaWF0ZWx5IG9uIGxvYWQuXG5cbiAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDEsIF9lYXNlLkVBU0UuTGluZWFyKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTsgLy8gR2VuZXJhdGUgaW1hZ2Ugc291cmNlcy5cblxuICAgIHRoaXMuc291cmNlcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMTUzOyBpKyspIHtcbiAgICAgIGxldCB2YWx1ZSA9IGkgKyAnJztcbiAgICAgIHZhbHVlID0gdmFsdWUucGFkU3RhcnQoNCwgJzAnKTtcbiAgICAgIHRoaXMuc291cmNlcy5wdXNoKCcuL3B1YmxpYy9mcmFtZXMvdGh1bWInICsgdmFsdWUgKyAnLmpwZycpO1xuICAgIH0gLy8gQ3JlYXRlIENhbnZhcyBJbWFnZSBTZXF1ZW5lY2VcblxuXG4gICAgdGhpcy53ZWJnbEltYWdlU2VxdWVuY2UgPSBuZXcgX3dlYmdsSW1hZ2VTZXF1ZW5jZS5XZWJHbEltYWdlU2VxdWVuY2UodGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50LCBbe1xuICAgICAgaW1hZ2VzOiB0aGlzLnNvdXJjZXNcbiAgICB9XSk7XG4gICAgbGV0IHByb2dyZXNzUG9pbnRzID0gW3tcbiAgICAgIGZyb206IDAsXG4gICAgICB0bzogMC41LFxuICAgICAgc3RhcnQ6IDAsXG4gICAgICBlbmQ6IDFcbiAgICB9LCB7XG4gICAgICBmcm9tOiAwLjUsXG4gICAgICB0bzogMSxcbiAgICAgIHN0YXJ0OiAxLFxuICAgICAgZW5kOiAwXG4gICAgfV07XG4gICAgdGhpcy53ZWJnbEltYWdlU2VxdWVuY2Uuc2V0TXVsdGlJbnRlcnBvbGF0aW9uKHByb2dyZXNzUG9pbnRzKTsgLy8gTG9hZCB0aGUgaWFtZ2VzLlxuXG4gICAgdGhpcy53ZWJnbEltYWdlU2VxdWVuY2UubG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gV2hlbiByZWFkeSByZW5kZXIgd2hhdGV2ZXIgdGhlIGN1cnJlbnQgZWFzZWRQcm9ncmVzcyB2YWx1ZSBpcy5cbiAgICAgIHRoaXMud2ViZ2xJbWFnZVNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3ModGhpcy5yYWZQcm9ncmVzcy5jdXJyZW50UHJvZ3Jlc3MpO1xuICAgIH0pO1xuICB9XG5cbiAgb25Qcm9ncmVzc1VwZGF0ZShlYXNlZFByb2dyZXNzLCBkaXJlY3Rpb24pIHtcbiAgICB0aGlzLndlYmdsSW1hZ2VTZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKGVhc2VkUHJvZ3Jlc3MpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gV2ViR2xJbWFnZVNlcXVlbmNlU2FtcGxlMjsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/webgl-image-sequence2.js\n");

/***/ }),

/***/ "./examples/webgl-image-sequence3.js":
/*!*******************************************!*\
  !*** ./examples/webgl-image-sequence3.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _webglImageSequence = __webpack_require__(/*! ../lib/dom/webgl-image-sequence */ \"./lib/dom/webgl-image-sequence.js\");\n\n/**\n * CanvasImageSequence play feature.\n */\nclass CanvasImageSequenceSample3 {\n  constructor() {\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Generate image sources.\n\n    this.sources = [];\n\n    for (let i = 1; i <= 153; i++) {\n      let value = i + '';\n      value = value.padStart(4, '0');\n      this.sources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.sequence = new _webglImageSequence.WebGlImageSequence(this.canvasContainerElement, [{\n      images: this.sources\n    }]);\n    let progressPoints = [{\n      from: 0,\n      to: 0.5,\n      start: 0,\n      end: 1\n    }, {\n      from: 0.5,\n      to: 1,\n      start: 1,\n      end: 0\n    }];\n    this.sequence.setMultiInterpolation(progressPoints); // Load the iamges.\n\n    this.sequence.load().then(() => {\n      // On load, play the sequence from 0 - 1.\n      this.sequence.play(0, 1, 3000).then(() => {\n        console.log('play complete');\n      });\n    });\n  }\n\n}\n\nexports.default = CanvasImageSequenceSample3;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTMuanM/YTE2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF93ZWJnbEltYWdlU2VxdWVuY2UgPSByZXF1aXJlKFwiLi4vbGliL2RvbS93ZWJnbC1pbWFnZS1zZXF1ZW5jZVwiKTtcblxuLyoqXG4gKiBDYW52YXNJbWFnZVNlcXVlbmNlIHBsYXkgZmVhdHVyZS5cbiAqL1xuY2xhc3MgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FudmFzLWNvbnRhaW5lcicpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTsgLy8gR2VuZXJhdGUgaW1hZ2Ugc291cmNlcy5cblxuICAgIHRoaXMuc291cmNlcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMTUzOyBpKyspIHtcbiAgICAgIGxldCB2YWx1ZSA9IGkgKyAnJztcbiAgICAgIHZhbHVlID0gdmFsdWUucGFkU3RhcnQoNCwgJzAnKTtcbiAgICAgIHRoaXMuc291cmNlcy5wdXNoKCcuL3B1YmxpYy9mcmFtZXMvdGh1bWInICsgdmFsdWUgKyAnLmpwZycpO1xuICAgIH0gLy8gQ3JlYXRlIENhbnZhcyBJbWFnZSBTZXF1ZW5lY2VcblxuXG4gICAgdGhpcy5zZXF1ZW5jZSA9IG5ldyBfd2ViZ2xJbWFnZVNlcXVlbmNlLldlYkdsSW1hZ2VTZXF1ZW5jZSh0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQsIFt7XG4gICAgICBpbWFnZXM6IHRoaXMuc291cmNlc1xuICAgIH1dKTtcbiAgICBsZXQgcHJvZ3Jlc3NQb2ludHMgPSBbe1xuICAgICAgZnJvbTogMCxcbiAgICAgIHRvOiAwLjUsXG4gICAgICBzdGFydDogMCxcbiAgICAgIGVuZDogMVxuICAgIH0sIHtcbiAgICAgIGZyb206IDAuNSxcbiAgICAgIHRvOiAxLFxuICAgICAgc3RhcnQ6IDEsXG4gICAgICBlbmQ6IDBcbiAgICB9XTtcbiAgICB0aGlzLnNlcXVlbmNlLnNldE11bHRpSW50ZXJwb2xhdGlvbihwcm9ncmVzc1BvaW50cyk7IC8vIExvYWQgdGhlIGlhbWdlcy5cblxuICAgIHRoaXMuc2VxdWVuY2UubG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gT24gbG9hZCwgcGxheSB0aGUgc2VxdWVuY2UgZnJvbSAwIC0gMS5cbiAgICAgIHRoaXMuc2VxdWVuY2UucGxheSgwLCAxLCAzMDAwKS50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ3BsYXkgY29tcGxldGUnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTM7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/webgl-image-sequence3.js\n");

/***/ }),

/***/ "./examples/webgl-image-sequence4.js":
/*!*******************************************!*\
  !*** ./examples/webgl-image-sequence4.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _webglImageSequence = __webpack_require__(/*! ../lib/dom/webgl-image-sequence */ \"./lib/dom/webgl-image-sequence.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\n/**\n * This sample expands on canvas image sequence sample 1 and demonstrates\n * usage of multiinterpolate.\n */\nclass CanvasImageSequenceSample3 {\n  constructor() {\n    console.log('canvas image sequence4');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _rafProgress.RafProgress(); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n        this.rafProgress.easeTo(this.progress, 0.25, _ease.EASE.Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.sources = [];\n\n    for (let i = 1; i <= 153; i++) {\n      let value = i + '';\n      value = value.padStart(4, '0');\n      this.sources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.sequence = new _webglImageSequence.WebGlImageSequence(this.canvasContainerElement, [{\n      images: this.sources\n    }]); // We set the lerp value.\n\n    this.sequence.lerpAmount = 0.01; // Load the iamges.\n\n    this.sequence.load().then(() => {\n      // On load, play the sequence from 0 - 1.\n      this.sequence.play(0, 1, 1000).then(() => {\n        console.log('done', this.rafProgress.currentProgress); // Update the progress to the current scroll when done.\n        //\n        // At this time, the playing ends at 1 but the scroll progress\n        // could be something else so it will lerp \"towards\" the\n        // scroll position since we have lerp set.\n\n        this.sequence.renderByProgress(this.rafProgress.currentProgress);\n      });\n    });\n  }\n\n  onProgressUpdate(easedProgress, direction) {\n    this.sequence.renderByProgress(easedProgress);\n  }\n\n}\n\nexports.default = CanvasImageSequenceSample3;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTQuanM/YjQxYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yYWZQcm9ncmVzcyA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZi1wcm9ncmVzc1wiKTtcblxudmFyIF93ZWJnbEltYWdlU2VxdWVuY2UgPSByZXF1aXJlKFwiLi4vbGliL2RvbS93ZWJnbC1pbWFnZS1zZXF1ZW5jZVwiKTtcblxudmFyIF9lYXNlID0gcmVxdWlyZShcIi4uL2xpYi9lYXNlL2Vhc2VcIik7XG5cbnZhciBfZG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxuLyoqXG4gKiBUaGlzIHNhbXBsZSBleHBhbmRzIG9uIGNhbnZhcyBpbWFnZSBzZXF1ZW5jZSBzYW1wbGUgMSBhbmQgZGVtb25zdHJhdGVzXG4gKiB1c2FnZSBvZiBtdWx0aWludGVycG9sYXRlLlxuICovXG5jbGFzcyBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlMyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdjYW52YXMgaW1hZ2Ugc2VxdWVuY2U0Jyk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IF9kb21XYXRjaGVyLkRvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FudmFzLWNvbnRhaW5lcicpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTsgLy8gSW5zdGFuY2Ugb2YgcmFmUHJvZ3Jlc3MuXG5cbiAgICB0aGlzLnJhZlByb2dyZXNzID0gbmV3IF9yYWZQcm9ncmVzcy5SYWZQcm9ncmVzcygpOyAvLyBVcGRhdGUgdGhlIHByb2dyZXNzIHZhbHVlIHBlciBzY3JvbGwuXG5cbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGNhbGxiYWNrOiBldmVudCA9PiB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBfZG9tLmRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCk7XG4gICAgICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDAuMjUsIF9lYXNlLkVBU0UuTGluZWFyKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pOyAvLyBVcGRhdGUgcHJvZ3Jlc3MgaW1tZWRpYXRlbHkgb24gbG9hZC5cblxuICAgIHRoaXMucHJvZ3Jlc3MgPSBfZG9tLmRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCk7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgX2Vhc2UuRUFTRS5MaW5lYXIpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3Mud2F0Y2godGhpcy5vblByb2dyZXNzVXBkYXRlLmJpbmQodGhpcykpOyAvLyBHZW5lcmF0ZSBpbWFnZSBzb3VyY2VzLlxuXG4gICAgdGhpcy5zb3VyY2VzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSAxNTM7IGkrKykge1xuICAgICAgbGV0IHZhbHVlID0gaSArICcnO1xuICAgICAgdmFsdWUgPSB2YWx1ZS5wYWRTdGFydCg0LCAnMCcpO1xuICAgICAgdGhpcy5zb3VyY2VzLnB1c2goJy4vcHVibGljL2ZyYW1lcy90aHVtYicgKyB2YWx1ZSArICcuanBnJyk7XG4gICAgfSAvLyBDcmVhdGUgQ2FudmFzIEltYWdlIFNlcXVlbmVjZVxuXG5cbiAgICB0aGlzLnNlcXVlbmNlID0gbmV3IF93ZWJnbEltYWdlU2VxdWVuY2UuV2ViR2xJbWFnZVNlcXVlbmNlKHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCwgW3tcbiAgICAgIGltYWdlczogdGhpcy5zb3VyY2VzXG4gICAgfV0pOyAvLyBXZSBzZXQgdGhlIGxlcnAgdmFsdWUuXG5cbiAgICB0aGlzLnNlcXVlbmNlLmxlcnBBbW91bnQgPSAwLjAxOyAvLyBMb2FkIHRoZSBpYW1nZXMuXG5cbiAgICB0aGlzLnNlcXVlbmNlLmxvYWQoKS50aGVuKCgpID0+IHtcbiAgICAgIC8vIE9uIGxvYWQsIHBsYXkgdGhlIHNlcXVlbmNlIGZyb20gMCAtIDEuXG4gICAgICB0aGlzLnNlcXVlbmNlLnBsYXkoMCwgMSwgMTAwMCkudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdkb25lJywgdGhpcy5yYWZQcm9ncmVzcy5jdXJyZW50UHJvZ3Jlc3MpOyAvLyBVcGRhdGUgdGhlIHByb2dyZXNzIHRvIHRoZSBjdXJyZW50IHNjcm9sbCB3aGVuIGRvbmUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEF0IHRoaXMgdGltZSwgdGhlIHBsYXlpbmcgZW5kcyBhdCAxIGJ1dCB0aGUgc2Nyb2xsIHByb2dyZXNzXG4gICAgICAgIC8vIGNvdWxkIGJlIHNvbWV0aGluZyBlbHNlIHNvIGl0IHdpbGwgbGVycCBcInRvd2FyZHNcIiB0aGVcbiAgICAgICAgLy8gc2Nyb2xsIHBvc2l0aW9uIHNpbmNlIHdlIGhhdmUgbGVycCBzZXQuXG5cbiAgICAgICAgdGhpcy5zZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKHRoaXMucmFmUHJvZ3Jlc3MuY3VycmVudFByb2dyZXNzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgb25Qcm9ncmVzc1VwZGF0ZShlYXNlZFByb2dyZXNzLCBkaXJlY3Rpb24pIHtcbiAgICB0aGlzLnNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoZWFzZWRQcm9ncmVzcyk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlMzsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/webgl-image-sequence4.js\n");

/***/ }),

/***/ "./examples/webgl-image-sequence5.js":
/*!*******************************************!*\
  !*** ./examples/webgl-image-sequence5.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _webglImageSequence = __webpack_require__(/*! ../lib/dom/webgl-image-sequence */ \"./lib/dom/webgl-image-sequence.js\");\n\n/**\n * CanvasImageSequence play feature.\n */\nclass CanvasImageSequenceSample5 {\n  constructor() {\n    console.log('canvasImageSequence5');\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Generate image sources.\n\n    this.canvasImageSources = [];\n\n    for (let i = 1; i <= 153; i++) {\n      let value = i + '';\n      value = value.padStart(4, '0');\n      this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.sequence = new _webglImageSequence.WebGlImageSequence(this.canvasContainerElement, [{\n      images: this.canvasImageSources\n    }]);\n    this.sequence.lerpAmount = 0.01;\n    this.sequence.load().then(() => {\n      this.sequence.renderByProgress(0); // Immediately set to 1.  Because we previously set it to 0 and\n      // no 1 and we have lerp set, canvasImageSequence will lerp\n      // towards that value.\n\n      this.sequence.renderByProgress(1);\n    });\n  }\n\n}\n\nexports.default = CanvasImageSequenceSample5;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTUuanM/YTdkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF93ZWJnbEltYWdlU2VxdWVuY2UgPSByZXF1aXJlKFwiLi4vbGliL2RvbS93ZWJnbC1pbWFnZS1zZXF1ZW5jZVwiKTtcblxuLyoqXG4gKiBDYW52YXNJbWFnZVNlcXVlbmNlIHBsYXkgZmVhdHVyZS5cbiAqL1xuY2xhc3MgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygnY2FudmFzSW1hZ2VTZXF1ZW5jZTUnKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FudmFzLWNvbnRhaW5lcicpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTsgLy8gR2VuZXJhdGUgaW1hZ2Ugc291cmNlcy5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSAxNTM7IGkrKykge1xuICAgICAgbGV0IHZhbHVlID0gaSArICcnO1xuICAgICAgdmFsdWUgPSB2YWx1ZS5wYWRTdGFydCg0LCAnMCcpO1xuICAgICAgdGhpcy5jYW52YXNJbWFnZVNvdXJjZXMucHVzaCgnLi9wdWJsaWMvZnJhbWVzL3RodW1iJyArIHZhbHVlICsgJy5qcGcnKTtcbiAgICB9IC8vIENyZWF0ZSBDYW52YXMgSW1hZ2UgU2VxdWVuZWNlXG5cblxuICAgIHRoaXMuc2VxdWVuY2UgPSBuZXcgX3dlYmdsSW1hZ2VTZXF1ZW5jZS5XZWJHbEltYWdlU2VxdWVuY2UodGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50LCBbe1xuICAgICAgaW1hZ2VzOiB0aGlzLmNhbnZhc0ltYWdlU291cmNlc1xuICAgIH1dKTtcbiAgICB0aGlzLnNlcXVlbmNlLmxlcnBBbW91bnQgPSAwLjAxO1xuICAgIHRoaXMuc2VxdWVuY2UubG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5zZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKDApOyAvLyBJbW1lZGlhdGVseSBzZXQgdG8gMS4gIEJlY2F1c2Ugd2UgcHJldmlvdXNseSBzZXQgaXQgdG8gMCBhbmRcbiAgICAgIC8vIG5vIDEgYW5kIHdlIGhhdmUgbGVycCBzZXQsIGNhbnZhc0ltYWdlU2VxdWVuY2Ugd2lsbCBsZXJwXG4gICAgICAvLyB0b3dhcmRzIHRoYXQgdmFsdWUuXG5cbiAgICAgIHRoaXMuc2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcygxKTtcbiAgICB9KTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU1OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/webgl-image-sequence5.js\n");

/***/ }),

/***/ "./examples/webgl-image-sequence7.js":
/*!*******************************************!*\
  !*** ./examples/webgl-image-sequence7.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _webglImageSequence = __webpack_require__(/*! ../lib/dom/webgl-image-sequence */ \"./lib/dom/webgl-image-sequence.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\n/**\n * This sample demonstrates CanvasImageSequence sizing with cover\n */\nclass CanvasImageSequenceSample7 {\n  constructor() {\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _rafProgress.RafProgress(); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n        this.rafProgress.easeTo(this.progress, 0.25, _ease.EASE.Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.sources = [];\n\n    for (let i = 1; i <= 153; i++) {\n      let value = i + '';\n      value = value.padStart(4, '0');\n      this.sources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.sequence = new _webglImageSequence.WebGlImageSequence(this.canvasContainerElement, [{\n      images: this.sources\n    }], {\n      cover: true // bottom: 0,\n      // left: 0\n\n    }); // Load the images\n\n    this.sequence.load().then(() => {\n      // When ready render whatever the current easedProgress value is.\n      this.sequence.renderByProgress(this.rafProgress.currentProgress);\n    });\n  }\n\n  onProgressUpdate(easedProgress, direction) {\n    this.sequence.renderByProgress(easedProgress);\n  }\n\n}\n\nexports.default = CanvasImageSequenceSample7;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTcuanM/ZWU1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yYWZQcm9ncmVzcyA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZi1wcm9ncmVzc1wiKTtcblxudmFyIF93ZWJnbEltYWdlU2VxdWVuY2UgPSByZXF1aXJlKFwiLi4vbGliL2RvbS93ZWJnbC1pbWFnZS1zZXF1ZW5jZVwiKTtcblxudmFyIF9lYXNlID0gcmVxdWlyZShcIi4uL2xpYi9lYXNlL2Vhc2VcIik7XG5cbnZhciBfZG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxuLyoqXG4gKiBUaGlzIHNhbXBsZSBkZW1vbnN0cmF0ZXMgQ2FudmFzSW1hZ2VTZXF1ZW5jZSBzaXppbmcgd2l0aCBjb3ZlclxuICovXG5jbGFzcyBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlNyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBfZG9tV2F0Y2hlci5Eb21XYXRjaGVyKCk7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyZW50Jyk7IC8vIEluc3RhbmNlIG9mIHJhZlByb2dyZXNzLlxuXG4gICAgdGhpcy5yYWZQcm9ncmVzcyA9IG5ldyBfcmFmUHJvZ3Jlc3MuUmFmUHJvZ3Jlc3MoKTsgLy8gVXBkYXRlIHRoZSBwcm9ncmVzcyB2YWx1ZSBwZXIgc2Nyb2xsLlxuXG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Njcm9sbCcsXG4gICAgICBjYWxsYmFjazogZXZlbnQgPT4ge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjI1LCBfZWFzZS5FQVNFLkxpbmVhcik7XG4gICAgICB9LFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTsgLy8gVXBkYXRlIHByb2dyZXNzIGltbWVkaWF0ZWx5IG9uIGxvYWQuXG5cbiAgICB0aGlzLnByb2dyZXNzID0gX2RvbS5kb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDEsIF9lYXNlLkVBU0UuTGluZWFyKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTsgLy8gR2VuZXJhdGUgaW1hZ2Ugc291cmNlcy5cblxuICAgIHRoaXMuc291cmNlcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMTUzOyBpKyspIHtcbiAgICAgIGxldCB2YWx1ZSA9IGkgKyAnJztcbiAgICAgIHZhbHVlID0gdmFsdWUucGFkU3RhcnQoNCwgJzAnKTtcbiAgICAgIHRoaXMuc291cmNlcy5wdXNoKCcuL3B1YmxpYy9mcmFtZXMvdGh1bWInICsgdmFsdWUgKyAnLmpwZycpO1xuICAgIH0gLy8gQ3JlYXRlIENhbnZhcyBJbWFnZSBTZXF1ZW5lY2VcblxuXG4gICAgdGhpcy5zZXF1ZW5jZSA9IG5ldyBfd2ViZ2xJbWFnZVNlcXVlbmNlLldlYkdsSW1hZ2VTZXF1ZW5jZSh0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQsIFt7XG4gICAgICBpbWFnZXM6IHRoaXMuc291cmNlc1xuICAgIH1dLCB7XG4gICAgICBjb3ZlcjogdHJ1ZSAvLyBib3R0b206IDAsXG4gICAgICAvLyBsZWZ0OiAwXG5cbiAgICB9KTsgLy8gTG9hZCB0aGUgaW1hZ2VzXG5cbiAgICB0aGlzLnNlcXVlbmNlLmxvYWQoKS50aGVuKCgpID0+IHtcbiAgICAgIC8vIFdoZW4gcmVhZHkgcmVuZGVyIHdoYXRldmVyIHRoZSBjdXJyZW50IGVhc2VkUHJvZ3Jlc3MgdmFsdWUgaXMuXG4gICAgICB0aGlzLnNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3ModGhpcy5yYWZQcm9ncmVzcy5jdXJyZW50UHJvZ3Jlc3MpO1xuICAgIH0pO1xuICB9XG5cbiAgb25Qcm9ncmVzc1VwZGF0ZShlYXNlZFByb2dyZXNzLCBkaXJlY3Rpb24pIHtcbiAgICB0aGlzLnNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoZWFzZWRQcm9ncmVzcyk7XG4gIH1cblxufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlNzsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/webgl-image-sequence7.js\n");

/***/ }),

/***/ "./examples/webgl-image-sequence9.js":
/*!*******************************************!*\
  !*** ./examples/webgl-image-sequence9.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rafProgress = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n\nvar _webglImageSequence = __webpack_require__(/*! ../lib/dom/webgl-image-sequence */ \"./lib/dom/webgl-image-sequence.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\nvar _dom = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n\nvar _domWatcher = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\n/**\n * This sample show loading multiple image sets\n */\nclass CanvasImageSequenceSample9 {\n  constructor() {\n    console.log('canvas image sequence');\n    this.domWatcher = new _domWatcher.DomWatcher();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _rafProgress.RafProgress(); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: event => {\n        this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n        this.rafProgress.easeTo(this.progress, 0.25, _ease.EASE.Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _dom.dom.getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _ease.EASE.Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.sources = [];\n\n    for (let i = 1; i <= 153; i++) {\n      let value = i + '';\n      value = value.padStart(4, '0');\n      this.sources.push('./public/frames/thumb' + value + '.jpg');\n    } // Generate a second \"mobile\" image sources.\n\n\n    this.mobileImageSources = [];\n\n    for (let i = 1; i <= 120; i++) {\n      let value = i + '';\n      value = value.padStart(4, '0');\n      this.mobileImageSources.push('./public/frames2/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.sequence = new _webglImageSequence.WebGlImageSequence(this.canvasContainerElement, [{\n      images: this.sources,\n      when: () => {\n        return window.innerWidth >= 768;\n      }\n    }, {\n      images: this.mobileImageSources,\n      when: () => {\n        return window.innerWidth < 768;\n      }\n    }]); // this.canvasImageSequence.lerpAmount = 0.02;\n    // Load the iamges.\n\n    this.sequence.load().then(() => {\n      // When ready render whatever the current easedProgress value is.\n      this.sequence.renderByProgress(this.rafProgress.currentProgress);\n    });\n  }\n\n  onProgressUpdate(easedProgress, direction) {\n    this.sequence.renderByProgress(easedProgress);\n  }\n\n}\n\nexports.default = CanvasImageSequenceSample9;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTkuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTkuanM/ZTQ0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yYWZQcm9ncmVzcyA9IHJlcXVpcmUoXCIuLi9saWIvcmFmL3JhZi1wcm9ncmVzc1wiKTtcblxudmFyIF93ZWJnbEltYWdlU2VxdWVuY2UgPSByZXF1aXJlKFwiLi4vbGliL2RvbS93ZWJnbC1pbWFnZS1zZXF1ZW5jZVwiKTtcblxudmFyIF9lYXNlID0gcmVxdWlyZShcIi4uL2xpYi9lYXNlL2Vhc2VcIik7XG5cbnZhciBfZG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb20vZG9tXCIpO1xuXG52YXIgX2RvbVdhdGNoZXIgPSByZXF1aXJlKFwiLi4vbGliL2RvbS9kb20td2F0Y2hlclwiKTtcblxuLyoqXG4gKiBUaGlzIHNhbXBsZSBzaG93IGxvYWRpbmcgbXVsdGlwbGUgaW1hZ2Ugc2V0c1xuICovXG5jbGFzcyBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlOSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCdjYW52YXMgaW1hZ2Ugc2VxdWVuY2UnKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgX2RvbVdhdGNoZXIuRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMtY29udGFpbmVyJyk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpOyAvLyBJbnN0YW5jZSBvZiByYWZQcm9ncmVzcy5cblxuICAgIHRoaXMucmFmUHJvZ3Jlc3MgPSBuZXcgX3JhZlByb2dyZXNzLlJhZlByb2dyZXNzKCk7IC8vIFVwZGF0ZSB0aGUgcHJvZ3Jlc3MgdmFsdWUgcGVyIHNjcm9sbC5cblxuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgY2FsbGJhY2s6IGV2ZW50ID0+IHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IF9kb20uZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMC4yNSwgX2Vhc2UuRUFTRS5MaW5lYXIpO1xuICAgICAgfSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7IC8vIFVwZGF0ZSBwcm9ncmVzcyBpbW1lZGlhdGVseSBvbiBsb2FkLlxuXG4gICAgdGhpcy5wcm9ncmVzcyA9IF9kb20uZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAxLCBfZWFzZS5FQVNFLkxpbmVhcik7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy53YXRjaCh0aGlzLm9uUHJvZ3Jlc3NVcGRhdGUuYmluZCh0aGlzKSk7IC8vIEdlbmVyYXRlIGltYWdlIHNvdXJjZXMuXG5cbiAgICB0aGlzLnNvdXJjZXMgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDE1MzsgaSsrKSB7XG4gICAgICBsZXQgdmFsdWUgPSBpICsgJyc7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnBhZFN0YXJ0KDQsICcwJyk7XG4gICAgICB0aGlzLnNvdXJjZXMucHVzaCgnLi9wdWJsaWMvZnJhbWVzL3RodW1iJyArIHZhbHVlICsgJy5qcGcnKTtcbiAgICB9IC8vIEdlbmVyYXRlIGEgc2Vjb25kIFwibW9iaWxlXCIgaW1hZ2Ugc291cmNlcy5cblxuXG4gICAgdGhpcy5tb2JpbGVJbWFnZVNvdXJjZXMgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDEyMDsgaSsrKSB7XG4gICAgICBsZXQgdmFsdWUgPSBpICsgJyc7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnBhZFN0YXJ0KDQsICcwJyk7XG4gICAgICB0aGlzLm1vYmlsZUltYWdlU291cmNlcy5wdXNoKCcuL3B1YmxpYy9mcmFtZXMyL3RodW1iJyArIHZhbHVlICsgJy5qcGcnKTtcbiAgICB9IC8vIENyZWF0ZSBDYW52YXMgSW1hZ2UgU2VxdWVuZWNlXG5cblxuICAgIHRoaXMuc2VxdWVuY2UgPSBuZXcgX3dlYmdsSW1hZ2VTZXF1ZW5jZS5XZWJHbEltYWdlU2VxdWVuY2UodGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50LCBbe1xuICAgICAgaW1hZ2VzOiB0aGlzLnNvdXJjZXMsXG4gICAgICB3aGVuOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCA+PSA3Njg7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgaW1hZ2VzOiB0aGlzLm1vYmlsZUltYWdlU291cmNlcyxcbiAgICAgIHdoZW46ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoIDwgNzY4O1xuICAgICAgfVxuICAgIH1dKTsgLy8gdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLmxlcnBBbW91bnQgPSAwLjAyO1xuICAgIC8vIExvYWQgdGhlIGlhbWdlcy5cblxuICAgIHRoaXMuc2VxdWVuY2UubG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gV2hlbiByZWFkeSByZW5kZXIgd2hhdGV2ZXIgdGhlIGN1cnJlbnQgZWFzZWRQcm9ncmVzcyB2YWx1ZSBpcy5cbiAgICAgIHRoaXMuc2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcyh0aGlzLnJhZlByb2dyZXNzLmN1cnJlbnRQcm9ncmVzcyk7XG4gICAgfSk7XG4gIH1cblxuICBvblByb2dyZXNzVXBkYXRlKGVhc2VkUHJvZ3Jlc3MsIGRpcmVjdGlvbikge1xuICAgIHRoaXMuc2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcyhlYXNlZFByb2dyZXNzKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU5OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/webgl-image-sequence9.js\n");

/***/ }),

/***/ "./examples/webgl.js":
/*!***************************!*\
  !*** ./examples/webgl.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _imageLoader = __webpack_require__(/*! ../lib/loader/image-loader */ \"./lib/loader/image-loader.js\");\n\nvar _raf = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n\nvar _dat = __webpack_require__(/*! dat.gui */ \"./node_modules/dat.gui/build/dat.gui.module.js\");\n\nvar dat = _interopRequireWildcard(_dat);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nconst vertexSrc = `\nprecision mediump float;\n\nattribute vec4 position;\n\nvarying vec2 vUv;\n\nvoid main() {\n\tgl_Position = position;\n    vUv = vec2( (position.x + 1.)/2., (-position.y + 1.)/2.);\n\n}\n`;\nconst fragmentSrc = `\nprecision mediump float;\n\nuniform float uTrans;\nuniform sampler2D uTexture0;\nuniform sampler2D uTexture1;\nuniform sampler2D uDisp;\n\nvarying vec2 vUv;\n\nfloat quarticInOut(float t) {\n  return t < 0.5\n    ? +8.0 * pow(t, 4.0)\n    : -8.0 * pow(t - 1.0, 4.0) + 1.0;\n}\n\nvoid main() {\n    vec4 disp = texture2D(uDisp, vUv);\n    float trans = clamp((uTrans * uTrans * 5.0) - disp.r * 2.0, 0.0, 1.0);\n    vec4 color0 = texture2D(uTexture0, vUv);\n    float shift = 1.0 - quarticInOut(uTrans);\n    shift = shift * disp.x;\n    vec4 color1 = texture2D(uTexture1, vUv + vec2(0.1 * disp.x * shift, 0.1 * disp.y * shift));\n\tgl_FragColor = mix(color0, color1 , trans);\n}\n`;\nconst assets = ['./public/guy2.jpg', './public/guy1.jpg', './public/displacement1.png'];\n\nclass WebGlSample {\n  constructor() {\n    console.log('webGL image distortion sample');\n    this.canvas = document.getElementById('canvas');\n    this.canvas.width = this.canvas.offsetWidth;\n    this.canvas.height = this.canvas.offsetHeight;\n    this.gl = canvas.getContext('webgl');\n    this.controls = {\n      trans: 0\n    }; // Setup\n\n    this.program = this.createProgram(vertexSrc, fragmentSrc);\n    this.createBuffer(this.program);\n    this.setUniform(this.program); // Setup raf loop.\n\n    this.raf = new _raf.Raf(this.loop.bind(this));\n    this.imageLoader = new _imageLoader.ImageLoader(assets);\n    this.imageLoader.load().then(this.onImageLoad.bind(this));\n    this.gui = new dat.GUI();\n    let gui = this.gui.addFolder('Controls');\n    gui.add(this.controls, 'trans', 0.000, 1.00).step(0.001);\n  }\n  /**\n     * Creates a program with vertex and frag shaders.\n     */\n\n\n  createProgram(vs, fr) {\n    // Create program\n    let program = this.gl.createProgram(); // Compile vertex shader\n\n    let vShader = this.gl.createShader(this.gl.VERTEX_SHADER);\n    this.gl.shaderSource(vShader, vs);\n    this.gl.compileShader(vShader); // Compile frag shader\n\n    let fShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\n    this.gl.shaderSource(fShader, fr);\n    this.gl.compileShader(fShader);\n    this.gl.attachShader(program, vShader);\n    this.gl.deleteShader(vShader);\n    this.gl.attachShader(program, fShader);\n    this.gl.deleteShader(fShader);\n    this.gl.linkProgram(program);\n    return program;\n  }\n\n  createBuffer(program) {\n    let vertices = new Float32Array([-1, -1, 1, -1, -1, 1, 1, -1, -1, 1, 1, 1]);\n    this.vertexBuffer = this.gl.createBuffer();\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuffer);\n    this.gl.bufferData(this.gl.ARRAY_BUFFER, vertices, this.gl.STATIC_DRAW);\n    this.vertexLocation = this.gl.getAttribLocation(program, 'position');\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, null);\n  }\n\n  setUniform(program) {\n    // uniform\n    this.uTransLoc = this.gl.getUniformLocation(program, 'uTrans');\n    this.uniforms = [];\n    this.uniforms.push(this.gl.getUniformLocation(program, 'uTexture0'));\n    this.uniforms.push(this.gl.getUniformLocation(program, 'uTexture1'));\n    this.uniforms.push(this.gl.getUniformLocation(program, 'uDisp'));\n  }\n  /**\n     * When all images have loaded.\n     */\n\n\n  onImageLoad(images) {\n    let gl = this.gl;\n    this.textures = [];\n    Object.values(images).forEach((image, i) => {\n      let imageName = assets[i];\n      let textureImage = images[imageName];\n      let texture = gl.createTexture(); // Add the image to the texture.\n\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, textureImage);\n      gl.generateMipmap(gl.TEXTURE_2D);\n      this.textures.push(texture);\n    }); // Now start raf.\n\n    this.raf.start();\n  }\n  /**\n     * Runs on raf loop once images are loaded.\n     */\n\n\n  loop() {\n    let gl = this.gl;\n    gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n    gl.clearColor(0.0, 0.0, 0.0, 1.0);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n    gl.useProgram(this.program);\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n    gl.vertexAttribPointer(this.vertexLocation, 2, gl.FLOAT, false, 0, 0);\n    gl.enableVertexAttribArray(this.vertexLocation);\n    this.textures.forEach((texture, index) => {\n      gl.activeTexture(gl.TEXTURE0 + index);\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.uniform1i(this.uniforms[index], index);\n    });\n    gl.uniform1f(this.uTransLoc, this.controls.trans);\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n  }\n\n}\n\nexports.default = WebGlSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy93ZWJnbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3dlYmdsLmpzPzg1MjMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfaW1hZ2VMb2FkZXIgPSByZXF1aXJlKFwiLi4vbGliL2xvYWRlci9pbWFnZS1sb2FkZXJcIik7XG5cbnZhciBfcmFmID0gcmVxdWlyZShcIi4uL2xpYi9yYWYvcmFmXCIpO1xuXG52YXIgX2RhdCA9IHJlcXVpcmUoXCJkYXQuZ3VpXCIpO1xuXG52YXIgZGF0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2RhdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDoge307IGlmIChkZXNjLmdldCB8fCBkZXNjLnNldCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblxuY29uc3QgdmVydGV4U3JjID0gYFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cbmF0dHJpYnV0ZSB2ZWM0IHBvc2l0aW9uO1xuXG52YXJ5aW5nIHZlYzIgdlV2O1xuXG52b2lkIG1haW4oKSB7XG5cdGdsX1Bvc2l0aW9uID0gcG9zaXRpb247XG4gICAgdlV2ID0gdmVjMiggKHBvc2l0aW9uLnggKyAxLikvMi4sICgtcG9zaXRpb24ueSArIDEuKS8yLik7XG5cbn1cbmA7XG5jb25zdCBmcmFnbWVudFNyYyA9IGBcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXG51bmlmb3JtIGZsb2F0IHVUcmFucztcbnVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlMDtcbnVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlMTtcbnVuaWZvcm0gc2FtcGxlcjJEIHVEaXNwO1xuXG52YXJ5aW5nIHZlYzIgdlV2O1xuXG5mbG9hdCBxdWFydGljSW5PdXQoZmxvYXQgdCkge1xuICByZXR1cm4gdCA8IDAuNVxuICAgID8gKzguMCAqIHBvdyh0LCA0LjApXG4gICAgOiAtOC4wICogcG93KHQgLSAxLjAsIDQuMCkgKyAxLjA7XG59XG5cbnZvaWQgbWFpbigpIHtcbiAgICB2ZWM0IGRpc3AgPSB0ZXh0dXJlMkQodURpc3AsIHZVdik7XG4gICAgZmxvYXQgdHJhbnMgPSBjbGFtcCgodVRyYW5zICogdVRyYW5zICogNS4wKSAtIGRpc3AuciAqIDIuMCwgMC4wLCAxLjApO1xuICAgIHZlYzQgY29sb3IwID0gdGV4dHVyZTJEKHVUZXh0dXJlMCwgdlV2KTtcbiAgICBmbG9hdCBzaGlmdCA9IDEuMCAtIHF1YXJ0aWNJbk91dCh1VHJhbnMpO1xuICAgIHNoaWZ0ID0gc2hpZnQgKiBkaXNwLng7XG4gICAgdmVjNCBjb2xvcjEgPSB0ZXh0dXJlMkQodVRleHR1cmUxLCB2VXYgKyB2ZWMyKDAuMSAqIGRpc3AueCAqIHNoaWZ0LCAwLjEgKiBkaXNwLnkgKiBzaGlmdCkpO1xuXHRnbF9GcmFnQ29sb3IgPSBtaXgoY29sb3IwLCBjb2xvcjEgLCB0cmFucyk7XG59XG5gO1xuY29uc3QgYXNzZXRzID0gWycuL3B1YmxpYy9ndXkyLmpwZycsICcuL3B1YmxpYy9ndXkxLmpwZycsICcuL3B1YmxpYy9kaXNwbGFjZW1lbnQxLnBuZyddO1xuXG5jbGFzcyBXZWJHbFNhbXBsZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnNvbGUubG9nKCd3ZWJHTCBpbWFnZSBkaXN0b3J0aW9uIHNhbXBsZScpO1xuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpO1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5jYW52YXMub2Zmc2V0V2lkdGg7XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMub2Zmc2V0SGVpZ2h0O1xuICAgIHRoaXMuZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKTtcbiAgICB0aGlzLmNvbnRyb2xzID0ge1xuICAgICAgdHJhbnM6IDBcbiAgICB9OyAvLyBTZXR1cFxuXG4gICAgdGhpcy5wcm9ncmFtID0gdGhpcy5jcmVhdGVQcm9ncmFtKHZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuICAgIHRoaXMuY3JlYXRlQnVmZmVyKHRoaXMucHJvZ3JhbSk7XG4gICAgdGhpcy5zZXRVbmlmb3JtKHRoaXMucHJvZ3JhbSk7IC8vIFNldHVwIHJhZiBsb29wLlxuXG4gICAgdGhpcy5yYWYgPSBuZXcgX3JhZi5SYWYodGhpcy5sb29wLmJpbmQodGhpcykpO1xuICAgIHRoaXMuaW1hZ2VMb2FkZXIgPSBuZXcgX2ltYWdlTG9hZGVyLkltYWdlTG9hZGVyKGFzc2V0cyk7XG4gICAgdGhpcy5pbWFnZUxvYWRlci5sb2FkKCkudGhlbih0aGlzLm9uSW1hZ2VMb2FkLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZ3VpID0gbmV3IGRhdC5HVUkoKTtcbiAgICBsZXQgZ3VpID0gdGhpcy5ndWkuYWRkRm9sZGVyKCdDb250cm9scycpO1xuICAgIGd1aS5hZGQodGhpcy5jb250cm9scywgJ3RyYW5zJywgMC4wMDAsIDEuMDApLnN0ZXAoMC4wMDEpO1xuICB9XG4gIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwcm9ncmFtIHdpdGggdmVydGV4IGFuZCBmcmFnIHNoYWRlcnMuXG4gICAgICovXG5cblxuICBjcmVhdGVQcm9ncmFtKHZzLCBmcikge1xuICAgIC8vIENyZWF0ZSBwcm9ncmFtXG4gICAgbGV0IHByb2dyYW0gPSB0aGlzLmdsLmNyZWF0ZVByb2dyYW0oKTsgLy8gQ29tcGlsZSB2ZXJ0ZXggc2hhZGVyXG5cbiAgICBsZXQgdlNoYWRlciA9IHRoaXMuZ2wuY3JlYXRlU2hhZGVyKHRoaXMuZ2wuVkVSVEVYX1NIQURFUik7XG4gICAgdGhpcy5nbC5zaGFkZXJTb3VyY2UodlNoYWRlciwgdnMpO1xuICAgIHRoaXMuZ2wuY29tcGlsZVNoYWRlcih2U2hhZGVyKTsgLy8gQ29tcGlsZSBmcmFnIHNoYWRlclxuXG4gICAgbGV0IGZTaGFkZXIgPSB0aGlzLmdsLmNyZWF0ZVNoYWRlcih0aGlzLmdsLkZSQUdNRU5UX1NIQURFUik7XG4gICAgdGhpcy5nbC5zaGFkZXJTb3VyY2UoZlNoYWRlciwgZnIpO1xuICAgIHRoaXMuZ2wuY29tcGlsZVNoYWRlcihmU2hhZGVyKTtcbiAgICB0aGlzLmdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2U2hhZGVyKTtcbiAgICB0aGlzLmdsLmRlbGV0ZVNoYWRlcih2U2hhZGVyKTtcbiAgICB0aGlzLmdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmU2hhZGVyKTtcbiAgICB0aGlzLmdsLmRlbGV0ZVNoYWRlcihmU2hhZGVyKTtcbiAgICB0aGlzLmdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuICAgIHJldHVybiBwcm9ncmFtO1xuICB9XG5cbiAgY3JlYXRlQnVmZmVyKHByb2dyYW0pIHtcbiAgICBsZXQgdmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFstMSwgLTEsIDEsIC0xLCAtMSwgMSwgMSwgLTEsIC0xLCAxLCAxLCAxXSk7XG4gICAgdGhpcy52ZXJ0ZXhCdWZmZXIgPSB0aGlzLmdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhCdWZmZXIpO1xuICAgIHRoaXMuZ2wuYnVmZmVyRGF0YSh0aGlzLmdsLkFSUkFZX0JVRkZFUiwgdmVydGljZXMsIHRoaXMuZ2wuU1RBVElDX0RSQVcpO1xuICAgIHRoaXMudmVydGV4TG9jYXRpb24gPSB0aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sICdwb3NpdGlvbicpO1xuICAgIHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XG4gIH1cblxuICBzZXRVbmlmb3JtKHByb2dyYW0pIHtcbiAgICAvLyB1bmlmb3Jt44Gu44Ot44Kx44O844K344On44Oz44KS5Y+W5b6X44GX44Gm44GK44GPXG4gICAgdGhpcy51VHJhbnNMb2MgPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndVRyYW5zJyk7XG4gICAgdGhpcy51bmlmb3JtcyA9IFtdO1xuICAgIHRoaXMudW5pZm9ybXMucHVzaCh0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndVRleHR1cmUwJykpO1xuICAgIHRoaXMudW5pZm9ybXMucHVzaCh0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndVRleHR1cmUxJykpO1xuICAgIHRoaXMudW5pZm9ybXMucHVzaCh0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndURpc3AnKSk7XG4gIH1cbiAgLyoqXG4gICAgICogV2hlbiBhbGwgaW1hZ2VzIGhhdmUgbG9hZGVkLlxuICAgICAqL1xuXG5cbiAgb25JbWFnZUxvYWQoaW1hZ2VzKSB7XG4gICAgbGV0IGdsID0gdGhpcy5nbDtcbiAgICB0aGlzLnRleHR1cmVzID0gW107XG4gICAgT2JqZWN0LnZhbHVlcyhpbWFnZXMpLmZvckVhY2goKGltYWdlLCBpKSA9PiB7XG4gICAgICBsZXQgaW1hZ2VOYW1lID0gYXNzZXRzW2ldO1xuICAgICAgbGV0IHRleHR1cmVJbWFnZSA9IGltYWdlc1tpbWFnZU5hbWVdO1xuICAgICAgbGV0IHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7IC8vIEFkZCB0aGUgaW1hZ2UgdG8gdGhlIHRleHR1cmUuXG5cbiAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0IsIGdsLlJHQiwgZ2wuVU5TSUdORURfQllURSwgdGV4dHVyZUltYWdlKTtcbiAgICAgIGdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpO1xuICAgICAgdGhpcy50ZXh0dXJlcy5wdXNoKHRleHR1cmUpO1xuICAgIH0pOyAvLyBOb3cgc3RhcnQgcmFmLlxuXG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuICAvKipcbiAgICAgKiBSdW5zIG9uIHJhZiBsb29wIG9uY2UgaW1hZ2VzIGFyZSBsb2FkZWQuXG4gICAgICovXG5cblxuICBsb29wKCkge1xuICAgIGxldCBnbCA9IHRoaXMuZ2w7XG4gICAgZ2wudmlld3BvcnQoMCwgMCwgZ2wuY2FudmFzLndpZHRoLCBnbC5jYW52YXMuaGVpZ2h0KTtcbiAgICBnbC5jbGVhckNvbG9yKDAuMCwgMC4wLCAwLjAsIDEuMCk7XG4gICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XG4gICAgZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRleEJ1ZmZlcik7XG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLnZlcnRleExvY2F0aW9uLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMudmVydGV4TG9jYXRpb24pO1xuICAgIHRoaXMudGV4dHVyZXMuZm9yRWFjaCgodGV4dHVyZSwgaW5kZXgpID0+IHtcbiAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBpbmRleCk7XG4gICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcbiAgICAgIGdsLnVuaWZvcm0xaSh0aGlzLnVuaWZvcm1zW2luZGV4XSwgaW5kZXgpO1xuICAgIH0pO1xuICAgIGdsLnVuaWZvcm0xZih0aGlzLnVUcmFuc0xvYywgdGhpcy5jb250cm9scy50cmFucyk7XG4gICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRVMsIDAsIDYpO1xuICB9XG5cbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gV2ViR2xTYW1wbGU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/webgl.js\n");

/***/ }),

/***/ "./examples/x.js":
/*!***********************!*\
  !*** ./examples/x.js ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _x = __webpack_require__(/*! ../lib/x/x */ \"./lib/x/x.js\");\n\nvar _xGameObject = __webpack_require__(/*! ../lib/x/x-game-object */ \"./lib/x/x-game-object.js\");\n\nvar _xLine = __webpack_require__(/*! ../lib/x/x-line */ \"./lib/x/x-line.js\");\n\nvar _xRectangle = __webpack_require__(/*! ../lib/x/x-rectangle */ \"./lib/x/x-rectangle.js\");\n\nvar _xStage = __webpack_require__(/*! ../lib/x/x-stage */ \"./lib/x/x-stage.js\");\n\nvar _xTexture = __webpack_require__(/*! ../lib/x/x-texture */ \"./lib/x/x-texture.js\");\n\nvar _xText = __webpack_require__(/*! ../lib/x/x-text */ \"./lib/x/x-text.js\");\n\nvar _imageLoader = __webpack_require__(/*! ../lib/loader/image-loader */ \"./lib/loader/image-loader.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\nvar _mathf = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n\nvar _ease = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n\n/**\n *\n * This is the an example of accelerating an XGameObject towards the\n * mouse position.\n *\n * Each XGameObject, has the following:\n * positon - vector\n * velocity - vector\n * acceleration - vector\n *\n *\n *\n *\n */\nclass XSample {\n  /**\n     * Loads teh required images and saves them to a cache with Xtexture.\n     * This starts the app.\n     */\n  constructor() {\n    this.imageTextures = {};\n    let images = new _imageLoader.ImageLoader(['./public/flower.jpg']).load().then(results => {\n      // Make textures out of the images.\n      Object.keys(results).forEach(key => {\n        this.imageTextures[key] = new _xTexture.XTexture(results[key]);\n      });\n      this.startApp();\n    });\n  }\n\n  startApp() {\n    const canvasElement = document.getElementById('mainCanvas');\n    this.X = new _x.X({\n      canvasElement: canvasElement,\n      debugMode: true\n    });\n    this.flower = new _xGameObject.XGameObject({\n      id: 'flower',\n      x: 250,\n      y: 250,\n      anchorX: 0.5,\n      anchorY: 0.5,\n      scaleX: 1,\n      scaleY: 1,\n      rotation: 1.5,\n      interactable: true,\n      texture: this.imageTextures['./public/flower.jpg']\n    });\n    this.X.stage.addChild(this.flower);\n    this.X.onTick(() => {\n      // On every frame, we want to update the acceleration of the\n      // test object so that it accelerates towards the mouse position.\n      //  We look at the distance between the mouse and\n      // the test object position.  To do this, we subtract the test position\n      // and  mouse position vector and apply that distance as the\n      // acceleration of the game object.\n      const distanceVector = _vector.Vector.subtract( // mouse\n      this.X.pointer.position, new _vector.Vector(this.flower.gcx, this.flower.gcy)); // We could just set the acceleration to the distance but then\n      // the flower image would just exactly be the position of the\n      // mouse.  To add some delay and smoothing, we ease the\n      // vales.\n\n\n      this.flower.acceleration = _vector.Vector.ease(this.flower.acceleration, distanceVector, 0.08); // Damping. We still get a of sprining so we damp out the springing.\n\n      this.flower.acceleration.lerp(_vector.Vector.ZERO, 0.8); // Based on the distance to the mouse, let's increase or decrease\n      // the rotation.\n\n      const minRotation = 0;\n      const maxRotation = 0.5;\n      const minMagnitude = 0;\n      const maxMagnitude = 500; // Now we get a value between 0-0.5 based on when the distance\n      // is between 0 and 500.\n\n      const rotation = _mathf.mathf.interpolateRange(distanceVector.length(), // The magnitude of the distance vector\n      minMagnitude, maxMagnitude, minRotation, maxRotation); // Let's make it more interesting and ease out the rotation per frame.\n\n\n      this.flower.rotaton = _mathf.mathf.ease(this.flower.rotation, rotation, 0.08, _ease.EASE.linear);\n      this.flower.rotation += rotation;\n      console.log(this.flower.velocity.magnitude(), this.flower.acceleration.magnitude());\n    });\n    this.X.start();\n  }\n\n}\n\nexports.default = XSample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy94LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMveC5qcz9lNzFkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3ggPSByZXF1aXJlKFwiLi4vbGliL3gveFwiKTtcblxudmFyIF94R2FtZU9iamVjdCA9IHJlcXVpcmUoXCIuLi9saWIveC94LWdhbWUtb2JqZWN0XCIpO1xuXG52YXIgX3hMaW5lID0gcmVxdWlyZShcIi4uL2xpYi94L3gtbGluZVwiKTtcblxudmFyIF94UmVjdGFuZ2xlID0gcmVxdWlyZShcIi4uL2xpYi94L3gtcmVjdGFuZ2xlXCIpO1xuXG52YXIgX3hTdGFnZSA9IHJlcXVpcmUoXCIuLi9saWIveC94LXN0YWdlXCIpO1xuXG52YXIgX3hUZXh0dXJlID0gcmVxdWlyZShcIi4uL2xpYi94L3gtdGV4dHVyZVwiKTtcblxudmFyIF94VGV4dCA9IHJlcXVpcmUoXCIuLi9saWIveC94LXRleHRcIik7XG5cbnZhciBfaW1hZ2VMb2FkZXIgPSByZXF1aXJlKFwiLi4vbGliL2xvYWRlci9pbWFnZS1sb2FkZXJcIik7XG5cbnZhciBfdmVjdG9yID0gcmVxdWlyZShcIi4uL2xpYi9tYXRoZi92ZWN0b3JcIik7XG5cbnZhciBfbWF0aGYgPSByZXF1aXJlKFwiLi4vbGliL21hdGhmL21hdGhmXCIpO1xuXG52YXIgX2Vhc2UgPSByZXF1aXJlKFwiLi4vbGliL2Vhc2UvZWFzZVwiKTtcblxuLyoqXG4gKlxuICogVGhpcyBpcyB0aGUgYW4gZXhhbXBsZSBvZiBhY2NlbGVyYXRpbmcgYW4gWEdhbWVPYmplY3QgdG93YXJkcyB0aGVcbiAqIG1vdXNlIHBvc2l0aW9uLlxuICpcbiAqIEVhY2ggWEdhbWVPYmplY3QsIGhhcyB0aGUgZm9sbG93aW5nOlxuICogcG9zaXRvbiAtIHZlY3RvclxuICogdmVsb2NpdHkgLSB2ZWN0b3JcbiAqIGFjY2VsZXJhdGlvbiAtIHZlY3RvclxuICpcbiAqXG4gKlxuICpcbiAqL1xuY2xhc3MgWFNhbXBsZSB7XG4gIC8qKlxuICAgICAqIExvYWRzIHRlaCByZXF1aXJlZCBpbWFnZXMgYW5kIHNhdmVzIHRoZW0gdG8gYSBjYWNoZSB3aXRoIFh0ZXh0dXJlLlxuICAgICAqIFRoaXMgc3RhcnRzIHRoZSBhcHAuXG4gICAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaW1hZ2VUZXh0dXJlcyA9IHt9O1xuICAgIGxldCBpbWFnZXMgPSBuZXcgX2ltYWdlTG9hZGVyLkltYWdlTG9hZGVyKFsnLi9wdWJsaWMvZmxvd2VyLmpwZyddKS5sb2FkKCkudGhlbihyZXN1bHRzID0+IHtcbiAgICAgIC8vIE1ha2UgdGV4dHVyZXMgb3V0IG9mIHRoZSBpbWFnZXMuXG4gICAgICBPYmplY3Qua2V5cyhyZXN1bHRzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIHRoaXMuaW1hZ2VUZXh0dXJlc1trZXldID0gbmV3IF94VGV4dHVyZS5YVGV4dHVyZShyZXN1bHRzW2tleV0pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnN0YXJ0QXBwKCk7XG4gICAgfSk7XG4gIH1cblxuICBzdGFydEFwcCgpIHtcbiAgICBjb25zdCBjYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW5DYW52YXMnKTtcbiAgICB0aGlzLlggPSBuZXcgX3guWCh7XG4gICAgICBjYW52YXNFbGVtZW50OiBjYW52YXNFbGVtZW50LFxuICAgICAgZGVidWdNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5mbG93ZXIgPSBuZXcgX3hHYW1lT2JqZWN0LlhHYW1lT2JqZWN0KHtcbiAgICAgIGlkOiAnZmxvd2VyJyxcbiAgICAgIHg6IDI1MCxcbiAgICAgIHk6IDI1MCxcbiAgICAgIGFuY2hvclg6IDAuNSxcbiAgICAgIGFuY2hvclk6IDAuNSxcbiAgICAgIHNjYWxlWDogMSxcbiAgICAgIHNjYWxlWTogMSxcbiAgICAgIHJvdGF0aW9uOiAxLjUsXG4gICAgICBpbnRlcmFjdGFibGU6IHRydWUsXG4gICAgICB0ZXh0dXJlOiB0aGlzLmltYWdlVGV4dHVyZXNbJy4vcHVibGljL2Zsb3dlci5qcGcnXVxuICAgIH0pO1xuICAgIHRoaXMuWC5zdGFnZS5hZGRDaGlsZCh0aGlzLmZsb3dlcik7XG4gICAgdGhpcy5YLm9uVGljaygoKSA9PiB7XG4gICAgICAvLyBPbiBldmVyeSBmcmFtZSwgd2Ugd2FudCB0byB1cGRhdGUgdGhlIGFjY2VsZXJhdGlvbiBvZiB0aGVcbiAgICAgIC8vIHRlc3Qgb2JqZWN0IHNvIHRoYXQgaXQgYWNjZWxlcmF0ZXMgdG93YXJkcyB0aGUgbW91c2UgcG9zaXRpb24uXG4gICAgICAvLyAgV2UgbG9vayBhdCB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgbW91c2UgYW5kXG4gICAgICAvLyB0aGUgdGVzdCBvYmplY3QgcG9zaXRpb24uICBUbyBkbyB0aGlzLCB3ZSBzdWJ0cmFjdCB0aGUgdGVzdCBwb3NpdGlvblxuICAgICAgLy8gYW5kICBtb3VzZSBwb3NpdGlvbiB2ZWN0b3IgYW5kIGFwcGx5IHRoYXQgZGlzdGFuY2UgYXMgdGhlXG4gICAgICAvLyBhY2NlbGVyYXRpb24gb2YgdGhlIGdhbWUgb2JqZWN0LlxuICAgICAgY29uc3QgZGlzdGFuY2VWZWN0b3IgPSBfdmVjdG9yLlZlY3Rvci5zdWJ0cmFjdCggLy8gbW91c2VcbiAgICAgIHRoaXMuWC5wb2ludGVyLnBvc2l0aW9uLCBuZXcgX3ZlY3Rvci5WZWN0b3IodGhpcy5mbG93ZXIuZ2N4LCB0aGlzLmZsb3dlci5nY3kpKTsgLy8gV2UgY291bGQganVzdCBzZXQgdGhlIGFjY2VsZXJhdGlvbiB0byB0aGUgZGlzdGFuY2UgYnV0IHRoZW5cbiAgICAgIC8vIHRoZSBmbG93ZXIgaW1hZ2Ugd291bGQganVzdCBleGFjdGx5IGJlIHRoZSBwb3NpdGlvbiBvZiB0aGVcbiAgICAgIC8vIG1vdXNlLiAgVG8gYWRkIHNvbWUgZGVsYXkgYW5kIHNtb290aGluZywgd2UgZWFzZSB0aGVcbiAgICAgIC8vIHZhbGVzLlxuXG5cbiAgICAgIHRoaXMuZmxvd2VyLmFjY2VsZXJhdGlvbiA9IF92ZWN0b3IuVmVjdG9yLmVhc2UodGhpcy5mbG93ZXIuYWNjZWxlcmF0aW9uLCBkaXN0YW5jZVZlY3RvciwgMC4wOCk7IC8vIERhbXBpbmcuIFdlIHN0aWxsIGdldCBhIG9mIHNwcmluaW5nIHNvIHdlIGRhbXAgb3V0IHRoZSBzcHJpbmdpbmcuXG5cbiAgICAgIHRoaXMuZmxvd2VyLmFjY2VsZXJhdGlvbi5sZXJwKF92ZWN0b3IuVmVjdG9yLlpFUk8sIDAuOCk7IC8vIEJhc2VkIG9uIHRoZSBkaXN0YW5jZSB0byB0aGUgbW91c2UsIGxldCdzIGluY3JlYXNlIG9yIGRlY3JlYXNlXG4gICAgICAvLyB0aGUgcm90YXRpb24uXG5cbiAgICAgIGNvbnN0IG1pblJvdGF0aW9uID0gMDtcbiAgICAgIGNvbnN0IG1heFJvdGF0aW9uID0gMC41O1xuICAgICAgY29uc3QgbWluTWFnbml0dWRlID0gMDtcbiAgICAgIGNvbnN0IG1heE1hZ25pdHVkZSA9IDUwMDsgLy8gTm93IHdlIGdldCBhIHZhbHVlIGJldHdlZW4gMC0wLjUgYmFzZWQgb24gd2hlbiB0aGUgZGlzdGFuY2VcbiAgICAgIC8vIGlzIGJldHdlZW4gMCBhbmQgNTAwLlxuXG4gICAgICBjb25zdCByb3RhdGlvbiA9IF9tYXRoZi5tYXRoZi5pbnRlcnBvbGF0ZVJhbmdlKGRpc3RhbmNlVmVjdG9yLmxlbmd0aCgpLCAvLyBUaGUgbWFnbml0dWRlIG9mIHRoZSBkaXN0YW5jZSB2ZWN0b3JcbiAgICAgIG1pbk1hZ25pdHVkZSwgbWF4TWFnbml0dWRlLCBtaW5Sb3RhdGlvbiwgbWF4Um90YXRpb24pOyAvLyBMZXQncyBtYWtlIGl0IG1vcmUgaW50ZXJlc3RpbmcgYW5kIGVhc2Ugb3V0IHRoZSByb3RhdGlvbiBwZXIgZnJhbWUuXG5cblxuICAgICAgdGhpcy5mbG93ZXIucm90YXRvbiA9IF9tYXRoZi5tYXRoZi5lYXNlKHRoaXMuZmxvd2VyLnJvdGF0aW9uLCByb3RhdGlvbiwgMC4wOCwgX2Vhc2UuRUFTRS5saW5lYXIpO1xuICAgICAgdGhpcy5mbG93ZXIucm90YXRpb24gKz0gcm90YXRpb247XG4gICAgICBjb25zb2xlLmxvZyh0aGlzLmZsb3dlci52ZWxvY2l0eS5tYWduaXR1ZGUoKSwgdGhpcy5mbG93ZXIuYWNjZWxlcmF0aW9uLm1hZ25pdHVkZSgpKTtcbiAgICB9KTtcbiAgICB0aGlzLlguc3RhcnQoKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFhTYW1wbGU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/x.js\n");

/***/ }),

/***/ "./examples/x2.js":
/*!************************!*\
  !*** ./examples/x2.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _x = __webpack_require__(/*! ../lib/x/x */ \"./lib/x/x.js\");\n\nvar _xGameObject = __webpack_require__(/*! ../lib/x/x-game-object */ \"./lib/x/x-game-object.js\");\n\nvar _xLine = __webpack_require__(/*! ../lib/x/x-line */ \"./lib/x/x-line.js\");\n\nvar _xRectangle = __webpack_require__(/*! ../lib/x/x-rectangle */ \"./lib/x/x-rectangle.js\");\n\nvar _xStage = __webpack_require__(/*! ../lib/x/x-stage */ \"./lib/x/x-stage.js\");\n\nvar _xTexture = __webpack_require__(/*! ../lib/x/x-texture */ \"./lib/x/x-texture.js\");\n\nvar _xText = __webpack_require__(/*! ../lib/x/x-text */ \"./lib/x/x-text.js\");\n\nvar _imageLoader = __webpack_require__(/*! ../lib/loader/image-loader */ \"./lib/loader/image-loader.js\");\n\nvar _vector = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n\n/**\n *\n * This is the an example of accelerating an XGameObject towards the\n * mouse position.\n *\n * Each XGameObject, has the following:\n * positon - vector\n * velocity - vector\n * acceleration - vector\n *\n *\n *\n *\n */\nclass X2Sample {\n  constructor() {\n    console.log('x2');\n    this.imageTextures = {};\n    let images = new _imageLoader.ImageLoader(['./public/boy.png', './public/boy2.png', './public/boy3.png', './public/flower.jpg']).load().then(results => {\n      // Make textures out of the images.\n      Object.keys(results).forEach(key => {\n        this.imageTextures[key] = new _xTexture.XTexture(results[key]);\n      });\n      this.startApp();\n    });\n  }\n\n  startApp() {\n    const canvasElement = document.getElementById('mainCanvas');\n    this.X = new _x.X({\n      canvasElement: canvasElement,\n      debugMode: true\n    });\n    this.txt = new _xText.XText({\n      x: 100,\n      y: 100,\n      text: 'Hello yoyoyo;yoyoyoyoyo'\n    });\n    this.X.stage.addChild(this.txt);\n    console.log(this.txt);\n    const rect = new _xRectangle.XRectangle({\n      x: 900,\n      y: 500,\n      width: 100,\n      height: 150,\n      fillStyle: 'red'\n    });\n    this.X.stage.addChild(rect); // this.line = new XLine({\n    //     lineWidth: 10,\n    //     startX: 100,\n    //     startY: 100,\n    //     endX: 250,\n    //     endY: 250\n    // });\n\n    this.flower = new _xGameObject.XGameObject({\n      id: 'flower',\n      x: 250,\n      y: 250,\n      anchorX: 0.5,\n      anchorY: 0.5,\n      scaleX: 1,\n      scaleY: 1,\n      rotation: 1.5,\n      interactable: true,\n      onMouseDown: gameObject => {\n        console.log(gameObject); // gameObject.acceleration.add(Vector.ONE);\n        // console.table(gameObject.globalComputedBox);\n        // console.log('wh', gameObject.width, gameObject.height);\n        // console.log('gx', gameObject.gx, gameObject.gy);\n        // console.log('gcx', gameObject.gcx, gameObject.gcy);\n        // console.table({\n        //     anchor: gameObject.anchorX + ' ' + gameObject.anchorY,\n        //     width: gameObject.width,\n        //     height: gameObject.height,\n        //     x: gameObject.x,\n        //     y: gameObject.y,\n        //     box: gameObject.globalComputedBox,\n        //     parentX: gameObject.parent.x,\n        //     parentY: gameObject.parent.y,\n        //     gx: gameObject.gx,\n        //     gy: gameObject.gy,\n        // });\n      },\n      texture: this.imageTextures['./public/flower.jpg']\n    }); // this.test.debug = true;\n\n    this.X.stage.addChild(this.flower);\n    this.X.onTick(() => {});\n    this.X.start();\n  }\n\n}\n\nexports.default = X2Sample;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy94Mi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3gyLmpzP2JkNzQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfeCA9IHJlcXVpcmUoXCIuLi9saWIveC94XCIpO1xuXG52YXIgX3hHYW1lT2JqZWN0ID0gcmVxdWlyZShcIi4uL2xpYi94L3gtZ2FtZS1vYmplY3RcIik7XG5cbnZhciBfeExpbmUgPSByZXF1aXJlKFwiLi4vbGliL3gveC1saW5lXCIpO1xuXG52YXIgX3hSZWN0YW5nbGUgPSByZXF1aXJlKFwiLi4vbGliL3gveC1yZWN0YW5nbGVcIik7XG5cbnZhciBfeFN0YWdlID0gcmVxdWlyZShcIi4uL2xpYi94L3gtc3RhZ2VcIik7XG5cbnZhciBfeFRleHR1cmUgPSByZXF1aXJlKFwiLi4vbGliL3gveC10ZXh0dXJlXCIpO1xuXG52YXIgX3hUZXh0ID0gcmVxdWlyZShcIi4uL2xpYi94L3gtdGV4dFwiKTtcblxudmFyIF9pbWFnZUxvYWRlciA9IHJlcXVpcmUoXCIuLi9saWIvbG9hZGVyL2ltYWdlLWxvYWRlclwiKTtcblxudmFyIF92ZWN0b3IgPSByZXF1aXJlKFwiLi4vbGliL21hdGhmL3ZlY3RvclwiKTtcblxuLyoqXG4gKlxuICogVGhpcyBpcyB0aGUgYW4gZXhhbXBsZSBvZiBhY2NlbGVyYXRpbmcgYW4gWEdhbWVPYmplY3QgdG93YXJkcyB0aGVcbiAqIG1vdXNlIHBvc2l0aW9uLlxuICpcbiAqIEVhY2ggWEdhbWVPYmplY3QsIGhhcyB0aGUgZm9sbG93aW5nOlxuICogcG9zaXRvbiAtIHZlY3RvclxuICogdmVsb2NpdHkgLSB2ZWN0b3JcbiAqIGFjY2VsZXJhdGlvbiAtIHZlY3RvclxuICpcbiAqXG4gKlxuICpcbiAqL1xuY2xhc3MgWDJTYW1wbGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLmxvZygneDInKTtcbiAgICB0aGlzLmltYWdlVGV4dHVyZXMgPSB7fTtcbiAgICBsZXQgaW1hZ2VzID0gbmV3IF9pbWFnZUxvYWRlci5JbWFnZUxvYWRlcihbJy4vcHVibGljL2JveS5wbmcnLCAnLi9wdWJsaWMvYm95Mi5wbmcnLCAnLi9wdWJsaWMvYm95My5wbmcnLCAnLi9wdWJsaWMvZmxvd2VyLmpwZyddKS5sb2FkKCkudGhlbihyZXN1bHRzID0+IHtcbiAgICAgIC8vIE1ha2UgdGV4dHVyZXMgb3V0IG9mIHRoZSBpbWFnZXMuXG4gICAgICBPYmplY3Qua2V5cyhyZXN1bHRzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIHRoaXMuaW1hZ2VUZXh0dXJlc1trZXldID0gbmV3IF94VGV4dHVyZS5YVGV4dHVyZShyZXN1bHRzW2tleV0pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnN0YXJ0QXBwKCk7XG4gICAgfSk7XG4gIH1cblxuICBzdGFydEFwcCgpIHtcbiAgICBjb25zdCBjYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW5DYW52YXMnKTtcbiAgICB0aGlzLlggPSBuZXcgX3guWCh7XG4gICAgICBjYW52YXNFbGVtZW50OiBjYW52YXNFbGVtZW50LFxuICAgICAgZGVidWdNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy50eHQgPSBuZXcgX3hUZXh0LlhUZXh0KHtcbiAgICAgIHg6IDEwMCxcbiAgICAgIHk6IDEwMCxcbiAgICAgIHRleHQ6ICdIZWxsbyB5b3lveW87eW95b3lveW95bydcbiAgICB9KTtcbiAgICB0aGlzLlguc3RhZ2UuYWRkQ2hpbGQodGhpcy50eHQpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMudHh0KTtcbiAgICBjb25zdCByZWN0ID0gbmV3IF94UmVjdGFuZ2xlLlhSZWN0YW5nbGUoe1xuICAgICAgeDogOTAwLFxuICAgICAgeTogNTAwLFxuICAgICAgd2lkdGg6IDEwMCxcbiAgICAgIGhlaWdodDogMTUwLFxuICAgICAgZmlsbFN0eWxlOiAncmVkJ1xuICAgIH0pO1xuICAgIHRoaXMuWC5zdGFnZS5hZGRDaGlsZChyZWN0KTsgLy8gdGhpcy5saW5lID0gbmV3IFhMaW5lKHtcbiAgICAvLyAgICAgbGluZVdpZHRoOiAxMCxcbiAgICAvLyAgICAgc3RhcnRYOiAxMDAsXG4gICAgLy8gICAgIHN0YXJ0WTogMTAwLFxuICAgIC8vICAgICBlbmRYOiAyNTAsXG4gICAgLy8gICAgIGVuZFk6IDI1MFxuICAgIC8vIH0pO1xuXG4gICAgdGhpcy5mbG93ZXIgPSBuZXcgX3hHYW1lT2JqZWN0LlhHYW1lT2JqZWN0KHtcbiAgICAgIGlkOiAnZmxvd2VyJyxcbiAgICAgIHg6IDI1MCxcbiAgICAgIHk6IDI1MCxcbiAgICAgIGFuY2hvclg6IDAuNSxcbiAgICAgIGFuY2hvclk6IDAuNSxcbiAgICAgIHNjYWxlWDogMSxcbiAgICAgIHNjYWxlWTogMSxcbiAgICAgIHJvdGF0aW9uOiAxLjUsXG4gICAgICBpbnRlcmFjdGFibGU6IHRydWUsXG4gICAgICBvbk1vdXNlRG93bjogZ2FtZU9iamVjdCA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGdhbWVPYmplY3QpOyAvLyBnYW1lT2JqZWN0LmFjY2VsZXJhdGlvbi5hZGQoVmVjdG9yLk9ORSk7XG4gICAgICAgIC8vIGNvbnNvbGUudGFibGUoZ2FtZU9iamVjdC5nbG9iYWxDb21wdXRlZEJveCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd3aCcsIGdhbWVPYmplY3Qud2lkdGgsIGdhbWVPYmplY3QuaGVpZ2h0KTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2d4JywgZ2FtZU9iamVjdC5neCwgZ2FtZU9iamVjdC5neSk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdnY3gnLCBnYW1lT2JqZWN0LmdjeCwgZ2FtZU9iamVjdC5nY3kpO1xuICAgICAgICAvLyBjb25zb2xlLnRhYmxlKHtcbiAgICAgICAgLy8gICAgIGFuY2hvcjogZ2FtZU9iamVjdC5hbmNob3JYICsgJyAnICsgZ2FtZU9iamVjdC5hbmNob3JZLFxuICAgICAgICAvLyAgICAgd2lkdGg6IGdhbWVPYmplY3Qud2lkdGgsXG4gICAgICAgIC8vICAgICBoZWlnaHQ6IGdhbWVPYmplY3QuaGVpZ2h0LFxuICAgICAgICAvLyAgICAgeDogZ2FtZU9iamVjdC54LFxuICAgICAgICAvLyAgICAgeTogZ2FtZU9iamVjdC55LFxuICAgICAgICAvLyAgICAgYm94OiBnYW1lT2JqZWN0Lmdsb2JhbENvbXB1dGVkQm94LFxuICAgICAgICAvLyAgICAgcGFyZW50WDogZ2FtZU9iamVjdC5wYXJlbnQueCxcbiAgICAgICAgLy8gICAgIHBhcmVudFk6IGdhbWVPYmplY3QucGFyZW50LnksXG4gICAgICAgIC8vICAgICBneDogZ2FtZU9iamVjdC5neCxcbiAgICAgICAgLy8gICAgIGd5OiBnYW1lT2JqZWN0Lmd5LFxuICAgICAgICAvLyB9KTtcbiAgICAgIH0sXG4gICAgICB0ZXh0dXJlOiB0aGlzLmltYWdlVGV4dHVyZXNbJy4vcHVibGljL2Zsb3dlci5qcGcnXVxuICAgIH0pOyAvLyB0aGlzLnRlc3QuZGVidWcgPSB0cnVlO1xuXG4gICAgdGhpcy5YLnN0YWdlLmFkZENoaWxkKHRoaXMuZmxvd2VyKTtcbiAgICB0aGlzLlgub25UaWNrKCgpID0+IHt9KTtcbiAgICB0aGlzLlguc3RhcnQoKTtcbiAgfVxuXG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFgyU2FtcGxlOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/x2.js\n");

/***/ }),

/***/ "./lib/arrayf/arrayf.js":
/*!******************************!*\
  !*** ./lib/arrayf/arrayf.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass arrayf {\n    static deepCopy(input) {\n        let output, value, key;\n        if (typeof input !== \"object\" || input === null) {\n            return input;\n        }\n        output = Array.isArray(input) ? [] : {};\n        for (key in input) {\n            value = input[key];\n            output[key] = (typeof value === \"object\" && value !== null) ?\n                arrayf.deepCopy(value) : value;\n        }\n        return output;\n    }\n    static max(values, scoreFn) {\n        let maxValue;\n        let maxScore = Number.NEGATIVE_INFINITY;\n        values.forEach((value) => {\n            const score = scoreFn(value);\n            if (maxScore < score) {\n                maxValue = value;\n                maxScore = score;\n            }\n        });\n        return maxValue;\n    }\n}\nexports.arrayf = arrayf;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvYXJyYXlmL2FycmF5Zi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9hcnJheWYvYXJyYXlmLmpzP2IyNjQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jbGFzcyBhcnJheWYge1xuICAgIHN0YXRpYyBkZWVwQ29weShpbnB1dCkge1xuICAgICAgICBsZXQgb3V0cHV0LCB2YWx1ZSwga2V5O1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0ID0gQXJyYXkuaXNBcnJheShpbnB1dCkgPyBbXSA6IHt9O1xuICAgICAgICBmb3IgKGtleSBpbiBpbnB1dCkge1xuICAgICAgICAgICAgdmFsdWUgPSBpbnB1dFtrZXldO1xuICAgICAgICAgICAgb3V0cHV0W2tleV0gPSAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsKSA/XG4gICAgICAgICAgICAgICAgYXJyYXlmLmRlZXBDb3B5KHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIHN0YXRpYyBtYXgodmFsdWVzLCBzY29yZUZuKSB7XG4gICAgICAgIGxldCBtYXhWYWx1ZTtcbiAgICAgICAgbGV0IG1heFNjb3JlID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuICAgICAgICB2YWx1ZXMuZm9yRWFjaCgodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNjb3JlID0gc2NvcmVGbih2YWx1ZSk7XG4gICAgICAgICAgICBpZiAobWF4U2NvcmUgPCBzY29yZSkge1xuICAgICAgICAgICAgICAgIG1heFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgbWF4U2NvcmUgPSBzY29yZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtYXhWYWx1ZTtcbiAgICB9XG59XG5leHBvcnRzLmFycmF5ZiA9IGFycmF5ZjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/arrayf/arrayf.js\n");

/***/ }),

/***/ "./lib/datguif/datguif.js":
/*!********************************!*\
  !*** ./lib/datguif/datguif.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dat = __webpack_require__(/*! dat.gui */ \"./node_modules/dat.gui/build/dat.gui.module.js\");\nconst is_1 = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\nconst color_1 = __webpack_require__(/*! ../mathf/color */ \"./lib/mathf/color.js\");\nclass Datguif {\n    constructor(guiParams) {\n        let options = guiParams;\n        if (!options) {\n            options.load = JSON;\n        }\n        this.gui = new dat.GUI(options);\n        this.folders = [];\n        this.updateCallbacks = [];\n    }\n    getGui() {\n        return this.gui;\n    }\n    onUpdate(callback) {\n        this.updateCallbacks.push(callback);\n    }\n    runUpdate() {\n        this.updateCallbacks.forEach((callback) => {\n            callback();\n        });\n    }\n    addButton(label, callback) {\n        const id = label.replace(' ', '_');\n        const obj = {};\n        obj[id] = callback;\n        this.gui.add(obj, label.replace(' ', '_'));\n    }\n    addFolder(folderName, parentFolderName) {\n        let folder;\n        if (this.folderExists(folderName)) {\n            throw new Error('Folder names must be unique');\n        }\n        if (parentFolderName) {\n            const parentFolder = this.getFolder(parentFolderName).gui;\n            folder = parentFolder.addFolder(folderName);\n        }\n        else {\n            folder = this.gui.addFolder(folderName);\n        }\n        this.folders.push({\n            name: folderName,\n            gui: folder\n        });\n        return folder;\n    }\n    folderExists(folderName) {\n        const folder = this.folders.filter((f) => {\n            return f.name == folderName;\n        })[0];\n        return !!folder;\n    }\n    getFolder(folderName) {\n        const folder = this.folders.filter((f) => {\n            return f.name == folderName;\n        })[0];\n        if (!folder) {\n            throw new Error('No folder named:' + folder + ' was found');\n        }\n        return folder;\n    }\n    addToFolder(folderName, obj, keyName) {\n        const folder = this.getFolder(folderName);\n        folder.gui.add(obj, keyName);\n    }\n    addObjectPropertyToFolder(folderName, obj, config) {\n        const folder = this.getFolder(folderName);\n        const value = obj[config.keyName];\n        if (!is_1.is.defined(value)) {\n            return;\n        }\n        if (value.r && value.g && value.b) {\n            const colorObj = {};\n            colorObj[config.keyName] = color_1.color.normalizedRgbToRgb(color_1.color.colorRgbToRgb(value));\n            folder.gui.addColor(colorObj, config.keyName)\n                .onChange(() => {\n                const converted = {\n                    r: color_1.color.rgbToNormalizedRgb(colorObj[config.keyName])[0],\n                    g: color_1.color.rgbToNormalizedRgb(colorObj[config.keyName])[1],\n                    b: color_1.color.rgbToNormalizedRgb(colorObj[config.keyName])[2],\n                };\n                obj[config.keyName] = converted;\n                config.callback && config.callback();\n                this.runUpdate();\n            });\n            return;\n        }\n        if (is_1.is.cssHex(value)) {\n            folder.gui.addColor(obj, config.keyName)\n                .onChange(() => {\n                config.callback && config.callback();\n                this.runUpdate();\n            });\n            return;\n        }\n        if (is_1.is.defined(config.options)) {\n            folder.gui.add(obj, config.keyName, config.options)\n                .onChange(() => {\n                config.callback && config.callback();\n                this.runUpdate();\n            });\n            return;\n        }\n        if (is_1.is.defined(config.min) && is_1.is.defined(config.max)) {\n            folder.gui.add(obj, config.keyName, +config.min, +config.max).step(config.step || 0.1)\n                .onChange(() => {\n                config.callback && config.callback();\n                this.runUpdate();\n            });\n            return;\n        }\n        folder.gui.add(obj, config.keyName)\n            .onChange(() => {\n            config.callback && config.callback();\n            this.runUpdate();\n        });\n    }\n    addObjectToFolder(folderName, obj, mapping) {\n        const folder = this.getFolder(folderName);\n        this.gui.remember(obj);\n        for (let key in obj) {\n            const config = mapping.filter((c) => {\n                return c.keyName == key;\n            })[0];\n            if (config) {\n                this.addObjectPropertyToFolder(folderName, obj, config);\n            }\n        }\n    }\n}\nexports.Datguif = Datguif;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZGF0Z3VpZi9kYXRndWlmLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RhdGd1aWYvZGF0Z3VpZi5qcz84MzE5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZGF0ID0gcmVxdWlyZShcImRhdC5ndWlcIik7XG5jb25zdCBpc18xID0gcmVxdWlyZShcIi4uL2lzL2lzXCIpO1xuY29uc3QgY29sb3JfMSA9IHJlcXVpcmUoXCIuLi9tYXRoZi9jb2xvclwiKTtcbmNsYXNzIERhdGd1aWYge1xuICAgIGNvbnN0cnVjdG9yKGd1aVBhcmFtcykge1xuICAgICAgICBsZXQgb3B0aW9ucyA9IGd1aVBhcmFtcztcbiAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxvYWQgPSBKU09OO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ3VpID0gbmV3IGRhdC5HVUkob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZm9sZGVycyA9IFtdO1xuICAgICAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrcyA9IFtdO1xuICAgIH1cbiAgICBnZXRHdWkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmd1aTtcbiAgICB9XG4gICAgb25VcGRhdGUoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy51cGRhdGVDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgfVxuICAgIHJ1blVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVDYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhZGRCdXR0b24obGFiZWwsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGlkID0gbGFiZWwucmVwbGFjZSgnICcsICdfJyk7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBvYmpbaWRdID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMuZ3VpLmFkZChvYmosIGxhYmVsLnJlcGxhY2UoJyAnLCAnXycpKTtcbiAgICB9XG4gICAgYWRkRm9sZGVyKGZvbGRlck5hbWUsIHBhcmVudEZvbGRlck5hbWUpIHtcbiAgICAgICAgbGV0IGZvbGRlcjtcbiAgICAgICAgaWYgKHRoaXMuZm9sZGVyRXhpc3RzKGZvbGRlck5hbWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvbGRlciBuYW1lcyBtdXN0IGJlIHVuaXF1ZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnRGb2xkZXJOYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRGb2xkZXIgPSB0aGlzLmdldEZvbGRlcihwYXJlbnRGb2xkZXJOYW1lKS5ndWk7XG4gICAgICAgICAgICBmb2xkZXIgPSBwYXJlbnRGb2xkZXIuYWRkRm9sZGVyKGZvbGRlck5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9sZGVyID0gdGhpcy5ndWkuYWRkRm9sZGVyKGZvbGRlck5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZm9sZGVycy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IGZvbGRlck5hbWUsXG4gICAgICAgICAgICBndWk6IGZvbGRlclxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZvbGRlcjtcbiAgICB9XG4gICAgZm9sZGVyRXhpc3RzKGZvbGRlck5hbWUpIHtcbiAgICAgICAgY29uc3QgZm9sZGVyID0gdGhpcy5mb2xkZXJzLmZpbHRlcigoZikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGYubmFtZSA9PSBmb2xkZXJOYW1lO1xuICAgICAgICB9KVswXTtcbiAgICAgICAgcmV0dXJuICEhZm9sZGVyO1xuICAgIH1cbiAgICBnZXRGb2xkZXIoZm9sZGVyTmFtZSkge1xuICAgICAgICBjb25zdCBmb2xkZXIgPSB0aGlzLmZvbGRlcnMuZmlsdGVyKChmKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZi5uYW1lID09IGZvbGRlck5hbWU7XG4gICAgICAgIH0pWzBdO1xuICAgICAgICBpZiAoIWZvbGRlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBmb2xkZXIgbmFtZWQ6JyArIGZvbGRlciArICcgd2FzIGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvbGRlcjtcbiAgICB9XG4gICAgYWRkVG9Gb2xkZXIoZm9sZGVyTmFtZSwgb2JqLCBrZXlOYW1lKSB7XG4gICAgICAgIGNvbnN0IGZvbGRlciA9IHRoaXMuZ2V0Rm9sZGVyKGZvbGRlck5hbWUpO1xuICAgICAgICBmb2xkZXIuZ3VpLmFkZChvYmosIGtleU5hbWUpO1xuICAgIH1cbiAgICBhZGRPYmplY3RQcm9wZXJ0eVRvRm9sZGVyKGZvbGRlck5hbWUsIG9iaiwgY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IGZvbGRlciA9IHRoaXMuZ2V0Rm9sZGVyKGZvbGRlck5hbWUpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG9ialtjb25maWcua2V5TmFtZV07XG4gICAgICAgIGlmICghaXNfMS5pcy5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZS5yICYmIHZhbHVlLmcgJiYgdmFsdWUuYikge1xuICAgICAgICAgICAgY29uc3QgY29sb3JPYmogPSB7fTtcbiAgICAgICAgICAgIGNvbG9yT2JqW2NvbmZpZy5rZXlOYW1lXSA9IGNvbG9yXzEuY29sb3Iubm9ybWFsaXplZFJnYlRvUmdiKGNvbG9yXzEuY29sb3IuY29sb3JSZ2JUb1JnYih2YWx1ZSkpO1xuICAgICAgICAgICAgZm9sZGVyLmd1aS5hZGRDb2xvcihjb2xvck9iaiwgY29uZmlnLmtleU5hbWUpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJ0ZWQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHI6IGNvbG9yXzEuY29sb3IucmdiVG9Ob3JtYWxpemVkUmdiKGNvbG9yT2JqW2NvbmZpZy5rZXlOYW1lXSlbMF0sXG4gICAgICAgICAgICAgICAgICAgIGc6IGNvbG9yXzEuY29sb3IucmdiVG9Ob3JtYWxpemVkUmdiKGNvbG9yT2JqW2NvbmZpZy5rZXlOYW1lXSlbMV0sXG4gICAgICAgICAgICAgICAgICAgIGI6IGNvbG9yXzEuY29sb3IucmdiVG9Ob3JtYWxpemVkUmdiKGNvbG9yT2JqW2NvbmZpZy5rZXlOYW1lXSlbMl0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBvYmpbY29uZmlnLmtleU5hbWVdID0gY29udmVydGVkO1xuICAgICAgICAgICAgICAgIGNvbmZpZy5jYWxsYmFjayAmJiBjb25maWcuY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1blVwZGF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzXzEuaXMuY3NzSGV4KHZhbHVlKSkge1xuICAgICAgICAgICAgZm9sZGVyLmd1aS5hZGRDb2xvcihvYmosIGNvbmZpZy5rZXlOYW1lKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uZmlnLmNhbGxiYWNrICYmIGNvbmZpZy5jYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIHRoaXMucnVuVXBkYXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNfMS5pcy5kZWZpbmVkKGNvbmZpZy5vcHRpb25zKSkge1xuICAgICAgICAgICAgZm9sZGVyLmd1aS5hZGQob2JqLCBjb25maWcua2V5TmFtZSwgY29uZmlnLm9wdGlvbnMpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25maWcuY2FsbGJhY2sgJiYgY29uZmlnLmNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5ydW5VcGRhdGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc18xLmlzLmRlZmluZWQoY29uZmlnLm1pbikgJiYgaXNfMS5pcy5kZWZpbmVkKGNvbmZpZy5tYXgpKSB7XG4gICAgICAgICAgICBmb2xkZXIuZ3VpLmFkZChvYmosIGNvbmZpZy5rZXlOYW1lLCArY29uZmlnLm1pbiwgK2NvbmZpZy5tYXgpLnN0ZXAoY29uZmlnLnN0ZXAgfHwgMC4xKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uZmlnLmNhbGxiYWNrICYmIGNvbmZpZy5jYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIHRoaXMucnVuVXBkYXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb2xkZXIuZ3VpLmFkZChvYmosIGNvbmZpZy5rZXlOYW1lKVxuICAgICAgICAgICAgLm9uQ2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgIGNvbmZpZy5jYWxsYmFjayAmJiBjb25maWcuY2FsbGJhY2soKTtcbiAgICAgICAgICAgIHRoaXMucnVuVXBkYXRlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhZGRPYmplY3RUb0ZvbGRlcihmb2xkZXJOYW1lLCBvYmosIG1hcHBpbmcpIHtcbiAgICAgICAgY29uc3QgZm9sZGVyID0gdGhpcy5nZXRGb2xkZXIoZm9sZGVyTmFtZSk7XG4gICAgICAgIHRoaXMuZ3VpLnJlbWVtYmVyKG9iaik7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiBvYmopIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IG1hcHBpbmcuZmlsdGVyKChjKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGMua2V5TmFtZSA9PSBrZXk7XG4gICAgICAgICAgICB9KVswXTtcbiAgICAgICAgICAgIGlmIChjb25maWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE9iamVjdFByb3BlcnR5VG9Gb2xkZXIoZm9sZGVyTmFtZSwgb2JqLCBjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5EYXRndWlmID0gRGF0Z3VpZjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/datguif/datguif.js\n");

/***/ }),

/***/ "./lib/dom/bom.js":
/*!************************!*\
  !*** ./lib/dom/bom.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_1 = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\nclass bom {\n    static smartResize(callback, options) {\n        let width = 0;\n        let handler = (e) => {\n            let currentWidth = window.innerWidth;\n            let allowCallback = !is_1.is.mobile() || width !== currentWidth;\n            if (allowCallback) {\n                callback(e);\n                width = currentWidth;\n            }\n        };\n        window.addEventListener('resize', handler, options);\n        return () => {\n            window.removeEventListener('resize', handler);\n        };\n    }\n    static appendBrowserNameToElement(element) {\n        const checks = {\n            'ieOrEdge': is_1.is.ieOrEdge,\n            'edge': is_1.is.edge,\n            'ie': is_1.is.ie,\n            'mobile': is_1.is.mobile,\n            'safari': is_1.is.safari,\n            'chrome': is_1.is.chrome,\n            'chromeOs': is_1.is.chrome,\n            'firefox': is_1.is.firefox,\n            'ios': is_1.is.ios,\n            'ipad': is_1.is.ipad,\n        };\n        for (const key in checks) {\n            if (checks[key]()) {\n                element.classList.add(key);\n            }\n        }\n    }\n}\nexports.bom = bom;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2JvbS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9kb20vYm9tLmpzPzAyZDYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBpc18xID0gcmVxdWlyZShcIi4uL2lzL2lzXCIpO1xuY2xhc3MgYm9tIHtcbiAgICBzdGF0aWMgc21hcnRSZXNpemUoY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IHdpZHRoID0gMDtcbiAgICAgICAgbGV0IGhhbmRsZXIgPSAoZSkgPT4ge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICAgICAgbGV0IGFsbG93Q2FsbGJhY2sgPSAhaXNfMS5pcy5tb2JpbGUoKSB8fCB3aWR0aCAhPT0gY3VycmVudFdpZHRoO1xuICAgICAgICAgICAgaWYgKGFsbG93Q2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlKTtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IGN1cnJlbnRXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZXIpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgYXBwZW5kQnJvd3Nlck5hbWVUb0VsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCBjaGVja3MgPSB7XG4gICAgICAgICAgICAnaWVPckVkZ2UnOiBpc18xLmlzLmllT3JFZGdlLFxuICAgICAgICAgICAgJ2VkZ2UnOiBpc18xLmlzLmVkZ2UsXG4gICAgICAgICAgICAnaWUnOiBpc18xLmlzLmllLFxuICAgICAgICAgICAgJ21vYmlsZSc6IGlzXzEuaXMubW9iaWxlLFxuICAgICAgICAgICAgJ3NhZmFyaSc6IGlzXzEuaXMuc2FmYXJpLFxuICAgICAgICAgICAgJ2Nocm9tZSc6IGlzXzEuaXMuY2hyb21lLFxuICAgICAgICAgICAgJ2Nocm9tZU9zJzogaXNfMS5pcy5jaHJvbWUsXG4gICAgICAgICAgICAnZmlyZWZveCc6IGlzXzEuaXMuZmlyZWZveCxcbiAgICAgICAgICAgICdpb3MnOiBpc18xLmlzLmlvcyxcbiAgICAgICAgICAgICdpcGFkJzogaXNfMS5pcy5pcGFkLFxuICAgICAgICB9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVja3Nba2V5XSgpKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLmJvbSA9IGJvbTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/dom/bom.js\n");

/***/ }),

/***/ "./lib/dom/canvas-image-sequence.js":
/*!******************************************!*\
  !*** ./lib/dom/canvas-image-sequence.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dom_1 = __webpack_require__(/*! ../dom/dom */ \"./lib/dom/dom.js\");\nconst is_1 = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\nconst func_1 = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\nconst defer_1 = __webpack_require__(/*! ../func/defer */ \"./lib/func/defer.js\");\nconst blob_loader_1 = __webpack_require__(/*! ../loader/blob-loader */ \"./lib/loader/blob-loader.js\");\nconst mathf_1 = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\nconst dom_watcher_1 = __webpack_require__(/*! ../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nconst multi_interpolate_1 = __webpack_require__(/*! ../interpolate/multi-interpolate */ \"./lib/interpolate/multi-interpolate.js\");\nconst raf_timer_1 = __webpack_require__(/*! ../raf/raf-timer */ \"./lib/raf/raf-timer.js\");\nconst fps_1 = __webpack_require__(/*! ../time/fps */ \"./lib/time/fps.js\");\nconst dom_canvas_1 = __webpack_require__(/*! ../dom/dom-canvas */ \"./lib/dom/dom-canvas.js\");\nexports.canvasImageSequenceErrors = {\n    NO_ELEMENT: 'An element is required for canvas image sequence',\n    NO_IMAGE_SETS: 'Image sets are required for canvas image sequence',\n    NO_IMAGES: 'There are no images defined in your canvas image sequence image set',\n};\nclass CanvasImageSequence {\n    constructor(element, imageSets, options, dpr) {\n        this.lerpAmount = 1;\n        this.element = element;\n        if (!element) {\n            throw new Error(exports.canvasImageSequenceErrors.NO_ELEMENT);\n        }\n        if (!imageSets) {\n            throw new Error(exports.canvasImageSequenceErrors.NO_IMAGE_SETS);\n        }\n        this.imageSets = imageSets;\n        this.activeImageSet = null;\n        this.blobCache = {};\n        this.options = options;\n        this.isPlaying = false;\n        this.canvasElement = document.createElement('canvas');\n        if (this.options && this.options.ariaLabel) {\n            this.canvasElement.setAttribute('aria-label', this.options.ariaLabel);\n            this.canvasElement.setAttribute('role', 'img');\n        }\n        else {\n            this.canvasElement.setAttribute('aria-hidden', 'true');\n        }\n        this.context = this.canvasElement.getContext('2d');\n        this.dpr = func_1.func.setDefault(dpr, window.devicePixelRatio || 1);\n        this.canvasWidth = 0;\n        this.canvasHeight = 0;\n        this.imageNaturalHeight = 0;\n        this.imageNaturalWidth = 0;\n        this.currentFrame = 0;\n        this.lastDrawSource = null;\n        this.targetFrame = 0;\n        this.containScale = null;\n        this.disposed = false;\n        this.fps = new fps_1.Fps(is_1.is.safari() ? 30 : 60);\n        this.cacheImage = new Image();\n        this.rafTimer = null;\n        this.multiInterpolate = null;\n        this.clipMultiInterpolate = null;\n        this.clipPathType = null;\n        this.blobLoader = null;\n        this.progress = null;\n        this.playDefer = null;\n        this.domWatcher = new dom_watcher_1.DomWatcher();\n        this.domWatcher.add({\n            element: window,\n            on: 'smartResize',\n            callback: () => {\n                this.resize();\n                this.flush();\n                this.lastDrawSource = null;\n                this.fps.lock(false);\n                this.lastRenderSource && this.draw(this.lastRenderSource);\n                this.fps.lock(true);\n            },\n            id: 'resize',\n            eventOptions: { passive: true }\n        });\n        this.resize();\n        this.domWatcher.run('resize');\n        this.domWatcher.add({\n            element: window,\n            on: 'smartResize',\n            callback: () => {\n                let newSet = this.getSourceThatShouldLoad(this.imageSets);\n                if (newSet !== this.activeImageSet) {\n                    this.loadNewSet(this.imageSets);\n                    this.load().then(() => {\n                        this.lastDrawSource = null;\n                        this.fps.lock(false);\n                        this.renderByProgress(this.progress || 0);\n                        this.fps.lock(true);\n                    });\n                }\n            },\n            id: 'image-set-resize',\n            eventOptions: { passive: true }\n        });\n        this.element.appendChild(this.canvasElement);\n        this.readyPromise = new defer_1.Defer();\n        this.loadNewSet(imageSets);\n        this.lastRenderSource = null;\n        this.lastDrawSource = null;\n        this.draw =\n            func_1.func.runOnceOnChange(this.draw.bind(this));\n    }\n    setMultiInterpolation(interpolations) {\n        this.multiInterpolate = new multi_interpolate_1.MultiInterpolate({\n            interpolations: [\n                {\n                    id: 'sequence',\n                    progress: interpolations\n                }\n            ]\n        });\n    }\n    resize() {\n        this.canvasWidth = this.element.offsetWidth;\n        this.canvasHeight = this.element.offsetHeight;\n        this.canvasElement.width = this.element.offsetWidth * this.dpr;\n        this.canvasElement.height = this.element.offsetHeight * this.dpr;\n        this.canvasElement.style.width = this.canvasWidth + 'px';\n        this.canvasElement.style.height = this.canvasHeight + 'px';\n        this.context.scale(this.dpr, this.dpr);\n    }\n    load() {\n        if (!this.blobLoader || !this.activeImageSet) {\n            window.setTimeout(() => {\n                this.readyPromise.resolve();\n            });\n            return this.readyPromise.getPromise();\n        }\n        let loadAllBlobs = () => {\n            this.blobLoader.load().then((results) => {\n                this.blobCache = results;\n                this.setImageDimensions().then(() => {\n                    this.blobLoader.dispose();\n                    this.readyPromise.resolve(results);\n                });\n            });\n        };\n        loadAllBlobs();\n        return this.readyPromise.getPromise();\n    }\n    loadNewSet(imageSets) {\n        this.blobLoader && this.blobLoader.dispose();\n        this.imageSets = imageSets;\n        this.activeImageSet = this.getSourceThatShouldLoad(this.imageSets);\n        if (this.activeImageSet && !is_1.is.array(this.activeImageSet.images)) {\n            throw new Error(exports.canvasImageSequenceErrors.NO_IMAGES);\n        }\n        if (this.activeImageSet) {\n            this.blobLoader = new blob_loader_1.BlobLoader(this.activeImageSet.images);\n        }\n        else {\n            this.blobLoader = null;\n        }\n        this.blobCache = {};\n        this.flush();\n        this.lastRenderSource = null;\n        this.readyPromise = new defer_1.Defer();\n    }\n    getSourceThatShouldLoad(sources) {\n        let matchingSouces = [];\n        sources.forEach((source) => {\n            if (!source.when) {\n                matchingSouces.push(source);\n            }\n            else {\n                source.when() && matchingSouces.push(source);\n            }\n        });\n        return matchingSouces[0];\n    }\n    makeImage(source) {\n        return new Promise(resolve => {\n            if (!source || !this.blobCache[source]) {\n                resolve(null);\n                return;\n            }\n            URL.revokeObjectURL(this.cacheImage.src);\n            this.cacheImage.onload = () => {\n                resolve(this.cacheImage);\n            };\n            this.cacheImage.src = URL.createObjectURL(this.blobCache[source]);\n        });\n    }\n    setImageDimensions() {\n        return new Promise(resolve => {\n            const source = this.activeImageSet.images[0];\n            const blob = this.blobCache[source];\n            dom_1.dom.makeImageFromBlob(blob).then((image) => {\n                const bitMapsLoaded = !image.naturalWidth;\n                this.imageNaturalHeight =\n                    bitMapsLoaded ? image.height : image.naturalHeight;\n                this.imageNaturalWidth =\n                    bitMapsLoaded ? image.width : image.naturalWidth;\n                dom_1.dom.deleteImage(image);\n                image = null;\n                resolve();\n            });\n        });\n    }\n    getActiveImages() {\n        return this.activeImageSet.images;\n    }\n    setClipInterpolations(config) {\n        this.clipPathType = config.type;\n        this.clipMultiInterpolate = new multi_interpolate_1.MultiInterpolate({\n            interpolations: config.interpolations\n        });\n    }\n    renderByProgress(n, noMultiInterpolate = false) {\n        this.progress = mathf_1.mathf.clamp01(n);\n        !this.isPlaying && this.renderProgress(n, noMultiInterpolate);\n    }\n    renderProgress(n, noMultiInterpolate = false) {\n        let progress = mathf_1.mathf.clamp01(n);\n        if (this.multiInterpolate && !noMultiInterpolate) {\n            let interpolateMap = this.multiInterpolate.calculate(progress);\n            progress = mathf_1.mathf.clamp01(interpolateMap['sequence']);\n        }\n        if (this.clipMultiInterpolate) {\n            this.clipMultiInterpolate.calculate(progress);\n        }\n        if (progress >= 0.95 || progress <= 0.05) {\n            this.flush();\n        }\n        if (this.activeImageSet) {\n            const total = this.activeImageSet.images.length - 1;\n            const targetFrame = Math.ceil(mathf_1.mathf.lerp(0, total, progress));\n            this.renderFrame(targetFrame);\n        }\n    }\n    renderFrame(i) {\n        if (!this.readyPromise.complete) {\n            return;\n        }\n        this.targetFrame = i;\n        let diff = Math.abs(this.targetFrame - this.currentFrame);\n        if (diff > 1 && !this.isPlaying && this.lerpAmount < 1) {\n            this.currentFrame =\n                mathf_1.mathf.lerp(this.currentFrame, this.targetFrame, this.lerpAmount);\n            diff = Math.abs(this.targetFrame - this.currentFrame);\n            let precision = 0.001;\n            if (diff >= precision) {\n                window.requestAnimationFrame(() => {\n                    this.renderFrame(this.targetFrame);\n                });\n            }\n        }\n        else {\n            this.currentFrame = this.targetFrame;\n        }\n        let imageSource = this.activeImageSet.images[Math.round(this.currentFrame)];\n        this.draw(imageSource);\n    }\n    flush() {\n        this.draw('');\n        this.draw(null);\n    }\n    drawRectangle(config) {\n        let radius = {\n            tl: config.radius,\n            tr: config.radius,\n            br: config.radius,\n            bl: config.radius,\n        };\n        this.context.beginPath();\n        this.context.moveTo(config.left + radius.tl, config.top);\n        this.context.lineTo(config.right - radius.tr, config.top);\n        this.context.quadraticCurveTo(config.right, config.top, config.right, config.top + radius.tr);\n        this.context.lineTo(config.right, config.bottom - radius.br);\n        this.context.quadraticCurveTo(config.right, config.bottom, config.right - radius.br, config.bottom);\n        this.context.lineTo(config.left + radius.bl, config.bottom);\n        this.context.quadraticCurveTo(config.left, config.bottom, config.left, config.bottom - radius.bl);\n        this.context.lineTo(config.left, config.top + radius.tl);\n        this.context.quadraticCurveTo(config.left, config.top, config.left + radius.tl, config.top);\n        this.context.closePath();\n        this.context.fill();\n    }\n    applyCanvasClipping() {\n        let context = this.context;\n        if (this.clipPathType == 'inset') {\n            let results = this.clipMultiInterpolate.getCalculations() || {};\n            let top = results['top'] || 0;\n            let bottom = results['bottom'] || 0;\n            let left = results['left'] || 0;\n            let right = results['right'] || 0;\n            let borderRadius = results['border-radius'] || 0;\n            this.drawRectangle({\n                top: this.canvasHeight - ((1 - top) * this.canvasHeight),\n                left: this.canvasWidth - ((1 - left) * this.canvasWidth),\n                right: (1 - right) * this.canvasWidth,\n                bottom: (1 - bottom) * this.canvasHeight,\n                radius: borderRadius,\n            });\n            this.context.clip();\n        }\n    }\n    clear() {\n        this.context.clearRect(0, 0, this.canvasWidth, this.canvasHeight);\n    }\n    draw(imageSource) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!imageSource || this.disposed) {\n                return;\n            }\n            if (imageSource == this.lastDrawSource) {\n                return;\n            }\n            this.lastDrawSource = imageSource;\n            if (!this.fps.canRun()) {\n                this.fps.schedule(() => {\n                    this.lastDrawSource = null;\n                    this.draw(imageSource);\n                });\n                return;\n            }\n            let image = yield this.makeImage(imageSource);\n            if (!image) {\n                return;\n            }\n            let imageBox = {\n                width: this.imageNaturalWidth,\n                height: this.imageNaturalHeight\n            };\n            let containerBox = {\n                width: this.canvasWidth,\n                height: this.canvasHeight,\n            };\n            this.clear();\n            if (!is_1.is.null(this.clipPathType)) {\n                this.context.save();\n                this.applyCanvasClipping();\n            }\n            if (this.options && this.options.cover) {\n                let cover = mathf_1.mathf.calculateBackgroundCover(containerBox, imageBox);\n                if (this.options && is_1.is.number(this.options.left)) {\n                    cover.xOffset =\n                        (containerBox.width - (imageBox.width * cover.scalar)) * -this.options.left;\n                }\n                if (this.options && is_1.is.number(this.options.right)) {\n                    cover.xOffset = -(containerBox.width - (imageBox.width * cover.scalar));\n                    cover.xOffset +=\n                        (containerBox.width - (imageBox.width * cover.scalar)) * this.options.right;\n                }\n                if (this.options && is_1.is.number(this.options.bottom)) {\n                    cover.yOffset = -(containerBox.height - (imageBox.height * cover.scalar));\n                    cover.yOffset +=\n                        (containerBox.height - (imageBox.height * cover.scalar)) * this.options.bottom;\n                }\n                if (this.options && is_1.is.number(this.options.top)) {\n                    cover.yOffset =\n                        (containerBox.height - (imageBox.height * cover.scalar)) * -this.options.top;\n                }\n                this.context.drawImage(image, -cover.xOffset >> 0, -cover.yOffset >> 0, imageBox.width * cover.scalar >> 0, imageBox.height * cover.scalar >> 0);\n            }\n            else {\n                this.containScale =\n                    mathf_1.mathf.calculateBackgroundContain(containerBox, imageBox);\n                let diffX = (containerBox.width - (imageBox.width * this.containScale)) / 2;\n                let diffY = (containerBox.height - (imageBox.height * this.containScale)) / 2;\n                if (this.options && is_1.is.number(this.options.bottom)) {\n                    diffY = containerBox.height - (imageBox.height * this.containScale);\n                    if (this.options.bottomNoClip) {\n                        diffY -=\n                            (containerBox.height - (imageBox.height * this.containScale))\n                                * this.options.bottom;\n                    }\n                    else {\n                        diffY -= containerBox.height * this.options.bottom;\n                    }\n                }\n                if (this.options && is_1.is.number(this.options.right)) {\n                    diffX = containerBox.width - (imageBox.width * this.containScale);\n                    if (this.options.rightNoClip) {\n                        diffX -=\n                            (containerBox.width - (imageBox.width * this.containScale))\n                                * this.options.right;\n                    }\n                    else {\n                        diffX -= containerBox.width * this.options.right;\n                    }\n                }\n                if (this.options && is_1.is.number(this.options.top)) {\n                    diffY = 0;\n                    if (this.options.topNoClip) {\n                        diffY =\n                            (containerBox.height - (imageBox.height * this.containScale))\n                                * this.options.top;\n                    }\n                    else {\n                        diffY += this.options.top * containerBox.height;\n                    }\n                }\n                if (this.options && is_1.is.number(this.options.left)) {\n                    diffX = 0;\n                    if (this.options.leftNoClip) {\n                        diffX =\n                            (containerBox.width - (imageBox.width * this.containScale))\n                                * this.options.left;\n                    }\n                    else {\n                        diffX += this.options.left * containerBox.width;\n                    }\n                }\n                this.context.drawImage(image, diffX >> 0, diffY >> 0, imageBox.width * this.containScale >> 0, imageBox.height * this.containScale >> 0);\n            }\n            if (!is_1.is.null(this.clipPathType)) {\n                this.context.restore();\n            }\n            this.lastRenderSource = imageSource;\n        });\n    }\n    setSizingOptions(options) {\n        this.options = options;\n    }\n    play(from, to, duration) {\n        this.stop();\n        this.rafTimer = new raf_timer_1.RafTimer((progress) => {\n            let interpolatedProgress = mathf_1.mathf.interpolateRange(progress, 0, 1, from, to);\n            this.renderProgress(interpolatedProgress);\n        });\n        this.rafTimer.setDuration(duration);\n        this.playDefer = new defer_1.Defer();\n        this.rafTimer.onComplete(() => {\n            this.isPlaying = false;\n            this.playDefer.resolve();\n            this.rafTimer.dispose();\n        });\n        this.rafTimer.play();\n        this.isPlaying = true;\n        return this.playDefer.getPromise();\n    }\n    getHexColorAtPoint(coords) {\n        return dom_canvas_1.domCanvas.getColorAtPointAsHex(this.context, coords);\n    }\n    stop() {\n        this.rafTimer && this.rafTimer.pause();\n        this.rafTimer && this.rafTimer.dispose();\n        this.playDefer && this.playDefer.resolve();\n    }\n    getImageSize() {\n        return {\n            width: this.imageNaturalWidth,\n            height: this.imageNaturalHeight,\n        };\n    }\n    dispose() {\n        this.disposed = true;\n        this.stop();\n        this.domWatcher.dispose();\n        this.rafTimer && this.rafTimer.dispose();\n        this.blobLoader && this.blobLoader.dispose();\n        this.element = null;\n        this.blobCache = null;\n        this.canvasElement = null;\n        dom_1.dom.deleteImage(this.cacheImage);\n        this.cacheImage = null;\n        this.context = null;\n    }\n}\nexports.CanvasImageSequence = CanvasImageSequence;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9kb20vY2FudmFzLWltYWdlLXNlcXVlbmNlLmpzPzRlMDAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbS9kb21cIik7XG5jb25zdCBpc18xID0gcmVxdWlyZShcIi4uL2lzL2lzXCIpO1xuY29uc3QgZnVuY18xID0gcmVxdWlyZShcIi4uL2Z1bmMvZnVuY1wiKTtcbmNvbnN0IGRlZmVyXzEgPSByZXF1aXJlKFwiLi4vZnVuYy9kZWZlclwiKTtcbmNvbnN0IGJsb2JfbG9hZGVyXzEgPSByZXF1aXJlKFwiLi4vbG9hZGVyL2Jsb2ItbG9hZGVyXCIpO1xuY29uc3QgbWF0aGZfMSA9IHJlcXVpcmUoXCIuLi9tYXRoZi9tYXRoZlwiKTtcbmNvbnN0IGRvbV93YXRjaGVyXzEgPSByZXF1aXJlKFwiLi4vZG9tL2RvbS13YXRjaGVyXCIpO1xuY29uc3QgbXVsdGlfaW50ZXJwb2xhdGVfMSA9IHJlcXVpcmUoXCIuLi9pbnRlcnBvbGF0ZS9tdWx0aS1pbnRlcnBvbGF0ZVwiKTtcbmNvbnN0IHJhZl90aW1lcl8xID0gcmVxdWlyZShcIi4uL3JhZi9yYWYtdGltZXJcIik7XG5jb25zdCBmcHNfMSA9IHJlcXVpcmUoXCIuLi90aW1lL2Zwc1wiKTtcbmNvbnN0IGRvbV9jYW52YXNfMSA9IHJlcXVpcmUoXCIuLi9kb20vZG9tLWNhbnZhc1wiKTtcbmV4cG9ydHMuY2FudmFzSW1hZ2VTZXF1ZW5jZUVycm9ycyA9IHtcbiAgICBOT19FTEVNRU5UOiAnQW4gZWxlbWVudCBpcyByZXF1aXJlZCBmb3IgY2FudmFzIGltYWdlIHNlcXVlbmNlJyxcbiAgICBOT19JTUFHRV9TRVRTOiAnSW1hZ2Ugc2V0cyBhcmUgcmVxdWlyZWQgZm9yIGNhbnZhcyBpbWFnZSBzZXF1ZW5jZScsXG4gICAgTk9fSU1BR0VTOiAnVGhlcmUgYXJlIG5vIGltYWdlcyBkZWZpbmVkIGluIHlvdXIgY2FudmFzIGltYWdlIHNlcXVlbmNlIGltYWdlIHNldCcsXG59O1xuY2xhc3MgQ2FudmFzSW1hZ2VTZXF1ZW5jZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgaW1hZ2VTZXRzLCBvcHRpb25zLCBkcHIpIHtcbiAgICAgICAgdGhpcy5sZXJwQW1vdW50ID0gMTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXhwb3J0cy5jYW52YXNJbWFnZVNlcXVlbmNlRXJyb3JzLk5PX0VMRU1FTlQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW1hZ2VTZXRzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXhwb3J0cy5jYW52YXNJbWFnZVNlcXVlbmNlRXJyb3JzLk5PX0lNQUdFX1NFVFMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW1hZ2VTZXRzID0gaW1hZ2VTZXRzO1xuICAgICAgICB0aGlzLmFjdGl2ZUltYWdlU2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ibG9iQ2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5pc1BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLmFyaWFMYWJlbCkge1xuICAgICAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHRoaXMub3B0aW9ucy5hcmlhTGFiZWwpO1xuICAgICAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50LnNldEF0dHJpYnV0ZSgncm9sZScsICdpbWcnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhc0VsZW1lbnQuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdGhpcy5kcHIgPSBmdW5jXzEuZnVuYy5zZXREZWZhdWx0KGRwciwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSk7XG4gICAgICAgIHRoaXMuY2FudmFzV2lkdGggPSAwO1xuICAgICAgICB0aGlzLmNhbnZhc0hlaWdodCA9IDA7XG4gICAgICAgIHRoaXMuaW1hZ2VOYXR1cmFsSGVpZ2h0ID0gMDtcbiAgICAgICAgdGhpcy5pbWFnZU5hdHVyYWxXaWR0aCA9IDA7XG4gICAgICAgIHRoaXMuY3VycmVudEZyYW1lID0gMDtcbiAgICAgICAgdGhpcy5sYXN0RHJhd1NvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMudGFyZ2V0RnJhbWUgPSAwO1xuICAgICAgICB0aGlzLmNvbnRhaW5TY2FsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZGlzcG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mcHMgPSBuZXcgZnBzXzEuRnBzKGlzXzEuaXMuc2FmYXJpKCkgPyAzMCA6IDYwKTtcbiAgICAgICAgdGhpcy5jYWNoZUltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIHRoaXMucmFmVGltZXIgPSBudWxsO1xuICAgICAgICB0aGlzLm11bHRpSW50ZXJwb2xhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLmNsaXBNdWx0aUludGVycG9sYXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5jbGlwUGF0aFR5cGUgPSBudWxsO1xuICAgICAgICB0aGlzLmJsb2JMb2FkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy5wbGF5RGVmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgZG9tX3dhdGNoZXJfMS5Eb21XYXRjaGVyKCk7XG4gICAgICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgICAgICAgb246ICdzbWFydFJlc2l6ZScsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdERyYXdTb3VyY2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuZnBzLmxvY2soZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFJlbmRlclNvdXJjZSAmJiB0aGlzLmRyYXcodGhpcy5sYXN0UmVuZGVyU291cmNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZwcy5sb2NrKHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlkOiAncmVzaXplJyxcbiAgICAgICAgICAgIGV2ZW50T3B0aW9uczogeyBwYXNzaXZlOiB0cnVlIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgIHRoaXMuZG9tV2F0Y2hlci5ydW4oJ3Jlc2l6ZScpO1xuICAgICAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgICAgICAgIG9uOiAnc21hcnRSZXNpemUnLFxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbmV3U2V0ID0gdGhpcy5nZXRTb3VyY2VUaGF0U2hvdWxkTG9hZCh0aGlzLmltYWdlU2V0cyk7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1NldCAhPT0gdGhpcy5hY3RpdmVJbWFnZVNldCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWROZXdTZXQodGhpcy5pbWFnZVNldHMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdERyYXdTb3VyY2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcHMubG9jayhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckJ5UHJvZ3Jlc3ModGhpcy5wcm9ncmVzcyB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnBzLmxvY2sodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpZDogJ2ltYWdlLXNldC1yZXNpemUnLFxuICAgICAgICAgICAgZXZlbnRPcHRpb25zOiB7IHBhc3NpdmU6IHRydWUgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY2FudmFzRWxlbWVudCk7XG4gICAgICAgIHRoaXMucmVhZHlQcm9taXNlID0gbmV3IGRlZmVyXzEuRGVmZXIoKTtcbiAgICAgICAgdGhpcy5sb2FkTmV3U2V0KGltYWdlU2V0cyk7XG4gICAgICAgIHRoaXMubGFzdFJlbmRlclNvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdERyYXdTb3VyY2UgPSBudWxsO1xuICAgICAgICB0aGlzLmRyYXcgPVxuICAgICAgICAgICAgZnVuY18xLmZ1bmMucnVuT25jZU9uQ2hhbmdlKHRoaXMuZHJhdy5iaW5kKHRoaXMpKTtcbiAgICB9XG4gICAgc2V0TXVsdGlJbnRlcnBvbGF0aW9uKGludGVycG9sYXRpb25zKSB7XG4gICAgICAgIHRoaXMubXVsdGlJbnRlcnBvbGF0ZSA9IG5ldyBtdWx0aV9pbnRlcnBvbGF0ZV8xLk11bHRpSW50ZXJwb2xhdGUoe1xuICAgICAgICAgICAgaW50ZXJwb2xhdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAnc2VxdWVuY2UnLFxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzczogaW50ZXJwb2xhdGlvbnNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXNpemUoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzV2lkdGggPSB0aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgIHRoaXMuY2FudmFzSGVpZ2h0ID0gdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50LndpZHRoID0gdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoICogdGhpcy5kcHI7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC5oZWlnaHQgPSB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0ICogdGhpcy5kcHI7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC5zdHlsZS53aWR0aCA9IHRoaXMuY2FudmFzV2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gdGhpcy5jYW52YXNIZWlnaHQgKyAncHgnO1xuICAgICAgICB0aGlzLmNvbnRleHQuc2NhbGUodGhpcy5kcHIsIHRoaXMuZHByKTtcbiAgICB9XG4gICAgbG9hZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJsb2JMb2FkZXIgfHwgIXRoaXMuYWN0aXZlSW1hZ2VTZXQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWR5UHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWR5UHJvbWlzZS5nZXRQcm9taXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxvYWRBbGxCbG9icyA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYmxvYkxvYWRlci5sb2FkKCkudGhlbigocmVzdWx0cykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYmxvYkNhY2hlID0gcmVzdWx0cztcbiAgICAgICAgICAgICAgICB0aGlzLnNldEltYWdlRGltZW5zaW9ucygpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsb2JMb2FkZXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWR5UHJvbWlzZS5yZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGxvYWRBbGxCbG9icygpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkeVByb21pc2UuZ2V0UHJvbWlzZSgpO1xuICAgIH1cbiAgICBsb2FkTmV3U2V0KGltYWdlU2V0cykge1xuICAgICAgICB0aGlzLmJsb2JMb2FkZXIgJiYgdGhpcy5ibG9iTG9hZGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5pbWFnZVNldHMgPSBpbWFnZVNldHM7XG4gICAgICAgIHRoaXMuYWN0aXZlSW1hZ2VTZXQgPSB0aGlzLmdldFNvdXJjZVRoYXRTaG91bGRMb2FkKHRoaXMuaW1hZ2VTZXRzKTtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW1hZ2VTZXQgJiYgIWlzXzEuaXMuYXJyYXkodGhpcy5hY3RpdmVJbWFnZVNldC5pbWFnZXMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXhwb3J0cy5jYW52YXNJbWFnZVNlcXVlbmNlRXJyb3JzLk5PX0lNQUdFUyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW1hZ2VTZXQpIHtcbiAgICAgICAgICAgIHRoaXMuYmxvYkxvYWRlciA9IG5ldyBibG9iX2xvYWRlcl8xLkJsb2JMb2FkZXIodGhpcy5hY3RpdmVJbWFnZVNldC5pbWFnZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ibG9iTG9hZGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJsb2JDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIHRoaXMubGFzdFJlbmRlclNvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVhZHlQcm9taXNlID0gbmV3IGRlZmVyXzEuRGVmZXIoKTtcbiAgICB9XG4gICAgZ2V0U291cmNlVGhhdFNob3VsZExvYWQoc291cmNlcykge1xuICAgICAgICBsZXQgbWF0Y2hpbmdTb3VjZXMgPSBbXTtcbiAgICAgICAgc291cmNlcy5mb3JFYWNoKChzb3VyY2UpID0+IHtcbiAgICAgICAgICAgIGlmICghc291cmNlLndoZW4pIHtcbiAgICAgICAgICAgICAgICBtYXRjaGluZ1NvdWNlcy5wdXNoKHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb3VyY2Uud2hlbigpICYmIG1hdGNoaW5nU291Y2VzLnB1c2goc291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtYXRjaGluZ1NvdWNlc1swXTtcbiAgICB9XG4gICAgbWFrZUltYWdlKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZSB8fCAhdGhpcy5ibG9iQ2FjaGVbc291cmNlXSkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh0aGlzLmNhY2hlSW1hZ2Uuc3JjKTtcbiAgICAgICAgICAgIHRoaXMuY2FjaGVJbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLmNhY2hlSW1hZ2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuY2FjaGVJbWFnZS5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMuYmxvYkNhY2hlW3NvdXJjZV0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2V0SW1hZ2VEaW1lbnNpb25zKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLmFjdGl2ZUltYWdlU2V0LmltYWdlc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGJsb2IgPSB0aGlzLmJsb2JDYWNoZVtzb3VyY2VdO1xuICAgICAgICAgICAgZG9tXzEuZG9tLm1ha2VJbWFnZUZyb21CbG9iKGJsb2IpLnRoZW4oKGltYWdlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYml0TWFwc0xvYWRlZCA9ICFpbWFnZS5uYXR1cmFsV2lkdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZU5hdHVyYWxIZWlnaHQgPVxuICAgICAgICAgICAgICAgICAgICBiaXRNYXBzTG9hZGVkID8gaW1hZ2UuaGVpZ2h0IDogaW1hZ2UubmF0dXJhbEhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlTmF0dXJhbFdpZHRoID1cbiAgICAgICAgICAgICAgICAgICAgYml0TWFwc0xvYWRlZCA/IGltYWdlLndpZHRoIDogaW1hZ2UubmF0dXJhbFdpZHRoO1xuICAgICAgICAgICAgICAgIGRvbV8xLmRvbS5kZWxldGVJbWFnZShpbWFnZSk7XG4gICAgICAgICAgICAgICAgaW1hZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0QWN0aXZlSW1hZ2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVJbWFnZVNldC5pbWFnZXM7XG4gICAgfVxuICAgIHNldENsaXBJbnRlcnBvbGF0aW9ucyhjb25maWcpIHtcbiAgICAgICAgdGhpcy5jbGlwUGF0aFR5cGUgPSBjb25maWcudHlwZTtcbiAgICAgICAgdGhpcy5jbGlwTXVsdGlJbnRlcnBvbGF0ZSA9IG5ldyBtdWx0aV9pbnRlcnBvbGF0ZV8xLk11bHRpSW50ZXJwb2xhdGUoe1xuICAgICAgICAgICAgaW50ZXJwb2xhdGlvbnM6IGNvbmZpZy5pbnRlcnBvbGF0aW9uc1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVuZGVyQnlQcm9ncmVzcyhuLCBub011bHRpSW50ZXJwb2xhdGUgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gbWF0aGZfMS5tYXRoZi5jbGFtcDAxKG4pO1xuICAgICAgICAhdGhpcy5pc1BsYXlpbmcgJiYgdGhpcy5yZW5kZXJQcm9ncmVzcyhuLCBub011bHRpSW50ZXJwb2xhdGUpO1xuICAgIH1cbiAgICByZW5kZXJQcm9ncmVzcyhuLCBub011bHRpSW50ZXJwb2xhdGUgPSBmYWxzZSkge1xuICAgICAgICBsZXQgcHJvZ3Jlc3MgPSBtYXRoZl8xLm1hdGhmLmNsYW1wMDEobik7XG4gICAgICAgIGlmICh0aGlzLm11bHRpSW50ZXJwb2xhdGUgJiYgIW5vTXVsdGlJbnRlcnBvbGF0ZSkge1xuICAgICAgICAgICAgbGV0IGludGVycG9sYXRlTWFwID0gdGhpcy5tdWx0aUludGVycG9sYXRlLmNhbGN1bGF0ZShwcm9ncmVzcyk7XG4gICAgICAgICAgICBwcm9ncmVzcyA9IG1hdGhmXzEubWF0aGYuY2xhbXAwMShpbnRlcnBvbGF0ZU1hcFsnc2VxdWVuY2UnXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2xpcE11bHRpSW50ZXJwb2xhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuY2xpcE11bHRpSW50ZXJwb2xhdGUuY2FsY3VsYXRlKHByb2dyZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvZ3Jlc3MgPj0gMC45NSB8fCBwcm9ncmVzcyA8PSAwLjA1KSB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW1hZ2VTZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gdGhpcy5hY3RpdmVJbWFnZVNldC5pbWFnZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEZyYW1lID0gTWF0aC5jZWlsKG1hdGhmXzEubWF0aGYubGVycCgwLCB0b3RhbCwgcHJvZ3Jlc3MpKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyRnJhbWUodGFyZ2V0RnJhbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlckZyYW1lKGkpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlYWR5UHJvbWlzZS5jb21wbGV0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGFyZ2V0RnJhbWUgPSBpO1xuICAgICAgICBsZXQgZGlmZiA9IE1hdGguYWJzKHRoaXMudGFyZ2V0RnJhbWUgLSB0aGlzLmN1cnJlbnRGcmFtZSk7XG4gICAgICAgIGlmIChkaWZmID4gMSAmJiAhdGhpcy5pc1BsYXlpbmcgJiYgdGhpcy5sZXJwQW1vdW50IDwgMSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50RnJhbWUgPVxuICAgICAgICAgICAgICAgIG1hdGhmXzEubWF0aGYubGVycCh0aGlzLmN1cnJlbnRGcmFtZSwgdGhpcy50YXJnZXRGcmFtZSwgdGhpcy5sZXJwQW1vdW50KTtcbiAgICAgICAgICAgIGRpZmYgPSBNYXRoLmFicyh0aGlzLnRhcmdldEZyYW1lIC0gdGhpcy5jdXJyZW50RnJhbWUpO1xuICAgICAgICAgICAgbGV0IHByZWNpc2lvbiA9IDAuMDAxO1xuICAgICAgICAgICAgaWYgKGRpZmYgPj0gcHJlY2lzaW9uKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyRnJhbWUodGhpcy50YXJnZXRGcmFtZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRGcmFtZSA9IHRoaXMudGFyZ2V0RnJhbWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGltYWdlU291cmNlID0gdGhpcy5hY3RpdmVJbWFnZVNldC5pbWFnZXNbTWF0aC5yb3VuZCh0aGlzLmN1cnJlbnRGcmFtZSldO1xuICAgICAgICB0aGlzLmRyYXcoaW1hZ2VTb3VyY2UpO1xuICAgIH1cbiAgICBmbHVzaCgpIHtcbiAgICAgICAgdGhpcy5kcmF3KCcnKTtcbiAgICAgICAgdGhpcy5kcmF3KG51bGwpO1xuICAgIH1cbiAgICBkcmF3UmVjdGFuZ2xlKGNvbmZpZykge1xuICAgICAgICBsZXQgcmFkaXVzID0ge1xuICAgICAgICAgICAgdGw6IGNvbmZpZy5yYWRpdXMsXG4gICAgICAgICAgICB0cjogY29uZmlnLnJhZGl1cyxcbiAgICAgICAgICAgIGJyOiBjb25maWcucmFkaXVzLFxuICAgICAgICAgICAgYmw6IGNvbmZpZy5yYWRpdXMsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgdGhpcy5jb250ZXh0Lm1vdmVUbyhjb25maWcubGVmdCArIHJhZGl1cy50bCwgY29uZmlnLnRvcCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5saW5lVG8oY29uZmlnLnJpZ2h0IC0gcmFkaXVzLnRyLCBjb25maWcudG9wKTtcbiAgICAgICAgdGhpcy5jb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8oY29uZmlnLnJpZ2h0LCBjb25maWcudG9wLCBjb25maWcucmlnaHQsIGNvbmZpZy50b3AgKyByYWRpdXMudHIpO1xuICAgICAgICB0aGlzLmNvbnRleHQubGluZVRvKGNvbmZpZy5yaWdodCwgY29uZmlnLmJvdHRvbSAtIHJhZGl1cy5icik7XG4gICAgICAgIHRoaXMuY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKGNvbmZpZy5yaWdodCwgY29uZmlnLmJvdHRvbSwgY29uZmlnLnJpZ2h0IC0gcmFkaXVzLmJyLCBjb25maWcuYm90dG9tKTtcbiAgICAgICAgdGhpcy5jb250ZXh0LmxpbmVUbyhjb25maWcubGVmdCArIHJhZGl1cy5ibCwgY29uZmlnLmJvdHRvbSk7XG4gICAgICAgIHRoaXMuY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKGNvbmZpZy5sZWZ0LCBjb25maWcuYm90dG9tLCBjb25maWcubGVmdCwgY29uZmlnLmJvdHRvbSAtIHJhZGl1cy5ibCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5saW5lVG8oY29uZmlnLmxlZnQsIGNvbmZpZy50b3AgKyByYWRpdXMudGwpO1xuICAgICAgICB0aGlzLmNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhjb25maWcubGVmdCwgY29uZmlnLnRvcCwgY29uZmlnLmxlZnQgKyByYWRpdXMudGwsIGNvbmZpZy50b3ApO1xuICAgICAgICB0aGlzLmNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsKCk7XG4gICAgfVxuICAgIGFwcGx5Q2FudmFzQ2xpcHBpbmcoKSB7XG4gICAgICAgIGxldCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBpZiAodGhpcy5jbGlwUGF0aFR5cGUgPT0gJ2luc2V0Jykge1xuICAgICAgICAgICAgbGV0IHJlc3VsdHMgPSB0aGlzLmNsaXBNdWx0aUludGVycG9sYXRlLmdldENhbGN1bGF0aW9ucygpIHx8IHt9O1xuICAgICAgICAgICAgbGV0IHRvcCA9IHJlc3VsdHNbJ3RvcCddIHx8IDA7XG4gICAgICAgICAgICBsZXQgYm90dG9tID0gcmVzdWx0c1snYm90dG9tJ10gfHwgMDtcbiAgICAgICAgICAgIGxldCBsZWZ0ID0gcmVzdWx0c1snbGVmdCddIHx8IDA7XG4gICAgICAgICAgICBsZXQgcmlnaHQgPSByZXN1bHRzWydyaWdodCddIHx8IDA7XG4gICAgICAgICAgICBsZXQgYm9yZGVyUmFkaXVzID0gcmVzdWx0c1snYm9yZGVyLXJhZGl1cyddIHx8IDA7XG4gICAgICAgICAgICB0aGlzLmRyYXdSZWN0YW5nbGUoe1xuICAgICAgICAgICAgICAgIHRvcDogdGhpcy5jYW52YXNIZWlnaHQgLSAoKDEgLSB0b3ApICogdGhpcy5jYW52YXNIZWlnaHQpLFxuICAgICAgICAgICAgICAgIGxlZnQ6IHRoaXMuY2FudmFzV2lkdGggLSAoKDEgLSBsZWZ0KSAqIHRoaXMuY2FudmFzV2lkdGgpLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiAoMSAtIHJpZ2h0KSAqIHRoaXMuY2FudmFzV2lkdGgsXG4gICAgICAgICAgICAgICAgYm90dG9tOiAoMSAtIGJvdHRvbSkgKiB0aGlzLmNhbnZhc0hlaWdodCxcbiAgICAgICAgICAgICAgICByYWRpdXM6IGJvcmRlclJhZGl1cyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmNsaXAoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhc1dpZHRoLCB0aGlzLmNhbnZhc0hlaWdodCk7XG4gICAgfVxuICAgIGRyYXcoaW1hZ2VTb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmICghaW1hZ2VTb3VyY2UgfHwgdGhpcy5kaXNwb3NlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbWFnZVNvdXJjZSA9PSB0aGlzLmxhc3REcmF3U291cmNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sYXN0RHJhd1NvdXJjZSA9IGltYWdlU291cmNlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmZwcy5jYW5SdW4oKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnBzLnNjaGVkdWxlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0RHJhd1NvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhdyhpbWFnZVNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGltYWdlID0geWllbGQgdGhpcy5tYWtlSW1hZ2UoaW1hZ2VTb3VyY2UpO1xuICAgICAgICAgICAgaWYgKCFpbWFnZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBpbWFnZUJveCA9IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5pbWFnZU5hdHVyYWxXaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaW1hZ2VOYXR1cmFsSGVpZ2h0XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IGNvbnRhaW5lckJveCA9IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5jYW52YXNXaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuY2FudmFzSGVpZ2h0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgICAgIGlmICghaXNfMS5pcy5udWxsKHRoaXMuY2xpcFBhdGhUeXBlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUNhbnZhc0NsaXBwaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5jb3Zlcikge1xuICAgICAgICAgICAgICAgIGxldCBjb3ZlciA9IG1hdGhmXzEubWF0aGYuY2FsY3VsYXRlQmFja2dyb3VuZENvdmVyKGNvbnRhaW5lckJveCwgaW1hZ2VCb3gpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMgJiYgaXNfMS5pcy5udW1iZXIodGhpcy5vcHRpb25zLmxlZnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdmVyLnhPZmZzZXQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgKGNvbnRhaW5lckJveC53aWR0aCAtIChpbWFnZUJveC53aWR0aCAqIGNvdmVyLnNjYWxhcikpICogLXRoaXMub3B0aW9ucy5sZWZ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zICYmIGlzXzEuaXMubnVtYmVyKHRoaXMub3B0aW9ucy5yaWdodCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY292ZXIueE9mZnNldCA9IC0oY29udGFpbmVyQm94LndpZHRoIC0gKGltYWdlQm94LndpZHRoICogY292ZXIuc2NhbGFyKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvdmVyLnhPZmZzZXQgKz1cbiAgICAgICAgICAgICAgICAgICAgICAgIChjb250YWluZXJCb3gud2lkdGggLSAoaW1hZ2VCb3gud2lkdGggKiBjb3Zlci5zY2FsYXIpKSAqIHRoaXMub3B0aW9ucy5yaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucyAmJiBpc18xLmlzLm51bWJlcih0aGlzLm9wdGlvbnMuYm90dG9tKSkge1xuICAgICAgICAgICAgICAgICAgICBjb3Zlci55T2Zmc2V0ID0gLShjb250YWluZXJCb3guaGVpZ2h0IC0gKGltYWdlQm94LmhlaWdodCAqIGNvdmVyLnNjYWxhcikpO1xuICAgICAgICAgICAgICAgICAgICBjb3Zlci55T2Zmc2V0ICs9XG4gICAgICAgICAgICAgICAgICAgICAgICAoY29udGFpbmVyQm94LmhlaWdodCAtIChpbWFnZUJveC5oZWlnaHQgKiBjb3Zlci5zY2FsYXIpKSAqIHRoaXMub3B0aW9ucy5ib3R0b207XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMgJiYgaXNfMS5pcy5udW1iZXIodGhpcy5vcHRpb25zLnRvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY292ZXIueU9mZnNldCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAoY29udGFpbmVyQm94LmhlaWdodCAtIChpbWFnZUJveC5oZWlnaHQgKiBjb3Zlci5zY2FsYXIpKSAqIC10aGlzLm9wdGlvbnMudG9wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAtY292ZXIueE9mZnNldCA+PiAwLCAtY292ZXIueU9mZnNldCA+PiAwLCBpbWFnZUJveC53aWR0aCAqIGNvdmVyLnNjYWxhciA+PiAwLCBpbWFnZUJveC5oZWlnaHQgKiBjb3Zlci5zY2FsYXIgPj4gMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5TY2FsZSA9XG4gICAgICAgICAgICAgICAgICAgIG1hdGhmXzEubWF0aGYuY2FsY3VsYXRlQmFja2dyb3VuZENvbnRhaW4oY29udGFpbmVyQm94LCBpbWFnZUJveCk7XG4gICAgICAgICAgICAgICAgbGV0IGRpZmZYID0gKGNvbnRhaW5lckJveC53aWR0aCAtIChpbWFnZUJveC53aWR0aCAqIHRoaXMuY29udGFpblNjYWxlKSkgLyAyO1xuICAgICAgICAgICAgICAgIGxldCBkaWZmWSA9IChjb250YWluZXJCb3guaGVpZ2h0IC0gKGltYWdlQm94LmhlaWdodCAqIHRoaXMuY29udGFpblNjYWxlKSkgLyAyO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMgJiYgaXNfMS5pcy5udW1iZXIodGhpcy5vcHRpb25zLmJvdHRvbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlmZlkgPSBjb250YWluZXJCb3guaGVpZ2h0IC0gKGltYWdlQm94LmhlaWdodCAqIHRoaXMuY29udGFpblNjYWxlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ib3R0b21Ob0NsaXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZZIC09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvbnRhaW5lckJveC5oZWlnaHQgLSAoaW1hZ2VCb3guaGVpZ2h0ICogdGhpcy5jb250YWluU2NhbGUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHRoaXMub3B0aW9ucy5ib3R0b207XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmWSAtPSBjb250YWluZXJCb3guaGVpZ2h0ICogdGhpcy5vcHRpb25zLmJvdHRvbTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zICYmIGlzXzEuaXMubnVtYmVyKHRoaXMub3B0aW9ucy5yaWdodCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlmZlggPSBjb250YWluZXJCb3gud2lkdGggLSAoaW1hZ2VCb3gud2lkdGggKiB0aGlzLmNvbnRhaW5TY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmlnaHROb0NsaXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZYIC09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvbnRhaW5lckJveC53aWR0aCAtIChpbWFnZUJveC53aWR0aCAqIHRoaXMuY29udGFpblNjYWxlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiB0aGlzLm9wdGlvbnMucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmWCAtPSBjb250YWluZXJCb3gud2lkdGggKiB0aGlzLm9wdGlvbnMucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucyAmJiBpc18xLmlzLm51bWJlcih0aGlzLm9wdGlvbnMudG9wKSkge1xuICAgICAgICAgICAgICAgICAgICBkaWZmWSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudG9wTm9DbGlwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmWSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvbnRhaW5lckJveC5oZWlnaHQgLSAoaW1hZ2VCb3guaGVpZ2h0ICogdGhpcy5jb250YWluU2NhbGUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHRoaXMub3B0aW9ucy50b3A7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmWSArPSB0aGlzLm9wdGlvbnMudG9wICogY29udGFpbmVyQm94LmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zICYmIGlzXzEuaXMubnVtYmVyKHRoaXMub3B0aW9ucy5sZWZ0KSkge1xuICAgICAgICAgICAgICAgICAgICBkaWZmWCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGVmdE5vQ2xpcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjb250YWluZXJCb3gud2lkdGggLSAoaW1hZ2VCb3gud2lkdGggKiB0aGlzLmNvbnRhaW5TY2FsZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogdGhpcy5vcHRpb25zLmxlZnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmWCArPSB0aGlzLm9wdGlvbnMubGVmdCAqIGNvbnRhaW5lckJveC53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCBkaWZmWCA+PiAwLCBkaWZmWSA+PiAwLCBpbWFnZUJveC53aWR0aCAqIHRoaXMuY29udGFpblNjYWxlID4+IDAsIGltYWdlQm94LmhlaWdodCAqIHRoaXMuY29udGFpblNjYWxlID4+IDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc18xLmlzLm51bGwodGhpcy5jbGlwUGF0aFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubGFzdFJlbmRlclNvdXJjZSA9IGltYWdlU291cmNlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2V0U2l6aW5nT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIHBsYXkoZnJvbSwgdG8sIGR1cmF0aW9uKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB0aGlzLnJhZlRpbWVyID0gbmV3IHJhZl90aW1lcl8xLlJhZlRpbWVyKChwcm9ncmVzcykgPT4ge1xuICAgICAgICAgICAgbGV0IGludGVycG9sYXRlZFByb2dyZXNzID0gbWF0aGZfMS5tYXRoZi5pbnRlcnBvbGF0ZVJhbmdlKHByb2dyZXNzLCAwLCAxLCBmcm9tLCB0byk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclByb2dyZXNzKGludGVycG9sYXRlZFByb2dyZXNzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmFmVGltZXIuc2V0RHVyYXRpb24oZHVyYXRpb24pO1xuICAgICAgICB0aGlzLnBsYXlEZWZlciA9IG5ldyBkZWZlcl8xLkRlZmVyKCk7XG4gICAgICAgIHRoaXMucmFmVGltZXIub25Db21wbGV0ZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzUGxheWluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5wbGF5RGVmZXIucmVzb2x2ZSgpO1xuICAgICAgICAgICAgdGhpcy5yYWZUaW1lci5kaXNwb3NlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJhZlRpbWVyLnBsYXkoKTtcbiAgICAgICAgdGhpcy5pc1BsYXlpbmcgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcy5wbGF5RGVmZXIuZ2V0UHJvbWlzZSgpO1xuICAgIH1cbiAgICBnZXRIZXhDb2xvckF0UG9pbnQoY29vcmRzKSB7XG4gICAgICAgIHJldHVybiBkb21fY2FudmFzXzEuZG9tQ2FudmFzLmdldENvbG9yQXRQb2ludEFzSGV4KHRoaXMuY29udGV4dCwgY29vcmRzKTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5yYWZUaW1lciAmJiB0aGlzLnJhZlRpbWVyLnBhdXNlKCk7XG4gICAgICAgIHRoaXMucmFmVGltZXIgJiYgdGhpcy5yYWZUaW1lci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMucGxheURlZmVyICYmIHRoaXMucGxheURlZmVyLnJlc29sdmUoKTtcbiAgICB9XG4gICAgZ2V0SW1hZ2VTaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMuaW1hZ2VOYXR1cmFsV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaW1hZ2VOYXR1cmFsSGVpZ2h0LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIHRoaXMuZG9tV2F0Y2hlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMucmFmVGltZXIgJiYgdGhpcy5yYWZUaW1lci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuYmxvYkxvYWRlciAmJiB0aGlzLmJsb2JMb2FkZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLmJsb2JDYWNoZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudCA9IG51bGw7XG4gICAgICAgIGRvbV8xLmRvbS5kZWxldGVJbWFnZSh0aGlzLmNhY2hlSW1hZ2UpO1xuICAgICAgICB0aGlzLmNhY2hlSW1hZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2FudmFzSW1hZ2VTZXF1ZW5jZSA9IENhbnZhc0ltYWdlU2VxdWVuY2U7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/dom/canvas-image-sequence.js\n");

/***/ }),

/***/ "./lib/dom/document-mouse-tracker.js":
/*!*******************************************!*\
  !*** ./lib/dom/document-mouse-tracker.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mouse_tracker_1 = __webpack_require__(/*! ./mouse-tracker */ \"./lib/dom/mouse-tracker.js\");\nconst documentMouseTracker = new mouse_tracker_1.MouseTracker(document.body, () => { }, false);\nexports.default = documentMouseTracker;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2RvY3VtZW50LW1vdXNlLXRyYWNrZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZG9tL2RvY3VtZW50LW1vdXNlLXRyYWNrZXIuanM/MDQ0NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG1vdXNlX3RyYWNrZXJfMSA9IHJlcXVpcmUoXCIuL21vdXNlLXRyYWNrZXJcIik7XG5jb25zdCBkb2N1bWVudE1vdXNlVHJhY2tlciA9IG5ldyBtb3VzZV90cmFja2VyXzEuTW91c2VUcmFja2VyKGRvY3VtZW50LmJvZHksICgpID0+IHsgfSwgZmFsc2UpO1xuZXhwb3J0cy5kZWZhdWx0ID0gZG9jdW1lbnRNb3VzZVRyYWNrZXI7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/dom/document-mouse-tracker.js\n");

/***/ }),

/***/ "./lib/dom/dom-canvas.js":
/*!*******************************!*\
  !*** ./lib/dom/dom-canvas.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst color_1 = __webpack_require__(/*! ../mathf/color */ \"./lib/mathf/color.js\");\nclass domCanvas {\n    constructor() { }\n    static setFillColor(context, fillColor) {\n        context.fillStyle = fillColor;\n    }\n    static setStrokeColor(context, strokeColor) {\n        context.strokeStyle = strokeColor;\n    }\n    static line(context, x1, y1, x2, y2) {\n        context.beginPath();\n        context.moveTo(x1, y1);\n        context.lineTo(x2, y2);\n        context.stroke();\n    }\n    static quickText(context, text, x, y) {\n        context.font = '12px sans-serif';\n        context.strokeText(text, x, y);\n    }\n    static point(context, x, y, size = 5) {\n        context.fillRect(x, y, size, size);\n    }\n    static vectorLine(context, v1, v2) {\n        domCanvas.line(context, v1.x, v1.y, v2.x, v2.y);\n    }\n    static vectorPoint(context, v, size = 5) {\n        domCanvas.point(context, v.x, v.y, size);\n    }\n    static vectorQuadrilateral(context, v1, v2, v3, v4) {\n        context.beginPath();\n        context.moveTo(v1.x, v1.y);\n        context.lineTo(v2.x, v2.y);\n        context.lineTo(v3.x, v3.y);\n        context.lineTo(v4.x, v4.y);\n        context.closePath();\n        context.fill();\n    }\n    static drawVectors(context, vectors) {\n        context.beginPath();\n        context.moveTo(vectors[0].x, vectors[0].y);\n        vectors.forEach((v) => {\n            context.lineTo(v.x, v.y);\n        });\n        context.closePath();\n        context.fill();\n    }\n    static getColorAtPointAsRgb(context, coords) {\n        var pixelData = context.getImageData(coords.x, coords.y, 1, 1).data;\n        const rgb = {\n            r: pixelData[0],\n            g: pixelData[1],\n            b: pixelData[2]\n        };\n        return rgb;\n    }\n    static getColorAtPointAsHex(context, coords) {\n        const rgb = domCanvas.getColorAtPointAsRgb(context, coords);\n        return color_1.color.rgbToHex(rgb);\n    }\n}\nexports.domCanvas = domCanvas;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2RvbS1jYW52YXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZG9tL2RvbS1jYW52YXMuanM/ODZkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbG9yXzEgPSByZXF1aXJlKFwiLi4vbWF0aGYvY29sb3JcIik7XG5jbGFzcyBkb21DYW52YXMge1xuICAgIGNvbnN0cnVjdG9yKCkgeyB9XG4gICAgc3RhdGljIHNldEZpbGxDb2xvcihjb250ZXh0LCBmaWxsQ29sb3IpIHtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsQ29sb3I7XG4gICAgfVxuICAgIHN0YXRpYyBzZXRTdHJva2VDb2xvcihjb250ZXh0LCBzdHJva2VDb2xvcikge1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3I7XG4gICAgfVxuICAgIHN0YXRpYyBsaW5lKGNvbnRleHQsIHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKHgxLCB5MSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKHgyLCB5Mik7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuICAgIHN0YXRpYyBxdWlja1RleHQoY29udGV4dCwgdGV4dCwgeCwgeSkge1xuICAgICAgICBjb250ZXh0LmZvbnQgPSAnMTJweCBzYW5zLXNlcmlmJztcbiAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KHRleHQsIHgsIHkpO1xuICAgIH1cbiAgICBzdGF0aWMgcG9pbnQoY29udGV4dCwgeCwgeSwgc2l6ZSA9IDUpIHtcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCh4LCB5LCBzaXplLCBzaXplKTtcbiAgICB9XG4gICAgc3RhdGljIHZlY3RvckxpbmUoY29udGV4dCwgdjEsIHYyKSB7XG4gICAgICAgIGRvbUNhbnZhcy5saW5lKGNvbnRleHQsIHYxLngsIHYxLnksIHYyLngsIHYyLnkpO1xuICAgIH1cbiAgICBzdGF0aWMgdmVjdG9yUG9pbnQoY29udGV4dCwgdiwgc2l6ZSA9IDUpIHtcbiAgICAgICAgZG9tQ2FudmFzLnBvaW50KGNvbnRleHQsIHYueCwgdi55LCBzaXplKTtcbiAgICB9XG4gICAgc3RhdGljIHZlY3RvclF1YWRyaWxhdGVyYWwoY29udGV4dCwgdjEsIHYyLCB2MywgdjQpIHtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8odjEueCwgdjEueSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKHYyLngsIHYyLnkpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyh2My54LCB2My55KTtcbiAgICAgICAgY29udGV4dC5saW5lVG8odjQueCwgdjQueSk7XG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgIH1cbiAgICBzdGF0aWMgZHJhd1ZlY3RvcnMoY29udGV4dCwgdmVjdG9ycykge1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbyh2ZWN0b3JzWzBdLngsIHZlY3RvcnNbMF0ueSk7XG4gICAgICAgIHZlY3RvcnMuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8odi54LCB2LnkpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRDb2xvckF0UG9pbnRBc1JnYihjb250ZXh0LCBjb29yZHMpIHtcbiAgICAgICAgdmFyIHBpeGVsRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKGNvb3Jkcy54LCBjb29yZHMueSwgMSwgMSkuZGF0YTtcbiAgICAgICAgY29uc3QgcmdiID0ge1xuICAgICAgICAgICAgcjogcGl4ZWxEYXRhWzBdLFxuICAgICAgICAgICAgZzogcGl4ZWxEYXRhWzFdLFxuICAgICAgICAgICAgYjogcGl4ZWxEYXRhWzJdXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZ2I7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRDb2xvckF0UG9pbnRBc0hleChjb250ZXh0LCBjb29yZHMpIHtcbiAgICAgICAgY29uc3QgcmdiID0gZG9tQ2FudmFzLmdldENvbG9yQXRQb2ludEFzUmdiKGNvbnRleHQsIGNvb3Jkcyk7XG4gICAgICAgIHJldHVybiBjb2xvcl8xLmNvbG9yLnJnYlRvSGV4KHJnYik7XG4gICAgfVxufVxuZXhwb3J0cy5kb21DYW52YXMgPSBkb21DYW52YXM7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/dom/dom-canvas.js\n");

/***/ }),

/***/ "./lib/dom/dom-watcher.js":
/*!********************************!*\
  !*** ./lib/dom/dom-watcher.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst bom_1 = __webpack_require__(/*! ../dom/bom */ \"./lib/dom/bom.js\");\nclass DomWatcher {\n    constructor() {\n        this.watcherConfigs = [];\n    }\n    add(config) {\n        let listener = (event) => {\n            if (config.runWhen) {\n                config.runWhen() && config.callback(event);\n            }\n            else {\n                config.callback(event);\n            }\n        };\n        config.listener = listener;\n        if (config.on == 'smartResize') {\n            config.remover =\n                bom_1.bom.smartResize(listener, config.eventOptions || {});\n        }\n        else {\n            config.element.addEventListener(config.on, listener, config.eventOptions || {});\n            config.remover = () => {\n                config.element.removeEventListener(config.on, listener);\n            };\n        }\n        this.watcherConfigs.push(config);\n    }\n    removeById(id) {\n        this.watcherConfigs = this.watcherConfigs.filter((config) => {\n            if (config.id && config.id == id) {\n                const remover = config.remover;\n                remover && remover();\n            }\n            else {\n                return config;\n            }\n        });\n    }\n    removeAll() {\n        this.watcherConfigs.forEach((config) => {\n            const remover = config.remover;\n            remover && remover();\n        });\n        this.watcherConfigs = [];\n    }\n    run(id) {\n        let configsToRun = this.watcherConfigs.filter((config) => {\n            return config.id && config.id == id;\n        });\n        configsToRun.forEach((config) => {\n            config.callback() && config.callback();\n        });\n    }\n    dispose() {\n        this.removeAll();\n    }\n}\nexports.DomWatcher = DomWatcher;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2RvbS13YXRjaGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RvbS9kb20td2F0Y2hlci5qcz9lOWI3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgYm9tXzEgPSByZXF1aXJlKFwiLi4vZG9tL2JvbVwiKTtcbmNsYXNzIERvbVdhdGNoZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLndhdGNoZXJDb25maWdzID0gW107XG4gICAgfVxuICAgIGFkZChjb25maWcpIHtcbiAgICAgICAgbGV0IGxpc3RlbmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnJ1bldoZW4pIHtcbiAgICAgICAgICAgICAgICBjb25maWcucnVuV2hlbigpICYmIGNvbmZpZy5jYWxsYmFjayhldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25maWcuY2FsbGJhY2soZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25maWcubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgaWYgKGNvbmZpZy5vbiA9PSAnc21hcnRSZXNpemUnKSB7XG4gICAgICAgICAgICBjb25maWcucmVtb3ZlciA9XG4gICAgICAgICAgICAgICAgYm9tXzEuYm9tLnNtYXJ0UmVzaXplKGxpc3RlbmVyLCBjb25maWcuZXZlbnRPcHRpb25zIHx8IHt9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbmZpZy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoY29uZmlnLm9uLCBsaXN0ZW5lciwgY29uZmlnLmV2ZW50T3B0aW9ucyB8fCB7fSk7XG4gICAgICAgICAgICBjb25maWcucmVtb3ZlciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25maWcuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGNvbmZpZy5vbiwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndhdGNoZXJDb25maWdzLnB1c2goY29uZmlnKTtcbiAgICB9XG4gICAgcmVtb3ZlQnlJZChpZCkge1xuICAgICAgICB0aGlzLndhdGNoZXJDb25maWdzID0gdGhpcy53YXRjaGVyQ29uZmlncy5maWx0ZXIoKGNvbmZpZykgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5pZCAmJiBjb25maWcuaWQgPT0gaWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1vdmVyID0gY29uZmlnLnJlbW92ZXI7XG4gICAgICAgICAgICAgICAgcmVtb3ZlciAmJiByZW1vdmVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVtb3ZlQWxsKCkge1xuICAgICAgICB0aGlzLndhdGNoZXJDb25maWdzLmZvckVhY2goKGNvbmZpZykgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlciA9IGNvbmZpZy5yZW1vdmVyO1xuICAgICAgICAgICAgcmVtb3ZlciAmJiByZW1vdmVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLndhdGNoZXJDb25maWdzID0gW107XG4gICAgfVxuICAgIHJ1bihpZCkge1xuICAgICAgICBsZXQgY29uZmlnc1RvUnVuID0gdGhpcy53YXRjaGVyQ29uZmlncy5maWx0ZXIoKGNvbmZpZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZy5pZCAmJiBjb25maWcuaWQgPT0gaWQ7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25maWdzVG9SdW4uZm9yRWFjaCgoY29uZmlnKSA9PiB7XG4gICAgICAgICAgICBjb25maWcuY2FsbGJhY2soKSAmJiBjb25maWcuY2FsbGJhY2soKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsKCk7XG4gICAgfVxufVxuZXhwb3J0cy5Eb21XYXRjaGVyID0gRG9tV2F0Y2hlcjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/dom/dom-watcher.js\n");

/***/ }),

/***/ "./lib/dom/dom.js":
/*!************************!*\
  !*** ./lib/dom/dom.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mathf_1 = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\nconst defer_1 = __webpack_require__(/*! ../func/defer */ \"./lib/func/defer.js\");\nconst func_1 = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\nconst is_1 = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\nconst dom_watcher_1 = __webpack_require__(/*! ../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nclass dom {\n    static getElementScrolledPercent(element, startOffset = 0, heightOffset = 0, noClamp = false) {\n        const box = element.getBoundingClientRect();\n        const wh = window.innerHeight;\n        const current = wh - (box.top + startOffset);\n        const percent = current / (box.height - startOffset + heightOffset);\n        return noClamp ? percent : mathf_1.mathf.clampAsPercent(percent);\n    }\n    static getScrollYAtPercent(element, startOffset = 0, heightOffset = 0, percent) {\n        const wh = window.innerHeight;\n        const top = dom.getScrollTop(element);\n        const start = top - wh + startOffset;\n        const end = top - wh + element.offsetHeight + heightOffset;\n        return mathf_1.mathf.lerp(start, end, percent);\n    }\n    static setCssVariable(element, name, value) {\n        if (!element) {\n            throw new Error('You need specificy a valid element to apply a css variable');\n        }\n        element.style.setProperty(name, value);\n    }\n    static setCssVariables(element, variables) {\n        for (let key in variables) {\n            element.style.setProperty(key, variables[key]);\n        }\n    }\n    static addStyles(element, styles) {\n        for (var key in styles) {\n            if (key.startsWith('--')) {\n                dom.setCssVariable(element, key, styles[key]);\n            }\n        }\n        Object.assign(element.style, styles);\n    }\n    static testDescendant(element, parentElement) {\n        var currentNode = element.parentNode;\n        while (currentNode) {\n            if (currentNode == parentElement) {\n                return true;\n            }\n            currentNode = currentNode.parentNode;\n        }\n        return false;\n    }\n    static testVideoIsPlaying(video) {\n        return !video.paused && !video.ended && video.readyState > 2;\n    }\n    static resetAllVideosInElement(element) {\n        let videos = [...element.querySelectorAll('video')];\n        videos.forEach((video) => {\n            video.currentTime = 0;\n        });\n    }\n    static pauseAllVideosInElement(element, reset = false) {\n        let videos = [...element.querySelectorAll('video')];\n        videos.forEach((video) => {\n            if (reset) {\n                video.currentTime = 0;\n            }\n            video.pause();\n        });\n    }\n    static playAllVideosInElement(element, reset = false) {\n        let videos = [...element.querySelectorAll('video')];\n        videos.forEach((video) => {\n            if (reset) {\n                video.currentTime = 0;\n            }\n            if (!dom.testVideoIsPlaying(video)) {\n                let playPromise = video.play();\n                playPromise.then(() => { }).catch((e) => { });\n            }\n        });\n    }\n    static whenVideosLoadedInElement(element, timeout = 10000) {\n        let videos = [...element.querySelectorAll('video')];\n        return this.whenVideosLoaded(videos);\n    }\n    static whenVideosLoaded(videos, timeout = 10000) {\n        let promises = [];\n        videos.forEach((video) => {\n            let defer = new defer_1.Defer();\n            promises.push(defer.getPromise());\n            func_1.func.waitUntil(() => video.readyState == 4, timeout, 10).then(() => {\n                defer.resolve();\n            });\n        });\n        return Promise.all(promises);\n    }\n    static event(element, name, data) {\n        var event = new CustomEvent(name, { detail: data });\n        element.dispatchEvent(event);\n    }\n    static createElementFromString(htmlString) {\n        var div = document.createElement('div');\n        div.innerHTML = htmlString.trim();\n        return div.firstChild;\n    }\n    static removeElement(element) {\n        element.parentNode.removeChild(element);\n    }\n    static runAfterWindowLoad(callback) {\n        window.setTimeout(() => {\n            if (is_1.is.windowLoaded()) {\n                callback();\n            }\n            else {\n                window.addEventListener('load', () => {\n                    callback();\n                }, { once: true });\n            }\n        });\n    }\n    static runAfterNotTopOfScreen(callback) {\n        if (window.scrollY !== 0) {\n            callback();\n        }\n        else {\n            window.addEventListener('scroll', () => {\n                callback();\n            }, { once: true, passive: true });\n        }\n    }\n    static aspect() {\n        return window.innerWidth / window.innerHeight;\n    }\n    static getComputedStyle(element) {\n        return window.getComputedStyle(element);\n    }\n    static fetchAndMakeImage(source) {\n        return new Promise(resolve => {\n            fetch(source)\n                .then((response) => {\n                return response.blob();\n            })\n                .then((response) => {\n                const blob = response;\n                const img = document.createElement('img');\n                img.decoding = 'async';\n                img.onload = () => {\n                    resolve(img);\n                };\n                img.src = URL.createObjectURL(blob);\n            });\n        });\n    }\n    static makeImageFromBlob(blob) {\n        return new Promise(resolve => {\n            const img = document.createElement('img');\n            img.decoding = 'async';\n            img.onload = () => {\n                img.onload = null;\n                resolve(img);\n            };\n            img.src = URL.createObjectURL(blob);\n        });\n    }\n    static makeBase64ImageFromBlob(blob) {\n        return new Promise(resolve => {\n            let reader = new FileReader();\n            reader.readAsDataURL(blob);\n            reader.addEventListener(\"load\", () => {\n                const img = document.createElement('img');\n                img.src = reader.result;\n                img.onload = () => {\n                    img.onload = null;\n                    resolve(img);\n                };\n            }, { once: true });\n        });\n    }\n    static copyBase64Image(image) {\n        return new Promise(resolve => {\n            const img = document.createElement('img');\n            img.src = image.src;\n            img.onload = () => {\n                img.onload = null;\n                resolve(img);\n            };\n        });\n    }\n    static deleteImage(image) {\n        if (image) {\n            if (image.src && (image.src.startsWith('blob:') || image.src.startsWith('data:'))) {\n                URL.revokeObjectURL(image.src);\n                image.src = '';\n            }\n            image = null;\n        }\n    }\n    static flushVideos(el, sourceAttribute = '') {\n        let videos = [...el.querySelectorAll('video')];\n        videos.forEach((video) => {\n            let sources = [...video.querySelectorAll('source')];\n            sources.forEach((source) => {\n                const src = source.getAttribute(sourceAttribute) || source.src;\n                source.setAttribute('data-video-src', src);\n                source.removeAttribute('src');\n                source = null;\n            });\n            sources = null;\n            video.load();\n        });\n        videos = null;\n    }\n    static unflushVideos(el, noPlay = false) {\n        let videos = [...el.querySelectorAll('video')];\n        videos.forEach((video) => {\n            let sources = [...video.querySelectorAll('source')];\n            sources.forEach((source) => {\n                if (!source.hasAttribute('data-video-src')) {\n                    return;\n                }\n                const src = source.getAttribute('data-video-src');\n                source.setAttribute('src', src);\n            });\n            sources = null;\n            video.load();\n        });\n        videos = null;\n        if (!noPlay) {\n            dom.playAllVideosInElement(el);\n        }\n    }\n    static getScrollTop(el, includeParent = false) {\n        if (!el) {\n            return 0;\n        }\n        if (includeParent && el.offsetParent) {\n            return el.getBoundingClientRect().top - el.offsetParent.getBoundingClientRect().top + window.scrollY;\n        }\n        else {\n            return el.getBoundingClientRect().top + window.scrollY;\n        }\n    }\n    static forceFocus(el) {\n        dom.resetForceFocus();\n        const currentIndex = el.getAttribute('tabindex');\n        if (is_1.is.defined(currentIndex) && !is_1.is.null(currentIndex)) {\n            el.setAttribute('forcetabindex', currentIndex);\n        }\n        else {\n            el.setAttribute('forcetabindex', 'none');\n        }\n        el.setAttribute('tabindex', '-1');\n        el.focus();\n    }\n    static resetForceFocus() {\n        const previouslyFocusedElement = Array.from(document.querySelectorAll('[forcetabindex]'));\n        previouslyFocusedElement.forEach((element) => {\n            const tabIndex = element.getAttribute('forcetabindex');\n            if (is_1.is.defined(tabIndex) && !is_1.is.null(tabIndex) && tabIndex !== 'none') {\n                element.setAttribute('tabindex', tabIndex);\n            }\n            else {\n                element.removeAttribute('tabindex');\n            }\n            element.removeAttribute('forcetabindex');\n        });\n    }\n    static forceVOFocus(element, interval = 10, repetition = 10) {\n        var focusInterval = interval;\n        var focusTotalRepetitions = repetition;\n        element.setAttribute('tabindex', '0');\n        element.blur();\n        var focusRepetitions = 0;\n        var interval = window.setInterval(function () {\n            element.focus();\n            focusRepetitions++;\n            if (focusRepetitions >= focusTotalRepetitions) {\n                window.clearInterval(interval);\n            }\n        }, focusInterval);\n    }\n    static getStyle(el) {\n        return el['currentStyle'] || window.getComputedStyle(el);\n    }\n    static isDisplayNone(el) {\n        let style = window.getComputedStyle(el).display;\n        return style == 'none';\n    }\n    static isDisplayNoneWithAncestors(el) {\n        let isDisplayNone = dom.isDisplayNone(el);\n        while (el = el.parentElement) {\n            if (!isDisplayNone) {\n                isDisplayNone = dom.isDisplayNone(el);\n            }\n        }\n        return isDisplayNone;\n    }\n    static removeClassByPrefix(el, prefix) {\n        var reg = new RegExp('\\\\b' + prefix + '.*?\\\\b', 'g');\n        el.className = el.className.replace(reg, '');\n        return el;\n    }\n    static getAllTextNodes(el) {\n        var n, a = [], walk = document.createTreeWalker(el, NodeFilter.SHOW_TEXT, null, false);\n        while (n = walk.nextNode())\n            a.push(n);\n        return a;\n    }\n    static appendAfter(nodeToAdd, nodeToAddAfter) {\n        nodeToAddAfter.parentNode.insertBefore(nodeToAdd, nodeToAddAfter.nextSibling);\n    }\n    static disableScrolling() {\n        const disabler = (e) => {\n            e.preventDefault();\n        };\n        const domWatcher = new dom_watcher_1.DomWatcher();\n        domWatcher.add({\n            element: window,\n            on: 'wheel',\n            callback: disabler,\n            eventOptions: {\n                passive: false\n            }\n        });\n        domWatcher.add({\n            element: window,\n            on: 'touchmove',\n            callback: disabler,\n            eventOptions: {\n                passive: false\n            }\n        });\n        return () => {\n            domWatcher.dispose();\n        };\n    }\n    static unorphan(el, lastOnly = false) {\n        let allTextNodes = dom.getAllTextNodes(el);\n        if (lastOnly) {\n            allTextNodes = [allTextNodes[allTextNodes.length - 1]];\n        }\n        var nbsp = '\\xA0';\n        allTextNodes.forEach((node) => {\n            node.nodeValue = node.nodeValue.replace(/\\s+([^\\s]*)\\s*$/, nbsp + '$1');\n        });\n    }\n    static getScrollElement() {\n        return document.scrollingElement || document.documentElement;\n    }\n}\nexports.dom = dom;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2RvbS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9kb20vZG9tLmpzPzdjMTgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBtYXRoZl8xID0gcmVxdWlyZShcIi4uL21hdGhmL21hdGhmXCIpO1xuY29uc3QgZGVmZXJfMSA9IHJlcXVpcmUoXCIuLi9mdW5jL2RlZmVyXCIpO1xuY29uc3QgZnVuY18xID0gcmVxdWlyZShcIi4uL2Z1bmMvZnVuY1wiKTtcbmNvbnN0IGlzXzEgPSByZXF1aXJlKFwiLi4vaXMvaXNcIik7XG5jb25zdCBkb21fd2F0Y2hlcl8xID0gcmVxdWlyZShcIi4uL2RvbS9kb20td2F0Y2hlclwiKTtcbmNsYXNzIGRvbSB7XG4gICAgc3RhdGljIGdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQoZWxlbWVudCwgc3RhcnRPZmZzZXQgPSAwLCBoZWlnaHRPZmZzZXQgPSAwLCBub0NsYW1wID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgYm94ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3Qgd2ggPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB3aCAtIChib3gudG9wICsgc3RhcnRPZmZzZXQpO1xuICAgICAgICBjb25zdCBwZXJjZW50ID0gY3VycmVudCAvIChib3guaGVpZ2h0IC0gc3RhcnRPZmZzZXQgKyBoZWlnaHRPZmZzZXQpO1xuICAgICAgICByZXR1cm4gbm9DbGFtcCA/IHBlcmNlbnQgOiBtYXRoZl8xLm1hdGhmLmNsYW1wQXNQZXJjZW50KHBlcmNlbnQpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0U2Nyb2xsWUF0UGVyY2VudChlbGVtZW50LCBzdGFydE9mZnNldCA9IDAsIGhlaWdodE9mZnNldCA9IDAsIHBlcmNlbnQpIHtcbiAgICAgICAgY29uc3Qgd2ggPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIGNvbnN0IHRvcCA9IGRvbS5nZXRTY3JvbGxUb3AoZWxlbWVudCk7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdG9wIC0gd2ggKyBzdGFydE9mZnNldDtcbiAgICAgICAgY29uc3QgZW5kID0gdG9wIC0gd2ggKyBlbGVtZW50Lm9mZnNldEhlaWdodCArIGhlaWdodE9mZnNldDtcbiAgICAgICAgcmV0dXJuIG1hdGhmXzEubWF0aGYubGVycChzdGFydCwgZW5kLCBwZXJjZW50KTtcbiAgICB9XG4gICAgc3RhdGljIHNldENzc1ZhcmlhYmxlKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbmVlZCBzcGVjaWZpY3kgYSB2YWxpZCBlbGVtZW50IHRvIGFwcGx5IGEgY3NzIHZhcmlhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWx1ZSk7XG4gICAgfVxuICAgIHN0YXRpYyBzZXRDc3NWYXJpYWJsZXMoZWxlbWVudCwgdmFyaWFibGVzKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiB2YXJpYWJsZXMpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YXJpYWJsZXNba2V5XSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGFkZFN0eWxlcyhlbGVtZW50LCBzdHlsZXMpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHN0eWxlcykge1xuICAgICAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCctLScpKSB7XG4gICAgICAgICAgICAgICAgZG9tLnNldENzc1ZhcmlhYmxlKGVsZW1lbnQsIGtleSwgc3R5bGVzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5hc3NpZ24oZWxlbWVudC5zdHlsZSwgc3R5bGVzKTtcbiAgICB9XG4gICAgc3RhdGljIHRlc3REZXNjZW5kYW50KGVsZW1lbnQsIHBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGN1cnJlbnROb2RlID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgICB3aGlsZSAoY3VycmVudE5vZGUpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Tm9kZSA9PSBwYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzdGF0aWMgdGVzdFZpZGVvSXNQbGF5aW5nKHZpZGVvKSB7XG4gICAgICAgIHJldHVybiAhdmlkZW8ucGF1c2VkICYmICF2aWRlby5lbmRlZCAmJiB2aWRlby5yZWFkeVN0YXRlID4gMjtcbiAgICB9XG4gICAgc3RhdGljIHJlc2V0QWxsVmlkZW9zSW5FbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgbGV0IHZpZGVvcyA9IFsuLi5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3ZpZGVvJyldO1xuICAgICAgICB2aWRlb3MuZm9yRWFjaCgodmlkZW8pID0+IHtcbiAgICAgICAgICAgIHZpZGVvLmN1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBwYXVzZUFsbFZpZGVvc0luRWxlbWVudChlbGVtZW50LCByZXNldCA9IGZhbHNlKSB7XG4gICAgICAgIGxldCB2aWRlb3MgPSBbLi4uZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCd2aWRlbycpXTtcbiAgICAgICAgdmlkZW9zLmZvckVhY2goKHZpZGVvKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzZXQpIHtcbiAgICAgICAgICAgICAgICB2aWRlby5jdXJyZW50VGltZSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2aWRlby5wYXVzZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIHBsYXlBbGxWaWRlb3NJbkVsZW1lbnQoZWxlbWVudCwgcmVzZXQgPSBmYWxzZSkge1xuICAgICAgICBsZXQgdmlkZW9zID0gWy4uLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgndmlkZW8nKV07XG4gICAgICAgIHZpZGVvcy5mb3JFYWNoKCh2aWRlbykgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc2V0KSB7XG4gICAgICAgICAgICAgICAgdmlkZW8uY3VycmVudFRpbWUgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkb20udGVzdFZpZGVvSXNQbGF5aW5nKHZpZGVvKSkge1xuICAgICAgICAgICAgICAgIGxldCBwbGF5UHJvbWlzZSA9IHZpZGVvLnBsYXkoKTtcbiAgICAgICAgICAgICAgICBwbGF5UHJvbWlzZS50aGVuKCgpID0+IHsgfSkuY2F0Y2goKGUpID0+IHsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgd2hlblZpZGVvc0xvYWRlZEluRWxlbWVudChlbGVtZW50LCB0aW1lb3V0ID0gMTAwMDApIHtcbiAgICAgICAgbGV0IHZpZGVvcyA9IFsuLi5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3ZpZGVvJyldO1xuICAgICAgICByZXR1cm4gdGhpcy53aGVuVmlkZW9zTG9hZGVkKHZpZGVvcyk7XG4gICAgfVxuICAgIHN0YXRpYyB3aGVuVmlkZW9zTG9hZGVkKHZpZGVvcywgdGltZW91dCA9IDEwMDAwKSB7XG4gICAgICAgIGxldCBwcm9taXNlcyA9IFtdO1xuICAgICAgICB2aWRlb3MuZm9yRWFjaCgodmlkZW8pID0+IHtcbiAgICAgICAgICAgIGxldCBkZWZlciA9IG5ldyBkZWZlcl8xLkRlZmVyKCk7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKGRlZmVyLmdldFByb21pc2UoKSk7XG4gICAgICAgICAgICBmdW5jXzEuZnVuYy53YWl0VW50aWwoKCkgPT4gdmlkZW8ucmVhZHlTdGF0ZSA9PSA0LCB0aW1lb3V0LCAxMCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIH1cbiAgICBzdGF0aWMgZXZlbnQoZWxlbWVudCwgbmFtZSwgZGF0YSkge1xuICAgICAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQobmFtZSwgeyBkZXRhaWw6IGRhdGEgfSk7XG4gICAgICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVFbGVtZW50RnJvbVN0cmluZyhodG1sU3RyaW5nKSB7XG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2LmlubmVySFRNTCA9IGh0bWxTdHJpbmcudHJpbSgpO1xuICAgICAgICByZXR1cm4gZGl2LmZpcnN0Q2hpbGQ7XG4gICAgfVxuICAgIHN0YXRpYyByZW1vdmVFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICAgIH1cbiAgICBzdGF0aWMgcnVuQWZ0ZXJXaW5kb3dMb2FkKGNhbGxiYWNrKSB7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChpc18xLmlzLndpbmRvd0xvYWRlZCgpKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBydW5BZnRlck5vdFRvcE9mU2NyZWVuKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh3aW5kb3cuc2Nyb2xsWSAhPT0gMCkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH0sIHsgb25jZTogdHJ1ZSwgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgYXNwZWN0KCkge1xuICAgICAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgIH1cbiAgICBzdGF0aWMgZmV0Y2hBbmRNYWtlSW1hZ2Uoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGZldGNoKHNvdXJjZSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICAgICAgaW1nLmRlY29kaW5nID0gJ2FzeW5jJztcbiAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGltZyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpbWcuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIG1ha2VJbWFnZUZyb21CbG9iKGJsb2IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICBpbWcuZGVjb2RpbmcgPSAnYXN5bmMnO1xuICAgICAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGltZyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaW1nLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgbWFrZUJhc2U2NEltYWdlRnJvbUJsb2IoYmxvYikge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuICAgICAgICAgICAgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICAgICAgICBpbWcuc3JjID0gcmVhZGVyLnJlc3VsdDtcbiAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpbWcpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgY29weUJhc2U2NEltYWdlKGltYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICAgICAgaW1nLnNyYyA9IGltYWdlLnNyYztcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShpbWcpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBkZWxldGVJbWFnZShpbWFnZSkge1xuICAgICAgICBpZiAoaW1hZ2UpIHtcbiAgICAgICAgICAgIGlmIChpbWFnZS5zcmMgJiYgKGltYWdlLnNyYy5zdGFydHNXaXRoKCdibG9iOicpIHx8IGltYWdlLnNyYy5zdGFydHNXaXRoKCdkYXRhOicpKSkge1xuICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoaW1hZ2Uuc3JjKTtcbiAgICAgICAgICAgICAgICBpbWFnZS5zcmMgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGltYWdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgZmx1c2hWaWRlb3MoZWwsIHNvdXJjZUF0dHJpYnV0ZSA9ICcnKSB7XG4gICAgICAgIGxldCB2aWRlb3MgPSBbLi4uZWwucXVlcnlTZWxlY3RvckFsbCgndmlkZW8nKV07XG4gICAgICAgIHZpZGVvcy5mb3JFYWNoKCh2aWRlbykgPT4ge1xuICAgICAgICAgICAgbGV0IHNvdXJjZXMgPSBbLi4udmlkZW8ucXVlcnlTZWxlY3RvckFsbCgnc291cmNlJyldO1xuICAgICAgICAgICAgc291cmNlcy5mb3JFYWNoKChzb3VyY2UpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzcmMgPSBzb3VyY2UuZ2V0QXR0cmlidXRlKHNvdXJjZUF0dHJpYnV0ZSkgfHwgc291cmNlLnNyYztcbiAgICAgICAgICAgICAgICBzb3VyY2Uuc2V0QXR0cmlidXRlKCdkYXRhLXZpZGVvLXNyYycsIHNyYyk7XG4gICAgICAgICAgICAgICAgc291cmNlLnJlbW92ZUF0dHJpYnV0ZSgnc3JjJyk7XG4gICAgICAgICAgICAgICAgc291cmNlID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc291cmNlcyA9IG51bGw7XG4gICAgICAgICAgICB2aWRlby5sb2FkKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB2aWRlb3MgPSBudWxsO1xuICAgIH1cbiAgICBzdGF0aWMgdW5mbHVzaFZpZGVvcyhlbCwgbm9QbGF5ID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IHZpZGVvcyA9IFsuLi5lbC5xdWVyeVNlbGVjdG9yQWxsKCd2aWRlbycpXTtcbiAgICAgICAgdmlkZW9zLmZvckVhY2goKHZpZGVvKSA9PiB7XG4gICAgICAgICAgICBsZXQgc291cmNlcyA9IFsuLi52aWRlby5xdWVyeVNlbGVjdG9yQWxsKCdzb3VyY2UnKV07XG4gICAgICAgICAgICBzb3VyY2VzLmZvckVhY2goKHNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghc291cmNlLmhhc0F0dHJpYnV0ZSgnZGF0YS12aWRlby1zcmMnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNyYyA9IHNvdXJjZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmlkZW8tc3JjJyk7XG4gICAgICAgICAgICAgICAgc291cmNlLnNldEF0dHJpYnV0ZSgnc3JjJywgc3JjKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc291cmNlcyA9IG51bGw7XG4gICAgICAgICAgICB2aWRlby5sb2FkKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB2aWRlb3MgPSBudWxsO1xuICAgICAgICBpZiAoIW5vUGxheSkge1xuICAgICAgICAgICAgZG9tLnBsYXlBbGxWaWRlb3NJbkVsZW1lbnQoZWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBnZXRTY3JvbGxUb3AoZWwsIGluY2x1ZGVQYXJlbnQgPSBmYWxzZSkge1xuICAgICAgICBpZiAoIWVsKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jbHVkZVBhcmVudCAmJiBlbC5vZmZzZXRQYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSBlbC5vZmZzZXRQYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgd2luZG93LnNjcm9sbFk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgd2luZG93LnNjcm9sbFk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGZvcmNlRm9jdXMoZWwpIHtcbiAgICAgICAgZG9tLnJlc2V0Rm9yY2VGb2N1cygpO1xuICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBlbC5nZXRBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG4gICAgICAgIGlmIChpc18xLmlzLmRlZmluZWQoY3VycmVudEluZGV4KSAmJiAhaXNfMS5pcy5udWxsKGN1cnJlbnRJbmRleCkpIHtcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZm9yY2V0YWJpbmRleCcsIGN1cnJlbnRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2ZvcmNldGFiaW5kZXgnLCAnbm9uZScpO1xuICAgICAgICB9XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgZWwuZm9jdXMoKTtcbiAgICB9XG4gICAgc3RhdGljIHJlc2V0Rm9yY2VGb2N1cygpIHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNseUZvY3VzZWRFbGVtZW50ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZm9yY2V0YWJpbmRleF0nKSk7XG4gICAgICAgIHByZXZpb3VzbHlGb2N1c2VkRWxlbWVudC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YWJJbmRleCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdmb3JjZXRhYmluZGV4Jyk7XG4gICAgICAgICAgICBpZiAoaXNfMS5pcy5kZWZpbmVkKHRhYkluZGV4KSAmJiAhaXNfMS5pcy5udWxsKHRhYkluZGV4KSAmJiB0YWJJbmRleCAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgdGFiSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZm9yY2V0YWJpbmRleCcpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGZvcmNlVk9Gb2N1cyhlbGVtZW50LCBpbnRlcnZhbCA9IDEwLCByZXBldGl0aW9uID0gMTApIHtcbiAgICAgICAgdmFyIGZvY3VzSW50ZXJ2YWwgPSBpbnRlcnZhbDtcbiAgICAgICAgdmFyIGZvY3VzVG90YWxSZXBldGl0aW9ucyA9IHJlcGV0aXRpb247XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gICAgICAgIGVsZW1lbnQuYmx1cigpO1xuICAgICAgICB2YXIgZm9jdXNSZXBldGl0aW9ucyA9IDA7XG4gICAgICAgIHZhciBpbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBlbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgICBmb2N1c1JlcGV0aXRpb25zKys7XG4gICAgICAgICAgICBpZiAoZm9jdXNSZXBldGl0aW9ucyA+PSBmb2N1c1RvdGFsUmVwZXRpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZvY3VzSW50ZXJ2YWwpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0U3R5bGUoZWwpIHtcbiAgICAgICAgcmV0dXJuIGVsWydjdXJyZW50U3R5bGUnXSB8fCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG4gICAgfVxuICAgIHN0YXRpYyBpc0Rpc3BsYXlOb25lKGVsKSB7XG4gICAgICAgIGxldCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS5kaXNwbGF5O1xuICAgICAgICByZXR1cm4gc3R5bGUgPT0gJ25vbmUnO1xuICAgIH1cbiAgICBzdGF0aWMgaXNEaXNwbGF5Tm9uZVdpdGhBbmNlc3RvcnMoZWwpIHtcbiAgICAgICAgbGV0IGlzRGlzcGxheU5vbmUgPSBkb20uaXNEaXNwbGF5Tm9uZShlbCk7XG4gICAgICAgIHdoaWxlIChlbCA9IGVsLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmICghaXNEaXNwbGF5Tm9uZSkge1xuICAgICAgICAgICAgICAgIGlzRGlzcGxheU5vbmUgPSBkb20uaXNEaXNwbGF5Tm9uZShlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzRGlzcGxheU5vbmU7XG4gICAgfVxuICAgIHN0YXRpYyByZW1vdmVDbGFzc0J5UHJlZml4KGVsLCBwcmVmaXgpIHtcbiAgICAgICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoJ1xcXFxiJyArIHByZWZpeCArICcuKj9cXFxcYicsICdnJyk7XG4gICAgICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZS5yZXBsYWNlKHJlZywgJycpO1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRBbGxUZXh0Tm9kZXMoZWwpIHtcbiAgICAgICAgdmFyIG4sIGEgPSBbXSwgd2FsayA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZWwsIE5vZGVGaWx0ZXIuU0hPV19URVhULCBudWxsLCBmYWxzZSk7XG4gICAgICAgIHdoaWxlIChuID0gd2Fsay5uZXh0Tm9kZSgpKVxuICAgICAgICAgICAgYS5wdXNoKG4pO1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG4gICAgc3RhdGljIGFwcGVuZEFmdGVyKG5vZGVUb0FkZCwgbm9kZVRvQWRkQWZ0ZXIpIHtcbiAgICAgICAgbm9kZVRvQWRkQWZ0ZXIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZVRvQWRkLCBub2RlVG9BZGRBZnRlci5uZXh0U2libGluZyk7XG4gICAgfVxuICAgIHN0YXRpYyBkaXNhYmxlU2Nyb2xsaW5nKCkge1xuICAgICAgICBjb25zdCBkaXNhYmxlciA9IChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGRvbVdhdGNoZXIgPSBuZXcgZG9tX3dhdGNoZXJfMS5Eb21XYXRjaGVyKCk7XG4gICAgICAgIGRvbVdhdGNoZXIuYWRkKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgICAgICAgIG9uOiAnd2hlZWwnLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGRpc2FibGVyLFxuICAgICAgICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGRvbVdhdGNoZXIuYWRkKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgICAgICAgIG9uOiAndG91Y2htb3ZlJyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBkaXNhYmxlcixcbiAgICAgICAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgZG9tV2F0Y2hlci5kaXNwb3NlKCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyB1bm9ycGhhbihlbCwgbGFzdE9ubHkgPSBmYWxzZSkge1xuICAgICAgICBsZXQgYWxsVGV4dE5vZGVzID0gZG9tLmdldEFsbFRleHROb2RlcyhlbCk7XG4gICAgICAgIGlmIChsYXN0T25seSkge1xuICAgICAgICAgICAgYWxsVGV4dE5vZGVzID0gW2FsbFRleHROb2Rlc1thbGxUZXh0Tm9kZXMubGVuZ3RoIC0gMV1dO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuYnNwID0gJ1xceEEwJztcbiAgICAgICAgYWxsVGV4dE5vZGVzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgICAgIG5vZGUubm9kZVZhbHVlID0gbm9kZS5ub2RlVmFsdWUucmVwbGFjZSgvXFxzKyhbXlxcc10qKVxccyokLywgbmJzcCArICckMScpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGdldFNjcm9sbEVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICB9XG59XG5leHBvcnRzLmRvbSA9IGRvbTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/dom/dom.js\n");

/***/ }),

/***/ "./lib/dom/element-visibility.js":
/*!***************************************!*\
  !*** ./lib/dom/element-visibility.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst defer_1 = __webpack_require__(/*! ../func/defer */ \"./lib/func/defer.js\");\nclass elementVisibility {\n    static inview(element, options = {}, callback) {\n        let cachedChanges = [];\n        let cachedLastChange = null;\n        let cachedInview = null;\n        let ready = false;\n        let readyPromise = new defer_1.Defer();\n        const state = () => {\n            return {\n                changes: cachedChanges,\n                lastChange: cachedLastChange,\n                inview: cachedInview,\n                ready: ready\n            };\n        };\n        const onChange = (entries) => {\n            if (entries.length >= 1) {\n                cachedChanges = entries;\n                cachedLastChange = entries.slice(-1)[0];\n                cachedInview = cachedLastChange.isIntersecting;\n                ready = true;\n                readyPromise.resolve();\n            }\n            callback && callback(element, entries.slice(-1)[0], dispose);\n        };\n        let inviewBypassParam = window.location.search.split('evBypass=')[1];\n        inviewBypassParam = inviewBypassParam && inviewBypassParam.split('&')[0];\n        if (inviewBypassParam == 'true') {\n            window.setTimeout(() => {\n                callback && callback(element, {\n                    isIntersecting: true,\n                    isVisible: true\n                }, () => { });\n                readyPromise.resolve();\n            });\n            return {\n                observer: null,\n                dispose: () => { },\n                state: () => {\n                    return {\n                        ready: true,\n                        inview: true\n                    };\n                },\n                readyPromise: readyPromise.getPromise()\n            };\n        }\n        let dispose = () => {\n            observer && observer.unobserve(element);\n            observer && observer.disconnect();\n            cachedChanges = [];\n            cachedLastChange = null;\n        };\n        let observer = new IntersectionObserver(onChange, options);\n        observer.observe(element);\n        return {\n            observer: observer,\n            dispose: dispose,\n            state: state,\n            readyPromise: readyPromise.getPromise()\n        };\n    }\n}\nexports.elementVisibility = elementVisibility;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2VsZW1lbnQtdmlzaWJpbGl0eS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9kb20vZWxlbWVudC12aXNpYmlsaXR5LmpzPzU3MTciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBkZWZlcl8xID0gcmVxdWlyZShcIi4uL2Z1bmMvZGVmZXJcIik7XG5jbGFzcyBlbGVtZW50VmlzaWJpbGl0eSB7XG4gICAgc3RhdGljIGludmlldyhlbGVtZW50LCBvcHRpb25zID0ge30sIGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCBjYWNoZWRDaGFuZ2VzID0gW107XG4gICAgICAgIGxldCBjYWNoZWRMYXN0Q2hhbmdlID0gbnVsbDtcbiAgICAgICAgbGV0IGNhY2hlZEludmlldyA9IG51bGw7XG4gICAgICAgIGxldCByZWFkeSA9IGZhbHNlO1xuICAgICAgICBsZXQgcmVhZHlQcm9taXNlID0gbmV3IGRlZmVyXzEuRGVmZXIoKTtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNoYW5nZXM6IGNhY2hlZENoYW5nZXMsXG4gICAgICAgICAgICAgICAgbGFzdENoYW5nZTogY2FjaGVkTGFzdENoYW5nZSxcbiAgICAgICAgICAgICAgICBpbnZpZXc6IGNhY2hlZEludmlldyxcbiAgICAgICAgICAgICAgICByZWFkeTogcmVhZHlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG9uQ2hhbmdlID0gKGVudHJpZXMpID0+IHtcbiAgICAgICAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgICAgICAgY2FjaGVkQ2hhbmdlcyA9IGVudHJpZXM7XG4gICAgICAgICAgICAgICAgY2FjaGVkTGFzdENoYW5nZSA9IGVudHJpZXMuc2xpY2UoLTEpWzBdO1xuICAgICAgICAgICAgICAgIGNhY2hlZEludmlldyA9IGNhY2hlZExhc3RDaGFuZ2UuaXNJbnRlcnNlY3Rpbmc7XG4gICAgICAgICAgICAgICAgcmVhZHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlYWR5UHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhlbGVtZW50LCBlbnRyaWVzLnNsaWNlKC0xKVswXSwgZGlzcG9zZSk7XG4gICAgICAgIH07XG4gICAgICAgIGxldCBpbnZpZXdCeXBhc3NQYXJhbSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3BsaXQoJ2V2QnlwYXNzPScpWzFdO1xuICAgICAgICBpbnZpZXdCeXBhc3NQYXJhbSA9IGludmlld0J5cGFzc1BhcmFtICYmIGludmlld0J5cGFzc1BhcmFtLnNwbGl0KCcmJylbMF07XG4gICAgICAgIGlmIChpbnZpZXdCeXBhc3NQYXJhbSA9PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhlbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgICAgIGlzSW50ZXJzZWN0aW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBpc1Zpc2libGU6IHRydWVcbiAgICAgICAgICAgICAgICB9LCAoKSA9PiB7IH0pO1xuICAgICAgICAgICAgICAgIHJlYWR5UHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgZGlzcG9zZTogKCkgPT4geyB9LFxuICAgICAgICAgICAgICAgIHN0YXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkeTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludmlldzogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVhZHlQcm9taXNlOiByZWFkeVByb21pc2UuZ2V0UHJvbWlzZSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGxldCBkaXNwb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgb2JzZXJ2ZXIgJiYgb2JzZXJ2ZXIudW5vYnNlcnZlKGVsZW1lbnQpO1xuICAgICAgICAgICAgb2JzZXJ2ZXIgJiYgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgY2FjaGVkQ2hhbmdlcyA9IFtdO1xuICAgICAgICAgICAgY2FjaGVkTGFzdENoYW5nZSA9IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIGxldCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihvbkNoYW5nZSwgb3B0aW9ucyk7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvYnNlcnZlcjogb2JzZXJ2ZXIsXG4gICAgICAgICAgICBkaXNwb3NlOiBkaXNwb3NlLFxuICAgICAgICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgICAgICAgcmVhZHlQcm9taXNlOiByZWFkeVByb21pc2UuZ2V0UHJvbWlzZSgpXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5lbGVtZW50VmlzaWJpbGl0eSA9IGVsZW1lbnRWaXNpYmlsaXR5O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/dom/element-visibility.js\n");

/***/ }),

/***/ "./lib/dom/global-window.js":
/*!**********************************!*\
  !*** ./lib/dom/global-window.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dom_watcher_1 = __webpack_require__(/*! ./dom-watcher */ \"./lib/dom/dom-watcher.js\");\nclass GlobalWindow {\n    constructor() {\n        this.watcher = new dom_watcher_1.DomWatcher();\n        this.scrollY = window.scrollY;\n        this.width = window.innerWidth;\n        this.height = window.innerHeight;\n        this.watcher.add({\n            element: window,\n            on: 'scroll',\n            callback: this.onScroll.bind(this),\n            eventOptions: { passive: true }\n        });\n        this.watcher.add({\n            element: window,\n            on: 'resize',\n            callback: this.onResize.bind(this),\n            eventOptions: { passive: true }\n        });\n    }\n    onResize() {\n        this.scrollY = window.scrollY;\n        this.width = window.innerWidth;\n        this.height = window.innerHeight;\n    }\n    onScroll() {\n        this.scrollY = window.scrollY;\n    }\n    dispose() {\n        this.watcher.dispose();\n    }\n}\nlet globalWindow = new GlobalWindow();\nif (window['DEGU_JS_GLOBAL_WINDOW']) {\n    globalWindow = window['DEGU_JS_GLOBAL_WINDOW'];\n}\nelse {\n    window['DEGU_JS_GLOBAL_WINDOW'] = globalWindow;\n}\nexports.default = globalWindow;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2dsb2JhbC13aW5kb3cuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZG9tL2dsb2JhbC13aW5kb3cuanM/ZjE2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRvbV93YXRjaGVyXzEgPSByZXF1aXJlKFwiLi9kb20td2F0Y2hlclwiKTtcbmNsYXNzIEdsb2JhbFdpbmRvdyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMud2F0Y2hlciA9IG5ldyBkb21fd2F0Y2hlcl8xLkRvbVdhdGNoZXIoKTtcbiAgICAgICAgdGhpcy5zY3JvbGxZID0gd2luZG93LnNjcm9sbFk7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHRoaXMud2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMub25TY3JvbGwuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGV2ZW50T3B0aW9uczogeyBwYXNzaXZlOiB0cnVlIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgICAgICAgb246ICdyZXNpemUnLFxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGV2ZW50T3B0aW9uczogeyBwYXNzaXZlOiB0cnVlIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uUmVzaXplKCkge1xuICAgICAgICB0aGlzLnNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG4gICAgb25TY3JvbGwoKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsWSA9IHdpbmRvdy5zY3JvbGxZO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLndhdGNoZXIuZGlzcG9zZSgpO1xuICAgIH1cbn1cbmxldCBnbG9iYWxXaW5kb3cgPSBuZXcgR2xvYmFsV2luZG93KCk7XG5pZiAod2luZG93WydERUdVX0pTX0dMT0JBTF9XSU5ET1cnXSkge1xuICAgIGdsb2JhbFdpbmRvdyA9IHdpbmRvd1snREVHVV9KU19HTE9CQUxfV0lORE9XJ107XG59XG5lbHNlIHtcbiAgICB3aW5kb3dbJ0RFR1VfSlNfR0xPQkFMX1dJTkRPVyddID0gZ2xvYmFsV2luZG93O1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gZ2xvYmFsV2luZG93O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/dom/global-window.js\n");

/***/ }),

/***/ "./lib/dom/inview.js":
/*!***************************!*\
  !*** ./lib/dom/inview.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst raf_1 = __webpack_require__(/*! ../raf/raf */ \"./lib/raf/raf.js\");\nconst dom_watcher_1 = __webpack_require__(/*! ../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nconst mathf_1 = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\nconst InviewDefaultClassNames = {\n    READY: 'ready',\n    IN: 'in',\n    IN_ONCE: 'in-once',\n    IN_FOLD: 'in-fold',\n    DOWN: 'down',\n    UP: 'up',\n    OUT: 'out',\n};\nclass Inview {\n    constructor(config) {\n        this.isInState = false;\n        this.config = Object.assign({\n            elementBaseline: 0,\n            viewportOffset: 0,\n            outviewOnlyOnElementExit: false,\n            downOnlyMode: false\n        }, config);\n        this.inviewClassNames = Object.assign({}, InviewDefaultClassNames);\n        if (config.inviewClassNames) {\n            this.inviewClassNames = Object.assign(this.inviewClassNames, config.inviewClassNames);\n        }\n        this.raf = new raf_1.Raf(this.onRaf.bind(this));\n        this.readWrite = new raf_1.Raf();\n        this.scrollY = window.scrollY;\n        this.watcher = new dom_watcher_1.DomWatcher();\n        this.watcher.add({\n            element: window,\n            on: 'scroll',\n            callback: this.onWindowScroll.bind(this),\n            eventOptions: { passive: true }\n        });\n        this.watcher.add({\n            element: window,\n            on: 'smartResize',\n            callback: this.onWindowScroll.bind(this),\n            eventOptions: { passive: true }\n        });\n        this.onWindowScroll();\n        if (!this.config.element) {\n            throw new Error(\"No element is defined for inview\");\n        }\n        this.targetElements = [this.config.element];\n        if (this.config.childSelector) {\n            const childSelectors = Array.from(this.config.element.querySelectorAll(this.config.childSelector));\n            this.targetElements = [...this.targetElements, ...childSelectors];\n            this.readWrite.write(() => {\n                this.targetElements.forEach((target, i) => {\n                    target.setAttribute('inview-index', i + '');\n                });\n            });\n        }\n        this.targetElements.forEach((target, i) => {\n            this.readWrite.write(() => {\n                target.classList.add(this.inviewClassNames['READY']);\n            });\n        });\n        this.raf.runWhenElementIsInview(this.config.element, this.config.evIntersectionObserverOptions || {\n            rootMargin: '100px 0px 100px 0px'\n        }).then(() => {\n            this.raf.start();\n        });\n        this.onRaf(true);\n    }\n    onWindowScroll() {\n        this.raf.read(() => {\n            const scrollY = window.scrollY;\n            this.scrollDirection = mathf_1.mathf.direction(this.scrollY, scrollY);\n            this.scrollY = scrollY;\n        });\n    }\n    onRaf(force) {\n        const writer = force ? this.readWrite : this.raf;\n        writer.read(() => {\n            let wh = window.innerHeight;\n            let box = this.config.element.getBoundingClientRect();\n            let elementBaseline = box.top + (this.config.elementBaseline * box.height);\n            let inPercent = 1 - mathf_1.mathf.inverseLerp(0, wh, elementBaseline, true);\n            let outPercent = 1 - mathf_1.mathf.inverseLerp(0, wh, box.top + box.height, true);\n            if (this.config.outviewOnlyOnElementExit) {\n                let topPercent = 1 - mathf_1.mathf.inverseLerp(0, wh, box.top, true);\n                let bottomPercent = outPercent;\n                const completelyOutOfView = !mathf_1.mathf.isBetween(topPercent, 0, 1) && !mathf_1.mathf.isBetween(bottomPercent, 0, 1);\n                if (inPercent < this.config.viewportOffset || outPercent >= 1) {\n                    if (completelyOutOfView) {\n                        this.runOutviewState(force);\n                    }\n                }\n                else {\n                    this.runInviewState(force);\n                }\n            }\n            else if (this.config.downOnlyMode) {\n                let topPercent = 1 - mathf_1.mathf.inverseLerp(0, wh, box.top, true);\n                let bottomPercent = outPercent;\n                const topOfElementIsBelowViewport = topPercent < 0;\n                const bottomOfElementIsAboveViewport = bottomPercent >= 1;\n                if (inPercent < this.config.viewportOffset || outPercent >= 1) {\n                    if (topOfElementIsBelowViewport) {\n                        this.runOutviewState(force);\n                    }\n                    if (bottomOfElementIsAboveViewport) {\n                        this.runInviewState(force);\n                    }\n                }\n                else {\n                    this.runInviewState(force);\n                }\n            }\n            else {\n                if (inPercent < this.config.viewportOffset || outPercent >= 1) {\n                    this.runOutviewState(force);\n                }\n                else {\n                    this.runInviewState(force);\n                }\n            }\n        });\n    }\n    runInviewState(force) {\n        if (this.isInState) {\n            return;\n        }\n        this.readWrite.write(() => {\n            this.targetElements.forEach((el) => {\n                el.classList.remove(this.inviewClassNames['OUT']);\n                el.classList.add(this.inviewClassNames['IN']);\n                if (!this.inOnce) {\n                    el.classList.add(this.inviewClassNames['IN_ONCE']);\n                    this.inOnce = true;\n                    if (window.scrollY == 0) {\n                        el.classList.add(this.inviewClassNames['IN_FOLD']);\n                    }\n                }\n                el.classList.remove(this.inviewClassNames['UP']);\n                el.classList.remove(this.inviewClassNames['DOWN']);\n                el.classList.add(this.scrollDirection == -1 ? this.inviewClassNames['UP'] : this.inviewClassNames['DOWN']);\n                this.isInState = true;\n            });\n        });\n    }\n    runOutviewState(force) {\n        if (!this.isInState && !force) {\n            return;\n        }\n        this.readWrite.write(() => {\n            this.targetElements.forEach((el) => {\n                el.classList.add(this.inviewClassNames['OUT']);\n                el.classList.remove(this.inviewClassNames['IN']);\n                el.classList.remove(this.inviewClassNames['UP']);\n                el.classList.remove(this.inviewClassNames['DOWN']);\n                el.classList.add(this.scrollDirection == -1 ? this.inviewClassNames['UP'] : this.inviewClassNames['DOWN']);\n                this.isInState = false;\n            });\n        });\n    }\n    dispose() {\n        this.raf && this.raf.dispose();\n        this.readWrite && this.readWrite.dispose();\n        this.watcher && this.watcher.dispose();\n    }\n}\nexports.Inview = Inview;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2ludmlldy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9kb20vaW52aWV3LmpzPzg2OTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCByYWZfMSA9IHJlcXVpcmUoXCIuLi9yYWYvcmFmXCIpO1xuY29uc3QgZG9tX3dhdGNoZXJfMSA9IHJlcXVpcmUoXCIuLi9kb20vZG9tLXdhdGNoZXJcIik7XG5jb25zdCBtYXRoZl8xID0gcmVxdWlyZShcIi4uL21hdGhmL21hdGhmXCIpO1xuY29uc3QgSW52aWV3RGVmYXVsdENsYXNzTmFtZXMgPSB7XG4gICAgUkVBRFk6ICdyZWFkeScsXG4gICAgSU46ICdpbicsXG4gICAgSU5fT05DRTogJ2luLW9uY2UnLFxuICAgIElOX0ZPTEQ6ICdpbi1mb2xkJyxcbiAgICBET1dOOiAnZG93bicsXG4gICAgVVA6ICd1cCcsXG4gICAgT1VUOiAnb3V0Jyxcbn07XG5jbGFzcyBJbnZpZXcge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICB0aGlzLmlzSW5TdGF0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgZWxlbWVudEJhc2VsaW5lOiAwLFxuICAgICAgICAgICAgdmlld3BvcnRPZmZzZXQ6IDAsXG4gICAgICAgICAgICBvdXR2aWV3T25seU9uRWxlbWVudEV4aXQ6IGZhbHNlLFxuICAgICAgICAgICAgZG93bk9ubHlNb2RlOiBmYWxzZVxuICAgICAgICB9LCBjb25maWcpO1xuICAgICAgICB0aGlzLmludmlld0NsYXNzTmFtZXMgPSBPYmplY3QuYXNzaWduKHt9LCBJbnZpZXdEZWZhdWx0Q2xhc3NOYW1lcyk7XG4gICAgICAgIGlmIChjb25maWcuaW52aWV3Q2xhc3NOYW1lcykge1xuICAgICAgICAgICAgdGhpcy5pbnZpZXdDbGFzc05hbWVzID0gT2JqZWN0LmFzc2lnbih0aGlzLmludmlld0NsYXNzTmFtZXMsIGNvbmZpZy5pbnZpZXdDbGFzc05hbWVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJhZiA9IG5ldyByYWZfMS5SYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5yZWFkV3JpdGUgPSBuZXcgcmFmXzEuUmFmKCk7XG4gICAgICAgIHRoaXMuc2Nyb2xsWSA9IHdpbmRvdy5zY3JvbGxZO1xuICAgICAgICB0aGlzLndhdGNoZXIgPSBuZXcgZG9tX3dhdGNoZXJfMS5Eb21XYXRjaGVyKCk7XG4gICAgICAgIHRoaXMud2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMub25XaW5kb3dTY3JvbGwuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGV2ZW50T3B0aW9uczogeyBwYXNzaXZlOiB0cnVlIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgICAgICAgb246ICdzbWFydFJlc2l6ZScsXG4gICAgICAgICAgICBjYWxsYmFjazogdGhpcy5vbldpbmRvd1Njcm9sbC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZXZlbnRPcHRpb25zOiB7IHBhc3NpdmU6IHRydWUgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbldpbmRvd1Njcm9sbCgpO1xuICAgICAgICBpZiAoIXRoaXMuY29uZmlnLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGVsZW1lbnQgaXMgZGVmaW5lZCBmb3IgaW52aWV3XCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudHMgPSBbdGhpcy5jb25maWcuZWxlbWVudF07XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5jaGlsZFNlbGVjdG9yKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZFNlbGVjdG9ycyA9IEFycmF5LmZyb20odGhpcy5jb25maWcuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuY29uZmlnLmNoaWxkU2VsZWN0b3IpKTtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudHMgPSBbLi4udGhpcy50YXJnZXRFbGVtZW50cywgLi4uY2hpbGRTZWxlY3RvcnNdO1xuICAgICAgICAgICAgdGhpcy5yZWFkV3JpdGUud3JpdGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudHMuZm9yRWFjaCgodGFyZ2V0LCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoJ2ludmlldy1pbmRleCcsIGkgKyAnJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRhcmdldEVsZW1lbnRzLmZvckVhY2goKHRhcmdldCwgaSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZWFkV3JpdGUud3JpdGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKHRoaXMuaW52aWV3Q2xhc3NOYW1lc1snUkVBRFknXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmFmLnJ1bldoZW5FbGVtZW50SXNJbnZpZXcodGhpcy5jb25maWcuZWxlbWVudCwgdGhpcy5jb25maWcuZXZJbnRlcnNlY3Rpb25PYnNlcnZlck9wdGlvbnMgfHwge1xuICAgICAgICAgICAgcm9vdE1hcmdpbjogJzEwMHB4IDBweCAxMDBweCAwcHgnXG4gICAgICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub25SYWYodHJ1ZSk7XG4gICAgfVxuICAgIG9uV2luZG93U2Nyb2xsKCkge1xuICAgICAgICB0aGlzLnJhZi5yZWFkKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsRGlyZWN0aW9uID0gbWF0aGZfMS5tYXRoZi5kaXJlY3Rpb24odGhpcy5zY3JvbGxZLCBzY3JvbGxZKTtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsWSA9IHNjcm9sbFk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvblJhZihmb3JjZSkge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBmb3JjZSA/IHRoaXMucmVhZFdyaXRlIDogdGhpcy5yYWY7XG4gICAgICAgIHdyaXRlci5yZWFkKCgpID0+IHtcbiAgICAgICAgICAgIGxldCB3aCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgICAgIGxldCBib3ggPSB0aGlzLmNvbmZpZy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgbGV0IGVsZW1lbnRCYXNlbGluZSA9IGJveC50b3AgKyAodGhpcy5jb25maWcuZWxlbWVudEJhc2VsaW5lICogYm94LmhlaWdodCk7XG4gICAgICAgICAgICBsZXQgaW5QZXJjZW50ID0gMSAtIG1hdGhmXzEubWF0aGYuaW52ZXJzZUxlcnAoMCwgd2gsIGVsZW1lbnRCYXNlbGluZSwgdHJ1ZSk7XG4gICAgICAgICAgICBsZXQgb3V0UGVyY2VudCA9IDEgLSBtYXRoZl8xLm1hdGhmLmludmVyc2VMZXJwKDAsIHdoLCBib3gudG9wICsgYm94LmhlaWdodCwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcub3V0dmlld09ubHlPbkVsZW1lbnRFeGl0KSB7XG4gICAgICAgICAgICAgICAgbGV0IHRvcFBlcmNlbnQgPSAxIC0gbWF0aGZfMS5tYXRoZi5pbnZlcnNlTGVycCgwLCB3aCwgYm94LnRvcCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgbGV0IGJvdHRvbVBlcmNlbnQgPSBvdXRQZXJjZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlbHlPdXRPZlZpZXcgPSAhbWF0aGZfMS5tYXRoZi5pc0JldHdlZW4odG9wUGVyY2VudCwgMCwgMSkgJiYgIW1hdGhmXzEubWF0aGYuaXNCZXR3ZWVuKGJvdHRvbVBlcmNlbnQsIDAsIDEpO1xuICAgICAgICAgICAgICAgIGlmIChpblBlcmNlbnQgPCB0aGlzLmNvbmZpZy52aWV3cG9ydE9mZnNldCB8fCBvdXRQZXJjZW50ID49IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlbHlPdXRPZlZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucnVuT3V0dmlld1N0YXRlKGZvcmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ydW5JbnZpZXdTdGF0ZShmb3JjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jb25maWcuZG93bk9ubHlNb2RlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRvcFBlcmNlbnQgPSAxIC0gbWF0aGZfMS5tYXRoZi5pbnZlcnNlTGVycCgwLCB3aCwgYm94LnRvcCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgbGV0IGJvdHRvbVBlcmNlbnQgPSBvdXRQZXJjZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvcE9mRWxlbWVudElzQmVsb3dWaWV3cG9ydCA9IHRvcFBlcmNlbnQgPCAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvdHRvbU9mRWxlbWVudElzQWJvdmVWaWV3cG9ydCA9IGJvdHRvbVBlcmNlbnQgPj0gMTtcbiAgICAgICAgICAgICAgICBpZiAoaW5QZXJjZW50IDwgdGhpcy5jb25maWcudmlld3BvcnRPZmZzZXQgfHwgb3V0UGVyY2VudCA+PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3BPZkVsZW1lbnRJc0JlbG93Vmlld3BvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucnVuT3V0dmlld1N0YXRlKGZvcmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYm90dG9tT2ZFbGVtZW50SXNBYm92ZVZpZXdwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1bkludmlld1N0YXRlKGZvcmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ydW5JbnZpZXdTdGF0ZShmb3JjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGluUGVyY2VudCA8IHRoaXMuY29uZmlnLnZpZXdwb3J0T2Zmc2V0IHx8IG91dFBlcmNlbnQgPj0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1bk91dHZpZXdTdGF0ZShmb3JjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1bkludmlld1N0YXRlKGZvcmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBydW5JbnZpZXdTdGF0ZShmb3JjZSkge1xuICAgICAgICBpZiAodGhpcy5pc0luU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlYWRXcml0ZS53cml0ZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldEVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmludmlld0NsYXNzTmFtZXNbJ09VVCddKTtcbiAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKHRoaXMuaW52aWV3Q2xhc3NOYW1lc1snSU4nXSk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmluT25jZSkge1xuICAgICAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKHRoaXMuaW52aWV3Q2xhc3NOYW1lc1snSU5fT05DRSddKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbk9uY2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LnNjcm9sbFkgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCh0aGlzLmludmlld0NsYXNzTmFtZXNbJ0lOX0ZPTEQnXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmludmlld0NsYXNzTmFtZXNbJ1VQJ10pO1xuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5pbnZpZXdDbGFzc05hbWVzWydET1dOJ10pO1xuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQodGhpcy5zY3JvbGxEaXJlY3Rpb24gPT0gLTEgPyB0aGlzLmludmlld0NsYXNzTmFtZXNbJ1VQJ10gOiB0aGlzLmludmlld0NsYXNzTmFtZXNbJ0RPV04nXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0luU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBydW5PdXR2aWV3U3RhdGUoZm9yY2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzSW5TdGF0ZSAmJiAhZm9yY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlYWRXcml0ZS53cml0ZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldEVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCh0aGlzLmludmlld0NsYXNzTmFtZXNbJ09VVCddKTtcbiAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuaW52aWV3Q2xhc3NOYW1lc1snSU4nXSk7XG4gICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmludmlld0NsYXNzTmFtZXNbJ1VQJ10pO1xuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5pbnZpZXdDbGFzc05hbWVzWydET1dOJ10pO1xuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQodGhpcy5zY3JvbGxEaXJlY3Rpb24gPT0gLTEgPyB0aGlzLmludmlld0NsYXNzTmFtZXNbJ1VQJ10gOiB0aGlzLmludmlld0NsYXNzTmFtZXNbJ0RPV04nXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0luU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5yYWYgJiYgdGhpcy5yYWYuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnJlYWRXcml0ZSAmJiB0aGlzLnJlYWRXcml0ZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMud2F0Y2hlciAmJiB0aGlzLndhdGNoZXIuZGlzcG9zZSgpO1xuICAgIH1cbn1cbmV4cG9ydHMuSW52aWV3ID0gSW52aWV3O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/dom/inview.js\n");

/***/ }),

/***/ "./lib/dom/mouse-tracker.js":
/*!**********************************!*\
  !*** ./lib/dom/mouse-tracker.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mathf_1 = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\nconst vector_1 = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\nconst is_1 = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\nconst dom_watcher_1 = __webpack_require__(/*! ./dom-watcher */ \"./lib/dom/dom-watcher.js\");\nclass MouseTracker {\n    constructor(rootElement, moveCallBack, disableMobile) {\n        this.rootElement_ = rootElement;\n        this.dimensions_ = null;\n        this.moveCallBack = moveCallBack;\n        this.mouseData = {};\n        this.position = vector_1.Vector.ZERO;\n        this.windowY = window.scrollY;\n        this.lastWindowY = window.scrollY;\n        this.lastPosition = vector_1.Vector.ZERO;\n        this.calculateRootElementDimensions_();\n        this.watcher = new dom_watcher_1.DomWatcher();\n        this.watcher.add({\n            element: window,\n            on: 'resize',\n            callback: this.calculateRootElementDimensions_.bind(this),\n            eventOptions: { passive: true }\n        });\n        this.watcher.add({\n            element: window,\n            on: 'scroll',\n            callback: this.onScroll.bind(this),\n            eventOptions: { passive: true }\n        });\n        if (!disableMobile && is_1.is.supportingDeviceOrientation()) {\n            this.watcher.add({\n                element: window,\n                on: 'deviceorientation',\n                callback: this.onDeviceOrientation.bind(this),\n                eventOptions: { passive: true }\n            });\n        }\n        this.watcher.add({\n            element: document.body,\n            on: 'mousemove',\n            callback: this.onMouseMove.bind(this),\n            eventOptions: { passive: true }\n        });\n        this.watcher.add({\n            element: document.body,\n            on: 'touchmove',\n            callback: this.onMouseMove.bind(this),\n            eventOptions: { passive: true }\n        });\n    }\n    calculateRootElementDimensions_() {\n        let docRect = document.body.getBoundingClientRect();\n        let rect = this.rootElement_.getBoundingClientRect();\n        let xCenter = rect.left + rect.width / 2;\n        let yCenter = rect.top + rect.height / 2;\n        this.dimensions_ = {\n            width: rect.width,\n            height: rect.height,\n            halfWidth: rect.width / 2,\n            halfHeight: rect.height / 2,\n            top: rect.top,\n            left: rect.left,\n            xCenter: xCenter,\n            yCenter: yCenter,\n            docWidth: docRect.width,\n            docHeight: docRect.height\n        };\n    }\n    onScroll() {\n        this.windowY = window.scrollY;\n        let offset = this.windowY - this.lastWindowY;\n        let y = this.lastPosition.y + offset;\n        this.updateMouseData(this.lastPosition.x, y);\n        this.moveCallBack && this.moveCallBack(this.mouseData);\n    }\n    onMouseMove(e) {\n        let x = e.pageX || e.clientX;\n        let y = e.pageY || e.clientY;\n        this.lastWindowY = window.scrollY;\n        this.lastPosition = this.position.clone();\n        this.updateMouseData(x, y);\n        this.moveCallBack && this.moveCallBack(this.mouseData);\n    }\n    updateMouseData(x, y) {\n        this.position.x = x;\n        this.position.y = y;\n        this.mouseData = {\n            position: this.position,\n            x: x,\n            y: y,\n            deltaX: x - this.dimensions_.xCenter,\n            deltaY: y - this.dimensions_.yCenter,\n            percentageX: (x - this.dimensions_.xCenter) /\n                (this.dimensions_.docWidth) * 100,\n            percentageY: (y - this.dimensions_.yCenter) /\n                (this.dimensions_.docHeight) * 100,\n        };\n    }\n    onDeviceOrientation(event) {\n        let x = mathf_1.mathf.clamp(-50, 50, event.gamma);\n        let y = mathf_1.mathf.clamp(-50, 50, event.beta);\n        this.mouseData = {\n            x: 0,\n            y: 0,\n            deltaX: 0,\n            deltaY: 0,\n            percentageX: x,\n            percentageY: y\n        };\n        this.moveCallBack && this.moveCallBack(this.mouseData);\n    }\n    getMousePosition() {\n        return this.mouseData;\n    }\n    dispose() {\n        this.watcher.dispose();\n    }\n}\nexports.MouseTracker = MouseTracker;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL21vdXNlLXRyYWNrZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZG9tL21vdXNlLXRyYWNrZXIuanM/NDE0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG1hdGhmXzEgPSByZXF1aXJlKFwiLi4vbWF0aGYvbWF0aGZcIik7XG5jb25zdCB2ZWN0b3JfMSA9IHJlcXVpcmUoXCIuLi9tYXRoZi92ZWN0b3JcIik7XG5jb25zdCBpc18xID0gcmVxdWlyZShcIi4uL2lzL2lzXCIpO1xuY29uc3QgZG9tX3dhdGNoZXJfMSA9IHJlcXVpcmUoXCIuL2RvbS13YXRjaGVyXCIpO1xuY2xhc3MgTW91c2VUcmFja2VyIHtcbiAgICBjb25zdHJ1Y3Rvcihyb290RWxlbWVudCwgbW92ZUNhbGxCYWNrLCBkaXNhYmxlTW9iaWxlKSB7XG4gICAgICAgIHRoaXMucm9vdEVsZW1lbnRfID0gcm9vdEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZGltZW5zaW9uc18gPSBudWxsO1xuICAgICAgICB0aGlzLm1vdmVDYWxsQmFjayA9IG1vdmVDYWxsQmFjaztcbiAgICAgICAgdGhpcy5tb3VzZURhdGEgPSB7fTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHZlY3Rvcl8xLlZlY3Rvci5aRVJPO1xuICAgICAgICB0aGlzLndpbmRvd1kgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgICAgdGhpcy5sYXN0V2luZG93WSA9IHdpbmRvdy5zY3JvbGxZO1xuICAgICAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IHZlY3Rvcl8xLlZlY3Rvci5aRVJPO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVJvb3RFbGVtZW50RGltZW5zaW9uc18oKTtcbiAgICAgICAgdGhpcy53YXRjaGVyID0gbmV3IGRvbV93YXRjaGVyXzEuRG9tV2F0Y2hlcigpO1xuICAgICAgICB0aGlzLndhdGNoZXIuYWRkKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgICAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLmNhbGN1bGF0ZVJvb3RFbGVtZW50RGltZW5zaW9uc18uYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGV2ZW50T3B0aW9uczogeyBwYXNzaXZlOiB0cnVlIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMub25TY3JvbGwuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGV2ZW50T3B0aW9uczogeyBwYXNzaXZlOiB0cnVlIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghZGlzYWJsZU1vYmlsZSAmJiBpc18xLmlzLnN1cHBvcnRpbmdEZXZpY2VPcmllbnRhdGlvbigpKSB7XG4gICAgICAgICAgICB0aGlzLndhdGNoZXIuYWRkKHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICAgICAgICAgICAgb246ICdkZXZpY2VvcmllbnRhdGlvbicsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMub25EZXZpY2VPcmllbnRhdGlvbi5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgIGV2ZW50T3B0aW9uczogeyBwYXNzaXZlOiB0cnVlIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgZWxlbWVudDogZG9jdW1lbnQuYm9keSxcbiAgICAgICAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcyksXG4gICAgICAgICAgICBldmVudE9wdGlvbnM6IHsgcGFzc2l2ZTogdHJ1ZSB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLndhdGNoZXIuYWRkKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmJvZHksXG4gICAgICAgICAgICBvbjogJ3RvdWNobW92ZScsXG4gICAgICAgICAgICBjYWxsYmFjazogdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZXZlbnRPcHRpb25zOiB7IHBhc3NpdmU6IHRydWUgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2FsY3VsYXRlUm9vdEVsZW1lbnREaW1lbnNpb25zXygpIHtcbiAgICAgICAgbGV0IGRvY1JlY3QgPSBkb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBsZXQgcmVjdCA9IHRoaXMucm9vdEVsZW1lbnRfLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBsZXQgeENlbnRlciA9IHJlY3QubGVmdCArIHJlY3Qud2lkdGggLyAyO1xuICAgICAgICBsZXQgeUNlbnRlciA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyO1xuICAgICAgICB0aGlzLmRpbWVuc2lvbnNfID0ge1xuICAgICAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0LFxuICAgICAgICAgICAgaGFsZldpZHRoOiByZWN0LndpZHRoIC8gMixcbiAgICAgICAgICAgIGhhbGZIZWlnaHQ6IHJlY3QuaGVpZ2h0IC8gMixcbiAgICAgICAgICAgIHRvcDogcmVjdC50b3AsXG4gICAgICAgICAgICBsZWZ0OiByZWN0LmxlZnQsXG4gICAgICAgICAgICB4Q2VudGVyOiB4Q2VudGVyLFxuICAgICAgICAgICAgeUNlbnRlcjogeUNlbnRlcixcbiAgICAgICAgICAgIGRvY1dpZHRoOiBkb2NSZWN0LndpZHRoLFxuICAgICAgICAgICAgZG9jSGVpZ2h0OiBkb2NSZWN0LmhlaWdodFxuICAgICAgICB9O1xuICAgIH1cbiAgICBvblNjcm9sbCgpIHtcbiAgICAgICAgdGhpcy53aW5kb3dZID0gd2luZG93LnNjcm9sbFk7XG4gICAgICAgIGxldCBvZmZzZXQgPSB0aGlzLndpbmRvd1kgLSB0aGlzLmxhc3RXaW5kb3dZO1xuICAgICAgICBsZXQgeSA9IHRoaXMubGFzdFBvc2l0aW9uLnkgKyBvZmZzZXQ7XG4gICAgICAgIHRoaXMudXBkYXRlTW91c2VEYXRhKHRoaXMubGFzdFBvc2l0aW9uLngsIHkpO1xuICAgICAgICB0aGlzLm1vdmVDYWxsQmFjayAmJiB0aGlzLm1vdmVDYWxsQmFjayh0aGlzLm1vdXNlRGF0YSk7XG4gICAgfVxuICAgIG9uTW91c2VNb3ZlKGUpIHtcbiAgICAgICAgbGV0IHggPSBlLnBhZ2VYIHx8IGUuY2xpZW50WDtcbiAgICAgICAgbGV0IHkgPSBlLnBhZ2VZIHx8IGUuY2xpZW50WTtcbiAgICAgICAgdGhpcy5sYXN0V2luZG93WSA9IHdpbmRvdy5zY3JvbGxZO1xuICAgICAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IHRoaXMucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgdGhpcy51cGRhdGVNb3VzZURhdGEoeCwgeSk7XG4gICAgICAgIHRoaXMubW92ZUNhbGxCYWNrICYmIHRoaXMubW92ZUNhbGxCYWNrKHRoaXMubW91c2VEYXRhKTtcbiAgICB9XG4gICAgdXBkYXRlTW91c2VEYXRhKHgsIHkpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0geDtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0geTtcbiAgICAgICAgdGhpcy5tb3VzZURhdGEgPSB7XG4gICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5wb3NpdGlvbixcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgZGVsdGFYOiB4IC0gdGhpcy5kaW1lbnNpb25zXy54Q2VudGVyLFxuICAgICAgICAgICAgZGVsdGFZOiB5IC0gdGhpcy5kaW1lbnNpb25zXy55Q2VudGVyLFxuICAgICAgICAgICAgcGVyY2VudGFnZVg6ICh4IC0gdGhpcy5kaW1lbnNpb25zXy54Q2VudGVyKSAvXG4gICAgICAgICAgICAgICAgKHRoaXMuZGltZW5zaW9uc18uZG9jV2lkdGgpICogMTAwLFxuICAgICAgICAgICAgcGVyY2VudGFnZVk6ICh5IC0gdGhpcy5kaW1lbnNpb25zXy55Q2VudGVyKSAvXG4gICAgICAgICAgICAgICAgKHRoaXMuZGltZW5zaW9uc18uZG9jSGVpZ2h0KSAqIDEwMCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgb25EZXZpY2VPcmllbnRhdGlvbihldmVudCkge1xuICAgICAgICBsZXQgeCA9IG1hdGhmXzEubWF0aGYuY2xhbXAoLTUwLCA1MCwgZXZlbnQuZ2FtbWEpO1xuICAgICAgICBsZXQgeSA9IG1hdGhmXzEubWF0aGYuY2xhbXAoLTUwLCA1MCwgZXZlbnQuYmV0YSk7XG4gICAgICAgIHRoaXMubW91c2VEYXRhID0ge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICBkZWx0YVg6IDAsXG4gICAgICAgICAgICBkZWx0YVk6IDAsXG4gICAgICAgICAgICBwZXJjZW50YWdlWDogeCxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2VZOiB5XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubW92ZUNhbGxCYWNrICYmIHRoaXMubW92ZUNhbGxCYWNrKHRoaXMubW91c2VEYXRhKTtcbiAgICB9XG4gICAgZ2V0TW91c2VQb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW91c2VEYXRhO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLndhdGNoZXIuZGlzcG9zZSgpO1xuICAgIH1cbn1cbmV4cG9ydHMuTW91c2VUcmFja2VyID0gTW91c2VUcmFja2VyO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/dom/mouse-tracker.js\n");

/***/ }),

/***/ "./lib/dom/off-screen-canvas.js":
/*!**************************************!*\
  !*** ./lib/dom/off-screen-canvas.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst web_worker_1 = __webpack_require__(/*! ./web-worker */ \"./lib/dom/web-worker.js\");\nclass OffScreenCanvas {\n    constructor() {\n        this.canvas = null;\n        this.offScreenHandler = null;\n        this.worker = null;\n        this.canvasSent = false;\n        this.initialized = false;\n    }\n    setCanvas(canvas) {\n        this.canvas = canvas;\n        this.canvas = this.canvas['transferControlToOffscreen']();\n    }\n    setCanvasTask(task) {\n        this.offScreenHandler = task;\n        this.worker = new web_worker_1.WebWorker(this.offScreenHandler);\n    }\n    init(message) {\n        if (!this.canvas) {\n            throw new Error('Set your canvas first.');\n        }\n        if (!this.worker) {\n            throw new Error('Set off screen handler first.');\n        }\n        this.initialized = true;\n        message['canvas'] = this.canvas;\n        this.canvasSent = true;\n        return this.worker.run(message, [this.canvas]);\n    }\n    sendMessageToCanvas(message) {\n        if (!this.canvasSent || !this.worker || !this.canvas ||\n            !this.initialized) {\n            throw new Error('You must initialize must.');\n        }\n        return this.worker.run(message);\n    }\n    dispose() {\n        this.worker && this.worker.terminate();\n    }\n}\nexports.OffScreenCanvas = OffScreenCanvas;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL29mZi1zY3JlZW4tY2FudmFzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RvbS9vZmYtc2NyZWVuLWNhbnZhcy5qcz8xZjg3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3Qgd2ViX3dvcmtlcl8xID0gcmVxdWlyZShcIi4vd2ViLXdvcmtlclwiKTtcbmNsYXNzIE9mZlNjcmVlbkNhbnZhcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICAgICAgdGhpcy5vZmZTY3JlZW5IYW5kbGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy53b3JrZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmNhbnZhc1NlbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIH1cbiAgICBzZXRDYW52YXMoY2FudmFzKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IHRoaXMuY2FudmFzWyd0cmFuc2ZlckNvbnRyb2xUb09mZnNjcmVlbiddKCk7XG4gICAgfVxuICAgIHNldENhbnZhc1Rhc2sodGFzaykge1xuICAgICAgICB0aGlzLm9mZlNjcmVlbkhhbmRsZXIgPSB0YXNrO1xuICAgICAgICB0aGlzLndvcmtlciA9IG5ldyB3ZWJfd29ya2VyXzEuV2ViV29ya2VyKHRoaXMub2ZmU2NyZWVuSGFuZGxlcik7XG4gICAgfVxuICAgIGluaXQobWVzc2FnZSkge1xuICAgICAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NldCB5b3VyIGNhbnZhcyBmaXJzdC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMud29ya2VyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NldCBvZmYgc2NyZWVuIGhhbmRsZXIgZmlyc3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIG1lc3NhZ2VbJ2NhbnZhcyddID0gdGhpcy5jYW52YXM7XG4gICAgICAgIHRoaXMuY2FudmFzU2VudCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzLndvcmtlci5ydW4obWVzc2FnZSwgW3RoaXMuY2FudmFzXSk7XG4gICAgfVxuICAgIHNlbmRNZXNzYWdlVG9DYW52YXMobWVzc2FnZSkge1xuICAgICAgICBpZiAoIXRoaXMuY2FudmFzU2VudCB8fCAhdGhpcy53b3JrZXIgfHwgIXRoaXMuY2FudmFzIHx8XG4gICAgICAgICAgICAhdGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBpbml0aWFsaXplIG11c3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMud29ya2VyLnJ1bihtZXNzYWdlKTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy53b3JrZXIgJiYgdGhpcy53b3JrZXIudGVybWluYXRlKCk7XG4gICAgfVxufVxuZXhwb3J0cy5PZmZTY3JlZW5DYW52YXMgPSBPZmZTY3JlZW5DYW52YXM7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/dom/off-screen-canvas.js\n");

/***/ }),

/***/ "./lib/dom/scroll-render-fix.js":
/*!**************************************!*\
  !*** ./lib/dom/scroll-render-fix.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst raf_1 = __webpack_require__(/*! ../raf/raf */ \"./lib/raf/raf.js\");\nconst dom_watcher_1 = __webpack_require__(/*! ./dom-watcher */ \"./lib/dom/dom-watcher.js\");\nclass ScrollRenderFix {\n    constructor() {\n        this.raf = new raf_1.Raf();\n        this.domWatcher = new dom_watcher_1.DomWatcher();\n        this.domWatcher.add({\n            element: window,\n            on: 'wheel',\n            eventOptions: { passive: false },\n            callback: this.wheelHandler.bind(this)\n        });\n    }\n    wheelHandler(e) {\n        e.preventDefault();\n        this.raf.read(() => {\n            this.targetY = document.documentElement.scrollTop + e.deltaY;\n        });\n        this.raf.postWrite(() => {\n            if (this.currentY !== this.targetY) {\n                document.documentElement.scrollTop = this.targetY;\n            }\n        });\n    }\n    dispose() {\n        this.domWatcher && this.domWatcher.dispose();\n    }\n}\nexports.ScrollRenderFix = ScrollRenderFix;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL3Njcm9sbC1yZW5kZXItZml4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RvbS9zY3JvbGwtcmVuZGVyLWZpeC5qcz9iMmQzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgcmFmXzEgPSByZXF1aXJlKFwiLi4vcmFmL3JhZlwiKTtcbmNvbnN0IGRvbV93YXRjaGVyXzEgPSByZXF1aXJlKFwiLi9kb20td2F0Y2hlclwiKTtcbmNsYXNzIFNjcm9sbFJlbmRlckZpeCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucmFmID0gbmV3IHJhZl8xLlJhZigpO1xuICAgICAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgZG9tX3dhdGNoZXJfMS5Eb21XYXRjaGVyKCk7XG4gICAgICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgICAgICAgb246ICd3aGVlbCcsXG4gICAgICAgICAgICBldmVudE9wdGlvbnM6IHsgcGFzc2l2ZTogZmFsc2UgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLndoZWVsSGFuZGxlci5iaW5kKHRoaXMpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB3aGVlbEhhbmRsZXIoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMucmFmLnJlYWQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50YXJnZXRZID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCArIGUuZGVsdGFZO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yYWYucG9zdFdyaXRlKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRZICE9PSB0aGlzLnRhcmdldFkpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gdGhpcy50YXJnZXRZO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5kb21XYXRjaGVyICYmIHRoaXMuZG9tV2F0Y2hlci5kaXNwb3NlKCk7XG4gICAgfVxufVxuZXhwb3J0cy5TY3JvbGxSZW5kZXJGaXggPSBTY3JvbGxSZW5kZXJGaXg7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/dom/scroll-render-fix.js\n");

/***/ }),

/***/ "./lib/dom/text-split.js":
/*!*******************************!*\
  !*** ./lib/dom/text-split.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dom_1 = __webpack_require__(/*! ./dom */ \"./lib/dom/dom.js\");\nclass TextSplit {\n    constructor(config) {\n        this.config = config;\n        this.convertSpacesToNbsp = this.config.split == ' ';\n        this.sups = Array.from(this.config.element.querySelectorAll('sup'));\n        this.sups.forEach((sup) => {\n            dom_1.dom.removeElement(sup);\n        });\n        this.originalText = this.config.element.textContent;\n        if (this.convertSpacesToNbsp) {\n            var re = new RegExp(String.fromCharCode(160), \"g\");\n            this.originalText = this.originalText.replace(re, ' ');\n        }\n        this.splits = this.originalText.trim().split(this.config.split);\n    }\n    split() {\n        this.config.element.innerHTML = '';\n        this.splits.forEach((word, i) => {\n            if (this.convertSpacesToNbsp && i !== this.splits.length - 1) {\n                word += '&nbsp;';\n            }\n            let element = dom_1.dom.createElementFromString(`<span>${word}</span>`);\n            dom_1.dom.setCssVariable(element, '--item-index', i + '');\n            this.config.element.appendChild(element);\n        });\n        this.sups && this.sups.forEach((sup, i) => {\n            let span = dom_1.dom.createElementFromString(`<span></span>`);\n            dom_1.dom.setCssVariable(span, '--item-index', this.splits.length + i + '');\n            span.appendChild(sup);\n            this.config.element.appendChild(span);\n        });\n        dom_1.dom.setCssVariable(this.config.element, '--item-total-count', this.splits.length + '');\n        this.config.element.classList.add('text-split-set');\n    }\n}\nexports.TextSplit = TextSplit;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL3RleHQtc3BsaXQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZG9tL3RleHQtc3BsaXQuanM/NzRjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRvbV8xID0gcmVxdWlyZShcIi4vZG9tXCIpO1xuY2xhc3MgVGV4dFNwbGl0IHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuY29udmVydFNwYWNlc1RvTmJzcCA9IHRoaXMuY29uZmlnLnNwbGl0ID09ICcgJztcbiAgICAgICAgdGhpcy5zdXBzID0gQXJyYXkuZnJvbSh0aGlzLmNvbmZpZy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3N1cCcpKTtcbiAgICAgICAgdGhpcy5zdXBzLmZvckVhY2goKHN1cCkgPT4ge1xuICAgICAgICAgICAgZG9tXzEuZG9tLnJlbW92ZUVsZW1lbnQoc3VwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub3JpZ2luYWxUZXh0ID0gdGhpcy5jb25maWcuZWxlbWVudC50ZXh0Q29udGVudDtcbiAgICAgICAgaWYgKHRoaXMuY29udmVydFNwYWNlc1RvTmJzcCkge1xuICAgICAgICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cChTdHJpbmcuZnJvbUNoYXJDb2RlKDE2MCksIFwiZ1wiKTtcbiAgICAgICAgICAgIHRoaXMub3JpZ2luYWxUZXh0ID0gdGhpcy5vcmlnaW5hbFRleHQucmVwbGFjZShyZSwgJyAnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNwbGl0cyA9IHRoaXMub3JpZ2luYWxUZXh0LnRyaW0oKS5zcGxpdCh0aGlzLmNvbmZpZy5zcGxpdCk7XG4gICAgfVxuICAgIHNwbGl0KCkge1xuICAgICAgICB0aGlzLmNvbmZpZy5lbGVtZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLnNwbGl0cy5mb3JFYWNoKCh3b3JkLCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb252ZXJ0U3BhY2VzVG9OYnNwICYmIGkgIT09IHRoaXMuc3BsaXRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICB3b3JkICs9ICcmbmJzcDsnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBkb21fMS5kb20uY3JlYXRlRWxlbWVudEZyb21TdHJpbmcoYDxzcGFuPiR7d29yZH08L3NwYW4+YCk7XG4gICAgICAgICAgICBkb21fMS5kb20uc2V0Q3NzVmFyaWFibGUoZWxlbWVudCwgJy0taXRlbS1pbmRleCcsIGkgKyAnJyk7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5lbGVtZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdXBzICYmIHRoaXMuc3Vwcy5mb3JFYWNoKChzdXAsIGkpID0+IHtcbiAgICAgICAgICAgIGxldCBzcGFuID0gZG9tXzEuZG9tLmNyZWF0ZUVsZW1lbnRGcm9tU3RyaW5nKGA8c3Bhbj48L3NwYW4+YCk7XG4gICAgICAgICAgICBkb21fMS5kb20uc2V0Q3NzVmFyaWFibGUoc3BhbiwgJy0taXRlbS1pbmRleCcsIHRoaXMuc3BsaXRzLmxlbmd0aCArIGkgKyAnJyk7XG4gICAgICAgICAgICBzcGFuLmFwcGVuZENoaWxkKHN1cCk7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5lbGVtZW50LmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICB9KTtcbiAgICAgICAgZG9tXzEuZG9tLnNldENzc1ZhcmlhYmxlKHRoaXMuY29uZmlnLmVsZW1lbnQsICctLWl0ZW0tdG90YWwtY291bnQnLCB0aGlzLnNwbGl0cy5sZW5ndGggKyAnJyk7XG4gICAgICAgIHRoaXMuY29uZmlnLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndGV4dC1zcGxpdC1zZXQnKTtcbiAgICB9XG59XG5leHBvcnRzLlRleHRTcGxpdCA9IFRleHRTcGxpdDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/dom/text-split.js\n");

/***/ }),

/***/ "./lib/dom/vector-dom-force.js":
/*!*************************************!*\
  !*** ./lib/dom/vector-dom-force.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst global_window_1 = __webpack_require__(/*! ./global-window */ \"./lib/dom/global-window.js\");\nconst vector_1 = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\nclass VectorDomForce {\n    constructor(vc) {\n        this.host = vc;\n        this.element = vc.element;\n        this.rotationMouseForce = vector_1.Vector.ZERO;\n        this.rotationScrollYForce = vector_1.Vector.ZERO;\n    }\n    mouseRotationForce(xScalar = 0.0005, yScalar = 0.0005, zScalar = 0, lerp = 0.02) {\n        let mouse = this.host.mouse;\n        let globalElementCenterPosition = this.host.globalElementCenterPosition;\n        let globalMousePosition = mouse.position.clone();\n        globalMousePosition.y = globalMousePosition.y - global_window_1.default.scrollY;\n        let angleDelta = vector_1.Vector.getXyzRotationTo(globalElementCenterPosition, globalMousePosition);\n        angleDelta[0] = angleDelta[0] * xScalar;\n        angleDelta[1] = angleDelta[1] * yScalar * 0;\n        angleDelta[2] = angleDelta[2] * zScalar * 0;\n        let targetRotation = vector_1.Vector.fromArray(angleDelta);\n        targetRotation.x = -targetRotation.x;\n        console.log(targetRotation.x);\n        this.host.rotation = this.host.rotation.clone().add(targetRotation);\n    }\n    scrollYRotationForce(xScalar = 0, yScalar = 0.0005, zScalar = 0, lerp = 0.02) {\n        let globalElementCenterPosition = this.host.globalElementCenterPosition;\n        let windowCenter = new vector_1.Vector(global_window_1.default.width / 2, global_window_1.default.height / 2);\n        windowCenter.x = globalElementCenterPosition.x;\n        windowCenter.z = globalElementCenterPosition.z;\n        let angleDelta = vector_1.Vector.getXyzRotationTo(globalElementCenterPosition, windowCenter);\n        angleDelta[0] = angleDelta[1] * xScalar;\n        angleDelta[2] = angleDelta[2] * zScalar;\n        angleDelta[1] = angleDelta[1] * yScalar;\n        let targetRotation = vector_1.Vector.fromArray(angleDelta);\n        targetRotation.x = -targetRotation.x;\n        this.rotationScrollYForce.lerp(targetRotation, lerp);\n        let diffVector = vector_1.Vector.subtract(this.rotationScrollYForce, targetRotation);\n        this.host.rotation.add(diffVector);\n    }\n    render() { }\n    init() { }\n    resize() { }\n    dispose() { }\n}\nexports.VectorDomForce = VectorDomForce;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL3ZlY3Rvci1kb20tZm9yY2UuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZG9tL3ZlY3Rvci1kb20tZm9yY2UuanM/ZjlhZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGdsb2JhbF93aW5kb3dfMSA9IHJlcXVpcmUoXCIuL2dsb2JhbC13aW5kb3dcIik7XG5jb25zdCB2ZWN0b3JfMSA9IHJlcXVpcmUoXCIuLi9tYXRoZi92ZWN0b3JcIik7XG5jbGFzcyBWZWN0b3JEb21Gb3JjZSB7XG4gICAgY29uc3RydWN0b3IodmMpIHtcbiAgICAgICAgdGhpcy5ob3N0ID0gdmM7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IHZjLmVsZW1lbnQ7XG4gICAgICAgIHRoaXMucm90YXRpb25Nb3VzZUZvcmNlID0gdmVjdG9yXzEuVmVjdG9yLlpFUk87XG4gICAgICAgIHRoaXMucm90YXRpb25TY3JvbGxZRm9yY2UgPSB2ZWN0b3JfMS5WZWN0b3IuWkVSTztcbiAgICB9XG4gICAgbW91c2VSb3RhdGlvbkZvcmNlKHhTY2FsYXIgPSAwLjAwMDUsIHlTY2FsYXIgPSAwLjAwMDUsIHpTY2FsYXIgPSAwLCBsZXJwID0gMC4wMikge1xuICAgICAgICBsZXQgbW91c2UgPSB0aGlzLmhvc3QubW91c2U7XG4gICAgICAgIGxldCBnbG9iYWxFbGVtZW50Q2VudGVyUG9zaXRpb24gPSB0aGlzLmhvc3QuZ2xvYmFsRWxlbWVudENlbnRlclBvc2l0aW9uO1xuICAgICAgICBsZXQgZ2xvYmFsTW91c2VQb3NpdGlvbiA9IG1vdXNlLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgIGdsb2JhbE1vdXNlUG9zaXRpb24ueSA9IGdsb2JhbE1vdXNlUG9zaXRpb24ueSAtIGdsb2JhbF93aW5kb3dfMS5kZWZhdWx0LnNjcm9sbFk7XG4gICAgICAgIGxldCBhbmdsZURlbHRhID0gdmVjdG9yXzEuVmVjdG9yLmdldFh5elJvdGF0aW9uVG8oZ2xvYmFsRWxlbWVudENlbnRlclBvc2l0aW9uLCBnbG9iYWxNb3VzZVBvc2l0aW9uKTtcbiAgICAgICAgYW5nbGVEZWx0YVswXSA9IGFuZ2xlRGVsdGFbMF0gKiB4U2NhbGFyO1xuICAgICAgICBhbmdsZURlbHRhWzFdID0gYW5nbGVEZWx0YVsxXSAqIHlTY2FsYXIgKiAwO1xuICAgICAgICBhbmdsZURlbHRhWzJdID0gYW5nbGVEZWx0YVsyXSAqIHpTY2FsYXIgKiAwO1xuICAgICAgICBsZXQgdGFyZ2V0Um90YXRpb24gPSB2ZWN0b3JfMS5WZWN0b3IuZnJvbUFycmF5KGFuZ2xlRGVsdGEpO1xuICAgICAgICB0YXJnZXRSb3RhdGlvbi54ID0gLXRhcmdldFJvdGF0aW9uLng7XG4gICAgICAgIGNvbnNvbGUubG9nKHRhcmdldFJvdGF0aW9uLngpO1xuICAgICAgICB0aGlzLmhvc3Qucm90YXRpb24gPSB0aGlzLmhvc3Qucm90YXRpb24uY2xvbmUoKS5hZGQodGFyZ2V0Um90YXRpb24pO1xuICAgIH1cbiAgICBzY3JvbGxZUm90YXRpb25Gb3JjZSh4U2NhbGFyID0gMCwgeVNjYWxhciA9IDAuMDAwNSwgelNjYWxhciA9IDAsIGxlcnAgPSAwLjAyKSB7XG4gICAgICAgIGxldCBnbG9iYWxFbGVtZW50Q2VudGVyUG9zaXRpb24gPSB0aGlzLmhvc3QuZ2xvYmFsRWxlbWVudENlbnRlclBvc2l0aW9uO1xuICAgICAgICBsZXQgd2luZG93Q2VudGVyID0gbmV3IHZlY3Rvcl8xLlZlY3RvcihnbG9iYWxfd2luZG93XzEuZGVmYXVsdC53aWR0aCAvIDIsIGdsb2JhbF93aW5kb3dfMS5kZWZhdWx0LmhlaWdodCAvIDIpO1xuICAgICAgICB3aW5kb3dDZW50ZXIueCA9IGdsb2JhbEVsZW1lbnRDZW50ZXJQb3NpdGlvbi54O1xuICAgICAgICB3aW5kb3dDZW50ZXIueiA9IGdsb2JhbEVsZW1lbnRDZW50ZXJQb3NpdGlvbi56O1xuICAgICAgICBsZXQgYW5nbGVEZWx0YSA9IHZlY3Rvcl8xLlZlY3Rvci5nZXRYeXpSb3RhdGlvblRvKGdsb2JhbEVsZW1lbnRDZW50ZXJQb3NpdGlvbiwgd2luZG93Q2VudGVyKTtcbiAgICAgICAgYW5nbGVEZWx0YVswXSA9IGFuZ2xlRGVsdGFbMV0gKiB4U2NhbGFyO1xuICAgICAgICBhbmdsZURlbHRhWzJdID0gYW5nbGVEZWx0YVsyXSAqIHpTY2FsYXI7XG4gICAgICAgIGFuZ2xlRGVsdGFbMV0gPSBhbmdsZURlbHRhWzFdICogeVNjYWxhcjtcbiAgICAgICAgbGV0IHRhcmdldFJvdGF0aW9uID0gdmVjdG9yXzEuVmVjdG9yLmZyb21BcnJheShhbmdsZURlbHRhKTtcbiAgICAgICAgdGFyZ2V0Um90YXRpb24ueCA9IC10YXJnZXRSb3RhdGlvbi54O1xuICAgICAgICB0aGlzLnJvdGF0aW9uU2Nyb2xsWUZvcmNlLmxlcnAodGFyZ2V0Um90YXRpb24sIGxlcnApO1xuICAgICAgICBsZXQgZGlmZlZlY3RvciA9IHZlY3Rvcl8xLlZlY3Rvci5zdWJ0cmFjdCh0aGlzLnJvdGF0aW9uU2Nyb2xsWUZvcmNlLCB0YXJnZXRSb3RhdGlvbik7XG4gICAgICAgIHRoaXMuaG9zdC5yb3RhdGlvbi5hZGQoZGlmZlZlY3Rvcik7XG4gICAgfVxuICAgIHJlbmRlcigpIHsgfVxuICAgIGluaXQoKSB7IH1cbiAgICByZXNpemUoKSB7IH1cbiAgICBkaXNwb3NlKCkgeyB9XG59XG5leHBvcnRzLlZlY3RvckRvbUZvcmNlID0gVmVjdG9yRG9tRm9yY2U7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/dom/vector-dom-force.js\n");

/***/ }),

/***/ "./lib/dom/vector-dom-timeline.js":
/*!****************************************!*\
  !*** ./lib/dom/vector-dom-timeline.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dom_1 = __webpack_require__(/*! ../dom/dom */ \"./lib/dom/dom.js\");\nconst ease_1 = __webpack_require__(/*! ../ease/ease */ \"./lib/ease/ease.js\");\nconst func_1 = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\nconst mathf_1 = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\nconst vector_1 = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\nconst is_1 = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\nconst hermite_curve_1 = __webpack_require__(/*! ../mathf/hermite-curve */ \"./lib/mathf/hermite-curve.js\");\nconst interpolate_1 = __webpack_require__(/*! ../interpolate/interpolate */ \"./lib/interpolate/interpolate.js\");\nconst skipKeys = ['progress', 'easingFunction'];\nclass VectorDomTimeline {\n    constructor(vc) {\n        this.host = vc;\n        this.options = vc.options.timeline || {};\n        this.element = vc.element;\n        this.cssKeys = {};\n        this.timeline = [];\n        this.timeline = null;\n        this.timelineKeys = [];\n        this.catmullRomMode = false;\n        this.catmullRomTension = 1;\n        this.storyboard = {};\n        this.setCssKeys_ = func_1.func.runOnceOnChange(this.setCssKeys_.bind(this));\n        if (this.options.cssOnly) {\n            this.host.disableStyleRenders = true;\n        }\n    }\n    init() { }\n    setTimeline(timeline) {\n        this.sortTimeline();\n        this.timelineKeys = [];\n        const rotationValue = ['rx', 'ry', 'rz'];\n        this.timeline = timeline.map((timeline) => {\n            let keys = Object.keys(timeline);\n            this.timelineKeys = [...new Set([...this.timelineKeys, ...keys])];\n            return timeline;\n        });\n        this.storyboard =\n            VectorDomTimeline.generateStoryboard(this.timelineKeys, this.timeline);\n    }\n    sortTimeline() {\n        if (!this.timeline) {\n            return;\n        }\n        this.timeline = this.timeline.sort((a, b) => {\n            return a.progress - b.progress;\n        });\n    }\n    static generateStoryboard(keys, timeline) {\n        let storyboard = {};\n        keys.forEach((key) => {\n            if (skipKeys.includes(key)) {\n                return;\n            }\n            let keyStoryboard = timeline.filter((t) => {\n                return is_1.is.defined(t[key]);\n            });\n            keyStoryboard = keyStoryboard.map((t) => {\n                let copy = Object.assign({}, t);\n                for (let k in copy) {\n                    if (k !== key && !skipKeys.includes(k)) {\n                        delete copy[k];\n                    }\n                }\n                return copy;\n            });\n            storyboard[key] = keyStoryboard;\n        });\n        for (let key in storyboard) {\n            let keyStory = storyboard[key];\n            if (keyStory[0].progress !== 0) {\n                let copy = Object.assign({}, keyStory[0]);\n                copy.progress = 0;\n                keyStory.unshift(copy);\n            }\n            let last = keyStory.length - 1;\n            if (keyStory[last].progress !== 1) {\n                let copy = Object.assign({}, keyStory[last]);\n                copy.progress = 1;\n                keyStory.push(copy);\n            }\n        }\n        return storyboard;\n    }\n    static getStartAndEndTimelineFromStoryboard(storyboard, key, progress) {\n        let activeStoryboard = storyboard[key];\n        if (!activeStoryboard) {\n            return null;\n        }\n        let start = activeStoryboard[0];\n        let end = activeStoryboard[1];\n        let done = false;\n        let previous = activeStoryboard[0];\n        activeStoryboard.forEach((timeline) => {\n            if (!done && timeline.progress >= progress && progress > 0) {\n                start = previous;\n                end = timeline;\n                done = true;\n            }\n            previous = timeline;\n        });\n        return {\n            start: start,\n            end: end\n        };\n    }\n    updateProgress(progress) {\n        for (let key in this.storyboard) {\n            let startEnd = VectorDomTimeline\n                .getStartAndEndTimelineFromStoryboard(this.storyboard, key, progress);\n            let startTimeline = startEnd.start;\n            let endTimeline = startEnd.end;\n            let start = startTimeline[key];\n            let end = endTimeline[key];\n            let easing = startTimeline.easingFunction;\n            let childProgress = mathf_1.mathf.clamp01(mathf_1.mathf.childProgress(progress, startTimeline.progress, endTimeline.progress));\n            if (is_1.is.nan(childProgress)) {\n                return;\n            }\n            let value;\n            if (is_1.is.number(start) && is_1.is.number(end)) {\n                let diff = end - start;\n                if (!this.catmullRomMode || mathf_1.mathf.absZero(diff) == 0) {\n                    value = mathf_1.mathf.ease(start, end, childProgress, easing || ease_1.EASE.linear);\n                }\n                else {\n                    let tension = this.catmullRomTension;\n                    const vector = hermite_curve_1.HermiteCurve.getPoint(childProgress, new vector_1.Vector(start, start), new vector_1.Vector(start * tension, start * tension), new vector_1.Vector(end, end), new vector_1.Vector(end * tension, end * tension));\n                    if (vector) {\n                        value = vector.x;\n                    }\n                }\n            }\n            else {\n                value = new interpolate_1.Interpolate({\n                    from: start,\n                    to: end,\n                    easeFunction: easing || ease_1.EASE.linear\n                }).calculate(childProgress);\n            }\n            if (is_1.is.defined(value)) {\n                if (key.startsWith('--')) {\n                    this.cssKeys[key] = value;\n                }\n                else {\n                    this.host[key] = value;\n                }\n            }\n        }\n    }\n    setCssKeys_(cssVars) {\n        if (this.host.renderOnlyWhenInview &&\n            this.host.elementVisibility.state().ready &&\n            !this.host.elementVisibility.state().inview) {\n            return;\n        }\n        for (let key in cssVars) {\n            dom_1.dom.setCssVariable(this.element, key, cssVars[key]);\n        }\n    }\n    render() {\n        this.setCssKeys_(this.cssKeys);\n    }\n    resize() { }\n    dispose() { }\n}\nexports.VectorDomTimeline = VectorDomTimeline;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL3ZlY3Rvci1kb20tdGltZWxpbmUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZG9tL3ZlY3Rvci1kb20tdGltZWxpbmUuanM/MGZmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbS9kb21cIik7XG5jb25zdCBlYXNlXzEgPSByZXF1aXJlKFwiLi4vZWFzZS9lYXNlXCIpO1xuY29uc3QgZnVuY18xID0gcmVxdWlyZShcIi4uL2Z1bmMvZnVuY1wiKTtcbmNvbnN0IG1hdGhmXzEgPSByZXF1aXJlKFwiLi4vbWF0aGYvbWF0aGZcIik7XG5jb25zdCB2ZWN0b3JfMSA9IHJlcXVpcmUoXCIuLi9tYXRoZi92ZWN0b3JcIik7XG5jb25zdCBpc18xID0gcmVxdWlyZShcIi4uL2lzL2lzXCIpO1xuY29uc3QgaGVybWl0ZV9jdXJ2ZV8xID0gcmVxdWlyZShcIi4uL21hdGhmL2hlcm1pdGUtY3VydmVcIik7XG5jb25zdCBpbnRlcnBvbGF0ZV8xID0gcmVxdWlyZShcIi4uL2ludGVycG9sYXRlL2ludGVycG9sYXRlXCIpO1xuY29uc3Qgc2tpcEtleXMgPSBbJ3Byb2dyZXNzJywgJ2Vhc2luZ0Z1bmN0aW9uJ107XG5jbGFzcyBWZWN0b3JEb21UaW1lbGluZSB7XG4gICAgY29uc3RydWN0b3IodmMpIHtcbiAgICAgICAgdGhpcy5ob3N0ID0gdmM7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHZjLm9wdGlvbnMudGltZWxpbmUgfHwge307XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IHZjLmVsZW1lbnQ7XG4gICAgICAgIHRoaXMuY3NzS2V5cyA9IHt9O1xuICAgICAgICB0aGlzLnRpbWVsaW5lID0gW107XG4gICAgICAgIHRoaXMudGltZWxpbmUgPSBudWxsO1xuICAgICAgICB0aGlzLnRpbWVsaW5lS2V5cyA9IFtdO1xuICAgICAgICB0aGlzLmNhdG11bGxSb21Nb2RlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2F0bXVsbFJvbVRlbnNpb24gPSAxO1xuICAgICAgICB0aGlzLnN0b3J5Ym9hcmQgPSB7fTtcbiAgICAgICAgdGhpcy5zZXRDc3NLZXlzXyA9IGZ1bmNfMS5mdW5jLnJ1bk9uY2VPbkNoYW5nZSh0aGlzLnNldENzc0tleXNfLmJpbmQodGhpcykpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNzc09ubHkpIHtcbiAgICAgICAgICAgIHRoaXMuaG9zdC5kaXNhYmxlU3R5bGVSZW5kZXJzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbml0KCkgeyB9XG4gICAgc2V0VGltZWxpbmUodGltZWxpbmUpIHtcbiAgICAgICAgdGhpcy5zb3J0VGltZWxpbmUoKTtcbiAgICAgICAgdGhpcy50aW1lbGluZUtleXMgPSBbXTtcbiAgICAgICAgY29uc3Qgcm90YXRpb25WYWx1ZSA9IFsncngnLCAncnknLCAncnonXTtcbiAgICAgICAgdGhpcy50aW1lbGluZSA9IHRpbWVsaW5lLm1hcCgodGltZWxpbmUpID0+IHtcbiAgICAgICAgICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXModGltZWxpbmUpO1xuICAgICAgICAgICAgdGhpcy50aW1lbGluZUtleXMgPSBbLi4ubmV3IFNldChbLi4udGhpcy50aW1lbGluZUtleXMsIC4uLmtleXNdKV07XG4gICAgICAgICAgICByZXR1cm4gdGltZWxpbmU7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0b3J5Ym9hcmQgPVxuICAgICAgICAgICAgVmVjdG9yRG9tVGltZWxpbmUuZ2VuZXJhdGVTdG9yeWJvYXJkKHRoaXMudGltZWxpbmVLZXlzLCB0aGlzLnRpbWVsaW5lKTtcbiAgICB9XG4gICAgc29ydFRpbWVsaW5lKCkge1xuICAgICAgICBpZiAoIXRoaXMudGltZWxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRpbWVsaW5lID0gdGhpcy50aW1lbGluZS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYS5wcm9ncmVzcyAtIGIucHJvZ3Jlc3M7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgZ2VuZXJhdGVTdG9yeWJvYXJkKGtleXMsIHRpbWVsaW5lKSB7XG4gICAgICAgIGxldCBzdG9yeWJvYXJkID0ge307XG4gICAgICAgIGtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAoc2tpcEtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBrZXlTdG9yeWJvYXJkID0gdGltZWxpbmUuZmlsdGVyKCh0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzXzEuaXMuZGVmaW5lZCh0W2tleV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBrZXlTdG9yeWJvYXJkID0ga2V5U3Rvcnlib2FyZC5tYXAoKHQpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgY29weSA9IE9iamVjdC5hc3NpZ24oe30sIHQpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgaW4gY29weSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoayAhPT0ga2V5ICYmICFza2lwS2V5cy5pbmNsdWRlcyhrKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGNvcHlba107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0b3J5Ym9hcmRba2V5XSA9IGtleVN0b3J5Ym9hcmQ7XG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gc3Rvcnlib2FyZCkge1xuICAgICAgICAgICAgbGV0IGtleVN0b3J5ID0gc3Rvcnlib2FyZFtrZXldO1xuICAgICAgICAgICAgaWYgKGtleVN0b3J5WzBdLnByb2dyZXNzICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvcHkgPSBPYmplY3QuYXNzaWduKHt9LCBrZXlTdG9yeVswXSk7XG4gICAgICAgICAgICAgICAgY29weS5wcm9ncmVzcyA9IDA7XG4gICAgICAgICAgICAgICAga2V5U3RvcnkudW5zaGlmdChjb3B5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBsYXN0ID0ga2V5U3RvcnkubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGlmIChrZXlTdG9yeVtsYXN0XS5wcm9ncmVzcyAhPT0gMSkge1xuICAgICAgICAgICAgICAgIGxldCBjb3B5ID0gT2JqZWN0LmFzc2lnbih7fSwga2V5U3RvcnlbbGFzdF0pO1xuICAgICAgICAgICAgICAgIGNvcHkucHJvZ3Jlc3MgPSAxO1xuICAgICAgICAgICAgICAgIGtleVN0b3J5LnB1c2goY29weSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0b3J5Ym9hcmQ7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRTdGFydEFuZEVuZFRpbWVsaW5lRnJvbVN0b3J5Ym9hcmQoc3Rvcnlib2FyZCwga2V5LCBwcm9ncmVzcykge1xuICAgICAgICBsZXQgYWN0aXZlU3Rvcnlib2FyZCA9IHN0b3J5Ym9hcmRba2V5XTtcbiAgICAgICAgaWYgKCFhY3RpdmVTdG9yeWJvYXJkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3RhcnQgPSBhY3RpdmVTdG9yeWJvYXJkWzBdO1xuICAgICAgICBsZXQgZW5kID0gYWN0aXZlU3Rvcnlib2FyZFsxXTtcbiAgICAgICAgbGV0IGRvbmUgPSBmYWxzZTtcbiAgICAgICAgbGV0IHByZXZpb3VzID0gYWN0aXZlU3Rvcnlib2FyZFswXTtcbiAgICAgICAgYWN0aXZlU3Rvcnlib2FyZC5mb3JFYWNoKCh0aW1lbGluZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFkb25lICYmIHRpbWVsaW5lLnByb2dyZXNzID49IHByb2dyZXNzICYmIHByb2dyZXNzID4gMCkge1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gcHJldmlvdXM7XG4gICAgICAgICAgICAgICAgZW5kID0gdGltZWxpbmU7XG4gICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2aW91cyA9IHRpbWVsaW5lO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgIGVuZDogZW5kXG4gICAgICAgIH07XG4gICAgfVxuICAgIHVwZGF0ZVByb2dyZXNzKHByb2dyZXNzKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLnN0b3J5Ym9hcmQpIHtcbiAgICAgICAgICAgIGxldCBzdGFydEVuZCA9IFZlY3RvckRvbVRpbWVsaW5lXG4gICAgICAgICAgICAgICAgLmdldFN0YXJ0QW5kRW5kVGltZWxpbmVGcm9tU3Rvcnlib2FyZCh0aGlzLnN0b3J5Ym9hcmQsIGtleSwgcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgbGV0IHN0YXJ0VGltZWxpbmUgPSBzdGFydEVuZC5zdGFydDtcbiAgICAgICAgICAgIGxldCBlbmRUaW1lbGluZSA9IHN0YXJ0RW5kLmVuZDtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IHN0YXJ0VGltZWxpbmVba2V5XTtcbiAgICAgICAgICAgIGxldCBlbmQgPSBlbmRUaW1lbGluZVtrZXldO1xuICAgICAgICAgICAgbGV0IGVhc2luZyA9IHN0YXJ0VGltZWxpbmUuZWFzaW5nRnVuY3Rpb247XG4gICAgICAgICAgICBsZXQgY2hpbGRQcm9ncmVzcyA9IG1hdGhmXzEubWF0aGYuY2xhbXAwMShtYXRoZl8xLm1hdGhmLmNoaWxkUHJvZ3Jlc3MocHJvZ3Jlc3MsIHN0YXJ0VGltZWxpbmUucHJvZ3Jlc3MsIGVuZFRpbWVsaW5lLnByb2dyZXNzKSk7XG4gICAgICAgICAgICBpZiAoaXNfMS5pcy5uYW4oY2hpbGRQcm9ncmVzcykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgICAgICBpZiAoaXNfMS5pcy5udW1iZXIoc3RhcnQpICYmIGlzXzEuaXMubnVtYmVyKGVuZCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgZGlmZiA9IGVuZCAtIHN0YXJ0O1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jYXRtdWxsUm9tTW9kZSB8fCBtYXRoZl8xLm1hdGhmLmFic1plcm8oZGlmZikgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG1hdGhmXzEubWF0aGYuZWFzZShzdGFydCwgZW5kLCBjaGlsZFByb2dyZXNzLCBlYXNpbmcgfHwgZWFzZV8xLkVBU0UubGluZWFyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZW5zaW9uID0gdGhpcy5jYXRtdWxsUm9tVGVuc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVjdG9yID0gaGVybWl0ZV9jdXJ2ZV8xLkhlcm1pdGVDdXJ2ZS5nZXRQb2ludChjaGlsZFByb2dyZXNzLCBuZXcgdmVjdG9yXzEuVmVjdG9yKHN0YXJ0LCBzdGFydCksIG5ldyB2ZWN0b3JfMS5WZWN0b3Ioc3RhcnQgKiB0ZW5zaW9uLCBzdGFydCAqIHRlbnNpb24pLCBuZXcgdmVjdG9yXzEuVmVjdG9yKGVuZCwgZW5kKSwgbmV3IHZlY3Rvcl8xLlZlY3RvcihlbmQgKiB0ZW5zaW9uLCBlbmQgKiB0ZW5zaW9uKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2ZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmVjdG9yLng7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBpbnRlcnBvbGF0ZV8xLkludGVycG9sYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBlbmQsXG4gICAgICAgICAgICAgICAgICAgIGVhc2VGdW5jdGlvbjogZWFzaW5nIHx8IGVhc2VfMS5FQVNFLmxpbmVhclxuICAgICAgICAgICAgICAgIH0pLmNhbGN1bGF0ZShjaGlsZFByb2dyZXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc18xLmlzLmRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCctLScpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3NzS2V5c1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvc3Rba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRDc3NLZXlzXyhjc3NWYXJzKSB7XG4gICAgICAgIGlmICh0aGlzLmhvc3QucmVuZGVyT25seVdoZW5JbnZpZXcgJiZcbiAgICAgICAgICAgIHRoaXMuaG9zdC5lbGVtZW50VmlzaWJpbGl0eS5zdGF0ZSgpLnJlYWR5ICYmXG4gICAgICAgICAgICAhdGhpcy5ob3N0LmVsZW1lbnRWaXNpYmlsaXR5LnN0YXRlKCkuaW52aWV3KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQga2V5IGluIGNzc1ZhcnMpIHtcbiAgICAgICAgICAgIGRvbV8xLmRvbS5zZXRDc3NWYXJpYWJsZSh0aGlzLmVsZW1lbnQsIGtleSwgY3NzVmFyc1trZXldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuc2V0Q3NzS2V5c18odGhpcy5jc3NLZXlzKTtcbiAgICB9XG4gICAgcmVzaXplKCkgeyB9XG4gICAgZGlzcG9zZSgpIHsgfVxufVxuZXhwb3J0cy5WZWN0b3JEb21UaW1lbGluZSA9IFZlY3RvckRvbVRpbWVsaW5lO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/dom/vector-dom-timeline.js\n");

/***/ }),

/***/ "./lib/dom/vector-dom.js":
/*!*******************************!*\
  !*** ./lib/dom/vector-dom.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst global_window_1 = __webpack_require__(/*! ./global-window */ \"./lib/dom/global-window.js\");\nconst document_mouse_tracker_1 = __webpack_require__(/*! ./document-mouse-tracker */ \"./lib/dom/document-mouse-tracker.js\");\nconst ease_1 = __webpack_require__(/*! ../ease/ease */ \"./lib/ease/ease.js\");\nconst mathf_1 = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\nconst matrixIV_1 = __webpack_require__(/*! ../mathf/matrixIV */ \"./lib/mathf/matrixIV.js\");\nconst vector_1 = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\nconst quaternion_1 = __webpack_require__(/*! ../mathf/quaternion */ \"./lib/mathf/quaternion.js\");\nconst func_1 = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\nconst is_1 = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\nconst dom_watcher_1 = __webpack_require__(/*! ./dom-watcher */ \"./lib/dom/dom-watcher.js\");\nconst element_visibility_1 = __webpack_require__(/*! ./element-visibility */ \"./lib/dom/element-visibility.js\");\nconst vector_dom_timeline_1 = __webpack_require__(/*! ./vector-dom-timeline */ \"./lib/dom/vector-dom-timeline.js\");\nconst vector_dom_force_1 = __webpack_require__(/*! ./vector-dom-force */ \"./lib/dom/vector-dom-force.js\");\nclass VectorDom {\n    constructor(element, options) {\n        this.element = element;\n        this.offset = vector_1.Vector.ZERO;\n        this.position = vector_1.Vector.ZERO;\n        this.acceleration = vector_1.Vector.ZERO;\n        this.velocity = vector_1.Vector.ZERO;\n        this.rotation = quaternion_1.Quaternion.IDENTITY;\n        this.eularRotation = vector_1.Vector.ZERO;\n        this.transformOrigin = 'center center';\n        this.width = element.offsetWidth;\n        this.height = element.offsetHeight;\n        this.anchorX = 0.5;\n        this.anchorY = 0.5;\n        this.alpha = 1;\n        this.forcedZIndex = null;\n        this.zIndexScalar = 30;\n        this.mouse = document_mouse_tracker_1.default;\n        this.watcher = new dom_watcher_1.DomWatcher();\n        this.renderOnlyWhenInview = true;\n        this.options = options || {};\n        this.disableStyleRenders = false;\n        this.useBoundsForGlobalCalculation = false;\n        this.eularRotationAsRotationMatrix = false;\n        this.renderWith3dProjectMatrix = true;\n        this.gx_ = 0;\n        this.gy_ = 0;\n        this.elementVisibility = element_visibility_1.elementVisibility.inview(this.element);\n        this.watcher.add({\n            element: window,\n            on: 'resize',\n            callback: this.resize.bind(this),\n            eventOptions: { passive: true }\n        });\n        this.components = {\n            timeline: new vector_dom_timeline_1.VectorDomTimeline(this),\n            force: new vector_dom_force_1.VectorDomForce(this)\n        };\n        this._ = this.components;\n        this.getBoundingClient =\n            func_1.func.memoizeSimple(this.getBoundingClient.bind(this));\n        this.render_ = func_1.func.runOnceOnChange(this.render_.bind(this));\n    }\n    init() {\n        this.resize();\n        this.setTransformOrigin();\n        for (let key in this.components) {\n            this.components[key].init();\n        }\n    }\n    resize() {\n        this.width = this.element.offsetWidth;\n        this.height = this.element.offsetHeight;\n        let bounds = this.bounds;\n        this.gx_ = bounds.left;\n        this.gy_ = bounds.top + global_window_1.default.scrollY;\n        for (let key in this.components) {\n            this.components[key].resize();\n        }\n    }\n    setTransformOrigin(value = 'center center') {\n        if (this.disableStyleRenders) {\n            return;\n        }\n        this.transformOrigin = value;\n        this.element.style.transformOrigin = 'center center';\n    }\n    setPosition(v) {\n        this.position = v;\n    }\n    get x() {\n        return this.position.x;\n    }\n    set x(value) {\n        this.position.x = value;\n    }\n    get y() {\n        return this.position.y;\n    }\n    set y(value) {\n        this.position.y = value;\n    }\n    get z() {\n        return this.position.z;\n    }\n    set z(value) {\n        this.position.z = value;\n    }\n    get vx() {\n        return this.velocity.x;\n    }\n    set vx(value) {\n        this.velocity.x = value;\n    }\n    get vy() {\n        return this.velocity.y;\n    }\n    set vy(value) {\n        this.velocity.y = value;\n    }\n    get vz() {\n        return this.velocity.z;\n    }\n    set vz(value) {\n        this.velocity.z = value;\n    }\n    get ax() {\n        return this.acceleration.x;\n    }\n    set ax(value) {\n        this.acceleration.x = value;\n    }\n    get ay() {\n        return this.acceleration.y;\n    }\n    set ay(value) {\n        this.acceleration.y = value;\n    }\n    get az() {\n        return this.acceleration.z;\n    }\n    set az(value) {\n        this.acceleration.z = value;\n    }\n    get rx() {\n        return this.eularRotation.x;\n    }\n    set rx(value) {\n        this.eularRotation.x = value;\n    }\n    get ry() {\n        return this.eularRotation.y;\n    }\n    set ry(value) {\n        this.eularRotation.y = value;\n    }\n    get rz() {\n        return this.eularRotation.z;\n    }\n    set rz(value) {\n        this.eularRotation.z = value;\n    }\n    get globalPosition() {\n        let x = 0;\n        let y = 0;\n        const anchorOffsetVector = this.anchorOffsetVector;\n        if (!this.useBoundsForGlobalCalculation) {\n            x = this.gx_ + this.offset.x + anchorOffsetVector.x;\n            y = this.gy_ - global_window_1.default.scrollY + this.offset.y + anchorOffsetVector.y;\n        }\n        else {\n            x = this.bounds.left;\n            y = this.bounds.top;\n        }\n        return new vector_1.Vector(x, y, this.position.z);\n    }\n    get anchorOffsetVector() {\n        const anchorOffsetVector = new vector_1.Vector(-(this.anchorX * this.width), -(this.anchorY * this.height), 0);\n        return anchorOffsetVector;\n    }\n    get globalElementCenterPosition() {\n        const g = this.globalPosition.clone();\n        let hw = this.width / 2;\n        let hh = this.height / 2;\n        if (this.useBoundsForGlobalCalculation) {\n            hw = this.bounds.width / 2;\n            hh = this.bounds.height / 2;\n        }\n        const x = g.x + hw;\n        const y = g.y + hh;\n        return new vector_1.Vector(x, y, this.position.z);\n    }\n    get bounds() {\n        let bounds = this.getBoundingClient(global_window_1.default.scrollY, global_window_1.default.width, global_window_1.default.height);\n        return bounds;\n    }\n    getBoundingClient(y, width, height) {\n        return this.element.getBoundingClientRect();\n    }\n    setOffset(v) {\n        this.offset = v;\n    }\n    setRotation(v) {\n        this.rotation = quaternion_1.Quaternion.fromEulerVector(v);\n        this.syncEularRotation();\n    }\n    syncEularRotation() {\n        this.rotation = quaternion_1.Quaternion.fromEulerVector(this.eularRotation);\n    }\n    slerpEularRotation(amount) {\n        this.rotation.slerpEulerVector(this.eularRotation, amount);\n    }\n    forceZIndex(zIndex) {\n        this.forcedZIndex = zIndex;\n    }\n    toTranslationMatrixIV() {\n        const positionVector = this.position.clone();\n        const matrix = new matrixIV_1.MatrixIV();\n        matrix.setVectorColumn(3, positionVector);\n        return matrix;\n    }\n    toMatrixIV() {\n        const translationMatrix = this.toTranslationMatrixIV();\n        const anchorOffsetVector = new vector_1.Vector(-(this.anchorX * this.width), -(this.anchorY * this.height), 0);\n        const offsetMatrix = new matrixIV_1.MatrixIV();\n        const offsetVector = this.offset.clone().add(anchorOffsetVector);\n        offsetMatrix.setVectorColumn(3, offsetVector);\n        let z = mathf_1.mathf.clamp(-1, 10, this.position.z + 1);\n        const scaleMatrix = new matrixIV_1.MatrixIV().scaleXyz(z, z, z);\n        scaleMatrix.value[15] = 1;\n        let rotationMatrix;\n        if (this.eularRotationAsRotationMatrix) {\n            let radianEular = this.eularRotation.clone().degreeToRadians();\n            rotationMatrix = new matrixIV_1.MatrixIV().ypr(-radianEular.y, -radianEular.x, radianEular.z);\n        }\n        else {\n            rotationMatrix = matrixIV_1.MatrixIV.fromQuaternion(this.rotation);\n        }\n        let baseMatrix = matrixIV_1.MatrixIV.IDENTITY\n            .multiply(scaleMatrix)\n            .multiply(rotationMatrix)\n            .multiply(translationMatrix)\n            .multiply(offsetMatrix);\n        if (!this.renderWith3dProjectMatrix) {\n            return baseMatrix;\n        }\n        else {\n            const projectionMatrix = new matrixIV_1.MatrixIV()\n                .perspective(mathf_1.mathf.degreeToRadian(90), 1, -1, 100);\n            const viewMatrix = new matrixIV_1.MatrixIV().lookAt(new vector_1.Vector(0, 0, 1), new vector_1.Vector(0, 0, 0), vector_1.Vector.DOWN);\n            return projectionMatrix\n                .multiply(viewMatrix).multiply(baseMatrix);\n        }\n    }\n    toCss3dMatrix() {\n        const matrixValue = this.toMatrixIV().toCss3dMatrix();\n        return matrixValue;\n    }\n    render(syncEularRotation = false) {\n        if (syncEularRotation) {\n            this.syncEularRotation();\n        }\n        for (let key in this.components) {\n            this.components[key].render();\n        }\n        this.velocity.ease(this.acceleration, 1, ease_1.EASE.linear);\n        this.position.add(this.velocity);\n        const matrixValue = this.toCss3dMatrix();\n        this.render_(matrixValue, this.alpha);\n    }\n    render_(transform, alpha) {\n        if (this.disableStyleRenders) {\n            return;\n        }\n        if (this.renderOnlyWhenInview &&\n            this.elementVisibility.state().ready &&\n            !this.elementVisibility.state().inview) {\n            return;\n        }\n        this.element.style.transform = transform;\n        this.element.style.opacity = alpha + '';\n        if (!is_1.is.null(this.forcedZIndex)) {\n            this.element.style.zIndex = this.forcedZIndex + '';\n        }\n        else {\n            this.element.style.zIndex =\n                (this.zIndexScalar * (this.position.z + 1) >> 0) + '';\n        }\n    }\n    dispose() {\n        for (let key in this.components) {\n            this.components[key].dispose();\n        }\n        this.watcher.dispose();\n        this.elementVisibility.dispose();\n    }\n}\nexports.VectorDom = VectorDom;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL3ZlY3Rvci1kb20uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZG9tL3ZlY3Rvci1kb20uanM/ZGNmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGdsb2JhbF93aW5kb3dfMSA9IHJlcXVpcmUoXCIuL2dsb2JhbC13aW5kb3dcIik7XG5jb25zdCBkb2N1bWVudF9tb3VzZV90cmFja2VyXzEgPSByZXF1aXJlKFwiLi9kb2N1bWVudC1tb3VzZS10cmFja2VyXCIpO1xuY29uc3QgZWFzZV8xID0gcmVxdWlyZShcIi4uL2Vhc2UvZWFzZVwiKTtcbmNvbnN0IG1hdGhmXzEgPSByZXF1aXJlKFwiLi4vbWF0aGYvbWF0aGZcIik7XG5jb25zdCBtYXRyaXhJVl8xID0gcmVxdWlyZShcIi4uL21hdGhmL21hdHJpeElWXCIpO1xuY29uc3QgdmVjdG9yXzEgPSByZXF1aXJlKFwiLi4vbWF0aGYvdmVjdG9yXCIpO1xuY29uc3QgcXVhdGVybmlvbl8xID0gcmVxdWlyZShcIi4uL21hdGhmL3F1YXRlcm5pb25cIik7XG5jb25zdCBmdW5jXzEgPSByZXF1aXJlKFwiLi4vZnVuYy9mdW5jXCIpO1xuY29uc3QgaXNfMSA9IHJlcXVpcmUoXCIuLi9pcy9pc1wiKTtcbmNvbnN0IGRvbV93YXRjaGVyXzEgPSByZXF1aXJlKFwiLi9kb20td2F0Y2hlclwiKTtcbmNvbnN0IGVsZW1lbnRfdmlzaWJpbGl0eV8xID0gcmVxdWlyZShcIi4vZWxlbWVudC12aXNpYmlsaXR5XCIpO1xuY29uc3QgdmVjdG9yX2RvbV90aW1lbGluZV8xID0gcmVxdWlyZShcIi4vdmVjdG9yLWRvbS10aW1lbGluZVwiKTtcbmNvbnN0IHZlY3Rvcl9kb21fZm9yY2VfMSA9IHJlcXVpcmUoXCIuL3ZlY3Rvci1kb20tZm9yY2VcIik7XG5jbGFzcyBWZWN0b3JEb20ge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5vZmZzZXQgPSB2ZWN0b3JfMS5WZWN0b3IuWkVSTztcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHZlY3Rvcl8xLlZlY3Rvci5aRVJPO1xuICAgICAgICB0aGlzLmFjY2VsZXJhdGlvbiA9IHZlY3Rvcl8xLlZlY3Rvci5aRVJPO1xuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gdmVjdG9yXzEuVmVjdG9yLlpFUk87XG4gICAgICAgIHRoaXMucm90YXRpb24gPSBxdWF0ZXJuaW9uXzEuUXVhdGVybmlvbi5JREVOVElUWTtcbiAgICAgICAgdGhpcy5ldWxhclJvdGF0aW9uID0gdmVjdG9yXzEuVmVjdG9yLlpFUk87XG4gICAgICAgIHRoaXMudHJhbnNmb3JtT3JpZ2luID0gJ2NlbnRlciBjZW50ZXInO1xuICAgICAgICB0aGlzLndpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgdGhpcy5hbmNob3JYID0gMC41O1xuICAgICAgICB0aGlzLmFuY2hvclkgPSAwLjU7XG4gICAgICAgIHRoaXMuYWxwaGEgPSAxO1xuICAgICAgICB0aGlzLmZvcmNlZFpJbmRleCA9IG51bGw7XG4gICAgICAgIHRoaXMuekluZGV4U2NhbGFyID0gMzA7XG4gICAgICAgIHRoaXMubW91c2UgPSBkb2N1bWVudF9tb3VzZV90cmFja2VyXzEuZGVmYXVsdDtcbiAgICAgICAgdGhpcy53YXRjaGVyID0gbmV3IGRvbV93YXRjaGVyXzEuRG9tV2F0Y2hlcigpO1xuICAgICAgICB0aGlzLnJlbmRlck9ubHlXaGVuSW52aWV3ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdGhpcy5kaXNhYmxlU3R5bGVSZW5kZXJzID0gZmFsc2U7XG4gICAgICAgIHRoaXMudXNlQm91bmRzRm9yR2xvYmFsQ2FsY3VsYXRpb24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ldWxhclJvdGF0aW9uQXNSb3RhdGlvbk1hdHJpeCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlbmRlcldpdGgzZFByb2plY3RNYXRyaXggPSB0cnVlO1xuICAgICAgICB0aGlzLmd4XyA9IDA7XG4gICAgICAgIHRoaXMuZ3lfID0gMDtcbiAgICAgICAgdGhpcy5lbGVtZW50VmlzaWJpbGl0eSA9IGVsZW1lbnRfdmlzaWJpbGl0eV8xLmVsZW1lbnRWaXNpYmlsaXR5Lmludmlldyh0aGlzLmVsZW1lbnQpO1xuICAgICAgICB0aGlzLndhdGNoZXIuYWRkKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgICAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLnJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZXZlbnRPcHRpb25zOiB7IHBhc3NpdmU6IHRydWUgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0ge1xuICAgICAgICAgICAgdGltZWxpbmU6IG5ldyB2ZWN0b3JfZG9tX3RpbWVsaW5lXzEuVmVjdG9yRG9tVGltZWxpbmUodGhpcyksXG4gICAgICAgICAgICBmb3JjZTogbmV3IHZlY3Rvcl9kb21fZm9yY2VfMS5WZWN0b3JEb21Gb3JjZSh0aGlzKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl8gPSB0aGlzLmNvbXBvbmVudHM7XG4gICAgICAgIHRoaXMuZ2V0Qm91bmRpbmdDbGllbnQgPVxuICAgICAgICAgICAgZnVuY18xLmZ1bmMubWVtb2l6ZVNpbXBsZSh0aGlzLmdldEJvdW5kaW5nQ2xpZW50LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnJlbmRlcl8gPSBmdW5jXzEuZnVuYy5ydW5PbmNlT25DaGFuZ2UodGhpcy5yZW5kZXJfLmJpbmQodGhpcykpO1xuICAgIH1cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICB0aGlzLnNldFRyYW5zZm9ybU9yaWdpbigpO1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5jb21wb25lbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHNba2V5XS5pbml0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVzaXplKCkge1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIGxldCBib3VuZHMgPSB0aGlzLmJvdW5kcztcbiAgICAgICAgdGhpcy5neF8gPSBib3VuZHMubGVmdDtcbiAgICAgICAgdGhpcy5neV8gPSBib3VuZHMudG9wICsgZ2xvYmFsX3dpbmRvd18xLmRlZmF1bHQuc2Nyb2xsWTtcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMuY29tcG9uZW50cykge1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzW2tleV0ucmVzaXplKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0VHJhbnNmb3JtT3JpZ2luKHZhbHVlID0gJ2NlbnRlciBjZW50ZXInKSB7XG4gICAgICAgIGlmICh0aGlzLmRpc2FibGVTdHlsZVJlbmRlcnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zZm9ybU9yaWdpbiA9IHZhbHVlO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJ2NlbnRlciBjZW50ZXInO1xuICAgIH1cbiAgICBzZXRQb3NpdGlvbih2KSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSB2O1xuICAgIH1cbiAgICBnZXQgeCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueDtcbiAgICB9XG4gICAgc2V0IHgodmFsdWUpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCB5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi55O1xuICAgIH1cbiAgICBzZXQgeSh2YWx1ZSkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IHooKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLno7XG4gICAgfVxuICAgIHNldCB6KHZhbHVlKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueiA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgdngoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlbG9jaXR5Lng7XG4gICAgfVxuICAgIHNldCB2eCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZlbG9jaXR5LnggPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IHZ5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52ZWxvY2l0eS55O1xuICAgIH1cbiAgICBzZXQgdnkodmFsdWUpIHtcbiAgICAgICAgdGhpcy52ZWxvY2l0eS55ID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCB2eigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVsb2NpdHkuejtcbiAgICB9XG4gICAgc2V0IHZ6KHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmVsb2NpdHkueiA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgYXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjY2VsZXJhdGlvbi54O1xuICAgIH1cbiAgICBzZXQgYXgodmFsdWUpIHtcbiAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24ueCA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgYXkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjY2VsZXJhdGlvbi55O1xuICAgIH1cbiAgICBzZXQgYXkodmFsdWUpIHtcbiAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24ueSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgYXooKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjY2VsZXJhdGlvbi56O1xuICAgIH1cbiAgICBzZXQgYXoodmFsdWUpIHtcbiAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24ueiA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgcngoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV1bGFyUm90YXRpb24ueDtcbiAgICB9XG4gICAgc2V0IHJ4KHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZXVsYXJSb3RhdGlvbi54ID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCByeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXVsYXJSb3RhdGlvbi55O1xuICAgIH1cbiAgICBzZXQgcnkodmFsdWUpIHtcbiAgICAgICAgdGhpcy5ldWxhclJvdGF0aW9uLnkgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IHJ6KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ldWxhclJvdGF0aW9uLno7XG4gICAgfVxuICAgIHNldCByeih2YWx1ZSkge1xuICAgICAgICB0aGlzLmV1bGFyUm90YXRpb24ueiA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgZ2xvYmFsUG9zaXRpb24oKSB7XG4gICAgICAgIGxldCB4ID0gMDtcbiAgICAgICAgbGV0IHkgPSAwO1xuICAgICAgICBjb25zdCBhbmNob3JPZmZzZXRWZWN0b3IgPSB0aGlzLmFuY2hvck9mZnNldFZlY3RvcjtcbiAgICAgICAgaWYgKCF0aGlzLnVzZUJvdW5kc0Zvckdsb2JhbENhbGN1bGF0aW9uKSB7XG4gICAgICAgICAgICB4ID0gdGhpcy5neF8gKyB0aGlzLm9mZnNldC54ICsgYW5jaG9yT2Zmc2V0VmVjdG9yLng7XG4gICAgICAgICAgICB5ID0gdGhpcy5neV8gLSBnbG9iYWxfd2luZG93XzEuZGVmYXVsdC5zY3JvbGxZICsgdGhpcy5vZmZzZXQueSArIGFuY2hvck9mZnNldFZlY3Rvci55O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeCA9IHRoaXMuYm91bmRzLmxlZnQ7XG4gICAgICAgICAgICB5ID0gdGhpcy5ib3VuZHMudG9wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgdmVjdG9yXzEuVmVjdG9yKHgsIHksIHRoaXMucG9zaXRpb24ueik7XG4gICAgfVxuICAgIGdldCBhbmNob3JPZmZzZXRWZWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGFuY2hvck9mZnNldFZlY3RvciA9IG5ldyB2ZWN0b3JfMS5WZWN0b3IoLSh0aGlzLmFuY2hvclggKiB0aGlzLndpZHRoKSwgLSh0aGlzLmFuY2hvclkgKiB0aGlzLmhlaWdodCksIDApO1xuICAgICAgICByZXR1cm4gYW5jaG9yT2Zmc2V0VmVjdG9yO1xuICAgIH1cbiAgICBnZXQgZ2xvYmFsRWxlbWVudENlbnRlclBvc2l0aW9uKCkge1xuICAgICAgICBjb25zdCBnID0gdGhpcy5nbG9iYWxQb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICBsZXQgaHcgPSB0aGlzLndpZHRoIC8gMjtcbiAgICAgICAgbGV0IGhoID0gdGhpcy5oZWlnaHQgLyAyO1xuICAgICAgICBpZiAodGhpcy51c2VCb3VuZHNGb3JHbG9iYWxDYWxjdWxhdGlvbikge1xuICAgICAgICAgICAgaHcgPSB0aGlzLmJvdW5kcy53aWR0aCAvIDI7XG4gICAgICAgICAgICBoaCA9IHRoaXMuYm91bmRzLmhlaWdodCAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeCA9IGcueCArIGh3O1xuICAgICAgICBjb25zdCB5ID0gZy55ICsgaGg7XG4gICAgICAgIHJldHVybiBuZXcgdmVjdG9yXzEuVmVjdG9yKHgsIHksIHRoaXMucG9zaXRpb24ueik7XG4gICAgfVxuICAgIGdldCBib3VuZHMoKSB7XG4gICAgICAgIGxldCBib3VuZHMgPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50KGdsb2JhbF93aW5kb3dfMS5kZWZhdWx0LnNjcm9sbFksIGdsb2JhbF93aW5kb3dfMS5kZWZhdWx0LndpZHRoLCBnbG9iYWxfd2luZG93XzEuZGVmYXVsdC5oZWlnaHQpO1xuICAgICAgICByZXR1cm4gYm91bmRzO1xuICAgIH1cbiAgICBnZXRCb3VuZGluZ0NsaWVudCh5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgfVxuICAgIHNldE9mZnNldCh2KSB7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gdjtcbiAgICB9XG4gICAgc2V0Um90YXRpb24odikge1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gcXVhdGVybmlvbl8xLlF1YXRlcm5pb24uZnJvbUV1bGVyVmVjdG9yKHYpO1xuICAgICAgICB0aGlzLnN5bmNFdWxhclJvdGF0aW9uKCk7XG4gICAgfVxuICAgIHN5bmNFdWxhclJvdGF0aW9uKCkge1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gcXVhdGVybmlvbl8xLlF1YXRlcm5pb24uZnJvbUV1bGVyVmVjdG9yKHRoaXMuZXVsYXJSb3RhdGlvbik7XG4gICAgfVxuICAgIHNsZXJwRXVsYXJSb3RhdGlvbihhbW91bnQpIHtcbiAgICAgICAgdGhpcy5yb3RhdGlvbi5zbGVycEV1bGVyVmVjdG9yKHRoaXMuZXVsYXJSb3RhdGlvbiwgYW1vdW50KTtcbiAgICB9XG4gICAgZm9yY2VaSW5kZXgoekluZGV4KSB7XG4gICAgICAgIHRoaXMuZm9yY2VkWkluZGV4ID0gekluZGV4O1xuICAgIH1cbiAgICB0b1RyYW5zbGF0aW9uTWF0cml4SVYoKSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uVmVjdG9yID0gdGhpcy5wb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICBjb25zdCBtYXRyaXggPSBuZXcgbWF0cml4SVZfMS5NYXRyaXhJVigpO1xuICAgICAgICBtYXRyaXguc2V0VmVjdG9yQ29sdW1uKDMsIHBvc2l0aW9uVmVjdG9yKTtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG4gICAgdG9NYXRyaXhJVigpIHtcbiAgICAgICAgY29uc3QgdHJhbnNsYXRpb25NYXRyaXggPSB0aGlzLnRvVHJhbnNsYXRpb25NYXRyaXhJVigpO1xuICAgICAgICBjb25zdCBhbmNob3JPZmZzZXRWZWN0b3IgPSBuZXcgdmVjdG9yXzEuVmVjdG9yKC0odGhpcy5hbmNob3JYICogdGhpcy53aWR0aCksIC0odGhpcy5hbmNob3JZICogdGhpcy5oZWlnaHQpLCAwKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0TWF0cml4ID0gbmV3IG1hdHJpeElWXzEuTWF0cml4SVYoKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0VmVjdG9yID0gdGhpcy5vZmZzZXQuY2xvbmUoKS5hZGQoYW5jaG9yT2Zmc2V0VmVjdG9yKTtcbiAgICAgICAgb2Zmc2V0TWF0cml4LnNldFZlY3RvckNvbHVtbigzLCBvZmZzZXRWZWN0b3IpO1xuICAgICAgICBsZXQgeiA9IG1hdGhmXzEubWF0aGYuY2xhbXAoLTEsIDEwLCB0aGlzLnBvc2l0aW9uLnogKyAxKTtcbiAgICAgICAgY29uc3Qgc2NhbGVNYXRyaXggPSBuZXcgbWF0cml4SVZfMS5NYXRyaXhJVigpLnNjYWxlWHl6KHosIHosIHopO1xuICAgICAgICBzY2FsZU1hdHJpeC52YWx1ZVsxNV0gPSAxO1xuICAgICAgICBsZXQgcm90YXRpb25NYXRyaXg7XG4gICAgICAgIGlmICh0aGlzLmV1bGFyUm90YXRpb25Bc1JvdGF0aW9uTWF0cml4KSB7XG4gICAgICAgICAgICBsZXQgcmFkaWFuRXVsYXIgPSB0aGlzLmV1bGFyUm90YXRpb24uY2xvbmUoKS5kZWdyZWVUb1JhZGlhbnMoKTtcbiAgICAgICAgICAgIHJvdGF0aW9uTWF0cml4ID0gbmV3IG1hdHJpeElWXzEuTWF0cml4SVYoKS55cHIoLXJhZGlhbkV1bGFyLnksIC1yYWRpYW5FdWxhci54LCByYWRpYW5FdWxhci56KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJvdGF0aW9uTWF0cml4ID0gbWF0cml4SVZfMS5NYXRyaXhJVi5mcm9tUXVhdGVybmlvbih0aGlzLnJvdGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYmFzZU1hdHJpeCA9IG1hdHJpeElWXzEuTWF0cml4SVYuSURFTlRJVFlcbiAgICAgICAgICAgIC5tdWx0aXBseShzY2FsZU1hdHJpeClcbiAgICAgICAgICAgIC5tdWx0aXBseShyb3RhdGlvbk1hdHJpeClcbiAgICAgICAgICAgIC5tdWx0aXBseSh0cmFuc2xhdGlvbk1hdHJpeClcbiAgICAgICAgICAgIC5tdWx0aXBseShvZmZzZXRNYXRyaXgpO1xuICAgICAgICBpZiAoIXRoaXMucmVuZGVyV2l0aDNkUHJvamVjdE1hdHJpeCkge1xuICAgICAgICAgICAgcmV0dXJuIGJhc2VNYXRyaXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0aW9uTWF0cml4ID0gbmV3IG1hdHJpeElWXzEuTWF0cml4SVYoKVxuICAgICAgICAgICAgICAgIC5wZXJzcGVjdGl2ZShtYXRoZl8xLm1hdGhmLmRlZ3JlZVRvUmFkaWFuKDkwKSwgMSwgLTEsIDEwMCk7XG4gICAgICAgICAgICBjb25zdCB2aWV3TWF0cml4ID0gbmV3IG1hdHJpeElWXzEuTWF0cml4SVYoKS5sb29rQXQobmV3IHZlY3Rvcl8xLlZlY3RvcigwLCAwLCAxKSwgbmV3IHZlY3Rvcl8xLlZlY3RvcigwLCAwLCAwKSwgdmVjdG9yXzEuVmVjdG9yLkRPV04pO1xuICAgICAgICAgICAgcmV0dXJuIHByb2plY3Rpb25NYXRyaXhcbiAgICAgICAgICAgICAgICAubXVsdGlwbHkodmlld01hdHJpeCkubXVsdGlwbHkoYmFzZU1hdHJpeCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9Dc3MzZE1hdHJpeCgpIHtcbiAgICAgICAgY29uc3QgbWF0cml4VmFsdWUgPSB0aGlzLnRvTWF0cml4SVYoKS50b0NzczNkTWF0cml4KCk7XG4gICAgICAgIHJldHVybiBtYXRyaXhWYWx1ZTtcbiAgICB9XG4gICAgcmVuZGVyKHN5bmNFdWxhclJvdGF0aW9uID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHN5bmNFdWxhclJvdGF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnN5bmNFdWxhclJvdGF0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMuY29tcG9uZW50cykge1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzW2tleV0ucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52ZWxvY2l0eS5lYXNlKHRoaXMuYWNjZWxlcmF0aW9uLCAxLCBlYXNlXzEuRUFTRS5saW5lYXIpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uLmFkZCh0aGlzLnZlbG9jaXR5KTtcbiAgICAgICAgY29uc3QgbWF0cml4VmFsdWUgPSB0aGlzLnRvQ3NzM2RNYXRyaXgoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJfKG1hdHJpeFZhbHVlLCB0aGlzLmFscGhhKTtcbiAgICB9XG4gICAgcmVuZGVyXyh0cmFuc2Zvcm0sIGFscGhhKSB7XG4gICAgICAgIGlmICh0aGlzLmRpc2FibGVTdHlsZVJlbmRlcnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZW5kZXJPbmx5V2hlbkludmlldyAmJlxuICAgICAgICAgICAgdGhpcy5lbGVtZW50VmlzaWJpbGl0eS5zdGF0ZSgpLnJlYWR5ICYmXG4gICAgICAgICAgICAhdGhpcy5lbGVtZW50VmlzaWJpbGl0eS5zdGF0ZSgpLmludmlldykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gYWxwaGEgKyAnJztcbiAgICAgICAgaWYgKCFpc18xLmlzLm51bGwodGhpcy5mb3JjZWRaSW5kZXgpKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuekluZGV4ID0gdGhpcy5mb3JjZWRaSW5kZXggKyAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS56SW5kZXggPVxuICAgICAgICAgICAgICAgICh0aGlzLnpJbmRleFNjYWxhciAqICh0aGlzLnBvc2l0aW9uLnogKyAxKSA+PiAwKSArICcnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLmNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50c1trZXldLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndhdGNoZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmVsZW1lbnRWaXNpYmlsaXR5LmRpc3Bvc2UoKTtcbiAgICB9XG59XG5leHBvcnRzLlZlY3RvckRvbSA9IFZlY3RvckRvbTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/dom/vector-dom.js\n");

/***/ }),

/***/ "./lib/dom/video-progress.js":
/*!***********************************!*\
  !*** ./lib/dom/video-progress.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst defer_1 = __webpack_require__(/*! ../func/defer */ \"./lib/func/defer.js\");\nconst func_1 = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\nconst mathf_1 = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\nclass VideoProgress {\n    constructor(video) {\n        this.video = video;\n        this.video.muted = true;\n        this.video['playsinline'] = true;\n        this.video.autoplay = false;\n        this.videoReady = new defer_1.Defer();\n    }\n    load() {\n        this.video.load();\n        if (this.video.readyState === 4) {\n            this.videoReady.resolve();\n        }\n        else {\n            func_1.func.waitUntil(() => this.video.readyState == 4).then(() => {\n                this.videoReady.resolve();\n            });\n        }\n        return this.videoReady.getPromise();\n    }\n    setProgress(progress) {\n        let interpolatedTime = mathf_1.mathf.lerp(0, this.video.duration, progress);\n        if (interpolatedTime) {\n            this.video.currentTime = interpolatedTime;\n        }\n    }\n}\nexports.VideoProgress = VideoProgress;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL3ZpZGVvLXByb2dyZXNzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RvbS92aWRlby1wcm9ncmVzcy5qcz8yYWZkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZGVmZXJfMSA9IHJlcXVpcmUoXCIuLi9mdW5jL2RlZmVyXCIpO1xuY29uc3QgZnVuY18xID0gcmVxdWlyZShcIi4uL2Z1bmMvZnVuY1wiKTtcbmNvbnN0IG1hdGhmXzEgPSByZXF1aXJlKFwiLi4vbWF0aGYvbWF0aGZcIik7XG5jbGFzcyBWaWRlb1Byb2dyZXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWRlbykge1xuICAgICAgICB0aGlzLnZpZGVvID0gdmlkZW87XG4gICAgICAgIHRoaXMudmlkZW8ubXV0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnZpZGVvWydwbGF5c2lubGluZSddID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aWRlby5hdXRvcGxheSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnZpZGVvUmVhZHkgPSBuZXcgZGVmZXJfMS5EZWZlcigpO1xuICAgIH1cbiAgICBsb2FkKCkge1xuICAgICAgICB0aGlzLnZpZGVvLmxvYWQoKTtcbiAgICAgICAgaWYgKHRoaXMudmlkZW8ucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgdGhpcy52aWRlb1JlYWR5LnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZ1bmNfMS5mdW5jLndhaXRVbnRpbCgoKSA9PiB0aGlzLnZpZGVvLnJlYWR5U3RhdGUgPT0gNCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWRlb1JlYWR5LnJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvUmVhZHkuZ2V0UHJvbWlzZSgpO1xuICAgIH1cbiAgICBzZXRQcm9ncmVzcyhwcm9ncmVzcykge1xuICAgICAgICBsZXQgaW50ZXJwb2xhdGVkVGltZSA9IG1hdGhmXzEubWF0aGYubGVycCgwLCB0aGlzLnZpZGVvLmR1cmF0aW9uLCBwcm9ncmVzcyk7XG4gICAgICAgIGlmIChpbnRlcnBvbGF0ZWRUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLnZpZGVvLmN1cnJlbnRUaW1lID0gaW50ZXJwb2xhdGVkVGltZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuVmlkZW9Qcm9ncmVzcyA9IFZpZGVvUHJvZ3Jlc3M7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/dom/video-progress.js\n");

/***/ }),

/***/ "./lib/dom/web-worker.js":
/*!*******************************!*\
  !*** ./lib/dom/web-worker.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass WebWorker {\n    constructor(workerTask) {\n        this.worker = null;\n        this.workerTask = workerTask;\n        this.workerTaskAsString = this.workerTask.toString();\n        this.workerTaskAsString = this.formatTask(this.workerTaskAsString);\n        this.codeToRun = `\n            self.addEventListener('message', function(event) {\n                let params = event.data;\n                let result = 'No result was generated.';\n                result = function(params) { ${this.workerTaskAsString} }(params);\n                self.postMessage({ result: result });\n                // close();\n            })\n         `;\n    }\n    formatTask(task) {\n        return task.substring(task.indexOf(\"{\") + 1, task.lastIndexOf(\"}\"));\n    }\n    runOneTimeThrowAwayWorker(paramsToSend, transfer) {\n        return new Promise((resolve, reject) => {\n            var blob = new Blob([this.codeToRun], { type: \"application/javascript\" });\n            const blobUrl = URL.createObjectURL(blob);\n            const worker = new Worker(blobUrl);\n            URL.revokeObjectURL(blobUrl);\n            worker.postMessage(paramsToSend, transfer);\n            worker.onerror = (event) => {\n                reject(event);\n                worker.terminate();\n            };\n            worker.onmessage = (event) => {\n                resolve(event['data']['result']);\n                worker.terminate();\n            };\n        });\n    }\n    run(paramsToSend, transfer) {\n        return new Promise((resolve, reject) => {\n            if (!this.worker) {\n                var blob = new Blob([this.codeToRun], { type: \"application/javascript\" });\n                const blobUrl = URL.createObjectURL(blob);\n                this.worker = new Worker(blobUrl);\n            }\n            this.worker.postMessage(paramsToSend, transfer);\n            this.worker.onerror = (event) => {\n                reject(event);\n            };\n            this.worker.onmessage = (event) => {\n                resolve(event['data']['result']);\n            };\n        });\n    }\n    terminate() {\n        this.worker && this.worker.terminate();\n    }\n}\nexports.WebWorker = WebWorker;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL3dlYi13b3JrZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZG9tL3dlYi13b3JrZXIuanM/Y2Q5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNsYXNzIFdlYldvcmtlciB7XG4gICAgY29uc3RydWN0b3Iod29ya2VyVGFzaykge1xuICAgICAgICB0aGlzLndvcmtlciA9IG51bGw7XG4gICAgICAgIHRoaXMud29ya2VyVGFzayA9IHdvcmtlclRhc2s7XG4gICAgICAgIHRoaXMud29ya2VyVGFza0FzU3RyaW5nID0gdGhpcy53b3JrZXJUYXNrLnRvU3RyaW5nKCk7XG4gICAgICAgIHRoaXMud29ya2VyVGFza0FzU3RyaW5nID0gdGhpcy5mb3JtYXRUYXNrKHRoaXMud29ya2VyVGFza0FzU3RyaW5nKTtcbiAgICAgICAgdGhpcy5jb2RlVG9SdW4gPSBgXG4gICAgICAgICAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIGxldCBwYXJhbXMgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSAnTm8gcmVzdWx0IHdhcyBnZW5lcmF0ZWQuJztcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBmdW5jdGlvbihwYXJhbXMpIHsgJHt0aGlzLndvcmtlclRhc2tBc1N0cmluZ30gfShwYXJhbXMpO1xuICAgICAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoeyByZXN1bHQ6IHJlc3VsdCB9KTtcbiAgICAgICAgICAgICAgICAvLyBjbG9zZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgIGA7XG4gICAgfVxuICAgIGZvcm1hdFRhc2sodGFzaykge1xuICAgICAgICByZXR1cm4gdGFzay5zdWJzdHJpbmcodGFzay5pbmRleE9mKFwie1wiKSArIDEsIHRhc2subGFzdEluZGV4T2YoXCJ9XCIpKTtcbiAgICB9XG4gICAgcnVuT25lVGltZVRocm93QXdheVdvcmtlcihwYXJhbXNUb1NlbmQsIHRyYW5zZmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFt0aGlzLmNvZGVUb1J1bl0sIHsgdHlwZTogXCJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0XCIgfSk7XG4gICAgICAgICAgICBjb25zdCBibG9iVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgIGNvbnN0IHdvcmtlciA9IG5ldyBXb3JrZXIoYmxvYlVybCk7XG4gICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGJsb2JVcmwpO1xuICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHBhcmFtc1RvU2VuZCwgdHJhbnNmZXIpO1xuICAgICAgICAgICAgd29ya2VyLm9uZXJyb3IgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXZlbnQpO1xuICAgICAgICAgICAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3b3JrZXIub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShldmVudFsnZGF0YSddWydyZXN1bHQnXSk7XG4gICAgICAgICAgICAgICAgd29ya2VyLnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJ1bihwYXJhbXNUb1NlbmQsIHRyYW5zZmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMud29ya2VyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbdGhpcy5jb2RlVG9SdW5dLCB7IHR5cGU6IFwiYXBwbGljYXRpb24vamF2YXNjcmlwdFwiIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2JVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICAgICAgICAgIHRoaXMud29ya2VyID0gbmV3IFdvcmtlcihibG9iVXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHBhcmFtc1RvU2VuZCwgdHJhbnNmZXIpO1xuICAgICAgICAgICAgdGhpcy53b3JrZXIub25lcnJvciA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChldmVudCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy53b3JrZXIub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShldmVudFsnZGF0YSddWydyZXN1bHQnXSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdGVybWluYXRlKCkge1xuICAgICAgICB0aGlzLndvcmtlciAmJiB0aGlzLndvcmtlci50ZXJtaW5hdGUoKTtcbiAgICB9XG59XG5leHBvcnRzLldlYldvcmtlciA9IFdlYldvcmtlcjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/dom/web-worker.js\n");

/***/ }),

/***/ "./lib/dom/webgl-image-sequence.js":
/*!*****************************************!*\
  !*** ./lib/dom/webgl-image-sequence.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dom_1 = __webpack_require__(/*! ../dom/dom */ \"./lib/dom/dom.js\");\nconst is_1 = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\nconst func_1 = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\nconst defer_1 = __webpack_require__(/*! ../func/defer */ \"./lib/func/defer.js\");\nconst blob_loader_1 = __webpack_require__(/*! ../loader/blob-loader */ \"./lib/loader/blob-loader.js\");\nconst mathf_1 = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\nconst dom_watcher_1 = __webpack_require__(/*! ../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nconst multi_interpolate_1 = __webpack_require__(/*! ../interpolate/multi-interpolate */ \"./lib/interpolate/multi-interpolate.js\");\nconst raf_timer_1 = __webpack_require__(/*! ../raf/raf-timer */ \"./lib/raf/raf-timer.js\");\nconst fps_1 = __webpack_require__(/*! ../time/fps */ \"./lib/time/fps.js\");\nconst webgl_1 = __webpack_require__(/*! ../dom/webgl */ \"./lib/dom/webgl.js\");\nexports.fragShader = `\n    precision mediump float;\n    uniform sampler2D u_image;\n    // texCoords passed in from the vertex shader.\n    varying vec2 v_texCoord;\n    void main() {\n      gl_FragColor = texture2D(u_image, v_texCoord);\n    }\n`;\nexports.vertShader = `\n    attribute vec2 a_position;\n    uniform mat3 u_matrix;\n    varying vec2 v_texCoord;\n    void main() {\n      gl_Position = vec4(u_matrix * vec3(a_position, 1), 1);\n      v_texCoord = a_position;\n    }\n`;\nexports.WebGlImageSequenceErrors = {\n    NO_ELEMENT: 'An element is required for webgl image sequence',\n    NO_IMAGE_SETS: 'Image sets are required for webgl image sequence',\n    NO_IMAGES: 'There are no images defined in your webgl image sequence image set',\n};\nclass WebGlImageSequence {\n    constructor(element, imageSets, options, dpr) {\n        this.lerpAmount = 1;\n        this.element = element;\n        if (!element) {\n            throw new Error(exports.WebGlImageSequenceErrors.NO_ELEMENT);\n        }\n        if (!imageSets) {\n            throw new Error(exports.WebGlImageSequenceErrors.NO_IMAGE_SETS);\n        }\n        this.imageSets = imageSets;\n        this.activeImageSet = null;\n        this.blobCache = {};\n        this.options = options;\n        this.isPlaying = false;\n        this.canvasElement = document.createElement('canvas');\n        if (this.options && this.options.ariaLabel) {\n            this.canvasElement.setAttribute('aria-label', this.options.ariaLabel);\n            this.canvasElement.setAttribute('role', 'img');\n        }\n        else {\n            this.canvasElement.setAttribute('aria-hidden', 'true');\n        }\n        this.gl = this.canvasElement.getContext('webgl', {\n            antialias: false,\n            depth: false\n        });\n        this.program = webgl_1.webgl.createProgram(this.gl, exports.vertShader, exports.fragShader);\n        this.dpr = func_1.func.setDefault(dpr, window.devicePixelRatio || 1);\n        this.canvasWidth = 0;\n        this.canvasHeight = 0;\n        this.imageNaturalHeight = 0;\n        this.imageNaturalWidth = 0;\n        this.currentFrame = 0;\n        this.lastDrawSource = null;\n        this.targetFrame = 0;\n        this.containScale = null;\n        this.disposed = false;\n        this.fps = new fps_1.Fps(is_1.is.safari() ? 30 : 60);\n        this.cacheImage = new Image();\n        this.rafTimer = null;\n        this.multiInterpolate = null;\n        this.blobLoader = null;\n        this.progress = null;\n        this.playDefer = null;\n        this.domWatcher = new dom_watcher_1.DomWatcher();\n        this.domWatcher.add({\n            element: window,\n            on: 'smartResize',\n            callback: () => {\n                this.resize();\n                this.flush();\n                this.lastDrawSource = null;\n                this.fps.lock(false);\n                this.lastRenderSource && this.draw(this.lastRenderSource);\n                this.fps.lock(true);\n            },\n            id: 'resize',\n            eventOptions: { passive: true }\n        });\n        this.domWatcher.run('resize');\n        this.domWatcher.add({\n            element: window,\n            on: 'smartResize',\n            callback: () => {\n                let newSet = this.getSourceThatShouldLoad(this.imageSets);\n                if (newSet !== this.activeImageSet) {\n                    this.loadNewSet(this.imageSets);\n                    this.load().then(() => {\n                        this.lastDrawSource = null;\n                        this.fps.lock(false);\n                        this.renderByProgress(this.progress || 0);\n                        this.fps.lock(true);\n                    });\n                }\n            },\n            id: 'image-set-resize',\n            eventOptions: { passive: true }\n        });\n        this.element.appendChild(this.canvasElement);\n        this.readyPromise = new defer_1.Defer();\n        this.loadNewSet(imageSets);\n        this.lastRenderSource = null;\n        this.lastDrawSource = null;\n        this.draw =\n            func_1.func.runOnceOnChange(this.draw.bind(this));\n    }\n    setMultiInterpolation(interpolations) {\n        this.multiInterpolate = new multi_interpolate_1.MultiInterpolate({\n            interpolations: [\n                {\n                    id: 'sequence',\n                    progress: interpolations\n                }\n            ]\n        });\n    }\n    resize() {\n        this.canvasWidth = this.element.offsetWidth;\n        this.canvasHeight = this.element.offsetHeight;\n        this.canvasElement.width = this.element.offsetWidth * this.dpr;\n        this.canvasElement.height = this.element.offsetHeight * this.dpr;\n        this.canvasElement.style.width =\n            (this.canvasElement.width / this.dpr) + \"px\";\n        this.canvasElement.style.height =\n            (this.canvasElement.height / this.dpr) + \"px\";\n    }\n    load() {\n        if (!this.blobLoader || !this.activeImageSet) {\n            window.setTimeout(() => {\n                this.readyPromise.resolve();\n            });\n            return this.readyPromise.getPromise();\n        }\n        let loadAllBlobs = () => {\n            this.blobLoader.load().then((results) => {\n                this.blobCache = results;\n                this.setImageDimensions().then(() => {\n                    this.blobLoader.dispose();\n                    this.readyPromise.resolve(results);\n                });\n            });\n        };\n        loadAllBlobs();\n        return this.readyPromise.getPromise();\n    }\n    loadNewSet(imageSets) {\n        this.blobLoader && this.blobLoader.dispose();\n        this.imageSets = imageSets;\n        this.activeImageSet = this.getSourceThatShouldLoad(this.imageSets);\n        if (this.activeImageSet && !is_1.is.array(this.activeImageSet.images)) {\n            throw new Error(exports.WebGlImageSequenceErrors.NO_IMAGES);\n        }\n        if (this.activeImageSet) {\n            this.blobLoader = new blob_loader_1.BlobLoader(this.activeImageSet.images);\n        }\n        else {\n            this.blobLoader = null;\n        }\n        this.blobCache = {};\n        this.flush();\n        this.lastRenderSource = null;\n        this.readyPromise = new defer_1.Defer();\n    }\n    getSourceThatShouldLoad(sources) {\n        let matchingSouces = [];\n        sources.forEach((source) => {\n            if (!source.when) {\n                matchingSouces.push(source);\n            }\n            else {\n                source.when() && matchingSouces.push(source);\n            }\n        });\n        return matchingSouces[0];\n    }\n    makeImage(source) {\n        return new Promise(resolve => {\n            if (!source || !this.blobCache[source]) {\n                resolve(null);\n                return;\n            }\n            URL.revokeObjectURL(this.cacheImage.src);\n            this.cacheImage.onload = () => {\n                resolve(this.cacheImage);\n            };\n            this.cacheImage.src = URL.createObjectURL(this.blobCache[source]);\n        });\n    }\n    setImageDimensions() {\n        return new Promise(resolve => {\n            const source = this.activeImageSet.images[0];\n            const blob = this.blobCache[source];\n            dom_1.dom.makeImageFromBlob(blob).then((image) => {\n                const bitMapsLoaded = !image.naturalWidth;\n                this.imageNaturalHeight =\n                    bitMapsLoaded ? image.height : image.naturalHeight;\n                this.imageNaturalWidth =\n                    bitMapsLoaded ? image.width : image.naturalWidth;\n                dom_1.dom.deleteImage(image);\n                image = null;\n                resolve();\n            });\n        });\n    }\n    getActiveImages() {\n        return this.activeImageSet.images;\n    }\n    renderByProgress(n, noMultiInterpolate = false) {\n        this.progress = mathf_1.mathf.clamp01(n);\n        !this.isPlaying && this.renderProgress(n, noMultiInterpolate);\n    }\n    renderProgress(n, noMultiInterpolate = false) {\n        let progress = mathf_1.mathf.clamp01(n);\n        if (this.multiInterpolate && !noMultiInterpolate) {\n            let interpolateMap = this.multiInterpolate.calculate(progress);\n            progress = mathf_1.mathf.clamp01(interpolateMap['sequence']);\n        }\n        if (progress >= 0.95 || progress <= 0.05) {\n            this.flush();\n        }\n        if (this.activeImageSet) {\n            const total = this.activeImageSet.images.length - 1;\n            const targetFrame = Math.ceil(mathf_1.mathf.lerp(0, total, progress));\n            this.renderFrame(targetFrame);\n        }\n    }\n    renderFrame(i) {\n        if (!this.readyPromise.complete) {\n            return;\n        }\n        this.targetFrame = i;\n        let diff = Math.abs(this.targetFrame - this.currentFrame);\n        if (diff > 1 && !this.isPlaying && this.lerpAmount < 1) {\n            this.currentFrame =\n                mathf_1.mathf.lerp(this.currentFrame, this.targetFrame, this.lerpAmount);\n            diff = Math.abs(this.targetFrame - this.currentFrame);\n            let precision = 0.001;\n            if (diff >= precision) {\n                window.requestAnimationFrame(() => {\n                    this.renderFrame(this.targetFrame);\n                });\n            }\n        }\n        else {\n            this.currentFrame = this.targetFrame;\n        }\n        let imageSource = this.activeImageSet.images[Math.round(this.currentFrame)];\n        this.draw(imageSource);\n    }\n    flush() {\n        this.draw('');\n        this.draw(null);\n    }\n    draw(imageSource) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!imageSource || this.disposed) {\n                return;\n            }\n            if (imageSource == this.lastDrawSource) {\n                return;\n            }\n            if (!this.canvasWidth || !this.canvasHeight) {\n                return;\n            }\n            this.lastDrawSource = imageSource;\n            if (!this.fps.canRun()) {\n                this.fps.schedule(() => {\n                    this.lastDrawSource = null;\n                    this.draw(imageSource);\n                });\n                return;\n            }\n            let image = yield this.makeImage(imageSource);\n            if (!image) {\n                return;\n            }\n            let imageBox = {\n                width: this.imageNaturalWidth,\n                height: this.imageNaturalHeight\n            };\n            let containerBox = {\n                width: this.canvasWidth,\n                height: this.canvasHeight,\n            };\n            let x;\n            let y;\n            let width;\n            let height;\n            if (this.options && this.options.cover) {\n                let cover = mathf_1.mathf.calculateBackgroundCover(containerBox, imageBox);\n                if (this.options && is_1.is.number(this.options.left)) {\n                    cover.xOffset =\n                        (containerBox.width - (imageBox.width * cover.scalar)) * -this.options.left;\n                }\n                if (this.options && is_1.is.number(this.options.right)) {\n                    cover.xOffset = -(containerBox.width - (imageBox.width * cover.scalar));\n                    cover.xOffset +=\n                        (containerBox.width - (imageBox.width * cover.scalar)) * this.options.right;\n                }\n                if (this.options && is_1.is.number(this.options.bottom)) {\n                    cover.yOffset = -(containerBox.height - (imageBox.height * cover.scalar));\n                    cover.yOffset +=\n                        (containerBox.height - (imageBox.height * cover.scalar)) * this.options.bottom;\n                }\n                if (this.options && is_1.is.number(this.options.top)) {\n                    cover.yOffset =\n                        (containerBox.height - (imageBox.height * cover.scalar)) * -this.options.top;\n                }\n                x = -cover.xOffset >> 0;\n                y = -cover.yOffset >> 0;\n                width = imageBox.width * cover.scalar >> 0;\n                height = imageBox.height * cover.scalar >> 0;\n            }\n            else {\n                this.containScale =\n                    mathf_1.mathf.calculateBackgroundContain(containerBox, imageBox);\n                let diffX = (containerBox.width - (imageBox.width * this.containScale)) / 2;\n                let diffY = (containerBox.height - (imageBox.height * this.containScale)) / 2;\n                if (this.options && is_1.is.number(this.options.bottom)) {\n                    diffY = containerBox.height - (imageBox.height * this.containScale);\n                    if (this.options.bottomNoClip) {\n                        diffY -=\n                            (containerBox.height - (imageBox.height * this.containScale))\n                                * this.options.bottom;\n                    }\n                    else {\n                        diffY -= containerBox.height * this.options.bottom;\n                    }\n                }\n                if (this.options && is_1.is.number(this.options.right)) {\n                    diffX = containerBox.width - (imageBox.width * this.containScale);\n                    if (this.options.rightNoClip) {\n                        diffX -=\n                            (containerBox.width - (imageBox.width * this.containScale))\n                                * this.options.right;\n                    }\n                    else {\n                        diffX -= containerBox.width * this.options.right;\n                    }\n                }\n                if (this.options && is_1.is.number(this.options.top)) {\n                    diffY = 0;\n                    if (this.options.topNoClip) {\n                        diffY =\n                            (containerBox.height - (imageBox.height * this.containScale))\n                                * this.options.top;\n                    }\n                    else {\n                        diffY += this.options.top * containerBox.height;\n                    }\n                }\n                if (this.options && is_1.is.number(this.options.left)) {\n                    diffX = 0;\n                    if (this.options.leftNoClip) {\n                        diffX =\n                            (containerBox.width - (imageBox.width * this.containScale))\n                                * this.options.left;\n                    }\n                    else {\n                        diffX += this.options.left * containerBox.width;\n                    }\n                }\n                x = diffX >> 0;\n                y = diffY >> 0;\n                width = imageBox.width * this.containScale >> 0;\n                height = imageBox.height * this.containScale >> 0;\n            }\n            const gl = this.gl;\n            const program = this.program;\n            var aPosition = gl.getAttribLocation(program, \"a_position\");\n            var uMatrix = gl.getUniformLocation(program, \"u_matrix\");\n            gl.useProgram(this.program);\n            gl.viewport(0, 0, this.canvasWidth * this.dpr, this.canvasHeight * this.dpr);\n            webgl_1.webgl.createVbo(gl, [\n                0.0, 0.0,\n                1.0, 0.0,\n                0.0, 1.0,\n                0.0, 1.0,\n                1.0, 0.0,\n                1.0, 1.0\n            ]);\n            gl.enableVertexAttribArray(aPosition);\n            gl.vertexAttribPointer(aPosition, 2, gl.FLOAT, false, 0, 0);\n            var texture = webgl_1.webgl.createTextureFromImage(gl, image);\n            var clipX = x / this.canvasWidth * 2 - 1;\n            var clipY = y / this.canvasHeight * -2 + 1;\n            var clipWidth = width / this.canvasWidth * 2;\n            var clipHeight = height / this.canvasHeight * -2;\n            gl.uniformMatrix3fv(uMatrix, false, [\n                clipWidth, 0, 0,\n                0, clipHeight, 0,\n                clipX, clipY, 1,\n            ]);\n            gl.drawArrays(gl.TRIANGLES, 0, 6);\n            webgl_1.webgl.deleteTexture(gl, texture);\n            this.lastRenderSource = imageSource;\n        });\n    }\n    setSizingOptions(options) {\n        this.options = options;\n    }\n    play(from, to, duration) {\n        this.stop();\n        this.rafTimer = new raf_timer_1.RafTimer((progress) => {\n            let interpolatedProgress = mathf_1.mathf.interpolateRange(progress, 0, 1, from, to);\n            this.renderProgress(interpolatedProgress);\n        });\n        this.rafTimer.setDuration(duration);\n        this.playDefer = new defer_1.Defer();\n        this.rafTimer.onComplete(() => {\n            this.isPlaying = false;\n            this.playDefer.resolve();\n            this.rafTimer.dispose();\n        });\n        this.rafTimer.play();\n        this.isPlaying = true;\n        return this.playDefer.getPromise();\n    }\n    stop() {\n        this.rafTimer && this.rafTimer.pause();\n        this.rafTimer && this.rafTimer.dispose();\n        this.playDefer && this.playDefer.resolve();\n    }\n    getImageSize() {\n        return {\n            width: this.imageNaturalWidth,\n            height: this.imageNaturalHeight,\n        };\n    }\n    dispose() {\n        this.disposed = true;\n        this.stop();\n        this.domWatcher.dispose();\n        this.rafTimer && this.rafTimer.dispose();\n        this.blobLoader && this.blobLoader.dispose();\n        this.element = null;\n        this.blobCache = null;\n        this.canvasElement = null;\n        dom_1.dom.deleteImage(this.cacheImage);\n        this.cacheImage = null;\n        this.gl = null;\n    }\n}\nexports.WebGlImageSequence = WebGlImageSequence;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL3dlYmdsLWltYWdlLXNlcXVlbmNlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RvbS93ZWJnbC1pbWFnZS1zZXF1ZW5jZS5qcz9jNTg0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb20vZG9tXCIpO1xuY29uc3QgaXNfMSA9IHJlcXVpcmUoXCIuLi9pcy9pc1wiKTtcbmNvbnN0IGZ1bmNfMSA9IHJlcXVpcmUoXCIuLi9mdW5jL2Z1bmNcIik7XG5jb25zdCBkZWZlcl8xID0gcmVxdWlyZShcIi4uL2Z1bmMvZGVmZXJcIik7XG5jb25zdCBibG9iX2xvYWRlcl8xID0gcmVxdWlyZShcIi4uL2xvYWRlci9ibG9iLWxvYWRlclwiKTtcbmNvbnN0IG1hdGhmXzEgPSByZXF1aXJlKFwiLi4vbWF0aGYvbWF0aGZcIik7XG5jb25zdCBkb21fd2F0Y2hlcl8xID0gcmVxdWlyZShcIi4uL2RvbS9kb20td2F0Y2hlclwiKTtcbmNvbnN0IG11bHRpX2ludGVycG9sYXRlXzEgPSByZXF1aXJlKFwiLi4vaW50ZXJwb2xhdGUvbXVsdGktaW50ZXJwb2xhdGVcIik7XG5jb25zdCByYWZfdGltZXJfMSA9IHJlcXVpcmUoXCIuLi9yYWYvcmFmLXRpbWVyXCIpO1xuY29uc3QgZnBzXzEgPSByZXF1aXJlKFwiLi4vdGltZS9mcHNcIik7XG5jb25zdCB3ZWJnbF8xID0gcmVxdWlyZShcIi4uL2RvbS93ZWJnbFwiKTtcbmV4cG9ydHMuZnJhZ1NoYWRlciA9IGBcbiAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO1xuICAgIC8vIHRleENvb3JkcyBwYXNzZWQgaW4gZnJvbSB0aGUgdmVydGV4IHNoYWRlci5cbiAgICB2YXJ5aW5nIHZlYzIgdl90ZXhDb29yZDtcbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodV9pbWFnZSwgdl90ZXhDb29yZCk7XG4gICAgfVxuYDtcbmV4cG9ydHMudmVydFNoYWRlciA9IGBcbiAgICBhdHRyaWJ1dGUgdmVjMiBhX3Bvc2l0aW9uO1xuICAgIHVuaWZvcm0gbWF0MyB1X21hdHJpeDtcbiAgICB2YXJ5aW5nIHZlYzIgdl90ZXhDb29yZDtcbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQodV9tYXRyaXggKiB2ZWMzKGFfcG9zaXRpb24sIDEpLCAxKTtcbiAgICAgIHZfdGV4Q29vcmQgPSBhX3Bvc2l0aW9uO1xuICAgIH1cbmA7XG5leHBvcnRzLldlYkdsSW1hZ2VTZXF1ZW5jZUVycm9ycyA9IHtcbiAgICBOT19FTEVNRU5UOiAnQW4gZWxlbWVudCBpcyByZXF1aXJlZCBmb3Igd2ViZ2wgaW1hZ2Ugc2VxdWVuY2UnLFxuICAgIE5PX0lNQUdFX1NFVFM6ICdJbWFnZSBzZXRzIGFyZSByZXF1aXJlZCBmb3Igd2ViZ2wgaW1hZ2Ugc2VxdWVuY2UnLFxuICAgIE5PX0lNQUdFUzogJ1RoZXJlIGFyZSBubyBpbWFnZXMgZGVmaW5lZCBpbiB5b3VyIHdlYmdsIGltYWdlIHNlcXVlbmNlIGltYWdlIHNldCcsXG59O1xuY2xhc3MgV2ViR2xJbWFnZVNlcXVlbmNlIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBpbWFnZVNldHMsIG9wdGlvbnMsIGRwcikge1xuICAgICAgICB0aGlzLmxlcnBBbW91bnQgPSAxO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihleHBvcnRzLldlYkdsSW1hZ2VTZXF1ZW5jZUVycm9ycy5OT19FTEVNRU5UKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWltYWdlU2V0cykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGV4cG9ydHMuV2ViR2xJbWFnZVNlcXVlbmNlRXJyb3JzLk5PX0lNQUdFX1NFVFMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW1hZ2VTZXRzID0gaW1hZ2VTZXRzO1xuICAgICAgICB0aGlzLmFjdGl2ZUltYWdlU2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ibG9iQ2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5pc1BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLmFyaWFMYWJlbCkge1xuICAgICAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHRoaXMub3B0aW9ucy5hcmlhTGFiZWwpO1xuICAgICAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50LnNldEF0dHJpYnV0ZSgncm9sZScsICdpbWcnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdsID0gdGhpcy5jYW52YXNFbGVtZW50LmdldENvbnRleHQoJ3dlYmdsJywge1xuICAgICAgICAgICAgYW50aWFsaWFzOiBmYWxzZSxcbiAgICAgICAgICAgIGRlcHRoOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gd2ViZ2xfMS53ZWJnbC5jcmVhdGVQcm9ncmFtKHRoaXMuZ2wsIGV4cG9ydHMudmVydFNoYWRlciwgZXhwb3J0cy5mcmFnU2hhZGVyKTtcbiAgICAgICAgdGhpcy5kcHIgPSBmdW5jXzEuZnVuYy5zZXREZWZhdWx0KGRwciwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSk7XG4gICAgICAgIHRoaXMuY2FudmFzV2lkdGggPSAwO1xuICAgICAgICB0aGlzLmNhbnZhc0hlaWdodCA9IDA7XG4gICAgICAgIHRoaXMuaW1hZ2VOYXR1cmFsSGVpZ2h0ID0gMDtcbiAgICAgICAgdGhpcy5pbWFnZU5hdHVyYWxXaWR0aCA9IDA7XG4gICAgICAgIHRoaXMuY3VycmVudEZyYW1lID0gMDtcbiAgICAgICAgdGhpcy5sYXN0RHJhd1NvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMudGFyZ2V0RnJhbWUgPSAwO1xuICAgICAgICB0aGlzLmNvbnRhaW5TY2FsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZGlzcG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mcHMgPSBuZXcgZnBzXzEuRnBzKGlzXzEuaXMuc2FmYXJpKCkgPyAzMCA6IDYwKTtcbiAgICAgICAgdGhpcy5jYWNoZUltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIHRoaXMucmFmVGltZXIgPSBudWxsO1xuICAgICAgICB0aGlzLm11bHRpSW50ZXJwb2xhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLmJsb2JMb2FkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy5wbGF5RGVmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgZG9tX3dhdGNoZXJfMS5Eb21XYXRjaGVyKCk7XG4gICAgICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgICAgICAgb246ICdzbWFydFJlc2l6ZScsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdERyYXdTb3VyY2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuZnBzLmxvY2soZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFJlbmRlclNvdXJjZSAmJiB0aGlzLmRyYXcodGhpcy5sYXN0UmVuZGVyU291cmNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZwcy5sb2NrKHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlkOiAncmVzaXplJyxcbiAgICAgICAgICAgIGV2ZW50T3B0aW9uczogeyBwYXNzaXZlOiB0cnVlIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZG9tV2F0Y2hlci5ydW4oJ3Jlc2l6ZScpO1xuICAgICAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgICAgICAgIG9uOiAnc21hcnRSZXNpemUnLFxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbmV3U2V0ID0gdGhpcy5nZXRTb3VyY2VUaGF0U2hvdWxkTG9hZCh0aGlzLmltYWdlU2V0cyk7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1NldCAhPT0gdGhpcy5hY3RpdmVJbWFnZVNldCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWROZXdTZXQodGhpcy5pbWFnZVNldHMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdERyYXdTb3VyY2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcHMubG9jayhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckJ5UHJvZ3Jlc3ModGhpcy5wcm9ncmVzcyB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnBzLmxvY2sodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpZDogJ2ltYWdlLXNldC1yZXNpemUnLFxuICAgICAgICAgICAgZXZlbnRPcHRpb25zOiB7IHBhc3NpdmU6IHRydWUgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY2FudmFzRWxlbWVudCk7XG4gICAgICAgIHRoaXMucmVhZHlQcm9taXNlID0gbmV3IGRlZmVyXzEuRGVmZXIoKTtcbiAgICAgICAgdGhpcy5sb2FkTmV3U2V0KGltYWdlU2V0cyk7XG4gICAgICAgIHRoaXMubGFzdFJlbmRlclNvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdERyYXdTb3VyY2UgPSBudWxsO1xuICAgICAgICB0aGlzLmRyYXcgPVxuICAgICAgICAgICAgZnVuY18xLmZ1bmMucnVuT25jZU9uQ2hhbmdlKHRoaXMuZHJhdy5iaW5kKHRoaXMpKTtcbiAgICB9XG4gICAgc2V0TXVsdGlJbnRlcnBvbGF0aW9uKGludGVycG9sYXRpb25zKSB7XG4gICAgICAgIHRoaXMubXVsdGlJbnRlcnBvbGF0ZSA9IG5ldyBtdWx0aV9pbnRlcnBvbGF0ZV8xLk11bHRpSW50ZXJwb2xhdGUoe1xuICAgICAgICAgICAgaW50ZXJwb2xhdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAnc2VxdWVuY2UnLFxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzczogaW50ZXJwb2xhdGlvbnNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXNpemUoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzV2lkdGggPSB0aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgIHRoaXMuY2FudmFzSGVpZ2h0ID0gdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50LndpZHRoID0gdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoICogdGhpcy5kcHI7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC5oZWlnaHQgPSB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0ICogdGhpcy5kcHI7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC5zdHlsZS53aWR0aCA9XG4gICAgICAgICAgICAodGhpcy5jYW52YXNFbGVtZW50LndpZHRoIC8gdGhpcy5kcHIpICsgXCJweFwiO1xuICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQuc3R5bGUuaGVpZ2h0ID1cbiAgICAgICAgICAgICh0aGlzLmNhbnZhc0VsZW1lbnQuaGVpZ2h0IC8gdGhpcy5kcHIpICsgXCJweFwiO1xuICAgIH1cbiAgICBsb2FkKCkge1xuICAgICAgICBpZiAoIXRoaXMuYmxvYkxvYWRlciB8fCAhdGhpcy5hY3RpdmVJbWFnZVNldCkge1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVhZHlQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZHlQcm9taXNlLmdldFByb21pc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbG9hZEFsbEJsb2JzID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ibG9iTG9hZGVyLmxvYWQoKS50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5ibG9iQ2FjaGUgPSByZXN1bHRzO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SW1hZ2VEaW1lbnNpb25zKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmxvYkxvYWRlci5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZHlQcm9taXNlLnJlc29sdmUocmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgbG9hZEFsbEJsb2JzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWR5UHJvbWlzZS5nZXRQcm9taXNlKCk7XG4gICAgfVxuICAgIGxvYWROZXdTZXQoaW1hZ2VTZXRzKSB7XG4gICAgICAgIHRoaXMuYmxvYkxvYWRlciAmJiB0aGlzLmJsb2JMb2FkZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmltYWdlU2V0cyA9IGltYWdlU2V0cztcbiAgICAgICAgdGhpcy5hY3RpdmVJbWFnZVNldCA9IHRoaXMuZ2V0U291cmNlVGhhdFNob3VsZExvYWQodGhpcy5pbWFnZVNldHMpO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmVJbWFnZVNldCAmJiAhaXNfMS5pcy5hcnJheSh0aGlzLmFjdGl2ZUltYWdlU2V0LmltYWdlcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihleHBvcnRzLldlYkdsSW1hZ2VTZXF1ZW5jZUVycm9ycy5OT19JTUFHRVMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZUltYWdlU2V0KSB7XG4gICAgICAgICAgICB0aGlzLmJsb2JMb2FkZXIgPSBuZXcgYmxvYl9sb2FkZXJfMS5CbG9iTG9hZGVyKHRoaXMuYWN0aXZlSW1hZ2VTZXQuaW1hZ2VzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmxvYkxvYWRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ibG9iQ2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB0aGlzLmxhc3RSZW5kZXJTb3VyY2UgPSBudWxsO1xuICAgICAgICB0aGlzLnJlYWR5UHJvbWlzZSA9IG5ldyBkZWZlcl8xLkRlZmVyKCk7XG4gICAgfVxuICAgIGdldFNvdXJjZVRoYXRTaG91bGRMb2FkKHNvdXJjZXMpIHtcbiAgICAgICAgbGV0IG1hdGNoaW5nU291Y2VzID0gW107XG4gICAgICAgIHNvdXJjZXMuZm9yRWFjaCgoc291cmNlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZS53aGVuKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hpbmdTb3VjZXMucHVzaChzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc291cmNlLndoZW4oKSAmJiBtYXRjaGluZ1NvdWNlcy5wdXNoKHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWF0Y2hpbmdTb3VjZXNbMF07XG4gICAgfVxuICAgIG1ha2VJbWFnZShzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UgfHwgIXRoaXMuYmxvYkNhY2hlW3NvdXJjZV0pIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodGhpcy5jYWNoZUltYWdlLnNyYyk7XG4gICAgICAgICAgICB0aGlzLmNhY2hlSW1hZ2Uub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5jYWNoZUltYWdlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmNhY2hlSW1hZ2Uuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLmJsb2JDYWNoZVtzb3VyY2VdKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNldEltYWdlRGltZW5zaW9ucygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5hY3RpdmVJbWFnZVNldC5pbWFnZXNbMF07XG4gICAgICAgICAgICBjb25zdCBibG9iID0gdGhpcy5ibG9iQ2FjaGVbc291cmNlXTtcbiAgICAgICAgICAgIGRvbV8xLmRvbS5tYWtlSW1hZ2VGcm9tQmxvYihibG9iKS50aGVuKChpbWFnZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJpdE1hcHNMb2FkZWQgPSAhaW1hZ2UubmF0dXJhbFdpZHRoO1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VOYXR1cmFsSGVpZ2h0ID1cbiAgICAgICAgICAgICAgICAgICAgYml0TWFwc0xvYWRlZCA/IGltYWdlLmhlaWdodCA6IGltYWdlLm5hdHVyYWxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZU5hdHVyYWxXaWR0aCA9XG4gICAgICAgICAgICAgICAgICAgIGJpdE1hcHNMb2FkZWQgPyBpbWFnZS53aWR0aCA6IGltYWdlLm5hdHVyYWxXaWR0aDtcbiAgICAgICAgICAgICAgICBkb21fMS5kb20uZGVsZXRlSW1hZ2UoaW1hZ2UpO1xuICAgICAgICAgICAgICAgIGltYWdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEFjdGl2ZUltYWdlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlSW1hZ2VTZXQuaW1hZ2VzO1xuICAgIH1cbiAgICByZW5kZXJCeVByb2dyZXNzKG4sIG5vTXVsdGlJbnRlcnBvbGF0ZSA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBtYXRoZl8xLm1hdGhmLmNsYW1wMDEobik7XG4gICAgICAgICF0aGlzLmlzUGxheWluZyAmJiB0aGlzLnJlbmRlclByb2dyZXNzKG4sIG5vTXVsdGlJbnRlcnBvbGF0ZSk7XG4gICAgfVxuICAgIHJlbmRlclByb2dyZXNzKG4sIG5vTXVsdGlJbnRlcnBvbGF0ZSA9IGZhbHNlKSB7XG4gICAgICAgIGxldCBwcm9ncmVzcyA9IG1hdGhmXzEubWF0aGYuY2xhbXAwMShuKTtcbiAgICAgICAgaWYgKHRoaXMubXVsdGlJbnRlcnBvbGF0ZSAmJiAhbm9NdWx0aUludGVycG9sYXRlKSB7XG4gICAgICAgICAgICBsZXQgaW50ZXJwb2xhdGVNYXAgPSB0aGlzLm11bHRpSW50ZXJwb2xhdGUuY2FsY3VsYXRlKHByb2dyZXNzKTtcbiAgICAgICAgICAgIHByb2dyZXNzID0gbWF0aGZfMS5tYXRoZi5jbGFtcDAxKGludGVycG9sYXRlTWFwWydzZXF1ZW5jZSddKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvZ3Jlc3MgPj0gMC45NSB8fCBwcm9ncmVzcyA8PSAwLjA1KSB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW1hZ2VTZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gdGhpcy5hY3RpdmVJbWFnZVNldC5pbWFnZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEZyYW1lID0gTWF0aC5jZWlsKG1hdGhmXzEubWF0aGYubGVycCgwLCB0b3RhbCwgcHJvZ3Jlc3MpKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyRnJhbWUodGFyZ2V0RnJhbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlckZyYW1lKGkpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlYWR5UHJvbWlzZS5jb21wbGV0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGFyZ2V0RnJhbWUgPSBpO1xuICAgICAgICBsZXQgZGlmZiA9IE1hdGguYWJzKHRoaXMudGFyZ2V0RnJhbWUgLSB0aGlzLmN1cnJlbnRGcmFtZSk7XG4gICAgICAgIGlmIChkaWZmID4gMSAmJiAhdGhpcy5pc1BsYXlpbmcgJiYgdGhpcy5sZXJwQW1vdW50IDwgMSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50RnJhbWUgPVxuICAgICAgICAgICAgICAgIG1hdGhmXzEubWF0aGYubGVycCh0aGlzLmN1cnJlbnRGcmFtZSwgdGhpcy50YXJnZXRGcmFtZSwgdGhpcy5sZXJwQW1vdW50KTtcbiAgICAgICAgICAgIGRpZmYgPSBNYXRoLmFicyh0aGlzLnRhcmdldEZyYW1lIC0gdGhpcy5jdXJyZW50RnJhbWUpO1xuICAgICAgICAgICAgbGV0IHByZWNpc2lvbiA9IDAuMDAxO1xuICAgICAgICAgICAgaWYgKGRpZmYgPj0gcHJlY2lzaW9uKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyRnJhbWUodGhpcy50YXJnZXRGcmFtZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRGcmFtZSA9IHRoaXMudGFyZ2V0RnJhbWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGltYWdlU291cmNlID0gdGhpcy5hY3RpdmVJbWFnZVNldC5pbWFnZXNbTWF0aC5yb3VuZCh0aGlzLmN1cnJlbnRGcmFtZSldO1xuICAgICAgICB0aGlzLmRyYXcoaW1hZ2VTb3VyY2UpO1xuICAgIH1cbiAgICBmbHVzaCgpIHtcbiAgICAgICAgdGhpcy5kcmF3KCcnKTtcbiAgICAgICAgdGhpcy5kcmF3KG51bGwpO1xuICAgIH1cbiAgICBkcmF3KGltYWdlU291cmNlKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBpZiAoIWltYWdlU291cmNlIHx8IHRoaXMuZGlzcG9zZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW1hZ2VTb3VyY2UgPT0gdGhpcy5sYXN0RHJhd1NvdXJjZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5jYW52YXNXaWR0aCB8fCAhdGhpcy5jYW52YXNIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxhc3REcmF3U291cmNlID0gaW1hZ2VTb3VyY2U7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZnBzLmNhblJ1bigpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcHMuc2NoZWR1bGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3REcmF3U291cmNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3KGltYWdlU291cmNlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgaW1hZ2UgPSB5aWVsZCB0aGlzLm1ha2VJbWFnZShpbWFnZVNvdXJjZSk7XG4gICAgICAgICAgICBpZiAoIWltYWdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGltYWdlQm94ID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLmltYWdlTmF0dXJhbFdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5pbWFnZU5hdHVyYWxIZWlnaHRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsZXQgY29udGFpbmVyQm94ID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLmNhbnZhc1dpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5jYW52YXNIZWlnaHQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IHg7XG4gICAgICAgICAgICBsZXQgeTtcbiAgICAgICAgICAgIGxldCB3aWR0aDtcbiAgICAgICAgICAgIGxldCBoZWlnaHQ7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5jb3Zlcikge1xuICAgICAgICAgICAgICAgIGxldCBjb3ZlciA9IG1hdGhmXzEubWF0aGYuY2FsY3VsYXRlQmFja2dyb3VuZENvdmVyKGNvbnRhaW5lckJveCwgaW1hZ2VCb3gpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMgJiYgaXNfMS5pcy5udW1iZXIodGhpcy5vcHRpb25zLmxlZnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdmVyLnhPZmZzZXQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgKGNvbnRhaW5lckJveC53aWR0aCAtIChpbWFnZUJveC53aWR0aCAqIGNvdmVyLnNjYWxhcikpICogLXRoaXMub3B0aW9ucy5sZWZ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zICYmIGlzXzEuaXMubnVtYmVyKHRoaXMub3B0aW9ucy5yaWdodCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY292ZXIueE9mZnNldCA9IC0oY29udGFpbmVyQm94LndpZHRoIC0gKGltYWdlQm94LndpZHRoICogY292ZXIuc2NhbGFyKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvdmVyLnhPZmZzZXQgKz1cbiAgICAgICAgICAgICAgICAgICAgICAgIChjb250YWluZXJCb3gud2lkdGggLSAoaW1hZ2VCb3gud2lkdGggKiBjb3Zlci5zY2FsYXIpKSAqIHRoaXMub3B0aW9ucy5yaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucyAmJiBpc18xLmlzLm51bWJlcih0aGlzLm9wdGlvbnMuYm90dG9tKSkge1xuICAgICAgICAgICAgICAgICAgICBjb3Zlci55T2Zmc2V0ID0gLShjb250YWluZXJCb3guaGVpZ2h0IC0gKGltYWdlQm94LmhlaWdodCAqIGNvdmVyLnNjYWxhcikpO1xuICAgICAgICAgICAgICAgICAgICBjb3Zlci55T2Zmc2V0ICs9XG4gICAgICAgICAgICAgICAgICAgICAgICAoY29udGFpbmVyQm94LmhlaWdodCAtIChpbWFnZUJveC5oZWlnaHQgKiBjb3Zlci5zY2FsYXIpKSAqIHRoaXMub3B0aW9ucy5ib3R0b207XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMgJiYgaXNfMS5pcy5udW1iZXIodGhpcy5vcHRpb25zLnRvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY292ZXIueU9mZnNldCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAoY29udGFpbmVyQm94LmhlaWdodCAtIChpbWFnZUJveC5oZWlnaHQgKiBjb3Zlci5zY2FsYXIpKSAqIC10aGlzLm9wdGlvbnMudG9wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB4ID0gLWNvdmVyLnhPZmZzZXQgPj4gMDtcbiAgICAgICAgICAgICAgICB5ID0gLWNvdmVyLnlPZmZzZXQgPj4gMDtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IGltYWdlQm94LndpZHRoICogY292ZXIuc2NhbGFyID4+IDA7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gaW1hZ2VCb3guaGVpZ2h0ICogY292ZXIuc2NhbGFyID4+IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5TY2FsZSA9XG4gICAgICAgICAgICAgICAgICAgIG1hdGhmXzEubWF0aGYuY2FsY3VsYXRlQmFja2dyb3VuZENvbnRhaW4oY29udGFpbmVyQm94LCBpbWFnZUJveCk7XG4gICAgICAgICAgICAgICAgbGV0IGRpZmZYID0gKGNvbnRhaW5lckJveC53aWR0aCAtIChpbWFnZUJveC53aWR0aCAqIHRoaXMuY29udGFpblNjYWxlKSkgLyAyO1xuICAgICAgICAgICAgICAgIGxldCBkaWZmWSA9IChjb250YWluZXJCb3guaGVpZ2h0IC0gKGltYWdlQm94LmhlaWdodCAqIHRoaXMuY29udGFpblNjYWxlKSkgLyAyO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMgJiYgaXNfMS5pcy5udW1iZXIodGhpcy5vcHRpb25zLmJvdHRvbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlmZlkgPSBjb250YWluZXJCb3guaGVpZ2h0IC0gKGltYWdlQm94LmhlaWdodCAqIHRoaXMuY29udGFpblNjYWxlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ib3R0b21Ob0NsaXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZZIC09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvbnRhaW5lckJveC5oZWlnaHQgLSAoaW1hZ2VCb3guaGVpZ2h0ICogdGhpcy5jb250YWluU2NhbGUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHRoaXMub3B0aW9ucy5ib3R0b207XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmWSAtPSBjb250YWluZXJCb3guaGVpZ2h0ICogdGhpcy5vcHRpb25zLmJvdHRvbTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zICYmIGlzXzEuaXMubnVtYmVyKHRoaXMub3B0aW9ucy5yaWdodCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlmZlggPSBjb250YWluZXJCb3gud2lkdGggLSAoaW1hZ2VCb3gud2lkdGggKiB0aGlzLmNvbnRhaW5TY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmlnaHROb0NsaXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZYIC09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvbnRhaW5lckJveC53aWR0aCAtIChpbWFnZUJveC53aWR0aCAqIHRoaXMuY29udGFpblNjYWxlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiB0aGlzLm9wdGlvbnMucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmWCAtPSBjb250YWluZXJCb3gud2lkdGggKiB0aGlzLm9wdGlvbnMucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucyAmJiBpc18xLmlzLm51bWJlcih0aGlzLm9wdGlvbnMudG9wKSkge1xuICAgICAgICAgICAgICAgICAgICBkaWZmWSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudG9wTm9DbGlwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmWSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvbnRhaW5lckJveC5oZWlnaHQgLSAoaW1hZ2VCb3guaGVpZ2h0ICogdGhpcy5jb250YWluU2NhbGUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHRoaXMub3B0aW9ucy50b3A7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmWSArPSB0aGlzLm9wdGlvbnMudG9wICogY29udGFpbmVyQm94LmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zICYmIGlzXzEuaXMubnVtYmVyKHRoaXMub3B0aW9ucy5sZWZ0KSkge1xuICAgICAgICAgICAgICAgICAgICBkaWZmWCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGVmdE5vQ2xpcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjb250YWluZXJCb3gud2lkdGggLSAoaW1hZ2VCb3gud2lkdGggKiB0aGlzLmNvbnRhaW5TY2FsZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogdGhpcy5vcHRpb25zLmxlZnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmWCArPSB0aGlzLm9wdGlvbnMubGVmdCAqIGNvbnRhaW5lckJveC53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB4ID0gZGlmZlggPj4gMDtcbiAgICAgICAgICAgICAgICB5ID0gZGlmZlkgPj4gMDtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IGltYWdlQm94LndpZHRoICogdGhpcy5jb250YWluU2NhbGUgPj4gMDtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBpbWFnZUJveC5oZWlnaHQgKiB0aGlzLmNvbnRhaW5TY2FsZSA+PiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHRoaXMucHJvZ3JhbTtcbiAgICAgICAgICAgIHZhciBhUG9zaXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBcImFfcG9zaXRpb25cIik7XG4gICAgICAgICAgICB2YXIgdU1hdHJpeCA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBcInVfbWF0cml4XCIpO1xuICAgICAgICAgICAgZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuICAgICAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCAqIHRoaXMuZHByLCB0aGlzLmNhbnZhc0hlaWdodCAqIHRoaXMuZHByKTtcbiAgICAgICAgICAgIHdlYmdsXzEud2ViZ2wuY3JlYXRlVmJvKGdsLCBbXG4gICAgICAgICAgICAgICAgMC4wLCAwLjAsXG4gICAgICAgICAgICAgICAgMS4wLCAwLjAsXG4gICAgICAgICAgICAgICAgMC4wLCAxLjAsXG4gICAgICAgICAgICAgICAgMC4wLCAxLjAsXG4gICAgICAgICAgICAgICAgMS4wLCAwLjAsXG4gICAgICAgICAgICAgICAgMS4wLCAxLjBcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYVBvc2l0aW9uKTtcbiAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoYVBvc2l0aW9uLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSB3ZWJnbF8xLndlYmdsLmNyZWF0ZVRleHR1cmVGcm9tSW1hZ2UoZ2wsIGltYWdlKTtcbiAgICAgICAgICAgIHZhciBjbGlwWCA9IHggLyB0aGlzLmNhbnZhc1dpZHRoICogMiAtIDE7XG4gICAgICAgICAgICB2YXIgY2xpcFkgPSB5IC8gdGhpcy5jYW52YXNIZWlnaHQgKiAtMiArIDE7XG4gICAgICAgICAgICB2YXIgY2xpcFdpZHRoID0gd2lkdGggLyB0aGlzLmNhbnZhc1dpZHRoICogMjtcbiAgICAgICAgICAgIHZhciBjbGlwSGVpZ2h0ID0gaGVpZ2h0IC8gdGhpcy5jYW52YXNIZWlnaHQgKiAtMjtcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYodU1hdHJpeCwgZmFsc2UsIFtcbiAgICAgICAgICAgICAgICBjbGlwV2lkdGgsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgY2xpcEhlaWdodCwgMCxcbiAgICAgICAgICAgICAgICBjbGlwWCwgY2xpcFksIDEsXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCAwLCA2KTtcbiAgICAgICAgICAgIHdlYmdsXzEud2ViZ2wuZGVsZXRlVGV4dHVyZShnbCwgdGV4dHVyZSk7XG4gICAgICAgICAgICB0aGlzLmxhc3RSZW5kZXJTb3VyY2UgPSBpbWFnZVNvdXJjZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNldFNpemluZ09wdGlvbnMob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICBwbGF5KGZyb20sIHRvLCBkdXJhdGlvbikge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5yYWZUaW1lciA9IG5ldyByYWZfdGltZXJfMS5SYWZUaW1lcigocHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgICAgIGxldCBpbnRlcnBvbGF0ZWRQcm9ncmVzcyA9IG1hdGhmXzEubWF0aGYuaW50ZXJwb2xhdGVSYW5nZShwcm9ncmVzcywgMCwgMSwgZnJvbSwgdG8pO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJQcm9ncmVzcyhpbnRlcnBvbGF0ZWRQcm9ncmVzcyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJhZlRpbWVyLnNldER1cmF0aW9uKGR1cmF0aW9uKTtcbiAgICAgICAgdGhpcy5wbGF5RGVmZXIgPSBuZXcgZGVmZXJfMS5EZWZlcigpO1xuICAgICAgICB0aGlzLnJhZlRpbWVyLm9uQ29tcGxldGUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc1BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucGxheURlZmVyLnJlc29sdmUoKTtcbiAgICAgICAgICAgIHRoaXMucmFmVGltZXIuZGlzcG9zZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yYWZUaW1lci5wbGF5KCk7XG4gICAgICAgIHRoaXMuaXNQbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheURlZmVyLmdldFByb21pc2UoKTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5yYWZUaW1lciAmJiB0aGlzLnJhZlRpbWVyLnBhdXNlKCk7XG4gICAgICAgIHRoaXMucmFmVGltZXIgJiYgdGhpcy5yYWZUaW1lci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMucGxheURlZmVyICYmIHRoaXMucGxheURlZmVyLnJlc29sdmUoKTtcbiAgICB9XG4gICAgZ2V0SW1hZ2VTaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMuaW1hZ2VOYXR1cmFsV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaW1hZ2VOYXR1cmFsSGVpZ2h0LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIHRoaXMuZG9tV2F0Y2hlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMucmFmVGltZXIgJiYgdGhpcy5yYWZUaW1lci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuYmxvYkxvYWRlciAmJiB0aGlzLmJsb2JMb2FkZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLmJsb2JDYWNoZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudCA9IG51bGw7XG4gICAgICAgIGRvbV8xLmRvbS5kZWxldGVJbWFnZSh0aGlzLmNhY2hlSW1hZ2UpO1xuICAgICAgICB0aGlzLmNhY2hlSW1hZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLmdsID0gbnVsbDtcbiAgICB9XG59XG5leHBvcnRzLldlYkdsSW1hZ2VTZXF1ZW5jZSA9IFdlYkdsSW1hZ2VTZXF1ZW5jZTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/dom/webgl-image-sequence.js\n");

/***/ }),

/***/ "./lib/dom/webgl.js":
/*!**************************!*\
  !*** ./lib/dom/webgl.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass webgl {\n    static createProgram(gl, vs, fr) {\n        let program = gl.createProgram();\n        let vShader = gl.createShader(gl.VERTEX_SHADER);\n        gl.shaderSource(vShader, vs);\n        gl.compileShader(vShader);\n        let fShader = gl.createShader(gl.FRAGMENT_SHADER);\n        gl.shaderSource(fShader, fr);\n        gl.compileShader(fShader);\n        gl.attachShader(program, vShader);\n        gl.deleteShader(vShader);\n        gl.attachShader(program, fShader);\n        gl.deleteShader(fShader);\n        gl.linkProgram(program);\n        return program;\n    }\n    static createVbo(gl, data) {\n        var vbo = gl.createBuffer();\n        gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(data), gl.STATIC_DRAW);\n        return vbo;\n    }\n    static createTextureFromImage(gl, image) {\n        var texture = gl.createTexture();\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, true);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n        return texture;\n    }\n    static deleteTexture(gl, texture) {\n        gl.deleteTexture(texture);\n    }\n}\nexports.webgl = webgl;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL3dlYmdsLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RvbS93ZWJnbC5qcz9mZGRiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY2xhc3Mgd2ViZ2wge1xuICAgIHN0YXRpYyBjcmVhdGVQcm9ncmFtKGdsLCB2cywgZnIpIHtcbiAgICAgICAgbGV0IHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gICAgICAgIGxldCB2U2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLlZFUlRFWF9TSEFERVIpO1xuICAgICAgICBnbC5zaGFkZXJTb3VyY2UodlNoYWRlciwgdnMpO1xuICAgICAgICBnbC5jb21waWxlU2hhZGVyKHZTaGFkZXIpO1xuICAgICAgICBsZXQgZlNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xuICAgICAgICBnbC5zaGFkZXJTb3VyY2UoZlNoYWRlciwgZnIpO1xuICAgICAgICBnbC5jb21waWxlU2hhZGVyKGZTaGFkZXIpO1xuICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdlNoYWRlcik7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcih2U2hhZGVyKTtcbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZTaGFkZXIpO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIoZlNoYWRlcik7XG4gICAgICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICByZXR1cm4gcHJvZ3JhbTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZVZibyhnbCwgZGF0YSkge1xuICAgICAgICB2YXIgdmJvID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB2Ym8pO1xuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xuICAgICAgICByZXR1cm4gdmJvO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlVGV4dHVyZUZyb21JbWFnZShnbCwgaW1hZ2UpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgdHJ1ZSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBpbWFnZSk7XG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH1cbiAgICBzdGF0aWMgZGVsZXRlVGV4dHVyZShnbCwgdGV4dHVyZSkge1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHRleHR1cmUpO1xuICAgIH1cbn1cbmV4cG9ydHMud2ViZ2wgPSB3ZWJnbDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/dom/webgl.js\n");

/***/ }),

/***/ "./lib/ease/ease.js":
/*!**************************!*\
  !*** ./lib/ease/ease.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass EASE {\n    static easeInSine(t) {\n        return (t == 0 || t == 1) ? t : 1 - Math.cos(t * (Math.PI / 2));\n    }\n    static easeOutSine(t) {\n        return (t == 0 || t == 1) ? t : Math.sin(t * (Math.PI / 2));\n    }\n    static easeInOutSine(t) {\n        return (t == 0 || t == 1) ? t : -0.5 * (Math.cos(Math.PI * t) - 1);\n    }\n    static easeInQuad(t) {\n        return (t == 0 || t == 1) ? t : t * t;\n    }\n    static easeOutQuad(t) {\n        return (t == 0 || t == 1) ? t : t * (2 - t);\n    }\n    static easeInCubic(t) {\n        return (t == 0 || t == 1) ? t : t * t * t;\n    }\n    static easeInOutQuad(t) {\n        if (t == 0 || t == 1) {\n            return t;\n        }\n        else if (t < .5) {\n            return 2 * t * t;\n        }\n        else {\n            return -1 + (4 - 2 * t) * t;\n        }\n    }\n    static easeOutCubic(t) {\n        return (t == 0 || t == 1) ? t : (--t) * t * t + 1;\n    }\n    static easeInOutCubic(t) {\n        if (t == 0 || t == 1) {\n            return t;\n        }\n        else if (t < .5) {\n            return 4 * t * t * t;\n        }\n        else {\n            return (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n        }\n    }\n    static easeInQuart(t) {\n        return (t == 0 || t == 1) ? t : t * t * t * t;\n    }\n    static easeOutQuart(t) {\n        return (t == 0 || t == 1) ? t : 1 - (--t) * t * t * t;\n    }\n    static easeInOutQuart(t) {\n        if (t == 0 || t == 1) {\n            return t;\n        }\n        else if (t < .5) {\n            return 8 * t * t * t * t;\n        }\n        else {\n            return 1 - 8 * (--t) * t * t * t;\n        }\n    }\n    static easeInQuint(t) {\n        return (t == 0 || t == 1) ? t : t * t * t * t * t;\n    }\n    static easeOutQuint(t) {\n        return (t == 0 || t == 1) ? t : 1 + (--t) * t * t * t * t;\n    }\n    static easeInOutQuint(t) {\n        return (t == 0 || t == 1) ? t : t < .5 ? 16 * t * t * t * t * t : 1 + 16 *\n            (--t) * t * t * t * t;\n    }\n    static easeInExpo(t) {\n        return (t == 0 || t == 1) ? t : Math.pow(2, 10 * (t - 1));\n    }\n    static easeOutExpo(t) {\n        return (t == 0 || t == 1) ? t : (1 - Math.pow(2, -10 * t));\n    }\n    static easeInOutExpo(t) {\n        if (t == 0 || t == 1) {\n            return t;\n        }\n        else if (t < .5) {\n            return .5 * Math.pow(2, 10 * (t * 2 - 1));\n        }\n        else {\n            return .5 * (2 - Math.pow(2, -10 * (t * 2 - 1)));\n        }\n    }\n    static easeInCirc(t) {\n        return (t == 0 || t == 1) ? t : 1 - Math.sqrt(1 - (t * t));\n    }\n    static easeOutCirc(t) {\n        return (t == 0 || t == 1) ? t : Math.sqrt(1 - (t - 1) * (t - 1));\n    }\n    static easeInOutCirc(t) {\n        if (t == 0 || t == 1) {\n            return t;\n        }\n        else if (t < .5) {\n            return -.5 * (Math.sqrt(1 - t * t * 4) - 1);\n        }\n        else {\n            return .5 * (Math.sqrt(1 - 4 * (t - 1) * (t - 1)) + 1);\n        }\n    }\n    static easeInBack(t) {\n        return (t == 0 || t == 1) ? t : t * t * (2.70158 * t - 1.70158);\n    }\n    static easeOutBack(t) {\n        return (t == 0 || t == 1) ?\n            t :\n            (t - 1) * (t - 1) * (2.70158 * (t - 1) + 1.70158) + 1;\n    }\n    static easeInOutBack(t) {\n        if (t == 0 || t == 1) {\n            return t;\n        }\n        else if (t < .5) {\n            return .5 * (t * 2) * (t * 2) * (3.5949095 * (t * 2) - 2.5949095);\n        }\n        else {\n            return .5 * ((t * 2 - 2) * (t * 2 - 2) *\n                (3.5949095 * (t * 2 - 2) + 2.5949095) + 2);\n        }\n    }\n    static easeInElastic(t) {\n        if (t == 0 || t == 1) {\n            return t;\n        }\n        else {\n            return -1 * (Math.pow(2, 10 * (t - 1)) *\n                Math.sin((t - 1.075) * (2 * Math.PI) / .3));\n        }\n    }\n    static easeOutElastic(t) {\n        return (t == 0 || t == 1) ? t : Math.pow(2, -10 * t) *\n            Math.sin((t - .075) * (2 * Math.PI) / .3) + 1;\n    }\n    static easeInOutElastic(t) {\n        if (t == 0 || t == 1) {\n            return t;\n        }\n        else if (t < .5) {\n            return -.5 * (Math.pow(2, 10 * ((t * 2) - 1)) *\n                Math.sin((t * 2 - 1.1125) * 2 * Math.PI / .45));\n        }\n        else {\n            return .5 * Math.pow(2, -10 * (t * 2 - 1)) *\n                Math.sin((t * 2 - 1.1125) * 2 * Math.PI / .45) + 1;\n        }\n    }\n    static easeInBounce(t) {\n        return (t == 0 || t == 1) ? t : 1 - EASE.easeOutBounce(1 - t);\n    }\n    static easeOutBounce(t) {\n        if (t == 0 || t == 1) {\n            return t;\n        }\n        else if (t < 1 / 2.75) {\n            return 7.5625 * t * t;\n        }\n        else if (t < 2 / 2.75) {\n            return 7.5625 * (t - 1.5 / 2.75) * (t - 1.5 / 2.75) + .75;\n        }\n        else if (t < 2.5 / 2.75) {\n            return 7.5625 * (t - 2.25 / 2.75) * (t - 2.25 / 2.75) + .9375;\n        }\n        else {\n            return 7.5625 * (t - 2.625 / 2.75) * (t - 2.625 / 2.75) + .984375;\n        }\n    }\n    static easeInOutBounce(t) {\n        if (t == 0 || t == 1) {\n            return t;\n        }\n        else if (t < .5) {\n            return EASE.easeInBounce(t * 2) * .5;\n        }\n        else {\n            return EASE.easeOutBounce(t * 2 - 1) * .5 + .5;\n        }\n    }\n    static linear(t) {\n        return t;\n    }\n}\nexports.EASE = EASE;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZWFzZS9lYXNlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2Vhc2UvZWFzZS5qcz84N2FhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY2xhc3MgRUFTRSB7XG4gICAgc3RhdGljIGVhc2VJblNpbmUodCkge1xuICAgICAgICByZXR1cm4gKHQgPT0gMCB8fCB0ID09IDEpID8gdCA6IDEgLSBNYXRoLmNvcyh0ICogKE1hdGguUEkgLyAyKSk7XG4gICAgfVxuICAgIHN0YXRpYyBlYXNlT3V0U2luZSh0KSB7XG4gICAgICAgIHJldHVybiAodCA9PSAwIHx8IHQgPT0gMSkgPyB0IDogTWF0aC5zaW4odCAqIChNYXRoLlBJIC8gMikpO1xuICAgIH1cbiAgICBzdGF0aWMgZWFzZUluT3V0U2luZSh0KSB7XG4gICAgICAgIHJldHVybiAodCA9PSAwIHx8IHQgPT0gMSkgPyB0IDogLTAuNSAqIChNYXRoLmNvcyhNYXRoLlBJICogdCkgLSAxKTtcbiAgICB9XG4gICAgc3RhdGljIGVhc2VJblF1YWQodCkge1xuICAgICAgICByZXR1cm4gKHQgPT0gMCB8fCB0ID09IDEpID8gdCA6IHQgKiB0O1xuICAgIH1cbiAgICBzdGF0aWMgZWFzZU91dFF1YWQodCkge1xuICAgICAgICByZXR1cm4gKHQgPT0gMCB8fCB0ID09IDEpID8gdCA6IHQgKiAoMiAtIHQpO1xuICAgIH1cbiAgICBzdGF0aWMgZWFzZUluQ3ViaWModCkge1xuICAgICAgICByZXR1cm4gKHQgPT0gMCB8fCB0ID09IDEpID8gdCA6IHQgKiB0ICogdDtcbiAgICB9XG4gICAgc3RhdGljIGVhc2VJbk91dFF1YWQodCkge1xuICAgICAgICBpZiAodCA9PSAwIHx8IHQgPT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodCA8IC41KSB7XG4gICAgICAgICAgICByZXR1cm4gMiAqIHQgKiB0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIC0xICsgKDQgLSAyICogdCkgKiB0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBlYXNlT3V0Q3ViaWModCkge1xuICAgICAgICByZXR1cm4gKHQgPT0gMCB8fCB0ID09IDEpID8gdCA6ICgtLXQpICogdCAqIHQgKyAxO1xuICAgIH1cbiAgICBzdGF0aWMgZWFzZUluT3V0Q3ViaWModCkge1xuICAgICAgICBpZiAodCA9PSAwIHx8IHQgPT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodCA8IC41KSB7XG4gICAgICAgICAgICByZXR1cm4gNCAqIHQgKiB0ICogdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAodCAtIDEpICogKDIgKiB0IC0gMikgKiAoMiAqIHQgLSAyKSArIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGVhc2VJblF1YXJ0KHQpIHtcbiAgICAgICAgcmV0dXJuICh0ID09IDAgfHwgdCA9PSAxKSA/IHQgOiB0ICogdCAqIHQgKiB0O1xuICAgIH1cbiAgICBzdGF0aWMgZWFzZU91dFF1YXJ0KHQpIHtcbiAgICAgICAgcmV0dXJuICh0ID09IDAgfHwgdCA9PSAxKSA/IHQgOiAxIC0gKC0tdCkgKiB0ICogdCAqIHQ7XG4gICAgfVxuICAgIHN0YXRpYyBlYXNlSW5PdXRRdWFydCh0KSB7XG4gICAgICAgIGlmICh0ID09IDAgfHwgdCA9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0IDwgLjUpIHtcbiAgICAgICAgICAgIHJldHVybiA4ICogdCAqIHQgKiB0ICogdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAxIC0gOCAqICgtLXQpICogdCAqIHQgKiB0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBlYXNlSW5RdWludCh0KSB7XG4gICAgICAgIHJldHVybiAodCA9PSAwIHx8IHQgPT0gMSkgPyB0IDogdCAqIHQgKiB0ICogdCAqIHQ7XG4gICAgfVxuICAgIHN0YXRpYyBlYXNlT3V0UXVpbnQodCkge1xuICAgICAgICByZXR1cm4gKHQgPT0gMCB8fCB0ID09IDEpID8gdCA6IDEgKyAoLS10KSAqIHQgKiB0ICogdCAqIHQ7XG4gICAgfVxuICAgIHN0YXRpYyBlYXNlSW5PdXRRdWludCh0KSB7XG4gICAgICAgIHJldHVybiAodCA9PSAwIHx8IHQgPT0gMSkgPyB0IDogdCA8IC41ID8gMTYgKiB0ICogdCAqIHQgKiB0ICogdCA6IDEgKyAxNiAqXG4gICAgICAgICAgICAoLS10KSAqIHQgKiB0ICogdCAqIHQ7XG4gICAgfVxuICAgIHN0YXRpYyBlYXNlSW5FeHBvKHQpIHtcbiAgICAgICAgcmV0dXJuICh0ID09IDAgfHwgdCA9PSAxKSA/IHQgOiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpO1xuICAgIH1cbiAgICBzdGF0aWMgZWFzZU91dEV4cG8odCkge1xuICAgICAgICByZXR1cm4gKHQgPT0gMCB8fCB0ID09IDEpID8gdCA6ICgxIC0gTWF0aC5wb3coMiwgLTEwICogdCkpO1xuICAgIH1cbiAgICBzdGF0aWMgZWFzZUluT3V0RXhwbyh0KSB7XG4gICAgICAgIGlmICh0ID09IDAgfHwgdCA9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0IDwgLjUpIHtcbiAgICAgICAgICAgIHJldHVybiAuNSAqIE1hdGgucG93KDIsIDEwICogKHQgKiAyIC0gMSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIC41ICogKDIgLSBNYXRoLnBvdygyLCAtMTAgKiAodCAqIDIgLSAxKSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBlYXNlSW5DaXJjKHQpIHtcbiAgICAgICAgcmV0dXJuICh0ID09IDAgfHwgdCA9PSAxKSA/IHQgOiAxIC0gTWF0aC5zcXJ0KDEgLSAodCAqIHQpKTtcbiAgICB9XG4gICAgc3RhdGljIGVhc2VPdXRDaXJjKHQpIHtcbiAgICAgICAgcmV0dXJuICh0ID09IDAgfHwgdCA9PSAxKSA/IHQgOiBNYXRoLnNxcnQoMSAtICh0IC0gMSkgKiAodCAtIDEpKTtcbiAgICB9XG4gICAgc3RhdGljIGVhc2VJbk91dENpcmModCkge1xuICAgICAgICBpZiAodCA9PSAwIHx8IHQgPT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodCA8IC41KSB7XG4gICAgICAgICAgICByZXR1cm4gLS41ICogKE1hdGguc3FydCgxIC0gdCAqIHQgKiA0KSAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIC41ICogKE1hdGguc3FydCgxIC0gNCAqICh0IC0gMSkgKiAodCAtIDEpKSArIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBlYXNlSW5CYWNrKHQpIHtcbiAgICAgICAgcmV0dXJuICh0ID09IDAgfHwgdCA9PSAxKSA/IHQgOiB0ICogdCAqICgyLjcwMTU4ICogdCAtIDEuNzAxNTgpO1xuICAgIH1cbiAgICBzdGF0aWMgZWFzZU91dEJhY2sodCkge1xuICAgICAgICByZXR1cm4gKHQgPT0gMCB8fCB0ID09IDEpID9cbiAgICAgICAgICAgIHQgOlxuICAgICAgICAgICAgKHQgLSAxKSAqICh0IC0gMSkgKiAoMi43MDE1OCAqICh0IC0gMSkgKyAxLjcwMTU4KSArIDE7XG4gICAgfVxuICAgIHN0YXRpYyBlYXNlSW5PdXRCYWNrKHQpIHtcbiAgICAgICAgaWYgKHQgPT0gMCB8fCB0ID09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHQgPCAuNSkge1xuICAgICAgICAgICAgcmV0dXJuIC41ICogKHQgKiAyKSAqICh0ICogMikgKiAoMy41OTQ5MDk1ICogKHQgKiAyKSAtIDIuNTk0OTA5NSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gLjUgKiAoKHQgKiAyIC0gMikgKiAodCAqIDIgLSAyKSAqXG4gICAgICAgICAgICAgICAgKDMuNTk0OTA5NSAqICh0ICogMiAtIDIpICsgMi41OTQ5MDk1KSArIDIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBlYXNlSW5FbGFzdGljKHQpIHtcbiAgICAgICAgaWYgKHQgPT0gMCB8fCB0ID09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIC0xICogKE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKlxuICAgICAgICAgICAgICAgIE1hdGguc2luKCh0IC0gMS4wNzUpICogKDIgKiBNYXRoLlBJKSAvIC4zKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGVhc2VPdXRFbGFzdGljKHQpIHtcbiAgICAgICAgcmV0dXJuICh0ID09IDAgfHwgdCA9PSAxKSA/IHQgOiBNYXRoLnBvdygyLCAtMTAgKiB0KSAqXG4gICAgICAgICAgICBNYXRoLnNpbigodCAtIC4wNzUpICogKDIgKiBNYXRoLlBJKSAvIC4zKSArIDE7XG4gICAgfVxuICAgIHN0YXRpYyBlYXNlSW5PdXRFbGFzdGljKHQpIHtcbiAgICAgICAgaWYgKHQgPT0gMCB8fCB0ID09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHQgPCAuNSkge1xuICAgICAgICAgICAgcmV0dXJuIC0uNSAqIChNYXRoLnBvdygyLCAxMCAqICgodCAqIDIpIC0gMSkpICpcbiAgICAgICAgICAgICAgICBNYXRoLnNpbigodCAqIDIgLSAxLjExMjUpICogMiAqIE1hdGguUEkgLyAuNDUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAuNSAqIE1hdGgucG93KDIsIC0xMCAqICh0ICogMiAtIDEpKSAqXG4gICAgICAgICAgICAgICAgTWF0aC5zaW4oKHQgKiAyIC0gMS4xMTI1KSAqIDIgKiBNYXRoLlBJIC8gLjQ1KSArIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGVhc2VJbkJvdW5jZSh0KSB7XG4gICAgICAgIHJldHVybiAodCA9PSAwIHx8IHQgPT0gMSkgPyB0IDogMSAtIEVBU0UuZWFzZU91dEJvdW5jZSgxIC0gdCk7XG4gICAgfVxuICAgIHN0YXRpYyBlYXNlT3V0Qm91bmNlKHQpIHtcbiAgICAgICAgaWYgKHQgPT0gMCB8fCB0ID09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHQgPCAxIC8gMi43NSkge1xuICAgICAgICAgICAgcmV0dXJuIDcuNTYyNSAqIHQgKiB0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHQgPCAyIC8gMi43NSkge1xuICAgICAgICAgICAgcmV0dXJuIDcuNTYyNSAqICh0IC0gMS41IC8gMi43NSkgKiAodCAtIDEuNSAvIDIuNzUpICsgLjc1O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHQgPCAyLjUgLyAyLjc1KSB7XG4gICAgICAgICAgICByZXR1cm4gNy41NjI1ICogKHQgLSAyLjI1IC8gMi43NSkgKiAodCAtIDIuMjUgLyAyLjc1KSArIC45Mzc1O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDcuNTYyNSAqICh0IC0gMi42MjUgLyAyLjc1KSAqICh0IC0gMi42MjUgLyAyLjc1KSArIC45ODQzNzU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGVhc2VJbk91dEJvdW5jZSh0KSB7XG4gICAgICAgIGlmICh0ID09IDAgfHwgdCA9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0IDwgLjUpIHtcbiAgICAgICAgICAgIHJldHVybiBFQVNFLmVhc2VJbkJvdW5jZSh0ICogMikgKiAuNTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBFQVNFLmVhc2VPdXRCb3VuY2UodCAqIDIgLSAxKSAqIC41ICsgLjU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGxpbmVhcih0KSB7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbn1cbmV4cG9ydHMuRUFTRSA9IEVBU0U7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/ease/ease.js\n");

/***/ }),

/***/ "./lib/ease/easer.js":
/*!***************************!*\
  !*** ./lib/ease/easer.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst time_1 = __webpack_require__(/*! ../time/time */ \"./lib/time/time.js\");\nconst mathf_1 = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\nconst ease_1 = __webpack_require__(/*! ./ease */ \"./lib/ease/ease.js\");\nconst raf_1 = __webpack_require__(/*! ../raf/raf */ \"./lib/raf/raf.js\");\nclass Easer {\n    constructor(easerConfig) {\n        this.easerConfig = easerConfig;\n        this.startTime_ = 0;\n        this.endTime_ = 0;\n        this.duration_ = easerConfig.duration || 0;\n        this.delay_ = easerConfig.delay || 0;\n        this.easeFunction_ = easerConfig.easeFunction || ease_1.EASE.linear;\n        this.started_ = false;\n        this.completeCallback_ = null;\n        this.updateCallback_ = null;\n        this.completePromiseResolve_ = null;\n        this.raf_ = new raf_1.Raf(() => {\n            this.calculate();\n        });\n        this.rafDisabled_ = easerConfig.disableRaf || false;\n    }\n    reset(easerConfig) {\n        if (easerConfig) {\n            this.duration_ = easerConfig.duration || this.duration_;\n            this.delay_ = easerConfig.delay || this.delay_;\n            this.easeFunction_ = easerConfig.easeFunction || this.easeFunction_;\n        }\n        this.started_ = false;\n        this.startTime_ = 0;\n        this.endTime_ = 0;\n        this.raf_ && this.raf_.stop();\n    }\n    getRaf() {\n        return this.raf_;\n    }\n    start() {\n        this.startTime_ = time_1.time.now() + this.delay_;\n        this.endTime_ = this.startTime_ + this.duration_;\n        this.started_ = true;\n        if (!this.rafDisabled_) {\n            this.raf_ && this.raf_.start();\n        }\n        return new Promise((resolve) => {\n            this.completePromiseResolve_ = resolve;\n        });\n    }\n    onComplete(callback) {\n        this.completeCallback_ = callback;\n    }\n    onUpdate(callback) {\n        this.updateCallback_ = callback;\n    }\n    calculate() {\n        if (!this.started_) {\n            return;\n        }\n        const currentTime = time_1.time.now();\n        if (currentTime < this.startTime_) {\n            return;\n        }\n        const timePassed = currentTime - (this.startTime_ || 0);\n        const percent = timePassed / this.duration_;\n        const progression = this.easeFunction_(mathf_1.mathf.clamp(0, 1, percent));\n        let complete = false;\n        if (percent > 1) {\n            this.updateCallback_ && this.updateCallback_(1, complete);\n            this.completeCallback_ && this.completeCallback_(1, complete);\n            this.completePromiseResolve_ &&\n                this.completePromiseResolve_(1, complete);\n            complete = true;\n            this.started_ = false;\n        }\n        else {\n            this.updateCallback_ && this.updateCallback_(progression, complete);\n        }\n    }\n    dispose() {\n        this.raf_ && this.raf_.stop();\n    }\n}\nexports.Easer = Easer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZWFzZS9lYXNlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9lYXNlL2Vhc2VyLmpzPzZiMDAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB0aW1lXzEgPSByZXF1aXJlKFwiLi4vdGltZS90aW1lXCIpO1xuY29uc3QgbWF0aGZfMSA9IHJlcXVpcmUoXCIuLi9tYXRoZi9tYXRoZlwiKTtcbmNvbnN0IGVhc2VfMSA9IHJlcXVpcmUoXCIuL2Vhc2VcIik7XG5jb25zdCByYWZfMSA9IHJlcXVpcmUoXCIuLi9yYWYvcmFmXCIpO1xuY2xhc3MgRWFzZXIge1xuICAgIGNvbnN0cnVjdG9yKGVhc2VyQ29uZmlnKSB7XG4gICAgICAgIHRoaXMuZWFzZXJDb25maWcgPSBlYXNlckNvbmZpZztcbiAgICAgICAgdGhpcy5zdGFydFRpbWVfID0gMDtcbiAgICAgICAgdGhpcy5lbmRUaW1lXyA9IDA7XG4gICAgICAgIHRoaXMuZHVyYXRpb25fID0gZWFzZXJDb25maWcuZHVyYXRpb24gfHwgMDtcbiAgICAgICAgdGhpcy5kZWxheV8gPSBlYXNlckNvbmZpZy5kZWxheSB8fCAwO1xuICAgICAgICB0aGlzLmVhc2VGdW5jdGlvbl8gPSBlYXNlckNvbmZpZy5lYXNlRnVuY3Rpb24gfHwgZWFzZV8xLkVBU0UubGluZWFyO1xuICAgICAgICB0aGlzLnN0YXJ0ZWRfID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29tcGxldGVDYWxsYmFja18gPSBudWxsO1xuICAgICAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrXyA9IG51bGw7XG4gICAgICAgIHRoaXMuY29tcGxldGVQcm9taXNlUmVzb2x2ZV8gPSBudWxsO1xuICAgICAgICB0aGlzLnJhZl8gPSBuZXcgcmFmXzEuUmFmKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJhZkRpc2FibGVkXyA9IGVhc2VyQ29uZmlnLmRpc2FibGVSYWYgfHwgZmFsc2U7XG4gICAgfVxuICAgIHJlc2V0KGVhc2VyQ29uZmlnKSB7XG4gICAgICAgIGlmIChlYXNlckNvbmZpZykge1xuICAgICAgICAgICAgdGhpcy5kdXJhdGlvbl8gPSBlYXNlckNvbmZpZy5kdXJhdGlvbiB8fCB0aGlzLmR1cmF0aW9uXztcbiAgICAgICAgICAgIHRoaXMuZGVsYXlfID0gZWFzZXJDb25maWcuZGVsYXkgfHwgdGhpcy5kZWxheV87XG4gICAgICAgICAgICB0aGlzLmVhc2VGdW5jdGlvbl8gPSBlYXNlckNvbmZpZy5lYXNlRnVuY3Rpb24gfHwgdGhpcy5lYXNlRnVuY3Rpb25fO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhcnRlZF8gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGFydFRpbWVfID0gMDtcbiAgICAgICAgdGhpcy5lbmRUaW1lXyA9IDA7XG4gICAgICAgIHRoaXMucmFmXyAmJiB0aGlzLnJhZl8uc3RvcCgpO1xuICAgIH1cbiAgICBnZXRSYWYoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhZl87XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnN0YXJ0VGltZV8gPSB0aW1lXzEudGltZS5ub3coKSArIHRoaXMuZGVsYXlfO1xuICAgICAgICB0aGlzLmVuZFRpbWVfID0gdGhpcy5zdGFydFRpbWVfICsgdGhpcy5kdXJhdGlvbl87XG4gICAgICAgIHRoaXMuc3RhcnRlZF8gPSB0cnVlO1xuICAgICAgICBpZiAoIXRoaXMucmFmRGlzYWJsZWRfKSB7XG4gICAgICAgICAgICB0aGlzLnJhZl8gJiYgdGhpcy5yYWZfLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlUHJvbWlzZVJlc29sdmVfID0gcmVzb2x2ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uQ29tcGxldGUoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5jb21wbGV0ZUNhbGxiYWNrXyA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICBvblVwZGF0ZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrXyA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICBjYWxjdWxhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkXykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gdGltZV8xLnRpbWUubm93KCk7XG4gICAgICAgIGlmIChjdXJyZW50VGltZSA8IHRoaXMuc3RhcnRUaW1lXykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRpbWVQYXNzZWQgPSBjdXJyZW50VGltZSAtICh0aGlzLnN0YXJ0VGltZV8gfHwgMCk7XG4gICAgICAgIGNvbnN0IHBlcmNlbnQgPSB0aW1lUGFzc2VkIC8gdGhpcy5kdXJhdGlvbl87XG4gICAgICAgIGNvbnN0IHByb2dyZXNzaW9uID0gdGhpcy5lYXNlRnVuY3Rpb25fKG1hdGhmXzEubWF0aGYuY2xhbXAoMCwgMSwgcGVyY2VudCkpO1xuICAgICAgICBsZXQgY29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHBlcmNlbnQgPiAxKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrXyAmJiB0aGlzLnVwZGF0ZUNhbGxiYWNrXygxLCBjb21wbGV0ZSk7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlQ2FsbGJhY2tfICYmIHRoaXMuY29tcGxldGVDYWxsYmFja18oMSwgY29tcGxldGUpO1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZVByb21pc2VSZXNvbHZlXyAmJlxuICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVQcm9taXNlUmVzb2x2ZV8oMSwgY29tcGxldGUpO1xuICAgICAgICAgICAgY29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkXyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVDYWxsYmFja18gJiYgdGhpcy51cGRhdGVDYWxsYmFja18ocHJvZ3Jlc3Npb24sIGNvbXBsZXRlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLnJhZl8gJiYgdGhpcy5yYWZfLnN0b3AoKTtcbiAgICB9XG59XG5leHBvcnRzLkVhc2VyID0gRWFzZXI7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/ease/easer.js\n");

/***/ }),

/***/ "./lib/func/defer.js":
/*!***************************!*\
  !*** ./lib/func/defer.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Defer {\n    constructor() {\n        this.resolve = () => { };\n        this.reject = () => { };\n        this.complete = false;\n        this.promise = new Promise((resolve, reject) => {\n            this.resolve = (data) => {\n                this.complete = true;\n                return resolve(data);\n            };\n            this.reject = (data) => {\n                this.complete = true;\n                return reject(data);\n            };\n        });\n    }\n    getPromise() {\n        if (this.complete) {\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        }\n        else {\n            return this.promise;\n        }\n    }\n}\nexports.Defer = Defer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZnVuYy9kZWZlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9mdW5jL2RlZmVyLmpzPzI5Y2UiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jbGFzcyBEZWZlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZSA9ICgpID0+IHsgfTtcbiAgICAgICAgdGhpcy5yZWplY3QgPSAoKSA9PiB7IH07XG4gICAgICAgIHRoaXMuY29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnJlamVjdCA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChkYXRhKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRQcm9taXNlKCkge1xuICAgICAgICBpZiAodGhpcy5jb21wbGV0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb21pc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkRlZmVyID0gRGVmZXI7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/func/defer.js\n");

/***/ }),

/***/ "./lib/func/func.js":
/*!**************************!*\
  !*** ./lib/func/func.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst time_1 = __webpack_require__(/*! ../time/time */ \"./lib/time/time.js\");\nclass func {\n    static debounce(callback, wait, immediate) {\n        let timeOutId;\n        return function (...args) {\n            const ctx = this;\n            var runLater = () => {\n                timeOutId = undefined;\n                callback.apply(ctx, args);\n            };\n            var throttler = () => {\n                timeOutId = undefined;\n            };\n            if (!immediate && timeOutId === undefined) {\n                timeOutId = +setTimeout(runLater, wait);\n            }\n            if (immediate && timeOutId == undefined) {\n                callback.apply(ctx, args);\n                timeOutId = +setTimeout(throttler, wait);\n            }\n        };\n    }\n    static throttle(callback, wait) {\n        return func.debounce(callback, wait, true);\n    }\n    static wait(time) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise(resolve => setTimeout(resolve, time));\n        });\n    }\n    static waitUntil(condition, timeout = 0, interval = 100) {\n        const startTime = time_1.time.now();\n        let resolvePromise;\n        let rejectPromise;\n        const returnPromise = new Promise((resolve, reject) => {\n            resolvePromise = resolve;\n            rejectPromise = reject;\n        });\n        let evaluateCondition = () => {\n            const elapsed = time_1.time.timeDiffMs(startTime, time_1.time.now());\n            if (condition()) {\n                resolvePromise();\n            }\n            else if (timeout && elapsed > timeout) {\n                rejectPromise('Wait until timed out');\n            }\n            else {\n                setTimeout(evaluateCondition, interval);\n            }\n        };\n        evaluateCondition();\n        return returnPromise;\n    }\n    static repeatUntil(condition, action, timeout = 0, interval = 100) {\n        const startTime = time_1.time.now();\n        let resolvePromise;\n        let rejectPromise;\n        const returnPromise = new Promise((resolve, reject) => {\n            resolvePromise = resolve;\n            rejectPromise = reject;\n        });\n        let evaluateCondition = () => {\n            const elapsed = time_1.time.timeDiffMs(startTime, time_1.time.now());\n            if (condition()) {\n                resolvePromise();\n            }\n            else if (timeout && elapsed > timeout) {\n                rejectPromise('Wait until timed out');\n            }\n            else {\n                action();\n                setTimeout(evaluateCondition, interval);\n            }\n        };\n        evaluateCondition();\n        return returnPromise;\n    }\n    static memoizeSimple(callback) {\n        let cachedResults = null;\n        let cachedArgs = null;\n        return (...args) => {\n            let stringifiedArgs = JSON.stringify(args);\n            if (stringifiedArgs == cachedArgs) {\n                return cachedResults;\n            }\n            else {\n                cachedArgs = stringifiedArgs;\n                return cachedResults = callback.apply(null, args);\n            }\n        };\n    }\n    static memoize(callback) {\n        let cachedResults = {};\n        return (...args) => {\n            let stringifiedArgs = JSON.stringify(args);\n            if (cachedResults[stringifiedArgs]) {\n                return cachedResults[stringifiedArgs];\n            }\n            else {\n                return cachedResults[stringifiedArgs] = callback.apply(null, args);\n            }\n        };\n    }\n    static runOnceOnChange(callback) {\n        let cachedResults = null;\n        let cachedArgs = null;\n        return (...args) => {\n            let stringifiedArgs = JSON.stringify(args);\n            if (stringifiedArgs !== cachedArgs) {\n                cachedArgs = stringifiedArgs;\n                return cachedResults = callback.apply(null, args);\n            }\n        };\n    }\n    static setDefault(value, defaultValue) {\n        return Object.is(value, undefined) ? defaultValue : value;\n    }\n    static times(count, callback) {\n        [...Array(count)].forEach((x, i) => {\n            callback(i);\n        });\n    }\n}\nexports.func = func;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZnVuYy9mdW5jLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2Z1bmMvZnVuYy5qcz9mMmRkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB0aW1lXzEgPSByZXF1aXJlKFwiLi4vdGltZS90aW1lXCIpO1xuY2xhc3MgZnVuYyB7XG4gICAgc3RhdGljIGRlYm91bmNlKGNhbGxiYWNrLCB3YWl0LCBpbW1lZGlhdGUpIHtcbiAgICAgICAgbGV0IHRpbWVPdXRJZDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzO1xuICAgICAgICAgICAgdmFyIHJ1bkxhdGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRpbWVPdXRJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShjdHgsIGFyZ3MpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciB0aHJvdHRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGltZU91dElkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICghaW1tZWRpYXRlICYmIHRpbWVPdXRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGltZU91dElkID0gK3NldFRpbWVvdXQocnVuTGF0ZXIsIHdhaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGltbWVkaWF0ZSAmJiB0aW1lT3V0SWQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkoY3R4LCBhcmdzKTtcbiAgICAgICAgICAgICAgICB0aW1lT3V0SWQgPSArc2V0VGltZW91dCh0aHJvdHRsZXIsIHdhaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgdGhyb3R0bGUoY2FsbGJhY2ssIHdhaXQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuZGVib3VuY2UoY2FsbGJhY2ssIHdhaXQsIHRydWUpO1xuICAgIH1cbiAgICBzdGF0aWMgd2FpdCh0aW1lKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWUpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyB3YWl0VW50aWwoY29uZGl0aW9uLCB0aW1lb3V0ID0gMCwgaW50ZXJ2YWwgPSAxMDApIHtcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gdGltZV8xLnRpbWUubm93KCk7XG4gICAgICAgIGxldCByZXNvbHZlUHJvbWlzZTtcbiAgICAgICAgbGV0IHJlamVjdFByb21pc2U7XG4gICAgICAgIGNvbnN0IHJldHVyblByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gICAgICAgICAgICByZWplY3RQcm9taXNlID0gcmVqZWN0O1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGV2YWx1YXRlQ29uZGl0aW9uID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxhcHNlZCA9IHRpbWVfMS50aW1lLnRpbWVEaWZmTXMoc3RhcnRUaW1lLCB0aW1lXzEudGltZS5ub3coKSk7XG4gICAgICAgICAgICBpZiAoY29uZGl0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGltZW91dCAmJiBlbGFwc2VkID4gdGltZW91dCkge1xuICAgICAgICAgICAgICAgIHJlamVjdFByb21pc2UoJ1dhaXQgdW50aWwgdGltZWQgb3V0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGV2YWx1YXRlQ29uZGl0aW9uLCBpbnRlcnZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGV2YWx1YXRlQ29uZGl0aW9uKCk7XG4gICAgICAgIHJldHVybiByZXR1cm5Qcm9taXNlO1xuICAgIH1cbiAgICBzdGF0aWMgcmVwZWF0VW50aWwoY29uZGl0aW9uLCBhY3Rpb24sIHRpbWVvdXQgPSAwLCBpbnRlcnZhbCA9IDEwMCkge1xuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSB0aW1lXzEudGltZS5ub3coKTtcbiAgICAgICAgbGV0IHJlc29sdmVQcm9taXNlO1xuICAgICAgICBsZXQgcmVqZWN0UHJvbWlzZTtcbiAgICAgICAgY29uc3QgcmV0dXJuUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIHJlamVjdFByb21pc2UgPSByZWplY3Q7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgZXZhbHVhdGVDb25kaXRpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGFwc2VkID0gdGltZV8xLnRpbWUudGltZURpZmZNcyhzdGFydFRpbWUsIHRpbWVfMS50aW1lLm5vdygpKTtcbiAgICAgICAgICAgIGlmIChjb25kaXRpb24oKSkge1xuICAgICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aW1lb3V0ICYmIGVsYXBzZWQgPiB0aW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0UHJvbWlzZSgnV2FpdCB1bnRpbCB0aW1lZCBvdXQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFjdGlvbigpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZXZhbHVhdGVDb25kaXRpb24sIGludGVydmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZXZhbHVhdGVDb25kaXRpb24oKTtcbiAgICAgICAgcmV0dXJuIHJldHVyblByb21pc2U7XG4gICAgfVxuICAgIHN0YXRpYyBtZW1vaXplU2ltcGxlKGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCBjYWNoZWRSZXN1bHRzID0gbnVsbDtcbiAgICAgICAgbGV0IGNhY2hlZEFyZ3MgPSBudWxsO1xuICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIGxldCBzdHJpbmdpZmllZEFyZ3MgPSBKU09OLnN0cmluZ2lmeShhcmdzKTtcbiAgICAgICAgICAgIGlmIChzdHJpbmdpZmllZEFyZ3MgPT0gY2FjaGVkQXJncykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZWRSZXN1bHRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FjaGVkQXJncyA9IHN0cmluZ2lmaWVkQXJncztcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkUmVzdWx0cyA9IGNhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgbWVtb2l6ZShjYWxsYmFjaykge1xuICAgICAgICBsZXQgY2FjaGVkUmVzdWx0cyA9IHt9O1xuICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIGxldCBzdHJpbmdpZmllZEFyZ3MgPSBKU09OLnN0cmluZ2lmeShhcmdzKTtcbiAgICAgICAgICAgIGlmIChjYWNoZWRSZXN1bHRzW3N0cmluZ2lmaWVkQXJnc10pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkUmVzdWx0c1tzdHJpbmdpZmllZEFyZ3NdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFJlc3VsdHNbc3RyaW5naWZpZWRBcmdzXSA9IGNhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgcnVuT25jZU9uQ2hhbmdlKGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCBjYWNoZWRSZXN1bHRzID0gbnVsbDtcbiAgICAgICAgbGV0IGNhY2hlZEFyZ3MgPSBudWxsO1xuICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIGxldCBzdHJpbmdpZmllZEFyZ3MgPSBKU09OLnN0cmluZ2lmeShhcmdzKTtcbiAgICAgICAgICAgIGlmIChzdHJpbmdpZmllZEFyZ3MgIT09IGNhY2hlZEFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjYWNoZWRBcmdzID0gc3RyaW5naWZpZWRBcmdzO1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZWRSZXN1bHRzID0gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBzZXREZWZhdWx0KHZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5pcyh2YWx1ZSwgdW5kZWZpbmVkKSA/IGRlZmF1bHRWYWx1ZSA6IHZhbHVlO1xuICAgIH1cbiAgICBzdGF0aWMgdGltZXMoY291bnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIFsuLi5BcnJheShjb3VudCldLmZvckVhY2goKHgsIGkpID0+IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGkpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLmZ1bmMgPSBmdW5jO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/func/func.js\n");

/***/ }),

/***/ "./lib/index.js":
/*!**********************!*\
  !*** ./lib/index.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dom_1 = __webpack_require__(/*! ./dom/dom */ \"./lib/dom/dom.js\");\nexports.dom = dom_1.dom;\nconst dom_watcher_1 = __webpack_require__(/*! ./dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nexports.DomWatcher = dom_watcher_1.DomWatcher;\nconst bom_1 = __webpack_require__(/*! ./dom/bom */ \"./lib/dom/bom.js\");\nexports.bom = bom_1.bom;\nconst mathf_1 = __webpack_require__(/*! ./mathf/mathf */ \"./lib/mathf/mathf.js\");\nexports.mathf = mathf_1.mathf;\nconst is_1 = __webpack_require__(/*! ./is/is */ \"./lib/is/is.js\");\nexports.is = is_1.is;\nconst func_1 = __webpack_require__(/*! ./func/func */ \"./lib/func/func.js\");\nexports.func = func_1.func;\nconst time_1 = __webpack_require__(/*! ./time/time */ \"./lib/time/time.js\");\nexports.time = time_1.time;\nconst raf_1 = __webpack_require__(/*! ./raf/raf */ \"./lib/raf/raf.js\");\nexports.Raf = raf_1.Raf;\nconst raf_progress_1 = __webpack_require__(/*! ./raf/raf-progress */ \"./lib/raf/raf-progress.js\");\nexports.RafProgress = raf_progress_1.RafProgress;\nconst raf_timer_1 = __webpack_require__(/*! ./raf/raf-timer */ \"./lib/raf/raf-timer.js\");\nexports.RafTimer = raf_timer_1.RafTimer;\nconst interpolate_1 = __webpack_require__(/*! ./interpolate/interpolate */ \"./lib/interpolate/interpolate.js\");\nexports.Interpolate = interpolate_1.Interpolate;\nconst css_var_interpolate_1 = __webpack_require__(/*! ./interpolate/css-var-interpolate */ \"./lib/interpolate/css-var-interpolate.js\");\nexports.CssVarInterpolate = css_var_interpolate_1.CssVarInterpolate;\nconst multi_interpolate_1 = __webpack_require__(/*! ./interpolate/multi-interpolate */ \"./lib/interpolate/multi-interpolate.js\");\nexports.MultiInterpolate = multi_interpolate_1.MultiInterpolate;\nconst ease_1 = __webpack_require__(/*! ./ease/ease */ \"./lib/ease/ease.js\");\nexports.EASE = ease_1.EASE;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvaW5kZXguanM/OWIwYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRvbV8xID0gcmVxdWlyZShcIi4vZG9tL2RvbVwiKTtcbmV4cG9ydHMuZG9tID0gZG9tXzEuZG9tO1xuY29uc3QgZG9tX3dhdGNoZXJfMSA9IHJlcXVpcmUoXCIuL2RvbS9kb20td2F0Y2hlclwiKTtcbmV4cG9ydHMuRG9tV2F0Y2hlciA9IGRvbV93YXRjaGVyXzEuRG9tV2F0Y2hlcjtcbmNvbnN0IGJvbV8xID0gcmVxdWlyZShcIi4vZG9tL2JvbVwiKTtcbmV4cG9ydHMuYm9tID0gYm9tXzEuYm9tO1xuY29uc3QgbWF0aGZfMSA9IHJlcXVpcmUoXCIuL21hdGhmL21hdGhmXCIpO1xuZXhwb3J0cy5tYXRoZiA9IG1hdGhmXzEubWF0aGY7XG5jb25zdCBpc18xID0gcmVxdWlyZShcIi4vaXMvaXNcIik7XG5leHBvcnRzLmlzID0gaXNfMS5pcztcbmNvbnN0IGZ1bmNfMSA9IHJlcXVpcmUoXCIuL2Z1bmMvZnVuY1wiKTtcbmV4cG9ydHMuZnVuYyA9IGZ1bmNfMS5mdW5jO1xuY29uc3QgdGltZV8xID0gcmVxdWlyZShcIi4vdGltZS90aW1lXCIpO1xuZXhwb3J0cy50aW1lID0gdGltZV8xLnRpbWU7XG5jb25zdCByYWZfMSA9IHJlcXVpcmUoXCIuL3JhZi9yYWZcIik7XG5leHBvcnRzLlJhZiA9IHJhZl8xLlJhZjtcbmNvbnN0IHJhZl9wcm9ncmVzc18xID0gcmVxdWlyZShcIi4vcmFmL3JhZi1wcm9ncmVzc1wiKTtcbmV4cG9ydHMuUmFmUHJvZ3Jlc3MgPSByYWZfcHJvZ3Jlc3NfMS5SYWZQcm9ncmVzcztcbmNvbnN0IHJhZl90aW1lcl8xID0gcmVxdWlyZShcIi4vcmFmL3JhZi10aW1lclwiKTtcbmV4cG9ydHMuUmFmVGltZXIgPSByYWZfdGltZXJfMS5SYWZUaW1lcjtcbmNvbnN0IGludGVycG9sYXRlXzEgPSByZXF1aXJlKFwiLi9pbnRlcnBvbGF0ZS9pbnRlcnBvbGF0ZVwiKTtcbmV4cG9ydHMuSW50ZXJwb2xhdGUgPSBpbnRlcnBvbGF0ZV8xLkludGVycG9sYXRlO1xuY29uc3QgY3NzX3Zhcl9pbnRlcnBvbGF0ZV8xID0gcmVxdWlyZShcIi4vaW50ZXJwb2xhdGUvY3NzLXZhci1pbnRlcnBvbGF0ZVwiKTtcbmV4cG9ydHMuQ3NzVmFySW50ZXJwb2xhdGUgPSBjc3NfdmFyX2ludGVycG9sYXRlXzEuQ3NzVmFySW50ZXJwb2xhdGU7XG5jb25zdCBtdWx0aV9pbnRlcnBvbGF0ZV8xID0gcmVxdWlyZShcIi4vaW50ZXJwb2xhdGUvbXVsdGktaW50ZXJwb2xhdGVcIik7XG5leHBvcnRzLk11bHRpSW50ZXJwb2xhdGUgPSBtdWx0aV9pbnRlcnBvbGF0ZV8xLk11bHRpSW50ZXJwb2xhdGU7XG5jb25zdCBlYXNlXzEgPSByZXF1aXJlKFwiLi9lYXNlL2Vhc2VcIik7XG5leHBvcnRzLkVBU0UgPSBlYXNlXzEuRUFTRTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/index.js\n");

/***/ }),

/***/ "./lib/interpolate/css-var-interpolate.js":
/*!************************************************!*\
  !*** ./lib/interpolate/css-var-interpolate.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mathf_1 = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\nconst multi_interpolate_1 = __webpack_require__(/*! ./multi-interpolate */ \"./lib/interpolate/multi-interpolate.js\");\nconst element_visibility_1 = __webpack_require__(/*! ../dom/element-visibility */ \"./lib/dom/element-visibility.js\");\nconst dom_1 = __webpack_require__(/*! ../dom/dom */ \"./lib/dom/dom.js\");\nconst is_1 = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\nconst css_unit_1 = __webpack_require__(/*! ../string/css-unit */ \"./lib/string/css-unit.js\");\nconst objectf_1 = __webpack_require__(/*! ../objectf/objectf */ \"./lib/objectf/objectf.js\");\nclass CssVarInterpolate {\n    constructor(element, config) {\n        this.element = element;\n        this.config = config;\n        this.mainProgress = null;\n        this.currentValues = {};\n        this.renderSubPixels = true;\n        if (config) {\n            this.multiInterpolate = new multi_interpolate_1.MultiInterpolate(config);\n        }\n        else {\n            this.multiInterpolate = null;\n        }\n        this.elementVisibility = element_visibility_1.elementVisibility.inview(this.element);\n        this.runOnceAfterOutView = true;\n        this.renderOnlyWhenInview = true;\n        this.ranOutViewUpdate = false;\n        this.batchUpdate = false;\n        this.precision = 4;\n        this.noWrite = false;\n        this.startProgress = 0;\n        this.endProgress = 1;\n    }\n    setInterpolations(config) {\n        if (config) {\n            this.multiInterpolate = new multi_interpolate_1.MultiInterpolate(config);\n        }\n    }\n    setPrecision(numberOfDecimals) {\n        this.precision = numberOfDecimals;\n    }\n    flush() {\n        this.mainProgress = null;\n    }\n    useSubPixelRendering(value) {\n        this.renderSubPixels = value;\n    }\n    useNoWrite(value) {\n        this.noWrite = value;\n    }\n    useBatchUpdate(value) {\n        this.batchUpdate = value;\n    }\n    renderOutview(value) {\n        this.renderOnlyWhenInview = !value;\n    }\n    update(progress, force = false) {\n        if (!this.multiInterpolate) {\n            return;\n        }\n        if (!force && progress == this.mainProgress) {\n            return;\n        }\n        if (this.renderOnlyWhenInview &&\n            this.elementVisibility.state().ready &&\n            !this.elementVisibility.state().inview) {\n            if (this.runOnceAfterOutView && !this.ranOutViewUpdate) {\n                this.ranOutViewUpdate = true;\n                this.updateValues(progress >= 0.5 ? 1 : 0);\n            }\n            return;\n        }\n        this.ranOutViewUpdate = false;\n        this.updateValues(progress);\n    }\n    updateValues(progress) {\n        if (!this.multiInterpolate) {\n            return;\n        }\n        const roundedPrecision = mathf_1.mathf.toFixed(progress, this.precision);\n        if (this.mainProgress == roundedPrecision) {\n            return;\n        }\n        this.mainProgress = mathf_1.mathf.childProgress(roundedPrecision, this.startProgress, this.endProgress, true);\n        const previousValues = objectf_1.objectf.jsonCopy(this.currentValues);\n        this.currentValues =\n            this.multiInterpolate.calculate(this.mainProgress);\n        if (objectf_1.objectf.areEqual(previousValues, this.currentValues)) {\n            return;\n        }\n        if (this.noWrite) {\n            return;\n        }\n        for (var key in this.currentValues) {\n            if (!this.renderSubPixels && is_1.is.string(this.currentValues[key])) {\n                let cssUnitValue = css_unit_1.cssUnit.parse(this.currentValues[key]);\n                if (cssUnitValue.unit == 'px') {\n                    this.currentValues[key] =\n                        (cssUnitValue.value >> 0) + 'px';\n                }\n            }\n            if (!this.batchUpdate) {\n                dom_1.dom.setCssVariable(this.element, key, this.currentValues[key]);\n            }\n        }\n        if (this.batchUpdate) {\n            dom_1.dom.setCssVariables(this.element, this.currentValues);\n        }\n    }\n    setProgressRange(start, end) {\n        this.startProgress = start;\n        this.endProgress = end;\n    }\n    getValues() {\n        return this.currentValues;\n    }\n}\nexports.CssVarInterpolate = CssVarInterpolate;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvaW50ZXJwb2xhdGUvY3NzLXZhci1pbnRlcnBvbGF0ZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9pbnRlcnBvbGF0ZS9jc3MtdmFyLWludGVycG9sYXRlLmpzP2RlODgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBtYXRoZl8xID0gcmVxdWlyZShcIi4uL21hdGhmL21hdGhmXCIpO1xuY29uc3QgbXVsdGlfaW50ZXJwb2xhdGVfMSA9IHJlcXVpcmUoXCIuL211bHRpLWludGVycG9sYXRlXCIpO1xuY29uc3QgZWxlbWVudF92aXNpYmlsaXR5XzEgPSByZXF1aXJlKFwiLi4vZG9tL2VsZW1lbnQtdmlzaWJpbGl0eVwiKTtcbmNvbnN0IGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbS9kb21cIik7XG5jb25zdCBpc18xID0gcmVxdWlyZShcIi4uL2lzL2lzXCIpO1xuY29uc3QgY3NzX3VuaXRfMSA9IHJlcXVpcmUoXCIuLi9zdHJpbmcvY3NzLXVuaXRcIik7XG5jb25zdCBvYmplY3RmXzEgPSByZXF1aXJlKFwiLi4vb2JqZWN0Zi9vYmplY3RmXCIpO1xuY2xhc3MgQ3NzVmFySW50ZXJwb2xhdGUge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGNvbmZpZykge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5tYWluUHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZXMgPSB7fTtcbiAgICAgICAgdGhpcy5yZW5kZXJTdWJQaXhlbHMgPSB0cnVlO1xuICAgICAgICBpZiAoY29uZmlnKSB7XG4gICAgICAgICAgICB0aGlzLm11bHRpSW50ZXJwb2xhdGUgPSBuZXcgbXVsdGlfaW50ZXJwb2xhdGVfMS5NdWx0aUludGVycG9sYXRlKGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm11bHRpSW50ZXJwb2xhdGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxlbWVudFZpc2liaWxpdHkgPSBlbGVtZW50X3Zpc2liaWxpdHlfMS5lbGVtZW50VmlzaWJpbGl0eS5pbnZpZXcodGhpcy5lbGVtZW50KTtcbiAgICAgICAgdGhpcy5ydW5PbmNlQWZ0ZXJPdXRWaWV3ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZW5kZXJPbmx5V2hlbkludmlldyA9IHRydWU7XG4gICAgICAgIHRoaXMucmFuT3V0Vmlld1VwZGF0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJhdGNoVXBkYXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJlY2lzaW9uID0gNDtcbiAgICAgICAgdGhpcy5ub1dyaXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhcnRQcm9ncmVzcyA9IDA7XG4gICAgICAgIHRoaXMuZW5kUHJvZ3Jlc3MgPSAxO1xuICAgIH1cbiAgICBzZXRJbnRlcnBvbGF0aW9ucyhjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZykge1xuICAgICAgICAgICAgdGhpcy5tdWx0aUludGVycG9sYXRlID0gbmV3IG11bHRpX2ludGVycG9sYXRlXzEuTXVsdGlJbnRlcnBvbGF0ZShjb25maWcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldFByZWNpc2lvbihudW1iZXJPZkRlY2ltYWxzKSB7XG4gICAgICAgIHRoaXMucHJlY2lzaW9uID0gbnVtYmVyT2ZEZWNpbWFscztcbiAgICB9XG4gICAgZmx1c2goKSB7XG4gICAgICAgIHRoaXMubWFpblByb2dyZXNzID0gbnVsbDtcbiAgICB9XG4gICAgdXNlU3ViUGl4ZWxSZW5kZXJpbmcodmFsdWUpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJTdWJQaXhlbHMgPSB2YWx1ZTtcbiAgICB9XG4gICAgdXNlTm9Xcml0ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLm5vV3JpdGUgPSB2YWx1ZTtcbiAgICB9XG4gICAgdXNlQmF0Y2hVcGRhdGUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5iYXRjaFVwZGF0ZSA9IHZhbHVlO1xuICAgIH1cbiAgICByZW5kZXJPdXR2aWV3KHZhbHVlKSB7XG4gICAgICAgIHRoaXMucmVuZGVyT25seVdoZW5JbnZpZXcgPSAhdmFsdWU7XG4gICAgfVxuICAgIHVwZGF0ZShwcm9ncmVzcywgZm9yY2UgPSBmYWxzZSkge1xuICAgICAgICBpZiAoIXRoaXMubXVsdGlJbnRlcnBvbGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZm9yY2UgJiYgcHJvZ3Jlc3MgPT0gdGhpcy5tYWluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZW5kZXJPbmx5V2hlbkludmlldyAmJlxuICAgICAgICAgICAgdGhpcy5lbGVtZW50VmlzaWJpbGl0eS5zdGF0ZSgpLnJlYWR5ICYmXG4gICAgICAgICAgICAhdGhpcy5lbGVtZW50VmlzaWJpbGl0eS5zdGF0ZSgpLmludmlldykge1xuICAgICAgICAgICAgaWYgKHRoaXMucnVuT25jZUFmdGVyT3V0VmlldyAmJiAhdGhpcy5yYW5PdXRWaWV3VXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYW5PdXRWaWV3VXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVZhbHVlcyhwcm9ncmVzcyA+PSAwLjUgPyAxIDogMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yYW5PdXRWaWV3VXBkYXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMudXBkYXRlVmFsdWVzKHByb2dyZXNzKTtcbiAgICB9XG4gICAgdXBkYXRlVmFsdWVzKHByb2dyZXNzKSB7XG4gICAgICAgIGlmICghdGhpcy5tdWx0aUludGVycG9sYXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgcm91bmRlZFByZWNpc2lvbiA9IG1hdGhmXzEubWF0aGYudG9GaXhlZChwcm9ncmVzcywgdGhpcy5wcmVjaXNpb24pO1xuICAgICAgICBpZiAodGhpcy5tYWluUHJvZ3Jlc3MgPT0gcm91bmRlZFByZWNpc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFpblByb2dyZXNzID0gbWF0aGZfMS5tYXRoZi5jaGlsZFByb2dyZXNzKHJvdW5kZWRQcmVjaXNpb24sIHRoaXMuc3RhcnRQcm9ncmVzcywgdGhpcy5lbmRQcm9ncmVzcywgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzVmFsdWVzID0gb2JqZWN0Zl8xLm9iamVjdGYuanNvbkNvcHkodGhpcy5jdXJyZW50VmFsdWVzKTtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWVzID1cbiAgICAgICAgICAgIHRoaXMubXVsdGlJbnRlcnBvbGF0ZS5jYWxjdWxhdGUodGhpcy5tYWluUHJvZ3Jlc3MpO1xuICAgICAgICBpZiAob2JqZWN0Zl8xLm9iamVjdGYuYXJlRXF1YWwocHJldmlvdXNWYWx1ZXMsIHRoaXMuY3VycmVudFZhbHVlcykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ub1dyaXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuY3VycmVudFZhbHVlcykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnJlbmRlclN1YlBpeGVscyAmJiBpc18xLmlzLnN0cmluZyh0aGlzLmN1cnJlbnRWYWx1ZXNba2V5XSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgY3NzVW5pdFZhbHVlID0gY3NzX3VuaXRfMS5jc3NVbml0LnBhcnNlKHRoaXMuY3VycmVudFZhbHVlc1trZXldKTtcbiAgICAgICAgICAgICAgICBpZiAoY3NzVW5pdFZhbHVlLnVuaXQgPT0gJ3B4Jykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZXNba2V5XSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAoY3NzVW5pdFZhbHVlLnZhbHVlID4+IDApICsgJ3B4JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmF0Y2hVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICBkb21fMS5kb20uc2V0Q3NzVmFyaWFibGUodGhpcy5lbGVtZW50LCBrZXksIHRoaXMuY3VycmVudFZhbHVlc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iYXRjaFVwZGF0ZSkge1xuICAgICAgICAgICAgZG9tXzEuZG9tLnNldENzc1ZhcmlhYmxlcyh0aGlzLmVsZW1lbnQsIHRoaXMuY3VycmVudFZhbHVlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0UHJvZ3Jlc3NSYW5nZShzdGFydCwgZW5kKSB7XG4gICAgICAgIHRoaXMuc3RhcnRQcm9ncmVzcyA9IHN0YXJ0O1xuICAgICAgICB0aGlzLmVuZFByb2dyZXNzID0gZW5kO1xuICAgIH1cbiAgICBnZXRWYWx1ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRWYWx1ZXM7XG4gICAgfVxufVxuZXhwb3J0cy5Dc3NWYXJJbnRlcnBvbGF0ZSA9IENzc1ZhckludGVycG9sYXRlO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/interpolate/css-var-interpolate.js\n");

/***/ }),

/***/ "./lib/interpolate/interpolate.js":
/*!****************************************!*\
  !*** ./lib/interpolate/interpolate.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mathf_1 = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\nconst is_1 = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\nconst color_1 = __webpack_require__(/*! ../mathf/color */ \"./lib/mathf/color.js\");\nconst css_unit_1 = __webpack_require__(/*! ../string/css-unit */ \"./lib/string/css-unit.js\");\nclass Interpolate {\n    constructor(interpolateConfig) {\n        this.interpolateConfig = interpolateConfig;\n        this.currentValue = 0;\n        this.currentProgress = 0;\n        this.calculate(0);\n    }\n    modify(interpolateConfig) {\n        return new Interpolate(interpolateConfig);\n    }\n    calculate(progress) {\n        this.currentProgress = progress;\n        if (is_1.is.number(this.interpolateConfig.from)) {\n            this.currentValue = mathf_1.mathf.ease(this.interpolateConfig.from, this.interpolateConfig.to, this.currentProgress, this.interpolateConfig.easeFunction);\n        }\n        else {\n            let from = css_unit_1.cssUnit.parse(this.interpolateConfig.from);\n            let to = css_unit_1.cssUnit.parse(this.interpolateConfig.to);\n            if (from.valueType == css_unit_1.CssUnitObjectTypes.number) {\n                this.currentValue = mathf_1.mathf.ease(from.value, to.value, this.currentProgress, this.interpolateConfig.easeFunction);\n                this.currentValue = `${this.currentValue}${from.unit}`;\n            }\n            if (from.valueType == css_unit_1.CssUnitObjectTypes.rgba) {\n                const interpolatedRgba = color_1.color.rgbaEase(from.value, to.value, this.currentProgress, this.interpolateConfig.easeFunction);\n                this.currentValue = color_1.color.rgbaToCss(interpolatedRgba);\n            }\n        }\n        return this.currentValue;\n    }\n}\nexports.Interpolate = Interpolate;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvaW50ZXJwb2xhdGUvaW50ZXJwb2xhdGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvaW50ZXJwb2xhdGUvaW50ZXJwb2xhdGUuanM/MGVhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG1hdGhmXzEgPSByZXF1aXJlKFwiLi4vbWF0aGYvbWF0aGZcIik7XG5jb25zdCBpc18xID0gcmVxdWlyZShcIi4uL2lzL2lzXCIpO1xuY29uc3QgY29sb3JfMSA9IHJlcXVpcmUoXCIuLi9tYXRoZi9jb2xvclwiKTtcbmNvbnN0IGNzc191bml0XzEgPSByZXF1aXJlKFwiLi4vc3RyaW5nL2Nzcy11bml0XCIpO1xuY2xhc3MgSW50ZXJwb2xhdGUge1xuICAgIGNvbnN0cnVjdG9yKGludGVycG9sYXRlQ29uZmlnKSB7XG4gICAgICAgIHRoaXMuaW50ZXJwb2xhdGVDb25maWcgPSBpbnRlcnBvbGF0ZUNvbmZpZztcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSAwO1xuICAgICAgICB0aGlzLmN1cnJlbnRQcm9ncmVzcyA9IDA7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlKDApO1xuICAgIH1cbiAgICBtb2RpZnkoaW50ZXJwb2xhdGVDb25maWcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlcnBvbGF0ZShpbnRlcnBvbGF0ZUNvbmZpZyk7XG4gICAgfVxuICAgIGNhbGN1bGF0ZShwcm9ncmVzcykge1xuICAgICAgICB0aGlzLmN1cnJlbnRQcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgICBpZiAoaXNfMS5pcy5udW1iZXIodGhpcy5pbnRlcnBvbGF0ZUNvbmZpZy5mcm9tKSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBtYXRoZl8xLm1hdGhmLmVhc2UodGhpcy5pbnRlcnBvbGF0ZUNvbmZpZy5mcm9tLCB0aGlzLmludGVycG9sYXRlQ29uZmlnLnRvLCB0aGlzLmN1cnJlbnRQcm9ncmVzcywgdGhpcy5pbnRlcnBvbGF0ZUNvbmZpZy5lYXNlRnVuY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGZyb20gPSBjc3NfdW5pdF8xLmNzc1VuaXQucGFyc2UodGhpcy5pbnRlcnBvbGF0ZUNvbmZpZy5mcm9tKTtcbiAgICAgICAgICAgIGxldCB0byA9IGNzc191bml0XzEuY3NzVW5pdC5wYXJzZSh0aGlzLmludGVycG9sYXRlQ29uZmlnLnRvKTtcbiAgICAgICAgICAgIGlmIChmcm9tLnZhbHVlVHlwZSA9PSBjc3NfdW5pdF8xLkNzc1VuaXRPYmplY3RUeXBlcy5udW1iZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IG1hdGhmXzEubWF0aGYuZWFzZShmcm9tLnZhbHVlLCB0by52YWx1ZSwgdGhpcy5jdXJyZW50UHJvZ3Jlc3MsIHRoaXMuaW50ZXJwb2xhdGVDb25maWcuZWFzZUZ1bmN0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IGAke3RoaXMuY3VycmVudFZhbHVlfSR7ZnJvbS51bml0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZnJvbS52YWx1ZVR5cGUgPT0gY3NzX3VuaXRfMS5Dc3NVbml0T2JqZWN0VHlwZXMucmdiYSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVycG9sYXRlZFJnYmEgPSBjb2xvcl8xLmNvbG9yLnJnYmFFYXNlKGZyb20udmFsdWUsIHRvLnZhbHVlLCB0aGlzLmN1cnJlbnRQcm9ncmVzcywgdGhpcy5pbnRlcnBvbGF0ZUNvbmZpZy5lYXNlRnVuY3Rpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gY29sb3JfMS5jb2xvci5yZ2JhVG9Dc3MoaW50ZXJwb2xhdGVkUmdiYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFZhbHVlO1xuICAgIH1cbn1cbmV4cG9ydHMuSW50ZXJwb2xhdGUgPSBJbnRlcnBvbGF0ZTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/interpolate/interpolate.js\n");

/***/ }),

/***/ "./lib/interpolate/multi-interpolate.js":
/*!**********************************************!*\
  !*** ./lib/interpolate/multi-interpolate.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mathf_1 = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\nconst ease_1 = __webpack_require__(/*! ../ease/ease */ \"./lib/ease/ease.js\");\nconst interpolate_1 = __webpack_require__(/*! ./interpolate */ \"./lib/interpolate/interpolate.js\");\nexports.multiInterpolateHelper = {\n    errors: {\n        FROM_TO_EQUAL: 'Range progress from and to values should not equal each other.',\n        FROM_GREATER: 'Range progress from greater than the value of to'\n    },\n    checkInvalidRangedProgresses: (progresses) => {\n        progresses.forEach((progress) => {\n            if (progress.from == progress.to) {\n                console.error(progress);\n                throw new Error(exports.multiInterpolateHelper.errors.FROM_TO_EQUAL);\n            }\n            if (progress.from > progress.to) {\n                console.error(progress);\n                throw new Error(exports.multiInterpolateHelper.errors.FROM_GREATER);\n            }\n        });\n    },\n    findBestMatchingRangedProgress(currentProgress, progress) {\n        let matchedProgress = progress[0];\n        progress.forEach((progress) => {\n            let previousProgress = matchedProgress;\n            if (matchedProgress.to <= currentProgress) {\n                matchedProgress = progress;\n            }\n            if (matchedProgress.from > currentProgress) {\n                matchedProgress = previousProgress;\n            }\n        });\n        return matchedProgress;\n    }\n};\nclass MultiInterpolate {\n    constructor(multiInterpolaterConfig) {\n        this.interpolations = Object;\n        this.parentProgress = 0;\n        this.currentValues = {};\n        this.config = multiInterpolaterConfig;\n        this.updateConfig(this.config);\n    }\n    updateConfig(config) {\n        this.config = this.createStaggers(config);\n        if (!this.config.interpolations) {\n            throw new Error('Multiinterpolation config is missing interpolations');\n        }\n        this.config.interpolations = this.config.interpolations.map((interpolateSettings) => {\n            exports.multiInterpolateHelper.checkInvalidRangedProgresses(interpolateSettings.progress);\n            return interpolateSettings;\n        });\n    }\n    createStaggers(config) {\n        const itemsToAdd = [];\n        [...config.interpolations].forEach((item) => {\n            if (item.stagger && !item.staggerItem) {\n                for (var i = 0; i < item.stagger.count; i++) {\n                    const newItem = Object.assign({}, item);\n                    newItem.progress = newItem.progress.map((progress) => {\n                        progress = Object.assign({}, progress);\n                        progress.to += i * item.stagger.progressOffset;\n                        progress.from += i * item.stagger.progressOffset;\n                        newItem.id = item.id + '-' + i;\n                        newItem.stagger = null;\n                        newItem.staggerItem = true;\n                        return progress;\n                    });\n                    itemsToAdd.push(newItem);\n                }\n            }\n        });\n        itemsToAdd.forEach((item) => {\n            config.interpolations.push(item);\n        });\n        return config;\n    }\n    getCalculations() {\n        return this.currentValues;\n    }\n    calculate(progress) {\n        this.parentProgress = progress;\n        const previousValues = this.currentValues;\n        this.config.interpolations.forEach((config) => {\n            const matchedRangeProgress = exports.multiInterpolateHelper.findBestMatchingRangedProgress(this.parentProgress, config.progress);\n            const childProgress = mathf_1.mathf.childProgress(this.parentProgress, matchedRangeProgress.from, matchedRangeProgress.to);\n            if (config.noInterpolation) {\n                if (!config.noInterpolationDefault) {\n                    throw new Error(\"You are using noInterpolation without a noInterpolation default\");\n                }\n                if (mathf_1.mathf.isBetween(this.parentProgress, matchedRangeProgress.from, matchedRangeProgress.to, true)) {\n                    this.currentValues[config.id] = matchedRangeProgress.end;\n                }\n                else {\n                    this.currentValues[config.id] = config.noInterpolationDefault;\n                }\n            }\n            else {\n                const interpolatedValue = new interpolate_1.Interpolate({\n                    from: matchedRangeProgress.start,\n                    to: matchedRangeProgress.end,\n                    easeFunction: matchedRangeProgress.easingFunction ||\n                        ease_1.EASE.linear\n                }).calculate(childProgress);\n                this.currentValues[config.id] = interpolatedValue;\n            }\n            if (config.onUpdate) {\n                config.onUpdate(config.id, this.parentProgress, this.currentValues[config.id]);\n            }\n        });\n        return this.currentValues;\n    }\n}\nexports.MultiInterpolate = MultiInterpolate;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvaW50ZXJwb2xhdGUvbXVsdGktaW50ZXJwb2xhdGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvaW50ZXJwb2xhdGUvbXVsdGktaW50ZXJwb2xhdGUuanM/Y2UwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG1hdGhmXzEgPSByZXF1aXJlKFwiLi4vbWF0aGYvbWF0aGZcIik7XG5jb25zdCBlYXNlXzEgPSByZXF1aXJlKFwiLi4vZWFzZS9lYXNlXCIpO1xuY29uc3QgaW50ZXJwb2xhdGVfMSA9IHJlcXVpcmUoXCIuL2ludGVycG9sYXRlXCIpO1xuZXhwb3J0cy5tdWx0aUludGVycG9sYXRlSGVscGVyID0ge1xuICAgIGVycm9yczoge1xuICAgICAgICBGUk9NX1RPX0VRVUFMOiAnUmFuZ2UgcHJvZ3Jlc3MgZnJvbSBhbmQgdG8gdmFsdWVzIHNob3VsZCBub3QgZXF1YWwgZWFjaCBvdGhlci4nLFxuICAgICAgICBGUk9NX0dSRUFURVI6ICdSYW5nZSBwcm9ncmVzcyBmcm9tIGdyZWF0ZXIgdGhhbiB0aGUgdmFsdWUgb2YgdG8nXG4gICAgfSxcbiAgICBjaGVja0ludmFsaWRSYW5nZWRQcm9ncmVzc2VzOiAocHJvZ3Jlc3NlcykgPT4ge1xuICAgICAgICBwcm9ncmVzc2VzLmZvckVhY2goKHByb2dyZXNzKSA9PiB7XG4gICAgICAgICAgICBpZiAocHJvZ3Jlc3MuZnJvbSA9PSBwcm9ncmVzcy50bykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihleHBvcnRzLm11bHRpSW50ZXJwb2xhdGVIZWxwZXIuZXJyb3JzLkZST01fVE9fRVFVQUwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb2dyZXNzLmZyb20gPiBwcm9ncmVzcy50bykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihleHBvcnRzLm11bHRpSW50ZXJwb2xhdGVIZWxwZXIuZXJyb3JzLkZST01fR1JFQVRFUik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgZmluZEJlc3RNYXRjaGluZ1JhbmdlZFByb2dyZXNzKGN1cnJlbnRQcm9ncmVzcywgcHJvZ3Jlc3MpIHtcbiAgICAgICAgbGV0IG1hdGNoZWRQcm9ncmVzcyA9IHByb2dyZXNzWzBdO1xuICAgICAgICBwcm9ncmVzcy5mb3JFYWNoKChwcm9ncmVzcykgPT4ge1xuICAgICAgICAgICAgbGV0IHByZXZpb3VzUHJvZ3Jlc3MgPSBtYXRjaGVkUHJvZ3Jlc3M7XG4gICAgICAgICAgICBpZiAobWF0Y2hlZFByb2dyZXNzLnRvIDw9IGN1cnJlbnRQcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRQcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1hdGNoZWRQcm9ncmVzcy5mcm9tID4gY3VycmVudFByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZFByb2dyZXNzID0gcHJldmlvdXNQcm9ncmVzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtYXRjaGVkUHJvZ3Jlc3M7XG4gICAgfVxufTtcbmNsYXNzIE11bHRpSW50ZXJwb2xhdGUge1xuICAgIGNvbnN0cnVjdG9yKG11bHRpSW50ZXJwb2xhdGVyQ29uZmlnKSB7XG4gICAgICAgIHRoaXMuaW50ZXJwb2xhdGlvbnMgPSBPYmplY3Q7XG4gICAgICAgIHRoaXMucGFyZW50UHJvZ3Jlc3MgPSAwO1xuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZXMgPSB7fTtcbiAgICAgICAgdGhpcy5jb25maWcgPSBtdWx0aUludGVycG9sYXRlckNvbmZpZztcbiAgICAgICAgdGhpcy51cGRhdGVDb25maWcodGhpcy5jb25maWcpO1xuICAgIH1cbiAgICB1cGRhdGVDb25maWcoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gdGhpcy5jcmVhdGVTdGFnZ2Vycyhjb25maWcpO1xuICAgICAgICBpZiAoIXRoaXMuY29uZmlnLmludGVycG9sYXRpb25zKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ011bHRpaW50ZXJwb2xhdGlvbiBjb25maWcgaXMgbWlzc2luZyBpbnRlcnBvbGF0aW9ucycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29uZmlnLmludGVycG9sYXRpb25zID0gdGhpcy5jb25maWcuaW50ZXJwb2xhdGlvbnMubWFwKChpbnRlcnBvbGF0ZVNldHRpbmdzKSA9PiB7XG4gICAgICAgICAgICBleHBvcnRzLm11bHRpSW50ZXJwb2xhdGVIZWxwZXIuY2hlY2tJbnZhbGlkUmFuZ2VkUHJvZ3Jlc3NlcyhpbnRlcnBvbGF0ZVNldHRpbmdzLnByb2dyZXNzKTtcbiAgICAgICAgICAgIHJldHVybiBpbnRlcnBvbGF0ZVNldHRpbmdzO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY3JlYXRlU3RhZ2dlcnMoY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1zVG9BZGQgPSBbXTtcbiAgICAgICAgWy4uLmNvbmZpZy5pbnRlcnBvbGF0aW9uc10uZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0uc3RhZ2dlciAmJiAhaXRlbS5zdGFnZ2VySXRlbSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbS5zdGFnZ2VyLmNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3SXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBuZXdJdGVtLnByb2dyZXNzID0gbmV3SXRlbS5wcm9ncmVzcy5tYXAoKHByb2dyZXNzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcyA9IE9iamVjdC5hc3NpZ24oe30sIHByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzLnRvICs9IGkgKiBpdGVtLnN0YWdnZXIucHJvZ3Jlc3NPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcy5mcm9tICs9IGkgKiBpdGVtLnN0YWdnZXIucHJvZ3Jlc3NPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJdGVtLmlkID0gaXRlbS5pZCArICctJyArIGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJdGVtLnN0YWdnZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXRlbS5zdGFnZ2VySXRlbSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpdGVtc1RvQWRkLnB1c2gobmV3SXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaXRlbXNUb0FkZC5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBjb25maWcuaW50ZXJwb2xhdGlvbnMucHVzaChpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxuICAgIGdldENhbGN1bGF0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFZhbHVlcztcbiAgICB9XG4gICAgY2FsY3VsYXRlKHByb2dyZXNzKSB7XG4gICAgICAgIHRoaXMucGFyZW50UHJvZ3Jlc3MgPSBwcm9ncmVzcztcbiAgICAgICAgY29uc3QgcHJldmlvdXNWYWx1ZXMgPSB0aGlzLmN1cnJlbnRWYWx1ZXM7XG4gICAgICAgIHRoaXMuY29uZmlnLmludGVycG9sYXRpb25zLmZvckVhY2goKGNvbmZpZykgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlZFJhbmdlUHJvZ3Jlc3MgPSBleHBvcnRzLm11bHRpSW50ZXJwb2xhdGVIZWxwZXIuZmluZEJlc3RNYXRjaGluZ1JhbmdlZFByb2dyZXNzKHRoaXMucGFyZW50UHJvZ3Jlc3MsIGNvbmZpZy5wcm9ncmVzcyk7XG4gICAgICAgICAgICBjb25zdCBjaGlsZFByb2dyZXNzID0gbWF0aGZfMS5tYXRoZi5jaGlsZFByb2dyZXNzKHRoaXMucGFyZW50UHJvZ3Jlc3MsIG1hdGNoZWRSYW5nZVByb2dyZXNzLmZyb20sIG1hdGNoZWRSYW5nZVByb2dyZXNzLnRvKTtcbiAgICAgICAgICAgIGlmIChjb25maWcubm9JbnRlcnBvbGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb25maWcubm9JbnRlcnBvbGF0aW9uRGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIHVzaW5nIG5vSW50ZXJwb2xhdGlvbiB3aXRob3V0IGEgbm9JbnRlcnBvbGF0aW9uIGRlZmF1bHRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtYXRoZl8xLm1hdGhmLmlzQmV0d2Vlbih0aGlzLnBhcmVudFByb2dyZXNzLCBtYXRjaGVkUmFuZ2VQcm9ncmVzcy5mcm9tLCBtYXRjaGVkUmFuZ2VQcm9ncmVzcy50bywgdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWVzW2NvbmZpZy5pZF0gPSBtYXRjaGVkUmFuZ2VQcm9ncmVzcy5lbmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZXNbY29uZmlnLmlkXSA9IGNvbmZpZy5ub0ludGVycG9sYXRpb25EZWZhdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVycG9sYXRlZFZhbHVlID0gbmV3IGludGVycG9sYXRlXzEuSW50ZXJwb2xhdGUoe1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBtYXRjaGVkUmFuZ2VQcm9ncmVzcy5zdGFydCxcbiAgICAgICAgICAgICAgICAgICAgdG86IG1hdGNoZWRSYW5nZVByb2dyZXNzLmVuZCxcbiAgICAgICAgICAgICAgICAgICAgZWFzZUZ1bmN0aW9uOiBtYXRjaGVkUmFuZ2VQcm9ncmVzcy5lYXNpbmdGdW5jdGlvbiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZWFzZV8xLkVBU0UubGluZWFyXG4gICAgICAgICAgICAgICAgfSkuY2FsY3VsYXRlKGNoaWxkUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlc1tjb25maWcuaWRdID0gaW50ZXJwb2xhdGVkVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29uZmlnLm9uVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLm9uVXBkYXRlKGNvbmZpZy5pZCwgdGhpcy5wYXJlbnRQcm9ncmVzcywgdGhpcy5jdXJyZW50VmFsdWVzW2NvbmZpZy5pZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFZhbHVlcztcbiAgICB9XG59XG5leHBvcnRzLk11bHRpSW50ZXJwb2xhdGUgPSBNdWx0aUludGVycG9sYXRlO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/interpolate/multi-interpolate.js\n");

/***/ }),

/***/ "./lib/is/is.js":
/*!**********************!*\
  !*** ./lib/is/is.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass is {\n    static type(value, type) {\n        const trueType = Object.prototype.toString.call(value).slice(8, -1).toLowerCase();\n        return type == trueType;\n    }\n    static boolean(value) {\n        return is.type(value, 'boolean');\n    }\n    static array(value) {\n        return is.type(value, 'array');\n    }\n    static string(value) {\n        return is.type(value, 'string');\n    }\n    static date(value) {\n        return is.type(value, 'date');\n    }\n    static number(value) {\n        return is.type(value, 'number');\n    }\n    static function(value) {\n        return is.type(value, 'function');\n    }\n    static null(value) {\n        return is.type(value, 'null');\n    }\n    static undefined(value) {\n        return is.type(value, 'undefined');\n    }\n    static defined(value) {\n        return !is.undefined(value);\n    }\n    static regex(value) {\n        return is.type(value, 'regexp');\n    }\n    static object(value) {\n        return is.type(value, 'object');\n    }\n    static int(value) {\n        return is.number(value) && value % 1 == 0;\n    }\n    static float(value) {\n        return is.number(value) && !is.int(value);\n    }\n    static multipleOf(value, multiple) {\n        return is.number(value) && value % multiple == 0;\n    }\n    static powerOf2(value) {\n        return value !== 0 && (value & (value - 1)) === 0;\n    }\n    static even(value) {\n        return is.number(value) && is.multipleOf(value, 2);\n    }\n    static odd(value) {\n        return is.number(value) && !is.even(value);\n    }\n    static nan(value) {\n        return value !== value;\n    }\n    static mobile() {\n        return is.ios() || is.android();\n    }\n    static ios() {\n        return /iPhone|iPad|iPod/i.test(navigator.userAgent) || is.ipad();\n    }\n    static android() {\n        return /Android/i.test(navigator.userAgent);\n    }\n    static chrome() {\n        return navigator.userAgent.indexOf('Chrome') != -1 &&\n            !is.edge();\n    }\n    static safari() {\n        return !is.chrome() && navigator.userAgent.indexOf('Safari') != -1 && !is.edge();\n    }\n    static ipad() {\n        return (navigator.userAgent.toLowerCase().indexOf('macintosh') !== -1\n            && navigator.maxTouchPoints && navigator.maxTouchPoints > 2);\n    }\n    static edge() {\n        return navigator.userAgent.indexOf('Edge') != -1;\n    }\n    static firefox() {\n        return navigator.userAgent.indexOf('Firefox') != -1;\n    }\n    static ie() {\n        return /MSIE\\/\\d+/.test(navigator.userAgent);\n    }\n    static ieOrEdge() {\n        return /Edge\\/\\d+/.test(navigator.userAgent) ||\n            /MSIE\\/\\d+/.test(navigator.userAgent) ||\n            /Trident\\/\\d+/.test(navigator.userAgent);\n    }\n    static chromeOs() {\n        return /\\bCrOS\\b/.test(navigator.userAgent);\n    }\n    static supportingOffScreenCanvas() {\n        return !!window['OffscreenCanvas'];\n    }\n    static supportingWebp() {\n        var elem = document.createElement('canvas');\n        var canvasSupported = false;\n        if (elem.toDataURL('image/webp')) {\n            canvasSupported =\n                elem.toDataURL('image/webp').indexOf('data:image/webp') == 0;\n        }\n        if (is.firefox()\n            && +navigator.userAgent.match(/Firefox\\/(.*)/)[1] >= 65) {\n            canvasSupported = true;\n        }\n        if (is.edge()\n            && +navigator.userAgent.match(/Edge\\/(.*)/)[1] >= 18) {\n            canvasSupported = true;\n        }\n        return canvasSupported;\n    }\n    static supportingWebpAsync() {\n        return new Promise((resolve, reject) => {\n            var img = new Image();\n            img.onload = function () {\n                var result = (img.width > 0) && (img.height > 0);\n                resolve(result);\n            };\n            img.onerror = () => {\n                resolve(false);\n            };\n            img.src = \"data:image/webp;base64,\" + \"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==\";\n        });\n    }\n    static supportingAdvancedCssCalc() {\n        document.body.style.transitionTimingFunction = 'cubic-bezier(calc(1 * 1),1,1,1)';\n        return getComputedStyle(document.body).transitionTimingFunction != 'ease';\n    }\n    static supportingTouch() {\n        return (('ontouchstart' in window) || window['DocumentTouch'] && document instanceof window['DocumentTouch']);\n    }\n    static supportingDeviceOrientation() {\n        return !!window['DeviceOrientationEvent'];\n    }\n    static supportingFileApis() {\n        return !!(window['File'] && window['FileReader'] && window['FileList'] && window['Blob']);\n    }\n    static supportingCreateImageBitmap() {\n        return !!window['createImageBitmap'] && !is.firefox();\n    }\n    static cssHex(value) {\n        return is.string(value) && value.startsWith('#');\n    }\n    static cssRgba(value) {\n        return is.string(value) && value.startsWith('rgba(');\n    }\n    static cssRgb(value) {\n        return is.string(value) && value.startsWith('rgb(');\n    }\n    static hex(value) {\n        var a = parseInt(value, 16);\n        return is.string(value) && (a.toString(16) === value.toLowerCase());\n    }\n    static windowLoaded() {\n        return performance.timing.loadEventEnd !== 0;\n    }\n    static isGoogleCloudLikeUrl(url) {\n        return url.includes('googleusercontent.com');\n    }\n    static isLandscape() {\n        return window.innerWidth >= window.innerHeight;\n    }\n    static landscape() {\n        return window.innerWidth < window.innerHeight;\n    }\n    static isPortrait() {\n        return window.innerWidth < window.innerHeight;\n    }\n    static portrait() {\n        return window.innerWidth < window.innerHeight;\n    }\n    static bot() {\n        var botPattern = \"(googlebot\\/|bot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)\";\n        var re = new RegExp(botPattern, 'i');\n        return re.test(navigator.userAgent);\n    }\n}\nexports.is = is;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvaXMvaXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvaXMvaXMuanM/YzYzMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNsYXNzIGlzIHtcbiAgICBzdGF0aWMgdHlwZSh2YWx1ZSwgdHlwZSkge1xuICAgICAgICBjb25zdCB0cnVlVHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkuc2xpY2UoOCwgLTEpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiB0eXBlID09IHRydWVUeXBlO1xuICAgIH1cbiAgICBzdGF0aWMgYm9vbGVhbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXMudHlwZSh2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgICB9XG4gICAgc3RhdGljIGFycmF5KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpcy50eXBlKHZhbHVlLCAnYXJyYXknKTtcbiAgICB9XG4gICAgc3RhdGljIHN0cmluZyh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXMudHlwZSh2YWx1ZSwgJ3N0cmluZycpO1xuICAgIH1cbiAgICBzdGF0aWMgZGF0ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXMudHlwZSh2YWx1ZSwgJ2RhdGUnKTtcbiAgICB9XG4gICAgc3RhdGljIG51bWJlcih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXMudHlwZSh2YWx1ZSwgJ251bWJlcicpO1xuICAgIH1cbiAgICBzdGF0aWMgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGlzLnR5cGUodmFsdWUsICdmdW5jdGlvbicpO1xuICAgIH1cbiAgICBzdGF0aWMgbnVsbCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXMudHlwZSh2YWx1ZSwgJ251bGwnKTtcbiAgICB9XG4gICAgc3RhdGljIHVuZGVmaW5lZCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXMudHlwZSh2YWx1ZSwgJ3VuZGVmaW5lZCcpO1xuICAgIH1cbiAgICBzdGF0aWMgZGVmaW5lZCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gIWlzLnVuZGVmaW5lZCh2YWx1ZSk7XG4gICAgfVxuICAgIHN0YXRpYyByZWdleCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXMudHlwZSh2YWx1ZSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBzdGF0aWMgb2JqZWN0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpcy50eXBlKHZhbHVlLCAnb2JqZWN0Jyk7XG4gICAgfVxuICAgIHN0YXRpYyBpbnQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGlzLm51bWJlcih2YWx1ZSkgJiYgdmFsdWUgJSAxID09IDA7XG4gICAgfVxuICAgIHN0YXRpYyBmbG9hdCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXMubnVtYmVyKHZhbHVlKSAmJiAhaXMuaW50KHZhbHVlKTtcbiAgICB9XG4gICAgc3RhdGljIG11bHRpcGxlT2YodmFsdWUsIG11bHRpcGxlKSB7XG4gICAgICAgIHJldHVybiBpcy5udW1iZXIodmFsdWUpICYmIHZhbHVlICUgbXVsdGlwbGUgPT0gMDtcbiAgICB9XG4gICAgc3RhdGljIHBvd2VyT2YyKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gMCAmJiAodmFsdWUgJiAodmFsdWUgLSAxKSkgPT09IDA7XG4gICAgfVxuICAgIHN0YXRpYyBldmVuKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpcy5udW1iZXIodmFsdWUpICYmIGlzLm11bHRpcGxlT2YodmFsdWUsIDIpO1xuICAgIH1cbiAgICBzdGF0aWMgb2RkKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpcy5udW1iZXIodmFsdWUpICYmICFpcy5ldmVuKHZhbHVlKTtcbiAgICB9XG4gICAgc3RhdGljIG5hbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xuICAgIH1cbiAgICBzdGF0aWMgbW9iaWxlKCkge1xuICAgICAgICByZXR1cm4gaXMuaW9zKCkgfHwgaXMuYW5kcm9pZCgpO1xuICAgIH1cbiAgICBzdGF0aWMgaW9zKCkge1xuICAgICAgICByZXR1cm4gL2lQaG9uZXxpUGFkfGlQb2QvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpIHx8IGlzLmlwYWQoKTtcbiAgICB9XG4gICAgc3RhdGljIGFuZHJvaWQoKSB7XG4gICAgICAgIHJldHVybiAvQW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgfVxuICAgIHN0YXRpYyBjaHJvbWUoKSB7XG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0Nocm9tZScpICE9IC0xICYmXG4gICAgICAgICAgICAhaXMuZWRnZSgpO1xuICAgIH1cbiAgICBzdGF0aWMgc2FmYXJpKCkge1xuICAgICAgICByZXR1cm4gIWlzLmNocm9tZSgpICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignU2FmYXJpJykgIT0gLTEgJiYgIWlzLmVkZ2UoKTtcbiAgICB9XG4gICAgc3RhdGljIGlwYWQoKSB7XG4gICAgICAgIHJldHVybiAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ21hY2ludG9zaCcpICE9PSAtMVxuICAgICAgICAgICAgJiYgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzICYmIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDIpO1xuICAgIH1cbiAgICBzdGF0aWMgZWRnZSgpIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRWRnZScpICE9IC0xO1xuICAgIH1cbiAgICBzdGF0aWMgZmlyZWZveCgpIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpICE9IC0xO1xuICAgIH1cbiAgICBzdGF0aWMgaWUoKSB7XG4gICAgICAgIHJldHVybiAvTVNJRVxcL1xcZCsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgfVxuICAgIHN0YXRpYyBpZU9yRWRnZSgpIHtcbiAgICAgICAgcmV0dXJuIC9FZGdlXFwvXFxkKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSB8fFxuICAgICAgICAgICAgL01TSUVcXC9cXGQrLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpIHx8XG4gICAgICAgICAgICAvVHJpZGVudFxcL1xcZCsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgfVxuICAgIHN0YXRpYyBjaHJvbWVPcygpIHtcbiAgICAgICAgcmV0dXJuIC9cXGJDck9TXFxiLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIH1cbiAgICBzdGF0aWMgc3VwcG9ydGluZ09mZlNjcmVlbkNhbnZhcygpIHtcbiAgICAgICAgcmV0dXJuICEhd2luZG93WydPZmZzY3JlZW5DYW52YXMnXTtcbiAgICB9XG4gICAgc3RhdGljIHN1cHBvcnRpbmdXZWJwKCkge1xuICAgICAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB2YXIgY2FudmFzU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgICAgIGlmIChlbGVtLnRvRGF0YVVSTCgnaW1hZ2Uvd2VicCcpKSB7XG4gICAgICAgICAgICBjYW52YXNTdXBwb3J0ZWQgPVxuICAgICAgICAgICAgICAgIGVsZW0udG9EYXRhVVJMKCdpbWFnZS93ZWJwJykuaW5kZXhPZignZGF0YTppbWFnZS93ZWJwJykgPT0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXMuZmlyZWZveCgpXG4gICAgICAgICAgICAmJiArbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRmlyZWZveFxcLyguKikvKVsxXSA+PSA2NSkge1xuICAgICAgICAgICAgY2FudmFzU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXMuZWRnZSgpXG4gICAgICAgICAgICAmJiArbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRWRnZVxcLyguKikvKVsxXSA+PSAxOCkge1xuICAgICAgICAgICAgY2FudmFzU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FudmFzU3VwcG9ydGVkO1xuICAgIH1cbiAgICBzdGF0aWMgc3VwcG9ydGluZ1dlYnBBc3luYygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IChpbWcud2lkdGggPiAwKSAmJiAoaW1nLmhlaWdodCA+IDApO1xuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpbWcub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpbWcuc3JjID0gXCJkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFwiICsgXCJVa2xHUmhvQUFBQlhSVUpRVmxBNFRBMEFBQUF2QUFBQUVBY1FFUkdJaVA0SEFBPT1cIjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBzdXBwb3J0aW5nQWR2YW5jZWRDc3NDYWxjKCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiA9ICdjdWJpYy1iZXppZXIoY2FsYygxICogMSksMSwxLDEpJztcbiAgICAgICAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkudHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uICE9ICdlYXNlJztcbiAgICB9XG4gICAgc3RhdGljIHN1cHBvcnRpbmdUb3VjaCgpIHtcbiAgICAgICAgcmV0dXJuICgoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KSB8fCB3aW5kb3dbJ0RvY3VtZW50VG91Y2gnXSAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIHdpbmRvd1snRG9jdW1lbnRUb3VjaCddKTtcbiAgICB9XG4gICAgc3RhdGljIHN1cHBvcnRpbmdEZXZpY2VPcmllbnRhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICEhd2luZG93WydEZXZpY2VPcmllbnRhdGlvbkV2ZW50J107XG4gICAgfVxuICAgIHN0YXRpYyBzdXBwb3J0aW5nRmlsZUFwaXMoKSB7XG4gICAgICAgIHJldHVybiAhISh3aW5kb3dbJ0ZpbGUnXSAmJiB3aW5kb3dbJ0ZpbGVSZWFkZXInXSAmJiB3aW5kb3dbJ0ZpbGVMaXN0J10gJiYgd2luZG93WydCbG9iJ10pO1xuICAgIH1cbiAgICBzdGF0aWMgc3VwcG9ydGluZ0NyZWF0ZUltYWdlQml0bWFwKCkge1xuICAgICAgICByZXR1cm4gISF3aW5kb3dbJ2NyZWF0ZUltYWdlQml0bWFwJ10gJiYgIWlzLmZpcmVmb3goKTtcbiAgICB9XG4gICAgc3RhdGljIGNzc0hleCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaXMuc3RyaW5nKHZhbHVlKSAmJiB2YWx1ZS5zdGFydHNXaXRoKCcjJyk7XG4gICAgfVxuICAgIHN0YXRpYyBjc3NSZ2JhKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpcy5zdHJpbmcodmFsdWUpICYmIHZhbHVlLnN0YXJ0c1dpdGgoJ3JnYmEoJyk7XG4gICAgfVxuICAgIHN0YXRpYyBjc3NSZ2IodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGlzLnN0cmluZyh2YWx1ZSkgJiYgdmFsdWUuc3RhcnRzV2l0aCgncmdiKCcpO1xuICAgIH1cbiAgICBzdGF0aWMgaGV4KHZhbHVlKSB7XG4gICAgICAgIHZhciBhID0gcGFyc2VJbnQodmFsdWUsIDE2KTtcbiAgICAgICAgcmV0dXJuIGlzLnN0cmluZyh2YWx1ZSkgJiYgKGEudG9TdHJpbmcoMTYpID09PSB2YWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9XG4gICAgc3RhdGljIHdpbmRvd0xvYWRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHBlcmZvcm1hbmNlLnRpbWluZy5sb2FkRXZlbnRFbmQgIT09IDA7XG4gICAgfVxuICAgIHN0YXRpYyBpc0dvb2dsZUNsb3VkTGlrZVVybCh1cmwpIHtcbiAgICAgICAgcmV0dXJuIHVybC5pbmNsdWRlcygnZ29vZ2xldXNlcmNvbnRlbnQuY29tJyk7XG4gICAgfVxuICAgIHN0YXRpYyBpc0xhbmRzY2FwZSgpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoID49IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG4gICAgc3RhdGljIGxhbmRzY2FwZSgpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoIDwgd2luZG93LmlubmVySGVpZ2h0O1xuICAgIH1cbiAgICBzdGF0aWMgaXNQb3J0cmFpdCgpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoIDwgd2luZG93LmlubmVySGVpZ2h0O1xuICAgIH1cbiAgICBzdGF0aWMgcG9ydHJhaXQoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCA8IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG4gICAgc3RhdGljIGJvdCgpIHtcbiAgICAgICAgdmFyIGJvdFBhdHRlcm4gPSBcIihnb29nbGVib3RcXC98Ym90fEdvb2dsZWJvdC1Nb2JpbGV8R29vZ2xlYm90LUltYWdlfEdvb2dsZSBmYXZpY29ufE1lZGlhcGFydG5lcnMtR29vZ2xlfGJpbmdib3R8c2x1cnB8amF2YXx3Z2V0fGN1cmx8Q29tbW9ucy1IdHRwQ2xpZW50fFB5dGhvbi11cmxsaWJ8bGlid3d3fGh0dHB1bml0fG51dGNofHBocGNyYXdsfG1zbmJvdHxqeXhvYm90fEZBU1QtV2ViQ3Jhd2xlcnxGQVNUIEVudGVycHJpc2UgQ3Jhd2xlcnxiaWdsb3Ryb258dGVvbWF8Y29udmVyYXxzZWVrYm90fGdpZ2FibGFzdHxleGFib3R8bmdib3R8aWFfYXJjaGl2ZXJ8R2luZ2VyQ3Jhd2xlcnx3ZWJtb24gfGh0dHJhY2t8d2ViY3Jhd2xlcnxncnViLm9yZ3xVc2luZU5vdXZlbGxlQ3Jhd2xlcnxhbnRpYm90fG5ldHJlc2VhcmNoc2VydmVyfHNwZWVkeXxmbHVmZnl8YmlibnVtLmJuZnxmaW5kbGlua3xtc3Jib3R8cGFuc2NpZW50fHlhY3lib3R8QUlTZWFyY2hCb3R8SU9JfGlwcy1hZ2VudHx0YWdvb2JvdHxNSjEyYm90fGRvdGJvdHx3b3Jpb2JvdHx5YW5nYXxidXp6Ym90fG1sYm90fHlhbmRleGJvdHxwdXJlYm90fExpbmd1ZWUgQm90fFZveWFnZXJ8Q3liZXJQYXRyb2x8dm9pbGFib3R8YmFpZHVzcGlkZXJ8Y2l0ZXNlZXJ4Ym90fHNwYm90fHR3ZW5nYWJvdHxwb3N0cmFua3x0dXJuaXRpbmJvdHxzY3JpYmRib3R8cGFnZTJyc3N8c2l0ZWJvdHxsaW5rZGV4fEFkaWR4Ym90fGJsZWtrb2JvdHxlem9vbXN8ZG90Ym90fE1haWwuUlVfQm90fGRpc2NvYm90fGhlcml0cml4fGZpbmR0aGF0ZmlsZXxldXJvcGFyY2hpdmUub3JnfE5lcmRCeU5hdHVyZS5Cb3R8c2lzdHJpeCBjcmF3bGVyfGFocmVmc2JvdHxBYm91bmRleHxkb21haW5jcmF3bGVyfHdic2VhcmNoYm90fHN1bW1pZnl8Y2Nib3R8ZWRpc3RlcmJvdHxzZXpuYW1ib3R8ZWMybGlua2ZpbmRlcnxnc2xmYm90fGFpaGl0Ym90fGludGVsaXVtX2JvdHxmYWNlYm9va2V4dGVybmFsaGl0fHlldGl8UmV0cmV2b1BhZ2VBbmFseXplcnxsYi1zcGlkZXJ8c29nb3V8bHNzYm90fGNhcmVlcmJvdHx3b3Rib3h8d29jYm90fGljaGlyb3xEdWNrRHVja0JvdHxsc3Nyb2NrZXRjcmF3bGVyfGRydXBhY3R8d2ViY29tcGFueWNyYXdsZXJ8YWNvb25ib3R8b3BlbmluZGV4c3BpZGVyfGduYW0gZ25hbSBzcGlkZXJ8d2ViLWFyY2hpdmUtbmV0LmNvbS5ib3R8YmFja2xpbmtjcmF3bGVyfGNvY2NvY3xpbnRlZ3JvbWVkYnxjb250ZW50IGNyYXdsZXIgc3BpZGVyfHRvcGxpc3Rib3R8c2Vva2lja3Mtcm9ib3R8aXQybWVkaWEtZG9tYWluLWNyYXdsZXJ8aXAtd2ViLWNyYXdsZXIuY29tfHNpdGVleHBsb3Jlci5pbmZvfGVsaXNhYm90fHByb3hpbWljfGNoYW5nZWRldGVjdGlvbnxibGV4Ym90fGFyYWJvdHxXZVNFRTpTZWFyY2h8bmlraS1ib3R8Q3J5c3RhbFNlbWFudGljc0JvdHxyb2dlcmJvdHwzNjBTcGlkZXJ8cHNib3R8SW50ZXJmYXhTY2FuQm90fExpcHBlcmhleSBTRU8gU2VydmljZXxDQyBNZXRhZGF0YSBTY2FwZXJ8ZzAwZzFlLm5ldHxHcmFwZXNob3RDcmF3bGVyfHVybGFwcGVuZGJvdHxicmFpbm9ib3R8ZnItY3Jhd2xlcnxiaW5sYXJ8U2ltcGxlQ3Jhd2xlcnxMaXZlbGFwYm90fFR3aXR0ZXJib3R8Y1hlbnNlYm90fHNtdGJvdHxibmYuZnJfYm90fEE2LUluZGV4ZXJ8QURtYW50WHxGYWNlYm90fFR3aXR0ZXJib3R8T3JhbmdlQm90fG1lbW9yeWJvdHxBZHZCb3R8TWVnYUluZGV4fFNlbWFudGljU2Nob2xhckJvdHxsdHg3MXxuZXJkeWJvdHx4b3ZpYm90fEJVYmlOR3xRd2FudGlmeXxhcmNoaXZlLm9yZ19ib3R8QXBwbGVib3R8VHdlZXRtZW1lQm90fGNyYXdsZXI0anxmaW5keGJvdHxTZW1ydXNoQm90fHlvb3pCb3R8bGlwcGVyaGV5fHkhai1hc3J8RG9tYWluIFJlLUFuaW1hdG9yIEJvdHxBZGRUaGlzKVwiO1xuICAgICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKGJvdFBhdHRlcm4sICdpJyk7XG4gICAgICAgIHJldHVybiByZS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIH1cbn1cbmV4cG9ydHMuaXMgPSBpcztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/is/is.js\n");

/***/ }),

/***/ "./lib/loader/blob-loader.js":
/*!***********************************!*\
  !*** ./lib/loader/blob-loader.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst __1 = __webpack_require__(/*! .. */ \"./lib/index.js\");\nclass BlobLoader {\n    constructor(imageSources) {\n        this.imageSources = imageSources;\n        this.blobs = {};\n        this.images64 = {};\n        this.maxRetries = 3;\n    }\n    load() {\n        return new Promise((resolve) => {\n            if (!this.imageSources) {\n                resolve(this.blobs);\n            }\n            const promises = this.imageSources.map((source) => {\n                return this.loadBlob(source);\n            });\n            Promise.all(promises).then(() => {\n                resolve(this.blobs);\n            });\n        });\n    }\n    loadBlob(source, retryCount = 0) {\n        return new Promise((resolve) => {\n            fetch(source)\n                .then((response) => {\n                if (!response.ok) {\n                    retryCount++;\n                    if (retryCount >= this.maxRetries) {\n                        resolve();\n                    }\n                    else {\n                        this.loadBlob(source, retryCount);\n                    }\n                }\n                else {\n                    return response.blob();\n                }\n            })\n                .then((response) => {\n                if (this.blobs) {\n                    this.blobs[source] = response;\n                }\n                resolve(response);\n            });\n        });\n    }\n    loadBase64Images() {\n        return new Promise(resolve => {\n            const promises = this.imageSources.map((source) => {\n                return this.loadBlobAsBase64Image(source);\n            });\n            Promise.all(promises).then(() => {\n                resolve(this.images64);\n            });\n        });\n    }\n    loadBlobAsBase64Image(source, retryCount = 0) {\n        return new Promise(resolve => {\n            fetch(source)\n                .then((response) => {\n                if (!response.ok) {\n                    retryCount++;\n                    if (retryCount >= this.maxRetries) {\n                        resolve();\n                    }\n                    else {\n                        this.loadBlobAsBase64Image(source, retryCount);\n                    }\n                }\n                else {\n                    return response.blob();\n                }\n            })\n                .then((response) => {\n                __1.dom.makeBase64ImageFromBlob(response).then((image) => {\n                    this.images64[source] = image;\n                    resolve(response);\n                });\n            });\n        });\n    }\n    dispose() {\n        this.imageSources = null;\n        this.images64 = null;\n        this.blobs = null;\n    }\n}\nexports.BlobLoader = BlobLoader;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbG9hZGVyL2Jsb2ItbG9hZGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2xvYWRlci9ibG9iLWxvYWRlci5qcz9jZmEzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgX18xID0gcmVxdWlyZShcIi4uXCIpO1xuY2xhc3MgQmxvYkxvYWRlciB7XG4gICAgY29uc3RydWN0b3IoaW1hZ2VTb3VyY2VzKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VTb3VyY2VzID0gaW1hZ2VTb3VyY2VzO1xuICAgICAgICB0aGlzLmJsb2JzID0ge307XG4gICAgICAgIHRoaXMuaW1hZ2VzNjQgPSB7fTtcbiAgICAgICAgdGhpcy5tYXhSZXRyaWVzID0gMztcbiAgICB9XG4gICAgbG9hZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaW1hZ2VTb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLmJsb2JzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gdGhpcy5pbWFnZVNvdXJjZXMubWFwKChzb3VyY2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkQmxvYihzb3VyY2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLmJsb2JzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbG9hZEJsb2Ioc291cmNlLCByZXRyeUNvdW50ID0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGZldGNoKHNvdXJjZSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHJ5Q291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldHJ5Q291bnQgPj0gdGhpcy5tYXhSZXRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRCbG9iKHNvdXJjZSwgcmV0cnlDb3VudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ibG9icykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsb2JzW3NvdXJjZV0gPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxvYWRCYXNlNjRJbWFnZXMoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gdGhpcy5pbWFnZVNvdXJjZXMubWFwKChzb3VyY2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkQmxvYkFzQmFzZTY0SW1hZ2Uoc291cmNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5pbWFnZXM2NCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxvYWRCbG9iQXNCYXNlNjRJbWFnZShzb3VyY2UsIHJldHJ5Q291bnQgPSAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGZldGNoKHNvdXJjZSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHJ5Q291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldHJ5Q291bnQgPj0gdGhpcy5tYXhSZXRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRCbG9iQXNCYXNlNjRJbWFnZShzb3VyY2UsIHJldHJ5Q291bnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgX18xLmRvbS5tYWtlQmFzZTY0SW1hZ2VGcm9tQmxvYihyZXNwb25zZSkudGhlbigoaW1hZ2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZXM2NFtzb3VyY2VdID0gaW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmltYWdlU291cmNlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW1hZ2VzNjQgPSBudWxsO1xuICAgICAgICB0aGlzLmJsb2JzID0gbnVsbDtcbiAgICB9XG59XG5leHBvcnRzLkJsb2JMb2FkZXIgPSBCbG9iTG9hZGVyO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/loader/blob-loader.js\n");

/***/ }),

/***/ "./lib/loader/image-loader.js":
/*!************************************!*\
  !*** ./lib/loader/image-loader.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_1 = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\nconst __1 = __webpack_require__(/*! .. */ \"./lib/index.js\");\nclass ImageLoader {\n    constructor(imageSources) {\n        this.imageSources = imageSources;\n        this.images = {};\n        this.maxRetries = 3;\n        this.decodeAfterFetch = false;\n        this.onEachImageLoaded = null;\n    }\n    setLoadCallback(callback) {\n        this.onEachImageLoaded = callback;\n    }\n    getImages() {\n        return this.images;\n    }\n    setDecodeAfterFetch(value) {\n        this.decodeAfterFetch = is_1.is.firefox() ? false : value;\n    }\n    load() {\n        return new Promise(resolve => {\n            const promises = this.imageSources.map((source) => {\n                return this.fetchImage(source);\n            });\n            Promise.all(promises).then(() => {\n                resolve(this.images);\n            });\n        });\n    }\n    ping() {\n        return new Promise(resolve => {\n            const promises = this.imageSources.map((source) => {\n                return this.pingSource(source);\n            });\n            Promise.all(promises).then(() => {\n                resolve(this.imageSources);\n            });\n        });\n    }\n    pingSource(source, retryCount = 0) {\n        return new Promise(resolve => {\n            fetch(source)\n                .then((response) => {\n                if (!response.ok) {\n                    retryCount++;\n                    if (retryCount >= this.maxRetries) {\n                        resolve();\n                    }\n                    else {\n                        this.pingSource(source, retryCount);\n                    }\n                }\n                else {\n                    resolve(source);\n                }\n            });\n        });\n    }\n    fetchImage(source, retryCount = 0) {\n        return new Promise(resolve => {\n            fetch(source)\n                .then((response) => {\n                if (!response.ok) {\n                    retryCount++;\n                    if (retryCount >= this.maxRetries) {\n                        resolve();\n                    }\n                    else {\n                        this.fetchImage(source, retryCount);\n                    }\n                }\n                return response.blob();\n            })\n                .then((response) => {\n                const blob = response;\n                const img = document.createElement('img');\n                if (this.decodeAfterFetch && 'decode' in img) {\n                    img.src = URL.createObjectURL(blob);\n                    img.decoding = 'async';\n                    img.decode().then(() => {\n                        this.images[source] = img;\n                        this.onEachImageLoaded && this.onEachImageLoaded(source, img);\n                        resolve();\n                    }).catch((error) => {\n                        img.onload = () => {\n                            this.images[source] = img;\n                            this.onEachImageLoaded && this.onEachImageLoaded(source, img);\n                            resolve();\n                        };\n                        img.src = URL.createObjectURL(blob);\n                    });\n                }\n                else {\n                    img.onload = () => {\n                        this.images[source] = img;\n                        this.onEachImageLoaded && this.onEachImageLoaded(source, img);\n                        resolve();\n                    };\n                    img.src = URL.createObjectURL(blob);\n                }\n            });\n        });\n    }\n    loadImageBitmaps() {\n        return new Promise(resolve => {\n            const promises = this.imageSources.map((source) => {\n                return this.fetchImageBitmap(source);\n            });\n            Promise.all(promises).then(() => {\n                resolve(this.images);\n            });\n        });\n    }\n    fetchImageBitmap(source, retryCount = 0) {\n        return new Promise(resolve => {\n            fetch(source)\n                .then((response) => {\n                if (!response.ok) {\n                    retryCount++;\n                    if (retryCount >= this.maxRetries) {\n                        resolve();\n                    }\n                    else {\n                        this.fetchImageBitmap(source, retryCount);\n                    }\n                }\n                return response.blob();\n            })\n                .then(blobData => createImageBitmap(blobData))\n                .then((response) => {\n                const blob = response;\n                this.images[source] = blob;\n                this.onEachImageLoaded && this.onEachImageLoaded(source, blob);\n                resolve();\n            });\n        });\n    }\n    loadBitmapOrImage() {\n        return is_1.is.supportingCreateImageBitmap() ?\n            this.loadImageBitmaps() : this.load();\n    }\n    dispose() {\n        for (var key in this.images) {\n            if (!this.images[key]) {\n                return;\n            }\n            if (this.images[key].close) {\n                this.images[key].close();\n            }\n            else {\n                URL.revokeObjectURL(this.images[key]);\n                __1.dom.deleteImage(this.images[key]);\n                this.images[key] = null;\n            }\n        }\n        this.images = null;\n    }\n}\nexports.ImageLoader = ImageLoader;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbG9hZGVyL2ltYWdlLWxvYWRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9sb2FkZXIvaW1hZ2UtbG9hZGVyLmpzPzkxNjYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBpc18xID0gcmVxdWlyZShcIi4uL2lzL2lzXCIpO1xuY29uc3QgX18xID0gcmVxdWlyZShcIi4uXCIpO1xuY2xhc3MgSW1hZ2VMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKGltYWdlU291cmNlcykge1xuICAgICAgICB0aGlzLmltYWdlU291cmNlcyA9IGltYWdlU291cmNlcztcbiAgICAgICAgdGhpcy5pbWFnZXMgPSB7fTtcbiAgICAgICAgdGhpcy5tYXhSZXRyaWVzID0gMztcbiAgICAgICAgdGhpcy5kZWNvZGVBZnRlckZldGNoID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25FYWNoSW1hZ2VMb2FkZWQgPSBudWxsO1xuICAgIH1cbiAgICBzZXRMb2FkQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5vbkVhY2hJbWFnZUxvYWRlZCA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICBnZXRJbWFnZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlcztcbiAgICB9XG4gICAgc2V0RGVjb2RlQWZ0ZXJGZXRjaCh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRlY29kZUFmdGVyRmV0Y2ggPSBpc18xLmlzLmZpcmVmb3goKSA/IGZhbHNlIDogdmFsdWU7XG4gICAgfVxuICAgIGxvYWQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gdGhpcy5pbWFnZVNvdXJjZXMubWFwKChzb3VyY2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mZXRjaEltYWdlKHNvdXJjZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuaW1hZ2VzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGluZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSB0aGlzLmltYWdlU291cmNlcy5tYXAoKHNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBpbmdTb3VyY2Uoc291cmNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5pbWFnZVNvdXJjZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwaW5nU291cmNlKHNvdXJjZSwgcmV0cnlDb3VudCA9IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgZmV0Y2goc291cmNlKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0cnlDb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmV0cnlDb3VudCA+PSB0aGlzLm1heFJldHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGluZ1NvdXJjZShzb3VyY2UsIHJldHJ5Q291bnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmZXRjaEltYWdlKHNvdXJjZSwgcmV0cnlDb3VudCA9IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgZmV0Y2goc291cmNlKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0cnlDb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmV0cnlDb3VudCA+PSB0aGlzLm1heFJldHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hJbWFnZShzb3VyY2UsIHJldHJ5Q291bnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWNvZGVBZnRlckZldGNoICYmICdkZWNvZGUnIGluIGltZykge1xuICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgICAgICAgICAgaW1nLmRlY29kaW5nID0gJ2FzeW5jJztcbiAgICAgICAgICAgICAgICAgICAgaW1nLmRlY29kZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZXNbc291cmNlXSA9IGltZztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25FYWNoSW1hZ2VMb2FkZWQgJiYgdGhpcy5vbkVhY2hJbWFnZUxvYWRlZChzb3VyY2UsIGltZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1tzb3VyY2VdID0gaW1nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25FYWNoSW1hZ2VMb2FkZWQgJiYgdGhpcy5vbkVhY2hJbWFnZUxvYWRlZChzb3VyY2UsIGltZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1tzb3VyY2VdID0gaW1nO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVhY2hJbWFnZUxvYWRlZCAmJiB0aGlzLm9uRWFjaEltYWdlTG9hZGVkKHNvdXJjZSwgaW1nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsb2FkSW1hZ2VCaXRtYXBzKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IHRoaXMuaW1hZ2VTb3VyY2VzLm1hcCgoc291cmNlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2hJbWFnZUJpdG1hcChzb3VyY2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLmltYWdlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZldGNoSW1hZ2VCaXRtYXAoc291cmNlLCByZXRyeUNvdW50ID0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBmZXRjaChzb3VyY2UpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICByZXRyeUNvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXRyeUNvdW50ID49IHRoaXMubWF4UmV0cmllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mZXRjaEltYWdlQml0bWFwKHNvdXJjZSwgcmV0cnlDb3VudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oYmxvYkRhdGEgPT4gY3JlYXRlSW1hZ2VCaXRtYXAoYmxvYkRhdGEpKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1tzb3VyY2VdID0gYmxvYjtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRWFjaEltYWdlTG9hZGVkICYmIHRoaXMub25FYWNoSW1hZ2VMb2FkZWQoc291cmNlLCBibG9iKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxvYWRCaXRtYXBPckltYWdlKCkge1xuICAgICAgICByZXR1cm4gaXNfMS5pcy5zdXBwb3J0aW5nQ3JlYXRlSW1hZ2VCaXRtYXAoKSA/XG4gICAgICAgICAgICB0aGlzLmxvYWRJbWFnZUJpdG1hcHMoKSA6IHRoaXMubG9hZCgpO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5pbWFnZXMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pbWFnZXNba2V5XSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmltYWdlc1trZXldLmNsb3NlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZXNba2V5XS5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh0aGlzLmltYWdlc1trZXldKTtcbiAgICAgICAgICAgICAgICBfXzEuZG9tLmRlbGV0ZUltYWdlKHRoaXMuaW1hZ2VzW2tleV0pO1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VzW2tleV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW1hZ2VzID0gbnVsbDtcbiAgICB9XG59XG5leHBvcnRzLkltYWdlTG9hZGVyID0gSW1hZ2VMb2FkZXI7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/loader/image-loader.js\n");

/***/ }),

/***/ "./lib/mathf/catmull-rom.js":
/*!**********************************!*\
  !*** ./lib/mathf/catmull-rom.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mathf_1 = __webpack_require__(/*! ./mathf */ \"./lib/mathf/mathf.js\");\nconst vector_1 = __webpack_require__(/*! ./vector */ \"./lib/mathf/vector.js\");\nconst hermite_curve_1 = __webpack_require__(/*! ./hermite-curve */ \"./lib/mathf/hermite-curve.js\");\nclass CatmullRom {\n    static interpolate(points, m0Tension = 0.5, m1Tension = 0.5) {\n        return (progress) => {\n            return CatmullRom.getPoint(points, progress, m0Tension, m1Tension);\n        };\n    }\n    static getPoint(points, progress, m0Tension = 0.5, m1Tension = 0.5) {\n        let pointCount = points.length - 1;\n        let percentPerVector = 100 / pointCount;\n        let i = mathf_1.mathf.clamp(Math.floor(mathf_1.mathf.lerp(0, pointCount, progress)), pointCount - 1, 0);\n        var p_1 = points[i - 1] && points[i - 1].clone();\n        var p0 = points[i] && points[i].clone();\n        var p1 = points[i + 1] && points[i + 1].clone();\n        var p2 = points[i + 2] && points[i + 2].clone();\n        var m0;\n        if (i > 0) {\n            m0 = vector_1.Vector.subtract(p1, p_1).scale(m0Tension);\n        }\n        else {\n            m0 = vector_1.Vector.subtract(p1, p0);\n        }\n        var m1;\n        if (i < pointCount - 2) {\n            m1 = vector_1.Vector.subtract(p2, p0).scale(m1Tension);\n        }\n        else {\n            m1 = vector_1.Vector.subtract(p1, p0);\n        }\n        let startProgress = percentPerVector * i / 100;\n        let endProgress = percentPerVector * (i + 1) / 100;\n        let childProgress = mathf_1.mathf.childProgress(progress, startProgress, endProgress);\n        return hermite_curve_1.HermiteCurve.getPoint(childProgress, p0, m0, p1, m1);\n    }\n}\nexports.CatmullRom = CatmullRom;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvY2F0bXVsbC1yb20uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvbWF0aGYvY2F0bXVsbC1yb20uanM/MjcyNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG1hdGhmXzEgPSByZXF1aXJlKFwiLi9tYXRoZlwiKTtcbmNvbnN0IHZlY3Rvcl8xID0gcmVxdWlyZShcIi4vdmVjdG9yXCIpO1xuY29uc3QgaGVybWl0ZV9jdXJ2ZV8xID0gcmVxdWlyZShcIi4vaGVybWl0ZS1jdXJ2ZVwiKTtcbmNsYXNzIENhdG11bGxSb20ge1xuICAgIHN0YXRpYyBpbnRlcnBvbGF0ZShwb2ludHMsIG0wVGVuc2lvbiA9IDAuNSwgbTFUZW5zaW9uID0gMC41KSB7XG4gICAgICAgIHJldHVybiAocHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBDYXRtdWxsUm9tLmdldFBvaW50KHBvaW50cywgcHJvZ3Jlc3MsIG0wVGVuc2lvbiwgbTFUZW5zaW9uKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGdldFBvaW50KHBvaW50cywgcHJvZ3Jlc3MsIG0wVGVuc2lvbiA9IDAuNSwgbTFUZW5zaW9uID0gMC41KSB7XG4gICAgICAgIGxldCBwb2ludENvdW50ID0gcG9pbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgIGxldCBwZXJjZW50UGVyVmVjdG9yID0gMTAwIC8gcG9pbnRDb3VudDtcbiAgICAgICAgbGV0IGkgPSBtYXRoZl8xLm1hdGhmLmNsYW1wKE1hdGguZmxvb3IobWF0aGZfMS5tYXRoZi5sZXJwKDAsIHBvaW50Q291bnQsIHByb2dyZXNzKSksIHBvaW50Q291bnQgLSAxLCAwKTtcbiAgICAgICAgdmFyIHBfMSA9IHBvaW50c1tpIC0gMV0gJiYgcG9pbnRzW2kgLSAxXS5jbG9uZSgpO1xuICAgICAgICB2YXIgcDAgPSBwb2ludHNbaV0gJiYgcG9pbnRzW2ldLmNsb25lKCk7XG4gICAgICAgIHZhciBwMSA9IHBvaW50c1tpICsgMV0gJiYgcG9pbnRzW2kgKyAxXS5jbG9uZSgpO1xuICAgICAgICB2YXIgcDIgPSBwb2ludHNbaSArIDJdICYmIHBvaW50c1tpICsgMl0uY2xvbmUoKTtcbiAgICAgICAgdmFyIG0wO1xuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIG0wID0gdmVjdG9yXzEuVmVjdG9yLnN1YnRyYWN0KHAxLCBwXzEpLnNjYWxlKG0wVGVuc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtMCA9IHZlY3Rvcl8xLlZlY3Rvci5zdWJ0cmFjdChwMSwgcDApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtMTtcbiAgICAgICAgaWYgKGkgPCBwb2ludENvdW50IC0gMikge1xuICAgICAgICAgICAgbTEgPSB2ZWN0b3JfMS5WZWN0b3Iuc3VidHJhY3QocDIsIHAwKS5zY2FsZShtMVRlbnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbTEgPSB2ZWN0b3JfMS5WZWN0b3Iuc3VidHJhY3QocDEsIHAwKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3RhcnRQcm9ncmVzcyA9IHBlcmNlbnRQZXJWZWN0b3IgKiBpIC8gMTAwO1xuICAgICAgICBsZXQgZW5kUHJvZ3Jlc3MgPSBwZXJjZW50UGVyVmVjdG9yICogKGkgKyAxKSAvIDEwMDtcbiAgICAgICAgbGV0IGNoaWxkUHJvZ3Jlc3MgPSBtYXRoZl8xLm1hdGhmLmNoaWxkUHJvZ3Jlc3MocHJvZ3Jlc3MsIHN0YXJ0UHJvZ3Jlc3MsIGVuZFByb2dyZXNzKTtcbiAgICAgICAgcmV0dXJuIGhlcm1pdGVfY3VydmVfMS5IZXJtaXRlQ3VydmUuZ2V0UG9pbnQoY2hpbGRQcm9ncmVzcywgcDAsIG0wLCBwMSwgbTEpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2F0bXVsbFJvbSA9IENhdG11bGxSb207XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/mathf/catmull-rom.js\n");

/***/ }),

/***/ "./lib/mathf/color.js":
/*!****************************!*\
  !*** ./lib/mathf/color.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mathf_1 = __webpack_require__(/*! ./mathf */ \"./lib/mathf/mathf.js\");\nconst __1 = __webpack_require__(/*! .. */ \"./lib/index.js\");\nclass color {\n    constructor() { }\n    static hexToRgbNormalized(hexValue) {\n        const out = [];\n        out[0] = ((hexValue >> 16) & 0xFF) / 255;\n        out[1] = ((hexValue >> 8) & 0xFF) / 255;\n        out[2] = (hexValue & 0xFF) / 255;\n        return out;\n    }\n    static colorRgbToRgb(colorRgb) {\n        return [\n            colorRgb.r,\n            colorRgb.g,\n            colorRgb.b\n        ];\n    }\n    static normalizedRgbToHex(rgb) {\n        return (((rgb[0] * 255) << 16) + ((rgb[1] * 255) << 8) + (rgb[2] * 255 | 0));\n    }\n    static rgbToNormalizedRgb(rgb) {\n        return [\n            rgb[0] / 255,\n            rgb[1] / 255,\n            rgb[2] / 255,\n        ];\n    }\n    static normalizedRgbToRgb(rgb) {\n        return [\n            rgb[0] * 255 >> 0,\n            rgb[1] * 255 >> 0,\n            rgb[2] * 255 >> 0,\n        ];\n    }\n    static rgbaLerp(start, end, t) {\n        return {\n            r: mathf_1.mathf.lerp(start.r, end.r, t) >> 0,\n            g: mathf_1.mathf.lerp(start.g, end.g, t) >> 0,\n            b: mathf_1.mathf.lerp(start.b, end.b, t) >> 0,\n            a: mathf_1.mathf.lerp(start.a, end.a, t)\n        };\n    }\n    static rgbaEase(start, end, t, ease) {\n        return {\n            r: mathf_1.mathf.ease(start.r, end.r, t, ease) >> 0,\n            g: mathf_1.mathf.ease(start.g, end.g, t, ease) >> 0,\n            b: mathf_1.mathf.ease(start.b, end.b, t, ease) >> 0,\n            a: mathf_1.mathf.ease(start.a, end.a, t, ease)\n        };\n    }\n    static rgbToHex(rgb) {\n        let r = rgb.r;\n        let g = rgb.g;\n        let b = rgb.b;\n        return \"#\" + ((1 << 24) + (r << 16) + (g << 8) + b)\n            .toString(16).slice(1).toUpperCase();\n    }\n    static hexToRgba(hex, a = 1) {\n        var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n        hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n            return r + r + g + g + b + b;\n        });\n        var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n        var rgba = null;\n        if (result) {\n            rgba = {\n                r: parseInt(result[1], 16),\n                g: parseInt(result[2], 16),\n                b: parseInt(result[3], 16),\n                a: a\n            };\n        }\n        return rgba;\n    }\n    static cssToRgba(css) {\n        if (__1.is.cssHex(css)) {\n            return color.hexToRgba(css);\n        }\n        if (__1.is.cssRgb(css)) {\n            css = css.replace(')', ',1)');\n            css = css.replace('rgb', 'rgba');\n        }\n        if (__1.is.cssRgba(css)) {\n            var match = css.match(/^rgba\\(\\s*?(\\d{1,3})\\s*?,\\s*?(\\d{1,3})\\s*?,\\s*?(\\d{1,3})\\s*?,\\s*?(\\d*(?:\\.\\d+)?)\\)$/);\n            if (match) {\n                const rgba = {\n                    r: +match[1],\n                    g: +match[2],\n                    b: +match[3],\n                    a: +match[4]\n                };\n                return rgba;\n            }\n            else {\n                return null;\n            }\n        }\n        return null;\n    }\n    static rgbaToCss(rgba) {\n        return `rgba(${rgba.r}, ${rgba.g}, ${rgba.b}, ${rgba.a})`;\n    }\n}\nexports.color = color;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvY29sb3IuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvbWF0aGYvY29sb3IuanM/MmFlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG1hdGhmXzEgPSByZXF1aXJlKFwiLi9tYXRoZlwiKTtcbmNvbnN0IF9fMSA9IHJlcXVpcmUoXCIuLlwiKTtcbmNsYXNzIGNvbG9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIHN0YXRpYyBoZXhUb1JnYk5vcm1hbGl6ZWQoaGV4VmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb3V0ID0gW107XG4gICAgICAgIG91dFswXSA9ICgoaGV4VmFsdWUgPj4gMTYpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIG91dFsxXSA9ICgoaGV4VmFsdWUgPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgb3V0WzJdID0gKGhleFZhbHVlICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIHN0YXRpYyBjb2xvclJnYlRvUmdiKGNvbG9yUmdiKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBjb2xvclJnYi5yLFxuICAgICAgICAgICAgY29sb3JSZ2IuZyxcbiAgICAgICAgICAgIGNvbG9yUmdiLmJcbiAgICAgICAgXTtcbiAgICB9XG4gICAgc3RhdGljIG5vcm1hbGl6ZWRSZ2JUb0hleChyZ2IpIHtcbiAgICAgICAgcmV0dXJuICgoKHJnYlswXSAqIDI1NSkgPDwgMTYpICsgKChyZ2JbMV0gKiAyNTUpIDw8IDgpICsgKHJnYlsyXSAqIDI1NSB8IDApKTtcbiAgICB9XG4gICAgc3RhdGljIHJnYlRvTm9ybWFsaXplZFJnYihyZ2IpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHJnYlswXSAvIDI1NSxcbiAgICAgICAgICAgIHJnYlsxXSAvIDI1NSxcbiAgICAgICAgICAgIHJnYlsyXSAvIDI1NSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgc3RhdGljIG5vcm1hbGl6ZWRSZ2JUb1JnYihyZ2IpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHJnYlswXSAqIDI1NSA+PiAwLFxuICAgICAgICAgICAgcmdiWzFdICogMjU1ID4+IDAsXG4gICAgICAgICAgICByZ2JbMl0gKiAyNTUgPj4gMCxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgc3RhdGljIHJnYmFMZXJwKHN0YXJ0LCBlbmQsIHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IG1hdGhmXzEubWF0aGYubGVycChzdGFydC5yLCBlbmQuciwgdCkgPj4gMCxcbiAgICAgICAgICAgIGc6IG1hdGhmXzEubWF0aGYubGVycChzdGFydC5nLCBlbmQuZywgdCkgPj4gMCxcbiAgICAgICAgICAgIGI6IG1hdGhmXzEubWF0aGYubGVycChzdGFydC5iLCBlbmQuYiwgdCkgPj4gMCxcbiAgICAgICAgICAgIGE6IG1hdGhmXzEubWF0aGYubGVycChzdGFydC5hLCBlbmQuYSwgdClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHJnYmFFYXNlKHN0YXJ0LCBlbmQsIHQsIGVhc2UpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IG1hdGhmXzEubWF0aGYuZWFzZShzdGFydC5yLCBlbmQuciwgdCwgZWFzZSkgPj4gMCxcbiAgICAgICAgICAgIGc6IG1hdGhmXzEubWF0aGYuZWFzZShzdGFydC5nLCBlbmQuZywgdCwgZWFzZSkgPj4gMCxcbiAgICAgICAgICAgIGI6IG1hdGhmXzEubWF0aGYuZWFzZShzdGFydC5iLCBlbmQuYiwgdCwgZWFzZSkgPj4gMCxcbiAgICAgICAgICAgIGE6IG1hdGhmXzEubWF0aGYuZWFzZShzdGFydC5hLCBlbmQuYSwgdCwgZWFzZSlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHJnYlRvSGV4KHJnYikge1xuICAgICAgICBsZXQgciA9IHJnYi5yO1xuICAgICAgICBsZXQgZyA9IHJnYi5nO1xuICAgICAgICBsZXQgYiA9IHJnYi5iO1xuICAgICAgICByZXR1cm4gXCIjXCIgKyAoKDEgPDwgMjQpICsgKHIgPDwgMTYpICsgKGcgPDwgOCkgKyBiKVxuICAgICAgICAgICAgLnRvU3RyaW5nKDE2KS5zbGljZSgxKS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cbiAgICBzdGF0aWMgaGV4VG9SZ2JhKGhleCwgYSA9IDEpIHtcbiAgICAgICAgdmFyIHNob3J0aGFuZFJlZ2V4ID0gL14jPyhbYS1mXFxkXSkoW2EtZlxcZF0pKFthLWZcXGRdKSQvaTtcbiAgICAgICAgaGV4ID0gaGV4LnJlcGxhY2Uoc2hvcnRoYW5kUmVnZXgsIGZ1bmN0aW9uIChtLCByLCBnLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gciArIHIgKyBnICsgZyArIGIgKyBiO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhoZXgpO1xuICAgICAgICB2YXIgcmdiYSA9IG51bGw7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHJnYmEgPSB7XG4gICAgICAgICAgICAgICAgcjogcGFyc2VJbnQocmVzdWx0WzFdLCAxNiksXG4gICAgICAgICAgICAgICAgZzogcGFyc2VJbnQocmVzdWx0WzJdLCAxNiksXG4gICAgICAgICAgICAgICAgYjogcGFyc2VJbnQocmVzdWx0WzNdLCAxNiksXG4gICAgICAgICAgICAgICAgYTogYVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmdiYTtcbiAgICB9XG4gICAgc3RhdGljIGNzc1RvUmdiYShjc3MpIHtcbiAgICAgICAgaWYgKF9fMS5pcy5jc3NIZXgoY3NzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yLmhleFRvUmdiYShjc3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfXzEuaXMuY3NzUmdiKGNzcykpIHtcbiAgICAgICAgICAgIGNzcyA9IGNzcy5yZXBsYWNlKCcpJywgJywxKScpO1xuICAgICAgICAgICAgY3NzID0gY3NzLnJlcGxhY2UoJ3JnYicsICdyZ2JhJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9fMS5pcy5jc3NSZ2JhKGNzcykpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IGNzcy5tYXRjaCgvXnJnYmFcXChcXHMqPyhcXGR7MSwzfSlcXHMqPyxcXHMqPyhcXGR7MSwzfSlcXHMqPyxcXHMqPyhcXGR7MSwzfSlcXHMqPyxcXHMqPyhcXGQqKD86XFwuXFxkKyk/KVxcKSQvKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJnYmEgPSB7XG4gICAgICAgICAgICAgICAgICAgIHI6ICttYXRjaFsxXSxcbiAgICAgICAgICAgICAgICAgICAgZzogK21hdGNoWzJdLFxuICAgICAgICAgICAgICAgICAgICBiOiArbWF0Y2hbM10sXG4gICAgICAgICAgICAgICAgICAgIGE6ICttYXRjaFs0XVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJnYmE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc3RhdGljIHJnYmFUb0NzcyhyZ2JhKSB7XG4gICAgICAgIHJldHVybiBgcmdiYSgke3JnYmEucn0sICR7cmdiYS5nfSwgJHtyZ2JhLmJ9LCAke3JnYmEuYX0pYDtcbiAgICB9XG59XG5leHBvcnRzLmNvbG9yID0gY29sb3I7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/mathf/color.js\n");

/***/ }),

/***/ "./lib/mathf/cubic-bezier.js":
/*!***********************************!*\
  !*** ./lib/mathf/cubic-bezier.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass CubicBezier {\n    constructor(x2, y2, x3, y3) {\n        this.x2 = x2;\n        this.y2 = y2;\n        this.x3 = x2;\n        this.y3 = y3;\n    }\n    static getBezierPoint(progress, x1, y1, x2, y2, x3, y3, x4, y4) {\n        const tp = 1 - progress;\n        const x = progress * progress * progress * x4 + 3 * progress * progress *\n            tp * x3 + 3 * progress * tp * tp * x2 + tp * tp * tp * x1;\n        const y = progress * progress * progress * y4 + 3 * progress * progress *\n            tp * y3 + 3 * progress * tp * tp * y2 + tp * tp * tp * y1;\n        return {\n            x: x,\n            y: y\n        };\n    }\n    static getPoint(progress, v1, v2, v3, v4) {\n        return CubicBezier.getBezierPoint(progress, v1.x, v1.y, v2.x, v2.y, v3.x, v3.y, v4.x, v4.y);\n    }\n    static interpolateProgress(progress, x2, y2, x3, y3) {\n        let point = CubicBezier.getBezierPoint(progress, 0, 0, x2, y2, x3, y3, 1, 1);\n        return point.y;\n    }\n    interpolate(progress) {\n        return CubicBezier.interpolateProgress(progress, this.x2, this.y2, this.x3, this.y3);\n    }\n    easingFunction() {\n        return (progress) => {\n            return this.interpolate(progress);\n        };\n    }\n    static makeEasingFunction(p0, p1, p2, p3) {\n        return (progress) => {\n            return this.interpolateProgress(progress, p0, p1, p2, p3);\n        };\n    }\n}\nexports.CubicBezier = CubicBezier;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvY3ViaWMtYmV6aWVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL21hdGhmL2N1YmljLWJlemllci5qcz8wYjg1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY2xhc3MgQ3ViaWNCZXppZXIge1xuICAgIGNvbnN0cnVjdG9yKHgyLCB5MiwgeDMsIHkzKSB7XG4gICAgICAgIHRoaXMueDIgPSB4MjtcbiAgICAgICAgdGhpcy55MiA9IHkyO1xuICAgICAgICB0aGlzLngzID0geDI7XG4gICAgICAgIHRoaXMueTMgPSB5MztcbiAgICB9XG4gICAgc3RhdGljIGdldEJlemllclBvaW50KHByb2dyZXNzLCB4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQpIHtcbiAgICAgICAgY29uc3QgdHAgPSAxIC0gcHJvZ3Jlc3M7XG4gICAgICAgIGNvbnN0IHggPSBwcm9ncmVzcyAqIHByb2dyZXNzICogcHJvZ3Jlc3MgKiB4NCArIDMgKiBwcm9ncmVzcyAqIHByb2dyZXNzICpcbiAgICAgICAgICAgIHRwICogeDMgKyAzICogcHJvZ3Jlc3MgKiB0cCAqIHRwICogeDIgKyB0cCAqIHRwICogdHAgKiB4MTtcbiAgICAgICAgY29uc3QgeSA9IHByb2dyZXNzICogcHJvZ3Jlc3MgKiBwcm9ncmVzcyAqIHk0ICsgMyAqIHByb2dyZXNzICogcHJvZ3Jlc3MgKlxuICAgICAgICAgICAgdHAgKiB5MyArIDMgKiBwcm9ncmVzcyAqIHRwICogdHAgKiB5MiArIHRwICogdHAgKiB0cCAqIHkxO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGdldFBvaW50KHByb2dyZXNzLCB2MSwgdjIsIHYzLCB2NCkge1xuICAgICAgICByZXR1cm4gQ3ViaWNCZXppZXIuZ2V0QmV6aWVyUG9pbnQocHJvZ3Jlc3MsIHYxLngsIHYxLnksIHYyLngsIHYyLnksIHYzLngsIHYzLnksIHY0LngsIHY0LnkpO1xuICAgIH1cbiAgICBzdGF0aWMgaW50ZXJwb2xhdGVQcm9ncmVzcyhwcm9ncmVzcywgeDIsIHkyLCB4MywgeTMpIHtcbiAgICAgICAgbGV0IHBvaW50ID0gQ3ViaWNCZXppZXIuZ2V0QmV6aWVyUG9pbnQocHJvZ3Jlc3MsIDAsIDAsIHgyLCB5MiwgeDMsIHkzLCAxLCAxKTtcbiAgICAgICAgcmV0dXJuIHBvaW50Lnk7XG4gICAgfVxuICAgIGludGVycG9sYXRlKHByb2dyZXNzKSB7XG4gICAgICAgIHJldHVybiBDdWJpY0Jlemllci5pbnRlcnBvbGF0ZVByb2dyZXNzKHByb2dyZXNzLCB0aGlzLngyLCB0aGlzLnkyLCB0aGlzLngzLCB0aGlzLnkzKTtcbiAgICB9XG4gICAgZWFzaW5nRnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAocHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmludGVycG9sYXRlKHByb2dyZXNzKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIG1ha2VFYXNpbmdGdW5jdGlvbihwMCwgcDEsIHAyLCBwMykge1xuICAgICAgICByZXR1cm4gKHByb2dyZXNzKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbnRlcnBvbGF0ZVByb2dyZXNzKHByb2dyZXNzLCBwMCwgcDEsIHAyLCBwMyk7XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5DdWJpY0JlemllciA9IEN1YmljQmV6aWVyO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/mathf/cubic-bezier.js\n");

/***/ }),

/***/ "./lib/mathf/hermite-curve.js":
/*!************************************!*\
  !*** ./lib/mathf/hermite-curve.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass HermiteCurve {\n    constructor() { }\n    static getPoint(t, p0, m0, p1, m1) {\n        return p0.clone().scale(1 - 3 * t * t + 2 * t * t * t)\n            .add(m0.clone().scale(t - 2 * t * t + t * t * t))\n            .add(m1.clone().scale(-t * t + t * t * t))\n            .add(p1.clone().scale(3 * t * t - 2 * t * t * t));\n    }\n}\nexports.HermiteCurve = HermiteCurve;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvaGVybWl0ZS1jdXJ2ZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9tYXRoZi9oZXJtaXRlLWN1cnZlLmpzPzExMTkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jbGFzcyBIZXJtaXRlQ3VydmUge1xuICAgIGNvbnN0cnVjdG9yKCkgeyB9XG4gICAgc3RhdGljIGdldFBvaW50KHQsIHAwLCBtMCwgcDEsIG0xKSB7XG4gICAgICAgIHJldHVybiBwMC5jbG9uZSgpLnNjYWxlKDEgLSAzICogdCAqIHQgKyAyICogdCAqIHQgKiB0KVxuICAgICAgICAgICAgLmFkZChtMC5jbG9uZSgpLnNjYWxlKHQgLSAyICogdCAqIHQgKyB0ICogdCAqIHQpKVxuICAgICAgICAgICAgLmFkZChtMS5jbG9uZSgpLnNjYWxlKC10ICogdCArIHQgKiB0ICogdCkpXG4gICAgICAgICAgICAuYWRkKHAxLmNsb25lKCkuc2NhbGUoMyAqIHQgKiB0IC0gMiAqIHQgKiB0ICogdCkpO1xuICAgIH1cbn1cbmV4cG9ydHMuSGVybWl0ZUN1cnZlID0gSGVybWl0ZUN1cnZlO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/mathf/hermite-curve.js\n");

/***/ }),

/***/ "./lib/mathf/mathf.js":
/*!****************************!*\
  !*** ./lib/mathf/mathf.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ease_1 = __webpack_require__(/*! ../ease/ease */ \"./lib/ease/ease.js\");\nclass mathf {\n    static absZero(value) {\n        return value == -0 ? 0 : value;\n    }\n    static fixDigits(value, digits) {\n        return +parseFloat(value).toFixed(digits);\n    }\n    static int(value) {\n        return mathf.fixDigits(value, 0);\n    }\n    static int0(value) {\n        return value >> 0;\n    }\n    static flipCoin() {\n        return mathf.getRandomInt(0, 1);\n    }\n    static getRandomFloat(min, max) {\n        return Math.random() * (max - min) + min;\n    }\n    static getRandomInt(min, max) {\n        return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n    static getUniqueRandomInt(min, max, not) {\n        const random = mathf.getRandomInt(min, max);\n        if (random == not) {\n            return mathf.getUniqueRandomInt(min, max, not);\n        }\n        else {\n            return random;\n        }\n    }\n    static clamp(min, max, num) {\n        return Math.min(Math.max(num, min), max);\n    }\n    static childProgress(progress, start, end, noClamp = false) {\n        const range = end - start;\n        let childProgress = mathf.clamp(0, 1, progress - start);\n        if (noClamp) {\n            childProgress = progress - start;\n        }\n        childProgress = childProgress / range;\n        if (noClamp) {\n            return childProgress;\n        }\n        else {\n            return mathf.clampAsPercent(childProgress);\n        }\n    }\n    static roundToPrecision(value, precision) {\n        precision = mathf.int(precision);\n        const shifter = Math.pow(10, precision);\n        return Math.round(value * shifter) / shifter;\n    }\n    static floorToPrecision(value, precision) {\n        precision = mathf.int(precision);\n        const shifter = Math.pow(10, precision);\n        return Math.floor(value * shifter) / shifter;\n    }\n    static ceilToPrecision(value, precision) {\n        precision = mathf.int(precision);\n        const shifter = Math.pow(10, precision);\n        return Math.ceil(value * shifter) / shifter;\n    }\n    static toFixed(value, precision) {\n        return +value.toFixed(precision);\n    }\n    static angleRadians(x1, y1, x2, y2) {\n        return Math.atan2(y2 - y1, x2 - x1);\n    }\n    static angleDegree(x1, y1, x2, y2) {\n        return Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;\n    }\n    static angleDistanceDegree(angle0, angle1, max) {\n        const angle0Rad = mathf.degreeToRadian(angle0);\n        const angle1Rad = mathf.degreeToRadian(angle1);\n        if (max) {\n            max = mathf.degreeToRadian(max);\n        }\n        const result = mathf.angleDistanceRadian(angle0Rad, angle1Rad, max);\n        return mathf.radianToDegree(result);\n    }\n    static angleDistanceRadian(angle0, angle1, max) {\n        if (!max) {\n            max = Math.PI * 2;\n        }\n        const delta = (angle1 - angle0) % max;\n        return 2 * delta % max - delta;\n    }\n    static degreeToRadian(deg) {\n        return deg * (Math.PI / 180);\n    }\n    static radianToDegree(radian) {\n        return radian * 180 / Math.PI;\n    }\n    static boxCollision(a, b) {\n        return !(((a.y + a.height) < (b.y)) ||\n            (a.y > (b.y + b.height)) ||\n            ((a.x + a.width) < b.x) ||\n            (a.x > (b.x + b.width)));\n    }\n    static collisionCircVsBox(circ, rect) {\n        let dx = circ.x - Math.max(rect.x, Math.min(circ.x, rect.x + rect.width));\n        let dy = circ.y - Math.max(rect.y, Math.min(circ.y, rect.y + rect.height));\n        return (dx * dx + dy * dy) < (circ.radius * circ.radius);\n    }\n    static collisionPointVersusConvexPolygon(point, poly) {\n        let isInside = false;\n        const size = poly.length;\n        let pointPolyAIndex = 0;\n        let pointPolyBIndex = size - 1;\n        for (var i = 0; i < size; i++) {\n            const polyA = poly[pointPolyAIndex];\n            const polyB = poly[pointPolyBIndex];\n            var intersects = ((polyA.y > point.y) != (polyB.y > point.y))\n                && (point.x < (polyB.x - polyA.x) * (point.y - polyA.y) / (polyB.y - polyA.y) + polyA.x);\n            if (intersects) {\n                isInside = !isInside;\n            }\n            pointPolyBIndex = pointPolyAIndex;\n            pointPolyAIndex++;\n        }\n        return isInside;\n    }\n    static calculate2dPointRotation(cx, cy, x, y, angle) {\n        let cos = Math.cos(angle);\n        let sin = Math.sin(angle);\n        const tx = (cos * (x - cx)) + (sin * (y - cy)) + cx;\n        const ty = (cos * (y - cy)) - (sin * (x - cx)) + cy;\n        return {\n            x: tx,\n            y: ty\n        };\n    }\n    static calculate2dPointRotationWithDistance(cx, cy, x, y, angle, distance) {\n        var t = angle + Math.atan2(y - cy, x - cx);\n        x = cx + (distance * Math.cos(t));\n        y = cy + (distance * Math.sin(t));\n        return {\n            x: x,\n            y: y\n        };\n    }\n    static distance(x1, y1, x2, y2) {\n        return Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    }\n    static direction(previous, current) {\n        if (previous == current) {\n            return 0;\n        }\n        return previous < current ? 1 : -1;\n    }\n    static calculateCenterOffset(parent, child) {\n        const halfParent = parent / 2;\n        const halfChild = child / 2;\n        const offset = halfParent - halfChild;\n        return offset;\n    }\n    static scaleX(x1, y1, y2) {\n        return x1 * y2 / y1;\n    }\n    static scaleY(x1, y1, x2) {\n        return x2 * y1 / x1;\n    }\n    static aspectRatio(box) {\n        return box.width / box.height;\n    }\n    static isBetween(testValue, range1, range2, inclusive = true) {\n        const min = Math.min(range1, range2);\n        const max = Math.max(range1, range2);\n        ;\n        return inclusive ? testValue >= min && testValue <= max :\n            testValue > min && testValue < max;\n    }\n    static resizeDimensionalBoxToWidth(box, width) {\n        return {\n            width,\n            height: mathf.scaleY(box.width, box.height, width)\n        };\n    }\n    static resizeDimensionalBoxToHeight(box, height) {\n        return {\n            width: mathf.scaleX(box.width, box.height, height),\n            height\n        };\n    }\n    static clampAsPercent(percent) {\n        return mathf.clamp(0, 1, mathf.absZero(percent));\n    }\n    static clampAsProgress(progress) {\n        return mathf.clampAsPercent(progress);\n    }\n    static clamp01(progress) {\n        return mathf.clampAsPercent(progress);\n    }\n    static getValueInRangeByProgress(progress, min, max) {\n        return mathf.lerp(min, max, progress);\n    }\n    static getProgressInRangeByValue(val, min, max) {\n        return mathf.clampAsPercent((val - min) / (max - min));\n    }\n    static normalize(val, min, max) {\n        return mathf.getProgressInRangeByValue(val, min, max);\n    }\n    static lerp(value1, value2, amount) {\n        return value1 + (value2 - value1) * mathf.clamp01(amount);\n    }\n    static inverseLerp(a, b, value, noClamp = false) {\n        if (noClamp) {\n            return (value - a) / (b - a);\n        }\n        else {\n            return mathf.clamp01((value - a) / (b - a));\n        }\n    }\n    static mix(a, b, blend) {\n        return a * (1 - blend) + b * blend;\n    }\n    static step(edge, n) {\n        if (n > edge) {\n            return 1.0;\n        }\n        else {\n            return 0.0;\n        }\n    }\n    static smoothStep(min, max, input) {\n        var x = Math.max(0, Math.min(1, (input - min) / (max - min)));\n        return x * x * (3 - 2 * x);\n    }\n    static interpolateRange(range1Value, range1Min, range1Max, range2Min, range2Max) {\n        let progress = mathf.clampAsProgress(range1Value / (range1Max - range1Min));\n        return mathf.lerp(range2Min, range2Max, progress);\n    }\n    static sinNormalized(time) {\n        return mathf.interpolateRange(Math.sin(time) + 1, 0, 2, 0, 1);\n    }\n    static lerpEase(value1, value2, amount, easeFunction = ease_1.EASE.linear) {\n        amount = easeFunction(amount);\n        return mathf.lerp(value1, value2, amount);\n    }\n    static damp(value1, value2, amount, damp) {\n        return mathf.lerp(value1, value2, 1 - Math.exp(-amount * damp));\n    }\n    static ease(start, end, progress, easeFunction = ease_1.EASE.linear) {\n        return mathf.lerpEase(start, end, progress, easeFunction);\n    }\n    static wrap(value, min, max) {\n        const diff = max - min;\n        return (min + ((((value - min) % diff) + diff) % diff));\n    }\n    static calculateBackgroundCover(parentBox, childBox) {\n        const parentRatio = mathf.aspectRatio(parentBox);\n        const childRatio = mathf.aspectRatio(childBox);\n        let finalWidth;\n        let finalHeight;\n        let scale;\n        if (childRatio >= parentRatio) {\n            finalHeight = parentBox.height;\n            scale = parentBox.height / childBox.height;\n            finalWidth = childBox.width * scale;\n        }\n        else {\n            finalWidth = parentBox.width;\n            scale = parentBox.width / childBox.width;\n            finalHeight = childBox.height * scale;\n        }\n        const finalScale = Math.max((finalWidth / childBox.width), (finalHeight / childBox.height));\n        const offsetHeight = mathf.absZero(-Math.round((parentBox.height - finalHeight) / 2));\n        const offsetWidth = mathf.absZero(-Math.round((parentBox.width - finalWidth) / 2));\n        return {\n            width: Math.round(finalWidth),\n            height: Math.round(finalHeight),\n            xOffset: offsetWidth,\n            yOffset: offsetHeight,\n            scalar: finalScale\n        };\n    }\n    static calculateBackgroundContain(parentBox, childBox) {\n        let pw = parentBox.width;\n        let ph = parentBox.height;\n        let cw = childBox.width;\n        let ch = childBox.height;\n        let heightScale = parentBox.height / childBox.height;\n        let widthScale = parentBox.width / childBox.width;\n        let scale = Math.min(heightScale, widthScale);\n        return scale;\n    }\n    static asymptoticAverage(current, target, amount) {\n        return current += (target - current) * amount;\n    }\n    static smoothStart2(t) {\n        return t * t;\n    }\n    static smoothStop2(t) {\n        return 1 - ((1 - t) * (1 - t));\n    }\n    static smoothStart3(t) {\n        return t * t * t;\n    }\n    static smoothStop3(t) {\n        return 1 - ((1 - t) * (1 - t) * (1 - t));\n    }\n    static smoothStep2(value, mix, t) {\n        return mathf.lerp(mathf.smoothStart2(value), mathf.smoothStop2(value), mix) * t;\n    }\n    static sigmoid(value, mix) {\n        return this.smoothStep2(value, mix, value);\n    }\n    static remap(minA, maxA, minB, maxB, valueB) {\n        const t = mathf.inverseLerp(minB, maxB, valueB);\n        return mathf.lerp(minA, maxA, t);\n    }\n}\nmathf.generateRandomPoints = (num, minX, maxX, minY, maxY) => {\n    const points = [];\n    for (let i = 0; i < num; i++) {\n        points.push({\n            x: mathf.getRandomInt(minX, maxX),\n            y: mathf.getRandomInt(minY, maxY)\n        });\n    }\n    return points;\n};\nexports.mathf = mathf;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvbWF0aGYuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvbWF0aGYvbWF0aGYuanM/NDFhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGVhc2VfMSA9IHJlcXVpcmUoXCIuLi9lYXNlL2Vhc2VcIik7XG5jbGFzcyBtYXRoZiB7XG4gICAgc3RhdGljIGFic1plcm8odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09IC0wID8gMCA6IHZhbHVlO1xuICAgIH1cbiAgICBzdGF0aWMgZml4RGlnaXRzKHZhbHVlLCBkaWdpdHMpIHtcbiAgICAgICAgcmV0dXJuICtwYXJzZUZsb2F0KHZhbHVlKS50b0ZpeGVkKGRpZ2l0cyk7XG4gICAgfVxuICAgIHN0YXRpYyBpbnQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG1hdGhmLmZpeERpZ2l0cyh2YWx1ZSwgMCk7XG4gICAgfVxuICAgIHN0YXRpYyBpbnQwKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA+PiAwO1xuICAgIH1cbiAgICBzdGF0aWMgZmxpcENvaW4oKSB7XG4gICAgICAgIHJldHVybiBtYXRoZi5nZXRSYW5kb21JbnQoMCwgMSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRSYW5kb21GbG9hdChtaW4sIG1heCkge1xuICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0UmFuZG9tSW50KG1pbiwgbWF4KSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0VW5pcXVlUmFuZG9tSW50KG1pbiwgbWF4LCBub3QpIHtcbiAgICAgICAgY29uc3QgcmFuZG9tID0gbWF0aGYuZ2V0UmFuZG9tSW50KG1pbiwgbWF4KTtcbiAgICAgICAgaWYgKHJhbmRvbSA9PSBub3QpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXRoZi5nZXRVbmlxdWVSYW5kb21JbnQobWluLCBtYXgsIG5vdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmFuZG9tO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBjbGFtcChtaW4sIG1heCwgbnVtKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChudW0sIG1pbiksIG1heCk7XG4gICAgfVxuICAgIHN0YXRpYyBjaGlsZFByb2dyZXNzKHByb2dyZXNzLCBzdGFydCwgZW5kLCBub0NsYW1wID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBlbmQgLSBzdGFydDtcbiAgICAgICAgbGV0IGNoaWxkUHJvZ3Jlc3MgPSBtYXRoZi5jbGFtcCgwLCAxLCBwcm9ncmVzcyAtIHN0YXJ0KTtcbiAgICAgICAgaWYgKG5vQ2xhbXApIHtcbiAgICAgICAgICAgIGNoaWxkUHJvZ3Jlc3MgPSBwcm9ncmVzcyAtIHN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkUHJvZ3Jlc3MgPSBjaGlsZFByb2dyZXNzIC8gcmFuZ2U7XG4gICAgICAgIGlmIChub0NsYW1wKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGRQcm9ncmVzcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBtYXRoZi5jbGFtcEFzUGVyY2VudChjaGlsZFByb2dyZXNzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgcm91bmRUb1ByZWNpc2lvbih2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gICAgICAgIHByZWNpc2lvbiA9IG1hdGhmLmludChwcmVjaXNpb24pO1xuICAgICAgICBjb25zdCBzaGlmdGVyID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbik7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlICogc2hpZnRlcikgLyBzaGlmdGVyO1xuICAgIH1cbiAgICBzdGF0aWMgZmxvb3JUb1ByZWNpc2lvbih2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gICAgICAgIHByZWNpc2lvbiA9IG1hdGhmLmludChwcmVjaXNpb24pO1xuICAgICAgICBjb25zdCBzaGlmdGVyID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbik7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHZhbHVlICogc2hpZnRlcikgLyBzaGlmdGVyO1xuICAgIH1cbiAgICBzdGF0aWMgY2VpbFRvUHJlY2lzaW9uKHZhbHVlLCBwcmVjaXNpb24pIHtcbiAgICAgICAgcHJlY2lzaW9uID0gbWF0aGYuaW50KHByZWNpc2lvbik7XG4gICAgICAgIGNvbnN0IHNoaWZ0ZXIgPSBNYXRoLnBvdygxMCwgcHJlY2lzaW9uKTtcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbCh2YWx1ZSAqIHNoaWZ0ZXIpIC8gc2hpZnRlcjtcbiAgICB9XG4gICAgc3RhdGljIHRvRml4ZWQodmFsdWUsIHByZWNpc2lvbikge1xuICAgICAgICByZXR1cm4gK3ZhbHVlLnRvRml4ZWQocHJlY2lzaW9uKTtcbiAgICB9XG4gICAgc3RhdGljIGFuZ2xlUmFkaWFucyh4MSwgeTEsIHgyLCB5Mikge1xuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMih5MiAtIHkxLCB4MiAtIHgxKTtcbiAgICB9XG4gICAgc3RhdGljIGFuZ2xlRGVncmVlKHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHkyIC0geTEsIHgyIC0geDEpICogMTgwIC8gTWF0aC5QSTtcbiAgICB9XG4gICAgc3RhdGljIGFuZ2xlRGlzdGFuY2VEZWdyZWUoYW5nbGUwLCBhbmdsZTEsIG1heCkge1xuICAgICAgICBjb25zdCBhbmdsZTBSYWQgPSBtYXRoZi5kZWdyZWVUb1JhZGlhbihhbmdsZTApO1xuICAgICAgICBjb25zdCBhbmdsZTFSYWQgPSBtYXRoZi5kZWdyZWVUb1JhZGlhbihhbmdsZTEpO1xuICAgICAgICBpZiAobWF4KSB7XG4gICAgICAgICAgICBtYXggPSBtYXRoZi5kZWdyZWVUb1JhZGlhbihtYXgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG1hdGhmLmFuZ2xlRGlzdGFuY2VSYWRpYW4oYW5nbGUwUmFkLCBhbmdsZTFSYWQsIG1heCk7XG4gICAgICAgIHJldHVybiBtYXRoZi5yYWRpYW5Ub0RlZ3JlZShyZXN1bHQpO1xuICAgIH1cbiAgICBzdGF0aWMgYW5nbGVEaXN0YW5jZVJhZGlhbihhbmdsZTAsIGFuZ2xlMSwgbWF4KSB7XG4gICAgICAgIGlmICghbWF4KSB7XG4gICAgICAgICAgICBtYXggPSBNYXRoLlBJICogMjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWx0YSA9IChhbmdsZTEgLSBhbmdsZTApICUgbWF4O1xuICAgICAgICByZXR1cm4gMiAqIGRlbHRhICUgbWF4IC0gZGVsdGE7XG4gICAgfVxuICAgIHN0YXRpYyBkZWdyZWVUb1JhZGlhbihkZWcpIHtcbiAgICAgICAgcmV0dXJuIGRlZyAqIChNYXRoLlBJIC8gMTgwKTtcbiAgICB9XG4gICAgc3RhdGljIHJhZGlhblRvRGVncmVlKHJhZGlhbikge1xuICAgICAgICByZXR1cm4gcmFkaWFuICogMTgwIC8gTWF0aC5QSTtcbiAgICB9XG4gICAgc3RhdGljIGJveENvbGxpc2lvbihhLCBiKSB7XG4gICAgICAgIHJldHVybiAhKCgoYS55ICsgYS5oZWlnaHQpIDwgKGIueSkpIHx8XG4gICAgICAgICAgICAoYS55ID4gKGIueSArIGIuaGVpZ2h0KSkgfHxcbiAgICAgICAgICAgICgoYS54ICsgYS53aWR0aCkgPCBiLngpIHx8XG4gICAgICAgICAgICAoYS54ID4gKGIueCArIGIud2lkdGgpKSk7XG4gICAgfVxuICAgIHN0YXRpYyBjb2xsaXNpb25DaXJjVnNCb3goY2lyYywgcmVjdCkge1xuICAgICAgICBsZXQgZHggPSBjaXJjLnggLSBNYXRoLm1heChyZWN0LngsIE1hdGgubWluKGNpcmMueCwgcmVjdC54ICsgcmVjdC53aWR0aCkpO1xuICAgICAgICBsZXQgZHkgPSBjaXJjLnkgLSBNYXRoLm1heChyZWN0LnksIE1hdGgubWluKGNpcmMueSwgcmVjdC55ICsgcmVjdC5oZWlnaHQpKTtcbiAgICAgICAgcmV0dXJuIChkeCAqIGR4ICsgZHkgKiBkeSkgPCAoY2lyYy5yYWRpdXMgKiBjaXJjLnJhZGl1cyk7XG4gICAgfVxuICAgIHN0YXRpYyBjb2xsaXNpb25Qb2ludFZlcnN1c0NvbnZleFBvbHlnb24ocG9pbnQsIHBvbHkpIHtcbiAgICAgICAgbGV0IGlzSW5zaWRlID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHNpemUgPSBwb2x5Lmxlbmd0aDtcbiAgICAgICAgbGV0IHBvaW50UG9seUFJbmRleCA9IDA7XG4gICAgICAgIGxldCBwb2ludFBvbHlCSW5kZXggPSBzaXplIC0gMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBvbHlBID0gcG9seVtwb2ludFBvbHlBSW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgcG9seUIgPSBwb2x5W3BvaW50UG9seUJJbmRleF07XG4gICAgICAgICAgICB2YXIgaW50ZXJzZWN0cyA9ICgocG9seUEueSA+IHBvaW50LnkpICE9IChwb2x5Qi55ID4gcG9pbnQueSkpXG4gICAgICAgICAgICAgICAgJiYgKHBvaW50LnggPCAocG9seUIueCAtIHBvbHlBLngpICogKHBvaW50LnkgLSBwb2x5QS55KSAvIChwb2x5Qi55IC0gcG9seUEueSkgKyBwb2x5QS54KTtcbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3RzKSB7XG4gICAgICAgICAgICAgICAgaXNJbnNpZGUgPSAhaXNJbnNpZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb2ludFBvbHlCSW5kZXggPSBwb2ludFBvbHlBSW5kZXg7XG4gICAgICAgICAgICBwb2ludFBvbHlBSW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNJbnNpZGU7XG4gICAgfVxuICAgIHN0YXRpYyBjYWxjdWxhdGUyZFBvaW50Um90YXRpb24oY3gsIGN5LCB4LCB5LCBhbmdsZSkge1xuICAgICAgICBsZXQgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICBsZXQgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICBjb25zdCB0eCA9IChjb3MgKiAoeCAtIGN4KSkgKyAoc2luICogKHkgLSBjeSkpICsgY3g7XG4gICAgICAgIGNvbnN0IHR5ID0gKGNvcyAqICh5IC0gY3kpKSAtIChzaW4gKiAoeCAtIGN4KSkgKyBjeTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHR4LFxuICAgICAgICAgICAgeTogdHlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGNhbGN1bGF0ZTJkUG9pbnRSb3RhdGlvbldpdGhEaXN0YW5jZShjeCwgY3ksIHgsIHksIGFuZ2xlLCBkaXN0YW5jZSkge1xuICAgICAgICB2YXIgdCA9IGFuZ2xlICsgTWF0aC5hdGFuMih5IC0gY3ksIHggLSBjeCk7XG4gICAgICAgIHggPSBjeCArIChkaXN0YW5jZSAqIE1hdGguY29zKHQpKTtcbiAgICAgICAgeSA9IGN5ICsgKGRpc3RhbmNlICogTWF0aC5zaW4odCkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGRpc3RhbmNlKHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coeDIgLSB4MSwgMikgKyBNYXRoLnBvdyh5MiAtIHkxLCAyKSk7XG4gICAgfVxuICAgIHN0YXRpYyBkaXJlY3Rpb24ocHJldmlvdXMsIGN1cnJlbnQpIHtcbiAgICAgICAgaWYgKHByZXZpb3VzID09IGN1cnJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcmV2aW91cyA8IGN1cnJlbnQgPyAxIDogLTE7XG4gICAgfVxuICAgIHN0YXRpYyBjYWxjdWxhdGVDZW50ZXJPZmZzZXQocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBjb25zdCBoYWxmUGFyZW50ID0gcGFyZW50IC8gMjtcbiAgICAgICAgY29uc3QgaGFsZkNoaWxkID0gY2hpbGQgLyAyO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBoYWxmUGFyZW50IC0gaGFsZkNoaWxkO1xuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH1cbiAgICBzdGF0aWMgc2NhbGVYKHgxLCB5MSwgeTIpIHtcbiAgICAgICAgcmV0dXJuIHgxICogeTIgLyB5MTtcbiAgICB9XG4gICAgc3RhdGljIHNjYWxlWSh4MSwgeTEsIHgyKSB7XG4gICAgICAgIHJldHVybiB4MiAqIHkxIC8geDE7XG4gICAgfVxuICAgIHN0YXRpYyBhc3BlY3RSYXRpbyhib3gpIHtcbiAgICAgICAgcmV0dXJuIGJveC53aWR0aCAvIGJveC5oZWlnaHQ7XG4gICAgfVxuICAgIHN0YXRpYyBpc0JldHdlZW4odGVzdFZhbHVlLCByYW5nZTEsIHJhbmdlMiwgaW5jbHVzaXZlID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihyYW5nZTEsIHJhbmdlMik7XG4gICAgICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KHJhbmdlMSwgcmFuZ2UyKTtcbiAgICAgICAgO1xuICAgICAgICByZXR1cm4gaW5jbHVzaXZlID8gdGVzdFZhbHVlID49IG1pbiAmJiB0ZXN0VmFsdWUgPD0gbWF4IDpcbiAgICAgICAgICAgIHRlc3RWYWx1ZSA+IG1pbiAmJiB0ZXN0VmFsdWUgPCBtYXg7XG4gICAgfVxuICAgIHN0YXRpYyByZXNpemVEaW1lbnNpb25hbEJveFRvV2lkdGgoYm94LCB3aWR0aCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IG1hdGhmLnNjYWxlWShib3gud2lkdGgsIGJveC5oZWlnaHQsIHdpZHRoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgcmVzaXplRGltZW5zaW9uYWxCb3hUb0hlaWdodChib3gsIGhlaWdodCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6IG1hdGhmLnNjYWxlWChib3gud2lkdGgsIGJveC5oZWlnaHQsIGhlaWdodCksXG4gICAgICAgICAgICBoZWlnaHRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGNsYW1wQXNQZXJjZW50KHBlcmNlbnQpIHtcbiAgICAgICAgcmV0dXJuIG1hdGhmLmNsYW1wKDAsIDEsIG1hdGhmLmFic1plcm8ocGVyY2VudCkpO1xuICAgIH1cbiAgICBzdGF0aWMgY2xhbXBBc1Byb2dyZXNzKHByb2dyZXNzKSB7XG4gICAgICAgIHJldHVybiBtYXRoZi5jbGFtcEFzUGVyY2VudChwcm9ncmVzcyk7XG4gICAgfVxuICAgIHN0YXRpYyBjbGFtcDAxKHByb2dyZXNzKSB7XG4gICAgICAgIHJldHVybiBtYXRoZi5jbGFtcEFzUGVyY2VudChwcm9ncmVzcyk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRWYWx1ZUluUmFuZ2VCeVByb2dyZXNzKHByb2dyZXNzLCBtaW4sIG1heCkge1xuICAgICAgICByZXR1cm4gbWF0aGYubGVycChtaW4sIG1heCwgcHJvZ3Jlc3MpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0UHJvZ3Jlc3NJblJhbmdlQnlWYWx1ZSh2YWwsIG1pbiwgbWF4KSB7XG4gICAgICAgIHJldHVybiBtYXRoZi5jbGFtcEFzUGVyY2VudCgodmFsIC0gbWluKSAvIChtYXggLSBtaW4pKTtcbiAgICB9XG4gICAgc3RhdGljIG5vcm1hbGl6ZSh2YWwsIG1pbiwgbWF4KSB7XG4gICAgICAgIHJldHVybiBtYXRoZi5nZXRQcm9ncmVzc0luUmFuZ2VCeVZhbHVlKHZhbCwgbWluLCBtYXgpO1xuICAgIH1cbiAgICBzdGF0aWMgbGVycCh2YWx1ZTEsIHZhbHVlMiwgYW1vdW50KSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTEgKyAodmFsdWUyIC0gdmFsdWUxKSAqIG1hdGhmLmNsYW1wMDEoYW1vdW50KTtcbiAgICB9XG4gICAgc3RhdGljIGludmVyc2VMZXJwKGEsIGIsIHZhbHVlLCBub0NsYW1wID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKG5vQ2xhbXApIHtcbiAgICAgICAgICAgIHJldHVybiAodmFsdWUgLSBhKSAvIChiIC0gYSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0aGYuY2xhbXAwMSgodmFsdWUgLSBhKSAvIChiIC0gYSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBtaXgoYSwgYiwgYmxlbmQpIHtcbiAgICAgICAgcmV0dXJuIGEgKiAoMSAtIGJsZW5kKSArIGIgKiBibGVuZDtcbiAgICB9XG4gICAgc3RhdGljIHN0ZXAoZWRnZSwgbikge1xuICAgICAgICBpZiAobiA+IGVkZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiAxLjA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMC4wO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBzbW9vdGhTdGVwKG1pbiwgbWF4LCBpbnB1dCkge1xuICAgICAgICB2YXIgeCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIChpbnB1dCAtIG1pbikgLyAobWF4IC0gbWluKSkpO1xuICAgICAgICByZXR1cm4geCAqIHggKiAoMyAtIDIgKiB4KTtcbiAgICB9XG4gICAgc3RhdGljIGludGVycG9sYXRlUmFuZ2UocmFuZ2UxVmFsdWUsIHJhbmdlMU1pbiwgcmFuZ2UxTWF4LCByYW5nZTJNaW4sIHJhbmdlMk1heCkge1xuICAgICAgICBsZXQgcHJvZ3Jlc3MgPSBtYXRoZi5jbGFtcEFzUHJvZ3Jlc3MocmFuZ2UxVmFsdWUgLyAocmFuZ2UxTWF4IC0gcmFuZ2UxTWluKSk7XG4gICAgICAgIHJldHVybiBtYXRoZi5sZXJwKHJhbmdlMk1pbiwgcmFuZ2UyTWF4LCBwcm9ncmVzcyk7XG4gICAgfVxuICAgIHN0YXRpYyBzaW5Ob3JtYWxpemVkKHRpbWUpIHtcbiAgICAgICAgcmV0dXJuIG1hdGhmLmludGVycG9sYXRlUmFuZ2UoTWF0aC5zaW4odGltZSkgKyAxLCAwLCAyLCAwLCAxKTtcbiAgICB9XG4gICAgc3RhdGljIGxlcnBFYXNlKHZhbHVlMSwgdmFsdWUyLCBhbW91bnQsIGVhc2VGdW5jdGlvbiA9IGVhc2VfMS5FQVNFLmxpbmVhcikge1xuICAgICAgICBhbW91bnQgPSBlYXNlRnVuY3Rpb24oYW1vdW50KTtcbiAgICAgICAgcmV0dXJuIG1hdGhmLmxlcnAodmFsdWUxLCB2YWx1ZTIsIGFtb3VudCk7XG4gICAgfVxuICAgIHN0YXRpYyBkYW1wKHZhbHVlMSwgdmFsdWUyLCBhbW91bnQsIGRhbXApIHtcbiAgICAgICAgcmV0dXJuIG1hdGhmLmxlcnAodmFsdWUxLCB2YWx1ZTIsIDEgLSBNYXRoLmV4cCgtYW1vdW50ICogZGFtcCkpO1xuICAgIH1cbiAgICBzdGF0aWMgZWFzZShzdGFydCwgZW5kLCBwcm9ncmVzcywgZWFzZUZ1bmN0aW9uID0gZWFzZV8xLkVBU0UubGluZWFyKSB7XG4gICAgICAgIHJldHVybiBtYXRoZi5sZXJwRWFzZShzdGFydCwgZW5kLCBwcm9ncmVzcywgZWFzZUZ1bmN0aW9uKTtcbiAgICB9XG4gICAgc3RhdGljIHdyYXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBtYXggLSBtaW47XG4gICAgICAgIHJldHVybiAobWluICsgKCgoKHZhbHVlIC0gbWluKSAlIGRpZmYpICsgZGlmZikgJSBkaWZmKSk7XG4gICAgfVxuICAgIHN0YXRpYyBjYWxjdWxhdGVCYWNrZ3JvdW5kQ292ZXIocGFyZW50Qm94LCBjaGlsZEJveCkge1xuICAgICAgICBjb25zdCBwYXJlbnRSYXRpbyA9IG1hdGhmLmFzcGVjdFJhdGlvKHBhcmVudEJveCk7XG4gICAgICAgIGNvbnN0IGNoaWxkUmF0aW8gPSBtYXRoZi5hc3BlY3RSYXRpbyhjaGlsZEJveCk7XG4gICAgICAgIGxldCBmaW5hbFdpZHRoO1xuICAgICAgICBsZXQgZmluYWxIZWlnaHQ7XG4gICAgICAgIGxldCBzY2FsZTtcbiAgICAgICAgaWYgKGNoaWxkUmF0aW8gPj0gcGFyZW50UmF0aW8pIHtcbiAgICAgICAgICAgIGZpbmFsSGVpZ2h0ID0gcGFyZW50Qm94LmhlaWdodDtcbiAgICAgICAgICAgIHNjYWxlID0gcGFyZW50Qm94LmhlaWdodCAvIGNoaWxkQm94LmhlaWdodDtcbiAgICAgICAgICAgIGZpbmFsV2lkdGggPSBjaGlsZEJveC53aWR0aCAqIHNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmluYWxXaWR0aCA9IHBhcmVudEJveC53aWR0aDtcbiAgICAgICAgICAgIHNjYWxlID0gcGFyZW50Qm94LndpZHRoIC8gY2hpbGRCb3gud2lkdGg7XG4gICAgICAgICAgICBmaW5hbEhlaWdodCA9IGNoaWxkQm94LmhlaWdodCAqIHNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpbmFsU2NhbGUgPSBNYXRoLm1heCgoZmluYWxXaWR0aCAvIGNoaWxkQm94LndpZHRoKSwgKGZpbmFsSGVpZ2h0IC8gY2hpbGRCb3guaGVpZ2h0KSk7XG4gICAgICAgIGNvbnN0IG9mZnNldEhlaWdodCA9IG1hdGhmLmFic1plcm8oLU1hdGgucm91bmQoKHBhcmVudEJveC5oZWlnaHQgLSBmaW5hbEhlaWdodCkgLyAyKSk7XG4gICAgICAgIGNvbnN0IG9mZnNldFdpZHRoID0gbWF0aGYuYWJzWmVybygtTWF0aC5yb3VuZCgocGFyZW50Qm94LndpZHRoIC0gZmluYWxXaWR0aCkgLyAyKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogTWF0aC5yb3VuZChmaW5hbFdpZHRoKSxcbiAgICAgICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChmaW5hbEhlaWdodCksXG4gICAgICAgICAgICB4T2Zmc2V0OiBvZmZzZXRXaWR0aCxcbiAgICAgICAgICAgIHlPZmZzZXQ6IG9mZnNldEhlaWdodCxcbiAgICAgICAgICAgIHNjYWxhcjogZmluYWxTY2FsZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgY2FsY3VsYXRlQmFja2dyb3VuZENvbnRhaW4ocGFyZW50Qm94LCBjaGlsZEJveCkge1xuICAgICAgICBsZXQgcHcgPSBwYXJlbnRCb3gud2lkdGg7XG4gICAgICAgIGxldCBwaCA9IHBhcmVudEJveC5oZWlnaHQ7XG4gICAgICAgIGxldCBjdyA9IGNoaWxkQm94LndpZHRoO1xuICAgICAgICBsZXQgY2ggPSBjaGlsZEJveC5oZWlnaHQ7XG4gICAgICAgIGxldCBoZWlnaHRTY2FsZSA9IHBhcmVudEJveC5oZWlnaHQgLyBjaGlsZEJveC5oZWlnaHQ7XG4gICAgICAgIGxldCB3aWR0aFNjYWxlID0gcGFyZW50Qm94LndpZHRoIC8gY2hpbGRCb3gud2lkdGg7XG4gICAgICAgIGxldCBzY2FsZSA9IE1hdGgubWluKGhlaWdodFNjYWxlLCB3aWR0aFNjYWxlKTtcbiAgICAgICAgcmV0dXJuIHNjYWxlO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bXB0b3RpY0F2ZXJhZ2UoY3VycmVudCwgdGFyZ2V0LCBhbW91bnQpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQgKz0gKHRhcmdldCAtIGN1cnJlbnQpICogYW1vdW50O1xuICAgIH1cbiAgICBzdGF0aWMgc21vb3RoU3RhcnQyKHQpIHtcbiAgICAgICAgcmV0dXJuIHQgKiB0O1xuICAgIH1cbiAgICBzdGF0aWMgc21vb3RoU3RvcDIodCkge1xuICAgICAgICByZXR1cm4gMSAtICgoMSAtIHQpICogKDEgLSB0KSk7XG4gICAgfVxuICAgIHN0YXRpYyBzbW9vdGhTdGFydDModCkge1xuICAgICAgICByZXR1cm4gdCAqIHQgKiB0O1xuICAgIH1cbiAgICBzdGF0aWMgc21vb3RoU3RvcDModCkge1xuICAgICAgICByZXR1cm4gMSAtICgoMSAtIHQpICogKDEgLSB0KSAqICgxIC0gdCkpO1xuICAgIH1cbiAgICBzdGF0aWMgc21vb3RoU3RlcDIodmFsdWUsIG1peCwgdCkge1xuICAgICAgICByZXR1cm4gbWF0aGYubGVycChtYXRoZi5zbW9vdGhTdGFydDIodmFsdWUpLCBtYXRoZi5zbW9vdGhTdG9wMih2YWx1ZSksIG1peCkgKiB0O1xuICAgIH1cbiAgICBzdGF0aWMgc2lnbW9pZCh2YWx1ZSwgbWl4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNtb290aFN0ZXAyKHZhbHVlLCBtaXgsIHZhbHVlKTtcbiAgICB9XG4gICAgc3RhdGljIHJlbWFwKG1pbkEsIG1heEEsIG1pbkIsIG1heEIsIHZhbHVlQikge1xuICAgICAgICBjb25zdCB0ID0gbWF0aGYuaW52ZXJzZUxlcnAobWluQiwgbWF4QiwgdmFsdWVCKTtcbiAgICAgICAgcmV0dXJuIG1hdGhmLmxlcnAobWluQSwgbWF4QSwgdCk7XG4gICAgfVxufVxubWF0aGYuZ2VuZXJhdGVSYW5kb21Qb2ludHMgPSAobnVtLCBtaW5YLCBtYXhYLCBtaW5ZLCBtYXhZKSA9PiB7XG4gICAgY29uc3QgcG9pbnRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW07IGkrKykge1xuICAgICAgICBwb2ludHMucHVzaCh7XG4gICAgICAgICAgICB4OiBtYXRoZi5nZXRSYW5kb21JbnQobWluWCwgbWF4WCksXG4gICAgICAgICAgICB5OiBtYXRoZi5nZXRSYW5kb21JbnQobWluWSwgbWF4WSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBwb2ludHM7XG59O1xuZXhwb3J0cy5tYXRoZiA9IG1hdGhmO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/mathf/mathf.js\n");

/***/ }),

/***/ "./lib/mathf/matrixIV.js":
/*!*******************************!*\
  !*** ./lib/mathf/matrixIV.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vector_1 = __webpack_require__(/*! ./vector */ \"./lib/mathf/vector.js\");\nclass MatrixIV {\n    constructor(matrix) {\n        this.value = new Float32Array(16);\n        this.identity();\n        if (matrix) {\n            this.copy(matrix);\n        }\n        else {\n            this.identity();\n        }\n    }\n    identity() {\n        this.value[0] = 1;\n        this.value[1] = 0;\n        this.value[2] = 0;\n        this.value[3] = 0;\n        this.value[4] = 0;\n        this.value[5] = 1;\n        this.value[6] = 0;\n        this.value[7] = 0;\n        this.value[8] = 0;\n        this.value[9] = 0;\n        this.value[10] = 1;\n        this.value[11] = 0;\n        this.value[12] = 0;\n        this.value[13] = 0;\n        this.value[14] = 0;\n        this.value[15] = 1;\n        return this;\n    }\n    zero() {\n        this.value[0] = 0;\n        this.value[1] = 0;\n        this.value[2] = 0;\n        this.value[3] = 0;\n        this.value[4] = 0;\n        this.value[5] = 0;\n        this.value[6] = 0;\n        this.value[7] = 0;\n        this.value[8] = 0;\n        this.value[9] = 0;\n        this.value[10] = 0;\n        this.value[11] = 0;\n        this.value[12] = 0;\n        this.value[13] = 0;\n        this.value[14] = 0;\n        this.value[15] = 0;\n        return this;\n    }\n    clone() {\n        return new MatrixIV(this);\n    }\n    copy(matrix4) {\n        this.value = matrix4.value.slice(0);\n        return this;\n    }\n    setVectorColumn(column, v) {\n        this.value[1 * column] = v.x;\n        this.value[1 * column + 4] = v.y;\n        this.value[1 * column + 8] = v.z;\n    }\n    scaleXyz(x, y, z) {\n        this.value[0] = this.value[0] * x;\n        this.value[1] = this.value[1] * x;\n        this.value[2] = this.value[2] * x;\n        this.value[3] = this.value[3] * x;\n        this.value[4] = this.value[4] * y;\n        this.value[5] = this.value[5] * y;\n        this.value[6] = this.value[6] * y;\n        this.value[7] = this.value[7] * y;\n        this.value[8] = this.value[8] * z;\n        this.value[9] = this.value[9] * z;\n        this.value[10] = this.value[10] * z;\n        this.value[11] = this.value[11] * z;\n        return this;\n    }\n    scale(v) {\n        return this.scaleXyz(v.x, v.y, v.z);\n    }\n    translateXyz(x, y, z) {\n        this.value[12] = this.value[0] * x + this.value[4] * y +\n            this.value[8] * z + this.value[12];\n        this.value[13] = this.value[1] * x + this.value[5] * y +\n            this.value[9] * z + this.value[13];\n        this.value[14] = this.value[2] * x + this.value[6] * y +\n            this.value[10] * z + this.value[14];\n        this.value[15] = this.value[3] * x + this.value[7] * y +\n            this.value[11] * z + this.value[15];\n        return this;\n    }\n    translate(v) {\n        return this.translateXyz(v.x, v.y, v.z);\n    }\n    toCss3dMatrix() {\n        const a1 = this.value[0];\n        const a2 = this.value[1];\n        const a3 = this.value[2];\n        const a4 = this.value[3];\n        const b1 = this.value[4];\n        const b2 = this.value[5];\n        const b3 = this.value[6];\n        const b4 = this.value[7];\n        const c1 = this.value[8];\n        const c2 = this.value[9];\n        const c3 = this.value[10];\n        const c4 = this.value[11];\n        const d1 = this.value[12];\n        const d2 = this.value[13];\n        const d3 = this.value[14];\n        const d4 = this.value[15];\n        return `matrix3d(${a1}, ${b1}, ${c1}, ${d1}, ${a2}, ${b2},\n            ${c2}, ${d2}, ${a3}, ${b3}, ${c3}, ${d3}, ${a4}, ${b4}, ${c4}, ${d4})`;\n    }\n    multiply(mat) {\n        var a00 = this.value[0];\n        var a01 = this.value[1];\n        var a02 = this.value[2];\n        var a03 = this.value[3];\n        var a10 = this.value[4];\n        var a11 = this.value[5];\n        var a12 = this.value[6];\n        var a13 = this.value[7];\n        var a20 = this.value[8];\n        var a21 = this.value[9];\n        var a22 = this.value[10];\n        var a23 = this.value[11];\n        var a30 = this.value[12];\n        var a31 = this.value[13];\n        var a32 = this.value[14];\n        var a33 = this.value[15];\n        var b = mat.value;\n        var b0 = b[0];\n        var b1 = b[1];\n        var b2 = b[2];\n        var b3 = b[3];\n        this.value[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n        this.value[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n        this.value[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n        this.value[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n        b0 = b[4];\n        b1 = b[5];\n        b2 = b[6];\n        b3 = b[7];\n        this.value[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n        this.value[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n        this.value[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n        this.value[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n        b0 = b[8];\n        b1 = b[9];\n        b2 = b[10];\n        b3 = b[11];\n        this.value[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n        this.value[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n        this.value[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n        this.value[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n        b0 = b[12];\n        b1 = b[13];\n        b2 = b[14];\n        b3 = b[15];\n        this.value[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n        this.value[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n        this.value[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n        this.value[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n        return this;\n    }\n    multiplyBy4x1(x, y, z, w = 1) {\n        let a = this.value;\n        return [\n            a[0] * x + a[1] * y + a[2] * z + a[3] * w,\n            a[4] * x + a[5] * y + a[6] * z + a[7] * w,\n            a[8] * x + a[9] * y + a[10] * z + a[11] * w,\n            a[12] * x + a[13] * y + a[14] * z + a[15] * w\n        ];\n    }\n    multiplyByVector(v, w = 1) {\n        let result = this.multiplyBy4x1(v.x, v.y, v.z, w);\n        return new vector_1.Vector(result[0], result[1], result[2]);\n    }\n    rotate(angle, axis) {\n        let mg = axis.magnitude();\n        if (!mg) {\n            return null;\n        }\n        let a = axis.x, b = axis.y, c = axis.z;\n        if (mg != 1) {\n            mg = 1 / mg;\n            a *= mg;\n            b *= mg;\n            c *= mg;\n        }\n        const d = Math.sin(angle), e = Math.cos(angle), f = 1 - e, g = this.value[0], h = this.value[1], i = this.value[2], j = this.value[3], k = this.value[4], l = this.value[5], m = this.value[6], n = this.value[7], o = this.value[8], p = this.value[9], q = this.value[10], r = this.value[11], s = a * a * f + e, t = b * a * f + c * d, u = c * a * f - b * d, v = a * b * f - c * d, w = b * b * f + e, x = c * b * f + a * d, y = a * c * f + b * d, z = b * c * f - a * d, A = c * c * f + e;\n        this.value[12] = this.value[12];\n        this.value[13] = this.value[13];\n        this.value[14] = this.value[14];\n        this.value[15] = this.value[15];\n        this.value[0] = g * s + k * t + o * u;\n        this.value[1] = h * s + l * t + p * u;\n        this.value[2] = i * s + m * t + q * u;\n        this.value[3] = j * s + n * t + r * u;\n        this.value[4] = g * v + k * w + o * x;\n        this.value[5] = h * v + l * w + p * x;\n        this.value[6] = i * v + m * w + q * x;\n        this.value[7] = j * v + n * w + r * x;\n        this.value[8] = g * y + k * z + o * A;\n        this.value[9] = h * y + l * z + p * A;\n        this.value[10] = i * y + m * z + q * A;\n        this.value[11] = j * y + n * z + r * A;\n        return this;\n    }\n    rotateX(angle) {\n        this.rotate(angle, new vector_1.Vector(1, 0, 0));\n        return this;\n    }\n    rotateY(angle) {\n        this.rotate(angle, new vector_1.Vector(0, 1, 0));\n        return this;\n    }\n    rotateZ(angle) {\n        this.rotate(angle, new vector_1.Vector(0, 0, 1));\n        return this;\n    }\n    lookAt(eye, center, up = vector_1.Vector.UP) {\n        var eyex = eye.x;\n        var eyey = eye.y;\n        var eyez = eye.z;\n        var upx = up.x;\n        var upy = up.y;\n        var upz = up.z;\n        var centerx = center.x;\n        var centery = center.y;\n        var centerz = center.z;\n        if (Math.abs(eyex - centerx) < 0.00001 &&\n            Math.abs(eyey - centery) < 0.00001 &&\n            Math.abs(eyez - centerz) < 0.00001) {\n            return MatrixIV.IDENTITY;\n        }\n        var z0 = eyex - centerx;\n        var z1 = eyey - centery;\n        var z2 = eyez - centerz;\n        let len = 1 / Math.hypot(z0, z1, z2);\n        z0 *= len;\n        z1 *= len;\n        z2 *= len;\n        var x0 = upy * z2 - upz * z1;\n        var x1 = upz * z0 - upx * z2;\n        var x2 = upx * z1 - upy * z0;\n        len = Math.hypot(x0, x1, x2);\n        if (!len) {\n            x0 = 0;\n            x1 = 0;\n            x2 = 0;\n        }\n        else {\n            len = 1 / len;\n            x0 *= len;\n            x1 *= len;\n            x2 *= len;\n        }\n        var y0 = z1 * x2 - z2 * x1;\n        var y1 = z2 * x0 - z0 * x2;\n        var y2 = z0 * x1 - z1 * x0;\n        len = Math.hypot(y0, y1, y2);\n        if (!len) {\n            y0 = 0;\n            y1 = 0;\n            y2 = 0;\n        }\n        else {\n            len = 1 / len;\n            y0 *= len;\n            y1 *= len;\n            y2 *= len;\n        }\n        this.value[0] = x0;\n        this.value[1] = y0;\n        this.value[2] = z0;\n        this.value[3] = 0;\n        this.value[4] = x1;\n        this.value[5] = y1;\n        this.value[6] = z1;\n        this.value[7] = 0;\n        this.value[8] = x2;\n        this.value[9] = y2;\n        this.value[10] = z2;\n        this.value[11] = 0;\n        this.value[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n        this.value[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n        this.value[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n        this.value[15] = 1;\n        return this;\n    }\n    perspective(fov, aspect, near, far) {\n        let f = 1.0 / Math.tan(fov / 2);\n        let nf;\n        this.value[0] = f / aspect;\n        this.value[1] = 0;\n        this.value[2] = 0;\n        this.value[3] = 0;\n        this.value[4] = 0;\n        this.value[5] = f;\n        this.value[6] = 0;\n        this.value[7] = 0;\n        this.value[8] = 0;\n        this.value[9] = 0;\n        this.value[11] = -1;\n        this.value[12] = 0;\n        this.value[13] = 0;\n        this.value[15] = 0;\n        if (far != null && far !== Infinity) {\n            nf = 1 / (near - far);\n            this.value[10] = (far + near) * nf;\n            this.value[14] = (2 * far * near) * nf;\n        }\n        else {\n            this.value[10] = -1;\n            this.value[14] = -2 * near;\n        }\n        return this;\n    }\n    ypr(yaw, pitch, roll) {\n        this.zero();\n        let temp = new MatrixIV().zero();\n        let temp2 = new MatrixIV().zero();\n        var m0 = this.value;\n        var m1 = temp.value;\n        var m2 = temp2.value;\n        var s = Math.sin(roll);\n        var c = Math.cos(roll);\n        m0[10] = 1;\n        m0[15] = 1;\n        m0[0] = c;\n        m0[1] = s;\n        m0[4] = -s;\n        m0[5] = c;\n        s = Math.sin(pitch);\n        c = Math.cos(pitch);\n        m1[0] = 1;\n        m1[15] = 1;\n        m1[5] = c;\n        m1[10] = c;\n        m1[9] = -s;\n        m1[6] = s;\n        s = Math.sin(yaw);\n        c = Math.cos(yaw);\n        m2[5] = 1;\n        m2[15] = 1;\n        m2[0] = c;\n        m2[2] = -s;\n        m2[8] = s;\n        m2[10] = c;\n        this.multiply(temp);\n        this.multiply(temp2);\n        return this;\n    }\n    fromArray(values) {\n        this.value = values;\n        return this;\n    }\n    static fromArray(values) {\n        return MatrixIV.IDENTITY.fromArray(values);\n    }\n    static fromQuaternion(q) {\n        let x = q.x, y = q.y, z = q.z, w = q.w;\n        let x2 = x + x;\n        let y2 = y + y;\n        let z2 = z + z;\n        let xx = x * x2;\n        let yx = y * x2;\n        let yy = y * y2;\n        let zx = z * x2;\n        let zy = z * y2;\n        let zz = z * z2;\n        let wx = w * x2;\n        let wy = w * y2;\n        let wz = w * z2;\n        let out = [];\n        out[0] = 1 - yy - zz;\n        out[1] = yx + wz;\n        out[2] = zx - wy;\n        out[3] = 0;\n        out[4] = yx - wz;\n        out[5] = 1 - xx - zz;\n        out[6] = zy + wx;\n        out[7] = 0;\n        out[8] = zx + wy;\n        out[9] = zy - wx;\n        out[10] = 1 - xx - yy;\n        out[11] = 0;\n        out[12] = 0;\n        out[13] = 0;\n        out[14] = 0;\n        out[15] = 1;\n        return MatrixIV.fromArray(new Float32Array(out));\n    }\n    static compose(position, rotation, scale) {\n        var out = [];\n        var x = rotation.x, y = rotation.y, z = rotation.z, w = rotation.w;\n        var x2 = x + x, y2 = y + y, z2 = z + z;\n        var xx = x * x2, xy = x * y2, xz = x * z2;\n        var yy = y * y2, yz = y * z2, zz = z * z2;\n        var wx = w * x2, wy = w * y2, wz = w * z2;\n        var sx = scale.x, sy = scale.y, sz = scale.z;\n        out[0] = (1 - (yy + zz)) * sx;\n        out[1] = (xy + wz) * sx;\n        out[2] = (xz - wy) * sx;\n        out[3] = 0;\n        out[4] = (xy - wz) * sy;\n        out[5] = (1 - (xx + zz)) * sy;\n        out[6] = (yz + wx) * sy;\n        out[7] = 0;\n        out[8] = (xz + wy) * sz;\n        out[9] = (yz - wx) * sz;\n        out[10] = (1 - (xx + yy)) * sz;\n        out[11] = 0;\n        out[12] = position.x;\n        out[13] = position.y;\n        out[14] = position.z;\n        out[15] = 1;\n        return new MatrixIV().fromArray(new Float32Array(out));\n    }\n    static get IDENTITY() {\n        return new MatrixIV().identity();\n    }\n    static get _() {\n        return new MatrixIV().identity();\n    }\n}\nexports.MatrixIV = MatrixIV;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvbWF0cml4SVYuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvbWF0aGYvbWF0cml4SVYuanM/NGYyNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHZlY3Rvcl8xID0gcmVxdWlyZShcIi4vdmVjdG9yXCIpO1xuY2xhc3MgTWF0cml4SVYge1xuICAgIGNvbnN0cnVjdG9yKG1hdHJpeCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gbmV3IEZsb2F0MzJBcnJheSgxNik7XG4gICAgICAgIHRoaXMuaWRlbnRpdHkoKTtcbiAgICAgICAgaWYgKG1hdHJpeCkge1xuICAgICAgICAgICAgdGhpcy5jb3B5KG1hdHJpeCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlkZW50aXR5KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWRlbnRpdHkoKSB7XG4gICAgICAgIHRoaXMudmFsdWVbMF0gPSAxO1xuICAgICAgICB0aGlzLnZhbHVlWzFdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVsyXSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbM10gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzRdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVs1XSA9IDE7XG4gICAgICAgIHRoaXMudmFsdWVbNl0gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzddID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVs4XSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbOV0gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzEwXSA9IDE7XG4gICAgICAgIHRoaXMudmFsdWVbMTFdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVsxMl0gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzEzXSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbMTRdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVsxNV0gPSAxO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgemVybygpIHtcbiAgICAgICAgdGhpcy52YWx1ZVswXSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbMV0gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzJdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVszXSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbNF0gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzVdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVs2XSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbN10gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzhdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVs5XSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbMTBdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVsxMV0gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzEyXSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbMTNdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVsxNF0gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzE1XSA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXhJVih0aGlzKTtcbiAgICB9XG4gICAgY29weShtYXRyaXg0KSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBtYXRyaXg0LnZhbHVlLnNsaWNlKDApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0VmVjdG9yQ29sdW1uKGNvbHVtbiwgdikge1xuICAgICAgICB0aGlzLnZhbHVlWzEgKiBjb2x1bW5dID0gdi54O1xuICAgICAgICB0aGlzLnZhbHVlWzEgKiBjb2x1bW4gKyA0XSA9IHYueTtcbiAgICAgICAgdGhpcy52YWx1ZVsxICogY29sdW1uICsgOF0gPSB2Lno7XG4gICAgfVxuICAgIHNjYWxlWHl6KHgsIHksIHopIHtcbiAgICAgICAgdGhpcy52YWx1ZVswXSA9IHRoaXMudmFsdWVbMF0gKiB4O1xuICAgICAgICB0aGlzLnZhbHVlWzFdID0gdGhpcy52YWx1ZVsxXSAqIHg7XG4gICAgICAgIHRoaXMudmFsdWVbMl0gPSB0aGlzLnZhbHVlWzJdICogeDtcbiAgICAgICAgdGhpcy52YWx1ZVszXSA9IHRoaXMudmFsdWVbM10gKiB4O1xuICAgICAgICB0aGlzLnZhbHVlWzRdID0gdGhpcy52YWx1ZVs0XSAqIHk7XG4gICAgICAgIHRoaXMudmFsdWVbNV0gPSB0aGlzLnZhbHVlWzVdICogeTtcbiAgICAgICAgdGhpcy52YWx1ZVs2XSA9IHRoaXMudmFsdWVbNl0gKiB5O1xuICAgICAgICB0aGlzLnZhbHVlWzddID0gdGhpcy52YWx1ZVs3XSAqIHk7XG4gICAgICAgIHRoaXMudmFsdWVbOF0gPSB0aGlzLnZhbHVlWzhdICogejtcbiAgICAgICAgdGhpcy52YWx1ZVs5XSA9IHRoaXMudmFsdWVbOV0gKiB6O1xuICAgICAgICB0aGlzLnZhbHVlWzEwXSA9IHRoaXMudmFsdWVbMTBdICogejtcbiAgICAgICAgdGhpcy52YWx1ZVsxMV0gPSB0aGlzLnZhbHVlWzExXSAqIHo7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzY2FsZSh2KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYWxlWHl6KHYueCwgdi55LCB2LnopO1xuICAgIH1cbiAgICB0cmFuc2xhdGVYeXooeCwgeSwgeikge1xuICAgICAgICB0aGlzLnZhbHVlWzEyXSA9IHRoaXMudmFsdWVbMF0gKiB4ICsgdGhpcy52YWx1ZVs0XSAqIHkgK1xuICAgICAgICAgICAgdGhpcy52YWx1ZVs4XSAqIHogKyB0aGlzLnZhbHVlWzEyXTtcbiAgICAgICAgdGhpcy52YWx1ZVsxM10gPSB0aGlzLnZhbHVlWzFdICogeCArIHRoaXMudmFsdWVbNV0gKiB5ICtcbiAgICAgICAgICAgIHRoaXMudmFsdWVbOV0gKiB6ICsgdGhpcy52YWx1ZVsxM107XG4gICAgICAgIHRoaXMudmFsdWVbMTRdID0gdGhpcy52YWx1ZVsyXSAqIHggKyB0aGlzLnZhbHVlWzZdICogeSArXG4gICAgICAgICAgICB0aGlzLnZhbHVlWzEwXSAqIHogKyB0aGlzLnZhbHVlWzE0XTtcbiAgICAgICAgdGhpcy52YWx1ZVsxNV0gPSB0aGlzLnZhbHVlWzNdICogeCArIHRoaXMudmFsdWVbN10gKiB5ICtcbiAgICAgICAgICAgIHRoaXMudmFsdWVbMTFdICogeiArIHRoaXMudmFsdWVbMTVdO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdHJhbnNsYXRlKHYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlWHl6KHYueCwgdi55LCB2LnopO1xuICAgIH1cbiAgICB0b0NzczNkTWF0cml4KCkge1xuICAgICAgICBjb25zdCBhMSA9IHRoaXMudmFsdWVbMF07XG4gICAgICAgIGNvbnN0IGEyID0gdGhpcy52YWx1ZVsxXTtcbiAgICAgICAgY29uc3QgYTMgPSB0aGlzLnZhbHVlWzJdO1xuICAgICAgICBjb25zdCBhNCA9IHRoaXMudmFsdWVbM107XG4gICAgICAgIGNvbnN0IGIxID0gdGhpcy52YWx1ZVs0XTtcbiAgICAgICAgY29uc3QgYjIgPSB0aGlzLnZhbHVlWzVdO1xuICAgICAgICBjb25zdCBiMyA9IHRoaXMudmFsdWVbNl07XG4gICAgICAgIGNvbnN0IGI0ID0gdGhpcy52YWx1ZVs3XTtcbiAgICAgICAgY29uc3QgYzEgPSB0aGlzLnZhbHVlWzhdO1xuICAgICAgICBjb25zdCBjMiA9IHRoaXMudmFsdWVbOV07XG4gICAgICAgIGNvbnN0IGMzID0gdGhpcy52YWx1ZVsxMF07XG4gICAgICAgIGNvbnN0IGM0ID0gdGhpcy52YWx1ZVsxMV07XG4gICAgICAgIGNvbnN0IGQxID0gdGhpcy52YWx1ZVsxMl07XG4gICAgICAgIGNvbnN0IGQyID0gdGhpcy52YWx1ZVsxM107XG4gICAgICAgIGNvbnN0IGQzID0gdGhpcy52YWx1ZVsxNF07XG4gICAgICAgIGNvbnN0IGQ0ID0gdGhpcy52YWx1ZVsxNV07XG4gICAgICAgIHJldHVybiBgbWF0cml4M2QoJHthMX0sICR7YjF9LCAke2MxfSwgJHtkMX0sICR7YTJ9LCAke2IyfSxcbiAgICAgICAgICAgICR7YzJ9LCAke2QyfSwgJHthM30sICR7YjN9LCAke2MzfSwgJHtkM30sICR7YTR9LCAke2I0fSwgJHtjNH0sICR7ZDR9KWA7XG4gICAgfVxuICAgIG11bHRpcGx5KG1hdCkge1xuICAgICAgICB2YXIgYTAwID0gdGhpcy52YWx1ZVswXTtcbiAgICAgICAgdmFyIGEwMSA9IHRoaXMudmFsdWVbMV07XG4gICAgICAgIHZhciBhMDIgPSB0aGlzLnZhbHVlWzJdO1xuICAgICAgICB2YXIgYTAzID0gdGhpcy52YWx1ZVszXTtcbiAgICAgICAgdmFyIGExMCA9IHRoaXMudmFsdWVbNF07XG4gICAgICAgIHZhciBhMTEgPSB0aGlzLnZhbHVlWzVdO1xuICAgICAgICB2YXIgYTEyID0gdGhpcy52YWx1ZVs2XTtcbiAgICAgICAgdmFyIGExMyA9IHRoaXMudmFsdWVbN107XG4gICAgICAgIHZhciBhMjAgPSB0aGlzLnZhbHVlWzhdO1xuICAgICAgICB2YXIgYTIxID0gdGhpcy52YWx1ZVs5XTtcbiAgICAgICAgdmFyIGEyMiA9IHRoaXMudmFsdWVbMTBdO1xuICAgICAgICB2YXIgYTIzID0gdGhpcy52YWx1ZVsxMV07XG4gICAgICAgIHZhciBhMzAgPSB0aGlzLnZhbHVlWzEyXTtcbiAgICAgICAgdmFyIGEzMSA9IHRoaXMudmFsdWVbMTNdO1xuICAgICAgICB2YXIgYTMyID0gdGhpcy52YWx1ZVsxNF07XG4gICAgICAgIHZhciBhMzMgPSB0aGlzLnZhbHVlWzE1XTtcbiAgICAgICAgdmFyIGIgPSBtYXQudmFsdWU7XG4gICAgICAgIHZhciBiMCA9IGJbMF07XG4gICAgICAgIHZhciBiMSA9IGJbMV07XG4gICAgICAgIHZhciBiMiA9IGJbMl07XG4gICAgICAgIHZhciBiMyA9IGJbM107XG4gICAgICAgIHRoaXMudmFsdWVbMF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgICAgICAgdGhpcy52YWx1ZVsxXSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICAgICAgICB0aGlzLnZhbHVlWzJdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gICAgICAgIHRoaXMudmFsdWVbM10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgICAgICAgYjAgPSBiWzRdO1xuICAgICAgICBiMSA9IGJbNV07XG4gICAgICAgIGIyID0gYls2XTtcbiAgICAgICAgYjMgPSBiWzddO1xuICAgICAgICB0aGlzLnZhbHVlWzRdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gICAgICAgIHRoaXMudmFsdWVbNV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgICAgICAgdGhpcy52YWx1ZVs2XSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICAgICAgICB0aGlzLnZhbHVlWzddID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gICAgICAgIGIwID0gYls4XTtcbiAgICAgICAgYjEgPSBiWzldO1xuICAgICAgICBiMiA9IGJbMTBdO1xuICAgICAgICBiMyA9IGJbMTFdO1xuICAgICAgICB0aGlzLnZhbHVlWzhdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gICAgICAgIHRoaXMudmFsdWVbOV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgICAgICAgdGhpcy52YWx1ZVsxMF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgICAgICAgdGhpcy52YWx1ZVsxMV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgICAgICAgYjAgPSBiWzEyXTtcbiAgICAgICAgYjEgPSBiWzEzXTtcbiAgICAgICAgYjIgPSBiWzE0XTtcbiAgICAgICAgYjMgPSBiWzE1XTtcbiAgICAgICAgdGhpcy52YWx1ZVsxMl0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgICAgICAgdGhpcy52YWx1ZVsxM10gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgICAgICAgdGhpcy52YWx1ZVsxNF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgICAgICAgdGhpcy52YWx1ZVsxNV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIG11bHRpcGx5Qnk0eDEoeCwgeSwgeiwgdyA9IDEpIHtcbiAgICAgICAgbGV0IGEgPSB0aGlzLnZhbHVlO1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgYVswXSAqIHggKyBhWzFdICogeSArIGFbMl0gKiB6ICsgYVszXSAqIHcsXG4gICAgICAgICAgICBhWzRdICogeCArIGFbNV0gKiB5ICsgYVs2XSAqIHogKyBhWzddICogdyxcbiAgICAgICAgICAgIGFbOF0gKiB4ICsgYVs5XSAqIHkgKyBhWzEwXSAqIHogKyBhWzExXSAqIHcsXG4gICAgICAgICAgICBhWzEyXSAqIHggKyBhWzEzXSAqIHkgKyBhWzE0XSAqIHogKyBhWzE1XSAqIHdcbiAgICAgICAgXTtcbiAgICB9XG4gICAgbXVsdGlwbHlCeVZlY3Rvcih2LCB3ID0gMSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5tdWx0aXBseUJ5NHgxKHYueCwgdi55LCB2LnosIHcpO1xuICAgICAgICByZXR1cm4gbmV3IHZlY3Rvcl8xLlZlY3RvcihyZXN1bHRbMF0sIHJlc3VsdFsxXSwgcmVzdWx0WzJdKTtcbiAgICB9XG4gICAgcm90YXRlKGFuZ2xlLCBheGlzKSB7XG4gICAgICAgIGxldCBtZyA9IGF4aXMubWFnbml0dWRlKCk7XG4gICAgICAgIGlmICghbWcpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhID0gYXhpcy54LCBiID0gYXhpcy55LCBjID0gYXhpcy56O1xuICAgICAgICBpZiAobWcgIT0gMSkge1xuICAgICAgICAgICAgbWcgPSAxIC8gbWc7XG4gICAgICAgICAgICBhICo9IG1nO1xuICAgICAgICAgICAgYiAqPSBtZztcbiAgICAgICAgICAgIGMgKj0gbWc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZCA9IE1hdGguc2luKGFuZ2xlKSwgZSA9IE1hdGguY29zKGFuZ2xlKSwgZiA9IDEgLSBlLCBnID0gdGhpcy52YWx1ZVswXSwgaCA9IHRoaXMudmFsdWVbMV0sIGkgPSB0aGlzLnZhbHVlWzJdLCBqID0gdGhpcy52YWx1ZVszXSwgayA9IHRoaXMudmFsdWVbNF0sIGwgPSB0aGlzLnZhbHVlWzVdLCBtID0gdGhpcy52YWx1ZVs2XSwgbiA9IHRoaXMudmFsdWVbN10sIG8gPSB0aGlzLnZhbHVlWzhdLCBwID0gdGhpcy52YWx1ZVs5XSwgcSA9IHRoaXMudmFsdWVbMTBdLCByID0gdGhpcy52YWx1ZVsxMV0sIHMgPSBhICogYSAqIGYgKyBlLCB0ID0gYiAqIGEgKiBmICsgYyAqIGQsIHUgPSBjICogYSAqIGYgLSBiICogZCwgdiA9IGEgKiBiICogZiAtIGMgKiBkLCB3ID0gYiAqIGIgKiBmICsgZSwgeCA9IGMgKiBiICogZiArIGEgKiBkLCB5ID0gYSAqIGMgKiBmICsgYiAqIGQsIHogPSBiICogYyAqIGYgLSBhICogZCwgQSA9IGMgKiBjICogZiArIGU7XG4gICAgICAgIHRoaXMudmFsdWVbMTJdID0gdGhpcy52YWx1ZVsxMl07XG4gICAgICAgIHRoaXMudmFsdWVbMTNdID0gdGhpcy52YWx1ZVsxM107XG4gICAgICAgIHRoaXMudmFsdWVbMTRdID0gdGhpcy52YWx1ZVsxNF07XG4gICAgICAgIHRoaXMudmFsdWVbMTVdID0gdGhpcy52YWx1ZVsxNV07XG4gICAgICAgIHRoaXMudmFsdWVbMF0gPSBnICogcyArIGsgKiB0ICsgbyAqIHU7XG4gICAgICAgIHRoaXMudmFsdWVbMV0gPSBoICogcyArIGwgKiB0ICsgcCAqIHU7XG4gICAgICAgIHRoaXMudmFsdWVbMl0gPSBpICogcyArIG0gKiB0ICsgcSAqIHU7XG4gICAgICAgIHRoaXMudmFsdWVbM10gPSBqICogcyArIG4gKiB0ICsgciAqIHU7XG4gICAgICAgIHRoaXMudmFsdWVbNF0gPSBnICogdiArIGsgKiB3ICsgbyAqIHg7XG4gICAgICAgIHRoaXMudmFsdWVbNV0gPSBoICogdiArIGwgKiB3ICsgcCAqIHg7XG4gICAgICAgIHRoaXMudmFsdWVbNl0gPSBpICogdiArIG0gKiB3ICsgcSAqIHg7XG4gICAgICAgIHRoaXMudmFsdWVbN10gPSBqICogdiArIG4gKiB3ICsgciAqIHg7XG4gICAgICAgIHRoaXMudmFsdWVbOF0gPSBnICogeSArIGsgKiB6ICsgbyAqIEE7XG4gICAgICAgIHRoaXMudmFsdWVbOV0gPSBoICogeSArIGwgKiB6ICsgcCAqIEE7XG4gICAgICAgIHRoaXMudmFsdWVbMTBdID0gaSAqIHkgKyBtICogeiArIHEgKiBBO1xuICAgICAgICB0aGlzLnZhbHVlWzExXSA9IGogKiB5ICsgbiAqIHogKyByICogQTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJvdGF0ZVgoYW5nbGUpIHtcbiAgICAgICAgdGhpcy5yb3RhdGUoYW5nbGUsIG5ldyB2ZWN0b3JfMS5WZWN0b3IoMSwgMCwgMCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcm90YXRlWShhbmdsZSkge1xuICAgICAgICB0aGlzLnJvdGF0ZShhbmdsZSwgbmV3IHZlY3Rvcl8xLlZlY3RvcigwLCAxLCAwKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByb3RhdGVaKGFuZ2xlKSB7XG4gICAgICAgIHRoaXMucm90YXRlKGFuZ2xlLCBuZXcgdmVjdG9yXzEuVmVjdG9yKDAsIDAsIDEpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGxvb2tBdChleWUsIGNlbnRlciwgdXAgPSB2ZWN0b3JfMS5WZWN0b3IuVVApIHtcbiAgICAgICAgdmFyIGV5ZXggPSBleWUueDtcbiAgICAgICAgdmFyIGV5ZXkgPSBleWUueTtcbiAgICAgICAgdmFyIGV5ZXogPSBleWUuejtcbiAgICAgICAgdmFyIHVweCA9IHVwLng7XG4gICAgICAgIHZhciB1cHkgPSB1cC55O1xuICAgICAgICB2YXIgdXB6ID0gdXAuejtcbiAgICAgICAgdmFyIGNlbnRlcnggPSBjZW50ZXIueDtcbiAgICAgICAgdmFyIGNlbnRlcnkgPSBjZW50ZXIueTtcbiAgICAgICAgdmFyIGNlbnRlcnogPSBjZW50ZXIuejtcbiAgICAgICAgaWYgKE1hdGguYWJzKGV5ZXggLSBjZW50ZXJ4KSA8IDAuMDAwMDEgJiZcbiAgICAgICAgICAgIE1hdGguYWJzKGV5ZXkgLSBjZW50ZXJ5KSA8IDAuMDAwMDEgJiZcbiAgICAgICAgICAgIE1hdGguYWJzKGV5ZXogLSBjZW50ZXJ6KSA8IDAuMDAwMDEpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRyaXhJVi5JREVOVElUWTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgejAgPSBleWV4IC0gY2VudGVyeDtcbiAgICAgICAgdmFyIHoxID0gZXlleSAtIGNlbnRlcnk7XG4gICAgICAgIHZhciB6MiA9IGV5ZXogLSBjZW50ZXJ6O1xuICAgICAgICBsZXQgbGVuID0gMSAvIE1hdGguaHlwb3QoejAsIHoxLCB6Mik7XG4gICAgICAgIHowICo9IGxlbjtcbiAgICAgICAgejEgKj0gbGVuO1xuICAgICAgICB6MiAqPSBsZW47XG4gICAgICAgIHZhciB4MCA9IHVweSAqIHoyIC0gdXB6ICogejE7XG4gICAgICAgIHZhciB4MSA9IHVweiAqIHowIC0gdXB4ICogejI7XG4gICAgICAgIHZhciB4MiA9IHVweCAqIHoxIC0gdXB5ICogejA7XG4gICAgICAgIGxlbiA9IE1hdGguaHlwb3QoeDAsIHgxLCB4Mik7XG4gICAgICAgIGlmICghbGVuKSB7XG4gICAgICAgICAgICB4MCA9IDA7XG4gICAgICAgICAgICB4MSA9IDA7XG4gICAgICAgICAgICB4MiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZW4gPSAxIC8gbGVuO1xuICAgICAgICAgICAgeDAgKj0gbGVuO1xuICAgICAgICAgICAgeDEgKj0gbGVuO1xuICAgICAgICAgICAgeDIgKj0gbGVuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB5MCA9IHoxICogeDIgLSB6MiAqIHgxO1xuICAgICAgICB2YXIgeTEgPSB6MiAqIHgwIC0gejAgKiB4MjtcbiAgICAgICAgdmFyIHkyID0gejAgKiB4MSAtIHoxICogeDA7XG4gICAgICAgIGxlbiA9IE1hdGguaHlwb3QoeTAsIHkxLCB5Mik7XG4gICAgICAgIGlmICghbGVuKSB7XG4gICAgICAgICAgICB5MCA9IDA7XG4gICAgICAgICAgICB5MSA9IDA7XG4gICAgICAgICAgICB5MiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZW4gPSAxIC8gbGVuO1xuICAgICAgICAgICAgeTAgKj0gbGVuO1xuICAgICAgICAgICAgeTEgKj0gbGVuO1xuICAgICAgICAgICAgeTIgKj0gbGVuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWVbMF0gPSB4MDtcbiAgICAgICAgdGhpcy52YWx1ZVsxXSA9IHkwO1xuICAgICAgICB0aGlzLnZhbHVlWzJdID0gejA7XG4gICAgICAgIHRoaXMudmFsdWVbM10gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzRdID0geDE7XG4gICAgICAgIHRoaXMudmFsdWVbNV0gPSB5MTtcbiAgICAgICAgdGhpcy52YWx1ZVs2XSA9IHoxO1xuICAgICAgICB0aGlzLnZhbHVlWzddID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVs4XSA9IHgyO1xuICAgICAgICB0aGlzLnZhbHVlWzldID0geTI7XG4gICAgICAgIHRoaXMudmFsdWVbMTBdID0gejI7XG4gICAgICAgIHRoaXMudmFsdWVbMTFdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVsxMl0gPSAtKHgwICogZXlleCArIHgxICogZXlleSArIHgyICogZXlleik7XG4gICAgICAgIHRoaXMudmFsdWVbMTNdID0gLSh5MCAqIGV5ZXggKyB5MSAqIGV5ZXkgKyB5MiAqIGV5ZXopO1xuICAgICAgICB0aGlzLnZhbHVlWzE0XSA9IC0oejAgKiBleWV4ICsgejEgKiBleWV5ICsgejIgKiBleWV6KTtcbiAgICAgICAgdGhpcy52YWx1ZVsxNV0gPSAxO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcGVyc3BlY3RpdmUoZm92LCBhc3BlY3QsIG5lYXIsIGZhcikge1xuICAgICAgICBsZXQgZiA9IDEuMCAvIE1hdGgudGFuKGZvdiAvIDIpO1xuICAgICAgICBsZXQgbmY7XG4gICAgICAgIHRoaXMudmFsdWVbMF0gPSBmIC8gYXNwZWN0O1xuICAgICAgICB0aGlzLnZhbHVlWzFdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVsyXSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbM10gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzRdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVs1XSA9IGY7XG4gICAgICAgIHRoaXMudmFsdWVbNl0gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzddID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVs4XSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbOV0gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzExXSA9IC0xO1xuICAgICAgICB0aGlzLnZhbHVlWzEyXSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbMTNdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVsxNV0gPSAwO1xuICAgICAgICBpZiAoZmFyICE9IG51bGwgJiYgZmFyICE9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICAgICAgICAgICAgdGhpcy52YWx1ZVsxMF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgICAgICAgICAgIHRoaXMudmFsdWVbMTRdID0gKDIgKiBmYXIgKiBuZWFyKSAqIG5mO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52YWx1ZVsxMF0gPSAtMTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVbMTRdID0gLTIgKiBuZWFyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB5cHIoeWF3LCBwaXRjaCwgcm9sbCkge1xuICAgICAgICB0aGlzLnplcm8oKTtcbiAgICAgICAgbGV0IHRlbXAgPSBuZXcgTWF0cml4SVYoKS56ZXJvKCk7XG4gICAgICAgIGxldCB0ZW1wMiA9IG5ldyBNYXRyaXhJVigpLnplcm8oKTtcbiAgICAgICAgdmFyIG0wID0gdGhpcy52YWx1ZTtcbiAgICAgICAgdmFyIG0xID0gdGVtcC52YWx1ZTtcbiAgICAgICAgdmFyIG0yID0gdGVtcDIudmFsdWU7XG4gICAgICAgIHZhciBzID0gTWF0aC5zaW4ocm9sbCk7XG4gICAgICAgIHZhciBjID0gTWF0aC5jb3Mocm9sbCk7XG4gICAgICAgIG0wWzEwXSA9IDE7XG4gICAgICAgIG0wWzE1XSA9IDE7XG4gICAgICAgIG0wWzBdID0gYztcbiAgICAgICAgbTBbMV0gPSBzO1xuICAgICAgICBtMFs0XSA9IC1zO1xuICAgICAgICBtMFs1XSA9IGM7XG4gICAgICAgIHMgPSBNYXRoLnNpbihwaXRjaCk7XG4gICAgICAgIGMgPSBNYXRoLmNvcyhwaXRjaCk7XG4gICAgICAgIG0xWzBdID0gMTtcbiAgICAgICAgbTFbMTVdID0gMTtcbiAgICAgICAgbTFbNV0gPSBjO1xuICAgICAgICBtMVsxMF0gPSBjO1xuICAgICAgICBtMVs5XSA9IC1zO1xuICAgICAgICBtMVs2XSA9IHM7XG4gICAgICAgIHMgPSBNYXRoLnNpbih5YXcpO1xuICAgICAgICBjID0gTWF0aC5jb3MoeWF3KTtcbiAgICAgICAgbTJbNV0gPSAxO1xuICAgICAgICBtMlsxNV0gPSAxO1xuICAgICAgICBtMlswXSA9IGM7XG4gICAgICAgIG0yWzJdID0gLXM7XG4gICAgICAgIG0yWzhdID0gcztcbiAgICAgICAgbTJbMTBdID0gYztcbiAgICAgICAgdGhpcy5tdWx0aXBseSh0ZW1wKTtcbiAgICAgICAgdGhpcy5tdWx0aXBseSh0ZW1wMik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBmcm9tQXJyYXkodmFsdWVzKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUFycmF5KHZhbHVlcykge1xuICAgICAgICByZXR1cm4gTWF0cml4SVYuSURFTlRJVFkuZnJvbUFycmF5KHZhbHVlcyk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tUXVhdGVybmlvbihxKSB7XG4gICAgICAgIGxldCB4ID0gcS54LCB5ID0gcS55LCB6ID0gcS56LCB3ID0gcS53O1xuICAgICAgICBsZXQgeDIgPSB4ICsgeDtcbiAgICAgICAgbGV0IHkyID0geSArIHk7XG4gICAgICAgIGxldCB6MiA9IHogKyB6O1xuICAgICAgICBsZXQgeHggPSB4ICogeDI7XG4gICAgICAgIGxldCB5eCA9IHkgKiB4MjtcbiAgICAgICAgbGV0IHl5ID0geSAqIHkyO1xuICAgICAgICBsZXQgenggPSB6ICogeDI7XG4gICAgICAgIGxldCB6eSA9IHogKiB5MjtcbiAgICAgICAgbGV0IHp6ID0geiAqIHoyO1xuICAgICAgICBsZXQgd3ggPSB3ICogeDI7XG4gICAgICAgIGxldCB3eSA9IHcgKiB5MjtcbiAgICAgICAgbGV0IHd6ID0gdyAqIHoyO1xuICAgICAgICBsZXQgb3V0ID0gW107XG4gICAgICAgIG91dFswXSA9IDEgLSB5eSAtIHp6O1xuICAgICAgICBvdXRbMV0gPSB5eCArIHd6O1xuICAgICAgICBvdXRbMl0gPSB6eCAtIHd5O1xuICAgICAgICBvdXRbM10gPSAwO1xuICAgICAgICBvdXRbNF0gPSB5eCAtIHd6O1xuICAgICAgICBvdXRbNV0gPSAxIC0geHggLSB6ejtcbiAgICAgICAgb3V0WzZdID0genkgKyB3eDtcbiAgICAgICAgb3V0WzddID0gMDtcbiAgICAgICAgb3V0WzhdID0genggKyB3eTtcbiAgICAgICAgb3V0WzldID0genkgLSB3eDtcbiAgICAgICAgb3V0WzEwXSA9IDEgLSB4eCAtIHl5O1xuICAgICAgICBvdXRbMTFdID0gMDtcbiAgICAgICAgb3V0WzEyXSA9IDA7XG4gICAgICAgIG91dFsxM10gPSAwO1xuICAgICAgICBvdXRbMTRdID0gMDtcbiAgICAgICAgb3V0WzE1XSA9IDE7XG4gICAgICAgIHJldHVybiBNYXRyaXhJVi5mcm9tQXJyYXkobmV3IEZsb2F0MzJBcnJheShvdXQpKTtcbiAgICB9XG4gICAgc3RhdGljIGNvbXBvc2UocG9zaXRpb24sIHJvdGF0aW9uLCBzY2FsZSkge1xuICAgICAgICB2YXIgb3V0ID0gW107XG4gICAgICAgIHZhciB4ID0gcm90YXRpb24ueCwgeSA9IHJvdGF0aW9uLnksIHogPSByb3RhdGlvbi56LCB3ID0gcm90YXRpb24udztcbiAgICAgICAgdmFyIHgyID0geCArIHgsIHkyID0geSArIHksIHoyID0geiArIHo7XG4gICAgICAgIHZhciB4eCA9IHggKiB4MiwgeHkgPSB4ICogeTIsIHh6ID0geCAqIHoyO1xuICAgICAgICB2YXIgeXkgPSB5ICogeTIsIHl6ID0geSAqIHoyLCB6eiA9IHogKiB6MjtcbiAgICAgICAgdmFyIHd4ID0gdyAqIHgyLCB3eSA9IHcgKiB5Miwgd3ogPSB3ICogejI7XG4gICAgICAgIHZhciBzeCA9IHNjYWxlLngsIHN5ID0gc2NhbGUueSwgc3ogPSBzY2FsZS56O1xuICAgICAgICBvdXRbMF0gPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcbiAgICAgICAgb3V0WzFdID0gKHh5ICsgd3opICogc3g7XG4gICAgICAgIG91dFsyXSA9ICh4eiAtIHd5KSAqIHN4O1xuICAgICAgICBvdXRbM10gPSAwO1xuICAgICAgICBvdXRbNF0gPSAoeHkgLSB3eikgKiBzeTtcbiAgICAgICAgb3V0WzVdID0gKDEgLSAoeHggKyB6eikpICogc3k7XG4gICAgICAgIG91dFs2XSA9ICh5eiArIHd4KSAqIHN5O1xuICAgICAgICBvdXRbN10gPSAwO1xuICAgICAgICBvdXRbOF0gPSAoeHogKyB3eSkgKiBzejtcbiAgICAgICAgb3V0WzldID0gKHl6IC0gd3gpICogc3o7XG4gICAgICAgIG91dFsxMF0gPSAoMSAtICh4eCArIHl5KSkgKiBzejtcbiAgICAgICAgb3V0WzExXSA9IDA7XG4gICAgICAgIG91dFsxMl0gPSBwb3NpdGlvbi54O1xuICAgICAgICBvdXRbMTNdID0gcG9zaXRpb24ueTtcbiAgICAgICAgb3V0WzE0XSA9IHBvc2l0aW9uLno7XG4gICAgICAgIG91dFsxNV0gPSAxO1xuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeElWKCkuZnJvbUFycmF5KG5ldyBGbG9hdDMyQXJyYXkob3V0KSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgSURFTlRJVFkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4SVYoKS5pZGVudGl0eSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IF8oKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4SVYoKS5pZGVudGl0eSgpO1xuICAgIH1cbn1cbmV4cG9ydHMuTWF0cml4SVYgPSBNYXRyaXhJVjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/mathf/matrixIV.js\n");

/***/ }),

/***/ "./lib/mathf/perlin-noise.js":
/*!***********************************!*\
  !*** ./lib/mathf/perlin-noise.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass PerlinNoise {\n    static noise3(x, y, z = 0) {\n        var fade = (t) => { return t * t * t * (t * (t * 6 - 15) + 10); };\n        var lerp = (t, a, b) => { return a + t * (b - a); };\n        var grad = (hash, x, y, z) => {\n            var h = hash & 15;\n            var u = h < 8 ? x : y, v = h < 4 ? y : h == 12 || h == 14 ? x : z;\n            return ((h & 1) == 0 ? u : -u) + ((h & 2) == 0 ? v : -v);\n        };\n        var scale = (n) => { return (1 + n) / 2; };\n        var p = new Array(512);\n        var permutation = [151, 160, 137, 91, 90, 15,\n            131, 13, 201, 95, 96, 53, 194, 233, 7, 225, 140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10, 23,\n            190, 6, 148, 247, 120, 234, 75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177, 33,\n            88, 237, 149, 56, 87, 174, 20, 125, 136, 171, 168, 68, 175, 74, 165, 71, 134, 139, 48, 27, 166,\n            77, 146, 158, 231, 83, 111, 229, 122, 60, 211, 133, 230, 220, 105, 92, 41, 55, 46, 245, 40, 244,\n            102, 143, 54, 65, 25, 63, 161, 1, 216, 80, 73, 209, 76, 132, 187, 208, 89, 18, 169, 200, 196,\n            135, 130, 116, 188, 159, 86, 164, 100, 109, 198, 173, 186, 3, 64, 52, 217, 226, 250, 124, 123,\n            5, 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206, 59, 227, 47, 16, 58, 17, 182, 189, 28, 42,\n            223, 183, 170, 213, 119, 248, 152, 2, 44, 154, 163, 70, 221, 153, 101, 155, 167, 43, 172, 9,\n            129, 22, 39, 253, 19, 98, 108, 110, 79, 113, 224, 232, 178, 185, 112, 104, 218, 246, 97, 228,\n            251, 34, 242, 193, 238, 210, 144, 12, 191, 179, 162, 241, 81, 51, 145, 235, 249, 14, 239, 107,\n            49, 192, 214, 31, 181, 199, 106, 157, 184, 84, 204, 176, 115, 121, 50, 45, 127, 4, 150, 254,\n            138, 236, 205, 93, 222, 114, 67, 29, 24, 72, 243, 141, 128, 195, 78, 66, 215, 61, 156, 180\n        ];\n        for (var i = 0; i < 256; i++)\n            p[256 + i] = p[i] = permutation[i];\n        var X = Math.floor(x) & 255, Y = Math.floor(y) & 255, Z = Math.floor(z) & 255;\n        x -= Math.floor(x);\n        y -= Math.floor(y);\n        z -= Math.floor(z);\n        var u = fade(x), v = fade(y), w = fade(z);\n        var A = p[X] + Y, AA = p[A] + Z, AB = p[A + 1] + Z, B = p[X + 1] + Y, BA = p[B] + Z, BB = p[B + 1] + Z;\n        return scale(lerp(w, lerp(v, lerp(u, grad(p[AA], x, y, z), grad(p[BA], x - 1, y, z)), lerp(u, grad(p[AB], x, y - 1, z), grad(p[BB], x - 1, y - 1, z))), lerp(v, lerp(u, grad(p[AA + 1], x, y, z - 1), grad(p[BA + 1], x - 1, y, z - 1)), lerp(u, grad(p[AB + 1], x, y - 1, z - 1), grad(p[BB + 1], x - 1, y - 1, z - 1)))));\n    }\n}\nexports.PerlinNoise = PerlinNoise;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvcGVybGluLW5vaXNlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL21hdGhmL3Blcmxpbi1ub2lzZS5qcz8xY2U3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY2xhc3MgUGVybGluTm9pc2Uge1xuICAgIHN0YXRpYyBub2lzZTMoeCwgeSwgeiA9IDApIHtcbiAgICAgICAgdmFyIGZhZGUgPSAodCkgPT4geyByZXR1cm4gdCAqIHQgKiB0ICogKHQgKiAodCAqIDYgLSAxNSkgKyAxMCk7IH07XG4gICAgICAgIHZhciBsZXJwID0gKHQsIGEsIGIpID0+IHsgcmV0dXJuIGEgKyB0ICogKGIgLSBhKTsgfTtcbiAgICAgICAgdmFyIGdyYWQgPSAoaGFzaCwgeCwgeSwgeikgPT4ge1xuICAgICAgICAgICAgdmFyIGggPSBoYXNoICYgMTU7XG4gICAgICAgICAgICB2YXIgdSA9IGggPCA4ID8geCA6IHksIHYgPSBoIDwgNCA/IHkgOiBoID09IDEyIHx8IGggPT0gMTQgPyB4IDogejtcbiAgICAgICAgICAgIHJldHVybiAoKGggJiAxKSA9PSAwID8gdSA6IC11KSArICgoaCAmIDIpID09IDAgPyB2IDogLXYpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgc2NhbGUgPSAobikgPT4geyByZXR1cm4gKDEgKyBuKSAvIDI7IH07XG4gICAgICAgIHZhciBwID0gbmV3IEFycmF5KDUxMik7XG4gICAgICAgIHZhciBwZXJtdXRhdGlvbiA9IFsxNTEsIDE2MCwgMTM3LCA5MSwgOTAsIDE1LFxuICAgICAgICAgICAgMTMxLCAxMywgMjAxLCA5NSwgOTYsIDUzLCAxOTQsIDIzMywgNywgMjI1LCAxNDAsIDM2LCAxMDMsIDMwLCA2OSwgMTQyLCA4LCA5OSwgMzcsIDI0MCwgMjEsIDEwLCAyMyxcbiAgICAgICAgICAgIDE5MCwgNiwgMTQ4LCAyNDcsIDEyMCwgMjM0LCA3NSwgMCwgMjYsIDE5NywgNjIsIDk0LCAyNTIsIDIxOSwgMjAzLCAxMTcsIDM1LCAxMSwgMzIsIDU3LCAxNzcsIDMzLFxuICAgICAgICAgICAgODgsIDIzNywgMTQ5LCA1NiwgODcsIDE3NCwgMjAsIDEyNSwgMTM2LCAxNzEsIDE2OCwgNjgsIDE3NSwgNzQsIDE2NSwgNzEsIDEzNCwgMTM5LCA0OCwgMjcsIDE2NixcbiAgICAgICAgICAgIDc3LCAxNDYsIDE1OCwgMjMxLCA4MywgMTExLCAyMjksIDEyMiwgNjAsIDIxMSwgMTMzLCAyMzAsIDIyMCwgMTA1LCA5MiwgNDEsIDU1LCA0NiwgMjQ1LCA0MCwgMjQ0LFxuICAgICAgICAgICAgMTAyLCAxNDMsIDU0LCA2NSwgMjUsIDYzLCAxNjEsIDEsIDIxNiwgODAsIDczLCAyMDksIDc2LCAxMzIsIDE4NywgMjA4LCA4OSwgMTgsIDE2OSwgMjAwLCAxOTYsXG4gICAgICAgICAgICAxMzUsIDEzMCwgMTE2LCAxODgsIDE1OSwgODYsIDE2NCwgMTAwLCAxMDksIDE5OCwgMTczLCAxODYsIDMsIDY0LCA1MiwgMjE3LCAyMjYsIDI1MCwgMTI0LCAxMjMsXG4gICAgICAgICAgICA1LCAyMDIsIDM4LCAxNDcsIDExOCwgMTI2LCAyNTUsIDgyLCA4NSwgMjEyLCAyMDcsIDIwNiwgNTksIDIyNywgNDcsIDE2LCA1OCwgMTcsIDE4MiwgMTg5LCAyOCwgNDIsXG4gICAgICAgICAgICAyMjMsIDE4MywgMTcwLCAyMTMsIDExOSwgMjQ4LCAxNTIsIDIsIDQ0LCAxNTQsIDE2MywgNzAsIDIyMSwgMTUzLCAxMDEsIDE1NSwgMTY3LCA0MywgMTcyLCA5LFxuICAgICAgICAgICAgMTI5LCAyMiwgMzksIDI1MywgMTksIDk4LCAxMDgsIDExMCwgNzksIDExMywgMjI0LCAyMzIsIDE3OCwgMTg1LCAxMTIsIDEwNCwgMjE4LCAyNDYsIDk3LCAyMjgsXG4gICAgICAgICAgICAyNTEsIDM0LCAyNDIsIDE5MywgMjM4LCAyMTAsIDE0NCwgMTIsIDE5MSwgMTc5LCAxNjIsIDI0MSwgODEsIDUxLCAxNDUsIDIzNSwgMjQ5LCAxNCwgMjM5LCAxMDcsXG4gICAgICAgICAgICA0OSwgMTkyLCAyMTQsIDMxLCAxODEsIDE5OSwgMTA2LCAxNTcsIDE4NCwgODQsIDIwNCwgMTc2LCAxMTUsIDEyMSwgNTAsIDQ1LCAxMjcsIDQsIDE1MCwgMjU0LFxuICAgICAgICAgICAgMTM4LCAyMzYsIDIwNSwgOTMsIDIyMiwgMTE0LCA2NywgMjksIDI0LCA3MiwgMjQzLCAxNDEsIDEyOCwgMTk1LCA3OCwgNjYsIDIxNSwgNjEsIDE1NiwgMTgwXG4gICAgICAgIF07XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyBpKyspXG4gICAgICAgICAgICBwWzI1NiArIGldID0gcFtpXSA9IHBlcm11dGF0aW9uW2ldO1xuICAgICAgICB2YXIgWCA9IE1hdGguZmxvb3IoeCkgJiAyNTUsIFkgPSBNYXRoLmZsb29yKHkpICYgMjU1LCBaID0gTWF0aC5mbG9vcih6KSAmIDI1NTtcbiAgICAgICAgeCAtPSBNYXRoLmZsb29yKHgpO1xuICAgICAgICB5IC09IE1hdGguZmxvb3IoeSk7XG4gICAgICAgIHogLT0gTWF0aC5mbG9vcih6KTtcbiAgICAgICAgdmFyIHUgPSBmYWRlKHgpLCB2ID0gZmFkZSh5KSwgdyA9IGZhZGUoeik7XG4gICAgICAgIHZhciBBID0gcFtYXSArIFksIEFBID0gcFtBXSArIFosIEFCID0gcFtBICsgMV0gKyBaLCBCID0gcFtYICsgMV0gKyBZLCBCQSA9IHBbQl0gKyBaLCBCQiA9IHBbQiArIDFdICsgWjtcbiAgICAgICAgcmV0dXJuIHNjYWxlKGxlcnAodywgbGVycCh2LCBsZXJwKHUsIGdyYWQocFtBQV0sIHgsIHksIHopLCBncmFkKHBbQkFdLCB4IC0gMSwgeSwgeikpLCBsZXJwKHUsIGdyYWQocFtBQl0sIHgsIHkgLSAxLCB6KSwgZ3JhZChwW0JCXSwgeCAtIDEsIHkgLSAxLCB6KSkpLCBsZXJwKHYsIGxlcnAodSwgZ3JhZChwW0FBICsgMV0sIHgsIHksIHogLSAxKSwgZ3JhZChwW0JBICsgMV0sIHggLSAxLCB5LCB6IC0gMSkpLCBsZXJwKHUsIGdyYWQocFtBQiArIDFdLCB4LCB5IC0gMSwgeiAtIDEpLCBncmFkKHBbQkIgKyAxXSwgeCAtIDEsIHkgLSAxLCB6IC0gMSkpKSkpO1xuICAgIH1cbn1cbmV4cG9ydHMuUGVybGluTm9pc2UgPSBQZXJsaW5Ob2lzZTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/mathf/perlin-noise.js\n");

/***/ }),

/***/ "./lib/mathf/quaternion.js":
/*!*********************************!*\
  !*** ./lib/mathf/quaternion.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mathf_1 = __webpack_require__(/*! ./mathf */ \"./lib/mathf/mathf.js\");\nconst matrixIV_1 = __webpack_require__(/*! ./matrixIV */ \"./lib/mathf/matrixIV.js\");\nconst vector_1 = __webpack_require__(/*! ./vector */ \"./lib/mathf/vector.js\");\nclass Quaternion {\n    constructor(x = 0, y = 0, z = 0, w = 1) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n    }\n    clone() {\n        return new Quaternion(this.x, this.y, this.z, this.w);\n    }\n    set(x = 0, y = 0, z = 0, w = 1) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n        return this;\n    }\n    add(q) {\n        return Quaternion.add(this.clone(), q);\n    }\n    static add(q1, q2) {\n        const x = q1.x + q2.x;\n        const y = q1.y + q2.y;\n        const z = q1.z + q2.z;\n        const w = q1.w + q2.w;\n        return new Quaternion(x, y, z, w);\n    }\n    addEuler(x, y, z) {\n        x = mathf_1.mathf.degreeToRadian(x);\n        y = mathf_1.mathf.degreeToRadian(y);\n        z = mathf_1.mathf.degreeToRadian(z);\n        let q = Quaternion.fromEuler(x, y, z);\n        this.multiply(q);\n        return this;\n    }\n    subtract(q) {\n        this.x -= q.x;\n        this.y -= q.y;\n        this.z -= q.z;\n        this.w -= q.w;\n        return this;\n    }\n    static subtract(q1, q2) {\n        const x = q1.x - q2.x;\n        const y = q1.y - q2.y;\n        const z = q1.z - q2.z;\n        const w = q1.w - q2.w;\n        return new Quaternion(x, y, z, w);\n    }\n    static multiply(a, b) {\n        let ax = a.x, ay = a.y, az = a.z, aw = a.w;\n        let bx = b.x, by = b.y, bz = b.z, bw = b.w;\n        let out = Quaternion.IDENTITY;\n        out.x = ax * bw + aw * bx + ay * bz - az * by;\n        out.y = ay * bw + aw * by + az * bx - ax * bz;\n        out.z = az * bw + aw * bz + ax * by - ay * bx;\n        out.w = aw * bw - ax * bx - ay * by - az * bz;\n        return out;\n    }\n    multiply(a) {\n        let n = Quaternion.multiply(this, a);\n        this.copy(n);\n        return this;\n    }\n    scale(scalar) {\n        if (isFinite(scalar)) {\n            this.x *= scalar;\n            this.y *= scalar;\n            this.z *= scalar;\n            this.w *= scalar;\n            return this;\n        }\n        else {\n            return Quaternion.ZERO;\n        }\n    }\n    length() {\n        const x = this.x;\n        const y = this.y;\n        const z = this.z;\n        const w = this.w;\n        return Math.sqrt(x * x + y * y + z * z + w * w);\n    }\n    lengthSquared() {\n        const x = this.x;\n        const y = this.y;\n        const z = this.z;\n        const w = this.w;\n        return x * x + y * y + z * z + w * w;\n    }\n    magnitude() {\n        return this.length();\n    }\n    normalize() {\n        const x = this.x;\n        const y = this.y;\n        const z = this.z;\n        const w = this.w;\n        let len = x * x + y * y + z * z + w * w;\n        if (len > 0) {\n            len = 1 / Math.sqrt(len);\n            this.x = x * len;\n            this.y = y * len;\n            this.z = z * len;\n            this.w = w * len;\n        }\n        return this;\n    }\n    dot(q) {\n        return this.x * q.x + this.y * q.y + this.z * q.z + this.w * q.w;\n    }\n    lerp(q, progress) {\n        this.x = mathf_1.mathf.lerp(this.x, q.x, progress);\n        this.y = mathf_1.mathf.lerp(this.y, q.y, progress);\n        this.z = mathf_1.mathf.lerp(this.z, q.z, progress);\n        this.w = mathf_1.mathf.lerp(this.w, q.z, progress);\n        return this;\n    }\n    slerpEuler(x, y, z, progress) {\n        let target = Quaternion.fromEuler(x, y, z);\n        this.slerp(target, progress);\n        return this;\n    }\n    slerpEulerVector(v, progress) {\n        return this.slerpEuler(v.x, v.y, v.z, progress);\n    }\n    slerp(q, progress) {\n        const EPSILON = 0.000001;\n        const ax = this.x;\n        const ay = this.y;\n        const az = this.z;\n        var aw = this.w;\n        var bx = q.x;\n        var by = q.y;\n        var bz = q.z;\n        var bw = q.w;\n        var cosom = ax * bx + ay * by + az * bz + aw * bw;\n        if (cosom < 0) {\n            cosom = -cosom;\n            bx = -bx;\n            by = -by;\n            bz = -bz;\n            bw = -bw;\n        }\n        let s0 = 1 - progress;\n        let s1 = progress;\n        if ((1 - cosom) > EPSILON) {\n            var omega = Math.acos(cosom);\n            var sinom = Math.sin(omega);\n            s0 = Math.sin((1.0 - progress) * omega) / sinom;\n            s1 = Math.sin(progress * omega) / sinom;\n        }\n        this.x = s0 * ax + s1 * bx;\n        this.y = s0 * ay + s1 * by;\n        this.z = s0 * az + s1 * bz;\n        this.w = s0 * aw + s1 * bw;\n        return this;\n    }\n    invert() {\n        const a0 = this.x;\n        const a1 = this.y;\n        const a2 = this.z;\n        const a3 = this.w;\n        const dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n        const invDot = (dot) ? 1 / dot : 0;\n        this.x = -a0 * invDot;\n        this.y = -a1 * invDot;\n        this.z = -a2 * invDot;\n        this.w = a3 * invDot;\n        return this;\n    }\n    rotateX(degree) {\n        let q1 = Quaternion.IDENTITY.angleAxis(mathf_1.mathf.degreeToRadian(degree), vector_1.Vector.RIGHT);\n        return this.multiply(q1);\n    }\n    rotateY(degree) {\n        let q1 = Quaternion.IDENTITY.angleAxis(mathf_1.mathf.degreeToRadian(degree), vector_1.Vector.UP);\n        return this.multiply(q1);\n    }\n    rotateZ(degree) {\n        let q1 = Quaternion.IDENTITY.angleAxis(mathf_1.mathf.degreeToRadian(degree), vector_1.Vector.FORWARD);\n        return this.multiply(q1);\n    }\n    copy(q) {\n        this.x = q.x;\n        this.y = q.y;\n        this.z = q.z;\n        this.w = q.w;\n        return this;\n    }\n    conjugate() {\n        this.x = -this.x;\n        this.y = -this.y;\n        this.z = -this.z;\n        return this;\n    }\n    static fromEuler(x, y, z) {\n        x = mathf_1.mathf.degreeToRadian(x);\n        y = mathf_1.mathf.degreeToRadian(y);\n        z = mathf_1.mathf.degreeToRadian(z);\n        var cos = Math.cos;\n        var sin = Math.sin;\n        var c1 = cos(x / 2);\n        var c2 = cos(y / 2);\n        var c3 = cos(z / 2);\n        var s1 = sin(x / 2);\n        var s2 = sin(y / 2);\n        var s3 = sin(z / 2);\n        let rx = s1 * c2 * c3 + c1 * s2 * s3;\n        let ry = c1 * s2 * c3 - s1 * c2 * s3;\n        let rz = c1 * c2 * s3 + s1 * s2 * c3;\n        let rw = c1 * c2 * c3 - s1 * s2 * s3;\n        return new Quaternion(rx, ry, rz, rw);\n    }\n    static fromEulerVector(v) {\n        return Quaternion.fromEuler(v.x, v.y, v.z);\n    }\n    static toEulerVector(q) {\n        let result = vector_1.Vector.ZERO;\n        let matrix = matrixIV_1.MatrixIV.fromQuaternion(q.clone());\n        result = vector_1.Vector.fromRotationMatrixIV(matrix);\n        return result;\n    }\n    angleAxis(rad, axis) {\n        rad = rad * 0.5;\n        var s = Math.sin(rad);\n        this.x = s * axis.x;\n        this.y = s * axis.y;\n        this.z = s * axis.z;\n        this.w = Math.cos(rad);\n        return this;\n    }\n    static fromRotationMatrixIV(m) {\n        let q = Quaternion.IDENTITY;\n        var a00 = m.value[0];\n        var a01 = m.value[1];\n        var a02 = m.value[2];\n        var a03 = m.value[3];\n        var a10 = m.value[4];\n        var a11 = m.value[5];\n        var a12 = m.value[6];\n        var a13 = m.value[7];\n        var a20 = m.value[8];\n        var a21 = m.value[9];\n        var a22 = m.value[10];\n        var a23 = m.value[11];\n        var a30 = m.value[12];\n        var a31 = m.value[13];\n        var a32 = m.value[14];\n        var a33 = m.value[15];\n        let t;\n        if (a22 < 0) {\n            if (a00 > a11) {\n                t = 1 + a00 - a11 - a22;\n                q = new Quaternion(t, a01 + a10, a20 + a02, a12 - a21);\n            }\n            else {\n                t = 1 - a00 + a11 - a22;\n                q = new Quaternion(a01 + a10, t, a12 + a21, a20 - a02);\n            }\n        }\n        else {\n            if (a00 < -a11) {\n                t = 1 - a00 - a11 + a22;\n                q = new Quaternion(a20 + a02, a12 + a21, t, a01 - a10);\n            }\n            else {\n                t = 1 + a00 + a11 + a22;\n                q = new Quaternion(a12 - a21, a20 - a02, a01 - a10, t);\n            }\n        }\n        q.scale(0.5 / Math.sqrt(t));\n        return q;\n    }\n    static fromArray(values) {\n        return new Quaternion(values[0], values[1], values[2], values[3]);\n    }\n    toFixed(numberOfDecimals) {\n        return new Quaternion(mathf_1.mathf.toFixed(mathf_1.mathf.absZero(this.x), numberOfDecimals), mathf_1.mathf.toFixed(mathf_1.mathf.absZero(this.y), numberOfDecimals), mathf_1.mathf.toFixed(mathf_1.mathf.absZero(this.z), numberOfDecimals), mathf_1.mathf.toFixed(mathf_1.mathf.absZero(this.w), numberOfDecimals));\n    }\n    static rotateTo(source, target, up) {\n        var m = matrixIV_1.MatrixIV.IDENTITY;\n        m.lookAt(target, source, up);\n        var temp = m.value;\n        var m00 = temp[0], m10 = temp[1], m20 = temp[2], m01 = temp[5], m11 = temp[6], m21 = temp[7], m02 = temp[9], m12 = temp[10], m22 = temp[11];\n        var t = m00 + m11 + m22, s, x, y, z, w;\n        if (t > 0) {\n            s = Math.sqrt(t + 1) * 2;\n            w = 0.25 * s;\n            x = (m21 - m12) / s;\n            y = (m02 - m20) / s;\n            z = (m10 - m01) / s;\n        }\n        else if ((m00 > m11) && (m00 > m22)) {\n            s = Math.sqrt(1.0 + m00 - m11 - m22) * 2;\n            x = s * 0.25;\n            y = (m10 + m01) / s;\n            z = (m02 + m20) / s;\n            w = (m21 - m12) / s;\n        }\n        else if (m11 > m22) {\n            s = Math.sqrt(1.0 + m11 - m00 - m22) * 2;\n            y = s * 0.25;\n            x = (m10 + m01) / s;\n            z = (m21 + m12) / s;\n            w = (m02 - m20) / s;\n        }\n        else {\n            s = Math.sqrt(1.0 + m22 - m00 - m11) * 2;\n            z = s * 0.25;\n            x = (m02 + m20) / s;\n            y = (m21 + m12) / s;\n            w = (m10 - m01) / s;\n        }\n        var rotation = new Quaternion(x, y, z, w);\n        rotation.normalize();\n        return rotation;\n    }\n    static get ZERO() {\n        return new Quaternion(0, 0, 0, 0);\n    }\n    static get I() {\n        return new Quaternion(0, 1, 0, 0);\n    }\n    static get J() {\n        return new Quaternion(0, 0, 1, 0);\n    }\n    static get K() {\n        return new Quaternion(0, 0, 0, 1);\n    }\n    static get IDENTITY() {\n        return new Quaternion(0, 0, 0, 1);\n    }\n    static get ONE() {\n        return new Quaternion(1, 1, 1);\n    }\n}\nexports.Quaternion = Quaternion;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvcXVhdGVybmlvbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9tYXRoZi9xdWF0ZXJuaW9uLmpzPzU4NDAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBtYXRoZl8xID0gcmVxdWlyZShcIi4vbWF0aGZcIik7XG5jb25zdCBtYXRyaXhJVl8xID0gcmVxdWlyZShcIi4vbWF0cml4SVZcIik7XG5jb25zdCB2ZWN0b3JfMSA9IHJlcXVpcmUoXCIuL3ZlY3RvclwiKTtcbmNsYXNzIFF1YXRlcm5pb24ge1xuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgeiA9IDAsIHcgPSAxKSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMueiA9IHo7XG4gICAgICAgIHRoaXMudyA9IHc7XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24odGhpcy54LCB0aGlzLnksIHRoaXMueiwgdGhpcy53KTtcbiAgICB9XG4gICAgc2V0KHggPSAwLCB5ID0gMCwgeiA9IDAsIHcgPSAxKSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMueiA9IHo7XG4gICAgICAgIHRoaXMudyA9IHc7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBhZGQocSkge1xuICAgICAgICByZXR1cm4gUXVhdGVybmlvbi5hZGQodGhpcy5jbG9uZSgpLCBxKTtcbiAgICB9XG4gICAgc3RhdGljIGFkZChxMSwgcTIpIHtcbiAgICAgICAgY29uc3QgeCA9IHExLnggKyBxMi54O1xuICAgICAgICBjb25zdCB5ID0gcTEueSArIHEyLnk7XG4gICAgICAgIGNvbnN0IHogPSBxMS56ICsgcTIuejtcbiAgICAgICAgY29uc3QgdyA9IHExLncgKyBxMi53O1xuICAgICAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24oeCwgeSwgeiwgdyk7XG4gICAgfVxuICAgIGFkZEV1bGVyKHgsIHksIHopIHtcbiAgICAgICAgeCA9IG1hdGhmXzEubWF0aGYuZGVncmVlVG9SYWRpYW4oeCk7XG4gICAgICAgIHkgPSBtYXRoZl8xLm1hdGhmLmRlZ3JlZVRvUmFkaWFuKHkpO1xuICAgICAgICB6ID0gbWF0aGZfMS5tYXRoZi5kZWdyZWVUb1JhZGlhbih6KTtcbiAgICAgICAgbGV0IHEgPSBRdWF0ZXJuaW9uLmZyb21FdWxlcih4LCB5LCB6KTtcbiAgICAgICAgdGhpcy5tdWx0aXBseShxKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHN1YnRyYWN0KHEpIHtcbiAgICAgICAgdGhpcy54IC09IHEueDtcbiAgICAgICAgdGhpcy55IC09IHEueTtcbiAgICAgICAgdGhpcy56IC09IHEuejtcbiAgICAgICAgdGhpcy53IC09IHEudztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHN0YXRpYyBzdWJ0cmFjdChxMSwgcTIpIHtcbiAgICAgICAgY29uc3QgeCA9IHExLnggLSBxMi54O1xuICAgICAgICBjb25zdCB5ID0gcTEueSAtIHEyLnk7XG4gICAgICAgIGNvbnN0IHogPSBxMS56IC0gcTIuejtcbiAgICAgICAgY29uc3QgdyA9IHExLncgLSBxMi53O1xuICAgICAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24oeCwgeSwgeiwgdyk7XG4gICAgfVxuICAgIHN0YXRpYyBtdWx0aXBseShhLCBiKSB7XG4gICAgICAgIGxldCBheCA9IGEueCwgYXkgPSBhLnksIGF6ID0gYS56LCBhdyA9IGEudztcbiAgICAgICAgbGV0IGJ4ID0gYi54LCBieSA9IGIueSwgYnogPSBiLnosIGJ3ID0gYi53O1xuICAgICAgICBsZXQgb3V0ID0gUXVhdGVybmlvbi5JREVOVElUWTtcbiAgICAgICAgb3V0LnggPSBheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5O1xuICAgICAgICBvdXQueSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYno7XG4gICAgICAgIG91dC56ID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieDtcbiAgICAgICAgb3V0LncgPSBhdyAqIGJ3IC0gYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6O1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBtdWx0aXBseShhKSB7XG4gICAgICAgIGxldCBuID0gUXVhdGVybmlvbi5tdWx0aXBseSh0aGlzLCBhKTtcbiAgICAgICAgdGhpcy5jb3B5KG4pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2NhbGUoc2NhbGFyKSB7XG4gICAgICAgIGlmIChpc0Zpbml0ZShzY2FsYXIpKSB7XG4gICAgICAgICAgICB0aGlzLnggKj0gc2NhbGFyO1xuICAgICAgICAgICAgdGhpcy55ICo9IHNjYWxhcjtcbiAgICAgICAgICAgIHRoaXMueiAqPSBzY2FsYXI7XG4gICAgICAgICAgICB0aGlzLncgKj0gc2NhbGFyO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUXVhdGVybmlvbi5aRVJPO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxlbmd0aCgpIHtcbiAgICAgICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICAgICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICAgICAgY29uc3QgeiA9IHRoaXMuejtcbiAgICAgICAgY29uc3QgdyA9IHRoaXMudztcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdyk7XG4gICAgfVxuICAgIGxlbmd0aFNxdWFyZWQoKSB7XG4gICAgICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgICAgIGNvbnN0IHkgPSB0aGlzLnk7XG4gICAgICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnc7XG4gICAgICAgIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdztcbiAgICB9XG4gICAgbWFnbml0dWRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZW5ndGgoKTtcbiAgICB9XG4gICAgbm9ybWFsaXplKCkge1xuICAgICAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgICAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgICAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgICAgICBjb25zdCB3ID0gdGhpcy53O1xuICAgICAgICBsZXQgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XG4gICAgICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICAgICAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgICAgICAgICB0aGlzLnggPSB4ICogbGVuO1xuICAgICAgICAgICAgdGhpcy55ID0geSAqIGxlbjtcbiAgICAgICAgICAgIHRoaXMueiA9IHogKiBsZW47XG4gICAgICAgICAgICB0aGlzLncgPSB3ICogbGVuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkb3QocSkge1xuICAgICAgICByZXR1cm4gdGhpcy54ICogcS54ICsgdGhpcy55ICogcS55ICsgdGhpcy56ICogcS56ICsgdGhpcy53ICogcS53O1xuICAgIH1cbiAgICBsZXJwKHEsIHByb2dyZXNzKSB7XG4gICAgICAgIHRoaXMueCA9IG1hdGhmXzEubWF0aGYubGVycCh0aGlzLngsIHEueCwgcHJvZ3Jlc3MpO1xuICAgICAgICB0aGlzLnkgPSBtYXRoZl8xLm1hdGhmLmxlcnAodGhpcy55LCBxLnksIHByb2dyZXNzKTtcbiAgICAgICAgdGhpcy56ID0gbWF0aGZfMS5tYXRoZi5sZXJwKHRoaXMueiwgcS56LCBwcm9ncmVzcyk7XG4gICAgICAgIHRoaXMudyA9IG1hdGhmXzEubWF0aGYubGVycCh0aGlzLncsIHEueiwgcHJvZ3Jlc3MpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2xlcnBFdWxlcih4LCB5LCB6LCBwcm9ncmVzcykge1xuICAgICAgICBsZXQgdGFyZ2V0ID0gUXVhdGVybmlvbi5mcm9tRXVsZXIoeCwgeSwgeik7XG4gICAgICAgIHRoaXMuc2xlcnAodGFyZ2V0LCBwcm9ncmVzcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzbGVycEV1bGVyVmVjdG9yKHYsIHByb2dyZXNzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNsZXJwRXVsZXIodi54LCB2LnksIHYueiwgcHJvZ3Jlc3MpO1xuICAgIH1cbiAgICBzbGVycChxLCBwcm9ncmVzcykge1xuICAgICAgICBjb25zdCBFUFNJTE9OID0gMC4wMDAwMDE7XG4gICAgICAgIGNvbnN0IGF4ID0gdGhpcy54O1xuICAgICAgICBjb25zdCBheSA9IHRoaXMueTtcbiAgICAgICAgY29uc3QgYXogPSB0aGlzLno7XG4gICAgICAgIHZhciBhdyA9IHRoaXMudztcbiAgICAgICAgdmFyIGJ4ID0gcS54O1xuICAgICAgICB2YXIgYnkgPSBxLnk7XG4gICAgICAgIHZhciBieiA9IHEuejtcbiAgICAgICAgdmFyIGJ3ID0gcS53O1xuICAgICAgICB2YXIgY29zb20gPSBheCAqIGJ4ICsgYXkgKiBieSArIGF6ICogYnogKyBhdyAqIGJ3O1xuICAgICAgICBpZiAoY29zb20gPCAwKSB7XG4gICAgICAgICAgICBjb3NvbSA9IC1jb3NvbTtcbiAgICAgICAgICAgIGJ4ID0gLWJ4O1xuICAgICAgICAgICAgYnkgPSAtYnk7XG4gICAgICAgICAgICBieiA9IC1iejtcbiAgICAgICAgICAgIGJ3ID0gLWJ3O1xuICAgICAgICB9XG4gICAgICAgIGxldCBzMCA9IDEgLSBwcm9ncmVzcztcbiAgICAgICAgbGV0IHMxID0gcHJvZ3Jlc3M7XG4gICAgICAgIGlmICgoMSAtIGNvc29tKSA+IEVQU0lMT04pIHtcbiAgICAgICAgICAgIHZhciBvbWVnYSA9IE1hdGguYWNvcyhjb3NvbSk7XG4gICAgICAgICAgICB2YXIgc2lub20gPSBNYXRoLnNpbihvbWVnYSk7XG4gICAgICAgICAgICBzMCA9IE1hdGguc2luKCgxLjAgLSBwcm9ncmVzcykgKiBvbWVnYSkgLyBzaW5vbTtcbiAgICAgICAgICAgIHMxID0gTWF0aC5zaW4ocHJvZ3Jlc3MgKiBvbWVnYSkgLyBzaW5vbTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnggPSBzMCAqIGF4ICsgczEgKiBieDtcbiAgICAgICAgdGhpcy55ID0gczAgKiBheSArIHMxICogYnk7XG4gICAgICAgIHRoaXMueiA9IHMwICogYXogKyBzMSAqIGJ6O1xuICAgICAgICB0aGlzLncgPSBzMCAqIGF3ICsgczEgKiBidztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGludmVydCgpIHtcbiAgICAgICAgY29uc3QgYTAgPSB0aGlzLng7XG4gICAgICAgIGNvbnN0IGExID0gdGhpcy55O1xuICAgICAgICBjb25zdCBhMiA9IHRoaXMuejtcbiAgICAgICAgY29uc3QgYTMgPSB0aGlzLnc7XG4gICAgICAgIGNvbnN0IGRvdCA9IGEwICogYTAgKyBhMSAqIGExICsgYTIgKiBhMiArIGEzICogYTM7XG4gICAgICAgIGNvbnN0IGludkRvdCA9IChkb3QpID8gMSAvIGRvdCA6IDA7XG4gICAgICAgIHRoaXMueCA9IC1hMCAqIGludkRvdDtcbiAgICAgICAgdGhpcy55ID0gLWExICogaW52RG90O1xuICAgICAgICB0aGlzLnogPSAtYTIgKiBpbnZEb3Q7XG4gICAgICAgIHRoaXMudyA9IGEzICogaW52RG90O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcm90YXRlWChkZWdyZWUpIHtcbiAgICAgICAgbGV0IHExID0gUXVhdGVybmlvbi5JREVOVElUWS5hbmdsZUF4aXMobWF0aGZfMS5tYXRoZi5kZWdyZWVUb1JhZGlhbihkZWdyZWUpLCB2ZWN0b3JfMS5WZWN0b3IuUklHSFQpO1xuICAgICAgICByZXR1cm4gdGhpcy5tdWx0aXBseShxMSk7XG4gICAgfVxuICAgIHJvdGF0ZVkoZGVncmVlKSB7XG4gICAgICAgIGxldCBxMSA9IFF1YXRlcm5pb24uSURFTlRJVFkuYW5nbGVBeGlzKG1hdGhmXzEubWF0aGYuZGVncmVlVG9SYWRpYW4oZGVncmVlKSwgdmVjdG9yXzEuVmVjdG9yLlVQKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHkocTEpO1xuICAgIH1cbiAgICByb3RhdGVaKGRlZ3JlZSkge1xuICAgICAgICBsZXQgcTEgPSBRdWF0ZXJuaW9uLklERU5USVRZLmFuZ2xlQXhpcyhtYXRoZl8xLm1hdGhmLmRlZ3JlZVRvUmFkaWFuKGRlZ3JlZSksIHZlY3Rvcl8xLlZlY3Rvci5GT1JXQVJEKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHkocTEpO1xuICAgIH1cbiAgICBjb3B5KHEpIHtcbiAgICAgICAgdGhpcy54ID0gcS54O1xuICAgICAgICB0aGlzLnkgPSBxLnk7XG4gICAgICAgIHRoaXMueiA9IHEuejtcbiAgICAgICAgdGhpcy53ID0gcS53O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY29uanVnYXRlKCkge1xuICAgICAgICB0aGlzLnggPSAtdGhpcy54O1xuICAgICAgICB0aGlzLnkgPSAtdGhpcy55O1xuICAgICAgICB0aGlzLnogPSAtdGhpcy56O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc3RhdGljIGZyb21FdWxlcih4LCB5LCB6KSB7XG4gICAgICAgIHggPSBtYXRoZl8xLm1hdGhmLmRlZ3JlZVRvUmFkaWFuKHgpO1xuICAgICAgICB5ID0gbWF0aGZfMS5tYXRoZi5kZWdyZWVUb1JhZGlhbih5KTtcbiAgICAgICAgeiA9IG1hdGhmXzEubWF0aGYuZGVncmVlVG9SYWRpYW4oeik7XG4gICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcztcbiAgICAgICAgdmFyIHNpbiA9IE1hdGguc2luO1xuICAgICAgICB2YXIgYzEgPSBjb3MoeCAvIDIpO1xuICAgICAgICB2YXIgYzIgPSBjb3MoeSAvIDIpO1xuICAgICAgICB2YXIgYzMgPSBjb3MoeiAvIDIpO1xuICAgICAgICB2YXIgczEgPSBzaW4oeCAvIDIpO1xuICAgICAgICB2YXIgczIgPSBzaW4oeSAvIDIpO1xuICAgICAgICB2YXIgczMgPSBzaW4oeiAvIDIpO1xuICAgICAgICBsZXQgcnggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7XG4gICAgICAgIGxldCByeSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMztcbiAgICAgICAgbGV0IHJ6ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzO1xuICAgICAgICBsZXQgcncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7XG4gICAgICAgIHJldHVybiBuZXcgUXVhdGVybmlvbihyeCwgcnksIHJ6LCBydyk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tRXVsZXJWZWN0b3Iodikge1xuICAgICAgICByZXR1cm4gUXVhdGVybmlvbi5mcm9tRXVsZXIodi54LCB2LnksIHYueik7XG4gICAgfVxuICAgIHN0YXRpYyB0b0V1bGVyVmVjdG9yKHEpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHZlY3Rvcl8xLlZlY3Rvci5aRVJPO1xuICAgICAgICBsZXQgbWF0cml4ID0gbWF0cml4SVZfMS5NYXRyaXhJVi5mcm9tUXVhdGVybmlvbihxLmNsb25lKCkpO1xuICAgICAgICByZXN1bHQgPSB2ZWN0b3JfMS5WZWN0b3IuZnJvbVJvdGF0aW9uTWF0cml4SVYobWF0cml4KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYW5nbGVBeGlzKHJhZCwgYXhpcykge1xuICAgICAgICByYWQgPSByYWQgKiAwLjU7XG4gICAgICAgIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgICAgICAgdGhpcy54ID0gcyAqIGF4aXMueDtcbiAgICAgICAgdGhpcy55ID0gcyAqIGF4aXMueTtcbiAgICAgICAgdGhpcy56ID0gcyAqIGF4aXMuejtcbiAgICAgICAgdGhpcy53ID0gTWF0aC5jb3MocmFkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tUm90YXRpb25NYXRyaXhJVihtKSB7XG4gICAgICAgIGxldCBxID0gUXVhdGVybmlvbi5JREVOVElUWTtcbiAgICAgICAgdmFyIGEwMCA9IG0udmFsdWVbMF07XG4gICAgICAgIHZhciBhMDEgPSBtLnZhbHVlWzFdO1xuICAgICAgICB2YXIgYTAyID0gbS52YWx1ZVsyXTtcbiAgICAgICAgdmFyIGEwMyA9IG0udmFsdWVbM107XG4gICAgICAgIHZhciBhMTAgPSBtLnZhbHVlWzRdO1xuICAgICAgICB2YXIgYTExID0gbS52YWx1ZVs1XTtcbiAgICAgICAgdmFyIGExMiA9IG0udmFsdWVbNl07XG4gICAgICAgIHZhciBhMTMgPSBtLnZhbHVlWzddO1xuICAgICAgICB2YXIgYTIwID0gbS52YWx1ZVs4XTtcbiAgICAgICAgdmFyIGEyMSA9IG0udmFsdWVbOV07XG4gICAgICAgIHZhciBhMjIgPSBtLnZhbHVlWzEwXTtcbiAgICAgICAgdmFyIGEyMyA9IG0udmFsdWVbMTFdO1xuICAgICAgICB2YXIgYTMwID0gbS52YWx1ZVsxMl07XG4gICAgICAgIHZhciBhMzEgPSBtLnZhbHVlWzEzXTtcbiAgICAgICAgdmFyIGEzMiA9IG0udmFsdWVbMTRdO1xuICAgICAgICB2YXIgYTMzID0gbS52YWx1ZVsxNV07XG4gICAgICAgIGxldCB0O1xuICAgICAgICBpZiAoYTIyIDwgMCkge1xuICAgICAgICAgICAgaWYgKGEwMCA+IGExMSkge1xuICAgICAgICAgICAgICAgIHQgPSAxICsgYTAwIC0gYTExIC0gYTIyO1xuICAgICAgICAgICAgICAgIHEgPSBuZXcgUXVhdGVybmlvbih0LCBhMDEgKyBhMTAsIGEyMCArIGEwMiwgYTEyIC0gYTIxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHQgPSAxIC0gYTAwICsgYTExIC0gYTIyO1xuICAgICAgICAgICAgICAgIHEgPSBuZXcgUXVhdGVybmlvbihhMDEgKyBhMTAsIHQsIGExMiArIGEyMSwgYTIwIC0gYTAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChhMDAgPCAtYTExKSB7XG4gICAgICAgICAgICAgICAgdCA9IDEgLSBhMDAgLSBhMTEgKyBhMjI7XG4gICAgICAgICAgICAgICAgcSA9IG5ldyBRdWF0ZXJuaW9uKGEyMCArIGEwMiwgYTEyICsgYTIxLCB0LCBhMDEgLSBhMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdCA9IDEgKyBhMDAgKyBhMTEgKyBhMjI7XG4gICAgICAgICAgICAgICAgcSA9IG5ldyBRdWF0ZXJuaW9uKGExMiAtIGEyMSwgYTIwIC0gYTAyLCBhMDEgLSBhMTAsIHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHEuc2NhbGUoMC41IC8gTWF0aC5zcXJ0KHQpKTtcbiAgICAgICAgcmV0dXJuIHE7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tQXJyYXkodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVhdGVybmlvbih2YWx1ZXNbMF0sIHZhbHVlc1sxXSwgdmFsdWVzWzJdLCB2YWx1ZXNbM10pO1xuICAgIH1cbiAgICB0b0ZpeGVkKG51bWJlck9mRGVjaW1hbHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBRdWF0ZXJuaW9uKG1hdGhmXzEubWF0aGYudG9GaXhlZChtYXRoZl8xLm1hdGhmLmFic1plcm8odGhpcy54KSwgbnVtYmVyT2ZEZWNpbWFscyksIG1hdGhmXzEubWF0aGYudG9GaXhlZChtYXRoZl8xLm1hdGhmLmFic1plcm8odGhpcy55KSwgbnVtYmVyT2ZEZWNpbWFscyksIG1hdGhmXzEubWF0aGYudG9GaXhlZChtYXRoZl8xLm1hdGhmLmFic1plcm8odGhpcy56KSwgbnVtYmVyT2ZEZWNpbWFscyksIG1hdGhmXzEubWF0aGYudG9GaXhlZChtYXRoZl8xLm1hdGhmLmFic1plcm8odGhpcy53KSwgbnVtYmVyT2ZEZWNpbWFscykpO1xuICAgIH1cbiAgICBzdGF0aWMgcm90YXRlVG8oc291cmNlLCB0YXJnZXQsIHVwKSB7XG4gICAgICAgIHZhciBtID0gbWF0cml4SVZfMS5NYXRyaXhJVi5JREVOVElUWTtcbiAgICAgICAgbS5sb29rQXQodGFyZ2V0LCBzb3VyY2UsIHVwKTtcbiAgICAgICAgdmFyIHRlbXAgPSBtLnZhbHVlO1xuICAgICAgICB2YXIgbTAwID0gdGVtcFswXSwgbTEwID0gdGVtcFsxXSwgbTIwID0gdGVtcFsyXSwgbTAxID0gdGVtcFs1XSwgbTExID0gdGVtcFs2XSwgbTIxID0gdGVtcFs3XSwgbTAyID0gdGVtcFs5XSwgbTEyID0gdGVtcFsxMF0sIG0yMiA9IHRlbXBbMTFdO1xuICAgICAgICB2YXIgdCA9IG0wMCArIG0xMSArIG0yMiwgcywgeCwgeSwgeiwgdztcbiAgICAgICAgaWYgKHQgPiAwKSB7XG4gICAgICAgICAgICBzID0gTWF0aC5zcXJ0KHQgKyAxKSAqIDI7XG4gICAgICAgICAgICB3ID0gMC4yNSAqIHM7XG4gICAgICAgICAgICB4ID0gKG0yMSAtIG0xMikgLyBzO1xuICAgICAgICAgICAgeSA9IChtMDIgLSBtMjApIC8gcztcbiAgICAgICAgICAgIHogPSAobTEwIC0gbTAxKSAvIHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKG0wMCA+IG0xMSkgJiYgKG0wMCA+IG0yMikpIHtcbiAgICAgICAgICAgIHMgPSBNYXRoLnNxcnQoMS4wICsgbTAwIC0gbTExIC0gbTIyKSAqIDI7XG4gICAgICAgICAgICB4ID0gcyAqIDAuMjU7XG4gICAgICAgICAgICB5ID0gKG0xMCArIG0wMSkgLyBzO1xuICAgICAgICAgICAgeiA9IChtMDIgKyBtMjApIC8gcztcbiAgICAgICAgICAgIHcgPSAobTIxIC0gbTEyKSAvIHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobTExID4gbTIyKSB7XG4gICAgICAgICAgICBzID0gTWF0aC5zcXJ0KDEuMCArIG0xMSAtIG0wMCAtIG0yMikgKiAyO1xuICAgICAgICAgICAgeSA9IHMgKiAwLjI1O1xuICAgICAgICAgICAgeCA9IChtMTAgKyBtMDEpIC8gcztcbiAgICAgICAgICAgIHogPSAobTIxICsgbTEyKSAvIHM7XG4gICAgICAgICAgICB3ID0gKG0wMiAtIG0yMCkgLyBzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcyA9IE1hdGguc3FydCgxLjAgKyBtMjIgLSBtMDAgLSBtMTEpICogMjtcbiAgICAgICAgICAgIHogPSBzICogMC4yNTtcbiAgICAgICAgICAgIHggPSAobTAyICsgbTIwKSAvIHM7XG4gICAgICAgICAgICB5ID0gKG0yMSArIG0xMikgLyBzO1xuICAgICAgICAgICAgdyA9IChtMTAgLSBtMDEpIC8gcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgcm90YXRpb24gPSBuZXcgUXVhdGVybmlvbih4LCB5LCB6LCB3KTtcbiAgICAgICAgcm90YXRpb24ubm9ybWFsaXplKCk7XG4gICAgICAgIHJldHVybiByb3RhdGlvbjtcbiAgICB9XG4gICAgc3RhdGljIGdldCBaRVJPKCkge1xuICAgICAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24oMCwgMCwgMCwgMCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgSSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBRdWF0ZXJuaW9uKDAsIDEsIDAsIDApO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IEooKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVhdGVybmlvbigwLCAwLCAxLCAwKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBLKCkge1xuICAgICAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgSURFTlRJVFkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVhdGVybmlvbigwLCAwLCAwLCAxKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBPTkUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVhdGVybmlvbigxLCAxLCAxKTtcbiAgICB9XG59XG5leHBvcnRzLlF1YXRlcm5pb24gPSBRdWF0ZXJuaW9uO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/mathf/quaternion.js\n");

/***/ }),

/***/ "./lib/mathf/raycast.js":
/*!******************************!*\
  !*** ./lib/mathf/raycast.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mathf_1 = __webpack_require__(/*! ./mathf */ \"./lib/mathf/mathf.js\");\nconst vector_1 = __webpack_require__(/*! ./vector */ \"./lib/mathf/vector.js\");\nclass Raycast {\n    static castInfinite2dRay(origin, angle, boundaryA, boundaryB) {\n        let direction = vector_1.Vector.fromAngle(angle);\n        return Raycast.cast2d(origin, direction, boundaryA, boundaryB);\n    }\n    static cast2d(origin, direction, boundaryA, boundaryB) {\n        const x1 = boundaryA.x;\n        const y1 = boundaryA.y;\n        const x2 = boundaryB.x;\n        const y2 = boundaryB.y;\n        const x3 = origin.x;\n        const y3 = origin.y;\n        const x4 = vector_1.Vector.add(origin, direction).x;\n        const y4 = vector_1.Vector.add(origin, direction).y;\n        const denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n        if (denominator == 0) {\n            return {\n                hit: false\n            };\n        }\n        const t = ((x1 - x3) * (y3 - y4) - (y1 - y3) * (x3 - x4)) / denominator;\n        const u = -((x1 - x2) * (y1 - y3) - (y1 - y2) * (x1 - x3)) / denominator;\n        if (t > 0 && t < 1 && u > 0) {\n            const x = x1 + t * (x2 - x1);\n            const y = y1 + t * (y2 - y1);\n            const collision = new vector_1.Vector(x, y);\n            return {\n                hit: true,\n                collision: collision,\n                distance: vector_1.Vector.subtract(origin, collision).length(),\n                angle: mathf_1.mathf.toFixed(vector_1.Vector.angle2d(origin, collision), 3)\n            };\n        }\n        else {\n            return {\n                hit: false\n            };\n        }\n    }\n}\nexports.Raycast = Raycast;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvcmF5Y2FzdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9tYXRoZi9yYXljYXN0LmpzP2JiNzgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBtYXRoZl8xID0gcmVxdWlyZShcIi4vbWF0aGZcIik7XG5jb25zdCB2ZWN0b3JfMSA9IHJlcXVpcmUoXCIuL3ZlY3RvclwiKTtcbmNsYXNzIFJheWNhc3Qge1xuICAgIHN0YXRpYyBjYXN0SW5maW5pdGUyZFJheShvcmlnaW4sIGFuZ2xlLCBib3VuZGFyeUEsIGJvdW5kYXJ5Qikge1xuICAgICAgICBsZXQgZGlyZWN0aW9uID0gdmVjdG9yXzEuVmVjdG9yLmZyb21BbmdsZShhbmdsZSk7XG4gICAgICAgIHJldHVybiBSYXljYXN0LmNhc3QyZChvcmlnaW4sIGRpcmVjdGlvbiwgYm91bmRhcnlBLCBib3VuZGFyeUIpO1xuICAgIH1cbiAgICBzdGF0aWMgY2FzdDJkKG9yaWdpbiwgZGlyZWN0aW9uLCBib3VuZGFyeUEsIGJvdW5kYXJ5Qikge1xuICAgICAgICBjb25zdCB4MSA9IGJvdW5kYXJ5QS54O1xuICAgICAgICBjb25zdCB5MSA9IGJvdW5kYXJ5QS55O1xuICAgICAgICBjb25zdCB4MiA9IGJvdW5kYXJ5Qi54O1xuICAgICAgICBjb25zdCB5MiA9IGJvdW5kYXJ5Qi55O1xuICAgICAgICBjb25zdCB4MyA9IG9yaWdpbi54O1xuICAgICAgICBjb25zdCB5MyA9IG9yaWdpbi55O1xuICAgICAgICBjb25zdCB4NCA9IHZlY3Rvcl8xLlZlY3Rvci5hZGQob3JpZ2luLCBkaXJlY3Rpb24pLng7XG4gICAgICAgIGNvbnN0IHk0ID0gdmVjdG9yXzEuVmVjdG9yLmFkZChvcmlnaW4sIGRpcmVjdGlvbikueTtcbiAgICAgICAgY29uc3QgZGVub21pbmF0b3IgPSAoeDEgLSB4MikgKiAoeTMgLSB5NCkgLSAoeTEgLSB5MikgKiAoeDMgLSB4NCk7XG4gICAgICAgIGlmIChkZW5vbWluYXRvciA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGhpdDogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdCA9ICgoeDEgLSB4MykgKiAoeTMgLSB5NCkgLSAoeTEgLSB5MykgKiAoeDMgLSB4NCkpIC8gZGVub21pbmF0b3I7XG4gICAgICAgIGNvbnN0IHUgPSAtKCh4MSAtIHgyKSAqICh5MSAtIHkzKSAtICh5MSAtIHkyKSAqICh4MSAtIHgzKSkgLyBkZW5vbWluYXRvcjtcbiAgICAgICAgaWYgKHQgPiAwICYmIHQgPCAxICYmIHUgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCB4ID0geDEgKyB0ICogKHgyIC0geDEpO1xuICAgICAgICAgICAgY29uc3QgeSA9IHkxICsgdCAqICh5MiAtIHkxKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvbiA9IG5ldyB2ZWN0b3JfMS5WZWN0b3IoeCwgeSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGhpdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb2xsaXNpb246IGNvbGxpc2lvbixcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogdmVjdG9yXzEuVmVjdG9yLnN1YnRyYWN0KG9yaWdpbiwgY29sbGlzaW9uKS5sZW5ndGgoKSxcbiAgICAgICAgICAgICAgICBhbmdsZTogbWF0aGZfMS5tYXRoZi50b0ZpeGVkKHZlY3Rvcl8xLlZlY3Rvci5hbmdsZTJkKG9yaWdpbiwgY29sbGlzaW9uKSwgMylcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGhpdDogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlJheWNhc3QgPSBSYXljYXN0O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/mathf/raycast.js\n");

/***/ }),

/***/ "./lib/mathf/vector.js":
/*!*****************************!*\
  !*** ./lib/mathf/vector.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ease_1 = __webpack_require__(/*! ../ease/ease */ \"./lib/ease/ease.js\");\nconst mathf_1 = __webpack_require__(/*! ./mathf */ \"./lib/mathf/mathf.js\");\nclass Vector {\n    constructor(x = 0, y = 0, z = 0, w = 0) {\n        this.x = x || 0;\n        this.y = y || 0;\n        this.z = z || 0;\n        this.w = w || 0;\n    }\n    clone() {\n        return new Vector(this.x, this.y, this.z);\n    }\n    static clone(v) {\n        return new Vector(v.x, v.y, v.z);\n    }\n    set(x, y, z = 0) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        return this;\n    }\n    floor() {\n        this.x = ~~this.x;\n        this.y = ~~this.y;\n        this.z = ~~this.z;\n        return this;\n    }\n    int() {\n        this.x = this.x >> 0;\n        this.y = this.y >> 0;\n        this.z = this.z >> 0;\n        return this;\n    }\n    equals(vector) {\n        return ((this.x === vector.x) && (this.y === vector.y) &&\n            (this.z === vector.z));\n    }\n    static equals(v1, v2) {\n        return ((v1.x === v2.x) && (v1.y === v2.y) &&\n            (v1.z === v2.z));\n    }\n    toArray() {\n        return [this.x, this.y, this.z];\n    }\n    static toArray(v) {\n        return [v.x, v.y, v.z];\n    }\n    static fromArray(values) {\n        return new Vector(values[0], values[1], values[2]);\n    }\n    static create(x, y, z = 0) {\n        return new Vector(x, y, z);\n    }\n    static fromAngle(angle, length = 100000) {\n        return new Vector(length * Math.cos(angle), length * Math.sin(angle), 0);\n    }\n    static angle2d(a, b) {\n        var dx = a.x - b.x, dy = a.y - b.y;\n        return Math.atan2(dy, dx);\n    }\n    static getXyzRotationTo(originVector, targetVector) {\n        let delta = originVector.clone().subtract(targetVector);\n        let angleX = Math.atan(delta.x);\n        let angleY = Math.atan(delta.y);\n        let angleZ = Math.atan(delta.z);\n        return [angleX, angleY, angleZ];\n    }\n    static getEularRotationTo(originVector, targetVector) {\n        let delta = originVector.clone().normalize()\n            .subtract(targetVector.clone().normalize());\n        let angleX = -Math.atan(delta.x);\n        let angleY = Math.atan(delta.y);\n        let angleZ = -Math.atan(delta.z);\n        return new Vector(mathf_1.mathf.radianToDegree(angleX), mathf_1.mathf.radianToDegree(angleY), mathf_1.mathf.radianToDegree(angleZ));\n    }\n    add(v) {\n        this.x += v.x;\n        this.y += v.y;\n        this.z += v.z || 0;\n        return this;\n    }\n    static add(v2, v1) {\n        const x = v2.x + v1.x;\n        const y = v2.y + v1.y;\n        const z = v2.z + v1.z;\n        return new Vector(x, y, z);\n    }\n    subtract(v) {\n        this.x -= v.x;\n        this.y -= v.y;\n        this.z -= v.z || 0;\n        return this;\n    }\n    static subtract(v2, v1) {\n        const x = v2.x - v1.x;\n        const y = v2.y - v1.y;\n        const z = v2.z - v1.z;\n        return new Vector(x, y, z);\n    }\n    multiply(v) {\n        this.x *= v.x;\n        this.y *= v.y;\n        this.z *= v.z || 1;\n        return this;\n    }\n    divide(v) {\n        this.x /= v.x;\n        this.y /= v.y;\n        this.z /= v.z || 1;\n        return this;\n    }\n    scale(scalar) {\n        if (isFinite(scalar)) {\n            this.x *= scalar;\n            this.y *= scalar;\n            this.z *= scalar;\n            return this;\n        }\n        else {\n            return Vector.ZERO;\n        }\n    }\n    negate() {\n        this.x = -this.x;\n        this.y = -this.y;\n        this.z = mathf_1.mathf.absZero(-this.z);\n        return this;\n    }\n    static negate(v) {\n        let x = -v.x;\n        let y = -v.y;\n        let z = mathf_1.mathf.absZero(-v.z);\n        return new Vector(x, y, z);\n    }\n    distance(v) {\n        let dx = v.x - this.x;\n        let dy = v.y - this.y;\n        let dz = v.z - this.z || 0;\n        return Math.sqrt(dx * dx + dy * dy + dz * dz);\n    }\n    length() {\n        let x = this.x;\n        let y = this.y;\n        let z = this.z;\n        return Math.sqrt(x * x + y * y + z * z);\n    }\n    lengthSquared() {\n        return (this.x * this.x + this.y * this.y + this.z * this.z);\n    }\n    magnitude() {\n        return this.length();\n    }\n    normalize() {\n        let x = this.x;\n        let y = this.y;\n        let z = this.z;\n        let len = x * x + y * y + z * z;\n        if (len > 0) {\n            len = 1 / Math.sqrt(len);\n            this.x = x * len;\n            this.y = y * len;\n            this.z = z * len;\n        }\n        return this;\n    }\n    dot(v) {\n        return this.x * v.x + this.y * v.y + this.z * v.z;\n    }\n    cross(v) {\n        let ax = this.x;\n        let ay = this.y;\n        let az = this.z;\n        let bx = v.x;\n        let by = v.y;\n        let bz = v.z;\n        this.x = ay * bz - az * by;\n        this.y = az * bx - ax * bz;\n        this.z = ax * by - ay * bx;\n        return this;\n    }\n    transformWithMatrixIV(matrix) {\n        let x = this.x;\n        let y = this.y;\n        let z = this.z;\n        let mat = matrix.value;\n        let tx = (x * mat[0]) + (y * mat[4]) + (z * mat[8]) + mat[12];\n        let ty = (x * mat[1]) + (y * mat[5]) + (z * mat[9]) + mat[13];\n        let tz = (x * mat[2]) + (y * mat[6]) + (z * mat[10]) + mat[14];\n        let tw = (x * mat[3]) + (y * mat[7]) + (z * mat[11]) + mat[15];\n        tw = tw || 1.0;\n        this.x = tx / tw;\n        this.y = ty / tw;\n        this.z = tz / tw;\n        return new Vector(this.x, this.y, this.z);\n    }\n    transformWithMatrixIVTo2d(matrix) {\n        return this\n            .transformWithMatrixIV(matrix)\n            .set(this.x, this.y, 0);\n    }\n    lerp(v, progress = 0) {\n        this.x = mathf_1.mathf.lerp(this.x, v.x, progress);\n        this.y = mathf_1.mathf.lerp(this.y, v.y, progress);\n        this.z = mathf_1.mathf.lerp(this.z, v.z, progress);\n        return this;\n    }\n    damp(v, progress = 0, damp) {\n        this.x = mathf_1.mathf.damp(this.x, v.x, progress, damp);\n        this.y = mathf_1.mathf.damp(this.y, v.y, progress, damp);\n        this.z = mathf_1.mathf.damp(this.z, v.z, progress, damp);\n        return this;\n    }\n    ease(v, progress = 0, easeFunction = ease_1.EASE.linear) {\n        this.x = mathf_1.mathf.ease(this.x, v.x, progress, easeFunction);\n        this.y = mathf_1.mathf.ease(this.y, v.y, progress, easeFunction);\n        this.z = mathf_1.mathf.ease(this.z, v.z, progress, easeFunction);\n        return this;\n    }\n    static ease(v1, v2, progress = 0, easeFunction = ease_1.EASE.linear) {\n        const x = mathf_1.mathf.ease(v1.x, v2.x, progress, easeFunction);\n        const y = mathf_1.mathf.ease(v1.y, v2.y, progress, easeFunction);\n        const z = mathf_1.mathf.ease(v1.z, v2.z, progress, easeFunction);\n        return new Vector(x, y, z);\n    }\n    static min(a, b) {\n        return new Vector(Math.min(a.x, b.x), Math.min(a.y, b.y), Math.min(a.z, b.z));\n    }\n    static max(a, b) {\n        return new Vector(Math.max(a.x, b.x), Math.max(a.y, b.y), Math.max(a.z, b.z));\n    }\n    static degreeToRadians(v) {\n        return new Vector(mathf_1.mathf.degreeToRadian(v.x), mathf_1.mathf.degreeToRadian(v.y), mathf_1.mathf.degreeToRadian(v.z));\n    }\n    degreeToRadians() {\n        return Vector.degreeToRadians(this);\n    }\n    static clamp(min, max, vector) {\n        return new Vector(mathf_1.mathf.clamp(min.x, max.x, vector.x), mathf_1.mathf.clamp(min.y, max.y, vector.y), mathf_1.mathf.clamp(min.z, max.z, vector.z));\n    }\n    static fromRotationMatrixIV(m) {\n        let result = Vector.ZERO;\n        var te = m.value;\n        var m11 = te[0], m12 = te[4], m13 = te[8];\n        var m21 = te[1], m22 = te[5], m23 = te[9];\n        var m31 = te[2], m32 = te[6], m33 = te[10];\n        result.y = Math.asin(mathf_1.mathf.clamp(-1, 1, m13));\n        if (Math.abs(m13) < 0.9999999) {\n            result.x = Math.atan2(-m23, m33);\n            result.z = Math.atan2(-m12, m11);\n        }\n        else {\n            result.x = Math.atan2(m32, m22);\n            result.z = 0;\n        }\n        result.x = mathf_1.mathf.radianToDegree(result.x);\n        result.y = mathf_1.mathf.radianToDegree(result.y);\n        result.z = mathf_1.mathf.radianToDegree(result.z);\n        return result;\n    }\n    static get ZERO() {\n        return new Vector(0, 0, 0);\n    }\n    static get ONE() {\n        return new Vector(1, 1, 1);\n    }\n    static get RIGHT() {\n        return new Vector(1, 0, 0);\n    }\n    static get LEFT() {\n        return new Vector(-1, 0, 0);\n    }\n    static get UP() {\n        return new Vector(0, -1, 0);\n    }\n    static get DOWN() {\n        return new Vector(0, 1, 0);\n    }\n    static get FORWARD() {\n        return new Vector(0, 0, 1);\n    }\n    static get BACK() {\n        return new Vector(0, 0, -1);\n    }\n}\nexports.Vector = Vector;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvdmVjdG9yLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL21hdGhmL3ZlY3Rvci5qcz9hYTczIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZWFzZV8xID0gcmVxdWlyZShcIi4uL2Vhc2UvZWFzZVwiKTtcbmNvbnN0IG1hdGhmXzEgPSByZXF1aXJlKFwiLi9tYXRoZlwiKTtcbmNsYXNzIFZlY3RvciB7XG4gICAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwLCB6ID0gMCwgdyA9IDApIHtcbiAgICAgICAgdGhpcy54ID0geCB8fCAwO1xuICAgICAgICB0aGlzLnkgPSB5IHx8IDA7XG4gICAgICAgIHRoaXMueiA9IHogfHwgMDtcbiAgICAgICAgdGhpcy53ID0gdyB8fCAwO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IodGhpcy54LCB0aGlzLnksIHRoaXMueik7XG4gICAgfVxuICAgIHN0YXRpYyBjbG9uZSh2KSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHYueCwgdi55LCB2LnopO1xuICAgIH1cbiAgICBzZXQoeCwgeSwgeiA9IDApIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy56ID0gejtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGZsb29yKCkge1xuICAgICAgICB0aGlzLnggPSB+fnRoaXMueDtcbiAgICAgICAgdGhpcy55ID0gfn50aGlzLnk7XG4gICAgICAgIHRoaXMueiA9IH5+dGhpcy56O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaW50KCkge1xuICAgICAgICB0aGlzLnggPSB0aGlzLnggPj4gMDtcbiAgICAgICAgdGhpcy55ID0gdGhpcy55ID4+IDA7XG4gICAgICAgIHRoaXMueiA9IHRoaXMueiA+PiAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZXF1YWxzKHZlY3Rvcikge1xuICAgICAgICByZXR1cm4gKCh0aGlzLnggPT09IHZlY3Rvci54KSAmJiAodGhpcy55ID09PSB2ZWN0b3IueSkgJiZcbiAgICAgICAgICAgICh0aGlzLnogPT09IHZlY3Rvci56KSk7XG4gICAgfVxuICAgIHN0YXRpYyBlcXVhbHModjEsIHYyKSB7XG4gICAgICAgIHJldHVybiAoKHYxLnggPT09IHYyLngpICYmICh2MS55ID09PSB2Mi55KSAmJlxuICAgICAgICAgICAgKHYxLnogPT09IHYyLnopKTtcbiAgICB9XG4gICAgdG9BcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLngsIHRoaXMueSwgdGhpcy56XTtcbiAgICB9XG4gICAgc3RhdGljIHRvQXJyYXkodikge1xuICAgICAgICByZXR1cm4gW3YueCwgdi55LCB2LnpdO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUFycmF5KHZhbHVlcykge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3Rvcih2YWx1ZXNbMF0sIHZhbHVlc1sxXSwgdmFsdWVzWzJdKTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZSh4LCB5LCB6ID0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3Rvcih4LCB5LCB6KTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21BbmdsZShhbmdsZSwgbGVuZ3RoID0gMTAwMDAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKGxlbmd0aCAqIE1hdGguY29zKGFuZ2xlKSwgbGVuZ3RoICogTWF0aC5zaW4oYW5nbGUpLCAwKTtcbiAgICB9XG4gICAgc3RhdGljIGFuZ2xlMmQoYSwgYikge1xuICAgICAgICB2YXIgZHggPSBhLnggLSBiLngsIGR5ID0gYS55IC0gYi55O1xuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMihkeSwgZHgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0WHl6Um90YXRpb25UbyhvcmlnaW5WZWN0b3IsIHRhcmdldFZlY3Rvcikge1xuICAgICAgICBsZXQgZGVsdGEgPSBvcmlnaW5WZWN0b3IuY2xvbmUoKS5zdWJ0cmFjdCh0YXJnZXRWZWN0b3IpO1xuICAgICAgICBsZXQgYW5nbGVYID0gTWF0aC5hdGFuKGRlbHRhLngpO1xuICAgICAgICBsZXQgYW5nbGVZID0gTWF0aC5hdGFuKGRlbHRhLnkpO1xuICAgICAgICBsZXQgYW5nbGVaID0gTWF0aC5hdGFuKGRlbHRhLnopO1xuICAgICAgICByZXR1cm4gW2FuZ2xlWCwgYW5nbGVZLCBhbmdsZVpdO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RXVsYXJSb3RhdGlvblRvKG9yaWdpblZlY3RvciwgdGFyZ2V0VmVjdG9yKSB7XG4gICAgICAgIGxldCBkZWx0YSA9IG9yaWdpblZlY3Rvci5jbG9uZSgpLm5vcm1hbGl6ZSgpXG4gICAgICAgICAgICAuc3VidHJhY3QodGFyZ2V0VmVjdG9yLmNsb25lKCkubm9ybWFsaXplKCkpO1xuICAgICAgICBsZXQgYW5nbGVYID0gLU1hdGguYXRhbihkZWx0YS54KTtcbiAgICAgICAgbGV0IGFuZ2xlWSA9IE1hdGguYXRhbihkZWx0YS55KTtcbiAgICAgICAgbGV0IGFuZ2xlWiA9IC1NYXRoLmF0YW4oZGVsdGEueik7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKG1hdGhmXzEubWF0aGYucmFkaWFuVG9EZWdyZWUoYW5nbGVYKSwgbWF0aGZfMS5tYXRoZi5yYWRpYW5Ub0RlZ3JlZShhbmdsZVkpLCBtYXRoZl8xLm1hdGhmLnJhZGlhblRvRGVncmVlKGFuZ2xlWikpO1xuICAgIH1cbiAgICBhZGQodikge1xuICAgICAgICB0aGlzLnggKz0gdi54O1xuICAgICAgICB0aGlzLnkgKz0gdi55O1xuICAgICAgICB0aGlzLnogKz0gdi56IHx8IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzdGF0aWMgYWRkKHYyLCB2MSkge1xuICAgICAgICBjb25zdCB4ID0gdjIueCArIHYxLng7XG4gICAgICAgIGNvbnN0IHkgPSB2Mi55ICsgdjEueTtcbiAgICAgICAgY29uc3QgeiA9IHYyLnogKyB2MS56O1xuICAgICAgICByZXR1cm4gbmV3IFZlY3Rvcih4LCB5LCB6KTtcbiAgICB9XG4gICAgc3VidHJhY3Qodikge1xuICAgICAgICB0aGlzLnggLT0gdi54O1xuICAgICAgICB0aGlzLnkgLT0gdi55O1xuICAgICAgICB0aGlzLnogLT0gdi56IHx8IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzdGF0aWMgc3VidHJhY3QodjIsIHYxKSB7XG4gICAgICAgIGNvbnN0IHggPSB2Mi54IC0gdjEueDtcbiAgICAgICAgY29uc3QgeSA9IHYyLnkgLSB2MS55O1xuICAgICAgICBjb25zdCB6ID0gdjIueiAtIHYxLno7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHgsIHksIHopO1xuICAgIH1cbiAgICBtdWx0aXBseSh2KSB7XG4gICAgICAgIHRoaXMueCAqPSB2Lng7XG4gICAgICAgIHRoaXMueSAqPSB2Lnk7XG4gICAgICAgIHRoaXMueiAqPSB2LnogfHwgMTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRpdmlkZSh2KSB7XG4gICAgICAgIHRoaXMueCAvPSB2Lng7XG4gICAgICAgIHRoaXMueSAvPSB2Lnk7XG4gICAgICAgIHRoaXMueiAvPSB2LnogfHwgMTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNjYWxlKHNjYWxhcikge1xuICAgICAgICBpZiAoaXNGaW5pdGUoc2NhbGFyKSkge1xuICAgICAgICAgICAgdGhpcy54ICo9IHNjYWxhcjtcbiAgICAgICAgICAgIHRoaXMueSAqPSBzY2FsYXI7XG4gICAgICAgICAgICB0aGlzLnogKj0gc2NhbGFyO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yLlpFUk87XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmVnYXRlKCkge1xuICAgICAgICB0aGlzLnggPSAtdGhpcy54O1xuICAgICAgICB0aGlzLnkgPSAtdGhpcy55O1xuICAgICAgICB0aGlzLnogPSBtYXRoZl8xLm1hdGhmLmFic1plcm8oLXRoaXMueik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzdGF0aWMgbmVnYXRlKHYpIHtcbiAgICAgICAgbGV0IHggPSAtdi54O1xuICAgICAgICBsZXQgeSA9IC12Lnk7XG4gICAgICAgIGxldCB6ID0gbWF0aGZfMS5tYXRoZi5hYnNaZXJvKC12LnopO1xuICAgICAgICByZXR1cm4gbmV3IFZlY3Rvcih4LCB5LCB6KTtcbiAgICB9XG4gICAgZGlzdGFuY2Uodikge1xuICAgICAgICBsZXQgZHggPSB2LnggLSB0aGlzLng7XG4gICAgICAgIGxldCBkeSA9IHYueSAtIHRoaXMueTtcbiAgICAgICAgbGV0IGR6ID0gdi56IC0gdGhpcy56IHx8IDA7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkgKyBkeiAqIGR6KTtcbiAgICB9XG4gICAgbGVuZ3RoKCkge1xuICAgICAgICBsZXQgeCA9IHRoaXMueDtcbiAgICAgICAgbGV0IHkgPSB0aGlzLnk7XG4gICAgICAgIGxldCB6ID0gdGhpcy56O1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XG4gICAgfVxuICAgIGxlbmd0aFNxdWFyZWQoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56KTtcbiAgICB9XG4gICAgbWFnbml0dWRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZW5ndGgoKTtcbiAgICB9XG4gICAgbm9ybWFsaXplKCkge1xuICAgICAgICBsZXQgeCA9IHRoaXMueDtcbiAgICAgICAgbGV0IHkgPSB0aGlzLnk7XG4gICAgICAgIGxldCB6ID0gdGhpcy56O1xuICAgICAgICBsZXQgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6O1xuICAgICAgICBpZiAobGVuID4gMCkge1xuICAgICAgICAgICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICAgICAgICAgICAgdGhpcy54ID0geCAqIGxlbjtcbiAgICAgICAgICAgIHRoaXMueSA9IHkgKiBsZW47XG4gICAgICAgICAgICB0aGlzLnogPSB6ICogbGVuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkb3Qodikge1xuICAgICAgICByZXR1cm4gdGhpcy54ICogdi54ICsgdGhpcy55ICogdi55ICsgdGhpcy56ICogdi56O1xuICAgIH1cbiAgICBjcm9zcyh2KSB7XG4gICAgICAgIGxldCBheCA9IHRoaXMueDtcbiAgICAgICAgbGV0IGF5ID0gdGhpcy55O1xuICAgICAgICBsZXQgYXogPSB0aGlzLno7XG4gICAgICAgIGxldCBieCA9IHYueDtcbiAgICAgICAgbGV0IGJ5ID0gdi55O1xuICAgICAgICBsZXQgYnogPSB2Lno7XG4gICAgICAgIHRoaXMueCA9IGF5ICogYnogLSBheiAqIGJ5O1xuICAgICAgICB0aGlzLnkgPSBheiAqIGJ4IC0gYXggKiBiejtcbiAgICAgICAgdGhpcy56ID0gYXggKiBieSAtIGF5ICogYng7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0cmFuc2Zvcm1XaXRoTWF0cml4SVYobWF0cml4KSB7XG4gICAgICAgIGxldCB4ID0gdGhpcy54O1xuICAgICAgICBsZXQgeSA9IHRoaXMueTtcbiAgICAgICAgbGV0IHogPSB0aGlzLno7XG4gICAgICAgIGxldCBtYXQgPSBtYXRyaXgudmFsdWU7XG4gICAgICAgIGxldCB0eCA9ICh4ICogbWF0WzBdKSArICh5ICogbWF0WzRdKSArICh6ICogbWF0WzhdKSArIG1hdFsxMl07XG4gICAgICAgIGxldCB0eSA9ICh4ICogbWF0WzFdKSArICh5ICogbWF0WzVdKSArICh6ICogbWF0WzldKSArIG1hdFsxM107XG4gICAgICAgIGxldCB0eiA9ICh4ICogbWF0WzJdKSArICh5ICogbWF0WzZdKSArICh6ICogbWF0WzEwXSkgKyBtYXRbMTRdO1xuICAgICAgICBsZXQgdHcgPSAoeCAqIG1hdFszXSkgKyAoeSAqIG1hdFs3XSkgKyAoeiAqIG1hdFsxMV0pICsgbWF0WzE1XTtcbiAgICAgICAgdHcgPSB0dyB8fCAxLjA7XG4gICAgICAgIHRoaXMueCA9IHR4IC8gdHc7XG4gICAgICAgIHRoaXMueSA9IHR5IC8gdHc7XG4gICAgICAgIHRoaXMueiA9IHR6IC8gdHc7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHRoaXMueCwgdGhpcy55LCB0aGlzLnopO1xuICAgIH1cbiAgICB0cmFuc2Zvcm1XaXRoTWF0cml4SVZUbzJkKG1hdHJpeCkge1xuICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgICAgICAgLnRyYW5zZm9ybVdpdGhNYXRyaXhJVihtYXRyaXgpXG4gICAgICAgICAgICAuc2V0KHRoaXMueCwgdGhpcy55LCAwKTtcbiAgICB9XG4gICAgbGVycCh2LCBwcm9ncmVzcyA9IDApIHtcbiAgICAgICAgdGhpcy54ID0gbWF0aGZfMS5tYXRoZi5sZXJwKHRoaXMueCwgdi54LCBwcm9ncmVzcyk7XG4gICAgICAgIHRoaXMueSA9IG1hdGhmXzEubWF0aGYubGVycCh0aGlzLnksIHYueSwgcHJvZ3Jlc3MpO1xuICAgICAgICB0aGlzLnogPSBtYXRoZl8xLm1hdGhmLmxlcnAodGhpcy56LCB2LnosIHByb2dyZXNzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRhbXAodiwgcHJvZ3Jlc3MgPSAwLCBkYW1wKSB7XG4gICAgICAgIHRoaXMueCA9IG1hdGhmXzEubWF0aGYuZGFtcCh0aGlzLngsIHYueCwgcHJvZ3Jlc3MsIGRhbXApO1xuICAgICAgICB0aGlzLnkgPSBtYXRoZl8xLm1hdGhmLmRhbXAodGhpcy55LCB2LnksIHByb2dyZXNzLCBkYW1wKTtcbiAgICAgICAgdGhpcy56ID0gbWF0aGZfMS5tYXRoZi5kYW1wKHRoaXMueiwgdi56LCBwcm9ncmVzcywgZGFtcCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBlYXNlKHYsIHByb2dyZXNzID0gMCwgZWFzZUZ1bmN0aW9uID0gZWFzZV8xLkVBU0UubGluZWFyKSB7XG4gICAgICAgIHRoaXMueCA9IG1hdGhmXzEubWF0aGYuZWFzZSh0aGlzLngsIHYueCwgcHJvZ3Jlc3MsIGVhc2VGdW5jdGlvbik7XG4gICAgICAgIHRoaXMueSA9IG1hdGhmXzEubWF0aGYuZWFzZSh0aGlzLnksIHYueSwgcHJvZ3Jlc3MsIGVhc2VGdW5jdGlvbik7XG4gICAgICAgIHRoaXMueiA9IG1hdGhmXzEubWF0aGYuZWFzZSh0aGlzLnosIHYueiwgcHJvZ3Jlc3MsIGVhc2VGdW5jdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzdGF0aWMgZWFzZSh2MSwgdjIsIHByb2dyZXNzID0gMCwgZWFzZUZ1bmN0aW9uID0gZWFzZV8xLkVBU0UubGluZWFyKSB7XG4gICAgICAgIGNvbnN0IHggPSBtYXRoZl8xLm1hdGhmLmVhc2UodjEueCwgdjIueCwgcHJvZ3Jlc3MsIGVhc2VGdW5jdGlvbik7XG4gICAgICAgIGNvbnN0IHkgPSBtYXRoZl8xLm1hdGhmLmVhc2UodjEueSwgdjIueSwgcHJvZ3Jlc3MsIGVhc2VGdW5jdGlvbik7XG4gICAgICAgIGNvbnN0IHogPSBtYXRoZl8xLm1hdGhmLmVhc2UodjEueiwgdjIueiwgcHJvZ3Jlc3MsIGVhc2VGdW5jdGlvbik7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHgsIHksIHopO1xuICAgIH1cbiAgICBzdGF0aWMgbWluKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoTWF0aC5taW4oYS54LCBiLngpLCBNYXRoLm1pbihhLnksIGIueSksIE1hdGgubWluKGEueiwgYi56KSk7XG4gICAgfVxuICAgIHN0YXRpYyBtYXgoYSwgYikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihNYXRoLm1heChhLngsIGIueCksIE1hdGgubWF4KGEueSwgYi55KSwgTWF0aC5tYXgoYS56LCBiLnopKTtcbiAgICB9XG4gICAgc3RhdGljIGRlZ3JlZVRvUmFkaWFucyh2KSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKG1hdGhmXzEubWF0aGYuZGVncmVlVG9SYWRpYW4odi54KSwgbWF0aGZfMS5tYXRoZi5kZWdyZWVUb1JhZGlhbih2LnkpLCBtYXRoZl8xLm1hdGhmLmRlZ3JlZVRvUmFkaWFuKHYueikpO1xuICAgIH1cbiAgICBkZWdyZWVUb1JhZGlhbnMoKSB7XG4gICAgICAgIHJldHVybiBWZWN0b3IuZGVncmVlVG9SYWRpYW5zKHRoaXMpO1xuICAgIH1cbiAgICBzdGF0aWMgY2xhbXAobWluLCBtYXgsIHZlY3Rvcikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihtYXRoZl8xLm1hdGhmLmNsYW1wKG1pbi54LCBtYXgueCwgdmVjdG9yLngpLCBtYXRoZl8xLm1hdGhmLmNsYW1wKG1pbi55LCBtYXgueSwgdmVjdG9yLnkpLCBtYXRoZl8xLm1hdGhmLmNsYW1wKG1pbi56LCBtYXgueiwgdmVjdG9yLnopKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21Sb3RhdGlvbk1hdHJpeElWKG0pIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFZlY3Rvci5aRVJPO1xuICAgICAgICB2YXIgdGUgPSBtLnZhbHVlO1xuICAgICAgICB2YXIgbTExID0gdGVbMF0sIG0xMiA9IHRlWzRdLCBtMTMgPSB0ZVs4XTtcbiAgICAgICAgdmFyIG0yMSA9IHRlWzFdLCBtMjIgPSB0ZVs1XSwgbTIzID0gdGVbOV07XG4gICAgICAgIHZhciBtMzEgPSB0ZVsyXSwgbTMyID0gdGVbNl0sIG0zMyA9IHRlWzEwXTtcbiAgICAgICAgcmVzdWx0LnkgPSBNYXRoLmFzaW4obWF0aGZfMS5tYXRoZi5jbGFtcCgtMSwgMSwgbTEzKSk7XG4gICAgICAgIGlmIChNYXRoLmFicyhtMTMpIDwgMC45OTk5OTk5KSB7XG4gICAgICAgICAgICByZXN1bHQueCA9IE1hdGguYXRhbjIoLW0yMywgbTMzKTtcbiAgICAgICAgICAgIHJlc3VsdC56ID0gTWF0aC5hdGFuMigtbTEyLCBtMTEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnggPSBNYXRoLmF0YW4yKG0zMiwgbTIyKTtcbiAgICAgICAgICAgIHJlc3VsdC56ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQueCA9IG1hdGhmXzEubWF0aGYucmFkaWFuVG9EZWdyZWUocmVzdWx0LngpO1xuICAgICAgICByZXN1bHQueSA9IG1hdGhmXzEubWF0aGYucmFkaWFuVG9EZWdyZWUocmVzdWx0LnkpO1xuICAgICAgICByZXN1bHQueiA9IG1hdGhmXzEubWF0aGYucmFkaWFuVG9EZWdyZWUocmVzdWx0LnopO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IFpFUk8oKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKDAsIDAsIDApO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE9ORSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoMSwgMSwgMSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgUklHSFQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKDEsIDAsIDApO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IExFRlQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKC0xLCAwLCAwKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBVUCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoMCwgLTEsIDApO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IERPV04oKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKDAsIDEsIDApO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IEZPUldBUkQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKDAsIDAsIDEpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IEJBQ0soKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKDAsIDAsIC0xKTtcbiAgICB9XG59XG5leHBvcnRzLlZlY3RvciA9IFZlY3RvcjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/mathf/vector.js\n");

/***/ }),

/***/ "./lib/mathf/wave.js":
/*!***************************!*\
  !*** ./lib/mathf/wave.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Wave {\n    constructor(speed) {\n        this.timer = 0;\n        this.speed = speed;\n    }\n    get sinWave() {\n        return Math.sin(this.timer);\n    }\n    get cosWave() {\n        return Math.cos(this.timer);\n    }\n    update() {\n        this.timer = this.timer + this.speed;\n    }\n}\nexports.Wave = Wave;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvd2F2ZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9tYXRoZi93YXZlLmpzPzVjZGQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jbGFzcyBXYXZlIHtcbiAgICBjb25zdHJ1Y3RvcihzcGVlZCkge1xuICAgICAgICB0aGlzLnRpbWVyID0gMDtcbiAgICAgICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xuICAgIH1cbiAgICBnZXQgc2luV2F2ZSgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc2luKHRoaXMudGltZXIpO1xuICAgIH1cbiAgICBnZXQgY29zV2F2ZSgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguY29zKHRoaXMudGltZXIpO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIHRoaXMudGltZXIgPSB0aGlzLnRpbWVyICsgdGhpcy5zcGVlZDtcbiAgICB9XG59XG5leHBvcnRzLldhdmUgPSBXYXZlO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/mathf/wave.js\n");

/***/ }),

/***/ "./lib/objectf/objectf.js":
/*!********************************!*\
  !*** ./lib/objectf/objectf.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst arrayf_1 = __webpack_require__(/*! ../arrayf/arrayf */ \"./lib/arrayf/arrayf.js\");\nclass objectf {\n    static deepCopy(input) {\n        return arrayf_1.arrayf.deepCopy(input);\n    }\n    static jsonCopy(obj) {\n        return JSON.parse(JSON.stringify(obj));\n    }\n    static areEqual(a, b) {\n        var aProps = Object.getOwnPropertyNames(a);\n        var bProps = Object.getOwnPropertyNames(b);\n        if (aProps.length != bProps.length) {\n            return false;\n        }\n        for (var i = 0; i < aProps.length; i++) {\n            var propName = aProps[i];\n            if (a[propName] !== b[propName]) {\n                return false;\n            }\n        }\n        return true;\n    }\n    static copy(obj) {\n        return Object.assign({}, obj);\n    }\n    static forEach(obj, callback) {\n        Object.entries(obj).forEach(([key, value]) => {\n            callback(key, value);\n        });\n    }\n}\nexports.objectf = objectf;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvb2JqZWN0Zi9vYmplY3RmLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL29iamVjdGYvb2JqZWN0Zi5qcz82NGRmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgYXJyYXlmXzEgPSByZXF1aXJlKFwiLi4vYXJyYXlmL2FycmF5ZlwiKTtcbmNsYXNzIG9iamVjdGYge1xuICAgIHN0YXRpYyBkZWVwQ29weShpbnB1dCkge1xuICAgICAgICByZXR1cm4gYXJyYXlmXzEuYXJyYXlmLmRlZXBDb3B5KGlucHV0KTtcbiAgICB9XG4gICAgc3RhdGljIGpzb25Db3B5KG9iaikge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKTtcbiAgICB9XG4gICAgc3RhdGljIGFyZUVxdWFsKGEsIGIpIHtcbiAgICAgICAgdmFyIGFQcm9wcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGEpO1xuICAgICAgICB2YXIgYlByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYik7XG4gICAgICAgIGlmIChhUHJvcHMubGVuZ3RoICE9IGJQcm9wcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFQcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByb3BOYW1lID0gYVByb3BzW2ldO1xuICAgICAgICAgICAgaWYgKGFbcHJvcE5hbWVdICE9PSBiW3Byb3BOYW1lXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgc3RhdGljIGNvcHkob2JqKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBvYmopO1xuICAgIH1cbiAgICBzdGF0aWMgZm9yRWFjaChvYmosIGNhbGxiYWNrKSB7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG9iaikuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayhrZXksIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5vYmplY3RmID0gb2JqZWN0ZjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/objectf/objectf.js\n");

/***/ }),

/***/ "./lib/pseudo-3d-canvas/camera.js":
/*!****************************************!*\
  !*** ./lib/pseudo-3d-canvas/camera.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vector_1 = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\nclass Camera {\n    constructor() {\n        this.position = vector_1.Vector.ZERO;\n        this.target = vector_1.Vector.ZERO;\n    }\n}\nexports.Camera = Camera;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvcHNldWRvLTNkLWNhbnZhcy9jYW1lcmEuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvcHNldWRvLTNkLWNhbnZhcy9jYW1lcmEuanM/YWUzNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHZlY3Rvcl8xID0gcmVxdWlyZShcIi4uL21hdGhmL3ZlY3RvclwiKTtcbmNsYXNzIENhbWVyYSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSB2ZWN0b3JfMS5WZWN0b3IuWkVSTztcbiAgICAgICAgdGhpcy50YXJnZXQgPSB2ZWN0b3JfMS5WZWN0b3IuWkVSTztcbiAgICB9XG59XG5leHBvcnRzLkNhbWVyYSA9IENhbWVyYTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/pseudo-3d-canvas/camera.js\n");

/***/ }),

/***/ "./lib/pseudo-3d-canvas/mesh.js":
/*!**************************************!*\
  !*** ./lib/pseudo-3d-canvas/mesh.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vector_1 = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\nconst matrixIV_1 = __webpack_require__(/*! ../mathf/matrixIV */ \"./lib/mathf/matrixIV.js\");\nvar MeshTypes;\n(function (MeshTypes) {\n    MeshTypes[\"CUBE\"] = \"cube\";\n})(MeshTypes = exports.MeshTypes || (exports.MeshTypes = {}));\nclass Mesh {\n    constructor() {\n        this.name = '';\n        this.vertices = [];\n        this.position = vector_1.Vector.ZERO;\n        this.rotation = vector_1.Vector.ZERO;\n        this.up = vector_1.Vector.ZERO;\n        this.right = vector_1.Vector.ZERO;\n        this.forward = vector_1.Vector.ZERO;\n        this.basisMatrix = matrixIV_1.MatrixIV.IDENTITY;\n        this.color = 'green';\n    }\n    size(width, height, depth) {\n        this.up = new vector_1.Vector(0, width, 0);\n        this.right = new vector_1.Vector(height, 0, 0);\n        this.forward = vector_1.Vector.ONE.cross(this.up);\n        let basisMatrix = new matrixIV_1.MatrixIV();\n        basisMatrix.setVectorColumn(0, this.right);\n        basisMatrix.setVectorColumn(1, this.up);\n        basisMatrix.setVectorColumn(2, this.forward);\n        this.basisMatrix = basisMatrix;\n    }\n}\nexports.Mesh = Mesh;\nclass CubeMesh extends Mesh {\n    constructor() {\n        super();\n        this.name = MeshTypes.CUBE;\n        this.vertices = [\n            new vector_1.Vector(-1, 1, 1),\n            new vector_1.Vector(1, 1, 1),\n            new vector_1.Vector(-1, -1, 1),\n            new vector_1.Vector(-1, -1, -1),\n            new vector_1.Vector(-1, 1, -1),\n            new vector_1.Vector(1, 1, -1),\n            new vector_1.Vector(1, -1, 1),\n            new vector_1.Vector(1, -1, -1)\n        ];\n    }\n}\nexports.CubeMesh = CubeMesh;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvcHNldWRvLTNkLWNhbnZhcy9tZXNoLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3BzZXVkby0zZC1jYW52YXMvbWVzaC5qcz84MGNlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgdmVjdG9yXzEgPSByZXF1aXJlKFwiLi4vbWF0aGYvdmVjdG9yXCIpO1xuY29uc3QgbWF0cml4SVZfMSA9IHJlcXVpcmUoXCIuLi9tYXRoZi9tYXRyaXhJVlwiKTtcbnZhciBNZXNoVHlwZXM7XG4oZnVuY3Rpb24gKE1lc2hUeXBlcykge1xuICAgIE1lc2hUeXBlc1tcIkNVQkVcIl0gPSBcImN1YmVcIjtcbn0pKE1lc2hUeXBlcyA9IGV4cG9ydHMuTWVzaFR5cGVzIHx8IChleHBvcnRzLk1lc2hUeXBlcyA9IHt9KSk7XG5jbGFzcyBNZXNoIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gJyc7XG4gICAgICAgIHRoaXMudmVydGljZXMgPSBbXTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHZlY3Rvcl8xLlZlY3Rvci5aRVJPO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gdmVjdG9yXzEuVmVjdG9yLlpFUk87XG4gICAgICAgIHRoaXMudXAgPSB2ZWN0b3JfMS5WZWN0b3IuWkVSTztcbiAgICAgICAgdGhpcy5yaWdodCA9IHZlY3Rvcl8xLlZlY3Rvci5aRVJPO1xuICAgICAgICB0aGlzLmZvcndhcmQgPSB2ZWN0b3JfMS5WZWN0b3IuWkVSTztcbiAgICAgICAgdGhpcy5iYXNpc01hdHJpeCA9IG1hdHJpeElWXzEuTWF0cml4SVYuSURFTlRJVFk7XG4gICAgICAgIHRoaXMuY29sb3IgPSAnZ3JlZW4nO1xuICAgIH1cbiAgICBzaXplKHdpZHRoLCBoZWlnaHQsIGRlcHRoKSB7XG4gICAgICAgIHRoaXMudXAgPSBuZXcgdmVjdG9yXzEuVmVjdG9yKDAsIHdpZHRoLCAwKTtcbiAgICAgICAgdGhpcy5yaWdodCA9IG5ldyB2ZWN0b3JfMS5WZWN0b3IoaGVpZ2h0LCAwLCAwKTtcbiAgICAgICAgdGhpcy5mb3J3YXJkID0gdmVjdG9yXzEuVmVjdG9yLk9ORS5jcm9zcyh0aGlzLnVwKTtcbiAgICAgICAgbGV0IGJhc2lzTWF0cml4ID0gbmV3IG1hdHJpeElWXzEuTWF0cml4SVYoKTtcbiAgICAgICAgYmFzaXNNYXRyaXguc2V0VmVjdG9yQ29sdW1uKDAsIHRoaXMucmlnaHQpO1xuICAgICAgICBiYXNpc01hdHJpeC5zZXRWZWN0b3JDb2x1bW4oMSwgdGhpcy51cCk7XG4gICAgICAgIGJhc2lzTWF0cml4LnNldFZlY3RvckNvbHVtbigyLCB0aGlzLmZvcndhcmQpO1xuICAgICAgICB0aGlzLmJhc2lzTWF0cml4ID0gYmFzaXNNYXRyaXg7XG4gICAgfVxufVxuZXhwb3J0cy5NZXNoID0gTWVzaDtcbmNsYXNzIEN1YmVNZXNoIGV4dGVuZHMgTWVzaCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubmFtZSA9IE1lc2hUeXBlcy5DVUJFO1xuICAgICAgICB0aGlzLnZlcnRpY2VzID0gW1xuICAgICAgICAgICAgbmV3IHZlY3Rvcl8xLlZlY3RvcigtMSwgMSwgMSksXG4gICAgICAgICAgICBuZXcgdmVjdG9yXzEuVmVjdG9yKDEsIDEsIDEpLFxuICAgICAgICAgICAgbmV3IHZlY3Rvcl8xLlZlY3RvcigtMSwgLTEsIDEpLFxuICAgICAgICAgICAgbmV3IHZlY3Rvcl8xLlZlY3RvcigtMSwgLTEsIC0xKSxcbiAgICAgICAgICAgIG5ldyB2ZWN0b3JfMS5WZWN0b3IoLTEsIDEsIC0xKSxcbiAgICAgICAgICAgIG5ldyB2ZWN0b3JfMS5WZWN0b3IoMSwgMSwgLTEpLFxuICAgICAgICAgICAgbmV3IHZlY3Rvcl8xLlZlY3RvcigxLCAtMSwgMSksXG4gICAgICAgICAgICBuZXcgdmVjdG9yXzEuVmVjdG9yKDEsIC0xLCAtMSlcbiAgICAgICAgXTtcbiAgICB9XG59XG5leHBvcnRzLkN1YmVNZXNoID0gQ3ViZU1lc2g7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/pseudo-3d-canvas/mesh.js\n");

/***/ }),

/***/ "./lib/pseudo-3d-canvas/pseudo-3d-canvas.js":
/*!**************************************************!*\
  !*** ./lib/pseudo-3d-canvas/pseudo-3d-canvas.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mathf_1 = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\nconst matrixIV_1 = __webpack_require__(/*! ../mathf/matrixIV */ \"./lib/mathf/matrixIV.js\");\nconst vector_1 = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\nconst dom_canvas_1 = __webpack_require__(/*! ../dom/dom-canvas */ \"./lib/dom/dom-canvas.js\");\nclass Pseudo3dCanvas {\n    constructor(config) {\n        this.canvasElement = config.canvasElement;\n        this.context = this.canvasElement.getContext('2d');\n        this.canvasElement.width = this.canvasElement.offsetWidth;\n        this.canvasElement.height = this.canvasElement.offsetHeight;\n        this.width = this.canvasElement.offsetWidth;\n        this.height = this.canvasElement.offsetHeight;\n        this.fov = mathf_1.mathf.degreeToRadian(45);\n        this.near = 1;\n        this.aspect = this.width / this.height;\n        this.far = 1000;\n        this.rotationMatrix = matrixIV_1.MatrixIV.IDENTITY;\n        this.translationMatrix = matrixIV_1.MatrixIV.IDENTITY;\n        this.viewMatrix = matrixIV_1.MatrixIV.IDENTITY;\n        this.worldMatrix = matrixIV_1.MatrixIV.IDENTITY;\n        this.transformMatrix = matrixIV_1.MatrixIV.IDENTITY;\n        this.projectionMatrix = matrixIV_1.MatrixIV.IDENTITY;\n    }\n    render(camera, meshes) {\n        this.context.clearRect(0, 0, this.width, this.height);\n        meshes.forEach((mesh) => {\n            this.viewMatrix =\n                new matrixIV_1.MatrixIV().lookAt(camera.position, camera.target, vector_1.Vector.UP);\n            this.projectionMatrix =\n                new matrixIV_1.MatrixIV()\n                    .perspective(this.fov, this.aspect, this.near, this.far);\n            this.translationMatrix = new matrixIV_1.MatrixIV()\n                .translate(mesh.position);\n            this.worldMatrix =\n                matrixIV_1.MatrixIV.IDENTITY\n                    .multiply(this.translationMatrix);\n            this.transformMatrix = this.projectionMatrix\n                .multiply(this.viewMatrix).multiply(this.worldMatrix);\n            mesh.vertices.forEach((v, i) => {\n                let rotationMatrix = new matrixIV_1.MatrixIV()\n                    .ypr(mesh.rotation.y, mesh.rotation.x, mesh.rotation.z);\n                let basisMatrix = mesh.basisMatrix.clone()\n                    .multiply(rotationMatrix);\n                let transformedVector = v.clone()\n                    .transformWithMatrixIV(basisMatrix);\n                let vector2d = transformedVector.clone()\n                    .transformWithMatrixIV(this.transformMatrix);\n                var x = (vector2d.x * this.width);\n                x += (this.width * 0.5);\n                var y = (-vector2d.y * this.height);\n                y += (this.height * 0.5);\n                vector2d = new vector_1.Vector(x, y).int();\n                if (vector2d.x >= 0 && vector2d.y >= 0 && vector2d.x < this.width\n                    && vector2d.y < this.height) {\n                    dom_canvas_1.domCanvas.setFillColor(this.context, mesh.color);\n                    dom_canvas_1.domCanvas.setStrokeColor(this.context, mesh.color);\n                    dom_canvas_1.domCanvas.vectorPoint(this.context, vector2d);\n                    dom_canvas_1.domCanvas.quickText(this.context, 'v' + i, vector2d.x, vector2d.y - 4);\n                }\n            });\n        });\n    }\n}\nexports.Pseudo3dCanvas = Pseudo3dCanvas;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvcHNldWRvLTNkLWNhbnZhcy9wc2V1ZG8tM2QtY2FudmFzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3BzZXVkby0zZC1jYW52YXMvcHNldWRvLTNkLWNhbnZhcy5qcz80NjBmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbWF0aGZfMSA9IHJlcXVpcmUoXCIuLi9tYXRoZi9tYXRoZlwiKTtcbmNvbnN0IG1hdHJpeElWXzEgPSByZXF1aXJlKFwiLi4vbWF0aGYvbWF0cml4SVZcIik7XG5jb25zdCB2ZWN0b3JfMSA9IHJlcXVpcmUoXCIuLi9tYXRoZi92ZWN0b3JcIik7XG5jb25zdCBkb21fY2FudmFzXzEgPSByZXF1aXJlKFwiLi4vZG9tL2RvbS1jYW52YXNcIik7XG5jbGFzcyBQc2V1ZG8zZENhbnZhcyB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudCA9IGNvbmZpZy5jYW52YXNFbGVtZW50O1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhc0VsZW1lbnQuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50LndpZHRoID0gdGhpcy5jYW52YXNFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQuaGVpZ2h0ID0gdGhpcy5jYW52YXNFbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuY2FudmFzRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNhbnZhc0VsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB0aGlzLmZvdiA9IG1hdGhmXzEubWF0aGYuZGVncmVlVG9SYWRpYW4oNDUpO1xuICAgICAgICB0aGlzLm5lYXIgPSAxO1xuICAgICAgICB0aGlzLmFzcGVjdCA9IHRoaXMud2lkdGggLyB0aGlzLmhlaWdodDtcbiAgICAgICAgdGhpcy5mYXIgPSAxMDAwO1xuICAgICAgICB0aGlzLnJvdGF0aW9uTWF0cml4ID0gbWF0cml4SVZfMS5NYXRyaXhJVi5JREVOVElUWTtcbiAgICAgICAgdGhpcy50cmFuc2xhdGlvbk1hdHJpeCA9IG1hdHJpeElWXzEuTWF0cml4SVYuSURFTlRJVFk7XG4gICAgICAgIHRoaXMudmlld01hdHJpeCA9IG1hdHJpeElWXzEuTWF0cml4SVYuSURFTlRJVFk7XG4gICAgICAgIHRoaXMud29ybGRNYXRyaXggPSBtYXRyaXhJVl8xLk1hdHJpeElWLklERU5USVRZO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybU1hdHJpeCA9IG1hdHJpeElWXzEuTWF0cml4SVYuSURFTlRJVFk7XG4gICAgICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeCA9IG1hdHJpeElWXzEuTWF0cml4SVYuSURFTlRJVFk7XG4gICAgfVxuICAgIHJlbmRlcihjYW1lcmEsIG1lc2hlcykge1xuICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgbWVzaGVzLmZvckVhY2goKG1lc2gpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld01hdHJpeCA9XG4gICAgICAgICAgICAgICAgbmV3IG1hdHJpeElWXzEuTWF0cml4SVYoKS5sb29rQXQoY2FtZXJhLnBvc2l0aW9uLCBjYW1lcmEudGFyZ2V0LCB2ZWN0b3JfMS5WZWN0b3IuVVApO1xuICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uTWF0cml4ID1cbiAgICAgICAgICAgICAgICBuZXcgbWF0cml4SVZfMS5NYXRyaXhJVigpXG4gICAgICAgICAgICAgICAgICAgIC5wZXJzcGVjdGl2ZSh0aGlzLmZvdiwgdGhpcy5hc3BlY3QsIHRoaXMubmVhciwgdGhpcy5mYXIpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2xhdGlvbk1hdHJpeCA9IG5ldyBtYXRyaXhJVl8xLk1hdHJpeElWKClcbiAgICAgICAgICAgICAgICAudHJhbnNsYXRlKG1lc2gucG9zaXRpb24pO1xuICAgICAgICAgICAgdGhpcy53b3JsZE1hdHJpeCA9XG4gICAgICAgICAgICAgICAgbWF0cml4SVZfMS5NYXRyaXhJVi5JREVOVElUWVxuICAgICAgICAgICAgICAgICAgICAubXVsdGlwbHkodGhpcy50cmFuc2xhdGlvbk1hdHJpeCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybU1hdHJpeCA9IHRoaXMucHJvamVjdGlvbk1hdHJpeFxuICAgICAgICAgICAgICAgIC5tdWx0aXBseSh0aGlzLnZpZXdNYXRyaXgpLm11bHRpcGx5KHRoaXMud29ybGRNYXRyaXgpO1xuICAgICAgICAgICAgbWVzaC52ZXJ0aWNlcy5mb3JFYWNoKCh2LCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHJvdGF0aW9uTWF0cml4ID0gbmV3IG1hdHJpeElWXzEuTWF0cml4SVYoKVxuICAgICAgICAgICAgICAgICAgICAueXByKG1lc2gucm90YXRpb24ueSwgbWVzaC5yb3RhdGlvbi54LCBtZXNoLnJvdGF0aW9uLnopO1xuICAgICAgICAgICAgICAgIGxldCBiYXNpc01hdHJpeCA9IG1lc2guYmFzaXNNYXRyaXguY2xvbmUoKVxuICAgICAgICAgICAgICAgICAgICAubXVsdGlwbHkocm90YXRpb25NYXRyaXgpO1xuICAgICAgICAgICAgICAgIGxldCB0cmFuc2Zvcm1lZFZlY3RvciA9IHYuY2xvbmUoKVxuICAgICAgICAgICAgICAgICAgICAudHJhbnNmb3JtV2l0aE1hdHJpeElWKGJhc2lzTWF0cml4KTtcbiAgICAgICAgICAgICAgICBsZXQgdmVjdG9yMmQgPSB0cmFuc2Zvcm1lZFZlY3Rvci5jbG9uZSgpXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2Zvcm1XaXRoTWF0cml4SVYodGhpcy50cmFuc2Zvcm1NYXRyaXgpO1xuICAgICAgICAgICAgICAgIHZhciB4ID0gKHZlY3RvcjJkLnggKiB0aGlzLndpZHRoKTtcbiAgICAgICAgICAgICAgICB4ICs9ICh0aGlzLndpZHRoICogMC41KTtcbiAgICAgICAgICAgICAgICB2YXIgeSA9ICgtdmVjdG9yMmQueSAqIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB5ICs9ICh0aGlzLmhlaWdodCAqIDAuNSk7XG4gICAgICAgICAgICAgICAgdmVjdG9yMmQgPSBuZXcgdmVjdG9yXzEuVmVjdG9yKHgsIHkpLmludCgpO1xuICAgICAgICAgICAgICAgIGlmICh2ZWN0b3IyZC54ID49IDAgJiYgdmVjdG9yMmQueSA+PSAwICYmIHZlY3RvcjJkLnggPCB0aGlzLndpZHRoXG4gICAgICAgICAgICAgICAgICAgICYmIHZlY3RvcjJkLnkgPCB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBkb21fY2FudmFzXzEuZG9tQ2FudmFzLnNldEZpbGxDb2xvcih0aGlzLmNvbnRleHQsIG1lc2guY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICBkb21fY2FudmFzXzEuZG9tQ2FudmFzLnNldFN0cm9rZUNvbG9yKHRoaXMuY29udGV4dCwgbWVzaC5jb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIGRvbV9jYW52YXNfMS5kb21DYW52YXMudmVjdG9yUG9pbnQodGhpcy5jb250ZXh0LCB2ZWN0b3IyZCk7XG4gICAgICAgICAgICAgICAgICAgIGRvbV9jYW52YXNfMS5kb21DYW52YXMucXVpY2tUZXh0KHRoaXMuY29udGV4dCwgJ3YnICsgaSwgdmVjdG9yMmQueCwgdmVjdG9yMmQueSAtIDQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLlBzZXVkbzNkQ2FudmFzID0gUHNldWRvM2RDYW52YXM7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/pseudo-3d-canvas/pseudo-3d-canvas.js\n");

/***/ }),

/***/ "./lib/raf/raf-progress.js":
/*!*********************************!*\
  !*** ./lib/raf/raf-progress.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mathf_1 = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\nconst is_1 = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\nconst raf_1 = __webpack_require__(/*! ./raf */ \"./lib/raf/raf.js\");\nconst __1 = __webpack_require__(/*! .. */ \"./lib/index.js\");\nclass RafProgress {\n    constructor(progressRafLoop) {\n        this.currentProgress = 0;\n        this.precision = 10;\n        this.easeAmount = 1;\n        this.damp = 1;\n        this.rangeWatchers = [];\n        this.callbacks = [];\n        this.targetProgress = this.currentProgress;\n        this.easingFunction = __1.EASE.linear;\n        if (progressRafLoop) {\n            this.watch(progressRafLoop);\n        }\n        this.raf = new raf_1.Raf(() => {\n            this.rafLoop();\n        });\n    }\n    stop() {\n        this.raf.stop();\n    }\n    setFps(fps) {\n        this.raf.setFps(fps);\n    }\n    run() {\n        this.raf.start();\n    }\n    setPrecision(value) {\n        this.precision = value;\n    }\n    watch(callback) {\n        this.callbacks.push(callback);\n    }\n    unwatch(callbackToRemove) {\n        this.callbacks = this.callbacks.filter((callback) => {\n            return callback == callbackToRemove;\n        });\n    }\n    watchFor(range, callback) {\n        this.rangeWatchers.push({\n            range: range,\n            callback: callback\n        });\n    }\n    unwatchFor(callback) {\n        this.rangeWatchers = this.rangeWatchers.filter((watcher) => {\n            return watcher.callback !== callback;\n        });\n    }\n    rafLoop() {\n        let previousProgress = this.currentProgress;\n        if (!is_1.is.null(this.damp)) {\n            this.currentProgress =\n                mathf_1.mathf.damp(this.currentProgress, this.targetProgress, this.easeAmount, this.damp);\n        }\n        else {\n            this.currentProgress =\n                mathf_1.mathf.ease(this.currentProgress, this.targetProgress, this.easeAmount, this.easingFunction);\n        }\n        this.currentProgress =\n            mathf_1.mathf.toFixed(this.currentProgress, this.precision);\n        if (this.currentProgress < 0.5) {\n            this.currentProgress =\n                mathf_1.mathf.floorToPrecision(this.currentProgress, this.precision - 1);\n        }\n        else {\n            this.currentProgress =\n                mathf_1.mathf.ceilToPrecision(this.currentProgress, this.precision - 1);\n        }\n        this.direction = mathf_1.mathf.direction(previousProgress, this.currentProgress);\n        this.callbacks.forEach((callback) => {\n            callback(this.currentProgress, this.direction);\n        });\n        this.rangeWatchers.forEach((watcher) => {\n            let isBetween = false;\n            if (is_1.is.array(watcher.range)) {\n                isBetween = mathf_1.mathf.isBetween(this.currentProgress, watcher.range[0], watcher.range[1]);\n            }\n            else {\n                isBetween = mathf_1.mathf.isBetween(watcher.range, this.currentProgress, previousProgress);\n            }\n            if (isBetween) {\n                watcher.callback(this.currentProgress, this.direction);\n            }\n        });\n        if (previousProgress == this.currentProgress) {\n            this.raf.stop();\n        }\n    }\n    setCurrentProgress(progress, noClamp = true) {\n        this.currentProgress = noClamp ? progress :\n            mathf_1.mathf.clampAsProgress(progress);\n        this.targetProgress = this.currentProgress;\n        this.easeAmount = 1;\n        this.raf.start();\n    }\n    easeTo(targetProgress, easeAmount, easingFunction = __1.EASE.linear, noClamp = false) {\n        this.targetProgress = noClamp ? targetProgress : mathf_1.mathf.clampAsProgress(targetProgress);\n        this.easeAmount = mathf_1.mathf.clampAsPercent(easeAmount);\n        this.easingFunction = easingFunction;\n        this.damp = null;\n        this.raf.start(true);\n    }\n    dampTo(targetProgress, easeAmount, damp, noClamp = false) {\n        this.targetProgress = noClamp ? targetProgress : mathf_1.mathf.clampAsProgress(targetProgress);\n        this.easeAmount = mathf_1.mathf.clampAsPercent(easeAmount);\n        this.easingFunction = null;\n        this.damp = damp;\n        this.raf.start(true);\n    }\n    getLerpDelta() {\n        return this.targetProgress - this.currentProgress;\n    }\n    getScrollDirection() {\n        return this.direction;\n    }\n    dispose() {\n        this.raf.dispose();\n        this.callbacks = [];\n        this.rangeWatchers = [];\n    }\n}\nexports.RafProgress = RafProgress;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvcmFmL3JhZi1wcm9ncmVzcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9yYWYvcmFmLXByb2dyZXNzLmpzP2IzY2QiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBtYXRoZl8xID0gcmVxdWlyZShcIi4uL21hdGhmL21hdGhmXCIpO1xuY29uc3QgaXNfMSA9IHJlcXVpcmUoXCIuLi9pcy9pc1wiKTtcbmNvbnN0IHJhZl8xID0gcmVxdWlyZShcIi4vcmFmXCIpO1xuY29uc3QgX18xID0gcmVxdWlyZShcIi4uXCIpO1xuY2xhc3MgUmFmUHJvZ3Jlc3Mge1xuICAgIGNvbnN0cnVjdG9yKHByb2dyZXNzUmFmTG9vcCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRQcm9ncmVzcyA9IDA7XG4gICAgICAgIHRoaXMucHJlY2lzaW9uID0gMTA7XG4gICAgICAgIHRoaXMuZWFzZUFtb3VudCA9IDE7XG4gICAgICAgIHRoaXMuZGFtcCA9IDE7XG4gICAgICAgIHRoaXMucmFuZ2VXYXRjaGVycyA9IFtdO1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IFtdO1xuICAgICAgICB0aGlzLnRhcmdldFByb2dyZXNzID0gdGhpcy5jdXJyZW50UHJvZ3Jlc3M7XG4gICAgICAgIHRoaXMuZWFzaW5nRnVuY3Rpb24gPSBfXzEuRUFTRS5saW5lYXI7XG4gICAgICAgIGlmIChwcm9ncmVzc1JhZkxvb3ApIHtcbiAgICAgICAgICAgIHRoaXMud2F0Y2gocHJvZ3Jlc3NSYWZMb29wKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJhZiA9IG5ldyByYWZfMS5SYWYoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yYWZMb29wKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLnJhZi5zdG9wKCk7XG4gICAgfVxuICAgIHNldEZwcyhmcHMpIHtcbiAgICAgICAgdGhpcy5yYWYuc2V0RnBzKGZwcyk7XG4gICAgfVxuICAgIHJ1bigpIHtcbiAgICAgICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgICB9XG4gICAgc2V0UHJlY2lzaW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucHJlY2lzaW9uID0gdmFsdWU7XG4gICAgfVxuICAgIHdhdGNoKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIH1cbiAgICB1bndhdGNoKGNhbGxiYWNrVG9SZW1vdmUpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSB0aGlzLmNhbGxiYWNrcy5maWx0ZXIoKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sgPT0gY2FsbGJhY2tUb1JlbW92ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHdhdGNoRm9yKHJhbmdlLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnJhbmdlV2F0Y2hlcnMucHVzaCh7XG4gICAgICAgICAgICByYW5nZTogcmFuZ2UsXG4gICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVud2F0Y2hGb3IoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5yYW5nZVdhdGNoZXJzID0gdGhpcy5yYW5nZVdhdGNoZXJzLmZpbHRlcigod2F0Y2hlcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHdhdGNoZXIuY2FsbGJhY2sgIT09IGNhbGxiYWNrO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmFmTG9vcCgpIHtcbiAgICAgICAgbGV0IHByZXZpb3VzUHJvZ3Jlc3MgPSB0aGlzLmN1cnJlbnRQcm9ncmVzcztcbiAgICAgICAgaWYgKCFpc18xLmlzLm51bGwodGhpcy5kYW1wKSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UHJvZ3Jlc3MgPVxuICAgICAgICAgICAgICAgIG1hdGhmXzEubWF0aGYuZGFtcCh0aGlzLmN1cnJlbnRQcm9ncmVzcywgdGhpcy50YXJnZXRQcm9ncmVzcywgdGhpcy5lYXNlQW1vdW50LCB0aGlzLmRhbXApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UHJvZ3Jlc3MgPVxuICAgICAgICAgICAgICAgIG1hdGhmXzEubWF0aGYuZWFzZSh0aGlzLmN1cnJlbnRQcm9ncmVzcywgdGhpcy50YXJnZXRQcm9ncmVzcywgdGhpcy5lYXNlQW1vdW50LCB0aGlzLmVhc2luZ0Z1bmN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRQcm9ncmVzcyA9XG4gICAgICAgICAgICBtYXRoZl8xLm1hdGhmLnRvRml4ZWQodGhpcy5jdXJyZW50UHJvZ3Jlc3MsIHRoaXMucHJlY2lzaW9uKTtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFByb2dyZXNzIDwgMC41KSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQcm9ncmVzcyA9XG4gICAgICAgICAgICAgICAgbWF0aGZfMS5tYXRoZi5mbG9vclRvUHJlY2lzaW9uKHRoaXMuY3VycmVudFByb2dyZXNzLCB0aGlzLnByZWNpc2lvbiAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UHJvZ3Jlc3MgPVxuICAgICAgICAgICAgICAgIG1hdGhmXzEubWF0aGYuY2VpbFRvUHJlY2lzaW9uKHRoaXMuY3VycmVudFByb2dyZXNzLCB0aGlzLnByZWNpc2lvbiAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gbWF0aGZfMS5tYXRoZi5kaXJlY3Rpb24ocHJldmlvdXNQcm9ncmVzcywgdGhpcy5jdXJyZW50UHJvZ3Jlc3MpO1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5mb3JFYWNoKChjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2sodGhpcy5jdXJyZW50UHJvZ3Jlc3MsIHRoaXMuZGlyZWN0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmFuZ2VXYXRjaGVycy5mb3JFYWNoKCh3YXRjaGVyKSA9PiB7XG4gICAgICAgICAgICBsZXQgaXNCZXR3ZWVuID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoaXNfMS5pcy5hcnJheSh3YXRjaGVyLnJhbmdlKSkge1xuICAgICAgICAgICAgICAgIGlzQmV0d2VlbiA9IG1hdGhmXzEubWF0aGYuaXNCZXR3ZWVuKHRoaXMuY3VycmVudFByb2dyZXNzLCB3YXRjaGVyLnJhbmdlWzBdLCB3YXRjaGVyLnJhbmdlWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlzQmV0d2VlbiA9IG1hdGhmXzEubWF0aGYuaXNCZXR3ZWVuKHdhdGNoZXIucmFuZ2UsIHRoaXMuY3VycmVudFByb2dyZXNzLCBwcmV2aW91c1Byb2dyZXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0JldHdlZW4pIHtcbiAgICAgICAgICAgICAgICB3YXRjaGVyLmNhbGxiYWNrKHRoaXMuY3VycmVudFByb2dyZXNzLCB0aGlzLmRpcmVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocHJldmlvdXNQcm9ncmVzcyA9PSB0aGlzLmN1cnJlbnRQcm9ncmVzcykge1xuICAgICAgICAgICAgdGhpcy5yYWYuc3RvcCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldEN1cnJlbnRQcm9ncmVzcyhwcm9ncmVzcywgbm9DbGFtcCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50UHJvZ3Jlc3MgPSBub0NsYW1wID8gcHJvZ3Jlc3MgOlxuICAgICAgICAgICAgbWF0aGZfMS5tYXRoZi5jbGFtcEFzUHJvZ3Jlc3MocHJvZ3Jlc3MpO1xuICAgICAgICB0aGlzLnRhcmdldFByb2dyZXNzID0gdGhpcy5jdXJyZW50UHJvZ3Jlc3M7XG4gICAgICAgIHRoaXMuZWFzZUFtb3VudCA9IDE7XG4gICAgICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gICAgfVxuICAgIGVhc2VUbyh0YXJnZXRQcm9ncmVzcywgZWFzZUFtb3VudCwgZWFzaW5nRnVuY3Rpb24gPSBfXzEuRUFTRS5saW5lYXIsIG5vQ2xhbXAgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLnRhcmdldFByb2dyZXNzID0gbm9DbGFtcCA/IHRhcmdldFByb2dyZXNzIDogbWF0aGZfMS5tYXRoZi5jbGFtcEFzUHJvZ3Jlc3ModGFyZ2V0UHJvZ3Jlc3MpO1xuICAgICAgICB0aGlzLmVhc2VBbW91bnQgPSBtYXRoZl8xLm1hdGhmLmNsYW1wQXNQZXJjZW50KGVhc2VBbW91bnQpO1xuICAgICAgICB0aGlzLmVhc2luZ0Z1bmN0aW9uID0gZWFzaW5nRnVuY3Rpb247XG4gICAgICAgIHRoaXMuZGFtcCA9IG51bGw7XG4gICAgICAgIHRoaXMucmFmLnN0YXJ0KHRydWUpO1xuICAgIH1cbiAgICBkYW1wVG8odGFyZ2V0UHJvZ3Jlc3MsIGVhc2VBbW91bnQsIGRhbXAsIG5vQ2xhbXAgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLnRhcmdldFByb2dyZXNzID0gbm9DbGFtcCA/IHRhcmdldFByb2dyZXNzIDogbWF0aGZfMS5tYXRoZi5jbGFtcEFzUHJvZ3Jlc3ModGFyZ2V0UHJvZ3Jlc3MpO1xuICAgICAgICB0aGlzLmVhc2VBbW91bnQgPSBtYXRoZl8xLm1hdGhmLmNsYW1wQXNQZXJjZW50KGVhc2VBbW91bnQpO1xuICAgICAgICB0aGlzLmVhc2luZ0Z1bmN0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5kYW1wID0gZGFtcDtcbiAgICAgICAgdGhpcy5yYWYuc3RhcnQodHJ1ZSk7XG4gICAgfVxuICAgIGdldExlcnBEZWx0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0UHJvZ3Jlc3MgLSB0aGlzLmN1cnJlbnRQcm9ncmVzcztcbiAgICB9XG4gICAgZ2V0U2Nyb2xsRGlyZWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXJlY3Rpb247XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMucmFmLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcbiAgICAgICAgdGhpcy5yYW5nZVdhdGNoZXJzID0gW107XG4gICAgfVxufVxuZXhwb3J0cy5SYWZQcm9ncmVzcyA9IFJhZlByb2dyZXNzO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/raf/raf-progress.js\n");

/***/ }),

/***/ "./lib/raf/raf-timer.js":
/*!******************************!*\
  !*** ./lib/raf/raf-timer.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst time_1 = __webpack_require__(/*! ../time/time */ \"./lib/time/time.js\");\nconst mathf_1 = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\nconst raf_1 = __webpack_require__(/*! ./raf */ \"./lib/raf/raf.js\");\nclass RafTimer {\n    constructor(rafLoop) {\n        this.rafLoop = rafLoop;\n        this.raf = new raf_1.Raf(() => {\n            this.animationLoop_();\n        });\n        this.duration = 0;\n        this.progress = 0;\n        this.timeElapsed = 0;\n        this.timeSnapshot = 0;\n        this.playing = false;\n        this.completeCallback = null;\n    }\n    animationLoop_() {\n        if (!this.playing) {\n            return;\n        }\n        const timeSinceLastTimeSnapshot = time_1.time.timeDiffMs(this.timeSnapshot, time_1.time.now());\n        this.timeElapsed += timeSinceLastTimeSnapshot;\n        this.progress =\n            mathf_1.mathf.clampAsPercent(this.timeElapsed / this.duration);\n        this.timeSnapshot = time_1.time.now();\n        if (this.progress < 1) {\n            this.rafLoop && this.rafLoop(this.progress);\n        }\n        else {\n            this.rafLoop && this.rafLoop(1);\n            this.reset();\n            this.raf.stop();\n            this.completeCallback && this.completeCallback(1);\n        }\n    }\n    setDuration(duration) {\n        this.duration = duration;\n    }\n    setFps(fps) {\n        this.raf.setFps(fps);\n    }\n    onComplete(callback) {\n        this.completeCallback = callback;\n    }\n    play() {\n        if (this.playing) {\n            return;\n        }\n        this.playing = true;\n        this.timeSnapshot = time_1.time.now();\n        this.raf.start();\n    }\n    reset() {\n        this.playing = false;\n        this.raf.stop();\n        this.timeElapsed = 0;\n    }\n    pause() {\n        this.raf.stop();\n        this.playing = false;\n    }\n    dispose() {\n        this.raf.dispose();\n    }\n}\nexports.RafTimer = RafTimer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvcmFmL3JhZi10aW1lci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9yYWYvcmFmLXRpbWVyLmpzPzFhNjQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB0aW1lXzEgPSByZXF1aXJlKFwiLi4vdGltZS90aW1lXCIpO1xuY29uc3QgbWF0aGZfMSA9IHJlcXVpcmUoXCIuLi9tYXRoZi9tYXRoZlwiKTtcbmNvbnN0IHJhZl8xID0gcmVxdWlyZShcIi4vcmFmXCIpO1xuY2xhc3MgUmFmVGltZXIge1xuICAgIGNvbnN0cnVjdG9yKHJhZkxvb3ApIHtcbiAgICAgICAgdGhpcy5yYWZMb29wID0gcmFmTG9vcDtcbiAgICAgICAgdGhpcy5yYWYgPSBuZXcgcmFmXzEuUmFmKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uTG9vcF8oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSAwO1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy50aW1lRWxhcHNlZCA9IDA7XG4gICAgICAgIHRoaXMudGltZVNuYXBzaG90ID0gMDtcbiAgICAgICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29tcGxldGVDYWxsYmFjayA9IG51bGw7XG4gICAgfVxuICAgIGFuaW1hdGlvbkxvb3BfKCkge1xuICAgICAgICBpZiAoIXRoaXMucGxheWluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RUaW1lU25hcHNob3QgPSB0aW1lXzEudGltZS50aW1lRGlmZk1zKHRoaXMudGltZVNuYXBzaG90LCB0aW1lXzEudGltZS5ub3coKSk7XG4gICAgICAgIHRoaXMudGltZUVsYXBzZWQgKz0gdGltZVNpbmNlTGFzdFRpbWVTbmFwc2hvdDtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9XG4gICAgICAgICAgICBtYXRoZl8xLm1hdGhmLmNsYW1wQXNQZXJjZW50KHRoaXMudGltZUVsYXBzZWQgLyB0aGlzLmR1cmF0aW9uKTtcbiAgICAgICAgdGhpcy50aW1lU25hcHNob3QgPSB0aW1lXzEudGltZS5ub3coKTtcbiAgICAgICAgaWYgKHRoaXMucHJvZ3Jlc3MgPCAxKSB7XG4gICAgICAgICAgICB0aGlzLnJhZkxvb3AgJiYgdGhpcy5yYWZMb29wKHRoaXMucHJvZ3Jlc3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yYWZMb29wICYmIHRoaXMucmFmTG9vcCgxKTtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMucmFmLnN0b3AoKTtcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGVDYWxsYmFjayAmJiB0aGlzLmNvbXBsZXRlQ2FsbGJhY2soMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0RHVyYXRpb24oZHVyYXRpb24pIHtcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgIH1cbiAgICBzZXRGcHMoZnBzKSB7XG4gICAgICAgIHRoaXMucmFmLnNldEZwcyhmcHMpO1xuICAgIH1cbiAgICBvbkNvbXBsZXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuY29tcGxldGVDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICBwbGF5KCkge1xuICAgICAgICBpZiAodGhpcy5wbGF5aW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50aW1lU25hcHNob3QgPSB0aW1lXzEudGltZS5ub3coKTtcbiAgICAgICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJhZi5zdG9wKCk7XG4gICAgICAgIHRoaXMudGltZUVsYXBzZWQgPSAwO1xuICAgIH1cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgdGhpcy5yYWYuc3RvcCgpO1xuICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5yYWYuZGlzcG9zZSgpO1xuICAgIH1cbn1cbmV4cG9ydHMuUmFmVGltZXIgPSBSYWZUaW1lcjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/raf/raf-timer.js\n");

/***/ }),

/***/ "./lib/raf/raf.js":
/*!************************!*\
  !*** ./lib/raf/raf.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst time_1 = __webpack_require__(/*! ../time/time */ \"./lib/time/time.js\");\nconst element_visibility_1 = __webpack_require__(/*! ../dom/element-visibility */ \"./lib/dom/element-visibility.js\");\nclass Raf {\n    constructor(rafLoop) {\n        this.isReadWriteOnly = false;\n        this.callbacks = [];\n        this.isDisposed = false;\n        this.raf_ = null;\n        this.frame = null;\n        this.lastUpdateTime = 0;\n        this.fps = 0;\n        this.currentFps = 0;\n        this.isPlaying = false;\n        this.isRunningRaf = false;\n        this.callbacks = [];\n        this.runCondition = null;\n        this.delta = 0;\n        this.elaspedTime = 0;\n        this.startTime = 0;\n        if (rafLoop) {\n            this.watch(rafLoop);\n        }\n        else {\n            this.isReadWriteOnly = true;\n        }\n        window['DEGU_RAF_REGISTRY'] &&\n            window['DEGU_RAF_REGISTRY'].register(this);\n    }\n    watch(callback) {\n        this.callbacks.push(callback);\n    }\n    setReadWriteMode(value) {\n        this.isReadWriteOnly = value;\n    }\n    preRead(callback) {\n        window['DEGU_RAF_REGISTRY'] &&\n            window['DEGU_RAF_REGISTRY'].addOneTimePreRead({\n                callback: callback,\n                raf: this\n            });\n    }\n    read(callback) {\n        window['DEGU_RAF_REGISTRY'] &&\n            window['DEGU_RAF_REGISTRY'].addOneTimeRead({\n                callback: callback,\n                raf: this\n            });\n    }\n    write(callback) {\n        window['DEGU_RAF_REGISTRY'] &&\n            window['DEGU_RAF_REGISTRY'].addOneTimeWrite({\n                callback: callback,\n                raf: this\n            });\n    }\n    postWrite(callback) {\n        window['DEGU_RAF_REGISTRY'] &&\n            window['DEGU_RAF_REGISTRY'].addOneTimePostWrite({\n                callback: callback,\n                raf: this\n            });\n    }\n    unwatch(callbackToRemove) {\n        this.callbacks = this.callbacks.filter((callback) => {\n            return callback == callbackToRemove;\n        });\n    }\n    runWhen(callbackCondition) {\n        this.runCondition = callbackCondition;\n    }\n    runWhenElementIsInview(element, intersectionObserverOptions) {\n        this.ev && this.ev.dispose();\n        this.runCondition = null;\n        this.ev = element_visibility_1.elementVisibility.inview(element, intersectionObserverOptions || {});\n        this.runWhen(() => {\n            return this.ev.state().inview;\n        });\n        return this.ev.readyPromise;\n    }\n    setFps(fps) {\n        this.fps = fps;\n    }\n    start(force = false) {\n        if (!force && this.isPlaying) {\n            return;\n        }\n        this.startTime = (typeof performance === 'undefined' ? Date : performance).now();\n        this.animationLoop_();\n        this.isPlaying = true;\n    }\n    stop() {\n        this.isPlaying = false;\n        window.cancelAnimationFrame(this.raf_);\n        this.isRunningRaf = false;\n    }\n    dispose() {\n        this.ev && this.ev.dispose();\n        this.callbacks = null;\n        this.isDisposed = true;\n        this.stop();\n        window['DEGU_RAF_REGISTRY'] &&\n            window['DEGU_RAF_REGISTRY'].unregister(this);\n    }\n    getDelta(inSeconds) {\n        if (inSeconds) {\n            return this.delta / 1000;\n        }\n        else {\n            return this.delta;\n        }\n    }\n    getElapsedTime() {\n        return this.elaspedTime;\n    }\n    getStartTime() {\n        return this.startTime;\n    }\n    getCurrentFps() {\n        return this.currentFps;\n    }\n    animationLoop_() {\n        if (this.isRunningRaf) {\n            return;\n        }\n        this.raf_ = window.requestAnimationFrame((frame) => {\n            this.frame = frame;\n            this.isRunningRaf = false;\n            this.animationLoop_();\n        });\n        this.isRunningRaf = true;\n        if (this.lastUpdateTime) {\n            const current = time_1.time.now();\n            const elapsed = current - this.lastUpdateTime;\n            this.delta = elapsed;\n            this.elaspedTime += elapsed / 1000;\n            const fps = this.fps == 0 ? 0 : 1000 / this.fps;\n            this.currentFps = 1000 / elapsed;\n            if (elapsed > fps) {\n                this.callbacks && this.callbacks.forEach((callback) => {\n                    const callCallback = () => {\n                        callback(this.frame, this.lastUpdateTime, elapsed, () => {\n                            this.stop();\n                        });\n                    };\n                    if (this.runCondition) {\n                        this.runCondition() && callCallback();\n                    }\n                    else {\n                        callCallback();\n                    }\n                });\n                this.lastUpdateTime = time_1.time.now();\n            }\n        }\n        if (!this.lastUpdateTime) {\n            this.lastUpdateTime = time_1.time.now();\n        }\n    }\n}\nexports.Raf = Raf;\nclass RafRegistry {\n    constructor() {\n        this.preReads = [];\n        this.reads = [];\n        this.writes = [];\n        this.postWrites = [];\n        this.rafs = [];\n    }\n    static runRafCallbacks(callbacks) {\n        while (callbacks.length) {\n            const registryObject = callbacks.splice(0, 1)[0];\n            if (!registryObject.raf.isDisposed && (registryObject.raf.isPlaying || registryObject.raf.isReadWriteOnly)) {\n                registryObject.callback();\n            }\n        }\n    }\n    start() {\n        if (this.flushScheduled) {\n            return;\n        }\n        this.flushScheduled = true;\n        requestAnimationFrame(() => {\n            this.runRaf();\n        });\n    }\n    runRaf() {\n        if (window['DEGU_RAF_REGISTRY_DEBUG']) {\n            console.log(\"Running raf\", this.reads.length, this.writes.length);\n        }\n        RafRegistry.runRafCallbacks(this.preReads);\n        RafRegistry.runRafCallbacks(this.reads);\n        RafRegistry.runRafCallbacks(this.writes);\n        RafRegistry.runRafCallbacks(this.postWrites);\n        this.flushScheduled = false;\n    }\n    addOneTimePreRead(read) {\n        this.preReads.push(read);\n        this.start();\n    }\n    addOneTimeRead(read) {\n        this.reads.push(read);\n        this.start();\n    }\n    addOneTimeWrite(write) {\n        this.writes.push(write);\n        this.start();\n    }\n    addOneTimePostWrite(postWrite) {\n        this.postWrites.push(postWrite);\n        this.start();\n    }\n    getActiveRafCount() {\n        return this.rafs.filter((r) => {\n            return r.isPlaying;\n        }).length;\n    }\n    getRafCount() {\n        return this.rafs.length;\n    }\n    register(raf) {\n        this.rafs.push(raf);\n    }\n    unregister(raf) {\n        this.rafs = this.rafs.filter((r) => {\n            return r == raf;\n        });\n    }\n}\nif (window && !window['DEGU_RAF_REGISTRY']) {\n    window['DEGU_RAF_REGISTRY'] = new RafRegistry();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvcmFmL3JhZi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9yYWYvcmFmLmpzPzllNTUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB0aW1lXzEgPSByZXF1aXJlKFwiLi4vdGltZS90aW1lXCIpO1xuY29uc3QgZWxlbWVudF92aXNpYmlsaXR5XzEgPSByZXF1aXJlKFwiLi4vZG9tL2VsZW1lbnQtdmlzaWJpbGl0eVwiKTtcbmNsYXNzIFJhZiB7XG4gICAgY29uc3RydWN0b3IocmFmTG9vcCkge1xuICAgICAgICB0aGlzLmlzUmVhZFdyaXRlT25seSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IFtdO1xuICAgICAgICB0aGlzLmlzRGlzcG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yYWZfID0gbnVsbDtcbiAgICAgICAgdGhpcy5mcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdFVwZGF0ZVRpbWUgPSAwO1xuICAgICAgICB0aGlzLmZwcyA9IDA7XG4gICAgICAgIHRoaXMuY3VycmVudEZwcyA9IDA7XG4gICAgICAgIHRoaXMuaXNQbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNSdW5uaW5nUmFmID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gW107XG4gICAgICAgIHRoaXMucnVuQ29uZGl0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZWx0YSA9IDA7XG4gICAgICAgIHRoaXMuZWxhc3BlZFRpbWUgPSAwO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IDA7XG4gICAgICAgIGlmIChyYWZMb29wKSB7XG4gICAgICAgICAgICB0aGlzLndhdGNoKHJhZkxvb3ApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc1JlYWRXcml0ZU9ubHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHdpbmRvd1snREVHVV9SQUZfUkVHSVNUUlknXSAmJlxuICAgICAgICAgICAgd2luZG93WydERUdVX1JBRl9SRUdJU1RSWSddLnJlZ2lzdGVyKHRoaXMpO1xuICAgIH1cbiAgICB3YXRjaChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgc2V0UmVhZFdyaXRlTW9kZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLmlzUmVhZFdyaXRlT25seSA9IHZhbHVlO1xuICAgIH1cbiAgICBwcmVSZWFkKGNhbGxiYWNrKSB7XG4gICAgICAgIHdpbmRvd1snREVHVV9SQUZfUkVHSVNUUlknXSAmJlxuICAgICAgICAgICAgd2luZG93WydERUdVX1JBRl9SRUdJU1RSWSddLmFkZE9uZVRpbWVQcmVSZWFkKHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgcmFmOiB0aGlzXG4gICAgICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVhZChjYWxsYmFjaykge1xuICAgICAgICB3aW5kb3dbJ0RFR1VfUkFGX1JFR0lTVFJZJ10gJiZcbiAgICAgICAgICAgIHdpbmRvd1snREVHVV9SQUZfUkVHSVNUUlknXS5hZGRPbmVUaW1lUmVhZCh7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIHJhZjogdGhpc1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIHdyaXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIHdpbmRvd1snREVHVV9SQUZfUkVHSVNUUlknXSAmJlxuICAgICAgICAgICAgd2luZG93WydERUdVX1JBRl9SRUdJU1RSWSddLmFkZE9uZVRpbWVXcml0ZSh7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIHJhZjogdGhpc1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIHBvc3RXcml0ZShjYWxsYmFjaykge1xuICAgICAgICB3aW5kb3dbJ0RFR1VfUkFGX1JFR0lTVFJZJ10gJiZcbiAgICAgICAgICAgIHdpbmRvd1snREVHVV9SQUZfUkVHSVNUUlknXS5hZGRPbmVUaW1lUG9zdFdyaXRlKHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgcmFmOiB0aGlzXG4gICAgICAgICAgICB9KTtcbiAgICB9XG4gICAgdW53YXRjaChjYWxsYmFja1RvUmVtb3ZlKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gdGhpcy5jYWxsYmFja3MuZmlsdGVyKChjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrID09IGNhbGxiYWNrVG9SZW1vdmU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBydW5XaGVuKGNhbGxiYWNrQ29uZGl0aW9uKSB7XG4gICAgICAgIHRoaXMucnVuQ29uZGl0aW9uID0gY2FsbGJhY2tDb25kaXRpb247XG4gICAgfVxuICAgIHJ1bldoZW5FbGVtZW50SXNJbnZpZXcoZWxlbWVudCwgaW50ZXJzZWN0aW9uT2JzZXJ2ZXJPcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZXYgJiYgdGhpcy5ldi5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMucnVuQ29uZGl0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5ldiA9IGVsZW1lbnRfdmlzaWJpbGl0eV8xLmVsZW1lbnRWaXNpYmlsaXR5LmludmlldyhlbGVtZW50LCBpbnRlcnNlY3Rpb25PYnNlcnZlck9wdGlvbnMgfHwge30pO1xuICAgICAgICB0aGlzLnJ1bldoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXYuc3RhdGUoKS5pbnZpZXc7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5ldi5yZWFkeVByb21pc2U7XG4gICAgfVxuICAgIHNldEZwcyhmcHMpIHtcbiAgICAgICAgdGhpcy5mcHMgPSBmcHM7XG4gICAgfVxuICAgIHN0YXJ0KGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCFmb3JjZSAmJiB0aGlzLmlzUGxheWluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gKHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gJ3VuZGVmaW5lZCcgPyBEYXRlIDogcGVyZm9ybWFuY2UpLm5vdygpO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbkxvb3BfKCk7XG4gICAgICAgIHRoaXMuaXNQbGF5aW5nID0gdHJ1ZTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5pc1BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMucmFmXyk7XG4gICAgICAgIHRoaXMuaXNSdW5uaW5nUmFmID0gZmFsc2U7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuZXYgJiYgdGhpcy5ldi5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc0Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIHdpbmRvd1snREVHVV9SQUZfUkVHSVNUUlknXSAmJlxuICAgICAgICAgICAgd2luZG93WydERUdVX1JBRl9SRUdJU1RSWSddLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgfVxuICAgIGdldERlbHRhKGluU2Vjb25kcykge1xuICAgICAgICBpZiAoaW5TZWNvbmRzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWx0YSAvIDEwMDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWx0YTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRFbGFwc2VkVGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxhc3BlZFRpbWU7XG4gICAgfVxuICAgIGdldFN0YXJ0VGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRUaW1lO1xuICAgIH1cbiAgICBnZXRDdXJyZW50RnBzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50RnBzO1xuICAgIH1cbiAgICBhbmltYXRpb25Mb29wXygpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNSdW5uaW5nUmFmKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yYWZfID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoZnJhbWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSBmcmFtZTtcbiAgICAgICAgICAgIHRoaXMuaXNSdW5uaW5nUmFmID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkxvb3BfKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmlzUnVubmluZ1JhZiA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmxhc3RVcGRhdGVUaW1lKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gdGltZV8xLnRpbWUubm93KCk7XG4gICAgICAgICAgICBjb25zdCBlbGFwc2VkID0gY3VycmVudCAtIHRoaXMubGFzdFVwZGF0ZVRpbWU7XG4gICAgICAgICAgICB0aGlzLmRlbHRhID0gZWxhcHNlZDtcbiAgICAgICAgICAgIHRoaXMuZWxhc3BlZFRpbWUgKz0gZWxhcHNlZCAvIDEwMDA7XG4gICAgICAgICAgICBjb25zdCBmcHMgPSB0aGlzLmZwcyA9PSAwID8gMCA6IDEwMDAgLyB0aGlzLmZwcztcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEZwcyA9IDEwMDAgLyBlbGFwc2VkO1xuICAgICAgICAgICAgaWYgKGVsYXBzZWQgPiBmcHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrcyAmJiB0aGlzLmNhbGxiYWNrcy5mb3JFYWNoKChjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxsQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0aGlzLmZyYW1lLCB0aGlzLmxhc3RVcGRhdGVUaW1lLCBlbGFwc2VkLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucnVuQ29uZGl0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1bkNvbmRpdGlvbigpICYmIGNhbGxDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbENhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RVcGRhdGVUaW1lID0gdGltZV8xLnRpbWUubm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmxhc3RVcGRhdGVUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RVcGRhdGVUaW1lID0gdGltZV8xLnRpbWUubm93KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlJhZiA9IFJhZjtcbmNsYXNzIFJhZlJlZ2lzdHJ5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wcmVSZWFkcyA9IFtdO1xuICAgICAgICB0aGlzLnJlYWRzID0gW107XG4gICAgICAgIHRoaXMud3JpdGVzID0gW107XG4gICAgICAgIHRoaXMucG9zdFdyaXRlcyA9IFtdO1xuICAgICAgICB0aGlzLnJhZnMgPSBbXTtcbiAgICB9XG4gICAgc3RhdGljIHJ1blJhZkNhbGxiYWNrcyhjYWxsYmFja3MpIHtcbiAgICAgICAgd2hpbGUgKGNhbGxiYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2lzdHJ5T2JqZWN0ID0gY2FsbGJhY2tzLnNwbGljZSgwLCAxKVswXTtcbiAgICAgICAgICAgIGlmICghcmVnaXN0cnlPYmplY3QucmFmLmlzRGlzcG9zZWQgJiYgKHJlZ2lzdHJ5T2JqZWN0LnJhZi5pc1BsYXlpbmcgfHwgcmVnaXN0cnlPYmplY3QucmFmLmlzUmVhZFdyaXRlT25seSkpIHtcbiAgICAgICAgICAgICAgICByZWdpc3RyeU9iamVjdC5jYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAodGhpcy5mbHVzaFNjaGVkdWxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmx1c2hTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ydW5SYWYoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJ1blJhZigpIHtcbiAgICAgICAgaWYgKHdpbmRvd1snREVHVV9SQUZfUkVHSVNUUllfREVCVUcnXSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJSdW5uaW5nIHJhZlwiLCB0aGlzLnJlYWRzLmxlbmd0aCwgdGhpcy53cml0ZXMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBSYWZSZWdpc3RyeS5ydW5SYWZDYWxsYmFja3ModGhpcy5wcmVSZWFkcyk7XG4gICAgICAgIFJhZlJlZ2lzdHJ5LnJ1blJhZkNhbGxiYWNrcyh0aGlzLnJlYWRzKTtcbiAgICAgICAgUmFmUmVnaXN0cnkucnVuUmFmQ2FsbGJhY2tzKHRoaXMud3JpdGVzKTtcbiAgICAgICAgUmFmUmVnaXN0cnkucnVuUmFmQ2FsbGJhY2tzKHRoaXMucG9zdFdyaXRlcyk7XG4gICAgICAgIHRoaXMuZmx1c2hTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgYWRkT25lVGltZVByZVJlYWQocmVhZCkge1xuICAgICAgICB0aGlzLnByZVJlYWRzLnB1c2gocmVhZCk7XG4gICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9XG4gICAgYWRkT25lVGltZVJlYWQocmVhZCkge1xuICAgICAgICB0aGlzLnJlYWRzLnB1c2gocmVhZCk7XG4gICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9XG4gICAgYWRkT25lVGltZVdyaXRlKHdyaXRlKSB7XG4gICAgICAgIHRoaXMud3JpdGVzLnB1c2god3JpdGUpO1xuICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfVxuICAgIGFkZE9uZVRpbWVQb3N0V3JpdGUocG9zdFdyaXRlKSB7XG4gICAgICAgIHRoaXMucG9zdFdyaXRlcy5wdXNoKHBvc3RXcml0ZSk7XG4gICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9XG4gICAgZ2V0QWN0aXZlUmFmQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhZnMuZmlsdGVyKChyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gci5pc1BsYXlpbmc7XG4gICAgICAgIH0pLmxlbmd0aDtcbiAgICB9XG4gICAgZ2V0UmFmQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhZnMubGVuZ3RoO1xuICAgIH1cbiAgICByZWdpc3RlcihyYWYpIHtcbiAgICAgICAgdGhpcy5yYWZzLnB1c2gocmFmKTtcbiAgICB9XG4gICAgdW5yZWdpc3RlcihyYWYpIHtcbiAgICAgICAgdGhpcy5yYWZzID0gdGhpcy5yYWZzLmZpbHRlcigocikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHIgPT0gcmFmO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5pZiAod2luZG93ICYmICF3aW5kb3dbJ0RFR1VfUkFGX1JFR0lTVFJZJ10pIHtcbiAgICB3aW5kb3dbJ0RFR1VfUkFGX1JFR0lTVFJZJ10gPSBuZXcgUmFmUmVnaXN0cnkoKTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/raf/raf.js\n");

/***/ }),

/***/ "./lib/shaders/three-shader-chunks/noise.js":
/*!**************************************************!*\
  !*** ./lib/shaders/three-shader-chunks/noise.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst THREE = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\nexports.noise = () => {\n    THREE.ShaderChunk.noise = `\n  //\n  // Description : Array and textureless GLSL 2D/3D/4D simplex\n  //               noise functions.\n  //      Author : Ian McEwan, Ashima Arts.\n  //  Maintainer : stegu\n  //     Lastmod : 20110822 (ijm)\n  //     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n  //               Distributed under the MIT License. See LICENSE file.\n  //               https://github.com/ashima/webgl-noise\n  //               https://github.com/stegu/webgl-noise\n  //\n\n  vec3 mod289(vec3 x) {\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n  }\n\n  vec4 mod289(vec4 x) {\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n  }\n\n  vec4 permute(vec4 x) {\n       return mod289(((x*34.0)+1.0)*x);\n  }\n\n  // Permutation polynomial (ring size 289 = 17*17)\n  vec3 permute(vec3 x) {\n    return mod289(((x*34.0)+1.0)*x);\n  }\n\n  float permute(float x){\n      return x - floor(x * (1.0 / 289.0)) * 289.0;;\n  }\n\n  vec4 taylorInvSqrt(vec4 r){\n    return 1.79284291400159 - 0.85373472095314 * r;\n  }\n\n  vec2 fade(vec2 t) {\n    return t*t*t*(t*(t*6.0-15.0)+10.0);\n  }\n\n  vec3 fade(vec3 t) {\n    return t*t*t*(t*(t*6.0-15.0)+10.0);\n  }\n\n  // Hashed 2-D gradients with an extra rotation.\n  // (The constant 0.0243902439 is 1/41)\n  vec2 rgrad2(vec2 p, float rot) {\n  #if 0\n  // Map from a line to a diamond such that a shift maps to a rotation.\n    float u = permute(permute(p.x) + p.y) * 0.0243902439 + rot; // Rotate by shift\n    u = 4.0 * fract(u) - 2.0;\n    // (This vector could be normalized, exactly or approximately.)\n    return vec2(abs(u)-1.0, abs(abs(u+1.0)-2.0)-1.0);\n  #else\n  // For more isotropic gradients, sin/cos can be used instead.\n    float u = permute(permute(p.x) + p.y) * 0.0243902439 + rot; // Rotate by shift\n    u = fract(u) * 6.28318530718; // 2*pi\n    return vec2(cos(u), sin(u));\n  #endif\n  }\n\n  float snoise(vec3 v){\n    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n  // First corner\n    vec3 i  = floor(v + dot(v, C.yyy) );\n    vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n  // Other corners\n    vec3 g = step(x0.yzx, x0.xyz);\n    vec3 l = 1.0 - g;\n    vec3 i1 = min( g.xyz, l.zxy );\n    vec3 i2 = max( g.xyz, l.zxy );\n\n    //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n    //   x1 = x0 - i1  + 1.0 * C.xxx;\n    //   x2 = x0 - i2  + 2.0 * C.xxx;\n    //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n    vec3 x1 = x0 - i1 + C.xxx;\n    vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n    vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n  // Permutations\n    i = mod289(i);\n    vec4 p = permute( permute( permute(\n               i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n             + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n             + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n  // Gradients: 7x7 points over a square, mapped onto an octahedron.\n  // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n    float n_ = 0.142857142857; // 1.0/7.0\n    vec3  ns = n_ * D.wyz - D.xzx;\n\n    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n    vec4 x_ = floor(j * ns.z);\n    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n    vec4 x = x_ *ns.x + ns.yyyy;\n    vec4 y = y_ *ns.x + ns.yyyy;\n    vec4 h = 1.0 - abs(x) - abs(y);\n\n    vec4 b0 = vec4( x.xy, y.xy );\n    vec4 b1 = vec4( x.zw, y.zw );\n\n    //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n    //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n    vec4 s0 = floor(b0)*2.0 + 1.0;\n    vec4 s1 = floor(b1)*2.0 + 1.0;\n    vec4 sh = -step(h, vec4(0.0));\n\n    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n    vec3 p0 = vec3(a0.xy,h.x);\n    vec3 p1 = vec3(a0.zw,h.y);\n    vec3 p2 = vec3(a1.xy,h.z);\n    vec3 p3 = vec3(a1.zw,h.w);\n\n  //Normalise gradients\n    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n    p0 *= norm.x;\n    p1 *= norm.y;\n    p2 *= norm.z;\n    p3 *= norm.w;\n\n  // Mix final noise value\n    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n    m = m * m;\n    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                  dot(p2,x2), dot(p3,x3) ) );\n    }\n\n  // Classic Perlin noise\n  float cnoise(vec2 P){\n    vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n    vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n    Pi = mod289(Pi); // To avoid truncation effects in permutation\n    vec4 ix = Pi.xzxz;\n    vec4 iy = Pi.yyww;\n    vec4 fx = Pf.xzxz;\n    vec4 fy = Pf.yyww;\n\n    vec4 i = permute(permute(ix) + iy);\n\n    vec4 gx = fract(i * (1.0 / 41.0)) * 2.0 - 1.0 ;\n    vec4 gy = abs(gx) - 0.5 ;\n    vec4 tx = floor(gx + 0.5);\n    gx = gx - tx;\n\n    vec2 g00 = vec2(gx.x,gy.x);\n    vec2 g10 = vec2(gx.y,gy.y);\n    vec2 g01 = vec2(gx.z,gy.z);\n    vec2 g11 = vec2(gx.w,gy.w);\n\n    vec4 norm = taylorInvSqrt(vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11)));\n    g00 *= norm.x;\n    g01 *= norm.y;\n    g10 *= norm.z;\n    g11 *= norm.w;\n\n    float n00 = dot(g00, vec2(fx.x, fy.x));\n    float n10 = dot(g10, vec2(fx.y, fy.y));\n    float n01 = dot(g01, vec2(fx.z, fy.z));\n    float n11 = dot(g11, vec2(fx.w, fy.w));\n\n    vec2 fade_xy = fade(Pf.xy);\n    vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n    float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n    return 2.3 * n_xy;\n  }\n\n  // Classic Perlin noise, periodic variant\n  float pnoise(vec2 P, vec2 rep){\n    vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n    vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n    Pi = mod(Pi, rep.xyxy); // To create noise with explicit period\n    Pi = mod289(Pi);        // To avoid truncation effects in permutation\n    vec4 ix = Pi.xzxz;\n    vec4 iy = Pi.yyww;\n    vec4 fx = Pf.xzxz;\n    vec4 fy = Pf.yyww;\n\n    vec4 i = permute(permute(ix) + iy);\n\n    vec4 gx = fract(i * (1.0 / 41.0)) * 2.0 - 1.0 ;\n    vec4 gy = abs(gx) - 0.5 ;\n    vec4 tx = floor(gx + 0.5);\n    gx = gx - tx;\n\n    vec2 g00 = vec2(gx.x,gy.x);\n    vec2 g10 = vec2(gx.y,gy.y);\n    vec2 g01 = vec2(gx.z,gy.z);\n    vec2 g11 = vec2(gx.w,gy.w);\n\n    vec4 norm = taylorInvSqrt(vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11)));\n    g00 *= norm.x;\n    g01 *= norm.y;\n    g10 *= norm.z;\n    g11 *= norm.w;\n\n    float n00 = dot(g00, vec2(fx.x, fy.x));\n    float n10 = dot(g10, vec2(fx.y, fy.y));\n    float n01 = dot(g01, vec2(fx.z, fy.z));\n    float n11 = dot(g11, vec2(fx.w, fy.w));\n\n    vec2 fade_xy = fade(Pf.xy);\n    vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n    float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n    return 2.3 * n_xy;\n  }\n  // Classic Perlin noise\n  float cnoise(vec3 P)\n  {\n    vec3 Pi0 = floor(P); // Integer part for indexing\n    vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n    Pi0 = mod289(Pi0);\n    Pi1 = mod289(Pi1);\n    vec3 Pf0 = fract(P); // Fractional part for interpolation\n    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n    vec4 iy = vec4(Pi0.yy, Pi1.yy);\n    vec4 iz0 = Pi0.zzzz;\n    vec4 iz1 = Pi1.zzzz;\n\n    vec4 ixy = permute(permute(ix) + iy);\n    vec4 ixy0 = permute(ixy + iz0);\n    vec4 ixy1 = permute(ixy + iz1);\n\n    vec4 gx0 = ixy0 * (1.0 / 7.0);\n    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n    gx0 = fract(gx0);\n    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n    vec4 sz0 = step(gz0, vec4(0.0));\n    gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n    gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n    vec4 gx1 = ixy1 * (1.0 / 7.0);\n    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n    gx1 = fract(gx1);\n    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n    vec4 sz1 = step(gz1, vec4(0.0));\n    gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n    gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n    vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n    vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n    vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n    vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n    vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n    vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n    vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n    vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n    g000 *= norm0.x;\n    g010 *= norm0.y;\n    g100 *= norm0.z;\n    g110 *= norm0.w;\n    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n    g001 *= norm1.x;\n    g011 *= norm1.y;\n    g101 *= norm1.z;\n    g111 *= norm1.w;\n\n    float n000 = dot(g000, Pf0);\n    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n    float n111 = dot(g111, Pf1);\n\n    vec3 fade_xyz = fade(Pf0);\n    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n    return 2.2 * n_xyz;\n  }\n\n  // Classic Perlin noise, periodic variant\n  float pnoise(vec3 P, vec3 rep)\n  {\n    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period\n    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period\n    Pi0 = mod289(Pi0);\n    Pi1 = mod289(Pi1);\n    vec3 Pf0 = fract(P); // Fractional part for interpolation\n    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n    vec4 iy = vec4(Pi0.yy, Pi1.yy);\n    vec4 iz0 = Pi0.zzzz;\n    vec4 iz1 = Pi1.zzzz;\n\n    vec4 ixy = permute(permute(ix) + iy);\n    vec4 ixy0 = permute(ixy + iz0);\n    vec4 ixy1 = permute(ixy + iz1);\n\n    vec4 gx0 = ixy0 * (1.0 / 7.0);\n    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n    gx0 = fract(gx0);\n    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n    vec4 sz0 = step(gz0, vec4(0.0));\n    gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n    gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n    vec4 gx1 = ixy1 * (1.0 / 7.0);\n    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n    gx1 = fract(gx1);\n    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n    vec4 sz1 = step(gz1, vec4(0.0));\n    gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n    gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n    vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n    vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n    vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n    vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n    vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n    vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n    vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n    vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n    g000 *= norm0.x;\n    g010 *= norm0.y;\n    g100 *= norm0.z;\n    g110 *= norm0.w;\n    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n    g001 *= norm1.x;\n    g011 *= norm1.y;\n    g101 *= norm1.z;\n    g111 *= norm1.w;\n\n    float n000 = dot(g000, Pf0);\n    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n    float n111 = dot(g111, Pf1);\n\n    vec3 fade_xyz = fade(Pf0);\n    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n    return 2.2 * n_xyz;\n  }\n\n  float turbulence( vec3 p ) {\n    float w = 100.0;\n    float t = -.5;\n\n    for (float f = 1.0 ; f <= 10.0 ; f++ ){\n      float power = pow( 2.0, f );\n      t += abs( pnoise( vec3( power * p ), vec3( 10.0, 10.0, 10.0 ) ) / power );\n    }\n\n    return t;\n  }\n\n  float turbulence3( vec3 p ) {\n    float w = 100.0;\n    float t = -.5;\n\n    for (float f = 1.0 ; f <= 3.0 ; f++ ){\n      float power = pow( 2.0, f );\n      t += abs( pnoise( vec3( power * p ), vec3( 3.0, 3.0, 3.0 ) ) / power );\n    }\n\n    return t;\n  }\n\n  float turbulence6( vec3 p ) {\n    float w = 100.0;\n    float t = -.5;\n\n    for (float f = 1.0 ; f <= 6.0 ; f++ ){\n      float power = pow( 2.0, f );\n      t += abs( pnoise( vec3( power * p ), vec3( 6.0, 6.0, 6.0 ) ) / power );\n    }\n\n    return t;\n  }\n\n  //\n  // 2-D tiling simplex noise with rotating gradients and analytical derivative.\n  // The first component of the 3-element return vector is the noise value,\n  // and the second and third components are the x and y partial derivatives.\n  //\n  vec3 psrdnoise(vec2 pos, vec2 per, float rot) {\n    // Hack: offset y slightly to hide some rare artifacts\n    pos.y += 0.01;\n    // Skew to hexagonal grid\n    vec2 uv = vec2(pos.x + pos.y*0.5, pos.y);\n\n    vec2 i0 = floor(uv);\n    vec2 f0 = fract(uv);\n    // Traversal order\n    vec2 i1 = (f0.x > f0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n\n    // Unskewed grid points in (x,y) space\n    vec2 p0 = vec2(i0.x - i0.y * 0.5, i0.y);\n    vec2 p1 = vec2(p0.x + i1.x - i1.y * 0.5, p0.y + i1.y);\n    vec2 p2 = vec2(p0.x + 0.5, p0.y + 1.0);\n\n    // Integer grid point indices in (u,v) space\n    i1 = i0 + i1;\n    vec2 i2 = i0 + vec2(1.0, 1.0);\n\n    // Vectors in unskewed (x,y) coordinates from\n    // each of the simplex corners to the evaluation point\n    vec2 d0 = pos - p0;\n    vec2 d1 = pos - p1;\n    vec2 d2 = pos - p2;\n\n    // Wrap i0, i1 and i2 to the desired period before gradient hashing:\n    // wrap points in (x,y), map to (u,v)\n    vec3 xw = mod(vec3(p0.x, p1.x, p2.x), per.x);\n    vec3 yw = mod(vec3(p0.y, p1.y, p2.y), per.y);\n    vec3 iuw = xw + 0.5 * yw;\n    vec3 ivw = yw;\n\n    // Create gradients from indices\n    vec2 g0 = rgrad2(vec2(iuw.x, ivw.x), rot);\n    vec2 g1 = rgrad2(vec2(iuw.y, ivw.y), rot);\n    vec2 g2 = rgrad2(vec2(iuw.z, ivw.z), rot);\n\n    // Gradients dot vectors to corresponding corners\n    // (The derivatives of this are simply the gradients)\n    vec3 w = vec3(dot(g0, d0), dot(g1, d1), dot(g2, d2));\n\n    // Radial weights from corners\n    // 0.8 is the square of 2/sqrt(5), the distance from\n    // a grid point to the nearest simplex boundary\n    vec3 t = 0.8 - vec3(dot(d0, d0), dot(d1, d1), dot(d2, d2));\n\n    // Partial derivatives for analytical gradient computation\n    vec3 dtdx = -2.0 * vec3(d0.x, d1.x, d2.x);\n    vec3 dtdy = -2.0 * vec3(d0.y, d1.y, d2.y);\n\n    // Set influence of each surflet to zero outside radius sqrt(0.8)\n    if (t.x < 0.0) {\n      dtdx.x = 0.0;\n      dtdy.x = 0.0;\n      t.x = 0.0;\n    }\n    if (t.y < 0.0) {\n      dtdx.y = 0.0;\n      dtdy.y = 0.0;\n      t.y = 0.0;\n    }\n    if (t.z < 0.0) {\n      dtdx.z = 0.0;\n      dtdy.z = 0.0;\n      t.z = 0.0;\n    }\n\n    // Fourth power of t (and third power for derivative)\n    vec3 t2 = t * t;\n    vec3 t4 = t2 * t2;\n    vec3 t3 = t2 * t;\n\n    // Final noise value is:\n    // sum of ((radial weights) times (gradient dot vector from corner))\n    float n = dot(t4, w);\n\n    // Final analytical derivative (gradient of a sum of scalar products)\n    vec2 dt0 = vec2(dtdx.x, dtdy.x) * 4.0 * t3.x;\n    vec2 dn0 = t4.x * g0 + dt0 * w.x;\n    vec2 dt1 = vec2(dtdx.y, dtdy.y) * 4.0 * t3.y;\n    vec2 dn1 = t4.y * g1 + dt1 * w.y;\n    vec2 dt2 = vec2(dtdx.z, dtdy.z) * 4.0 * t3.z;\n    vec2 dn2 = t4.z * g2 + dt2 * w.z;\n\n    return 11.0*vec3(n, dn0 + dn1 + dn2);\n  }\n\n  //\n  // 2-D tiling simplex noise with fixed gradients\n  // and analytical derivative.\n  // This function is implemented as a wrapper to \"psrdnoise\",\n  // at the minimal cost of three extra additions.\n  //\n  vec3 psdnoise(vec2 pos, vec2 per) {\n    return psrdnoise(pos, per, 0.0);\n  }\n\n  //\n  // 2-D tiling simplex noise with rotating gradients,\n  // but without the analytical derivative.\n  //\n  float psrnoise(vec2 pos, vec2 per, float rot) {\n    // Offset y slightly to hide some rare artifacts\n    pos.y += 0.001;\n    // Skew to hexagonal grid\n    vec2 uv = vec2(pos.x + pos.y*0.5, pos.y);\n\n    vec2 i0 = floor(uv);\n    vec2 f0 = fract(uv);\n    // Traversal order\n    vec2 i1 = (f0.x > f0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n\n    // Unskewed grid points in (x,y) space\n    vec2 p0 = vec2(i0.x - i0.y * 0.5, i0.y);\n    vec2 p1 = vec2(p0.x + i1.x - i1.y * 0.5, p0.y + i1.y);\n    vec2 p2 = vec2(p0.x + 0.5, p0.y + 1.0);\n\n    // Integer grid point indices in (u,v) space\n    i1 = i0 + i1;\n    vec2 i2 = i0 + vec2(1.0, 1.0);\n\n    // Vectors in unskewed (x,y) coordinates from\n    // each of the simplex corners to the evaluation point\n    vec2 d0 = pos - p0;\n    vec2 d1 = pos - p1;\n    vec2 d2 = pos - p2;\n\n    // Wrap i0, i1 and i2 to the desired period before gradient hashing:\n    // wrap points in (x,y), map to (u,v)\n    vec3 xw = mod(vec3(p0.x, p1.x, p2.x), per.x);\n    vec3 yw = mod(vec3(p0.y, p1.y, p2.y), per.y);\n    vec3 iuw = xw + 0.5 * yw;\n    vec3 ivw = yw;\n\n    // Create gradients from indices\n    vec2 g0 = rgrad2(vec2(iuw.x, ivw.x), rot);\n    vec2 g1 = rgrad2(vec2(iuw.y, ivw.y), rot);\n    vec2 g2 = rgrad2(vec2(iuw.z, ivw.z), rot);\n\n    // Gradients dot vectors to corresponding corners\n    // (The derivatives of this are simply the gradients)\n    vec3 w = vec3(dot(g0, d0), dot(g1, d1), dot(g2, d2));\n\n    // Radial weights from corners\n    // 0.8 is the square of 2/sqrt(5), the distance from\n    // a grid point to the nearest simplex boundary\n    vec3 t = 0.8 - vec3(dot(d0, d0), dot(d1, d1), dot(d2, d2));\n\n    // Set influence of each surflet to zero outside radius sqrt(0.8)\n    t = max(t, 0.0);\n\n    // Fourth power of t\n    vec3 t2 = t * t;\n    vec3 t4 = t2 * t2;\n\n    // Final noise value is:\n    // sum of ((radial weights) times (gradient dot vector from corner))\n    float n = dot(t4, w);\n\n    // Rescale to cover the range [-1,1] reasonably well\n    return 11.0*n;\n  }\n\n  //\n  // 2-D tiling simplex noise with fixed gradients,\n  // without the analytical derivative.\n  // This function is implemented as a wrapper to \"psrnoise\",\n  // at the minimal cost of three extra additions.\n  //\n  float psnoise(vec2 pos, vec2 per) {\n    return psrnoise(pos, per, 0.0);\n  }\n\n  //\n  // 2-D non-tiling simplex noise with rotating gradients and analytical derivative.\n  // The first component of the 3-element return vector is the noise value,\n  // and the second and third components are the x and y partial derivatives.\n  //\n  vec3 srdnoise(vec2 pos, float rot) {\n    // Offset y slightly to hide some rare artifacts\n    pos.y += 0.001;\n    // Skew to hexagonal grid\n    vec2 uv = vec2(pos.x + pos.y*0.5, pos.y);\n\n    vec2 i0 = floor(uv);\n    vec2 f0 = fract(uv);\n    // Traversal order\n    vec2 i1 = (f0.x > f0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n\n    // Unskewed grid points in (x,y) space\n    vec2 p0 = vec2(i0.x - i0.y * 0.5, i0.y);\n    vec2 p1 = vec2(p0.x + i1.x - i1.y * 0.5, p0.y + i1.y);\n    vec2 p2 = vec2(p0.x + 0.5, p0.y + 1.0);\n\n    // Integer grid point indices in (u,v) space\n    i1 = i0 + i1;\n    vec2 i2 = i0 + vec2(1.0, 1.0);\n\n    // Vectors in unskewed (x,y) coordinates from\n    // each of the simplex corners to the evaluation point\n    vec2 d0 = pos - p0;\n    vec2 d1 = pos - p1;\n    vec2 d2 = pos - p2;\n\n    vec3 x = vec3(p0.x, p1.x, p2.x);\n    vec3 y = vec3(p0.y, p1.y, p2.y);\n    vec3 iuw = x + 0.5 * y;\n    vec3 ivw = y;\n\n    // Avoid precision issues in permutation\n    iuw = mod289(iuw);\n    ivw = mod289(ivw);\n\n    // Create gradients from indices\n    vec2 g0 = rgrad2(vec2(iuw.x, ivw.x), rot);\n    vec2 g1 = rgrad2(vec2(iuw.y, ivw.y), rot);\n    vec2 g2 = rgrad2(vec2(iuw.z, ivw.z), rot);\n\n    // Gradients dot vectors to corresponding corners\n    // (The derivatives of this are simply the gradients)\n    vec3 w = vec3(dot(g0, d0), dot(g1, d1), dot(g2, d2));\n\n    // Radial weights from corners\n    // 0.8 is the square of 2/sqrt(5), the distance from\n    // a grid point to the nearest simplex boundary\n    vec3 t = 0.8 - vec3(dot(d0, d0), dot(d1, d1), dot(d2, d2));\n\n    // Partial derivatives for analytical gradient computation\n    vec3 dtdx = -2.0 * vec3(d0.x, d1.x, d2.x);\n    vec3 dtdy = -2.0 * vec3(d0.y, d1.y, d2.y);\n\n    // Set influence of each surflet to zero outside radius sqrt(0.8)\n    if (t.x < 0.0) {\n      dtdx.x = 0.0;\n      dtdy.x = 0.0;\n      t.x = 0.0;\n    }\n    if (t.y < 0.0) {\n      dtdx.y = 0.0;\n      dtdy.y = 0.0;\n      t.y = 0.0;\n    }\n    if (t.z < 0.0) {\n      dtdx.z = 0.0;\n      dtdy.z = 0.0;\n      t.z = 0.0;\n    }\n\n    // Fourth power of t (and third power for derivative)\n    vec3 t2 = t * t;\n    vec3 t4 = t2 * t2;\n    vec3 t3 = t2 * t;\n\n    // Final noise value is:\n    // sum of ((radial weights) times (gradient dot vector from corner))\n    float n = dot(t4, w);\n\n    // Final analytical derivative (gradient of a sum of scalar products)\n    vec2 dt0 = vec2(dtdx.x, dtdy.x) * 4.0 * t3.x;\n    vec2 dn0 = t4.x * g0 + dt0 * w.x;\n    vec2 dt1 = vec2(dtdx.y, dtdy.y) * 4.0 * t3.y;\n    vec2 dn1 = t4.y * g1 + dt1 * w.y;\n    vec2 dt2 = vec2(dtdx.z, dtdy.z) * 4.0 * t3.z;\n    vec2 dn2 = t4.z * g2 + dt2 * w.z;\n\n    return 11.0*vec3(n, dn0 + dn1 + dn2);\n  }\n\n  //\n  // 2-D non-tiling simplex noise with fixed gradients and analytical derivative.\n  // This function is implemented as a wrapper to \"srdnoise\",\n  // at the minimal cost of three extra additions.\n  //\n  vec3 sdnoise(vec2 pos) {\n    return srdnoise(pos, 0.0);\n  }\n\n  //\n  // 2-D non-tiling simplex noise with rotating gradients,\n  // without the analytical derivative.\n  //\n  float srnoise(vec2 pos, float rot) {\n    // Offset y slightly to hide some rare artifacts\n    pos.y += 0.001;\n    // Skew to hexagonal grid\n    vec2 uv = vec2(pos.x + pos.y*0.5, pos.y);\n\n    vec2 i0 = floor(uv);\n    vec2 f0 = fract(uv);\n    // Traversal order\n    vec2 i1 = (f0.x > f0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n\n    // Unskewed grid points in (x,y) space\n    vec2 p0 = vec2(i0.x - i0.y * 0.5, i0.y);\n    vec2 p1 = vec2(p0.x + i1.x - i1.y * 0.5, p0.y + i1.y);\n    vec2 p2 = vec2(p0.x + 0.5, p0.y + 1.0);\n\n    // Integer grid point indices in (u,v) space\n    i1 = i0 + i1;\n    vec2 i2 = i0 + vec2(1.0, 1.0);\n\n    // Vectors in unskewed (x,y) coordinates from\n    // each of the simplex corners to the evaluation point\n    vec2 d0 = pos - p0;\n    vec2 d1 = pos - p1;\n    vec2 d2 = pos - p2;\n\n    // Wrap i0, i1 and i2 to the desired period before gradient hashing:\n    // wrap points in (x,y), map to (u,v)\n    vec3 x = vec3(p0.x, p1.x, p2.x);\n    vec3 y = vec3(p0.y, p1.y, p2.y);\n    vec3 iuw = x + 0.5 * y;\n    vec3 ivw = y;\n\n    // Avoid precision issues in permutation\n    iuw = mod289(iuw);\n    ivw = mod289(ivw);\n\n    // Create gradients from indices\n    vec2 g0 = rgrad2(vec2(iuw.x, ivw.x), rot);\n    vec2 g1 = rgrad2(vec2(iuw.y, ivw.y), rot);\n    vec2 g2 = rgrad2(vec2(iuw.z, ivw.z), rot);\n\n    // Gradients dot vectors to corresponding corners\n    // (The derivatives of this are simply the gradients)\n    vec3 w = vec3(dot(g0, d0), dot(g1, d1), dot(g2, d2));\n\n    // Radial weights from corners\n    // 0.8 is the square of 2/sqrt(5), the distance from\n    // a grid point to the nearest simplex boundary\n    vec3 t = 0.8 - vec3(dot(d0, d0), dot(d1, d1), dot(d2, d2));\n\n    // Set influence of each surflet to zero outside radius sqrt(0.8)\n    t = max(t, 0.0);\n\n    // Fourth power of t\n    vec3 t2 = t * t;\n    vec3 t4 = t2 * t2;\n\n    // Final noise value is:\n    // sum of ((radial weights) times (gradient dot vector from corner))\n    float n = dot(t4, w);\n\n    // Rescale to cover the range [-1,1] reasonably well\n    return 11.0*n;\n  }\n\n  //\n  // 2-D non-tiling simplex noise with fixed gradients,\n  // without the analytical derivative.\n  // This function is implemented as a wrapper to \"srnoise\",\n  // at the minimal cost of three extra additions.\n  // Note: if this kind of noise is all you want, there are faster\n  // GLSL implementations of non-tiling simplex noise out there.\n  // This one is included mainly for completeness and compatibility\n  // with the other functions in the file.\n  //\n  float snoise(vec2 pos) {\n    return srnoise(pos, 0.0);\n  }\n\n  float hash(float x, float y) {\n      return fract(abs(sin(sin(123.321 + x) * (y + 321.123)) * 456.654));\n  }\n\n  float lerp(float a, float b, float t) {\n      return a * (1.0 - t) + b * t;\n  }\n\n  float perlin(float x, float y){\n      float col = 0.0;\n      for (int i = 0; i < 8; i++)\n      {\n          float fx = floor(x);\n          float fy = floor(y);\n          float cx = ceil(x);\n          float cy = ceil(y);\n          float a = hash(fx, fy);\n          float b = hash(fx, cy);\n          float c = hash(cx, fy);\n          float d = hash(cx, cy);\n          col += lerp(lerp(a, b, fract(y)), lerp(c, d, fract(y)), fract(x));\n          col /= 2.0;\n          x /= 2.0;\n          y /= 2.0;\n      }\n      return col;\n  }\n\n  float dperlin(float x, float y){\n      float d = perlin(x, y) * 800.0;\n      return perlin(x + d, y + d);\n  }\n\n  float ddperlin(float x, float y){\n      float d = perlin(x, y) * 800.0;\n      return dperlin(x + d, y + d);\n  }\n\n\n  float random( vec3 pt, float seed ){\n    vec3 scale = vec3( 12.9898, 78.233, 151.7182 );\n    return fract( sin( dot( pt + seed, scale ) ) * 43758.5453 + seed ) ;\n  }\n`;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2hhZGVycy90aHJlZS1zaGFkZXItY2h1bmtzL25vaXNlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3NoYWRlcnMvdGhyZWUtc2hhZGVyLWNodW5rcy9ub2lzZS5qcz80OTZlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgVEhSRUUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5leHBvcnRzLm5vaXNlID0gKCkgPT4ge1xuICAgIFRIUkVFLlNoYWRlckNodW5rLm5vaXNlID0gYFxuICAvL1xuICAvLyBEZXNjcmlwdGlvbiA6IEFycmF5IGFuZCB0ZXh0dXJlbGVzcyBHTFNMIDJELzNELzREIHNpbXBsZXhcbiAgLy8gICAgICAgICAgICAgICBub2lzZSBmdW5jdGlvbnMuXG4gIC8vICAgICAgQXV0aG9yIDogSWFuIE1jRXdhbiwgQXNoaW1hIEFydHMuXG4gIC8vICBNYWludGFpbmVyIDogc3RlZ3VcbiAgLy8gICAgIExhc3Rtb2QgOiAyMDExMDgyMiAoaWptKVxuICAvLyAgICAgTGljZW5zZSA6IENvcHlyaWdodCAoQykgMjAxMSBBc2hpbWEgQXJ0cy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAgLy8gICAgICAgICAgICAgICBEaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMSUNFTlNFIGZpbGUuXG4gIC8vICAgICAgICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2FzaGltYS93ZWJnbC1ub2lzZVxuICAvLyAgICAgICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9zdGVndS93ZWJnbC1ub2lzZVxuICAvL1xuXG4gIHZlYzMgbW9kMjg5KHZlYzMgeCkge1xuICAgIHJldHVybiB4IC0gZmxvb3IoeCAqICgxLjAgLyAyODkuMCkpICogMjg5LjA7XG4gIH1cblxuICB2ZWM0IG1vZDI4OSh2ZWM0IHgpIHtcbiAgICByZXR1cm4geCAtIGZsb29yKHggKiAoMS4wIC8gMjg5LjApKSAqIDI4OS4wO1xuICB9XG5cbiAgdmVjNCBwZXJtdXRlKHZlYzQgeCkge1xuICAgICAgIHJldHVybiBtb2QyODkoKCh4KjM0LjApKzEuMCkqeCk7XG4gIH1cblxuICAvLyBQZXJtdXRhdGlvbiBwb2x5bm9taWFsIChyaW5nIHNpemUgMjg5ID0gMTcqMTcpXG4gIHZlYzMgcGVybXV0ZSh2ZWMzIHgpIHtcbiAgICByZXR1cm4gbW9kMjg5KCgoeCozNC4wKSsxLjApKngpO1xuICB9XG5cbiAgZmxvYXQgcGVybXV0ZShmbG9hdCB4KXtcbiAgICAgIHJldHVybiB4IC0gZmxvb3IoeCAqICgxLjAgLyAyODkuMCkpICogMjg5LjA7O1xuICB9XG5cbiAgdmVjNCB0YXlsb3JJbnZTcXJ0KHZlYzQgcil7XG4gICAgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjtcbiAgfVxuXG4gIHZlYzIgZmFkZSh2ZWMyIHQpIHtcbiAgICByZXR1cm4gdCp0KnQqKHQqKHQqNi4wLTE1LjApKzEwLjApO1xuICB9XG5cbiAgdmVjMyBmYWRlKHZlYzMgdCkge1xuICAgIHJldHVybiB0KnQqdCoodCoodCo2LjAtMTUuMCkrMTAuMCk7XG4gIH1cblxuICAvLyBIYXNoZWQgMi1EIGdyYWRpZW50cyB3aXRoIGFuIGV4dHJhIHJvdGF0aW9uLlxuICAvLyAoVGhlIGNvbnN0YW50IDAuMDI0MzkwMjQzOSBpcyAxLzQxKVxuICB2ZWMyIHJncmFkMih2ZWMyIHAsIGZsb2F0IHJvdCkge1xuICAjaWYgMFxuICAvLyBNYXAgZnJvbSBhIGxpbmUgdG8gYSBkaWFtb25kIHN1Y2ggdGhhdCBhIHNoaWZ0IG1hcHMgdG8gYSByb3RhdGlvbi5cbiAgICBmbG9hdCB1ID0gcGVybXV0ZShwZXJtdXRlKHAueCkgKyBwLnkpICogMC4wMjQzOTAyNDM5ICsgcm90OyAvLyBSb3RhdGUgYnkgc2hpZnRcbiAgICB1ID0gNC4wICogZnJhY3QodSkgLSAyLjA7XG4gICAgLy8gKFRoaXMgdmVjdG9yIGNvdWxkIGJlIG5vcm1hbGl6ZWQsIGV4YWN0bHkgb3IgYXBwcm94aW1hdGVseS4pXG4gICAgcmV0dXJuIHZlYzIoYWJzKHUpLTEuMCwgYWJzKGFicyh1KzEuMCktMi4wKS0xLjApO1xuICAjZWxzZVxuICAvLyBGb3IgbW9yZSBpc290cm9waWMgZ3JhZGllbnRzLCBzaW4vY29zIGNhbiBiZSB1c2VkIGluc3RlYWQuXG4gICAgZmxvYXQgdSA9IHBlcm11dGUocGVybXV0ZShwLngpICsgcC55KSAqIDAuMDI0MzkwMjQzOSArIHJvdDsgLy8gUm90YXRlIGJ5IHNoaWZ0XG4gICAgdSA9IGZyYWN0KHUpICogNi4yODMxODUzMDcxODsgLy8gMipwaVxuICAgIHJldHVybiB2ZWMyKGNvcyh1KSwgc2luKHUpKTtcbiAgI2VuZGlmXG4gIH1cblxuICBmbG9hdCBzbm9pc2UodmVjMyB2KXtcbiAgICBjb25zdCB2ZWMyICBDID0gdmVjMigxLjAvNi4wLCAxLjAvMy4wKSA7XG4gICAgY29uc3QgdmVjNCAgRCA9IHZlYzQoMC4wLCAwLjUsIDEuMCwgMi4wKTtcblxuICAvLyBGaXJzdCBjb3JuZXJcbiAgICB2ZWMzIGkgID0gZmxvb3IodiArIGRvdCh2LCBDLnl5eSkgKTtcbiAgICB2ZWMzIHgwID0gICB2IC0gaSArIGRvdChpLCBDLnh4eCkgO1xuXG4gIC8vIE90aGVyIGNvcm5lcnNcbiAgICB2ZWMzIGcgPSBzdGVwKHgwLnl6eCwgeDAueHl6KTtcbiAgICB2ZWMzIGwgPSAxLjAgLSBnO1xuICAgIHZlYzMgaTEgPSBtaW4oIGcueHl6LCBsLnp4eSApO1xuICAgIHZlYzMgaTIgPSBtYXgoIGcueHl6LCBsLnp4eSApO1xuXG4gICAgLy8gICB4MCA9IHgwIC0gMC4wICsgMC4wICogQy54eHg7XG4gICAgLy8gICB4MSA9IHgwIC0gaTEgICsgMS4wICogQy54eHg7XG4gICAgLy8gICB4MiA9IHgwIC0gaTIgICsgMi4wICogQy54eHg7XG4gICAgLy8gICB4MyA9IHgwIC0gMS4wICsgMy4wICogQy54eHg7XG4gICAgdmVjMyB4MSA9IHgwIC0gaTEgKyBDLnh4eDtcbiAgICB2ZWMzIHgyID0geDAgLSBpMiArIEMueXl5OyAvLyAyLjAqQy54ID0gMS8zID0gQy55XG4gICAgdmVjMyB4MyA9IHgwIC0gRC55eXk7ICAgICAgLy8gLTEuMCszLjAqQy54ID0gLTAuNSA9IC1ELnlcblxuICAvLyBQZXJtdXRhdGlvbnNcbiAgICBpID0gbW9kMjg5KGkpO1xuICAgIHZlYzQgcCA9IHBlcm11dGUoIHBlcm11dGUoIHBlcm11dGUoXG4gICAgICAgICAgICAgICBpLnogKyB2ZWM0KDAuMCwgaTEueiwgaTIueiwgMS4wICkpXG4gICAgICAgICAgICAgKyBpLnkgKyB2ZWM0KDAuMCwgaTEueSwgaTIueSwgMS4wICkpXG4gICAgICAgICAgICAgKyBpLnggKyB2ZWM0KDAuMCwgaTEueCwgaTIueCwgMS4wICkpO1xuXG4gIC8vIEdyYWRpZW50czogN3g3IHBvaW50cyBvdmVyIGEgc3F1YXJlLCBtYXBwZWQgb250byBhbiBvY3RhaGVkcm9uLlxuICAvLyBUaGUgcmluZyBzaXplIDE3KjE3ID0gMjg5IGlzIGNsb3NlIHRvIGEgbXVsdGlwbGUgb2YgNDkgKDQ5KjYgPSAyOTQpXG4gICAgZmxvYXQgbl8gPSAwLjE0Mjg1NzE0Mjg1NzsgLy8gMS4wLzcuMFxuICAgIHZlYzMgIG5zID0gbl8gKiBELnd5eiAtIEQueHp4O1xuXG4gICAgdmVjNCBqID0gcCAtIDQ5LjAgKiBmbG9vcihwICogbnMueiAqIG5zLnopOyAgLy8gIG1vZChwLDcqNylcblxuICAgIHZlYzQgeF8gPSBmbG9vcihqICogbnMueik7XG4gICAgdmVjNCB5XyA9IGZsb29yKGogLSA3LjAgKiB4XyApOyAgICAvLyBtb2QoaixOKVxuXG4gICAgdmVjNCB4ID0geF8gKm5zLnggKyBucy55eXl5O1xuICAgIHZlYzQgeSA9IHlfICpucy54ICsgbnMueXl5eTtcbiAgICB2ZWM0IGggPSAxLjAgLSBhYnMoeCkgLSBhYnMoeSk7XG5cbiAgICB2ZWM0IGIwID0gdmVjNCggeC54eSwgeS54eSApO1xuICAgIHZlYzQgYjEgPSB2ZWM0KCB4Lnp3LCB5Lnp3ICk7XG5cbiAgICAvL3ZlYzQgczAgPSB2ZWM0KGxlc3NUaGFuKGIwLDAuMCkpKjIuMCAtIDEuMDtcbiAgICAvL3ZlYzQgczEgPSB2ZWM0KGxlc3NUaGFuKGIxLDAuMCkpKjIuMCAtIDEuMDtcbiAgICB2ZWM0IHMwID0gZmxvb3IoYjApKjIuMCArIDEuMDtcbiAgICB2ZWM0IHMxID0gZmxvb3IoYjEpKjIuMCArIDEuMDtcbiAgICB2ZWM0IHNoID0gLXN0ZXAoaCwgdmVjNCgwLjApKTtcblxuICAgIHZlYzQgYTAgPSBiMC54enl3ICsgczAueHp5dypzaC54eHl5IDtcbiAgICB2ZWM0IGExID0gYjEueHp5dyArIHMxLnh6eXcqc2guenp3dyA7XG5cbiAgICB2ZWMzIHAwID0gdmVjMyhhMC54eSxoLngpO1xuICAgIHZlYzMgcDEgPSB2ZWMzKGEwLnp3LGgueSk7XG4gICAgdmVjMyBwMiA9IHZlYzMoYTEueHksaC56KTtcbiAgICB2ZWMzIHAzID0gdmVjMyhhMS56dyxoLncpO1xuXG4gIC8vTm9ybWFsaXNlIGdyYWRpZW50c1xuICAgIHZlYzQgbm9ybSA9IHRheWxvckludlNxcnQodmVjNChkb3QocDAscDApLCBkb3QocDEscDEpLCBkb3QocDIsIHAyKSwgZG90KHAzLHAzKSkpO1xuICAgIHAwICo9IG5vcm0ueDtcbiAgICBwMSAqPSBub3JtLnk7XG4gICAgcDIgKj0gbm9ybS56O1xuICAgIHAzICo9IG5vcm0udztcblxuICAvLyBNaXggZmluYWwgbm9pc2UgdmFsdWVcbiAgICB2ZWM0IG0gPSBtYXgoMC42IC0gdmVjNChkb3QoeDAseDApLCBkb3QoeDEseDEpLCBkb3QoeDIseDIpLCBkb3QoeDMseDMpKSwgMC4wKTtcbiAgICBtID0gbSAqIG07XG4gICAgcmV0dXJuIDQyLjAgKiBkb3QoIG0qbSwgdmVjNCggZG90KHAwLHgwKSwgZG90KHAxLHgxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QocDIseDIpLCBkb3QocDMseDMpICkgKTtcbiAgICB9XG5cbiAgLy8gQ2xhc3NpYyBQZXJsaW4gbm9pc2VcbiAgZmxvYXQgY25vaXNlKHZlYzIgUCl7XG4gICAgdmVjNCBQaSA9IGZsb29yKFAueHl4eSkgKyB2ZWM0KDAuMCwgMC4wLCAxLjAsIDEuMCk7XG4gICAgdmVjNCBQZiA9IGZyYWN0KFAueHl4eSkgLSB2ZWM0KDAuMCwgMC4wLCAxLjAsIDEuMCk7XG4gICAgUGkgPSBtb2QyODkoUGkpOyAvLyBUbyBhdm9pZCB0cnVuY2F0aW9uIGVmZmVjdHMgaW4gcGVybXV0YXRpb25cbiAgICB2ZWM0IGl4ID0gUGkueHp4ejtcbiAgICB2ZWM0IGl5ID0gUGkueXl3dztcbiAgICB2ZWM0IGZ4ID0gUGYueHp4ejtcbiAgICB2ZWM0IGZ5ID0gUGYueXl3dztcblxuICAgIHZlYzQgaSA9IHBlcm11dGUocGVybXV0ZShpeCkgKyBpeSk7XG5cbiAgICB2ZWM0IGd4ID0gZnJhY3QoaSAqICgxLjAgLyA0MS4wKSkgKiAyLjAgLSAxLjAgO1xuICAgIHZlYzQgZ3kgPSBhYnMoZ3gpIC0gMC41IDtcbiAgICB2ZWM0IHR4ID0gZmxvb3IoZ3ggKyAwLjUpO1xuICAgIGd4ID0gZ3ggLSB0eDtcblxuICAgIHZlYzIgZzAwID0gdmVjMihneC54LGd5LngpO1xuICAgIHZlYzIgZzEwID0gdmVjMihneC55LGd5LnkpO1xuICAgIHZlYzIgZzAxID0gdmVjMihneC56LGd5LnopO1xuICAgIHZlYzIgZzExID0gdmVjMihneC53LGd5LncpO1xuXG4gICAgdmVjNCBub3JtID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAsIGcwMCksIGRvdChnMDEsIGcwMSksIGRvdChnMTAsIGcxMCksIGRvdChnMTEsIGcxMSkpKTtcbiAgICBnMDAgKj0gbm9ybS54O1xuICAgIGcwMSAqPSBub3JtLnk7XG4gICAgZzEwICo9IG5vcm0uejtcbiAgICBnMTEgKj0gbm9ybS53O1xuXG4gICAgZmxvYXQgbjAwID0gZG90KGcwMCwgdmVjMihmeC54LCBmeS54KSk7XG4gICAgZmxvYXQgbjEwID0gZG90KGcxMCwgdmVjMihmeC55LCBmeS55KSk7XG4gICAgZmxvYXQgbjAxID0gZG90KGcwMSwgdmVjMihmeC56LCBmeS56KSk7XG4gICAgZmxvYXQgbjExID0gZG90KGcxMSwgdmVjMihmeC53LCBmeS53KSk7XG5cbiAgICB2ZWMyIGZhZGVfeHkgPSBmYWRlKFBmLnh5KTtcbiAgICB2ZWMyIG5feCA9IG1peCh2ZWMyKG4wMCwgbjAxKSwgdmVjMihuMTAsIG4xMSksIGZhZGVfeHkueCk7XG4gICAgZmxvYXQgbl94eSA9IG1peChuX3gueCwgbl94LnksIGZhZGVfeHkueSk7XG4gICAgcmV0dXJuIDIuMyAqIG5feHk7XG4gIH1cblxuICAvLyBDbGFzc2ljIFBlcmxpbiBub2lzZSwgcGVyaW9kaWMgdmFyaWFudFxuICBmbG9hdCBwbm9pc2UodmVjMiBQLCB2ZWMyIHJlcCl7XG4gICAgdmVjNCBQaSA9IGZsb29yKFAueHl4eSkgKyB2ZWM0KDAuMCwgMC4wLCAxLjAsIDEuMCk7XG4gICAgdmVjNCBQZiA9IGZyYWN0KFAueHl4eSkgLSB2ZWM0KDAuMCwgMC4wLCAxLjAsIDEuMCk7XG4gICAgUGkgPSBtb2QoUGksIHJlcC54eXh5KTsgLy8gVG8gY3JlYXRlIG5vaXNlIHdpdGggZXhwbGljaXQgcGVyaW9kXG4gICAgUGkgPSBtb2QyODkoUGkpOyAgICAgICAgLy8gVG8gYXZvaWQgdHJ1bmNhdGlvbiBlZmZlY3RzIGluIHBlcm11dGF0aW9uXG4gICAgdmVjNCBpeCA9IFBpLnh6eHo7XG4gICAgdmVjNCBpeSA9IFBpLnl5d3c7XG4gICAgdmVjNCBmeCA9IFBmLnh6eHo7XG4gICAgdmVjNCBmeSA9IFBmLnl5d3c7XG5cbiAgICB2ZWM0IGkgPSBwZXJtdXRlKHBlcm11dGUoaXgpICsgaXkpO1xuXG4gICAgdmVjNCBneCA9IGZyYWN0KGkgKiAoMS4wIC8gNDEuMCkpICogMi4wIC0gMS4wIDtcbiAgICB2ZWM0IGd5ID0gYWJzKGd4KSAtIDAuNSA7XG4gICAgdmVjNCB0eCA9IGZsb29yKGd4ICsgMC41KTtcbiAgICBneCA9IGd4IC0gdHg7XG5cbiAgICB2ZWMyIGcwMCA9IHZlYzIoZ3gueCxneS54KTtcbiAgICB2ZWMyIGcxMCA9IHZlYzIoZ3gueSxneS55KTtcbiAgICB2ZWMyIGcwMSA9IHZlYzIoZ3gueixneS56KTtcbiAgICB2ZWMyIGcxMSA9IHZlYzIoZ3gudyxneS53KTtcblxuICAgIHZlYzQgbm9ybSA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwLCBnMDApLCBkb3QoZzAxLCBnMDEpLCBkb3QoZzEwLCBnMTApLCBkb3QoZzExLCBnMTEpKSk7XG4gICAgZzAwICo9IG5vcm0ueDtcbiAgICBnMDEgKj0gbm9ybS55O1xuICAgIGcxMCAqPSBub3JtLno7XG4gICAgZzExICo9IG5vcm0udztcblxuICAgIGZsb2F0IG4wMCA9IGRvdChnMDAsIHZlYzIoZngueCwgZnkueCkpO1xuICAgIGZsb2F0IG4xMCA9IGRvdChnMTAsIHZlYzIoZngueSwgZnkueSkpO1xuICAgIGZsb2F0IG4wMSA9IGRvdChnMDEsIHZlYzIoZngueiwgZnkueikpO1xuICAgIGZsb2F0IG4xMSA9IGRvdChnMTEsIHZlYzIoZngudywgZnkudykpO1xuXG4gICAgdmVjMiBmYWRlX3h5ID0gZmFkZShQZi54eSk7XG4gICAgdmVjMiBuX3ggPSBtaXgodmVjMihuMDAsIG4wMSksIHZlYzIobjEwLCBuMTEpLCBmYWRlX3h5LngpO1xuICAgIGZsb2F0IG5feHkgPSBtaXgobl94LngsIG5feC55LCBmYWRlX3h5LnkpO1xuICAgIHJldHVybiAyLjMgKiBuX3h5O1xuICB9XG4gIC8vIENsYXNzaWMgUGVybGluIG5vaXNlXG4gIGZsb2F0IGNub2lzZSh2ZWMzIFApXG4gIHtcbiAgICB2ZWMzIFBpMCA9IGZsb29yKFApOyAvLyBJbnRlZ2VyIHBhcnQgZm9yIGluZGV4aW5nXG4gICAgdmVjMyBQaTEgPSBQaTAgKyB2ZWMzKDEuMCk7IC8vIEludGVnZXIgcGFydCArIDFcbiAgICBQaTAgPSBtb2QyODkoUGkwKTtcbiAgICBQaTEgPSBtb2QyODkoUGkxKTtcbiAgICB2ZWMzIFBmMCA9IGZyYWN0KFApOyAvLyBGcmFjdGlvbmFsIHBhcnQgZm9yIGludGVycG9sYXRpb25cbiAgICB2ZWMzIFBmMSA9IFBmMCAtIHZlYzMoMS4wKTsgLy8gRnJhY3Rpb25hbCBwYXJ0IC0gMS4wXG4gICAgdmVjNCBpeCA9IHZlYzQoUGkwLngsIFBpMS54LCBQaTAueCwgUGkxLngpO1xuICAgIHZlYzQgaXkgPSB2ZWM0KFBpMC55eSwgUGkxLnl5KTtcbiAgICB2ZWM0IGl6MCA9IFBpMC56enp6O1xuICAgIHZlYzQgaXoxID0gUGkxLnp6eno7XG5cbiAgICB2ZWM0IGl4eSA9IHBlcm11dGUocGVybXV0ZShpeCkgKyBpeSk7XG4gICAgdmVjNCBpeHkwID0gcGVybXV0ZShpeHkgKyBpejApO1xuICAgIHZlYzQgaXh5MSA9IHBlcm11dGUoaXh5ICsgaXoxKTtcblxuICAgIHZlYzQgZ3gwID0gaXh5MCAqICgxLjAgLyA3LjApO1xuICAgIHZlYzQgZ3kwID0gZnJhY3QoZmxvb3IoZ3gwKSAqICgxLjAgLyA3LjApKSAtIDAuNTtcbiAgICBneDAgPSBmcmFjdChneDApO1xuICAgIHZlYzQgZ3owID0gdmVjNCgwLjUpIC0gYWJzKGd4MCkgLSBhYnMoZ3kwKTtcbiAgICB2ZWM0IHN6MCA9IHN0ZXAoZ3owLCB2ZWM0KDAuMCkpO1xuICAgIGd4MCAtPSBzejAgKiAoc3RlcCgwLjAsIGd4MCkgLSAwLjUpO1xuICAgIGd5MCAtPSBzejAgKiAoc3RlcCgwLjAsIGd5MCkgLSAwLjUpO1xuXG4gICAgdmVjNCBneDEgPSBpeHkxICogKDEuMCAvIDcuMCk7XG4gICAgdmVjNCBneTEgPSBmcmFjdChmbG9vcihneDEpICogKDEuMCAvIDcuMCkpIC0gMC41O1xuICAgIGd4MSA9IGZyYWN0KGd4MSk7XG4gICAgdmVjNCBnejEgPSB2ZWM0KDAuNSkgLSBhYnMoZ3gxKSAtIGFicyhneTEpO1xuICAgIHZlYzQgc3oxID0gc3RlcChnejEsIHZlYzQoMC4wKSk7XG4gICAgZ3gxIC09IHN6MSAqIChzdGVwKDAuMCwgZ3gxKSAtIDAuNSk7XG4gICAgZ3kxIC09IHN6MSAqIChzdGVwKDAuMCwgZ3kxKSAtIDAuNSk7XG5cbiAgICB2ZWMzIGcwMDAgPSB2ZWMzKGd4MC54LGd5MC54LGd6MC54KTtcbiAgICB2ZWMzIGcxMDAgPSB2ZWMzKGd4MC55LGd5MC55LGd6MC55KTtcbiAgICB2ZWMzIGcwMTAgPSB2ZWMzKGd4MC56LGd5MC56LGd6MC56KTtcbiAgICB2ZWMzIGcxMTAgPSB2ZWMzKGd4MC53LGd5MC53LGd6MC53KTtcbiAgICB2ZWMzIGcwMDEgPSB2ZWMzKGd4MS54LGd5MS54LGd6MS54KTtcbiAgICB2ZWMzIGcxMDEgPSB2ZWMzKGd4MS55LGd5MS55LGd6MS55KTtcbiAgICB2ZWMzIGcwMTEgPSB2ZWMzKGd4MS56LGd5MS56LGd6MS56KTtcbiAgICB2ZWMzIGcxMTEgPSB2ZWMzKGd4MS53LGd5MS53LGd6MS53KTtcblxuICAgIHZlYzQgbm9ybTAgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDAsIGcwMDApLCBkb3QoZzAxMCwgZzAxMCksIGRvdChnMTAwLCBnMTAwKSwgZG90KGcxMTAsIGcxMTApKSk7XG4gICAgZzAwMCAqPSBub3JtMC54O1xuICAgIGcwMTAgKj0gbm9ybTAueTtcbiAgICBnMTAwICo9IG5vcm0wLno7XG4gICAgZzExMCAqPSBub3JtMC53O1xuICAgIHZlYzQgbm9ybTEgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDEsIGcwMDEpLCBkb3QoZzAxMSwgZzAxMSksIGRvdChnMTAxLCBnMTAxKSwgZG90KGcxMTEsIGcxMTEpKSk7XG4gICAgZzAwMSAqPSBub3JtMS54O1xuICAgIGcwMTEgKj0gbm9ybTEueTtcbiAgICBnMTAxICo9IG5vcm0xLno7XG4gICAgZzExMSAqPSBub3JtMS53O1xuXG4gICAgZmxvYXQgbjAwMCA9IGRvdChnMDAwLCBQZjApO1xuICAgIGZsb2F0IG4xMDAgPSBkb3QoZzEwMCwgdmVjMyhQZjEueCwgUGYwLnl6KSk7XG4gICAgZmxvYXQgbjAxMCA9IGRvdChnMDEwLCB2ZWMzKFBmMC54LCBQZjEueSwgUGYwLnopKTtcbiAgICBmbG9hdCBuMTEwID0gZG90KGcxMTAsIHZlYzMoUGYxLnh5LCBQZjAueikpO1xuICAgIGZsb2F0IG4wMDEgPSBkb3QoZzAwMSwgdmVjMyhQZjAueHksIFBmMS56KSk7XG4gICAgZmxvYXQgbjEwMSA9IGRvdChnMTAxLCB2ZWMzKFBmMS54LCBQZjAueSwgUGYxLnopKTtcbiAgICBmbG9hdCBuMDExID0gZG90KGcwMTEsIHZlYzMoUGYwLngsIFBmMS55eikpO1xuICAgIGZsb2F0IG4xMTEgPSBkb3QoZzExMSwgUGYxKTtcblxuICAgIHZlYzMgZmFkZV94eXogPSBmYWRlKFBmMCk7XG4gICAgdmVjNCBuX3ogPSBtaXgodmVjNChuMDAwLCBuMTAwLCBuMDEwLCBuMTEwKSwgdmVjNChuMDAxLCBuMTAxLCBuMDExLCBuMTExKSwgZmFkZV94eXoueik7XG4gICAgdmVjMiBuX3l6ID0gbWl4KG5fei54eSwgbl96Lnp3LCBmYWRlX3h5ei55KTtcbiAgICBmbG9hdCBuX3h5eiA9IG1peChuX3l6LngsIG5feXoueSwgZmFkZV94eXoueCk7XG4gICAgcmV0dXJuIDIuMiAqIG5feHl6O1xuICB9XG5cbiAgLy8gQ2xhc3NpYyBQZXJsaW4gbm9pc2UsIHBlcmlvZGljIHZhcmlhbnRcbiAgZmxvYXQgcG5vaXNlKHZlYzMgUCwgdmVjMyByZXApXG4gIHtcbiAgICB2ZWMzIFBpMCA9IG1vZChmbG9vcihQKSwgcmVwKTsgLy8gSW50ZWdlciBwYXJ0LCBtb2R1bG8gcGVyaW9kXG4gICAgdmVjMyBQaTEgPSBtb2QoUGkwICsgdmVjMygxLjApLCByZXApOyAvLyBJbnRlZ2VyIHBhcnQgKyAxLCBtb2QgcGVyaW9kXG4gICAgUGkwID0gbW9kMjg5KFBpMCk7XG4gICAgUGkxID0gbW9kMjg5KFBpMSk7XG4gICAgdmVjMyBQZjAgPSBmcmFjdChQKTsgLy8gRnJhY3Rpb25hbCBwYXJ0IGZvciBpbnRlcnBvbGF0aW9uXG4gICAgdmVjMyBQZjEgPSBQZjAgLSB2ZWMzKDEuMCk7IC8vIEZyYWN0aW9uYWwgcGFydCAtIDEuMFxuICAgIHZlYzQgaXggPSB2ZWM0KFBpMC54LCBQaTEueCwgUGkwLngsIFBpMS54KTtcbiAgICB2ZWM0IGl5ID0gdmVjNChQaTAueXksIFBpMS55eSk7XG4gICAgdmVjNCBpejAgPSBQaTAuenp6ejtcbiAgICB2ZWM0IGl6MSA9IFBpMS56enp6O1xuXG4gICAgdmVjNCBpeHkgPSBwZXJtdXRlKHBlcm11dGUoaXgpICsgaXkpO1xuICAgIHZlYzQgaXh5MCA9IHBlcm11dGUoaXh5ICsgaXowKTtcbiAgICB2ZWM0IGl4eTEgPSBwZXJtdXRlKGl4eSArIGl6MSk7XG5cbiAgICB2ZWM0IGd4MCA9IGl4eTAgKiAoMS4wIC8gNy4wKTtcbiAgICB2ZWM0IGd5MCA9IGZyYWN0KGZsb29yKGd4MCkgKiAoMS4wIC8gNy4wKSkgLSAwLjU7XG4gICAgZ3gwID0gZnJhY3QoZ3gwKTtcbiAgICB2ZWM0IGd6MCA9IHZlYzQoMC41KSAtIGFicyhneDApIC0gYWJzKGd5MCk7XG4gICAgdmVjNCBzejAgPSBzdGVwKGd6MCwgdmVjNCgwLjApKTtcbiAgICBneDAgLT0gc3owICogKHN0ZXAoMC4wLCBneDApIC0gMC41KTtcbiAgICBneTAgLT0gc3owICogKHN0ZXAoMC4wLCBneTApIC0gMC41KTtcblxuICAgIHZlYzQgZ3gxID0gaXh5MSAqICgxLjAgLyA3LjApO1xuICAgIHZlYzQgZ3kxID0gZnJhY3QoZmxvb3IoZ3gxKSAqICgxLjAgLyA3LjApKSAtIDAuNTtcbiAgICBneDEgPSBmcmFjdChneDEpO1xuICAgIHZlYzQgZ3oxID0gdmVjNCgwLjUpIC0gYWJzKGd4MSkgLSBhYnMoZ3kxKTtcbiAgICB2ZWM0IHN6MSA9IHN0ZXAoZ3oxLCB2ZWM0KDAuMCkpO1xuICAgIGd4MSAtPSBzejEgKiAoc3RlcCgwLjAsIGd4MSkgLSAwLjUpO1xuICAgIGd5MSAtPSBzejEgKiAoc3RlcCgwLjAsIGd5MSkgLSAwLjUpO1xuXG4gICAgdmVjMyBnMDAwID0gdmVjMyhneDAueCxneTAueCxnejAueCk7XG4gICAgdmVjMyBnMTAwID0gdmVjMyhneDAueSxneTAueSxnejAueSk7XG4gICAgdmVjMyBnMDEwID0gdmVjMyhneDAueixneTAueixnejAueik7XG4gICAgdmVjMyBnMTEwID0gdmVjMyhneDAudyxneTAudyxnejAudyk7XG4gICAgdmVjMyBnMDAxID0gdmVjMyhneDEueCxneTEueCxnejEueCk7XG4gICAgdmVjMyBnMTAxID0gdmVjMyhneDEueSxneTEueSxnejEueSk7XG4gICAgdmVjMyBnMDExID0gdmVjMyhneDEueixneTEueixnejEueik7XG4gICAgdmVjMyBnMTExID0gdmVjMyhneDEudyxneTEudyxnejEudyk7XG5cbiAgICB2ZWM0IG5vcm0wID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAwLCBnMDAwKSwgZG90KGcwMTAsIGcwMTApLCBkb3QoZzEwMCwgZzEwMCksIGRvdChnMTEwLCBnMTEwKSkpO1xuICAgIGcwMDAgKj0gbm9ybTAueDtcbiAgICBnMDEwICo9IG5vcm0wLnk7XG4gICAgZzEwMCAqPSBub3JtMC56O1xuICAgIGcxMTAgKj0gbm9ybTAudztcbiAgICB2ZWM0IG5vcm0xID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAxLCBnMDAxKSwgZG90KGcwMTEsIGcwMTEpLCBkb3QoZzEwMSwgZzEwMSksIGRvdChnMTExLCBnMTExKSkpO1xuICAgIGcwMDEgKj0gbm9ybTEueDtcbiAgICBnMDExICo9IG5vcm0xLnk7XG4gICAgZzEwMSAqPSBub3JtMS56O1xuICAgIGcxMTEgKj0gbm9ybTEudztcblxuICAgIGZsb2F0IG4wMDAgPSBkb3QoZzAwMCwgUGYwKTtcbiAgICBmbG9hdCBuMTAwID0gZG90KGcxMDAsIHZlYzMoUGYxLngsIFBmMC55eikpO1xuICAgIGZsb2F0IG4wMTAgPSBkb3QoZzAxMCwgdmVjMyhQZjAueCwgUGYxLnksIFBmMC56KSk7XG4gICAgZmxvYXQgbjExMCA9IGRvdChnMTEwLCB2ZWMzKFBmMS54eSwgUGYwLnopKTtcbiAgICBmbG9hdCBuMDAxID0gZG90KGcwMDEsIHZlYzMoUGYwLnh5LCBQZjEueikpO1xuICAgIGZsb2F0IG4xMDEgPSBkb3QoZzEwMSwgdmVjMyhQZjEueCwgUGYwLnksIFBmMS56KSk7XG4gICAgZmxvYXQgbjAxMSA9IGRvdChnMDExLCB2ZWMzKFBmMC54LCBQZjEueXopKTtcbiAgICBmbG9hdCBuMTExID0gZG90KGcxMTEsIFBmMSk7XG5cbiAgICB2ZWMzIGZhZGVfeHl6ID0gZmFkZShQZjApO1xuICAgIHZlYzQgbl96ID0gbWl4KHZlYzQobjAwMCwgbjEwMCwgbjAxMCwgbjExMCksIHZlYzQobjAwMSwgbjEwMSwgbjAxMSwgbjExMSksIGZhZGVfeHl6LnopO1xuICAgIHZlYzIgbl95eiA9IG1peChuX3oueHksIG5fei56dywgZmFkZV94eXoueSk7XG4gICAgZmxvYXQgbl94eXogPSBtaXgobl95ei54LCBuX3l6LnksIGZhZGVfeHl6LngpO1xuICAgIHJldHVybiAyLjIgKiBuX3h5ejtcbiAgfVxuXG4gIGZsb2F0IHR1cmJ1bGVuY2UoIHZlYzMgcCApIHtcbiAgICBmbG9hdCB3ID0gMTAwLjA7XG4gICAgZmxvYXQgdCA9IC0uNTtcblxuICAgIGZvciAoZmxvYXQgZiA9IDEuMCA7IGYgPD0gMTAuMCA7IGYrKyApe1xuICAgICAgZmxvYXQgcG93ZXIgPSBwb3coIDIuMCwgZiApO1xuICAgICAgdCArPSBhYnMoIHBub2lzZSggdmVjMyggcG93ZXIgKiBwICksIHZlYzMoIDEwLjAsIDEwLjAsIDEwLjAgKSApIC8gcG93ZXIgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfVxuXG4gIGZsb2F0IHR1cmJ1bGVuY2UzKCB2ZWMzIHAgKSB7XG4gICAgZmxvYXQgdyA9IDEwMC4wO1xuICAgIGZsb2F0IHQgPSAtLjU7XG5cbiAgICBmb3IgKGZsb2F0IGYgPSAxLjAgOyBmIDw9IDMuMCA7IGYrKyApe1xuICAgICAgZmxvYXQgcG93ZXIgPSBwb3coIDIuMCwgZiApO1xuICAgICAgdCArPSBhYnMoIHBub2lzZSggdmVjMyggcG93ZXIgKiBwICksIHZlYzMoIDMuMCwgMy4wLCAzLjAgKSApIC8gcG93ZXIgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfVxuXG4gIGZsb2F0IHR1cmJ1bGVuY2U2KCB2ZWMzIHAgKSB7XG4gICAgZmxvYXQgdyA9IDEwMC4wO1xuICAgIGZsb2F0IHQgPSAtLjU7XG5cbiAgICBmb3IgKGZsb2F0IGYgPSAxLjAgOyBmIDw9IDYuMCA7IGYrKyApe1xuICAgICAgZmxvYXQgcG93ZXIgPSBwb3coIDIuMCwgZiApO1xuICAgICAgdCArPSBhYnMoIHBub2lzZSggdmVjMyggcG93ZXIgKiBwICksIHZlYzMoIDYuMCwgNi4wLCA2LjAgKSApIC8gcG93ZXIgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfVxuXG4gIC8vXG4gIC8vIDItRCB0aWxpbmcgc2ltcGxleCBub2lzZSB3aXRoIHJvdGF0aW5nIGdyYWRpZW50cyBhbmQgYW5hbHl0aWNhbCBkZXJpdmF0aXZlLlxuICAvLyBUaGUgZmlyc3QgY29tcG9uZW50IG9mIHRoZSAzLWVsZW1lbnQgcmV0dXJuIHZlY3RvciBpcyB0aGUgbm9pc2UgdmFsdWUsXG4gIC8vIGFuZCB0aGUgc2Vjb25kIGFuZCB0aGlyZCBjb21wb25lbnRzIGFyZSB0aGUgeCBhbmQgeSBwYXJ0aWFsIGRlcml2YXRpdmVzLlxuICAvL1xuICB2ZWMzIHBzcmRub2lzZSh2ZWMyIHBvcywgdmVjMiBwZXIsIGZsb2F0IHJvdCkge1xuICAgIC8vIEhhY2s6IG9mZnNldCB5IHNsaWdodGx5IHRvIGhpZGUgc29tZSByYXJlIGFydGlmYWN0c1xuICAgIHBvcy55ICs9IDAuMDE7XG4gICAgLy8gU2tldyB0byBoZXhhZ29uYWwgZ3JpZFxuICAgIHZlYzIgdXYgPSB2ZWMyKHBvcy54ICsgcG9zLnkqMC41LCBwb3MueSk7XG5cbiAgICB2ZWMyIGkwID0gZmxvb3IodXYpO1xuICAgIHZlYzIgZjAgPSBmcmFjdCh1dik7XG4gICAgLy8gVHJhdmVyc2FsIG9yZGVyXG4gICAgdmVjMiBpMSA9IChmMC54ID4gZjAueSkgPyB2ZWMyKDEuMCwgMC4wKSA6IHZlYzIoMC4wLCAxLjApO1xuXG4gICAgLy8gVW5za2V3ZWQgZ3JpZCBwb2ludHMgaW4gKHgseSkgc3BhY2VcbiAgICB2ZWMyIHAwID0gdmVjMihpMC54IC0gaTAueSAqIDAuNSwgaTAueSk7XG4gICAgdmVjMiBwMSA9IHZlYzIocDAueCArIGkxLnggLSBpMS55ICogMC41LCBwMC55ICsgaTEueSk7XG4gICAgdmVjMiBwMiA9IHZlYzIocDAueCArIDAuNSwgcDAueSArIDEuMCk7XG5cbiAgICAvLyBJbnRlZ2VyIGdyaWQgcG9pbnQgaW5kaWNlcyBpbiAodSx2KSBzcGFjZVxuICAgIGkxID0gaTAgKyBpMTtcbiAgICB2ZWMyIGkyID0gaTAgKyB2ZWMyKDEuMCwgMS4wKTtcblxuICAgIC8vIFZlY3RvcnMgaW4gdW5za2V3ZWQgKHgseSkgY29vcmRpbmF0ZXMgZnJvbVxuICAgIC8vIGVhY2ggb2YgdGhlIHNpbXBsZXggY29ybmVycyB0byB0aGUgZXZhbHVhdGlvbiBwb2ludFxuICAgIHZlYzIgZDAgPSBwb3MgLSBwMDtcbiAgICB2ZWMyIGQxID0gcG9zIC0gcDE7XG4gICAgdmVjMiBkMiA9IHBvcyAtIHAyO1xuXG4gICAgLy8gV3JhcCBpMCwgaTEgYW5kIGkyIHRvIHRoZSBkZXNpcmVkIHBlcmlvZCBiZWZvcmUgZ3JhZGllbnQgaGFzaGluZzpcbiAgICAvLyB3cmFwIHBvaW50cyBpbiAoeCx5KSwgbWFwIHRvICh1LHYpXG4gICAgdmVjMyB4dyA9IG1vZCh2ZWMzKHAwLngsIHAxLngsIHAyLngpLCBwZXIueCk7XG4gICAgdmVjMyB5dyA9IG1vZCh2ZWMzKHAwLnksIHAxLnksIHAyLnkpLCBwZXIueSk7XG4gICAgdmVjMyBpdXcgPSB4dyArIDAuNSAqIHl3O1xuICAgIHZlYzMgaXZ3ID0geXc7XG5cbiAgICAvLyBDcmVhdGUgZ3JhZGllbnRzIGZyb20gaW5kaWNlc1xuICAgIHZlYzIgZzAgPSByZ3JhZDIodmVjMihpdXcueCwgaXZ3LngpLCByb3QpO1xuICAgIHZlYzIgZzEgPSByZ3JhZDIodmVjMihpdXcueSwgaXZ3LnkpLCByb3QpO1xuICAgIHZlYzIgZzIgPSByZ3JhZDIodmVjMihpdXcueiwgaXZ3LnopLCByb3QpO1xuXG4gICAgLy8gR3JhZGllbnRzIGRvdCB2ZWN0b3JzIHRvIGNvcnJlc3BvbmRpbmcgY29ybmVyc1xuICAgIC8vIChUaGUgZGVyaXZhdGl2ZXMgb2YgdGhpcyBhcmUgc2ltcGx5IHRoZSBncmFkaWVudHMpXG4gICAgdmVjMyB3ID0gdmVjMyhkb3QoZzAsIGQwKSwgZG90KGcxLCBkMSksIGRvdChnMiwgZDIpKTtcblxuICAgIC8vIFJhZGlhbCB3ZWlnaHRzIGZyb20gY29ybmVyc1xuICAgIC8vIDAuOCBpcyB0aGUgc3F1YXJlIG9mIDIvc3FydCg1KSwgdGhlIGRpc3RhbmNlIGZyb21cbiAgICAvLyBhIGdyaWQgcG9pbnQgdG8gdGhlIG5lYXJlc3Qgc2ltcGxleCBib3VuZGFyeVxuICAgIHZlYzMgdCA9IDAuOCAtIHZlYzMoZG90KGQwLCBkMCksIGRvdChkMSwgZDEpLCBkb3QoZDIsIGQyKSk7XG5cbiAgICAvLyBQYXJ0aWFsIGRlcml2YXRpdmVzIGZvciBhbmFseXRpY2FsIGdyYWRpZW50IGNvbXB1dGF0aW9uXG4gICAgdmVjMyBkdGR4ID0gLTIuMCAqIHZlYzMoZDAueCwgZDEueCwgZDIueCk7XG4gICAgdmVjMyBkdGR5ID0gLTIuMCAqIHZlYzMoZDAueSwgZDEueSwgZDIueSk7XG5cbiAgICAvLyBTZXQgaW5mbHVlbmNlIG9mIGVhY2ggc3VyZmxldCB0byB6ZXJvIG91dHNpZGUgcmFkaXVzIHNxcnQoMC44KVxuICAgIGlmICh0LnggPCAwLjApIHtcbiAgICAgIGR0ZHgueCA9IDAuMDtcbiAgICAgIGR0ZHkueCA9IDAuMDtcbiAgICAgIHQueCA9IDAuMDtcbiAgICB9XG4gICAgaWYgKHQueSA8IDAuMCkge1xuICAgICAgZHRkeC55ID0gMC4wO1xuICAgICAgZHRkeS55ID0gMC4wO1xuICAgICAgdC55ID0gMC4wO1xuICAgIH1cbiAgICBpZiAodC56IDwgMC4wKSB7XG4gICAgICBkdGR4LnogPSAwLjA7XG4gICAgICBkdGR5LnogPSAwLjA7XG4gICAgICB0LnogPSAwLjA7XG4gICAgfVxuXG4gICAgLy8gRm91cnRoIHBvd2VyIG9mIHQgKGFuZCB0aGlyZCBwb3dlciBmb3IgZGVyaXZhdGl2ZSlcbiAgICB2ZWMzIHQyID0gdCAqIHQ7XG4gICAgdmVjMyB0NCA9IHQyICogdDI7XG4gICAgdmVjMyB0MyA9IHQyICogdDtcblxuICAgIC8vIEZpbmFsIG5vaXNlIHZhbHVlIGlzOlxuICAgIC8vIHN1bSBvZiAoKHJhZGlhbCB3ZWlnaHRzKSB0aW1lcyAoZ3JhZGllbnQgZG90IHZlY3RvciBmcm9tIGNvcm5lcikpXG4gICAgZmxvYXQgbiA9IGRvdCh0NCwgdyk7XG5cbiAgICAvLyBGaW5hbCBhbmFseXRpY2FsIGRlcml2YXRpdmUgKGdyYWRpZW50IG9mIGEgc3VtIG9mIHNjYWxhciBwcm9kdWN0cylcbiAgICB2ZWMyIGR0MCA9IHZlYzIoZHRkeC54LCBkdGR5LngpICogNC4wICogdDMueDtcbiAgICB2ZWMyIGRuMCA9IHQ0LnggKiBnMCArIGR0MCAqIHcueDtcbiAgICB2ZWMyIGR0MSA9IHZlYzIoZHRkeC55LCBkdGR5LnkpICogNC4wICogdDMueTtcbiAgICB2ZWMyIGRuMSA9IHQ0LnkgKiBnMSArIGR0MSAqIHcueTtcbiAgICB2ZWMyIGR0MiA9IHZlYzIoZHRkeC56LCBkdGR5LnopICogNC4wICogdDMuejtcbiAgICB2ZWMyIGRuMiA9IHQ0LnogKiBnMiArIGR0MiAqIHcuejtcblxuICAgIHJldHVybiAxMS4wKnZlYzMobiwgZG4wICsgZG4xICsgZG4yKTtcbiAgfVxuXG4gIC8vXG4gIC8vIDItRCB0aWxpbmcgc2ltcGxleCBub2lzZSB3aXRoIGZpeGVkIGdyYWRpZW50c1xuICAvLyBhbmQgYW5hbHl0aWNhbCBkZXJpdmF0aXZlLlxuICAvLyBUaGlzIGZ1bmN0aW9uIGlzIGltcGxlbWVudGVkIGFzIGEgd3JhcHBlciB0byBcInBzcmRub2lzZVwiLFxuICAvLyBhdCB0aGUgbWluaW1hbCBjb3N0IG9mIHRocmVlIGV4dHJhIGFkZGl0aW9ucy5cbiAgLy9cbiAgdmVjMyBwc2Rub2lzZSh2ZWMyIHBvcywgdmVjMiBwZXIpIHtcbiAgICByZXR1cm4gcHNyZG5vaXNlKHBvcywgcGVyLCAwLjApO1xuICB9XG5cbiAgLy9cbiAgLy8gMi1EIHRpbGluZyBzaW1wbGV4IG5vaXNlIHdpdGggcm90YXRpbmcgZ3JhZGllbnRzLFxuICAvLyBidXQgd2l0aG91dCB0aGUgYW5hbHl0aWNhbCBkZXJpdmF0aXZlLlxuICAvL1xuICBmbG9hdCBwc3Jub2lzZSh2ZWMyIHBvcywgdmVjMiBwZXIsIGZsb2F0IHJvdCkge1xuICAgIC8vIE9mZnNldCB5IHNsaWdodGx5IHRvIGhpZGUgc29tZSByYXJlIGFydGlmYWN0c1xuICAgIHBvcy55ICs9IDAuMDAxO1xuICAgIC8vIFNrZXcgdG8gaGV4YWdvbmFsIGdyaWRcbiAgICB2ZWMyIHV2ID0gdmVjMihwb3MueCArIHBvcy55KjAuNSwgcG9zLnkpO1xuXG4gICAgdmVjMiBpMCA9IGZsb29yKHV2KTtcbiAgICB2ZWMyIGYwID0gZnJhY3QodXYpO1xuICAgIC8vIFRyYXZlcnNhbCBvcmRlclxuICAgIHZlYzIgaTEgPSAoZjAueCA+IGYwLnkpID8gdmVjMigxLjAsIDAuMCkgOiB2ZWMyKDAuMCwgMS4wKTtcblxuICAgIC8vIFVuc2tld2VkIGdyaWQgcG9pbnRzIGluICh4LHkpIHNwYWNlXG4gICAgdmVjMiBwMCA9IHZlYzIoaTAueCAtIGkwLnkgKiAwLjUsIGkwLnkpO1xuICAgIHZlYzIgcDEgPSB2ZWMyKHAwLnggKyBpMS54IC0gaTEueSAqIDAuNSwgcDAueSArIGkxLnkpO1xuICAgIHZlYzIgcDIgPSB2ZWMyKHAwLnggKyAwLjUsIHAwLnkgKyAxLjApO1xuXG4gICAgLy8gSW50ZWdlciBncmlkIHBvaW50IGluZGljZXMgaW4gKHUsdikgc3BhY2VcbiAgICBpMSA9IGkwICsgaTE7XG4gICAgdmVjMiBpMiA9IGkwICsgdmVjMigxLjAsIDEuMCk7XG5cbiAgICAvLyBWZWN0b3JzIGluIHVuc2tld2VkICh4LHkpIGNvb3JkaW5hdGVzIGZyb21cbiAgICAvLyBlYWNoIG9mIHRoZSBzaW1wbGV4IGNvcm5lcnMgdG8gdGhlIGV2YWx1YXRpb24gcG9pbnRcbiAgICB2ZWMyIGQwID0gcG9zIC0gcDA7XG4gICAgdmVjMiBkMSA9IHBvcyAtIHAxO1xuICAgIHZlYzIgZDIgPSBwb3MgLSBwMjtcblxuICAgIC8vIFdyYXAgaTAsIGkxIGFuZCBpMiB0byB0aGUgZGVzaXJlZCBwZXJpb2QgYmVmb3JlIGdyYWRpZW50IGhhc2hpbmc6XG4gICAgLy8gd3JhcCBwb2ludHMgaW4gKHgseSksIG1hcCB0byAodSx2KVxuICAgIHZlYzMgeHcgPSBtb2QodmVjMyhwMC54LCBwMS54LCBwMi54KSwgcGVyLngpO1xuICAgIHZlYzMgeXcgPSBtb2QodmVjMyhwMC55LCBwMS55LCBwMi55KSwgcGVyLnkpO1xuICAgIHZlYzMgaXV3ID0geHcgKyAwLjUgKiB5dztcbiAgICB2ZWMzIGl2dyA9IHl3O1xuXG4gICAgLy8gQ3JlYXRlIGdyYWRpZW50cyBmcm9tIGluZGljZXNcbiAgICB2ZWMyIGcwID0gcmdyYWQyKHZlYzIoaXV3LngsIGl2dy54KSwgcm90KTtcbiAgICB2ZWMyIGcxID0gcmdyYWQyKHZlYzIoaXV3LnksIGl2dy55KSwgcm90KTtcbiAgICB2ZWMyIGcyID0gcmdyYWQyKHZlYzIoaXV3LnosIGl2dy56KSwgcm90KTtcblxuICAgIC8vIEdyYWRpZW50cyBkb3QgdmVjdG9ycyB0byBjb3JyZXNwb25kaW5nIGNvcm5lcnNcbiAgICAvLyAoVGhlIGRlcml2YXRpdmVzIG9mIHRoaXMgYXJlIHNpbXBseSB0aGUgZ3JhZGllbnRzKVxuICAgIHZlYzMgdyA9IHZlYzMoZG90KGcwLCBkMCksIGRvdChnMSwgZDEpLCBkb3QoZzIsIGQyKSk7XG5cbiAgICAvLyBSYWRpYWwgd2VpZ2h0cyBmcm9tIGNvcm5lcnNcbiAgICAvLyAwLjggaXMgdGhlIHNxdWFyZSBvZiAyL3NxcnQoNSksIHRoZSBkaXN0YW5jZSBmcm9tXG4gICAgLy8gYSBncmlkIHBvaW50IHRvIHRoZSBuZWFyZXN0IHNpbXBsZXggYm91bmRhcnlcbiAgICB2ZWMzIHQgPSAwLjggLSB2ZWMzKGRvdChkMCwgZDApLCBkb3QoZDEsIGQxKSwgZG90KGQyLCBkMikpO1xuXG4gICAgLy8gU2V0IGluZmx1ZW5jZSBvZiBlYWNoIHN1cmZsZXQgdG8gemVybyBvdXRzaWRlIHJhZGl1cyBzcXJ0KDAuOClcbiAgICB0ID0gbWF4KHQsIDAuMCk7XG5cbiAgICAvLyBGb3VydGggcG93ZXIgb2YgdFxuICAgIHZlYzMgdDIgPSB0ICogdDtcbiAgICB2ZWMzIHQ0ID0gdDIgKiB0MjtcblxuICAgIC8vIEZpbmFsIG5vaXNlIHZhbHVlIGlzOlxuICAgIC8vIHN1bSBvZiAoKHJhZGlhbCB3ZWlnaHRzKSB0aW1lcyAoZ3JhZGllbnQgZG90IHZlY3RvciBmcm9tIGNvcm5lcikpXG4gICAgZmxvYXQgbiA9IGRvdCh0NCwgdyk7XG5cbiAgICAvLyBSZXNjYWxlIHRvIGNvdmVyIHRoZSByYW5nZSBbLTEsMV0gcmVhc29uYWJseSB3ZWxsXG4gICAgcmV0dXJuIDExLjAqbjtcbiAgfVxuXG4gIC8vXG4gIC8vIDItRCB0aWxpbmcgc2ltcGxleCBub2lzZSB3aXRoIGZpeGVkIGdyYWRpZW50cyxcbiAgLy8gd2l0aG91dCB0aGUgYW5hbHl0aWNhbCBkZXJpdmF0aXZlLlxuICAvLyBUaGlzIGZ1bmN0aW9uIGlzIGltcGxlbWVudGVkIGFzIGEgd3JhcHBlciB0byBcInBzcm5vaXNlXCIsXG4gIC8vIGF0IHRoZSBtaW5pbWFsIGNvc3Qgb2YgdGhyZWUgZXh0cmEgYWRkaXRpb25zLlxuICAvL1xuICBmbG9hdCBwc25vaXNlKHZlYzIgcG9zLCB2ZWMyIHBlcikge1xuICAgIHJldHVybiBwc3Jub2lzZShwb3MsIHBlciwgMC4wKTtcbiAgfVxuXG4gIC8vXG4gIC8vIDItRCBub24tdGlsaW5nIHNpbXBsZXggbm9pc2Ugd2l0aCByb3RhdGluZyBncmFkaWVudHMgYW5kIGFuYWx5dGljYWwgZGVyaXZhdGl2ZS5cbiAgLy8gVGhlIGZpcnN0IGNvbXBvbmVudCBvZiB0aGUgMy1lbGVtZW50IHJldHVybiB2ZWN0b3IgaXMgdGhlIG5vaXNlIHZhbHVlLFxuICAvLyBhbmQgdGhlIHNlY29uZCBhbmQgdGhpcmQgY29tcG9uZW50cyBhcmUgdGhlIHggYW5kIHkgcGFydGlhbCBkZXJpdmF0aXZlcy5cbiAgLy9cbiAgdmVjMyBzcmRub2lzZSh2ZWMyIHBvcywgZmxvYXQgcm90KSB7XG4gICAgLy8gT2Zmc2V0IHkgc2xpZ2h0bHkgdG8gaGlkZSBzb21lIHJhcmUgYXJ0aWZhY3RzXG4gICAgcG9zLnkgKz0gMC4wMDE7XG4gICAgLy8gU2tldyB0byBoZXhhZ29uYWwgZ3JpZFxuICAgIHZlYzIgdXYgPSB2ZWMyKHBvcy54ICsgcG9zLnkqMC41LCBwb3MueSk7XG5cbiAgICB2ZWMyIGkwID0gZmxvb3IodXYpO1xuICAgIHZlYzIgZjAgPSBmcmFjdCh1dik7XG4gICAgLy8gVHJhdmVyc2FsIG9yZGVyXG4gICAgdmVjMiBpMSA9IChmMC54ID4gZjAueSkgPyB2ZWMyKDEuMCwgMC4wKSA6IHZlYzIoMC4wLCAxLjApO1xuXG4gICAgLy8gVW5za2V3ZWQgZ3JpZCBwb2ludHMgaW4gKHgseSkgc3BhY2VcbiAgICB2ZWMyIHAwID0gdmVjMihpMC54IC0gaTAueSAqIDAuNSwgaTAueSk7XG4gICAgdmVjMiBwMSA9IHZlYzIocDAueCArIGkxLnggLSBpMS55ICogMC41LCBwMC55ICsgaTEueSk7XG4gICAgdmVjMiBwMiA9IHZlYzIocDAueCArIDAuNSwgcDAueSArIDEuMCk7XG5cbiAgICAvLyBJbnRlZ2VyIGdyaWQgcG9pbnQgaW5kaWNlcyBpbiAodSx2KSBzcGFjZVxuICAgIGkxID0gaTAgKyBpMTtcbiAgICB2ZWMyIGkyID0gaTAgKyB2ZWMyKDEuMCwgMS4wKTtcblxuICAgIC8vIFZlY3RvcnMgaW4gdW5za2V3ZWQgKHgseSkgY29vcmRpbmF0ZXMgZnJvbVxuICAgIC8vIGVhY2ggb2YgdGhlIHNpbXBsZXggY29ybmVycyB0byB0aGUgZXZhbHVhdGlvbiBwb2ludFxuICAgIHZlYzIgZDAgPSBwb3MgLSBwMDtcbiAgICB2ZWMyIGQxID0gcG9zIC0gcDE7XG4gICAgdmVjMiBkMiA9IHBvcyAtIHAyO1xuXG4gICAgdmVjMyB4ID0gdmVjMyhwMC54LCBwMS54LCBwMi54KTtcbiAgICB2ZWMzIHkgPSB2ZWMzKHAwLnksIHAxLnksIHAyLnkpO1xuICAgIHZlYzMgaXV3ID0geCArIDAuNSAqIHk7XG4gICAgdmVjMyBpdncgPSB5O1xuXG4gICAgLy8gQXZvaWQgcHJlY2lzaW9uIGlzc3VlcyBpbiBwZXJtdXRhdGlvblxuICAgIGl1dyA9IG1vZDI4OShpdXcpO1xuICAgIGl2dyA9IG1vZDI4OShpdncpO1xuXG4gICAgLy8gQ3JlYXRlIGdyYWRpZW50cyBmcm9tIGluZGljZXNcbiAgICB2ZWMyIGcwID0gcmdyYWQyKHZlYzIoaXV3LngsIGl2dy54KSwgcm90KTtcbiAgICB2ZWMyIGcxID0gcmdyYWQyKHZlYzIoaXV3LnksIGl2dy55KSwgcm90KTtcbiAgICB2ZWMyIGcyID0gcmdyYWQyKHZlYzIoaXV3LnosIGl2dy56KSwgcm90KTtcblxuICAgIC8vIEdyYWRpZW50cyBkb3QgdmVjdG9ycyB0byBjb3JyZXNwb25kaW5nIGNvcm5lcnNcbiAgICAvLyAoVGhlIGRlcml2YXRpdmVzIG9mIHRoaXMgYXJlIHNpbXBseSB0aGUgZ3JhZGllbnRzKVxuICAgIHZlYzMgdyA9IHZlYzMoZG90KGcwLCBkMCksIGRvdChnMSwgZDEpLCBkb3QoZzIsIGQyKSk7XG5cbiAgICAvLyBSYWRpYWwgd2VpZ2h0cyBmcm9tIGNvcm5lcnNcbiAgICAvLyAwLjggaXMgdGhlIHNxdWFyZSBvZiAyL3NxcnQoNSksIHRoZSBkaXN0YW5jZSBmcm9tXG4gICAgLy8gYSBncmlkIHBvaW50IHRvIHRoZSBuZWFyZXN0IHNpbXBsZXggYm91bmRhcnlcbiAgICB2ZWMzIHQgPSAwLjggLSB2ZWMzKGRvdChkMCwgZDApLCBkb3QoZDEsIGQxKSwgZG90KGQyLCBkMikpO1xuXG4gICAgLy8gUGFydGlhbCBkZXJpdmF0aXZlcyBmb3IgYW5hbHl0aWNhbCBncmFkaWVudCBjb21wdXRhdGlvblxuICAgIHZlYzMgZHRkeCA9IC0yLjAgKiB2ZWMzKGQwLngsIGQxLngsIGQyLngpO1xuICAgIHZlYzMgZHRkeSA9IC0yLjAgKiB2ZWMzKGQwLnksIGQxLnksIGQyLnkpO1xuXG4gICAgLy8gU2V0IGluZmx1ZW5jZSBvZiBlYWNoIHN1cmZsZXQgdG8gemVybyBvdXRzaWRlIHJhZGl1cyBzcXJ0KDAuOClcbiAgICBpZiAodC54IDwgMC4wKSB7XG4gICAgICBkdGR4LnggPSAwLjA7XG4gICAgICBkdGR5LnggPSAwLjA7XG4gICAgICB0LnggPSAwLjA7XG4gICAgfVxuICAgIGlmICh0LnkgPCAwLjApIHtcbiAgICAgIGR0ZHgueSA9IDAuMDtcbiAgICAgIGR0ZHkueSA9IDAuMDtcbiAgICAgIHQueSA9IDAuMDtcbiAgICB9XG4gICAgaWYgKHQueiA8IDAuMCkge1xuICAgICAgZHRkeC56ID0gMC4wO1xuICAgICAgZHRkeS56ID0gMC4wO1xuICAgICAgdC56ID0gMC4wO1xuICAgIH1cblxuICAgIC8vIEZvdXJ0aCBwb3dlciBvZiB0IChhbmQgdGhpcmQgcG93ZXIgZm9yIGRlcml2YXRpdmUpXG4gICAgdmVjMyB0MiA9IHQgKiB0O1xuICAgIHZlYzMgdDQgPSB0MiAqIHQyO1xuICAgIHZlYzMgdDMgPSB0MiAqIHQ7XG5cbiAgICAvLyBGaW5hbCBub2lzZSB2YWx1ZSBpczpcbiAgICAvLyBzdW0gb2YgKChyYWRpYWwgd2VpZ2h0cykgdGltZXMgKGdyYWRpZW50IGRvdCB2ZWN0b3IgZnJvbSBjb3JuZXIpKVxuICAgIGZsb2F0IG4gPSBkb3QodDQsIHcpO1xuXG4gICAgLy8gRmluYWwgYW5hbHl0aWNhbCBkZXJpdmF0aXZlIChncmFkaWVudCBvZiBhIHN1bSBvZiBzY2FsYXIgcHJvZHVjdHMpXG4gICAgdmVjMiBkdDAgPSB2ZWMyKGR0ZHgueCwgZHRkeS54KSAqIDQuMCAqIHQzLng7XG4gICAgdmVjMiBkbjAgPSB0NC54ICogZzAgKyBkdDAgKiB3Lng7XG4gICAgdmVjMiBkdDEgPSB2ZWMyKGR0ZHgueSwgZHRkeS55KSAqIDQuMCAqIHQzLnk7XG4gICAgdmVjMiBkbjEgPSB0NC55ICogZzEgKyBkdDEgKiB3Lnk7XG4gICAgdmVjMiBkdDIgPSB2ZWMyKGR0ZHgueiwgZHRkeS56KSAqIDQuMCAqIHQzLno7XG4gICAgdmVjMiBkbjIgPSB0NC56ICogZzIgKyBkdDIgKiB3Lno7XG5cbiAgICByZXR1cm4gMTEuMCp2ZWMzKG4sIGRuMCArIGRuMSArIGRuMik7XG4gIH1cblxuICAvL1xuICAvLyAyLUQgbm9uLXRpbGluZyBzaW1wbGV4IG5vaXNlIHdpdGggZml4ZWQgZ3JhZGllbnRzIGFuZCBhbmFseXRpY2FsIGRlcml2YXRpdmUuXG4gIC8vIFRoaXMgZnVuY3Rpb24gaXMgaW1wbGVtZW50ZWQgYXMgYSB3cmFwcGVyIHRvIFwic3Jkbm9pc2VcIixcbiAgLy8gYXQgdGhlIG1pbmltYWwgY29zdCBvZiB0aHJlZSBleHRyYSBhZGRpdGlvbnMuXG4gIC8vXG4gIHZlYzMgc2Rub2lzZSh2ZWMyIHBvcykge1xuICAgIHJldHVybiBzcmRub2lzZShwb3MsIDAuMCk7XG4gIH1cblxuICAvL1xuICAvLyAyLUQgbm9uLXRpbGluZyBzaW1wbGV4IG5vaXNlIHdpdGggcm90YXRpbmcgZ3JhZGllbnRzLFxuICAvLyB3aXRob3V0IHRoZSBhbmFseXRpY2FsIGRlcml2YXRpdmUuXG4gIC8vXG4gIGZsb2F0IHNybm9pc2UodmVjMiBwb3MsIGZsb2F0IHJvdCkge1xuICAgIC8vIE9mZnNldCB5IHNsaWdodGx5IHRvIGhpZGUgc29tZSByYXJlIGFydGlmYWN0c1xuICAgIHBvcy55ICs9IDAuMDAxO1xuICAgIC8vIFNrZXcgdG8gaGV4YWdvbmFsIGdyaWRcbiAgICB2ZWMyIHV2ID0gdmVjMihwb3MueCArIHBvcy55KjAuNSwgcG9zLnkpO1xuXG4gICAgdmVjMiBpMCA9IGZsb29yKHV2KTtcbiAgICB2ZWMyIGYwID0gZnJhY3QodXYpO1xuICAgIC8vIFRyYXZlcnNhbCBvcmRlclxuICAgIHZlYzIgaTEgPSAoZjAueCA+IGYwLnkpID8gdmVjMigxLjAsIDAuMCkgOiB2ZWMyKDAuMCwgMS4wKTtcblxuICAgIC8vIFVuc2tld2VkIGdyaWQgcG9pbnRzIGluICh4LHkpIHNwYWNlXG4gICAgdmVjMiBwMCA9IHZlYzIoaTAueCAtIGkwLnkgKiAwLjUsIGkwLnkpO1xuICAgIHZlYzIgcDEgPSB2ZWMyKHAwLnggKyBpMS54IC0gaTEueSAqIDAuNSwgcDAueSArIGkxLnkpO1xuICAgIHZlYzIgcDIgPSB2ZWMyKHAwLnggKyAwLjUsIHAwLnkgKyAxLjApO1xuXG4gICAgLy8gSW50ZWdlciBncmlkIHBvaW50IGluZGljZXMgaW4gKHUsdikgc3BhY2VcbiAgICBpMSA9IGkwICsgaTE7XG4gICAgdmVjMiBpMiA9IGkwICsgdmVjMigxLjAsIDEuMCk7XG5cbiAgICAvLyBWZWN0b3JzIGluIHVuc2tld2VkICh4LHkpIGNvb3JkaW5hdGVzIGZyb21cbiAgICAvLyBlYWNoIG9mIHRoZSBzaW1wbGV4IGNvcm5lcnMgdG8gdGhlIGV2YWx1YXRpb24gcG9pbnRcbiAgICB2ZWMyIGQwID0gcG9zIC0gcDA7XG4gICAgdmVjMiBkMSA9IHBvcyAtIHAxO1xuICAgIHZlYzIgZDIgPSBwb3MgLSBwMjtcblxuICAgIC8vIFdyYXAgaTAsIGkxIGFuZCBpMiB0byB0aGUgZGVzaXJlZCBwZXJpb2QgYmVmb3JlIGdyYWRpZW50IGhhc2hpbmc6XG4gICAgLy8gd3JhcCBwb2ludHMgaW4gKHgseSksIG1hcCB0byAodSx2KVxuICAgIHZlYzMgeCA9IHZlYzMocDAueCwgcDEueCwgcDIueCk7XG4gICAgdmVjMyB5ID0gdmVjMyhwMC55LCBwMS55LCBwMi55KTtcbiAgICB2ZWMzIGl1dyA9IHggKyAwLjUgKiB5O1xuICAgIHZlYzMgaXZ3ID0geTtcblxuICAgIC8vIEF2b2lkIHByZWNpc2lvbiBpc3N1ZXMgaW4gcGVybXV0YXRpb25cbiAgICBpdXcgPSBtb2QyODkoaXV3KTtcbiAgICBpdncgPSBtb2QyODkoaXZ3KTtcblxuICAgIC8vIENyZWF0ZSBncmFkaWVudHMgZnJvbSBpbmRpY2VzXG4gICAgdmVjMiBnMCA9IHJncmFkMih2ZWMyKGl1dy54LCBpdncueCksIHJvdCk7XG4gICAgdmVjMiBnMSA9IHJncmFkMih2ZWMyKGl1dy55LCBpdncueSksIHJvdCk7XG4gICAgdmVjMiBnMiA9IHJncmFkMih2ZWMyKGl1dy56LCBpdncueiksIHJvdCk7XG5cbiAgICAvLyBHcmFkaWVudHMgZG90IHZlY3RvcnMgdG8gY29ycmVzcG9uZGluZyBjb3JuZXJzXG4gICAgLy8gKFRoZSBkZXJpdmF0aXZlcyBvZiB0aGlzIGFyZSBzaW1wbHkgdGhlIGdyYWRpZW50cylcbiAgICB2ZWMzIHcgPSB2ZWMzKGRvdChnMCwgZDApLCBkb3QoZzEsIGQxKSwgZG90KGcyLCBkMikpO1xuXG4gICAgLy8gUmFkaWFsIHdlaWdodHMgZnJvbSBjb3JuZXJzXG4gICAgLy8gMC44IGlzIHRoZSBzcXVhcmUgb2YgMi9zcXJ0KDUpLCB0aGUgZGlzdGFuY2UgZnJvbVxuICAgIC8vIGEgZ3JpZCBwb2ludCB0byB0aGUgbmVhcmVzdCBzaW1wbGV4IGJvdW5kYXJ5XG4gICAgdmVjMyB0ID0gMC44IC0gdmVjMyhkb3QoZDAsIGQwKSwgZG90KGQxLCBkMSksIGRvdChkMiwgZDIpKTtcblxuICAgIC8vIFNldCBpbmZsdWVuY2Ugb2YgZWFjaCBzdXJmbGV0IHRvIHplcm8gb3V0c2lkZSByYWRpdXMgc3FydCgwLjgpXG4gICAgdCA9IG1heCh0LCAwLjApO1xuXG4gICAgLy8gRm91cnRoIHBvd2VyIG9mIHRcbiAgICB2ZWMzIHQyID0gdCAqIHQ7XG4gICAgdmVjMyB0NCA9IHQyICogdDI7XG5cbiAgICAvLyBGaW5hbCBub2lzZSB2YWx1ZSBpczpcbiAgICAvLyBzdW0gb2YgKChyYWRpYWwgd2VpZ2h0cykgdGltZXMgKGdyYWRpZW50IGRvdCB2ZWN0b3IgZnJvbSBjb3JuZXIpKVxuICAgIGZsb2F0IG4gPSBkb3QodDQsIHcpO1xuXG4gICAgLy8gUmVzY2FsZSB0byBjb3ZlciB0aGUgcmFuZ2UgWy0xLDFdIHJlYXNvbmFibHkgd2VsbFxuICAgIHJldHVybiAxMS4wKm47XG4gIH1cblxuICAvL1xuICAvLyAyLUQgbm9uLXRpbGluZyBzaW1wbGV4IG5vaXNlIHdpdGggZml4ZWQgZ3JhZGllbnRzLFxuICAvLyB3aXRob3V0IHRoZSBhbmFseXRpY2FsIGRlcml2YXRpdmUuXG4gIC8vIFRoaXMgZnVuY3Rpb24gaXMgaW1wbGVtZW50ZWQgYXMgYSB3cmFwcGVyIHRvIFwic3Jub2lzZVwiLFxuICAvLyBhdCB0aGUgbWluaW1hbCBjb3N0IG9mIHRocmVlIGV4dHJhIGFkZGl0aW9ucy5cbiAgLy8gTm90ZTogaWYgdGhpcyBraW5kIG9mIG5vaXNlIGlzIGFsbCB5b3Ugd2FudCwgdGhlcmUgYXJlIGZhc3RlclxuICAvLyBHTFNMIGltcGxlbWVudGF0aW9ucyBvZiBub24tdGlsaW5nIHNpbXBsZXggbm9pc2Ugb3V0IHRoZXJlLlxuICAvLyBUaGlzIG9uZSBpcyBpbmNsdWRlZCBtYWlubHkgZm9yIGNvbXBsZXRlbmVzcyBhbmQgY29tcGF0aWJpbGl0eVxuICAvLyB3aXRoIHRoZSBvdGhlciBmdW5jdGlvbnMgaW4gdGhlIGZpbGUuXG4gIC8vXG4gIGZsb2F0IHNub2lzZSh2ZWMyIHBvcykge1xuICAgIHJldHVybiBzcm5vaXNlKHBvcywgMC4wKTtcbiAgfVxuXG4gIGZsb2F0IGhhc2goZmxvYXQgeCwgZmxvYXQgeSkge1xuICAgICAgcmV0dXJuIGZyYWN0KGFicyhzaW4oc2luKDEyMy4zMjEgKyB4KSAqICh5ICsgMzIxLjEyMykpICogNDU2LjY1NCkpO1xuICB9XG5cbiAgZmxvYXQgbGVycChmbG9hdCBhLCBmbG9hdCBiLCBmbG9hdCB0KSB7XG4gICAgICByZXR1cm4gYSAqICgxLjAgLSB0KSArIGIgKiB0O1xuICB9XG5cbiAgZmxvYXQgcGVybGluKGZsb2F0IHgsIGZsb2F0IHkpe1xuICAgICAgZmxvYXQgY29sID0gMC4wO1xuICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCA4OyBpKyspXG4gICAgICB7XG4gICAgICAgICAgZmxvYXQgZnggPSBmbG9vcih4KTtcbiAgICAgICAgICBmbG9hdCBmeSA9IGZsb29yKHkpO1xuICAgICAgICAgIGZsb2F0IGN4ID0gY2VpbCh4KTtcbiAgICAgICAgICBmbG9hdCBjeSA9IGNlaWwoeSk7XG4gICAgICAgICAgZmxvYXQgYSA9IGhhc2goZngsIGZ5KTtcbiAgICAgICAgICBmbG9hdCBiID0gaGFzaChmeCwgY3kpO1xuICAgICAgICAgIGZsb2F0IGMgPSBoYXNoKGN4LCBmeSk7XG4gICAgICAgICAgZmxvYXQgZCA9IGhhc2goY3gsIGN5KTtcbiAgICAgICAgICBjb2wgKz0gbGVycChsZXJwKGEsIGIsIGZyYWN0KHkpKSwgbGVycChjLCBkLCBmcmFjdCh5KSksIGZyYWN0KHgpKTtcbiAgICAgICAgICBjb2wgLz0gMi4wO1xuICAgICAgICAgIHggLz0gMi4wO1xuICAgICAgICAgIHkgLz0gMi4wO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbDtcbiAgfVxuXG4gIGZsb2F0IGRwZXJsaW4oZmxvYXQgeCwgZmxvYXQgeSl7XG4gICAgICBmbG9hdCBkID0gcGVybGluKHgsIHkpICogODAwLjA7XG4gICAgICByZXR1cm4gcGVybGluKHggKyBkLCB5ICsgZCk7XG4gIH1cblxuICBmbG9hdCBkZHBlcmxpbihmbG9hdCB4LCBmbG9hdCB5KXtcbiAgICAgIGZsb2F0IGQgPSBwZXJsaW4oeCwgeSkgKiA4MDAuMDtcbiAgICAgIHJldHVybiBkcGVybGluKHggKyBkLCB5ICsgZCk7XG4gIH1cblxuXG4gIGZsb2F0IHJhbmRvbSggdmVjMyBwdCwgZmxvYXQgc2VlZCApe1xuICAgIHZlYzMgc2NhbGUgPSB2ZWMzKCAxMi45ODk4LCA3OC4yMzMsIDE1MS43MTgyICk7XG4gICAgcmV0dXJuIGZyYWN0KCBzaW4oIGRvdCggcHQgKyBzZWVkLCBzY2FsZSApICkgKiA0Mzc1OC41NDUzICsgc2VlZCApIDtcbiAgfVxuYDtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/shaders/three-shader-chunks/noise.js\n");

/***/ }),

/***/ "./lib/string/css-unit.js":
/*!********************************!*\
  !*** ./lib/string/css-unit.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_1 = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\nconst color_1 = __webpack_require__(/*! ../mathf/color */ \"./lib/mathf/color.js\");\nvar CssUnitObjectTypes;\n(function (CssUnitObjectTypes) {\n    CssUnitObjectTypes[\"number\"] = \"num\";\n    CssUnitObjectTypes[\"unit\"] = \"unit\";\n    CssUnitObjectTypes[\"cssHex\"] = \"cssHex\";\n    CssUnitObjectTypes[\"rgba\"] = \"rgba\";\n    CssUnitObjectTypes[\"rgb\"] = \"rgb\";\n})(CssUnitObjectTypes = exports.CssUnitObjectTypes || (exports.CssUnitObjectTypes = {}));\nclass cssUnit {\n    static parse(css) {\n        const value = css.replace(/[a-zA-Z%]+/g, '');\n        const unit = css.match(/[a-zA-Z%]+/g);\n        let result = {\n            value: null,\n            unit: null,\n            type: null,\n            valueType: null,\n            originalValue: css,\n        };\n        if (is_1.is.cssRgba(css)) {\n            result.type = CssUnitObjectTypes.rgba;\n            result.value = color_1.color.cssToRgba(css);\n            result.valueType = CssUnitObjectTypes.rgba;\n        }\n        else if (is_1.is.cssRgb(css)) {\n            result.type = CssUnitObjectTypes.rgb;\n            result.value = color_1.color.cssToRgba(css);\n            result.valueType = CssUnitObjectTypes.rgba;\n        }\n        else if (is_1.is.cssHex(css)) {\n            result.value = color_1.color.cssToRgba(css);\n            result.type = CssUnitObjectTypes.cssHex;\n            result.valueType = CssUnitObjectTypes.rgba;\n        }\n        else {\n            result.value = value ? +value : null;\n            result.unit = unit ? unit[0] : null;\n            result.type = CssUnitObjectTypes.unit;\n            result.valueType = CssUnitObjectTypes.number;\n        }\n        result.originalValue = css;\n        return result;\n    }\n}\nexports.cssUnit = cssUnit;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc3RyaW5nL2Nzcy11bml0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3N0cmluZy9jc3MtdW5pdC5qcz9kZTY2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgaXNfMSA9IHJlcXVpcmUoXCIuLi9pcy9pc1wiKTtcbmNvbnN0IGNvbG9yXzEgPSByZXF1aXJlKFwiLi4vbWF0aGYvY29sb3JcIik7XG52YXIgQ3NzVW5pdE9iamVjdFR5cGVzO1xuKGZ1bmN0aW9uIChDc3NVbml0T2JqZWN0VHlwZXMpIHtcbiAgICBDc3NVbml0T2JqZWN0VHlwZXNbXCJudW1iZXJcIl0gPSBcIm51bVwiO1xuICAgIENzc1VuaXRPYmplY3RUeXBlc1tcInVuaXRcIl0gPSBcInVuaXRcIjtcbiAgICBDc3NVbml0T2JqZWN0VHlwZXNbXCJjc3NIZXhcIl0gPSBcImNzc0hleFwiO1xuICAgIENzc1VuaXRPYmplY3RUeXBlc1tcInJnYmFcIl0gPSBcInJnYmFcIjtcbiAgICBDc3NVbml0T2JqZWN0VHlwZXNbXCJyZ2JcIl0gPSBcInJnYlwiO1xufSkoQ3NzVW5pdE9iamVjdFR5cGVzID0gZXhwb3J0cy5Dc3NVbml0T2JqZWN0VHlwZXMgfHwgKGV4cG9ydHMuQ3NzVW5pdE9iamVjdFR5cGVzID0ge30pKTtcbmNsYXNzIGNzc1VuaXQge1xuICAgIHN0YXRpYyBwYXJzZShjc3MpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBjc3MucmVwbGFjZSgvW2EtekEtWiVdKy9nLCAnJyk7XG4gICAgICAgIGNvbnN0IHVuaXQgPSBjc3MubWF0Y2goL1thLXpBLVolXSsvZyk7XG4gICAgICAgIGxldCByZXN1bHQgPSB7XG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHVuaXQ6IG51bGwsXG4gICAgICAgICAgICB0eXBlOiBudWxsLFxuICAgICAgICAgICAgdmFsdWVUeXBlOiBudWxsLFxuICAgICAgICAgICAgb3JpZ2luYWxWYWx1ZTogY3NzLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoaXNfMS5pcy5jc3NSZ2JhKGNzcykpIHtcbiAgICAgICAgICAgIHJlc3VsdC50eXBlID0gQ3NzVW5pdE9iamVjdFR5cGVzLnJnYmE7XG4gICAgICAgICAgICByZXN1bHQudmFsdWUgPSBjb2xvcl8xLmNvbG9yLmNzc1RvUmdiYShjc3MpO1xuICAgICAgICAgICAgcmVzdWx0LnZhbHVlVHlwZSA9IENzc1VuaXRPYmplY3RUeXBlcy5yZ2JhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzXzEuaXMuY3NzUmdiKGNzcykpIHtcbiAgICAgICAgICAgIHJlc3VsdC50eXBlID0gQ3NzVW5pdE9iamVjdFR5cGVzLnJnYjtcbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IGNvbG9yXzEuY29sb3IuY3NzVG9SZ2JhKGNzcyk7XG4gICAgICAgICAgICByZXN1bHQudmFsdWVUeXBlID0gQ3NzVW5pdE9iamVjdFR5cGVzLnJnYmE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNfMS5pcy5jc3NIZXgoY3NzKSkge1xuICAgICAgICAgICAgcmVzdWx0LnZhbHVlID0gY29sb3JfMS5jb2xvci5jc3NUb1JnYmEoY3NzKTtcbiAgICAgICAgICAgIHJlc3VsdC50eXBlID0gQ3NzVW5pdE9iamVjdFR5cGVzLmNzc0hleDtcbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZVR5cGUgPSBDc3NVbml0T2JqZWN0VHlwZXMucmdiYTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHZhbHVlID8gK3ZhbHVlIDogbnVsbDtcbiAgICAgICAgICAgIHJlc3VsdC51bml0ID0gdW5pdCA/IHVuaXRbMF0gOiBudWxsO1xuICAgICAgICAgICAgcmVzdWx0LnR5cGUgPSBDc3NVbml0T2JqZWN0VHlwZXMudW5pdDtcbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZVR5cGUgPSBDc3NVbml0T2JqZWN0VHlwZXMubnVtYmVyO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5vcmlnaW5hbFZhbHVlID0gY3NzO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbmV4cG9ydHMuY3NzVW5pdCA9IGNzc1VuaXQ7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/string/css-unit.js\n");

/***/ }),

/***/ "./lib/threef/scene-renderer.js":
/*!**************************************!*\
  !*** ./lib/threef/scene-renderer.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst THREE = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\nconst three_inspector_1 = __webpack_require__(/*! ./three-inspector */ \"./lib/threef/three-inspector.js\");\nconst element_visibility_1 = __webpack_require__(/*! ../dom/element-visibility */ \"./lib/dom/element-visibility.js\");\nconst dom_watcher_1 = __webpack_require__(/*! ../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nconst __1 = __webpack_require__(/*! .. */ \"./lib/index.js\");\nvar SceneResizingAlgo;\n(function (SceneResizingAlgo) {\n    SceneResizingAlgo[\"standardAspect\"] = \"standardAspect\";\n    SceneResizingAlgo[\"resizeWithZoom\"] = \"resizeWithZoom\";\n    SceneResizingAlgo[\"resizeWithFov\"] = \"resizeWithFov\";\n    SceneResizingAlgo[\"contain\"] = \"contain\";\n    SceneResizingAlgo[\"cover\"] = \"cover\";\n    SceneResizingAlgo[\"manual\"] = \"manual\";\n})(SceneResizingAlgo = exports.SceneResizingAlgo || (exports.SceneResizingAlgo = {}));\nclass SceneRenderer {\n    constructor(config) {\n        this.watcher = new dom_watcher_1.DomWatcher();\n        this.watcher.add({\n            element: window,\n            callback: this.onResize.bind(this),\n            eventOptions: { passive: true },\n            on: 'smartResize',\n        });\n        this.useAbsolutePositioning = !!config.useAbsolutePositioning;\n        this.rootElement = config.rootElement || document.body;\n        this.dpr = window.devicePixelRatio || 1;\n        this.scenes = [];\n        this.zIndex = 0;\n        this.canvas = document.createElement('canvas');\n        this.canvas.style.pointerEvents = 'none';\n        if (this.useAbsolutePositioning) {\n            this.canvas.style.position = 'absolute';\n        }\n        else {\n            this.canvas.style.position = 'fixed';\n        }\n        this.canvas.style.left = '0px';\n        this.canvas.style.top = '0px';\n        this.setZIndex(this.zIndex);\n        this.rootElement.append(this.canvas);\n        this.renderer = new THREE.WebGLRenderer(config.rendererOptions ||\n            {\n                canvas: this.canvas,\n                antialias: true,\n                alpha: true\n            });\n        this.renderer.setClearColor(0xffffff, 0);\n        this.renderer.setPixelRatio(this.dpr);\n        this.onResize();\n    }\n    getThree() {\n        return THREE;\n    }\n    resize() {\n        this.onResize();\n    }\n    onResize() {\n        this.width = window.innerWidth;\n        this.height = window.innerHeight;\n        const aspectRatio = this.width / this.height;\n        this.scenes.forEach((scene) => {\n            const element = scene.userData.domElement;\n            scene.userData.onBeforeResize && scene.userData.onBeforeResize(this.getRenderer(), scene, scene.userData.camera);\n            const camera = scene.userData.camera;\n            let h = element.offsetHeight;\n            let w = element.offsetWidth;\n            const aspect = w / h;\n            if (scene.userData.resizingAlgo == SceneResizingAlgo.resizeWithZoom) {\n                const scalar = scene.userData.resizingScalar || 1.0;\n                if (aspect <= 1) {\n                    camera.zoom = aspect * scalar;\n                }\n                else {\n                    camera.zoom = 1;\n                }\n                camera.aspect = aspect;\n                camera.updateProjectionMatrix();\n            }\n            if (scene.userData.resizingAlgo == SceneResizingAlgo.standardAspect) {\n                camera.aspect = aspect;\n                camera.updateProjectionMatrix();\n            }\n            if (scene.userData.resizingAlgo == SceneResizingAlgo.resizeWithFov) {\n                const z = scene.userData.resizingScalar || 1.0;\n                camera.fov = Math.atan(h / 2 / z) * 2 * THREE.Math.RAD2DEG;\n                camera.aspect = aspect;\n                camera.updateProjectionMatrix();\n            }\n            if (scene.userData.resizingAlgo == SceneResizingAlgo.contain) {\n                if (!scene.userData.resizingOptions\n                    || !scene.userData.resizingOptions.scalarX\n                    || !scene.userData.resizingOptions.scalarY) {\n                    throw new Error('Requested contain algo without the correct resizing options');\n                    return;\n                }\n                const scalarX = scene.userData.resizingOptions.scalarX;\n                const scalarY = scene.userData.resizingOptions.scalarY;\n                const hFov = Math.atan(h / 2 / (w * scalarY)) * 2 * THREE.Math.RAD2DEG;\n                const vFov = Math.atan(h / 2 / (h * scalarX)) * 2 * THREE.Math.RAD2DEG;\n                const virtualFov = Math.max(vFov, hFov);\n                if (scene.userData.resizingOptions.useFov) {\n                    camera.fov = virtualFov;\n                }\n                else {\n                    camera.zoom = camera.fov / virtualFov;\n                }\n                let virtualBox;\n                const virtualBoxAspect = scalarY / scalarX;\n                let xOffset = 0;\n                let yOffset = 0;\n                let top = scene.userData.resizingOptions.top;\n                let bottom = scene.userData.resizingOptions.bottom;\n                let left = scene.userData.resizingOptions.left;\n                let right = scene.userData.resizingOptions.right;\n                if (__1.is.defined(top) || __1.is.defined(bottom)) {\n                    virtualBox = {\n                        width: w,\n                        height: w * virtualBoxAspect\n                    };\n                    const diffY = Math.max(0, (h - virtualBox.height) / 2);\n                    if (__1.is.defined(top)) {\n                        top *= 2;\n                        yOffset = diffY * (1 - top);\n                    }\n                    if (__1.is.defined(bottom)) {\n                        bottom *= 2;\n                        yOffset = -diffY * (1 - bottom);\n                    }\n                }\n                if (__1.is.defined(left) || __1.is.defined(right)) {\n                    virtualBox = {\n                        width: h / virtualBoxAspect,\n                        height: h\n                    };\n                    const diffX = Math.max(0, (w - virtualBox.width) / 2);\n                    if (__1.is.defined(left)) {\n                        left *= 2;\n                        xOffset = diffX * (1 - left);\n                    }\n                    if (__1.is.defined(right)) {\n                        right *= 2;\n                        xOffset = -diffX * (1 - right);\n                    }\n                }\n                camera.setViewOffset(w, h, xOffset, yOffset, w, h);\n                camera.aspect = aspect;\n                camera.updateProjectionMatrix();\n            }\n            if (scene.userData.resizingAlgo == SceneResizingAlgo.cover) {\n                if (!scene.userData.resizingOptions\n                    || !scene.userData.resizingOptions.scalarX\n                    || !scene.userData.resizingOptions.scalarY) {\n                    throw new Error('Requested cover algo without the correct resizing options');\n                    return;\n                }\n                const scalarX = scene.userData.resizingOptions.scalarX;\n                const scalarY = scene.userData.resizingOptions.scalarY;\n                let virtualBox;\n                const virtualBoxAspect = scalarY / scalarX;\n                const hFov = Math.atan(h / 2 / (w * scalarY)) * 2 * THREE.Math.RAD2DEG;\n                const vFov = Math.atan(h / 2 / (h * scalarX)) * 2 * THREE.Math.RAD2DEG;\n                const virtualFov = Math.min(vFov, hFov);\n                if (scene.userData.resizingOptions.useFov) {\n                    camera.fov = virtualFov;\n                }\n                else {\n                    camera.zoom = camera.fov / virtualFov;\n                }\n                let xOffset = 0;\n                let yOffset = 0;\n                let top = scene.userData.resizingOptions.top;\n                let bottom = scene.userData.resizingOptions.bottom;\n                let left = scene.userData.resizingOptions.left;\n                let right = scene.userData.resizingOptions.right;\n                if (__1.is.defined(top) || __1.is.defined(bottom)) {\n                    virtualBox = {\n                        width: h / virtualBoxAspect,\n                        height: h\n                    };\n                    const coverBox = __1.mathf.calculateBackgroundCover({ width: w, height: h }, virtualBox);\n                    const diffY = Math.max(0, (coverBox.height - h) / 2);\n                    if (__1.is.defined(top)) {\n                        top *= 2;\n                        yOffset = -diffY * (1 - top);\n                    }\n                    if (__1.is.defined(bottom)) {\n                        bottom *= 2;\n                        yOffset = diffY * (1 - bottom);\n                    }\n                }\n                if (__1.is.defined(left) || __1.is.defined(right)) {\n                    virtualBox = {\n                        width: w,\n                        height: w * virtualBoxAspect\n                    };\n                    const coverBox = __1.mathf.calculateBackgroundCover({ width: w, height: h }, virtualBox);\n                    const diffX = Math.max(0, (coverBox.width - w) / 2);\n                    if (__1.is.defined(left)) {\n                        left *= 2;\n                        xOffset = -diffX * (1 - left);\n                    }\n                    if (__1.is.defined(right)) {\n                        right *= 2;\n                        xOffset = diffX * (1 - right);\n                    }\n                }\n                camera.setViewOffset(w, h, xOffset, yOffset, w, h);\n                camera.aspect = aspect;\n                camera.updateProjectionMatrix();\n            }\n            scene.userData.onResize && scene.userData.onResize(this.getRenderer(), scene, scene.userData.camera);\n        });\n        this.renderer.setSize(this.width, this.height);\n        this.render();\n    }\n    setZIndex(zIndex) {\n        this.zIndex = zIndex;\n        this.canvas.style.zIndex = this.zIndex + '';\n    }\n    getSize() {\n        return {\n            width: this.width,\n            height: this.height,\n            aspect: this.width / this.height\n        };\n    }\n    addScene(sceneConfig, forceResize = false) {\n        if (!sceneConfig.domElement || !sceneConfig.scene || !sceneConfig.camera) {\n            console.warn(`SceneRenderer could not register scene.  It is missing either the scene, camere or domElement`);\n            return;\n        }\n        const scene = sceneConfig.scene;\n        if (sceneConfig.debug) {\n            this.setupDebugging(sceneConfig);\n        }\n        scene.userData = sceneConfig;\n        scene.userData.ev = element_visibility_1.elementVisibility.inview(sceneConfig.domElement);\n        this.scenes.push(scene);\n        scene.userData.onInit && scene.userData.onInit(this.getRenderer(), scene, scene.userData.camera);\n        if (forceResize) {\n            window.setTimeout(() => {\n                this.resize();\n            });\n        }\n    }\n    setupDebugging(sceneConfig) {\n        const scene = sceneConfig.scene;\n        var axesHelper = new THREE.AxesHelper(50);\n        scene.add(axesHelper);\n        new three_inspector_1.ThreeInspector(sceneConfig.domElement, sceneConfig.scene, sceneConfig.camera);\n    }\n    getRenderer() {\n        return this.renderer;\n    }\n    render() {\n        if (this.useAbsolutePositioning) {\n            this.canvas.style.transform = `translateY(${window.scrollY}px)`;\n        }\n        this.renderer.setScissorTest(false);\n        this.renderer.clear();\n        this.renderer.setScissorTest(true);\n        this.scenes.forEach((scene) => {\n            if (!scene.userData.ev.state().inview) {\n                return;\n            }\n            const element = scene.userData.domElement;\n            var rect = element.getBoundingClientRect();\n            var width = rect.right - rect.left;\n            var height = rect.bottom - rect.top;\n            var left = rect.left;\n            var bottom = this.renderer.domElement.clientHeight - rect.bottom;\n            this.renderer.setViewport(left, bottom, width, height);\n            this.renderer.setScissor(left, bottom, width, height);\n            scene.userData.onBeforeRender && scene.userData.onBeforeRender(this.getRenderer(), scene, scene.userData.camera);\n            this.renderer.render(scene, scene.userData.camera);\n            scene.userData.onAfterRender && scene.userData.onAfterRender(this.getRenderer(), scene, scene.userData.camera);\n        });\n    }\n    dispose() {\n        this.scenes.forEach((scene) => {\n            scene.userData.ev.dispose();\n            scene.userData.element = null;\n            scene.userData.onDispose && scene.userData.onDispose();\n        });\n        this.canvas.parentElement.removeChild(this.canvas);\n    }\n}\nexports.SceneRenderer = SceneRenderer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvdGhyZWVmL3NjZW5lLXJlbmRlcmVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3RocmVlZi9zY2VuZS1yZW5kZXJlci5qcz8yMTdkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgVEhSRUUgPSByZXF1aXJlKFwidGhyZWVcIik7XG5jb25zdCB0aHJlZV9pbnNwZWN0b3JfMSA9IHJlcXVpcmUoXCIuL3RocmVlLWluc3BlY3RvclwiKTtcbmNvbnN0IGVsZW1lbnRfdmlzaWJpbGl0eV8xID0gcmVxdWlyZShcIi4uL2RvbS9lbGVtZW50LXZpc2liaWxpdHlcIik7XG5jb25zdCBkb21fd2F0Y2hlcl8xID0gcmVxdWlyZShcIi4uL2RvbS9kb20td2F0Y2hlclwiKTtcbmNvbnN0IF9fMSA9IHJlcXVpcmUoXCIuLlwiKTtcbnZhciBTY2VuZVJlc2l6aW5nQWxnbztcbihmdW5jdGlvbiAoU2NlbmVSZXNpemluZ0FsZ28pIHtcbiAgICBTY2VuZVJlc2l6aW5nQWxnb1tcInN0YW5kYXJkQXNwZWN0XCJdID0gXCJzdGFuZGFyZEFzcGVjdFwiO1xuICAgIFNjZW5lUmVzaXppbmdBbGdvW1wicmVzaXplV2l0aFpvb21cIl0gPSBcInJlc2l6ZVdpdGhab29tXCI7XG4gICAgU2NlbmVSZXNpemluZ0FsZ29bXCJyZXNpemVXaXRoRm92XCJdID0gXCJyZXNpemVXaXRoRm92XCI7XG4gICAgU2NlbmVSZXNpemluZ0FsZ29bXCJjb250YWluXCJdID0gXCJjb250YWluXCI7XG4gICAgU2NlbmVSZXNpemluZ0FsZ29bXCJjb3ZlclwiXSA9IFwiY292ZXJcIjtcbiAgICBTY2VuZVJlc2l6aW5nQWxnb1tcIm1hbnVhbFwiXSA9IFwibWFudWFsXCI7XG59KShTY2VuZVJlc2l6aW5nQWxnbyA9IGV4cG9ydHMuU2NlbmVSZXNpemluZ0FsZ28gfHwgKGV4cG9ydHMuU2NlbmVSZXNpemluZ0FsZ28gPSB7fSkpO1xuY2xhc3MgU2NlbmVSZW5kZXJlciB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMud2F0Y2hlciA9IG5ldyBkb21fd2F0Y2hlcl8xLkRvbVdhdGNoZXIoKTtcbiAgICAgICAgdGhpcy53YXRjaGVyLmFkZCh7XG4gICAgICAgICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICAgICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZXZlbnRPcHRpb25zOiB7IHBhc3NpdmU6IHRydWUgfSxcbiAgICAgICAgICAgIG9uOiAnc21hcnRSZXNpemUnLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51c2VBYnNvbHV0ZVBvc2l0aW9uaW5nID0gISFjb25maWcudXNlQWJzb2x1dGVQb3NpdGlvbmluZztcbiAgICAgICAgdGhpcy5yb290RWxlbWVudCA9IGNvbmZpZy5yb290RWxlbWVudCB8fCBkb2N1bWVudC5ib2R5O1xuICAgICAgICB0aGlzLmRwciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gICAgICAgIHRoaXMuc2NlbmVzID0gW107XG4gICAgICAgIHRoaXMuekluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICAgICAgaWYgKHRoaXMudXNlQWJzb2x1dGVQb3NpdGlvbmluZykge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLmxlZnQgPSAnMHB4JztcbiAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUudG9wID0gJzBweCc7XG4gICAgICAgIHRoaXMuc2V0WkluZGV4KHRoaXMuekluZGV4KTtcbiAgICAgICAgdGhpcy5yb290RWxlbWVudC5hcHBlbmQodGhpcy5jYW52YXMpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoY29uZmlnLnJlbmRlcmVyT3B0aW9ucyB8fFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhbnZhczogdGhpcy5jYW52YXMsXG4gICAgICAgICAgICAgICAgYW50aWFsaWFzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGFscGhhOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKDB4ZmZmZmZmLCAwKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHRoaXMuZHByKTtcbiAgICAgICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIH1cbiAgICBnZXRUaHJlZSgpIHtcbiAgICAgICAgcmV0dXJuIFRIUkVFO1xuICAgIH1cbiAgICByZXNpemUoKSB7XG4gICAgICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB9XG4gICAgb25SZXNpemUoKSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0O1xuICAgICAgICB0aGlzLnNjZW5lcy5mb3JFYWNoKChzY2VuZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHNjZW5lLnVzZXJEYXRhLmRvbUVsZW1lbnQ7XG4gICAgICAgICAgICBzY2VuZS51c2VyRGF0YS5vbkJlZm9yZVJlc2l6ZSAmJiBzY2VuZS51c2VyRGF0YS5vbkJlZm9yZVJlc2l6ZSh0aGlzLmdldFJlbmRlcmVyKCksIHNjZW5lLCBzY2VuZS51c2VyRGF0YS5jYW1lcmEpO1xuICAgICAgICAgICAgY29uc3QgY2FtZXJhID0gc2NlbmUudXNlckRhdGEuY2FtZXJhO1xuICAgICAgICAgICAgbGV0IGggPSBlbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgIGxldCB3ID0gZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGFzcGVjdCA9IHcgLyBoO1xuICAgICAgICAgICAgaWYgKHNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nQWxnbyA9PSBTY2VuZVJlc2l6aW5nQWxnby5yZXNpemVXaXRoWm9vbSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxhciA9IHNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nU2NhbGFyIHx8IDEuMDtcbiAgICAgICAgICAgICAgICBpZiAoYXNwZWN0IDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLnpvb20gPSBhc3BlY3QgKiBzY2FsYXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmEuem9vbSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhbWVyYS5hc3BlY3QgPSBhc3BlY3Q7XG4gICAgICAgICAgICAgICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzY2VuZS51c2VyRGF0YS5yZXNpemluZ0FsZ28gPT0gU2NlbmVSZXNpemluZ0FsZ28uc3RhbmRhcmRBc3BlY3QpIHtcbiAgICAgICAgICAgICAgICBjYW1lcmEuYXNwZWN0ID0gYXNwZWN0O1xuICAgICAgICAgICAgICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2NlbmUudXNlckRhdGEucmVzaXppbmdBbGdvID09IFNjZW5lUmVzaXppbmdBbGdvLnJlc2l6ZVdpdGhGb3YpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB6ID0gc2NlbmUudXNlckRhdGEucmVzaXppbmdTY2FsYXIgfHwgMS4wO1xuICAgICAgICAgICAgICAgIGNhbWVyYS5mb3YgPSBNYXRoLmF0YW4oaCAvIDIgLyB6KSAqIDIgKiBUSFJFRS5NYXRoLlJBRDJERUc7XG4gICAgICAgICAgICAgICAgY2FtZXJhLmFzcGVjdCA9IGFzcGVjdDtcbiAgICAgICAgICAgICAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nQWxnbyA9PSBTY2VuZVJlc2l6aW5nQWxnby5jb250YWluKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzY2VuZS51c2VyRGF0YS5yZXNpemluZ09wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgfHwgIXNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nT3B0aW9ucy5zY2FsYXJYXG4gICAgICAgICAgICAgICAgICAgIHx8ICFzY2VuZS51c2VyRGF0YS5yZXNpemluZ09wdGlvbnMuc2NhbGFyWSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVlc3RlZCBjb250YWluIGFsZ28gd2l0aG91dCB0aGUgY29ycmVjdCByZXNpemluZyBvcHRpb25zJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NhbGFyWCA9IHNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nT3B0aW9ucy5zY2FsYXJYO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxhclkgPSBzY2VuZS51c2VyRGF0YS5yZXNpemluZ09wdGlvbnMuc2NhbGFyWTtcbiAgICAgICAgICAgICAgICBjb25zdCBoRm92ID0gTWF0aC5hdGFuKGggLyAyIC8gKHcgKiBzY2FsYXJZKSkgKiAyICogVEhSRUUuTWF0aC5SQUQyREVHO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZGb3YgPSBNYXRoLmF0YW4oaCAvIDIgLyAoaCAqIHNjYWxhclgpKSAqIDIgKiBUSFJFRS5NYXRoLlJBRDJERUc7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlydHVhbEZvdiA9IE1hdGgubWF4KHZGb3YsIGhGb3YpO1xuICAgICAgICAgICAgICAgIGlmIChzY2VuZS51c2VyRGF0YS5yZXNpemluZ09wdGlvbnMudXNlRm92KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYS5mb3YgPSB2aXJ0dWFsRm92O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLnpvb20gPSBjYW1lcmEuZm92IC8gdmlydHVhbEZvdjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IHZpcnR1YWxCb3g7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlydHVhbEJveEFzcGVjdCA9IHNjYWxhclkgLyBzY2FsYXJYO1xuICAgICAgICAgICAgICAgIGxldCB4T2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgeU9mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IHRvcCA9IHNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nT3B0aW9ucy50b3A7XG4gICAgICAgICAgICAgICAgbGV0IGJvdHRvbSA9IHNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nT3B0aW9ucy5ib3R0b207XG4gICAgICAgICAgICAgICAgbGV0IGxlZnQgPSBzY2VuZS51c2VyRGF0YS5yZXNpemluZ09wdGlvbnMubGVmdDtcbiAgICAgICAgICAgICAgICBsZXQgcmlnaHQgPSBzY2VuZS51c2VyRGF0YS5yZXNpemluZ09wdGlvbnMucmlnaHQ7XG4gICAgICAgICAgICAgICAgaWYgKF9fMS5pcy5kZWZpbmVkKHRvcCkgfHwgX18xLmlzLmRlZmluZWQoYm90dG9tKSkge1xuICAgICAgICAgICAgICAgICAgICB2aXJ0dWFsQm94ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHcsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHcgKiB2aXJ0dWFsQm94QXNwZWN0XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZZID0gTWF0aC5tYXgoMCwgKGggLSB2aXJ0dWFsQm94LmhlaWdodCkgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9fMS5pcy5kZWZpbmVkKHRvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcCAqPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgeU9mZnNldCA9IGRpZmZZICogKDEgLSB0b3ApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfXzEuaXMuZGVmaW5lZChib3R0b20pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3R0b20gKj0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHlPZmZzZXQgPSAtZGlmZlkgKiAoMSAtIGJvdHRvbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9fMS5pcy5kZWZpbmVkKGxlZnQpIHx8IF9fMS5pcy5kZWZpbmVkKHJpZ2h0KSkge1xuICAgICAgICAgICAgICAgICAgICB2aXJ0dWFsQm94ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGggLyB2aXJ0dWFsQm94QXNwZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBoXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZYID0gTWF0aC5tYXgoMCwgKHcgLSB2aXJ0dWFsQm94LndpZHRoKSAvIDIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX18xLmlzLmRlZmluZWQobGVmdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgKj0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHhPZmZzZXQgPSBkaWZmWCAqICgxIC0gbGVmdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKF9fMS5pcy5kZWZpbmVkKHJpZ2h0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQgKj0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHhPZmZzZXQgPSAtZGlmZlggKiAoMSAtIHJpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYW1lcmEuc2V0Vmlld09mZnNldCh3LCBoLCB4T2Zmc2V0LCB5T2Zmc2V0LCB3LCBoKTtcbiAgICAgICAgICAgICAgICBjYW1lcmEuYXNwZWN0ID0gYXNwZWN0O1xuICAgICAgICAgICAgICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2NlbmUudXNlckRhdGEucmVzaXppbmdBbGdvID09IFNjZW5lUmVzaXppbmdBbGdvLmNvdmVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzY2VuZS51c2VyRGF0YS5yZXNpemluZ09wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgfHwgIXNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nT3B0aW9ucy5zY2FsYXJYXG4gICAgICAgICAgICAgICAgICAgIHx8ICFzY2VuZS51c2VyRGF0YS5yZXNpemluZ09wdGlvbnMuc2NhbGFyWSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVlc3RlZCBjb3ZlciBhbGdvIHdpdGhvdXQgdGhlIGNvcnJlY3QgcmVzaXppbmcgb3B0aW9ucycpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxhclggPSBzY2VuZS51c2VyRGF0YS5yZXNpemluZ09wdGlvbnMuc2NhbGFyWDtcbiAgICAgICAgICAgICAgICBjb25zdCBzY2FsYXJZID0gc2NlbmUudXNlckRhdGEucmVzaXppbmdPcHRpb25zLnNjYWxhclk7XG4gICAgICAgICAgICAgICAgbGV0IHZpcnR1YWxCb3g7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlydHVhbEJveEFzcGVjdCA9IHNjYWxhclkgLyBzY2FsYXJYO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhGb3YgPSBNYXRoLmF0YW4oaCAvIDIgLyAodyAqIHNjYWxhclkpKSAqIDIgKiBUSFJFRS5NYXRoLlJBRDJERUc7XG4gICAgICAgICAgICAgICAgY29uc3QgdkZvdiA9IE1hdGguYXRhbihoIC8gMiAvIChoICogc2NhbGFyWCkpICogMiAqIFRIUkVFLk1hdGguUkFEMkRFRztcbiAgICAgICAgICAgICAgICBjb25zdCB2aXJ0dWFsRm92ID0gTWF0aC5taW4odkZvdiwgaEZvdik7XG4gICAgICAgICAgICAgICAgaWYgKHNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nT3B0aW9ucy51c2VGb3YpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLmZvdiA9IHZpcnR1YWxGb3Y7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmEuem9vbSA9IGNhbWVyYS5mb3YgLyB2aXJ0dWFsRm92O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgeE9mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IHlPZmZzZXQgPSAwO1xuICAgICAgICAgICAgICAgIGxldCB0b3AgPSBzY2VuZS51c2VyRGF0YS5yZXNpemluZ09wdGlvbnMudG9wO1xuICAgICAgICAgICAgICAgIGxldCBib3R0b20gPSBzY2VuZS51c2VyRGF0YS5yZXNpemluZ09wdGlvbnMuYm90dG9tO1xuICAgICAgICAgICAgICAgIGxldCBsZWZ0ID0gc2NlbmUudXNlckRhdGEucmVzaXppbmdPcHRpb25zLmxlZnQ7XG4gICAgICAgICAgICAgICAgbGV0IHJpZ2h0ID0gc2NlbmUudXNlckRhdGEucmVzaXppbmdPcHRpb25zLnJpZ2h0O1xuICAgICAgICAgICAgICAgIGlmIChfXzEuaXMuZGVmaW5lZCh0b3ApIHx8IF9fMS5pcy5kZWZpbmVkKGJvdHRvbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlydHVhbEJveCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBoIC8gdmlydHVhbEJveEFzcGVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3ZlckJveCA9IF9fMS5tYXRoZi5jYWxjdWxhdGVCYWNrZ3JvdW5kQ292ZXIoeyB3aWR0aDogdywgaGVpZ2h0OiBoIH0sIHZpcnR1YWxCb3gpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmWSA9IE1hdGgubWF4KDAsIChjb3ZlckJveC5oZWlnaHQgLSBoKSAvIDIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX18xLmlzLmRlZmluZWQodG9wKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wICo9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB5T2Zmc2V0ID0gLWRpZmZZICogKDEgLSB0b3ApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfXzEuaXMuZGVmaW5lZChib3R0b20pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3R0b20gKj0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHlPZmZzZXQgPSBkaWZmWSAqICgxIC0gYm90dG9tKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX18xLmlzLmRlZmluZWQobGVmdCkgfHwgX18xLmlzLmRlZmluZWQocmlnaHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpcnR1YWxCb3ggPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogdyAqIHZpcnR1YWxCb3hBc3BlY3RcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY292ZXJCb3ggPSBfXzEubWF0aGYuY2FsY3VsYXRlQmFja2dyb3VuZENvdmVyKHsgd2lkdGg6IHcsIGhlaWdodDogaCB9LCB2aXJ0dWFsQm94KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlmZlggPSBNYXRoLm1heCgwLCAoY292ZXJCb3gud2lkdGggLSB3KSAvIDIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX18xLmlzLmRlZmluZWQobGVmdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgKj0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHhPZmZzZXQgPSAtZGlmZlggKiAoMSAtIGxlZnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfXzEuaXMuZGVmaW5lZChyaWdodCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0ICo9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB4T2Zmc2V0ID0gZGlmZlggKiAoMSAtIHJpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYW1lcmEuc2V0Vmlld09mZnNldCh3LCBoLCB4T2Zmc2V0LCB5T2Zmc2V0LCB3LCBoKTtcbiAgICAgICAgICAgICAgICBjYW1lcmEuYXNwZWN0ID0gYXNwZWN0O1xuICAgICAgICAgICAgICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzY2VuZS51c2VyRGF0YS5vblJlc2l6ZSAmJiBzY2VuZS51c2VyRGF0YS5vblJlc2l6ZSh0aGlzLmdldFJlbmRlcmVyKCksIHNjZW5lLCBzY2VuZS51c2VyRGF0YS5jYW1lcmEpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG4gICAgc2V0WkluZGV4KHpJbmRleCkge1xuICAgICAgICB0aGlzLnpJbmRleCA9IHpJbmRleDtcbiAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuekluZGV4ID0gdGhpcy56SW5kZXggKyAnJztcbiAgICB9XG4gICAgZ2V0U2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgIGFzcGVjdDogdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0XG4gICAgICAgIH07XG4gICAgfVxuICAgIGFkZFNjZW5lKHNjZW5lQ29uZmlnLCBmb3JjZVJlc2l6ZSA9IGZhbHNlKSB7XG4gICAgICAgIGlmICghc2NlbmVDb25maWcuZG9tRWxlbWVudCB8fCAhc2NlbmVDb25maWcuc2NlbmUgfHwgIXNjZW5lQ29uZmlnLmNhbWVyYSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBTY2VuZVJlbmRlcmVyIGNvdWxkIG5vdCByZWdpc3RlciBzY2VuZS4gIEl0IGlzIG1pc3NpbmcgZWl0aGVyIHRoZSBzY2VuZSwgY2FtZXJlIG9yIGRvbUVsZW1lbnRgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzY2VuZSA9IHNjZW5lQ29uZmlnLnNjZW5lO1xuICAgICAgICBpZiAoc2NlbmVDb25maWcuZGVidWcpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBEZWJ1Z2dpbmcoc2NlbmVDb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIHNjZW5lLnVzZXJEYXRhID0gc2NlbmVDb25maWc7XG4gICAgICAgIHNjZW5lLnVzZXJEYXRhLmV2ID0gZWxlbWVudF92aXNpYmlsaXR5XzEuZWxlbWVudFZpc2liaWxpdHkuaW52aWV3KHNjZW5lQ29uZmlnLmRvbUVsZW1lbnQpO1xuICAgICAgICB0aGlzLnNjZW5lcy5wdXNoKHNjZW5lKTtcbiAgICAgICAgc2NlbmUudXNlckRhdGEub25Jbml0ICYmIHNjZW5lLnVzZXJEYXRhLm9uSW5pdCh0aGlzLmdldFJlbmRlcmVyKCksIHNjZW5lLCBzY2VuZS51c2VyRGF0YS5jYW1lcmEpO1xuICAgICAgICBpZiAoZm9yY2VSZXNpemUpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0dXBEZWJ1Z2dpbmcoc2NlbmVDb25maWcpIHtcbiAgICAgICAgY29uc3Qgc2NlbmUgPSBzY2VuZUNvbmZpZy5zY2VuZTtcbiAgICAgICAgdmFyIGF4ZXNIZWxwZXIgPSBuZXcgVEhSRUUuQXhlc0hlbHBlcig1MCk7XG4gICAgICAgIHNjZW5lLmFkZChheGVzSGVscGVyKTtcbiAgICAgICAgbmV3IHRocmVlX2luc3BlY3Rvcl8xLlRocmVlSW5zcGVjdG9yKHNjZW5lQ29uZmlnLmRvbUVsZW1lbnQsIHNjZW5lQ29uZmlnLnNjZW5lLCBzY2VuZUNvbmZpZy5jYW1lcmEpO1xuICAgIH1cbiAgICBnZXRSZW5kZXJlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXI7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMudXNlQWJzb2x1dGVQb3NpdGlvbmluZykge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoJHt3aW5kb3cuc2Nyb2xsWX1weClgO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2Npc3NvclRlc3QoZmFsc2UpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmNsZWFyKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2Npc3NvclRlc3QodHJ1ZSk7XG4gICAgICAgIHRoaXMuc2NlbmVzLmZvckVhY2goKHNjZW5lKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXNjZW5lLnVzZXJEYXRhLmV2LnN0YXRlKCkuaW52aWV3KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHNjZW5lLnVzZXJEYXRhLmRvbUVsZW1lbnQ7XG4gICAgICAgICAgICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0O1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHJlY3QuYm90dG9tIC0gcmVjdC50b3A7XG4gICAgICAgICAgICB2YXIgbGVmdCA9IHJlY3QubGVmdDtcbiAgICAgICAgICAgIHZhciBib3R0b20gPSB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gcmVjdC5ib3R0b207XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFZpZXdwb3J0KGxlZnQsIGJvdHRvbSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNjaXNzb3IobGVmdCwgYm90dG9tLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIHNjZW5lLnVzZXJEYXRhLm9uQmVmb3JlUmVuZGVyICYmIHNjZW5lLnVzZXJEYXRhLm9uQmVmb3JlUmVuZGVyKHRoaXMuZ2V0UmVuZGVyZXIoKSwgc2NlbmUsIHNjZW5lLnVzZXJEYXRhLmNhbWVyYSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcihzY2VuZSwgc2NlbmUudXNlckRhdGEuY2FtZXJhKTtcbiAgICAgICAgICAgIHNjZW5lLnVzZXJEYXRhLm9uQWZ0ZXJSZW5kZXIgJiYgc2NlbmUudXNlckRhdGEub25BZnRlclJlbmRlcih0aGlzLmdldFJlbmRlcmVyKCksIHNjZW5lLCBzY2VuZS51c2VyRGF0YS5jYW1lcmEpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5zY2VuZXMuZm9yRWFjaCgoc2NlbmUpID0+IHtcbiAgICAgICAgICAgIHNjZW5lLnVzZXJEYXRhLmV2LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHNjZW5lLnVzZXJEYXRhLmVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgc2NlbmUudXNlckRhdGEub25EaXNwb3NlICYmIHNjZW5lLnVzZXJEYXRhLm9uRGlzcG9zZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jYW52YXMucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmNhbnZhcyk7XG4gICAgfVxufVxuZXhwb3J0cy5TY2VuZVJlbmRlcmVyID0gU2NlbmVSZW5kZXJlcjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/threef/scene-renderer.js\n");

/***/ }),

/***/ "./lib/threef/three-inspector.js":
/*!***************************************!*\
  !*** ./lib/threef/three-inspector.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst datguif_1 = __webpack_require__(/*! ../datguif/datguif */ \"./lib/datguif/datguif.js\");\nclass ThreeInspector {\n    constructor(element, scene, camera) {\n        console.log('setting up new GUI');\n        const gui = new datguif_1.Datguif({\n            load: JSON,\n            autoPlace: false\n        });\n        element.appendChild(gui.getGui().domElement);\n        gui.addFolder('Renderer', 'Settings');\n        gui.addFolder('Objects');\n    }\n}\nexports.ThreeInspector = ThreeInspector;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvdGhyZWVmL3RocmVlLWluc3BlY3Rvci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi90aHJlZWYvdGhyZWUtaW5zcGVjdG9yLmpzP2MxOTMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBkYXRndWlmXzEgPSByZXF1aXJlKFwiLi4vZGF0Z3VpZi9kYXRndWlmXCIpO1xuY2xhc3MgVGhyZWVJbnNwZWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIHNjZW5lLCBjYW1lcmEpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3NldHRpbmcgdXAgbmV3IEdVSScpO1xuICAgICAgICBjb25zdCBndWkgPSBuZXcgZGF0Z3VpZl8xLkRhdGd1aWYoe1xuICAgICAgICAgICAgbG9hZDogSlNPTixcbiAgICAgICAgICAgIGF1dG9QbGFjZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZ3VpLmdldEd1aSgpLmRvbUVsZW1lbnQpO1xuICAgICAgICBndWkuYWRkRm9sZGVyKCdSZW5kZXJlcicsICdTZXR0aW5ncycpO1xuICAgICAgICBndWkuYWRkRm9sZGVyKCdPYmplY3RzJyk7XG4gICAgfVxufVxuZXhwb3J0cy5UaHJlZUluc3BlY3RvciA9IFRocmVlSW5zcGVjdG9yO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/threef/three-inspector.js\n");

/***/ }),

/***/ "./lib/threef/threef.js":
/*!******************************!*\
  !*** ./lib/threef/threef.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst THREE = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\nconst mathf_1 = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\nconst __1 = __webpack_require__(/*! .. */ \"./lib/index.js\");\nconst defer_1 = __webpack_require__(/*! ../func/defer */ \"./lib/func/defer.js\");\nclass threef {\n    static loadGltf(config) {\n        let defer = new defer_1.Defer();\n        let gltfData = {};\n        const gltfFetch = new Promise(resolve => {\n            config.gltfLoader.load(config.gltfPath, (gltf) => {\n                gltfData = gltf;\n                resolve();\n            });\n        });\n        let animationMarkerData = {};\n        const markerFetch = new Promise(resolve => {\n            if (!config.animationMarkerPath) {\n                animationMarkerData = {};\n                resolve();\n            }\n            else {\n                fetch(config.animationMarkerPath)\n                    .then(function (response) {\n                    return response.json();\n                })\n                    .then(function (markerData) {\n                    animationMarkerData = markerData;\n                    resolve();\n                });\n            }\n        });\n        Promise.all([gltfFetch, markerFetch]).then(() => {\n            gltfData['animationMarkers'] = animationMarkerData;\n            defer.resolve(gltfData);\n        });\n        return defer.getPromise();\n    }\n    static toDomCoordinates(object, camera, width, height, scalar) {\n        const v = new THREE.Vector3();\n        object.updateWorldMatrix(true, false);\n        object.getWorldPosition(v);\n        v.project(camera);\n        const x = (v.x * 0.5 + 0.5) * width;\n        const y = (v.y * -0.5 + 0.5) * height;\n        let z = 1;\n        if (__1.is.defined(scalar)) {\n            z = (v.z * -0.5 + 0.5) * height;\n            z *= scalar;\n            z *= camera['zoom'] || 1.0;\n        }\n        return new THREE.Vector3(x, y, z);\n    }\n    static toScreenXY(position, camera, width, height) {\n        var pos = position.clone();\n        const mat4 = new THREE.Matrix4();\n        mat4.multiply(camera.projectionMatrix);\n        mat4.multiply(camera.matrixWorldInverse);\n        pos.applyMatrix4(mat4);\n        return {\n            x: (pos.x + 1) * width / 2,\n            y: (-pos.y + 1) * height / 2,\n            z: pos.z\n        };\n    }\n    static toDomBoundingRect(object, camera, width, height, options) {\n        const box = new THREE.Box3().setFromObject(object);\n        const corners = {\n            '000': {\n                color: 0xFFFFFF,\n                vec: new THREE.Vector3().set(box.min.x, box.min.y, box.min.z),\n            },\n            '001': {\n                color: 0x0FFF00,\n                vec: new THREE.Vector3().set(box.min.x, box.min.y, box.max.z),\n            },\n            '010': {\n                color: 0xFF00F7,\n                vec: new THREE.Vector3().set(box.min.x, box.max.y, box.min.z),\n            },\n            '011': {\n                color: 0x9D9D9D,\n                vec: new THREE.Vector3().set(box.min.x, box.max.y, box.max.z),\n            },\n            '100': {\n                color: 0x003EFF,\n                vec: new THREE.Vector3().set(box.max.x, box.min.y, box.min.z),\n            },\n            '101': {\n                color: 0xF3FF00,\n                vec: new THREE.Vector3().set(box.max.x, box.min.y, box.max.z),\n            },\n            '110': {\n                color: 0xFF0000,\n                vec: new THREE.Vector3().set(box.max.x, box.max.y, box.min.z),\n            },\n            '111': {\n                color: 0x000000,\n                vec: new THREE.Vector3().set(box.max.x, box.max.y, box.max.z)\n            }\n        };\n        const cornerPositions = [];\n        for (const key of Object.keys(corners)) {\n            const corner = corners[key];\n            const xy = threef.toScreenXY(corner.vec, camera, width, height);\n            cornerPositions.push(xy);\n        }\n        const center = threef.toScreenXY(object.position, camera, width, height);\n        const xs = cornerPositions.map((xy) => {\n            return xy.x;\n        });\n        const ys = cornerPositions.map((xy) => {\n            return xy.y;\n        });\n        const scene = options && options.scene;\n        const scalar = options && options.scalar;\n        const minX = Math.min(...xs);\n        const maxX = Math.max(...xs);\n        const minY = Math.min(...ys);\n        const maxY = Math.max(...ys);\n        const finalSize = {\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n        let z = 1;\n        if (scalar) {\n            const v = new THREE.Vector3();\n            object.updateWorldMatrix(true, false);\n            object.getWorldPosition(v);\n            v.project(camera);\n            z = (v.z * -0.5 + 0.5) * height;\n            z *= scalar;\n            z *= camera['zoom'] || 1.0;\n        }\n        center.z = z;\n        const corner1 = new THREE.Vector3(minX, minY, z);\n        const corner2 = new THREE.Vector3(maxX, minY, z);\n        const corner3 = new THREE.Vector3(minX, maxY, z);\n        const corner4 = new THREE.Vector3(minX, maxY, z);\n        if (scene) {\n            object.visible = false;\n            object['alwaysInvisible'] = true;\n            for (const key of Object.keys(corners)) {\n                const corner = corners[key];\n                var geometry = new THREE.BoxGeometry(0.1, 0.1, 0.1);\n                var material = new THREE.MeshBasicMaterial({ color: corner.color });\n                var cube = new THREE.Mesh(geometry, material);\n                cube.position.set(corner.vec.x, corner.vec.y, corner.vec.z);\n                scene.add(cube);\n            }\n        }\n        return {\n            topLeft: corner1,\n            topRight: corner2,\n            center: center,\n            bottomLeft: corner3,\n            bottomRight: corner4,\n            width: finalSize.width,\n            height: finalSize.height,\n        };\n    }\n    static blenderToThreeEuler(euler) {\n        return {\n            x: -euler.x,\n            y: euler.z,\n            z: -euler.y,\n        };\n    }\n    static blenderToThreeVec3(vec3) {\n        return {\n            x: -vec3.x,\n            y: vec3.z,\n            z: -vec3.y,\n        };\n    }\n    static toDomRotation(object, camera, width, height) {\n        let q = new THREE.Quaternion();\n        object.getWorldQuaternion(q);\n        q.x = -q.x;\n        q.y = q.y;\n        q.z = -q.z;\n        let cq = new THREE.Quaternion();\n        camera.getWorldQuaternion(cq);\n        cq.x = cq.x;\n        cq.y = -cq.y;\n        cq.z = cq.z;\n        cq.multiply(q);\n        const euler = new THREE.Euler();\n        euler.setFromQuaternion(cq.normalize());\n        return euler;\n    }\n    static convertCoordinateSystem(vec3, map) {\n        const x = map[0].toLowerCase().split('');\n        const xFactor = x[0] == '-' ? -1 : 1;\n        const xValue = x[0] == '-' ? x[1] : x[0];\n        const y = map[1].toLowerCase().split('');\n        const yFactor = y[0] == '-' ? -1 : 1;\n        const yValue = y[0] == '-' ? y[1] : y[0];\n        const z = map[2].toLowerCase().split('');\n        const zFactor = z[0] == '-' ? -1 : 1;\n        const zValue = z[0] == '-' ? z[1] : z[0];\n        return new THREE.Vector3(vec3[xValue] * xFactor, vec3[yValue] * yFactor, vec3[zValue] * zFactor);\n    }\n    static setFov(element, camera) {\n        const fov = 0.5 / Math.tan(camera['fov'] * Math.PI / 360) * element.offsetHeight;\n        element.style.perspectiveOrigin = \"50% 50%\";\n        element.style.perspective = fov + 'px';\n    }\n    static applyVectorToDom(element, v, euler) {\n        if (euler) {\n            const deg = {\n                x: mathf_1.mathf.radianToDegree(euler.x),\n                y: mathf_1.mathf.radianToDegree(euler.y),\n                z: mathf_1.mathf.radianToDegree(euler.z),\n            };\n            if (v) {\n                element.style.transform = `translate(-50%, -50%) translate(${v.x}px, ${v.y}px) rotateX(${deg.x}deg) rotateY(${deg.y}deg) rotateZ(${deg.z}deg) scale(${v.z})`;\n            }\n            else {\n                element.style.transform = `rotateX(${deg.x}deg) rotateY(${deg.y}deg) rotateZ(${deg.z}deg)`;\n            }\n        }\n        else {\n            element.style.transform = `translate(-50%, -50%) translate(${v.x}px, ${v.y}px) scale(${v.z})`;\n        }\n    }\n    static getAnimationByName(name, animationClips) {\n        return animationClips.filter((animationClip) => {\n            return animationClip.name == name;\n        })[0];\n    }\n    static traverseSceneFor(matchCondition, execution, scene) {\n        scene.traverse((child) => {\n            if (matchCondition(child)) {\n                execution(child);\n            }\n        });\n    }\n    static createObjectDictionaryFromScene(scene, mapping) {\n        const dictionary = {\n            byName: {},\n            textMarkers: [],\n        };\n        for (const key of Object.keys(mapping)) {\n            dictionary[key] = [];\n        }\n        scene.traverse((child) => {\n            dictionary.byName[child.name] = child;\n            if (child.name.startsWith('text-')) {\n                dictionary.textMarkers.push(child);\n            }\n            for (const key of Object.keys(mapping)) {\n                const value = mapping[key];\n                if (__1.is.string(value)) {\n                    if (child.type == value) {\n                        dictionary[key].push(child);\n                    }\n                }\n                if (__1.is.array(value)) {\n                    if (~value.indexOf(child.type)) {\n                        dictionary[key].push(child);\n                    }\n                }\n                if (__1.is.function(value)) {\n                    if (value(child, child.type)) {\n                        dictionary[key].push(child);\n                    }\n                }\n            }\n        });\n        return dictionary;\n    }\n    static findSceneByName(name, scenes) {\n        const scene = scenes.filter((scene) => {\n            return scene.name == name;\n        })[0];\n        return scene;\n    }\n}\nexports.threef = threef;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvdGhyZWVmL3RocmVlZi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi90aHJlZWYvdGhyZWVmLmpzPzY1YjYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBUSFJFRSA9IHJlcXVpcmUoXCJ0aHJlZVwiKTtcbmNvbnN0IG1hdGhmXzEgPSByZXF1aXJlKFwiLi4vbWF0aGYvbWF0aGZcIik7XG5jb25zdCBfXzEgPSByZXF1aXJlKFwiLi5cIik7XG5jb25zdCBkZWZlcl8xID0gcmVxdWlyZShcIi4uL2Z1bmMvZGVmZXJcIik7XG5jbGFzcyB0aHJlZWYge1xuICAgIHN0YXRpYyBsb2FkR2x0Zihjb25maWcpIHtcbiAgICAgICAgbGV0IGRlZmVyID0gbmV3IGRlZmVyXzEuRGVmZXIoKTtcbiAgICAgICAgbGV0IGdsdGZEYXRhID0ge307XG4gICAgICAgIGNvbnN0IGdsdGZGZXRjaCA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgY29uZmlnLmdsdGZMb2FkZXIubG9hZChjb25maWcuZ2x0ZlBhdGgsIChnbHRmKSA9PiB7XG4gICAgICAgICAgICAgICAgZ2x0ZkRhdGEgPSBnbHRmO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGFuaW1hdGlvbk1hcmtlckRhdGEgPSB7fTtcbiAgICAgICAgY29uc3QgbWFya2VyRmV0Y2ggPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGlmICghY29uZmlnLmFuaW1hdGlvbk1hcmtlclBhdGgpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25NYXJrZXJEYXRhID0ge307XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZmV0Y2goY29uZmlnLmFuaW1hdGlvbk1hcmtlclBhdGgpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChtYXJrZXJEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbk1hcmtlckRhdGEgPSBtYXJrZXJEYXRhO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBQcm9taXNlLmFsbChbZ2x0ZkZldGNoLCBtYXJrZXJGZXRjaF0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZ2x0ZkRhdGFbJ2FuaW1hdGlvbk1hcmtlcnMnXSA9IGFuaW1hdGlvbk1hcmtlckRhdGE7XG4gICAgICAgICAgICBkZWZlci5yZXNvbHZlKGdsdGZEYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkZWZlci5nZXRQcm9taXNlKCk7XG4gICAgfVxuICAgIHN0YXRpYyB0b0RvbUNvb3JkaW5hdGVzKG9iamVjdCwgY2FtZXJhLCB3aWR0aCwgaGVpZ2h0LCBzY2FsYXIpIHtcbiAgICAgICAgY29uc3QgdiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgICAgIG9iamVjdC51cGRhdGVXb3JsZE1hdHJpeCh0cnVlLCBmYWxzZSk7XG4gICAgICAgIG9iamVjdC5nZXRXb3JsZFBvc2l0aW9uKHYpO1xuICAgICAgICB2LnByb2plY3QoY2FtZXJhKTtcbiAgICAgICAgY29uc3QgeCA9ICh2LnggKiAwLjUgKyAwLjUpICogd2lkdGg7XG4gICAgICAgIGNvbnN0IHkgPSAodi55ICogLTAuNSArIDAuNSkgKiBoZWlnaHQ7XG4gICAgICAgIGxldCB6ID0gMTtcbiAgICAgICAgaWYgKF9fMS5pcy5kZWZpbmVkKHNjYWxhcikpIHtcbiAgICAgICAgICAgIHogPSAodi56ICogLTAuNSArIDAuNSkgKiBoZWlnaHQ7XG4gICAgICAgICAgICB6ICo9IHNjYWxhcjtcbiAgICAgICAgICAgIHogKj0gY2FtZXJhWyd6b29tJ10gfHwgMS4wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVEhSRUUuVmVjdG9yMyh4LCB5LCB6KTtcbiAgICB9XG4gICAgc3RhdGljIHRvU2NyZWVuWFkocG9zaXRpb24sIGNhbWVyYSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB2YXIgcG9zID0gcG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgY29uc3QgbWF0NCA9IG5ldyBUSFJFRS5NYXRyaXg0KCk7XG4gICAgICAgIG1hdDQubXVsdGlwbHkoY2FtZXJhLnByb2plY3Rpb25NYXRyaXgpO1xuICAgICAgICBtYXQ0Lm11bHRpcGx5KGNhbWVyYS5tYXRyaXhXb3JsZEludmVyc2UpO1xuICAgICAgICBwb3MuYXBwbHlNYXRyaXg0KG1hdDQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogKHBvcy54ICsgMSkgKiB3aWR0aCAvIDIsXG4gICAgICAgICAgICB5OiAoLXBvcy55ICsgMSkgKiBoZWlnaHQgLyAyLFxuICAgICAgICAgICAgejogcG9zLnpcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHRvRG9tQm91bmRpbmdSZWN0KG9iamVjdCwgY2FtZXJhLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGJveCA9IG5ldyBUSFJFRS5Cb3gzKCkuc2V0RnJvbU9iamVjdChvYmplY3QpO1xuICAgICAgICBjb25zdCBjb3JuZXJzID0ge1xuICAgICAgICAgICAgJzAwMCc6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogMHhGRkZGRkYsXG4gICAgICAgICAgICAgICAgdmVjOiBuZXcgVEhSRUUuVmVjdG9yMygpLnNldChib3gubWluLngsIGJveC5taW4ueSwgYm94Lm1pbi56KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnMDAxJzoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAweDBGRkYwMCxcbiAgICAgICAgICAgICAgICB2ZWM6IG5ldyBUSFJFRS5WZWN0b3IzKCkuc2V0KGJveC5taW4ueCwgYm94Lm1pbi55LCBib3gubWF4LnopLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICcwMTAnOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IDB4RkYwMEY3LFxuICAgICAgICAgICAgICAgIHZlYzogbmV3IFRIUkVFLlZlY3RvcjMoKS5zZXQoYm94Lm1pbi54LCBib3gubWF4LnksIGJveC5taW4ueiksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJzAxMSc6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogMHg5RDlEOUQsXG4gICAgICAgICAgICAgICAgdmVjOiBuZXcgVEhSRUUuVmVjdG9yMygpLnNldChib3gubWluLngsIGJveC5tYXgueSwgYm94Lm1heC56KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnMTAwJzoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAweDAwM0VGRixcbiAgICAgICAgICAgICAgICB2ZWM6IG5ldyBUSFJFRS5WZWN0b3IzKCkuc2V0KGJveC5tYXgueCwgYm94Lm1pbi55LCBib3gubWluLnopLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICcxMDEnOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IDB4RjNGRjAwLFxuICAgICAgICAgICAgICAgIHZlYzogbmV3IFRIUkVFLlZlY3RvcjMoKS5zZXQoYm94Lm1heC54LCBib3gubWluLnksIGJveC5tYXgueiksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJzExMCc6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogMHhGRjAwMDAsXG4gICAgICAgICAgICAgICAgdmVjOiBuZXcgVEhSRUUuVmVjdG9yMygpLnNldChib3gubWF4LngsIGJveC5tYXgueSwgYm94Lm1pbi56KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnMTExJzoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAweDAwMDAwMCxcbiAgICAgICAgICAgICAgICB2ZWM6IG5ldyBUSFJFRS5WZWN0b3IzKCkuc2V0KGJveC5tYXgueCwgYm94Lm1heC55LCBib3gubWF4LnopXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNvcm5lclBvc2l0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhjb3JuZXJzKSkge1xuICAgICAgICAgICAgY29uc3QgY29ybmVyID0gY29ybmVyc1trZXldO1xuICAgICAgICAgICAgY29uc3QgeHkgPSB0aHJlZWYudG9TY3JlZW5YWShjb3JuZXIudmVjLCBjYW1lcmEsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgY29ybmVyUG9zaXRpb25zLnB1c2goeHkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRocmVlZi50b1NjcmVlblhZKG9iamVjdC5wb3NpdGlvbiwgY2FtZXJhLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgY29uc3QgeHMgPSBjb3JuZXJQb3NpdGlvbnMubWFwKCh4eSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHh5Lng7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB5cyA9IGNvcm5lclBvc2l0aW9ucy5tYXAoKHh5KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geHkueTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHNjZW5lID0gb3B0aW9ucyAmJiBvcHRpb25zLnNjZW5lO1xuICAgICAgICBjb25zdCBzY2FsYXIgPSBvcHRpb25zICYmIG9wdGlvbnMuc2NhbGFyO1xuICAgICAgICBjb25zdCBtaW5YID0gTWF0aC5taW4oLi4ueHMpO1xuICAgICAgICBjb25zdCBtYXhYID0gTWF0aC5tYXgoLi4ueHMpO1xuICAgICAgICBjb25zdCBtaW5ZID0gTWF0aC5taW4oLi4ueXMpO1xuICAgICAgICBjb25zdCBtYXhZID0gTWF0aC5tYXgoLi4ueXMpO1xuICAgICAgICBjb25zdCBmaW5hbFNpemUgPSB7XG4gICAgICAgICAgICB3aWR0aDogbWF4WCAtIG1pblgsXG4gICAgICAgICAgICBoZWlnaHQ6IG1heFkgLSBtaW5ZLFxuICAgICAgICB9O1xuICAgICAgICBsZXQgeiA9IDE7XG4gICAgICAgIGlmIChzY2FsYXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgICAgICAgICAgb2JqZWN0LnVwZGF0ZVdvcmxkTWF0cml4KHRydWUsIGZhbHNlKTtcbiAgICAgICAgICAgIG9iamVjdC5nZXRXb3JsZFBvc2l0aW9uKHYpO1xuICAgICAgICAgICAgdi5wcm9qZWN0KGNhbWVyYSk7XG4gICAgICAgICAgICB6ID0gKHYueiAqIC0wLjUgKyAwLjUpICogaGVpZ2h0O1xuICAgICAgICAgICAgeiAqPSBzY2FsYXI7XG4gICAgICAgICAgICB6ICo9IGNhbWVyYVsnem9vbSddIHx8IDEuMDtcbiAgICAgICAgfVxuICAgICAgICBjZW50ZXIueiA9IHo7XG4gICAgICAgIGNvbnN0IGNvcm5lcjEgPSBuZXcgVEhSRUUuVmVjdG9yMyhtaW5YLCBtaW5ZLCB6KTtcbiAgICAgICAgY29uc3QgY29ybmVyMiA9IG5ldyBUSFJFRS5WZWN0b3IzKG1heFgsIG1pblksIHopO1xuICAgICAgICBjb25zdCBjb3JuZXIzID0gbmV3IFRIUkVFLlZlY3RvcjMobWluWCwgbWF4WSwgeik7XG4gICAgICAgIGNvbnN0IGNvcm5lcjQgPSBuZXcgVEhSRUUuVmVjdG9yMyhtaW5YLCBtYXhZLCB6KTtcbiAgICAgICAgaWYgKHNjZW5lKSB7XG4gICAgICAgICAgICBvYmplY3QudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgb2JqZWN0WydhbHdheXNJbnZpc2libGUnXSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhjb3JuZXJzKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvcm5lciA9IGNvcm5lcnNba2V5XTtcbiAgICAgICAgICAgICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMC4xLCAwLjEsIDAuMSk7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHsgY29sb3I6IGNvcm5lci5jb2xvciB9KTtcbiAgICAgICAgICAgICAgICB2YXIgY3ViZSA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG4gICAgICAgICAgICAgICAgY3ViZS5wb3NpdGlvbi5zZXQoY29ybmVyLnZlYy54LCBjb3JuZXIudmVjLnksIGNvcm5lci52ZWMueik7XG4gICAgICAgICAgICAgICAgc2NlbmUuYWRkKGN1YmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3BMZWZ0OiBjb3JuZXIxLFxuICAgICAgICAgICAgdG9wUmlnaHQ6IGNvcm5lcjIsXG4gICAgICAgICAgICBjZW50ZXI6IGNlbnRlcixcbiAgICAgICAgICAgIGJvdHRvbUxlZnQ6IGNvcm5lcjMsXG4gICAgICAgICAgICBib3R0b21SaWdodDogY29ybmVyNCxcbiAgICAgICAgICAgIHdpZHRoOiBmaW5hbFNpemUud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGZpbmFsU2l6ZS5oZWlnaHQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBibGVuZGVyVG9UaHJlZUV1bGVyKGV1bGVyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiAtZXVsZXIueCxcbiAgICAgICAgICAgIHk6IGV1bGVyLnosXG4gICAgICAgICAgICB6OiAtZXVsZXIueSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGJsZW5kZXJUb1RocmVlVmVjMyh2ZWMzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiAtdmVjMy54LFxuICAgICAgICAgICAgeTogdmVjMy56LFxuICAgICAgICAgICAgejogLXZlYzMueSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHRvRG9tUm90YXRpb24ob2JqZWN0LCBjYW1lcmEsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgbGV0IHEgPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuICAgICAgICBvYmplY3QuZ2V0V29ybGRRdWF0ZXJuaW9uKHEpO1xuICAgICAgICBxLnggPSAtcS54O1xuICAgICAgICBxLnkgPSBxLnk7XG4gICAgICAgIHEueiA9IC1xLno7XG4gICAgICAgIGxldCBjcSA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XG4gICAgICAgIGNhbWVyYS5nZXRXb3JsZFF1YXRlcm5pb24oY3EpO1xuICAgICAgICBjcS54ID0gY3EueDtcbiAgICAgICAgY3EueSA9IC1jcS55O1xuICAgICAgICBjcS56ID0gY3EuejtcbiAgICAgICAgY3EubXVsdGlwbHkocSk7XG4gICAgICAgIGNvbnN0IGV1bGVyID0gbmV3IFRIUkVFLkV1bGVyKCk7XG4gICAgICAgIGV1bGVyLnNldEZyb21RdWF0ZXJuaW9uKGNxLm5vcm1hbGl6ZSgpKTtcbiAgICAgICAgcmV0dXJuIGV1bGVyO1xuICAgIH1cbiAgICBzdGF0aWMgY29udmVydENvb3JkaW5hdGVTeXN0ZW0odmVjMywgbWFwKSB7XG4gICAgICAgIGNvbnN0IHggPSBtYXBbMF0udG9Mb3dlckNhc2UoKS5zcGxpdCgnJyk7XG4gICAgICAgIGNvbnN0IHhGYWN0b3IgPSB4WzBdID09ICctJyA/IC0xIDogMTtcbiAgICAgICAgY29uc3QgeFZhbHVlID0geFswXSA9PSAnLScgPyB4WzFdIDogeFswXTtcbiAgICAgICAgY29uc3QgeSA9IG1hcFsxXS50b0xvd2VyQ2FzZSgpLnNwbGl0KCcnKTtcbiAgICAgICAgY29uc3QgeUZhY3RvciA9IHlbMF0gPT0gJy0nID8gLTEgOiAxO1xuICAgICAgICBjb25zdCB5VmFsdWUgPSB5WzBdID09ICctJyA/IHlbMV0gOiB5WzBdO1xuICAgICAgICBjb25zdCB6ID0gbWFwWzJdLnRvTG93ZXJDYXNlKCkuc3BsaXQoJycpO1xuICAgICAgICBjb25zdCB6RmFjdG9yID0gelswXSA9PSAnLScgPyAtMSA6IDE7XG4gICAgICAgIGNvbnN0IHpWYWx1ZSA9IHpbMF0gPT0gJy0nID8gelsxXSA6IHpbMF07XG4gICAgICAgIHJldHVybiBuZXcgVEhSRUUuVmVjdG9yMyh2ZWMzW3hWYWx1ZV0gKiB4RmFjdG9yLCB2ZWMzW3lWYWx1ZV0gKiB5RmFjdG9yLCB2ZWMzW3pWYWx1ZV0gKiB6RmFjdG9yKTtcbiAgICB9XG4gICAgc3RhdGljIHNldEZvdihlbGVtZW50LCBjYW1lcmEpIHtcbiAgICAgICAgY29uc3QgZm92ID0gMC41IC8gTWF0aC50YW4oY2FtZXJhWydmb3YnXSAqIE1hdGguUEkgLyAzNjApICogZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUucGVyc3BlY3RpdmVPcmlnaW4gPSBcIjUwJSA1MCVcIjtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5wZXJzcGVjdGl2ZSA9IGZvdiArICdweCc7XG4gICAgfVxuICAgIHN0YXRpYyBhcHBseVZlY3RvclRvRG9tKGVsZW1lbnQsIHYsIGV1bGVyKSB7XG4gICAgICAgIGlmIChldWxlcikge1xuICAgICAgICAgICAgY29uc3QgZGVnID0ge1xuICAgICAgICAgICAgICAgIHg6IG1hdGhmXzEubWF0aGYucmFkaWFuVG9EZWdyZWUoZXVsZXIueCksXG4gICAgICAgICAgICAgICAgeTogbWF0aGZfMS5tYXRoZi5yYWRpYW5Ub0RlZ3JlZShldWxlci55KSxcbiAgICAgICAgICAgICAgICB6OiBtYXRoZl8xLm1hdGhmLnJhZGlhblRvRGVncmVlKGV1bGVyLnopLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKC01MCUsIC01MCUpIHRyYW5zbGF0ZSgke3YueH1weCwgJHt2Lnl9cHgpIHJvdGF0ZVgoJHtkZWcueH1kZWcpIHJvdGF0ZVkoJHtkZWcueX1kZWcpIHJvdGF0ZVooJHtkZWcuen1kZWcpIHNjYWxlKCR7di56fSlgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBgcm90YXRlWCgke2RlZy54fWRlZykgcm90YXRlWSgke2RlZy55fWRlZykgcm90YXRlWigke2RlZy56fWRlZylgO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKC01MCUsIC01MCUpIHRyYW5zbGF0ZSgke3YueH1weCwgJHt2Lnl9cHgpIHNjYWxlKCR7di56fSlgO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBnZXRBbmltYXRpb25CeU5hbWUobmFtZSwgYW5pbWF0aW9uQ2xpcHMpIHtcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbkNsaXBzLmZpbHRlcigoYW5pbWF0aW9uQ2xpcCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGFuaW1hdGlvbkNsaXAubmFtZSA9PSBuYW1lO1xuICAgICAgICB9KVswXTtcbiAgICB9XG4gICAgc3RhdGljIHRyYXZlcnNlU2NlbmVGb3IobWF0Y2hDb25kaXRpb24sIGV4ZWN1dGlvbiwgc2NlbmUpIHtcbiAgICAgICAgc2NlbmUudHJhdmVyc2UoKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICBpZiAobWF0Y2hDb25kaXRpb24oY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgZXhlY3V0aW9uKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVPYmplY3REaWN0aW9uYXJ5RnJvbVNjZW5lKHNjZW5lLCBtYXBwaW5nKSB7XG4gICAgICAgIGNvbnN0IGRpY3Rpb25hcnkgPSB7XG4gICAgICAgICAgICBieU5hbWU6IHt9LFxuICAgICAgICAgICAgdGV4dE1hcmtlcnM6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhtYXBwaW5nKSkge1xuICAgICAgICAgICAgZGljdGlvbmFyeVtrZXldID0gW107XG4gICAgICAgIH1cbiAgICAgICAgc2NlbmUudHJhdmVyc2UoKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICBkaWN0aW9uYXJ5LmJ5TmFtZVtjaGlsZC5uYW1lXSA9IGNoaWxkO1xuICAgICAgICAgICAgaWYgKGNoaWxkLm5hbWUuc3RhcnRzV2l0aCgndGV4dC0nKSkge1xuICAgICAgICAgICAgICAgIGRpY3Rpb25hcnkudGV4dE1hcmtlcnMucHVzaChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhtYXBwaW5nKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbWFwcGluZ1trZXldO1xuICAgICAgICAgICAgICAgIGlmIChfXzEuaXMuc3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQudHlwZSA9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGljdGlvbmFyeVtrZXldLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfXzEuaXMuYXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh+dmFsdWUuaW5kZXhPZihjaGlsZC50eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGljdGlvbmFyeVtrZXldLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfXzEuaXMuZnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZShjaGlsZCwgY2hpbGQudHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpY3Rpb25hcnlba2V5XS5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkaWN0aW9uYXJ5O1xuICAgIH1cbiAgICBzdGF0aWMgZmluZFNjZW5lQnlOYW1lKG5hbWUsIHNjZW5lcykge1xuICAgICAgICBjb25zdCBzY2VuZSA9IHNjZW5lcy5maWx0ZXIoKHNjZW5lKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gc2NlbmUubmFtZSA9PSBuYW1lO1xuICAgICAgICB9KVswXTtcbiAgICAgICAgcmV0dXJuIHNjZW5lO1xuICAgIH1cbn1cbmV4cG9ydHMudGhyZWVmID0gdGhyZWVmO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/threef/threef.js\n");

/***/ }),

/***/ "./lib/time/fps.js":
/*!*************************!*\
  !*** ./lib/time/fps.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst time_1 = __webpack_require__(/*! ../time/time */ \"./lib/time/time.js\");\nclass Fps {\n    constructor(fps) {\n        this.fps = fps;\n        this.locked = true;\n    }\n    setFps(fps) {\n        this.fps = fps;\n    }\n    lock(lock) {\n        this.locked = lock;\n    }\n    schedule(callback) {\n        this.cancelSchedule();\n        this.scheduleTimeout = window.setTimeout(() => {\n            this.locked = false;\n            callback();\n            this.locked = true;\n        }, 1000 / this.fps + 1);\n    }\n    cancelSchedule() {\n        if (this.scheduleTimeout) {\n            window.clearTimeout(this.scheduleTimeout);\n        }\n    }\n    canRun() {\n        this.cancelSchedule();\n        if (!this.locked) {\n            return true;\n        }\n        if (this.lastUpdateTime) {\n            const current = time_1.time.now();\n            const elapsed = current - this.lastUpdateTime;\n            const fps = this.fps == 0 ? 0 : 1000 / this.fps;\n            if (elapsed > fps) {\n                this.lastUpdateTime = time_1.time.now();\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        if (!this.lastUpdateTime) {\n            this.lastUpdateTime = time_1.time.now();\n            return true;\n        }\n    }\n}\nexports.Fps = Fps;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvdGltZS9mcHMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvdGltZS9mcHMuanM/NGU3MiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHRpbWVfMSA9IHJlcXVpcmUoXCIuLi90aW1lL3RpbWVcIik7XG5jbGFzcyBGcHMge1xuICAgIGNvbnN0cnVjdG9yKGZwcykge1xuICAgICAgICB0aGlzLmZwcyA9IGZwcztcbiAgICAgICAgdGhpcy5sb2NrZWQgPSB0cnVlO1xuICAgIH1cbiAgICBzZXRGcHMoZnBzKSB7XG4gICAgICAgIHRoaXMuZnBzID0gZnBzO1xuICAgIH1cbiAgICBsb2NrKGxvY2spIHtcbiAgICAgICAgdGhpcy5sb2NrZWQgPSBsb2NrO1xuICAgIH1cbiAgICBzY2hlZHVsZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmNhbmNlbFNjaGVkdWxlKCk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB0aGlzLmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH0sIDEwMDAgLyB0aGlzLmZwcyArIDEpO1xuICAgIH1cbiAgICBjYW5jZWxTY2hlZHVsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2NoZWR1bGVUaW1lb3V0KSB7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuc2NoZWR1bGVUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYW5SdW4oKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsU2NoZWR1bGUoKTtcbiAgICAgICAgaWYgKCF0aGlzLmxvY2tlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGFzdFVwZGF0ZVRpbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aW1lXzEudGltZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IGVsYXBzZWQgPSBjdXJyZW50IC0gdGhpcy5sYXN0VXBkYXRlVGltZTtcbiAgICAgICAgICAgIGNvbnN0IGZwcyA9IHRoaXMuZnBzID09IDAgPyAwIDogMTAwMCAvIHRoaXMuZnBzO1xuICAgICAgICAgICAgaWYgKGVsYXBzZWQgPiBmcHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RVcGRhdGVUaW1lID0gdGltZV8xLnRpbWUubm93KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmxhc3RVcGRhdGVUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RVcGRhdGVUaW1lID0gdGltZV8xLnRpbWUubm93KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuRnBzID0gRnBzO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/time/fps.js\n");

/***/ }),

/***/ "./lib/time/time.js":
/*!**************************!*\
  !*** ./lib/time/time.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_1 = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\nclass time {\n    static now() {\n        return Date.now();\n    }\n    static timeDiffMs(startTime, endTime) {\n        return (endTime - startTime);\n    }\n    static isInBetween(startTime, endTime, testTime) {\n        if (startTime && endTime) {\n            return testTime >= startTime && testTime < endTime;\n        }\n        else if (startTime) {\n            return testTime >= startTime;\n        }\n        else if (endTime) {\n            return testTime < endTime;\n        }\n        return false;\n    }\n    static utcDateToLocalTimeZone(utcDate) {\n        if (is_1.is.safari()) {\n            return utcDate;\n        }\n        else {\n            var timeOffsetInMS = utcDate.getTimezoneOffset() * 60000;\n            return new Date(utcDate.getTime() - timeOffsetInMS);\n        }\n    }\n    static createLocalTimeZoneDate(localTimeDate) {\n        if (is_1.is.safari()) {\n            const utcDate = new Date(localTimeDate);\n            var timeOffsetInMS = utcDate.getTimezoneOffset() * 60000;\n            return new Date(utcDate.getTime() + timeOffsetInMS);\n        }\n        else {\n            return new Date(localTimeDate);\n        }\n    }\n    static pacificTimeToLocalTimeDate(pacificTime) {\n        var timeOffsetInMS = new Date().getTimezoneOffset() * 60000;\n        var pacificOffset = 420 * 60000;\n        var offset = timeOffsetInMS - pacificOffset;\n        const utc = new Date(new Date(pacificTime).getTime() + pacificOffset);\n        return time.utcDateToLocalTimeZone(utc);\n    }\n    static easternTimeToLocalTimeDate(pacificTime) {\n        var timeOffsetInMS = new Date().getTimezoneOffset() * 60000;\n        var pacificOffset = 240 * 60000;\n        var offset = timeOffsetInMS - pacificOffset;\n        const utc = new Date(new Date(pacificTime).getTime() + pacificOffset);\n        return time.utcDateToLocalTimeZone(utc);\n    }\n    static countdown(currentTime, endTime) {\n        var time = endTime.getTime() - currentTime.getTime();\n        return {\n            'days': Math.floor(time / (1000 * 60 * 60 * 24)),\n            'hours': Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)),\n            'minutes': Math.floor((time % (1000 * 60 * 60)) / (1000 * 60)),\n            'seconds': Math.floor((time % (1000 * 60)) / 1000)\n        };\n    }\n}\nexports.time = time;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvdGltZS90aW1lLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3RpbWUvdGltZS5qcz80NzhiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgaXNfMSA9IHJlcXVpcmUoXCIuLi9pcy9pc1wiKTtcbmNsYXNzIHRpbWUge1xuICAgIHN0YXRpYyBub3coKSB7XG4gICAgICAgIHJldHVybiBEYXRlLm5vdygpO1xuICAgIH1cbiAgICBzdGF0aWMgdGltZURpZmZNcyhzdGFydFRpbWUsIGVuZFRpbWUpIHtcbiAgICAgICAgcmV0dXJuIChlbmRUaW1lIC0gc3RhcnRUaW1lKTtcbiAgICB9XG4gICAgc3RhdGljIGlzSW5CZXR3ZWVuKHN0YXJ0VGltZSwgZW5kVGltZSwgdGVzdFRpbWUpIHtcbiAgICAgICAgaWYgKHN0YXJ0VGltZSAmJiBlbmRUaW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdGVzdFRpbWUgPj0gc3RhcnRUaW1lICYmIHRlc3RUaW1lIDwgZW5kVGltZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGFydFRpbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0ZXN0VGltZSA+PSBzdGFydFRpbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZW5kVGltZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRlc3RUaW1lIDwgZW5kVGltZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHN0YXRpYyB1dGNEYXRlVG9Mb2NhbFRpbWVab25lKHV0Y0RhdGUpIHtcbiAgICAgICAgaWYgKGlzXzEuaXMuc2FmYXJpKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB1dGNEYXRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRpbWVPZmZzZXRJbk1TID0gdXRjRGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDA7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUodXRjRGF0ZS5nZXRUaW1lKCkgLSB0aW1lT2Zmc2V0SW5NUyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZUxvY2FsVGltZVpvbmVEYXRlKGxvY2FsVGltZURhdGUpIHtcbiAgICAgICAgaWYgKGlzXzEuaXMuc2FmYXJpKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHV0Y0RhdGUgPSBuZXcgRGF0ZShsb2NhbFRpbWVEYXRlKTtcbiAgICAgICAgICAgIHZhciB0aW1lT2Zmc2V0SW5NUyA9IHV0Y0RhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwMDAwO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHV0Y0RhdGUuZ2V0VGltZSgpICsgdGltZU9mZnNldEluTVMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGxvY2FsVGltZURhdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBwYWNpZmljVGltZVRvTG9jYWxUaW1lRGF0ZShwYWNpZmljVGltZSkge1xuICAgICAgICB2YXIgdGltZU9mZnNldEluTVMgPSBuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCkgKiA2MDAwMDtcbiAgICAgICAgdmFyIHBhY2lmaWNPZmZzZXQgPSA0MjAgKiA2MDAwMDtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRpbWVPZmZzZXRJbk1TIC0gcGFjaWZpY09mZnNldDtcbiAgICAgICAgY29uc3QgdXRjID0gbmV3IERhdGUobmV3IERhdGUocGFjaWZpY1RpbWUpLmdldFRpbWUoKSArIHBhY2lmaWNPZmZzZXQpO1xuICAgICAgICByZXR1cm4gdGltZS51dGNEYXRlVG9Mb2NhbFRpbWVab25lKHV0Yyk7XG4gICAgfVxuICAgIHN0YXRpYyBlYXN0ZXJuVGltZVRvTG9jYWxUaW1lRGF0ZShwYWNpZmljVGltZSkge1xuICAgICAgICB2YXIgdGltZU9mZnNldEluTVMgPSBuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCkgKiA2MDAwMDtcbiAgICAgICAgdmFyIHBhY2lmaWNPZmZzZXQgPSAyNDAgKiA2MDAwMDtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRpbWVPZmZzZXRJbk1TIC0gcGFjaWZpY09mZnNldDtcbiAgICAgICAgY29uc3QgdXRjID0gbmV3IERhdGUobmV3IERhdGUocGFjaWZpY1RpbWUpLmdldFRpbWUoKSArIHBhY2lmaWNPZmZzZXQpO1xuICAgICAgICByZXR1cm4gdGltZS51dGNEYXRlVG9Mb2NhbFRpbWVab25lKHV0Yyk7XG4gICAgfVxuICAgIHN0YXRpYyBjb3VudGRvd24oY3VycmVudFRpbWUsIGVuZFRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBlbmRUaW1lLmdldFRpbWUoKSAtIGN1cnJlbnRUaW1lLmdldFRpbWUoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdkYXlzJzogTWF0aC5mbG9vcih0aW1lIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKSxcbiAgICAgICAgICAgICdob3Vycyc6IE1hdGguZmxvb3IoKHRpbWUgJSAoMTAwMCAqIDYwICogNjAgKiAyNCkpIC8gKDEwMDAgKiA2MCAqIDYwKSksXG4gICAgICAgICAgICAnbWludXRlcyc6IE1hdGguZmxvb3IoKHRpbWUgJSAoMTAwMCAqIDYwICogNjApKSAvICgxMDAwICogNjApKSxcbiAgICAgICAgICAgICdzZWNvbmRzJzogTWF0aC5mbG9vcigodGltZSAlICgxMDAwICogNjApKSAvIDEwMDApXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy50aW1lID0gdGltZTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/time/time.js\n");

/***/ }),

/***/ "./lib/x/x-game-object.js":
/*!********************************!*\
  !*** ./lib/x/x-game-object.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst func_1 = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\nconst mathf_1 = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\nconst vector_1 = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\nconst ease_1 = __webpack_require__(/*! ../ease/ease */ \"./lib/ease/ease.js\");\nexports.XGameObjectDefaults = {\n    id: '',\n    x: 0,\n    y: 0,\n    alpha: 1,\n    width: 0,\n    height: 0,\n    scaleX: 1,\n    scaleY: 1,\n    anchorX: 0,\n    anchorY: 0,\n    rotation: 0,\n    interactable: false,\n    zIndex: 0\n};\nclass XGameObject {\n    constructor(config) {\n        this.parent = undefined;\n        this.visible = true;\n        this.debugObject = false;\n        this.children = [];\n        this.alpha_ = func_1.func.setDefault(config.alpha, 1);\n        this.id =\n            func_1.func.setDefault(config.id, exports.XGameObjectDefaults.id);\n        this.zIndex = func_1.func.setDefault(config.zIndex, exports.XGameObjectDefaults.zIndex);\n        const x = func_1.func.setDefault(config.x, exports.XGameObjectDefaults.x);\n        const y = func_1.func.setDefault(config.y, exports.XGameObjectDefaults.y);\n        this.position = new vector_1.Vector(x, y);\n        this.velocity = vector_1.Vector.ZERO;\n        this.acceleration = vector_1.Vector.ZERO;\n        this.naturalScaleX =\n            func_1.func.setDefault(config.scaleX, exports.XGameObjectDefaults.scaleX);\n        this.naturalScaleY =\n            func_1.func.setDefault(config.scaleY, exports.XGameObjectDefaults.scaleY);\n        this.anchorX =\n            func_1.func.setDefault(config.anchorX, exports.XGameObjectDefaults.anchorX);\n        this.anchorY =\n            func_1.func.setDefault(config.anchorY, exports.XGameObjectDefaults.anchorY);\n        this.naturalWidth =\n            func_1.func.setDefault(config.width, exports.XGameObjectDefaults.width);\n        this.naturalHeight =\n            func_1.func.setDefault(config.height, exports.XGameObjectDefaults.height);\n        this.rotation =\n            func_1.func.setDefault(config.rotation, exports.XGameObjectDefaults.rotation);\n        this.interactable =\n            func_1.func.setDefault(config.interactable, exports.XGameObjectDefaults.interactable);\n        this.onMouseUp = func_1.func.setDefault(config.onMouseUp, null);\n        this.onMouseMove = func_1.func.setDefault(config.onMouseMove, null);\n        this.onMouseDown = func_1.func.setDefault(config.onMouseDown, null);\n        this.texture =\n            func_1.func.setDefault(config.texture, null);\n        if (this.texture) {\n            this.setTexture(this.texture);\n        }\n    }\n    get x() {\n        return this.position.x;\n    }\n    set x(value) {\n        this.position.x = value;\n    }\n    get y() {\n        return this.position.y;\n    }\n    set y(value) {\n        this.position.y = value;\n    }\n    get vx() {\n        return this.velocity.x;\n    }\n    set vx(value) {\n        this.velocity.x = value;\n    }\n    get vy() {\n        return this.velocity.y;\n    }\n    set vy(value) {\n        this.velocity.y = value;\n    }\n    get ax() {\n        return this.acceleration.x;\n    }\n    set ax(value) {\n        this.acceleration.x = value;\n    }\n    get ay() {\n        return this.acceleration.y;\n    }\n    set ay(value) {\n        this.acceleration.y = value;\n    }\n    setTexture(texture) {\n        this.texture = texture;\n        this.naturalWidth = this.texture.width;\n        this.naturalHeight = this.texture.height;\n    }\n    get gx() {\n        const parentGx = this.parent && this.parent.gx || 0;\n        return this.x + parentGx;\n    }\n    get gy() {\n        const parentGy = this.parent && this.parent.gy || 0;\n        return this.y + parentGy;\n    }\n    get globalComputedBox() {\n        let box = {\n            centerPoint: {\n                x: this.gcx,\n                y: this.gcy,\n            },\n            width: this.width,\n            height: this.height,\n            topLeft: {\n                x: this.gx,\n                y: this.gy\n            },\n            topRight: {\n                x: this.gx + this.width,\n                y: this.gy\n            },\n            bottomLeft: {\n                x: this.gx,\n                y: this.gy + this.height\n            },\n            bottomRight: {\n                x: this.gx + this.width,\n                y: this.gy + this.height\n            },\n        };\n        const cx = this.gcx;\n        const cy = this.gcy;\n        const topLeft = mathf_1.mathf.calculate2dPointRotation(cx, cy, box.topLeft.x, box.topLeft.y, this.rotation);\n        box.topLeft.x = topLeft.x;\n        box.topLeft.y = topLeft.y;\n        const topRight = mathf_1.mathf.calculate2dPointRotation(cx, cy, box.topRight.x, box.topRight.y, this.rotation);\n        box.topRight.x = topRight.x;\n        box.topRight.y = topRight.y;\n        const bottomLeft = mathf_1.mathf.calculate2dPointRotation(cx, cy, box.bottomLeft.x, box.bottomLeft.y, this.rotation);\n        box.bottomLeft.x = bottomLeft.x;\n        box.bottomLeft.y = bottomLeft.y;\n        const bottomRight = mathf_1.mathf.calculate2dPointRotation(cx, cy, box.bottomRight.x, box.bottomRight.y, this.rotation);\n        box.bottomRight.x = bottomRight.x;\n        box.bottomRight.y = bottomRight.y;\n        return box;\n    }\n    get gcx() {\n        return this.gx + this.anchorXOffset;\n    }\n    get gcy() {\n        return this.gy + this.anchorYOffset;\n    }\n    get globalCenterVector() {\n        return new vector_1.Vector(this.gcx, this.gcy).floor();\n    }\n    get anchorXOffset() {\n        return this.naturalAnchorXOffset * this.scaleX;\n    }\n    get anchorYOffset() {\n        return this.naturalAnchorYOffset * this.scaleY;\n    }\n    get anchorOffsetVector() {\n        return new vector_1.Vector(this.anchorXOffset, this.anchorYOffset).floor();\n    }\n    get naturalAnchorXOffset() {\n        return this.naturalWidth * this.anchorX;\n    }\n    get naturalAnchorYOffset() {\n        return this.naturalHeight * this.anchorY;\n    }\n    get width() {\n        return this.naturalWidth * this.scaleX;\n    }\n    set width(value) {\n        this.naturalWidth = value;\n    }\n    get height() {\n        return this.naturalHeight * this.scaleX;\n    }\n    set height(value) {\n        this.naturalHeight = value;\n    }\n    get anchorGx() {\n        return this.gx + this.naturalAnchorXOffset;\n    }\n    get anchorGy() {\n        return this.gy + this.naturalAnchorYOffset;\n    }\n    get alpha() {\n        const parentAlpha = this.parent && this.parent.alpha || 1;\n        const relativeAlpha = parentAlpha * this.alpha_;\n        return relativeAlpha;\n    }\n    set alpha(value) {\n        this.alpha_ = value;\n    }\n    get scaleX() {\n        const parentScaleX = this.parent && this.parent.scaleX || 1;\n        const relativeScale = parentScaleX * this.naturalScaleY;\n        return relativeScale;\n    }\n    set scaleX(value) {\n        this.scaleX = value;\n    }\n    get scaleY() {\n        const parentScaleY = this.parent && this.parent.scaleY || 1;\n        const relativeScale = parentScaleY * this.naturalScaleY;\n        return relativeScale;\n    }\n    set scaleY(value) {\n        this.scaleY = value;\n    }\n    setPosition(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    addChild(sprite) {\n        sprite.parent = this;\n        this.children.push(sprite);\n        this.orderChildrenByZIndex();\n    }\n    orderChildrenByZIndex() {\n        this.children = this.children.sort((a, b) => {\n            return a.zIndex - b.zIndex;\n        });\n    }\n    removeChild(sprite) {\n        if (sprite.parent !== this) {\n            throw new Error(sprite + 'is not a child of ' + this);\n        }\n        this.children = this.children.filter((childSprites) => {\n            return sprite !== childSprites;\n        });\n    }\n    updatePositions() {\n        if (this.debugObject) {\n            this.velocity.add(this.acceleration);\n            this.position.add(this.velocity);\n        }\n        else {\n            this.velocity.ease(this.acceleration, 1, ease_1.EASE.linear);\n            this.position.add(this.velocity);\n        }\n    }\n    render(context) {\n        if (this.texture) {\n            context.drawImage(this.texture.imageElement, 0, 0, this.texture.width, this.texture.height, -this.naturalAnchorXOffset, -this.naturalAnchorYOffset, this.naturalWidth, this.naturalHeight);\n        }\n    }\n    renderDebuggingOutlines(context) {\n        context.strokeStyle = 'red';\n        context.lineWidth = 10;\n        context.strokeRect(-this.naturalAnchorXOffset, -this.naturalAnchorYOffset, this.naturalWidth, this.naturalHeight);\n    }\n}\nexports.XGameObject = XGameObject;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIveC94LWdhbWUtb2JqZWN0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3gveC1nYW1lLW9iamVjdC5qcz83ZDc0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZnVuY18xID0gcmVxdWlyZShcIi4uL2Z1bmMvZnVuY1wiKTtcbmNvbnN0IG1hdGhmXzEgPSByZXF1aXJlKFwiLi4vbWF0aGYvbWF0aGZcIik7XG5jb25zdCB2ZWN0b3JfMSA9IHJlcXVpcmUoXCIuLi9tYXRoZi92ZWN0b3JcIik7XG5jb25zdCBlYXNlXzEgPSByZXF1aXJlKFwiLi4vZWFzZS9lYXNlXCIpO1xuZXhwb3J0cy5YR2FtZU9iamVjdERlZmF1bHRzID0ge1xuICAgIGlkOiAnJyxcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgYWxwaGE6IDEsXG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwLFxuICAgIHNjYWxlWDogMSxcbiAgICBzY2FsZVk6IDEsXG4gICAgYW5jaG9yWDogMCxcbiAgICBhbmNob3JZOiAwLFxuICAgIHJvdGF0aW9uOiAwLFxuICAgIGludGVyYWN0YWJsZTogZmFsc2UsXG4gICAgekluZGV4OiAwXG59O1xuY2xhc3MgWEdhbWVPYmplY3Qge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kZWJ1Z09iamVjdCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIHRoaXMuYWxwaGFfID0gZnVuY18xLmZ1bmMuc2V0RGVmYXVsdChjb25maWcuYWxwaGEsIDEpO1xuICAgICAgICB0aGlzLmlkID1cbiAgICAgICAgICAgIGZ1bmNfMS5mdW5jLnNldERlZmF1bHQoY29uZmlnLmlkLCBleHBvcnRzLlhHYW1lT2JqZWN0RGVmYXVsdHMuaWQpO1xuICAgICAgICB0aGlzLnpJbmRleCA9IGZ1bmNfMS5mdW5jLnNldERlZmF1bHQoY29uZmlnLnpJbmRleCwgZXhwb3J0cy5YR2FtZU9iamVjdERlZmF1bHRzLnpJbmRleCk7XG4gICAgICAgIGNvbnN0IHggPSBmdW5jXzEuZnVuYy5zZXREZWZhdWx0KGNvbmZpZy54LCBleHBvcnRzLlhHYW1lT2JqZWN0RGVmYXVsdHMueCk7XG4gICAgICAgIGNvbnN0IHkgPSBmdW5jXzEuZnVuYy5zZXREZWZhdWx0KGNvbmZpZy55LCBleHBvcnRzLlhHYW1lT2JqZWN0RGVmYXVsdHMueSk7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXcgdmVjdG9yXzEuVmVjdG9yKHgsIHkpO1xuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gdmVjdG9yXzEuVmVjdG9yLlpFUk87XG4gICAgICAgIHRoaXMuYWNjZWxlcmF0aW9uID0gdmVjdG9yXzEuVmVjdG9yLlpFUk87XG4gICAgICAgIHRoaXMubmF0dXJhbFNjYWxlWCA9XG4gICAgICAgICAgICBmdW5jXzEuZnVuYy5zZXREZWZhdWx0KGNvbmZpZy5zY2FsZVgsIGV4cG9ydHMuWEdhbWVPYmplY3REZWZhdWx0cy5zY2FsZVgpO1xuICAgICAgICB0aGlzLm5hdHVyYWxTY2FsZVkgPVxuICAgICAgICAgICAgZnVuY18xLmZ1bmMuc2V0RGVmYXVsdChjb25maWcuc2NhbGVZLCBleHBvcnRzLlhHYW1lT2JqZWN0RGVmYXVsdHMuc2NhbGVZKTtcbiAgICAgICAgdGhpcy5hbmNob3JYID1cbiAgICAgICAgICAgIGZ1bmNfMS5mdW5jLnNldERlZmF1bHQoY29uZmlnLmFuY2hvclgsIGV4cG9ydHMuWEdhbWVPYmplY3REZWZhdWx0cy5hbmNob3JYKTtcbiAgICAgICAgdGhpcy5hbmNob3JZID1cbiAgICAgICAgICAgIGZ1bmNfMS5mdW5jLnNldERlZmF1bHQoY29uZmlnLmFuY2hvclksIGV4cG9ydHMuWEdhbWVPYmplY3REZWZhdWx0cy5hbmNob3JZKTtcbiAgICAgICAgdGhpcy5uYXR1cmFsV2lkdGggPVxuICAgICAgICAgICAgZnVuY18xLmZ1bmMuc2V0RGVmYXVsdChjb25maWcud2lkdGgsIGV4cG9ydHMuWEdhbWVPYmplY3REZWZhdWx0cy53aWR0aCk7XG4gICAgICAgIHRoaXMubmF0dXJhbEhlaWdodCA9XG4gICAgICAgICAgICBmdW5jXzEuZnVuYy5zZXREZWZhdWx0KGNvbmZpZy5oZWlnaHQsIGV4cG9ydHMuWEdhbWVPYmplY3REZWZhdWx0cy5oZWlnaHQpO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID1cbiAgICAgICAgICAgIGZ1bmNfMS5mdW5jLnNldERlZmF1bHQoY29uZmlnLnJvdGF0aW9uLCBleHBvcnRzLlhHYW1lT2JqZWN0RGVmYXVsdHMucm90YXRpb24pO1xuICAgICAgICB0aGlzLmludGVyYWN0YWJsZSA9XG4gICAgICAgICAgICBmdW5jXzEuZnVuYy5zZXREZWZhdWx0KGNvbmZpZy5pbnRlcmFjdGFibGUsIGV4cG9ydHMuWEdhbWVPYmplY3REZWZhdWx0cy5pbnRlcmFjdGFibGUpO1xuICAgICAgICB0aGlzLm9uTW91c2VVcCA9IGZ1bmNfMS5mdW5jLnNldERlZmF1bHQoY29uZmlnLm9uTW91c2VVcCwgbnVsbCk7XG4gICAgICAgIHRoaXMub25Nb3VzZU1vdmUgPSBmdW5jXzEuZnVuYy5zZXREZWZhdWx0KGNvbmZpZy5vbk1vdXNlTW92ZSwgbnVsbCk7XG4gICAgICAgIHRoaXMub25Nb3VzZURvd24gPSBmdW5jXzEuZnVuYy5zZXREZWZhdWx0KGNvbmZpZy5vbk1vdXNlRG93biwgbnVsbCk7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9XG4gICAgICAgICAgICBmdW5jXzEuZnVuYy5zZXREZWZhdWx0KGNvbmZpZy50ZXh0dXJlLCBudWxsKTtcbiAgICAgICAgaWYgKHRoaXMudGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRUZXh0dXJlKHRoaXMudGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLng7XG4gICAgfVxuICAgIHNldCB4KHZhbHVlKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueTtcbiAgICB9XG4gICAgc2V0IHkodmFsdWUpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCB2eCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVsb2NpdHkueDtcbiAgICB9XG4gICAgc2V0IHZ4KHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmVsb2NpdHkueCA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgdnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlbG9jaXR5Lnk7XG4gICAgfVxuICAgIHNldCB2eSh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZlbG9jaXR5LnkgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGF4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY2NlbGVyYXRpb24ueDtcbiAgICB9XG4gICAgc2V0IGF4KHZhbHVlKSB7XG4gICAgICAgIHRoaXMuYWNjZWxlcmF0aW9uLnggPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGF5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY2NlbGVyYXRpb24ueTtcbiAgICB9XG4gICAgc2V0IGF5KHZhbHVlKSB7XG4gICAgICAgIHRoaXMuYWNjZWxlcmF0aW9uLnkgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0VGV4dHVyZSh0ZXh0dXJlKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHRoaXMubmF0dXJhbFdpZHRoID0gdGhpcy50ZXh0dXJlLndpZHRoO1xuICAgICAgICB0aGlzLm5hdHVyYWxIZWlnaHQgPSB0aGlzLnRleHR1cmUuaGVpZ2h0O1xuICAgIH1cbiAgICBnZXQgZ3goKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudEd4ID0gdGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQuZ3ggfHwgMDtcbiAgICAgICAgcmV0dXJuIHRoaXMueCArIHBhcmVudEd4O1xuICAgIH1cbiAgICBnZXQgZ3koKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudEd5ID0gdGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQuZ3kgfHwgMDtcbiAgICAgICAgcmV0dXJuIHRoaXMueSArIHBhcmVudEd5O1xuICAgIH1cbiAgICBnZXQgZ2xvYmFsQ29tcHV0ZWRCb3goKSB7XG4gICAgICAgIGxldCBib3ggPSB7XG4gICAgICAgICAgICBjZW50ZXJQb2ludDoge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMuZ2N4LFxuICAgICAgICAgICAgICAgIHk6IHRoaXMuZ2N5LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgIHRvcExlZnQ6IHtcbiAgICAgICAgICAgICAgICB4OiB0aGlzLmd4LFxuICAgICAgICAgICAgICAgIHk6IHRoaXMuZ3lcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b3BSaWdodDoge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMuZ3ggKyB0aGlzLndpZHRoLFxuICAgICAgICAgICAgICAgIHk6IHRoaXMuZ3lcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib3R0b21MZWZ0OiB7XG4gICAgICAgICAgICAgICAgeDogdGhpcy5neCxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmd5ICsgdGhpcy5oZWlnaHRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib3R0b21SaWdodDoge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMuZ3ggKyB0aGlzLndpZHRoLFxuICAgICAgICAgICAgICAgIHk6IHRoaXMuZ3kgKyB0aGlzLmhlaWdodFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY3ggPSB0aGlzLmdjeDtcbiAgICAgICAgY29uc3QgY3kgPSB0aGlzLmdjeTtcbiAgICAgICAgY29uc3QgdG9wTGVmdCA9IG1hdGhmXzEubWF0aGYuY2FsY3VsYXRlMmRQb2ludFJvdGF0aW9uKGN4LCBjeSwgYm94LnRvcExlZnQueCwgYm94LnRvcExlZnQueSwgdGhpcy5yb3RhdGlvbik7XG4gICAgICAgIGJveC50b3BMZWZ0LnggPSB0b3BMZWZ0Lng7XG4gICAgICAgIGJveC50b3BMZWZ0LnkgPSB0b3BMZWZ0Lnk7XG4gICAgICAgIGNvbnN0IHRvcFJpZ2h0ID0gbWF0aGZfMS5tYXRoZi5jYWxjdWxhdGUyZFBvaW50Um90YXRpb24oY3gsIGN5LCBib3gudG9wUmlnaHQueCwgYm94LnRvcFJpZ2h0LnksIHRoaXMucm90YXRpb24pO1xuICAgICAgICBib3gudG9wUmlnaHQueCA9IHRvcFJpZ2h0Lng7XG4gICAgICAgIGJveC50b3BSaWdodC55ID0gdG9wUmlnaHQueTtcbiAgICAgICAgY29uc3QgYm90dG9tTGVmdCA9IG1hdGhmXzEubWF0aGYuY2FsY3VsYXRlMmRQb2ludFJvdGF0aW9uKGN4LCBjeSwgYm94LmJvdHRvbUxlZnQueCwgYm94LmJvdHRvbUxlZnQueSwgdGhpcy5yb3RhdGlvbik7XG4gICAgICAgIGJveC5ib3R0b21MZWZ0LnggPSBib3R0b21MZWZ0Lng7XG4gICAgICAgIGJveC5ib3R0b21MZWZ0LnkgPSBib3R0b21MZWZ0Lnk7XG4gICAgICAgIGNvbnN0IGJvdHRvbVJpZ2h0ID0gbWF0aGZfMS5tYXRoZi5jYWxjdWxhdGUyZFBvaW50Um90YXRpb24oY3gsIGN5LCBib3guYm90dG9tUmlnaHQueCwgYm94LmJvdHRvbVJpZ2h0LnksIHRoaXMucm90YXRpb24pO1xuICAgICAgICBib3guYm90dG9tUmlnaHQueCA9IGJvdHRvbVJpZ2h0Lng7XG4gICAgICAgIGJveC5ib3R0b21SaWdodC55ID0gYm90dG9tUmlnaHQueTtcbiAgICAgICAgcmV0dXJuIGJveDtcbiAgICB9XG4gICAgZ2V0IGdjeCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3ggKyB0aGlzLmFuY2hvclhPZmZzZXQ7XG4gICAgfVxuICAgIGdldCBnY3koKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmd5ICsgdGhpcy5hbmNob3JZT2Zmc2V0O1xuICAgIH1cbiAgICBnZXQgZ2xvYmFsQ2VudGVyVmVjdG9yKCkge1xuICAgICAgICByZXR1cm4gbmV3IHZlY3Rvcl8xLlZlY3Rvcih0aGlzLmdjeCwgdGhpcy5nY3kpLmZsb29yKCk7XG4gICAgfVxuICAgIGdldCBhbmNob3JYT2Zmc2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYXR1cmFsQW5jaG9yWE9mZnNldCAqIHRoaXMuc2NhbGVYO1xuICAgIH1cbiAgICBnZXQgYW5jaG9yWU9mZnNldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmF0dXJhbEFuY2hvcllPZmZzZXQgKiB0aGlzLnNjYWxlWTtcbiAgICB9XG4gICAgZ2V0IGFuY2hvck9mZnNldFZlY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB2ZWN0b3JfMS5WZWN0b3IodGhpcy5hbmNob3JYT2Zmc2V0LCB0aGlzLmFuY2hvcllPZmZzZXQpLmZsb29yKCk7XG4gICAgfVxuICAgIGdldCBuYXR1cmFsQW5jaG9yWE9mZnNldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmF0dXJhbFdpZHRoICogdGhpcy5hbmNob3JYO1xuICAgIH1cbiAgICBnZXQgbmF0dXJhbEFuY2hvcllPZmZzZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hdHVyYWxIZWlnaHQgKiB0aGlzLmFuY2hvclk7XG4gICAgfVxuICAgIGdldCB3aWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmF0dXJhbFdpZHRoICogdGhpcy5zY2FsZVg7XG4gICAgfVxuICAgIHNldCB3aWR0aCh2YWx1ZSkge1xuICAgICAgICB0aGlzLm5hdHVyYWxXaWR0aCA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgaGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYXR1cmFsSGVpZ2h0ICogdGhpcy5zY2FsZVg7XG4gICAgfVxuICAgIHNldCBoZWlnaHQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5uYXR1cmFsSGVpZ2h0ID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBhbmNob3JHeCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3ggKyB0aGlzLm5hdHVyYWxBbmNob3JYT2Zmc2V0O1xuICAgIH1cbiAgICBnZXQgYW5jaG9yR3koKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmd5ICsgdGhpcy5uYXR1cmFsQW5jaG9yWU9mZnNldDtcbiAgICB9XG4gICAgZ2V0IGFscGhhKCkge1xuICAgICAgICBjb25zdCBwYXJlbnRBbHBoYSA9IHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LmFscGhhIHx8IDE7XG4gICAgICAgIGNvbnN0IHJlbGF0aXZlQWxwaGEgPSBwYXJlbnRBbHBoYSAqIHRoaXMuYWxwaGFfO1xuICAgICAgICByZXR1cm4gcmVsYXRpdmVBbHBoYTtcbiAgICB9XG4gICAgc2V0IGFscGhhKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuYWxwaGFfID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBzY2FsZVgoKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudFNjYWxlWCA9IHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LnNjYWxlWCB8fCAxO1xuICAgICAgICBjb25zdCByZWxhdGl2ZVNjYWxlID0gcGFyZW50U2NhbGVYICogdGhpcy5uYXR1cmFsU2NhbGVZO1xuICAgICAgICByZXR1cm4gcmVsYXRpdmVTY2FsZTtcbiAgICB9XG4gICAgc2V0IHNjYWxlWCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnNjYWxlWCA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgc2NhbGVZKCkge1xuICAgICAgICBjb25zdCBwYXJlbnRTY2FsZVkgPSB0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5zY2FsZVkgfHwgMTtcbiAgICAgICAgY29uc3QgcmVsYXRpdmVTY2FsZSA9IHBhcmVudFNjYWxlWSAqIHRoaXMubmF0dXJhbFNjYWxlWTtcbiAgICAgICAgcmV0dXJuIHJlbGF0aXZlU2NhbGU7XG4gICAgfVxuICAgIHNldCBzY2FsZVkodmFsdWUpIHtcbiAgICAgICAgdGhpcy5zY2FsZVkgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0UG9zaXRpb24oeCwgeSkge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgIH1cbiAgICBhZGRDaGlsZChzcHJpdGUpIHtcbiAgICAgICAgc3ByaXRlLnBhcmVudCA9IHRoaXM7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChzcHJpdGUpO1xuICAgICAgICB0aGlzLm9yZGVyQ2hpbGRyZW5CeVpJbmRleCgpO1xuICAgIH1cbiAgICBvcmRlckNoaWxkcmVuQnlaSW5kZXgoKSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhLnpJbmRleCAtIGIuekluZGV4O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVtb3ZlQ2hpbGQoc3ByaXRlKSB7XG4gICAgICAgIGlmIChzcHJpdGUucGFyZW50ICE9PSB0aGlzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Ioc3ByaXRlICsgJ2lzIG5vdCBhIGNoaWxkIG9mICcgKyB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbi5maWx0ZXIoKGNoaWxkU3ByaXRlcykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHNwcml0ZSAhPT0gY2hpbGRTcHJpdGVzO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdXBkYXRlUG9zaXRpb25zKCkge1xuICAgICAgICBpZiAodGhpcy5kZWJ1Z09iamVjdCkge1xuICAgICAgICAgICAgdGhpcy52ZWxvY2l0eS5hZGQodGhpcy5hY2NlbGVyYXRpb24pO1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi5hZGQodGhpcy52ZWxvY2l0eSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5LmVhc2UodGhpcy5hY2NlbGVyYXRpb24sIDEsIGVhc2VfMS5FQVNFLmxpbmVhcik7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLmFkZCh0aGlzLnZlbG9jaXR5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIoY29udGV4dCkge1xuICAgICAgICBpZiAodGhpcy50ZXh0dXJlKSB7XG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLnRleHR1cmUuaW1hZ2VFbGVtZW50LCAwLCAwLCB0aGlzLnRleHR1cmUud2lkdGgsIHRoaXMudGV4dHVyZS5oZWlnaHQsIC10aGlzLm5hdHVyYWxBbmNob3JYT2Zmc2V0LCAtdGhpcy5uYXR1cmFsQW5jaG9yWU9mZnNldCwgdGhpcy5uYXR1cmFsV2lkdGgsIHRoaXMubmF0dXJhbEhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyRGVidWdnaW5nT3V0bGluZXMoY29udGV4dCkge1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ3JlZCc7XG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gMTA7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlUmVjdCgtdGhpcy5uYXR1cmFsQW5jaG9yWE9mZnNldCwgLXRoaXMubmF0dXJhbEFuY2hvcllPZmZzZXQsIHRoaXMubmF0dXJhbFdpZHRoLCB0aGlzLm5hdHVyYWxIZWlnaHQpO1xuICAgIH1cbn1cbmV4cG9ydHMuWEdhbWVPYmplY3QgPSBYR2FtZU9iamVjdDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/x/x-game-object.js\n");

/***/ }),

/***/ "./lib/x/x-line.js":
/*!*************************!*\
  !*** ./lib/x/x-line.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst func_1 = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\nconst x_game_object_1 = __webpack_require__(/*! ./x-game-object */ \"./lib/x/x-game-object.js\");\nclass XLine extends x_game_object_1.XGameObject {\n    constructor(config) {\n        super(config);\n        this.strokeStyle = func_1.func.setDefault(config.strokeStyle, 'red');\n        this.lineWidth = func_1.func.setDefault(config.lineWidth, 1);\n        this.startX = func_1.func.setDefault(config.startX, 0);\n        this.startY = func_1.func.setDefault(config.startY, 0);\n        this.endX = func_1.func.setDefault(config.endX, 0);\n        this.endY = func_1.func.setDefault(config.endY, 0);\n        this.gradientStops = func_1.func.setDefault(config.gradientStops, null);\n        this.linearGradient = func_1.func.setDefault(config.linearGradient, null);\n        this.lineJoin = \"round\";\n    }\n    render(ctx) {\n        ctx.strokeStyle = this.strokeStyle;\n        if (this.gradientStops) {\n            var grad = ctx.createLinearGradient(this.startX, this.startY, this.endX, this.endY);\n            if (this.linearGradient) {\n                grad = ctx.createLinearGradient(this.linearGradient.startX, this.linearGradient.startY, this.linearGradient.endX, this.linearGradient.endY);\n            }\n            if (this.radialGradient) {\n                grad = ctx.createRadialGradient(this.radialGradient.x0, this.radialGradient.y0, this.radialGradient.r0, this.radialGradient.x1, this.radialGradient.y1, this.radialGradient.r1);\n            }\n            this.gradientStops.forEach((stop) => {\n                grad.addColorStop(stop.stop, stop.color);\n            });\n            ctx.strokeStyle = grad;\n        }\n        ctx.lineWidth = this.lineWidth;\n        ctx.beginPath();\n        ctx.lineJoin = \"round\";\n        ctx.moveTo(this.startX, this.startY);\n        ctx.lineTo(this.endX, this.endY);\n        ctx.stroke();\n    }\n}\nexports.XLine = XLine;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIveC94LWxpbmUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIveC94LWxpbmUuanM/NThjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGZ1bmNfMSA9IHJlcXVpcmUoXCIuLi9mdW5jL2Z1bmNcIik7XG5jb25zdCB4X2dhbWVfb2JqZWN0XzEgPSByZXF1aXJlKFwiLi94LWdhbWUtb2JqZWN0XCIpO1xuY2xhc3MgWExpbmUgZXh0ZW5kcyB4X2dhbWVfb2JqZWN0XzEuWEdhbWVPYmplY3Qge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICBzdXBlcihjb25maWcpO1xuICAgICAgICB0aGlzLnN0cm9rZVN0eWxlID0gZnVuY18xLmZ1bmMuc2V0RGVmYXVsdChjb25maWcuc3Ryb2tlU3R5bGUsICdyZWQnKTtcbiAgICAgICAgdGhpcy5saW5lV2lkdGggPSBmdW5jXzEuZnVuYy5zZXREZWZhdWx0KGNvbmZpZy5saW5lV2lkdGgsIDEpO1xuICAgICAgICB0aGlzLnN0YXJ0WCA9IGZ1bmNfMS5mdW5jLnNldERlZmF1bHQoY29uZmlnLnN0YXJ0WCwgMCk7XG4gICAgICAgIHRoaXMuc3RhcnRZID0gZnVuY18xLmZ1bmMuc2V0RGVmYXVsdChjb25maWcuc3RhcnRZLCAwKTtcbiAgICAgICAgdGhpcy5lbmRYID0gZnVuY18xLmZ1bmMuc2V0RGVmYXVsdChjb25maWcuZW5kWCwgMCk7XG4gICAgICAgIHRoaXMuZW5kWSA9IGZ1bmNfMS5mdW5jLnNldERlZmF1bHQoY29uZmlnLmVuZFksIDApO1xuICAgICAgICB0aGlzLmdyYWRpZW50U3RvcHMgPSBmdW5jXzEuZnVuYy5zZXREZWZhdWx0KGNvbmZpZy5ncmFkaWVudFN0b3BzLCBudWxsKTtcbiAgICAgICAgdGhpcy5saW5lYXJHcmFkaWVudCA9IGZ1bmNfMS5mdW5jLnNldERlZmF1bHQoY29uZmlnLmxpbmVhckdyYWRpZW50LCBudWxsKTtcbiAgICAgICAgdGhpcy5saW5lSm9pbiA9IFwicm91bmRcIjtcbiAgICB9XG4gICAgcmVuZGVyKGN0eCkge1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuICAgICAgICBpZiAodGhpcy5ncmFkaWVudFN0b3BzKSB7XG4gICAgICAgICAgICB2YXIgZ3JhZCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCh0aGlzLnN0YXJ0WCwgdGhpcy5zdGFydFksIHRoaXMuZW5kWCwgdGhpcy5lbmRZKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmxpbmVhckdyYWRpZW50KSB7XG4gICAgICAgICAgICAgICAgZ3JhZCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCh0aGlzLmxpbmVhckdyYWRpZW50LnN0YXJ0WCwgdGhpcy5saW5lYXJHcmFkaWVudC5zdGFydFksIHRoaXMubGluZWFyR3JhZGllbnQuZW5kWCwgdGhpcy5saW5lYXJHcmFkaWVudC5lbmRZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnJhZGlhbEdyYWRpZW50KSB7XG4gICAgICAgICAgICAgICAgZ3JhZCA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudCh0aGlzLnJhZGlhbEdyYWRpZW50LngwLCB0aGlzLnJhZGlhbEdyYWRpZW50LnkwLCB0aGlzLnJhZGlhbEdyYWRpZW50LnIwLCB0aGlzLnJhZGlhbEdyYWRpZW50LngxLCB0aGlzLnJhZGlhbEdyYWRpZW50LnkxLCB0aGlzLnJhZGlhbEdyYWRpZW50LnIxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZ3JhZGllbnRTdG9wcy5mb3JFYWNoKChzdG9wKSA9PiB7XG4gICAgICAgICAgICAgICAgZ3JhZC5hZGRDb2xvclN0b3Aoc3RvcC5zdG9wLCBzdG9wLmNvbG9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gZ3JhZDtcbiAgICAgICAgfVxuICAgICAgICBjdHgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LmxpbmVKb2luID0gXCJyb3VuZFwiO1xuICAgICAgICBjdHgubW92ZVRvKHRoaXMuc3RhcnRYLCB0aGlzLnN0YXJ0WSk7XG4gICAgICAgIGN0eC5saW5lVG8odGhpcy5lbmRYLCB0aGlzLmVuZFkpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxufVxuZXhwb3J0cy5YTGluZSA9IFhMaW5lO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/x/x-line.js\n");

/***/ }),

/***/ "./lib/x/x-offscreen-canvas.js":
/*!*************************************!*\
  !*** ./lib/x/x-offscreen-canvas.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass XOffScreenCanvas {\n    constructor() {\n        this.canvas = document.createElement('canvas');\n        this.context = this.canvas.getContext('2d');\n        this.dpr = window.devicePixelRatio || 1;\n        this.canvas.width = 1000 * this.dpr;\n        this.canvas.height = 1000 * this.dpr;\n    }\n}\nexports.XOffScreenCanvas = XOffScreenCanvas;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIveC94LW9mZnNjcmVlbi1jYW52YXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIveC94LW9mZnNjcmVlbi1jYW52YXMuanM/MzllNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNsYXNzIFhPZmZTY3JlZW5DYW52YXMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB0aGlzLmRwciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gMTAwMCAqIHRoaXMuZHByO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSAxMDAwICogdGhpcy5kcHI7XG4gICAgfVxufVxuZXhwb3J0cy5YT2ZmU2NyZWVuQ2FudmFzID0gWE9mZlNjcmVlbkNhbnZhcztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/x/x-offscreen-canvas.js\n");

/***/ }),

/***/ "./lib/x/x-pointer.js":
/*!****************************!*\
  !*** ./lib/x/x-pointer.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mathf_1 = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\nconst vector_1 = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\nclass XPointer {\n    constructor(element) {\n        this.isMouseDown = false;\n        this.position = vector_1.Vector.ZERO;\n        this.radius = 1;\n        this.element = element;\n        this.element.addEventListener('mousedown', this.pointerDownHandler.bind(this), { passive: true });\n        this.element.addEventListener('touchstart', this.pointerDownHandler.bind(this), { passive: true });\n        this.element.addEventListener('mouseup', this.pointerUpHandler.bind(this), { passive: true });\n        this.element.addEventListener('touchend', this.pointerUpHandler.bind(this), { passive: true });\n        this.element.addEventListener('mousemove', this.pointerMoveHandler.bind(this), { passive: true });\n        this.element.addEventListener('touchmove', this.pointerMoveHandler.bind(this), { passive: true });\n    }\n    get x() {\n        return this.position.x;\n    }\n    set x(x) {\n        this.position.x = x;\n    }\n    get y() {\n        return this.position.y;\n    }\n    set y(y) {\n        this.position.y = y;\n    }\n    pointerDownHandler(event) {\n        this.isMouseDown = true;\n    }\n    pointerUpHandler(event) {\n        this.isMouseDown = false;\n    }\n    pointerMoveHandler(event) {\n        let pageX;\n        let pageY;\n        if (event.touches) {\n            pageX = event.touches[0].pageX;\n            pageY = event.touches[0].pageY;\n        }\n        else {\n            pageX = event.pageX;\n            pageY = event.pageY;\n        }\n        const x = (pageX - this.element.offsetLeft);\n        const y = (pageY - this.element.offsetTop);\n        this.position.set(x, y);\n    }\n    testCollidingWithGameObject(object) {\n        let point = {\n            x: this.x,\n            y: this.y,\n        };\n        let polygon = [\n            object.globalComputedBox.topLeft,\n            object.globalComputedBox.topRight,\n            object.globalComputedBox.bottomRight,\n            object.globalComputedBox.bottomLeft,\n        ];\n        return mathf_1.mathf.collisionPointVersusConvexPolygon(point, polygon);\n    }\n}\nexports.XPointer = XPointer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIveC94LXBvaW50ZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIveC94LXBvaW50ZXIuanM/YmY5YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG1hdGhmXzEgPSByZXF1aXJlKFwiLi4vbWF0aGYvbWF0aGZcIik7XG5jb25zdCB2ZWN0b3JfMSA9IHJlcXVpcmUoXCIuLi9tYXRoZi92ZWN0b3JcIik7XG5jbGFzcyBYUG9pbnRlciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgICB0aGlzLmlzTW91c2VEb3duID0gZmFsc2U7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSB2ZWN0b3JfMS5WZWN0b3IuWkVSTztcbiAgICAgICAgdGhpcy5yYWRpdXMgPSAxO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5wb2ludGVyRG93bkhhbmRsZXIuYmluZCh0aGlzKSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMucG9pbnRlckRvd25IYW5kbGVyLmJpbmQodGhpcyksIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLnBvaW50ZXJVcEhhbmRsZXIuYmluZCh0aGlzKSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLnBvaW50ZXJVcEhhbmRsZXIuYmluZCh0aGlzKSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5wb2ludGVyTW92ZUhhbmRsZXIuYmluZCh0aGlzKSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5wb2ludGVyTW92ZUhhbmRsZXIuYmluZCh0aGlzKSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgIH1cbiAgICBnZXQgeCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueDtcbiAgICB9XG4gICAgc2V0IHgoeCkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB4O1xuICAgIH1cbiAgICBnZXQgeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueTtcbiAgICB9XG4gICAgc2V0IHkoeSkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB5O1xuICAgIH1cbiAgICBwb2ludGVyRG93bkhhbmRsZXIoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5pc01vdXNlRG93biA9IHRydWU7XG4gICAgfVxuICAgIHBvaW50ZXJVcEhhbmRsZXIoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5pc01vdXNlRG93biA9IGZhbHNlO1xuICAgIH1cbiAgICBwb2ludGVyTW92ZUhhbmRsZXIoZXZlbnQpIHtcbiAgICAgICAgbGV0IHBhZ2VYO1xuICAgICAgICBsZXQgcGFnZVk7XG4gICAgICAgIGlmIChldmVudC50b3VjaGVzKSB7XG4gICAgICAgICAgICBwYWdlWCA9IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVg7XG4gICAgICAgICAgICBwYWdlWSA9IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYWdlWCA9IGV2ZW50LnBhZ2VYO1xuICAgICAgICAgICAgcGFnZVkgPSBldmVudC5wYWdlWTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB4ID0gKHBhZ2VYIC0gdGhpcy5lbGVtZW50Lm9mZnNldExlZnQpO1xuICAgICAgICBjb25zdCB5ID0gKHBhZ2VZIC0gdGhpcy5lbGVtZW50Lm9mZnNldFRvcCk7XG4gICAgICAgIHRoaXMucG9zaXRpb24uc2V0KHgsIHkpO1xuICAgIH1cbiAgICB0ZXN0Q29sbGlkaW5nV2l0aEdhbWVPYmplY3Qob2JqZWN0KSB7XG4gICAgICAgIGxldCBwb2ludCA9IHtcbiAgICAgICAgICAgIHg6IHRoaXMueCxcbiAgICAgICAgICAgIHk6IHRoaXMueSxcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHBvbHlnb24gPSBbXG4gICAgICAgICAgICBvYmplY3QuZ2xvYmFsQ29tcHV0ZWRCb3gudG9wTGVmdCxcbiAgICAgICAgICAgIG9iamVjdC5nbG9iYWxDb21wdXRlZEJveC50b3BSaWdodCxcbiAgICAgICAgICAgIG9iamVjdC5nbG9iYWxDb21wdXRlZEJveC5ib3R0b21SaWdodCxcbiAgICAgICAgICAgIG9iamVjdC5nbG9iYWxDb21wdXRlZEJveC5ib3R0b21MZWZ0LFxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gbWF0aGZfMS5tYXRoZi5jb2xsaXNpb25Qb2ludFZlcnN1c0NvbnZleFBvbHlnb24ocG9pbnQsIHBvbHlnb24pO1xuICAgIH1cbn1cbmV4cG9ydHMuWFBvaW50ZXIgPSBYUG9pbnRlcjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/x/x-pointer.js\n");

/***/ }),

/***/ "./lib/x/x-rectangle.js":
/*!******************************!*\
  !*** ./lib/x/x-rectangle.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst func_1 = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\nconst x_game_object_1 = __webpack_require__(/*! ./x-game-object */ \"./lib/x/x-game-object.js\");\nclass XRectangle extends x_game_object_1.XGameObject {\n    constructor(config) {\n        super(config);\n        this.strokeStyle = func_1.func.setDefault(config.strokeStyle, null);\n        this.fillStyle = func_1.func.setDefault(config.fillStyle, null);\n        this.lineWidth = func_1.func.setDefault(config.lineWidth, 1);\n    }\n    render(ctx) {\n        ctx.fillStyle = this.fillStyle;\n        ctx.strokeStyle = this.strokeStyle;\n        ctx.rect(-this.naturalWidth * this.anchorX, -this.naturalHeight * this.anchorY, this.naturalWidth, this.naturalHeight);\n        if (this.strokeStyle) {\n            ctx.stroke();\n        }\n        if (this.fillStyle)\n            ctx.fill();\n    }\n}\nexports.XRectangle = XRectangle;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIveC94LXJlY3RhbmdsZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi94L3gtcmVjdGFuZ2xlLmpzPzFlNjAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBmdW5jXzEgPSByZXF1aXJlKFwiLi4vZnVuYy9mdW5jXCIpO1xuY29uc3QgeF9nYW1lX29iamVjdF8xID0gcmVxdWlyZShcIi4veC1nYW1lLW9iamVjdFwiKTtcbmNsYXNzIFhSZWN0YW5nbGUgZXh0ZW5kcyB4X2dhbWVfb2JqZWN0XzEuWEdhbWVPYmplY3Qge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICBzdXBlcihjb25maWcpO1xuICAgICAgICB0aGlzLnN0cm9rZVN0eWxlID0gZnVuY18xLmZ1bmMuc2V0RGVmYXVsdChjb25maWcuc3Ryb2tlU3R5bGUsIG51bGwpO1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IGZ1bmNfMS5mdW5jLnNldERlZmF1bHQoY29uZmlnLmZpbGxTdHlsZSwgbnVsbCk7XG4gICAgICAgIHRoaXMubGluZVdpZHRoID0gZnVuY18xLmZ1bmMuc2V0RGVmYXVsdChjb25maWcubGluZVdpZHRoLCAxKTtcbiAgICB9XG4gICAgcmVuZGVyKGN0eCkge1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuc3Ryb2tlU3R5bGU7XG4gICAgICAgIGN0eC5yZWN0KC10aGlzLm5hdHVyYWxXaWR0aCAqIHRoaXMuYW5jaG9yWCwgLXRoaXMubmF0dXJhbEhlaWdodCAqIHRoaXMuYW5jaG9yWSwgdGhpcy5uYXR1cmFsV2lkdGgsIHRoaXMubmF0dXJhbEhlaWdodCk7XG4gICAgICAgIGlmICh0aGlzLnN0cm9rZVN0eWxlKSB7XG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZmlsbFN0eWxlKVxuICAgICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICB9XG59XG5leHBvcnRzLlhSZWN0YW5nbGUgPSBYUmVjdGFuZ2xlO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/x/x-rectangle.js\n");

/***/ }),

/***/ "./lib/x/x-stage.js":
/*!**************************!*\
  !*** ./lib/x/x-stage.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst x_game_object_1 = __webpack_require__(/*! ./x-game-object */ \"./lib/x/x-game-object.js\");\nclass XStage extends x_game_object_1.XGameObject {\n    constructor(config = x_game_object_1.XGameObjectDefaults) {\n        super(config);\n        this.stage = true;\n        this.canvasElement = null;\n        this.context = null;\n    }\n    attachToCanvas(canvas) {\n        this.canvasElement = canvas;\n        this.context = this.canvasElement.getContext('2d');\n        this.naturalWidth = canvas.offsetWidth;\n        this.naturalHeight = canvas.offsetHeight;\n        this.setPosition(0, 0);\n    }\n}\nexports.XStage = XStage;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIveC94LXN0YWdlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3gveC1zdGFnZS5qcz83YmI1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgeF9nYW1lX29iamVjdF8xID0gcmVxdWlyZShcIi4veC1nYW1lLW9iamVjdFwiKTtcbmNsYXNzIFhTdGFnZSBleHRlbmRzIHhfZ2FtZV9vYmplY3RfMS5YR2FtZU9iamVjdCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnID0geF9nYW1lX29iamVjdF8xLlhHYW1lT2JqZWN0RGVmYXVsdHMpIHtcbiAgICAgICAgc3VwZXIoY29uZmlnKTtcbiAgICAgICAgdGhpcy5zdGFnZSA9IHRydWU7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgfVxuICAgIGF0dGFjaFRvQ2FudmFzKGNhbnZhcykge1xuICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQgPSBjYW52YXM7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzRWxlbWVudC5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB0aGlzLm5hdHVyYWxXaWR0aCA9IGNhbnZhcy5vZmZzZXRXaWR0aDtcbiAgICAgICAgdGhpcy5uYXR1cmFsSGVpZ2h0ID0gY2FudmFzLm9mZnNldEhlaWdodDtcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbigwLCAwKTtcbiAgICB9XG59XG5leHBvcnRzLlhTdGFnZSA9IFhTdGFnZTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/x/x-stage.js\n");

/***/ }),

/***/ "./lib/x/x-text.js":
/*!*************************!*\
  !*** ./lib/x/x-text.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst func_1 = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\nconst x_game_object_1 = __webpack_require__(/*! ./x-game-object */ \"./lib/x/x-game-object.js\");\nconst x_offscreen_canvas_1 = __webpack_require__(/*! ./x-offscreen-canvas */ \"./lib/x/x-offscreen-canvas.js\");\nclass XText extends x_game_object_1.XGameObject {\n    constructor(config) {\n        super(config);\n        this.text = func_1.func.setDefault(config.text, 'Hello');\n        this.font = func_1.func.setDefault(config.font, '12px sans-serif');\n        this.textAlign = func_1.func.setDefault(config.textAlign, 'left');\n        this.fillStyle = func_1.func.setDefault(config.fillStyle, 'red');\n        this.textBaseline = func_1.func.setDefault(config.textBaseline, 'top');\n        this.offScreenCanvas = new x_offscreen_canvas_1.XOffScreenCanvas();\n    }\n    get width() {\n        let width = 0;\n        this.offScreenCanvas.context.font = this.font;\n        this.offScreenCanvas.context.textAlign = this.textAlign;\n        this.offScreenCanvas.context.textBaseline = this.textBaseline;\n        width = this.offScreenCanvas.context.measureText(this.text).width;\n        return width || 0;\n    }\n    get height() {\n        let height = 0;\n        this.offScreenCanvas.context.font = this.font;\n        this.offScreenCanvas.context.textAlign = this.textAlign;\n        this.offScreenCanvas.context.textBaseline = this.textBaseline;\n        let width = this.offScreenCanvas.context.measureText('w').width;\n        return width * 1.2;\n    }\n    setText(text) {\n        this.text = text;\n    }\n    render(ctx) {\n        ctx.fillStyle = this.fillStyle;\n        ctx.translate(this.naturalAnchorXOffset, this.naturalAnchorYOffset);\n        ctx.font = this.font;\n        ctx.textBaseline = this.textBaseline;\n        ctx.fillText(this.text, 0, 0);\n    }\n}\nexports.XText = XText;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIveC94LXRleHQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIveC94LXRleHQuanM/ZTliZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGZ1bmNfMSA9IHJlcXVpcmUoXCIuLi9mdW5jL2Z1bmNcIik7XG5jb25zdCB4X2dhbWVfb2JqZWN0XzEgPSByZXF1aXJlKFwiLi94LWdhbWUtb2JqZWN0XCIpO1xuY29uc3QgeF9vZmZzY3JlZW5fY2FudmFzXzEgPSByZXF1aXJlKFwiLi94LW9mZnNjcmVlbi1jYW52YXNcIik7XG5jbGFzcyBYVGV4dCBleHRlbmRzIHhfZ2FtZV9vYmplY3RfMS5YR2FtZU9iamVjdCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZyk7XG4gICAgICAgIHRoaXMudGV4dCA9IGZ1bmNfMS5mdW5jLnNldERlZmF1bHQoY29uZmlnLnRleHQsICdIZWxsbycpO1xuICAgICAgICB0aGlzLmZvbnQgPSBmdW5jXzEuZnVuYy5zZXREZWZhdWx0KGNvbmZpZy5mb250LCAnMTJweCBzYW5zLXNlcmlmJyk7XG4gICAgICAgIHRoaXMudGV4dEFsaWduID0gZnVuY18xLmZ1bmMuc2V0RGVmYXVsdChjb25maWcudGV4dEFsaWduLCAnbGVmdCcpO1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IGZ1bmNfMS5mdW5jLnNldERlZmF1bHQoY29uZmlnLmZpbGxTdHlsZSwgJ3JlZCcpO1xuICAgICAgICB0aGlzLnRleHRCYXNlbGluZSA9IGZ1bmNfMS5mdW5jLnNldERlZmF1bHQoY29uZmlnLnRleHRCYXNlbGluZSwgJ3RvcCcpO1xuICAgICAgICB0aGlzLm9mZlNjcmVlbkNhbnZhcyA9IG5ldyB4X29mZnNjcmVlbl9jYW52YXNfMS5YT2ZmU2NyZWVuQ2FudmFzKCk7XG4gICAgfVxuICAgIGdldCB3aWR0aCgpIHtcbiAgICAgICAgbGV0IHdpZHRoID0gMDtcbiAgICAgICAgdGhpcy5vZmZTY3JlZW5DYW52YXMuY29udGV4dC5mb250ID0gdGhpcy5mb250O1xuICAgICAgICB0aGlzLm9mZlNjcmVlbkNhbnZhcy5jb250ZXh0LnRleHRBbGlnbiA9IHRoaXMudGV4dEFsaWduO1xuICAgICAgICB0aGlzLm9mZlNjcmVlbkNhbnZhcy5jb250ZXh0LnRleHRCYXNlbGluZSA9IHRoaXMudGV4dEJhc2VsaW5lO1xuICAgICAgICB3aWR0aCA9IHRoaXMub2ZmU2NyZWVuQ2FudmFzLmNvbnRleHQubWVhc3VyZVRleHQodGhpcy50ZXh0KS53aWR0aDtcbiAgICAgICAgcmV0dXJuIHdpZHRoIHx8IDA7XG4gICAgfVxuICAgIGdldCBoZWlnaHQoKSB7XG4gICAgICAgIGxldCBoZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLm9mZlNjcmVlbkNhbnZhcy5jb250ZXh0LmZvbnQgPSB0aGlzLmZvbnQ7XG4gICAgICAgIHRoaXMub2ZmU2NyZWVuQ2FudmFzLmNvbnRleHQudGV4dEFsaWduID0gdGhpcy50ZXh0QWxpZ247XG4gICAgICAgIHRoaXMub2ZmU2NyZWVuQ2FudmFzLmNvbnRleHQudGV4dEJhc2VsaW5lID0gdGhpcy50ZXh0QmFzZWxpbmU7XG4gICAgICAgIGxldCB3aWR0aCA9IHRoaXMub2ZmU2NyZWVuQ2FudmFzLmNvbnRleHQubWVhc3VyZVRleHQoJ3cnKS53aWR0aDtcbiAgICAgICAgcmV0dXJuIHdpZHRoICogMS4yO1xuICAgIH1cbiAgICBzZXRUZXh0KHRleHQpIHtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB9XG4gICAgcmVuZGVyKGN0eCkge1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG4gICAgICAgIGN0eC50cmFuc2xhdGUodGhpcy5uYXR1cmFsQW5jaG9yWE9mZnNldCwgdGhpcy5uYXR1cmFsQW5jaG9yWU9mZnNldCk7XG4gICAgICAgIGN0eC5mb250ID0gdGhpcy5mb250O1xuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gdGhpcy50ZXh0QmFzZWxpbmU7XG4gICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLnRleHQsIDAsIDApO1xuICAgIH1cbn1cbmV4cG9ydHMuWFRleHQgPSBYVGV4dDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/x/x-text.js\n");

/***/ }),

/***/ "./lib/x/x-texture.js":
/*!****************************!*\
  !*** ./lib/x/x-texture.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass XTexture {\n    constructor(imageElement) {\n        this.imageElement = imageElement;\n        this.width = imageElement.width;\n        this.height = imageElement.height;\n    }\n}\nexports.XTexture = XTexture;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIveC94LXRleHR1cmUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIveC94LXRleHR1cmUuanM/NGM4YyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNsYXNzIFhUZXh0dXJlIHtcbiAgICBjb25zdHJ1Y3RvcihpbWFnZUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5pbWFnZUVsZW1lbnQgPSBpbWFnZUVsZW1lbnQ7XG4gICAgICAgIHRoaXMud2lkdGggPSBpbWFnZUVsZW1lbnQud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaW1hZ2VFbGVtZW50LmhlaWdodDtcbiAgICB9XG59XG5leHBvcnRzLlhUZXh0dXJlID0gWFRleHR1cmU7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/x/x-texture.js\n");

/***/ }),

/***/ "./lib/x/x.js":
/*!********************!*\
  !*** ./lib/x/x.js ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst func_1 = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\nconst raf_1 = __webpack_require__(/*! ../raf/raf */ \"./lib/raf/raf.js\");\nconst x_stage_1 = __webpack_require__(/*! ./x-stage */ \"./lib/x/x-stage.js\");\nconst x_pointer_1 = __webpack_require__(/*! ./x-pointer */ \"./lib/x/x-pointer.js\");\nconst x_text_1 = __webpack_require__(/*! ./x-text */ \"./lib/x/x-text.js\");\nconst dom_watcher_1 = __webpack_require__(/*! ../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nclass X {\n    constructor(config) {\n        this.canvasElement = config.canvasElement;\n        this.context = this.canvasElement.getContext('2d');\n        this.dpr = window.devicePixelRatio || 1;\n        this.canvasElement.width = 0;\n        this.canvasElement.height = 0;\n        this.width = 0;\n        this.height = 0;\n        this.resize();\n        this.watcher = new dom_watcher_1.DomWatcher();\n        this.watcher.add({\n            element: window,\n            on: 'resize',\n            callback: this.resize.bind(this)\n        });\n        this.debugMode =\n            func_1.func.setDefault(config.debugMode, false);\n        this.stage = new x_stage_1.XStage();\n        this.stage.attachToCanvas(this.canvasElement);\n        this.mouseCoordsTextDebugObject = new x_text_1.XText({\n            zIndex: 999999\n        });\n        this.mouseCoordsTextDebugObject.debugObject = true;\n        if (this.debugMode) {\n            window['X'] = this;\n            window['X_STAGE'] = this.stage;\n            this.stage.addChild(this.mouseCoordsTextDebugObject);\n        }\n        this.stageColor = null;\n        this.pointer = new x_pointer_1.XPointer(this.canvasElement);\n        this.raf = new raf_1.Raf(() => {\n            this.gameLoop();\n            if (this.debugMode && this.mouseCoordsTextDebugObject) {\n                this.mouseCoordsTextDebugObject.setPosition(this.pointer.x + 20, this.pointer.y + 20);\n                this.mouseCoordsTextDebugObject.setText(`x: ${this.pointer.x}, y: ${this.pointer.y}`);\n            }\n        });\n    }\n    setStageColor(color) {\n        this.stageColor = color;\n    }\n    resize() {\n        this.dpr = window.devicePixelRatio || 1;\n        this.canvasElement.width = this.canvasElement.offsetWidth * this.dpr;\n        this.canvasElement.height = this.canvasElement.offsetHeight * this.dpr;\n        this.width = this.canvasElement.offsetWidth * this.dpr;\n        this.height = this.canvasElement.offsetHeight * this.dpr;\n    }\n    getPointer() {\n        return this.pointer;\n    }\n    clear() {\n        this.context.clearRect(0, 0, this.width, this.height);\n    }\n    gameLoop() {\n        this.clear();\n        if (this.stageColor) {\n            this.context.fillStyle = this.stageColor;\n            this.context.fillRect(0, 0, this.width, this.height);\n        }\n        this.stage.children.forEach((gameObject) => {\n            gameObject.updatePositions();\n        });\n        this.stage.children.forEach((gameObject) => {\n            this.renderGameObject(gameObject);\n        });\n    }\n    renderGameObject(gameObject) {\n        const shouldRender = gameObject.visible &&\n            gameObject.gx < this.width + gameObject.width &&\n            gameObject.gx + gameObject.width >= -gameObject.width &&\n            gameObject.gy < this.height + gameObject.height &&\n            gameObject.gy + gameObject.height >= -gameObject.height;\n        if (!shouldRender) {\n            return;\n        }\n        let colliding = false;\n        if (gameObject.interactable) {\n            colliding = this.pointer.testCollidingWithGameObject(gameObject);\n            if (colliding && this.pointer.isMouseDown) {\n                gameObject.onMouseDown && gameObject.onMouseDown(gameObject);\n            }\n            if (colliding && !this.pointer.isMouseDown) {\n                gameObject.onMouseUp && gameObject.onMouseUp(gameObject);\n            }\n            if (colliding) {\n                gameObject.onMouseMove && gameObject.onMouseMove(gameObject);\n            }\n        }\n        this.context.save();\n        this.context.scale(this.dpr, this.dpr);\n        this.context.globalAlpha = gameObject.alpha;\n        this.context.translate(~~gameObject.anchorGx, ~~gameObject.anchorGy);\n        this.context.rotate(-gameObject.rotation);\n        this.context.scale(gameObject.scaleX, gameObject.scaleY);\n        gameObject.render(this.context);\n        if (this.debugMode && !gameObject.debugObject && colliding) {\n            gameObject.renderDebuggingOutlines(this.context);\n        }\n        this.context.restore();\n        gameObject.children.forEach((childGameObject) => {\n            this.renderGameObject(childGameObject);\n        });\n    }\n    onTick(callback) {\n        this.raf.watch(callback);\n    }\n    start() {\n        this.raf.start();\n    }\n}\nexports.X = X;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIveC94LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3gveC5qcz9jYTkxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZnVuY18xID0gcmVxdWlyZShcIi4uL2Z1bmMvZnVuY1wiKTtcbmNvbnN0IHJhZl8xID0gcmVxdWlyZShcIi4uL3JhZi9yYWZcIik7XG5jb25zdCB4X3N0YWdlXzEgPSByZXF1aXJlKFwiLi94LXN0YWdlXCIpO1xuY29uc3QgeF9wb2ludGVyXzEgPSByZXF1aXJlKFwiLi94LXBvaW50ZXJcIik7XG5jb25zdCB4X3RleHRfMSA9IHJlcXVpcmUoXCIuL3gtdGV4dFwiKTtcbmNvbnN0IGRvbV93YXRjaGVyXzEgPSByZXF1aXJlKFwiLi4vZG9tL2RvbS13YXRjaGVyXCIpO1xuY2xhc3MgWCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudCA9IGNvbmZpZy5jYW52YXNFbGVtZW50O1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhc0VsZW1lbnQuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdGhpcy5kcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQud2lkdGggPSAwO1xuICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQuaGVpZ2h0ID0gMDtcbiAgICAgICAgdGhpcy53aWR0aCA9IDA7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICAgICAgdGhpcy53YXRjaGVyID0gbmV3IGRvbV93YXRjaGVyXzEuRG9tV2F0Y2hlcigpO1xuICAgICAgICB0aGlzLndhdGNoZXIuYWRkKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgICAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLnJlc2l6ZS5iaW5kKHRoaXMpXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlYnVnTW9kZSA9XG4gICAgICAgICAgICBmdW5jXzEuZnVuYy5zZXREZWZhdWx0KGNvbmZpZy5kZWJ1Z01vZGUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5zdGFnZSA9IG5ldyB4X3N0YWdlXzEuWFN0YWdlKCk7XG4gICAgICAgIHRoaXMuc3RhZ2UuYXR0YWNoVG9DYW52YXModGhpcy5jYW52YXNFbGVtZW50KTtcbiAgICAgICAgdGhpcy5tb3VzZUNvb3Jkc1RleHREZWJ1Z09iamVjdCA9IG5ldyB4X3RleHRfMS5YVGV4dCh7XG4gICAgICAgICAgICB6SW5kZXg6IDk5OTk5OVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tb3VzZUNvb3Jkc1RleHREZWJ1Z09iamVjdC5kZWJ1Z09iamVjdCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmRlYnVnTW9kZSkge1xuICAgICAgICAgICAgd2luZG93WydYJ10gPSB0aGlzO1xuICAgICAgICAgICAgd2luZG93WydYX1NUQUdFJ10gPSB0aGlzLnN0YWdlO1xuICAgICAgICAgICAgdGhpcy5zdGFnZS5hZGRDaGlsZCh0aGlzLm1vdXNlQ29vcmRzVGV4dERlYnVnT2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YWdlQ29sb3IgPSBudWxsO1xuICAgICAgICB0aGlzLnBvaW50ZXIgPSBuZXcgeF9wb2ludGVyXzEuWFBvaW50ZXIodGhpcy5jYW52YXNFbGVtZW50KTtcbiAgICAgICAgdGhpcy5yYWYgPSBuZXcgcmFmXzEuUmFmKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZUxvb3AoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnTW9kZSAmJiB0aGlzLm1vdXNlQ29vcmRzVGV4dERlYnVnT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZUNvb3Jkc1RleHREZWJ1Z09iamVjdC5zZXRQb3NpdGlvbih0aGlzLnBvaW50ZXIueCArIDIwLCB0aGlzLnBvaW50ZXIueSArIDIwKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlQ29vcmRzVGV4dERlYnVnT2JqZWN0LnNldFRleHQoYHg6ICR7dGhpcy5wb2ludGVyLnh9LCB5OiAke3RoaXMucG9pbnRlci55fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2V0U3RhZ2VDb2xvcihjb2xvcikge1xuICAgICAgICB0aGlzLnN0YWdlQ29sb3IgPSBjb2xvcjtcbiAgICB9XG4gICAgcmVzaXplKCkge1xuICAgICAgICB0aGlzLmRwciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC53aWR0aCA9IHRoaXMuY2FudmFzRWxlbWVudC5vZmZzZXRXaWR0aCAqIHRoaXMuZHByO1xuICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQuaGVpZ2h0ID0gdGhpcy5jYW52YXNFbGVtZW50Lm9mZnNldEhlaWdodCAqIHRoaXMuZHByO1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5jYW52YXNFbGVtZW50Lm9mZnNldFdpZHRoICogdGhpcy5kcHI7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5jYW52YXNFbGVtZW50Lm9mZnNldEhlaWdodCAqIHRoaXMuZHByO1xuICAgIH1cbiAgICBnZXRQb2ludGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb2ludGVyO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfVxuICAgIGdhbWVMb29wKCkge1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIGlmICh0aGlzLnN0YWdlQ29sb3IpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLnN0YWdlQ29sb3I7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhZ2UuY2hpbGRyZW4uZm9yRWFjaCgoZ2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgZ2FtZU9iamVjdC51cGRhdGVQb3NpdGlvbnMoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RhZ2UuY2hpbGRyZW4uZm9yRWFjaCgoZ2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJHYW1lT2JqZWN0KGdhbWVPYmplY3QpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVuZGVyR2FtZU9iamVjdChnYW1lT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IHNob3VsZFJlbmRlciA9IGdhbWVPYmplY3QudmlzaWJsZSAmJlxuICAgICAgICAgICAgZ2FtZU9iamVjdC5neCA8IHRoaXMud2lkdGggKyBnYW1lT2JqZWN0LndpZHRoICYmXG4gICAgICAgICAgICBnYW1lT2JqZWN0Lmd4ICsgZ2FtZU9iamVjdC53aWR0aCA+PSAtZ2FtZU9iamVjdC53aWR0aCAmJlxuICAgICAgICAgICAgZ2FtZU9iamVjdC5neSA8IHRoaXMuaGVpZ2h0ICsgZ2FtZU9iamVjdC5oZWlnaHQgJiZcbiAgICAgICAgICAgIGdhbWVPYmplY3QuZ3kgKyBnYW1lT2JqZWN0LmhlaWdodCA+PSAtZ2FtZU9iamVjdC5oZWlnaHQ7XG4gICAgICAgIGlmICghc2hvdWxkUmVuZGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbGxpZGluZyA9IGZhbHNlO1xuICAgICAgICBpZiAoZ2FtZU9iamVjdC5pbnRlcmFjdGFibGUpIHtcbiAgICAgICAgICAgIGNvbGxpZGluZyA9IHRoaXMucG9pbnRlci50ZXN0Q29sbGlkaW5nV2l0aEdhbWVPYmplY3QoZ2FtZU9iamVjdCk7XG4gICAgICAgICAgICBpZiAoY29sbGlkaW5nICYmIHRoaXMucG9pbnRlci5pc01vdXNlRG93bikge1xuICAgICAgICAgICAgICAgIGdhbWVPYmplY3Qub25Nb3VzZURvd24gJiYgZ2FtZU9iamVjdC5vbk1vdXNlRG93bihnYW1lT2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb2xsaWRpbmcgJiYgIXRoaXMucG9pbnRlci5pc01vdXNlRG93bikge1xuICAgICAgICAgICAgICAgIGdhbWVPYmplY3Qub25Nb3VzZVVwICYmIGdhbWVPYmplY3Qub25Nb3VzZVVwKGdhbWVPYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbGxpZGluZykge1xuICAgICAgICAgICAgICAgIGdhbWVPYmplY3Qub25Nb3VzZU1vdmUgJiYgZ2FtZU9iamVjdC5vbk1vdXNlTW92ZShnYW1lT2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRleHQuc2F2ZSgpO1xuICAgICAgICB0aGlzLmNvbnRleHQuc2NhbGUodGhpcy5kcHIsIHRoaXMuZHByKTtcbiAgICAgICAgdGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhID0gZ2FtZU9iamVjdC5hbHBoYTtcbiAgICAgICAgdGhpcy5jb250ZXh0LnRyYW5zbGF0ZSh+fmdhbWVPYmplY3QuYW5jaG9yR3gsIH5+Z2FtZU9iamVjdC5hbmNob3JHeSk7XG4gICAgICAgIHRoaXMuY29udGV4dC5yb3RhdGUoLWdhbWVPYmplY3Qucm90YXRpb24pO1xuICAgICAgICB0aGlzLmNvbnRleHQuc2NhbGUoZ2FtZU9iamVjdC5zY2FsZVgsIGdhbWVPYmplY3Quc2NhbGVZKTtcbiAgICAgICAgZ2FtZU9iamVjdC5yZW5kZXIodGhpcy5jb250ZXh0KTtcbiAgICAgICAgaWYgKHRoaXMuZGVidWdNb2RlICYmICFnYW1lT2JqZWN0LmRlYnVnT2JqZWN0ICYmIGNvbGxpZGluZykge1xuICAgICAgICAgICAgZ2FtZU9iamVjdC5yZW5kZXJEZWJ1Z2dpbmdPdXRsaW5lcyh0aGlzLmNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIGdhbWVPYmplY3QuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGRHYW1lT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckdhbWVPYmplY3QoY2hpbGRHYW1lT2JqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uVGljayhjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnJhZi53YXRjaChjYWxsYmFjayk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnJhZi5zdGFydCgpO1xuICAgIH1cbn1cbmV4cG9ydHMuWCA9IFg7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/x/x.js\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js?sourceMap=true!./node_modules/sass-loader/lib/loader.js!./examples/styles/index.sass":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js?sourceMap=true!./node_modules/sass-loader/lib/loader.js!./examples/styles/index.sass ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.i, \"body {\\n  background-color: white;\\n  padding: 20px; }\\n\\n.easer {\\n  width: 100%;\\n  position: relative;\\n  margin: 20px; }\\n\\n.easer__ball {\\n  width: 50px;\\n  height: 50px;\\n  background-color: green;\\n  border-radius: 50%; }\\n\", \"\",{\"version\":3,\"sources\":[\"index.sass\"],\"names\":[],\"mappings\":\"AAAA;EACE,uBAAuB;EACvB,aAAa,EAAE;;AAEjB;EACE,WAAW;EACX,kBAAkB;EAClB,YAAY,EAAE;;AAEhB;EACE,WAAW;EACX,YAAY;EACZ,uBAAuB;EACvB,kBAAkB,EAAE\",\"file\":\"index.sass\",\"sourcesContent\":[\"body {\\n  background-color: white;\\n  padding: 20px; }\\n\\n.easer {\\n  width: 100%;\\n  position: relative;\\n  margin: 20px; }\\n\\n.easer__ball {\\n  width: 50px;\\n  height: 50px;\\n  background-color: green;\\n  border-radius: 50%; }\\n\"]}]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz9zb3VyY2VNYXA9dHJ1ZSEuL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vZXhhbXBsZXMvc3R5bGVzL2luZGV4LnNhc3MuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9zdHlsZXMvaW5kZXguc2Fzcz84MmZlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKHRydWUpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJib2R5IHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgcGFkZGluZzogMjBweDsgfVxcblxcbi5lYXNlciB7XFxuICB3aWR0aDogMTAwJTtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIG1hcmdpbjogMjBweDsgfVxcblxcbi5lYXNlcl9fYmFsbCB7XFxuICB3aWR0aDogNTBweDtcXG4gIGhlaWdodDogNTBweDtcXG4gIGJhY2tncm91bmQtY29sb3I6IGdyZWVuO1xcbiAgYm9yZGVyLXJhZGl1czogNTAlOyB9XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wiaW5kZXguc2Fzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtFQUNFLHVCQUF1QjtFQUN2QixhQUFhLEVBQUU7O0FBRWpCO0VBQ0UsV0FBVztFQUNYLGtCQUFrQjtFQUNsQixZQUFZLEVBQUU7O0FBRWhCO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWix1QkFBdUI7RUFDdkIsa0JBQWtCLEVBQUVcIixcImZpbGVcIjpcImluZGV4LnNhc3NcIixcInNvdXJjZXNDb250ZW50XCI6W1wiYm9keSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gIHBhZGRpbmc6IDIwcHg7IH1cXG5cXG4uZWFzZXIge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBtYXJnaW46IDIwcHg7IH1cXG5cXG4uZWFzZXJfX2JhbGwge1xcbiAgd2lkdGg6IDUwcHg7XFxuICBoZWlnaHQ6IDUwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjtcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTsgfVxcblwiXX1dKTtcblxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js?sourceMap=true!./node_modules/sass-loader/lib/loader.js!./examples/styles/index.sass\n");

/***/ })

/******/ });
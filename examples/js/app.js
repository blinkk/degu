/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"app": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push(["./examples/scripts/index.js",0]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./examples/at-class.js":
/*!******************************!*\
  !*** ./examples/at-class.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AtClassSample; });\n/* harmony import */ var _lib_dom_at_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/dom/at-class */ \"./lib/dom/at-class.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar AtClassSample = function AtClassSample() {\n  _classCallCheck(this, AtClassSample);\n\n  var root = document.getElementById('root');\n  var atClass = new _lib_dom_at_class__WEBPACK_IMPORTED_MODULE_0__[\"AtClass\"]({\n    element: root,\n    conditions: [['desktop', function () {\n      return window.innerWidth > 1000;\n    }], ['tablet', function () {\n      return window.innerWidth < 1000 && window.innerWidth > 780;\n    }], ['mobile', function () {\n      return window.innerWidth < 780;\n    }]],\n    watchResize: true\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9hdC1jbGFzcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2F0LWNsYXNzLmpzPzEyZWQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuaW1wb3J0IHsgQXRDbGFzcyB9IGZyb20gJy4uL2xpYi9kb20vYXQtY2xhc3MnO1xuXG52YXIgQXRDbGFzc1NhbXBsZSA9IGZ1bmN0aW9uIEF0Q2xhc3NTYW1wbGUoKSB7XG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdENsYXNzU2FtcGxlKTtcblxuICB2YXIgcm9vdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290Jyk7XG4gIHZhciBhdENsYXNzID0gbmV3IEF0Q2xhc3Moe1xuICAgIGVsZW1lbnQ6IHJvb3QsXG4gICAgY29uZGl0aW9uczogW1snZGVza3RvcCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCA+IDEwMDA7XG4gICAgfV0sIFsndGFibGV0JywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoIDwgMTAwMCAmJiB3aW5kb3cuaW5uZXJXaWR0aCA+IDc4MDtcbiAgICB9XSwgWydtb2JpbGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGggPCA3ODA7XG4gICAgfV1dLFxuICAgIHdhdGNoUmVzaXplOiB0cnVlXG4gIH0pO1xufTtcblxuZXhwb3J0IHsgQXRDbGFzc1NhbXBsZSBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/at-class.js\n");

/***/ }),

/***/ "./examples/at-tabindex.js":
/*!*********************************!*\
  !*** ./examples/at-tabindex.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AtTabIndexSample; });\n/* harmony import */ var _lib_dom_at_tabindex__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/dom/at-tabindex */ \"./lib/dom/at-tabindex.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar AtTabIndexSample = function AtTabIndexSample() {\n  _classCallCheck(this, AtTabIndexSample);\n\n  var root = document.getElementById('root');\n  var atClass = new _lib_dom_at_tabindex__WEBPACK_IMPORTED_MODULE_0__[\"AtTabIndex\"]({\n    element: root,\n    conditions: [['desktop', function () {\n      return window.innerWidth > 1000;\n    }], ['tablet', function () {\n      return window.innerWidth < 1000 && window.innerWidth > 780;\n    }], ['mobile', function () {\n      return window.innerWidth < 780;\n    }]],\n    watchResize: true,\n    updateChildren: true\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9hdC10YWJpbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2F0LXRhYmluZGV4LmpzP2M0OWQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuaW1wb3J0IHsgQXRUYWJJbmRleCB9IGZyb20gJy4uL2xpYi9kb20vYXQtdGFiaW5kZXgnO1xuXG52YXIgQXRUYWJJbmRleFNhbXBsZSA9IGZ1bmN0aW9uIEF0VGFiSW5kZXhTYW1wbGUoKSB7XG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdFRhYkluZGV4U2FtcGxlKTtcblxuICB2YXIgcm9vdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290Jyk7XG4gIHZhciBhdENsYXNzID0gbmV3IEF0VGFiSW5kZXgoe1xuICAgIGVsZW1lbnQ6IHJvb3QsXG4gICAgY29uZGl0aW9uczogW1snZGVza3RvcCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCA+IDEwMDA7XG4gICAgfV0sIFsndGFibGV0JywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoIDwgMTAwMCAmJiB3aW5kb3cuaW5uZXJXaWR0aCA+IDc4MDtcbiAgICB9XSwgWydtb2JpbGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGggPCA3ODA7XG4gICAgfV1dLFxuICAgIHdhdGNoUmVzaXplOiB0cnVlLFxuICAgIHVwZGF0ZUNoaWxkcmVuOiB0cnVlXG4gIH0pO1xufTtcblxuZXhwb3J0IHsgQXRUYWJJbmRleFNhbXBsZSBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/at-tabindex.js\n");

/***/ }),

/***/ "./examples/bezier-curve.js":
/*!**********************************!*\
  !*** ./examples/bezier-curve.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BezierCurveSample; });\n/* harmony import */ var _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/dom/dom-canvas */ \"./lib/dom/dom-canvas.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _lib_mathf_hermite_curve__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/mathf/hermite-curve */ \"./lib/mathf/hermite-curve.js\");\n/* harmony import */ var _lib_mathf_cubic_bezier__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/mathf/cubic-bezier */ \"./lib/mathf/cubic-bezier.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n/**\n * Demonstrates basic usage of BezierCurve\n */\n\nvar BezierCurveSample = function BezierCurveSample() {\n  _classCallCheck(this, BezierCurveSample);\n\n  console.log('Bezier Curve Sample');\n  this.canvas = document.getElementById('canvas');\n  this.canvas.width = this.canvas.offsetWidth;\n  this.canvas.height = this.canvas.offsetHeight;\n  this.context = this.canvas.getContext('2d'); // Control points, since the CubicBezier class.\n\n  var c1 = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](50, 400);\n  var c2 = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](100, 200);\n  var c3 = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](300, 300);\n  var c4 = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](400, 400); // Set the number of points we want to draw.\n\n  var drawPoints = 500; // The amount of progress to per dot.\n\n  var progressSpan = 1 / drawPoints;\n\n  for (var step = 0; step < drawPoints; step++) {\n    // Draw a dot along the curve.  The progress value goes from 0-1.\n    var progress = step * progressSpan;\n    _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'orange');\n    _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'orange');\n    var vector = _lib_mathf_cubic_bezier__WEBPACK_IMPORTED_MODULE_3__[\"CubicBezier\"].getPoint(progress, c1, c2, c3, c4);\n    _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, vector, 2);\n  } // Now draw out a large dot for each point.\n\n\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'red');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'red');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, c1);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].quickText(this.context, 'c1', c1.x, c1.y - 4);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'blue');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'blue');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].quickText(this.context, 'c2', c2.x, c2.y - 4);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, c2);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'green');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'green');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].quickText(this.context, 'c3', c3.x, c3.y - 4);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, c3);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'purple');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'purple');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].quickText(this.context, 'c4', c4.x, c4.y - 4);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, c4);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9iZXppZXItY3VydmUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9iZXppZXItY3VydmUuanM/M2YwMSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5pbXBvcnQgeyBkb21DYW52YXMgfSBmcm9tICcuLi9saWIvZG9tL2RvbS1jYW52YXMnO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vbGliL21hdGhmL3ZlY3Rvcic7XG5pbXBvcnQgeyBIZXJtaXRlQ3VydmUgfSBmcm9tICcuLi9saWIvbWF0aGYvaGVybWl0ZS1jdXJ2ZSc7XG5pbXBvcnQgeyBDdWJpY0JlemllciB9IGZyb20gJy4uL2xpYi9tYXRoZi9jdWJpYy1iZXppZXInO1xuLyoqXG4gKiBEZW1vbnN0cmF0ZXMgYmFzaWMgdXNhZ2Ugb2YgQmV6aWVyQ3VydmVcbiAqL1xuXG52YXIgQmV6aWVyQ3VydmVTYW1wbGUgPSBmdW5jdGlvbiBCZXppZXJDdXJ2ZVNhbXBsZSgpIHtcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJlemllckN1cnZlU2FtcGxlKTtcblxuICBjb25zb2xlLmxvZygnQmV6aWVyIEN1cnZlIFNhbXBsZScpO1xuICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcbiAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5vZmZzZXRXaWR0aDtcbiAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMub2Zmc2V0SGVpZ2h0O1xuICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOyAvLyBDb250cm9sIHBvaW50cywgc2luY2UgdGhlIEN1YmljQmV6aWVyIGNsYXNzLlxuXG4gIHZhciBjMSA9IG5ldyBWZWN0b3IoNTAsIDQwMCk7XG4gIHZhciBjMiA9IG5ldyBWZWN0b3IoMTAwLCAyMDApO1xuICB2YXIgYzMgPSBuZXcgVmVjdG9yKDMwMCwgMzAwKTtcbiAgdmFyIGM0ID0gbmV3IFZlY3Rvcig0MDAsIDQwMCk7IC8vIFNldCB0aGUgbnVtYmVyIG9mIHBvaW50cyB3ZSB3YW50IHRvIGRyYXcuXG5cbiAgdmFyIGRyYXdQb2ludHMgPSA1MDA7IC8vIFRoZSBhbW91bnQgb2YgcHJvZ3Jlc3MgdG8gcGVyIGRvdC5cblxuICB2YXIgcHJvZ3Jlc3NTcGFuID0gMSAvIGRyYXdQb2ludHM7XG5cbiAgZm9yICh2YXIgc3RlcCA9IDA7IHN0ZXAgPCBkcmF3UG9pbnRzOyBzdGVwKyspIHtcbiAgICAvLyBEcmF3IGEgZG90IGFsb25nIHRoZSBjdXJ2ZS4gIFRoZSBwcm9ncmVzcyB2YWx1ZSBnb2VzIGZyb20gMC0xLlxuICAgIHZhciBwcm9ncmVzcyA9IHN0ZXAgKiBwcm9ncmVzc1NwYW47XG4gICAgZG9tQ2FudmFzLnNldEZpbGxDb2xvcih0aGlzLmNvbnRleHQsICdvcmFuZ2UnKTtcbiAgICBkb21DYW52YXMuc2V0U3Ryb2tlQ29sb3IodGhpcy5jb250ZXh0LCAnb3JhbmdlJyk7XG4gICAgdmFyIHZlY3RvciA9IEN1YmljQmV6aWVyLmdldFBvaW50KHByb2dyZXNzLCBjMSwgYzIsIGMzLCBjNCk7XG4gICAgZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgdmVjdG9yLCAyKTtcbiAgfSAvLyBOb3cgZHJhdyBvdXQgYSBsYXJnZSBkb3QgZm9yIGVhY2ggcG9pbnQuXG5cblxuICBkb21DYW52YXMuc2V0RmlsbENvbG9yKHRoaXMuY29udGV4dCwgJ3JlZCcpO1xuICBkb21DYW52YXMuc2V0U3Ryb2tlQ29sb3IodGhpcy5jb250ZXh0LCAncmVkJyk7XG4gIGRvbUNhbnZhcy52ZWN0b3JQb2ludCh0aGlzLmNvbnRleHQsIGMxKTtcbiAgZG9tQ2FudmFzLnF1aWNrVGV4dCh0aGlzLmNvbnRleHQsICdjMScsIGMxLngsIGMxLnkgLSA0KTtcbiAgZG9tQ2FudmFzLnNldEZpbGxDb2xvcih0aGlzLmNvbnRleHQsICdibHVlJyk7XG4gIGRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdibHVlJyk7XG4gIGRvbUNhbnZhcy5xdWlja1RleHQodGhpcy5jb250ZXh0LCAnYzInLCBjMi54LCBjMi55IC0gNCk7XG4gIGRvbUNhbnZhcy52ZWN0b3JQb2ludCh0aGlzLmNvbnRleHQsIGMyKTtcbiAgZG9tQ2FudmFzLnNldEZpbGxDb2xvcih0aGlzLmNvbnRleHQsICdncmVlbicpO1xuICBkb21DYW52YXMuc2V0U3Ryb2tlQ29sb3IodGhpcy5jb250ZXh0LCAnZ3JlZW4nKTtcbiAgZG9tQ2FudmFzLnF1aWNrVGV4dCh0aGlzLmNvbnRleHQsICdjMycsIGMzLngsIGMzLnkgLSA0KTtcbiAgZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgYzMpO1xuICBkb21DYW52YXMuc2V0RmlsbENvbG9yKHRoaXMuY29udGV4dCwgJ3B1cnBsZScpO1xuICBkb21DYW52YXMuc2V0U3Ryb2tlQ29sb3IodGhpcy5jb250ZXh0LCAncHVycGxlJyk7XG4gIGRvbUNhbnZhcy5xdWlja1RleHQodGhpcy5jb250ZXh0LCAnYzQnLCBjNC54LCBjNC55IC0gNCk7XG4gIGRvbUNhbnZhcy52ZWN0b3JQb2ludCh0aGlzLmNvbnRleHQsIGM0KTtcbn07XG5cbmV4cG9ydCB7IEJlemllckN1cnZlU2FtcGxlIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/bezier-curve.js\n");

/***/ }),

/***/ "./examples/canvas-image-sequence.js":
/*!*******************************************!*\
  !*** ./examples/canvas-image-sequence.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CanvasImageSequenceSample; });\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_canvas_image_sequence__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/canvas-image-sequence */ \"./lib/dom/canvas-image-sequence.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n/**\n * This sample show the most basic uses of CanvasImageSequence which is\n * updated by the scroll position of a position sticky based container.\n */\n\nvar CanvasImageSequenceSample = /*#__PURE__*/function () {\n  function CanvasImageSequenceSample() {\n    var _this = this;\n\n    _classCallCheck(this, CanvasImageSequenceSample);\n\n    console.log('canvas image sequence');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__[\"DomWatcher\"]();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__[\"RafProgress\"](); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(_this.parentElement);\n\n        _this.rafProgress.easeTo(_this.progress, 0.25, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.canvasImageSources = [];\n\n    for (var i = 1; i <= 153; i++) {\n      var value = i + '';\n      value = value.padStart(4, '0');\n      this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.canvasImageSequence = new _lib_dom_canvas_image_sequence__WEBPACK_IMPORTED_MODULE_1__[\"CanvasImageSequence\"](this.canvasContainerElement, [{\n      images: this.canvasImageSources\n    }], {\n      ariaLabel: 'Aria label test'\n    }); // this.canvasImageSequence.lerpAmount = 0.02;\n    // Load the iamges.\n\n    this.canvasImageSequence.load().then(function () {\n      // When ready render whatever the current easedProgress value is.\n      _this.canvasImageSequence.renderByProgress(_this.rafProgress.currentProgress);\n    });\n  }\n\n  _createClass(CanvasImageSequenceSample, [{\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(easedProgress, direction) {\n      this.canvasImageSequence.renderByProgress(easedProgress);\n    }\n  }]);\n\n  return CanvasImageSequenceSample;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2UuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2UuanM/M2NmYSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCB7IFJhZlByb2dyZXNzLCBSQUZfUFJPR1JFU1NfRVZFTlRTIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3MnO1xuaW1wb3J0IHsgQ2FudmFzSW1hZ2VTZXF1ZW5jZSB9IGZyb20gJy4uL2xpYi9kb20vY2FudmFzLWltYWdlLXNlcXVlbmNlJztcbmltcG9ydCB7IEVBU0UgfSBmcm9tICcuLi9saWIvZWFzZS9lYXNlJztcbmltcG9ydCB7IGRvbSB9IGZyb20gJy4uL2xpYi9kb20vZG9tJztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9saWIvZG9tL2RvbS13YXRjaGVyJztcbi8qKlxuICogVGhpcyBzYW1wbGUgc2hvdyB0aGUgbW9zdCBiYXNpYyB1c2VzIG9mIENhbnZhc0ltYWdlU2VxdWVuY2Ugd2hpY2ggaXNcbiAqIHVwZGF0ZWQgYnkgdGhlIHNjcm9sbCBwb3NpdGlvbiBvZiBhIHBvc2l0aW9uIHN0aWNreSBiYXNlZCBjb250YWluZXIuXG4gKi9cblxudmFyIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZSk7XG5cbiAgICBjb25zb2xlLmxvZygnY2FudmFzIGltYWdlIHNlcXVlbmNlJyk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FudmFzLWNvbnRhaW5lcicpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTsgLy8gSW5zdGFuY2Ugb2YgcmFmUHJvZ3Jlc3MuXG5cbiAgICB0aGlzLnJhZlByb2dyZXNzID0gbmV3IFJhZlByb2dyZXNzKCk7IC8vIFVwZGF0ZSB0aGUgcHJvZ3Jlc3MgdmFsdWUgcGVyIHNjcm9sbC5cblxuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKGV2ZW50KSB7XG4gICAgICAgIF90aGlzLnByb2dyZXNzID0gZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQoX3RoaXMucGFyZW50RWxlbWVudCk7XG5cbiAgICAgICAgX3RoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKF90aGlzLnByb2dyZXNzLCAwLjI1LCBFQVNFLkxpbmVhcik7XG4gICAgICB9LFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTsgLy8gVXBkYXRlIHByb2dyZXNzIGltbWVkaWF0ZWx5IG9uIGxvYWQuXG5cbiAgICB0aGlzLnByb2dyZXNzID0gZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAxLCBFQVNFLkxpbmVhcik7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy53YXRjaCh0aGlzLm9uUHJvZ3Jlc3NVcGRhdGUuYmluZCh0aGlzKSk7IC8vIEdlbmVyYXRlIGltYWdlIHNvdXJjZXMuXG5cbiAgICB0aGlzLmNhbnZhc0ltYWdlU291cmNlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gMTUzOyBpKyspIHtcbiAgICAgIHZhciB2YWx1ZSA9IGkgKyAnJztcbiAgICAgIHZhbHVlID0gdmFsdWUucGFkU3RhcnQoNCwgJzAnKTtcbiAgICAgIHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzLnB1c2goJy4vcHVibGljL2ZyYW1lcy90aHVtYicgKyB2YWx1ZSArICcuanBnJyk7XG4gICAgfSAvLyBDcmVhdGUgQ2FudmFzIEltYWdlIFNlcXVlbmVjZVxuXG5cbiAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UgPSBuZXcgQ2FudmFzSW1hZ2VTZXF1ZW5jZSh0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQsIFt7XG4gICAgICBpbWFnZXM6IHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzXG4gICAgfV0sIHtcbiAgICAgIGFyaWFMYWJlbDogJ0FyaWEgbGFiZWwgdGVzdCdcbiAgICB9KTsgLy8gdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLmxlcnBBbW91bnQgPSAwLjAyO1xuICAgIC8vIExvYWQgdGhlIGlhbWdlcy5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5sb2FkKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBXaGVuIHJlYWR5IHJlbmRlciB3aGF0ZXZlciB0aGUgY3VycmVudCBlYXNlZFByb2dyZXNzIHZhbHVlIGlzLlxuICAgICAgX3RoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKF90aGlzLnJhZlByb2dyZXNzLmN1cnJlbnRQcm9ncmVzcyk7XG4gICAgfSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZSwgW3tcbiAgICBrZXk6IFwib25Qcm9ncmVzc1VwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblByb2dyZXNzVXBkYXRlKGVhc2VkUHJvZ3Jlc3MsIGRpcmVjdGlvbikge1xuICAgICAgdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoZWFzZWRQcm9ncmVzcyk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU7XG59KCk7XG5cbmV4cG9ydCB7IENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGUgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/canvas-image-sequence.js\n");

/***/ }),

/***/ "./examples/canvas-image-sequence10.js":
/*!*********************************************!*\
  !*** ./examples/canvas-image-sequence10.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CanvasImageSequenceSample10; });\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_canvas_image_sequence__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/canvas-image-sequence */ \"./lib/dom/canvas-image-sequence.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n/**\n * This sample show loading multiple image sets\n */\n\nvar CanvasImageSequenceSample10 = /*#__PURE__*/function () {\n  function CanvasImageSequenceSample10() {\n    var _this = this;\n\n    _classCallCheck(this, CanvasImageSequenceSample10);\n\n    console.log('canvas image sequence 10');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__[\"DomWatcher\"]();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__[\"RafProgress\"](); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(_this.parentElement);\n\n        _this.rafProgress.easeTo(_this.progress, 0.25, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.canvasImageSources = [];\n\n    for (var i = 1; i <= 153; i++) {\n      var value = i + '';\n      value = value.padStart(4, '0');\n      this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n    } // Generate a second \"mobile\" image sources.\n\n\n    this.mobileImageSources = [];\n\n    for (var _i = 1; _i <= 120; _i++) {\n      var _value = _i + '';\n\n      _value = _value.padStart(4, '0');\n      this.mobileImageSources.push('./public/frames2/thumb' + _value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.canvasImageSequence = new _lib_dom_canvas_image_sequence__WEBPACK_IMPORTED_MODULE_1__[\"CanvasImageSequence\"](this.canvasContainerElement, [{\n      images: this.canvasImageSources,\n      when: function when() {\n        return window.innerWidth >= 768;\n      }\n    }, {\n      images: this.mobileImageSources,\n      when: function when() {\n        return window.innerWidth < 768;\n      }\n    }]); // this.canvasImageSequence.lerpAmount = 0.02;\n    // Load the iamges.\n\n    this.canvasImageSequence.load().then(function () {\n      // When ready render whatever the current easedProgress value is.\n      _this.canvasImageSequence.renderByProgress(_this.rafProgress.currentProgress);\n    });\n  }\n\n  _createClass(CanvasImageSequenceSample10, [{\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(easedProgress, direction) {\n      this.canvasImageSequence.renderByProgress(easedProgress); // On each update event, we are going to acquire the pixel\n      // colors at coordinate x,y.\n\n      var hexColor = this.canvasImageSequence.getHexColorAtPoint(new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_5__[\"Vector\"](500, 500));\n      console.log(hexColor); // Now we set the background to that color.\n\n      this.parentElement.style.backgroundColor = hexColor;\n    }\n  }]);\n\n  return CanvasImageSequenceSample10;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2UxMC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZTEwLmpzPzJjM2MiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5pbXBvcnQgeyBSYWZQcm9ncmVzcywgUkFGX1BST0dSRVNTX0VWRU5UUyB9IGZyb20gJy4uL2xpYi9yYWYvcmFmLXByb2dyZXNzJztcbmltcG9ydCB7IENhbnZhc0ltYWdlU2VxdWVuY2UgfSBmcm9tICcuLi9saWIvZG9tL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZSc7XG5pbXBvcnQgeyBFQVNFIH0gZnJvbSAnLi4vbGliL2Vhc2UvZWFzZSc7XG5pbXBvcnQgeyBkb20gfSBmcm9tICcuLi9saWIvZG9tL2RvbSc7XG5pbXBvcnQgeyBEb21XYXRjaGVyIH0gZnJvbSAnLi4vbGliL2RvbS9kb20td2F0Y2hlcic7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuLi9saWIvbWF0aGYvdmVjdG9yJztcbi8qKlxuICogVGhpcyBzYW1wbGUgc2hvdyBsb2FkaW5nIG11bHRpcGxlIGltYWdlIHNldHNcbiAqL1xuXG52YXIgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTEwID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTEwKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTEwKTtcblxuICAgIGNvbnNvbGUubG9nKCdjYW52YXMgaW1hZ2Ugc2VxdWVuY2UgMTAnKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMtY29udGFpbmVyJyk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpOyAvLyBJbnN0YW5jZSBvZiByYWZQcm9ncmVzcy5cblxuICAgIHRoaXMucmFmUHJvZ3Jlc3MgPSBuZXcgUmFmUHJvZ3Jlc3MoKTsgLy8gVXBkYXRlIHRoZSBwcm9ncmVzcyB2YWx1ZSBwZXIgc2Nyb2xsLlxuXG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Njcm9sbCcsXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soZXZlbnQpIHtcbiAgICAgICAgX3RoaXMucHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudChfdGhpcy5wYXJlbnRFbGVtZW50KTtcblxuICAgICAgICBfdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8oX3RoaXMucHJvZ3Jlc3MsIDAuMjUsIEVBU0UuTGluZWFyKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pOyAvLyBVcGRhdGUgcHJvZ3Jlc3MgaW1tZWRpYXRlbHkgb24gbG9hZC5cblxuICAgIHRoaXMucHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDEsIEVBU0UuTGluZWFyKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTsgLy8gR2VuZXJhdGUgaW1hZ2Ugc291cmNlcy5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSAxNTM7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gaSArICcnO1xuICAgICAgdmFsdWUgPSB2YWx1ZS5wYWRTdGFydCg0LCAnMCcpO1xuICAgICAgdGhpcy5jYW52YXNJbWFnZVNvdXJjZXMucHVzaCgnLi9wdWJsaWMvZnJhbWVzL3RodW1iJyArIHZhbHVlICsgJy5qcGcnKTtcbiAgICB9IC8vIEdlbmVyYXRlIGEgc2Vjb25kIFwibW9iaWxlXCIgaW1hZ2Ugc291cmNlcy5cblxuXG4gICAgdGhpcy5tb2JpbGVJbWFnZVNvdXJjZXMgPSBbXTtcblxuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPD0gMTIwOyBfaSsrKSB7XG4gICAgICB2YXIgX3ZhbHVlID0gX2kgKyAnJztcblxuICAgICAgX3ZhbHVlID0gX3ZhbHVlLnBhZFN0YXJ0KDQsICcwJyk7XG4gICAgICB0aGlzLm1vYmlsZUltYWdlU291cmNlcy5wdXNoKCcuL3B1YmxpYy9mcmFtZXMyL3RodW1iJyArIF92YWx1ZSArICcuanBnJyk7XG4gICAgfSAvLyBDcmVhdGUgQ2FudmFzIEltYWdlIFNlcXVlbmVjZVxuXG5cbiAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UgPSBuZXcgQ2FudmFzSW1hZ2VTZXF1ZW5jZSh0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQsIFt7XG4gICAgICBpbWFnZXM6IHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzLFxuICAgICAgd2hlbjogZnVuY3Rpb24gd2hlbigpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoID49IDc2ODtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBpbWFnZXM6IHRoaXMubW9iaWxlSW1hZ2VTb3VyY2VzLFxuICAgICAgd2hlbjogZnVuY3Rpb24gd2hlbigpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoIDwgNzY4O1xuICAgICAgfVxuICAgIH1dKTsgLy8gdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLmxlcnBBbW91bnQgPSAwLjAyO1xuICAgIC8vIExvYWQgdGhlIGlhbWdlcy5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5sb2FkKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBXaGVuIHJlYWR5IHJlbmRlciB3aGF0ZXZlciB0aGUgY3VycmVudCBlYXNlZFByb2dyZXNzIHZhbHVlIGlzLlxuICAgICAgX3RoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKF90aGlzLnJhZlByb2dyZXNzLmN1cnJlbnRQcm9ncmVzcyk7XG4gICAgfSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTEwLCBbe1xuICAgIGtleTogXCJvblByb2dyZXNzVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUHJvZ3Jlc3NVcGRhdGUoZWFzZWRQcm9ncmVzcywgZGlyZWN0aW9uKSB7XG4gICAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcyhlYXNlZFByb2dyZXNzKTsgLy8gT24gZWFjaCB1cGRhdGUgZXZlbnQsIHdlIGFyZSBnb2luZyB0byBhY3F1aXJlIHRoZSBwaXhlbFxuICAgICAgLy8gY29sb3JzIGF0IGNvb3JkaW5hdGUgeCx5LlxuXG4gICAgICB2YXIgaGV4Q29sb3IgPSB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UuZ2V0SGV4Q29sb3JBdFBvaW50KG5ldyBWZWN0b3IoNTAwLCA1MDApKTtcbiAgICAgIGNvbnNvbGUubG9nKGhleENvbG9yKTsgLy8gTm93IHdlIHNldCB0aGUgYmFja2dyb3VuZCB0byB0aGF0IGNvbG9yLlxuXG4gICAgICB0aGlzLnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gaGV4Q29sb3I7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGUxMDtcbn0oKTtcblxuZXhwb3J0IHsgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTEwIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/canvas-image-sequence10.js\n");

/***/ }),

/***/ "./examples/canvas-image-sequence2.js":
/*!********************************************!*\
  !*** ./examples/canvas-image-sequence2.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CanvasImageSequenceSample2; });\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_canvas_image_sequence__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/canvas-image-sequence */ \"./lib/dom/canvas-image-sequence.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n/**\n * This sample expands on canvas image sequence sample 1 and demonstrates\n * usage of multiinterpolate.\n */\n\nvar CanvasImageSequenceSample2 = /*#__PURE__*/function () {\n  function CanvasImageSequenceSample2() {\n    var _this = this;\n\n    _classCallCheck(this, CanvasImageSequenceSample2);\n\n    console.log('canvas image sequence2');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__[\"DomWatcher\"]();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__[\"RafProgress\"](); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(_this.parentElement);\n\n        _this.rafProgress.easeTo(_this.progress, 0.25, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.canvasImageSources = [];\n\n    for (var i = 1; i <= 153; i++) {\n      var value = i + '';\n      value = value.padStart(4, '0');\n      this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.canvasImageSequence = new _lib_dom_canvas_image_sequence__WEBPACK_IMPORTED_MODULE_1__[\"CanvasImageSequence\"](this.canvasContainerElement, [{\n      images: this.canvasImageSources\n    }]);\n    var progressPoints = [{\n      from: 0,\n      to: 0.5,\n      start: 0,\n      end: 1\n    }, {\n      from: 0.5,\n      to: 1,\n      start: 1,\n      end: 0\n    }];\n    this.canvasImageSequence.setMultiInterpolation(progressPoints); // Load the iamges.\n\n    this.canvasImageSequence.load().then(function () {\n      // When ready render whatever the current easedProgress value is.\n      _this.canvasImageSequence.renderByProgress(_this.rafProgress.currentProgress);\n    });\n  }\n\n  _createClass(CanvasImageSequenceSample2, [{\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(easedProgress, direction) {\n      this.canvasImageSequence.renderByProgress(easedProgress);\n    }\n  }]);\n\n  return CanvasImageSequenceSample2;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2UyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvY2FudmFzLWltYWdlLXNlcXVlbmNlMi5qcz84OWQ1Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0IHsgUmFmUHJvZ3Jlc3MsIFJBRl9QUk9HUkVTU19FVkVOVFMgfSBmcm9tICcuLi9saWIvcmFmL3JhZi1wcm9ncmVzcyc7XG5pbXBvcnQgeyBDYW52YXNJbWFnZVNlcXVlbmNlIH0gZnJvbSAnLi4vbGliL2RvbS9jYW52YXMtaW1hZ2Utc2VxdWVuY2UnO1xuaW1wb3J0IHsgRUFTRSB9IGZyb20gJy4uL2xpYi9lYXNlL2Vhc2UnO1xuaW1wb3J0IHsgZG9tIH0gZnJvbSAnLi4vbGliL2RvbS9kb20nO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuLyoqXG4gKiBUaGlzIHNhbXBsZSBleHBhbmRzIG9uIGNhbnZhcyBpbWFnZSBzZXF1ZW5jZSBzYW1wbGUgMSBhbmQgZGVtb25zdHJhdGVzXG4gKiB1c2FnZSBvZiBtdWx0aWludGVycG9sYXRlLlxuICovXG5cbnZhciBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlMiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGUyKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTIpO1xuXG4gICAgY29uc29sZS5sb2coJ2NhbnZhcyBpbWFnZSBzZXF1ZW5jZTInKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMtY29udGFpbmVyJyk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpOyAvLyBJbnN0YW5jZSBvZiByYWZQcm9ncmVzcy5cblxuICAgIHRoaXMucmFmUHJvZ3Jlc3MgPSBuZXcgUmFmUHJvZ3Jlc3MoKTsgLy8gVXBkYXRlIHRoZSBwcm9ncmVzcyB2YWx1ZSBwZXIgc2Nyb2xsLlxuXG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Njcm9sbCcsXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soZXZlbnQpIHtcbiAgICAgICAgX3RoaXMucHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudChfdGhpcy5wYXJlbnRFbGVtZW50KTtcblxuICAgICAgICBfdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8oX3RoaXMucHJvZ3Jlc3MsIDAuMjUsIEVBU0UuTGluZWFyKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pOyAvLyBVcGRhdGUgcHJvZ3Jlc3MgaW1tZWRpYXRlbHkgb24gbG9hZC5cblxuICAgIHRoaXMucHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDEsIEVBU0UuTGluZWFyKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTsgLy8gR2VuZXJhdGUgaW1hZ2Ugc291cmNlcy5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSAxNTM7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gaSArICcnO1xuICAgICAgdmFsdWUgPSB2YWx1ZS5wYWRTdGFydCg0LCAnMCcpO1xuICAgICAgdGhpcy5jYW52YXNJbWFnZVNvdXJjZXMucHVzaCgnLi9wdWJsaWMvZnJhbWVzL3RodW1iJyArIHZhbHVlICsgJy5qcGcnKTtcbiAgICB9IC8vIENyZWF0ZSBDYW52YXMgSW1hZ2UgU2VxdWVuZWNlXG5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZSA9IG5ldyBDYW52YXNJbWFnZVNlcXVlbmNlKHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCwgW3tcbiAgICAgIGltYWdlczogdGhpcy5jYW52YXNJbWFnZVNvdXJjZXNcbiAgICB9XSk7XG4gICAgdmFyIHByb2dyZXNzUG9pbnRzID0gW3tcbiAgICAgIGZyb206IDAsXG4gICAgICB0bzogMC41LFxuICAgICAgc3RhcnQ6IDAsXG4gICAgICBlbmQ6IDFcbiAgICB9LCB7XG4gICAgICBmcm9tOiAwLjUsXG4gICAgICB0bzogMSxcbiAgICAgIHN0YXJ0OiAxLFxuICAgICAgZW5kOiAwXG4gICAgfV07XG4gICAgdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLnNldE11bHRpSW50ZXJwb2xhdGlvbihwcm9ncmVzc1BvaW50cyk7IC8vIExvYWQgdGhlIGlhbWdlcy5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5sb2FkKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBXaGVuIHJlYWR5IHJlbmRlciB3aGF0ZXZlciB0aGUgY3VycmVudCBlYXNlZFByb2dyZXNzIHZhbHVlIGlzLlxuICAgICAgX3RoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKF90aGlzLnJhZlByb2dyZXNzLmN1cnJlbnRQcm9ncmVzcyk7XG4gICAgfSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTIsIFt7XG4gICAga2V5OiBcIm9uUHJvZ3Jlc3NVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9ncmVzc1VwZGF0ZShlYXNlZFByb2dyZXNzLCBkaXJlY3Rpb24pIHtcbiAgICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKGVhc2VkUHJvZ3Jlc3MpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlMjtcbn0oKTtcblxuZXhwb3J0IHsgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTIgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/canvas-image-sequence2.js\n");

/***/ }),

/***/ "./examples/canvas-image-sequence3.js":
/*!********************************************!*\
  !*** ./examples/canvas-image-sequence3.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CanvasImageSequenceSample3; });\n/* harmony import */ var _lib_dom_canvas_image_sequence__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/dom/canvas-image-sequence */ \"./lib/dom/canvas-image-sequence.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n/**\n * CanvasImageSequence play feature.\n */\n\nvar CanvasImageSequenceSample3 = function CanvasImageSequenceSample3() {\n  var _this = this;\n\n  _classCallCheck(this, CanvasImageSequenceSample3);\n\n  this.canvasContainerElement = document.querySelector('.canvas-container');\n  this.parentElement = document.getElementById('parent'); // Generate image sources.\n\n  this.canvasImageSources = [];\n\n  for (var i = 1; i <= 153; i++) {\n    var value = i + '';\n    value = value.padStart(4, '0');\n    this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n  } // Create Canvas Image Sequenece\n\n\n  this.canvasImageSequence = new _lib_dom_canvas_image_sequence__WEBPACK_IMPORTED_MODULE_0__[\"CanvasImageSequence\"](this.canvasContainerElement, [{\n    images: this.canvasImageSources\n  }]);\n  var progressPoints = [{\n    from: 0,\n    to: 0.5,\n    start: 0,\n    end: 1\n  }, {\n    from: 0.5,\n    to: 1,\n    start: 1,\n    end: 0\n  }];\n  this.canvasImageSequence.setMultiInterpolation(progressPoints); // Load the iamges.\n\n  this.canvasImageSequence.load().then(function () {\n    // On load, play the sequence from 0 - 1.\n    _this.canvasImageSequence.play(0, 1, 3000).then(function () {\n      console.log('play complete');\n    });\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2UzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvY2FudmFzLWltYWdlLXNlcXVlbmNlMy5qcz9mMzU1Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmltcG9ydCB7IENhbnZhc0ltYWdlU2VxdWVuY2UgfSBmcm9tICcuLi9saWIvZG9tL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZSc7XG4vKipcbiAqIENhbnZhc0ltYWdlU2VxdWVuY2UgcGxheSBmZWF0dXJlLlxuICovXG5cbnZhciBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlMyA9IGZ1bmN0aW9uIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGUzKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlMyk7XG5cbiAgdGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbnZhcy1jb250YWluZXInKTtcbiAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpOyAvLyBHZW5lcmF0ZSBpbWFnZSBzb3VyY2VzLlxuXG4gIHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPD0gMTUzOyBpKyspIHtcbiAgICB2YXIgdmFsdWUgPSBpICsgJyc7XG4gICAgdmFsdWUgPSB2YWx1ZS5wYWRTdGFydCg0LCAnMCcpO1xuICAgIHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzLnB1c2goJy4vcHVibGljL2ZyYW1lcy90aHVtYicgKyB2YWx1ZSArICcuanBnJyk7XG4gIH0gLy8gQ3JlYXRlIENhbnZhcyBJbWFnZSBTZXF1ZW5lY2VcblxuXG4gIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZSA9IG5ldyBDYW52YXNJbWFnZVNlcXVlbmNlKHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCwgW3tcbiAgICBpbWFnZXM6IHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzXG4gIH1dKTtcbiAgdmFyIHByb2dyZXNzUG9pbnRzID0gW3tcbiAgICBmcm9tOiAwLFxuICAgIHRvOiAwLjUsXG4gICAgc3RhcnQ6IDAsXG4gICAgZW5kOiAxXG4gIH0sIHtcbiAgICBmcm9tOiAwLjUsXG4gICAgdG86IDEsXG4gICAgc3RhcnQ6IDEsXG4gICAgZW5kOiAwXG4gIH1dO1xuICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2Uuc2V0TXVsdGlJbnRlcnBvbGF0aW9uKHByb2dyZXNzUG9pbnRzKTsgLy8gTG9hZCB0aGUgaWFtZ2VzLlxuXG4gIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5sb2FkKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgLy8gT24gbG9hZCwgcGxheSB0aGUgc2VxdWVuY2UgZnJvbSAwIC0gMS5cbiAgICBfdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLnBsYXkoMCwgMSwgMzAwMCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zb2xlLmxvZygncGxheSBjb21wbGV0ZScpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmV4cG9ydCB7IENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGUzIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/canvas-image-sequence3.js\n");

/***/ }),

/***/ "./examples/canvas-image-sequence4.js":
/*!********************************************!*\
  !*** ./examples/canvas-image-sequence4.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CanvasImageSequenceSample3; });\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_canvas_image_sequence__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/canvas-image-sequence */ \"./lib/dom/canvas-image-sequence.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n/**\n * This sample expands on canvas image sequence sample 1 and demonstrates\n * usage of multiinterpolate.\n */\n\nvar CanvasImageSequenceSample3 = /*#__PURE__*/function () {\n  function CanvasImageSequenceSample3() {\n    var _this = this;\n\n    _classCallCheck(this, CanvasImageSequenceSample3);\n\n    console.log('canvas image sequence4');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__[\"DomWatcher\"]();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__[\"RafProgress\"](); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(_this.parentElement);\n\n        _this.rafProgress.easeTo(_this.progress, 0.25, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.canvasImageSources = [];\n\n    for (var i = 1; i <= 153; i++) {\n      var value = i + '';\n      value = value.padStart(4, '0');\n      this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.canvasImageSequence = new _lib_dom_canvas_image_sequence__WEBPACK_IMPORTED_MODULE_1__[\"CanvasImageSequence\"](this.canvasContainerElement, [{\n      images: this.canvasImageSources\n    }]); // We set the lerp value.\n\n    this.canvasImageSequence.lerpAmount = 0.01; // Load the iamges.\n\n    this.canvasImageSequence.load().then(function () {\n      // On load, play the sequence from 0 - 1.\n      _this.canvasImageSequence.play(0, 1, 1000).then(function () {\n        console.log('done', _this.rafProgress.currentProgress); // Update the progress to the current scroll when done.\n        //\n        // At this time, the playing ends at 1 but the scroll progress\n        // could be something else so it will lerp \"towards\" the\n        // scroll position since we have lerp set.\n\n        _this.canvasImageSequence.renderByProgress(_this.rafProgress.currentProgress);\n      });\n    });\n  }\n\n  _createClass(CanvasImageSequenceSample3, [{\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(easedProgress, direction) {\n      this.canvasImageSequence.renderByProgress(easedProgress);\n    }\n  }]);\n\n  return CanvasImageSequenceSample3;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2U0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvY2FudmFzLWltYWdlLXNlcXVlbmNlNC5qcz81NmQ2Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0IHsgUmFmUHJvZ3Jlc3MgfSBmcm9tICcuLi9saWIvcmFmL3JhZi1wcm9ncmVzcyc7XG5pbXBvcnQgeyBDYW52YXNJbWFnZVNlcXVlbmNlIH0gZnJvbSAnLi4vbGliL2RvbS9jYW52YXMtaW1hZ2Utc2VxdWVuY2UnO1xuaW1wb3J0IHsgRUFTRSB9IGZyb20gJy4uL2xpYi9lYXNlL2Vhc2UnO1xuaW1wb3J0IHsgZG9tIH0gZnJvbSAnLi4vbGliL2RvbS9kb20nO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuLyoqXG4gKiBUaGlzIHNhbXBsZSBleHBhbmRzIG9uIGNhbnZhcyBpbWFnZSBzZXF1ZW5jZSBzYW1wbGUgMSBhbmQgZGVtb25zdHJhdGVzXG4gKiB1c2FnZSBvZiBtdWx0aWludGVycG9sYXRlLlxuICovXG5cbnZhciBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlMyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGUzKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTMpO1xuXG4gICAgY29uc29sZS5sb2coJ2NhbnZhcyBpbWFnZSBzZXF1ZW5jZTQnKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMtY29udGFpbmVyJyk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpOyAvLyBJbnN0YW5jZSBvZiByYWZQcm9ncmVzcy5cblxuICAgIHRoaXMucmFmUHJvZ3Jlc3MgPSBuZXcgUmFmUHJvZ3Jlc3MoKTsgLy8gVXBkYXRlIHRoZSBwcm9ncmVzcyB2YWx1ZSBwZXIgc2Nyb2xsLlxuXG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Njcm9sbCcsXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soZXZlbnQpIHtcbiAgICAgICAgX3RoaXMucHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudChfdGhpcy5wYXJlbnRFbGVtZW50KTtcblxuICAgICAgICBfdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8oX3RoaXMucHJvZ3Jlc3MsIDAuMjUsIEVBU0UuTGluZWFyKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pOyAvLyBVcGRhdGUgcHJvZ3Jlc3MgaW1tZWRpYXRlbHkgb24gbG9hZC5cblxuICAgIHRoaXMucHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDEsIEVBU0UuTGluZWFyKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTsgLy8gR2VuZXJhdGUgaW1hZ2Ugc291cmNlcy5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSAxNTM7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gaSArICcnO1xuICAgICAgdmFsdWUgPSB2YWx1ZS5wYWRTdGFydCg0LCAnMCcpO1xuICAgICAgdGhpcy5jYW52YXNJbWFnZVNvdXJjZXMucHVzaCgnLi9wdWJsaWMvZnJhbWVzL3RodW1iJyArIHZhbHVlICsgJy5qcGcnKTtcbiAgICB9IC8vIENyZWF0ZSBDYW52YXMgSW1hZ2UgU2VxdWVuZWNlXG5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZSA9IG5ldyBDYW52YXNJbWFnZVNlcXVlbmNlKHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCwgW3tcbiAgICAgIGltYWdlczogdGhpcy5jYW52YXNJbWFnZVNvdXJjZXNcbiAgICB9XSk7IC8vIFdlIHNldCB0aGUgbGVycCB2YWx1ZS5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5sZXJwQW1vdW50ID0gMC4wMTsgLy8gTG9hZCB0aGUgaWFtZ2VzLlxuXG4gICAgdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLmxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIE9uIGxvYWQsIHBsYXkgdGhlIHNlcXVlbmNlIGZyb20gMCAtIDEuXG4gICAgICBfdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLnBsYXkoMCwgMSwgMTAwMCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdkb25lJywgX3RoaXMucmFmUHJvZ3Jlc3MuY3VycmVudFByb2dyZXNzKTsgLy8gVXBkYXRlIHRoZSBwcm9ncmVzcyB0byB0aGUgY3VycmVudCBzY3JvbGwgd2hlbiBkb25lLlxuICAgICAgICAvL1xuICAgICAgICAvLyBBdCB0aGlzIHRpbWUsIHRoZSBwbGF5aW5nIGVuZHMgYXQgMSBidXQgdGhlIHNjcm9sbCBwcm9ncmVzc1xuICAgICAgICAvLyBjb3VsZCBiZSBzb21ldGhpbmcgZWxzZSBzbyBpdCB3aWxsIGxlcnAgXCJ0b3dhcmRzXCIgdGhlXG4gICAgICAgIC8vIHNjcm9sbCBwb3NpdGlvbiBzaW5jZSB3ZSBoYXZlIGxlcnAgc2V0LlxuXG4gICAgICAgIF90aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcyhfdGhpcy5yYWZQcm9ncmVzcy5jdXJyZW50UHJvZ3Jlc3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTMsIFt7XG4gICAga2V5OiBcIm9uUHJvZ3Jlc3NVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9ncmVzc1VwZGF0ZShlYXNlZFByb2dyZXNzLCBkaXJlY3Rpb24pIHtcbiAgICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKGVhc2VkUHJvZ3Jlc3MpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlMztcbn0oKTtcblxuZXhwb3J0IHsgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTMgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/canvas-image-sequence4.js\n");

/***/ }),

/***/ "./examples/canvas-image-sequence5.js":
/*!********************************************!*\
  !*** ./examples/canvas-image-sequence5.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CanvasImageSequenceSample5; });\n/* harmony import */ var _lib_dom_canvas_image_sequence__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/dom/canvas-image-sequence */ \"./lib/dom/canvas-image-sequence.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n/**\n * CanvasImageSequence play feature.\n */\n\nvar CanvasImageSequenceSample5 = function CanvasImageSequenceSample5() {\n  var _this = this;\n\n  _classCallCheck(this, CanvasImageSequenceSample5);\n\n  console.log('canvasImageSequence5');\n  this.canvasContainerElement = document.querySelector('.canvas-container');\n  this.parentElement = document.getElementById('parent'); // Generate image sources.\n\n  this.canvasImageSources = [];\n\n  for (var i = 1; i <= 153; i++) {\n    var value = i + '';\n    value = value.padStart(4, '0');\n    this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n  } // Create Canvas Image Sequenece\n\n\n  this.canvasImageSequence = new _lib_dom_canvas_image_sequence__WEBPACK_IMPORTED_MODULE_0__[\"CanvasImageSequence\"](this.canvasContainerElement, [{\n    images: this.canvasImageSources\n  }]);\n  this.canvasImageSequence.lerpAmount = 0.01;\n  this.canvasImageSequence.load().then(function () {\n    _this.canvasImageSequence.renderByProgress(0); // Immediately set to 1.  Because we previously set it to 0 and\n    // no 1 and we have lerp set, canvasImageSequence will lerp\n    // towards that value.\n\n\n    _this.canvasImageSequence.renderByProgress(1);\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2U1LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvY2FudmFzLWltYWdlLXNlcXVlbmNlNS5qcz9lMWJlIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmltcG9ydCB7IENhbnZhc0ltYWdlU2VxdWVuY2UgfSBmcm9tICcuLi9saWIvZG9tL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZSc7XG4vKipcbiAqIENhbnZhc0ltYWdlU2VxdWVuY2UgcGxheSBmZWF0dXJlLlxuICovXG5cbnZhciBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlNSA9IGZ1bmN0aW9uIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU1KCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlNSk7XG5cbiAgY29uc29sZS5sb2coJ2NhbnZhc0ltYWdlU2VxdWVuY2U1Jyk7XG4gIHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMtY29udGFpbmVyJyk7XG4gIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTsgLy8gR2VuZXJhdGUgaW1hZ2Ugc291cmNlcy5cblxuICB0aGlzLmNhbnZhc0ltYWdlU291cmNlcyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDw9IDE1MzsgaSsrKSB7XG4gICAgdmFyIHZhbHVlID0gaSArICcnO1xuICAgIHZhbHVlID0gdmFsdWUucGFkU3RhcnQoNCwgJzAnKTtcbiAgICB0aGlzLmNhbnZhc0ltYWdlU291cmNlcy5wdXNoKCcuL3B1YmxpYy9mcmFtZXMvdGh1bWInICsgdmFsdWUgKyAnLmpwZycpO1xuICB9IC8vIENyZWF0ZSBDYW52YXMgSW1hZ2UgU2VxdWVuZWNlXG5cblxuICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UgPSBuZXcgQ2FudmFzSW1hZ2VTZXF1ZW5jZSh0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQsIFt7XG4gICAgaW1hZ2VzOiB0aGlzLmNhbnZhc0ltYWdlU291cmNlc1xuICB9XSk7XG4gIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5sZXJwQW1vdW50ID0gMC4wMTtcbiAgdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLmxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICBfdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoMCk7IC8vIEltbWVkaWF0ZWx5IHNldCB0byAxLiAgQmVjYXVzZSB3ZSBwcmV2aW91c2x5IHNldCBpdCB0byAwIGFuZFxuICAgIC8vIG5vIDEgYW5kIHdlIGhhdmUgbGVycCBzZXQsIGNhbnZhc0ltYWdlU2VxdWVuY2Ugd2lsbCBsZXJwXG4gICAgLy8gdG93YXJkcyB0aGF0IHZhbHVlLlxuXG5cbiAgICBfdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoMSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IHsgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTUgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/canvas-image-sequence5.js\n");

/***/ }),

/***/ "./examples/canvas-image-sequence7.js":
/*!********************************************!*\
  !*** ./examples/canvas-image-sequence7.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CanvasImageSequenceSample7; });\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_canvas_image_sequence__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/canvas-image-sequence */ \"./lib/dom/canvas-image-sequence.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n/**\n * This sample demonstrates CanvasImageSequence sizing with cover\n */\n\nvar CanvasImageSequenceSample7 = /*#__PURE__*/function () {\n  function CanvasImageSequenceSample7() {\n    var _this = this;\n\n    _classCallCheck(this, CanvasImageSequenceSample7);\n\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__[\"DomWatcher\"]();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__[\"RafProgress\"](); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(_this.parentElement);\n\n        _this.rafProgress.easeTo(_this.progress, 0.25, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.canvasImageSources = [];\n\n    for (var i = 1; i <= 153; i++) {\n      var value = i + '';\n      value = value.padStart(4, '0');\n      this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.canvasImageSequence = new _lib_dom_canvas_image_sequence__WEBPACK_IMPORTED_MODULE_1__[\"CanvasImageSequence\"](this.canvasContainerElement, [{\n      images: this.canvasImageSources\n    }], {\n      cover: true // top: 0,\n      // left: 0\n\n    }); // Load the images\n\n    this.canvasImageSequence.load().then(function () {\n      // When ready render whatever the current easedProgress value is.\n      _this.canvasImageSequence.renderByProgress(_this.rafProgress.currentProgress);\n    });\n  }\n\n  _createClass(CanvasImageSequenceSample7, [{\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(easedProgress, direction) {\n      this.canvasImageSequence.renderByProgress(easedProgress);\n    }\n  }]);\n\n  return CanvasImageSequenceSample7;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2U3LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvY2FudmFzLWltYWdlLXNlcXVlbmNlNy5qcz81NGIwIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0IHsgUmFmUHJvZ3Jlc3MsIFJBRl9QUk9HUkVTU19FVkVOVFMgfSBmcm9tICcuLi9saWIvcmFmL3JhZi1wcm9ncmVzcyc7XG5pbXBvcnQgeyBDYW52YXNJbWFnZVNlcXVlbmNlIH0gZnJvbSAnLi4vbGliL2RvbS9jYW52YXMtaW1hZ2Utc2VxdWVuY2UnO1xuaW1wb3J0IHsgRUFTRSB9IGZyb20gJy4uL2xpYi9lYXNlL2Vhc2UnO1xuaW1wb3J0IHsgZG9tIH0gZnJvbSAnLi4vbGliL2RvbS9kb20nO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuLyoqXG4gKiBUaGlzIHNhbXBsZSBkZW1vbnN0cmF0ZXMgQ2FudmFzSW1hZ2VTZXF1ZW5jZSBzaXppbmcgd2l0aCBjb3ZlclxuICovXG5cbnZhciBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlNyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU3KCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTcpO1xuXG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FudmFzLWNvbnRhaW5lcicpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTsgLy8gSW5zdGFuY2Ugb2YgcmFmUHJvZ3Jlc3MuXG5cbiAgICB0aGlzLnJhZlByb2dyZXNzID0gbmV3IFJhZlByb2dyZXNzKCk7IC8vIFVwZGF0ZSB0aGUgcHJvZ3Jlc3MgdmFsdWUgcGVyIHNjcm9sbC5cblxuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKGV2ZW50KSB7XG4gICAgICAgIF90aGlzLnByb2dyZXNzID0gZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQoX3RoaXMucGFyZW50RWxlbWVudCk7XG5cbiAgICAgICAgX3RoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKF90aGlzLnByb2dyZXNzLCAwLjI1LCBFQVNFLkxpbmVhcik7XG4gICAgICB9LFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTsgLy8gVXBkYXRlIHByb2dyZXNzIGltbWVkaWF0ZWx5IG9uIGxvYWQuXG5cbiAgICB0aGlzLnByb2dyZXNzID0gZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAxLCBFQVNFLkxpbmVhcik7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy53YXRjaCh0aGlzLm9uUHJvZ3Jlc3NVcGRhdGUuYmluZCh0aGlzKSk7IC8vIEdlbmVyYXRlIGltYWdlIHNvdXJjZXMuXG5cbiAgICB0aGlzLmNhbnZhc0ltYWdlU291cmNlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gMTUzOyBpKyspIHtcbiAgICAgIHZhciB2YWx1ZSA9IGkgKyAnJztcbiAgICAgIHZhbHVlID0gdmFsdWUucGFkU3RhcnQoNCwgJzAnKTtcbiAgICAgIHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzLnB1c2goJy4vcHVibGljL2ZyYW1lcy90aHVtYicgKyB2YWx1ZSArICcuanBnJyk7XG4gICAgfSAvLyBDcmVhdGUgQ2FudmFzIEltYWdlIFNlcXVlbmVjZVxuXG5cbiAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UgPSBuZXcgQ2FudmFzSW1hZ2VTZXF1ZW5jZSh0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQsIFt7XG4gICAgICBpbWFnZXM6IHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzXG4gICAgfV0sIHtcbiAgICAgIGNvdmVyOiB0cnVlIC8vIHRvcDogMCxcbiAgICAgIC8vIGxlZnQ6IDBcblxuICAgIH0pOyAvLyBMb2FkIHRoZSBpbWFnZXNcblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5sb2FkKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBXaGVuIHJlYWR5IHJlbmRlciB3aGF0ZXZlciB0aGUgY3VycmVudCBlYXNlZFByb2dyZXNzIHZhbHVlIGlzLlxuICAgICAgX3RoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKF90aGlzLnJhZlByb2dyZXNzLmN1cnJlbnRQcm9ncmVzcyk7XG4gICAgfSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTcsIFt7XG4gICAga2V5OiBcIm9uUHJvZ3Jlc3NVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9ncmVzc1VwZGF0ZShlYXNlZFByb2dyZXNzLCBkaXJlY3Rpb24pIHtcbiAgICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKGVhc2VkUHJvZ3Jlc3MpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlNztcbn0oKTtcblxuZXhwb3J0IHsgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTcgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/canvas-image-sequence7.js\n");

/***/ }),

/***/ "./examples/canvas-image-sequence8.js":
/*!********************************************!*\
  !*** ./examples/canvas-image-sequence8.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CanvasImageSequenceSample8; });\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_canvas_image_sequence__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/canvas-image-sequence */ \"./lib/dom/canvas-image-sequence.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n/**\n * This sample demonstrates CanvasImageSequence with clippings.\n */\n\nvar CanvasImageSequenceSample8 = /*#__PURE__*/function () {\n  function CanvasImageSequenceSample8() {\n    var _this = this;\n\n    _classCallCheck(this, CanvasImageSequenceSample8);\n\n    console.log('canvas image sequence sample 8');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__[\"DomWatcher\"]();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__[\"RafProgress\"](); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(_this.parentElement);\n\n        _this.rafProgress.easeTo(_this.progress, 0.25, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.canvasImageSources = [];\n\n    for (var i = 1; i <= 153; i++) {\n      var value = i + '';\n      value = value.padStart(4, '0');\n      this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.canvasImageSequence = new _lib_dom_canvas_image_sequence__WEBPACK_IMPORTED_MODULE_1__[\"CanvasImageSequence\"](this.canvasContainerElement, [{\n      images: this.canvasImageSources\n    }], {\n      cover: true\n    }); // Apply clipping.\n\n    this.canvasImageSequence.setClipInterpolations({\n      type: 'inset',\n      interpolations: [{\n        progress: [{\n          from: 0,\n          to: 1,\n          start: 0.5,\n          end: 0\n        }],\n        id: 'top'\n      }, {\n        progress: [{\n          from: 0,\n          to: 1,\n          start: 0.5,\n          end: 0\n        }],\n        id: 'right'\n      }, {\n        progress: [{\n          from: 0,\n          to: 1,\n          start: 0.5,\n          end: 0\n        }],\n        id: 'bottom'\n      }, {\n        progress: [{\n          from: 0,\n          to: 1,\n          start: 0.5,\n          end: 0\n        }],\n        id: 'left'\n      }, {\n        progress: [{\n          from: 0,\n          to: 0.8,\n          start: 0,\n          end: 60\n        }, {\n          from: 0.8,\n          to: 1,\n          start: 60,\n          end: 0\n        }],\n        id: 'border-radius'\n      }]\n    }); // Load the images\n\n    this.canvasImageSequence.load().then(function () {\n      // When ready render whatever the current easedProgress value is.\n      _this.canvasImageSequence.renderByProgress(_this.rafProgress.currentProgress);\n    });\n  }\n\n  _createClass(CanvasImageSequenceSample8, [{\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(easedProgress, direction) {\n      this.canvasImageSequence.renderByProgress(easedProgress);\n    }\n  }]);\n\n  return CanvasImageSequenceSample8;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2U4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvY2FudmFzLWltYWdlLXNlcXVlbmNlOC5qcz8xZTI5Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0IHsgUmFmUHJvZ3Jlc3MsIFJBRl9QUk9HUkVTU19FVkVOVFMgfSBmcm9tICcuLi9saWIvcmFmL3JhZi1wcm9ncmVzcyc7XG5pbXBvcnQgeyBDYW52YXNJbWFnZVNlcXVlbmNlIH0gZnJvbSAnLi4vbGliL2RvbS9jYW52YXMtaW1hZ2Utc2VxdWVuY2UnO1xuaW1wb3J0IHsgRUFTRSB9IGZyb20gJy4uL2xpYi9lYXNlL2Vhc2UnO1xuaW1wb3J0IHsgZG9tIH0gZnJvbSAnLi4vbGliL2RvbS9kb20nO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuLyoqXG4gKiBUaGlzIHNhbXBsZSBkZW1vbnN0cmF0ZXMgQ2FudmFzSW1hZ2VTZXF1ZW5jZSB3aXRoIGNsaXBwaW5ncy5cbiAqL1xuXG52YXIgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTggPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlOCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU4KTtcblxuICAgIGNvbnNvbGUubG9nKCdjYW52YXMgaW1hZ2Ugc2VxdWVuY2Ugc2FtcGxlIDgnKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMtY29udGFpbmVyJyk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpOyAvLyBJbnN0YW5jZSBvZiByYWZQcm9ncmVzcy5cblxuICAgIHRoaXMucmFmUHJvZ3Jlc3MgPSBuZXcgUmFmUHJvZ3Jlc3MoKTsgLy8gVXBkYXRlIHRoZSBwcm9ncmVzcyB2YWx1ZSBwZXIgc2Nyb2xsLlxuXG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Njcm9sbCcsXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soZXZlbnQpIHtcbiAgICAgICAgX3RoaXMucHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudChfdGhpcy5wYXJlbnRFbGVtZW50KTtcblxuICAgICAgICBfdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8oX3RoaXMucHJvZ3Jlc3MsIDAuMjUsIEVBU0UuTGluZWFyKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pOyAvLyBVcGRhdGUgcHJvZ3Jlc3MgaW1tZWRpYXRlbHkgb24gbG9hZC5cblxuICAgIHRoaXMucHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDEsIEVBU0UuTGluZWFyKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTsgLy8gR2VuZXJhdGUgaW1hZ2Ugc291cmNlcy5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSAxNTM7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gaSArICcnO1xuICAgICAgdmFsdWUgPSB2YWx1ZS5wYWRTdGFydCg0LCAnMCcpO1xuICAgICAgdGhpcy5jYW52YXNJbWFnZVNvdXJjZXMucHVzaCgnLi9wdWJsaWMvZnJhbWVzL3RodW1iJyArIHZhbHVlICsgJy5qcGcnKTtcbiAgICB9IC8vIENyZWF0ZSBDYW52YXMgSW1hZ2UgU2VxdWVuZWNlXG5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZSA9IG5ldyBDYW52YXNJbWFnZVNlcXVlbmNlKHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCwgW3tcbiAgICAgIGltYWdlczogdGhpcy5jYW52YXNJbWFnZVNvdXJjZXNcbiAgICB9XSwge1xuICAgICAgY292ZXI6IHRydWVcbiAgICB9KTsgLy8gQXBwbHkgY2xpcHBpbmcuXG5cbiAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2Uuc2V0Q2xpcEludGVycG9sYXRpb25zKHtcbiAgICAgIHR5cGU6ICdpbnNldCcsXG4gICAgICBpbnRlcnBvbGF0aW9uczogW3tcbiAgICAgICAgcHJvZ3Jlc3M6IFt7XG4gICAgICAgICAgZnJvbTogMCxcbiAgICAgICAgICB0bzogMSxcbiAgICAgICAgICBzdGFydDogMC41LFxuICAgICAgICAgIGVuZDogMFxuICAgICAgICB9XSxcbiAgICAgICAgaWQ6ICd0b3AnXG4gICAgICB9LCB7XG4gICAgICAgIHByb2dyZXNzOiBbe1xuICAgICAgICAgIGZyb206IDAsXG4gICAgICAgICAgdG86IDEsXG4gICAgICAgICAgc3RhcnQ6IDAuNSxcbiAgICAgICAgICBlbmQ6IDBcbiAgICAgICAgfV0sXG4gICAgICAgIGlkOiAncmlnaHQnXG4gICAgICB9LCB7XG4gICAgICAgIHByb2dyZXNzOiBbe1xuICAgICAgICAgIGZyb206IDAsXG4gICAgICAgICAgdG86IDEsXG4gICAgICAgICAgc3RhcnQ6IDAuNSxcbiAgICAgICAgICBlbmQ6IDBcbiAgICAgICAgfV0sXG4gICAgICAgIGlkOiAnYm90dG9tJ1xuICAgICAgfSwge1xuICAgICAgICBwcm9ncmVzczogW3tcbiAgICAgICAgICBmcm9tOiAwLFxuICAgICAgICAgIHRvOiAxLFxuICAgICAgICAgIHN0YXJ0OiAwLjUsXG4gICAgICAgICAgZW5kOiAwXG4gICAgICAgIH1dLFxuICAgICAgICBpZDogJ2xlZnQnXG4gICAgICB9LCB7XG4gICAgICAgIHByb2dyZXNzOiBbe1xuICAgICAgICAgIGZyb206IDAsXG4gICAgICAgICAgdG86IDAuOCxcbiAgICAgICAgICBzdGFydDogMCxcbiAgICAgICAgICBlbmQ6IDYwXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmcm9tOiAwLjgsXG4gICAgICAgICAgdG86IDEsXG4gICAgICAgICAgc3RhcnQ6IDYwLFxuICAgICAgICAgIGVuZDogMFxuICAgICAgICB9XSxcbiAgICAgICAgaWQ6ICdib3JkZXItcmFkaXVzJ1xuICAgICAgfV1cbiAgICB9KTsgLy8gTG9hZCB0aGUgaW1hZ2VzXG5cbiAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UubG9hZCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgLy8gV2hlbiByZWFkeSByZW5kZXIgd2hhdGV2ZXIgdGhlIGN1cnJlbnQgZWFzZWRQcm9ncmVzcyB2YWx1ZSBpcy5cbiAgICAgIF90aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcyhfdGhpcy5yYWZQcm9ncmVzcy5jdXJyZW50UHJvZ3Jlc3MpO1xuICAgIH0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU4LCBbe1xuICAgIGtleTogXCJvblByb2dyZXNzVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUHJvZ3Jlc3NVcGRhdGUoZWFzZWRQcm9ncmVzcywgZGlyZWN0aW9uKSB7XG4gICAgICB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcyhlYXNlZFByb2dyZXNzKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTg7XG59KCk7XG5cbmV4cG9ydCB7IENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU4IGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/canvas-image-sequence8.js\n");

/***/ }),

/***/ "./examples/canvas-image-sequence9.js":
/*!********************************************!*\
  !*** ./examples/canvas-image-sequence9.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CanvasImageSequenceSample9; });\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_canvas_image_sequence__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/canvas-image-sequence */ \"./lib/dom/canvas-image-sequence.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n/**\n * This sample show loading multiple image sets\n */\n\nvar CanvasImageSequenceSample9 = /*#__PURE__*/function () {\n  function CanvasImageSequenceSample9() {\n    var _this = this;\n\n    _classCallCheck(this, CanvasImageSequenceSample9);\n\n    console.log('canvas image sequence');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__[\"DomWatcher\"]();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__[\"RafProgress\"](); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(_this.parentElement);\n\n        _this.rafProgress.easeTo(_this.progress, 0.25, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.canvasImageSources = [];\n\n    for (var i = 1; i <= 153; i++) {\n      var value = i + '';\n      value = value.padStart(4, '0');\n      this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n    } // Generate a second \"mobile\" image sources.\n\n\n    this.mobileImageSources = [];\n\n    for (var _i = 1; _i <= 120; _i++) {\n      var _value = _i + '';\n\n      _value = _value.padStart(4, '0');\n      this.mobileImageSources.push('./public/frames2/thumb' + _value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.canvasImageSequence = new _lib_dom_canvas_image_sequence__WEBPACK_IMPORTED_MODULE_1__[\"CanvasImageSequence\"](this.canvasContainerElement, [{\n      images: this.canvasImageSources,\n      when: function when() {\n        return window.innerWidth >= 768;\n      }\n    }, {\n      images: this.mobileImageSources,\n      when: function when() {\n        return window.innerWidth < 768;\n      }\n    }]); // this.canvasImageSequence.lerpAmount = 0.02;\n    // Load the iamges.\n\n    this.canvasImageSequence.load().then(function () {\n      // When ready render whatever the current easedProgress value is.\n      _this.canvasImageSequence.renderByProgress(_this.rafProgress.currentProgress);\n    });\n  }\n\n  _createClass(CanvasImageSequenceSample9, [{\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(easedProgress, direction) {\n      this.canvasImageSequence.renderByProgress(easedProgress);\n    }\n  }]);\n\n  return CanvasImageSequenceSample9;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2U5LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvY2FudmFzLWltYWdlLXNlcXVlbmNlOS5qcz81OTRjIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0IHsgUmFmUHJvZ3Jlc3MsIFJBRl9QUk9HUkVTU19FVkVOVFMgfSBmcm9tICcuLi9saWIvcmFmL3JhZi1wcm9ncmVzcyc7XG5pbXBvcnQgeyBDYW52YXNJbWFnZVNlcXVlbmNlIH0gZnJvbSAnLi4vbGliL2RvbS9jYW52YXMtaW1hZ2Utc2VxdWVuY2UnO1xuaW1wb3J0IHsgRUFTRSB9IGZyb20gJy4uL2xpYi9lYXNlL2Vhc2UnO1xuaW1wb3J0IHsgZG9tIH0gZnJvbSAnLi4vbGliL2RvbS9kb20nO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuLyoqXG4gKiBUaGlzIHNhbXBsZSBzaG93IGxvYWRpbmcgbXVsdGlwbGUgaW1hZ2Ugc2V0c1xuICovXG5cbnZhciBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlOSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU5KCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTkpO1xuXG4gICAgY29uc29sZS5sb2coJ2NhbnZhcyBpbWFnZSBzZXF1ZW5jZScpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyZW50Jyk7IC8vIEluc3RhbmNlIG9mIHJhZlByb2dyZXNzLlxuXG4gICAgdGhpcy5yYWZQcm9ncmVzcyA9IG5ldyBSYWZQcm9ncmVzcygpOyAvLyBVcGRhdGUgdGhlIHByb2dyZXNzIHZhbHVlIHBlciBzY3JvbGwuXG5cbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhldmVudCkge1xuICAgICAgICBfdGhpcy5wcm9ncmVzcyA9IGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KF90aGlzLnBhcmVudEVsZW1lbnQpO1xuXG4gICAgICAgIF90aGlzLnJhZlByb2dyZXNzLmVhc2VUbyhfdGhpcy5wcm9ncmVzcywgMC4yNSwgRUFTRS5MaW5lYXIpO1xuICAgICAgfSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7IC8vIFVwZGF0ZSBwcm9ncmVzcyBpbW1lZGlhdGVseSBvbiBsb2FkLlxuXG4gICAgdGhpcy5wcm9ncmVzcyA9IGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCk7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgRUFTRS5MaW5lYXIpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3Mud2F0Y2godGhpcy5vblByb2dyZXNzVXBkYXRlLmJpbmQodGhpcykpOyAvLyBHZW5lcmF0ZSBpbWFnZSBzb3VyY2VzLlxuXG4gICAgdGhpcy5jYW52YXNJbWFnZVNvdXJjZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IDE1MzsgaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpICsgJyc7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnBhZFN0YXJ0KDQsICcwJyk7XG4gICAgICB0aGlzLmNhbnZhc0ltYWdlU291cmNlcy5wdXNoKCcuL3B1YmxpYy9mcmFtZXMvdGh1bWInICsgdmFsdWUgKyAnLmpwZycpO1xuICAgIH0gLy8gR2VuZXJhdGUgYSBzZWNvbmQgXCJtb2JpbGVcIiBpbWFnZSBzb3VyY2VzLlxuXG5cbiAgICB0aGlzLm1vYmlsZUltYWdlU291cmNlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8PSAxMjA7IF9pKyspIHtcbiAgICAgIHZhciBfdmFsdWUgPSBfaSArICcnO1xuXG4gICAgICBfdmFsdWUgPSBfdmFsdWUucGFkU3RhcnQoNCwgJzAnKTtcbiAgICAgIHRoaXMubW9iaWxlSW1hZ2VTb3VyY2VzLnB1c2goJy4vcHVibGljL2ZyYW1lczIvdGh1bWInICsgX3ZhbHVlICsgJy5qcGcnKTtcbiAgICB9IC8vIENyZWF0ZSBDYW52YXMgSW1hZ2UgU2VxdWVuZWNlXG5cblxuICAgIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZSA9IG5ldyBDYW52YXNJbWFnZVNlcXVlbmNlKHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCwgW3tcbiAgICAgIGltYWdlczogdGhpcy5jYW52YXNJbWFnZVNvdXJjZXMsXG4gICAgICB3aGVuOiBmdW5jdGlvbiB3aGVuKCkge1xuICAgICAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGggPj0gNzY4O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGltYWdlczogdGhpcy5tb2JpbGVJbWFnZVNvdXJjZXMsXG4gICAgICB3aGVuOiBmdW5jdGlvbiB3aGVuKCkge1xuICAgICAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGggPCA3Njg7XG4gICAgICB9XG4gICAgfV0pOyAvLyB0aGlzLmNhbnZhc0ltYWdlU2VxdWVuY2UubGVycEFtb3VudCA9IDAuMDI7XG4gICAgLy8gTG9hZCB0aGUgaWFtZ2VzLlxuXG4gICAgdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLmxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIFdoZW4gcmVhZHkgcmVuZGVyIHdoYXRldmVyIHRoZSBjdXJyZW50IGVhc2VkUHJvZ3Jlc3MgdmFsdWUgaXMuXG4gICAgICBfdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoX3RoaXMucmFmUHJvZ3Jlc3MuY3VycmVudFByb2dyZXNzKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlOSwgW3tcbiAgICBrZXk6IFwib25Qcm9ncmVzc1VwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblByb2dyZXNzVXBkYXRlKGVhc2VkUHJvZ3Jlc3MsIGRpcmVjdGlvbikge1xuICAgICAgdGhpcy5jYW52YXNJbWFnZVNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoZWFzZWRQcm9ncmVzcyk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU5O1xufSgpO1xuXG5leHBvcnQgeyBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlOSBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/canvas-image-sequence9.js\n");

/***/ }),

/***/ "./examples/carousel.js":
/*!******************************!*\
  !*** ./examples/carousel.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CarouselSample; });\n/* harmony import */ var _lib_ui_carousel_carousel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/ui/carousel/carousel */ \"./lib/ui/carousel/carousel.js\");\n/* harmony import */ var _lib_ui_carousel_draggable_slide__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/ui/carousel/draggable-slide */ \"./lib/ui/carousel/draggable-slide.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Sample showing two Carousel instances synced with CarouselSynchronizer.\n *\n * The top carousel uses the DraggableSlide transition and the bottom is\n * styled through CSS with no special interaction.\n */\n\n\n\nvar CarouselSample = function CarouselSample() {\n  _classCallCheck(this, CarouselSample);\n\n  function easeOutBounce(x) {\n    var n1 = 7.5625;\n    var d1 = 2.75;\n\n    if (x < 1 / d1) {\n      return n1 * x * x;\n    } else if (x < 2 / d1) {\n      return n1 * (x -= 1.5 / d1) * x + 0.75;\n    } else if (x < 2.5 / d1) {\n      return n1 * (x -= 2.25 / d1) * x + 0.9375;\n    } else {\n      return n1 * (x -= 2.625 / d1) * x + 0.984375;\n    }\n  }\n\n  var a = new _lib_ui_carousel_carousel__WEBPACK_IMPORTED_MODULE_0__[\"Carousel\"](document.querySelector('.carousel--a'), Array.from(document.querySelectorAll('.carousel--a .slide')), {\n    autoplaySpeed: 3000,\n    loop: true,\n    transition: new _lib_ui_carousel_draggable_slide__WEBPACK_IMPORTED_MODULE_1__[\"DraggableSlide\"]({\n      transitionTime: 2000,\n      easingFunction: easeOutBounce\n    })\n  });\n  var b = new _lib_ui_carousel_carousel__WEBPACK_IMPORTED_MODULE_0__[\"Carousel\"](document.querySelector('.nav'), Array.from(document.querySelectorAll('.nav .dot')), {\n    loop: true\n  });\n  var c = new _lib_ui_carousel_carousel__WEBPACK_IMPORTED_MODULE_0__[\"Carousel\"](document.querySelector('.carousel--c'), Array.from(document.querySelectorAll('.carousel--c .slide')), {\n    loop: false,\n    transition: 'draggable'\n  });\n  a.sync(b, c);\n  var d = new _lib_ui_carousel_carousel__WEBPACK_IMPORTED_MODULE_0__[\"Carousel\"](document.querySelector('.carousel--d'), Array.from(document.querySelectorAll('.carousel--d .slide')), {\n    loop: false,\n    transition: 'draggable'\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYXJvdXNlbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2Nhcm91c2VsLmpzP2EyZTQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBTYW1wbGUgc2hvd2luZyB0d28gQ2Fyb3VzZWwgaW5zdGFuY2VzIHN5bmNlZCB3aXRoIENhcm91c2VsU3luY2hyb25pemVyLlxuICpcbiAqIFRoZSB0b3AgY2Fyb3VzZWwgdXNlcyB0aGUgRHJhZ2dhYmxlU2xpZGUgdHJhbnNpdGlvbiBhbmQgdGhlIGJvdHRvbSBpc1xuICogc3R5bGVkIHRocm91Z2ggQ1NTIHdpdGggbm8gc3BlY2lhbCBpbnRlcmFjdGlvbi5cbiAqL1xuaW1wb3J0IHsgQ2Fyb3VzZWwgfSBmcm9tICcuLi9saWIvdWkvY2Fyb3VzZWwvY2Fyb3VzZWwnO1xuaW1wb3J0IHsgRHJhZ2dhYmxlU2xpZGUgfSBmcm9tICcuLi9saWIvdWkvY2Fyb3VzZWwvZHJhZ2dhYmxlLXNsaWRlJztcblxudmFyIENhcm91c2VsU2FtcGxlID0gZnVuY3Rpb24gQ2Fyb3VzZWxTYW1wbGUoKSB7XG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYXJvdXNlbFNhbXBsZSk7XG5cbiAgZnVuY3Rpb24gZWFzZU91dEJvdW5jZSh4KSB7XG4gICAgdmFyIG4xID0gNy41NjI1O1xuICAgIHZhciBkMSA9IDIuNzU7XG5cbiAgICBpZiAoeCA8IDEgLyBkMSkge1xuICAgICAgcmV0dXJuIG4xICogeCAqIHg7XG4gICAgfSBlbHNlIGlmICh4IDwgMiAvIGQxKSB7XG4gICAgICByZXR1cm4gbjEgKiAoeCAtPSAxLjUgLyBkMSkgKiB4ICsgMC43NTtcbiAgICB9IGVsc2UgaWYgKHggPCAyLjUgLyBkMSkge1xuICAgICAgcmV0dXJuIG4xICogKHggLT0gMi4yNSAvIGQxKSAqIHggKyAwLjkzNzU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuMSAqICh4IC09IDIuNjI1IC8gZDEpICogeCArIDAuOTg0Mzc1O1xuICAgIH1cbiAgfVxuXG4gIHZhciBhID0gbmV3IENhcm91c2VsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC0tYScpLCBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJvdXNlbC0tYSAuc2xpZGUnKSksIHtcbiAgICBhdXRvcGxheVNwZWVkOiAzMDAwLFxuICAgIGxvb3A6IHRydWUsXG4gICAgdHJhbnNpdGlvbjogbmV3IERyYWdnYWJsZVNsaWRlKHtcbiAgICAgIHRyYW5zaXRpb25UaW1lOiAyMDAwLFxuICAgICAgZWFzaW5nRnVuY3Rpb246IGVhc2VPdXRCb3VuY2VcbiAgICB9KVxuICB9KTtcbiAgdmFyIGIgPSBuZXcgQ2Fyb3VzZWwoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdicpLCBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXYgLmRvdCcpKSwge1xuICAgIGxvb3A6IHRydWVcbiAgfSk7XG4gIHZhciBjID0gbmV3IENhcm91c2VsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbC0tYycpLCBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJvdXNlbC0tYyAuc2xpZGUnKSksIHtcbiAgICBsb29wOiBmYWxzZSxcbiAgICB0cmFuc2l0aW9uOiAnZHJhZ2dhYmxlJ1xuICB9KTtcbiAgYS5zeW5jKGIsIGMpO1xuICB2YXIgZCA9IG5ldyBDYXJvdXNlbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwtLWQnKSwgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2Fyb3VzZWwtLWQgLnNsaWRlJykpLCB7XG4gICAgbG9vcDogZmFsc2UsXG4gICAgdHJhbnNpdGlvbjogJ2RyYWdnYWJsZSdcbiAgfSk7XG59O1xuXG5leHBvcnQgeyBDYXJvdXNlbFNhbXBsZSBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/carousel.js\n");

/***/ }),

/***/ "./examples/catmull-rom.js":
/*!*********************************!*\
  !*** ./examples/catmull-rom.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CatmullRomSample; });\n/* harmony import */ var _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/dom/dom-canvas */ \"./lib/dom/dom-canvas.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _lib_mathf_catmull_rom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/mathf/catmull-rom */ \"./lib/mathf/catmull-rom.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n/**\n * Demonstrates basic usage of CatmullRom\n */\n\nvar CatmullRomSample = function CatmullRomSample() {\n  var _this = this;\n\n  _classCallCheck(this, CatmullRomSample);\n\n  this.canvas = document.getElementById('canvas');\n  this.canvas.width = this.canvas.offsetWidth;\n  this.canvas.height = this.canvas.offsetHeight;\n  this.context = this.canvas.getContext('2d');\n  console.log('catmull rom sample'); // Start by defining our control points\n\n  var points = [new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](0, 500), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](100, 200), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](200, 400), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](300, 200), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](400, 350), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](500, 300)]; // Now create a catmullRom Interpolation.\n\n  var catmullInterpolation = _lib_mathf_catmull_rom__WEBPACK_IMPORTED_MODULE_2__[\"CatmullRom\"].interpolate(points, 0.5, 0.5); // Now create a catmullRom with low tension\n\n  var catmullInterpolationLow = _lib_mathf_catmull_rom__WEBPACK_IMPORTED_MODULE_2__[\"CatmullRom\"].interpolate(points, 0, 0); // Now create a catmullRom with high tension\n\n  var catmullInterpolationHigh = _lib_mathf_catmull_rom__WEBPACK_IMPORTED_MODULE_2__[\"CatmullRom\"].interpolate(points, 1, 1); // Set the number of points we want to draw along the spline.\n\n  var drawPoints = 500; // The amount of progress to per dot.\n\n  var progressSpan = 1 / drawPoints; // Loop throught the drawPoints.\n\n  for (var step = 0; step < drawPoints; step++) {\n    // Get the x,y value along the catmull rom spline based on the\n    // current progress.\n    var progress = step * progressSpan;\n    var vector = void 0; // Draw the low tension vesion.\n\n    _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'orange');\n    _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'orange');\n    vector = catmullInterpolationLow(progress);\n    _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, vector, 2); // Draw the high tension vesion.\n\n    _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'blue');\n    _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'blue');\n    vector = catmullInterpolationHigh(progress);\n    _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, vector, 2); // Now draw it out.\n\n    _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'green');\n    _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'green');\n    vector = catmullInterpolation(progress);\n    _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, vector, 5);\n  } // Now draw out the original points in red.\n\n\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'red');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'red');\n  points.forEach(function (point) {\n    _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(_this.context, point);\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jYXRtdWxsLXJvbS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2NhdG11bGwtcm9tLmpzP2RlZDkiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuaW1wb3J0IHsgZG9tQ2FudmFzIH0gZnJvbSAnLi4vbGliL2RvbS9kb20tY2FudmFzJztcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4uL2xpYi9tYXRoZi92ZWN0b3InO1xuaW1wb3J0IHsgQ2F0bXVsbFJvbSB9IGZyb20gJy4uL2xpYi9tYXRoZi9jYXRtdWxsLXJvbSc7XG4vKipcbiAqIERlbW9uc3RyYXRlcyBiYXNpYyB1c2FnZSBvZiBDYXRtdWxsUm9tXG4gKi9cblxudmFyIENhdG11bGxSb21TYW1wbGUgPSBmdW5jdGlvbiBDYXRtdWxsUm9tU2FtcGxlKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYXRtdWxsUm9tU2FtcGxlKTtcblxuICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcbiAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5vZmZzZXRXaWR0aDtcbiAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMub2Zmc2V0SGVpZ2h0O1xuICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICBjb25zb2xlLmxvZygnY2F0bXVsbCByb20gc2FtcGxlJyk7IC8vIFN0YXJ0IGJ5IGRlZmluaW5nIG91ciBjb250cm9sIHBvaW50c1xuXG4gIHZhciBwb2ludHMgPSBbbmV3IFZlY3RvcigwLCA1MDApLCBuZXcgVmVjdG9yKDEwMCwgMjAwKSwgbmV3IFZlY3RvcigyMDAsIDQwMCksIG5ldyBWZWN0b3IoMzAwLCAyMDApLCBuZXcgVmVjdG9yKDQwMCwgMzUwKSwgbmV3IFZlY3Rvcig1MDAsIDMwMCldOyAvLyBOb3cgY3JlYXRlIGEgY2F0bXVsbFJvbSBJbnRlcnBvbGF0aW9uLlxuXG4gIHZhciBjYXRtdWxsSW50ZXJwb2xhdGlvbiA9IENhdG11bGxSb20uaW50ZXJwb2xhdGUocG9pbnRzLCAwLjUsIDAuNSk7IC8vIE5vdyBjcmVhdGUgYSBjYXRtdWxsUm9tIHdpdGggbG93IHRlbnNpb25cblxuICB2YXIgY2F0bXVsbEludGVycG9sYXRpb25Mb3cgPSBDYXRtdWxsUm9tLmludGVycG9sYXRlKHBvaW50cywgMCwgMCk7IC8vIE5vdyBjcmVhdGUgYSBjYXRtdWxsUm9tIHdpdGggaGlnaCB0ZW5zaW9uXG5cbiAgdmFyIGNhdG11bGxJbnRlcnBvbGF0aW9uSGlnaCA9IENhdG11bGxSb20uaW50ZXJwb2xhdGUocG9pbnRzLCAxLCAxKTsgLy8gU2V0IHRoZSBudW1iZXIgb2YgcG9pbnRzIHdlIHdhbnQgdG8gZHJhdyBhbG9uZyB0aGUgc3BsaW5lLlxuXG4gIHZhciBkcmF3UG9pbnRzID0gNTAwOyAvLyBUaGUgYW1vdW50IG9mIHByb2dyZXNzIHRvIHBlciBkb3QuXG5cbiAgdmFyIHByb2dyZXNzU3BhbiA9IDEgLyBkcmF3UG9pbnRzOyAvLyBMb29wIHRocm91Z2h0IHRoZSBkcmF3UG9pbnRzLlxuXG4gIGZvciAodmFyIHN0ZXAgPSAwOyBzdGVwIDwgZHJhd1BvaW50czsgc3RlcCsrKSB7XG4gICAgLy8gR2V0IHRoZSB4LHkgdmFsdWUgYWxvbmcgdGhlIGNhdG11bGwgcm9tIHNwbGluZSBiYXNlZCBvbiB0aGVcbiAgICAvLyBjdXJyZW50IHByb2dyZXNzLlxuICAgIHZhciBwcm9ncmVzcyA9IHN0ZXAgKiBwcm9ncmVzc1NwYW47XG4gICAgdmFyIHZlY3RvciA9IHZvaWQgMDsgLy8gRHJhdyB0aGUgbG93IHRlbnNpb24gdmVzaW9uLlxuXG4gICAgZG9tQ2FudmFzLnNldEZpbGxDb2xvcih0aGlzLmNvbnRleHQsICdvcmFuZ2UnKTtcbiAgICBkb21DYW52YXMuc2V0U3Ryb2tlQ29sb3IodGhpcy5jb250ZXh0LCAnb3JhbmdlJyk7XG4gICAgdmVjdG9yID0gY2F0bXVsbEludGVycG9sYXRpb25Mb3cocHJvZ3Jlc3MpO1xuICAgIGRvbUNhbnZhcy52ZWN0b3JQb2ludCh0aGlzLmNvbnRleHQsIHZlY3RvciwgMik7IC8vIERyYXcgdGhlIGhpZ2ggdGVuc2lvbiB2ZXNpb24uXG5cbiAgICBkb21DYW52YXMuc2V0RmlsbENvbG9yKHRoaXMuY29udGV4dCwgJ2JsdWUnKTtcbiAgICBkb21DYW52YXMuc2V0U3Ryb2tlQ29sb3IodGhpcy5jb250ZXh0LCAnYmx1ZScpO1xuICAgIHZlY3RvciA9IGNhdG11bGxJbnRlcnBvbGF0aW9uSGlnaChwcm9ncmVzcyk7XG4gICAgZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgdmVjdG9yLCAyKTsgLy8gTm93IGRyYXcgaXQgb3V0LlxuXG4gICAgZG9tQ2FudmFzLnNldEZpbGxDb2xvcih0aGlzLmNvbnRleHQsICdncmVlbicpO1xuICAgIGRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdncmVlbicpO1xuICAgIHZlY3RvciA9IGNhdG11bGxJbnRlcnBvbGF0aW9uKHByb2dyZXNzKTtcbiAgICBkb21DYW52YXMudmVjdG9yUG9pbnQodGhpcy5jb250ZXh0LCB2ZWN0b3IsIDUpO1xuICB9IC8vIE5vdyBkcmF3IG91dCB0aGUgb3JpZ2luYWwgcG9pbnRzIGluIHJlZC5cblxuXG4gIGRvbUNhbnZhcy5zZXRGaWxsQ29sb3IodGhpcy5jb250ZXh0LCAncmVkJyk7XG4gIGRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdyZWQnKTtcbiAgcG9pbnRzLmZvckVhY2goZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgZG9tQ2FudmFzLnZlY3RvclBvaW50KF90aGlzLmNvbnRleHQsIHBvaW50KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgeyBDYXRtdWxsUm9tU2FtcGxlIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/catmull-rom.js\n");

/***/ }),

/***/ "./examples/components.js":
/*!********************************!*\
  !*** ./examples/components.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ComponentsSample; });\n/* harmony import */ var _lib_components_image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/components/image */ \"./lib/components/image.js\");\n/* harmony import */ var _lib_components_video__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/components/video */ \"./lib/components/video.js\");\n/* harmony import */ var _lib_components_youtube_inline__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/components/youtube-inline */ \"./lib/components/youtube-inline.js\");\n/* harmony import */ var _lib_components_youtube_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/components/youtube-modal */ \"./lib/components/youtube-modal.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\n\nvar ComponentsSample = function ComponentsSample() {\n  _classCallCheck(this, ComponentsSample);\n\n  window.customElements.define('degu-image', _lib_components_image__WEBPACK_IMPORTED_MODULE_0__[\"DeguImage\"]);\n  window.customElements.define('degu-video', _lib_components_video__WEBPACK_IMPORTED_MODULE_1__[\"DeguVideo\"]);\n  window.customElements.define('degu-youtube-inline', _lib_components_youtube_inline__WEBPACK_IMPORTED_MODULE_2__[\"DeguYouTubeInline\"]);\n  window.customElements.define('degu-youtube-modal', _lib_components_youtube_modal__WEBPACK_IMPORTED_MODULE_3__[\"DeguYouTubeModal\"]); // Youtube Inline Samples\n\n  var youtubeInlineTest = document.getElementById('youtube-inline-test1');\n  youtubeInlineTest.load('t_cKM_JYtbs');\n  youtubeInlineTest.addEventListener('stateChange', function (e) {\n    console.log('stateChange', e.detail.event.data);\n  });\n  var colorTest = document.getElementById('color-test');\n  var colorContainer = document.getElementById('color-container');\n  colorTest.addEventListener(_lib_components_video__WEBPACK_IMPORTED_MODULE_1__[\"DeguVideo\"].Events.CANVAS_READY, function () {\n    window.setInterval(function () {\n      var color = colorTest.getHexColorAt(10, 200);\n      _lib_dom_dom__WEBPACK_IMPORTED_MODULE_4__[\"setCssVariable\"](colorContainer, '--background', color);\n    }, 50);\n  });\n  var index = 0;\n  var youtubeIds = ['_tV5LEBDs7w', 'hGIW2fDb0jg', '4pcNRDx6KrE', 'UtWaBEn_x8c'];\n  document.getElementById('change-youtube-video').addEventListener('click', function () {\n    index++;\n\n    if (index >= youtubeIds.length - 1) {\n      index = 0;\n    }\n\n    youtubeInlineTest.load(youtubeIds[index], true);\n  }); // Youtube Modal Sample\n  // const host = document.getElementById('youtube-modal-section');\n\n  var host = document.body;\n  var youtubeModal = _lib_components_youtube_modal__WEBPACK_IMPORTED_MODULE_3__[\"DeguYouTubeModal\"].register(host);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jb21wb25lbnRzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvY29tcG9uZW50cy5qcz81YWMzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmltcG9ydCB7IERlZ3VJbWFnZSB9IGZyb20gJy4uL2xpYi9jb21wb25lbnRzL2ltYWdlJztcbmltcG9ydCB7IERlZ3VWaWRlbyB9IGZyb20gJy4uL2xpYi9jb21wb25lbnRzL3ZpZGVvJztcbmltcG9ydCB7IERlZ3VZb3VUdWJlSW5saW5lIH0gZnJvbSAnLi4vbGliL2NvbXBvbmVudHMveW91dHViZS1pbmxpbmUnO1xuaW1wb3J0IHsgRGVndVlvdVR1YmVNb2RhbCB9IGZyb20gJy4uL2xpYi9jb21wb25lbnRzL3lvdXR1YmUtbW9kYWwnO1xuaW1wb3J0ICogYXMgZG9tIGZyb20gJy4uL2xpYi9kb20vZG9tJztcblxudmFyIENvbXBvbmVudHNTYW1wbGUgPSBmdW5jdGlvbiBDb21wb25lbnRzU2FtcGxlKCkge1xuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29tcG9uZW50c1NhbXBsZSk7XG5cbiAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnZGVndS1pbWFnZScsIERlZ3VJbWFnZSk7XG4gIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2RlZ3UtdmlkZW8nLCBEZWd1VmlkZW8pO1xuICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdkZWd1LXlvdXR1YmUtaW5saW5lJywgRGVndVlvdVR1YmVJbmxpbmUpO1xuICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdkZWd1LXlvdXR1YmUtbW9kYWwnLCBEZWd1WW91VHViZU1vZGFsKTsgLy8gWW91dHViZSBJbmxpbmUgU2FtcGxlc1xuXG4gIHZhciB5b3V0dWJlSW5saW5lVGVzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd5b3V0dWJlLWlubGluZS10ZXN0MScpO1xuICB5b3V0dWJlSW5saW5lVGVzdC5sb2FkKCd0X2NLTV9KWXRicycpO1xuICB5b3V0dWJlSW5saW5lVGVzdC5hZGRFdmVudExpc3RlbmVyKCdzdGF0ZUNoYW5nZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgY29uc29sZS5sb2coJ3N0YXRlQ2hhbmdlJywgZS5kZXRhaWwuZXZlbnQuZGF0YSk7XG4gIH0pO1xuICB2YXIgY29sb3JUZXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbG9yLXRlc3QnKTtcbiAgdmFyIGNvbG9yQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbG9yLWNvbnRhaW5lcicpO1xuICBjb2xvclRlc3QuYWRkRXZlbnRMaXN0ZW5lcihEZWd1VmlkZW8uRXZlbnRzLkNBTlZBU19SRUFEWSwgZnVuY3Rpb24gKCkge1xuICAgIHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29sb3IgPSBjb2xvclRlc3QuZ2V0SGV4Q29sb3JBdCgxMCwgMjAwKTtcbiAgICAgIGRvbS5zZXRDc3NWYXJpYWJsZShjb2xvckNvbnRhaW5lciwgJy0tYmFja2dyb3VuZCcsIGNvbG9yKTtcbiAgICB9LCA1MCk7XG4gIH0pO1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgeW91dHViZUlkcyA9IFsnX3RWNUxFQkRzN3cnLCAnaEdJVzJmRGIwamcnLCAnNHBjTlJEeDZLckUnLCAnVXRXYUJFbl94OGMnXTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYW5nZS15b3V0dWJlLXZpZGVvJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgaW5kZXgrKztcblxuICAgIGlmIChpbmRleCA+PSB5b3V0dWJlSWRzLmxlbmd0aCAtIDEpIHtcbiAgICAgIGluZGV4ID0gMDtcbiAgICB9XG5cbiAgICB5b3V0dWJlSW5saW5lVGVzdC5sb2FkKHlvdXR1YmVJZHNbaW5kZXhdLCB0cnVlKTtcbiAgfSk7IC8vIFlvdXR1YmUgTW9kYWwgU2FtcGxlXG4gIC8vIGNvbnN0IGhvc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgneW91dHViZS1tb2RhbC1zZWN0aW9uJyk7XG5cbiAgdmFyIGhvc3QgPSBkb2N1bWVudC5ib2R5O1xuICB2YXIgeW91dHViZU1vZGFsID0gRGVndVlvdVR1YmVNb2RhbC5yZWdpc3Rlcihob3N0KTtcbn07XG5cbmV4cG9ydCB7IENvbXBvbmVudHNTYW1wbGUgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/components.js\n");

/***/ }),

/***/ "./examples/css-var-interpolate.js":
/*!*****************************************!*\
  !*** ./examples/css-var-interpolate.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CssVarInterpolateSample; });\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_interpolate_css_var_interpolate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/interpolate/css-var-interpolate */ \"./lib/interpolate/css-var-interpolate.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\nvar CssVarInterpolateSample = function CssVarInterpolateSample() {\n  var _this = this;\n\n  _classCallCheck(this, CssVarInterpolateSample);\n\n  console.log('css var interpolate sample');\n  this.ball = document.getElementById('ball');\n  this.range = document.getElementById('range');\n  this.cssVarInterpolate = new _lib_interpolate_css_var_interpolate__WEBPACK_IMPORTED_MODULE_2__[\"CssVarInterpolate\"](this.ball, {\n    interpolations: [{\n      progress: [{\n        from: 0,\n        to: 1,\n        start: 0,\n        end: 500\n      }],\n      id: '--x'\n    }, {\n      progress: [{\n        from: 0,\n        to: 0.2,\n        start: 0,\n        end: 100,\n        easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_1__[\"EASE\"].easeOutSine\n      }, {\n        from: 0.2,\n        to: 0.3,\n        start: 100,\n        end: 300,\n        easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_1__[\"EASE\"].easeOutSine\n      }, {\n        from: 0.3,\n        to: 0.5,\n        start: 300,\n        end: 0,\n        easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_1__[\"EASE\"].easeOutSine\n      }, {\n        from: 0.5,\n        to: 1,\n        start: 0,\n        end: 500,\n        easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_1__[\"EASE\"].easeInQuad\n      }],\n      id: '--y'\n    }]\n  }); // Here is an example of using RafProgress to ease out the progress\n  // values.\n\n  var rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__[\"RafProgress\"](function (easedProgress) {\n    _this.cssVarInterpolate.update(easedProgress);\n  });\n  rafProgress.setCurrentProgress(+this.range.value); // Update rafProgress each time the value of range changes.\n\n  this.range.addEventListener('input', function () {\n    rafProgress.easeTo(+_this.range.value, 0.1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_1__[\"EASE\"].easeInOutQuad);\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jc3MtdmFyLWludGVycG9sYXRlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvY3NzLXZhci1pbnRlcnBvbGF0ZS5qcz8wMjZhIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmltcG9ydCB7IFJhZlByb2dyZXNzIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3MnO1xuaW1wb3J0IHsgRUFTRSB9IGZyb20gJy4uL2xpYi9lYXNlL2Vhc2UnO1xuaW1wb3J0IHsgQ3NzVmFySW50ZXJwb2xhdGUgfSBmcm9tICcuLi9saWIvaW50ZXJwb2xhdGUvY3NzLXZhci1pbnRlcnBvbGF0ZSc7XG5cbnZhciBDc3NWYXJJbnRlcnBvbGF0ZVNhbXBsZSA9IGZ1bmN0aW9uIENzc1ZhckludGVycG9sYXRlU2FtcGxlKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDc3NWYXJJbnRlcnBvbGF0ZVNhbXBsZSk7XG5cbiAgY29uc29sZS5sb2coJ2NzcyB2YXIgaW50ZXJwb2xhdGUgc2FtcGxlJyk7XG4gIHRoaXMuYmFsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWxsJyk7XG4gIHRoaXMucmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFuZ2UnKTtcbiAgdGhpcy5jc3NWYXJJbnRlcnBvbGF0ZSA9IG5ldyBDc3NWYXJJbnRlcnBvbGF0ZSh0aGlzLmJhbGwsIHtcbiAgICBpbnRlcnBvbGF0aW9uczogW3tcbiAgICAgIHByb2dyZXNzOiBbe1xuICAgICAgICBmcm9tOiAwLFxuICAgICAgICB0bzogMSxcbiAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgIGVuZDogNTAwXG4gICAgICB9XSxcbiAgICAgIGlkOiAnLS14J1xuICAgIH0sIHtcbiAgICAgIHByb2dyZXNzOiBbe1xuICAgICAgICBmcm9tOiAwLFxuICAgICAgICB0bzogMC4yLFxuICAgICAgICBzdGFydDogMCxcbiAgICAgICAgZW5kOiAxMDAsXG4gICAgICAgIGVhc2luZ0Z1bmN0aW9uOiBFQVNFLmVhc2VPdXRTaW5lXG4gICAgICB9LCB7XG4gICAgICAgIGZyb206IDAuMixcbiAgICAgICAgdG86IDAuMyxcbiAgICAgICAgc3RhcnQ6IDEwMCxcbiAgICAgICAgZW5kOiAzMDAsXG4gICAgICAgIGVhc2luZ0Z1bmN0aW9uOiBFQVNFLmVhc2VPdXRTaW5lXG4gICAgICB9LCB7XG4gICAgICAgIGZyb206IDAuMyxcbiAgICAgICAgdG86IDAuNSxcbiAgICAgICAgc3RhcnQ6IDMwMCxcbiAgICAgICAgZW5kOiAwLFxuICAgICAgICBlYXNpbmdGdW5jdGlvbjogRUFTRS5lYXNlT3V0U2luZVxuICAgICAgfSwge1xuICAgICAgICBmcm9tOiAwLjUsXG4gICAgICAgIHRvOiAxLFxuICAgICAgICBzdGFydDogMCxcbiAgICAgICAgZW5kOiA1MDAsXG4gICAgICAgIGVhc2luZ0Z1bmN0aW9uOiBFQVNFLmVhc2VJblF1YWRcbiAgICAgIH1dLFxuICAgICAgaWQ6ICctLXknXG4gICAgfV1cbiAgfSk7IC8vIEhlcmUgaXMgYW4gZXhhbXBsZSBvZiB1c2luZyBSYWZQcm9ncmVzcyB0byBlYXNlIG91dCB0aGUgcHJvZ3Jlc3NcbiAgLy8gdmFsdWVzLlxuXG4gIHZhciByYWZQcm9ncmVzcyA9IG5ldyBSYWZQcm9ncmVzcyhmdW5jdGlvbiAoZWFzZWRQcm9ncmVzcykge1xuICAgIF90aGlzLmNzc1ZhckludGVycG9sYXRlLnVwZGF0ZShlYXNlZFByb2dyZXNzKTtcbiAgfSk7XG4gIHJhZlByb2dyZXNzLnNldEN1cnJlbnRQcm9ncmVzcygrdGhpcy5yYW5nZS52YWx1ZSk7IC8vIFVwZGF0ZSByYWZQcm9ncmVzcyBlYWNoIHRpbWUgdGhlIHZhbHVlIG9mIHJhbmdlIGNoYW5nZXMuXG5cbiAgdGhpcy5yYW5nZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcbiAgICByYWZQcm9ncmVzcy5lYXNlVG8oK190aGlzLnJhbmdlLnZhbHVlLCAwLjEsIEVBU0UuZWFzZUluT3V0UXVhZCk7XG4gIH0pO1xufTtcblxuZXhwb3J0IHsgQ3NzVmFySW50ZXJwb2xhdGVTYW1wbGUgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/css-var-interpolate.js\n");

/***/ }),

/***/ "./examples/css-var-interpolate2.js":
/*!******************************************!*\
  !*** ./examples/css-var-interpolate2.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CssVarInterpolateSample2; });\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_interpolate_css_var_interpolate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/interpolate/css-var-interpolate */ \"./lib/interpolate/css-var-interpolate.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\nvar CssVarInterpolateSample2 = function CssVarInterpolateSample2() {\n  var _this = this;\n\n  _classCallCheck(this, CssVarInterpolateSample2);\n\n  console.log('css var interpolate sample 2');\n  this.ball = document.getElementById('ball');\n  this.range = document.getElementById('range');\n  this.cssVarInterpolate = new _lib_interpolate_css_var_interpolate__WEBPACK_IMPORTED_MODULE_3__[\"CssVarInterpolate\"](document.getElementById('container'), {\n    interpolations: [{\n      progress: [{\n        from: 0,\n        to: 0.5,\n        start: 'rgba(255, 128, 0, 0.3)',\n        // orange\n        end: 'rgba(255, 153, 204, 1)' // pink\n\n      }, {\n        from: 0.5,\n        to: 1,\n        start: 'rgba(255, 153, 204, 1)',\n        // pink\n        end: 'rgba(0, 0, 255, 1)' // blue\n\n      }],\n      id: '--background'\n    }, {\n      progress: [{\n        from: 0,\n        to: 1,\n        start: '0px',\n        end: '500px'\n      }],\n      id: '--x'\n    }, {\n      progress: [{\n        from: 0,\n        to: 0.2,\n        start: '0px',\n        end: '100px',\n        easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].easeOutSine\n      }, {\n        from: 0.2,\n        to: 0.3,\n        start: '100px',\n        end: '300px',\n        easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].easeOutSine\n      }, {\n        from: 0.3,\n        to: 0.5,\n        start: '300px',\n        end: '0px',\n        easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].easeOutSine\n      }, {\n        from: 0.5,\n        to: 1,\n        start: '0px',\n        end: '500px',\n        easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].easeInQuad\n      }],\n      id: '--y'\n    }]\n  }); // Here is an example of using RafProgress to ease out the progress\n  // values.\n\n  var rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_1__[\"RafProgress\"](function (easedProgress) {\n    _this.cssVarInterpolate.update(easedProgress);\n  });\n  rafProgress.setCurrentProgress(+this.range.value); // Update rafProgress each time the value of range changes.\n\n  this.range.addEventListener('input', function () {\n    rafProgress.easeTo(+_this.range.value, 0.1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].easeInOutQuad);\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jc3MtdmFyLWludGVycG9sYXRlMi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2Nzcy12YXItaW50ZXJwb2xhdGUyLmpzPzUwOTgiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuaW1wb3J0IHsgbWF0aGYgfSBmcm9tICcuLi9saWIvbWF0aGYvbWF0aGYnO1xuaW1wb3J0IHsgUmFmUHJvZ3Jlc3MgfSBmcm9tICcuLi9saWIvcmFmL3JhZi1wcm9ncmVzcyc7XG5pbXBvcnQgeyBFQVNFIH0gZnJvbSAnLi4vbGliL2Vhc2UvZWFzZSc7XG5pbXBvcnQgeyBDc3NWYXJJbnRlcnBvbGF0ZSB9IGZyb20gJy4uL2xpYi9pbnRlcnBvbGF0ZS9jc3MtdmFyLWludGVycG9sYXRlJztcblxudmFyIENzc1ZhckludGVycG9sYXRlU2FtcGxlMiA9IGZ1bmN0aW9uIENzc1ZhckludGVycG9sYXRlU2FtcGxlMigpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ3NzVmFySW50ZXJwb2xhdGVTYW1wbGUyKTtcblxuICBjb25zb2xlLmxvZygnY3NzIHZhciBpbnRlcnBvbGF0ZSBzYW1wbGUgMicpO1xuICB0aGlzLmJhbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFsbCcpO1xuICB0aGlzLnJhbmdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhbmdlJyk7XG4gIHRoaXMuY3NzVmFySW50ZXJwb2xhdGUgPSBuZXcgQ3NzVmFySW50ZXJwb2xhdGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpLCB7XG4gICAgaW50ZXJwb2xhdGlvbnM6IFt7XG4gICAgICBwcm9ncmVzczogW3tcbiAgICAgICAgZnJvbTogMCxcbiAgICAgICAgdG86IDAuNSxcbiAgICAgICAgc3RhcnQ6ICdyZ2JhKDI1NSwgMTI4LCAwLCAwLjMpJyxcbiAgICAgICAgLy8gb3JhbmdlXG4gICAgICAgIGVuZDogJ3JnYmEoMjU1LCAxNTMsIDIwNCwgMSknIC8vIHBpbmtcblxuICAgICAgfSwge1xuICAgICAgICBmcm9tOiAwLjUsXG4gICAgICAgIHRvOiAxLFxuICAgICAgICBzdGFydDogJ3JnYmEoMjU1LCAxNTMsIDIwNCwgMSknLFxuICAgICAgICAvLyBwaW5rXG4gICAgICAgIGVuZDogJ3JnYmEoMCwgMCwgMjU1LCAxKScgLy8gYmx1ZVxuXG4gICAgICB9XSxcbiAgICAgIGlkOiAnLS1iYWNrZ3JvdW5kJ1xuICAgIH0sIHtcbiAgICAgIHByb2dyZXNzOiBbe1xuICAgICAgICBmcm9tOiAwLFxuICAgICAgICB0bzogMSxcbiAgICAgICAgc3RhcnQ6ICcwcHgnLFxuICAgICAgICBlbmQ6ICc1MDBweCdcbiAgICAgIH1dLFxuICAgICAgaWQ6ICctLXgnXG4gICAgfSwge1xuICAgICAgcHJvZ3Jlc3M6IFt7XG4gICAgICAgIGZyb206IDAsXG4gICAgICAgIHRvOiAwLjIsXG4gICAgICAgIHN0YXJ0OiAnMHB4JyxcbiAgICAgICAgZW5kOiAnMTAwcHgnLFxuICAgICAgICBlYXNpbmdGdW5jdGlvbjogRUFTRS5lYXNlT3V0U2luZVxuICAgICAgfSwge1xuICAgICAgICBmcm9tOiAwLjIsXG4gICAgICAgIHRvOiAwLjMsXG4gICAgICAgIHN0YXJ0OiAnMTAwcHgnLFxuICAgICAgICBlbmQ6ICczMDBweCcsXG4gICAgICAgIGVhc2luZ0Z1bmN0aW9uOiBFQVNFLmVhc2VPdXRTaW5lXG4gICAgICB9LCB7XG4gICAgICAgIGZyb206IDAuMyxcbiAgICAgICAgdG86IDAuNSxcbiAgICAgICAgc3RhcnQ6ICczMDBweCcsXG4gICAgICAgIGVuZDogJzBweCcsXG4gICAgICAgIGVhc2luZ0Z1bmN0aW9uOiBFQVNFLmVhc2VPdXRTaW5lXG4gICAgICB9LCB7XG4gICAgICAgIGZyb206IDAuNSxcbiAgICAgICAgdG86IDEsXG4gICAgICAgIHN0YXJ0OiAnMHB4JyxcbiAgICAgICAgZW5kOiAnNTAwcHgnLFxuICAgICAgICBlYXNpbmdGdW5jdGlvbjogRUFTRS5lYXNlSW5RdWFkXG4gICAgICB9XSxcbiAgICAgIGlkOiAnLS15J1xuICAgIH1dXG4gIH0pOyAvLyBIZXJlIGlzIGFuIGV4YW1wbGUgb2YgdXNpbmcgUmFmUHJvZ3Jlc3MgdG8gZWFzZSBvdXQgdGhlIHByb2dyZXNzXG4gIC8vIHZhbHVlcy5cblxuICB2YXIgcmFmUHJvZ3Jlc3MgPSBuZXcgUmFmUHJvZ3Jlc3MoZnVuY3Rpb24gKGVhc2VkUHJvZ3Jlc3MpIHtcbiAgICBfdGhpcy5jc3NWYXJJbnRlcnBvbGF0ZS51cGRhdGUoZWFzZWRQcm9ncmVzcyk7XG4gIH0pO1xuICByYWZQcm9ncmVzcy5zZXRDdXJyZW50UHJvZ3Jlc3MoK3RoaXMucmFuZ2UudmFsdWUpOyAvLyBVcGRhdGUgcmFmUHJvZ3Jlc3MgZWFjaCB0aW1lIHRoZSB2YWx1ZSBvZiByYW5nZSBjaGFuZ2VzLlxuXG4gIHRoaXMucmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmFmUHJvZ3Jlc3MuZWFzZVRvKCtfdGhpcy5yYW5nZS52YWx1ZSwgMC4xLCBFQVNFLmVhc2VJbk91dFF1YWQpO1xuICB9KTtcbn07XG5cbmV4cG9ydCB7IENzc1ZhckludGVycG9sYXRlU2FtcGxlMiBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/css-var-interpolate2.js\n");

/***/ }),

/***/ "./examples/css-var-interpolate3.js":
/*!******************************************!*\
  !*** ./examples/css-var-interpolate3.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CssVarInterpolateSample3; });\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_func_func__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/func/func */ \"./lib/func/func.js\");\n/* harmony import */ var _lib_dom_element_visibility__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/dom/element-visibility */ \"./lib/dom/element-visibility.js\");\n/* harmony import */ var _lib_interpolate_css_var_interpolate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/interpolate/css-var-interpolate */ \"./lib/interpolate/css-var-interpolate.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\nvar CssVarInterpolateSample3 = /*#__PURE__*/function () {\n  function CssVarInterpolateSample3() {\n    var _this = this;\n\n    _classCallCheck(this, CssVarInterpolateSample3);\n\n    console.log('css var interpolate');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_1__[\"DomWatcher\"]();\n    this.parentElement = document.getElementById('parent');\n    this.childElement = document.getElementById('child'); // Element visibility.  Add 100px before and after the module.\n\n    this.ev = _lib_dom_element_visibility__WEBPACK_IMPORTED_MODULE_5__[\"elementVisibility\"].inview(this.parentElement, {\n      rootMargin: '100px'\n    }); // Instance of rafProgress.\n\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__[\"RafProgress\"](); // Update the progress value per scroll.\n\n    var throttleThreshold = 24;\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      // Throttle the scroll.\n      callback: _lib_func_func__WEBPACK_IMPORTED_MODULE_4__[\"func\"].throttle(function (event) {\n        _this.onScroll();\n      }, throttleThreshold),\n      // Run scroll updates only when the element is visible.\n      runWhen: function runWhen() {\n        return _this.ev.state().ready && _this.ev.state().inview;\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // On init, immediately update the raf progress without lerping.\n\n    this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Setup css var interpolate.\n\n    this.cssVarInterpolate = new _lib_interpolate_css_var_interpolate__WEBPACK_IMPORTED_MODULE_6__[\"CssVarInterpolate\"]( // This is the element the css variables get scoped to.\n    this.parentElement, {\n      interpolations: [{\n        progress: [{\n          from: 0,\n          to: 1,\n          start: '0px',\n          end: '500px'\n        }],\n        id: '--x'\n      }, {\n        progress: [{\n          from: 0,\n          to: 0.2,\n          start: '0px',\n          end: '100px',\n          easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].easeOutSine\n        }, {\n          from: 0.2,\n          to: 0.3,\n          start: '100px',\n          end: '300px',\n          easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].easeOutSine\n        }, {\n          from: 0.3,\n          to: 0.5,\n          start: '300px',\n          end: '0px',\n          easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].easeOutSine\n        }, {\n          from: 0.5,\n          to: 1,\n          start: '0px',\n          end: '500px',\n          easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].easeInQuad\n        }],\n        id: '--y'\n      }]\n    }); // Run scroll once.\n\n    this.domWatcher.run('scroll');\n  }\n\n  _createClass(CssVarInterpolateSample3, [{\n    key: \"onScroll\",\n    value: function onScroll() {\n      // Calculate 'how much' we have scrolled into the parent element from 0-1.\n      // Optionally add offset to this if needed.\n      this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(this.parentElement);\n      this.rafProgress.easeTo(this.progress, 0.25, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n    } // Runs every time eased progress is updated.\n\n  }, {\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(easedProgress, direction) {\n      this.cssVarInterpolate.update(easedProgress);\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.domWatcher.dispose();\n      this.ev.dispose();\n    }\n  }]);\n\n  return CssVarInterpolateSample3;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9jc3MtdmFyLWludGVycG9sYXRlMy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2Nzcy12YXItaW50ZXJwb2xhdGUzLmpzP2NlYjkiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5pbXBvcnQgeyBSYWZQcm9ncmVzcyB9IGZyb20gJy4uL2xpYi9yYWYvcmFmLXByb2dyZXNzJztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9saWIvZG9tL2RvbS13YXRjaGVyJztcbmltcG9ydCB7IEVBU0UgfSBmcm9tICcuLi9saWIvZWFzZS9lYXNlJztcbmltcG9ydCB7IGRvbSB9IGZyb20gJy4uL2xpYi9kb20vZG9tJztcbmltcG9ydCB7IGZ1bmMgfSBmcm9tICcuLi9saWIvZnVuYy9mdW5jJztcbmltcG9ydCB7IGVsZW1lbnRWaXNpYmlsaXR5IH0gZnJvbSAnLi4vbGliL2RvbS9lbGVtZW50LXZpc2liaWxpdHknO1xuaW1wb3J0IHsgQ3NzVmFySW50ZXJwb2xhdGUgfSBmcm9tICcuLi9saWIvaW50ZXJwb2xhdGUvY3NzLXZhci1pbnRlcnBvbGF0ZSc7XG5cbnZhciBDc3NWYXJJbnRlcnBvbGF0ZVNhbXBsZTMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDc3NWYXJJbnRlcnBvbGF0ZVNhbXBsZTMoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDc3NWYXJJbnRlcnBvbGF0ZVNhbXBsZTMpO1xuXG4gICAgY29uc29sZS5sb2coJ2NzcyB2YXIgaW50ZXJwb2xhdGUnKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTtcbiAgICB0aGlzLmNoaWxkRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGlsZCcpOyAvLyBFbGVtZW50IHZpc2liaWxpdHkuICBBZGQgMTAwcHggYmVmb3JlIGFuZCBhZnRlciB0aGUgbW9kdWxlLlxuXG4gICAgdGhpcy5ldiA9IGVsZW1lbnRWaXNpYmlsaXR5Lmludmlldyh0aGlzLnBhcmVudEVsZW1lbnQsIHtcbiAgICAgIHJvb3RNYXJnaW46ICcxMDBweCdcbiAgICB9KTsgLy8gSW5zdGFuY2Ugb2YgcmFmUHJvZ3Jlc3MuXG5cbiAgICB0aGlzLnJhZlByb2dyZXNzID0gbmV3IFJhZlByb2dyZXNzKCk7IC8vIFVwZGF0ZSB0aGUgcHJvZ3Jlc3MgdmFsdWUgcGVyIHNjcm9sbC5cblxuICAgIHZhciB0aHJvdHRsZVRocmVzaG9sZCA9IDI0O1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgLy8gVGhyb3R0bGUgdGhlIHNjcm9sbC5cbiAgICAgIGNhbGxiYWNrOiBmdW5jLnRocm90dGxlKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBfdGhpcy5vblNjcm9sbCgpO1xuICAgICAgfSwgdGhyb3R0bGVUaHJlc2hvbGQpLFxuICAgICAgLy8gUnVuIHNjcm9sbCB1cGRhdGVzIG9ubHkgd2hlbiB0aGUgZWxlbWVudCBpcyB2aXNpYmxlLlxuICAgICAgcnVuV2hlbjogZnVuY3Rpb24gcnVuV2hlbigpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmV2LnN0YXRlKCkucmVhZHkgJiYgX3RoaXMuZXYuc3RhdGUoKS5pbnZpZXc7XG4gICAgICB9LFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTsgLy8gT24gaW5pdCwgaW1tZWRpYXRlbHkgdXBkYXRlIHRoZSByYWYgcHJvZ3Jlc3Mgd2l0aG91dCBsZXJwaW5nLlxuXG4gICAgdGhpcy5wcm9ncmVzcyA9IGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCk7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgRUFTRS5MaW5lYXIpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3Mud2F0Y2godGhpcy5vblByb2dyZXNzVXBkYXRlLmJpbmQodGhpcykpOyAvLyBTZXR1cCBjc3MgdmFyIGludGVycG9sYXRlLlxuXG4gICAgdGhpcy5jc3NWYXJJbnRlcnBvbGF0ZSA9IG5ldyBDc3NWYXJJbnRlcnBvbGF0ZSggLy8gVGhpcyBpcyB0aGUgZWxlbWVudCB0aGUgY3NzIHZhcmlhYmxlcyBnZXQgc2NvcGVkIHRvLlxuICAgIHRoaXMucGFyZW50RWxlbWVudCwge1xuICAgICAgaW50ZXJwb2xhdGlvbnM6IFt7XG4gICAgICAgIHByb2dyZXNzOiBbe1xuICAgICAgICAgIGZyb206IDAsXG4gICAgICAgICAgdG86IDEsXG4gICAgICAgICAgc3RhcnQ6ICcwcHgnLFxuICAgICAgICAgIGVuZDogJzUwMHB4J1xuICAgICAgICB9XSxcbiAgICAgICAgaWQ6ICctLXgnXG4gICAgICB9LCB7XG4gICAgICAgIHByb2dyZXNzOiBbe1xuICAgICAgICAgIGZyb206IDAsXG4gICAgICAgICAgdG86IDAuMixcbiAgICAgICAgICBzdGFydDogJzBweCcsXG4gICAgICAgICAgZW5kOiAnMTAwcHgnLFxuICAgICAgICAgIGVhc2luZ0Z1bmN0aW9uOiBFQVNFLmVhc2VPdXRTaW5lXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmcm9tOiAwLjIsXG4gICAgICAgICAgdG86IDAuMyxcbiAgICAgICAgICBzdGFydDogJzEwMHB4JyxcbiAgICAgICAgICBlbmQ6ICczMDBweCcsXG4gICAgICAgICAgZWFzaW5nRnVuY3Rpb246IEVBU0UuZWFzZU91dFNpbmVcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZyb206IDAuMyxcbiAgICAgICAgICB0bzogMC41LFxuICAgICAgICAgIHN0YXJ0OiAnMzAwcHgnLFxuICAgICAgICAgIGVuZDogJzBweCcsXG4gICAgICAgICAgZWFzaW5nRnVuY3Rpb246IEVBU0UuZWFzZU91dFNpbmVcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZyb206IDAuNSxcbiAgICAgICAgICB0bzogMSxcbiAgICAgICAgICBzdGFydDogJzBweCcsXG4gICAgICAgICAgZW5kOiAnNTAwcHgnLFxuICAgICAgICAgIGVhc2luZ0Z1bmN0aW9uOiBFQVNFLmVhc2VJblF1YWRcbiAgICAgICAgfV0sXG4gICAgICAgIGlkOiAnLS15J1xuICAgICAgfV1cbiAgICB9KTsgLy8gUnVuIHNjcm9sbCBvbmNlLlxuXG4gICAgdGhpcy5kb21XYXRjaGVyLnJ1bignc2Nyb2xsJyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ3NzVmFySW50ZXJwb2xhdGVTYW1wbGUzLCBbe1xuICAgIGtleTogXCJvblNjcm9sbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblNjcm9sbCgpIHtcbiAgICAgIC8vIENhbGN1bGF0ZSAnaG93IG11Y2gnIHdlIGhhdmUgc2Nyb2xsZWQgaW50byB0aGUgcGFyZW50IGVsZW1lbnQgZnJvbSAwLTEuXG4gICAgICAvLyBPcHRpb25hbGx5IGFkZCBvZmZzZXQgdG8gdGhpcyBpZiBuZWVkZWQuXG4gICAgICB0aGlzLnByb2dyZXNzID0gZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDAuMjUsIEVBU0UuTGluZWFyKTtcbiAgICB9IC8vIFJ1bnMgZXZlcnkgdGltZSBlYXNlZCBwcm9ncmVzcyBpcyB1cGRhdGVkLlxuXG4gIH0sIHtcbiAgICBrZXk6IFwib25Qcm9ncmVzc1VwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblByb2dyZXNzVXBkYXRlKGVhc2VkUHJvZ3Jlc3MsIGRpcmVjdGlvbikge1xuICAgICAgdGhpcy5jc3NWYXJJbnRlcnBvbGF0ZS51cGRhdGUoZWFzZWRQcm9ncmVzcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRpc3Bvc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgIHRoaXMuZG9tV2F0Y2hlci5kaXNwb3NlKCk7XG4gICAgICB0aGlzLmV2LmRpc3Bvc2UoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ3NzVmFySW50ZXJwb2xhdGVTYW1wbGUzO1xufSgpO1xuXG5leHBvcnQgeyBDc3NWYXJJbnRlcnBvbGF0ZVNhbXBsZTMgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/css-var-interpolate3.js\n");

/***/ }),

/***/ "./examples/dom-canvas.js":
/*!********************************!*\
  !*** ./examples/dom-canvas.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DomCanvasSample; });\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/dom-canvas */ \"./lib/dom/dom-canvas.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar DomCanvasSample = function DomCanvasSample() {\n  _classCallCheck(this, DomCanvasSample);\n\n  this.canvas = document.getElementById('canvas');\n  this.canvas.width = this.canvas.offsetWidth;\n  this.canvas.height = this.canvas.offsetHeight;\n  this.context = this.canvas.getContext('2d'); // Add some text.\n\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_1__[\"domCanvas\"].setFillColor(this.context, 'orange');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_1__[\"domCanvas\"].setStrokeColor(this.context, 'orange');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_1__[\"domCanvas\"].quickText(this.context, 'hello this is some text', 500, 500); // Draw quad\n\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_1__[\"domCanvas\"].setFillColor(this.context, 'blue');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_1__[\"domCanvas\"].setStrokeColor(this.context, 'blue');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_1__[\"domCanvas\"].vectorQuadrilateral(this.context, new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](10, 10), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](100, 10), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](100, 100), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](10, 100));\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_1__[\"domCanvas\"].setFillColor(this.context, '#EFEFEF');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_1__[\"domCanvas\"].setStrokeColor(this.context, '#EFEFEF');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_1__[\"domCanvas\"].vectorQuadrilateral(this.context, new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](200, 200), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](400, 200), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](400, 400), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](200, 400)); // Let's get the color at 205, 205.\n\n  var rgb = _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_1__[\"domCanvas\"].getColorAtPointAsHex(this.context, new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](205, 205));\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9kb20tY2FudmFzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvZG9tLWNhbnZhcy5qcz8xODY0Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4uL2xpYi9tYXRoZi92ZWN0b3InO1xuaW1wb3J0IHsgZG9tQ2FudmFzIH0gZnJvbSAnLi4vbGliL2RvbS9kb20tY2FudmFzJztcblxudmFyIERvbUNhbnZhc1NhbXBsZSA9IGZ1bmN0aW9uIERvbUNhbnZhc1NhbXBsZSgpIHtcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERvbUNhbnZhc1NhbXBsZSk7XG5cbiAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7XG4gIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5jYW52YXMub2Zmc2V0V2lkdGg7XG4gIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuY2FudmFzLm9mZnNldEhlaWdodDtcbiAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsgLy8gQWRkIHNvbWUgdGV4dC5cblxuICBkb21DYW52YXMuc2V0RmlsbENvbG9yKHRoaXMuY29udGV4dCwgJ29yYW5nZScpO1xuICBkb21DYW52YXMuc2V0U3Ryb2tlQ29sb3IodGhpcy5jb250ZXh0LCAnb3JhbmdlJyk7XG4gIGRvbUNhbnZhcy5xdWlja1RleHQodGhpcy5jb250ZXh0LCAnaGVsbG8gdGhpcyBpcyBzb21lIHRleHQnLCA1MDAsIDUwMCk7IC8vIERyYXcgcXVhZFxuXG4gIGRvbUNhbnZhcy5zZXRGaWxsQ29sb3IodGhpcy5jb250ZXh0LCAnYmx1ZScpO1xuICBkb21DYW52YXMuc2V0U3Ryb2tlQ29sb3IodGhpcy5jb250ZXh0LCAnYmx1ZScpO1xuICBkb21DYW52YXMudmVjdG9yUXVhZHJpbGF0ZXJhbCh0aGlzLmNvbnRleHQsIG5ldyBWZWN0b3IoMTAsIDEwKSwgbmV3IFZlY3RvcigxMDAsIDEwKSwgbmV3IFZlY3RvcigxMDAsIDEwMCksIG5ldyBWZWN0b3IoMTAsIDEwMCkpO1xuICBkb21DYW52YXMuc2V0RmlsbENvbG9yKHRoaXMuY29udGV4dCwgJyNFRkVGRUYnKTtcbiAgZG9tQ2FudmFzLnNldFN0cm9rZUNvbG9yKHRoaXMuY29udGV4dCwgJyNFRkVGRUYnKTtcbiAgZG9tQ2FudmFzLnZlY3RvclF1YWRyaWxhdGVyYWwodGhpcy5jb250ZXh0LCBuZXcgVmVjdG9yKDIwMCwgMjAwKSwgbmV3IFZlY3Rvcig0MDAsIDIwMCksIG5ldyBWZWN0b3IoNDAwLCA0MDApLCBuZXcgVmVjdG9yKDIwMCwgNDAwKSk7IC8vIExldCdzIGdldCB0aGUgY29sb3IgYXQgMjA1LCAyMDUuXG5cbiAgdmFyIHJnYiA9IGRvbUNhbnZhcy5nZXRDb2xvckF0UG9pbnRBc0hleCh0aGlzLmNvbnRleHQsIG5ldyBWZWN0b3IoMjA1LCAyMDUpKTtcbn07XG5cbmV4cG9ydCB7IERvbUNhbnZhc1NhbXBsZSBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/dom-canvas.js\n");

/***/ }),

/***/ "./examples/dom-watcher.js":
/*!*********************************!*\
  !*** ./examples/dom-watcher.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DomWatcherSample; });\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_func_func__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/func/func */ \"./lib/func/func.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar DomWatcherSample = function DomWatcherSample() {\n  _classCallCheck(this, DomWatcherSample);\n\n  console.log('this is working');\n  var watcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_0__[\"DomWatcher\"]();\n  watcher.add({\n    element: window,\n    on: 'scroll',\n    callback: function callback(event) {\n      console.log('i am scrolling', event);\n    },\n    eventOptions: {\n      passive: true\n    },\n    id: 'scrollWatch'\n  });\n  watcher.run('scrollWatch');\n  watcher.add({\n    element: window,\n    on: 'smartResize',\n    callback: function callback(event) {\n      console.log('I am smart resizing');\n    },\n    eventOptions: {\n      passive: true\n    }\n  }); // Add a watcher to button1 to remove the scroll watching.\n\n  watcher.add({\n    element: document.getElementById('button1'),\n    on: 'click',\n    callback: function callback() {\n      console.log('you clicked button 1');\n      watcher.removeById('scrollWatch');\n    }\n  }); // Add a watcher to button2 that only works when viewport is\n  // small\n\n  watcher.add({\n    element: document.getElementById('button2'),\n    on: 'click',\n    callback: function callback() {\n      console.log('you clicked button 2');\n    },\n    runWhen: function runWhen() {\n      return window.innerWidth <= 800;\n    }\n  }); // A mouse move watcher.\n\n  watcher.add({\n    element: document.body,\n    on: 'mousemove',\n    callback: _lib_func_func__WEBPACK_IMPORTED_MODULE_1__[\"func\"].debounce(function (event) {\n      console.log('movemove!!');\n    }, 500)\n  });\n  watcher.add({\n    element: document.getElementById('button3'),\n    on: 'click',\n    callback: function callback() {\n      watcher.removeAll();\n    }\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9kb20td2F0Y2hlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2RvbS13YXRjaGVyLmpzP2Y5MmIiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuaW1wb3J0IHsgZnVuYyB9IGZyb20gJy4uL2xpYi9mdW5jL2Z1bmMnO1xuXG52YXIgRG9tV2F0Y2hlclNhbXBsZSA9IGZ1bmN0aW9uIERvbVdhdGNoZXJTYW1wbGUoKSB7XG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEb21XYXRjaGVyU2FtcGxlKTtcblxuICBjb25zb2xlLmxvZygndGhpcyBpcyB3b3JraW5nJyk7XG4gIHZhciB3YXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgd2F0Y2hlci5hZGQoe1xuICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICBvbjogJ3Njcm9sbCcsXG4gICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKGV2ZW50KSB7XG4gICAgICBjb25zb2xlLmxvZygnaSBhbSBzY3JvbGxpbmcnLCBldmVudCk7XG4gICAgfSxcbiAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgIHBhc3NpdmU6IHRydWVcbiAgICB9LFxuICAgIGlkOiAnc2Nyb2xsV2F0Y2gnXG4gIH0pO1xuICB3YXRjaGVyLnJ1bignc2Nyb2xsV2F0Y2gnKTtcbiAgd2F0Y2hlci5hZGQoe1xuICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICBvbjogJ3NtYXJ0UmVzaXplJyxcbiAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soZXZlbnQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdJIGFtIHNtYXJ0IHJlc2l6aW5nJyk7XG4gICAgfSxcbiAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgIHBhc3NpdmU6IHRydWVcbiAgICB9XG4gIH0pOyAvLyBBZGQgYSB3YXRjaGVyIHRvIGJ1dHRvbjEgdG8gcmVtb3ZlIHRoZSBzY3JvbGwgd2F0Y2hpbmcuXG5cbiAgd2F0Y2hlci5hZGQoe1xuICAgIGVsZW1lbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXR0b24xJyksXG4gICAgb246ICdjbGljaycsXG4gICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgY29uc29sZS5sb2coJ3lvdSBjbGlja2VkIGJ1dHRvbiAxJyk7XG4gICAgICB3YXRjaGVyLnJlbW92ZUJ5SWQoJ3Njcm9sbFdhdGNoJyk7XG4gICAgfVxuICB9KTsgLy8gQWRkIGEgd2F0Y2hlciB0byBidXR0b24yIHRoYXQgb25seSB3b3JrcyB3aGVuIHZpZXdwb3J0IGlzXG4gIC8vIHNtYWxsXG5cbiAgd2F0Y2hlci5hZGQoe1xuICAgIGVsZW1lbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXR0b24yJyksXG4gICAgb246ICdjbGljaycsXG4gICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgY29uc29sZS5sb2coJ3lvdSBjbGlja2VkIGJ1dHRvbiAyJyk7XG4gICAgfSxcbiAgICBydW5XaGVuOiBmdW5jdGlvbiBydW5XaGVuKCkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoIDw9IDgwMDtcbiAgICB9XG4gIH0pOyAvLyBBIG1vdXNlIG1vdmUgd2F0Y2hlci5cblxuICB3YXRjaGVyLmFkZCh7XG4gICAgZWxlbWVudDogZG9jdW1lbnQuYm9keSxcbiAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgY2FsbGJhY2s6IGZ1bmMuZGVib3VuY2UoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBjb25zb2xlLmxvZygnbW92ZW1vdmUhIScpO1xuICAgIH0sIDUwMClcbiAgfSk7XG4gIHdhdGNoZXIuYWRkKHtcbiAgICBlbGVtZW50OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV0dG9uMycpLFxuICAgIG9uOiAnY2xpY2snLFxuICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgIHdhdGNoZXIucmVtb3ZlQWxsKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCB7IERvbVdhdGNoZXJTYW1wbGUgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/dom-watcher.js\n");

/***/ }),

/***/ "./examples/easer-disable-raf.js":
/*!***************************************!*\
  !*** ./examples/easer-disable-raf.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return EaserDisableRafSample; });\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_ease_easer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/ease/easer */ \"./lib/ease/easer.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\nvar EaserDisableRafSample = function EaserDisableRafSample() {\n  var _this = this;\n\n  _classCallCheck(this, EaserDisableRafSample);\n\n  console.log('easer - disable raf sample');\n  var ball = document.getElementById('ball');\n  this.durationElement = document.getElementById('duration');\n  this.delayElement = document.getElementById('delay');\n  var duration = 1000;\n  var delay = 0;\n  this.durationElement.value = duration;\n  this.delayElement.value = delay; // Create easer.\n\n  var easer = new _lib_ease_easer__WEBPACK_IMPORTED_MODULE_1__[\"Easer\"]({\n    duration: duration,\n    delay: delay,\n    easeFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].easeInOutExpo,\n    disableRaf: true\n  });\n  easer.onUpdate(function (progression, complete) {\n    console.log('progression', progression);\n    ball.style.transform = \"translateX(\".concat(progression * 80, \"vw)\");\n  });\n  easer.onComplete(function (progression, complete) {\n    console.log('complete', progression);\n  }); // Easer expects to be updated on each raf cycle.\n\n  this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_0__[\"Raf\"](function () {\n    easer.calculate();\n  });\n  this.raf.start(); // Start the easer on clicking the button.\n\n  document.getElementById('start').addEventListener('click', function () {\n    console.log('starting easer');\n    easer.start();\n  }); // Update\n\n  document.getElementById('update').addEventListener('click', function () {\n    console.log('updated settings');\n    easer.reset({\n      duration: +_this.durationElement.value,\n      delay: +_this.delayElement.value\n    });\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9lYXNlci1kaXNhYmxlLXJhZi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2Vhc2VyLWRpc2FibGUtcmFmLmpzPzg5MmEiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgRWFzZXIgfSBmcm9tICcuLi9saWIvZWFzZS9lYXNlcic7XG5pbXBvcnQgeyBFQVNFIH0gZnJvbSAnLi4vbGliL2Vhc2UvZWFzZSc7XG5cbnZhciBFYXNlckRpc2FibGVSYWZTYW1wbGUgPSBmdW5jdGlvbiBFYXNlckRpc2FibGVSYWZTYW1wbGUoKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVhc2VyRGlzYWJsZVJhZlNhbXBsZSk7XG5cbiAgY29uc29sZS5sb2coJ2Vhc2VyIC0gZGlzYWJsZSByYWYgc2FtcGxlJyk7XG4gIHZhciBiYWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhbGwnKTtcbiAgdGhpcy5kdXJhdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHVyYXRpb24nKTtcbiAgdGhpcy5kZWxheUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVsYXknKTtcbiAgdmFyIGR1cmF0aW9uID0gMTAwMDtcbiAgdmFyIGRlbGF5ID0gMDtcbiAgdGhpcy5kdXJhdGlvbkVsZW1lbnQudmFsdWUgPSBkdXJhdGlvbjtcbiAgdGhpcy5kZWxheUVsZW1lbnQudmFsdWUgPSBkZWxheTsgLy8gQ3JlYXRlIGVhc2VyLlxuXG4gIHZhciBlYXNlciA9IG5ldyBFYXNlcih7XG4gICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgIGRlbGF5OiBkZWxheSxcbiAgICBlYXNlRnVuY3Rpb246IEVBU0UuZWFzZUluT3V0RXhwbyxcbiAgICBkaXNhYmxlUmFmOiB0cnVlXG4gIH0pO1xuICBlYXNlci5vblVwZGF0ZShmdW5jdGlvbiAocHJvZ3Jlc3Npb24sIGNvbXBsZXRlKSB7XG4gICAgY29uc29sZS5sb2coJ3Byb2dyZXNzaW9uJywgcHJvZ3Jlc3Npb24pO1xuICAgIGJhbGwuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKFwiLmNvbmNhdChwcm9ncmVzc2lvbiAqIDgwLCBcInZ3KVwiKTtcbiAgfSk7XG4gIGVhc2VyLm9uQ29tcGxldGUoZnVuY3Rpb24gKHByb2dyZXNzaW9uLCBjb21wbGV0ZSkge1xuICAgIGNvbnNvbGUubG9nKCdjb21wbGV0ZScsIHByb2dyZXNzaW9uKTtcbiAgfSk7IC8vIEVhc2VyIGV4cGVjdHMgdG8gYmUgdXBkYXRlZCBvbiBlYWNoIHJhZiBjeWNsZS5cblxuICB0aGlzLnJhZiA9IG5ldyBSYWYoZnVuY3Rpb24gKCkge1xuICAgIGVhc2VyLmNhbGN1bGF0ZSgpO1xuICB9KTtcbiAgdGhpcy5yYWYuc3RhcnQoKTsgLy8gU3RhcnQgdGhlIGVhc2VyIG9uIGNsaWNraW5nIHRoZSBidXR0b24uXG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coJ3N0YXJ0aW5nIGVhc2VyJyk7XG4gICAgZWFzZXIuc3RhcnQoKTtcbiAgfSk7IC8vIFVwZGF0ZVxuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGRhdGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZygndXBkYXRlZCBzZXR0aW5ncycpO1xuICAgIGVhc2VyLnJlc2V0KHtcbiAgICAgIGR1cmF0aW9uOiArX3RoaXMuZHVyYXRpb25FbGVtZW50LnZhbHVlLFxuICAgICAgZGVsYXk6ICtfdGhpcy5kZWxheUVsZW1lbnQudmFsdWVcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgeyBFYXNlckRpc2FibGVSYWZTYW1wbGUgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/easer-disable-raf.js\n");

/***/ }),

/***/ "./examples/easer.js":
/*!***************************!*\
  !*** ./examples/easer.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return EaserSample; });\n/* harmony import */ var _lib_ease_easer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/ease/easer */ \"./lib/ease/easer.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar EaserSample = function EaserSample() {\n  var _this = this;\n\n  _classCallCheck(this, EaserSample);\n\n  console.log('easer');\n  var ball = document.getElementById('ball');\n  this.durationElement = document.getElementById('duration');\n  this.delayElement = document.getElementById('delay');\n  var duration = 1000;\n  var delay = 0;\n  this.durationElement.value = duration;\n  this.delayElement.value = delay; // Create easer.\n\n  var easer = new _lib_ease_easer__WEBPACK_IMPORTED_MODULE_0__[\"Easer\"]({\n    duration: duration,\n    delay: delay,\n    easeFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_1__[\"EASE\"].easeInOutExpo\n  });\n  easer.onUpdate(function (progression, complete) {\n    console.log('progression', progression);\n    ball.style.transform = \"translateX(\".concat(progression * 80, \"vw)\");\n  }); // Start the easer on clicking the button.\n\n  document.getElementById('start').addEventListener('click', function () {\n    console.log('starting easer');\n    easer.start().then(function () {\n      console.log('all done');\n    });\n  }); // Update\n\n  document.getElementById('update').addEventListener('click', function () {\n    console.log('updated settings');\n    easer.reset({\n      duration: +_this.durationElement.value,\n      delay: +_this.delayElement.value\n    });\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9lYXNlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2Vhc2VyLmpzPzUzYTEiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuaW1wb3J0IHsgRWFzZXIgfSBmcm9tICcuLi9saWIvZWFzZS9lYXNlcic7XG5pbXBvcnQgeyBFQVNFIH0gZnJvbSAnLi4vbGliL2Vhc2UvZWFzZSc7XG5cbnZhciBFYXNlclNhbXBsZSA9IGZ1bmN0aW9uIEVhc2VyU2FtcGxlKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFYXNlclNhbXBsZSk7XG5cbiAgY29uc29sZS5sb2coJ2Vhc2VyJyk7XG4gIHZhciBiYWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhbGwnKTtcbiAgdGhpcy5kdXJhdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHVyYXRpb24nKTtcbiAgdGhpcy5kZWxheUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVsYXknKTtcbiAgdmFyIGR1cmF0aW9uID0gMTAwMDtcbiAgdmFyIGRlbGF5ID0gMDtcbiAgdGhpcy5kdXJhdGlvbkVsZW1lbnQudmFsdWUgPSBkdXJhdGlvbjtcbiAgdGhpcy5kZWxheUVsZW1lbnQudmFsdWUgPSBkZWxheTsgLy8gQ3JlYXRlIGVhc2VyLlxuXG4gIHZhciBlYXNlciA9IG5ldyBFYXNlcih7XG4gICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgIGRlbGF5OiBkZWxheSxcbiAgICBlYXNlRnVuY3Rpb246IEVBU0UuZWFzZUluT3V0RXhwb1xuICB9KTtcbiAgZWFzZXIub25VcGRhdGUoZnVuY3Rpb24gKHByb2dyZXNzaW9uLCBjb21wbGV0ZSkge1xuICAgIGNvbnNvbGUubG9nKCdwcm9ncmVzc2lvbicsIHByb2dyZXNzaW9uKTtcbiAgICBiYWxsLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWChcIi5jb25jYXQocHJvZ3Jlc3Npb24gKiA4MCwgXCJ2dylcIik7XG4gIH0pOyAvLyBTdGFydCB0aGUgZWFzZXIgb24gY2xpY2tpbmcgdGhlIGJ1dHRvbi5cblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZygnc3RhcnRpbmcgZWFzZXInKTtcbiAgICBlYXNlci5zdGFydCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY29uc29sZS5sb2coJ2FsbCBkb25lJyk7XG4gICAgfSk7XG4gIH0pOyAvLyBVcGRhdGVcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBkYXRlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coJ3VwZGF0ZWQgc2V0dGluZ3MnKTtcbiAgICBlYXNlci5yZXNldCh7XG4gICAgICBkdXJhdGlvbjogK190aGlzLmR1cmF0aW9uRWxlbWVudC52YWx1ZSxcbiAgICAgIGRlbGF5OiArX3RoaXMuZGVsYXlFbGVtZW50LnZhbHVlXG4gICAgfSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IHsgRWFzZXJTYW1wbGUgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/easer.js\n");

/***/ }),

/***/ "./examples/glsl-playground.js":
/*!*************************************!*\
  !*** ./examples/glsl-playground.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n/**\n * https://threejs.org/docs/#api/en/renderers/webgl/WebGLProgram\n * https://gist.github.com/uxder/cc02c445c2f7b4679e48e91d2920c832\n *\n * Uniforms\n * - pass data between the control program (in this case three.js) and shaders\n * - each uniform will store a common value for each vertex and pixel.\n * - we call it uniform because it indicates that the same value will be the same\n *   for each vertex and pixel.\n *\n * Note different ways to access vector uniforms\n * - u_mouse.x = u_mouse[0]\n * - u_resolution.y = u_resolution[1]\n */\n\n/*\n* Vertex Shader\n* - Vertex should set the vec4 gl_Position.\n* - Applied per vertices of the mesh geometry.\n*\n* The position needs to condiser the model view projection.\n* model - moves the vertex from local to world\n* view - moves the vertex from world space to camera\n* projection - moves the vertex clip to screen space coordinates (3d -> 2d)\n*\n* So to move the vertex, you want multiply the position vec3 by the model view projectiion\n* but since you can't multiply vec3 * mat4, convert the vec3 into a vec4 by adding a\n* w dimension as 1.0.   vec4(position, 1.0).\n*\n* In effect you are doing:\n* gl_Position = Project (mat4) * View (mat4) * Model (mat4) * vec4 (position, w)\n*\n* resulting in a default vertex shader of:\n* gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n*/\n\nvar vshader = \"\\nvoid main() {\\n\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n\\n  // Make each vertices position half.\\n  //   gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position * 0.5, 1.0 );\\n}\\n\";\n/**\n *\n * Frag Shader\n * - Frag should set the gl_FragColor.\n * - gl_FragColor is type vec4 for\n * - Applied per pixel of the mesh.\n *\n * Three.js Color translates to vec3 type which we pass as a uniform u_color.\n *\n */\n\nvar fshader = \"\\nuniform vec3 u_color;\\n\\nvoid main (void)\\n{\\n// Green\\n//   gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0);\\n\\n// Red\\n//   gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\\n\\n// From uniform\\n  gl_FragColor = vec4(u_color, 1.0);\\n\\n// You can swap the rgba order if you want to green blue red alpha.\\n//   gl_FragColor = vec4(u_color, 1.0).gbra;\\n\\n\\n}\\n\";\n\nvar GlslPlayground = /*#__PURE__*/function () {\n  function GlslPlayground() {\n    _classCallCheck(this, GlslPlayground);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]();\n    this.clock = new three__WEBPACK_IMPORTED_MODULE_0__[\"Clock\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.uniforms = {\n      u_color: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xffff00)\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2, 2);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf() {\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQuanM/Y2ZiOCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9saWIvZG9tL2RvbS13YXRjaGVyJztcbi8qKlxuICogaHR0cHM6Ly90aHJlZWpzLm9yZy9kb2NzLyNhcGkvZW4vcmVuZGVyZXJzL3dlYmdsL1dlYkdMUHJvZ3JhbVxuICogaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vdXhkZXIvY2MwMmM0NDVjMmY3YjQ2NzllNDhlOTFkMjkyMGM4MzJcbiAqXG4gKiBVbmlmb3Jtc1xuICogLSBwYXNzIGRhdGEgYmV0d2VlbiB0aGUgY29udHJvbCBwcm9ncmFtIChpbiB0aGlzIGNhc2UgdGhyZWUuanMpIGFuZCBzaGFkZXJzXG4gKiAtIGVhY2ggdW5pZm9ybSB3aWxsIHN0b3JlIGEgY29tbW9uIHZhbHVlIGZvciBlYWNoIHZlcnRleCBhbmQgcGl4ZWwuXG4gKiAtIHdlIGNhbGwgaXQgdW5pZm9ybSBiZWNhdXNlIGl0IGluZGljYXRlcyB0aGF0IHRoZSBzYW1lIHZhbHVlIHdpbGwgYmUgdGhlIHNhbWVcbiAqICAgZm9yIGVhY2ggdmVydGV4IGFuZCBwaXhlbC5cbiAqXG4gKiBOb3RlIGRpZmZlcmVudCB3YXlzIHRvIGFjY2VzcyB2ZWN0b3IgdW5pZm9ybXNcbiAqIC0gdV9tb3VzZS54ID0gdV9tb3VzZVswXVxuICogLSB1X3Jlc29sdXRpb24ueSA9IHVfcmVzb2x1dGlvblsxXVxuICovXG5cbi8qXG4qIFZlcnRleCBTaGFkZXJcbiogLSBWZXJ0ZXggc2hvdWxkIHNldCB0aGUgdmVjNCBnbF9Qb3NpdGlvbi5cbiogLSBBcHBsaWVkIHBlciB2ZXJ0aWNlcyBvZiB0aGUgbWVzaCBnZW9tZXRyeS5cbipcbiogVGhlIHBvc2l0aW9uIG5lZWRzIHRvIGNvbmRpc2VyIHRoZSBtb2RlbCB2aWV3IHByb2plY3Rpb24uXG4qIG1vZGVsIC0gbW92ZXMgdGhlIHZlcnRleCBmcm9tIGxvY2FsIHRvIHdvcmxkXG4qIHZpZXcgLSBtb3ZlcyB0aGUgdmVydGV4IGZyb20gd29ybGQgc3BhY2UgdG8gY2FtZXJhXG4qIHByb2plY3Rpb24gLSBtb3ZlcyB0aGUgdmVydGV4IGNsaXAgdG8gc2NyZWVuIHNwYWNlIGNvb3JkaW5hdGVzICgzZCAtPiAyZClcbipcbiogU28gdG8gbW92ZSB0aGUgdmVydGV4LCB5b3Ugd2FudCBtdWx0aXBseSB0aGUgcG9zaXRpb24gdmVjMyBieSB0aGUgbW9kZWwgdmlldyBwcm9qZWN0aWlvblxuKiBidXQgc2luY2UgeW91IGNhbid0IG11bHRpcGx5IHZlYzMgKiBtYXQ0LCBjb252ZXJ0IHRoZSB2ZWMzIGludG8gYSB2ZWM0IGJ5IGFkZGluZyBhXG4qIHcgZGltZW5zaW9uIGFzIDEuMC4gICB2ZWM0KHBvc2l0aW9uLCAxLjApLlxuKlxuKiBJbiBlZmZlY3QgeW91IGFyZSBkb2luZzpcbiogZ2xfUG9zaXRpb24gPSBQcm9qZWN0IChtYXQ0KSAqIFZpZXcgKG1hdDQpICogTW9kZWwgKG1hdDQpICogdmVjNCAocG9zaXRpb24sIHcpXG4qXG4qIHJlc3VsdGluZyBpbiBhIGRlZmF1bHQgdmVydGV4IHNoYWRlciBvZjpcbiogZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld01hdHJpeCAqIG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xuKi9cblxudmFyIHZzaGFkZXIgPSBcIlxcbnZvaWQgbWFpbigpIHtcXG5cXG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiBtb2RlbE1hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcXG5cXG4gIC8vIE1ha2UgZWFjaCB2ZXJ0aWNlcyBwb3NpdGlvbiBoYWxmLlxcbiAgLy8gICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiAqIDAuNSwgMS4wICk7XFxufVxcblwiO1xuLyoqXG4gKlxuICogRnJhZyBTaGFkZXJcbiAqIC0gRnJhZyBzaG91bGQgc2V0IHRoZSBnbF9GcmFnQ29sb3IuXG4gKiAtIGdsX0ZyYWdDb2xvciBpcyB0eXBlIHZlYzQgZm9yXG4gKiAtIEFwcGxpZWQgcGVyIHBpeGVsIG9mIHRoZSBtZXNoLlxuICpcbiAqIFRocmVlLmpzIENvbG9yIHRyYW5zbGF0ZXMgdG8gdmVjMyB0eXBlIHdoaWNoIHdlIHBhc3MgYXMgYSB1bmlmb3JtIHVfY29sb3IuXG4gKlxuICovXG5cbnZhciBmc2hhZGVyID0gXCJcXG51bmlmb3JtIHZlYzMgdV9jb2xvcjtcXG5cXG52b2lkIG1haW4gKHZvaWQpXFxue1xcbi8vIEdyZWVuXFxuLy8gICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCwgMS4wLCAwLjAsIDEuMCk7XFxuXFxuLy8gUmVkXFxuLy8gICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEuMCwgMC4wLCAwLjAsIDEuMCk7XFxuXFxuLy8gRnJvbSB1bmlmb3JtXFxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHVfY29sb3IsIDEuMCk7XFxuXFxuLy8gWW91IGNhbiBzd2FwIHRoZSByZ2JhIG9yZGVyIGlmIHlvdSB3YW50IHRvIGdyZWVuIGJsdWUgcmVkIGFscGhhLlxcbi8vICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCh1X2NvbG9yLCAxLjApLmdicmE7XFxuXFxuXFxufVxcblwiO1xuXG52YXIgR2xzbFBsYXlncm91bmQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHbHNsUGxheWdyb3VuZCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2xzbFBsYXlncm91bmQpO1xuXG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgIHRoaXMuY2xvY2sgPSBuZXcgVEhSRUUuQ2xvY2soKTsgLy8gMngyXG5cbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoLTEsIDEsIDEsIC0xLCAwLjEsIDEwKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMucmFmID0gbmV3IFJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgdV9jb2xvcjoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmZmZjAwKVxuICAgICAgfVxuICAgIH07IC8vIDJ4MiBzbyBpdCBmaWxsIHRoZSBzY3JlZW4uXG5cbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMiwgMik7XG4gICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICB1bmlmb3JtczogdGhpcy51bmlmb3JtcyxcbiAgICAgIHZlcnRleFNoYWRlcjogdnNoYWRlcixcbiAgICAgIGZyYWdtZW50U2hhZGVyOiBmc2hhZGVyXG4gICAgfSk7IC8vIENyZWF0ZSBtZXNoIChnZW9tICsgbWF0ZXJpYWwpXG5cbiAgICB0aGlzLnBsYW5lID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5wbGFuZSk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDE7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoR2xzbFBsYXlncm91bmQsIFt7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgdmFyIGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB2YXIgd2lkdGgsIGhlaWdodDtcblxuICAgICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgICAgd2lkdGggPSAxO1xuICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgICAgaGVpZ2h0ID0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJhZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJhZigpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gR2xzbFBsYXlncm91bmQ7XG59KCk7XG5cbmV4cG9ydCB7IEdsc2xQbGF5Z3JvdW5kIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground.js\n");

/***/ }),

/***/ "./examples/glsl-playground10.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground10.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground10; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n//  // https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739068\n//\n\n\n\nvar vshader = \"\\nvarying vec3 v_position; // Declare v_position\\nvoid main() {\\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\\n  v_position = position;\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\nuniform float u_time;\\n\\nvarying vec3 v_position;\\n\\n// Determine if a particular pixel is within the boundaries of a rectangle box.\\n// Returns 1.0 when point pt,  is inside a rectangle defined by size and center.\\n// pt - the point to test\\n// size - the size of the rect\\n// center - the center of the rect\\nfloat rect(vec2 pt, vec2 size, vec2 center) {\\n    // We need to offset the position of the virtual box to do a hit test.\\n    vec2 p = pt - center;\\n    vec2 halfsize = size * 0.5; // Half the size since we just need\\n\\n    // Now do a hit test of this rectangle and see if pt falls within it.\\n    // float horz = (v_position.x > -halfsize.x && v_position.x < halfsize.x) ?\\n    float horz = step(-halfsize.x, p.x) - step(halfsize.x, p.x);\\n    float vert = step(-halfsize.y, p.y) - step(halfsize.y, p.y);\\n    return horz * vert;\\n}\\n\\n//\\n// A classic 2d rotation matrix.\\n//\\n// mat2 mat = getRotationMatrix(rotationInRadians);\\n// vec2 rotatedPoint = mat * v_position.xy;\\n//\\n//\\n// Accepts an radian angle (theta) and returns a mat2 rotation matrix.\\n// s = sin(theta)\\n// c = cos(theta)\\n//\\n// Returned mat2\\n//\\n//    mat2          *      vec2.xy = new rotated position\\n// --        ---         ---  --\\n// |   c   -s  |    *    |   x  |  = new rotated position.\\n// |   s    c  |         |   y  |\\n// ---       ---         --    --\\n//\\n//\\n// For example:\\n// rotation 0\\n// sin(0) = 0, cos(0) = 1\\n//  1   0         x      1*x + 0*x     x\\n//  0   1    *    y   =  0*y + 1*y  =  y\\n// rotation of zero has no effect.\\n\\n\\n// rotation 180 degrees (3.14 radian)\\n// sin(3.14) = 0, cos(3.14) = -1\\n//  -1   0         x      -1*x + 0*x     -x\\n//  0   -1    *    y   =  0*y + 1*-y  =  -y\\n// rotation makes it 180 flipping x,y so it's correct.\\n//\\nmat2 getRotationMatrix(float theta) {\\n    float s = sin(theta);\\n    float c = cos(theta);\\n    return mat2(c, -s, s, c);\\n}\\n\\nvoid main (void)\\n{\\n  vec2 center = vec2(0.5, 0.0);\\n\\n  // Use time as the angle theta.\\n  mat2 mat = getRotationMatrix(u_time);\\n\\n  // Transform the center v_position with the rotation matrix.\\n  // We literally move/ shift the currently evaluated pixel point.\\n   vec2 pt = mat * v_position.xy;\\n\\n  // Better version of the above which accounts for center point.\\n  // To do this, we account of the center point by subtracking it from the\\n  // v_position, then do the matrix tranform and then add it back.\\n  //   vec2 pt = (mat * (v_position.xy - center)) + center;\\n\\n  // Use the new pt point to calculate to see if that point is in the\\n  // considered rectangle.\\n  float inRect = rect(pt.xy, vec2(0.3), center);\\n\\n  vec3 color = vec3(1.0, 1.0, 0.0) * inRect;\\n  gl_FragColor = vec4(color, 1.0);\\n\\n\\n\\n\\n\\n\\n}\\n\";\n\nvar GlslPlayground10 = /*#__PURE__*/function () {\n  function GlslPlayground10() {\n    _classCallCheck(this, GlslPlayground10);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2, 2);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground10, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground10;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxMC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDEwLmpzPzJkN2UiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy8gIC8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MDY4XG4vL1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xudmFyIHZzaGFkZXIgPSBcIlxcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uOyAvLyBEZWNsYXJlIHZfcG9zaXRpb25cXG52b2lkIG1haW4oKSB7XFxuICAvLyBTZXQgdGhlIHV2IHZhbHVlLiAgVGhyZWUuanMgcGFzc2VzIHRoZSB1diB2YWx1ZSBieSBkZWZhdWx0IG9mIHRoZSBjdXJyZW50IHZlcnRpY2VzLlxcbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld01hdHJpeCAqIG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcbn1cXG5cIjtcbnZhciBmc2hhZGVyID0gXCJcXG51bmlmb3JtIHZlYzIgdV9tb3VzZTtcXG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xcblxcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xcblxcbi8vIERldGVybWluZSBpZiBhIHBhcnRpY3VsYXIgcGl4ZWwgaXMgd2l0aGluIHRoZSBib3VuZGFyaWVzIG9mIGEgcmVjdGFuZ2xlIGJveC5cXG4vLyBSZXR1cm5zIDEuMCB3aGVuIHBvaW50IHB0LCAgaXMgaW5zaWRlIGEgcmVjdGFuZ2xlIGRlZmluZWQgYnkgc2l6ZSBhbmQgY2VudGVyLlxcbi8vIHB0IC0gdGhlIHBvaW50IHRvIHRlc3RcXG4vLyBzaXplIC0gdGhlIHNpemUgb2YgdGhlIHJlY3RcXG4vLyBjZW50ZXIgLSB0aGUgY2VudGVyIG9mIHRoZSByZWN0XFxuZmxvYXQgcmVjdCh2ZWMyIHB0LCB2ZWMyIHNpemUsIHZlYzIgY2VudGVyKSB7XFxuICAgIC8vIFdlIG5lZWQgdG8gb2Zmc2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgdmlydHVhbCBib3ggdG8gZG8gYSBoaXQgdGVzdC5cXG4gICAgdmVjMiBwID0gcHQgLSBjZW50ZXI7XFxuICAgIHZlYzIgaGFsZnNpemUgPSBzaXplICogMC41OyAvLyBIYWxmIHRoZSBzaXplIHNpbmNlIHdlIGp1c3QgbmVlZFxcblxcbiAgICAvLyBOb3cgZG8gYSBoaXQgdGVzdCBvZiB0aGlzIHJlY3RhbmdsZSBhbmQgc2VlIGlmIHB0IGZhbGxzIHdpdGhpbiBpdC5cXG4gICAgLy8gZmxvYXQgaG9yeiA9ICh2X3Bvc2l0aW9uLnggPiAtaGFsZnNpemUueCAmJiB2X3Bvc2l0aW9uLnggPCBoYWxmc2l6ZS54KSA/XFxuICAgIGZsb2F0IGhvcnogPSBzdGVwKC1oYWxmc2l6ZS54LCBwLngpIC0gc3RlcChoYWxmc2l6ZS54LCBwLngpO1xcbiAgICBmbG9hdCB2ZXJ0ID0gc3RlcCgtaGFsZnNpemUueSwgcC55KSAtIHN0ZXAoaGFsZnNpemUueSwgcC55KTtcXG4gICAgcmV0dXJuIGhvcnogKiB2ZXJ0O1xcbn1cXG5cXG4vL1xcbi8vIEEgY2xhc3NpYyAyZCByb3RhdGlvbiBtYXRyaXguXFxuLy9cXG4vLyBtYXQyIG1hdCA9IGdldFJvdGF0aW9uTWF0cml4KHJvdGF0aW9uSW5SYWRpYW5zKTtcXG4vLyB2ZWMyIHJvdGF0ZWRQb2ludCA9IG1hdCAqIHZfcG9zaXRpb24ueHk7XFxuLy9cXG4vL1xcbi8vIEFjY2VwdHMgYW4gcmFkaWFuIGFuZ2xlICh0aGV0YSkgYW5kIHJldHVybnMgYSBtYXQyIHJvdGF0aW9uIG1hdHJpeC5cXG4vLyBzID0gc2luKHRoZXRhKVxcbi8vIGMgPSBjb3ModGhldGEpXFxuLy9cXG4vLyBSZXR1cm5lZCBtYXQyXFxuLy9cXG4vLyAgICBtYXQyICAgICAgICAgICogICAgICB2ZWMyLnh5ID0gbmV3IHJvdGF0ZWQgcG9zaXRpb25cXG4vLyAtLSAgICAgICAgLS0tICAgICAgICAgLS0tICAtLVxcbi8vIHwgICBjICAgLXMgIHwgICAgKiAgICB8ICAgeCAgfCAgPSBuZXcgcm90YXRlZCBwb3NpdGlvbi5cXG4vLyB8ICAgcyAgICBjICB8ICAgICAgICAgfCAgIHkgIHxcXG4vLyAtLS0gICAgICAgLS0tICAgICAgICAgLS0gICAgLS1cXG4vL1xcbi8vXFxuLy8gRm9yIGV4YW1wbGU6XFxuLy8gcm90YXRpb24gMFxcbi8vIHNpbigwKSA9IDAsIGNvcygwKSA9IDFcXG4vLyAgMSAgIDAgICAgICAgICB4ICAgICAgMSp4ICsgMCp4ICAgICB4XFxuLy8gIDAgICAxICAgICogICAgeSAgID0gIDAqeSArIDEqeSAgPSAgeVxcbi8vIHJvdGF0aW9uIG9mIHplcm8gaGFzIG5vIGVmZmVjdC5cXG5cXG5cXG4vLyByb3RhdGlvbiAxODAgZGVncmVlcyAoMy4xNCByYWRpYW4pXFxuLy8gc2luKDMuMTQpID0gMCwgY29zKDMuMTQpID0gLTFcXG4vLyAgLTEgICAwICAgICAgICAgeCAgICAgIC0xKnggKyAwKnggICAgIC14XFxuLy8gIDAgICAtMSAgICAqICAgIHkgICA9ICAwKnkgKyAxKi15ICA9ICAteVxcbi8vIHJvdGF0aW9uIG1ha2VzIGl0IDE4MCBmbGlwcGluZyB4LHkgc28gaXQncyBjb3JyZWN0Llxcbi8vXFxubWF0MiBnZXRSb3RhdGlvbk1hdHJpeChmbG9hdCB0aGV0YSkge1xcbiAgICBmbG9hdCBzID0gc2luKHRoZXRhKTtcXG4gICAgZmxvYXQgYyA9IGNvcyh0aGV0YSk7XFxuICAgIHJldHVybiBtYXQyKGMsIC1zLCBzLCBjKTtcXG59XFxuXFxudm9pZCBtYWluICh2b2lkKVxcbntcXG4gIHZlYzIgY2VudGVyID0gdmVjMigwLjUsIDAuMCk7XFxuXFxuICAvLyBVc2UgdGltZSBhcyB0aGUgYW5nbGUgdGhldGEuXFxuICBtYXQyIG1hdCA9IGdldFJvdGF0aW9uTWF0cml4KHVfdGltZSk7XFxuXFxuICAvLyBUcmFuc2Zvcm0gdGhlIGNlbnRlciB2X3Bvc2l0aW9uIHdpdGggdGhlIHJvdGF0aW9uIG1hdHJpeC5cXG4gIC8vIFdlIGxpdGVyYWxseSBtb3ZlLyBzaGlmdCB0aGUgY3VycmVudGx5IGV2YWx1YXRlZCBwaXhlbCBwb2ludC5cXG4gICB2ZWMyIHB0ID0gbWF0ICogdl9wb3NpdGlvbi54eTtcXG5cXG4gIC8vIEJldHRlciB2ZXJzaW9uIG9mIHRoZSBhYm92ZSB3aGljaCBhY2NvdW50cyBmb3IgY2VudGVyIHBvaW50LlxcbiAgLy8gVG8gZG8gdGhpcywgd2UgYWNjb3VudCBvZiB0aGUgY2VudGVyIHBvaW50IGJ5IHN1YnRyYWNraW5nIGl0IGZyb20gdGhlXFxuICAvLyB2X3Bvc2l0aW9uLCB0aGVuIGRvIHRoZSBtYXRyaXggdHJhbmZvcm0gYW5kIHRoZW4gYWRkIGl0IGJhY2suXFxuICAvLyAgIHZlYzIgcHQgPSAobWF0ICogKHZfcG9zaXRpb24ueHkgLSBjZW50ZXIpKSArIGNlbnRlcjtcXG5cXG4gIC8vIFVzZSB0aGUgbmV3IHB0IHBvaW50IHRvIGNhbGN1bGF0ZSB0byBzZWUgaWYgdGhhdCBwb2ludCBpcyBpbiB0aGVcXG4gIC8vIGNvbnNpZGVyZWQgcmVjdGFuZ2xlLlxcbiAgZmxvYXQgaW5SZWN0ID0gcmVjdChwdC54eSwgdmVjMigwLjMpLCBjZW50ZXIpO1xcblxcbiAgdmVjMyBjb2xvciA9IHZlYzMoMS4wLCAxLjAsIDAuMCkgKiBpblJlY3Q7XFxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxLjApO1xcblxcblxcblxcblxcblxcblxcbn1cXG5cIjtcblxudmFyIEdsc2xQbGF5Z3JvdW5kMTAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHbHNsUGxheWdyb3VuZDEwKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHbHNsUGxheWdyb3VuZDEwKTtcblxuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTsgLy8gMngyXG5cbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoLTEsIDEsIDEsIC0xLCAwLjEsIDEwKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMucmFmID0gbmV3IFJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgdV9jb2xvcjoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmYwMDAwKVxuICAgICAgfSxcbiAgICAgIC8vIEZsb2F0XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgMCwwIGF0IHRvcCwgbGVmdCBhbmQgd2luZG93LmlubmVyV2lkdGggYW5kIHdpbmRvdy5pbm5lckhlaWdodCBhdCBib3R0b20gcmlnaHQuXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gVmVjMiBTY3JlZW4gcmVzb2x1dGlvblxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyAyeDIgc28gaXQgZmlsbCB0aGUgc2NyZWVuLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIsIDIpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEdsc2xQbGF5Z3JvdW5kMTAsIFt7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgdmFyIGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB2YXIgd2lkdGgsIGhlaWdodDtcblxuICAgICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgICAgd2lkdGggPSAxO1xuICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgICAgaGVpZ2h0ID0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3VzZU1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoZGVsdGEpIHtcbiAgICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHbHNsUGxheWdyb3VuZDEwO1xufSgpO1xuXG5leHBvcnQgeyBHbHNsUGxheWdyb3VuZDEwIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground10.js\n");

/***/ }),

/***/ "./examples/glsl-playground11.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground11.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground10; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n//  // https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739068\n//\n\n\n\nvar vshader = \"\\nvarying vec3 v_position; // Declare v_position\\nvoid main() {\\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\\n  v_position = position;\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\nuniform float u_time;\\n\\nvarying vec3 v_position;\\n\\n// Determine if a particular pixel is within the boundaries of a rectangle box.\\n// Returns 1.0 when point pt,  is inside a rectangle defined by size and center.\\n// pt - the point to test\\n// anchor - the rectangle anchor point\\n// size - the size of the rect\\n// center - the center of the rect\\nfloat rect(vec2 pt, vec2 anchor, vec2 size, vec2 center) {\\n    // We need to offset the position of the virtual box to do a hit test.\\n    vec2 p = pt - center;\\n    vec2 halfsize = size * 0.5; // Half the size since we just need\\n\\n    // Now do a hit test of this rectangle and see if pt falls within it.\\n    // float horz = (v_position.x > -halfsize.x && v_position.x < halfsize.x) ?\\n    float horz = step(-halfsize.x - anchor.x, p.x) - step(halfsize.x - anchor.x, p.x);\\n    float vert = step(-halfsize.y - anchor.y, p.y) - step(halfsize.y - anchor.y, p.y);\\n    return horz * vert;\\n}\\n\\n//\\n// A classic 2d rotation matrix.\\n//\\n// mat2 mat = getRotationMatrix(rotationInRadians);\\n// vec2 rotatedPoint = mat * v_position.xy;\\n//\\n//\\n// Accepts an radian angle (theta) and returns a mat2 rotation matrix.\\n// s = sin(theta)\\n// c = cos(theta)\\n//\\n// Returned mat2\\n//\\n//    mat2          *      vec2.xy = new rotated position\\n// --        ---         ---  --\\n// |   c   -s  |    *    |   x  |  = new rotated position.\\n// |   s    c  |         |   y  |\\n// ---       ---         --    --\\n//\\n//\\n// For example:\\n// rotation 0\\n// sin(0) = 0, cos(0) = 1\\n//  1   0         x      1*x + 0*x     x\\n//  0   1    *    y   =  0*y + 1*y  =  y\\n// rotation of zero has no effect.\\n\\n\\n// rotation 180 degrees (3.14 radian)\\n// sin(3.14) = 0, cos(3.14) = -1\\n//  -1   0         x      -1*x + 0*x     -x\\n//  0   -1    *    y   =  0*y + 1*-y  =  -y\\n// rotation makes it 180 flipping x,y so it's correct.\\n//\\nmat2 getRotationMatrix(float theta) {\\n    float s = sin(theta);\\n    float c = cos(theta);\\n    return mat2(c, -s, s, c);\\n}\\n\\n\\n/**\\n * Return a mat2 scale matrix.\\n *\\n * mat2 scaleMat = getScaleMatrix(1.5);\\n * mat2 rotateMat = getRotationMatrix(rotationInRadians);\\n * vec2 scaledPoint = scaleMat * v_position.xy;\\n * vec2 scaledAndRotatedPoint = scaleMat * rotateMat * v_position.xy;\\n *\\n */\\nmat2 getScaleMatrix(float scale) {\\n    return mat2(scale, 0, 0, scale);\\n}\\n\\n\\nvoid main (void)\\n{\\n  vec2 center = vec2(0.2, 0.0);\\n\\n  // Use time as the angle theta.\\n  mat2 rotationMatrix = getRotationMatrix(u_time);\\n\\n  // Create scale matrix based on time\\n  mat2 scaleMatrix = getScaleMatrix(\\n      ((sin(u_time) + 1.0) / 2.0) + 0.5 // Normalized sin + 0.5 offset so it ranges from 0.5 - 1.5\\n   );\\n\\n\\n  // Apply the scale + rotation matrix to the current v_position\\n   vec2 pt = scaleMatrix * rotationMatrix * v_position.xy;\\n\\n  // Better version of the above which accounts for center point.\\n  // To do this, we account of the center point by subtracking it from the\\n  // v_position, then do the matrix tranform and then add it back.\\n//   vec2 pt = (rotationMatrix * (v_position.xy - center)) + center;\\n\\n  // Use the new pt point to calculate to see if that point is in the\\n  // considered rectangle.\\n  float inRect = rect(pt.xy, vec2(0.15), vec2(0.3), center);\\n\\n  vec3 color = vec3(1.0, 1.0, 0.0) * inRect;\\n  gl_FragColor = vec4(color, 1.0);\\n\\n\\n\\n\\n\\n\\n}\\n\";\n\nvar GlslPlayground10 = /*#__PURE__*/function () {\n  function GlslPlayground10() {\n    _classCallCheck(this, GlslPlayground10);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2, 2);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground10, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground10;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxMS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDExLmpzPzZiYTQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy8gIC8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MDY4XG4vL1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xudmFyIHZzaGFkZXIgPSBcIlxcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uOyAvLyBEZWNsYXJlIHZfcG9zaXRpb25cXG52b2lkIG1haW4oKSB7XFxuICAvLyBTZXQgdGhlIHV2IHZhbHVlLiAgVGhyZWUuanMgcGFzc2VzIHRoZSB1diB2YWx1ZSBieSBkZWZhdWx0IG9mIHRoZSBjdXJyZW50IHZlcnRpY2VzLlxcbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld01hdHJpeCAqIG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcbn1cXG5cIjtcbnZhciBmc2hhZGVyID0gXCJcXG51bmlmb3JtIHZlYzIgdV9tb3VzZTtcXG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xcblxcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xcblxcbi8vIERldGVybWluZSBpZiBhIHBhcnRpY3VsYXIgcGl4ZWwgaXMgd2l0aGluIHRoZSBib3VuZGFyaWVzIG9mIGEgcmVjdGFuZ2xlIGJveC5cXG4vLyBSZXR1cm5zIDEuMCB3aGVuIHBvaW50IHB0LCAgaXMgaW5zaWRlIGEgcmVjdGFuZ2xlIGRlZmluZWQgYnkgc2l6ZSBhbmQgY2VudGVyLlxcbi8vIHB0IC0gdGhlIHBvaW50IHRvIHRlc3RcXG4vLyBhbmNob3IgLSB0aGUgcmVjdGFuZ2xlIGFuY2hvciBwb2ludFxcbi8vIHNpemUgLSB0aGUgc2l6ZSBvZiB0aGUgcmVjdFxcbi8vIGNlbnRlciAtIHRoZSBjZW50ZXIgb2YgdGhlIHJlY3RcXG5mbG9hdCByZWN0KHZlYzIgcHQsIHZlYzIgYW5jaG9yLCB2ZWMyIHNpemUsIHZlYzIgY2VudGVyKSB7XFxuICAgIC8vIFdlIG5lZWQgdG8gb2Zmc2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgdmlydHVhbCBib3ggdG8gZG8gYSBoaXQgdGVzdC5cXG4gICAgdmVjMiBwID0gcHQgLSBjZW50ZXI7XFxuICAgIHZlYzIgaGFsZnNpemUgPSBzaXplICogMC41OyAvLyBIYWxmIHRoZSBzaXplIHNpbmNlIHdlIGp1c3QgbmVlZFxcblxcbiAgICAvLyBOb3cgZG8gYSBoaXQgdGVzdCBvZiB0aGlzIHJlY3RhbmdsZSBhbmQgc2VlIGlmIHB0IGZhbGxzIHdpdGhpbiBpdC5cXG4gICAgLy8gZmxvYXQgaG9yeiA9ICh2X3Bvc2l0aW9uLnggPiAtaGFsZnNpemUueCAmJiB2X3Bvc2l0aW9uLnggPCBoYWxmc2l6ZS54KSA/XFxuICAgIGZsb2F0IGhvcnogPSBzdGVwKC1oYWxmc2l6ZS54IC0gYW5jaG9yLngsIHAueCkgLSBzdGVwKGhhbGZzaXplLnggLSBhbmNob3IueCwgcC54KTtcXG4gICAgZmxvYXQgdmVydCA9IHN0ZXAoLWhhbGZzaXplLnkgLSBhbmNob3IueSwgcC55KSAtIHN0ZXAoaGFsZnNpemUueSAtIGFuY2hvci55LCBwLnkpO1xcbiAgICByZXR1cm4gaG9yeiAqIHZlcnQ7XFxufVxcblxcbi8vXFxuLy8gQSBjbGFzc2ljIDJkIHJvdGF0aW9uIG1hdHJpeC5cXG4vL1xcbi8vIG1hdDIgbWF0ID0gZ2V0Um90YXRpb25NYXRyaXgocm90YXRpb25JblJhZGlhbnMpO1xcbi8vIHZlYzIgcm90YXRlZFBvaW50ID0gbWF0ICogdl9wb3NpdGlvbi54eTtcXG4vL1xcbi8vXFxuLy8gQWNjZXB0cyBhbiByYWRpYW4gYW5nbGUgKHRoZXRhKSBhbmQgcmV0dXJucyBhIG1hdDIgcm90YXRpb24gbWF0cml4Llxcbi8vIHMgPSBzaW4odGhldGEpXFxuLy8gYyA9IGNvcyh0aGV0YSlcXG4vL1xcbi8vIFJldHVybmVkIG1hdDJcXG4vL1xcbi8vICAgIG1hdDIgICAgICAgICAgKiAgICAgIHZlYzIueHkgPSBuZXcgcm90YXRlZCBwb3NpdGlvblxcbi8vIC0tICAgICAgICAtLS0gICAgICAgICAtLS0gIC0tXFxuLy8gfCAgIGMgICAtcyAgfCAgICAqICAgIHwgICB4ICB8ICA9IG5ldyByb3RhdGVkIHBvc2l0aW9uLlxcbi8vIHwgICBzICAgIGMgIHwgICAgICAgICB8ICAgeSAgfFxcbi8vIC0tLSAgICAgICAtLS0gICAgICAgICAtLSAgICAtLVxcbi8vXFxuLy9cXG4vLyBGb3IgZXhhbXBsZTpcXG4vLyByb3RhdGlvbiAwXFxuLy8gc2luKDApID0gMCwgY29zKDApID0gMVxcbi8vICAxICAgMCAgICAgICAgIHggICAgICAxKnggKyAwKnggICAgIHhcXG4vLyAgMCAgIDEgICAgKiAgICB5ICAgPSAgMCp5ICsgMSp5ICA9ICB5XFxuLy8gcm90YXRpb24gb2YgemVybyBoYXMgbm8gZWZmZWN0Llxcblxcblxcbi8vIHJvdGF0aW9uIDE4MCBkZWdyZWVzICgzLjE0IHJhZGlhbilcXG4vLyBzaW4oMy4xNCkgPSAwLCBjb3MoMy4xNCkgPSAtMVxcbi8vICAtMSAgIDAgICAgICAgICB4ICAgICAgLTEqeCArIDAqeCAgICAgLXhcXG4vLyAgMCAgIC0xICAgICogICAgeSAgID0gIDAqeSArIDEqLXkgID0gIC15XFxuLy8gcm90YXRpb24gbWFrZXMgaXQgMTgwIGZsaXBwaW5nIHgseSBzbyBpdCdzIGNvcnJlY3QuXFxuLy9cXG5tYXQyIGdldFJvdGF0aW9uTWF0cml4KGZsb2F0IHRoZXRhKSB7XFxuICAgIGZsb2F0IHMgPSBzaW4odGhldGEpO1xcbiAgICBmbG9hdCBjID0gY29zKHRoZXRhKTtcXG4gICAgcmV0dXJuIG1hdDIoYywgLXMsIHMsIGMpO1xcbn1cXG5cXG5cXG4vKipcXG4gKiBSZXR1cm4gYSBtYXQyIHNjYWxlIG1hdHJpeC5cXG4gKlxcbiAqIG1hdDIgc2NhbGVNYXQgPSBnZXRTY2FsZU1hdHJpeCgxLjUpO1xcbiAqIG1hdDIgcm90YXRlTWF0ID0gZ2V0Um90YXRpb25NYXRyaXgocm90YXRpb25JblJhZGlhbnMpO1xcbiAqIHZlYzIgc2NhbGVkUG9pbnQgPSBzY2FsZU1hdCAqIHZfcG9zaXRpb24ueHk7XFxuICogdmVjMiBzY2FsZWRBbmRSb3RhdGVkUG9pbnQgPSBzY2FsZU1hdCAqIHJvdGF0ZU1hdCAqIHZfcG9zaXRpb24ueHk7XFxuICpcXG4gKi9cXG5tYXQyIGdldFNjYWxlTWF0cml4KGZsb2F0IHNjYWxlKSB7XFxuICAgIHJldHVybiBtYXQyKHNjYWxlLCAwLCAwLCBzY2FsZSk7XFxufVxcblxcblxcbnZvaWQgbWFpbiAodm9pZClcXG57XFxuICB2ZWMyIGNlbnRlciA9IHZlYzIoMC4yLCAwLjApO1xcblxcbiAgLy8gVXNlIHRpbWUgYXMgdGhlIGFuZ2xlIHRoZXRhLlxcbiAgbWF0MiByb3RhdGlvbk1hdHJpeCA9IGdldFJvdGF0aW9uTWF0cml4KHVfdGltZSk7XFxuXFxuICAvLyBDcmVhdGUgc2NhbGUgbWF0cml4IGJhc2VkIG9uIHRpbWVcXG4gIG1hdDIgc2NhbGVNYXRyaXggPSBnZXRTY2FsZU1hdHJpeChcXG4gICAgICAoKHNpbih1X3RpbWUpICsgMS4wKSAvIDIuMCkgKyAwLjUgLy8gTm9ybWFsaXplZCBzaW4gKyAwLjUgb2Zmc2V0IHNvIGl0IHJhbmdlcyBmcm9tIDAuNSAtIDEuNVxcbiAgICk7XFxuXFxuXFxuICAvLyBBcHBseSB0aGUgc2NhbGUgKyByb3RhdGlvbiBtYXRyaXggdG8gdGhlIGN1cnJlbnQgdl9wb3NpdGlvblxcbiAgIHZlYzIgcHQgPSBzY2FsZU1hdHJpeCAqIHJvdGF0aW9uTWF0cml4ICogdl9wb3NpdGlvbi54eTtcXG5cXG4gIC8vIEJldHRlciB2ZXJzaW9uIG9mIHRoZSBhYm92ZSB3aGljaCBhY2NvdW50cyBmb3IgY2VudGVyIHBvaW50LlxcbiAgLy8gVG8gZG8gdGhpcywgd2UgYWNjb3VudCBvZiB0aGUgY2VudGVyIHBvaW50IGJ5IHN1YnRyYWNraW5nIGl0IGZyb20gdGhlXFxuICAvLyB2X3Bvc2l0aW9uLCB0aGVuIGRvIHRoZSBtYXRyaXggdHJhbmZvcm0gYW5kIHRoZW4gYWRkIGl0IGJhY2suXFxuLy8gICB2ZWMyIHB0ID0gKHJvdGF0aW9uTWF0cml4ICogKHZfcG9zaXRpb24ueHkgLSBjZW50ZXIpKSArIGNlbnRlcjtcXG5cXG4gIC8vIFVzZSB0aGUgbmV3IHB0IHBvaW50IHRvIGNhbGN1bGF0ZSB0byBzZWUgaWYgdGhhdCBwb2ludCBpcyBpbiB0aGVcXG4gIC8vIGNvbnNpZGVyZWQgcmVjdGFuZ2xlLlxcbiAgZmxvYXQgaW5SZWN0ID0gcmVjdChwdC54eSwgdmVjMigwLjE1KSwgdmVjMigwLjMpLCBjZW50ZXIpO1xcblxcbiAgdmVjMyBjb2xvciA9IHZlYzMoMS4wLCAxLjAsIDAuMCkgKiBpblJlY3Q7XFxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxLjApO1xcblxcblxcblxcblxcblxcblxcbn1cXG5cIjtcblxudmFyIEdsc2xQbGF5Z3JvdW5kMTAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHbHNsUGxheWdyb3VuZDEwKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHbHNsUGxheWdyb3VuZDEwKTtcblxuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTsgLy8gMngyXG5cbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoLTEsIDEsIDEsIC0xLCAwLjEsIDEwKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMucmFmID0gbmV3IFJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgdV9jb2xvcjoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmYwMDAwKVxuICAgICAgfSxcbiAgICAgIC8vIEZsb2F0XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgMCwwIGF0IHRvcCwgbGVmdCBhbmQgd2luZG93LmlubmVyV2lkdGggYW5kIHdpbmRvdy5pbm5lckhlaWdodCBhdCBib3R0b20gcmlnaHQuXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gVmVjMiBTY3JlZW4gcmVzb2x1dGlvblxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyAyeDIgc28gaXQgZmlsbCB0aGUgc2NyZWVuLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIsIDIpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEdsc2xQbGF5Z3JvdW5kMTAsIFt7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgdmFyIGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB2YXIgd2lkdGgsIGhlaWdodDtcblxuICAgICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgICAgd2lkdGggPSAxO1xuICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgICAgaGVpZ2h0ID0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3VzZU1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoZGVsdGEpIHtcbiAgICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHbHNsUGxheWdyb3VuZDEwO1xufSgpO1xuXG5leHBvcnQgeyBHbHNsUGxheWdyb3VuZDEwIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground11.js\n");

/***/ }),

/***/ "./examples/glsl-playground12.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground12.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground10; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n//  // https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739068\n//\n\n\n\nvar vshader = \"\\nvarying vec2 v_uv; // Declare v_uv\\nvoid main() {\\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\\n  v_uv = uv;\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\nuniform float u_time;\\n\\nvarying vec2 v_uv;\\n\\n\\nfloat rect(vec2 pt, vec2 size, vec2 center) {\\n    // We need to offset the position of the virtual box to do a hit test.\\n    vec2 p = pt - center;\\n    vec2 halfsize = size * 0.5; // Half the size since we just need\\n\\n    // Now do a hit test of this rectangle and see if pt falls within it.\\n    // float horz = (v_position.x > -halfsize.x && v_position.x < halfsize.x) ?\\n    float horz = step(-halfsize.x, p.x) - step(halfsize.x, p.x);\\n    float vert = step(-halfsize.y, p.y) - step(halfsize.y, p.y);\\n    return horz * vert;\\n}\\n\\nmat2 getRotationMatrix(float theta) {\\n    float s = sin(theta);\\n    float c = cos(theta);\\n    return mat2(c, -s, s, c);\\n}\\n\\n\\nmat2 getScaleMatrix(float scale) {\\n    return mat2(scale, 0, 0, scale);\\n}\\n\\n\\n/**\\n * This is an example of tiling. It works because we are working with\\n * uv values from 0-1 and use fract to divide it to the screen.\\n *\\n */\\nvoid main (void)\\n{\\n\\n  float tilecount = 6.0;\\n//   vec2 tilecount = vec2(50.0, 50.0);\\n  vec2 center = vec2(0.5);\\n\\n  // Use time as the angle theta.\\n  mat2 rotationMatrix = getRotationMatrix(u_time);\\n\\n  // Tiling with fract.  If tilecount is 6, if your window is square, you will\\n  // get 6 rows and 6 columns.\\n  //\\n  // This it the same as:\\n  // p.x = fract(v_uv.x * 6.0)\\n  // p.y = fract(v_uv.y * 6.0)\\n  //\\n  // Which assigns the fraction values.\\n  vec2 p = fract(v_uv * tilecount);\\n\\n  // Apply the scale + rotation matrix to the current v_position\\n  vec2 pt = (rotationMatrix * (p - center)) + center;\\n\\n  float inRect = rect(pt, vec2(0.5), center);\\n  vec3 color = vec3(1.0, 1.0, 0.0) * inRect;\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground10 = /*#__PURE__*/function () {\n  function GlslPlayground10() {\n    _classCallCheck(this, GlslPlayground10);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2, 2);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground10, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground10;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxMi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDEyLmpzPzU3MjMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy8gIC8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MDY4XG4vL1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xudmFyIHZzaGFkZXIgPSBcIlxcbnZhcnlpbmcgdmVjMiB2X3V2OyAvLyBEZWNsYXJlIHZfdXZcXG52b2lkIG1haW4oKSB7XFxuICAvLyBTZXQgdGhlIHV2IHZhbHVlLiAgVGhyZWUuanMgcGFzc2VzIHRoZSB1diB2YWx1ZSBieSBkZWZhdWx0IG9mIHRoZSBjdXJyZW50IHZlcnRpY2VzLlxcbiAgdl91diA9IHV2O1xcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld01hdHJpeCAqIG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcbn1cXG5cIjtcbnZhciBmc2hhZGVyID0gXCJcXG51bmlmb3JtIHZlYzIgdV9tb3VzZTtcXG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xcblxcbnZhcnlpbmcgdmVjMiB2X3V2O1xcblxcblxcbmZsb2F0IHJlY3QodmVjMiBwdCwgdmVjMiBzaXplLCB2ZWMyIGNlbnRlcikge1xcbiAgICAvLyBXZSBuZWVkIHRvIG9mZnNldCB0aGUgcG9zaXRpb24gb2YgdGhlIHZpcnR1YWwgYm94IHRvIGRvIGEgaGl0IHRlc3QuXFxuICAgIHZlYzIgcCA9IHB0IC0gY2VudGVyO1xcbiAgICB2ZWMyIGhhbGZzaXplID0gc2l6ZSAqIDAuNTsgLy8gSGFsZiB0aGUgc2l6ZSBzaW5jZSB3ZSBqdXN0IG5lZWRcXG5cXG4gICAgLy8gTm93IGRvIGEgaGl0IHRlc3Qgb2YgdGhpcyByZWN0YW5nbGUgYW5kIHNlZSBpZiBwdCBmYWxscyB3aXRoaW4gaXQuXFxuICAgIC8vIGZsb2F0IGhvcnogPSAodl9wb3NpdGlvbi54ID4gLWhhbGZzaXplLnggJiYgdl9wb3NpdGlvbi54IDwgaGFsZnNpemUueCkgP1xcbiAgICBmbG9hdCBob3J6ID0gc3RlcCgtaGFsZnNpemUueCwgcC54KSAtIHN0ZXAoaGFsZnNpemUueCwgcC54KTtcXG4gICAgZmxvYXQgdmVydCA9IHN0ZXAoLWhhbGZzaXplLnksIHAueSkgLSBzdGVwKGhhbGZzaXplLnksIHAueSk7XFxuICAgIHJldHVybiBob3J6ICogdmVydDtcXG59XFxuXFxubWF0MiBnZXRSb3RhdGlvbk1hdHJpeChmbG9hdCB0aGV0YSkge1xcbiAgICBmbG9hdCBzID0gc2luKHRoZXRhKTtcXG4gICAgZmxvYXQgYyA9IGNvcyh0aGV0YSk7XFxuICAgIHJldHVybiBtYXQyKGMsIC1zLCBzLCBjKTtcXG59XFxuXFxuXFxubWF0MiBnZXRTY2FsZU1hdHJpeChmbG9hdCBzY2FsZSkge1xcbiAgICByZXR1cm4gbWF0MihzY2FsZSwgMCwgMCwgc2NhbGUpO1xcbn1cXG5cXG5cXG4vKipcXG4gKiBUaGlzIGlzIGFuIGV4YW1wbGUgb2YgdGlsaW5nLiBJdCB3b3JrcyBiZWNhdXNlIHdlIGFyZSB3b3JraW5nIHdpdGhcXG4gKiB1diB2YWx1ZXMgZnJvbSAwLTEgYW5kIHVzZSBmcmFjdCB0byBkaXZpZGUgaXQgdG8gdGhlIHNjcmVlbi5cXG4gKlxcbiAqL1xcbnZvaWQgbWFpbiAodm9pZClcXG57XFxuXFxuICBmbG9hdCB0aWxlY291bnQgPSA2LjA7XFxuLy8gICB2ZWMyIHRpbGVjb3VudCA9IHZlYzIoNTAuMCwgNTAuMCk7XFxuICB2ZWMyIGNlbnRlciA9IHZlYzIoMC41KTtcXG5cXG4gIC8vIFVzZSB0aW1lIGFzIHRoZSBhbmdsZSB0aGV0YS5cXG4gIG1hdDIgcm90YXRpb25NYXRyaXggPSBnZXRSb3RhdGlvbk1hdHJpeCh1X3RpbWUpO1xcblxcbiAgLy8gVGlsaW5nIHdpdGggZnJhY3QuICBJZiB0aWxlY291bnQgaXMgNiwgaWYgeW91ciB3aW5kb3cgaXMgc3F1YXJlLCB5b3Ugd2lsbFxcbiAgLy8gZ2V0IDYgcm93cyBhbmQgNiBjb2x1bW5zLlxcbiAgLy9cXG4gIC8vIFRoaXMgaXQgdGhlIHNhbWUgYXM6XFxuICAvLyBwLnggPSBmcmFjdCh2X3V2LnggKiA2LjApXFxuICAvLyBwLnkgPSBmcmFjdCh2X3V2LnkgKiA2LjApXFxuICAvL1xcbiAgLy8gV2hpY2ggYXNzaWducyB0aGUgZnJhY3Rpb24gdmFsdWVzLlxcbiAgdmVjMiBwID0gZnJhY3Qodl91diAqIHRpbGVjb3VudCk7XFxuXFxuICAvLyBBcHBseSB0aGUgc2NhbGUgKyByb3RhdGlvbiBtYXRyaXggdG8gdGhlIGN1cnJlbnQgdl9wb3NpdGlvblxcbiAgdmVjMiBwdCA9IChyb3RhdGlvbk1hdHJpeCAqIChwIC0gY2VudGVyKSkgKyBjZW50ZXI7XFxuXFxuICBmbG9hdCBpblJlY3QgPSByZWN0KHB0LCB2ZWMyKDAuNSksIGNlbnRlcik7XFxuICB2ZWMzIGNvbG9yID0gdmVjMygxLjAsIDEuMCwgMC4wKSAqIGluUmVjdDtcXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XFxufVxcblwiO1xuXG52YXIgR2xzbFBsYXlncm91bmQxMCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEdsc2xQbGF5Z3JvdW5kMTAoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdsc2xQbGF5Z3JvdW5kMTApO1xuXG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpOyAvLyAyeDJcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSgtMSwgMSwgMSwgLTEsIDAuMSwgMTApO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdtb3VzZW1vdmUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKVxuICAgIH0pO1xuICAgIHRoaXMudW5pZm9ybXMgPSB7XG4gICAgICB1X2NvbG9yOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHhmZjAwMDApXG4gICAgICB9LFxuICAgICAgLy8gRmxvYXRcbiAgICAgIHVfdGltZToge1xuICAgICAgICB2YWx1ZTogMC4wXG4gICAgICB9LFxuICAgICAgLy8gVmVjMiAwLDAgYXQgdG9wLCBsZWZ0IGFuZCB3aW5kb3cuaW5uZXJXaWR0aCBhbmQgd2luZG93LmlubmVySGVpZ2h0IGF0IGJvdHRvbSByaWdodC5cbiAgICAgIHVfbW91c2U6IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLjAsXG4gICAgICAgICAgeTogMC4wXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvLyBWZWMyIFNjcmVlbiByZXNvbHV0aW9uXG4gICAgICB1X3Jlc29sdXRpb246IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07IC8vIDJ4MiBzbyBpdCBmaWxsIHRoZSBzY3JlZW4uXG5cbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMiwgMik7XG4gICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICB1bmlmb3JtczogdGhpcy51bmlmb3JtcyxcbiAgICAgIHZlcnRleFNoYWRlcjogdnNoYWRlcixcbiAgICAgIGZyYWdtZW50U2hhZGVyOiBmc2hhZGVyXG4gICAgfSk7IC8vIENyZWF0ZSBtZXNoIChnZW9tICsgbWF0ZXJpYWwpXG5cbiAgICB0aGlzLnBsYW5lID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5wbGFuZSk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDE7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoR2xzbFBsYXlncm91bmQxMCwgW3tcbiAgICBrZXk6IFwib25SZXNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SZXNpemUoKSB7XG4gICAgICB2YXIgYXNwZWN0UmF0aW8gPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIHZhciB3aWR0aCwgaGVpZ2h0O1xuXG4gICAgICBpZiAoYXNwZWN0UmF0aW8gPj0gMSkge1xuICAgICAgICB3aWR0aCA9IDE7XG4gICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAvIHdpbmRvdy5pbm5lcldpZHRoICogd2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aWR0aCA9IGFzcGVjdFJhdGlvO1xuICAgICAgICBoZWlnaHQgPSAxO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNhbWVyYS5sZWZ0ID0gLXdpZHRoO1xuICAgICAgdGhpcy5jYW1lcmEucmlnaHQgPSB3aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnRvcCA9IGhlaWdodDtcbiAgICAgIHRoaXMuY2FtZXJhLmJvdHRvbSA9IC1oZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS54ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS55ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbk1vdXNlTW92ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1vdXNlTW92ZShldnQpIHtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS54ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZ0LmNsaWVudFg7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueSA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2dC5jbGllbnRZO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJhZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJhZihkZWx0YSkge1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgKz0gdGhpcy5yYWYuZ2V0RGVsdGEodHJ1ZSk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEdsc2xQbGF5Z3JvdW5kMTA7XG59KCk7XG5cbmV4cG9ydCB7IEdsc2xQbGF5Z3JvdW5kMTAgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground12.js\n");

/***/ }),

/***/ "./examples/glsl-playground13.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground13.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground13; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n//  // https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739068\n//\n\n\n\nvar vshader = \"\\nvarying vec3 v_position; // Declare v_position\\nvarying vec2 v_uv; // Declare v_position\\nvoid main() {\\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\\n  v_position = position;\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\nuniform float u_time;\\n\\nvarying vec3 v_position;\\nvarying vec2 v_uv;\\n\\nfloat rect(vec2 pt, vec2 size, vec2 center) {\\n    // We need to offset the position of the virtual box to do a hit test.\\n    vec2 p = pt - center;\\n    vec2 halfsize = size * 0.5; // Half the size since we just need\\n\\n    // Now do a hit test of this rectangle and see if pt falls within it.\\n    // float horz = (v_position.x > -halfsize.x && v_position.x < halfsize.x) ?\\n    float horz = step(-halfsize.x, p.x) - step(halfsize.x, p.x);\\n    float vert = step(-halfsize.y, p.y) - step(halfsize.y, p.y);\\n    return horz * vert;\\n}\\n\\nmat2 getRotationMatrix(float theta) {\\n    float s = sin(theta);\\n    float c = cos(theta);\\n    return mat2(c, -s, s, c);\\n}\\n\\nmat2 getScaleMatrix(float scale) {\\n    return mat2(scale, 0, 0, scale);\\n}\\n\\n\\n/**\\n * Checks if a pt is withi a circle that starts from the given center and of a given\\n * radius.\\n */\\nfloat circle(vec2 pt, vec2 center, float radius) {\\n    vec2 p = pt - center;\\n    return 1.0 - step(radius, length(p));\\n}\\n\\n// Smooth step version of circle function.\\nfloat circle(vec2 pt, vec2 center, float radius, bool soften) {\\n    vec2 p = pt - center;\\n    return 1.0 - smoothstep(radius, radius + radius, length(p));\\n}\\n\\n// Creates a lines circle.\\nfloat circle(vec2 pt, vec2 center, float radius, float line_width) {\\n    vec2 p = pt - center;\\n    float len = length(p);\\n    float half_line_width = line_width / 2.0;\\n    return step(radius-half_line_width, len) - step(radius + half_line_width, len);\\n}\\n\\n// Creates a line circle with soft edge\\nfloat circle(vec2 pt, vec2 center, float radius, float line_width, bool soften) {\\n    vec2 p = pt - center;\\n    float len = length(p);\\n    float softenAmount = 0.5;\\n    float edge = (soften) ? radius * softenAmount : 0.0;\\n    float half_line_width = line_width / 2.0;\\n    return smoothstep(radius - half_line_width - edge, radius - half_line_width, len) -\\n        smoothstep(radius + half_line_width, radius + half_line_width + edge, len);\\n}\\n\\n\\n\\nvoid main (void)\\n{\\n  vec2 center = vec2(0.0);\\n\\n  float inCircle = circle(v_position.xy, vec2(-0.5, 0.0), 0.1);\\n\\n  // Smooth edge with smooth step\\n   float inCircle2 = circle(v_position.xy, vec2(0.0, 0.0), 0.1, true);\\n\\n  // Lined circle example.\\n//    float inCircle3 = circle(v_position.xy, vec2(0.5, 0.0), 0.1, 0.01);\\n\\n  // Lined softed circle example.\\n   float inCircle3 = circle(v_position.xy, vec2(0.5, 0.0), 0.1, 0.01, true);\\n\\n  // Combine outputs.\\n  vec3 color =\\n       vec3(1.0, 1.0, 0.0) * inCircle  +\\n       vec3(1.0, 0.0, 0.0) * inCircle2  +\\n       vec3(0.0, 0.0, 1.0) * inCircle3;\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground13 = /*#__PURE__*/function () {\n  function GlslPlayground13() {\n    _classCallCheck(this, GlslPlayground13);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2, 2);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground13, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground13;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxMy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDEzLmpzPzNiNWEiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy8gIC8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MDY4XG4vL1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xudmFyIHZzaGFkZXIgPSBcIlxcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uOyAvLyBEZWNsYXJlIHZfcG9zaXRpb25cXG52YXJ5aW5nIHZlYzIgdl91djsgLy8gRGVjbGFyZSB2X3Bvc2l0aW9uXFxudm9pZCBtYWluKCkge1xcbiAgLy8gU2V0IHRoZSB1diB2YWx1ZS4gIFRocmVlLmpzIHBhc3NlcyB0aGUgdXYgdmFsdWUgYnkgZGVmYXVsdCBvZiB0aGUgY3VycmVudCB2ZXJ0aWNlcy5cXG4gIHZfcG9zaXRpb24gPSBwb3NpdGlvbjtcXG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiBtb2RlbE1hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcXG59XFxuXCI7XG52YXIgZnNoYWRlciA9IFwiXFxudW5pZm9ybSB2ZWMyIHVfbW91c2U7XFxudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcXG51bmlmb3JtIHZlYzMgdV9jb2xvcjtcXG51bmlmb3JtIGZsb2F0IHVfdGltZTtcXG5cXG52YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjtcXG52YXJ5aW5nIHZlYzIgdl91djtcXG5cXG5mbG9hdCByZWN0KHZlYzIgcHQsIHZlYzIgc2l6ZSwgdmVjMiBjZW50ZXIpIHtcXG4gICAgLy8gV2UgbmVlZCB0byBvZmZzZXQgdGhlIHBvc2l0aW9uIG9mIHRoZSB2aXJ0dWFsIGJveCB0byBkbyBhIGhpdCB0ZXN0LlxcbiAgICB2ZWMyIHAgPSBwdCAtIGNlbnRlcjtcXG4gICAgdmVjMiBoYWxmc2l6ZSA9IHNpemUgKiAwLjU7IC8vIEhhbGYgdGhlIHNpemUgc2luY2Ugd2UganVzdCBuZWVkXFxuXFxuICAgIC8vIE5vdyBkbyBhIGhpdCB0ZXN0IG9mIHRoaXMgcmVjdGFuZ2xlIGFuZCBzZWUgaWYgcHQgZmFsbHMgd2l0aGluIGl0LlxcbiAgICAvLyBmbG9hdCBob3J6ID0gKHZfcG9zaXRpb24ueCA+IC1oYWxmc2l6ZS54ICYmIHZfcG9zaXRpb24ueCA8IGhhbGZzaXplLngpID9cXG4gICAgZmxvYXQgaG9yeiA9IHN0ZXAoLWhhbGZzaXplLngsIHAueCkgLSBzdGVwKGhhbGZzaXplLngsIHAueCk7XFxuICAgIGZsb2F0IHZlcnQgPSBzdGVwKC1oYWxmc2l6ZS55LCBwLnkpIC0gc3RlcChoYWxmc2l6ZS55LCBwLnkpO1xcbiAgICByZXR1cm4gaG9yeiAqIHZlcnQ7XFxufVxcblxcbm1hdDIgZ2V0Um90YXRpb25NYXRyaXgoZmxvYXQgdGhldGEpIHtcXG4gICAgZmxvYXQgcyA9IHNpbih0aGV0YSk7XFxuICAgIGZsb2F0IGMgPSBjb3ModGhldGEpO1xcbiAgICByZXR1cm4gbWF0MihjLCAtcywgcywgYyk7XFxufVxcblxcbm1hdDIgZ2V0U2NhbGVNYXRyaXgoZmxvYXQgc2NhbGUpIHtcXG4gICAgcmV0dXJuIG1hdDIoc2NhbGUsIDAsIDAsIHNjYWxlKTtcXG59XFxuXFxuXFxuLyoqXFxuICogQ2hlY2tzIGlmIGEgcHQgaXMgd2l0aGkgYSBjaXJjbGUgdGhhdCBzdGFydHMgZnJvbSB0aGUgZ2l2ZW4gY2VudGVyIGFuZCBvZiBhIGdpdmVuXFxuICogcmFkaXVzLlxcbiAqL1xcbmZsb2F0IGNpcmNsZSh2ZWMyIHB0LCB2ZWMyIGNlbnRlciwgZmxvYXQgcmFkaXVzKSB7XFxuICAgIHZlYzIgcCA9IHB0IC0gY2VudGVyO1xcbiAgICByZXR1cm4gMS4wIC0gc3RlcChyYWRpdXMsIGxlbmd0aChwKSk7XFxufVxcblxcbi8vIFNtb290aCBzdGVwIHZlcnNpb24gb2YgY2lyY2xlIGZ1bmN0aW9uLlxcbmZsb2F0IGNpcmNsZSh2ZWMyIHB0LCB2ZWMyIGNlbnRlciwgZmxvYXQgcmFkaXVzLCBib29sIHNvZnRlbikge1xcbiAgICB2ZWMyIHAgPSBwdCAtIGNlbnRlcjtcXG4gICAgcmV0dXJuIDEuMCAtIHNtb290aHN0ZXAocmFkaXVzLCByYWRpdXMgKyByYWRpdXMsIGxlbmd0aChwKSk7XFxufVxcblxcbi8vIENyZWF0ZXMgYSBsaW5lcyBjaXJjbGUuXFxuZmxvYXQgY2lyY2xlKHZlYzIgcHQsIHZlYzIgY2VudGVyLCBmbG9hdCByYWRpdXMsIGZsb2F0IGxpbmVfd2lkdGgpIHtcXG4gICAgdmVjMiBwID0gcHQgLSBjZW50ZXI7XFxuICAgIGZsb2F0IGxlbiA9IGxlbmd0aChwKTtcXG4gICAgZmxvYXQgaGFsZl9saW5lX3dpZHRoID0gbGluZV93aWR0aCAvIDIuMDtcXG4gICAgcmV0dXJuIHN0ZXAocmFkaXVzLWhhbGZfbGluZV93aWR0aCwgbGVuKSAtIHN0ZXAocmFkaXVzICsgaGFsZl9saW5lX3dpZHRoLCBsZW4pO1xcbn1cXG5cXG4vLyBDcmVhdGVzIGEgbGluZSBjaXJjbGUgd2l0aCBzb2Z0IGVkZ2VcXG5mbG9hdCBjaXJjbGUodmVjMiBwdCwgdmVjMiBjZW50ZXIsIGZsb2F0IHJhZGl1cywgZmxvYXQgbGluZV93aWR0aCwgYm9vbCBzb2Z0ZW4pIHtcXG4gICAgdmVjMiBwID0gcHQgLSBjZW50ZXI7XFxuICAgIGZsb2F0IGxlbiA9IGxlbmd0aChwKTtcXG4gICAgZmxvYXQgc29mdGVuQW1vdW50ID0gMC41O1xcbiAgICBmbG9hdCBlZGdlID0gKHNvZnRlbikgPyByYWRpdXMgKiBzb2Z0ZW5BbW91bnQgOiAwLjA7XFxuICAgIGZsb2F0IGhhbGZfbGluZV93aWR0aCA9IGxpbmVfd2lkdGggLyAyLjA7XFxuICAgIHJldHVybiBzbW9vdGhzdGVwKHJhZGl1cyAtIGhhbGZfbGluZV93aWR0aCAtIGVkZ2UsIHJhZGl1cyAtIGhhbGZfbGluZV93aWR0aCwgbGVuKSAtXFxuICAgICAgICBzbW9vdGhzdGVwKHJhZGl1cyArIGhhbGZfbGluZV93aWR0aCwgcmFkaXVzICsgaGFsZl9saW5lX3dpZHRoICsgZWRnZSwgbGVuKTtcXG59XFxuXFxuXFxuXFxudm9pZCBtYWluICh2b2lkKVxcbntcXG4gIHZlYzIgY2VudGVyID0gdmVjMigwLjApO1xcblxcbiAgZmxvYXQgaW5DaXJjbGUgPSBjaXJjbGUodl9wb3NpdGlvbi54eSwgdmVjMigtMC41LCAwLjApLCAwLjEpO1xcblxcbiAgLy8gU21vb3RoIGVkZ2Ugd2l0aCBzbW9vdGggc3RlcFxcbiAgIGZsb2F0IGluQ2lyY2xlMiA9IGNpcmNsZSh2X3Bvc2l0aW9uLnh5LCB2ZWMyKDAuMCwgMC4wKSwgMC4xLCB0cnVlKTtcXG5cXG4gIC8vIExpbmVkIGNpcmNsZSBleGFtcGxlLlxcbi8vICAgIGZsb2F0IGluQ2lyY2xlMyA9IGNpcmNsZSh2X3Bvc2l0aW9uLnh5LCB2ZWMyKDAuNSwgMC4wKSwgMC4xLCAwLjAxKTtcXG5cXG4gIC8vIExpbmVkIHNvZnRlZCBjaXJjbGUgZXhhbXBsZS5cXG4gICBmbG9hdCBpbkNpcmNsZTMgPSBjaXJjbGUodl9wb3NpdGlvbi54eSwgdmVjMigwLjUsIDAuMCksIDAuMSwgMC4wMSwgdHJ1ZSk7XFxuXFxuICAvLyBDb21iaW5lIG91dHB1dHMuXFxuICB2ZWMzIGNvbG9yID1cXG4gICAgICAgdmVjMygxLjAsIDEuMCwgMC4wKSAqIGluQ2lyY2xlICArXFxuICAgICAgIHZlYzMoMS4wLCAwLjAsIDAuMCkgKiBpbkNpcmNsZTIgICtcXG4gICAgICAgdmVjMygwLjAsIDAuMCwgMS4wKSAqIGluQ2lyY2xlMztcXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XFxufVxcblwiO1xuXG52YXIgR2xzbFBsYXlncm91bmQxMyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEdsc2xQbGF5Z3JvdW5kMTMoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdsc2xQbGF5Z3JvdW5kMTMpO1xuXG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpOyAvLyAyeDJcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSgtMSwgMSwgMSwgLTEsIDAuMSwgMTApO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdtb3VzZW1vdmUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKVxuICAgIH0pO1xuICAgIHRoaXMudW5pZm9ybXMgPSB7XG4gICAgICB1X2NvbG9yOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHhmZjAwMDApXG4gICAgICB9LFxuICAgICAgLy8gRmxvYXRcbiAgICAgIHVfdGltZToge1xuICAgICAgICB2YWx1ZTogMC4wXG4gICAgICB9LFxuICAgICAgLy8gVmVjMiAwLDAgYXQgdG9wLCBsZWZ0IGFuZCB3aW5kb3cuaW5uZXJXaWR0aCBhbmQgd2luZG93LmlubmVySGVpZ2h0IGF0IGJvdHRvbSByaWdodC5cbiAgICAgIHVfbW91c2U6IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLjAsXG4gICAgICAgICAgeTogMC4wXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvLyBWZWMyIFNjcmVlbiByZXNvbHV0aW9uXG4gICAgICB1X3Jlc29sdXRpb246IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07IC8vIDJ4MiBzbyBpdCBmaWxsIHRoZSBzY3JlZW4uXG5cbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMiwgMik7XG4gICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICB1bmlmb3JtczogdGhpcy51bmlmb3JtcyxcbiAgICAgIHZlcnRleFNoYWRlcjogdnNoYWRlcixcbiAgICAgIGZyYWdtZW50U2hhZGVyOiBmc2hhZGVyXG4gICAgfSk7IC8vIENyZWF0ZSBtZXNoIChnZW9tICsgbWF0ZXJpYWwpXG5cbiAgICB0aGlzLnBsYW5lID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5wbGFuZSk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDE7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoR2xzbFBsYXlncm91bmQxMywgW3tcbiAgICBrZXk6IFwib25SZXNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SZXNpemUoKSB7XG4gICAgICB2YXIgYXNwZWN0UmF0aW8gPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIHZhciB3aWR0aCwgaGVpZ2h0O1xuXG4gICAgICBpZiAoYXNwZWN0UmF0aW8gPj0gMSkge1xuICAgICAgICB3aWR0aCA9IDE7XG4gICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAvIHdpbmRvdy5pbm5lcldpZHRoICogd2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aWR0aCA9IGFzcGVjdFJhdGlvO1xuICAgICAgICBoZWlnaHQgPSAxO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNhbWVyYS5sZWZ0ID0gLXdpZHRoO1xuICAgICAgdGhpcy5jYW1lcmEucmlnaHQgPSB3aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnRvcCA9IGhlaWdodDtcbiAgICAgIHRoaXMuY2FtZXJhLmJvdHRvbSA9IC1oZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS54ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS55ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbk1vdXNlTW92ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1vdXNlTW92ZShldnQpIHtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS54ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZ0LmNsaWVudFg7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueSA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2dC5jbGllbnRZO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJhZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJhZihkZWx0YSkge1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgKz0gdGhpcy5yYWYuZ2V0RGVsdGEodHJ1ZSk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEdsc2xQbGF5Z3JvdW5kMTM7XG59KCk7XG5cbmV4cG9ydCB7IEdsc2xQbGF5Z3JvdW5kMTMgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground13.js\n");

/***/ }),

/***/ "./examples/glsl-playground14.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground14.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground14; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n//  // https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739068\n//\n\n\n\nvar vshader = \"\\nvarying vec3 v_position; // Declare v_position\\nvarying vec2 v_uv; // Declare v_uv\\nvoid main() {\\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\\n  v_position = position;\\n  v_uv = uv;\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\nuniform float u_time;\\n\\nvarying vec3 v_position;\\nvarying vec2 v_uv;\\n\\nfloat line(float a, float b, float line_width, float edge_thickness) {\\n    float half_line_width = line_width * 0.5;\\n    return smoothstep(\\n        a - half_line_width - edge_thickness,\\n        a - half_line_width,\\n        b\\n     ) -\\n     smoothstep(\\n         a + half_line_width,\\n         a + half_line_width + edge_thickness,\\n         b\\n     );\\n}\\n\\nvoid main (void)\\n{\\n  // Example 1 - v_position\\n  // We get a diagnol line since we get 1.0 only where x = y.\\n  vec3 color = vec3(1.0) * line(v_position.x, v_position.y, 0.01, 0.001);\\n\\n\\n  // Example 2 - gl_Fragcoord\\n  // Uses gl_Fragcoord.  This uses screen space pixel coordinates.\\n  // Allows you to draw in pixels.\\n//    vec3 color = vec3(1.0) * line(\\n//     gl_FragCoord.x,\\n//     gl_FragCoord.y,\\n//     10.0,  // 10px width\\n//     1.0\\n//    );\\n\\n\\n  // Example 3 - v_uv\\n//    vec3 color = vec3(1.0) * line(\\n//     v_uv.x,\\n//     v_uv.y,\\n//     0.01,\\n//     0.001\\n//    );\\n\\n\\n   // Example 4 - Sin wave\\n//    vec3 color = vec3(1.0) * line(\\n//        v_position.y,\\n//        // Force since between -0.5 and 0.5\\n//        mix(-0.5, 0.5, (sin(v_position.x * 3.1415) + 1.0) / 2.0),\\n//        0.05,\\n//        0.002\\n//    );\\n\\n\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground14 = /*#__PURE__*/function () {\n  function GlslPlayground14() {\n    _classCallCheck(this, GlslPlayground14);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2, 2);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground14, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground14;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxNC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDE0LmpzP2EyYzMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy8gIC8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MDY4XG4vL1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xudmFyIHZzaGFkZXIgPSBcIlxcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uOyAvLyBEZWNsYXJlIHZfcG9zaXRpb25cXG52YXJ5aW5nIHZlYzIgdl91djsgLy8gRGVjbGFyZSB2X3V2XFxudm9pZCBtYWluKCkge1xcbiAgLy8gU2V0IHRoZSB1diB2YWx1ZS4gIFRocmVlLmpzIHBhc3NlcyB0aGUgdXYgdmFsdWUgYnkgZGVmYXVsdCBvZiB0aGUgY3VycmVudCB2ZXJ0aWNlcy5cXG4gIHZfcG9zaXRpb24gPSBwb3NpdGlvbjtcXG4gIHZfdXYgPSB1djtcXG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiBtb2RlbE1hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcXG59XFxuXCI7XG52YXIgZnNoYWRlciA9IFwiXFxudW5pZm9ybSB2ZWMyIHVfbW91c2U7XFxudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcXG51bmlmb3JtIHZlYzMgdV9jb2xvcjtcXG51bmlmb3JtIGZsb2F0IHVfdGltZTtcXG5cXG52YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjtcXG52YXJ5aW5nIHZlYzIgdl91djtcXG5cXG5mbG9hdCBsaW5lKGZsb2F0IGEsIGZsb2F0IGIsIGZsb2F0IGxpbmVfd2lkdGgsIGZsb2F0IGVkZ2VfdGhpY2tuZXNzKSB7XFxuICAgIGZsb2F0IGhhbGZfbGluZV93aWR0aCA9IGxpbmVfd2lkdGggKiAwLjU7XFxuICAgIHJldHVybiBzbW9vdGhzdGVwKFxcbiAgICAgICAgYSAtIGhhbGZfbGluZV93aWR0aCAtIGVkZ2VfdGhpY2tuZXNzLFxcbiAgICAgICAgYSAtIGhhbGZfbGluZV93aWR0aCxcXG4gICAgICAgIGJcXG4gICAgICkgLVxcbiAgICAgc21vb3Roc3RlcChcXG4gICAgICAgICBhICsgaGFsZl9saW5lX3dpZHRoLFxcbiAgICAgICAgIGEgKyBoYWxmX2xpbmVfd2lkdGggKyBlZGdlX3RoaWNrbmVzcyxcXG4gICAgICAgICBiXFxuICAgICApO1xcbn1cXG5cXG52b2lkIG1haW4gKHZvaWQpXFxue1xcbiAgLy8gRXhhbXBsZSAxIC0gdl9wb3NpdGlvblxcbiAgLy8gV2UgZ2V0IGEgZGlhZ25vbCBsaW5lIHNpbmNlIHdlIGdldCAxLjAgb25seSB3aGVyZSB4ID0geS5cXG4gIHZlYzMgY29sb3IgPSB2ZWMzKDEuMCkgKiBsaW5lKHZfcG9zaXRpb24ueCwgdl9wb3NpdGlvbi55LCAwLjAxLCAwLjAwMSk7XFxuXFxuXFxuICAvLyBFeGFtcGxlIDIgLSBnbF9GcmFnY29vcmRcXG4gIC8vIFVzZXMgZ2xfRnJhZ2Nvb3JkLiAgVGhpcyB1c2VzIHNjcmVlbiBzcGFjZSBwaXhlbCBjb29yZGluYXRlcy5cXG4gIC8vIEFsbG93cyB5b3UgdG8gZHJhdyBpbiBwaXhlbHMuXFxuLy8gICAgdmVjMyBjb2xvciA9IHZlYzMoMS4wKSAqIGxpbmUoXFxuLy8gICAgIGdsX0ZyYWdDb29yZC54LFxcbi8vICAgICBnbF9GcmFnQ29vcmQueSxcXG4vLyAgICAgMTAuMCwgIC8vIDEwcHggd2lkdGhcXG4vLyAgICAgMS4wXFxuLy8gICAgKTtcXG5cXG5cXG4gIC8vIEV4YW1wbGUgMyAtIHZfdXZcXG4vLyAgICB2ZWMzIGNvbG9yID0gdmVjMygxLjApICogbGluZShcXG4vLyAgICAgdl91di54LFxcbi8vICAgICB2X3V2LnksXFxuLy8gICAgIDAuMDEsXFxuLy8gICAgIDAuMDAxXFxuLy8gICAgKTtcXG5cXG5cXG4gICAvLyBFeGFtcGxlIDQgLSBTaW4gd2F2ZVxcbi8vICAgIHZlYzMgY29sb3IgPSB2ZWMzKDEuMCkgKiBsaW5lKFxcbi8vICAgICAgICB2X3Bvc2l0aW9uLnksXFxuLy8gICAgICAgIC8vIEZvcmNlIHNpbmNlIGJldHdlZW4gLTAuNSBhbmQgMC41XFxuLy8gICAgICAgIG1peCgtMC41LCAwLjUsIChzaW4odl9wb3NpdGlvbi54ICogMy4xNDE1KSArIDEuMCkgLyAyLjApLFxcbi8vICAgICAgICAwLjA1LFxcbi8vICAgICAgICAwLjAwMlxcbi8vICAgICk7XFxuXFxuXFxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxLjApO1xcbn1cXG5cIjtcblxudmFyIEdsc2xQbGF5Z3JvdW5kMTQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHbHNsUGxheWdyb3VuZDE0KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHbHNsUGxheWdyb3VuZDE0KTtcblxuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTsgLy8gMngyXG5cbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoLTEsIDEsIDEsIC0xLCAwLjEsIDEwKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMucmFmID0gbmV3IFJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgdV9jb2xvcjoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmYwMDAwKVxuICAgICAgfSxcbiAgICAgIC8vIEZsb2F0XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgMCwwIGF0IHRvcCwgbGVmdCBhbmQgd2luZG93LmlubmVyV2lkdGggYW5kIHdpbmRvdy5pbm5lckhlaWdodCBhdCBib3R0b20gcmlnaHQuXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gVmVjMiBTY3JlZW4gcmVzb2x1dGlvblxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyAyeDIgc28gaXQgZmlsbCB0aGUgc2NyZWVuLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIsIDIpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEdsc2xQbGF5Z3JvdW5kMTQsIFt7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgdmFyIGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB2YXIgd2lkdGgsIGhlaWdodDtcblxuICAgICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgICAgd2lkdGggPSAxO1xuICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgICAgaGVpZ2h0ID0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3VzZU1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoZGVsdGEpIHtcbiAgICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHbHNsUGxheWdyb3VuZDE0O1xufSgpO1xuXG5leHBvcnQgeyBHbHNsUGxheWdyb3VuZDE0IGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground14.js\n");

/***/ }),

/***/ "./examples/glsl-playground15.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground15.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground15; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739104#questions\n//\n\n\n\nvar vshader = \"\\nvarying vec3 v_position; // Declare v_position\\nvarying vec2 v_uv; // Declare v_uv\\nvoid main() {\\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\\n  v_position = position;\\n  v_uv = uv;\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\n#define PI 3.14159265359\\n#define PI2 6.28318530718\\n\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\nuniform float u_time;\\n\\nvarying vec3 v_position;\\nvarying vec2 v_uv;\\n\\n\\n\\nfloat circle(vec2 pt, vec2 center, float radius, float line_width, float edge_thickness){\\n    pt -= center;\\n    float len = length(pt);\\n    float result = smoothstep(radius-line_width/2.0-edge_thickness, radius-line_width/2.0, len) - smoothstep(radius + line_width/2.0, radius + line_width/2.0 + edge_thickness, len);\\n\\n    return result;\\n  }\\n\\nfloat line(float a, float b, float line_width, float edge_thickness) {\\n    float half_line_width = line_width * 0.5;\\n    return smoothstep(\\n        a - half_line_width - edge_thickness,\\n        a - half_line_width,\\n        b\\n     ) -\\n     smoothstep(\\n         a + half_line_width,\\n         a + half_line_width + edge_thickness,\\n         b\\n     );\\n}\\n\\n/**\\n * https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13944084#questions\\n * Create a polygon.\\n */\\nfloat polygon(vec2 pt, vec2 center, float radius, int sides, float rotate, float edge_thickness){\\n    pt -= center;\\n\\n    // Angle and radius from the current pixel\\n    float theta = atan(pt.y, pt.x) + rotate;\\n    float rad = PI2/float(sides);\\n\\n    // Shaping function that modulate the distance\\n    float d = cos(floor(0.5 + theta/rad)*rad-theta)*length(pt);\\n\\n    return 1.0 - smoothstep(radius, radius + edge_thickness, d);\\n  }\\n\\n\\n/**\\n *\\n * Returns 1.0 when test point is over a sweeping line.\\n * pt - test point\\n * center - center point\\n * radius - radius\\n *\\n * https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739104#questions\\n * https://codepen.io/nik-lever/full/YBBjLo\\n *  - green line is vector d\\n *  - black line is vector p\\n *  - blue line is perpendicular line p and test point.\\n */\\nfloat sweep(vec2 pt, vec2 center, float radius, float line_width, float edge_thickness){\\n    vec2 d = pt - center;\\n    float theta = u_time * 2.0;\\n\\n    // A vector point around circle with given radius from 0,0.\\n    vec2 p = vec2(cos(theta), -sin(theta)) * radius;\\n\\n\\n    float h = clamp( dot(d,p)/dot(p,p), 0.0, 1.0 );\\n\\n    //float h = dot(d,p)/dot(p,p);\\n    float l = length(d - p*h);\\n\\n    float gradient = 0.0;\\n    const float gradient_angle = PI * 0.5;\\n\\n    if (length(d)<radius){\\n      float angle = mod(theta + atan(d.y, d.x), PI2);\\n      gradient = clamp(gradient_angle - angle, 0.0, gradient_angle)/gradient_angle * 0.5;\\n    }\\n\\n    return gradient + 1.0 - smoothstep(line_width, line_width+edge_thickness, l);\\n  }\\n\\n\\nvoid main (void)\\n{\\n  vec3 axis_color = vec3(0.8);\\n  vec3 color = line(v_uv.y, 0.5, 0.002, 0.001) * axis_color;\\n  color += line(v_uv.x, 0.5, 0.002, 0.001) * axis_color;\\n\\n  // Add circles\\n  color += circle(v_uv, vec2(0.5), 0.3, 0.002, 0.001) * axis_color;\\n  color += circle(v_uv, vec2(0.5), 0.2, 0.002, 0.001) * axis_color;\\n  color += circle(v_uv, vec2(0.5), 0.1, 0.002, 0.001) * axis_color;\\n\\n  // Add sweeping line.\\n  color += sweep(v_uv, vec2(0.5), 0.3, 0.003, 0.001) * vec3(0.1, 0.3, 0.1);\\n\\n  // Add triangular polygons\\n  vec3 white = vec3(1.0);\\n  color += polygon(\\n      v_uv,\\n      vec2(0.9 - sin(u_time * 3.0) * 0.05, 0.5),\\n      0.005, 3, 0.0, 0.001) * white;\\n  color += polygon(\\n      v_uv,\\n      vec2(0.1 - sin(u_time * 3.0 +PI) * 0.05, 0.5),\\n      0.005, 3, PI, 0.001) * white;\\n\\n\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground15 = /*#__PURE__*/function () {\n  function GlslPlayground15() {\n    _classCallCheck(this, GlslPlayground15);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color_a: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xff0000)\n      },\n      u_color_b: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0x00ffff)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2, 2);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground15, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf() {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground15;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxNS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDE1LmpzPzI0ZTciXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy9cbi8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MTA0I3F1ZXN0aW9uc1xuLy9cbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9saWIvZG9tL2RvbS13YXRjaGVyJztcbnZhciB2c2hhZGVyID0gXCJcXG52YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjsgLy8gRGVjbGFyZSB2X3Bvc2l0aW9uXFxudmFyeWluZyB2ZWMyIHZfdXY7IC8vIERlY2xhcmUgdl91dlxcbnZvaWQgbWFpbigpIHtcXG4gIC8vIFNldCB0aGUgdXYgdmFsdWUuICBUaHJlZS5qcyBwYXNzZXMgdGhlIHV2IHZhbHVlIGJ5IGRlZmF1bHQgb2YgdGhlIGN1cnJlbnQgdmVydGljZXMuXFxuICB2X3Bvc2l0aW9uID0gcG9zaXRpb247XFxuICB2X3V2ID0gdXY7XFxuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XFxufVxcblwiO1xudmFyIGZzaGFkZXIgPSBcIlxcbiNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1OVxcbiNkZWZpbmUgUEkyIDYuMjgzMTg1MzA3MThcXG5cXG51bmlmb3JtIHZlYzIgdV9tb3VzZTtcXG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xcblxcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xcbnZhcnlpbmcgdmVjMiB2X3V2O1xcblxcblxcblxcbmZsb2F0IGNpcmNsZSh2ZWMyIHB0LCB2ZWMyIGNlbnRlciwgZmxvYXQgcmFkaXVzLCBmbG9hdCBsaW5lX3dpZHRoLCBmbG9hdCBlZGdlX3RoaWNrbmVzcyl7XFxuICAgIHB0IC09IGNlbnRlcjtcXG4gICAgZmxvYXQgbGVuID0gbGVuZ3RoKHB0KTtcXG4gICAgZmxvYXQgcmVzdWx0ID0gc21vb3Roc3RlcChyYWRpdXMtbGluZV93aWR0aC8yLjAtZWRnZV90aGlja25lc3MsIHJhZGl1cy1saW5lX3dpZHRoLzIuMCwgbGVuKSAtIHNtb290aHN0ZXAocmFkaXVzICsgbGluZV93aWR0aC8yLjAsIHJhZGl1cyArIGxpbmVfd2lkdGgvMi4wICsgZWRnZV90aGlja25lc3MsIGxlbik7XFxuXFxuICAgIHJldHVybiByZXN1bHQ7XFxuICB9XFxuXFxuZmxvYXQgbGluZShmbG9hdCBhLCBmbG9hdCBiLCBmbG9hdCBsaW5lX3dpZHRoLCBmbG9hdCBlZGdlX3RoaWNrbmVzcykge1xcbiAgICBmbG9hdCBoYWxmX2xpbmVfd2lkdGggPSBsaW5lX3dpZHRoICogMC41O1xcbiAgICByZXR1cm4gc21vb3Roc3RlcChcXG4gICAgICAgIGEgLSBoYWxmX2xpbmVfd2lkdGggLSBlZGdlX3RoaWNrbmVzcyxcXG4gICAgICAgIGEgLSBoYWxmX2xpbmVfd2lkdGgsXFxuICAgICAgICBiXFxuICAgICApIC1cXG4gICAgIHNtb290aHN0ZXAoXFxuICAgICAgICAgYSArIGhhbGZfbGluZV93aWR0aCxcXG4gICAgICAgICBhICsgaGFsZl9saW5lX3dpZHRoICsgZWRnZV90aGlja25lc3MsXFxuICAgICAgICAgYlxcbiAgICAgKTtcXG59XFxuXFxuLyoqXFxuICogaHR0cHM6Ly93d3cudWRlbXkuY29tL2NvdXJzZS9sZWFybi1nbHNsLXNoYWRlcnMtZnJvbS1zY3JhdGNoL2xlYXJuL2xlY3R1cmUvMTM5NDQwODQjcXVlc3Rpb25zXFxuICogQ3JlYXRlIGEgcG9seWdvbi5cXG4gKi9cXG5mbG9hdCBwb2x5Z29uKHZlYzIgcHQsIHZlYzIgY2VudGVyLCBmbG9hdCByYWRpdXMsIGludCBzaWRlcywgZmxvYXQgcm90YXRlLCBmbG9hdCBlZGdlX3RoaWNrbmVzcyl7XFxuICAgIHB0IC09IGNlbnRlcjtcXG5cXG4gICAgLy8gQW5nbGUgYW5kIHJhZGl1cyBmcm9tIHRoZSBjdXJyZW50IHBpeGVsXFxuICAgIGZsb2F0IHRoZXRhID0gYXRhbihwdC55LCBwdC54KSArIHJvdGF0ZTtcXG4gICAgZmxvYXQgcmFkID0gUEkyL2Zsb2F0KHNpZGVzKTtcXG5cXG4gICAgLy8gU2hhcGluZyBmdW5jdGlvbiB0aGF0IG1vZHVsYXRlIHRoZSBkaXN0YW5jZVxcbiAgICBmbG9hdCBkID0gY29zKGZsb29yKDAuNSArIHRoZXRhL3JhZCkqcmFkLXRoZXRhKSpsZW5ndGgocHQpO1xcblxcbiAgICByZXR1cm4gMS4wIC0gc21vb3Roc3RlcChyYWRpdXMsIHJhZGl1cyArIGVkZ2VfdGhpY2tuZXNzLCBkKTtcXG4gIH1cXG5cXG5cXG4vKipcXG4gKlxcbiAqIFJldHVybnMgMS4wIHdoZW4gdGVzdCBwb2ludCBpcyBvdmVyIGEgc3dlZXBpbmcgbGluZS5cXG4gKiBwdCAtIHRlc3QgcG9pbnRcXG4gKiBjZW50ZXIgLSBjZW50ZXIgcG9pbnRcXG4gKiByYWRpdXMgLSByYWRpdXNcXG4gKlxcbiAqIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MTA0I3F1ZXN0aW9uc1xcbiAqIGh0dHBzOi8vY29kZXBlbi5pby9uaWstbGV2ZXIvZnVsbC9ZQkJqTG9cXG4gKiAgLSBncmVlbiBsaW5lIGlzIHZlY3RvciBkXFxuICogIC0gYmxhY2sgbGluZSBpcyB2ZWN0b3IgcFxcbiAqICAtIGJsdWUgbGluZSBpcyBwZXJwZW5kaWN1bGFyIGxpbmUgcCBhbmQgdGVzdCBwb2ludC5cXG4gKi9cXG5mbG9hdCBzd2VlcCh2ZWMyIHB0LCB2ZWMyIGNlbnRlciwgZmxvYXQgcmFkaXVzLCBmbG9hdCBsaW5lX3dpZHRoLCBmbG9hdCBlZGdlX3RoaWNrbmVzcyl7XFxuICAgIHZlYzIgZCA9IHB0IC0gY2VudGVyO1xcbiAgICBmbG9hdCB0aGV0YSA9IHVfdGltZSAqIDIuMDtcXG5cXG4gICAgLy8gQSB2ZWN0b3IgcG9pbnQgYXJvdW5kIGNpcmNsZSB3aXRoIGdpdmVuIHJhZGl1cyBmcm9tIDAsMC5cXG4gICAgdmVjMiBwID0gdmVjMihjb3ModGhldGEpLCAtc2luKHRoZXRhKSkgKiByYWRpdXM7XFxuXFxuXFxuICAgIGZsb2F0IGggPSBjbGFtcCggZG90KGQscCkvZG90KHAscCksIDAuMCwgMS4wICk7XFxuXFxuICAgIC8vZmxvYXQgaCA9IGRvdChkLHApL2RvdChwLHApO1xcbiAgICBmbG9hdCBsID0gbGVuZ3RoKGQgLSBwKmgpO1xcblxcbiAgICBmbG9hdCBncmFkaWVudCA9IDAuMDtcXG4gICAgY29uc3QgZmxvYXQgZ3JhZGllbnRfYW5nbGUgPSBQSSAqIDAuNTtcXG5cXG4gICAgaWYgKGxlbmd0aChkKTxyYWRpdXMpe1xcbiAgICAgIGZsb2F0IGFuZ2xlID0gbW9kKHRoZXRhICsgYXRhbihkLnksIGQueCksIFBJMik7XFxuICAgICAgZ3JhZGllbnQgPSBjbGFtcChncmFkaWVudF9hbmdsZSAtIGFuZ2xlLCAwLjAsIGdyYWRpZW50X2FuZ2xlKS9ncmFkaWVudF9hbmdsZSAqIDAuNTtcXG4gICAgfVxcblxcbiAgICByZXR1cm4gZ3JhZGllbnQgKyAxLjAgLSBzbW9vdGhzdGVwKGxpbmVfd2lkdGgsIGxpbmVfd2lkdGgrZWRnZV90aGlja25lc3MsIGwpO1xcbiAgfVxcblxcblxcbnZvaWQgbWFpbiAodm9pZClcXG57XFxuICB2ZWMzIGF4aXNfY29sb3IgPSB2ZWMzKDAuOCk7XFxuICB2ZWMzIGNvbG9yID0gbGluZSh2X3V2LnksIDAuNSwgMC4wMDIsIDAuMDAxKSAqIGF4aXNfY29sb3I7XFxuICBjb2xvciArPSBsaW5lKHZfdXYueCwgMC41LCAwLjAwMiwgMC4wMDEpICogYXhpc19jb2xvcjtcXG5cXG4gIC8vIEFkZCBjaXJjbGVzXFxuICBjb2xvciArPSBjaXJjbGUodl91diwgdmVjMigwLjUpLCAwLjMsIDAuMDAyLCAwLjAwMSkgKiBheGlzX2NvbG9yO1xcbiAgY29sb3IgKz0gY2lyY2xlKHZfdXYsIHZlYzIoMC41KSwgMC4yLCAwLjAwMiwgMC4wMDEpICogYXhpc19jb2xvcjtcXG4gIGNvbG9yICs9IGNpcmNsZSh2X3V2LCB2ZWMyKDAuNSksIDAuMSwgMC4wMDIsIDAuMDAxKSAqIGF4aXNfY29sb3I7XFxuXFxuICAvLyBBZGQgc3dlZXBpbmcgbGluZS5cXG4gIGNvbG9yICs9IHN3ZWVwKHZfdXYsIHZlYzIoMC41KSwgMC4zLCAwLjAwMywgMC4wMDEpICogdmVjMygwLjEsIDAuMywgMC4xKTtcXG5cXG4gIC8vIEFkZCB0cmlhbmd1bGFyIHBvbHlnb25zXFxuICB2ZWMzIHdoaXRlID0gdmVjMygxLjApO1xcbiAgY29sb3IgKz0gcG9seWdvbihcXG4gICAgICB2X3V2LFxcbiAgICAgIHZlYzIoMC45IC0gc2luKHVfdGltZSAqIDMuMCkgKiAwLjA1LCAwLjUpLFxcbiAgICAgIDAuMDA1LCAzLCAwLjAsIDAuMDAxKSAqIHdoaXRlO1xcbiAgY29sb3IgKz0gcG9seWdvbihcXG4gICAgICB2X3V2LFxcbiAgICAgIHZlYzIoMC4xIC0gc2luKHVfdGltZSAqIDMuMCArUEkpICogMC4wNSwgMC41KSxcXG4gICAgICAwLjAwNSwgMywgUEksIDAuMDAxKSAqIHdoaXRlO1xcblxcblxcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcXG59XFxuXCI7XG5cbnZhciBHbHNsUGxheWdyb3VuZDE1ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2xzbFBsYXlncm91bmQxNSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2xzbFBsYXlncm91bmQxNSk7XG5cbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBSYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgdGhpcy51bmlmb3JtcyA9IHtcbiAgICAgIHVfY29sb3JfYToge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmYwMDAwKVxuICAgICAgfSxcbiAgICAgIHVfY29sb3JfYjoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4MDBmZmZmKVxuICAgICAgfSxcbiAgICAgIC8vIEZsb2F0XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgMCwwIGF0IHRvcCwgbGVmdCBhbmQgd2luZG93LmlubmVyV2lkdGggYW5kIHdpbmRvdy5pbm5lckhlaWdodCBhdCBib3R0b20gcmlnaHQuXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gVmVjMiBTY3JlZW4gcmVzb2x1dGlvblxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyAyeDIgc28gaXQgZmlsbCB0aGUgc2NyZWVuLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIsIDIpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEdsc2xQbGF5Z3JvdW5kMTUsIFt7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgdmFyIGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB2YXIgd2lkdGgsIGhlaWdodDtcblxuICAgICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgICAgd2lkdGggPSAxO1xuICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgICAgaGVpZ2h0ID0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3VzZU1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoKSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSB0aGlzLnJhZi5nZXREZWx0YSh0cnVlKTtcbiAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gR2xzbFBsYXlncm91bmQxNTtcbn0oKTtcblxuZXhwb3J0IHsgR2xzbFBsYXlncm91bmQxNSBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground15.js\n");

/***/ }),

/***/ "./examples/glsl-playground16.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground16.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground16; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739138#questions/\n//\n\n\n\nvar vshader = \"\\nvarying vec3 v_position; // Declare v_position\\nvarying vec2 v_uv; // Declare v_uv\\nvoid main() {\\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\\n  v_position = position;\\n  v_uv = uv;\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\n#define PI 3.14159265359\\n#define PI2 6.28318530718\\n\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color_a;\\nuniform vec3 u_color_b;\\nuniform float u_time;\\n\\nvarying vec3 v_position;\\nvarying vec2 v_uv;\\n\\n\\n\\nfloat line(float a, float b, float line_width, float edge_thickness) {\\n    float half_line_width = line_width * 0.5;\\n    return smoothstep(\\n        a - half_line_width - edge_thickness,\\n        a - half_line_width,\\n        b\\n     ) -\\n     smoothstep(\\n         a + half_line_width,\\n         a + half_line_width + edge_thickness,\\n         b\\n     );\\n}\\n\\n\\nfloat brick(vec2 pt, float mortar_height, float edge_thickness){\\n    float result = line(pt.y, 0.0, mortar_height, edge_thickness);\\n    result += line(pt.y, 0.5, mortar_height, edge_thickness);\\n    result += line(pt.y, 1.0, mortar_height, edge_thickness);\\n\\n    if(pt.y > 0.5) {\\n        pt.x = fract(pt.x + 0.5);\\n    }\\n    result += line(pt.x, 0.5, mortar_height, edge_thickness);\\n\\n\\n    return result;\\n  }\\n\\nvoid main (void)\\n{\\n  vec2 uv = fract(v_uv*10.0);\\n  vec3 white = vec3(1.0);\\n  float brickLines = brick(uv, 0.05, 0.001);\\n  vec3 color = mix(u_color_a, u_color_b, brickLines);\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground16 = /*#__PURE__*/function () {\n  function GlslPlayground16() {\n    _classCallCheck(this, GlslPlayground16);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color_a: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xff0000)\n      },\n      u_color_b: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0x00ffff)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2, 2);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground16, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground16;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxNi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDE2LmpzPzc2YTMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy8gaHR0cHM6Ly93d3cudWRlbXkuY29tL2NvdXJzZS9sZWFybi1nbHNsLXNoYWRlcnMtZnJvbS1zY3JhdGNoL2xlYXJuL2xlY3R1cmUvMTM3MzkxMzgjcXVlc3Rpb25zL1xuLy9cbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9saWIvZG9tL2RvbS13YXRjaGVyJztcbnZhciB2c2hhZGVyID0gXCJcXG52YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjsgLy8gRGVjbGFyZSB2X3Bvc2l0aW9uXFxudmFyeWluZyB2ZWMyIHZfdXY7IC8vIERlY2xhcmUgdl91dlxcbnZvaWQgbWFpbigpIHtcXG4gIC8vIFNldCB0aGUgdXYgdmFsdWUuICBUaHJlZS5qcyBwYXNzZXMgdGhlIHV2IHZhbHVlIGJ5IGRlZmF1bHQgb2YgdGhlIGN1cnJlbnQgdmVydGljZXMuXFxuICB2X3Bvc2l0aW9uID0gcG9zaXRpb247XFxuICB2X3V2ID0gdXY7XFxuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XFxufVxcblwiO1xudmFyIGZzaGFkZXIgPSBcIlxcbiNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1OVxcbiNkZWZpbmUgUEkyIDYuMjgzMTg1MzA3MThcXG5cXG51bmlmb3JtIHZlYzIgdV9tb3VzZTtcXG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xcbnVuaWZvcm0gdmVjMyB1X2NvbG9yX2E7XFxudW5pZm9ybSB2ZWMzIHVfY29sb3JfYjtcXG51bmlmb3JtIGZsb2F0IHVfdGltZTtcXG5cXG52YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjtcXG52YXJ5aW5nIHZlYzIgdl91djtcXG5cXG5cXG5cXG5mbG9hdCBsaW5lKGZsb2F0IGEsIGZsb2F0IGIsIGZsb2F0IGxpbmVfd2lkdGgsIGZsb2F0IGVkZ2VfdGhpY2tuZXNzKSB7XFxuICAgIGZsb2F0IGhhbGZfbGluZV93aWR0aCA9IGxpbmVfd2lkdGggKiAwLjU7XFxuICAgIHJldHVybiBzbW9vdGhzdGVwKFxcbiAgICAgICAgYSAtIGhhbGZfbGluZV93aWR0aCAtIGVkZ2VfdGhpY2tuZXNzLFxcbiAgICAgICAgYSAtIGhhbGZfbGluZV93aWR0aCxcXG4gICAgICAgIGJcXG4gICAgICkgLVxcbiAgICAgc21vb3Roc3RlcChcXG4gICAgICAgICBhICsgaGFsZl9saW5lX3dpZHRoLFxcbiAgICAgICAgIGEgKyBoYWxmX2xpbmVfd2lkdGggKyBlZGdlX3RoaWNrbmVzcyxcXG4gICAgICAgICBiXFxuICAgICApO1xcbn1cXG5cXG5cXG5mbG9hdCBicmljayh2ZWMyIHB0LCBmbG9hdCBtb3J0YXJfaGVpZ2h0LCBmbG9hdCBlZGdlX3RoaWNrbmVzcyl7XFxuICAgIGZsb2F0IHJlc3VsdCA9IGxpbmUocHQueSwgMC4wLCBtb3J0YXJfaGVpZ2h0LCBlZGdlX3RoaWNrbmVzcyk7XFxuICAgIHJlc3VsdCArPSBsaW5lKHB0LnksIDAuNSwgbW9ydGFyX2hlaWdodCwgZWRnZV90aGlja25lc3MpO1xcbiAgICByZXN1bHQgKz0gbGluZShwdC55LCAxLjAsIG1vcnRhcl9oZWlnaHQsIGVkZ2VfdGhpY2tuZXNzKTtcXG5cXG4gICAgaWYocHQueSA+IDAuNSkge1xcbiAgICAgICAgcHQueCA9IGZyYWN0KHB0LnggKyAwLjUpO1xcbiAgICB9XFxuICAgIHJlc3VsdCArPSBsaW5lKHB0LngsIDAuNSwgbW9ydGFyX2hlaWdodCwgZWRnZV90aGlja25lc3MpO1xcblxcblxcbiAgICByZXR1cm4gcmVzdWx0O1xcbiAgfVxcblxcbnZvaWQgbWFpbiAodm9pZClcXG57XFxuICB2ZWMyIHV2ID0gZnJhY3Qodl91dioxMC4wKTtcXG4gIHZlYzMgd2hpdGUgPSB2ZWMzKDEuMCk7XFxuICBmbG9hdCBicmlja0xpbmVzID0gYnJpY2sodXYsIDAuMDUsIDAuMDAxKTtcXG4gIHZlYzMgY29sb3IgPSBtaXgodV9jb2xvcl9hLCB1X2NvbG9yX2IsIGJyaWNrTGluZXMpO1xcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcXG59XFxuXCI7XG5cbnZhciBHbHNsUGxheWdyb3VuZDE2ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2xzbFBsYXlncm91bmQxNigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2xzbFBsYXlncm91bmQxNik7XG5cbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBSYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgdGhpcy51bmlmb3JtcyA9IHtcbiAgICAgIHVfY29sb3JfYToge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmYwMDAwKVxuICAgICAgfSxcbiAgICAgIHVfY29sb3JfYjoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4MDBmZmZmKVxuICAgICAgfSxcbiAgICAgIC8vIEZsb2F0XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgMCwwIGF0IHRvcCwgbGVmdCBhbmQgd2luZG93LmlubmVyV2lkdGggYW5kIHdpbmRvdy5pbm5lckhlaWdodCBhdCBib3R0b20gcmlnaHQuXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gVmVjMiBTY3JlZW4gcmVzb2x1dGlvblxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyAyeDIgc28gaXQgZmlsbCB0aGUgc2NyZWVuLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIsIDIpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEdsc2xQbGF5Z3JvdW5kMTYsIFt7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgdmFyIGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB2YXIgd2lkdGgsIGhlaWdodDtcblxuICAgICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgICAgd2lkdGggPSAxO1xuICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgICAgaGVpZ2h0ID0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3VzZU1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoZGVsdGEpIHtcbiAgICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHbHNsUGxheWdyb3VuZDE2O1xufSgpO1xuXG5leHBvcnQgeyBHbHNsUGxheWdyb3VuZDE2IGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground16.js\n");

/***/ }),

/***/ "./examples/glsl-playground17.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground17.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground17; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739104#questions\n// https://gist.github.com/patriciogonzalezvivo/670c22f3966e662d2f83\n//\n\n\n\nvar vshader = \"\\nvarying vec3 v_position; // Declare v_position\\nvarying vec2 v_uv; // Declare v_uv\\nvoid main() {\\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\\n  v_position = position;\\n  v_uv = uv;\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\n#define PI 3.14159265359\\n#define PI2 6.28318530718\\n\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\nuniform float u_time;\\n\\nvarying vec3 v_position;\\nvarying vec2 v_uv;\\n\\n// Random with seed\\nfloat random (vec2 st, float seed) {\\n    const float a = 12.9898;\\n    const float b = 78.233;\\n    const float c = 43758.543123;\\n    return fract(sin(dot(st, vec2(a, b)) + seed) * c );\\n}\\n\\nfloat random (vec2 st) {\\n    return fract(sin(dot(st, vec2(12.9898,78.233)))\\n                 * 43758.5453123);\\n}\\nfloat noise1(vec2 p){\\n\\tvec2 ip = floor(p);\\n\\tvec2 u = fract(p);\\n\\tu = u*u*(3.0-2.0*u);\\n\\n\\tfloat res = mix(\\n\\t\\tmix(random(ip),random(ip+vec2(1.0,0.0)),u.x),\\n\\t\\tmix(random(ip+vec2(0.0,1.0)),random(ip+vec2(1.0,1.0)),u.x),u.y);\\n\\treturn res*res;\\n}\\n\\n\\nfloat noise2 (vec2 st) {\\n    vec2 i = floor(st);\\n    vec2 f = fract(st);\\n\\n    // Four corners in 2D of a tile\\n    float a = random(i);\\n    float b = random(i + vec2(1.0, 0.0));\\n    float c = random(i + vec2(0.0, 1.0));\\n    float d = random(i + vec2(1.0, 1.0));\\n\\n    // Smooth Interpolation\\n\\n    // Cubic Hermine Curve.  Same as SmoothStep()\\n    vec2 u = f*f*(3.0-2.0*f);\\n    // u = smoothstep(0.,1.,f);\\n\\n    // Mix 4 coorners percentages\\n    return mix(a, b, u.x) +\\n            (c - a)* u.y * (1.0 - u.x) +\\n            (d - b) * u.x * u.y;\\n}\\n\\nvoid main (void)\\n{\\n  vec2 st = v_uv;\\n\\n  // Scale the coordinate system to see\\n  // some noise in action\\n  vec2 pos = vec2(st*5.0);\\n\\n  // Use the noise function\\n//   float n = noise1(pos);\\n  float n = noise2(pos);\\n  // Limit out noise, harden the contrast.\\n//   n = smoothstep(0.4, 0.6, n);\\n\\n  gl_FragColor = vec4(vec3(n), 1.0);\\n}\\n\";\n\nvar GlslPlayground17 = /*#__PURE__*/function () {\n  function GlslPlayground17() {\n    _classCallCheck(this, GlslPlayground17);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color_a: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xff0000)\n      },\n      u_color_b: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0x00ffff)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2, 2);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground17, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground17;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxNy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDE3LmpzPzFjZjciXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy9cbi8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MTA0I3F1ZXN0aW9uc1xuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vcGF0cmljaW9nb256YWxlenZpdm8vNjcwYzIyZjM5NjZlNjYyZDJmODNcbi8vXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBSYWYgfSBmcm9tICcuLi9saWIvcmFmL3JhZic7XG5pbXBvcnQgeyBEb21XYXRjaGVyIH0gZnJvbSAnLi4vbGliL2RvbS9kb20td2F0Y2hlcic7XG52YXIgdnNoYWRlciA9IFwiXFxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247IC8vIERlY2xhcmUgdl9wb3NpdGlvblxcbnZhcnlpbmcgdmVjMiB2X3V2OyAvLyBEZWNsYXJlIHZfdXZcXG52b2lkIG1haW4oKSB7XFxuICAvLyBTZXQgdGhlIHV2IHZhbHVlLiAgVGhyZWUuanMgcGFzc2VzIHRoZSB1diB2YWx1ZSBieSBkZWZhdWx0IG9mIHRoZSBjdXJyZW50IHZlcnRpY2VzLlxcbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xcbiAgdl91diA9IHV2O1xcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld01hdHJpeCAqIG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcbn1cXG5cIjtcbnZhciBmc2hhZGVyID0gXCJcXG4jZGVmaW5lIFBJIDMuMTQxNTkyNjUzNTlcXG4jZGVmaW5lIFBJMiA2LjI4MzE4NTMwNzE4XFxuXFxudW5pZm9ybSB2ZWMyIHVfbW91c2U7XFxudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcXG51bmlmb3JtIHZlYzMgdV9jb2xvcjtcXG51bmlmb3JtIGZsb2F0IHVfdGltZTtcXG5cXG52YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjtcXG52YXJ5aW5nIHZlYzIgdl91djtcXG5cXG4vLyBSYW5kb20gd2l0aCBzZWVkXFxuZmxvYXQgcmFuZG9tICh2ZWMyIHN0LCBmbG9hdCBzZWVkKSB7XFxuICAgIGNvbnN0IGZsb2F0IGEgPSAxMi45ODk4O1xcbiAgICBjb25zdCBmbG9hdCBiID0gNzguMjMzO1xcbiAgICBjb25zdCBmbG9hdCBjID0gNDM3NTguNTQzMTIzO1xcbiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChzdCwgdmVjMihhLCBiKSkgKyBzZWVkKSAqIGMgKTtcXG59XFxuXFxuZmxvYXQgcmFuZG9tICh2ZWMyIHN0KSB7XFxuICAgIHJldHVybiBmcmFjdChzaW4oZG90KHN0LCB2ZWMyKDEyLjk4OTgsNzguMjMzKSkpXFxuICAgICAgICAgICAgICAgICAqIDQzNzU4LjU0NTMxMjMpO1xcbn1cXG5mbG9hdCBub2lzZTEodmVjMiBwKXtcXG5cXHR2ZWMyIGlwID0gZmxvb3IocCk7XFxuXFx0dmVjMiB1ID0gZnJhY3QocCk7XFxuXFx0dSA9IHUqdSooMy4wLTIuMCp1KTtcXG5cXG5cXHRmbG9hdCByZXMgPSBtaXgoXFxuXFx0XFx0bWl4KHJhbmRvbShpcCkscmFuZG9tKGlwK3ZlYzIoMS4wLDAuMCkpLHUueCksXFxuXFx0XFx0bWl4KHJhbmRvbShpcCt2ZWMyKDAuMCwxLjApKSxyYW5kb20oaXArdmVjMigxLjAsMS4wKSksdS54KSx1LnkpO1xcblxcdHJldHVybiByZXMqcmVzO1xcbn1cXG5cXG5cXG5mbG9hdCBub2lzZTIgKHZlYzIgc3QpIHtcXG4gICAgdmVjMiBpID0gZmxvb3Ioc3QpO1xcbiAgICB2ZWMyIGYgPSBmcmFjdChzdCk7XFxuXFxuICAgIC8vIEZvdXIgY29ybmVycyBpbiAyRCBvZiBhIHRpbGVcXG4gICAgZmxvYXQgYSA9IHJhbmRvbShpKTtcXG4gICAgZmxvYXQgYiA9IHJhbmRvbShpICsgdmVjMigxLjAsIDAuMCkpO1xcbiAgICBmbG9hdCBjID0gcmFuZG9tKGkgKyB2ZWMyKDAuMCwgMS4wKSk7XFxuICAgIGZsb2F0IGQgPSByYW5kb20oaSArIHZlYzIoMS4wLCAxLjApKTtcXG5cXG4gICAgLy8gU21vb3RoIEludGVycG9sYXRpb25cXG5cXG4gICAgLy8gQ3ViaWMgSGVybWluZSBDdXJ2ZS4gIFNhbWUgYXMgU21vb3RoU3RlcCgpXFxuICAgIHZlYzIgdSA9IGYqZiooMy4wLTIuMCpmKTtcXG4gICAgLy8gdSA9IHNtb290aHN0ZXAoMC4sMS4sZik7XFxuXFxuICAgIC8vIE1peCA0IGNvb3JuZXJzIHBlcmNlbnRhZ2VzXFxuICAgIHJldHVybiBtaXgoYSwgYiwgdS54KSArXFxuICAgICAgICAgICAgKGMgLSBhKSogdS55ICogKDEuMCAtIHUueCkgK1xcbiAgICAgICAgICAgIChkIC0gYikgKiB1LnggKiB1Lnk7XFxufVxcblxcbnZvaWQgbWFpbiAodm9pZClcXG57XFxuICB2ZWMyIHN0ID0gdl91djtcXG5cXG4gIC8vIFNjYWxlIHRoZSBjb29yZGluYXRlIHN5c3RlbSB0byBzZWVcXG4gIC8vIHNvbWUgbm9pc2UgaW4gYWN0aW9uXFxuICB2ZWMyIHBvcyA9IHZlYzIoc3QqNS4wKTtcXG5cXG4gIC8vIFVzZSB0aGUgbm9pc2UgZnVuY3Rpb25cXG4vLyAgIGZsb2F0IG4gPSBub2lzZTEocG9zKTtcXG4gIGZsb2F0IG4gPSBub2lzZTIocG9zKTtcXG4gIC8vIExpbWl0IG91dCBub2lzZSwgaGFyZGVuIHRoZSBjb250cmFzdC5cXG4vLyAgIG4gPSBzbW9vdGhzdGVwKDAuNCwgMC42LCBuKTtcXG5cXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQodmVjMyhuKSwgMS4wKTtcXG59XFxuXCI7XG5cbnZhciBHbHNsUGxheWdyb3VuZDE3ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2xzbFBsYXlncm91bmQxNygpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2xzbFBsYXlncm91bmQxNyk7XG5cbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBSYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgdGhpcy51bmlmb3JtcyA9IHtcbiAgICAgIHVfY29sb3JfYToge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmYwMDAwKVxuICAgICAgfSxcbiAgICAgIHVfY29sb3JfYjoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4MDBmZmZmKVxuICAgICAgfSxcbiAgICAgIC8vIEZsb2F0XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgMCwwIGF0IHRvcCwgbGVmdCBhbmQgd2luZG93LmlubmVyV2lkdGggYW5kIHdpbmRvdy5pbm5lckhlaWdodCBhdCBib3R0b20gcmlnaHQuXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gVmVjMiBTY3JlZW4gcmVzb2x1dGlvblxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyAyeDIgc28gaXQgZmlsbCB0aGUgc2NyZWVuLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIsIDIpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEdsc2xQbGF5Z3JvdW5kMTcsIFt7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgdmFyIGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB2YXIgd2lkdGgsIGhlaWdodDtcblxuICAgICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgICAgd2lkdGggPSAxO1xuICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgICAgaGVpZ2h0ID0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3VzZU1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoZGVsdGEpIHtcbiAgICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHbHNsUGxheWdyb3VuZDE3O1xufSgpO1xuXG5leHBvcnQgeyBHbHNsUGxheWdyb3VuZDE3IGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/glsl-playground17.js\n");

/***/ }),

/***/ "./examples/glsl-playground18.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground18.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground17; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739104#questions\n// https://gist.github.com/patriciogonzalezvivo/670c22f3966e662d2f83\n//\n\n\n\nvar vshader = \"\\nvarying vec3 v_position; // Declare v_position\\nvarying vec2 v_uv; // Declare v_uv\\nvoid main() {\\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\\n  v_position = position;\\n  v_uv = uv;\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\n#define PI 3.14159265359\\n#define PI2 6.28318530718\\n\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color_a;\\nuniform vec3 u_color_b;\\nuniform float u_time;\\n\\nvarying vec3 v_position;\\nvarying vec2 v_uv;\\n\\nfloat random (vec2 st) {\\n    return fract(sin(dot(st, vec2(12.9898,78.233)))\\n                 * 43758.5453123);\\n}\\nfloat noise (vec2 st) {\\n    vec2 i = floor(st);\\n    vec2 f = fract(st);\\n\\n    // Four corners in 2D of a tile\\n    float a = random(i);\\n    float b = random(i + vec2(1.0, 0.0));\\n    float c = random(i + vec2(0.0, 1.0));\\n    float d = random(i + vec2(1.0, 1.0));\\n\\n    // Smooth Interpolation\\n\\n    // Cubic Hermine Curve.  Same as SmoothStep()\\n    vec2 u = f*f*(3.0-2.0*f);\\n    // u = smoothstep(0.,1.,f);\\n\\n    // Mix 4 coorners percentages\\n    return mix(a, b, u.x) +\\n            (c - a)* u.y * (1.0 - u.x) +\\n            (d - b) * u.x * u.y;\\n}\\n\\n\\nvoid main (void)\\n{\\n  vec2 st = v_uv;\\n\\n  // Scale the coordinate system to see\\n  // some noise in action\\n  vec2 pos = vec2(\\n      v_uv.x * 1.4 + 0.01,\\n      v_uv.y - u_time * 0.69\\n  );\\n\\n  // Use the noise function\\n  float n = noise(pos * 23.0);\\n  // Layer2\\n  pos = vec2(fract(v_uv.x * 0.5 - 0.0333), v_uv.y * 2.0 - u_time * 0.12);\\n  n+= noise(pos * 8.0);\\n\\n  // Layer 3\\n  pos = vec2(v_uv.x * 0.94 - 0.02, v_uv.y * 3.0 - u_time * 0.61);\\n  n+= noise(pos * 0.5);\\n  n /= 3.0;\\n\\n\\n  vec3 color = mix(u_color_a, u_color_b, n);\\n\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground17 = /*#__PURE__*/function () {\n  function GlslPlayground17() {\n    _classCallCheck(this, GlslPlayground17);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color_a: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xff0000)\n      },\n      u_color_b: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0x00ffff)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2, 2);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground17, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground17;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxOC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDE4LmpzP2M1OTIiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy9cbi8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MTA0I3F1ZXN0aW9uc1xuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vcGF0cmljaW9nb256YWxlenZpdm8vNjcwYzIyZjM5NjZlNjYyZDJmODNcbi8vXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBSYWYgfSBmcm9tICcuLi9saWIvcmFmL3JhZic7XG5pbXBvcnQgeyBEb21XYXRjaGVyIH0gZnJvbSAnLi4vbGliL2RvbS9kb20td2F0Y2hlcic7XG52YXIgdnNoYWRlciA9IFwiXFxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247IC8vIERlY2xhcmUgdl9wb3NpdGlvblxcbnZhcnlpbmcgdmVjMiB2X3V2OyAvLyBEZWNsYXJlIHZfdXZcXG52b2lkIG1haW4oKSB7XFxuICAvLyBTZXQgdGhlIHV2IHZhbHVlLiAgVGhyZWUuanMgcGFzc2VzIHRoZSB1diB2YWx1ZSBieSBkZWZhdWx0IG9mIHRoZSBjdXJyZW50IHZlcnRpY2VzLlxcbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xcbiAgdl91diA9IHV2O1xcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld01hdHJpeCAqIG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcbn1cXG5cIjtcbnZhciBmc2hhZGVyID0gXCJcXG4jZGVmaW5lIFBJIDMuMTQxNTkyNjUzNTlcXG4jZGVmaW5lIFBJMiA2LjI4MzE4NTMwNzE4XFxuXFxudW5pZm9ybSB2ZWMyIHVfbW91c2U7XFxudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcXG51bmlmb3JtIHZlYzMgdV9jb2xvcl9hO1xcbnVuaWZvcm0gdmVjMyB1X2NvbG9yX2I7XFxudW5pZm9ybSBmbG9hdCB1X3RpbWU7XFxuXFxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247XFxudmFyeWluZyB2ZWMyIHZfdXY7XFxuXFxuZmxvYXQgcmFuZG9tICh2ZWMyIHN0KSB7XFxuICAgIHJldHVybiBmcmFjdChzaW4oZG90KHN0LCB2ZWMyKDEyLjk4OTgsNzguMjMzKSkpXFxuICAgICAgICAgICAgICAgICAqIDQzNzU4LjU0NTMxMjMpO1xcbn1cXG5mbG9hdCBub2lzZSAodmVjMiBzdCkge1xcbiAgICB2ZWMyIGkgPSBmbG9vcihzdCk7XFxuICAgIHZlYzIgZiA9IGZyYWN0KHN0KTtcXG5cXG4gICAgLy8gRm91ciBjb3JuZXJzIGluIDJEIG9mIGEgdGlsZVxcbiAgICBmbG9hdCBhID0gcmFuZG9tKGkpO1xcbiAgICBmbG9hdCBiID0gcmFuZG9tKGkgKyB2ZWMyKDEuMCwgMC4wKSk7XFxuICAgIGZsb2F0IGMgPSByYW5kb20oaSArIHZlYzIoMC4wLCAxLjApKTtcXG4gICAgZmxvYXQgZCA9IHJhbmRvbShpICsgdmVjMigxLjAsIDEuMCkpO1xcblxcbiAgICAvLyBTbW9vdGggSW50ZXJwb2xhdGlvblxcblxcbiAgICAvLyBDdWJpYyBIZXJtaW5lIEN1cnZlLiAgU2FtZSBhcyBTbW9vdGhTdGVwKClcXG4gICAgdmVjMiB1ID0gZipmKigzLjAtMi4wKmYpO1xcbiAgICAvLyB1ID0gc21vb3Roc3RlcCgwLiwxLixmKTtcXG5cXG4gICAgLy8gTWl4IDQgY29vcm5lcnMgcGVyY2VudGFnZXNcXG4gICAgcmV0dXJuIG1peChhLCBiLCB1LngpICtcXG4gICAgICAgICAgICAoYyAtIGEpKiB1LnkgKiAoMS4wIC0gdS54KSArXFxuICAgICAgICAgICAgKGQgLSBiKSAqIHUueCAqIHUueTtcXG59XFxuXFxuXFxudm9pZCBtYWluICh2b2lkKVxcbntcXG4gIHZlYzIgc3QgPSB2X3V2O1xcblxcbiAgLy8gU2NhbGUgdGhlIGNvb3JkaW5hdGUgc3lzdGVtIHRvIHNlZVxcbiAgLy8gc29tZSBub2lzZSBpbiBhY3Rpb25cXG4gIHZlYzIgcG9zID0gdmVjMihcXG4gICAgICB2X3V2LnggKiAxLjQgKyAwLjAxLFxcbiAgICAgIHZfdXYueSAtIHVfdGltZSAqIDAuNjlcXG4gICk7XFxuXFxuICAvLyBVc2UgdGhlIG5vaXNlIGZ1bmN0aW9uXFxuICBmbG9hdCBuID0gbm9pc2UocG9zICogMjMuMCk7XFxuICAvLyBMYXllcjJcXG4gIHBvcyA9IHZlYzIoZnJhY3Qodl91di54ICogMC41IC0gMC4wMzMzKSwgdl91di55ICogMi4wIC0gdV90aW1lICogMC4xMik7XFxuICBuKz0gbm9pc2UocG9zICogOC4wKTtcXG5cXG4gIC8vIExheWVyIDNcXG4gIHBvcyA9IHZlYzIodl91di54ICogMC45NCAtIDAuMDIsIHZfdXYueSAqIDMuMCAtIHVfdGltZSAqIDAuNjEpO1xcbiAgbis9IG5vaXNlKHBvcyAqIDAuNSk7XFxuICBuIC89IDMuMDtcXG5cXG5cXG4gIHZlYzMgY29sb3IgPSBtaXgodV9jb2xvcl9hLCB1X2NvbG9yX2IsIG4pO1xcblxcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcXG59XFxuXCI7XG5cbnZhciBHbHNsUGxheWdyb3VuZDE3ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2xzbFBsYXlncm91bmQxNygpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2xzbFBsYXlncm91bmQxNyk7XG5cbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBSYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgdGhpcy51bmlmb3JtcyA9IHtcbiAgICAgIHVfY29sb3JfYToge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmYwMDAwKVxuICAgICAgfSxcbiAgICAgIHVfY29sb3JfYjoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4MDBmZmZmKVxuICAgICAgfSxcbiAgICAgIC8vIEZsb2F0XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgMCwwIGF0IHRvcCwgbGVmdCBhbmQgd2luZG93LmlubmVyV2lkdGggYW5kIHdpbmRvdy5pbm5lckhlaWdodCBhdCBib3R0b20gcmlnaHQuXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gVmVjMiBTY3JlZW4gcmVzb2x1dGlvblxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyAyeDIgc28gaXQgZmlsbCB0aGUgc2NyZWVuLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIsIDIpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEdsc2xQbGF5Z3JvdW5kMTcsIFt7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgdmFyIGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB2YXIgd2lkdGgsIGhlaWdodDtcblxuICAgICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgICAgd2lkdGggPSAxO1xuICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgICAgaGVpZ2h0ID0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3VzZU1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoZGVsdGEpIHtcbiAgICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHbHNsUGxheWdyb3VuZDE3O1xufSgpO1xuXG5leHBvcnQgeyBHbHNsUGxheWdyb3VuZDE3IGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/glsl-playground18.js\n");

/***/ }),

/***/ "./examples/glsl-playground19.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground19.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground19; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_shaders_three_shader_chunks_noise__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/shaders/three-shader-chunks/noise */ \"./lib/shaders/three-shader-chunks/noise.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739104#questions\n//\n\n\n // Import shader chunks\n\n\nObject(_lib_shaders_three_shader_chunks_noise__WEBPACK_IMPORTED_MODULE_3__[\"noise\"])();\nvar vshader = \"\\nvarying vec3 v_position;\\nvarying vec2 v_uv;\\nvoid main() {\\n  v_position = position;\\n  v_uv = uv;\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\n#include <noise>\\n#define PI 3.14159265359\\n#define PI2 6.28318530718\\n\\nuniform vec3 u_LightColor;\\nuniform vec3 u_DarkColor;\\nuniform float u_Frequency;\\nuniform float u_NoiseScale;\\nuniform float u_RingScale;\\nuniform float u_Contrast;\\nuniform float u_time;\\n\\n\\nvarying vec3 v_position;\\nvarying vec2 v_uv;\\n\\n\\nvoid main (void)\\n{\\n\\n  vec3 pos = v_position;\\n  pos.x += u_time;\\n  pos.y += u_time;\\n  float n = snoise(pos);\\n  float ring = u_Contrast - fract(u_NoiseScale * n);\\n  float lerp = pow(ring, u_RingScale) + n;\\n  vec3 color = mix(u_DarkColor, u_LightColor, lerp);\\n\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground19 = /*#__PURE__*/function () {\n  function GlslPlayground19() {\n    _classCallCheck(this, GlslPlayground19);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {};\n    this.uniforms.u_time = {\n      value: 0.0\n    };\n    this.uniforms.u_resolution = {\n      value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector2\"]()\n    };\n    this.uniforms.u_LightColor = {\n      value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xbb905d)\n    };\n    this.uniforms.u_DarkColor = {\n      value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0x7d490b)\n    };\n    this.uniforms.u_Frequency = {\n      value: 20.0\n    };\n    this.uniforms.u_NoiseScale = {\n      value: 20.0\n    };\n    this.uniforms.u_RingScale = {\n      value: 0.5\n    };\n    this.uniforms.u_Contrast = {\n      value: 4.0\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2, 2);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground19, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {// this.uniforms.u_mouse.value.x = (evt.touches) ? evt.touches[0].clientX : evt.clientX;\n      // this.uniforms.u_mouse.value.y = (evt.touches) ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground19;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQxOS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDE5LmpzPzEzMTQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy9cbi8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MTA0I3F1ZXN0aW9uc1xuLy9cbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9saWIvZG9tL2RvbS13YXRjaGVyJzsgLy8gSW1wb3J0IHNoYWRlciBjaHVua3NcblxuaW1wb3J0IHsgbm9pc2UgfSBmcm9tICcuLi9saWIvc2hhZGVycy90aHJlZS1zaGFkZXItY2h1bmtzL25vaXNlJztcbm5vaXNlKCk7XG52YXIgdnNoYWRlciA9IFwiXFxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247XFxudmFyeWluZyB2ZWMyIHZfdXY7XFxudm9pZCBtYWluKCkge1xcbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xcbiAgdl91diA9IHV2O1xcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld01hdHJpeCAqIG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcbn1cXG5cIjtcbnZhciBmc2hhZGVyID0gXCJcXG4jaW5jbHVkZSA8bm9pc2U+XFxuI2RlZmluZSBQSSAzLjE0MTU5MjY1MzU5XFxuI2RlZmluZSBQSTIgNi4yODMxODUzMDcxOFxcblxcbnVuaWZvcm0gdmVjMyB1X0xpZ2h0Q29sb3I7XFxudW5pZm9ybSB2ZWMzIHVfRGFya0NvbG9yO1xcbnVuaWZvcm0gZmxvYXQgdV9GcmVxdWVuY3k7XFxudW5pZm9ybSBmbG9hdCB1X05vaXNlU2NhbGU7XFxudW5pZm9ybSBmbG9hdCB1X1JpbmdTY2FsZTtcXG51bmlmb3JtIGZsb2F0IHVfQ29udHJhc3Q7XFxudW5pZm9ybSBmbG9hdCB1X3RpbWU7XFxuXFxuXFxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247XFxudmFyeWluZyB2ZWMyIHZfdXY7XFxuXFxuXFxudm9pZCBtYWluICh2b2lkKVxcbntcXG5cXG4gIHZlYzMgcG9zID0gdl9wb3NpdGlvbjtcXG4gIHBvcy54ICs9IHVfdGltZTtcXG4gIHBvcy55ICs9IHVfdGltZTtcXG4gIGZsb2F0IG4gPSBzbm9pc2UocG9zKTtcXG4gIGZsb2F0IHJpbmcgPSB1X0NvbnRyYXN0IC0gZnJhY3QodV9Ob2lzZVNjYWxlICogbik7XFxuICBmbG9hdCBsZXJwID0gcG93KHJpbmcsIHVfUmluZ1NjYWxlKSArIG47XFxuICB2ZWMzIGNvbG9yID0gbWl4KHVfRGFya0NvbG9yLCB1X0xpZ2h0Q29sb3IsIGxlcnApO1xcblxcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcXG59XFxuXCI7XG5cbnZhciBHbHNsUGxheWdyb3VuZDE5ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2xzbFBsYXlncm91bmQxOSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2xzbFBsYXlncm91bmQxOSk7XG5cbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBSYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgdGhpcy51bmlmb3JtcyA9IHt9O1xuICAgIHRoaXMudW5pZm9ybXMudV90aW1lID0ge1xuICAgICAgdmFsdWU6IDAuMFxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24gPSB7XG4gICAgICB2YWx1ZTogbmV3IFRIUkVFLlZlY3RvcjIoKVxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X0xpZ2h0Q29sb3IgPSB7XG4gICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4YmI5MDVkKVxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X0RhcmtDb2xvciA9IHtcbiAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHg3ZDQ5MGIpXG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfRnJlcXVlbmN5ID0ge1xuICAgICAgdmFsdWU6IDIwLjBcbiAgICB9O1xuICAgIHRoaXMudW5pZm9ybXMudV9Ob2lzZVNjYWxlID0ge1xuICAgICAgdmFsdWU6IDIwLjBcbiAgICB9O1xuICAgIHRoaXMudW5pZm9ybXMudV9SaW5nU2NhbGUgPSB7XG4gICAgICB2YWx1ZTogMC41XG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfQ29udHJhc3QgPSB7XG4gICAgICB2YWx1ZTogNC4wXG4gICAgfTsgLy8gMngyIHNvIGl0IGZpbGwgdGhlIHNjcmVlbi5cblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgyLCAyKTtcbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXJcbiAgICB9KTsgLy8gQ3JlYXRlIG1lc2ggKGdlb20gKyBtYXRlcmlhbClcblxuICAgIHRoaXMucGxhbmUgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLnBsYW5lKTtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID0gMTtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhHbHNsUGxheWdyb3VuZDE5LCBbe1xuICAgIGtleTogXCJvblJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgICAgIHZhciBhc3BlY3RSYXRpbyA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgdmFyIHdpZHRoLCBoZWlnaHQ7XG5cbiAgICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxKSB7XG4gICAgICAgIHdpZHRoID0gMTtcbiAgICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGggKiB3aWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpZHRoID0gYXNwZWN0UmF0aW87XG4gICAgICAgIGhlaWdodCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FtZXJhLmxlZnQgPSAtd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS5yaWdodCA9IHdpZHRoO1xuICAgICAgdGhpcy5jYW1lcmEudG9wID0gaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEuYm90dG9tID0gLWhlaWdodDtcbiAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uTW91c2VNb3ZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGV2dCkgey8vIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS54ID0gKGV2dC50b3VjaGVzKSA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFggOiBldnQuY2xpZW50WDtcbiAgICAgIC8vIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS55ID0gKGV2dC50b3VjaGVzKSA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoZGVsdGEpIHtcbiAgICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHbHNsUGxheWdyb3VuZDE5O1xufSgpO1xuXG5leHBvcnQgeyBHbHNsUGxheWdyb3VuZDE5IGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground19.js\n");

/***/ }),

/***/ "./examples/glsl-playground2.js":
/*!**************************************!*\
  !*** ./examples/glsl-playground2.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground2; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n/**\n * https://threejs.org/docs/#api/en/renderers/webgl/WebGLProgram\n */\n\nvar vshader = \"\\nvoid main() {\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\n\\nvoid main (void)\\n{\\n\\n// Example 1\\n// Get the x,y coordinates of the mouse position (0,0) at top left and (1,1)\\n// and assign that.\\n// Pass coordinates of normalized mouse positions as red and blue channels.\\n//\\n//   vec3 color = vec3(u_mouse.x / u_resolution.x, 0.0, u_mouse.y / u_resolution.y);\\n//   gl_FragColor = vec4(color, 1.0);\\n\\n\\n// Example 2\\n// A simplified version of example 1.\\nvec2 v = u_mouse / u_resolution;\\nvec3 color = vec3(v.x, 0.0, v.y);\\ngl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground2 = /*#__PURE__*/function () {\n  function GlslPlayground2() {\n    _classCallCheck(this, GlslPlayground2);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2, 2);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground2, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf() {\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground2;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvZ2xzbC1wbGF5Z3JvdW5kMi5qcz8xYWRjIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuLyoqXG4gKiBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xQcm9ncmFtXG4gKi9cblxudmFyIHZzaGFkZXIgPSBcIlxcbnZvaWQgbWFpbigpIHtcXG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiBtb2RlbE1hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcXG59XFxuXCI7XG52YXIgZnNoYWRlciA9IFwiXFxudW5pZm9ybSB2ZWMyIHVfbW91c2U7XFxudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcXG51bmlmb3JtIHZlYzMgdV9jb2xvcjtcXG5cXG52b2lkIG1haW4gKHZvaWQpXFxue1xcblxcbi8vIEV4YW1wbGUgMVxcbi8vIEdldCB0aGUgeCx5IGNvb3JkaW5hdGVzIG9mIHRoZSBtb3VzZSBwb3NpdGlvbiAoMCwwKSBhdCB0b3AgbGVmdCBhbmQgKDEsMSlcXG4vLyBhbmQgYXNzaWduIHRoYXQuXFxuLy8gUGFzcyBjb29yZGluYXRlcyBvZiBub3JtYWxpemVkIG1vdXNlIHBvc2l0aW9ucyBhcyByZWQgYW5kIGJsdWUgY2hhbm5lbHMuXFxuLy9cXG4vLyAgIHZlYzMgY29sb3IgPSB2ZWMzKHVfbW91c2UueCAvIHVfcmVzb2x1dGlvbi54LCAwLjAsIHVfbW91c2UueSAvIHVfcmVzb2x1dGlvbi55KTtcXG4vLyAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XFxuXFxuXFxuLy8gRXhhbXBsZSAyXFxuLy8gQSBzaW1wbGlmaWVkIHZlcnNpb24gb2YgZXhhbXBsZSAxLlxcbnZlYzIgdiA9IHVfbW91c2UgLyB1X3Jlc29sdXRpb247XFxudmVjMyBjb2xvciA9IHZlYzModi54LCAwLjAsIHYueSk7XFxuZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcXG59XFxuXCI7XG5cbnZhciBHbHNsUGxheWdyb3VuZDIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHbHNsUGxheWdyb3VuZDIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdsc2xQbGF5Z3JvdW5kMik7XG5cbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBSYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgdGhpcy51bmlmb3JtcyA9IHtcbiAgICAgIHVfY29sb3I6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweGZmMDAwMClcbiAgICAgIH0sXG4gICAgICAvLyBGbG9hdFxuICAgICAgdV90aW1lOiB7XG4gICAgICAgIHZhbHVlOiAwLjBcbiAgICAgIH0sXG4gICAgICAvLyBWZWMyIDAsMCBhdCB0b3AsIGxlZnQgYW5kIHdpbmRvdy5pbm5lcldpZHRoIGFuZCB3aW5kb3cuaW5uZXJIZWlnaHQgYXQgYm90dG9tIHJpZ2h0LlxuICAgICAgdV9tb3VzZToge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAuMCxcbiAgICAgICAgICB5OiAwLjBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgU2NyZWVuIHJlc29sdXRpb25cbiAgICAgIHVfcmVzb2x1dGlvbjoge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTsgLy8gMngyIHNvIGl0IGZpbGwgdGhlIHNjcmVlbi5cblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgyLCAyKTtcbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXJcbiAgICB9KTsgLy8gQ3JlYXRlIG1lc2ggKGdlb20gKyBtYXRlcmlhbClcblxuICAgIHRoaXMucGxhbmUgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLnBsYW5lKTtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID0gMTtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhHbHNsUGxheWdyb3VuZDIsIFt7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgdmFyIGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB2YXIgd2lkdGgsIGhlaWdodDtcblxuICAgICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgICAgd2lkdGggPSAxO1xuICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgICAgaGVpZ2h0ID0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3VzZU1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEdsc2xQbGF5Z3JvdW5kMjtcbn0oKTtcblxuZXhwb3J0IHsgR2xzbFBsYXlncm91bmQyIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground2.js\n");

/***/ }),

/***/ "./examples/glsl-playground20.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground20.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground20; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/shaders/three-shader-chunks/degu-mathf */ \"./lib/shaders/three-shader-chunks/degu-mathf.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n//\n// Simple Image Texture.\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739104#questions\n// https://codepen.io/nik-lever/pen/wvwZwMR\n//\n\n\n // Import shader chunks\n\n\nObject(_lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_3__[\"deguMathf\"])(three__WEBPACK_IMPORTED_MODULE_0__);\nvar vshader = \"\\nvarying vec3 v_position;\\nvarying vec2 v_uv;\\nvoid main() {\\n  v_position = position;\\n  v_uv = uv;\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\n#include <deguMathf>\\n#define PI 3.14159265359\\n\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\nuniform float u_time;\\n\\nuniform sampler2D u_texture;\\n\\nvarying vec3 v_position;\\nvarying vec2 v_uv;\\n\\n\\nvoid main (void)\\n{\\n  // Example 1.  Just diplay the image based on uv.\\n    // vec2 uv = v_uv;\\n  // Get the color for the current pixel location and interpolate it with v_uv.\\n    // vec3 color = texture2D(u_texture, uv).rgb;\\n\\n  // Example 2.  Flip image.\\n  // Flip it upside down\\n  //   vec2 uv = vec2(v_uv.x, 1.0 - v_uv.y);\\n  //   vec3 color = texture2D(u_texture, uv).rgb;\\n\\n  // Example 3: Rotate the image but this doesn't take care of aspect ratio\\n  // so as it rotates the image might warp.\\n  //   vec2 center = vec2(0.5);\\n  //   vec2 uv = rotate2d(v_uv - center, 1.0) + center;\\n  //   vec3 color = texture2D(u_texture, uv).rgb;\\n\\n  // Example 4: Rotation with image aspect.  Time is used as the angle.\\n    vec2 center = vec2(0.5);\\n    float imageAspect = 300.0 / 448.0;\\n    vec3 backgroundColor = vec3(0.0);\\n    vec3 color = deguRotate2dImage(\\n        u_texture, imageAspect, v_uv, center, u_time, backgroundColor);\\n\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground20 = /*#__PURE__*/function () {\n  function GlslPlayground20() {\n    _classCallCheck(this, GlslPlayground20);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      // Load a texture.\n      // Ends up being a sampler2D type.\n      u_texture: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"TextureLoader\"]().load('./public/flower.jpg')\n      },\n      u_time: {\n        value: 0.0\n      },\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // The plane size should be the same aspect ratio as the image otherwise,\n    // the image gets stretched.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](0.669, 1);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground20, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground20;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyMC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDIwLmpzPzMwYTUiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy9cbi8vIFNpbXBsZSBJbWFnZSBUZXh0dXJlLlxuLy8gaHR0cHM6Ly93d3cudWRlbXkuY29tL2NvdXJzZS9sZWFybi1nbHNsLXNoYWRlcnMtZnJvbS1zY3JhdGNoL2xlYXJuL2xlY3R1cmUvMTM3MzkxMDQjcXVlc3Rpb25zXG4vLyBodHRwczovL2NvZGVwZW4uaW8vbmlrLWxldmVyL3Blbi93dndad01SXG4vL1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInOyAvLyBJbXBvcnQgc2hhZGVyIGNodW5rc1xuXG5pbXBvcnQgeyBkZWd1TWF0aGYgfSBmcm9tICcuLi9saWIvc2hhZGVycy90aHJlZS1zaGFkZXItY2h1bmtzL2RlZ3UtbWF0aGYnO1xuZGVndU1hdGhmKFRIUkVFKTtcbnZhciB2c2hhZGVyID0gXCJcXG52YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjtcXG52YXJ5aW5nIHZlYzIgdl91djtcXG52b2lkIG1haW4oKSB7XFxuICB2X3Bvc2l0aW9uID0gcG9zaXRpb247XFxuICB2X3V2ID0gdXY7XFxuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XFxufVxcblwiO1xudmFyIGZzaGFkZXIgPSBcIlxcbiNpbmNsdWRlIDxkZWd1TWF0aGY+XFxuI2RlZmluZSBQSSAzLjE0MTU5MjY1MzU5XFxuXFxudW5pZm9ybSB2ZWMyIHVfbW91c2U7XFxudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcXG51bmlmb3JtIHZlYzMgdV9jb2xvcjtcXG51bmlmb3JtIGZsb2F0IHVfdGltZTtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7XFxuXFxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247XFxudmFyeWluZyB2ZWMyIHZfdXY7XFxuXFxuXFxudm9pZCBtYWluICh2b2lkKVxcbntcXG4gIC8vIEV4YW1wbGUgMS4gIEp1c3QgZGlwbGF5IHRoZSBpbWFnZSBiYXNlZCBvbiB1di5cXG4gICAgLy8gdmVjMiB1diA9IHZfdXY7XFxuICAvLyBHZXQgdGhlIGNvbG9yIGZvciB0aGUgY3VycmVudCBwaXhlbCBsb2NhdGlvbiBhbmQgaW50ZXJwb2xhdGUgaXQgd2l0aCB2X3V2LlxcbiAgICAvLyB2ZWMzIGNvbG9yID0gdGV4dHVyZTJEKHVfdGV4dHVyZSwgdXYpLnJnYjtcXG5cXG4gIC8vIEV4YW1wbGUgMi4gIEZsaXAgaW1hZ2UuXFxuICAvLyBGbGlwIGl0IHVwc2lkZSBkb3duXFxuICAvLyAgIHZlYzIgdXYgPSB2ZWMyKHZfdXYueCwgMS4wIC0gdl91di55KTtcXG4gIC8vICAgdmVjMyBjb2xvciA9IHRleHR1cmUyRCh1X3RleHR1cmUsIHV2KS5yZ2I7XFxuXFxuICAvLyBFeGFtcGxlIDM6IFJvdGF0ZSB0aGUgaW1hZ2UgYnV0IHRoaXMgZG9lc24ndCB0YWtlIGNhcmUgb2YgYXNwZWN0IHJhdGlvXFxuICAvLyBzbyBhcyBpdCByb3RhdGVzIHRoZSBpbWFnZSBtaWdodCB3YXJwLlxcbiAgLy8gICB2ZWMyIGNlbnRlciA9IHZlYzIoMC41KTtcXG4gIC8vICAgdmVjMiB1diA9IHJvdGF0ZTJkKHZfdXYgLSBjZW50ZXIsIDEuMCkgKyBjZW50ZXI7XFxuICAvLyAgIHZlYzMgY29sb3IgPSB0ZXh0dXJlMkQodV90ZXh0dXJlLCB1dikucmdiO1xcblxcbiAgLy8gRXhhbXBsZSA0OiBSb3RhdGlvbiB3aXRoIGltYWdlIGFzcGVjdC4gIFRpbWUgaXMgdXNlZCBhcyB0aGUgYW5nbGUuXFxuICAgIHZlYzIgY2VudGVyID0gdmVjMigwLjUpO1xcbiAgICBmbG9hdCBpbWFnZUFzcGVjdCA9IDMwMC4wIC8gNDQ4LjA7XFxuICAgIHZlYzMgYmFja2dyb3VuZENvbG9yID0gdmVjMygwLjApO1xcbiAgICB2ZWMzIGNvbG9yID0gZGVndVJvdGF0ZTJkSW1hZ2UoXFxuICAgICAgICB1X3RleHR1cmUsIGltYWdlQXNwZWN0LCB2X3V2LCBjZW50ZXIsIHVfdGltZSwgYmFja2dyb3VuZENvbG9yKTtcXG5cXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XFxufVxcblwiO1xuXG52YXIgR2xzbFBsYXlncm91bmQyMCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEdsc2xQbGF5Z3JvdW5kMjAoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdsc2xQbGF5Z3JvdW5kMjApO1xuXG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpOyAvLyAyeDJcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSgtMSwgMSwgMSwgLTEsIDAuMSwgMTApO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdtb3VzZW1vdmUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKVxuICAgIH0pO1xuICAgIHRoaXMudW5pZm9ybXMgPSB7XG4gICAgICAvLyBMb2FkIGEgdGV4dHVyZS5cbiAgICAgIC8vIEVuZHMgdXAgYmVpbmcgYSBzYW1wbGVyMkQgdHlwZS5cbiAgICAgIHVfdGV4dHVyZToge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKCcuL3B1YmxpYy9mbG93ZXIuanBnJylcbiAgICAgIH0sXG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIHVfbW91c2U6IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLjAsXG4gICAgICAgICAgeTogMC4wXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1X3Jlc29sdXRpb246IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07IC8vIFRoZSBwbGFuZSBzaXplIHNob3VsZCBiZSB0aGUgc2FtZSBhc3BlY3QgcmF0aW8gYXMgdGhlIGltYWdlIG90aGVyd2lzZSxcbiAgICAvLyB0aGUgaW1hZ2UgZ2V0cyBzdHJldGNoZWQuXG5cbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMC42NjksIDEpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEdsc2xQbGF5Z3JvdW5kMjAsIFt7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgdmFyIGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB2YXIgd2lkdGgsIGhlaWdodDtcblxuICAgICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgICAgd2lkdGggPSAxO1xuICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgICAgaGVpZ2h0ID0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3VzZU1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoZGVsdGEpIHtcbiAgICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHbHNsUGxheWdyb3VuZDIwO1xufSgpO1xuXG5leHBvcnQgeyBHbHNsUGxheWdyb3VuZDIwIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground20.js\n");

/***/ }),

/***/ "./examples/glsl-playground21.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground21.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground21; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/shaders/three-shader-chunks/degu-mathf */ \"./lib/shaders/three-shader-chunks/degu-mathf.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n//\n// Simple Image Texture.\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739104#questions\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739178#questions\n// https://codepen.io/nik-lever/pen/wvwZwMR\n//\n\n\n // Import shader chunks\n\n\nObject(_lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_3__[\"deguMathf\"])(three__WEBPACK_IMPORTED_MODULE_0__);\nvar vshader = \"\\nvarying vec3 v_position;\\nvarying vec2 v_uv;\\nvoid main() {\\n  v_position = position;\\n  v_uv = uv;\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\n#include <deguMathf>\\n#define PI 3.14159265359\\n\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\nuniform float u_time;\\nuniform float u_duration;\\n\\nuniform sampler2D u_texture;\\n\\nvarying vec3 v_position;\\nvarying vec2 v_uv;\\n\\n\\nvoid main (void)\\n{\\n\\n    // Use varying position since center is 0.0 and it goes outwards.\\n    // This uses NDC coords.\\n    vec2 p = v_position.xy;\\n\\n    // Create a new uv position called ripple that offset the current\\n    // uv by given values.\\n    //\\n    // The goal is to have an offset uv (ripple) and get the pixel color (texel)\\n    // of a different location to make the ripple wave effect.\\n    //\\n\\n    // 1) Calculate radiant.\\n    // The amount and direction offset.  A diagnal line that extends from center.\\n    // Radian determins the \\\"intensity\\\" of the ripple, how much it changes.\\n    //\\n    // radiant\\n    //       |\\n    //       |\\n    // -------|------\\n    //        |\\n    //        |\\n    float len = length(p);\\n    vec2 radiant = p / len * 0.03;\\n\\n\\n    // Get new ripple cords adding v_uv and radian and also cos(u_time) offset.\\n    // Now we have an offset coordinates for uv in which we can project texel\\n    // colors.\\n    // Simplest form of ripple.\\n    // vec2 ripple = v_uv + radiant * cos(u_time);\\n\\n\\n    // More complex version that accounts for more ripple.\\n    float rippleCount = 20.0;\\n    vec2 ripple = v_uv + radiant * cos(len * rippleCount - u_time * 4.0);\\n\\n\\n    // Optional step - delta ripple.\\n    // We could add a delta to interpolate back and forth between\\n    // normal image and ripple image.\\n    //\\n    // The delta could also be passed as a uniform.  When delta is,\\n    // 1.0, the ripple would be animating and as it goes down to\\n    // 0.0, the ripple stops.\\n    //\\n    // The amount of time remaining in radians.  This is between 0 and 2PI.\\n    // float amountOfTimeRemainingInRadians =\\n    //     mod(u_time, u_duration) * (2.0 * PI / u_duration);\\n    // Using the time remaining in radians, set the delta as a normalizedSin.\\n    // float delta = normalizedSin(amountOfTimeRemainingInRadians);\\n    // Mix between ripple and non ripple\\n    // vec2 uv = mix(ripple, v_uv, delta);\\n\\n\\n    // Optional: Normal continous ripple\\n    // If skipping delta, you could just do a continous ripple.\\n    // vec2 uv = mix(ripple, v_uv, 0.0);\\n    vec2 uv = ripple;\\n\\n\\n\\n    vec3 color = texture2D(u_texture, uv).rgb;\\n\\n    gl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground21 = /*#__PURE__*/function () {\n  function GlslPlayground21() {\n    _classCallCheck(this, GlslPlayground21);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      // Load a texture.\n      // Ends up being a sampler2D type.\n      u_texture: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"TextureLoader\"]().load('./public/flower.jpg')\n      },\n      u_time: {\n        value: 0.0\n      },\n      u_duration: {\n        value: 0.8\n      },\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // The plane size should be the same aspect ratio as the image otherwise,\n    // the image gets stretched.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](0.669, 1);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground21, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground21;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyMS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDIxLmpzP2MzNWIiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy9cbi8vIFNpbXBsZSBJbWFnZSBUZXh0dXJlLlxuLy8gaHR0cHM6Ly93d3cudWRlbXkuY29tL2NvdXJzZS9sZWFybi1nbHNsLXNoYWRlcnMtZnJvbS1zY3JhdGNoL2xlYXJuL2xlY3R1cmUvMTM3MzkxMDQjcXVlc3Rpb25zXG4vLyBodHRwczovL3d3dy51ZGVteS5jb20vY291cnNlL2xlYXJuLWdsc2wtc2hhZGVycy1mcm9tLXNjcmF0Y2gvbGVhcm4vbGVjdHVyZS8xMzczOTE3OCNxdWVzdGlvbnNcbi8vIGh0dHBzOi8vY29kZXBlbi5pby9uaWstbGV2ZXIvcGVuL3d2d1p3TVJcbi8vXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBSYWYgfSBmcm9tICcuLi9saWIvcmFmL3JhZic7XG5pbXBvcnQgeyBEb21XYXRjaGVyIH0gZnJvbSAnLi4vbGliL2RvbS9kb20td2F0Y2hlcic7IC8vIEltcG9ydCBzaGFkZXIgY2h1bmtzXG5cbmltcG9ydCB7IGRlZ3VNYXRoZiB9IGZyb20gJy4uL2xpYi9zaGFkZXJzL3RocmVlLXNoYWRlci1jaHVua3MvZGVndS1tYXRoZic7XG5kZWd1TWF0aGYoVEhSRUUpO1xudmFyIHZzaGFkZXIgPSBcIlxcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xcbnZhcnlpbmcgdmVjMiB2X3V2O1xcbnZvaWQgbWFpbigpIHtcXG4gIHZfcG9zaXRpb24gPSBwb3NpdGlvbjtcXG4gIHZfdXYgPSB1djtcXG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiBtb2RlbE1hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcXG59XFxuXCI7XG52YXIgZnNoYWRlciA9IFwiXFxuI2luY2x1ZGUgPGRlZ3VNYXRoZj5cXG4jZGVmaW5lIFBJIDMuMTQxNTkyNjUzNTlcXG5cXG51bmlmb3JtIHZlYzIgdV9tb3VzZTtcXG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xcbnVuaWZvcm0gZmxvYXQgdV9kdXJhdGlvbjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7XFxuXFxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247XFxudmFyeWluZyB2ZWMyIHZfdXY7XFxuXFxuXFxudm9pZCBtYWluICh2b2lkKVxcbntcXG5cXG4gICAgLy8gVXNlIHZhcnlpbmcgcG9zaXRpb24gc2luY2UgY2VudGVyIGlzIDAuMCBhbmQgaXQgZ29lcyBvdXR3YXJkcy5cXG4gICAgLy8gVGhpcyB1c2VzIE5EQyBjb29yZHMuXFxuICAgIHZlYzIgcCA9IHZfcG9zaXRpb24ueHk7XFxuXFxuICAgIC8vIENyZWF0ZSBhIG5ldyB1diBwb3NpdGlvbiBjYWxsZWQgcmlwcGxlIHRoYXQgb2Zmc2V0IHRoZSBjdXJyZW50XFxuICAgIC8vIHV2IGJ5IGdpdmVuIHZhbHVlcy5cXG4gICAgLy9cXG4gICAgLy8gVGhlIGdvYWwgaXMgdG8gaGF2ZSBhbiBvZmZzZXQgdXYgKHJpcHBsZSkgYW5kIGdldCB0aGUgcGl4ZWwgY29sb3IgKHRleGVsKVxcbiAgICAvLyBvZiBhIGRpZmZlcmVudCBsb2NhdGlvbiB0byBtYWtlIHRoZSByaXBwbGUgd2F2ZSBlZmZlY3QuXFxuICAgIC8vXFxuXFxuICAgIC8vIDEpIENhbGN1bGF0ZSByYWRpYW50LlxcbiAgICAvLyBUaGUgYW1vdW50IGFuZCBkaXJlY3Rpb24gb2Zmc2V0LiAgQSBkaWFnbmFsIGxpbmUgdGhhdCBleHRlbmRzIGZyb20gY2VudGVyLlxcbiAgICAvLyBSYWRpYW4gZGV0ZXJtaW5zIHRoZSBcXFwiaW50ZW5zaXR5XFxcIiBvZiB0aGUgcmlwcGxlLCBob3cgbXVjaCBpdCBjaGFuZ2VzLlxcbiAgICAvL1xcbiAgICAvLyByYWRpYW50XFxuICAgIC8vICAgICAgIHxcXG4gICAgLy8gICAgICAgfFxcbiAgICAvLyAtLS0tLS0tfC0tLS0tLVxcbiAgICAvLyAgICAgICAgfFxcbiAgICAvLyAgICAgICAgfFxcbiAgICBmbG9hdCBsZW4gPSBsZW5ndGgocCk7XFxuICAgIHZlYzIgcmFkaWFudCA9IHAgLyBsZW4gKiAwLjAzO1xcblxcblxcbiAgICAvLyBHZXQgbmV3IHJpcHBsZSBjb3JkcyBhZGRpbmcgdl91diBhbmQgcmFkaWFuIGFuZCBhbHNvIGNvcyh1X3RpbWUpIG9mZnNldC5cXG4gICAgLy8gTm93IHdlIGhhdmUgYW4gb2Zmc2V0IGNvb3JkaW5hdGVzIGZvciB1diBpbiB3aGljaCB3ZSBjYW4gcHJvamVjdCB0ZXhlbFxcbiAgICAvLyBjb2xvcnMuXFxuICAgIC8vIFNpbXBsZXN0IGZvcm0gb2YgcmlwcGxlLlxcbiAgICAvLyB2ZWMyIHJpcHBsZSA9IHZfdXYgKyByYWRpYW50ICogY29zKHVfdGltZSk7XFxuXFxuXFxuICAgIC8vIE1vcmUgY29tcGxleCB2ZXJzaW9uIHRoYXQgYWNjb3VudHMgZm9yIG1vcmUgcmlwcGxlLlxcbiAgICBmbG9hdCByaXBwbGVDb3VudCA9IDIwLjA7XFxuICAgIHZlYzIgcmlwcGxlID0gdl91diArIHJhZGlhbnQgKiBjb3MobGVuICogcmlwcGxlQ291bnQgLSB1X3RpbWUgKiA0LjApO1xcblxcblxcbiAgICAvLyBPcHRpb25hbCBzdGVwIC0gZGVsdGEgcmlwcGxlLlxcbiAgICAvLyBXZSBjb3VsZCBhZGQgYSBkZWx0YSB0byBpbnRlcnBvbGF0ZSBiYWNrIGFuZCBmb3J0aCBiZXR3ZWVuXFxuICAgIC8vIG5vcm1hbCBpbWFnZSBhbmQgcmlwcGxlIGltYWdlLlxcbiAgICAvL1xcbiAgICAvLyBUaGUgZGVsdGEgY291bGQgYWxzbyBiZSBwYXNzZWQgYXMgYSB1bmlmb3JtLiAgV2hlbiBkZWx0YSBpcyxcXG4gICAgLy8gMS4wLCB0aGUgcmlwcGxlIHdvdWxkIGJlIGFuaW1hdGluZyBhbmQgYXMgaXQgZ29lcyBkb3duIHRvXFxuICAgIC8vIDAuMCwgdGhlIHJpcHBsZSBzdG9wcy5cXG4gICAgLy9cXG4gICAgLy8gVGhlIGFtb3VudCBvZiB0aW1lIHJlbWFpbmluZyBpbiByYWRpYW5zLiAgVGhpcyBpcyBiZXR3ZWVuIDAgYW5kIDJQSS5cXG4gICAgLy8gZmxvYXQgYW1vdW50T2ZUaW1lUmVtYWluaW5nSW5SYWRpYW5zID1cXG4gICAgLy8gICAgIG1vZCh1X3RpbWUsIHVfZHVyYXRpb24pICogKDIuMCAqIFBJIC8gdV9kdXJhdGlvbik7XFxuICAgIC8vIFVzaW5nIHRoZSB0aW1lIHJlbWFpbmluZyBpbiByYWRpYW5zLCBzZXQgdGhlIGRlbHRhIGFzIGEgbm9ybWFsaXplZFNpbi5cXG4gICAgLy8gZmxvYXQgZGVsdGEgPSBub3JtYWxpemVkU2luKGFtb3VudE9mVGltZVJlbWFpbmluZ0luUmFkaWFucyk7XFxuICAgIC8vIE1peCBiZXR3ZWVuIHJpcHBsZSBhbmQgbm9uIHJpcHBsZVxcbiAgICAvLyB2ZWMyIHV2ID0gbWl4KHJpcHBsZSwgdl91diwgZGVsdGEpO1xcblxcblxcbiAgICAvLyBPcHRpb25hbDogTm9ybWFsIGNvbnRpbm91cyByaXBwbGVcXG4gICAgLy8gSWYgc2tpcHBpbmcgZGVsdGEsIHlvdSBjb3VsZCBqdXN0IGRvIGEgY29udGlub3VzIHJpcHBsZS5cXG4gICAgLy8gdmVjMiB1diA9IG1peChyaXBwbGUsIHZfdXYsIDAuMCk7XFxuICAgIHZlYzIgdXYgPSByaXBwbGU7XFxuXFxuXFxuXFxuICAgIHZlYzMgY29sb3IgPSB0ZXh0dXJlMkQodV90ZXh0dXJlLCB1dikucmdiO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxLjApO1xcbn1cXG5cIjtcblxudmFyIEdsc2xQbGF5Z3JvdW5kMjEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHbHNsUGxheWdyb3VuZDIxKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHbHNsUGxheWdyb3VuZDIxKTtcblxuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTsgLy8gMngyXG5cbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoLTEsIDEsIDEsIC0xLCAwLjEsIDEwKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMucmFmID0gbmV3IFJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgLy8gTG9hZCBhIHRleHR1cmUuXG4gICAgICAvLyBFbmRzIHVwIGJlaW5nIGEgc2FtcGxlcjJEIHR5cGUuXG4gICAgICB1X3RleHR1cmU6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCgnLi9wdWJsaWMvZmxvd2VyLmpwZycpXG4gICAgICB9LFxuICAgICAgdV90aW1lOiB7XG4gICAgICAgIHZhbHVlOiAwLjBcbiAgICAgIH0sXG4gICAgICB1X2R1cmF0aW9uOiB7XG4gICAgICAgIHZhbHVlOiAwLjhcbiAgICAgIH0sXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyBUaGUgcGxhbmUgc2l6ZSBzaG91bGQgYmUgdGhlIHNhbWUgYXNwZWN0IHJhdGlvIGFzIHRoZSBpbWFnZSBvdGhlcndpc2UsXG4gICAgLy8gdGhlIGltYWdlIGdldHMgc3RyZXRjaGVkLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDAuNjY5LCAxKTtcbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXJcbiAgICB9KTsgLy8gQ3JlYXRlIG1lc2ggKGdlb20gKyBtYXRlcmlhbClcblxuICAgIHRoaXMucGxhbmUgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLnBsYW5lKTtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID0gMTtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhHbHNsUGxheWdyb3VuZDIxLCBbe1xuICAgIGtleTogXCJvblJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgICAgIHZhciBhc3BlY3RSYXRpbyA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgdmFyIHdpZHRoLCBoZWlnaHQ7XG5cbiAgICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxKSB7XG4gICAgICAgIHdpZHRoID0gMTtcbiAgICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGggKiB3aWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpZHRoID0gYXNwZWN0UmF0aW87XG4gICAgICAgIGhlaWdodCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FtZXJhLmxlZnQgPSAtd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS5yaWdodCA9IHdpZHRoO1xuICAgICAgdGhpcy5jYW1lcmEudG9wID0gaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEuYm90dG9tID0gLWhlaWdodDtcbiAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uTW91c2VNb3ZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGV2dCkge1xuICAgICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnggPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFggOiBldnQuY2xpZW50WDtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS55ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZ0LmNsaWVudFk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUmFmXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmFmKGRlbHRhKSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSB0aGlzLnJhZi5nZXREZWx0YSh0cnVlKTtcbiAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gR2xzbFBsYXlncm91bmQyMTtcbn0oKTtcblxuZXhwb3J0IHsgR2xzbFBsYXlncm91bmQyMSBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground21.js\n");

/***/ }),

/***/ "./examples/glsl-playground22.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground22.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground21; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/shaders/three-shader-chunks/degu-mathf */ \"./lib/shaders/three-shader-chunks/degu-mathf.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n//\n// Simple Image Texture.\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739104#questions\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739178#questions\n// https://codepen.io/nik-lever/pen/wvwZwMR\n// https://codepen.io/nik-lever/pen/PVMQbP\n//\n\n\n // Import shader chunks\n\n\nObject(_lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_3__[\"deguMathf\"])(three__WEBPACK_IMPORTED_MODULE_0__);\nvar vshader = \"\\nvarying vec3 v_position;\\nvarying vec2 v_uv;\\nvoid main() {\\n  v_position = position;\\n  v_uv = uv;\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\n#include <deguMathf>\\n#define PI 3.14159265359\\n\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\nuniform float u_time;\\nuniform float u_duration;\\n\\nuniform sampler2D u_texture1;\\nuniform sampler2D u_texture2;\\n\\nvarying vec3 v_position;\\nvarying vec2 v_uv;\\n\\n\\nvoid main (void)\\n{\\n\\n    // Use varying position since center is 0.0 and it goes outwards.\\n    // This uses NDC coords.\\n    // vec2 p = v_position.xy;\\n    vec2 p = -1.0 + 2.0 * v_uv;\\n\\n    // LEN\\n    //        |   /\\n    //        |  /\\n    // -------|------\\n    //        |\\n    //        |\\n    float len = length(p);\\n    // Intensity.\\n    vec2 radiant = p / len * 0.02;\\n    float rippleCount = 30.0;\\n    vec2 ripple = v_uv + radiant * cos(len * rippleCount - u_time * 4.0);\\n\\n\\n    // The time. 1.0 if the animation is complete.\\n    float progress = u_time / u_duration;\\n    // Mix between ripple and non ripple to get UV coords to map final texel.\\n    vec2 uv = mix(ripple, v_uv, progress);\\n\\n    // Get texel at uv for the pic 1 and pic 2.\\n    vec3 color1 = texture2D(u_texture1, uv).rgb;\\n    vec3 color2 = texture2D(u_texture2, uv).rgb;\\n\\n    // Simple cross fade.\\n    // vec3 color = mix(color1, color2, progress);\\n\\n    // Optional:\\n    // Blend between 0.14 - 0.25 edge around progress.\\n    // Creates a circular wipe.\\n    // https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739182#questions\\n    float fade = smoothstep(progress * 1.4, progress * 2.5, len);\\n\\n    // Mix it\\n    vec3 color = mix(color2, color1, fade);\\n\\n    gl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground21 = /*#__PURE__*/function () {\n  function GlslPlayground21() {\n    var _this = this;\n\n    _classCallCheck(this, GlslPlayground21);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      // Load a texture.\n      // Ends up being a sampler2D type.\n      u_texture1: {\n        value: null\n      },\n      u_texture2: {\n        value: null\n      },\n      u_time: {\n        value: 0.0\n      },\n      u_duration: {\n        value: 2.0\n      },\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // The plane size should be the same aspect ratio as the image otherwise,\n    // the image gets stretched.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](0.669, 1);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n    this.slideIndex = 0;\n    this.textures = [new three__WEBPACK_IMPORTED_MODULE_0__[\"TextureLoader\"]().load('./public/random.jpg'), new three__WEBPACK_IMPORTED_MODULE_0__[\"TextureLoader\"]().load('./public/random2.jpg'), new three__WEBPACK_IMPORTED_MODULE_0__[\"TextureLoader\"]().load('./public/random3.jpg')]; // Fake a slideshow for now.\n\n    setInterval(function () {\n      _this.slideIndex++;\n\n      _this.displayIndex();\n    }, 3000);\n    this.displayIndex();\n  }\n\n  _createClass(GlslPlayground21, [{\n    key: \"displayIndex\",\n    value: function displayIndex() {\n      // Reset the time value.\n      this.uniforms.u_time.value = 0;\n      this.uniforms.u_texture1.value = this.textures[this.slideIndex];\n      this.uniforms.u_texture2.value = this.textures[this.slideIndex + 1];\n\n      if (this.slideIndex >= this.textures.length - 1) {\n        this.uniforms.u_texture1.value = this.textures[this.slideIndex];\n        this.uniforms.u_texture2.value = this.textures[0];\n        this.slideIndex = -1;\n      }\n\n      console.log(this.slideIndex);\n      console.log(this.uniforms.u_texture1.value);\n      console.log(this.uniforms.u_texture2.value);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf() {\n      var delta = this.raf.getDelta(true);\n\n      if (this.uniforms.u_time.value < this.uniforms.u_duration.value) {\n        this.uniforms.u_time.value += delta;\n      } else {\n        this.uniforms.u_time.value = this.uniforms.u_duration.value;\n      }\n\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground21;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyMi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDIyLmpzP2NlN2IiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy9cbi8vIFNpbXBsZSBJbWFnZSBUZXh0dXJlLlxuLy8gaHR0cHM6Ly93d3cudWRlbXkuY29tL2NvdXJzZS9sZWFybi1nbHNsLXNoYWRlcnMtZnJvbS1zY3JhdGNoL2xlYXJuL2xlY3R1cmUvMTM3MzkxMDQjcXVlc3Rpb25zXG4vLyBodHRwczovL3d3dy51ZGVteS5jb20vY291cnNlL2xlYXJuLWdsc2wtc2hhZGVycy1mcm9tLXNjcmF0Y2gvbGVhcm4vbGVjdHVyZS8xMzczOTE3OCNxdWVzdGlvbnNcbi8vIGh0dHBzOi8vY29kZXBlbi5pby9uaWstbGV2ZXIvcGVuL3d2d1p3TVJcbi8vIGh0dHBzOi8vY29kZXBlbi5pby9uaWstbGV2ZXIvcGVuL1BWTVFiUFxuLy9cbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9saWIvZG9tL2RvbS13YXRjaGVyJzsgLy8gSW1wb3J0IHNoYWRlciBjaHVua3NcblxuaW1wb3J0IHsgZGVndU1hdGhmIH0gZnJvbSAnLi4vbGliL3NoYWRlcnMvdGhyZWUtc2hhZGVyLWNodW5rcy9kZWd1LW1hdGhmJztcbmRlZ3VNYXRoZihUSFJFRSk7XG52YXIgdnNoYWRlciA9IFwiXFxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247XFxudmFyeWluZyB2ZWMyIHZfdXY7XFxudm9pZCBtYWluKCkge1xcbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xcbiAgdl91diA9IHV2O1xcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld01hdHJpeCAqIG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcbn1cXG5cIjtcbnZhciBmc2hhZGVyID0gXCJcXG4jaW5jbHVkZSA8ZGVndU1hdGhmPlxcbiNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1OVxcblxcbnVuaWZvcm0gdmVjMiB1X21vdXNlO1xcbnVuaWZvcm0gdmVjMiB1X3Jlc29sdXRpb247XFxudW5pZm9ybSB2ZWMzIHVfY29sb3I7XFxudW5pZm9ybSBmbG9hdCB1X3RpbWU7XFxudW5pZm9ybSBmbG9hdCB1X2R1cmF0aW9uO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZTE7XFxudW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlMjtcXG5cXG52YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjtcXG52YXJ5aW5nIHZlYzIgdl91djtcXG5cXG5cXG52b2lkIG1haW4gKHZvaWQpXFxue1xcblxcbiAgICAvLyBVc2UgdmFyeWluZyBwb3NpdGlvbiBzaW5jZSBjZW50ZXIgaXMgMC4wIGFuZCBpdCBnb2VzIG91dHdhcmRzLlxcbiAgICAvLyBUaGlzIHVzZXMgTkRDIGNvb3Jkcy5cXG4gICAgLy8gdmVjMiBwID0gdl9wb3NpdGlvbi54eTtcXG4gICAgdmVjMiBwID0gLTEuMCArIDIuMCAqIHZfdXY7XFxuXFxuICAgIC8vIExFTlxcbiAgICAvLyAgICAgICAgfCAgIC9cXG4gICAgLy8gICAgICAgIHwgIC9cXG4gICAgLy8gLS0tLS0tLXwtLS0tLS1cXG4gICAgLy8gICAgICAgIHxcXG4gICAgLy8gICAgICAgIHxcXG4gICAgZmxvYXQgbGVuID0gbGVuZ3RoKHApO1xcbiAgICAvLyBJbnRlbnNpdHkuXFxuICAgIHZlYzIgcmFkaWFudCA9IHAgLyBsZW4gKiAwLjAyO1xcbiAgICBmbG9hdCByaXBwbGVDb3VudCA9IDMwLjA7XFxuICAgIHZlYzIgcmlwcGxlID0gdl91diArIHJhZGlhbnQgKiBjb3MobGVuICogcmlwcGxlQ291bnQgLSB1X3RpbWUgKiA0LjApO1xcblxcblxcbiAgICAvLyBUaGUgdGltZS4gMS4wIGlmIHRoZSBhbmltYXRpb24gaXMgY29tcGxldGUuXFxuICAgIGZsb2F0IHByb2dyZXNzID0gdV90aW1lIC8gdV9kdXJhdGlvbjtcXG4gICAgLy8gTWl4IGJldHdlZW4gcmlwcGxlIGFuZCBub24gcmlwcGxlIHRvIGdldCBVViBjb29yZHMgdG8gbWFwIGZpbmFsIHRleGVsLlxcbiAgICB2ZWMyIHV2ID0gbWl4KHJpcHBsZSwgdl91diwgcHJvZ3Jlc3MpO1xcblxcbiAgICAvLyBHZXQgdGV4ZWwgYXQgdXYgZm9yIHRoZSBwaWMgMSBhbmQgcGljIDIuXFxuICAgIHZlYzMgY29sb3IxID0gdGV4dHVyZTJEKHVfdGV4dHVyZTEsIHV2KS5yZ2I7XFxuICAgIHZlYzMgY29sb3IyID0gdGV4dHVyZTJEKHVfdGV4dHVyZTIsIHV2KS5yZ2I7XFxuXFxuICAgIC8vIFNpbXBsZSBjcm9zcyBmYWRlLlxcbiAgICAvLyB2ZWMzIGNvbG9yID0gbWl4KGNvbG9yMSwgY29sb3IyLCBwcm9ncmVzcyk7XFxuXFxuICAgIC8vIE9wdGlvbmFsOlxcbiAgICAvLyBCbGVuZCBiZXR3ZWVuIDAuMTQgLSAwLjI1IGVkZ2UgYXJvdW5kIHByb2dyZXNzLlxcbiAgICAvLyBDcmVhdGVzIGEgY2lyY3VsYXIgd2lwZS5cXG4gICAgLy8gaHR0cHM6Ly93d3cudWRlbXkuY29tL2NvdXJzZS9sZWFybi1nbHNsLXNoYWRlcnMtZnJvbS1zY3JhdGNoL2xlYXJuL2xlY3R1cmUvMTM3MzkxODIjcXVlc3Rpb25zXFxuICAgIGZsb2F0IGZhZGUgPSBzbW9vdGhzdGVwKHByb2dyZXNzICogMS40LCBwcm9ncmVzcyAqIDIuNSwgbGVuKTtcXG5cXG4gICAgLy8gTWl4IGl0XFxuICAgIHZlYzMgY29sb3IgPSBtaXgoY29sb3IyLCBjb2xvcjEsIGZhZGUpO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxLjApO1xcbn1cXG5cIjtcblxudmFyIEdsc2xQbGF5Z3JvdW5kMjEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHbHNsUGxheWdyb3VuZDIxKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2xzbFBsYXlncm91bmQyMSk7XG5cbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBSYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgdGhpcy51bmlmb3JtcyA9IHtcbiAgICAgIC8vIExvYWQgYSB0ZXh0dXJlLlxuICAgICAgLy8gRW5kcyB1cCBiZWluZyBhIHNhbXBsZXIyRCB0eXBlLlxuICAgICAgdV90ZXh0dXJlMToge1xuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSxcbiAgICAgIHVfdGV4dHVyZTI6IHtcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH0sXG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIHVfZHVyYXRpb246IHtcbiAgICAgICAgdmFsdWU6IDIuMFxuICAgICAgfSxcbiAgICAgIHVfbW91c2U6IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLjAsXG4gICAgICAgICAgeTogMC4wXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1X3Jlc29sdXRpb246IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07IC8vIFRoZSBwbGFuZSBzaXplIHNob3VsZCBiZSB0aGUgc2FtZSBhc3BlY3QgcmF0aW8gYXMgdGhlIGltYWdlIG90aGVyd2lzZSxcbiAgICAvLyB0aGUgaW1hZ2UgZ2V0cyBzdHJldGNoZWQuXG5cbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMC42NjksIDEpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICAgIHRoaXMuc2xpZGVJbmRleCA9IDA7XG4gICAgdGhpcy50ZXh0dXJlcyA9IFtuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoJy4vcHVibGljL3JhbmRvbS5qcGcnKSwgbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKCcuL3B1YmxpYy9yYW5kb20yLmpwZycpLCBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoJy4vcHVibGljL3JhbmRvbTMuanBnJyldOyAvLyBGYWtlIGEgc2xpZGVzaG93IGZvciBub3cuXG5cbiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zbGlkZUluZGV4Kys7XG5cbiAgICAgIF90aGlzLmRpc3BsYXlJbmRleCgpO1xuICAgIH0sIDMwMDApO1xuICAgIHRoaXMuZGlzcGxheUluZGV4KCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoR2xzbFBsYXlncm91bmQyMSwgW3tcbiAgICBrZXk6IFwiZGlzcGxheUluZGV4XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3BsYXlJbmRleCgpIHtcbiAgICAgIC8vIFJlc2V0IHRoZSB0aW1lIHZhbHVlLlxuICAgICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgPSAwO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3RleHR1cmUxLnZhbHVlID0gdGhpcy50ZXh0dXJlc1t0aGlzLnNsaWRlSW5kZXhdO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3RleHR1cmUyLnZhbHVlID0gdGhpcy50ZXh0dXJlc1t0aGlzLnNsaWRlSW5kZXggKyAxXTtcblxuICAgICAgaWYgKHRoaXMuc2xpZGVJbmRleCA+PSB0aGlzLnRleHR1cmVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy51X3RleHR1cmUxLnZhbHVlID0gdGhpcy50ZXh0dXJlc1t0aGlzLnNsaWRlSW5kZXhdO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVfdGV4dHVyZTIudmFsdWUgPSB0aGlzLnRleHR1cmVzWzBdO1xuICAgICAgICB0aGlzLnNsaWRlSW5kZXggPSAtMTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2codGhpcy5zbGlkZUluZGV4KTtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMudW5pZm9ybXMudV90ZXh0dXJlMS52YWx1ZSk7XG4gICAgICBjb25zb2xlLmxvZyh0aGlzLnVuaWZvcm1zLnVfdGV4dHVyZTIudmFsdWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgICAgIHZhciBhc3BlY3RSYXRpbyA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgdmFyIHdpZHRoLCBoZWlnaHQ7XG5cbiAgICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxKSB7XG4gICAgICAgIHdpZHRoID0gMTtcbiAgICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGggKiB3aWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpZHRoID0gYXNwZWN0UmF0aW87XG4gICAgICAgIGhlaWdodCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FtZXJhLmxlZnQgPSAtd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS5yaWdodCA9IHdpZHRoO1xuICAgICAgdGhpcy5jYW1lcmEudG9wID0gaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEuYm90dG9tID0gLWhlaWdodDtcbiAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uTW91c2VNb3ZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGV2dCkge1xuICAgICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnggPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFggOiBldnQuY2xpZW50WDtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS55ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZ0LmNsaWVudFk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUmFmXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmFmKCkge1xuICAgICAgdmFyIGRlbHRhID0gdGhpcy5yYWYuZ2V0RGVsdGEodHJ1ZSk7XG5cbiAgICAgIGlmICh0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSA8IHRoaXMudW5pZm9ybXMudV9kdXJhdGlvbi52YWx1ZSkge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSBkZWx0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlID0gdGhpcy51bmlmb3Jtcy51X2R1cmF0aW9uLnZhbHVlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEdsc2xQbGF5Z3JvdW5kMjE7XG59KCk7XG5cbmV4cG9ydCB7IEdsc2xQbGF5Z3JvdW5kMjEgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground22.js\n");

/***/ }),

/***/ "./examples/glsl-playground23.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground23.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground23; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/shaders/three-shader-chunks/degu-mathf */ \"./lib/shaders/three-shader-chunks/degu-mathf.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n//\n// Simple Image Texture.\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739104#questions\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739178#questions\n// https://codepen.io/nik-lever/pen/ZwgrRR\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739190#questions/8753186\n// https://codepen.io/nik-lever/pen/PVMRXa\n//\n\n\n // Import shader chunks\n\n\nObject(_lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_3__[\"deguMathf\"])(three__WEBPACK_IMPORTED_MODULE_0__);\n/**\n * Class that creates canvas text in three.js.\n * Thanks to Nik Lever.\n */\n\nvar CanvasText = /*#__PURE__*/function () {\n  function CanvasText(scene, msg, config, material) {\n    _classCallCheck(this, CanvasText);\n\n    this.config = config === undefined ? {\n      font: 'sans',\n      size: 30,\n      h1size: 50,\n      padding: 10,\n      colour: '#fff',\n      width: 256,\n      height: 256\n    } : config;\n    var planeMaterial = material === undefined ? new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      transparent: true\n    }) : material;\n    this.planesize = config.planesize ? config.planesize : {\n      width: 0.5,\n      height: 0.5\n    };\n    var planeGeometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](this.planesize.width, this.planesize.height);\n    this.mesh = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](planeGeometry, planeMaterial);\n    if (this.config.zpos) this.mesh.position.z = this.config.zpos;\n    scene.add(this.mesh);\n    this.update(msg);\n  }\n\n  _createClass(CanvasText, [{\n    key: \"update\",\n    value: function update(msg) {\n      if (this.mesh === undefined) return;\n      var context = this.context;\n\n      if (context === undefined) {\n        var canvas = this.createOffscreenCanvas(this.config.width, this.config.height);\n        this.context = canvas.getContext('2d');\n        context = this.context;\n        context.font = \"\".concat(this.config.size, \"pt \").concat(this.config.font);\n        context.fillStyle = this.config.colour;\n        context.textAlign = 'center';\n        this.texture = new three__WEBPACK_IMPORTED_MODULE_0__[\"CanvasTexture\"](canvas);\n\n        if (this.mesh.material.uniforms !== undefined) {\n          this.mesh.material.uniforms.u_tex = {\n            value: this.texture\n          };\n        } else {\n          this.mesh.material.map = this.texture;\n        }\n      }\n\n      var bg = this.img;\n      context.clearRect(0, 0, this.config.width, this.config.height);\n\n      if (this.config.debug) {\n        context.beginPath();\n        context.rect(0, 0, this.config.width, this.config.height);\n        context.stroke();\n      }\n\n      this.wrapText(msg, context);\n      this.texture.needsUpdate = true;\n    }\n  }, {\n    key: \"createOffscreenCanvas\",\n    value: function createOffscreenCanvas(w, h) {\n      var canvas = document.createElement('canvas');\n      canvas.width = w;\n      canvas.height = h;\n      return canvas;\n    }\n  }, {\n    key: \"wrapText\",\n    value: function wrapText(msg, context) {\n      var words = msg.text.split(' ');\n      var line = '';\n      var lines = [];\n      var maxWidth = this.config.width - 2 * this.config.padding;\n      var lineHeight = this.config.size + 8;\n      context.font = \"\".concat(this.config.size, \"pt \").concat(this.config.font);\n      words.forEach(function (word) {\n        var testLine = \"\".concat(line).concat(word, \" \");\n        var metrics = context.measureText(testLine);\n        var testWidth = metrics.width;\n\n        if (testWidth > maxWidth) {\n          lines.push(line);\n          line = \"\".concat(word, \" \");\n        } else {\n          line = testLine;\n        }\n      });\n      if (line != '') lines.push(line);\n      var y = this.config.height - lines.length * lineHeight;\n      var centerX = this.config.width / 2;\n      lines.forEach(function (line) {\n        context.fillText(line, centerX, y);\n        y += lineHeight;\n      });\n      y = this.config.height - (lines.length + 1.5) * lineHeight;\n      context.font = \"\".concat(this.config.h1size, \"pt \").concat(this.config.font);\n      context.fillText(msg.name, centerX, y);\n    }\n  }, {\n    key: \"positionText\",\n    value: function positionText(camera, pos) {\n      if (!this.planesize) return;\n\n      if (pos.bottom !== undefined) {\n        this.mesh.position.y = pos.bottom + this.planesize.height / 2 + camera.bottom;\n      } else if (pos.top !== undefined) {\n        this.mesh.position.y = camera.top - pos.top - this.planesize.height / 2;\n      } else {\n        this.mesh.position.y = 0;\n      }\n\n      if (pos.left !== undefined) {\n        this.mesh.position.x = pos.left + this.planesize.width / 2 + camera.left;\n      } else if (pos.right !== undefined) {\n        this.mesh.position.x = camera.right - pos.right - this.planesize.width / 2;\n      } else {\n        this.mesh.position.x = 0;\n      }\n    }\n  }]);\n\n  return CanvasText;\n}();\n\nvar vshader = \"\\nvarying vec3 v_position;\\nvarying vec2 v_uv;\\nvoid main() {\\n  v_position = position;\\n  v_uv = uv;\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\n#include <deguMathf>\\n#define PI 3.14159265359\\n\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\nuniform float u_time;\\nuniform float u_duration;\\n\\nuniform sampler2D u_texture1;\\nuniform sampler2D u_texture2;\\n\\nvarying vec3 v_position;\\nvarying vec2 v_uv;\\n\\n\\nvoid main (void)\\n{\\n    // vec2 p = v_position.xy;\\n    vec2 p = -1.0 + 2.0 * v_uv;\\n\\n    float len = length(p);\\n    vec2 radiant = p / len * 0.02;\\n    float rippleCount = 30.0;\\n    vec2 ripple = v_uv + radiant * cos(len * rippleCount - u_time * 4.0);\\n    float progress = u_time / u_duration;\\n    vec2 uv = mix(ripple, v_uv, progress);\\n\\n    vec3 color1 = texture2D(u_texture1, uv).rgb;\\n    vec3 color2 = texture2D(u_texture2, uv).rgb;\\n    float fade = smoothstep(progress * 1.4, progress * 2.5, len);\\n\\n    // Mix it\\n    vec3 color = mix(color2, color1, fade);\\n\\n    gl_FragColor = vec4(color, 1.0);\\n}\\n\"; // Version to just display text\n\nvar textFragShader = \"\\n#include <deguMathf>\\n#define PI 3.14159265359\\n\\nuniform float u_time;\\nuniform float u_duration;\\nuniform sampler2D u_tex;\\n\\nvarying vec3 v_position;\\nvarying vec2 v_uv;\\n\\nvoid main (void)\\n{\\n    gl_FragColor = texture2D(u_tex, v_uv);\\n}\\n\"; // Twirling text version.\n\nvar textFragShader2 = \"\\n  uniform sampler2D u_tex;\\n  uniform float u_time;\\n  uniform float u_duration;\\n  uniform float u_twirls;\\n\\n  varying vec2 v_uv;\\n\\n  vec4 twirl(sampler2D tex, vec2 uv, float time){\\n    if (time<0.0) time = 0.0;\\n\\n    vec2 center = vec2(0.5);\\n    vec2 tc = uv - center;\\n    float dist = length(tc);\\n\\n    if (dist < 0.5){\\n      float delta = (0.5 - dist) / 0.5;\\n      float theta = delta * delta * time * u_twirls;\\n      float s = sin(theta);\\n      float c = cos(theta);\\n      mat2 mat = mat2(c,s,-s,c);\\n      tc = mat * tc;\\n      //tc = vec2(dot(tc, vec2(c, -s)), dot(tc, vec2(s, c)));\\n    }\\n\\n    tc += center;\\n    vec4 color = texture2D(tex, tc);\\n    color.a = mix(0.0, color.a, min(u_time, 1.0));\\n    return color;\\n  }\\n\\n  void main(void){\\n    gl_FragColor = twirl(u_tex, v_uv, u_duration - u_time);\\n  }\\n\";\n\nvar GlslPlayground23 = /*#__PURE__*/function () {\n  function GlslPlayground23() {\n    var _this = this;\n\n    _classCallCheck(this, GlslPlayground23);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      // Load a texture.\n      // Ends up being a sampler2D type.\n      u_texture1: {\n        value: null\n      },\n      u_texture2: {\n        value: null\n      },\n      u_time: {\n        value: 0.0\n      },\n      u_duration: {\n        value: 2.0\n      },\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // The plane size should be the same aspect ratio as the image otherwise,\n    // the image gets stretched.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](0.669, 1);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane); // Text for slides.\n\n    this.text = [{\n      name: \"test1\",\n      text: \"This is the first text\"\n    }, {\n      name: \"test2\",\n      text: \"This is the second text\"\n    }, {\n      name: \"test3\",\n      text: \"This is the third text\"\n    }]; // Add a second plane to hold the text.\n\n    this.uniforms2 = {\n      u_time: {\n        value: 0.0\n      },\n      u_duration: {\n        value: 0.7\n      },\n      u_twirls: {\n        value: 4\n      }\n    };\n    this.material2 = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms2,\n      vertexShader: vshader,\n      // Normal text\n      // fragmentShader: textFragShader,\n      fragmentShader: textFragShader2,\n      transparent: true\n    });\n    var config = {\n      font: 'Josefin Sans',\n      size: 16,\n      h1size: 30,\n      padding: 10,\n      colour: '#fff',\n      width: 512,\n      height: 256,\n      zpos: 0.005,\n      planesize: {\n        width: 1,\n        height: 0.5\n      }\n    };\n    this.canvasText = new CanvasText(this.scene, this.text[1], config, this.material2);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n    this.slideIndex = 0;\n    this.textures = [new three__WEBPACK_IMPORTED_MODULE_0__[\"TextureLoader\"]().load('./public/random.jpg'), new three__WEBPACK_IMPORTED_MODULE_0__[\"TextureLoader\"]().load('./public/random2.jpg'), new three__WEBPACK_IMPORTED_MODULE_0__[\"TextureLoader\"]().load('./public/random3.jpg')]; // Fake a slideshow for now.\n\n    setInterval(function () {\n      _this.slideIndex++;\n\n      _this.displayIndex();\n    }, 3000);\n    this.displayIndex();\n  }\n\n  _createClass(GlslPlayground23, [{\n    key: \"displayIndex\",\n    value: function displayIndex() {\n      // Reset the time value.\n      this.uniforms.u_time.value = 0;\n      this.uniforms2.u_time.value = 0;\n      this.canvasText.update(this.text[this.slideIndex]);\n      this.uniforms.u_texture1.value = this.textures[this.slideIndex];\n      this.uniforms.u_texture2.value = this.textures[this.slideIndex + 1];\n\n      if (this.slideIndex >= this.textures.length - 1) {\n        this.uniforms.u_texture1.value = this.textures[this.slideIndex];\n        this.uniforms.u_texture2.value = this.textures[0];\n        this.slideIndex = -1;\n      }\n\n      console.log(this.slideIndex);\n      console.log(this.uniforms.u_texture1.value);\n      console.log(this.uniforms.u_texture2.value);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n      this.canvasText.positionText(this.camera, {\n        bottom: 0.1\n      });\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf() {\n      var delta = this.raf.getDelta(true);\n\n      if (this.uniforms.u_time.value < this.uniforms.u_duration.value) {\n        this.uniforms.u_time.value += delta;\n        this.uniforms2.u_time.value += delta;\n      } else {\n        this.uniforms.u_time.value = this.uniforms.u_duration.value;\n        this.uniforms2.u_time.value = this.uniforms2.u_duration.value;\n      }\n\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground23;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyMy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDIzLmpzP2Y5NTgiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy9cbi8vIFNpbXBsZSBJbWFnZSBUZXh0dXJlLlxuLy8gaHR0cHM6Ly93d3cudWRlbXkuY29tL2NvdXJzZS9sZWFybi1nbHNsLXNoYWRlcnMtZnJvbS1zY3JhdGNoL2xlYXJuL2xlY3R1cmUvMTM3MzkxMDQjcXVlc3Rpb25zXG4vLyBodHRwczovL3d3dy51ZGVteS5jb20vY291cnNlL2xlYXJuLWdsc2wtc2hhZGVycy1mcm9tLXNjcmF0Y2gvbGVhcm4vbGVjdHVyZS8xMzczOTE3OCNxdWVzdGlvbnNcbi8vIGh0dHBzOi8vY29kZXBlbi5pby9uaWstbGV2ZXIvcGVuL1p3Z3JSUlxuLy8gaHR0cHM6Ly93d3cudWRlbXkuY29tL2NvdXJzZS9sZWFybi1nbHNsLXNoYWRlcnMtZnJvbS1zY3JhdGNoL2xlYXJuL2xlY3R1cmUvMTM3MzkxOTAjcXVlc3Rpb25zLzg3NTMxODZcbi8vIGh0dHBzOi8vY29kZXBlbi5pby9uaWstbGV2ZXIvcGVuL1BWTVJYYVxuLy9cbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9saWIvZG9tL2RvbS13YXRjaGVyJzsgLy8gSW1wb3J0IHNoYWRlciBjaHVua3NcblxuaW1wb3J0IHsgZGVndU1hdGhmIH0gZnJvbSAnLi4vbGliL3NoYWRlcnMvdGhyZWUtc2hhZGVyLWNodW5rcy9kZWd1LW1hdGhmJztcbmRlZ3VNYXRoZihUSFJFRSk7XG4vKipcbiAqIENsYXNzIHRoYXQgY3JlYXRlcyBjYW52YXMgdGV4dCBpbiB0aHJlZS5qcy5cbiAqIFRoYW5rcyB0byBOaWsgTGV2ZXIuXG4gKi9cblxudmFyIENhbnZhc1RleHQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDYW52YXNUZXh0KHNjZW5lLCBtc2csIGNvbmZpZywgbWF0ZXJpYWwpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FudmFzVGV4dCk7XG5cbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZyA9PT0gdW5kZWZpbmVkID8ge1xuICAgICAgZm9udDogJ3NhbnMnLFxuICAgICAgc2l6ZTogMzAsXG4gICAgICBoMXNpemU6IDUwLFxuICAgICAgcGFkZGluZzogMTAsXG4gICAgICBjb2xvdXI6ICcjZmZmJyxcbiAgICAgIHdpZHRoOiAyNTYsXG4gICAgICBoZWlnaHQ6IDI1NlxuICAgIH0gOiBjb25maWc7XG4gICAgdmFyIHBsYW5lTWF0ZXJpYWwgPSBtYXRlcmlhbCA9PT0gdW5kZWZpbmVkID8gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgIHRyYW5zcGFyZW50OiB0cnVlXG4gICAgfSkgOiBtYXRlcmlhbDtcbiAgICB0aGlzLnBsYW5lc2l6ZSA9IGNvbmZpZy5wbGFuZXNpemUgPyBjb25maWcucGxhbmVzaXplIDoge1xuICAgICAgd2lkdGg6IDAuNSxcbiAgICAgIGhlaWdodDogMC41XG4gICAgfTtcbiAgICB2YXIgcGxhbmVHZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KHRoaXMucGxhbmVzaXplLndpZHRoLCB0aGlzLnBsYW5lc2l6ZS5oZWlnaHQpO1xuICAgIHRoaXMubWVzaCA9IG5ldyBUSFJFRS5NZXNoKHBsYW5lR2VvbWV0cnksIHBsYW5lTWF0ZXJpYWwpO1xuICAgIGlmICh0aGlzLmNvbmZpZy56cG9zKSB0aGlzLm1lc2gucG9zaXRpb24ueiA9IHRoaXMuY29uZmlnLnpwb3M7XG4gICAgc2NlbmUuYWRkKHRoaXMubWVzaCk7XG4gICAgdGhpcy51cGRhdGUobXNnKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDYW52YXNUZXh0LCBbe1xuICAgIGtleTogXCJ1cGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKG1zZykge1xuICAgICAgaWYgKHRoaXMubWVzaCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuICAgICAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5jcmVhdGVPZmZzY3JlZW5DYW52YXModGhpcy5jb25maWcud2lkdGgsIHRoaXMuY29uZmlnLmhlaWdodCk7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBjb250ZXh0LmZvbnQgPSBcIlwiLmNvbmNhdCh0aGlzLmNvbmZpZy5zaXplLCBcInB0IFwiKS5jb25jYXQodGhpcy5jb25maWcuZm9udCk7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5jb25maWcuY29sb3VyO1xuICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICB0aGlzLnRleHR1cmUgPSBuZXcgVEhSRUUuQ2FudmFzVGV4dHVyZShjYW52YXMpO1xuXG4gICAgICAgIGlmICh0aGlzLm1lc2gubWF0ZXJpYWwudW5pZm9ybXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMubWVzaC5tYXRlcmlhbC51bmlmb3Jtcy51X3RleCA9IHtcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnRleHR1cmVcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubWVzaC5tYXRlcmlhbC5tYXAgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGJnID0gdGhpcy5pbWc7XG4gICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNvbmZpZy53aWR0aCwgdGhpcy5jb25maWcuaGVpZ2h0KTtcblxuICAgICAgaWYgKHRoaXMuY29uZmlnLmRlYnVnKSB7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQucmVjdCgwLCAwLCB0aGlzLmNvbmZpZy53aWR0aCwgdGhpcy5jb25maWcuaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy53cmFwVGV4dChtc2csIGNvbnRleHQpO1xuICAgICAgdGhpcy50ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlT2Zmc2NyZWVuQ2FudmFzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZU9mZnNjcmVlbkNhbnZhcyh3LCBoKSB7XG4gICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICBjYW52YXMud2lkdGggPSB3O1xuICAgICAgY2FudmFzLmhlaWdodCA9IGg7XG4gICAgICByZXR1cm4gY2FudmFzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ3cmFwVGV4dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB3cmFwVGV4dChtc2csIGNvbnRleHQpIHtcbiAgICAgIHZhciB3b3JkcyA9IG1zZy50ZXh0LnNwbGl0KCcgJyk7XG4gICAgICB2YXIgbGluZSA9ICcnO1xuICAgICAgdmFyIGxpbmVzID0gW107XG4gICAgICB2YXIgbWF4V2lkdGggPSB0aGlzLmNvbmZpZy53aWR0aCAtIDIgKiB0aGlzLmNvbmZpZy5wYWRkaW5nO1xuICAgICAgdmFyIGxpbmVIZWlnaHQgPSB0aGlzLmNvbmZpZy5zaXplICsgODtcbiAgICAgIGNvbnRleHQuZm9udCA9IFwiXCIuY29uY2F0KHRoaXMuY29uZmlnLnNpemUsIFwicHQgXCIpLmNvbmNhdCh0aGlzLmNvbmZpZy5mb250KTtcbiAgICAgIHdvcmRzLmZvckVhY2goZnVuY3Rpb24gKHdvcmQpIHtcbiAgICAgICAgdmFyIHRlc3RMaW5lID0gXCJcIi5jb25jYXQobGluZSkuY29uY2F0KHdvcmQsIFwiIFwiKTtcbiAgICAgICAgdmFyIG1ldHJpY3MgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHRlc3RMaW5lKTtcbiAgICAgICAgdmFyIHRlc3RXaWR0aCA9IG1ldHJpY3Mud2lkdGg7XG5cbiAgICAgICAgaWYgKHRlc3RXaWR0aCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgbGluZXMucHVzaChsaW5lKTtcbiAgICAgICAgICBsaW5lID0gXCJcIi5jb25jYXQod29yZCwgXCIgXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpbmUgPSB0ZXN0TGluZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAobGluZSAhPSAnJykgbGluZXMucHVzaChsaW5lKTtcbiAgICAgIHZhciB5ID0gdGhpcy5jb25maWcuaGVpZ2h0IC0gbGluZXMubGVuZ3RoICogbGluZUhlaWdodDtcbiAgICAgIHZhciBjZW50ZXJYID0gdGhpcy5jb25maWcud2lkdGggLyAyO1xuICAgICAgbGluZXMuZm9yRWFjaChmdW5jdGlvbiAobGluZSkge1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KGxpbmUsIGNlbnRlclgsIHkpO1xuICAgICAgICB5ICs9IGxpbmVIZWlnaHQ7XG4gICAgICB9KTtcbiAgICAgIHkgPSB0aGlzLmNvbmZpZy5oZWlnaHQgLSAobGluZXMubGVuZ3RoICsgMS41KSAqIGxpbmVIZWlnaHQ7XG4gICAgICBjb250ZXh0LmZvbnQgPSBcIlwiLmNvbmNhdCh0aGlzLmNvbmZpZy5oMXNpemUsIFwicHQgXCIpLmNvbmNhdCh0aGlzLmNvbmZpZy5mb250KTtcbiAgICAgIGNvbnRleHQuZmlsbFRleHQobXNnLm5hbWUsIGNlbnRlclgsIHkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwb3NpdGlvblRleHRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcG9zaXRpb25UZXh0KGNhbWVyYSwgcG9zKSB7XG4gICAgICBpZiAoIXRoaXMucGxhbmVzaXplKSByZXR1cm47XG5cbiAgICAgIGlmIChwb3MuYm90dG9tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLnkgPSBwb3MuYm90dG9tICsgdGhpcy5wbGFuZXNpemUuaGVpZ2h0IC8gMiArIGNhbWVyYS5ib3R0b207XG4gICAgICB9IGVsc2UgaWYgKHBvcy50b3AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLm1lc2gucG9zaXRpb24ueSA9IGNhbWVyYS50b3AgLSBwb3MudG9wIC0gdGhpcy5wbGFuZXNpemUuaGVpZ2h0IC8gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubWVzaC5wb3NpdGlvbi55ID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKHBvcy5sZWZ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLnggPSBwb3MubGVmdCArIHRoaXMucGxhbmVzaXplLndpZHRoIC8gMiArIGNhbWVyYS5sZWZ0O1xuICAgICAgfSBlbHNlIGlmIChwb3MucmlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLm1lc2gucG9zaXRpb24ueCA9IGNhbWVyYS5yaWdodCAtIHBvcy5yaWdodCAtIHRoaXMucGxhbmVzaXplLndpZHRoIC8gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubWVzaC5wb3NpdGlvbi54ID0gMDtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2FudmFzVGV4dDtcbn0oKTtcblxudmFyIHZzaGFkZXIgPSBcIlxcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xcbnZhcnlpbmcgdmVjMiB2X3V2O1xcbnZvaWQgbWFpbigpIHtcXG4gIHZfcG9zaXRpb24gPSBwb3NpdGlvbjtcXG4gIHZfdXYgPSB1djtcXG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiBtb2RlbE1hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcXG59XFxuXCI7XG52YXIgZnNoYWRlciA9IFwiXFxuI2luY2x1ZGUgPGRlZ3VNYXRoZj5cXG4jZGVmaW5lIFBJIDMuMTQxNTkyNjUzNTlcXG5cXG51bmlmb3JtIHZlYzIgdV9tb3VzZTtcXG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xcbnVuaWZvcm0gZmxvYXQgdV9kdXJhdGlvbjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmUxO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZTI7XFxuXFxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247XFxudmFyeWluZyB2ZWMyIHZfdXY7XFxuXFxuXFxudm9pZCBtYWluICh2b2lkKVxcbntcXG4gICAgLy8gdmVjMiBwID0gdl9wb3NpdGlvbi54eTtcXG4gICAgdmVjMiBwID0gLTEuMCArIDIuMCAqIHZfdXY7XFxuXFxuICAgIGZsb2F0IGxlbiA9IGxlbmd0aChwKTtcXG4gICAgdmVjMiByYWRpYW50ID0gcCAvIGxlbiAqIDAuMDI7XFxuICAgIGZsb2F0IHJpcHBsZUNvdW50ID0gMzAuMDtcXG4gICAgdmVjMiByaXBwbGUgPSB2X3V2ICsgcmFkaWFudCAqIGNvcyhsZW4gKiByaXBwbGVDb3VudCAtIHVfdGltZSAqIDQuMCk7XFxuICAgIGZsb2F0IHByb2dyZXNzID0gdV90aW1lIC8gdV9kdXJhdGlvbjtcXG4gICAgdmVjMiB1diA9IG1peChyaXBwbGUsIHZfdXYsIHByb2dyZXNzKTtcXG5cXG4gICAgdmVjMyBjb2xvcjEgPSB0ZXh0dXJlMkQodV90ZXh0dXJlMSwgdXYpLnJnYjtcXG4gICAgdmVjMyBjb2xvcjIgPSB0ZXh0dXJlMkQodV90ZXh0dXJlMiwgdXYpLnJnYjtcXG4gICAgZmxvYXQgZmFkZSA9IHNtb290aHN0ZXAocHJvZ3Jlc3MgKiAxLjQsIHByb2dyZXNzICogMi41LCBsZW4pO1xcblxcbiAgICAvLyBNaXggaXRcXG4gICAgdmVjMyBjb2xvciA9IG1peChjb2xvcjIsIGNvbG9yMSwgZmFkZSk7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XFxufVxcblwiOyAvLyBWZXJzaW9uIHRvIGp1c3QgZGlzcGxheSB0ZXh0XG5cbnZhciB0ZXh0RnJhZ1NoYWRlciA9IFwiXFxuI2luY2x1ZGUgPGRlZ3VNYXRoZj5cXG4jZGVmaW5lIFBJIDMuMTQxNTkyNjUzNTlcXG5cXG51bmlmb3JtIGZsb2F0IHVfdGltZTtcXG51bmlmb3JtIGZsb2F0IHVfZHVyYXRpb247XFxudW5pZm9ybSBzYW1wbGVyMkQgdV90ZXg7XFxuXFxudmFyeWluZyB2ZWMzIHZfcG9zaXRpb247XFxudmFyeWluZyB2ZWMyIHZfdXY7XFxuXFxudm9pZCBtYWluICh2b2lkKVxcbntcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVfdGV4LCB2X3V2KTtcXG59XFxuXCI7IC8vIFR3aXJsaW5nIHRleHQgdmVyc2lvbi5cblxudmFyIHRleHRGcmFnU2hhZGVyMiA9IFwiXFxuICB1bmlmb3JtIHNhbXBsZXIyRCB1X3RleDtcXG4gIHVuaWZvcm0gZmxvYXQgdV90aW1lO1xcbiAgdW5pZm9ybSBmbG9hdCB1X2R1cmF0aW9uO1xcbiAgdW5pZm9ybSBmbG9hdCB1X3R3aXJscztcXG5cXG4gIHZhcnlpbmcgdmVjMiB2X3V2O1xcblxcbiAgdmVjNCB0d2lybChzYW1wbGVyMkQgdGV4LCB2ZWMyIHV2LCBmbG9hdCB0aW1lKXtcXG4gICAgaWYgKHRpbWU8MC4wKSB0aW1lID0gMC4wO1xcblxcbiAgICB2ZWMyIGNlbnRlciA9IHZlYzIoMC41KTtcXG4gICAgdmVjMiB0YyA9IHV2IC0gY2VudGVyO1xcbiAgICBmbG9hdCBkaXN0ID0gbGVuZ3RoKHRjKTtcXG5cXG4gICAgaWYgKGRpc3QgPCAwLjUpe1xcbiAgICAgIGZsb2F0IGRlbHRhID0gKDAuNSAtIGRpc3QpIC8gMC41O1xcbiAgICAgIGZsb2F0IHRoZXRhID0gZGVsdGEgKiBkZWx0YSAqIHRpbWUgKiB1X3R3aXJscztcXG4gICAgICBmbG9hdCBzID0gc2luKHRoZXRhKTtcXG4gICAgICBmbG9hdCBjID0gY29zKHRoZXRhKTtcXG4gICAgICBtYXQyIG1hdCA9IG1hdDIoYyxzLC1zLGMpO1xcbiAgICAgIHRjID0gbWF0ICogdGM7XFxuICAgICAgLy90YyA9IHZlYzIoZG90KHRjLCB2ZWMyKGMsIC1zKSksIGRvdCh0YywgdmVjMihzLCBjKSkpO1xcbiAgICB9XFxuXFxuICAgIHRjICs9IGNlbnRlcjtcXG4gICAgdmVjNCBjb2xvciA9IHRleHR1cmUyRCh0ZXgsIHRjKTtcXG4gICAgY29sb3IuYSA9IG1peCgwLjAsIGNvbG9yLmEsIG1pbih1X3RpbWUsIDEuMCkpO1xcbiAgICByZXR1cm4gY29sb3I7XFxuICB9XFxuXFxuICB2b2lkIG1haW4odm9pZCl7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHR3aXJsKHVfdGV4LCB2X3V2LCB1X2R1cmF0aW9uIC0gdV90aW1lKTtcXG4gIH1cXG5cIjtcblxudmFyIEdsc2xQbGF5Z3JvdW5kMjMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHbHNsUGxheWdyb3VuZDIzKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2xzbFBsYXlncm91bmQyMyk7XG5cbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBSYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgdGhpcy51bmlmb3JtcyA9IHtcbiAgICAgIC8vIExvYWQgYSB0ZXh0dXJlLlxuICAgICAgLy8gRW5kcyB1cCBiZWluZyBhIHNhbXBsZXIyRCB0eXBlLlxuICAgICAgdV90ZXh0dXJlMToge1xuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSxcbiAgICAgIHVfdGV4dHVyZTI6IHtcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH0sXG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIHVfZHVyYXRpb246IHtcbiAgICAgICAgdmFsdWU6IDIuMFxuICAgICAgfSxcbiAgICAgIHVfbW91c2U6IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLjAsXG4gICAgICAgICAgeTogMC4wXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1X3Jlc29sdXRpb246IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07IC8vIFRoZSBwbGFuZSBzaXplIHNob3VsZCBiZSB0aGUgc2FtZSBhc3BlY3QgcmF0aW8gYXMgdGhlIGltYWdlIG90aGVyd2lzZSxcbiAgICAvLyB0aGUgaW1hZ2UgZ2V0cyBzdHJldGNoZWQuXG5cbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMC42NjksIDEpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpOyAvLyBUZXh0IGZvciBzbGlkZXMuXG5cbiAgICB0aGlzLnRleHQgPSBbe1xuICAgICAgbmFtZTogXCJ0ZXN0MVwiLFxuICAgICAgdGV4dDogXCJUaGlzIGlzIHRoZSBmaXJzdCB0ZXh0XCJcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcInRlc3QyXCIsXG4gICAgICB0ZXh0OiBcIlRoaXMgaXMgdGhlIHNlY29uZCB0ZXh0XCJcbiAgICB9LCB7XG4gICAgICBuYW1lOiBcInRlc3QzXCIsXG4gICAgICB0ZXh0OiBcIlRoaXMgaXMgdGhlIHRoaXJkIHRleHRcIlxuICAgIH1dOyAvLyBBZGQgYSBzZWNvbmQgcGxhbmUgdG8gaG9sZCB0aGUgdGV4dC5cblxuICAgIHRoaXMudW5pZm9ybXMyID0ge1xuICAgICAgdV90aW1lOiB7XG4gICAgICAgIHZhbHVlOiAwLjBcbiAgICAgIH0sXG4gICAgICB1X2R1cmF0aW9uOiB7XG4gICAgICAgIHZhbHVlOiAwLjdcbiAgICAgIH0sXG4gICAgICB1X3R3aXJsczoge1xuICAgICAgICB2YWx1ZTogNFxuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5tYXRlcmlhbDIgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMyLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgLy8gTm9ybWFsIHRleHRcbiAgICAgIC8vIGZyYWdtZW50U2hhZGVyOiB0ZXh0RnJhZ1NoYWRlcixcbiAgICAgIGZyYWdtZW50U2hhZGVyOiB0ZXh0RnJhZ1NoYWRlcjIsXG4gICAgICB0cmFuc3BhcmVudDogdHJ1ZVxuICAgIH0pO1xuICAgIHZhciBjb25maWcgPSB7XG4gICAgICBmb250OiAnSm9zZWZpbiBTYW5zJyxcbiAgICAgIHNpemU6IDE2LFxuICAgICAgaDFzaXplOiAzMCxcbiAgICAgIHBhZGRpbmc6IDEwLFxuICAgICAgY29sb3VyOiAnI2ZmZicsXG4gICAgICB3aWR0aDogNTEyLFxuICAgICAgaGVpZ2h0OiAyNTYsXG4gICAgICB6cG9zOiAwLjAwNSxcbiAgICAgIHBsYW5lc2l6ZToge1xuICAgICAgICB3aWR0aDogMSxcbiAgICAgICAgaGVpZ2h0OiAwLjVcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuY2FudmFzVGV4dCA9IG5ldyBDYW52YXNUZXh0KHRoaXMuc2NlbmUsIHRoaXMudGV4dFsxXSwgY29uZmlnLCB0aGlzLm1hdGVyaWFsMik7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDE7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gICAgdGhpcy5zbGlkZUluZGV4ID0gMDtcbiAgICB0aGlzLnRleHR1cmVzID0gW25ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCgnLi9wdWJsaWMvcmFuZG9tLmpwZycpLCBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoJy4vcHVibGljL3JhbmRvbTIuanBnJyksIG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCgnLi9wdWJsaWMvcmFuZG9tMy5qcGcnKV07IC8vIEZha2UgYSBzbGlkZXNob3cgZm9yIG5vdy5cblxuICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNsaWRlSW5kZXgrKztcblxuICAgICAgX3RoaXMuZGlzcGxheUluZGV4KCk7XG4gICAgfSwgMzAwMCk7XG4gICAgdGhpcy5kaXNwbGF5SW5kZXgoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhHbHNsUGxheWdyb3VuZDIzLCBbe1xuICAgIGtleTogXCJkaXNwbGF5SW5kZXhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGxheUluZGV4KCkge1xuICAgICAgLy8gUmVzZXQgdGhlIHRpbWUgdmFsdWUuXG4gICAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSA9IDA7XG4gICAgICB0aGlzLnVuaWZvcm1zMi51X3RpbWUudmFsdWUgPSAwO1xuICAgICAgdGhpcy5jYW52YXNUZXh0LnVwZGF0ZSh0aGlzLnRleHRbdGhpcy5zbGlkZUluZGV4XSk7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfdGV4dHVyZTEudmFsdWUgPSB0aGlzLnRleHR1cmVzW3RoaXMuc2xpZGVJbmRleF07XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfdGV4dHVyZTIudmFsdWUgPSB0aGlzLnRleHR1cmVzW3RoaXMuc2xpZGVJbmRleCArIDFdO1xuXG4gICAgICBpZiAodGhpcy5zbGlkZUluZGV4ID49IHRoaXMudGV4dHVyZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVfdGV4dHVyZTEudmFsdWUgPSB0aGlzLnRleHR1cmVzW3RoaXMuc2xpZGVJbmRleF07XG4gICAgICAgIHRoaXMudW5pZm9ybXMudV90ZXh0dXJlMi52YWx1ZSA9IHRoaXMudGV4dHVyZXNbMF07XG4gICAgICAgIHRoaXMuc2xpZGVJbmRleCA9IC0xO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyh0aGlzLnNsaWRlSW5kZXgpO1xuICAgICAgY29uc29sZS5sb2codGhpcy51bmlmb3Jtcy51X3RleHR1cmUxLnZhbHVlKTtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMudW5pZm9ybXMudV90ZXh0dXJlMi52YWx1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgdmFyIGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB2YXIgd2lkdGgsIGhlaWdodDtcblxuICAgICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgICAgd2lkdGggPSAxO1xuICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgICAgaGVpZ2h0ID0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIHRoaXMuY2FudmFzVGV4dC5wb3NpdGlvblRleHQodGhpcy5jYW1lcmEsIHtcbiAgICAgICAgYm90dG9tOiAwLjFcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbk1vdXNlTW92ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1vdXNlTW92ZShldnQpIHtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS54ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZ0LmNsaWVudFg7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueSA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2dC5jbGllbnRZO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJhZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJhZigpIHtcbiAgICAgIHZhciBkZWx0YSA9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuXG4gICAgICBpZiAodGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgPCB0aGlzLnVuaWZvcm1zLnVfZHVyYXRpb24udmFsdWUpIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgKz0gZGVsdGE7XG4gICAgICAgIHRoaXMudW5pZm9ybXMyLnVfdGltZS52YWx1ZSArPSBkZWx0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlID0gdGhpcy51bmlmb3Jtcy51X2R1cmF0aW9uLnZhbHVlO1xuICAgICAgICB0aGlzLnVuaWZvcm1zMi51X3RpbWUudmFsdWUgPSB0aGlzLnVuaWZvcm1zMi51X2R1cmF0aW9uLnZhbHVlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEdsc2xQbGF5Z3JvdW5kMjM7XG59KCk7XG5cbmV4cG9ydCB7IEdsc2xQbGF5Z3JvdW5kMjMgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground23.js\n");

/***/ }),

/***/ "./examples/glsl-playground24.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground24.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground24; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/shaders/three-shader-chunks/degu-mathf */ \"./lib/shaders/three-shader-chunks/degu-mathf.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n//\n//https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739152#questions/8753186\n//\n\n\n\n // Import shader chunks\n\n\nObject(_lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_4__[\"deguMathf\"])(three__WEBPACK_IMPORTED_MODULE_0__);\nvar vshader = \"\\n#include <deguMathf>\\nuniform float u_time;\\nuniform float u_radius;\\n\\nvoid main() {\\n  // Normalize time with sin.\\n  float delta = normalizedSin(u_time);\\n\\n  // Sphere positions.\\n  vec3 sphere = normalize(position) * u_radius;\\n\\n  // Mix between square box and sphere.\\n  vec3 pos = mix(position, sphere, delta);\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( pos, 1.0 );\\n}\\n\";\nvar fshader = \"\\nvoid main()\\n{\\n  vec3 color = vec3(0.5);\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";\nwindow.THREE = three__WEBPACK_IMPORTED_MODULE_0__;\n\nvar GlslPlayground24 = /*#__PURE__*/function () {\n  function GlslPlayground24() {\n    _classCallCheck(this, GlslPlayground24);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]();\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"PerspectiveCamera\"](45, window.innerWidth / window.innerHeight, 1, 1000);\n    this.camera.position.z = 100;\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_time: {\n        value: 0.0\n      },\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      },\n      u_radius: {\n        value: 20.0\n      }\n    };\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](30, 30, 30, 10, 10, 10);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader,\n      wireframe: true\n    });\n    this.ball = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.ball);\n    this.controls = new three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_1__[\"OrbitControls\"](this.camera, this.renderer.domElement);\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground24, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground24;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyNC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDI0LmpzP2VhODAiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy9cbi8vaHR0cHM6Ly93d3cudWRlbXkuY29tL2NvdXJzZS9sZWFybi1nbHNsLXNoYWRlcnMtZnJvbS1zY3JhdGNoL2xlYXJuL2xlY3R1cmUvMTM3MzkxNTIjcXVlc3Rpb25zLzg3NTMxODZcbi8vXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBPcmJpdENvbnRyb2xzIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2NvbnRyb2xzL09yYml0Q29udHJvbHMnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInOyAvLyBJbXBvcnQgc2hhZGVyIGNodW5rc1xuXG5pbXBvcnQgeyBkZWd1TWF0aGYgfSBmcm9tICcuLi9saWIvc2hhZGVycy90aHJlZS1zaGFkZXItY2h1bmtzL2RlZ3UtbWF0aGYnO1xuZGVndU1hdGhmKFRIUkVFKTtcbnZhciB2c2hhZGVyID0gXCJcXG4jaW5jbHVkZSA8ZGVndU1hdGhmPlxcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xcbnVuaWZvcm0gZmxvYXQgdV9yYWRpdXM7XFxuXFxudm9pZCBtYWluKCkge1xcbiAgLy8gTm9ybWFsaXplIHRpbWUgd2l0aCBzaW4uXFxuICBmbG9hdCBkZWx0YSA9IG5vcm1hbGl6ZWRTaW4odV90aW1lKTtcXG5cXG4gIC8vIFNwaGVyZSBwb3NpdGlvbnMuXFxuICB2ZWMzIHNwaGVyZSA9IG5vcm1hbGl6ZShwb3NpdGlvbikgKiB1X3JhZGl1cztcXG5cXG4gIC8vIE1peCBiZXR3ZWVuIHNxdWFyZSBib3ggYW5kIHNwaGVyZS5cXG4gIHZlYzMgcG9zID0gbWl4KHBvc2l0aW9uLCBzcGhlcmUsIGRlbHRhKTtcXG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIHBvcywgMS4wICk7XFxufVxcblwiO1xudmFyIGZzaGFkZXIgPSBcIlxcbnZvaWQgbWFpbigpXFxue1xcbiAgdmVjMyBjb2xvciA9IHZlYzMoMC41KTtcXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XFxufVxcblwiO1xud2luZG93LlRIUkVFID0gVEhSRUU7XG5cbnZhciBHbHNsUGxheWdyb3VuZDI0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2xzbFBsYXlncm91bmQyNCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2xzbFBsYXlncm91bmQyNCk7XG5cbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNDUsIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LCAxLCAxMDAwKTtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID0gMTAwO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdtb3VzZW1vdmUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKVxuICAgIH0pO1xuICAgIHRoaXMudW5pZm9ybXMgPSB7XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIHVfbW91c2U6IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLjAsXG4gICAgICAgICAgeTogMC4wXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1X3Jlc29sdXRpb246IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVfcmFkaXVzOiB7XG4gICAgICAgIHZhbHVlOiAyMC4wXG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDMwLCAzMCwgMzAsIDEwLCAxMCwgMTApO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlcixcbiAgICAgIHdpcmVmcmFtZTogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuYmFsbCA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuYmFsbCk7XG4gICAgdGhpcy5jb250cm9scyA9IG5ldyBPcmJpdENvbnRyb2xzKHRoaXMuY2FtZXJhLCB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEdsc2xQbGF5Z3JvdW5kMjQsIFt7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgdmFyIGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB2YXIgd2lkdGgsIGhlaWdodDtcblxuICAgICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgICAgd2lkdGggPSAxO1xuICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgICAgaGVpZ2h0ID0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3VzZU1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoZGVsdGEpIHtcbiAgICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHbHNsUGxheWdyb3VuZDI0O1xufSgpO1xuXG5leHBvcnQgeyBHbHNsUGxheWdyb3VuZDI0IGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/glsl-playground24.js\n");

/***/ }),

/***/ "./examples/glsl-playground25.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground25.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground24; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/shaders/three-shader-chunks/degu-mathf */ \"./lib/shaders/three-shader-chunks/degu-mathf.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739206#questions/8753186\n//\n\n\n\n // Import shader chunks\n\n\nObject(_lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_4__[\"deguMathf\"])(three__WEBPACK_IMPORTED_MODULE_0__);\nvar vshader = \"\\n#include <deguMathf>\\n// PI\\u306E\\u5B9A\\u7FA9\\u306A\\u3069\\u304C\\u3042\\u308A\\u3001\\u30E9\\u30A4\\u30C8\\u60C5\\u5831\\u3092\\u4F7F\\u3046\\u306E\\u306B\\u5FC5\\u8981\\n#include <common>\\n// \\u30E9\\u30A4\\u30C8\\u306E\\u69CB\\u9020\\u4F53\\u3001uniform\\u5909\\u6570\\u306A\\u3069\\u304C\\u5B9A\\u7FA9\\u3055\\u308C\\u3066\\u3044\\u308B\\n#include <lights_pars_begin>\\n\\nuniform float u_time;\\nuniform float u_radius;\\n\\nvarying vec3 vPosition;\\nvarying vec3 vLightIntensity;\\n\\n\\nvoid main() {\\n  float delta = normalizedSin(u_time) * 3.0;\\n  vec3 vLightFront;\\n  vec3 vLightBack;\\n  vec3 vIndirectFront;\\n  vec3 objectNormal = delta * normal + (1.0 - delta) * normalize(position);\\n\\n  #include <defaultnormal_vertex>\\n  #include <begin_vertex>\\n  #include <project_vertex>\\n  #include <lights_lambert_vertex>\\n\\n\\n\\n  // Get a varying light color for each pixel.\\n  vLightIntensity = vLightFront + ambientLightColor;\\n  vPosition = position;\\n\\n  vec3 v = normalize(position) * u_radius;\\n  vec3 pos = delta * position + (1.0 - delta) * v;\\n\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( pos, 1.0 );\\n}\\n\";\nvar fshader = \"\\nvarying vec3 vLightIntensity;\\nvoid main()\\n{\\n  vec3 color = vec3(0.5);\\n  gl_FragColor = vec4(vLightIntensity * color, 1.0);\\n}\\n\";\n\nvar GlslPlayground24 = /*#__PURE__*/function () {\n  function GlslPlayground24() {\n    _classCallCheck(this, GlslPlayground24);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]();\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"PerspectiveCamera\"](45, window.innerWidth / window.innerHeight, 1, 10000);\n    this.camera.position.z = 100; // Add some lights.\n\n    var ambient = new three__WEBPACK_IMPORTED_MODULE_0__[\"HemisphereLight\"](0xFFFFFF, 0xFFFFFF, 1);\n    var light = new three__WEBPACK_IMPORTED_MODULE_0__[\"DirectionalLight\"](0xFFFFFF, 1);\n    light.position.set(0, 6, 2);\n    this.scene.add(ambient);\n    this.scene.add(light);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](30, 30, 30, 10, 10, 10);\n    this.uniforms = three__WEBPACK_IMPORTED_MODULE_0__[\"UniformsUtils\"].merge([three__WEBPACK_IMPORTED_MODULE_0__[\"UniformsLib\"][\"common\"], three__WEBPACK_IMPORTED_MODULE_0__[\"UniformsLib\"][\"lights\"]]);\n    this.uniforms.u_time = {\n      value: 0.0\n    };\n    this.uniforms.u_mouse = {\n      value: {\n        x: 0.0,\n        y: 0.0\n      }\n    };\n    this.uniforms.u_resolution = {\n      value: {\n        x: 0,\n        y: 0\n      }\n    };\n    this.uniforms.u_radius = {\n      value: 20.0\n    };\n    console.log('uniforms');\n    console.log(this.uniforms);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader,\n      lights: true\n    });\n    var material1 = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({\n      color: 0xb7ff00,\n      wireframe: true\n    });\n    this.ball = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.ball);\n    this.controls = new three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_1__[\"OrbitControls\"](this.camera, this.renderer.domElement);\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground24, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground24;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyNS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDI1LmpzPzdhNjciXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy9cbi8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MjA2I3F1ZXN0aW9ucy84NzUzMTg2XG4vL1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9saWIvZG9tL2RvbS13YXRjaGVyJzsgLy8gSW1wb3J0IHNoYWRlciBjaHVua3NcblxuaW1wb3J0IHsgZGVndU1hdGhmIH0gZnJvbSAnLi4vbGliL3NoYWRlcnMvdGhyZWUtc2hhZGVyLWNodW5rcy9kZWd1LW1hdGhmJztcbmRlZ3VNYXRoZihUSFJFRSk7XG52YXIgdnNoYWRlciA9IFwiXFxuI2luY2x1ZGUgPGRlZ3VNYXRoZj5cXG4vLyBQSVxcdTMwNkVcXHU1QjlBXFx1N0ZBOVxcdTMwNkFcXHUzMDY5XFx1MzA0Q1xcdTMwNDJcXHUzMDhBXFx1MzAwMVxcdTMwRTlcXHUzMEE0XFx1MzBDOFxcdTYwQzVcXHU1ODMxXFx1MzA5MlxcdTRGN0ZcXHUzMDQ2XFx1MzA2RVxcdTMwNkJcXHU1RkM1XFx1ODk4MVxcbiNpbmNsdWRlIDxjb21tb24+XFxuLy8gXFx1MzBFOVxcdTMwQTRcXHUzMEM4XFx1MzA2RVxcdTY5Q0JcXHU5MDIwXFx1NEY1M1xcdTMwMDF1bmlmb3JtXFx1NTkwOVxcdTY1NzBcXHUzMDZBXFx1MzA2OVxcdTMwNENcXHU1QjlBXFx1N0ZBOVxcdTMwNTVcXHUzMDhDXFx1MzA2NlxcdTMwNDRcXHUzMDhCXFxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxcblxcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xcbnVuaWZvcm0gZmxvYXQgdV9yYWRpdXM7XFxuXFxudmFyeWluZyB2ZWMzIHZQb3NpdGlvbjtcXG52YXJ5aW5nIHZlYzMgdkxpZ2h0SW50ZW5zaXR5O1xcblxcblxcbnZvaWQgbWFpbigpIHtcXG4gIGZsb2F0IGRlbHRhID0gbm9ybWFsaXplZFNpbih1X3RpbWUpICogMy4wO1xcbiAgdmVjMyB2TGlnaHRGcm9udDtcXG4gIHZlYzMgdkxpZ2h0QmFjaztcXG4gIHZlYzMgdkluZGlyZWN0RnJvbnQ7XFxuICB2ZWMzIG9iamVjdE5vcm1hbCA9IGRlbHRhICogbm9ybWFsICsgKDEuMCAtIGRlbHRhKSAqIG5vcm1hbGl6ZShwb3NpdGlvbik7XFxuXFxuICAjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+XFxuICAjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxcbiAgI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxcbiAgI2luY2x1ZGUgPGxpZ2h0c19sYW1iZXJ0X3ZlcnRleD5cXG5cXG5cXG5cXG4gIC8vIEdldCBhIHZhcnlpbmcgbGlnaHQgY29sb3IgZm9yIGVhY2ggcGl4ZWwuXFxuICB2TGlnaHRJbnRlbnNpdHkgPSB2TGlnaHRGcm9udCArIGFtYmllbnRMaWdodENvbG9yO1xcbiAgdlBvc2l0aW9uID0gcG9zaXRpb247XFxuXFxuICB2ZWMzIHYgPSBub3JtYWxpemUocG9zaXRpb24pICogdV9yYWRpdXM7XFxuICB2ZWMzIHBvcyA9IGRlbHRhICogcG9zaXRpb24gKyAoMS4wIC0gZGVsdGEpICogdjtcXG5cXG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIHBvcywgMS4wICk7XFxufVxcblwiO1xudmFyIGZzaGFkZXIgPSBcIlxcbnZhcnlpbmcgdmVjMyB2TGlnaHRJbnRlbnNpdHk7XFxudm9pZCBtYWluKClcXG57XFxuICB2ZWMzIGNvbG9yID0gdmVjMygwLjUpO1xcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNCh2TGlnaHRJbnRlbnNpdHkgKiBjb2xvciwgMS4wKTtcXG59XFxuXCI7XG5cbnZhciBHbHNsUGxheWdyb3VuZDI0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2xzbFBsYXlncm91bmQyNCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2xzbFBsYXlncm91bmQyNCk7XG5cbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNDUsIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LCAxLCAxMDAwMCk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDEwMDsgLy8gQWRkIHNvbWUgbGlnaHRzLlxuXG4gICAgdmFyIGFtYmllbnQgPSBuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KDB4RkZGRkZGLCAweEZGRkZGRiwgMSk7XG4gICAgdmFyIGxpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhGRkZGRkYsIDEpO1xuICAgIGxpZ2h0LnBvc2l0aW9uLnNldCgwLCA2LCAyKTtcbiAgICB0aGlzLnNjZW5lLmFkZChhbWJpZW50KTtcbiAgICB0aGlzLnNjZW5lLmFkZChsaWdodCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBSYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgzMCwgMzAsIDMwLCAxMCwgMTAsIDEwKTtcbiAgICB0aGlzLnVuaWZvcm1zID0gVEhSRUUuVW5pZm9ybXNVdGlscy5tZXJnZShbVEhSRUUuVW5pZm9ybXNMaWJbXCJjb21tb25cIl0sIFRIUkVFLlVuaWZvcm1zTGliW1wibGlnaHRzXCJdXSk7XG4gICAgdGhpcy51bmlmb3Jtcy51X3RpbWUgPSB7XG4gICAgICB2YWx1ZTogMC4wXG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UgPSB7XG4gICAgICB2YWx1ZToge1xuICAgICAgICB4OiAwLjAsXG4gICAgICAgIHk6IDAuMFxuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24gPSB7XG4gICAgICB2YWx1ZToge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwXG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmFkaXVzID0ge1xuICAgICAgdmFsdWU6IDIwLjBcbiAgICB9O1xuICAgIGNvbnNvbGUubG9nKCd1bmlmb3JtcycpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMudW5pZm9ybXMpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlcixcbiAgICAgIGxpZ2h0czogdHJ1ZVxuICAgIH0pO1xuICAgIHZhciBtYXRlcmlhbDEgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgY29sb3I6IDB4YjdmZjAwLFxuICAgICAgd2lyZWZyYW1lOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5iYWxsID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5iYWxsKTtcbiAgICB0aGlzLmNvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHModGhpcy5jYW1lcmEsIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoR2xzbFBsYXlncm91bmQyNCwgW3tcbiAgICBrZXk6IFwib25SZXNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SZXNpemUoKSB7XG4gICAgICB2YXIgYXNwZWN0UmF0aW8gPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIHZhciB3aWR0aCwgaGVpZ2h0O1xuXG4gICAgICBpZiAoYXNwZWN0UmF0aW8gPj0gMSkge1xuICAgICAgICB3aWR0aCA9IDE7XG4gICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAvIHdpbmRvdy5pbm5lcldpZHRoICogd2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aWR0aCA9IGFzcGVjdFJhdGlvO1xuICAgICAgICBoZWlnaHQgPSAxO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNhbWVyYS5sZWZ0ID0gLXdpZHRoO1xuICAgICAgdGhpcy5jYW1lcmEucmlnaHQgPSB3aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnRvcCA9IGhlaWdodDtcbiAgICAgIHRoaXMuY2FtZXJhLmJvdHRvbSA9IC1oZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS54ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS55ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbk1vdXNlTW92ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1vdXNlTW92ZShldnQpIHtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS54ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZ0LmNsaWVudFg7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueSA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2dC5jbGllbnRZO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJhZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJhZihkZWx0YSkge1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgKz0gdGhpcy5yYWYuZ2V0RGVsdGEodHJ1ZSk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEdsc2xQbGF5Z3JvdW5kMjQ7XG59KCk7XG5cbmV4cG9ydCB7IEdsc2xQbGF5Z3JvdW5kMjQgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground25.js\n");

/***/ }),

/***/ "./examples/glsl-playground26.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground26.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground26; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/shaders/three-shader-chunks/degu-mathf */ \"./lib/shaders/three-shader-chunks/degu-mathf.js\");\n/* harmony import */ var _lib_shaders_three_shader_chunks_noise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/shaders/three-shader-chunks/noise */ \"./lib/shaders/three-shader-chunks/noise.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739196#questions/8753186\n// https://www.clicktorelease.com/blog/vertex-displacement-noise-3d-webgl-glsl-three-js/\n// https://codepen.io/nik-lever/pen/PLYRWm\n\n\n\n // Import shader chunks\n\n\nObject(_lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_4__[\"deguMathf\"])(three__WEBPACK_IMPORTED_MODULE_0__);\n\nObject(_lib_shaders_three_shader_chunks_noise__WEBPACK_IMPORTED_MODULE_5__[\"noise\"])(three__WEBPACK_IMPORTED_MODULE_0__);\nvar vshader = \"\\n#include <noise>\\n#include <deguMathf>\\nuniform float u_time;\\n\\nvarying float v_noise;\\nvarying vec2 vUv;\\nvoid main() {\\n\\n\\n    // \\u666E\\u901A\\u306B\\u3053\\u308C\\u3067\\u3082\\u3044\\u3044\\u304C\\u30B5\\u30F3\\u30D7\\u30EB\\u7528\\u306B\\u30CE\\u30FC\\u30DE\\u30EB\\u3092\\u4E0B\\u8A18\\u3067\\u3057\\u3088\\u3046\\n    // Uneune ball poi\\n    // float arms = 0.05;\\n    // float b = 5.0 * pnoise (arms * position + u_time, vec3(100.0));\\n\\n    // Spike\\n    // float b = pnoise (position + u_time, vec3(100.0)) * 5.0;\\n\\n    // Breathing\\n    float arms = 0.032;\\n    v_noise = 5.0 * -0.1 * turbulence(0.5 * normal + u_time * 0.2);\\n    float b = pnoise (arms * position + u_time, vec3(100.0)) * ((normalizedSin(u_time * 0.5) + 1.0) * 10.0);\\n    float displacement = b - 10.0 * v_noise;\\n\\n    // Calculate a displancement amount with normal.\\n    // https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739196#questions/8753186\\n    // v_noise = 10.0 * -0.1 * turbulence(0.5 * normal + u_time);\\n    // float b = 5.0 * pnoise (0.05 * position, vec3(100.0));\\n    // float displacement = b - 10.0 * v_noise;\\n\\n    vec3 pos = position + normal * displacement;\\n    vUv = uv;\\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( pos, 1.0 );\\n}\\n\";\nvar fshader = \"\\n#define PI 3.141592653589\\n#define PI2 6.28318530718\\n\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec3 u_color;\\n\\nvarying vec2 vUv;\\nvarying float v_noise;\\nvoid main()\\n{\\n  // We use the varying v_noise to cange the colors.\\n  vec3 color = vec3(vUv * (1.0 - 2.0 * v_noise), 0.0);\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground26 = /*#__PURE__*/function () {\n  function GlslPlayground26() {\n    _classCallCheck(this, GlslPlayground26);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]();\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"PerspectiveCamera\"](45, window.innerWidth / window.innerHeight, 1, 10000);\n    this.camera.position.z = 100; // Add some lights.\n\n    var ambient = new three__WEBPACK_IMPORTED_MODULE_0__[\"HemisphereLight\"](0xFFFFFF, 0xFFFFFF, 1);\n    var light = new three__WEBPACK_IMPORTED_MODULE_0__[\"DirectionalLight\"](0xFFFFFF, 1);\n    light.position.set(0, 6, 2);\n    this.scene.add(ambient);\n    this.scene.add(light);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"IcosahedronGeometry\"](20, 4);\n    this.uniforms = {\n      u_time: {\n        value: 0.0\n      },\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      },\n      u_color: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xb7ff00)\n      }\n    };\n    console.log('uniforms');\n    console.log(this.uniforms);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader // wireframe: true\n\n    });\n    this.ball = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.ball);\n    this.controls = new three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_1__[\"OrbitControls\"](this.camera, this.renderer.domElement);\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground26, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      if (this.uniforms) {\n        this.uniforms.u_time.value += this.raf.getDelta(true);\n      }\n\n      if (this.renderer) {\n        this.renderer.render(this.scene, this.camera);\n      }\n    }\n  }]);\n\n  return GlslPlayground26;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyNi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDI2LmpzPzRkNTgiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy8gaHR0cHM6Ly93d3cudWRlbXkuY29tL2NvdXJzZS9sZWFybi1nbHNsLXNoYWRlcnMtZnJvbS1zY3JhdGNoL2xlYXJuL2xlY3R1cmUvMTM3MzkxOTYjcXVlc3Rpb25zLzg3NTMxODZcbi8vIGh0dHBzOi8vd3d3LmNsaWNrdG9yZWxlYXNlLmNvbS9ibG9nL3ZlcnRleC1kaXNwbGFjZW1lbnQtbm9pc2UtM2Qtd2ViZ2wtZ2xzbC10aHJlZS1qcy9cbi8vIGh0dHBzOi8vY29kZXBlbi5pby9uaWstbGV2ZXIvcGVuL1BMWVJXbVxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9saWIvZG9tL2RvbS13YXRjaGVyJzsgLy8gSW1wb3J0IHNoYWRlciBjaHVua3NcblxuaW1wb3J0IHsgZGVndU1hdGhmIH0gZnJvbSAnLi4vbGliL3NoYWRlcnMvdGhyZWUtc2hhZGVyLWNodW5rcy9kZWd1LW1hdGhmJztcbmRlZ3VNYXRoZihUSFJFRSk7XG5pbXBvcnQgeyBub2lzZSB9IGZyb20gJy4uL2xpYi9zaGFkZXJzL3RocmVlLXNoYWRlci1jaHVua3Mvbm9pc2UnO1xubm9pc2UoVEhSRUUpO1xudmFyIHZzaGFkZXIgPSBcIlxcbiNpbmNsdWRlIDxub2lzZT5cXG4jaW5jbHVkZSA8ZGVndU1hdGhmPlxcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xcblxcbnZhcnlpbmcgZmxvYXQgdl9ub2lzZTtcXG52YXJ5aW5nIHZlYzIgdlV2O1xcbnZvaWQgbWFpbigpIHtcXG5cXG5cXG4gICAgLy8gXFx1NjY2RVxcdTkwMUFcXHUzMDZCXFx1MzA1M1xcdTMwOENcXHUzMDY3XFx1MzA4MlxcdTMwNDRcXHUzMDQ0XFx1MzA0Q1xcdTMwQjVcXHUzMEYzXFx1MzBEN1xcdTMwRUJcXHU3NTI4XFx1MzA2QlxcdTMwQ0VcXHUzMEZDXFx1MzBERVxcdTMwRUJcXHUzMDkyXFx1NEUwQlxcdThBMThcXHUzMDY3XFx1MzA1N1xcdTMwODhcXHUzMDQ2XFxuICAgIC8vIFVuZXVuZSBiYWxsIHBvaVxcbiAgICAvLyBmbG9hdCBhcm1zID0gMC4wNTtcXG4gICAgLy8gZmxvYXQgYiA9IDUuMCAqIHBub2lzZSAoYXJtcyAqIHBvc2l0aW9uICsgdV90aW1lLCB2ZWMzKDEwMC4wKSk7XFxuXFxuICAgIC8vIFNwaWtlXFxuICAgIC8vIGZsb2F0IGIgPSBwbm9pc2UgKHBvc2l0aW9uICsgdV90aW1lLCB2ZWMzKDEwMC4wKSkgKiA1LjA7XFxuXFxuICAgIC8vIEJyZWF0aGluZ1xcbiAgICBmbG9hdCBhcm1zID0gMC4wMzI7XFxuICAgIHZfbm9pc2UgPSA1LjAgKiAtMC4xICogdHVyYnVsZW5jZSgwLjUgKiBub3JtYWwgKyB1X3RpbWUgKiAwLjIpO1xcbiAgICBmbG9hdCBiID0gcG5vaXNlIChhcm1zICogcG9zaXRpb24gKyB1X3RpbWUsIHZlYzMoMTAwLjApKSAqICgobm9ybWFsaXplZFNpbih1X3RpbWUgKiAwLjUpICsgMS4wKSAqIDEwLjApO1xcbiAgICBmbG9hdCBkaXNwbGFjZW1lbnQgPSBiIC0gMTAuMCAqIHZfbm9pc2U7XFxuXFxuICAgIC8vIENhbGN1bGF0ZSBhIGRpc3BsYW5jZW1lbnQgYW1vdW50IHdpdGggbm9ybWFsLlxcbiAgICAvLyBodHRwczovL3d3dy51ZGVteS5jb20vY291cnNlL2xlYXJuLWdsc2wtc2hhZGVycy1mcm9tLXNjcmF0Y2gvbGVhcm4vbGVjdHVyZS8xMzczOTE5NiNxdWVzdGlvbnMvODc1MzE4NlxcbiAgICAvLyB2X25vaXNlID0gMTAuMCAqIC0wLjEgKiB0dXJidWxlbmNlKDAuNSAqIG5vcm1hbCArIHVfdGltZSk7XFxuICAgIC8vIGZsb2F0IGIgPSA1LjAgKiBwbm9pc2UgKDAuMDUgKiBwb3NpdGlvbiwgdmVjMygxMDAuMCkpO1xcbiAgICAvLyBmbG9hdCBkaXNwbGFjZW1lbnQgPSBiIC0gMTAuMCAqIHZfbm9pc2U7XFxuXFxuICAgIHZlYzMgcG9zID0gcG9zaXRpb24gKyBub3JtYWwgKiBkaXNwbGFjZW1lbnQ7XFxuICAgIHZVdiA9IHV2O1xcbiAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3MsIDEuMCApO1xcbn1cXG5cIjtcbnZhciBmc2hhZGVyID0gXCJcXG4jZGVmaW5lIFBJIDMuMTQxNTkyNjUzNTg5XFxuI2RlZmluZSBQSTIgNi4yODMxODUzMDcxOFxcblxcbnVuaWZvcm0gdmVjMiB1X21vdXNlO1xcbnVuaWZvcm0gdmVjMiB1X3Jlc29sdXRpb247XFxudW5pZm9ybSBmbG9hdCB1X3RpbWU7XFxudW5pZm9ybSB2ZWMzIHVfY29sb3I7XFxuXFxudmFyeWluZyB2ZWMyIHZVdjtcXG52YXJ5aW5nIGZsb2F0IHZfbm9pc2U7XFxudm9pZCBtYWluKClcXG57XFxuICAvLyBXZSB1c2UgdGhlIHZhcnlpbmcgdl9ub2lzZSB0byBjYW5nZSB0aGUgY29sb3JzLlxcbiAgdmVjMyBjb2xvciA9IHZlYzModlV2ICogKDEuMCAtIDIuMCAqIHZfbm9pc2UpLCAwLjApO1xcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcXG59XFxuXCI7XG5cbnZhciBHbHNsUGxheWdyb3VuZDI2ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2xzbFBsYXlncm91bmQyNigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2xzbFBsYXlncm91bmQyNik7XG5cbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNDUsIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LCAxLCAxMDAwMCk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDEwMDsgLy8gQWRkIHNvbWUgbGlnaHRzLlxuXG4gICAgdmFyIGFtYmllbnQgPSBuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KDB4RkZGRkZGLCAweEZGRkZGRiwgMSk7XG4gICAgdmFyIGxpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhGRkZGRkYsIDEpO1xuICAgIGxpZ2h0LnBvc2l0aW9uLnNldCgwLCA2LCAyKTtcbiAgICB0aGlzLnNjZW5lLmFkZChhbWJpZW50KTtcbiAgICB0aGlzLnNjZW5lLmFkZChsaWdodCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBSYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5JY29zYWhlZHJvbkdlb21ldHJ5KDIwLCA0KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgdV90aW1lOiB7XG4gICAgICAgIHZhbHVlOiAwLjBcbiAgICAgIH0sXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1X2NvbG9yOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHhiN2ZmMDApXG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zb2xlLmxvZygndW5pZm9ybXMnKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnVuaWZvcm1zKTtcbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXIgLy8gd2lyZWZyYW1lOiB0cnVlXG5cbiAgICB9KTtcbiAgICB0aGlzLmJhbGwgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmJhbGwpO1xuICAgIHRoaXMuY29udHJvbHMgPSBuZXcgT3JiaXRDb250cm9scyh0aGlzLmNhbWVyYSwgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhHbHNsUGxheWdyb3VuZDI2LCBbe1xuICAgIGtleTogXCJvblJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgICAgIHZhciBhc3BlY3RSYXRpbyA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgdmFyIHdpZHRoLCBoZWlnaHQ7XG5cbiAgICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxKSB7XG4gICAgICAgIHdpZHRoID0gMTtcbiAgICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGggKiB3aWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpZHRoID0gYXNwZWN0UmF0aW87XG4gICAgICAgIGhlaWdodCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FtZXJhLmxlZnQgPSAtd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS5yaWdodCA9IHdpZHRoO1xuICAgICAgdGhpcy5jYW1lcmEudG9wID0gaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEuYm90dG9tID0gLWhlaWdodDtcbiAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uTW91c2VNb3ZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGV2dCkge1xuICAgICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnggPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFggOiBldnQuY2xpZW50WDtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS55ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZ0LmNsaWVudFk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUmFmXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmFmKGRlbHRhKSB7XG4gICAgICBpZiAodGhpcy51bmlmb3Jtcykge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSB0aGlzLnJhZi5nZXREZWx0YSh0cnVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHbHNsUGxheWdyb3VuZDI2O1xufSgpO1xuXG5leHBvcnQgeyBHbHNsUGxheWdyb3VuZDI2IGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/glsl-playground26.js\n");

/***/ }),

/***/ "./examples/glsl-playground27.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground27.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground27; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/shaders/three-shader-chunks/degu-mathf */ \"./lib/shaders/three-shader-chunks/degu-mathf.js\");\n/* harmony import */ var _lib_shaders_three_shader_chunks_noise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/shaders/three-shader-chunks/noise */ \"./lib/shaders/three-shader-chunks/noise.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739196#questions/8753186\n// https://www.clicktorelease.com/blog/vertex-displacement-noise-3d-webgl-glsl-three-js/\n// https://codepen.io/nik-lever/pen/PLYRWm\n\n\n\n // Import shader chunks\n\n\nObject(_lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_4__[\"deguMathf\"])(three__WEBPACK_IMPORTED_MODULE_0__);\n\nObject(_lib_shaders_three_shader_chunks_noise__WEBPACK_IMPORTED_MODULE_5__[\"noise\"])(three__WEBPACK_IMPORTED_MODULE_0__);\nvar vshader = \"\\n#include <noise>\\n#include <deguMathf>\\nuniform float u_time;\\n\\nvarying float v_noise;\\nvarying vec2 vUv;\\nvoid main() {\\n\\n\\n    // \\u666E\\u901A\\u306B\\u3053\\u308C\\u3067\\u3082\\u3044\\u3044\\u304C\\u30B5\\u30F3\\u30D7\\u30EB\\u7528\\u306B\\u30CE\\u30FC\\u30DE\\u30EB\\u3092\\u4E0B\\u8A18\\u3067\\u3057\\u3088\\u3046\\n    // Uneune ball poi\\n    // float arms = 0.05;\\n    // float b = 5.0 * pnoise (arms * position + u_time, vec3(100.0));\\n\\n    // Spike\\n    // float b = pnoise (position + u_time, vec3(100.0)) * 5.0;\\n\\n    // Breathing\\n    float arms = 0.032;\\n    v_noise = 10.0 * -0.1 * turbulence(0.5 * normal + u_time * 0.2);\\n    float b = pnoise (arms * position + u_time, vec3(100.0)) * ((normalizedSin(u_time * 0.5) + 1.0) * 10.0);\\n    float displacement = b - 10.0 * v_noise;\\n\\n    // Calculate a displancement amount with normal.\\n    // https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739196#questions/8753186\\n    // v_noise = 10.0 * -0.1 * turbulence(0.5 * normal + u_time);\\n    // float b = 5.0 * pnoise (0.05 * position, vec3(100.0));\\n    // float displacement = b - 10.0 * v_noise;\\n\\n    vec3 pos = position + normal * displacement;\\n    vUv = uv;\\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( pos, 1.0 );\\n}\\n\";\nvar fshader = \"\\n#include <noise>\\n#include <deguMathf>\\n#define PI 3.141592653589\\n#define PI2 6.28318530718\\n\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec3 u_color;\\nuniform sampler2D u_tex;\\n\\n\\nvarying vec2 vUv;\\nvarying float v_noise;\\nvoid main()\\n{\\n  // get a random offset\\n  float r = .01 * random( gl_FragCoord.xyz, 0.0 );\\n  // lookup vertically in the texture, using noise and offset\\n  // to get the right RGB colour\\n  // So really only consider the Y value in the texture.\\n//   vec2 uv = vec2( 0, 1.3 * v_noise + r );\\n\\n  // Simple version.\\n  // Using a v_noise, look up a specific y point in the texture\\n  // and display that out to the current pixel.\\n  vec2 uv = vec2(0, 1.2 * v_noise);\\n  vec3 color = texture2D( u_tex, uv ).rgb;\\n\\n  gl_FragColor = vec4( color, 1.0 );\\n}\\n\";\n\nvar GlslPlayground27 = /*#__PURE__*/function () {\n  function GlslPlayground27() {\n    _classCallCheck(this, GlslPlayground27);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]();\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"PerspectiveCamera\"](45, window.innerWidth / window.innerHeight, 1, 10000);\n    this.camera.position.z = 100; // Add some lights.\n\n    var ambient = new three__WEBPACK_IMPORTED_MODULE_0__[\"HemisphereLight\"](0xFFFFFF, 0xFFFFFF, 1);\n    var light = new three__WEBPACK_IMPORTED_MODULE_0__[\"DirectionalLight\"](0xFFFFFF, 1);\n    light.position.set(0, 6, 2);\n    this.scene.add(ambient);\n    this.scene.add(light);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"IcosahedronGeometry\"](20, 4);\n    this.uniforms = {\n      u_time: {\n        value: 0.0\n      },\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      },\n      u_color: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xb7ff00)\n      },\n      u_tex: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"TextureLoader\"]().load(\"/public/explosion.png\")\n      }\n    };\n    console.log('uniforms');\n    console.log(this.uniforms);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader // wireframe: true\n\n    });\n    this.ball = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.ball);\n    this.controls = new three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_1__[\"OrbitControls\"](this.camera, this.renderer.domElement);\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground27, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      if (this.uniforms) {\n        this.uniforms.u_time.value += this.raf.getDelta(true);\n      }\n\n      if (this.renderer) {\n        this.renderer.render(this.scene, this.camera);\n      }\n    }\n  }]);\n\n  return GlslPlayground27;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyNy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDI3LmpzPzUyNjUiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy8gaHR0cHM6Ly93d3cudWRlbXkuY29tL2NvdXJzZS9sZWFybi1nbHNsLXNoYWRlcnMtZnJvbS1zY3JhdGNoL2xlYXJuL2xlY3R1cmUvMTM3MzkxOTYjcXVlc3Rpb25zLzg3NTMxODZcbi8vIGh0dHBzOi8vd3d3LmNsaWNrdG9yZWxlYXNlLmNvbS9ibG9nL3ZlcnRleC1kaXNwbGFjZW1lbnQtbm9pc2UtM2Qtd2ViZ2wtZ2xzbC10aHJlZS1qcy9cbi8vIGh0dHBzOi8vY29kZXBlbi5pby9uaWstbGV2ZXIvcGVuL1BMWVJXbVxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9saWIvZG9tL2RvbS13YXRjaGVyJzsgLy8gSW1wb3J0IHNoYWRlciBjaHVua3NcblxuaW1wb3J0IHsgZGVndU1hdGhmIH0gZnJvbSAnLi4vbGliL3NoYWRlcnMvdGhyZWUtc2hhZGVyLWNodW5rcy9kZWd1LW1hdGhmJztcbmRlZ3VNYXRoZihUSFJFRSk7XG5pbXBvcnQgeyBub2lzZSB9IGZyb20gJy4uL2xpYi9zaGFkZXJzL3RocmVlLXNoYWRlci1jaHVua3Mvbm9pc2UnO1xubm9pc2UoVEhSRUUpO1xudmFyIHZzaGFkZXIgPSBcIlxcbiNpbmNsdWRlIDxub2lzZT5cXG4jaW5jbHVkZSA8ZGVndU1hdGhmPlxcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xcblxcbnZhcnlpbmcgZmxvYXQgdl9ub2lzZTtcXG52YXJ5aW5nIHZlYzIgdlV2O1xcbnZvaWQgbWFpbigpIHtcXG5cXG5cXG4gICAgLy8gXFx1NjY2RVxcdTkwMUFcXHUzMDZCXFx1MzA1M1xcdTMwOENcXHUzMDY3XFx1MzA4MlxcdTMwNDRcXHUzMDQ0XFx1MzA0Q1xcdTMwQjVcXHUzMEYzXFx1MzBEN1xcdTMwRUJcXHU3NTI4XFx1MzA2QlxcdTMwQ0VcXHUzMEZDXFx1MzBERVxcdTMwRUJcXHUzMDkyXFx1NEUwQlxcdThBMThcXHUzMDY3XFx1MzA1N1xcdTMwODhcXHUzMDQ2XFxuICAgIC8vIFVuZXVuZSBiYWxsIHBvaVxcbiAgICAvLyBmbG9hdCBhcm1zID0gMC4wNTtcXG4gICAgLy8gZmxvYXQgYiA9IDUuMCAqIHBub2lzZSAoYXJtcyAqIHBvc2l0aW9uICsgdV90aW1lLCB2ZWMzKDEwMC4wKSk7XFxuXFxuICAgIC8vIFNwaWtlXFxuICAgIC8vIGZsb2F0IGIgPSBwbm9pc2UgKHBvc2l0aW9uICsgdV90aW1lLCB2ZWMzKDEwMC4wKSkgKiA1LjA7XFxuXFxuICAgIC8vIEJyZWF0aGluZ1xcbiAgICBmbG9hdCBhcm1zID0gMC4wMzI7XFxuICAgIHZfbm9pc2UgPSAxMC4wICogLTAuMSAqIHR1cmJ1bGVuY2UoMC41ICogbm9ybWFsICsgdV90aW1lICogMC4yKTtcXG4gICAgZmxvYXQgYiA9IHBub2lzZSAoYXJtcyAqIHBvc2l0aW9uICsgdV90aW1lLCB2ZWMzKDEwMC4wKSkgKiAoKG5vcm1hbGl6ZWRTaW4odV90aW1lICogMC41KSArIDEuMCkgKiAxMC4wKTtcXG4gICAgZmxvYXQgZGlzcGxhY2VtZW50ID0gYiAtIDEwLjAgKiB2X25vaXNlO1xcblxcbiAgICAvLyBDYWxjdWxhdGUgYSBkaXNwbGFuY2VtZW50IGFtb3VudCB3aXRoIG5vcm1hbC5cXG4gICAgLy8gaHR0cHM6Ly93d3cudWRlbXkuY29tL2NvdXJzZS9sZWFybi1nbHNsLXNoYWRlcnMtZnJvbS1zY3JhdGNoL2xlYXJuL2xlY3R1cmUvMTM3MzkxOTYjcXVlc3Rpb25zLzg3NTMxODZcXG4gICAgLy8gdl9ub2lzZSA9IDEwLjAgKiAtMC4xICogdHVyYnVsZW5jZSgwLjUgKiBub3JtYWwgKyB1X3RpbWUpO1xcbiAgICAvLyBmbG9hdCBiID0gNS4wICogcG5vaXNlICgwLjA1ICogcG9zaXRpb24sIHZlYzMoMTAwLjApKTtcXG4gICAgLy8gZmxvYXQgZGlzcGxhY2VtZW50ID0gYiAtIDEwLjAgKiB2X25vaXNlO1xcblxcbiAgICB2ZWMzIHBvcyA9IHBvc2l0aW9uICsgbm9ybWFsICogZGlzcGxhY2VtZW50O1xcbiAgICB2VXYgPSB1djtcXG4gICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zLCAxLjAgKTtcXG59XFxuXCI7XG52YXIgZnNoYWRlciA9IFwiXFxuI2luY2x1ZGUgPG5vaXNlPlxcbiNpbmNsdWRlIDxkZWd1TWF0aGY+XFxuI2RlZmluZSBQSSAzLjE0MTU5MjY1MzU4OVxcbiNkZWZpbmUgUEkyIDYuMjgzMTg1MzA3MThcXG5cXG51bmlmb3JtIHZlYzIgdV9tb3VzZTtcXG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVfdGV4O1xcblxcblxcbnZhcnlpbmcgdmVjMiB2VXY7XFxudmFyeWluZyBmbG9hdCB2X25vaXNlO1xcbnZvaWQgbWFpbigpXFxue1xcbiAgLy8gZ2V0IGEgcmFuZG9tIG9mZnNldFxcbiAgZmxvYXQgciA9IC4wMSAqIHJhbmRvbSggZ2xfRnJhZ0Nvb3JkLnh5eiwgMC4wICk7XFxuICAvLyBsb29rdXAgdmVydGljYWxseSBpbiB0aGUgdGV4dHVyZSwgdXNpbmcgbm9pc2UgYW5kIG9mZnNldFxcbiAgLy8gdG8gZ2V0IHRoZSByaWdodCBSR0IgY29sb3VyXFxuICAvLyBTbyByZWFsbHkgb25seSBjb25zaWRlciB0aGUgWSB2YWx1ZSBpbiB0aGUgdGV4dHVyZS5cXG4vLyAgIHZlYzIgdXYgPSB2ZWMyKCAwLCAxLjMgKiB2X25vaXNlICsgciApO1xcblxcbiAgLy8gU2ltcGxlIHZlcnNpb24uXFxuICAvLyBVc2luZyBhIHZfbm9pc2UsIGxvb2sgdXAgYSBzcGVjaWZpYyB5IHBvaW50IGluIHRoZSB0ZXh0dXJlXFxuICAvLyBhbmQgZGlzcGxheSB0aGF0IG91dCB0byB0aGUgY3VycmVudCBwaXhlbC5cXG4gIHZlYzIgdXYgPSB2ZWMyKDAsIDEuMiAqIHZfbm9pc2UpO1xcbiAgdmVjMyBjb2xvciA9IHRleHR1cmUyRCggdV90ZXgsIHV2ICkucmdiO1xcblxcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNCggY29sb3IsIDEuMCApO1xcbn1cXG5cIjtcblxudmFyIEdsc2xQbGF5Z3JvdW5kMjcgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHbHNsUGxheWdyb3VuZDI3KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHbHNsUGxheWdyb3VuZDI3KTtcblxuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoLTEsIDEsIDEsIC0xLCAwLjEsIDEwKTtcbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg0NSwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDEsIDEwMDAwKTtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID0gMTAwOyAvLyBBZGQgc29tZSBsaWdodHMuXG5cbiAgICB2YXIgYW1iaWVudCA9IG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQoMHhGRkZGRkYsIDB4RkZGRkZGLCAxKTtcbiAgICB2YXIgbGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweEZGRkZGRiwgMSk7XG4gICAgbGlnaHQucG9zaXRpb24uc2V0KDAsIDYsIDIpO1xuICAgIHRoaXMuc2NlbmUuYWRkKGFtYmllbnQpO1xuICAgIHRoaXMuc2NlbmUuYWRkKGxpZ2h0KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMucmFmID0gbmV3IFJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLkljb3NhaGVkcm9uR2VvbWV0cnkoMjAsIDQpO1xuICAgIHRoaXMudW5pZm9ybXMgPSB7XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIHVfbW91c2U6IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLjAsXG4gICAgICAgICAgeTogMC4wXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1X3Jlc29sdXRpb246IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVfY29sb3I6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweGI3ZmYwMClcbiAgICAgIH0sXG4gICAgICB1X3RleDoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKFwiL3B1YmxpYy9leHBsb3Npb24ucG5nXCIpXG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zb2xlLmxvZygndW5pZm9ybXMnKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnVuaWZvcm1zKTtcbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXIgLy8gd2lyZWZyYW1lOiB0cnVlXG5cbiAgICB9KTtcbiAgICB0aGlzLmJhbGwgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmJhbGwpO1xuICAgIHRoaXMuY29udHJvbHMgPSBuZXcgT3JiaXRDb250cm9scyh0aGlzLmNhbWVyYSwgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhHbHNsUGxheWdyb3VuZDI3LCBbe1xuICAgIGtleTogXCJvblJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgICAgIHZhciBhc3BlY3RSYXRpbyA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgdmFyIHdpZHRoLCBoZWlnaHQ7XG5cbiAgICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxKSB7XG4gICAgICAgIHdpZHRoID0gMTtcbiAgICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGggKiB3aWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpZHRoID0gYXNwZWN0UmF0aW87XG4gICAgICAgIGhlaWdodCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FtZXJhLmxlZnQgPSAtd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS5yaWdodCA9IHdpZHRoO1xuICAgICAgdGhpcy5jYW1lcmEudG9wID0gaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEuYm90dG9tID0gLWhlaWdodDtcbiAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uTW91c2VNb3ZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGV2dCkge1xuICAgICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnggPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFggOiBldnQuY2xpZW50WDtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS55ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZ0LmNsaWVudFk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUmFmXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmFmKGRlbHRhKSB7XG4gICAgICBpZiAodGhpcy51bmlmb3Jtcykge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSB0aGlzLnJhZi5nZXREZWx0YSh0cnVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHbHNsUGxheWdyb3VuZDI3O1xufSgpO1xuXG5leHBvcnQgeyBHbHNsUGxheWdyb3VuZDI3IGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/glsl-playground27.js\n");

/***/ }),

/***/ "./examples/glsl-playground28.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground28.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground28; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/shaders/three-shader-chunks/degu-mathf */ \"./lib/shaders/three-shader-chunks/degu-mathf.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739214\n//\n\n\n\n // Import shader chunks\n\n\nObject(_lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_4__[\"deguMathf\"])(three__WEBPACK_IMPORTED_MODULE_0__); // Extends: https://github.com/mrdoob/three.js/blob/master/src/renderers/shaders/ShaderLib/meshlambert_vert.glsl.js\n\nvar vshader = \"\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\n\\n\\n\\nvarying vec3 vPosition;\\nvarying mat4 vModelMatrix;\\nvarying vec3 vWorldNormal;\\nvarying vec3 vLightIntensity;\\n\\nvoid main() {\\n    vec3 vLightFront;\\n    vec3 vIndirectFront;\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n\\n    // Save light intenity.\\n    vLightIntensity = vLightFront + ambientLightColor;\\n\\n    vWorldNormal = normalize((modelMatrix * vec4(normal, 0.0)).xyz);\\n    vPosition = position;\\n    vModelMatrix = modelMatrix;\\n\\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\n#include <deguMathf>\\nuniform vec3 u_color;\\nuniform vec3 u_light_position;\\nuniform vec3 u_rim_color;\\nuniform float u_rim_strength;\\nuniform float u_rim_width;\\nuniform float u_time;\\n\\n// Example varyings passed from the vertex shader\\nvarying vec3 vPosition;\\nvarying vec3 vWorldNormal;\\nvarying mat4 vModelMatrix;\\nvarying vec3 vLightIntensity;\\n\\nvoid main()\\n{\\n\\n  // Get the world position (not model)\\n  vec3 worldPosition = ( vModelMatrix * vec4( vPosition, 1.0 )).xyz;\\n\\n  // Get the normalized light vector since we want direction not distance.\\n  vec3 lightVector = normalize( u_light_position - worldPosition );\\n\\n  // Get the normalized view vector since we want direction not distance.\\n\\n  vec3 viewVector = normalize(cameraPosition - worldPosition);\\n\\n  // dot(a,b) = cos(theta)\\n\\n  // cos of 90 degrees. cos(PI/2) = 0.0.\\n  float rightAngle = 0.0;\\n\\n  // Change the angle based on time so that we get a glow going in and out\\n  float pulseRate = 5.0;\\n  rightAngle += normalizedSin(u_time * pulseRate);\\n\\n  float rimndotv =  max(0.0, u_rim_width - clamp(dot(vWorldNormal, viewVector), rightAngle, 1.0));\\n\\n  vec3 rimLight = rimndotv * u_rim_color * u_rim_strength;\\n  vec3 color = vLightIntensity * u_color + rimLight;\\n\\n  gl_FragColor = vec4( color, 1.0 );\\n\\n}\\n\";\n\nvar GlslPlayground28 = /*#__PURE__*/function () {\n  function GlslPlayground28() {\n    _classCallCheck(this, GlslPlayground28);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]();\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"PerspectiveCamera\"](60, window.innerWidth / window.innerHeight, 0.1, 1000);\n    this.camera.position.z = 10; // Add some lights.\n\n    var light = new three__WEBPACK_IMPORTED_MODULE_0__[\"DirectionalLight\"](0xffda6f, 0.1);\n    light.position.set(0, 1.25, 1.25);\n    this.scene.add(light);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"TorusKnotGeometry\"](1, 0.5, 100, 16);\n    this.uniforms = three__WEBPACK_IMPORTED_MODULE_0__[\"UniformsUtils\"].merge([three__WEBPACK_IMPORTED_MODULE_0__[\"UniformsLib\"][\"common\"], three__WEBPACK_IMPORTED_MODULE_0__[\"UniformsLib\"][\"lights\"]]);\n    this.uniforms.u_color = {\n      value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xa6e4fa)\n    };\n    this.uniforms.u_light_position = {\n      value: light.position.clone()\n    };\n    this.uniforms.u_rim_color = {\n      value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xffffff)\n    };\n    this.uniforms.u_rim_strength = {\n      value: 3.6\n    };\n    this.uniforms.u_rim_width = {\n      value: 0.6\n    };\n    this.uniforms.u_resolution = {\n      value: {\n        x: 0.0,\n        y: 0.0\n      }\n    };\n    this.uniforms.u_time = {\n      value: 0.0\n    };\n    console.log('uniforms');\n    console.log(this.uniforms);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader,\n      lights: true,\n      wireframe: false\n    });\n    this.knot = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.knot);\n    this.controls = new three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_1__[\"OrbitControls\"](this.camera, this.renderer.domElement);\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground28, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground28;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyOC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDI4LmpzPzJlZGEiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy9cbi8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MjE0XG4vL1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9saWIvZG9tL2RvbS13YXRjaGVyJzsgLy8gSW1wb3J0IHNoYWRlciBjaHVua3NcblxuaW1wb3J0IHsgZGVndU1hdGhmIH0gZnJvbSAnLi4vbGliL3NoYWRlcnMvdGhyZWUtc2hhZGVyLWNodW5rcy9kZWd1LW1hdGhmJztcbmRlZ3VNYXRoZihUSFJFRSk7IC8vIEV4dGVuZHM6IGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvYmxvYi9tYXN0ZXIvc3JjL3JlbmRlcmVycy9zaGFkZXJzL1NoYWRlckxpYi9tZXNobGFtYmVydF92ZXJ0Lmdsc2wuanNcblxudmFyIHZzaGFkZXIgPSBcIlxcbiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGVudm1hcF9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8YnNkZnM+XFxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxcbiNpbmNsdWRlIDxjb2xvcl9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cXG5cXG5cXG5cXG52YXJ5aW5nIHZlYzMgdlBvc2l0aW9uO1xcbnZhcnlpbmcgbWF0NCB2TW9kZWxNYXRyaXg7XFxudmFyeWluZyB2ZWMzIHZXb3JsZE5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdkxpZ2h0SW50ZW5zaXR5O1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgdmVjMyB2TGlnaHRGcm9udDtcXG4gICAgdmVjMyB2SW5kaXJlY3RGcm9udDtcXG5cXHQjaW5jbHVkZSA8dXZfdmVydGV4PlxcblxcdCNpbmNsdWRlIDx1djJfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxcblxcdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxlbnZtYXBfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxsaWdodHNfbGFtYmVydF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XFxuXFxuICAgIC8vIFNhdmUgbGlnaHQgaW50ZW5pdHkuXFxuICAgIHZMaWdodEludGVuc2l0eSA9IHZMaWdodEZyb250ICsgYW1iaWVudExpZ2h0Q29sb3I7XFxuXFxuICAgIHZXb3JsZE5vcm1hbCA9IG5vcm1hbGl6ZSgobW9kZWxNYXRyaXggKiB2ZWM0KG5vcm1hbCwgMC4wKSkueHl6KTtcXG4gICAgdlBvc2l0aW9uID0gcG9zaXRpb247XFxuICAgIHZNb2RlbE1hdHJpeCA9IG1vZGVsTWF0cml4O1xcblxcbiAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XFxufVxcblwiO1xudmFyIGZzaGFkZXIgPSBcIlxcbiNpbmNsdWRlIDxkZWd1TWF0aGY+XFxudW5pZm9ybSB2ZWMzIHVfY29sb3I7XFxudW5pZm9ybSB2ZWMzIHVfbGlnaHRfcG9zaXRpb247XFxudW5pZm9ybSB2ZWMzIHVfcmltX2NvbG9yO1xcbnVuaWZvcm0gZmxvYXQgdV9yaW1fc3RyZW5ndGg7XFxudW5pZm9ybSBmbG9hdCB1X3JpbV93aWR0aDtcXG51bmlmb3JtIGZsb2F0IHVfdGltZTtcXG5cXG4vLyBFeGFtcGxlIHZhcnlpbmdzIHBhc3NlZCBmcm9tIHRoZSB2ZXJ0ZXggc2hhZGVyXFxudmFyeWluZyB2ZWMzIHZQb3NpdGlvbjtcXG52YXJ5aW5nIHZlYzMgdldvcmxkTm9ybWFsO1xcbnZhcnlpbmcgbWF0NCB2TW9kZWxNYXRyaXg7XFxudmFyeWluZyB2ZWMzIHZMaWdodEludGVuc2l0eTtcXG5cXG52b2lkIG1haW4oKVxcbntcXG5cXG4gIC8vIEdldCB0aGUgd29ybGQgcG9zaXRpb24gKG5vdCBtb2RlbClcXG4gIHZlYzMgd29ybGRQb3NpdGlvbiA9ICggdk1vZGVsTWF0cml4ICogdmVjNCggdlBvc2l0aW9uLCAxLjAgKSkueHl6O1xcblxcbiAgLy8gR2V0IHRoZSBub3JtYWxpemVkIGxpZ2h0IHZlY3RvciBzaW5jZSB3ZSB3YW50IGRpcmVjdGlvbiBub3QgZGlzdGFuY2UuXFxuICB2ZWMzIGxpZ2h0VmVjdG9yID0gbm9ybWFsaXplKCB1X2xpZ2h0X3Bvc2l0aW9uIC0gd29ybGRQb3NpdGlvbiApO1xcblxcbiAgLy8gR2V0IHRoZSBub3JtYWxpemVkIHZpZXcgdmVjdG9yIHNpbmNlIHdlIHdhbnQgZGlyZWN0aW9uIG5vdCBkaXN0YW5jZS5cXG5cXG4gIHZlYzMgdmlld1ZlY3RvciA9IG5vcm1hbGl6ZShjYW1lcmFQb3NpdGlvbiAtIHdvcmxkUG9zaXRpb24pO1xcblxcbiAgLy8gZG90KGEsYikgPSBjb3ModGhldGEpXFxuXFxuICAvLyBjb3Mgb2YgOTAgZGVncmVlcy4gY29zKFBJLzIpID0gMC4wLlxcbiAgZmxvYXQgcmlnaHRBbmdsZSA9IDAuMDtcXG5cXG4gIC8vIENoYW5nZSB0aGUgYW5nbGUgYmFzZWQgb24gdGltZSBzbyB0aGF0IHdlIGdldCBhIGdsb3cgZ29pbmcgaW4gYW5kIG91dFxcbiAgZmxvYXQgcHVsc2VSYXRlID0gNS4wO1xcbiAgcmlnaHRBbmdsZSArPSBub3JtYWxpemVkU2luKHVfdGltZSAqIHB1bHNlUmF0ZSk7XFxuXFxuICBmbG9hdCByaW1uZG90diA9ICBtYXgoMC4wLCB1X3JpbV93aWR0aCAtIGNsYW1wKGRvdCh2V29ybGROb3JtYWwsIHZpZXdWZWN0b3IpLCByaWdodEFuZ2xlLCAxLjApKTtcXG5cXG4gIHZlYzMgcmltTGlnaHQgPSByaW1uZG90diAqIHVfcmltX2NvbG9yICogdV9yaW1fc3RyZW5ndGg7XFxuICB2ZWMzIGNvbG9yID0gdkxpZ2h0SW50ZW5zaXR5ICogdV9jb2xvciArIHJpbUxpZ2h0O1xcblxcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNCggY29sb3IsIDEuMCApO1xcblxcbn1cXG5cIjtcblxudmFyIEdsc2xQbGF5Z3JvdW5kMjggPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHbHNsUGxheWdyb3VuZDI4KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHbHNsUGxheWdyb3VuZDI4KTtcblxuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg2MCwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDAuMSwgMTAwMCk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDEwOyAvLyBBZGQgc29tZSBsaWdodHMuXG5cbiAgICB2YXIgbGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGZmZGE2ZiwgMC4xKTtcbiAgICBsaWdodC5wb3NpdGlvbi5zZXQoMCwgMS4yNSwgMS4yNSk7XG4gICAgdGhpcy5zY2VuZS5hZGQobGlnaHQpO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuVG9ydXNLbm90R2VvbWV0cnkoMSwgMC41LCAxMDAsIDE2KTtcbiAgICB0aGlzLnVuaWZvcm1zID0gVEhSRUUuVW5pZm9ybXNVdGlscy5tZXJnZShbVEhSRUUuVW5pZm9ybXNMaWJbXCJjb21tb25cIl0sIFRIUkVFLlVuaWZvcm1zTGliW1wibGlnaHRzXCJdXSk7XG4gICAgdGhpcy51bmlmb3Jtcy51X2NvbG9yID0ge1xuICAgICAgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweGE2ZTRmYSlcbiAgICB9O1xuICAgIHRoaXMudW5pZm9ybXMudV9saWdodF9wb3NpdGlvbiA9IHtcbiAgICAgIHZhbHVlOiBsaWdodC5wb3NpdGlvbi5jbG9uZSgpXG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmltX2NvbG9yID0ge1xuICAgICAgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweGZmZmZmZilcbiAgICB9O1xuICAgIHRoaXMudW5pZm9ybXMudV9yaW1fc3RyZW5ndGggPSB7XG4gICAgICB2YWx1ZTogMy42XG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmltX3dpZHRoID0ge1xuICAgICAgdmFsdWU6IDAuNlxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24gPSB7XG4gICAgICB2YWx1ZToge1xuICAgICAgICB4OiAwLjAsXG4gICAgICAgIHk6IDAuMFxuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X3RpbWUgPSB7XG4gICAgICB2YWx1ZTogMC4wXG4gICAgfTtcbiAgICBjb25zb2xlLmxvZygndW5pZm9ybXMnKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnVuaWZvcm1zKTtcbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXIsXG4gICAgICBsaWdodHM6IHRydWUsXG4gICAgICB3aXJlZnJhbWU6IGZhbHNlXG4gICAgfSk7XG4gICAgdGhpcy5rbm90ID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5rbm90KTtcbiAgICB0aGlzLmNvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHModGhpcy5jYW1lcmEsIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoR2xzbFBsYXlncm91bmQyOCwgW3tcbiAgICBrZXk6IFwib25SZXNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SZXNpemUoKSB7XG4gICAgICB2YXIgYXNwZWN0UmF0aW8gPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIHZhciB3aWR0aCwgaGVpZ2h0O1xuXG4gICAgICBpZiAoYXNwZWN0UmF0aW8gPj0gMSkge1xuICAgICAgICB3aWR0aCA9IDE7XG4gICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAvIHdpbmRvdy5pbm5lcldpZHRoICogd2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aWR0aCA9IGFzcGVjdFJhdGlvO1xuICAgICAgICBoZWlnaHQgPSAxO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNhbWVyYS5sZWZ0ID0gLXdpZHRoO1xuICAgICAgdGhpcy5jYW1lcmEucmlnaHQgPSB3aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnRvcCA9IGhlaWdodDtcbiAgICAgIHRoaXMuY2FtZXJhLmJvdHRvbSA9IC1oZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS54ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS55ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJhZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJhZihkZWx0YSkge1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgKz0gdGhpcy5yYWYuZ2V0RGVsdGEodHJ1ZSk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEdsc2xQbGF5Z3JvdW5kMjg7XG59KCk7XG5cbmV4cG9ydCB7IEdsc2xQbGF5Z3JvdW5kMjggYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground28.js\n");

/***/ }),

/***/ "./examples/glsl-playground29.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground29.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground29; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/shaders/three-shader-chunks/degu-mathf */ \"./lib/shaders/three-shader-chunks/degu-mathf.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//\n//\n// https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739244\n//\n\n\n\n // Import shader chunks\n\n\nObject(_lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_4__[\"deguMathf\"])(three__WEBPACK_IMPORTED_MODULE_0__); // Extends: https://github.com/mrdoob/three.js/blob/master/src/renderers/shaders/ShaderLib/meshlambert_vert.glsl.js\n\nvar vshader = \"\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\n\\n\\n\\nvarying vec3 vPosition;\\nvarying mat4 vModelMatrix;\\nvarying vec3 vWorldNormal;\\nvarying vec3 vLightIntensity;\\n\\nvoid main() {\\n    vec3 vLightFront;\\n    vec3 vIndirectFront;\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n\\n    // Save light intenity.\\n    vLightIntensity = vLightFront + ambientLightColor;\\n\\n    vWorldNormal = normalize((modelMatrix * vec4(normal, 0.0)).xyz);\\n    vPosition = position;\\n    vModelMatrix = modelMatrix;\\n\\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\n#include <deguMathf>\\nuniform vec3 u_color;\\nuniform vec3 u_light_position;\\nuniform vec3 u_rim_color;\\nuniform float u_rim_strength;\\nuniform float u_rim_width;\\nuniform float u_time;\\n\\n\\nuniform samplerCube u_envmap_cube;\\n// How much the envmap should affect the calculations.\\nuniform float u_envmap_strength;\\n\\n// Example varyings passed from the vertex shader\\nvarying vec3 vPosition;\\nvarying vec3 vWorldNormal;\\nvarying mat4 vModelMatrix;\\nvarying vec3 vLightIntensity;\\n\\nvoid main()\\n{\\n\\n  // Get the world position (not model)\\n  vec3 worldPosition = ( vModelMatrix * vec4( vPosition, 1.0 )).xyz;\\n\\n  // Get the normalized light vector since we want direction not distance.\\n  vec3 lightVector = normalize( u_light_position - worldPosition );\\n\\n  // Get the normalized view vector since we want direction not distance.\\n\\n  vec3 viewVector = normalize(cameraPosition - worldPosition);\\n\\n  // dot(a,b) = cos(theta)\\n\\n  // cos of 90 degrees. cos(PI/2) = 0.0.\\n  float rightAngle = 0.0;\\n\\n  // Change the angle based on time so that we get a glow going in and out\\n  float pulseRate = 5.0;\\n  rightAngle += normalizedSin(u_time * pulseRate);\\n\\n  float rimndotv =  max(0.0, u_rim_width - clamp(dot(vWorldNormal, viewVector), rightAngle, 1.0));\\n\\n  vec3 rimLight = rimndotv * u_rim_color * u_rim_strength;\\n\\n\\n  // Calculate the effects of the env map.\\n  vec3 reflection = reflect(-viewVector, vWorldNormal);\\n  vec3 envmapLight = textureCube(u_envmap_cube, reflection).rgb * u_envmap_strength;\\n  // Pulse env map light strength.\\n  envmapLight *= normalizedSin(u_time);\\n\\n\\n  vec3 color = vLightIntensity * u_color + envmapLight + rimLight;\\n\\n  gl_FragColor = vec4( color, 1.0 );\\n\\n}\\n\";\n\nvar GlslPlayground29 = /*#__PURE__*/function () {\n  function GlslPlayground29() {\n    _classCallCheck(this, GlslPlayground29);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]();\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"PerspectiveCamera\"](60, window.innerWidth / window.innerHeight, 0.1, 1000);\n    this.camera.position.z = 10; // Add some lights.\n\n    var light = new three__WEBPACK_IMPORTED_MODULE_0__[\"DirectionalLight\"](0xffda6f, 0.1);\n    light.position.set(0, 1.25, 1.25);\n    this.scene.add(light);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"TorusKnotGeometry\"](1, 0.5, 100, 16);\n    this.uniforms = three__WEBPACK_IMPORTED_MODULE_0__[\"UniformsUtils\"].merge([three__WEBPACK_IMPORTED_MODULE_0__[\"UniformsLib\"][\"common\"], three__WEBPACK_IMPORTED_MODULE_0__[\"UniformsLib\"][\"lights\"]]);\n    this.uniforms.u_color = {\n      value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xa6e4fa)\n    };\n    this.uniforms.u_light_position = {\n      value: light.position.clone()\n    };\n    this.uniforms.u_rim_color = {\n      value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xffffff)\n    };\n    this.uniforms.u_rim_strength = {\n      value: 3.6\n    };\n    this.uniforms.u_rim_width = {\n      value: 0.6\n    };\n    this.uniforms.u_resolution = {\n      value: {\n        x: 0.0,\n        y: 0.0\n      }\n    };\n    this.uniforms.u_time = {\n      value: 0.0\n    }; // Add env\n\n    var envCube = new three__WEBPACK_IMPORTED_MODULE_0__[\"CubeTextureLoader\"]().setPath('./public/').load(['skybox2_px.jpg', 'skybox2_nx.jpg', 'skybox2_py.jpg', 'skybox2_ny.jpg', 'skybox2_pz.jpg', 'skybox2_nz.jpg']);\n    this.uniforms.u_envmap_cube = {\n      value: envCube\n    };\n    this.uniforms.u_envmap_strength = {\n      value: 1.0\n    };\n    console.log('uniforms');\n    console.log(this.uniforms);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader,\n      lights: true,\n      wireframe: false\n    });\n    this.knot = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.knot);\n    this.controls = new three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_1__[\"OrbitControls\"](this.camera, this.renderer.domElement);\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground29, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground29;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQyOS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDI5LmpzP2ZhYjIiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vL1xuLy9cbi8vIGh0dHBzOi8vd3d3LnVkZW15LmNvbS9jb3Vyc2UvbGVhcm4tZ2xzbC1zaGFkZXJzLWZyb20tc2NyYXRjaC9sZWFybi9sZWN0dXJlLzEzNzM5MjQ0XG4vL1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9saWIvZG9tL2RvbS13YXRjaGVyJzsgLy8gSW1wb3J0IHNoYWRlciBjaHVua3NcblxuaW1wb3J0IHsgZGVndU1hdGhmIH0gZnJvbSAnLi4vbGliL3NoYWRlcnMvdGhyZWUtc2hhZGVyLWNodW5rcy9kZWd1LW1hdGhmJztcbmRlZ3VNYXRoZihUSFJFRSk7IC8vIEV4dGVuZHM6IGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvYmxvYi9tYXN0ZXIvc3JjL3JlbmRlcmVycy9zaGFkZXJzL1NoYWRlckxpYi9tZXNobGFtYmVydF92ZXJ0Lmdsc2wuanNcblxudmFyIHZzaGFkZXIgPSBcIlxcbiNpbmNsdWRlIDxjb21tb24+XFxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGVudm1hcF9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8YnNkZnM+XFxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxcbiNpbmNsdWRlIDxjb2xvcl9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxcbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX3ZlcnRleD5cXG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cXG5cXG5cXG5cXG52YXJ5aW5nIHZlYzMgdlBvc2l0aW9uO1xcbnZhcnlpbmcgbWF0NCB2TW9kZWxNYXRyaXg7XFxudmFyeWluZyB2ZWMzIHZXb3JsZE5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdkxpZ2h0SW50ZW5zaXR5O1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgdmVjMyB2TGlnaHRGcm9udDtcXG4gICAgdmVjMyB2SW5kaXJlY3RGcm9udDtcXG5cXHQjaW5jbHVkZSA8dXZfdmVydGV4PlxcblxcdCNpbmNsdWRlIDx1djJfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxcblxcdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cXG5cXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxlbnZtYXBfdmVydGV4PlxcblxcdCNpbmNsdWRlIDxsaWdodHNfbGFtYmVydF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+XFxuXFx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XFxuXFxuICAgIC8vIFNhdmUgbGlnaHQgaW50ZW5pdHkuXFxuICAgIHZMaWdodEludGVuc2l0eSA9IHZMaWdodEZyb250ICsgYW1iaWVudExpZ2h0Q29sb3I7XFxuXFxuICAgIHZXb3JsZE5vcm1hbCA9IG5vcm1hbGl6ZSgobW9kZWxNYXRyaXggKiB2ZWM0KG5vcm1hbCwgMC4wKSkueHl6KTtcXG4gICAgdlBvc2l0aW9uID0gcG9zaXRpb247XFxuICAgIHZNb2RlbE1hdHJpeCA9IG1vZGVsTWF0cml4O1xcblxcbiAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XFxufVxcblwiO1xudmFyIGZzaGFkZXIgPSBcIlxcbiNpbmNsdWRlIDxkZWd1TWF0aGY+XFxudW5pZm9ybSB2ZWMzIHVfY29sb3I7XFxudW5pZm9ybSB2ZWMzIHVfbGlnaHRfcG9zaXRpb247XFxudW5pZm9ybSB2ZWMzIHVfcmltX2NvbG9yO1xcbnVuaWZvcm0gZmxvYXQgdV9yaW1fc3RyZW5ndGg7XFxudW5pZm9ybSBmbG9hdCB1X3JpbV93aWR0aDtcXG51bmlmb3JtIGZsb2F0IHVfdGltZTtcXG5cXG5cXG51bmlmb3JtIHNhbXBsZXJDdWJlIHVfZW52bWFwX2N1YmU7XFxuLy8gSG93IG11Y2ggdGhlIGVudm1hcCBzaG91bGQgYWZmZWN0IHRoZSBjYWxjdWxhdGlvbnMuXFxudW5pZm9ybSBmbG9hdCB1X2Vudm1hcF9zdHJlbmd0aDtcXG5cXG4vLyBFeGFtcGxlIHZhcnlpbmdzIHBhc3NlZCBmcm9tIHRoZSB2ZXJ0ZXggc2hhZGVyXFxudmFyeWluZyB2ZWMzIHZQb3NpdGlvbjtcXG52YXJ5aW5nIHZlYzMgdldvcmxkTm9ybWFsO1xcbnZhcnlpbmcgbWF0NCB2TW9kZWxNYXRyaXg7XFxudmFyeWluZyB2ZWMzIHZMaWdodEludGVuc2l0eTtcXG5cXG52b2lkIG1haW4oKVxcbntcXG5cXG4gIC8vIEdldCB0aGUgd29ybGQgcG9zaXRpb24gKG5vdCBtb2RlbClcXG4gIHZlYzMgd29ybGRQb3NpdGlvbiA9ICggdk1vZGVsTWF0cml4ICogdmVjNCggdlBvc2l0aW9uLCAxLjAgKSkueHl6O1xcblxcbiAgLy8gR2V0IHRoZSBub3JtYWxpemVkIGxpZ2h0IHZlY3RvciBzaW5jZSB3ZSB3YW50IGRpcmVjdGlvbiBub3QgZGlzdGFuY2UuXFxuICB2ZWMzIGxpZ2h0VmVjdG9yID0gbm9ybWFsaXplKCB1X2xpZ2h0X3Bvc2l0aW9uIC0gd29ybGRQb3NpdGlvbiApO1xcblxcbiAgLy8gR2V0IHRoZSBub3JtYWxpemVkIHZpZXcgdmVjdG9yIHNpbmNlIHdlIHdhbnQgZGlyZWN0aW9uIG5vdCBkaXN0YW5jZS5cXG5cXG4gIHZlYzMgdmlld1ZlY3RvciA9IG5vcm1hbGl6ZShjYW1lcmFQb3NpdGlvbiAtIHdvcmxkUG9zaXRpb24pO1xcblxcbiAgLy8gZG90KGEsYikgPSBjb3ModGhldGEpXFxuXFxuICAvLyBjb3Mgb2YgOTAgZGVncmVlcy4gY29zKFBJLzIpID0gMC4wLlxcbiAgZmxvYXQgcmlnaHRBbmdsZSA9IDAuMDtcXG5cXG4gIC8vIENoYW5nZSB0aGUgYW5nbGUgYmFzZWQgb24gdGltZSBzbyB0aGF0IHdlIGdldCBhIGdsb3cgZ29pbmcgaW4gYW5kIG91dFxcbiAgZmxvYXQgcHVsc2VSYXRlID0gNS4wO1xcbiAgcmlnaHRBbmdsZSArPSBub3JtYWxpemVkU2luKHVfdGltZSAqIHB1bHNlUmF0ZSk7XFxuXFxuICBmbG9hdCByaW1uZG90diA9ICBtYXgoMC4wLCB1X3JpbV93aWR0aCAtIGNsYW1wKGRvdCh2V29ybGROb3JtYWwsIHZpZXdWZWN0b3IpLCByaWdodEFuZ2xlLCAxLjApKTtcXG5cXG4gIHZlYzMgcmltTGlnaHQgPSByaW1uZG90diAqIHVfcmltX2NvbG9yICogdV9yaW1fc3RyZW5ndGg7XFxuXFxuXFxuICAvLyBDYWxjdWxhdGUgdGhlIGVmZmVjdHMgb2YgdGhlIGVudiBtYXAuXFxuICB2ZWMzIHJlZmxlY3Rpb24gPSByZWZsZWN0KC12aWV3VmVjdG9yLCB2V29ybGROb3JtYWwpO1xcbiAgdmVjMyBlbnZtYXBMaWdodCA9IHRleHR1cmVDdWJlKHVfZW52bWFwX2N1YmUsIHJlZmxlY3Rpb24pLnJnYiAqIHVfZW52bWFwX3N0cmVuZ3RoO1xcbiAgLy8gUHVsc2UgZW52IG1hcCBsaWdodCBzdHJlbmd0aC5cXG4gIGVudm1hcExpZ2h0ICo9IG5vcm1hbGl6ZWRTaW4odV90aW1lKTtcXG5cXG5cXG4gIHZlYzMgY29sb3IgPSB2TGlnaHRJbnRlbnNpdHkgKiB1X2NvbG9yICsgZW52bWFwTGlnaHQgKyByaW1MaWdodDtcXG5cXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoIGNvbG9yLCAxLjAgKTtcXG5cXG59XFxuXCI7XG5cbnZhciBHbHNsUGxheWdyb3VuZDI5ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2xzbFBsYXlncm91bmQyOSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2xzbFBsYXlncm91bmQyOSk7XG5cbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNjAsIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LCAwLjEsIDEwMDApO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxMDsgLy8gQWRkIHNvbWUgbGlnaHRzLlxuXG4gICAgdmFyIGxpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhmZmRhNmYsIDAuMSk7XG4gICAgbGlnaHQucG9zaXRpb24uc2V0KDAsIDEuMjUsIDEuMjUpO1xuICAgIHRoaXMuc2NlbmUuYWRkKGxpZ2h0KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMucmFmID0gbmV3IFJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLlRvcnVzS25vdEdlb21ldHJ5KDEsIDAuNSwgMTAwLCAxNik7XG4gICAgdGhpcy51bmlmb3JtcyA9IFRIUkVFLlVuaWZvcm1zVXRpbHMubWVyZ2UoW1RIUkVFLlVuaWZvcm1zTGliW1wiY29tbW9uXCJdLCBUSFJFRS5Vbmlmb3Jtc0xpYltcImxpZ2h0c1wiXV0pO1xuICAgIHRoaXMudW5pZm9ybXMudV9jb2xvciA9IHtcbiAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHhhNmU0ZmEpXG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbGlnaHRfcG9zaXRpb24gPSB7XG4gICAgICB2YWx1ZTogbGlnaHQucG9zaXRpb24uY2xvbmUoKVxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X3JpbV9jb2xvciA9IHtcbiAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHhmZmZmZmYpXG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfcmltX3N0cmVuZ3RoID0ge1xuICAgICAgdmFsdWU6IDMuNlxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X3JpbV93aWR0aCA9IHtcbiAgICAgIHZhbHVlOiAwLjZcbiAgICB9O1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uID0ge1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgeDogMC4wLFxuICAgICAgICB5OiAwLjBcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMudW5pZm9ybXMudV90aW1lID0ge1xuICAgICAgdmFsdWU6IDAuMFxuICAgIH07IC8vIEFkZCBlbnZcblxuICAgIHZhciBlbnZDdWJlID0gbmV3IFRIUkVFLkN1YmVUZXh0dXJlTG9hZGVyKCkuc2V0UGF0aCgnLi9wdWJsaWMvJykubG9hZChbJ3NreWJveDJfcHguanBnJywgJ3NreWJveDJfbnguanBnJywgJ3NreWJveDJfcHkuanBnJywgJ3NreWJveDJfbnkuanBnJywgJ3NreWJveDJfcHouanBnJywgJ3NreWJveDJfbnouanBnJ10pO1xuICAgIHRoaXMudW5pZm9ybXMudV9lbnZtYXBfY3ViZSA9IHtcbiAgICAgIHZhbHVlOiBlbnZDdWJlXG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfZW52bWFwX3N0cmVuZ3RoID0ge1xuICAgICAgdmFsdWU6IDEuMFxuICAgIH07XG4gICAgY29uc29sZS5sb2coJ3VuaWZvcm1zJyk7XG4gICAgY29uc29sZS5sb2codGhpcy51bmlmb3Jtcyk7XG4gICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICB1bmlmb3JtczogdGhpcy51bmlmb3JtcyxcbiAgICAgIHZlcnRleFNoYWRlcjogdnNoYWRlcixcbiAgICAgIGZyYWdtZW50U2hhZGVyOiBmc2hhZGVyLFxuICAgICAgbGlnaHRzOiB0cnVlLFxuICAgICAgd2lyZWZyYW1lOiBmYWxzZVxuICAgIH0pO1xuICAgIHRoaXMua25vdCA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMua25vdCk7XG4gICAgdGhpcy5jb250cm9scyA9IG5ldyBPcmJpdENvbnRyb2xzKHRoaXMuY2FtZXJhLCB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEdsc2xQbGF5Z3JvdW5kMjksIFt7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgdmFyIGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB2YXIgd2lkdGgsIGhlaWdodDtcblxuICAgICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgICAgd2lkdGggPSAxO1xuICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgICAgaGVpZ2h0ID0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoZGVsdGEpIHtcbiAgICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHbHNsUGxheWdyb3VuZDI5O1xufSgpO1xuXG5leHBvcnQgeyBHbHNsUGxheWdyb3VuZDI5IGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground29.js\n");

/***/ }),

/***/ "./examples/glsl-playground3.js":
/*!**************************************!*\
  !*** ./examples/glsl-playground3.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground3; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n/**\n * https://threejs.org/docs/#api/en/renderers/webgl/WebGLProgram\n * https://gist.github.com/uxder/cc02c445c2f7b4679e48e91d2920c832\n */\n\nvar vshader = \"\\nvoid main() {\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\nuniform float u_time;\\n\\nvoid main (void)\\n{\\n  vec3 color = vec3(\\n      // Sin returns values between -1 and 1 and we want 0-1.\\n      // So we first do sin(time) + 1.0 which gives us a value between 0 and 2.\\n      // We divide that by 2 (half it) so that it normalizes to 0-1.\\n      (sin(u_time) + 1.0) / 2.0,\\n      (sin(u_time) + 1.0) / 2.0,\\n      (cos(u_time) + 1.0) / 2.0\\n  );\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground3 = /*#__PURE__*/function () {\n  function GlslPlayground3() {\n    _classCallCheck(this, GlslPlayground3);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2, 2);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground3, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground3;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvZ2xzbC1wbGF5Z3JvdW5kMy5qcz82ZDExIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuLyoqXG4gKiBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xQcm9ncmFtXG4gKiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS91eGRlci9jYzAyYzQ0NWMyZjdiNDY3OWU0OGU5MWQyOTIwYzgzMlxuICovXG5cbnZhciB2c2hhZGVyID0gXCJcXG52b2lkIG1haW4oKSB7XFxuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XFxufVxcblwiO1xudmFyIGZzaGFkZXIgPSBcIlxcbnVuaWZvcm0gdmVjMiB1X21vdXNlO1xcbnVuaWZvcm0gdmVjMiB1X3Jlc29sdXRpb247XFxudW5pZm9ybSB2ZWMzIHVfY29sb3I7XFxudW5pZm9ybSBmbG9hdCB1X3RpbWU7XFxuXFxudm9pZCBtYWluICh2b2lkKVxcbntcXG4gIHZlYzMgY29sb3IgPSB2ZWMzKFxcbiAgICAgIC8vIFNpbiByZXR1cm5zIHZhbHVlcyBiZXR3ZWVuIC0xIGFuZCAxIGFuZCB3ZSB3YW50IDAtMS5cXG4gICAgICAvLyBTbyB3ZSBmaXJzdCBkbyBzaW4odGltZSkgKyAxLjAgd2hpY2ggZ2l2ZXMgdXMgYSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDIuXFxuICAgICAgLy8gV2UgZGl2aWRlIHRoYXQgYnkgMiAoaGFsZiBpdCkgc28gdGhhdCBpdCBub3JtYWxpemVzIHRvIDAtMS5cXG4gICAgICAoc2luKHVfdGltZSkgKyAxLjApIC8gMi4wLFxcbiAgICAgIChzaW4odV90aW1lKSArIDEuMCkgLyAyLjAsXFxuICAgICAgKGNvcyh1X3RpbWUpICsgMS4wKSAvIDIuMFxcbiAgKTtcXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XFxufVxcblwiO1xuXG52YXIgR2xzbFBsYXlncm91bmQzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2xzbFBsYXlncm91bmQzKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHbHNsUGxheWdyb3VuZDMpO1xuXG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpOyAvLyAyeDJcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSgtMSwgMSwgMSwgLTEsIDAuMSwgMTApO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdtb3VzZW1vdmUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKVxuICAgIH0pO1xuICAgIHRoaXMudW5pZm9ybXMgPSB7XG4gICAgICB1X2NvbG9yOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHhmZjAwMDApXG4gICAgICB9LFxuICAgICAgLy8gRmxvYXRcbiAgICAgIHVfdGltZToge1xuICAgICAgICB2YWx1ZTogMC4wXG4gICAgICB9LFxuICAgICAgLy8gVmVjMiAwLDAgYXQgdG9wLCBsZWZ0IGFuZCB3aW5kb3cuaW5uZXJXaWR0aCBhbmQgd2luZG93LmlubmVySGVpZ2h0IGF0IGJvdHRvbSByaWdodC5cbiAgICAgIHVfbW91c2U6IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLjAsXG4gICAgICAgICAgeTogMC4wXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvLyBWZWMyIFNjcmVlbiByZXNvbHV0aW9uXG4gICAgICB1X3Jlc29sdXRpb246IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07IC8vIDJ4MiBzbyBpdCBmaWxsIHRoZSBzY3JlZW4uXG5cbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMiwgMik7XG4gICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICB1bmlmb3JtczogdGhpcy51bmlmb3JtcyxcbiAgICAgIHZlcnRleFNoYWRlcjogdnNoYWRlcixcbiAgICAgIGZyYWdtZW50U2hhZGVyOiBmc2hhZGVyXG4gICAgfSk7IC8vIENyZWF0ZSBtZXNoIChnZW9tICsgbWF0ZXJpYWwpXG5cbiAgICB0aGlzLnBsYW5lID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5wbGFuZSk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDE7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoR2xzbFBsYXlncm91bmQzLCBbe1xuICAgIGtleTogXCJvblJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgICAgIHZhciBhc3BlY3RSYXRpbyA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgdmFyIHdpZHRoLCBoZWlnaHQ7XG5cbiAgICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxKSB7XG4gICAgICAgIHdpZHRoID0gMTtcbiAgICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGggKiB3aWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpZHRoID0gYXNwZWN0UmF0aW87XG4gICAgICAgIGhlaWdodCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FtZXJhLmxlZnQgPSAtd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS5yaWdodCA9IHdpZHRoO1xuICAgICAgdGhpcy5jYW1lcmEudG9wID0gaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEuYm90dG9tID0gLWhlaWdodDtcbiAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uTW91c2VNb3ZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGV2dCkge1xuICAgICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnggPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFggOiBldnQuY2xpZW50WDtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS55ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZ0LmNsaWVudFk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUmFmXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmFmKGRlbHRhKSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSB0aGlzLnJhZi5nZXREZWx0YSh0cnVlKTtcbiAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gR2xzbFBsYXlncm91bmQzO1xufSgpO1xuXG5leHBvcnQgeyBHbHNsUGxheWdyb3VuZDMgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground3.js\n");

/***/ }),

/***/ "./examples/glsl-playground30.js":
/*!***************************************!*\
  !*** ./examples/glsl-playground30.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground30; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/shaders/three-shader-chunks/degu-mathf */ \"./lib/shaders/three-shader-chunks/degu-mathf.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n *\n * https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739236#questions/8753186\n *\n * - normals are importing in lightin calcs\n * - three js does this but this sample is of doing a manual bump map.\n * - use the dot product of the normal and light vectors to determine the light intensity.\n * - We use directional light, the ligth position is unimportant.\n *\n *\n *\n */\n\n\n\n // Import shader chunks\n\n\nObject(_lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_4__[\"deguMathf\"])(three__WEBPACK_IMPORTED_MODULE_0__); // Extends: https://github.com/mrdoob/three.js/blob/master/src/renderers/shaders/ShaderLib/meshlambert_vert.glsl.js\n\nvar vshader = \"\\nvarying vec3 vNormal;\\nvarying vec2 vUv;\\nvarying mat4 vModelMatrix;\\n\\nvoid main() {\\n    vUv = uv;\\n    vNormal = normal;\\n    vModelMatrix = modelMatrix;\\n\\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\n#include <deguMathf>\\nvarying vec2 vUv;\\nvarying vec3 vNormal;\\nvarying mat4 vModelMatrix;\\n\\nuniform vec3 u_light;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\nuniform float u_time;\\nuniform sampler2D u_diffuse_map;\\nuniform sampler2D u_normal_map;\\n\\nvoid main(){\\n  // Normalize light vecture.\\n  vec3 lightVector = normalize(u_light);\\n\\n  // Normal map.\\n  vec4 normal = texture2D(u_normal_map, vUv);\\n\\n  // Get the normal vector from the modelMatrix.\\n  vec3 normalVector = normalize((vModelMatrix * (normal + vec4(vNormal, 1.0))).xyz);\\n\\n  // Get the dot product, clmap it so it ranges from 0-1.\\n  float lightIntensity = clamp(0.0, 1.0, dot(lightVector, normalVector)) + 0.2;\\n\\n  // Add some pulsing to the light intensity.\\n  lightIntensity *= (normalizedSin(u_time) * 2.0);\\n\\n  // Get the texel (current pixel color from the diffuse map)\\n  vec3 texel = texture2D(u_diffuse_map, vUv).rgb;\\n\\n  // Set the light intensity.\\n  vec3 color = lightIntensity * texel;\\n\\n  // Output\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground30 = /*#__PURE__*/function () {\n  function GlslPlayground30() {\n    _classCallCheck(this, GlslPlayground30);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]();\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"PerspectiveCamera\"](60, window.innerWidth / window.innerHeight, 0.1, 1000);\n    this.camera.position.z = 2; // Add some lights.\n\n    var light = new three__WEBPACK_IMPORTED_MODULE_0__[\"DirectionalLight\"](0xffda6f, 0.1);\n    light.position.set(0, 1.25, 1.25);\n    this.scene.add(light);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](1, 1, 1);\n    this.uniforms = {};\n    this.uniforms.u_light = {\n      value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0.5, 0.8, 0.1)\n    };\n    this.uniforms.u_resolution = {\n      value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector2\"](1.0, 1.0)\n    };\n    this.uniforms.u_color = {\n      value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xaa6611)\n    };\n    this.uniforms.u_diffuse_map = {\n      value: new three__WEBPACK_IMPORTED_MODULE_0__[\"TextureLoader\"]().load('./public/bricks-diffuse3.png')\n    };\n    this.uniforms.u_normal_map = {\n      value: new three__WEBPACK_IMPORTED_MODULE_0__[\"TextureLoader\"]().load('./public/bricks-normal3.png')\n    };\n    this.uniforms.u_time = {\n      value: 0.0\n    };\n    this.uniforms.u_resolution = {\n      value: {\n        x: 0.0,\n        y: 0.0\n      }\n    };\n    console.log('uniforms');\n    console.log(this.uniforms);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader,\n      lights: false,\n      wireframe: false\n    });\n    this.box = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.box);\n    this.controls = new three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_1__[\"OrbitControls\"](this.camera, this.renderer.domElement);\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground30, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf() {\n      if (this.uniforms) {\n        this.uniforms.u_time.value += this.raf.getDelta(true);\n      }\n\n      if (this.renderer) {\n        this.renderer.render(this.scene, this.camera);\n      }\n    }\n  }]);\n\n  return GlslPlayground30;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQzMC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2dsc2wtcGxheWdyb3VuZDMwLmpzPzNmMDYiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vKipcbiAqXG4gKiBodHRwczovL3d3dy51ZGVteS5jb20vY291cnNlL2xlYXJuLWdsc2wtc2hhZGVycy1mcm9tLXNjcmF0Y2gvbGVhcm4vbGVjdHVyZS8xMzczOTIzNiNxdWVzdGlvbnMvODc1MzE4NlxuICpcbiAqIC0gbm9ybWFscyBhcmUgaW1wb3J0aW5nIGluIGxpZ2h0aW4gY2FsY3NcbiAqIC0gdGhyZWUganMgZG9lcyB0aGlzIGJ1dCB0aGlzIHNhbXBsZSBpcyBvZiBkb2luZyBhIG1hbnVhbCBidW1wIG1hcC5cbiAqIC0gdXNlIHRoZSBkb3QgcHJvZHVjdCBvZiB0aGUgbm9ybWFsIGFuZCBsaWdodCB2ZWN0b3JzIHRvIGRldGVybWluZSB0aGUgbGlnaHQgaW50ZW5zaXR5LlxuICogLSBXZSB1c2UgZGlyZWN0aW9uYWwgbGlnaHQsIHRoZSBsaWd0aCBwb3NpdGlvbiBpcyB1bmltcG9ydGFudC5cbiAqXG4gKlxuICpcbiAqL1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9saWIvZG9tL2RvbS13YXRjaGVyJzsgLy8gSW1wb3J0IHNoYWRlciBjaHVua3NcblxuaW1wb3J0IHsgZGVndU1hdGhmIH0gZnJvbSAnLi4vbGliL3NoYWRlcnMvdGhyZWUtc2hhZGVyLWNodW5rcy9kZWd1LW1hdGhmJztcbmRlZ3VNYXRoZihUSFJFRSk7IC8vIEV4dGVuZHM6IGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvYmxvYi9tYXN0ZXIvc3JjL3JlbmRlcmVycy9zaGFkZXJzL1NoYWRlckxpYi9tZXNobGFtYmVydF92ZXJ0Lmdsc2wuanNcblxudmFyIHZzaGFkZXIgPSBcIlxcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbnZhcnlpbmcgdmVjMiB2VXY7XFxudmFyeWluZyBtYXQ0IHZNb2RlbE1hdHJpeDtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIHZVdiA9IHV2O1xcbiAgICB2Tm9ybWFsID0gbm9ybWFsO1xcbiAgICB2TW9kZWxNYXRyaXggPSBtb2RlbE1hdHJpeDtcXG5cXG4gICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcbn1cXG5cIjtcbnZhciBmc2hhZGVyID0gXCJcXG4jaW5jbHVkZSA8ZGVndU1hdGhmPlxcbnZhcnlpbmcgdmVjMiB2VXY7XFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxudmFyeWluZyBtYXQ0IHZNb2RlbE1hdHJpeDtcXG5cXG51bmlmb3JtIHZlYzMgdV9saWdodDtcXG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVfZGlmZnVzZV9tYXA7XFxudW5pZm9ybSBzYW1wbGVyMkQgdV9ub3JtYWxfbWFwO1xcblxcbnZvaWQgbWFpbigpe1xcbiAgLy8gTm9ybWFsaXplIGxpZ2h0IHZlY3R1cmUuXFxuICB2ZWMzIGxpZ2h0VmVjdG9yID0gbm9ybWFsaXplKHVfbGlnaHQpO1xcblxcbiAgLy8gTm9ybWFsIG1hcC5cXG4gIHZlYzQgbm9ybWFsID0gdGV4dHVyZTJEKHVfbm9ybWFsX21hcCwgdlV2KTtcXG5cXG4gIC8vIEdldCB0aGUgbm9ybWFsIHZlY3RvciBmcm9tIHRoZSBtb2RlbE1hdHJpeC5cXG4gIHZlYzMgbm9ybWFsVmVjdG9yID0gbm9ybWFsaXplKCh2TW9kZWxNYXRyaXggKiAobm9ybWFsICsgdmVjNCh2Tm9ybWFsLCAxLjApKSkueHl6KTtcXG5cXG4gIC8vIEdldCB0aGUgZG90IHByb2R1Y3QsIGNsbWFwIGl0IHNvIGl0IHJhbmdlcyBmcm9tIDAtMS5cXG4gIGZsb2F0IGxpZ2h0SW50ZW5zaXR5ID0gY2xhbXAoMC4wLCAxLjAsIGRvdChsaWdodFZlY3Rvciwgbm9ybWFsVmVjdG9yKSkgKyAwLjI7XFxuXFxuICAvLyBBZGQgc29tZSBwdWxzaW5nIHRvIHRoZSBsaWdodCBpbnRlbnNpdHkuXFxuICBsaWdodEludGVuc2l0eSAqPSAobm9ybWFsaXplZFNpbih1X3RpbWUpICogMi4wKTtcXG5cXG4gIC8vIEdldCB0aGUgdGV4ZWwgKGN1cnJlbnQgcGl4ZWwgY29sb3IgZnJvbSB0aGUgZGlmZnVzZSBtYXApXFxuICB2ZWMzIHRleGVsID0gdGV4dHVyZTJEKHVfZGlmZnVzZV9tYXAsIHZVdikucmdiO1xcblxcbiAgLy8gU2V0IHRoZSBsaWdodCBpbnRlbnNpdHkuXFxuICB2ZWMzIGNvbG9yID0gbGlnaHRJbnRlbnNpdHkgKiB0ZXhlbDtcXG5cXG4gIC8vIE91dHB1dFxcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcXG59XFxuXCI7XG5cbnZhciBHbHNsUGxheWdyb3VuZDMwID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2xzbFBsYXlncm91bmQzMCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2xzbFBsYXlncm91bmQzMCk7XG5cbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNjAsIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LCAwLjEsIDEwMDApO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAyOyAvLyBBZGQgc29tZSBsaWdodHMuXG5cbiAgICB2YXIgbGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGZmZGE2ZiwgMC4xKTtcbiAgICBsaWdodC5wb3NpdGlvbi5zZXQoMCwgMS4yNSwgMS4yNSk7XG4gICAgdGhpcy5zY2VuZS5hZGQobGlnaHQpO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMSwgMSwgMSk7XG4gICAgdGhpcy51bmlmb3JtcyA9IHt9O1xuICAgIHRoaXMudW5pZm9ybXMudV9saWdodCA9IHtcbiAgICAgIHZhbHVlOiBuZXcgVEhSRUUuVmVjdG9yMygwLjUsIDAuOCwgMC4xKVxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24gPSB7XG4gICAgICB2YWx1ZTogbmV3IFRIUkVFLlZlY3RvcjIoMS4wLCAxLjApXG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfY29sb3IgPSB7XG4gICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4YWE2NjExKVxuICAgIH07XG4gICAgdGhpcy51bmlmb3Jtcy51X2RpZmZ1c2VfbWFwID0ge1xuICAgICAgdmFsdWU6IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCgnLi9wdWJsaWMvYnJpY2tzLWRpZmZ1c2UzLnBuZycpXG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfbm9ybWFsX21hcCA9IHtcbiAgICAgIHZhbHVlOiBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoJy4vcHVibGljL2JyaWNrcy1ub3JtYWwzLnBuZycpXG4gICAgfTtcbiAgICB0aGlzLnVuaWZvcm1zLnVfdGltZSA9IHtcbiAgICAgIHZhbHVlOiAwLjBcbiAgICB9O1xuICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uID0ge1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgeDogMC4wLFxuICAgICAgICB5OiAwLjBcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnNvbGUubG9nKCd1bmlmb3JtcycpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMudW5pZm9ybXMpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlcixcbiAgICAgIGxpZ2h0czogZmFsc2UsXG4gICAgICB3aXJlZnJhbWU6IGZhbHNlXG4gICAgfSk7XG4gICAgdGhpcy5ib3ggPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmJveCk7XG4gICAgdGhpcy5jb250cm9scyA9IG5ldyBPcmJpdENvbnRyb2xzKHRoaXMuY2FtZXJhLCB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEdsc2xQbGF5Z3JvdW5kMzAsIFt7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgdmFyIGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB2YXIgd2lkdGgsIGhlaWdodDtcblxuICAgICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgICAgd2lkdGggPSAxO1xuICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgICAgaGVpZ2h0ID0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoKSB7XG4gICAgICBpZiAodGhpcy51bmlmb3Jtcykge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSB0aGlzLnJhZi5nZXREZWx0YSh0cnVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHbHNsUGxheWdyb3VuZDMwO1xufSgpO1xuXG5leHBvcnQgeyBHbHNsUGxheWdyb3VuZDMwIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground30.js\n");

/***/ }),

/***/ "./examples/glsl-playground4.js":
/*!**************************************!*\
  !*** ./examples/glsl-playground4.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground4; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n/**\n * https://threejs.org/docs/#api/en/renderers/webgl/WebGLProgram\n * https://gist.github.com/uxder/cc02c445c2f7b4679e48e91d2920c832\n */\n\nvar vshader = \"\\nvoid main() {\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\n/**\n * Based on the normalized screen coordinates (uv), mix between red and blue based\n * on the current Y pixel position.\n */\n\nvar fshader = \"\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\nuniform float u_time;\\n\\nvoid main (void)\\n{\\n  vec2 uv = gl_FragCoord.xy / u_resolution;\\n  vec3 color = mix(\\n      vec3(1.0, 0.0, 0.0), // Red\\n      vec3(0.0, 0.0, 1.0), // Blue,\\n      uv.y // Use normalized y value as the blend progress.\\n  );\\n\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground4 = /*#__PURE__*/function () {\n  function GlslPlayground4() {\n    _classCallCheck(this, GlslPlayground4);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2, 2);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground4, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground4;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQ0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvZ2xzbC1wbGF5Z3JvdW5kNC5qcz81OGJkIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuLyoqXG4gKiBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9yZW5kZXJlcnMvd2ViZ2wvV2ViR0xQcm9ncmFtXG4gKiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS91eGRlci9jYzAyYzQ0NWMyZjdiNDY3OWU0OGU5MWQyOTIwYzgzMlxuICovXG5cbnZhciB2c2hhZGVyID0gXCJcXG52b2lkIG1haW4oKSB7XFxuICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XFxufVxcblwiO1xuLyoqXG4gKiBCYXNlZCBvbiB0aGUgbm9ybWFsaXplZCBzY3JlZW4gY29vcmRpbmF0ZXMgKHV2KSwgbWl4IGJldHdlZW4gcmVkIGFuZCBibHVlIGJhc2VkXG4gKiBvbiB0aGUgY3VycmVudCBZIHBpeGVsIHBvc2l0aW9uLlxuICovXG5cbnZhciBmc2hhZGVyID0gXCJcXG51bmlmb3JtIHZlYzIgdV9tb3VzZTtcXG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xcblxcbnZvaWQgbWFpbiAodm9pZClcXG57XFxuICB2ZWMyIHV2ID0gZ2xfRnJhZ0Nvb3JkLnh5IC8gdV9yZXNvbHV0aW9uO1xcbiAgdmVjMyBjb2xvciA9IG1peChcXG4gICAgICB2ZWMzKDEuMCwgMC4wLCAwLjApLCAvLyBSZWRcXG4gICAgICB2ZWMzKDAuMCwgMC4wLCAxLjApLCAvLyBCbHVlLFxcbiAgICAgIHV2LnkgLy8gVXNlIG5vcm1hbGl6ZWQgeSB2YWx1ZSBhcyB0aGUgYmxlbmQgcHJvZ3Jlc3MuXFxuICApO1xcblxcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcXG59XFxuXCI7XG5cbnZhciBHbHNsUGxheWdyb3VuZDQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHbHNsUGxheWdyb3VuZDQoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdsc2xQbGF5Z3JvdW5kNCk7XG5cbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBSYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgdGhpcy51bmlmb3JtcyA9IHtcbiAgICAgIHVfY29sb3I6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweGZmMDAwMClcbiAgICAgIH0sXG4gICAgICAvLyBGbG9hdFxuICAgICAgdV90aW1lOiB7XG4gICAgICAgIHZhbHVlOiAwLjBcbiAgICAgIH0sXG4gICAgICAvLyBWZWMyIDAsMCBhdCB0b3AsIGxlZnQgYW5kIHdpbmRvdy5pbm5lcldpZHRoIGFuZCB3aW5kb3cuaW5uZXJIZWlnaHQgYXQgYm90dG9tIHJpZ2h0LlxuICAgICAgdV9tb3VzZToge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAuMCxcbiAgICAgICAgICB5OiAwLjBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgU2NyZWVuIHJlc29sdXRpb25cbiAgICAgIHVfcmVzb2x1dGlvbjoge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTsgLy8gMngyIHNvIGl0IGZpbGwgdGhlIHNjcmVlbi5cblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgyLCAyKTtcbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXJcbiAgICB9KTsgLy8gQ3JlYXRlIG1lc2ggKGdlb20gKyBtYXRlcmlhbClcblxuICAgIHRoaXMucGxhbmUgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLnBsYW5lKTtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID0gMTtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhHbHNsUGxheWdyb3VuZDQsIFt7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgdmFyIGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB2YXIgd2lkdGgsIGhlaWdodDtcblxuICAgICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgICAgd2lkdGggPSAxO1xuICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgICAgaGVpZ2h0ID0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3VzZU1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoZGVsdGEpIHtcbiAgICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHbHNsUGxheWdyb3VuZDQ7XG59KCk7XG5cbmV4cG9ydCB7IEdsc2xQbGF5Z3JvdW5kNCBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground4.js\n");

/***/ }),

/***/ "./examples/glsl-playground5.js":
/*!**************************************!*\
  !*** ./examples/glsl-playground5.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground5; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n/**\n *\n * Varying UV sample\n * https://threejs.org/docs/#api/en/renderers/webgl/WebGLProgram\n * https://gist.github.com/uxder/cc02c445c2f7b4679e48e91d2920c832\n */\n\nvar vshader = \"\\nvarying vec2 v_uv; // Declare v_uv\\nvarying vec3 v_position; // Declare v_position\\nvoid main() {\\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\\n  v_uv = uv;\\n  v_position = position;\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\nuniform float u_time;\\n\\nvarying vec2 v_uv;\\nvarying vec3 v_position;\\n\\nvoid main (void)\\n{\\n\\n//   vec3 color = vec3(\\n//       v_uv.x, v_uv.y, 0.0\\n//   );\\n\\n  // Different results as above because, v_position is the position of\\n  // the model as opposed to UV is a 0,0 - 1,1 spread of the model.\\n  vec3 color = vec3(\\n      v_position.x, v_position.y, 0.0\\n  );\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground5 = /*#__PURE__*/function () {\n  function GlslPlayground5() {\n    _classCallCheck(this, GlslPlayground5);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2, 2);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground5, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground5;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQ1LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvZ2xzbC1wbGF5Z3JvdW5kNS5qcz82YWNkIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuLyoqXG4gKlxuICogVmFyeWluZyBVViBzYW1wbGVcbiAqIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL3JlbmRlcmVycy93ZWJnbC9XZWJHTFByb2dyYW1cbiAqIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3V4ZGVyL2NjMDJjNDQ1YzJmN2I0Njc5ZTQ4ZTkxZDI5MjBjODMyXG4gKi9cblxudmFyIHZzaGFkZXIgPSBcIlxcbnZhcnlpbmcgdmVjMiB2X3V2OyAvLyBEZWNsYXJlIHZfdXZcXG52YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjsgLy8gRGVjbGFyZSB2X3Bvc2l0aW9uXFxudm9pZCBtYWluKCkge1xcbiAgLy8gU2V0IHRoZSB1diB2YWx1ZS4gIFRocmVlLmpzIHBhc3NlcyB0aGUgdXYgdmFsdWUgYnkgZGVmYXVsdCBvZiB0aGUgY3VycmVudCB2ZXJ0aWNlcy5cXG4gIHZfdXYgPSB1djtcXG4gIHZfcG9zaXRpb24gPSBwb3NpdGlvbjtcXG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiBtb2RlbE1hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcXG59XFxuXCI7XG52YXIgZnNoYWRlciA9IFwiXFxudW5pZm9ybSB2ZWMyIHVfbW91c2U7XFxudW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcXG51bmlmb3JtIHZlYzMgdV9jb2xvcjtcXG51bmlmb3JtIGZsb2F0IHVfdGltZTtcXG5cXG52YXJ5aW5nIHZlYzIgdl91djtcXG52YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjtcXG5cXG52b2lkIG1haW4gKHZvaWQpXFxue1xcblxcbi8vICAgdmVjMyBjb2xvciA9IHZlYzMoXFxuLy8gICAgICAgdl91di54LCB2X3V2LnksIDAuMFxcbi8vICAgKTtcXG5cXG4gIC8vIERpZmZlcmVudCByZXN1bHRzIGFzIGFib3ZlIGJlY2F1c2UsIHZfcG9zaXRpb24gaXMgdGhlIHBvc2l0aW9uIG9mXFxuICAvLyB0aGUgbW9kZWwgYXMgb3Bwb3NlZCB0byBVViBpcyBhIDAsMCAtIDEsMSBzcHJlYWQgb2YgdGhlIG1vZGVsLlxcbiAgdmVjMyBjb2xvciA9IHZlYzMoXFxuICAgICAgdl9wb3NpdGlvbi54LCB2X3Bvc2l0aW9uLnksIDAuMFxcbiAgKTtcXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XFxufVxcblwiO1xuXG52YXIgR2xzbFBsYXlncm91bmQ1ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2xzbFBsYXlncm91bmQ1KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHbHNsUGxheWdyb3VuZDUpO1xuXG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpOyAvLyAyeDJcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSgtMSwgMSwgMSwgLTEsIDAuMSwgMTApO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdtb3VzZW1vdmUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKVxuICAgIH0pO1xuICAgIHRoaXMudW5pZm9ybXMgPSB7XG4gICAgICB1X2NvbG9yOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHhmZjAwMDApXG4gICAgICB9LFxuICAgICAgLy8gRmxvYXRcbiAgICAgIHVfdGltZToge1xuICAgICAgICB2YWx1ZTogMC4wXG4gICAgICB9LFxuICAgICAgLy8gVmVjMiAwLDAgYXQgdG9wLCBsZWZ0IGFuZCB3aW5kb3cuaW5uZXJXaWR0aCBhbmQgd2luZG93LmlubmVySGVpZ2h0IGF0IGJvdHRvbSByaWdodC5cbiAgICAgIHVfbW91c2U6IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLjAsXG4gICAgICAgICAgeTogMC4wXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvLyBWZWMyIFNjcmVlbiByZXNvbHV0aW9uXG4gICAgICB1X3Jlc29sdXRpb246IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07IC8vIDJ4MiBzbyBpdCBmaWxsIHRoZSBzY3JlZW4uXG5cbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMiwgMik7XG4gICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICB1bmlmb3JtczogdGhpcy51bmlmb3JtcyxcbiAgICAgIHZlcnRleFNoYWRlcjogdnNoYWRlcixcbiAgICAgIGZyYWdtZW50U2hhZGVyOiBmc2hhZGVyXG4gICAgfSk7IC8vIENyZWF0ZSBtZXNoIChnZW9tICsgbWF0ZXJpYWwpXG5cbiAgICB0aGlzLnBsYW5lID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5wbGFuZSk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDE7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoR2xzbFBsYXlncm91bmQ1LCBbe1xuICAgIGtleTogXCJvblJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgICAgIHZhciBhc3BlY3RSYXRpbyA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgdmFyIHdpZHRoLCBoZWlnaHQ7XG5cbiAgICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxKSB7XG4gICAgICAgIHdpZHRoID0gMTtcbiAgICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGggKiB3aWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpZHRoID0gYXNwZWN0UmF0aW87XG4gICAgICAgIGhlaWdodCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FtZXJhLmxlZnQgPSAtd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS5yaWdodCA9IHdpZHRoO1xuICAgICAgdGhpcy5jYW1lcmEudG9wID0gaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEuYm90dG9tID0gLWhlaWdodDtcbiAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uTW91c2VNb3ZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGV2dCkge1xuICAgICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnggPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFggOiBldnQuY2xpZW50WDtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS55ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZ0LmNsaWVudFk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUmFmXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmFmKGRlbHRhKSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSB0aGlzLnJhZi5nZXREZWx0YSh0cnVlKTtcbiAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gR2xzbFBsYXlncm91bmQ1O1xufSgpO1xuXG5leHBvcnQgeyBHbHNsUGxheWdyb3VuZDUgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/glsl-playground5.js\n");

/***/ }),

/***/ "./examples/glsl-playground6.js":
/*!**************************************!*\
  !*** ./examples/glsl-playground6.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground6; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar vshader = \"\\nvarying vec3 v_position; // Declare v_position\\nvoid main() {\\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\\n  v_position = position;\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\nuniform float u_time;\\n\\nvarying vec3 v_position;\\n\\nvoid main (void)\\n{\\n\\n  // Normalization of v_position since 0,0 is the center and we know that\\n  // this plane is 2 wide with -1 at the egdes.\\n  //   vec2 pos = (v_position.xy + 1.0) / 2.0;\\n  vec3 color = vec3(0.0);\\n\\n  // v_position ranges from -1, 1 (as defined in our plane) so clamp the values.\\n  color.r = clamp(v_position.x, 0.0, 1.0);\\n  color.g = clamp(v_position.y, 0.0, 1.0);\\n\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground6 = /*#__PURE__*/function () {\n  function GlslPlayground6() {\n    _classCallCheck(this, GlslPlayground6);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2, 2);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground6, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground6;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQ2LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvZ2xzbC1wbGF5Z3JvdW5kNi5qcz9lM2JmIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xudmFyIHZzaGFkZXIgPSBcIlxcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uOyAvLyBEZWNsYXJlIHZfcG9zaXRpb25cXG52b2lkIG1haW4oKSB7XFxuICAvLyBTZXQgdGhlIHV2IHZhbHVlLiAgVGhyZWUuanMgcGFzc2VzIHRoZSB1diB2YWx1ZSBieSBkZWZhdWx0IG9mIHRoZSBjdXJyZW50IHZlcnRpY2VzLlxcbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld01hdHJpeCAqIG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcbn1cXG5cIjtcbnZhciBmc2hhZGVyID0gXCJcXG51bmlmb3JtIHZlYzIgdV9tb3VzZTtcXG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xcblxcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xcblxcbnZvaWQgbWFpbiAodm9pZClcXG57XFxuXFxuICAvLyBOb3JtYWxpemF0aW9uIG9mIHZfcG9zaXRpb24gc2luY2UgMCwwIGlzIHRoZSBjZW50ZXIgYW5kIHdlIGtub3cgdGhhdFxcbiAgLy8gdGhpcyBwbGFuZSBpcyAyIHdpZGUgd2l0aCAtMSBhdCB0aGUgZWdkZXMuXFxuICAvLyAgIHZlYzIgcG9zID0gKHZfcG9zaXRpb24ueHkgKyAxLjApIC8gMi4wO1xcbiAgdmVjMyBjb2xvciA9IHZlYzMoMC4wKTtcXG5cXG4gIC8vIHZfcG9zaXRpb24gcmFuZ2VzIGZyb20gLTEsIDEgKGFzIGRlZmluZWQgaW4gb3VyIHBsYW5lKSBzbyBjbGFtcCB0aGUgdmFsdWVzLlxcbiAgY29sb3IuciA9IGNsYW1wKHZfcG9zaXRpb24ueCwgMC4wLCAxLjApO1xcbiAgY29sb3IuZyA9IGNsYW1wKHZfcG9zaXRpb24ueSwgMC4wLCAxLjApO1xcblxcbiAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgMS4wKTtcXG59XFxuXCI7XG5cbnZhciBHbHNsUGxheWdyb3VuZDYgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHbHNsUGxheWdyb3VuZDYoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdsc2xQbGF5Z3JvdW5kNik7XG5cbiAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7IC8vIDJ4MlxuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMC4xLCAxMCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBSYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdyZXNpemUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgdGhpcy51bmlmb3JtcyA9IHtcbiAgICAgIHVfY29sb3I6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigweGZmMDAwMClcbiAgICAgIH0sXG4gICAgICAvLyBGbG9hdFxuICAgICAgdV90aW1lOiB7XG4gICAgICAgIHZhbHVlOiAwLjBcbiAgICAgIH0sXG4gICAgICAvLyBWZWMyIDAsMCBhdCB0b3AsIGxlZnQgYW5kIHdpbmRvdy5pbm5lcldpZHRoIGFuZCB3aW5kb3cuaW5uZXJIZWlnaHQgYXQgYm90dG9tIHJpZ2h0LlxuICAgICAgdV9tb3VzZToge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAuMCxcbiAgICAgICAgICB5OiAwLjBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgU2NyZWVuIHJlc29sdXRpb25cbiAgICAgIHVfcmVzb2x1dGlvbjoge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTsgLy8gMngyIHNvIGl0IGZpbGwgdGhlIHNjcmVlbi5cblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgyLCAyKTtcbiAgICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgdmVydGV4U2hhZGVyOiB2c2hhZGVyLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzaGFkZXJcbiAgICB9KTsgLy8gQ3JlYXRlIG1lc2ggKGdlb20gKyBtYXRlcmlhbClcblxuICAgIHRoaXMucGxhbmUgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLnBsYW5lKTtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56ID0gMTtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhHbHNsUGxheWdyb3VuZDYsIFt7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgdmFyIGFzcGVjdFJhdGlvID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB2YXIgd2lkdGgsIGhlaWdodDtcblxuICAgICAgaWYgKGFzcGVjdFJhdGlvID49IDEpIHtcbiAgICAgICAgd2lkdGggPSAxO1xuICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpZHRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGggPSBhc3BlY3RSYXRpbztcbiAgICAgICAgaGVpZ2h0ID0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYW1lcmEubGVmdCA9IC13aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnJpZ2h0ID0gd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS50b3AgPSBoZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS5ib3R0b20gPSAtaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24udmFsdWUueSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3VzZU1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueCA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2dC5jbGllbnRYO1xuICAgICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnkgPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFkgOiBldnQuY2xpZW50WTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoZGVsdGEpIHtcbiAgICAgIHRoaXMudW5pZm9ybXMudV90aW1lLnZhbHVlICs9IHRoaXMucmFmLmdldERlbHRhKHRydWUpO1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBHbHNsUGxheWdyb3VuZDY7XG59KCk7XG5cbmV4cG9ydCB7IEdsc2xQbGF5Z3JvdW5kNiBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/glsl-playground6.js\n");

/***/ }),

/***/ "./examples/glsl-playground7.js":
/*!**************************************!*\
  !*** ./examples/glsl-playground7.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground7; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar vshader = \"\\nvarying vec3 v_position; // Declare v_position\\nvoid main() {\\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\\n  v_position = position;\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\nuniform float u_time;\\n\\nvarying vec3 v_position;\\n\\nvoid main (void)\\n{\\n\\n  // Normalization of v_position since 0,0 is the center and we know that\\n  // this plane is 2 wide with -1 at the egdes.\\n  //   vec2 pos = (v_position.xy + 1.0) / 2.0;\\n  vec3 color = vec3(0.0);\\n\\n  // v_position ranges from -1, 1 (as defined in our plane) so clamp the values.\\n  // By using step we get sharp edges.\\n  //color.r = step(0.0, v_position.x);\\n  //color.g = step(0.0, v_position.y);\\n\\n  // Returns a full yellow screeen because the position.xy\\n  // are always greater than -1.0\\n//   color.r = step(-1.0, v_position.x);\\n//   color.g = step(-1.0, v_position.y);\\n\\n\\n  // Smooth step example.\\n  // Compare to step above, it smooths out the steps and edges.\\n  color.r = smoothstep(0.0, 0.1, v_position.x);\\n  color.g = smoothstep(0.0, 0.1, v_position.y);\\n\\n\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground7 = /*#__PURE__*/function () {\n  function GlslPlayground7() {\n    _classCallCheck(this, GlslPlayground7);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2, 2);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground7, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground7;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQ3LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvZ2xzbC1wbGF5Z3JvdW5kNy5qcz9kMTJiIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xudmFyIHZzaGFkZXIgPSBcIlxcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uOyAvLyBEZWNsYXJlIHZfcG9zaXRpb25cXG52b2lkIG1haW4oKSB7XFxuICAvLyBTZXQgdGhlIHV2IHZhbHVlLiAgVGhyZWUuanMgcGFzc2VzIHRoZSB1diB2YWx1ZSBieSBkZWZhdWx0IG9mIHRoZSBjdXJyZW50IHZlcnRpY2VzLlxcbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld01hdHJpeCAqIG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcbn1cXG5cIjtcbnZhciBmc2hhZGVyID0gXCJcXG51bmlmb3JtIHZlYzIgdV9tb3VzZTtcXG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xcblxcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xcblxcbnZvaWQgbWFpbiAodm9pZClcXG57XFxuXFxuICAvLyBOb3JtYWxpemF0aW9uIG9mIHZfcG9zaXRpb24gc2luY2UgMCwwIGlzIHRoZSBjZW50ZXIgYW5kIHdlIGtub3cgdGhhdFxcbiAgLy8gdGhpcyBwbGFuZSBpcyAyIHdpZGUgd2l0aCAtMSBhdCB0aGUgZWdkZXMuXFxuICAvLyAgIHZlYzIgcG9zID0gKHZfcG9zaXRpb24ueHkgKyAxLjApIC8gMi4wO1xcbiAgdmVjMyBjb2xvciA9IHZlYzMoMC4wKTtcXG5cXG4gIC8vIHZfcG9zaXRpb24gcmFuZ2VzIGZyb20gLTEsIDEgKGFzIGRlZmluZWQgaW4gb3VyIHBsYW5lKSBzbyBjbGFtcCB0aGUgdmFsdWVzLlxcbiAgLy8gQnkgdXNpbmcgc3RlcCB3ZSBnZXQgc2hhcnAgZWRnZXMuXFxuICAvL2NvbG9yLnIgPSBzdGVwKDAuMCwgdl9wb3NpdGlvbi54KTtcXG4gIC8vY29sb3IuZyA9IHN0ZXAoMC4wLCB2X3Bvc2l0aW9uLnkpO1xcblxcbiAgLy8gUmV0dXJucyBhIGZ1bGwgeWVsbG93IHNjcmVlZW4gYmVjYXVzZSB0aGUgcG9zaXRpb24ueHlcXG4gIC8vIGFyZSBhbHdheXMgZ3JlYXRlciB0aGFuIC0xLjBcXG4vLyAgIGNvbG9yLnIgPSBzdGVwKC0xLjAsIHZfcG9zaXRpb24ueCk7XFxuLy8gICBjb2xvci5nID0gc3RlcCgtMS4wLCB2X3Bvc2l0aW9uLnkpO1xcblxcblxcbiAgLy8gU21vb3RoIHN0ZXAgZXhhbXBsZS5cXG4gIC8vIENvbXBhcmUgdG8gc3RlcCBhYm92ZSwgaXQgc21vb3RocyBvdXQgdGhlIHN0ZXBzIGFuZCBlZGdlcy5cXG4gIGNvbG9yLnIgPSBzbW9vdGhzdGVwKDAuMCwgMC4xLCB2X3Bvc2l0aW9uLngpO1xcbiAgY29sb3IuZyA9IHNtb290aHN0ZXAoMC4wLCAwLjEsIHZfcG9zaXRpb24ueSk7XFxuXFxuXFxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxLjApO1xcbn1cXG5cIjtcblxudmFyIEdsc2xQbGF5Z3JvdW5kNyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEdsc2xQbGF5Z3JvdW5kNygpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2xzbFBsYXlncm91bmQ3KTtcblxuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTsgLy8gMngyXG5cbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoLTEsIDEsIDEsIC0xLCAwLjEsIDEwKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMucmFmID0gbmV3IFJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgdV9jb2xvcjoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmYwMDAwKVxuICAgICAgfSxcbiAgICAgIC8vIEZsb2F0XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgMCwwIGF0IHRvcCwgbGVmdCBhbmQgd2luZG93LmlubmVyV2lkdGggYW5kIHdpbmRvdy5pbm5lckhlaWdodCBhdCBib3R0b20gcmlnaHQuXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gVmVjMiBTY3JlZW4gcmVzb2x1dGlvblxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyAyeDIgc28gaXQgZmlsbCB0aGUgc2NyZWVuLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIsIDIpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEdsc2xQbGF5Z3JvdW5kNywgW3tcbiAgICBrZXk6IFwib25SZXNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SZXNpemUoKSB7XG4gICAgICB2YXIgYXNwZWN0UmF0aW8gPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIHZhciB3aWR0aCwgaGVpZ2h0O1xuXG4gICAgICBpZiAoYXNwZWN0UmF0aW8gPj0gMSkge1xuICAgICAgICB3aWR0aCA9IDE7XG4gICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAvIHdpbmRvdy5pbm5lcldpZHRoICogd2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aWR0aCA9IGFzcGVjdFJhdGlvO1xuICAgICAgICBoZWlnaHQgPSAxO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNhbWVyYS5sZWZ0ID0gLXdpZHRoO1xuICAgICAgdGhpcy5jYW1lcmEucmlnaHQgPSB3aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnRvcCA9IGhlaWdodDtcbiAgICAgIHRoaXMuY2FtZXJhLmJvdHRvbSA9IC1oZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS54ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS55ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbk1vdXNlTW92ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1vdXNlTW92ZShldnQpIHtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS54ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZ0LmNsaWVudFg7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueSA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2dC5jbGllbnRZO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJhZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJhZihkZWx0YSkge1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgKz0gdGhpcy5yYWYuZ2V0RGVsdGEodHJ1ZSk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEdsc2xQbGF5Z3JvdW5kNztcbn0oKTtcblxuZXhwb3J0IHsgR2xzbFBsYXlncm91bmQ3IGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground7.js\n");

/***/ }),

/***/ "./examples/glsl-playground8.js":
/*!**************************************!*\
  !*** ./examples/glsl-playground8.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground8; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar vshader = \"\\nvarying vec3 v_position; // Declare v_position\\nvoid main() {\\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\\n  v_position = position;\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\nuniform float u_time;\\n\\nvarying vec3 v_position;\\n\\nvoid main (void)\\n{\\n\\n  // inCirlce is 0.0 when length is less than 0.5 and 1 when it's greater than 0.5.\\n  float inCircle = step(0.5, length(v_position.xy));\\n  // Invert it the result.\\n  inCircle = 1.0 - inCircle;\\n\\n\\n//   float inCircle = 1.0 - step(0.5, length(v_position.xy));\\n\\n  // Multiply the color by 1.0 (resulting in yellow)\\n  // or 0.0 = 0.0 (resulting in black)\\n  vec3 color = vec3(1.0, 1.0, 0.0) * inCircle;\\n\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground8 = /*#__PURE__*/function () {\n  function GlslPlayground8() {\n    _classCallCheck(this, GlslPlayground8);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2, 2);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground8, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground8;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQ4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvZ2xzbC1wbGF5Z3JvdW5kOC5qcz85NWRhIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xudmFyIHZzaGFkZXIgPSBcIlxcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uOyAvLyBEZWNsYXJlIHZfcG9zaXRpb25cXG52b2lkIG1haW4oKSB7XFxuICAvLyBTZXQgdGhlIHV2IHZhbHVlLiAgVGhyZWUuanMgcGFzc2VzIHRoZSB1diB2YWx1ZSBieSBkZWZhdWx0IG9mIHRoZSBjdXJyZW50IHZlcnRpY2VzLlxcbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld01hdHJpeCAqIG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcbn1cXG5cIjtcbnZhciBmc2hhZGVyID0gXCJcXG51bmlmb3JtIHZlYzIgdV9tb3VzZTtcXG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xcblxcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xcblxcbnZvaWQgbWFpbiAodm9pZClcXG57XFxuXFxuICAvLyBpbkNpcmxjZSBpcyAwLjAgd2hlbiBsZW5ndGggaXMgbGVzcyB0aGFuIDAuNSBhbmQgMSB3aGVuIGl0J3MgZ3JlYXRlciB0aGFuIDAuNS5cXG4gIGZsb2F0IGluQ2lyY2xlID0gc3RlcCgwLjUsIGxlbmd0aCh2X3Bvc2l0aW9uLnh5KSk7XFxuICAvLyBJbnZlcnQgaXQgdGhlIHJlc3VsdC5cXG4gIGluQ2lyY2xlID0gMS4wIC0gaW5DaXJjbGU7XFxuXFxuXFxuLy8gICBmbG9hdCBpbkNpcmNsZSA9IDEuMCAtIHN0ZXAoMC41LCBsZW5ndGgodl9wb3NpdGlvbi54eSkpO1xcblxcbiAgLy8gTXVsdGlwbHkgdGhlIGNvbG9yIGJ5IDEuMCAocmVzdWx0aW5nIGluIHllbGxvdylcXG4gIC8vIG9yIDAuMCA9IDAuMCAocmVzdWx0aW5nIGluIGJsYWNrKVxcbiAgdmVjMyBjb2xvciA9IHZlYzMoMS4wLCAxLjAsIDAuMCkgKiBpbkNpcmNsZTtcXG5cXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIDEuMCk7XFxufVxcblwiO1xuXG52YXIgR2xzbFBsYXlncm91bmQ4ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2xzbFBsYXlncm91bmQ4KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHbHNsUGxheWdyb3VuZDgpO1xuXG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpOyAvLyAyeDJcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSgtMSwgMSwgMSwgLTEsIDAuMSwgMTApO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdtb3VzZW1vdmUnLFxuICAgICAgY2FsbGJhY2s6IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKVxuICAgIH0pO1xuICAgIHRoaXMudW5pZm9ybXMgPSB7XG4gICAgICB1X2NvbG9yOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgVEhSRUUuQ29sb3IoMHhmZjAwMDApXG4gICAgICB9LFxuICAgICAgLy8gRmxvYXRcbiAgICAgIHVfdGltZToge1xuICAgICAgICB2YWx1ZTogMC4wXG4gICAgICB9LFxuICAgICAgLy8gVmVjMiAwLDAgYXQgdG9wLCBsZWZ0IGFuZCB3aW5kb3cuaW5uZXJXaWR0aCBhbmQgd2luZG93LmlubmVySGVpZ2h0IGF0IGJvdHRvbSByaWdodC5cbiAgICAgIHVfbW91c2U6IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLjAsXG4gICAgICAgICAgeTogMC4wXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvLyBWZWMyIFNjcmVlbiByZXNvbHV0aW9uXG4gICAgICB1X3Jlc29sdXRpb246IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07IC8vIDJ4MiBzbyBpdCBmaWxsIHRoZSBzY3JlZW4uXG5cbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMiwgMik7XG4gICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICB1bmlmb3JtczogdGhpcy51bmlmb3JtcyxcbiAgICAgIHZlcnRleFNoYWRlcjogdnNoYWRlcixcbiAgICAgIGZyYWdtZW50U2hhZGVyOiBmc2hhZGVyXG4gICAgfSk7IC8vIENyZWF0ZSBtZXNoIChnZW9tICsgbWF0ZXJpYWwpXG5cbiAgICB0aGlzLnBsYW5lID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5wbGFuZSk7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueiA9IDE7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoR2xzbFBsYXlncm91bmQ4LCBbe1xuICAgIGtleTogXCJvblJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgICAgIHZhciBhc3BlY3RSYXRpbyA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgdmFyIHdpZHRoLCBoZWlnaHQ7XG5cbiAgICAgIGlmIChhc3BlY3RSYXRpbyA+PSAxKSB7XG4gICAgICAgIHdpZHRoID0gMTtcbiAgICAgICAgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGggKiB3aWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpZHRoID0gYXNwZWN0UmF0aW87XG4gICAgICAgIGhlaWdodCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FtZXJhLmxlZnQgPSAtd2lkdGg7XG4gICAgICB0aGlzLmNhbWVyYS5yaWdodCA9IHdpZHRoO1xuICAgICAgdGhpcy5jYW1lcmEudG9wID0gaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEuYm90dG9tID0gLWhlaWdodDtcbiAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uTW91c2VNb3ZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGV2dCkge1xuICAgICAgdGhpcy51bmlmb3Jtcy51X21vdXNlLnZhbHVlLnggPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdLmNsaWVudFggOiBldnQuY2xpZW50WDtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS55ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZ0LmNsaWVudFk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUmFmXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmFmKGRlbHRhKSB7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSB0aGlzLnJhZi5nZXREZWx0YSh0cnVlKTtcbiAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gR2xzbFBsYXlncm91bmQ4O1xufSgpO1xuXG5leHBvcnQgeyBHbHNsUGxheWdyb3VuZDggYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/glsl-playground8.js\n");

/***/ }),

/***/ "./examples/glsl-playground9.js":
/*!**************************************!*\
  !*** ./examples/glsl-playground9.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GlslPlayground9; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar vshader = \"\\nvarying vec3 v_position; // Declare v_position\\nvoid main() {\\n  // Set the uv value.  Three.js passes the uv value by default of the current vertices.\\n  v_position = position;\\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\\n}\\n\";\nvar fshader = \"\\nuniform vec2 u_mouse;\\nuniform vec2 u_resolution;\\nuniform vec3 u_color;\\nuniform float u_time;\\n\\nvarying vec3 v_position;\\n\\n// Determine if a particular pixel is within the boundaries of a rectangle box.\\n// Returns 1.0 when point pt,  is inside a rectangle defined by size and center.\\nfloat rect(vec2 pt, vec2 size, vec2 center) {\\n    // We need to offset the position of the virtual box to do a hit test.\\n    vec2 p = pt - center;\\n    vec2 halfsize = size * 0.5; // Half the size since we just need\\n\\n    // Now do a hit test of this rectangle and see if pt falls within it.\\n    // float horz = (v_position.x > -halfsize.x && v_position.x < halfsize.x) ?\\n    float horz = step(-halfsize.x, p.x) - step(halfsize.x, p.x);\\n    float vert = step(-halfsize.y, p.y) - step(halfsize.y, p.y);\\n    return horz * vert;\\n}\\n\\nvoid main (void)\\n{\\n\\n\\n// Example 1: Just a square\\n//   float inRect = rect(v_position.xy, vec2(0.5), vec2(0.0));\\n//   vec3 color = vec3(1.0, 1.0, 0.0) * inRect;\\n\\n// Example 2: Some movement\\n// Add movement over time.\\n//   float s = ((sin(u_time) + 1.0) / 2.0); // Normalize sin.\\n//   s = s - 0.5; // Offset it.\\n//   float inRect = rect(v_position.xy, vec2(s, s), vec2(s, -s));\\n//   vec3 color = vec3(1.0, 1.0, 0.0) * inRect;\\n\\n// // Example 3: Two squares\\n//   float square1 = rect(v_position.xy, vec2(0.3), vec2(0.0));\\n//   float square2 = rect(v_position.xy, vec2(0.3), vec2(-0.5));\\n//   vec3 color =\\n//     (vec3(1.0, 1.0, 0.0) * square1) + // square 1\\n//     (vec3(0.0, 1.0, 0.0) * square2) // square2\\n//    ;\\n\\n\\n// Example 4: Go around in a circle.\\n  float radius = 0.2;\\n  float time = u_time * 2.0;\\n  // Get the center point for going around in a circle over time.\\n  vec2 center = vec2( cos(time) * radius, sin(time) * radius);\\n  float inRect = rect(v_position.xy, vec2(0.4), center);\\n  vec3 color = vec3(1.0, 1.0, 0.0) * inRect;\\n\\n\\n\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";\n\nvar GlslPlayground9 = /*#__PURE__*/function () {\n  function GlslPlayground9() {\n    _classCallCheck(this, GlslPlayground9);\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // 2x2\n\n    this.camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"OrthographicCamera\"](-1, 1, 1, -1, 0.1, 10);\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(this.renderer.domElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.onRaf.bind(this));\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.domWatcher.add({\n      element: window,\n      on: 'resize',\n      callback: this.onResize.bind(this),\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.domWatcher.add({\n      element: window,\n      on: 'mousemove',\n      callback: this.onMouseMove.bind(this)\n    });\n    this.uniforms = {\n      u_color: {\n        value: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](0xff0000)\n      },\n      // Float\n      u_time: {\n        value: 0.0\n      },\n      // Vec2 0,0 at top, left and window.innerWidth and window.innerHeight at bottom right.\n      u_mouse: {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      },\n      // Vec2 Screen resolution\n      u_resolution: {\n        value: {\n          x: 0,\n          y: 0\n        }\n      }\n    }; // 2x2 so it fill the screen.\n\n    this.geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"PlaneGeometry\"](2, 2);\n    this.material = new three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderMaterial\"]({\n      uniforms: this.uniforms,\n      vertexShader: vshader,\n      fragmentShader: fshader\n    }); // Create mesh (geom + material)\n\n    this.plane = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](this.geometry, this.material);\n    this.scene.add(this.plane);\n    this.camera.position.z = 1;\n    this.onResize();\n    this.raf.start();\n  }\n\n  _createClass(GlslPlayground9, [{\n    key: \"onResize\",\n    value: function onResize() {\n      var aspectRatio = window.innerWidth / window.innerHeight;\n      var width, height;\n\n      if (aspectRatio >= 1) {\n        width = 1;\n        height = window.innerHeight / window.innerWidth * width;\n      } else {\n        width = aspectRatio;\n        height = 1;\n      }\n\n      this.camera.left = -width;\n      this.camera.right = width;\n      this.camera.top = height;\n      this.camera.bottom = -height;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n      this.uniforms.u_resolution.value.x = window.innerWidth;\n      this.uniforms.u_resolution.value.y = window.innerHeight;\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(evt) {\n      this.uniforms.u_mouse.value.x = evt.touches ? evt.touches[0].clientX : evt.clientX;\n      this.uniforms.u_mouse.value.y = evt.touches ? evt.touches[0].clientY : evt.clientY;\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.uniforms.u_time.value += this.raf.getDelta(true);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return GlslPlayground9;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9nbHNsLXBsYXlncm91bmQ5LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvZ2xzbC1wbGF5Z3JvdW5kOS5qcz8zNGU5Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xudmFyIHZzaGFkZXIgPSBcIlxcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uOyAvLyBEZWNsYXJlIHZfcG9zaXRpb25cXG52b2lkIG1haW4oKSB7XFxuICAvLyBTZXQgdGhlIHV2IHZhbHVlLiAgVGhyZWUuanMgcGFzc2VzIHRoZSB1diB2YWx1ZSBieSBkZWZhdWx0IG9mIHRoZSBjdXJyZW50IHZlcnRpY2VzLlxcbiAgdl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld01hdHJpeCAqIG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcbn1cXG5cIjtcbnZhciBmc2hhZGVyID0gXCJcXG51bmlmb3JtIHZlYzIgdV9tb3VzZTtcXG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xcbnVuaWZvcm0gZmxvYXQgdV90aW1lO1xcblxcbnZhcnlpbmcgdmVjMyB2X3Bvc2l0aW9uO1xcblxcbi8vIERldGVybWluZSBpZiBhIHBhcnRpY3VsYXIgcGl4ZWwgaXMgd2l0aGluIHRoZSBib3VuZGFyaWVzIG9mIGEgcmVjdGFuZ2xlIGJveC5cXG4vLyBSZXR1cm5zIDEuMCB3aGVuIHBvaW50IHB0LCAgaXMgaW5zaWRlIGEgcmVjdGFuZ2xlIGRlZmluZWQgYnkgc2l6ZSBhbmQgY2VudGVyLlxcbmZsb2F0IHJlY3QodmVjMiBwdCwgdmVjMiBzaXplLCB2ZWMyIGNlbnRlcikge1xcbiAgICAvLyBXZSBuZWVkIHRvIG9mZnNldCB0aGUgcG9zaXRpb24gb2YgdGhlIHZpcnR1YWwgYm94IHRvIGRvIGEgaGl0IHRlc3QuXFxuICAgIHZlYzIgcCA9IHB0IC0gY2VudGVyO1xcbiAgICB2ZWMyIGhhbGZzaXplID0gc2l6ZSAqIDAuNTsgLy8gSGFsZiB0aGUgc2l6ZSBzaW5jZSB3ZSBqdXN0IG5lZWRcXG5cXG4gICAgLy8gTm93IGRvIGEgaGl0IHRlc3Qgb2YgdGhpcyByZWN0YW5nbGUgYW5kIHNlZSBpZiBwdCBmYWxscyB3aXRoaW4gaXQuXFxuICAgIC8vIGZsb2F0IGhvcnogPSAodl9wb3NpdGlvbi54ID4gLWhhbGZzaXplLnggJiYgdl9wb3NpdGlvbi54IDwgaGFsZnNpemUueCkgP1xcbiAgICBmbG9hdCBob3J6ID0gc3RlcCgtaGFsZnNpemUueCwgcC54KSAtIHN0ZXAoaGFsZnNpemUueCwgcC54KTtcXG4gICAgZmxvYXQgdmVydCA9IHN0ZXAoLWhhbGZzaXplLnksIHAueSkgLSBzdGVwKGhhbGZzaXplLnksIHAueSk7XFxuICAgIHJldHVybiBob3J6ICogdmVydDtcXG59XFxuXFxudm9pZCBtYWluICh2b2lkKVxcbntcXG5cXG5cXG4vLyBFeGFtcGxlIDE6IEp1c3QgYSBzcXVhcmVcXG4vLyAgIGZsb2F0IGluUmVjdCA9IHJlY3Qodl9wb3NpdGlvbi54eSwgdmVjMigwLjUpLCB2ZWMyKDAuMCkpO1xcbi8vICAgdmVjMyBjb2xvciA9IHZlYzMoMS4wLCAxLjAsIDAuMCkgKiBpblJlY3Q7XFxuXFxuLy8gRXhhbXBsZSAyOiBTb21lIG1vdmVtZW50XFxuLy8gQWRkIG1vdmVtZW50IG92ZXIgdGltZS5cXG4vLyAgIGZsb2F0IHMgPSAoKHNpbih1X3RpbWUpICsgMS4wKSAvIDIuMCk7IC8vIE5vcm1hbGl6ZSBzaW4uXFxuLy8gICBzID0gcyAtIDAuNTsgLy8gT2Zmc2V0IGl0Llxcbi8vICAgZmxvYXQgaW5SZWN0ID0gcmVjdCh2X3Bvc2l0aW9uLnh5LCB2ZWMyKHMsIHMpLCB2ZWMyKHMsIC1zKSk7XFxuLy8gICB2ZWMzIGNvbG9yID0gdmVjMygxLjAsIDEuMCwgMC4wKSAqIGluUmVjdDtcXG5cXG4vLyAvLyBFeGFtcGxlIDM6IFR3byBzcXVhcmVzXFxuLy8gICBmbG9hdCBzcXVhcmUxID0gcmVjdCh2X3Bvc2l0aW9uLnh5LCB2ZWMyKDAuMyksIHZlYzIoMC4wKSk7XFxuLy8gICBmbG9hdCBzcXVhcmUyID0gcmVjdCh2X3Bvc2l0aW9uLnh5LCB2ZWMyKDAuMyksIHZlYzIoLTAuNSkpO1xcbi8vICAgdmVjMyBjb2xvciA9XFxuLy8gICAgICh2ZWMzKDEuMCwgMS4wLCAwLjApICogc3F1YXJlMSkgKyAvLyBzcXVhcmUgMVxcbi8vICAgICAodmVjMygwLjAsIDEuMCwgMC4wKSAqIHNxdWFyZTIpIC8vIHNxdWFyZTJcXG4vLyAgICA7XFxuXFxuXFxuLy8gRXhhbXBsZSA0OiBHbyBhcm91bmQgaW4gYSBjaXJjbGUuXFxuICBmbG9hdCByYWRpdXMgPSAwLjI7XFxuICBmbG9hdCB0aW1lID0gdV90aW1lICogMi4wO1xcbiAgLy8gR2V0IHRoZSBjZW50ZXIgcG9pbnQgZm9yIGdvaW5nIGFyb3VuZCBpbiBhIGNpcmNsZSBvdmVyIHRpbWUuXFxuICB2ZWMyIGNlbnRlciA9IHZlYzIoIGNvcyh0aW1lKSAqIHJhZGl1cywgc2luKHRpbWUpICogcmFkaXVzKTtcXG4gIGZsb2F0IGluUmVjdCA9IHJlY3Qodl9wb3NpdGlvbi54eSwgdmVjMigwLjQpLCBjZW50ZXIpO1xcbiAgdmVjMyBjb2xvciA9IHZlYzMoMS4wLCAxLjAsIDAuMCkgKiBpblJlY3Q7XFxuXFxuXFxuXFxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxLjApO1xcbn1cXG5cIjtcblxudmFyIEdsc2xQbGF5Z3JvdW5kOSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEdsc2xQbGF5Z3JvdW5kOSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2xzbFBsYXlncm91bmQ5KTtcblxuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTsgLy8gMngyXG5cbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoLTEsIDEsIDEsIC0xLCAwLjEsIDEwKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHRoaXMucmFmID0gbmV3IFJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICBjYWxsYmFjazogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLnVuaWZvcm1zID0ge1xuICAgICAgdV9jb2xvcjoge1xuICAgICAgICB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4ZmYwMDAwKVxuICAgICAgfSxcbiAgICAgIC8vIEZsb2F0XG4gICAgICB1X3RpbWU6IHtcbiAgICAgICAgdmFsdWU6IDAuMFxuICAgICAgfSxcbiAgICAgIC8vIFZlYzIgMCwwIGF0IHRvcCwgbGVmdCBhbmQgd2luZG93LmlubmVyV2lkdGggYW5kIHdpbmRvdy5pbm5lckhlaWdodCBhdCBib3R0b20gcmlnaHQuXG4gICAgICB1X21vdXNlOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gVmVjMiBTY3JlZW4gcmVzb2x1dGlvblxuICAgICAgdV9yZXNvbHV0aW9uOiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9OyAvLyAyeDIgc28gaXQgZmlsbCB0aGUgc2NyZWVuLlxuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDIsIDIpO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgdW5pZm9ybXM6IHRoaXMudW5pZm9ybXMsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlcjogZnNoYWRlclxuICAgIH0pOyAvLyBDcmVhdGUgbWVzaCAoZ2VvbSArIG1hdGVyaWFsKVxuXG4gICAgdGhpcy5wbGFuZSA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucGxhbmUpO1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSAxO1xuICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEdsc2xQbGF5Z3JvdW5kOSwgW3tcbiAgICBrZXk6IFwib25SZXNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SZXNpemUoKSB7XG4gICAgICB2YXIgYXNwZWN0UmF0aW8gPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIHZhciB3aWR0aCwgaGVpZ2h0O1xuXG4gICAgICBpZiAoYXNwZWN0UmF0aW8gPj0gMSkge1xuICAgICAgICB3aWR0aCA9IDE7XG4gICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAvIHdpbmRvdy5pbm5lcldpZHRoICogd2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aWR0aCA9IGFzcGVjdFJhdGlvO1xuICAgICAgICBoZWlnaHQgPSAxO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNhbWVyYS5sZWZ0ID0gLXdpZHRoO1xuICAgICAgdGhpcy5jYW1lcmEucmlnaHQgPSB3aWR0aDtcbiAgICAgIHRoaXMuY2FtZXJhLnRvcCA9IGhlaWdodDtcbiAgICAgIHRoaXMuY2FtZXJhLmJvdHRvbSA9IC1oZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS54ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS55ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbk1vdXNlTW92ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1vdXNlTW92ZShldnQpIHtcbiAgICAgIHRoaXMudW5pZm9ybXMudV9tb3VzZS52YWx1ZS54ID0gZXZ0LnRvdWNoZXMgPyBldnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZ0LmNsaWVudFg7XG4gICAgICB0aGlzLnVuaWZvcm1zLnVfbW91c2UudmFsdWUueSA9IGV2dC50b3VjaGVzID8gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2dC5jbGllbnRZO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJhZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJhZihkZWx0YSkge1xuICAgICAgdGhpcy51bmlmb3Jtcy51X3RpbWUudmFsdWUgKz0gdGhpcy5yYWYuZ2V0RGVsdGEodHJ1ZSk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEdsc2xQbGF5Z3JvdW5kOTtcbn0oKTtcblxuZXhwb3J0IHsgR2xzbFBsYXlncm91bmQ5IGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/glsl-playground9.js\n");

/***/ }),

/***/ "./examples/hermite-curve.js":
/*!***********************************!*\
  !*** ./examples/hermite-curve.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return HermiteCurveSample; });\n/* harmony import */ var _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/dom/dom-canvas */ \"./lib/dom/dom-canvas.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _lib_mathf_hermite_curve__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/mathf/hermite-curve */ \"./lib/mathf/hermite-curve.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n/**\n * Demonstrates basic usage of Hermite Curve\n */\n\nvar HermiteCurveSample = function HermiteCurveSample() {\n  _classCallCheck(this, HermiteCurveSample);\n\n  this.canvas = document.getElementById('canvas');\n  this.canvas.width = this.canvas.offsetWidth;\n  this.canvas.height = this.canvas.offsetHeight;\n  this.context = this.canvas.getContext('2d');\n  var p0 = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](50, 400);\n  var m0 = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](100, 200);\n  var p1 = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](300, 300);\n  var m1 = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](400, 400); // Set the number of points we want to draw.\n\n  var drawPoints = 500; // The amount of progress to per dot.\n\n  var progressSpan = 1 / drawPoints;\n\n  for (var step = 0; step < drawPoints; step++) {\n    // Draw a dot along the curve.  The progress value goes from 0-1.\n    var progress = step * progressSpan;\n    _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'orange');\n    _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'orange');\n    var vector = _lib_mathf_hermite_curve__WEBPACK_IMPORTED_MODULE_2__[\"HermiteCurve\"].getPoint(progress, p0, m0, p1, m1);\n    _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, vector, 2);\n  } // Now draw out a large dot for each point.\n\n\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'red');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'red');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, p0);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].quickText(this.context, 'p0', p0.x, p0.y - 4);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'blue');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'blue');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].quickText(this.context, 'm0', m0.x, m0.y - 4);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, m0);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'green');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'green');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].quickText(this.context, 'p1', p1.x, p1.y - 4);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, p1);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'purple');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'purple');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].quickText(this.context, 'm1', m1.x, m1.y - 4);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, m1);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9oZXJtaXRlLWN1cnZlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvaGVybWl0ZS1jdXJ2ZS5qcz8xZjZlIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmltcG9ydCB7IGRvbUNhbnZhcyB9IGZyb20gJy4uL2xpYi9kb20vZG9tLWNhbnZhcyc7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuLi9saWIvbWF0aGYvdmVjdG9yJztcbmltcG9ydCB7IEhlcm1pdGVDdXJ2ZSB9IGZyb20gJy4uL2xpYi9tYXRoZi9oZXJtaXRlLWN1cnZlJztcbi8qKlxuICogRGVtb25zdHJhdGVzIGJhc2ljIHVzYWdlIG9mIEhlcm1pdGUgQ3VydmVcbiAqL1xuXG52YXIgSGVybWl0ZUN1cnZlU2FtcGxlID0gZnVuY3Rpb24gSGVybWl0ZUN1cnZlU2FtcGxlKCkge1xuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGVybWl0ZUN1cnZlU2FtcGxlKTtcblxuICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcbiAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5vZmZzZXRXaWR0aDtcbiAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMub2Zmc2V0SGVpZ2h0O1xuICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICB2YXIgcDAgPSBuZXcgVmVjdG9yKDUwLCA0MDApO1xuICB2YXIgbTAgPSBuZXcgVmVjdG9yKDEwMCwgMjAwKTtcbiAgdmFyIHAxID0gbmV3IFZlY3RvcigzMDAsIDMwMCk7XG4gIHZhciBtMSA9IG5ldyBWZWN0b3IoNDAwLCA0MDApOyAvLyBTZXQgdGhlIG51bWJlciBvZiBwb2ludHMgd2Ugd2FudCB0byBkcmF3LlxuXG4gIHZhciBkcmF3UG9pbnRzID0gNTAwOyAvLyBUaGUgYW1vdW50IG9mIHByb2dyZXNzIHRvIHBlciBkb3QuXG5cbiAgdmFyIHByb2dyZXNzU3BhbiA9IDEgLyBkcmF3UG9pbnRzO1xuXG4gIGZvciAodmFyIHN0ZXAgPSAwOyBzdGVwIDwgZHJhd1BvaW50czsgc3RlcCsrKSB7XG4gICAgLy8gRHJhdyBhIGRvdCBhbG9uZyB0aGUgY3VydmUuICBUaGUgcHJvZ3Jlc3MgdmFsdWUgZ29lcyBmcm9tIDAtMS5cbiAgICB2YXIgcHJvZ3Jlc3MgPSBzdGVwICogcHJvZ3Jlc3NTcGFuO1xuICAgIGRvbUNhbnZhcy5zZXRGaWxsQ29sb3IodGhpcy5jb250ZXh0LCAnb3JhbmdlJyk7XG4gICAgZG9tQ2FudmFzLnNldFN0cm9rZUNvbG9yKHRoaXMuY29udGV4dCwgJ29yYW5nZScpO1xuICAgIHZhciB2ZWN0b3IgPSBIZXJtaXRlQ3VydmUuZ2V0UG9pbnQocHJvZ3Jlc3MsIHAwLCBtMCwgcDEsIG0xKTtcbiAgICBkb21DYW52YXMudmVjdG9yUG9pbnQodGhpcy5jb250ZXh0LCB2ZWN0b3IsIDIpO1xuICB9IC8vIE5vdyBkcmF3IG91dCBhIGxhcmdlIGRvdCBmb3IgZWFjaCBwb2ludC5cblxuXG4gIGRvbUNhbnZhcy5zZXRGaWxsQ29sb3IodGhpcy5jb250ZXh0LCAncmVkJyk7XG4gIGRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdyZWQnKTtcbiAgZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgcDApO1xuICBkb21DYW52YXMucXVpY2tUZXh0KHRoaXMuY29udGV4dCwgJ3AwJywgcDAueCwgcDAueSAtIDQpO1xuICBkb21DYW52YXMuc2V0RmlsbENvbG9yKHRoaXMuY29udGV4dCwgJ2JsdWUnKTtcbiAgZG9tQ2FudmFzLnNldFN0cm9rZUNvbG9yKHRoaXMuY29udGV4dCwgJ2JsdWUnKTtcbiAgZG9tQ2FudmFzLnF1aWNrVGV4dCh0aGlzLmNvbnRleHQsICdtMCcsIG0wLngsIG0wLnkgLSA0KTtcbiAgZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgbTApO1xuICBkb21DYW52YXMuc2V0RmlsbENvbG9yKHRoaXMuY29udGV4dCwgJ2dyZWVuJyk7XG4gIGRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdncmVlbicpO1xuICBkb21DYW52YXMucXVpY2tUZXh0KHRoaXMuY29udGV4dCwgJ3AxJywgcDEueCwgcDEueSAtIDQpO1xuICBkb21DYW52YXMudmVjdG9yUG9pbnQodGhpcy5jb250ZXh0LCBwMSk7XG4gIGRvbUNhbnZhcy5zZXRGaWxsQ29sb3IodGhpcy5jb250ZXh0LCAncHVycGxlJyk7XG4gIGRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdwdXJwbGUnKTtcbiAgZG9tQ2FudmFzLnF1aWNrVGV4dCh0aGlzLmNvbnRleHQsICdtMScsIG0xLngsIG0xLnkgLSA0KTtcbiAgZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgbTEpO1xufTtcblxuZXhwb3J0IHsgSGVybWl0ZUN1cnZlU2FtcGxlIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/hermite-curve.js\n");

/***/ }),

/***/ "./examples/interpolate.js":
/*!*********************************!*\
  !*** ./examples/interpolate.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return InterpolateSample; });\n/* harmony import */ var _lib_interpolate_interpolate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/interpolate/interpolate */ \"./lib/interpolate/interpolate.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar InterpolateSample = /*#__PURE__*/function () {\n  function InterpolateSample() {\n    var _this = this;\n\n    _classCallCheck(this, InterpolateSample);\n\n    console.log('running raf timer sample'); //\n    // Here is an example of updating the ball x, y positions\n    // based on progress (a value between 0-1).\n    //\n    // Here progress is represented by the range input.\n    //\n    // See mathf.ease example as well.\n    //\n\n    this.ball = document.getElementById('ball');\n    this.range = document.getElementById('range');\n    this.progress = +this.range.value;\n    var ballXInter = new _lib_interpolate_interpolate__WEBPACK_IMPORTED_MODULE_0__[\"Interpolate\"]({\n      from: 0,\n      to: 500,\n      easeFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_3__[\"EASE\"].easeOutSine\n    });\n    var ballYInter = new _lib_interpolate_interpolate__WEBPACK_IMPORTED_MODULE_0__[\"Interpolate\"]({\n      from: 0,\n      to: 500,\n      easeFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_3__[\"EASE\"].easeInCubic\n    }); // Note we are using Raf for demo purposes.  Use [[RafProgress]] to\n    // ease progress and avoid layout thrashing.\n\n    var raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__[\"Raf\"](function () {\n      var progress = +_this.range.value; // Add a lerp to the progress itself.\n      // This creates a ease, delayed motion when scrolling.\n      // Note, it's usually recommended to apply only EASE.linear\n      // for progress lerping.\n      // See mathf.ease example as well.\n\n      _this.progress = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_1__[\"mathf\"].ease(_this.progress, progress, 0.25, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_3__[\"EASE\"].easeInOutQuad); // Uncomment me to see the difference without progress lerping.\n      // this.progress = progress;\n\n      var x = ballXInter.calculate(_this.progress);\n      var y = ballYInter.calculate(_this.progress);\n\n      _this.updateBallPosition(x, y);\n    }); // raf.setFps(1);\n\n    raf.start();\n  }\n\n  _createClass(InterpolateSample, [{\n    key: \"updateBallPosition\",\n    value: function updateBallPosition(x, y) {\n      this.ball.style.transform = \"translateX(\".concat(x, \"px) translateY(\").concat(y, \"px)\");\n    }\n  }]);\n\n  return InterpolateSample;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9pbnRlcnBvbGF0ZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL2ludGVycG9sYXRlLmpzP2QyMWEiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5pbXBvcnQgeyBJbnRlcnBvbGF0ZSB9IGZyb20gJy4uL2xpYi9pbnRlcnBvbGF0ZS9pbnRlcnBvbGF0ZSc7XG5pbXBvcnQgeyBtYXRoZiB9IGZyb20gJy4uL2xpYi9tYXRoZi9tYXRoZic7XG5pbXBvcnQgeyBSYWYgfSBmcm9tICcuLi9saWIvcmFmL3JhZic7XG5pbXBvcnQgeyBFQVNFIH0gZnJvbSAnLi4vbGliL2Vhc2UvZWFzZSc7XG5cbnZhciBJbnRlcnBvbGF0ZVNhbXBsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEludGVycG9sYXRlU2FtcGxlKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW50ZXJwb2xhdGVTYW1wbGUpO1xuXG4gICAgY29uc29sZS5sb2coJ3J1bm5pbmcgcmFmIHRpbWVyIHNhbXBsZScpOyAvL1xuICAgIC8vIEhlcmUgaXMgYW4gZXhhbXBsZSBvZiB1cGRhdGluZyB0aGUgYmFsbCB4LCB5IHBvc2l0aW9uc1xuICAgIC8vIGJhc2VkIG9uIHByb2dyZXNzIChhIHZhbHVlIGJldHdlZW4gMC0xKS5cbiAgICAvL1xuICAgIC8vIEhlcmUgcHJvZ3Jlc3MgaXMgcmVwcmVzZW50ZWQgYnkgdGhlIHJhbmdlIGlucHV0LlxuICAgIC8vXG4gICAgLy8gU2VlIG1hdGhmLmVhc2UgZXhhbXBsZSBhcyB3ZWxsLlxuICAgIC8vXG5cbiAgICB0aGlzLmJhbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFsbCcpO1xuICAgIHRoaXMucmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFuZ2UnKTtcbiAgICB0aGlzLnByb2dyZXNzID0gK3RoaXMucmFuZ2UudmFsdWU7XG4gICAgdmFyIGJhbGxYSW50ZXIgPSBuZXcgSW50ZXJwb2xhdGUoe1xuICAgICAgZnJvbTogMCxcbiAgICAgIHRvOiA1MDAsXG4gICAgICBlYXNlRnVuY3Rpb246IEVBU0UuZWFzZU91dFNpbmVcbiAgICB9KTtcbiAgICB2YXIgYmFsbFlJbnRlciA9IG5ldyBJbnRlcnBvbGF0ZSh7XG4gICAgICBmcm9tOiAwLFxuICAgICAgdG86IDUwMCxcbiAgICAgIGVhc2VGdW5jdGlvbjogRUFTRS5lYXNlSW5DdWJpY1xuICAgIH0pOyAvLyBOb3RlIHdlIGFyZSB1c2luZyBSYWYgZm9yIGRlbW8gcHVycG9zZXMuICBVc2UgW1tSYWZQcm9ncmVzc11dIHRvXG4gICAgLy8gZWFzZSBwcm9ncmVzcyBhbmQgYXZvaWQgbGF5b3V0IHRocmFzaGluZy5cblxuICAgIHZhciByYWYgPSBuZXcgUmFmKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwcm9ncmVzcyA9ICtfdGhpcy5yYW5nZS52YWx1ZTsgLy8gQWRkIGEgbGVycCB0byB0aGUgcHJvZ3Jlc3MgaXRzZWxmLlxuICAgICAgLy8gVGhpcyBjcmVhdGVzIGEgZWFzZSwgZGVsYXllZCBtb3Rpb24gd2hlbiBzY3JvbGxpbmcuXG4gICAgICAvLyBOb3RlLCBpdCdzIHVzdWFsbHkgcmVjb21tZW5kZWQgdG8gYXBwbHkgb25seSBFQVNFLmxpbmVhclxuICAgICAgLy8gZm9yIHByb2dyZXNzIGxlcnBpbmcuXG4gICAgICAvLyBTZWUgbWF0aGYuZWFzZSBleGFtcGxlIGFzIHdlbGwuXG5cbiAgICAgIF90aGlzLnByb2dyZXNzID0gbWF0aGYuZWFzZShfdGhpcy5wcm9ncmVzcywgcHJvZ3Jlc3MsIDAuMjUsIEVBU0UuZWFzZUluT3V0UXVhZCk7IC8vIFVuY29tbWVudCBtZSB0byBzZWUgdGhlIGRpZmZlcmVuY2Ugd2l0aG91dCBwcm9ncmVzcyBsZXJwaW5nLlxuICAgICAgLy8gdGhpcy5wcm9ncmVzcyA9IHByb2dyZXNzO1xuXG4gICAgICB2YXIgeCA9IGJhbGxYSW50ZXIuY2FsY3VsYXRlKF90aGlzLnByb2dyZXNzKTtcbiAgICAgIHZhciB5ID0gYmFsbFlJbnRlci5jYWxjdWxhdGUoX3RoaXMucHJvZ3Jlc3MpO1xuXG4gICAgICBfdGhpcy51cGRhdGVCYWxsUG9zaXRpb24oeCwgeSk7XG4gICAgfSk7IC8vIHJhZi5zZXRGcHMoMSk7XG5cbiAgICByYWYuc3RhcnQoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhJbnRlcnBvbGF0ZVNhbXBsZSwgW3tcbiAgICBrZXk6IFwidXBkYXRlQmFsbFBvc2l0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUJhbGxQb3NpdGlvbih4LCB5KSB7XG4gICAgICB0aGlzLmJhbGwuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKFwiLmNvbmNhdCh4LCBcInB4KSB0cmFuc2xhdGVZKFwiKS5jb25jYXQoeSwgXCJweClcIik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEludGVycG9sYXRlU2FtcGxlO1xufSgpO1xuXG5leHBvcnQgeyBJbnRlcnBvbGF0ZVNhbXBsZSBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/interpolate.js\n");

/***/ }),

/***/ "./examples/inview.js":
/*!****************************!*\
  !*** ./examples/inview.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return InviewSample; });\n/* harmony import */ var _lib_dom_inview__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/dom/inview */ \"./lib/dom/inview.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar InviewSample = function InviewSample() {\n  _classCallCheck(this, InviewSample);\n\n  console.log(\"inview sample\");\n  new _lib_dom_inview__WEBPACK_IMPORTED_MODULE_0__[\"Inview\"]({\n    element: document.getElementById('test0'),\n    elementBaseline: 0,\n    viewportOffset: 0.2,\n    outviewElementBaseline: 1,\n    outviewViewportOffset: 0.8\n  });\n  new _lib_dom_inview__WEBPACK_IMPORTED_MODULE_0__[\"Inview\"]({\n    element: document.getElementById('test'),\n    elementBaseline: 0,\n    viewportOffset: 0.2,\n    outviewOnlyOnElementExit: true\n  });\n  new _lib_dom_inview__WEBPACK_IMPORTED_MODULE_0__[\"Inview\"]({\n    element: document.getElementById('test2'),\n    elementBaseline: 0,\n    viewportOffset: 0.2,\n    // outviewOnlyOnElementExit: true\n    downOnlyMode: true\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9pbnZpZXcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9pbnZpZXcuanM/N2I4MyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5pbXBvcnQgeyBJbnZpZXcgfSBmcm9tICcuLi9saWIvZG9tL2ludmlldyc7XG5cbnZhciBJbnZpZXdTYW1wbGUgPSBmdW5jdGlvbiBJbnZpZXdTYW1wbGUoKSB7XG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnZpZXdTYW1wbGUpO1xuXG4gIGNvbnNvbGUubG9nKFwiaW52aWV3IHNhbXBsZVwiKTtcbiAgbmV3IEludmlldyh7XG4gICAgZWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rlc3QwJyksXG4gICAgZWxlbWVudEJhc2VsaW5lOiAwLFxuICAgIHZpZXdwb3J0T2Zmc2V0OiAwLjIsXG4gICAgb3V0dmlld0VsZW1lbnRCYXNlbGluZTogMSxcbiAgICBvdXR2aWV3Vmlld3BvcnRPZmZzZXQ6IDAuOFxuICB9KTtcbiAgbmV3IEludmlldyh7XG4gICAgZWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rlc3QnKSxcbiAgICBlbGVtZW50QmFzZWxpbmU6IDAsXG4gICAgdmlld3BvcnRPZmZzZXQ6IDAuMixcbiAgICBvdXR2aWV3T25seU9uRWxlbWVudEV4aXQ6IHRydWVcbiAgfSk7XG4gIG5ldyBJbnZpZXcoe1xuICAgIGVsZW1lbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXN0MicpLFxuICAgIGVsZW1lbnRCYXNlbGluZTogMCxcbiAgICB2aWV3cG9ydE9mZnNldDogMC4yLFxuICAgIC8vIG91dHZpZXdPbmx5T25FbGVtZW50RXhpdDogdHJ1ZVxuICAgIGRvd25Pbmx5TW9kZTogdHJ1ZVxuICB9KTtcbn07XG5cbmV4cG9ydCB7IEludmlld1NhbXBsZSBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/inview.js\n");

/***/ }),

/***/ "./examples/mathf-ease.js":
/*!********************************!*\
  !*** ./examples/mathf-ease.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MathfEaseSample; });\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_mathf_cubic_bezier__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/mathf/cubic-bezier */ \"./lib/mathf/cubic-bezier.js\");\n/* harmony import */ var _lib_mathf_catmull_rom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/mathf/catmull-rom */ \"./lib/mathf/catmull-rom.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\nvar MathfEaseSample = /*#__PURE__*/function () {\n  function MathfEaseSample() {\n    var _this = this;\n\n    _classCallCheck(this, MathfEaseSample);\n\n    console.log('Mathf Ease Sample'); //\n    // Here is an example of updating the ball x, y positions\n    // based on progress (a value between 0-1).\n    //\n    // Moving the range input, will change the progress from 0-1.\n    //\n    // It is important to note that there are two levels of easing.\n    // The first level of ease is to the x, y POSITIONS of the ball.\n    // This is not easing of the animations (smoothing out interactions),\n    // but is easing calculations of the PATH that the ball should\n    // follow.\n    //\n    // This is calculated with:\n    //    x = mathf.ease(0, 500, this.progress, EASE.easeOutSine);\n    //    y = mathf.ease(0, 500, this.progress, EASE.easeInCubic);\n    //\n    //\n    // In order to smooth out the interaction (create a slight delay,\n    // smoothness),we add a second level of easing to the progress itself.\n    // This is adding EASE to the timeline rather than the path so there is\n    // a distinction.\n    //\n    //    this.progress = mathf.ease(this.progress, progress, 0.25, EASE.easeInOutQuad);\n    //\n    // Applying ease to progression works nicely in cases like this or\n    // in cases like where you are using the window scroll as a input\n    // for progression.\n    //\n    // Below is a demo but for a more performance way to ease progress,\n    // see [[RafProgress]].\n    //\n    // Try applying around with the demo.\n    //\n\n    this.ball = document.getElementById('ball');\n    this.checkbox = document.getElementById('checkbox');\n    this.range = document.getElementById('range');\n    this.progress = +this.range.value; // Note we are using Raf for demo purposes.  Use [[RafProgress]] to\n    // ease progress and avoid layout thrashing.\n\n    var raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](function () {\n      var progress = +_this.range.value; // Add a lerp to the progress itself.\n      // This creates a ease, delayed motion when scrolling.\n      // Note, it's usually recommended to apply only EASE.linear\n      // for progress lerping.\n\n      if (_this.checkbox.checked) {\n        // this.progress = mathf.ease(this.progress, progress, 0.25, EASE.easeInOutQuad);\n        // this.progress = mathf.ease(this.progress, progress, 0.02, EASE.linear);\n        _this.progress = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"mathf\"].damp(_this.progress, progress, 0.25, 0.3);\n      } else {\n        // No easing on progress.\n        _this.progress = progress;\n      } // EASE Example\n      // let x = mathf.ease(0, 500, this.progress, EASE.easeOutSine);\n      // let y = mathf.ease(0, 500, this.progress, EASE.easeInCubic);\n      // Cubic Bezier  Example\n      // Keep X as linear so you can see the bezier on the y.\n      // https://cubic-bezier.com/\n      // let x = mathf.ease(0, 500, this.progress,\n      //     EASE.linear);\n      // let y = mathf.ease(500, 0, this.progress,\n      //     CubicBezier.makeEasingFunction(0.17, 0.67, 0.93, -0.12));\n      // Catmull-Rom example.\n\n\n      var catmullEasing = _lib_mathf_catmull_rom__WEBPACK_IMPORTED_MODULE_4__[\"CatmullRom\"].interpolate([new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_5__[\"Vector\"](0, 500), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_5__[\"Vector\"](100, 300), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_5__[\"Vector\"](200, 200), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_5__[\"Vector\"](300, 400), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_5__[\"Vector\"](400, 200), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_5__[\"Vector\"](500, 300)], 0.5, 0.5); // let x = mathf.ease(0, 500, this.progress,\n      //     EASE.linear);\n      // console.log('x');\n\n      var x = catmullEasing(_this.progress).x;\n      var y = catmullEasing(_this.progress).y; // console.log(y);\n      // console.log(y);\n\n      _this.updateBallPosition(x, y);\n    }); // raf.setFps(1);\n\n    raf.start();\n  }\n\n  _createClass(MathfEaseSample, [{\n    key: \"updateBallPosition\",\n    value: function updateBallPosition(x, y) {\n      this.ball.style.transform = \"translateX(\".concat(x, \"px) translateY(\").concat(y, \"px)\");\n    }\n  }]);\n\n  return MathfEaseSample;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9tYXRoZi1lYXNlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvbWF0aGYtZWFzZS5qcz80YTExIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0IHsgbWF0aGYgfSBmcm9tICcuLi9saWIvbWF0aGYvbWF0aGYnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgRUFTRSB9IGZyb20gJy4uL2xpYi9lYXNlL2Vhc2UnO1xuaW1wb3J0IHsgQ3ViaWNCZXppZXIgfSBmcm9tICcuLi9saWIvbWF0aGYvY3ViaWMtYmV6aWVyJztcbmltcG9ydCB7IENhdG11bGxSb20gfSBmcm9tICcuLi9saWIvbWF0aGYvY2F0bXVsbC1yb20nO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vbGliL21hdGhmL3ZlY3Rvcic7XG5cbnZhciBNYXRoZkVhc2VTYW1wbGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNYXRoZkVhc2VTYW1wbGUoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYXRoZkVhc2VTYW1wbGUpO1xuXG4gICAgY29uc29sZS5sb2coJ01hdGhmIEVhc2UgU2FtcGxlJyk7IC8vXG4gICAgLy8gSGVyZSBpcyBhbiBleGFtcGxlIG9mIHVwZGF0aW5nIHRoZSBiYWxsIHgsIHkgcG9zaXRpb25zXG4gICAgLy8gYmFzZWQgb24gcHJvZ3Jlc3MgKGEgdmFsdWUgYmV0d2VlbiAwLTEpLlxuICAgIC8vXG4gICAgLy8gTW92aW5nIHRoZSByYW5nZSBpbnB1dCwgd2lsbCBjaGFuZ2UgdGhlIHByb2dyZXNzIGZyb20gMC0xLlxuICAgIC8vXG4gICAgLy8gSXQgaXMgaW1wb3J0YW50IHRvIG5vdGUgdGhhdCB0aGVyZSBhcmUgdHdvIGxldmVscyBvZiBlYXNpbmcuXG4gICAgLy8gVGhlIGZpcnN0IGxldmVsIG9mIGVhc2UgaXMgdG8gdGhlIHgsIHkgUE9TSVRJT05TIG9mIHRoZSBiYWxsLlxuICAgIC8vIFRoaXMgaXMgbm90IGVhc2luZyBvZiB0aGUgYW5pbWF0aW9ucyAoc21vb3RoaW5nIG91dCBpbnRlcmFjdGlvbnMpLFxuICAgIC8vIGJ1dCBpcyBlYXNpbmcgY2FsY3VsYXRpb25zIG9mIHRoZSBQQVRIIHRoYXQgdGhlIGJhbGwgc2hvdWxkXG4gICAgLy8gZm9sbG93LlxuICAgIC8vXG4gICAgLy8gVGhpcyBpcyBjYWxjdWxhdGVkIHdpdGg6XG4gICAgLy8gICAgeCA9IG1hdGhmLmVhc2UoMCwgNTAwLCB0aGlzLnByb2dyZXNzLCBFQVNFLmVhc2VPdXRTaW5lKTtcbiAgICAvLyAgICB5ID0gbWF0aGYuZWFzZSgwLCA1MDAsIHRoaXMucHJvZ3Jlc3MsIEVBU0UuZWFzZUluQ3ViaWMpO1xuICAgIC8vXG4gICAgLy9cbiAgICAvLyBJbiBvcmRlciB0byBzbW9vdGggb3V0IHRoZSBpbnRlcmFjdGlvbiAoY3JlYXRlIGEgc2xpZ2h0IGRlbGF5LFxuICAgIC8vIHNtb290aG5lc3MpLHdlIGFkZCBhIHNlY29uZCBsZXZlbCBvZiBlYXNpbmcgdG8gdGhlIHByb2dyZXNzIGl0c2VsZi5cbiAgICAvLyBUaGlzIGlzIGFkZGluZyBFQVNFIHRvIHRoZSB0aW1lbGluZSByYXRoZXIgdGhhbiB0aGUgcGF0aCBzbyB0aGVyZSBpc1xuICAgIC8vIGEgZGlzdGluY3Rpb24uXG4gICAgLy9cbiAgICAvLyAgICB0aGlzLnByb2dyZXNzID0gbWF0aGYuZWFzZSh0aGlzLnByb2dyZXNzLCBwcm9ncmVzcywgMC4yNSwgRUFTRS5lYXNlSW5PdXRRdWFkKTtcbiAgICAvL1xuICAgIC8vIEFwcGx5aW5nIGVhc2UgdG8gcHJvZ3Jlc3Npb24gd29ya3MgbmljZWx5IGluIGNhc2VzIGxpa2UgdGhpcyBvclxuICAgIC8vIGluIGNhc2VzIGxpa2Ugd2hlcmUgeW91IGFyZSB1c2luZyB0aGUgd2luZG93IHNjcm9sbCBhcyBhIGlucHV0XG4gICAgLy8gZm9yIHByb2dyZXNzaW9uLlxuICAgIC8vXG4gICAgLy8gQmVsb3cgaXMgYSBkZW1vIGJ1dCBmb3IgYSBtb3JlIHBlcmZvcm1hbmNlIHdheSB0byBlYXNlIHByb2dyZXNzLFxuICAgIC8vIHNlZSBbW1JhZlByb2dyZXNzXV0uXG4gICAgLy9cbiAgICAvLyBUcnkgYXBwbHlpbmcgYXJvdW5kIHdpdGggdGhlIGRlbW8uXG4gICAgLy9cblxuICAgIHRoaXMuYmFsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWxsJyk7XG4gICAgdGhpcy5jaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGVja2JveCcpO1xuICAgIHRoaXMucmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFuZ2UnKTtcbiAgICB0aGlzLnByb2dyZXNzID0gK3RoaXMucmFuZ2UudmFsdWU7IC8vIE5vdGUgd2UgYXJlIHVzaW5nIFJhZiBmb3IgZGVtbyBwdXJwb3Nlcy4gIFVzZSBbW1JhZlByb2dyZXNzXV0gdG9cbiAgICAvLyBlYXNlIHByb2dyZXNzIGFuZCBhdm9pZCBsYXlvdXQgdGhyYXNoaW5nLlxuXG4gICAgdmFyIHJhZiA9IG5ldyBSYWYoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHByb2dyZXNzID0gK190aGlzLnJhbmdlLnZhbHVlOyAvLyBBZGQgYSBsZXJwIHRvIHRoZSBwcm9ncmVzcyBpdHNlbGYuXG4gICAgICAvLyBUaGlzIGNyZWF0ZXMgYSBlYXNlLCBkZWxheWVkIG1vdGlvbiB3aGVuIHNjcm9sbGluZy5cbiAgICAgIC8vIE5vdGUsIGl0J3MgdXN1YWxseSByZWNvbW1lbmRlZCB0byBhcHBseSBvbmx5IEVBU0UubGluZWFyXG4gICAgICAvLyBmb3IgcHJvZ3Jlc3MgbGVycGluZy5cblxuICAgICAgaWYgKF90aGlzLmNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgICAgLy8gdGhpcy5wcm9ncmVzcyA9IG1hdGhmLmVhc2UodGhpcy5wcm9ncmVzcywgcHJvZ3Jlc3MsIDAuMjUsIEVBU0UuZWFzZUluT3V0UXVhZCk7XG4gICAgICAgIC8vIHRoaXMucHJvZ3Jlc3MgPSBtYXRoZi5lYXNlKHRoaXMucHJvZ3Jlc3MsIHByb2dyZXNzLCAwLjAyLCBFQVNFLmxpbmVhcik7XG4gICAgICAgIF90aGlzLnByb2dyZXNzID0gbWF0aGYuZGFtcChfdGhpcy5wcm9ncmVzcywgcHJvZ3Jlc3MsIDAuMjUsIDAuMyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBObyBlYXNpbmcgb24gcHJvZ3Jlc3MuXG4gICAgICAgIF90aGlzLnByb2dyZXNzID0gcHJvZ3Jlc3M7XG4gICAgICB9IC8vIEVBU0UgRXhhbXBsZVxuICAgICAgLy8gbGV0IHggPSBtYXRoZi5lYXNlKDAsIDUwMCwgdGhpcy5wcm9ncmVzcywgRUFTRS5lYXNlT3V0U2luZSk7XG4gICAgICAvLyBsZXQgeSA9IG1hdGhmLmVhc2UoMCwgNTAwLCB0aGlzLnByb2dyZXNzLCBFQVNFLmVhc2VJbkN1YmljKTtcbiAgICAgIC8vIEN1YmljIEJlemllciAgRXhhbXBsZVxuICAgICAgLy8gS2VlcCBYIGFzIGxpbmVhciBzbyB5b3UgY2FuIHNlZSB0aGUgYmV6aWVyIG9uIHRoZSB5LlxuICAgICAgLy8gaHR0cHM6Ly9jdWJpYy1iZXppZXIuY29tL1xuICAgICAgLy8gbGV0IHggPSBtYXRoZi5lYXNlKDAsIDUwMCwgdGhpcy5wcm9ncmVzcyxcbiAgICAgIC8vICAgICBFQVNFLmxpbmVhcik7XG4gICAgICAvLyBsZXQgeSA9IG1hdGhmLmVhc2UoNTAwLCAwLCB0aGlzLnByb2dyZXNzLFxuICAgICAgLy8gICAgIEN1YmljQmV6aWVyLm1ha2VFYXNpbmdGdW5jdGlvbigwLjE3LCAwLjY3LCAwLjkzLCAtMC4xMikpO1xuICAgICAgLy8gQ2F0bXVsbC1Sb20gZXhhbXBsZS5cblxuXG4gICAgICB2YXIgY2F0bXVsbEVhc2luZyA9IENhdG11bGxSb20uaW50ZXJwb2xhdGUoW25ldyBWZWN0b3IoMCwgNTAwKSwgbmV3IFZlY3RvcigxMDAsIDMwMCksIG5ldyBWZWN0b3IoMjAwLCAyMDApLCBuZXcgVmVjdG9yKDMwMCwgNDAwKSwgbmV3IFZlY3Rvcig0MDAsIDIwMCksIG5ldyBWZWN0b3IoNTAwLCAzMDApXSwgMC41LCAwLjUpOyAvLyBsZXQgeCA9IG1hdGhmLmVhc2UoMCwgNTAwLCB0aGlzLnByb2dyZXNzLFxuICAgICAgLy8gICAgIEVBU0UubGluZWFyKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCd4Jyk7XG5cbiAgICAgIHZhciB4ID0gY2F0bXVsbEVhc2luZyhfdGhpcy5wcm9ncmVzcykueDtcbiAgICAgIHZhciB5ID0gY2F0bXVsbEVhc2luZyhfdGhpcy5wcm9ncmVzcykueTsgLy8gY29uc29sZS5sb2coeSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyh5KTtcblxuICAgICAgX3RoaXMudXBkYXRlQmFsbFBvc2l0aW9uKHgsIHkpO1xuICAgIH0pOyAvLyByYWYuc2V0RnBzKDEpO1xuXG4gICAgcmFmLnN0YXJ0KCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWF0aGZFYXNlU2FtcGxlLCBbe1xuICAgIGtleTogXCJ1cGRhdGVCYWxsUG9zaXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQmFsbFBvc2l0aW9uKHgsIHkpIHtcbiAgICAgIHRoaXMuYmFsbC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoXCIuY29uY2F0KHgsIFwicHgpIHRyYW5zbGF0ZVkoXCIpLmNvbmNhdCh5LCBcInB4KVwiKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWF0aGZFYXNlU2FtcGxlO1xufSgpO1xuXG5leHBvcnQgeyBNYXRoZkVhc2VTYW1wbGUgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/mathf-ease.js\n");

/***/ }),

/***/ "./examples/matrixIV.js":
/*!******************************!*\
  !*** ./examples/matrixIV.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MatrixIVSample; });\n/* harmony import */ var _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/dom/dom-canvas */ \"./lib/dom/dom-canvas.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _lib_mathf_matrixIV__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/mathf/matrixIV */ \"./lib/mathf/matrixIV.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_func_func__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/func/func */ \"./lib/func/func.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\n\nvar MatrixIVSample = function MatrixIVSample() {\n  var _this = this;\n\n  _classCallCheck(this, MatrixIVSample);\n\n  console.log('matrixIV sample');\n  this.canvas = document.getElementById('canvas');\n  this.canvas.width = this.canvas.offsetWidth;\n  this.canvas.height = this.canvas.offsetHeight;\n  this.context = this.canvas.getContext('2d'); // First plot out a basic vector\n\n  var c1 = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](250, 250);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'purple');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'purple');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].quickText(this.context, 'c1', c1.x, c1.y - 4);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, c1); // Now we apply a translation.\n\n  var c2 = c1.clone().transformWithMatrixIV(new _lib_mathf_matrixIV__WEBPACK_IMPORTED_MODULE_2__[\"MatrixIV\"]().translateXyz(10, 10, 0));\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].quickText(this.context, 'c1 translate', c2.x, c2.y - 4);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, c2); // A basic scaling.\n\n  var c3 = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](400, 400);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'green');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'green');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, c3);\n  var c4 = c3.clone().transformWithMatrixIV(new _lib_mathf_matrixIV__WEBPACK_IMPORTED_MODULE_2__[\"MatrixIV\"]().scaleXyz(0.8, 0.8, 0));\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].quickText(this.context, 'c4 scale', c4.x, c4.y - 4);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, c4); // Translate multiple points.\n\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'orange');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'orange');\n  var c6 = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](300, 50, 0);\n  _lib_func_func__WEBPACK_IMPORTED_MODULE_4__[\"func\"].times(180, function (i) {\n    var point = c6.clone().transformWithMatrixIV(_lib_mathf_matrixIV__WEBPACK_IMPORTED_MODULE_2__[\"MatrixIV\"]._.translateXyz(-1.2 * i, 1.5 * i, 0));\n    _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(_this.context, point);\n    console.log(point);\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9tYXRyaXhJVi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL21hdHJpeElWLmpzPzA3OTgiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuaW1wb3J0IHsgZG9tQ2FudmFzIH0gZnJvbSAnLi4vbGliL2RvbS9kb20tY2FudmFzJztcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4uL2xpYi9tYXRoZi92ZWN0b3InO1xuaW1wb3J0IHsgTWF0cml4SVYgfSBmcm9tICcuLi9saWIvbWF0aGYvbWF0cml4SVYnO1xuaW1wb3J0IHsgbWF0aGYgfSBmcm9tICcuLi9saWIvbWF0aGYvbWF0aGYnO1xuaW1wb3J0IHsgZnVuYyB9IGZyb20gJy4uL2xpYi9mdW5jL2Z1bmMnO1xuXG52YXIgTWF0cml4SVZTYW1wbGUgPSBmdW5jdGlvbiBNYXRyaXhJVlNhbXBsZSgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWF0cml4SVZTYW1wbGUpO1xuXG4gIGNvbnNvbGUubG9nKCdtYXRyaXhJViBzYW1wbGUnKTtcbiAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7XG4gIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5jYW52YXMub2Zmc2V0V2lkdGg7XG4gIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuY2FudmFzLm9mZnNldEhlaWdodDtcbiAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsgLy8gRmlyc3QgcGxvdCBvdXQgYSBiYXNpYyB2ZWN0b3JcblxuICB2YXIgYzEgPSBuZXcgVmVjdG9yKDI1MCwgMjUwKTtcbiAgZG9tQ2FudmFzLnNldEZpbGxDb2xvcih0aGlzLmNvbnRleHQsICdwdXJwbGUnKTtcbiAgZG9tQ2FudmFzLnNldFN0cm9rZUNvbG9yKHRoaXMuY29udGV4dCwgJ3B1cnBsZScpO1xuICBkb21DYW52YXMucXVpY2tUZXh0KHRoaXMuY29udGV4dCwgJ2MxJywgYzEueCwgYzEueSAtIDQpO1xuICBkb21DYW52YXMudmVjdG9yUG9pbnQodGhpcy5jb250ZXh0LCBjMSk7IC8vIE5vdyB3ZSBhcHBseSBhIHRyYW5zbGF0aW9uLlxuXG4gIHZhciBjMiA9IGMxLmNsb25lKCkudHJhbnNmb3JtV2l0aE1hdHJpeElWKG5ldyBNYXRyaXhJVigpLnRyYW5zbGF0ZVh5eigxMCwgMTAsIDApKTtcbiAgZG9tQ2FudmFzLnF1aWNrVGV4dCh0aGlzLmNvbnRleHQsICdjMSB0cmFuc2xhdGUnLCBjMi54LCBjMi55IC0gNCk7XG4gIGRvbUNhbnZhcy52ZWN0b3JQb2ludCh0aGlzLmNvbnRleHQsIGMyKTsgLy8gQSBiYXNpYyBzY2FsaW5nLlxuXG4gIHZhciBjMyA9IG5ldyBWZWN0b3IoNDAwLCA0MDApO1xuICBkb21DYW52YXMuc2V0RmlsbENvbG9yKHRoaXMuY29udGV4dCwgJ2dyZWVuJyk7XG4gIGRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdncmVlbicpO1xuICBkb21DYW52YXMudmVjdG9yUG9pbnQodGhpcy5jb250ZXh0LCBjMyk7XG4gIHZhciBjNCA9IGMzLmNsb25lKCkudHJhbnNmb3JtV2l0aE1hdHJpeElWKG5ldyBNYXRyaXhJVigpLnNjYWxlWHl6KDAuOCwgMC44LCAwKSk7XG4gIGRvbUNhbnZhcy5xdWlja1RleHQodGhpcy5jb250ZXh0LCAnYzQgc2NhbGUnLCBjNC54LCBjNC55IC0gNCk7XG4gIGRvbUNhbnZhcy52ZWN0b3JQb2ludCh0aGlzLmNvbnRleHQsIGM0KTsgLy8gVHJhbnNsYXRlIG11bHRpcGxlIHBvaW50cy5cblxuICBkb21DYW52YXMuc2V0RmlsbENvbG9yKHRoaXMuY29udGV4dCwgJ29yYW5nZScpO1xuICBkb21DYW52YXMuc2V0U3Ryb2tlQ29sb3IodGhpcy5jb250ZXh0LCAnb3JhbmdlJyk7XG4gIHZhciBjNiA9IG5ldyBWZWN0b3IoMzAwLCA1MCwgMCk7XG4gIGZ1bmMudGltZXMoMTgwLCBmdW5jdGlvbiAoaSkge1xuICAgIHZhciBwb2ludCA9IGM2LmNsb25lKCkudHJhbnNmb3JtV2l0aE1hdHJpeElWKE1hdHJpeElWLl8udHJhbnNsYXRlWHl6KC0xLjIgKiBpLCAxLjUgKiBpLCAwKSk7XG4gICAgZG9tQ2FudmFzLnZlY3RvclBvaW50KF90aGlzLmNvbnRleHQsIHBvaW50KTtcbiAgICBjb25zb2xlLmxvZyhwb2ludCk7XG4gIH0pO1xufTtcblxuZXhwb3J0IHsgTWF0cml4SVZTYW1wbGUgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/matrixIV.js\n");

/***/ }),

/***/ "./examples/matrixIV2.js":
/*!*******************************!*\
  !*** ./examples/matrixIV2.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MatrixIV2Sample; });\n/* harmony import */ var _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/dom/dom-canvas */ \"./lib/dom/dom-canvas.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _lib_mathf_matrixIV__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/mathf/matrixIV */ \"./lib/mathf/matrixIV.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_func_func__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/func/func */ \"./lib/func/func.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\n/**\n * An example of applying matrix transforms to a basis polygon.\n * Note that this example, is a very MANUAL way to do things\n * just to do a gentle intro to matrix.\n *\n * See MatrixIV3Sample for a quicker way to do this.\n */\n\nvar MatrixIV2Sample = function MatrixIV2Sample() {\n  _classCallCheck(this, MatrixIV2Sample);\n\n  console.log('matrixIV2 sample');\n  this.canvas = document.getElementById('canvas');\n  this.canvas.width = this.canvas.offsetWidth;\n  this.canvas.height = this.canvas.offsetHeight;\n  this.context = this.canvas.getContext('2d'); // Create a basic polygon.\n\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'green');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'green'); // Given an up and right vector,\n  // We create a square shape with four points.\n  //\n  //\n  //  p0-------------------------p1\n  //   |           ^             |\n  //   |           |             |\n  //   |           up            |\n  //   |           |             |\n  //   |           x---right-->  |\n  //   |                         |\n  //   |                         |\n  //   |                         |\n  //  p3------------------------p2\n  //\n  //\n  // X is the center of the square/ polygon.\n  // From x we have up (vector) going up and\n  // we also have right (vector) going right.\n  //\n  // From this we can calculate our basis.\n  // p0 = up - right\n  // p1 = up + right\n  // p2 = -up + right\n  // p3 = -up + -right\n  //\n  //\n\n  var up = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](0, 50);\n  var right = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](50, 0);\n  var p0 = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].subtract(up, right);\n  var p1 = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].add(up, right);\n  var p2 = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].add(_lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].negate(up), right);\n  var p3 = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].add(_lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].negate(up), _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].negate(right)); // We are going to place this in the middle of the screen.\n\n  var basePositionVector = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](250, 250); // Now create the points on the screen (without transformations)\n\n  var t0 = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].add(p0, basePositionVector);\n  var t1 = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].add(p1, basePositionVector);\n  var t2 = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].add(p2, basePositionVector);\n  var t3 = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].add(p3, basePositionVector); // Draw out the points without transformations\n\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorQuadrilateral(this.context, t0, t1, t2, t3); // // Now apply transformation.\n\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'orange');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'orange'); // Let's first create rotation matrix along the Z plan to rotate the\n  // square by 45 degrees.\n\n  var angle = 45 * Math.PI / 180;\n  var rotationMatrix = new _lib_mathf_matrixIV__WEBPACK_IMPORTED_MODULE_2__[\"MatrixIV\"]().rotate(angle, new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](0, 0, 1)); // Let's also add a scaling matrix to decrease the size of the\n  // whole square.\n\n  var scaleMatrix = new _lib_mathf_matrixIV__WEBPACK_IMPORTED_MODULE_2__[\"MatrixIV\"]().scaleXyz(0.5, 0.5, 0.5); // We apply this transformation to the up and right vectors.\n  // Now these are going to be rotated by 45 degress.\n\n  up = up.clone() // This first rotation matrix will rotate the up vector 45 degrees.\n  .transformWithMatrixIV(rotationMatrix) // Now we scale it.\n  .transformWithMatrixIV(scaleMatrix);\n  right = right.clone() // This first rotation matrix will rotate the right vector 45 degrees.\n  .transformWithMatrixIV(rotationMatrix) // Now we scale it.\n  .transformWithMatrixIV(scaleMatrix); // At this point, we still have up and right vectors except they are now\n  // rotated 45 degrees (but are still perpendicular).\n  // Based on this, we calculate the p0-p3 points.\n  // This is shaped more like a diamond where p0 is the top and p2 is the bottom.\n\n  p0 = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].subtract(up, right);\n  p1 = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].add(up, right);\n  p2 = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].add(_lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].negate(up), right);\n  p3 = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].add(_lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].negate(up), _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].negate(right)); // Let's also add a translation to the base position\n  // to draw this slighly to the side.\n\n  var translateMatrix = new _lib_mathf_matrixIV__WEBPACK_IMPORTED_MODULE_2__[\"MatrixIV\"]().translateXyz(-100, -100, 0);\n  basePositionVector.transformWithMatrixIV(translateMatrix); // Now we shift each point to where we are suppose to draw it.\n\n  t0 = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].add(p0, basePositionVector);\n  t1 = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].add(p1, basePositionVector);\n  t2 = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].add(p2, basePositionVector);\n  t3 = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].add(p3, basePositionVector);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorQuadrilateral(this.context, t0, t1, t2, t3);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9tYXRyaXhJVjIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9tYXRyaXhJVjIuanM/OWVjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5pbXBvcnQgeyBkb21DYW52YXMgfSBmcm9tICcuLi9saWIvZG9tL2RvbS1jYW52YXMnO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vbGliL21hdGhmL3ZlY3Rvcic7XG5pbXBvcnQgeyBNYXRyaXhJViB9IGZyb20gJy4uL2xpYi9tYXRoZi9tYXRyaXhJVic7XG5pbXBvcnQgeyBtYXRoZiB9IGZyb20gJy4uL2xpYi9tYXRoZi9tYXRoZic7XG5pbXBvcnQgeyBmdW5jIH0gZnJvbSAnLi4vbGliL2Z1bmMvZnVuYyc7XG4vKipcbiAqIEFuIGV4YW1wbGUgb2YgYXBwbHlpbmcgbWF0cml4IHRyYW5zZm9ybXMgdG8gYSBiYXNpcyBwb2x5Z29uLlxuICogTm90ZSB0aGF0IHRoaXMgZXhhbXBsZSwgaXMgYSB2ZXJ5IE1BTlVBTCB3YXkgdG8gZG8gdGhpbmdzXG4gKiBqdXN0IHRvIGRvIGEgZ2VudGxlIGludHJvIHRvIG1hdHJpeC5cbiAqXG4gKiBTZWUgTWF0cml4SVYzU2FtcGxlIGZvciBhIHF1aWNrZXIgd2F5IHRvIGRvIHRoaXMuXG4gKi9cblxudmFyIE1hdHJpeElWMlNhbXBsZSA9IGZ1bmN0aW9uIE1hdHJpeElWMlNhbXBsZSgpIHtcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hdHJpeElWMlNhbXBsZSk7XG5cbiAgY29uc29sZS5sb2coJ21hdHJpeElWMiBzYW1wbGUnKTtcbiAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7XG4gIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5jYW52YXMub2Zmc2V0V2lkdGg7XG4gIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuY2FudmFzLm9mZnNldEhlaWdodDtcbiAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsgLy8gQ3JlYXRlIGEgYmFzaWMgcG9seWdvbi5cblxuICBkb21DYW52YXMuc2V0RmlsbENvbG9yKHRoaXMuY29udGV4dCwgJ2dyZWVuJyk7XG4gIGRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdncmVlbicpOyAvLyBHaXZlbiBhbiB1cCBhbmQgcmlnaHQgdmVjdG9yLFxuICAvLyBXZSBjcmVhdGUgYSBzcXVhcmUgc2hhcGUgd2l0aCBmb3VyIHBvaW50cy5cbiAgLy9cbiAgLy9cbiAgLy8gIHAwLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXAxXG4gIC8vICAgfCAgICAgICAgICAgXiAgICAgICAgICAgICB8XG4gIC8vICAgfCAgICAgICAgICAgfCAgICAgICAgICAgICB8XG4gIC8vICAgfCAgICAgICAgICAgdXAgICAgICAgICAgICB8XG4gIC8vICAgfCAgICAgICAgICAgfCAgICAgICAgICAgICB8XG4gIC8vICAgfCAgICAgICAgICAgeC0tLXJpZ2h0LS0+ICB8XG4gIC8vICAgfCAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gIC8vICAgfCAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gIC8vICAgfCAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gIC8vICBwMy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXAyXG4gIC8vXG4gIC8vXG4gIC8vIFggaXMgdGhlIGNlbnRlciBvZiB0aGUgc3F1YXJlLyBwb2x5Z29uLlxuICAvLyBGcm9tIHggd2UgaGF2ZSB1cCAodmVjdG9yKSBnb2luZyB1cCBhbmRcbiAgLy8gd2UgYWxzbyBoYXZlIHJpZ2h0ICh2ZWN0b3IpIGdvaW5nIHJpZ2h0LlxuICAvL1xuICAvLyBGcm9tIHRoaXMgd2UgY2FuIGNhbGN1bGF0ZSBvdXIgYmFzaXMuXG4gIC8vIHAwID0gdXAgLSByaWdodFxuICAvLyBwMSA9IHVwICsgcmlnaHRcbiAgLy8gcDIgPSAtdXAgKyByaWdodFxuICAvLyBwMyA9IC11cCArIC1yaWdodFxuICAvL1xuICAvL1xuXG4gIHZhciB1cCA9IG5ldyBWZWN0b3IoMCwgNTApO1xuICB2YXIgcmlnaHQgPSBuZXcgVmVjdG9yKDUwLCAwKTtcbiAgdmFyIHAwID0gVmVjdG9yLnN1YnRyYWN0KHVwLCByaWdodCk7XG4gIHZhciBwMSA9IFZlY3Rvci5hZGQodXAsIHJpZ2h0KTtcbiAgdmFyIHAyID0gVmVjdG9yLmFkZChWZWN0b3IubmVnYXRlKHVwKSwgcmlnaHQpO1xuICB2YXIgcDMgPSBWZWN0b3IuYWRkKFZlY3Rvci5uZWdhdGUodXApLCBWZWN0b3IubmVnYXRlKHJpZ2h0KSk7IC8vIFdlIGFyZSBnb2luZyB0byBwbGFjZSB0aGlzIGluIHRoZSBtaWRkbGUgb2YgdGhlIHNjcmVlbi5cblxuICB2YXIgYmFzZVBvc2l0aW9uVmVjdG9yID0gbmV3IFZlY3RvcigyNTAsIDI1MCk7IC8vIE5vdyBjcmVhdGUgdGhlIHBvaW50cyBvbiB0aGUgc2NyZWVuICh3aXRob3V0IHRyYW5zZm9ybWF0aW9ucylcblxuICB2YXIgdDAgPSBWZWN0b3IuYWRkKHAwLCBiYXNlUG9zaXRpb25WZWN0b3IpO1xuICB2YXIgdDEgPSBWZWN0b3IuYWRkKHAxLCBiYXNlUG9zaXRpb25WZWN0b3IpO1xuICB2YXIgdDIgPSBWZWN0b3IuYWRkKHAyLCBiYXNlUG9zaXRpb25WZWN0b3IpO1xuICB2YXIgdDMgPSBWZWN0b3IuYWRkKHAzLCBiYXNlUG9zaXRpb25WZWN0b3IpOyAvLyBEcmF3IG91dCB0aGUgcG9pbnRzIHdpdGhvdXQgdHJhbnNmb3JtYXRpb25zXG5cbiAgZG9tQ2FudmFzLnZlY3RvclF1YWRyaWxhdGVyYWwodGhpcy5jb250ZXh0LCB0MCwgdDEsIHQyLCB0Myk7IC8vIC8vIE5vdyBhcHBseSB0cmFuc2Zvcm1hdGlvbi5cblxuICBkb21DYW52YXMuc2V0RmlsbENvbG9yKHRoaXMuY29udGV4dCwgJ29yYW5nZScpO1xuICBkb21DYW52YXMuc2V0U3Ryb2tlQ29sb3IodGhpcy5jb250ZXh0LCAnb3JhbmdlJyk7IC8vIExldCdzIGZpcnN0IGNyZWF0ZSByb3RhdGlvbiBtYXRyaXggYWxvbmcgdGhlIFogcGxhbiB0byByb3RhdGUgdGhlXG4gIC8vIHNxdWFyZSBieSA0NSBkZWdyZWVzLlxuXG4gIHZhciBhbmdsZSA9IDQ1ICogTWF0aC5QSSAvIDE4MDtcbiAgdmFyIHJvdGF0aW9uTWF0cml4ID0gbmV3IE1hdHJpeElWKCkucm90YXRlKGFuZ2xlLCBuZXcgVmVjdG9yKDAsIDAsIDEpKTsgLy8gTGV0J3MgYWxzbyBhZGQgYSBzY2FsaW5nIG1hdHJpeCB0byBkZWNyZWFzZSB0aGUgc2l6ZSBvZiB0aGVcbiAgLy8gd2hvbGUgc3F1YXJlLlxuXG4gIHZhciBzY2FsZU1hdHJpeCA9IG5ldyBNYXRyaXhJVigpLnNjYWxlWHl6KDAuNSwgMC41LCAwLjUpOyAvLyBXZSBhcHBseSB0aGlzIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSB1cCBhbmQgcmlnaHQgdmVjdG9ycy5cbiAgLy8gTm93IHRoZXNlIGFyZSBnb2luZyB0byBiZSByb3RhdGVkIGJ5IDQ1IGRlZ3Jlc3MuXG5cbiAgdXAgPSB1cC5jbG9uZSgpIC8vIFRoaXMgZmlyc3Qgcm90YXRpb24gbWF0cml4IHdpbGwgcm90YXRlIHRoZSB1cCB2ZWN0b3IgNDUgZGVncmVlcy5cbiAgLnRyYW5zZm9ybVdpdGhNYXRyaXhJVihyb3RhdGlvbk1hdHJpeCkgLy8gTm93IHdlIHNjYWxlIGl0LlxuICAudHJhbnNmb3JtV2l0aE1hdHJpeElWKHNjYWxlTWF0cml4KTtcbiAgcmlnaHQgPSByaWdodC5jbG9uZSgpIC8vIFRoaXMgZmlyc3Qgcm90YXRpb24gbWF0cml4IHdpbGwgcm90YXRlIHRoZSByaWdodCB2ZWN0b3IgNDUgZGVncmVlcy5cbiAgLnRyYW5zZm9ybVdpdGhNYXRyaXhJVihyb3RhdGlvbk1hdHJpeCkgLy8gTm93IHdlIHNjYWxlIGl0LlxuICAudHJhbnNmb3JtV2l0aE1hdHJpeElWKHNjYWxlTWF0cml4KTsgLy8gQXQgdGhpcyBwb2ludCwgd2Ugc3RpbGwgaGF2ZSB1cCBhbmQgcmlnaHQgdmVjdG9ycyBleGNlcHQgdGhleSBhcmUgbm93XG4gIC8vIHJvdGF0ZWQgNDUgZGVncmVlcyAoYnV0IGFyZSBzdGlsbCBwZXJwZW5kaWN1bGFyKS5cbiAgLy8gQmFzZWQgb24gdGhpcywgd2UgY2FsY3VsYXRlIHRoZSBwMC1wMyBwb2ludHMuXG4gIC8vIFRoaXMgaXMgc2hhcGVkIG1vcmUgbGlrZSBhIGRpYW1vbmQgd2hlcmUgcDAgaXMgdGhlIHRvcCBhbmQgcDIgaXMgdGhlIGJvdHRvbS5cblxuICBwMCA9IFZlY3Rvci5zdWJ0cmFjdCh1cCwgcmlnaHQpO1xuICBwMSA9IFZlY3Rvci5hZGQodXAsIHJpZ2h0KTtcbiAgcDIgPSBWZWN0b3IuYWRkKFZlY3Rvci5uZWdhdGUodXApLCByaWdodCk7XG4gIHAzID0gVmVjdG9yLmFkZChWZWN0b3IubmVnYXRlKHVwKSwgVmVjdG9yLm5lZ2F0ZShyaWdodCkpOyAvLyBMZXQncyBhbHNvIGFkZCBhIHRyYW5zbGF0aW9uIHRvIHRoZSBiYXNlIHBvc2l0aW9uXG4gIC8vIHRvIGRyYXcgdGhpcyBzbGlnaGx5IHRvIHRoZSBzaWRlLlxuXG4gIHZhciB0cmFuc2xhdGVNYXRyaXggPSBuZXcgTWF0cml4SVYoKS50cmFuc2xhdGVYeXooLTEwMCwgLTEwMCwgMCk7XG4gIGJhc2VQb3NpdGlvblZlY3Rvci50cmFuc2Zvcm1XaXRoTWF0cml4SVYodHJhbnNsYXRlTWF0cml4KTsgLy8gTm93IHdlIHNoaWZ0IGVhY2ggcG9pbnQgdG8gd2hlcmUgd2UgYXJlIHN1cHBvc2UgdG8gZHJhdyBpdC5cblxuICB0MCA9IFZlY3Rvci5hZGQocDAsIGJhc2VQb3NpdGlvblZlY3Rvcik7XG4gIHQxID0gVmVjdG9yLmFkZChwMSwgYmFzZVBvc2l0aW9uVmVjdG9yKTtcbiAgdDIgPSBWZWN0b3IuYWRkKHAyLCBiYXNlUG9zaXRpb25WZWN0b3IpO1xuICB0MyA9IFZlY3Rvci5hZGQocDMsIGJhc2VQb3NpdGlvblZlY3Rvcik7XG4gIGRvbUNhbnZhcy52ZWN0b3JRdWFkcmlsYXRlcmFsKHRoaXMuY29udGV4dCwgdDAsIHQxLCB0MiwgdDMpO1xufTtcblxuZXhwb3J0IHsgTWF0cml4SVYyU2FtcGxlIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/matrixIV2.js\n");

/***/ }),

/***/ "./examples/matrixIV3.js":
/*!*******************************!*\
  !*** ./examples/matrixIV3.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MatrixIV3Sample; });\n/* harmony import */ var _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/dom/dom-canvas */ \"./lib/dom/dom-canvas.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _lib_mathf_matrixIV__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/mathf/matrixIV */ \"./lib/mathf/matrixIV.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_func_func__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/func/func */ \"./lib/func/func.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\n/**\n * An example of applying matrix transforms to a basis polygon.\n * @see https://www.youtube.com/watch?v=8sqv11x10lc&feature=youtu.be\n */\n\nvar MatrixIV3Sample = function MatrixIV3Sample() {\n  _classCallCheck(this, MatrixIV3Sample);\n\n  console.log('matrixIV3 sample');\n  this.canvas = document.getElementById('canvas');\n  this.canvas.width = this.canvas.offsetWidth;\n  this.canvas.height = this.canvas.offsetHeight;\n  this.context = this.canvas.getContext('2d');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'green');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'green'); // Out goal is to layout a 100x100 square in the middle of the screen.\n  // We will then rotate that square by 45 degrees and scale it 0.5.\n  //\n  //\n  // To begin, we want to think of a basisMatrix to formulate the square.\n  //\n  //  p0-------------------------p1\n  //   |           ^             |\n  //   |           |             |\n  //   |           up            |\n  //   |           |             |\n  //   |           x---right-->  |\n  //   |                         |\n  //   |                         |\n  //   |                         |\n  //  p3------------------------p2\n  //\n  //\n  // X is the center of the square/ polygon.\n  // From x we have up (vector) going up and\n  // we also have right (vector) going right.\n  // We will so have a forward (vector) going\n  // in the z plane which is a cross product of up.\n  //\n  // You can see that each of the points, can also be\n  // expressed as a vector from the center X.\n  // p0 = Vector(-1, -1)\n  // p1 = Vector(1, -1)\n  // p2 = Vector(1, 1)\n  // p3 = Vector(-1, 1)\n  // We define our vectors.  Since we want 100x100 pixels, we set the\n  // vectors from the x point.\n\n  var up = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](0, 50);\n  var right = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](50, 0); // To make this work, we are also going to\n  // need a forward vector (going in 3D space)\n  // which is the cross product of up vector.\n\n  var forward = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].ONE.cross(up); //\n  // Let's create out basisMatrix.\n  // We create a 4x4 matrix with the right, up and foward vectors as\n  // columns.\n  //\n  // This is visualized as:\n  // Basic Matrix =\n  // [\n  //   Rx, Ux, Fx, 0\n  //   Ry, Uy, Fy, 0\n  //   Rz, Uz, Fz, 0\n  //    0,  0,  0, 1\n  // ]\n  //\n  // From here, we will then multiply that by a matrix\n  // of each point of corner we want.\n  //\n  //     Basis Matrix         4x1 (Vector)\n  //   Rx, Ux, Fx, 0               x\n  //   Ry, Uy, Fy, 0     x         y\n  //   Rz, Uz, Fz, 0               z\n  //    0,  0,  0, 1               1\n  //\n  // The resulting 4x1 matrix will give us the x,y,z coordinates of\n  // each point relative to the center point.\n\n  var basisMatrix = new _lib_mathf_matrixIV__WEBPACK_IMPORTED_MODULE_2__[\"MatrixIV\"]();\n  basisMatrix.setVectorColumn(0, right);\n  basisMatrix.setVectorColumn(1, up);\n  basisMatrix.setVectorColumn(2, forward); //\n  // Now we want to get the coordinates of each of the 4 corners of\n  // the square as mentioned above.  First we create vectors for each point.\n\n  var p0 = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](-1, -1);\n  var p1 = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](1, -1);\n  var p2 = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](1, 1);\n  var p3 = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](-1, 1); // Now we are multiply this corner point vector by the 4x4 basis matrix.\n  // Under the hood, multiplyByVector converts the vector to a 4x1\n  // matrix and that is multiplied by the basisMatrix.\n  // We get a new vector returns which is the product of multiplying the\n  // vector and the basis matrix.\n  // In short, we are multiplying the basisMatrix by the values of the\n  // point vectors to calculate the relative x,y,z coordinates.\n\n  var t0 = basisMatrix.clone().multiplyByVector(p0);\n  var t1 = basisMatrix.clone().multiplyByVector(p1);\n  var t2 = basisMatrix.clone().multiplyByVector(p2);\n  var t3 = basisMatrix.clone().multiplyByVector(p3); // We are going to place this in the middle of the screen so let's\n  // shift over each point.\n\n  var basePositionVector = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](250, 250);\n  t0.add(basePositionVector);\n  t1.add(basePositionVector);\n  t2.add(basePositionVector);\n  t3.add(basePositionVector);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].quickText(this.context, 't0', t0.x, t0.y - 4);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].quickText(this.context, 't1', t1.x, t1.y - 4);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].quickText(this.context, 't2', t2.x, t2.y - 4);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].quickText(this.context, 't3', t3.x, t3.y - 4); // Add this point, we have laid out four dots as a square.\n\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, t0);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, t1);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, t2);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, t3);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setFillColor(this.context, 'orange');\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].setStrokeColor(this.context, 'orange'); // Now let's draw another set of dots but this time, transform\n  // the basisMatrix.\n\n  basisMatrix.scaleXyz(0.5, 0.5, 0.5).rotateZ(45 * Math.PI / 180); // Now that the basis Matrix is rotated, let's make the new square.\n  // Again we are going to calculate the corners by multiplying the\n  // the corner vectors.\n\n  t0 = basisMatrix.clone().multiplyByVector(p0);\n  t1 = basisMatrix.clone().multiplyByVector(p1);\n  t2 = basisMatrix.clone().multiplyByVector(p2);\n  t3 = basisMatrix.clone().multiplyByVector(p3); // Move the points to the center of the screen.\n\n  t0.add(basePositionVector);\n  t1.add(basePositionVector);\n  t2.add(basePositionVector);\n  t3.add(basePositionVector); // Draw the points.\n\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, t0);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, t1);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, t2);\n  _lib_dom_dom_canvas__WEBPACK_IMPORTED_MODULE_0__[\"domCanvas\"].vectorPoint(this.context, t3);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9tYXRyaXhJVjMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9tYXRyaXhJVjMuanM/OTI2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5pbXBvcnQgeyBkb21DYW52YXMgfSBmcm9tICcuLi9saWIvZG9tL2RvbS1jYW52YXMnO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vbGliL21hdGhmL3ZlY3Rvcic7XG5pbXBvcnQgeyBNYXRyaXhJViB9IGZyb20gJy4uL2xpYi9tYXRoZi9tYXRyaXhJVic7XG5pbXBvcnQgeyBtYXRoZiB9IGZyb20gJy4uL2xpYi9tYXRoZi9tYXRoZic7XG5pbXBvcnQgeyBmdW5jIH0gZnJvbSAnLi4vbGliL2Z1bmMvZnVuYyc7XG4vKipcbiAqIEFuIGV4YW1wbGUgb2YgYXBwbHlpbmcgbWF0cml4IHRyYW5zZm9ybXMgdG8gYSBiYXNpcyBwb2x5Z29uLlxuICogQHNlZSBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PThzcXYxMXgxMGxjJmZlYXR1cmU9eW91dHUuYmVcbiAqL1xuXG52YXIgTWF0cml4SVYzU2FtcGxlID0gZnVuY3Rpb24gTWF0cml4SVYzU2FtcGxlKCkge1xuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWF0cml4SVYzU2FtcGxlKTtcblxuICBjb25zb2xlLmxvZygnbWF0cml4SVYzIHNhbXBsZScpO1xuICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcbiAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5vZmZzZXRXaWR0aDtcbiAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMub2Zmc2V0SGVpZ2h0O1xuICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICBkb21DYW52YXMuc2V0RmlsbENvbG9yKHRoaXMuY29udGV4dCwgJ2dyZWVuJyk7XG4gIGRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdncmVlbicpOyAvLyBPdXQgZ29hbCBpcyB0byBsYXlvdXQgYSAxMDB4MTAwIHNxdWFyZSBpbiB0aGUgbWlkZGxlIG9mIHRoZSBzY3JlZW4uXG4gIC8vIFdlIHdpbGwgdGhlbiByb3RhdGUgdGhhdCBzcXVhcmUgYnkgNDUgZGVncmVlcyBhbmQgc2NhbGUgaXQgMC41LlxuICAvL1xuICAvL1xuICAvLyBUbyBiZWdpbiwgd2Ugd2FudCB0byB0aGluayBvZiBhIGJhc2lzTWF0cml4IHRvIGZvcm11bGF0ZSB0aGUgc3F1YXJlLlxuICAvL1xuICAvLyAgcDAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tcDFcbiAgLy8gICB8ICAgICAgICAgICBeICAgICAgICAgICAgIHxcbiAgLy8gICB8ICAgICAgICAgICB8ICAgICAgICAgICAgIHxcbiAgLy8gICB8ICAgICAgICAgICB1cCAgICAgICAgICAgIHxcbiAgLy8gICB8ICAgICAgICAgICB8ICAgICAgICAgICAgIHxcbiAgLy8gICB8ICAgICAgICAgICB4LS0tcmlnaHQtLT4gIHxcbiAgLy8gICB8ICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgLy8gICB8ICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgLy8gICB8ICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgLy8gIHAzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tcDJcbiAgLy9cbiAgLy9cbiAgLy8gWCBpcyB0aGUgY2VudGVyIG9mIHRoZSBzcXVhcmUvIHBvbHlnb24uXG4gIC8vIEZyb20geCB3ZSBoYXZlIHVwICh2ZWN0b3IpIGdvaW5nIHVwIGFuZFxuICAvLyB3ZSBhbHNvIGhhdmUgcmlnaHQgKHZlY3RvcikgZ29pbmcgcmlnaHQuXG4gIC8vIFdlIHdpbGwgc28gaGF2ZSBhIGZvcndhcmQgKHZlY3RvcikgZ29pbmdcbiAgLy8gaW4gdGhlIHogcGxhbmUgd2hpY2ggaXMgYSBjcm9zcyBwcm9kdWN0IG9mIHVwLlxuICAvL1xuICAvLyBZb3UgY2FuIHNlZSB0aGF0IGVhY2ggb2YgdGhlIHBvaW50cywgY2FuIGFsc28gYmVcbiAgLy8gZXhwcmVzc2VkIGFzIGEgdmVjdG9yIGZyb20gdGhlIGNlbnRlciBYLlxuICAvLyBwMCA9IFZlY3RvcigtMSwgLTEpXG4gIC8vIHAxID0gVmVjdG9yKDEsIC0xKVxuICAvLyBwMiA9IFZlY3RvcigxLCAxKVxuICAvLyBwMyA9IFZlY3RvcigtMSwgMSlcbiAgLy8gV2UgZGVmaW5lIG91ciB2ZWN0b3JzLiAgU2luY2Ugd2Ugd2FudCAxMDB4MTAwIHBpeGVscywgd2Ugc2V0IHRoZVxuICAvLyB2ZWN0b3JzIGZyb20gdGhlIHggcG9pbnQuXG5cbiAgdmFyIHVwID0gbmV3IFZlY3RvcigwLCA1MCk7XG4gIHZhciByaWdodCA9IG5ldyBWZWN0b3IoNTAsIDApOyAvLyBUbyBtYWtlIHRoaXMgd29yaywgd2UgYXJlIGFsc28gZ29pbmcgdG9cbiAgLy8gbmVlZCBhIGZvcndhcmQgdmVjdG9yIChnb2luZyBpbiAzRCBzcGFjZSlcbiAgLy8gd2hpY2ggaXMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdXAgdmVjdG9yLlxuXG4gIHZhciBmb3J3YXJkID0gVmVjdG9yLk9ORS5jcm9zcyh1cCk7IC8vXG4gIC8vIExldCdzIGNyZWF0ZSBvdXQgYmFzaXNNYXRyaXguXG4gIC8vIFdlIGNyZWF0ZSBhIDR4NCBtYXRyaXggd2l0aCB0aGUgcmlnaHQsIHVwIGFuZCBmb3dhcmQgdmVjdG9ycyBhc1xuICAvLyBjb2x1bW5zLlxuICAvL1xuICAvLyBUaGlzIGlzIHZpc3VhbGl6ZWQgYXM6XG4gIC8vIEJhc2ljIE1hdHJpeCA9XG4gIC8vIFtcbiAgLy8gICBSeCwgVXgsIEZ4LCAwXG4gIC8vICAgUnksIFV5LCBGeSwgMFxuICAvLyAgIFJ6LCBVeiwgRnosIDBcbiAgLy8gICAgMCwgIDAsICAwLCAxXG4gIC8vIF1cbiAgLy9cbiAgLy8gRnJvbSBoZXJlLCB3ZSB3aWxsIHRoZW4gbXVsdGlwbHkgdGhhdCBieSBhIG1hdHJpeFxuICAvLyBvZiBlYWNoIHBvaW50IG9mIGNvcm5lciB3ZSB3YW50LlxuICAvL1xuICAvLyAgICAgQmFzaXMgTWF0cml4ICAgICAgICAgNHgxIChWZWN0b3IpXG4gIC8vICAgUngsIFV4LCBGeCwgMCAgICAgICAgICAgICAgIHhcbiAgLy8gICBSeSwgVXksIEZ5LCAwICAgICB4ICAgICAgICAgeVxuICAvLyAgIFJ6LCBVeiwgRnosIDAgICAgICAgICAgICAgICB6XG4gIC8vICAgIDAsICAwLCAgMCwgMSAgICAgICAgICAgICAgIDFcbiAgLy9cbiAgLy8gVGhlIHJlc3VsdGluZyA0eDEgbWF0cml4IHdpbGwgZ2l2ZSB1cyB0aGUgeCx5LHogY29vcmRpbmF0ZXMgb2ZcbiAgLy8gZWFjaCBwb2ludCByZWxhdGl2ZSB0byB0aGUgY2VudGVyIHBvaW50LlxuXG4gIHZhciBiYXNpc01hdHJpeCA9IG5ldyBNYXRyaXhJVigpO1xuICBiYXNpc01hdHJpeC5zZXRWZWN0b3JDb2x1bW4oMCwgcmlnaHQpO1xuICBiYXNpc01hdHJpeC5zZXRWZWN0b3JDb2x1bW4oMSwgdXApO1xuICBiYXNpc01hdHJpeC5zZXRWZWN0b3JDb2x1bW4oMiwgZm9yd2FyZCk7IC8vXG4gIC8vIE5vdyB3ZSB3YW50IHRvIGdldCB0aGUgY29vcmRpbmF0ZXMgb2YgZWFjaCBvZiB0aGUgNCBjb3JuZXJzIG9mXG4gIC8vIHRoZSBzcXVhcmUgYXMgbWVudGlvbmVkIGFib3ZlLiAgRmlyc3Qgd2UgY3JlYXRlIHZlY3RvcnMgZm9yIGVhY2ggcG9pbnQuXG5cbiAgdmFyIHAwID0gbmV3IFZlY3RvcigtMSwgLTEpO1xuICB2YXIgcDEgPSBuZXcgVmVjdG9yKDEsIC0xKTtcbiAgdmFyIHAyID0gbmV3IFZlY3RvcigxLCAxKTtcbiAgdmFyIHAzID0gbmV3IFZlY3RvcigtMSwgMSk7IC8vIE5vdyB3ZSBhcmUgbXVsdGlwbHkgdGhpcyBjb3JuZXIgcG9pbnQgdmVjdG9yIGJ5IHRoZSA0eDQgYmFzaXMgbWF0cml4LlxuICAvLyBVbmRlciB0aGUgaG9vZCwgbXVsdGlwbHlCeVZlY3RvciBjb252ZXJ0cyB0aGUgdmVjdG9yIHRvIGEgNHgxXG4gIC8vIG1hdHJpeCBhbmQgdGhhdCBpcyBtdWx0aXBsaWVkIGJ5IHRoZSBiYXNpc01hdHJpeC5cbiAgLy8gV2UgZ2V0IGEgbmV3IHZlY3RvciByZXR1cm5zIHdoaWNoIGlzIHRoZSBwcm9kdWN0IG9mIG11bHRpcGx5aW5nIHRoZVxuICAvLyB2ZWN0b3IgYW5kIHRoZSBiYXNpcyBtYXRyaXguXG4gIC8vIEluIHNob3J0LCB3ZSBhcmUgbXVsdGlwbHlpbmcgdGhlIGJhc2lzTWF0cml4IGJ5IHRoZSB2YWx1ZXMgb2YgdGhlXG4gIC8vIHBvaW50IHZlY3RvcnMgdG8gY2FsY3VsYXRlIHRoZSByZWxhdGl2ZSB4LHkseiBjb29yZGluYXRlcy5cblxuICB2YXIgdDAgPSBiYXNpc01hdHJpeC5jbG9uZSgpLm11bHRpcGx5QnlWZWN0b3IocDApO1xuICB2YXIgdDEgPSBiYXNpc01hdHJpeC5jbG9uZSgpLm11bHRpcGx5QnlWZWN0b3IocDEpO1xuICB2YXIgdDIgPSBiYXNpc01hdHJpeC5jbG9uZSgpLm11bHRpcGx5QnlWZWN0b3IocDIpO1xuICB2YXIgdDMgPSBiYXNpc01hdHJpeC5jbG9uZSgpLm11bHRpcGx5QnlWZWN0b3IocDMpOyAvLyBXZSBhcmUgZ29pbmcgdG8gcGxhY2UgdGhpcyBpbiB0aGUgbWlkZGxlIG9mIHRoZSBzY3JlZW4gc28gbGV0J3NcbiAgLy8gc2hpZnQgb3ZlciBlYWNoIHBvaW50LlxuXG4gIHZhciBiYXNlUG9zaXRpb25WZWN0b3IgPSBuZXcgVmVjdG9yKDI1MCwgMjUwKTtcbiAgdDAuYWRkKGJhc2VQb3NpdGlvblZlY3Rvcik7XG4gIHQxLmFkZChiYXNlUG9zaXRpb25WZWN0b3IpO1xuICB0Mi5hZGQoYmFzZVBvc2l0aW9uVmVjdG9yKTtcbiAgdDMuYWRkKGJhc2VQb3NpdGlvblZlY3Rvcik7XG4gIGRvbUNhbnZhcy5xdWlja1RleHQodGhpcy5jb250ZXh0LCAndDAnLCB0MC54LCB0MC55IC0gNCk7XG4gIGRvbUNhbnZhcy5xdWlja1RleHQodGhpcy5jb250ZXh0LCAndDEnLCB0MS54LCB0MS55IC0gNCk7XG4gIGRvbUNhbnZhcy5xdWlja1RleHQodGhpcy5jb250ZXh0LCAndDInLCB0Mi54LCB0Mi55IC0gNCk7XG4gIGRvbUNhbnZhcy5xdWlja1RleHQodGhpcy5jb250ZXh0LCAndDMnLCB0My54LCB0My55IC0gNCk7IC8vIEFkZCB0aGlzIHBvaW50LCB3ZSBoYXZlIGxhaWQgb3V0IGZvdXIgZG90cyBhcyBhIHNxdWFyZS5cblxuICBkb21DYW52YXMudmVjdG9yUG9pbnQodGhpcy5jb250ZXh0LCB0MCk7XG4gIGRvbUNhbnZhcy52ZWN0b3JQb2ludCh0aGlzLmNvbnRleHQsIHQxKTtcbiAgZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgdDIpO1xuICBkb21DYW52YXMudmVjdG9yUG9pbnQodGhpcy5jb250ZXh0LCB0Myk7XG4gIGRvbUNhbnZhcy5zZXRGaWxsQ29sb3IodGhpcy5jb250ZXh0LCAnb3JhbmdlJyk7XG4gIGRvbUNhbnZhcy5zZXRTdHJva2VDb2xvcih0aGlzLmNvbnRleHQsICdvcmFuZ2UnKTsgLy8gTm93IGxldCdzIGRyYXcgYW5vdGhlciBzZXQgb2YgZG90cyBidXQgdGhpcyB0aW1lLCB0cmFuc2Zvcm1cbiAgLy8gdGhlIGJhc2lzTWF0cml4LlxuXG4gIGJhc2lzTWF0cml4LnNjYWxlWHl6KDAuNSwgMC41LCAwLjUpLnJvdGF0ZVooNDUgKiBNYXRoLlBJIC8gMTgwKTsgLy8gTm93IHRoYXQgdGhlIGJhc2lzIE1hdHJpeCBpcyByb3RhdGVkLCBsZXQncyBtYWtlIHRoZSBuZXcgc3F1YXJlLlxuICAvLyBBZ2FpbiB3ZSBhcmUgZ29pbmcgdG8gY2FsY3VsYXRlIHRoZSBjb3JuZXJzIGJ5IG11bHRpcGx5aW5nIHRoZVxuICAvLyB0aGUgY29ybmVyIHZlY3RvcnMuXG5cbiAgdDAgPSBiYXNpc01hdHJpeC5jbG9uZSgpLm11bHRpcGx5QnlWZWN0b3IocDApO1xuICB0MSA9IGJhc2lzTWF0cml4LmNsb25lKCkubXVsdGlwbHlCeVZlY3RvcihwMSk7XG4gIHQyID0gYmFzaXNNYXRyaXguY2xvbmUoKS5tdWx0aXBseUJ5VmVjdG9yKHAyKTtcbiAgdDMgPSBiYXNpc01hdHJpeC5jbG9uZSgpLm11bHRpcGx5QnlWZWN0b3IocDMpOyAvLyBNb3ZlIHRoZSBwb2ludHMgdG8gdGhlIGNlbnRlciBvZiB0aGUgc2NyZWVuLlxuXG4gIHQwLmFkZChiYXNlUG9zaXRpb25WZWN0b3IpO1xuICB0MS5hZGQoYmFzZVBvc2l0aW9uVmVjdG9yKTtcbiAgdDIuYWRkKGJhc2VQb3NpdGlvblZlY3Rvcik7XG4gIHQzLmFkZChiYXNlUG9zaXRpb25WZWN0b3IpOyAvLyBEcmF3IHRoZSBwb2ludHMuXG5cbiAgZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgdDApO1xuICBkb21DYW52YXMudmVjdG9yUG9pbnQodGhpcy5jb250ZXh0LCB0MSk7XG4gIGRvbUNhbnZhcy52ZWN0b3JQb2ludCh0aGlzLmNvbnRleHQsIHQyKTtcbiAgZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgdDMpO1xufTtcblxuZXhwb3J0IHsgTWF0cml4SVYzU2FtcGxlIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/matrixIV3.js\n");

/***/ }),

/***/ "./examples/multi-interpolate.js":
/*!***************************************!*\
  !*** ./examples/multi-interpolate.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return MultiInterpolateSample; });\n/* harmony import */ var _lib_interpolate_multi_interpolate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/interpolate/multi-interpolate */ \"./lib/interpolate/multi-interpolate.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar MultiInterpolateSample = /*#__PURE__*/function () {\n  function MultiInterpolateSample() {\n    var _this = this;\n\n    _classCallCheck(this, MultiInterpolateSample);\n\n    console.log('Running MultiInterpolate Sample'); // This is a demo of using multi-interpolate to shift the position\n    // of the ball.\n\n    this.ball = document.getElementById('ball');\n    this.range = document.getElementById('range');\n    this.progress = +this.range.value;\n    this.multiInterpolate = new _lib_interpolate_multi_interpolate__WEBPACK_IMPORTED_MODULE_0__[\"MultiInterpolate\"]({\n      interpolations: [{\n        progress: [{\n          from: 0,\n          to: 1,\n          start: 0,\n          end: 500\n        }],\n        id: 'x'\n      }, {\n        progress: [{\n          from: 0,\n          to: 0.2,\n          start: 0,\n          end: 100,\n          easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_3__[\"EASE\"].easeOutSine\n        }, {\n          from: 0.2,\n          to: 0.3,\n          start: 100,\n          end: 300,\n          easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_3__[\"EASE\"].easeOutSine\n        }, {\n          from: 0.3,\n          to: 0.5,\n          start: 300,\n          end: 0,\n          easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_3__[\"EASE\"].easeOutSine\n        }, {\n          from: 0.5,\n          to: 1,\n          start: 0,\n          end: 500,\n          easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_3__[\"EASE\"].easeInQuad\n        }],\n        id: 'y'\n      }]\n    }); // Note here we are using raf for demo purposes but not that this is\n    // constantly updating the ball position even when the previous values\n    // were unchanged.\n\n    var raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__[\"Raf\"](function () {\n      // Set the progress to the current range value.\n      var progress = +_this.range.value; // Add easing to progress itself to smooth out animations.\n\n      _this.progress = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_1__[\"mathf\"].ease(_this.progress, progress, 0.25, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_3__[\"EASE\"].easeInOutQuad); // Interpolate values based on current progress.\n\n      var interpolationResults = _this.multiInterpolate.calculate(_this.progress);\n\n      var x = interpolationResults['x'];\n      var y = interpolationResults['y'];\n\n      _this.updateBallPosition(x, y);\n    });\n    raf.start();\n  }\n\n  _createClass(MultiInterpolateSample, [{\n    key: \"updateBallPosition\",\n    value: function updateBallPosition(x, y) {\n      this.ball.style.transform = \"translateX(\".concat(x, \"px) translateY(\").concat(y, \"px)\");\n    }\n  }]);\n\n  return MultiInterpolateSample;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9tdWx0aS1pbnRlcnBvbGF0ZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL211bHRpLWludGVycG9sYXRlLmpzPzlhOWMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5pbXBvcnQgeyBNdWx0aUludGVycG9sYXRlIH0gZnJvbSAnLi4vbGliL2ludGVycG9sYXRlL211bHRpLWludGVycG9sYXRlJztcbmltcG9ydCB7IG1hdGhmIH0gZnJvbSAnLi4vbGliL21hdGhmL21hdGhmJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IEVBU0UgfSBmcm9tICcuLi9saWIvZWFzZS9lYXNlJztcblxudmFyIE11bHRpSW50ZXJwb2xhdGVTYW1wbGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNdWx0aUludGVycG9sYXRlU2FtcGxlKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTXVsdGlJbnRlcnBvbGF0ZVNhbXBsZSk7XG5cbiAgICBjb25zb2xlLmxvZygnUnVubmluZyBNdWx0aUludGVycG9sYXRlIFNhbXBsZScpOyAvLyBUaGlzIGlzIGEgZGVtbyBvZiB1c2luZyBtdWx0aS1pbnRlcnBvbGF0ZSB0byBzaGlmdCB0aGUgcG9zaXRpb25cbiAgICAvLyBvZiB0aGUgYmFsbC5cblxuICAgIHRoaXMuYmFsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWxsJyk7XG4gICAgdGhpcy5yYW5nZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYW5nZScpO1xuICAgIHRoaXMucHJvZ3Jlc3MgPSArdGhpcy5yYW5nZS52YWx1ZTtcbiAgICB0aGlzLm11bHRpSW50ZXJwb2xhdGUgPSBuZXcgTXVsdGlJbnRlcnBvbGF0ZSh7XG4gICAgICBpbnRlcnBvbGF0aW9uczogW3tcbiAgICAgICAgcHJvZ3Jlc3M6IFt7XG4gICAgICAgICAgZnJvbTogMCxcbiAgICAgICAgICB0bzogMSxcbiAgICAgICAgICBzdGFydDogMCxcbiAgICAgICAgICBlbmQ6IDUwMFxuICAgICAgICB9XSxcbiAgICAgICAgaWQ6ICd4J1xuICAgICAgfSwge1xuICAgICAgICBwcm9ncmVzczogW3tcbiAgICAgICAgICBmcm9tOiAwLFxuICAgICAgICAgIHRvOiAwLjIsXG4gICAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgICAgZW5kOiAxMDAsXG4gICAgICAgICAgZWFzaW5nRnVuY3Rpb246IEVBU0UuZWFzZU91dFNpbmVcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZyb206IDAuMixcbiAgICAgICAgICB0bzogMC4zLFxuICAgICAgICAgIHN0YXJ0OiAxMDAsXG4gICAgICAgICAgZW5kOiAzMDAsXG4gICAgICAgICAgZWFzaW5nRnVuY3Rpb246IEVBU0UuZWFzZU91dFNpbmVcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZyb206IDAuMyxcbiAgICAgICAgICB0bzogMC41LFxuICAgICAgICAgIHN0YXJ0OiAzMDAsXG4gICAgICAgICAgZW5kOiAwLFxuICAgICAgICAgIGVhc2luZ0Z1bmN0aW9uOiBFQVNFLmVhc2VPdXRTaW5lXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmcm9tOiAwLjUsXG4gICAgICAgICAgdG86IDEsXG4gICAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgICAgZW5kOiA1MDAsXG4gICAgICAgICAgZWFzaW5nRnVuY3Rpb246IEVBU0UuZWFzZUluUXVhZFxuICAgICAgICB9XSxcbiAgICAgICAgaWQ6ICd5J1xuICAgICAgfV1cbiAgICB9KTsgLy8gTm90ZSBoZXJlIHdlIGFyZSB1c2luZyByYWYgZm9yIGRlbW8gcHVycG9zZXMgYnV0IG5vdCB0aGF0IHRoaXMgaXNcbiAgICAvLyBjb25zdGFudGx5IHVwZGF0aW5nIHRoZSBiYWxsIHBvc2l0aW9uIGV2ZW4gd2hlbiB0aGUgcHJldmlvdXMgdmFsdWVzXG4gICAgLy8gd2VyZSB1bmNoYW5nZWQuXG5cbiAgICB2YXIgcmFmID0gbmV3IFJhZihmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBTZXQgdGhlIHByb2dyZXNzIHRvIHRoZSBjdXJyZW50IHJhbmdlIHZhbHVlLlxuICAgICAgdmFyIHByb2dyZXNzID0gK190aGlzLnJhbmdlLnZhbHVlOyAvLyBBZGQgZWFzaW5nIHRvIHByb2dyZXNzIGl0c2VsZiB0byBzbW9vdGggb3V0IGFuaW1hdGlvbnMuXG5cbiAgICAgIF90aGlzLnByb2dyZXNzID0gbWF0aGYuZWFzZShfdGhpcy5wcm9ncmVzcywgcHJvZ3Jlc3MsIDAuMjUsIEVBU0UuZWFzZUluT3V0UXVhZCk7IC8vIEludGVycG9sYXRlIHZhbHVlcyBiYXNlZCBvbiBjdXJyZW50IHByb2dyZXNzLlxuXG4gICAgICB2YXIgaW50ZXJwb2xhdGlvblJlc3VsdHMgPSBfdGhpcy5tdWx0aUludGVycG9sYXRlLmNhbGN1bGF0ZShfdGhpcy5wcm9ncmVzcyk7XG5cbiAgICAgIHZhciB4ID0gaW50ZXJwb2xhdGlvblJlc3VsdHNbJ3gnXTtcbiAgICAgIHZhciB5ID0gaW50ZXJwb2xhdGlvblJlc3VsdHNbJ3knXTtcblxuICAgICAgX3RoaXMudXBkYXRlQmFsbFBvc2l0aW9uKHgsIHkpO1xuICAgIH0pO1xuICAgIHJhZi5zdGFydCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE11bHRpSW50ZXJwb2xhdGVTYW1wbGUsIFt7XG4gICAga2V5OiBcInVwZGF0ZUJhbGxQb3NpdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVCYWxsUG9zaXRpb24oeCwgeSkge1xuICAgICAgdGhpcy5iYWxsLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWChcIi5jb25jYXQoeCwgXCJweCkgdHJhbnNsYXRlWShcIikuY29uY2F0KHksIFwicHgpXCIpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNdWx0aUludGVycG9sYXRlU2FtcGxlO1xufSgpO1xuXG5leHBvcnQgeyBNdWx0aUludGVycG9sYXRlU2FtcGxlIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/multi-interpolate.js\n");

/***/ }),

/***/ "./examples/off-screen-canvas.js":
/*!***************************************!*\
  !*** ./examples/off-screen-canvas.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return OffScreenCanvasSample; });\n/* harmony import */ var _lib_dom_off_screen_canvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/dom/off-screen-canvas */ \"./lib/dom/off-screen-canvas.js\");\n/* harmony import */ var _lib_is_is__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/is/is */ \"./lib/is/is.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\nvar OffScreenCanvasSample = function OffScreenCanvasSample() {\n  _classCallCheck(this, OffScreenCanvasSample);\n\n  if (!_lib_is_is__WEBPACK_IMPORTED_MODULE_1__[\"is\"].supportingOffScreenCanvas()) {\n    throw new Error('Sorry your browser is not suppported');\n  }\n\n  var offScreenCanvas = new _lib_dom_off_screen_canvas__WEBPACK_IMPORTED_MODULE_0__[\"OffScreenCanvas\"]();\n  var canvas = document.getElementById('canvas');\n  offScreenCanvas.setCanvas(canvas); // The contents of the tasks live inside the webworker.\n  // Normal imports don't work athte moment.\n\n  var task = function task(params) {\n    if (params.command == 'init') {\n      self.canvas = params.canvas;\n      console.log('Hello', params.name);\n      self.ctx = canvas.getContext('2d');\n    }\n\n    var getRandomInt = function getRandomInt(min, max) {\n      return Math.floor(Math.random() * (max - min + 1)) + min;\n    };\n\n    var animate = function animate() {\n      var random = getRandomInt(0, 500);\n      var random2 = getRandomInt(0, 500);\n      var random3 = getRandomInt(0, 500);\n      var random4 = getRandomInt(0, 500);\n      ctx.fillRect(random, random2, random3, random4);\n      setTimeout(function () {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        animate();\n      }, 1); // You could use this.\n      // requestAnimationFrame(animate);\n    };\n\n    if (params.command == 'animate') {\n      console.log('Hello', params.name);\n      animate();\n      return {\n        data: 'started animation'\n      };\n    }\n\n    if (params.command == 'init') {\n      ctx.fillRect(0, 0, 150, 75);\n      return {\n        data: 'initialized'\n      };\n    }\n  };\n\n  offScreenCanvas.setCanvasTask(task);\n  offScreenCanvas.init({\n    command: 'init',\n    name: 'Scott'\n  }).then(function (message) {\n    console.log(message.data);\n    offScreenCanvas.sendMessageToCanvas({\n      command: 'animate',\n      name: 'John'\n    }).then(function (message) {\n      console.log(message.data);\n    });\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9vZmYtc2NyZWVuLWNhbnZhcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL29mZi1zY3JlZW4tY2FudmFzLmpzPzFjYmIiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuaW1wb3J0IHsgT2ZmU2NyZWVuQ2FudmFzIH0gZnJvbSAnLi4vbGliL2RvbS9vZmYtc2NyZWVuLWNhbnZhcyc7XG5pbXBvcnQgeyBpcyB9IGZyb20gJy4uL2xpYi9pcy9pcyc7XG5pbXBvcnQgeyBtYXRoZiB9IGZyb20gJy4uL2xpYi9tYXRoZi9tYXRoZic7XG5cbnZhciBPZmZTY3JlZW5DYW52YXNTYW1wbGUgPSBmdW5jdGlvbiBPZmZTY3JlZW5DYW52YXNTYW1wbGUoKSB7XG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPZmZTY3JlZW5DYW52YXNTYW1wbGUpO1xuXG4gIGlmICghaXMuc3VwcG9ydGluZ09mZlNjcmVlbkNhbnZhcygpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTb3JyeSB5b3VyIGJyb3dzZXIgaXMgbm90IHN1cHBwb3J0ZWQnKTtcbiAgfVxuXG4gIHZhciBvZmZTY3JlZW5DYW52YXMgPSBuZXcgT2ZmU2NyZWVuQ2FudmFzKCk7XG4gIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJyk7XG4gIG9mZlNjcmVlbkNhbnZhcy5zZXRDYW52YXMoY2FudmFzKTsgLy8gVGhlIGNvbnRlbnRzIG9mIHRoZSB0YXNrcyBsaXZlIGluc2lkZSB0aGUgd2Vid29ya2VyLlxuICAvLyBOb3JtYWwgaW1wb3J0cyBkb24ndCB3b3JrIGF0aHRlIG1vbWVudC5cblxuICB2YXIgdGFzayA9IGZ1bmN0aW9uIHRhc2socGFyYW1zKSB7XG4gICAgaWYgKHBhcmFtcy5jb21tYW5kID09ICdpbml0Jykge1xuICAgICAgc2VsZi5jYW52YXMgPSBwYXJhbXMuY2FudmFzO1xuICAgICAgY29uc29sZS5sb2coJ0hlbGxvJywgcGFyYW1zLm5hbWUpO1xuICAgICAgc2VsZi5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB9XG5cbiAgICB2YXIgZ2V0UmFuZG9tSW50ID0gZnVuY3Rpb24gZ2V0UmFuZG9tSW50KG1pbiwgbWF4KSB7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcbiAgICB9O1xuXG4gICAgdmFyIGFuaW1hdGUgPSBmdW5jdGlvbiBhbmltYXRlKCkge1xuICAgICAgdmFyIHJhbmRvbSA9IGdldFJhbmRvbUludCgwLCA1MDApO1xuICAgICAgdmFyIHJhbmRvbTIgPSBnZXRSYW5kb21JbnQoMCwgNTAwKTtcbiAgICAgIHZhciByYW5kb20zID0gZ2V0UmFuZG9tSW50KDAsIDUwMCk7XG4gICAgICB2YXIgcmFuZG9tNCA9IGdldFJhbmRvbUludCgwLCA1MDApO1xuICAgICAgY3R4LmZpbGxSZWN0KHJhbmRvbSwgcmFuZG9tMiwgcmFuZG9tMywgcmFuZG9tNCk7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBhbmltYXRlKCk7XG4gICAgICB9LCAxKTsgLy8gWW91IGNvdWxkIHVzZSB0aGlzLlxuICAgICAgLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICAgIH07XG5cbiAgICBpZiAocGFyYW1zLmNvbW1hbmQgPT0gJ2FuaW1hdGUnKSB7XG4gICAgICBjb25zb2xlLmxvZygnSGVsbG8nLCBwYXJhbXMubmFtZSk7XG4gICAgICBhbmltYXRlKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYXRhOiAnc3RhcnRlZCBhbmltYXRpb24nXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuY29tbWFuZCA9PSAnaW5pdCcpIHtcbiAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCAxNTAsIDc1KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6ICdpbml0aWFsaXplZCdcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIG9mZlNjcmVlbkNhbnZhcy5zZXRDYW52YXNUYXNrKHRhc2spO1xuICBvZmZTY3JlZW5DYW52YXMuaW5pdCh7XG4gICAgY29tbWFuZDogJ2luaXQnLFxuICAgIG5hbWU6ICdTY290dCdcbiAgfSkudGhlbihmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UuZGF0YSk7XG4gICAgb2ZmU2NyZWVuQ2FudmFzLnNlbmRNZXNzYWdlVG9DYW52YXMoe1xuICAgICAgY29tbWFuZDogJ2FuaW1hdGUnLFxuICAgICAgbmFtZTogJ0pvaG4nXG4gICAgfSkudGhlbihmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgY29uc29sZS5sb2cobWVzc2FnZS5kYXRhKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgeyBPZmZTY3JlZW5DYW52YXNTYW1wbGUgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/off-screen-canvas.js\n");

/***/ }),

/***/ "./examples/perlin-noise.js":
/*!**********************************!*\
  !*** ./examples/perlin-noise.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PerlinNoiseSample; });\n/* harmony import */ var _lib_mathf_perlin_noise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/mathf/perlin-noise */ \"./lib/mathf/perlin-noise.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar PerlinNoiseSample = /*#__PURE__*/function () {\n  function PerlinNoiseSample() {\n    _classCallCheck(this, PerlinNoiseSample);\n\n    console.log('perlin noise');\n    var canvas = document.getElementById('canvas');\n    canvas.width = canvas.offsetWidth;\n    canvas.height = canvas.offsetHeight;\n    this.context = canvas.getContext('2d');\n    this.offset = 0;\n    this.offsetZ = 0;\n    this.y = 0;\n    this.z = 0;\n    this.draw();\n  } // Draws one line.\n\n\n  _createClass(PerlinNoiseSample, [{\n    key: \"oneline\",\n    value: function oneline(amplitude) {\n      var frequency = 8;\n      this.context.beginPath();\n\n      for (var i = 0; i < canvas.width; i += 50) {\n        var x = i / canvas.width;\n        var y = this.y / canvas.height;\n        var z = this.z / canvas.height;\n        var n = _lib_mathf_perlin_noise__WEBPACK_IMPORTED_MODULE_0__[\"PerlinNoise\"].noise3(x * frequency, y * frequency, z * frequency);\n        this.context.lineTo(i, -(n * amplitude) + canvas.height);\n        this.context.stroke();\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var _this = this;\n\n      this.context.clearRect(0, 0, canvas.width, canvas.height);\n      this.context.save();\n\n      for (var i = 2; i < 10; i += 1) {\n        var color = 'green';\n\n        if (i % 2 == 0) {\n          color = 'red';\n        }\n\n        if (i % 3 == 0) {\n          color = 'orange';\n        }\n\n        this.context.strokeStyle = color;\n        this.oneline((i + 1) * 100);\n      } // this.y = mathf.sinNormalized(this.offset) * canvas.height;\n      // this.z = mathf.sinNormalized(this.offsetZ) * canvas.height;\n      // this.offset += 0.02;\n      // this.offsetZ += 0.02;\n\n\n      this.y += this.offset;\n      this.z += this.offset;\n      this.offset = 0.9;\n      this.offsetZ = 0.8;\n      requestAnimationFrame(function () {\n        _this.draw();\n      });\n    }\n  }]);\n\n  return PerlinNoiseSample;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9wZXJsaW4tbm9pc2UuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9wZXJsaW4tbm9pc2UuanM/MDFmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCB7IFBlcmxpbk5vaXNlIH0gZnJvbSAnLi4vbGliL21hdGhmL3Blcmxpbi1ub2lzZSc7XG5pbXBvcnQgeyBtYXRoZiB9IGZyb20gJy4uL2xpYi9tYXRoZi9tYXRoZic7XG5cbnZhciBQZXJsaW5Ob2lzZVNhbXBsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFBlcmxpbk5vaXNlU2FtcGxlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQZXJsaW5Ob2lzZVNhbXBsZSk7XG5cbiAgICBjb25zb2xlLmxvZygncGVybGluIG5vaXNlJyk7XG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcbiAgICBjYW52YXMud2lkdGggPSBjYW52YXMub2Zmc2V0V2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGNhbnZhcy5vZmZzZXRIZWlnaHQ7XG4gICAgdGhpcy5jb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgdGhpcy5vZmZzZXQgPSAwO1xuICAgIHRoaXMub2Zmc2V0WiA9IDA7XG4gICAgdGhpcy55ID0gMDtcbiAgICB0aGlzLnogPSAwO1xuICAgIHRoaXMuZHJhdygpO1xuICB9IC8vIERyYXdzIG9uZSBsaW5lLlxuXG5cbiAgX2NyZWF0ZUNsYXNzKFBlcmxpbk5vaXNlU2FtcGxlLCBbe1xuICAgIGtleTogXCJvbmVsaW5lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uZWxpbmUoYW1wbGl0dWRlKSB7XG4gICAgICB2YXIgZnJlcXVlbmN5ID0gODtcbiAgICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYW52YXMud2lkdGg7IGkgKz0gNTApIHtcbiAgICAgICAgdmFyIHggPSBpIC8gY2FudmFzLndpZHRoO1xuICAgICAgICB2YXIgeSA9IHRoaXMueSAvIGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIHZhciB6ID0gdGhpcy56IC8gY2FudmFzLmhlaWdodDtcbiAgICAgICAgdmFyIG4gPSBQZXJsaW5Ob2lzZS5ub2lzZTMoeCAqIGZyZXF1ZW5jeSwgeSAqIGZyZXF1ZW5jeSwgeiAqIGZyZXF1ZW5jeSk7XG4gICAgICAgIHRoaXMuY29udGV4dC5saW5lVG8oaSwgLShuICogYW1wbGl0dWRlKSArIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRyYXdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIHRoaXMuY29udGV4dC5zYXZlKCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgMTA7IGkgKz0gMSkge1xuICAgICAgICB2YXIgY29sb3IgPSAnZ3JlZW4nO1xuXG4gICAgICAgIGlmIChpICUgMiA9PSAwKSB7XG4gICAgICAgICAgY29sb3IgPSAncmVkJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpICUgMyA9PSAwKSB7XG4gICAgICAgICAgY29sb3IgPSAnb3JhbmdlJztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgICAgICB0aGlzLm9uZWxpbmUoKGkgKyAxKSAqIDEwMCk7XG4gICAgICB9IC8vIHRoaXMueSA9IG1hdGhmLnNpbk5vcm1hbGl6ZWQodGhpcy5vZmZzZXQpICogY2FudmFzLmhlaWdodDtcbiAgICAgIC8vIHRoaXMueiA9IG1hdGhmLnNpbk5vcm1hbGl6ZWQodGhpcy5vZmZzZXRaKSAqIGNhbnZhcy5oZWlnaHQ7XG4gICAgICAvLyB0aGlzLm9mZnNldCArPSAwLjAyO1xuICAgICAgLy8gdGhpcy5vZmZzZXRaICs9IDAuMDI7XG5cblxuICAgICAgdGhpcy55ICs9IHRoaXMub2Zmc2V0O1xuICAgICAgdGhpcy56ICs9IHRoaXMub2Zmc2V0O1xuICAgICAgdGhpcy5vZmZzZXQgPSAwLjk7XG4gICAgICB0aGlzLm9mZnNldFogPSAwLjg7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5kcmF3KCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGVybGluTm9pc2VTYW1wbGU7XG59KCk7XG5cbmV4cG9ydCB7IFBlcmxpbk5vaXNlU2FtcGxlIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/perlin-noise.js\n");

/***/ }),

/***/ "./examples/playground.js":
/*!********************************!*\
  !*** ./examples/playground.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Playgroundsmaple; });\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_dom_web_worker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/web-worker */ \"./lib/dom/web-worker.js\");\n/* harmony import */ var _lib_func_func__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/func/func */ \"./lib/func/func.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar Playgroundsmaple = /*#__PURE__*/function () {\n  function Playgroundsmaple() {\n    _classCallCheck(this, Playgroundsmaple);\n\n    console.log('play ground'); // TIME Stuff\n    // this.testFuncDebouncer();\n    // this.testFuncThrottler();\n    // this.testFuncWaitUntil();\n    // this.testFuncWait();\n    // this.testFuncMemoizeSimple();\n    // this.testFuncMemoize();\n    // this.testFuncRunOnceOnChange();\n    // this.testDomRunAfterNotTopOfScreen();\n    // this.testDomForceFocus();\n    // DOM Stuff\n    // this.testWebWorker();\n  }\n\n  _createClass(Playgroundsmaple, [{\n    key: \"testDomForceFocus\",\n    value: function testDomForceFocus() {\n      var _this = this;\n\n      _lib_dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"dom\"].forceFocus(document.getElementById('hello'));\n      window.setTimeout(function () {\n        _lib_dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"dom\"].forceFocus(document.getElementById('hello2'));\n        window.setTimeout(function () {\n          _lib_dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"dom\"].forceFocus(document.getElementById('hello3'));\n          window.setTimeout(function () {\n            _lib_dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"dom\"].forceFocus(document.getElementById('hello4'));\n            window.setTimeout(function () {\n              _lib_dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"dom\"].forceFocus(document.getElementById('hello5'));\n              window.setTimeout(function () {\n                _this.testDomForceFocus();\n              }, 2000);\n            }, 2000);\n          }, 2000);\n        }, 2000);\n      }, 2000);\n    }\n  }, {\n    key: \"testDomRunAfterNotTopOfScreen\",\n    value: function testDomRunAfterNotTopOfScreen() {\n      _lib_dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"dom\"].runAfterNotTopOfScreen(function () {\n        console.log('running');\n      });\n    }\n  }, {\n    key: \"testFuncDebouncer\",\n    value: function testFuncDebouncer() {\n      var debouncer = _lib_func_func__WEBPACK_IMPORTED_MODULE_2__[\"func\"].debounce(function (event) {\n        console.log('debounced', event);\n      }, 1000);\n      window.addEventListener('resize', debouncer);\n    }\n  }, {\n    key: \"testFuncThrottler\",\n    value: function testFuncThrottler() {\n      var throttler = _lib_func_func__WEBPACK_IMPORTED_MODULE_2__[\"func\"].throttle(function (event) {\n        console.log('throttled', event);\n      }, 1000);\n      window.addEventListener('resize', function (event) {\n        console.log('resize called');\n        throttler(event);\n      });\n    }\n  }, {\n    key: \"testFuncWaitUntil\",\n    value: function testFuncWaitUntil() {\n      var someValue = 0;\n      _lib_func_func__WEBPACK_IMPORTED_MODULE_2__[\"func\"].waitUntil(function () {\n        return someValue == 5;\n      }).then(function () {\n        console.log('some value is 5!!!');\n      });\n      setTimeout(function () {\n        someValue = 5;\n      }, 1000);\n    }\n  }, {\n    key: \"testFuncWait\",\n    value: function testFuncWait() {\n      console.log('hohoho');\n      _lib_func_func__WEBPACK_IMPORTED_MODULE_2__[\"func\"].wait(500).then(function () {\n        console.log('hohoho after 500ms');\n      });\n    }\n  }, {\n    key: \"testFuncMemoizeSimple\",\n    value: function testFuncMemoizeSimple() {\n      var showName = _lib_func_func__WEBPACK_IMPORTED_MODULE_2__[\"func\"].memoizeSimple(function (name) {\n        return name;\n      });\n      console.log(showName('John'));\n      console.log(showName('John'));\n      console.log(showName('John'));\n      console.log(showName('John'));\n      console.log(showName('Scott'));\n    }\n  }, {\n    key: \"testFuncRunOnceOnChange\",\n    value: function testFuncRunOnceOnChange() {\n      var expensiveOperation = _lib_func_func__WEBPACK_IMPORTED_MODULE_2__[\"func\"].runOnceOnChange(function (name) {\n        console.log(name);\n      });\n      expensiveOperation('Scott');\n      expensiveOperation('Scott');\n      expensiveOperation('Scott');\n      expensiveOperation('Scott');\n      expensiveOperation('Scott');\n      expensiveOperation('John');\n      expensiveOperation('John');\n      expensiveOperation('Aya');\n      expensiveOperation('Aya');\n    }\n  }, {\n    key: \"testFuncMemoize\",\n    value: function testFuncMemoize() {\n      var calculate = _lib_func_func__WEBPACK_IMPORTED_MODULE_2__[\"func\"].memoize(function (a, b) {\n        console.log('calculating');\n        return a + b;\n      });\n      console.log(calculate(3, 2));\n      console.log(calculate(2, 2));\n      console.log(calculate(3, 2));\n      console.log(calculate(2, 2));\n      console.log(calculate(3, 2));\n    }\n  }, {\n    key: \"testWebWorker\",\n    value: function testWebWorker() {\n      var worker = new _lib_dom_web_worker__WEBPACK_IMPORTED_MODULE_1__[\"WebWorker\"](function (params) {\n        return params.a + params.b;\n      });\n      var params = {\n        a: 4,\n        b: 3\n      };\n      worker.runOneTimeThrowAwayWorker(params).then(function (result) {\n        console.log('one time worker');\n      });\n      worker.runOneTimeThrowAwayWorker(params).then(function (result) {\n        console.log('one time worker');\n      }); // Run once.  Run uses the same worker.\n\n      worker.run(params).then(function (result) {\n        console.log('result', result); // Make another call.\n\n        worker.run({\n          a: 4,\n          b: 6\n        }).then(function (result) {\n          console.log('result2', result);\n          worker.terminate();\n        });\n      });\n    }\n  }]);\n\n  return Playgroundsmaple;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9wbGF5Z3JvdW5kLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvcGxheWdyb3VuZC5qcz9lMmRiIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0IHsgZG9tIH0gZnJvbSAnLi4vbGliL2RvbS9kb20nO1xuaW1wb3J0IHsgV2ViV29ya2VyIH0gZnJvbSAnLi4vbGliL2RvbS93ZWItd29ya2VyJztcbmltcG9ydCB7IGZ1bmMgfSBmcm9tICcuLi9saWIvZnVuYy9mdW5jJztcbmltcG9ydCB7IG1hdGhmIH0gZnJvbSAnLi4vbGliL21hdGhmL21hdGhmJztcblxudmFyIFBsYXlncm91bmRzbWFwbGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQbGF5Z3JvdW5kc21hcGxlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQbGF5Z3JvdW5kc21hcGxlKTtcblxuICAgIGNvbnNvbGUubG9nKCdwbGF5IGdyb3VuZCcpOyAvLyBUSU1FIFN0dWZmXG4gICAgLy8gdGhpcy50ZXN0RnVuY0RlYm91bmNlcigpO1xuICAgIC8vIHRoaXMudGVzdEZ1bmNUaHJvdHRsZXIoKTtcbiAgICAvLyB0aGlzLnRlc3RGdW5jV2FpdFVudGlsKCk7XG4gICAgLy8gdGhpcy50ZXN0RnVuY1dhaXQoKTtcbiAgICAvLyB0aGlzLnRlc3RGdW5jTWVtb2l6ZVNpbXBsZSgpO1xuICAgIC8vIHRoaXMudGVzdEZ1bmNNZW1vaXplKCk7XG4gICAgLy8gdGhpcy50ZXN0RnVuY1J1bk9uY2VPbkNoYW5nZSgpO1xuICAgIC8vIHRoaXMudGVzdERvbVJ1bkFmdGVyTm90VG9wT2ZTY3JlZW4oKTtcbiAgICAvLyB0aGlzLnRlc3REb21Gb3JjZUZvY3VzKCk7XG4gICAgLy8gRE9NIFN0dWZmXG4gICAgLy8gdGhpcy50ZXN0V2ViV29ya2VyKCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUGxheWdyb3VuZHNtYXBsZSwgW3tcbiAgICBrZXk6IFwidGVzdERvbUZvcmNlRm9jdXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdGVzdERvbUZvcmNlRm9jdXMoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBkb20uZm9yY2VGb2N1cyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVsbG8nKSk7XG4gICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRvbS5mb3JjZUZvY3VzKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWxsbzInKSk7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBkb20uZm9yY2VGb2N1cyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVsbG8zJykpO1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRvbS5mb3JjZUZvY3VzKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWxsbzQnKSk7XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGRvbS5mb3JjZUZvY3VzKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWxsbzUnKSk7XG4gICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy50ZXN0RG9tRm9yY2VGb2N1cygpO1xuICAgICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICB9LCAyMDAwKTtcbiAgICAgIH0sIDIwMDApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0ZXN0RG9tUnVuQWZ0ZXJOb3RUb3BPZlNjcmVlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0ZXN0RG9tUnVuQWZ0ZXJOb3RUb3BPZlNjcmVlbigpIHtcbiAgICAgIGRvbS5ydW5BZnRlck5vdFRvcE9mU2NyZWVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3J1bm5pbmcnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0ZXN0RnVuY0RlYm91bmNlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0ZXN0RnVuY0RlYm91bmNlcigpIHtcbiAgICAgIHZhciBkZWJvdW5jZXIgPSBmdW5jLmRlYm91bmNlKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBjb25zb2xlLmxvZygnZGVib3VuY2VkJywgZXZlbnQpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZGVib3VuY2VyKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidGVzdEZ1bmNUaHJvdHRsZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdGVzdEZ1bmNUaHJvdHRsZXIoKSB7XG4gICAgICB2YXIgdGhyb3R0bGVyID0gZnVuYy50aHJvdHRsZShmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3Rocm90dGxlZCcsIGV2ZW50KTtcbiAgICAgIH0sIDEwMDApO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBjb25zb2xlLmxvZygncmVzaXplIGNhbGxlZCcpO1xuICAgICAgICB0aHJvdHRsZXIoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRlc3RGdW5jV2FpdFVudGlsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRlc3RGdW5jV2FpdFVudGlsKCkge1xuICAgICAgdmFyIHNvbWVWYWx1ZSA9IDA7XG4gICAgICBmdW5jLndhaXRVbnRpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzb21lVmFsdWUgPT0gNTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnc29tZSB2YWx1ZSBpcyA1ISEhJyk7XG4gICAgICB9KTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBzb21lVmFsdWUgPSA1O1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRlc3RGdW5jV2FpdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0ZXN0RnVuY1dhaXQoKSB7XG4gICAgICBjb25zb2xlLmxvZygnaG9ob2hvJyk7XG4gICAgICBmdW5jLndhaXQoNTAwKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2hvaG9obyBhZnRlciA1MDBtcycpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRlc3RGdW5jTWVtb2l6ZVNpbXBsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0ZXN0RnVuY01lbW9pemVTaW1wbGUoKSB7XG4gICAgICB2YXIgc2hvd05hbWUgPSBmdW5jLm1lbW9pemVTaW1wbGUoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKHNob3dOYW1lKCdKb2huJykpO1xuICAgICAgY29uc29sZS5sb2coc2hvd05hbWUoJ0pvaG4nKSk7XG4gICAgICBjb25zb2xlLmxvZyhzaG93TmFtZSgnSm9obicpKTtcbiAgICAgIGNvbnNvbGUubG9nKHNob3dOYW1lKCdKb2huJykpO1xuICAgICAgY29uc29sZS5sb2coc2hvd05hbWUoJ1Njb3R0JykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0ZXN0RnVuY1J1bk9uY2VPbkNoYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0ZXN0RnVuY1J1bk9uY2VPbkNoYW5nZSgpIHtcbiAgICAgIHZhciBleHBlbnNpdmVPcGVyYXRpb24gPSBmdW5jLnJ1bk9uY2VPbkNoYW5nZShmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhuYW1lKTtcbiAgICAgIH0pO1xuICAgICAgZXhwZW5zaXZlT3BlcmF0aW9uKCdTY290dCcpO1xuICAgICAgZXhwZW5zaXZlT3BlcmF0aW9uKCdTY290dCcpO1xuICAgICAgZXhwZW5zaXZlT3BlcmF0aW9uKCdTY290dCcpO1xuICAgICAgZXhwZW5zaXZlT3BlcmF0aW9uKCdTY290dCcpO1xuICAgICAgZXhwZW5zaXZlT3BlcmF0aW9uKCdTY290dCcpO1xuICAgICAgZXhwZW5zaXZlT3BlcmF0aW9uKCdKb2huJyk7XG4gICAgICBleHBlbnNpdmVPcGVyYXRpb24oJ0pvaG4nKTtcbiAgICAgIGV4cGVuc2l2ZU9wZXJhdGlvbignQXlhJyk7XG4gICAgICBleHBlbnNpdmVPcGVyYXRpb24oJ0F5YScpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0ZXN0RnVuY01lbW9pemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdGVzdEZ1bmNNZW1vaXplKCkge1xuICAgICAgdmFyIGNhbGN1bGF0ZSA9IGZ1bmMubWVtb2l6ZShmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBjb25zb2xlLmxvZygnY2FsY3VsYXRpbmcnKTtcbiAgICAgICAgcmV0dXJuIGEgKyBiO1xuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhjYWxjdWxhdGUoMywgMikpO1xuICAgICAgY29uc29sZS5sb2coY2FsY3VsYXRlKDIsIDIpKTtcbiAgICAgIGNvbnNvbGUubG9nKGNhbGN1bGF0ZSgzLCAyKSk7XG4gICAgICBjb25zb2xlLmxvZyhjYWxjdWxhdGUoMiwgMikpO1xuICAgICAgY29uc29sZS5sb2coY2FsY3VsYXRlKDMsIDIpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidGVzdFdlYldvcmtlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0ZXN0V2ViV29ya2VyKCkge1xuICAgICAgdmFyIHdvcmtlciA9IG5ldyBXZWJXb3JrZXIoZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICByZXR1cm4gcGFyYW1zLmEgKyBwYXJhbXMuYjtcbiAgICAgIH0pO1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgYTogNCxcbiAgICAgICAgYjogM1xuICAgICAgfTtcbiAgICAgIHdvcmtlci5ydW5PbmVUaW1lVGhyb3dBd2F5V29ya2VyKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdvbmUgdGltZSB3b3JrZXInKTtcbiAgICAgIH0pO1xuICAgICAgd29ya2VyLnJ1bk9uZVRpbWVUaHJvd0F3YXlXb3JrZXIocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ29uZSB0aW1lIHdvcmtlcicpO1xuICAgICAgfSk7IC8vIFJ1biBvbmNlLiAgUnVuIHVzZXMgdGhlIHNhbWUgd29ya2VyLlxuXG4gICAgICB3b3JrZXIucnVuKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHQnLCByZXN1bHQpOyAvLyBNYWtlIGFub3RoZXIgY2FsbC5cblxuICAgICAgICB3b3JrZXIucnVuKHtcbiAgICAgICAgICBhOiA0LFxuICAgICAgICAgIGI6IDZcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdDInLCByZXN1bHQpO1xuICAgICAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGxheWdyb3VuZHNtYXBsZTtcbn0oKTtcblxuZXhwb3J0IHsgUGxheWdyb3VuZHNtYXBsZSBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/playground.js\n");

/***/ }),

/***/ "./examples/pseudo-3d-canvas.js":
/*!**************************************!*\
  !*** ./examples/pseudo-3d-canvas.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return pseudo3dCanvasSample; });\n/* harmony import */ var dat_gui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dat.gui */ \"./node_modules/dat.gui/build/dat.gui.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_pseudo_3d_canvas_pseudo_3d_canvas__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/pseudo-3d-canvas/pseudo-3d-canvas */ \"./lib/pseudo-3d-canvas/pseudo-3d-canvas.js\");\n/* harmony import */ var _lib_pseudo_3d_canvas_mesh__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/pseudo-3d-canvas/mesh */ \"./lib/pseudo-3d-canvas/mesh.js\");\n/* harmony import */ var _lib_pseudo_3d_canvas_camera__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/pseudo-3d-canvas/camera */ \"./lib/pseudo-3d-canvas/camera.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n/**\n * Demonstrates pseudo3dCanvas.  This is more an experimentation\n * and demonstration of how to project 3d into 2d space.\n *\n * The pseudo3dCanvas is responsible for creating a translationMatrix\n * that then transforms the positoin of each vertices to project\n * 3d into 2d space.\n */\n\nvar pseudo3dCanvasSample = /*#__PURE__*/function () {\n  function pseudo3dCanvasSample() {\n    _classCallCheck(this, pseudo3dCanvasSample);\n\n    this.gui = new dat_gui__WEBPACK_IMPORTED_MODULE_0__[\"GUI\"]();\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"]();\n    this.raf.watch(this.renderLoop.bind(this));\n    var canvasElement = document.getElementById('canvas');\n    this.pseudo3dCanvas = new _lib_pseudo_3d_canvas_pseudo_3d_canvas__WEBPACK_IMPORTED_MODULE_2__[\"Pseudo3dCanvas\"]({\n      canvasElement: canvasElement\n    });\n    this.camera = new _lib_pseudo_3d_canvas_camera__WEBPACK_IMPORTED_MODULE_4__[\"Camera\"]();\n    var cubeMesh = new _lib_pseudo_3d_canvas_mesh__WEBPACK_IMPORTED_MODULE_3__[\"CubeMesh\"]();\n    cubeMesh.position.x = 0;\n    cubeMesh.position.y = 0;\n    cubeMesh.position.z = 100;\n    cubeMesh.originalPosition = cubeMesh.position.clone();\n    cubeMesh.rotation = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_5__[\"Vector\"](-1, -1, -1);\n    cubeMesh.color = 'green';\n    cubeMesh.size(3, 3, 3);\n    var cubeMesh2 = new _lib_pseudo_3d_canvas_mesh__WEBPACK_IMPORTED_MODULE_3__[\"CubeMesh\"]();\n    cubeMesh2.position.x = 0;\n    cubeMesh2.position.y = 10;\n    cubeMesh2.position.z = 100;\n    cubeMesh2.originalPosition = cubeMesh2.position.clone();\n    cubeMesh2.rotation = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_5__[\"Vector\"](-1, -1, -1);\n    cubeMesh2.size(1, 1, 1);\n    cubeMesh2.color = 'orange';\n    console.log('c1', cubeMesh);\n    console.log('c2', cubeMesh2); // Update the camera position.\n\n    this.camera.position = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_5__[\"Vector\"](0, 0, 5);\n    this.camera.target = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_5__[\"Vector\"](0, 0, 0); // this.camera.position = new Vector(0, 0, 1);\n    // this.camera.target = new Vector(0, 0, 0);\n\n    this.meshes = [cubeMesh, cubeMesh2];\n    var projection = this.gui.addFolder('Projection');\n    projection.add(this.pseudo3dCanvas, 'fov', -180, 180);\n    projection.add(this.pseudo3dCanvas, 'aspect', 0, 2);\n    projection.add(this.pseudo3dCanvas, 'near', -100, 100);\n    projection.add(this.pseudo3dCanvas, 'far', -10000, 10000);\n    var cameraFolder = this.gui.addFolder('camera position');\n    cameraFolder.add(this.camera.position, 'x', -1, 1);\n    cameraFolder.add(this.camera.position, 'y', -1, 1);\n    cameraFolder.add(this.camera.position, 'z', -100, 1000);\n    var cameraTargetFolder = this.gui.addFolder('camera target');\n    cameraTargetFolder.add(this.camera.target, 'x', -10, 10);\n    cameraTargetFolder.add(this.camera.target, 'y', -10, 10);\n    cameraTargetFolder.add(this.camera.target, 'z', -100, 1000); // let meshFolder = this.gui.addFolder('mesh');\n    // meshFolder.add(cubeMesh.rotation, 'x', 0.001, 0.9);\n    // meshFolder.add(cubeMesh.rotation, 'y', 0.001, 0.9);\n    // meshFolder.add(cubeMesh.rotation, 'z', 0.001, 0.9);\n\n    this.wave = 0;\n    this.wave2 = 0;\n    console.log(this.pseudo3dCanvas);\n    console.log(cubeMesh); // console.log(cubeMesh2);\n    // // Start raf loop.\n\n    this.raf.start(); // this.renderLoop();\n  }\n  /**\n     * Handles each raf loop.\n     */\n\n\n  _createClass(pseudo3dCanvasSample, [{\n    key: \"renderLoop\",\n    value: function renderLoop(delta) {\n      this.wave += 0.03;\n      this.wave2 += 0.02;\n      this.meshes[0].rotation.x += 0.05;\n      this.meshes[0].rotation.y += 0.05;\n      this.meshes[0].rotation.z += 0.05;\n      this.meshes[0].position.z = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_6__[\"mathf\"].lerp(this.meshes[0].position.z, this.meshes[0].originalPosition.z + -Math.sin(this.wave2) * 60, 0.3);\n      this.meshes[1].rotation.x += 0.02;\n      this.meshes[1].rotation.y += 0.01;\n      this.meshes[1].rotation.z += 0.02; // Update the cubeMesh2 position.\n\n      this.meshes[1].position.x = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_6__[\"mathf\"].lerp(this.meshes[1].position.x, this.meshes[1].originalPosition.x + Math.sin(this.wave) * 5, 0.2);\n      this.meshes[1].position.y = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_6__[\"mathf\"].lerp(this.meshes[1].position.y, this.meshes[1].originalPosition.y + Math.sin(this.wave2) * 5, 0.2);\n      this.meshes[1].position.z = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_6__[\"mathf\"].lerp(this.meshes[1].position.z, this.meshes[1].originalPosition.z + Math.sin(this.wave2) * 60, 0.3); // this.meshes.forEach((mesh) => {\n      //     mesh.rotation.x += 0.01;\n      //     mesh.rotation.y += 0.01;\n      //     // mesh.rotation.z += 0.01;\n      // });\n\n      this.pseudo3dCanvas.render(this.camera, this.meshes); // console.log(this.pseudo3dCanvas);\n    }\n  }]);\n\n  return pseudo3dCanvasSample;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9wc2V1ZG8tM2QtY2FudmFzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvcHNldWRvLTNkLWNhbnZhcy5qcz83MDlkIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0ICogYXMgZGF0IGZyb20gJ2RhdC5ndWknO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgUHNldWRvM2RDYW52YXMgfSBmcm9tICcuLi9saWIvcHNldWRvLTNkLWNhbnZhcy9wc2V1ZG8tM2QtY2FudmFzJztcbmltcG9ydCB7IEN1YmVNZXNoIH0gZnJvbSAnLi4vbGliL3BzZXVkby0zZC1jYW52YXMvbWVzaCc7XG5pbXBvcnQgeyBDYW1lcmEgfSBmcm9tICcuLi9saWIvcHNldWRvLTNkLWNhbnZhcy9jYW1lcmEnO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vbGliL21hdGhmL3ZlY3Rvcic7XG5pbXBvcnQgeyBtYXRoZiB9IGZyb20gJy4uL2xpYi9tYXRoZi9tYXRoZic7XG4vKipcbiAqIERlbW9uc3RyYXRlcyBwc2V1ZG8zZENhbnZhcy4gIFRoaXMgaXMgbW9yZSBhbiBleHBlcmltZW50YXRpb25cbiAqIGFuZCBkZW1vbnN0cmF0aW9uIG9mIGhvdyB0byBwcm9qZWN0IDNkIGludG8gMmQgc3BhY2UuXG4gKlxuICogVGhlIHBzZXVkbzNkQ2FudmFzIGlzIHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyBhIHRyYW5zbGF0aW9uTWF0cml4XG4gKiB0aGF0IHRoZW4gdHJhbnNmb3JtcyB0aGUgcG9zaXRvaW4gb2YgZWFjaCB2ZXJ0aWNlcyB0byBwcm9qZWN0XG4gKiAzZCBpbnRvIDJkIHNwYWNlLlxuICovXG5cbnZhciBwc2V1ZG8zZENhbnZhc1NhbXBsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIHBzZXVkbzNkQ2FudmFzU2FtcGxlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBwc2V1ZG8zZENhbnZhc1NhbXBsZSk7XG5cbiAgICB0aGlzLmd1aSA9IG5ldyBkYXQuR1VJKCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgUmFmKCk7XG4gICAgdGhpcy5yYWYud2F0Y2godGhpcy5yZW5kZXJMb29wLmJpbmQodGhpcykpO1xuICAgIHZhciBjYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpO1xuICAgIHRoaXMucHNldWRvM2RDYW52YXMgPSBuZXcgUHNldWRvM2RDYW52YXMoe1xuICAgICAgY2FudmFzRWxlbWVudDogY2FudmFzRWxlbWVudFxuICAgIH0pO1xuICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYSgpO1xuICAgIHZhciBjdWJlTWVzaCA9IG5ldyBDdWJlTWVzaCgpO1xuICAgIGN1YmVNZXNoLnBvc2l0aW9uLnggPSAwO1xuICAgIGN1YmVNZXNoLnBvc2l0aW9uLnkgPSAwO1xuICAgIGN1YmVNZXNoLnBvc2l0aW9uLnogPSAxMDA7XG4gICAgY3ViZU1lc2gub3JpZ2luYWxQb3NpdGlvbiA9IGN1YmVNZXNoLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgY3ViZU1lc2gucm90YXRpb24gPSBuZXcgVmVjdG9yKC0xLCAtMSwgLTEpO1xuICAgIGN1YmVNZXNoLmNvbG9yID0gJ2dyZWVuJztcbiAgICBjdWJlTWVzaC5zaXplKDMsIDMsIDMpO1xuICAgIHZhciBjdWJlTWVzaDIgPSBuZXcgQ3ViZU1lc2goKTtcbiAgICBjdWJlTWVzaDIucG9zaXRpb24ueCA9IDA7XG4gICAgY3ViZU1lc2gyLnBvc2l0aW9uLnkgPSAxMDtcbiAgICBjdWJlTWVzaDIucG9zaXRpb24ueiA9IDEwMDtcbiAgICBjdWJlTWVzaDIub3JpZ2luYWxQb3NpdGlvbiA9IGN1YmVNZXNoMi5wb3NpdGlvbi5jbG9uZSgpO1xuICAgIGN1YmVNZXNoMi5yb3RhdGlvbiA9IG5ldyBWZWN0b3IoLTEsIC0xLCAtMSk7XG4gICAgY3ViZU1lc2gyLnNpemUoMSwgMSwgMSk7XG4gICAgY3ViZU1lc2gyLmNvbG9yID0gJ29yYW5nZSc7XG4gICAgY29uc29sZS5sb2coJ2MxJywgY3ViZU1lc2gpO1xuICAgIGNvbnNvbGUubG9nKCdjMicsIGN1YmVNZXNoMik7IC8vIFVwZGF0ZSB0aGUgY2FtZXJhIHBvc2l0aW9uLlxuXG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24gPSBuZXcgVmVjdG9yKDAsIDAsIDUpO1xuICAgIHRoaXMuY2FtZXJhLnRhcmdldCA9IG5ldyBWZWN0b3IoMCwgMCwgMCk7IC8vIHRoaXMuY2FtZXJhLnBvc2l0aW9uID0gbmV3IFZlY3RvcigwLCAwLCAxKTtcbiAgICAvLyB0aGlzLmNhbWVyYS50YXJnZXQgPSBuZXcgVmVjdG9yKDAsIDAsIDApO1xuXG4gICAgdGhpcy5tZXNoZXMgPSBbY3ViZU1lc2gsIGN1YmVNZXNoMl07XG4gICAgdmFyIHByb2plY3Rpb24gPSB0aGlzLmd1aS5hZGRGb2xkZXIoJ1Byb2plY3Rpb24nKTtcbiAgICBwcm9qZWN0aW9uLmFkZCh0aGlzLnBzZXVkbzNkQ2FudmFzLCAnZm92JywgLTE4MCwgMTgwKTtcbiAgICBwcm9qZWN0aW9uLmFkZCh0aGlzLnBzZXVkbzNkQ2FudmFzLCAnYXNwZWN0JywgMCwgMik7XG4gICAgcHJvamVjdGlvbi5hZGQodGhpcy5wc2V1ZG8zZENhbnZhcywgJ25lYXInLCAtMTAwLCAxMDApO1xuICAgIHByb2plY3Rpb24uYWRkKHRoaXMucHNldWRvM2RDYW52YXMsICdmYXInLCAtMTAwMDAsIDEwMDAwKTtcbiAgICB2YXIgY2FtZXJhRm9sZGVyID0gdGhpcy5ndWkuYWRkRm9sZGVyKCdjYW1lcmEgcG9zaXRpb24nKTtcbiAgICBjYW1lcmFGb2xkZXIuYWRkKHRoaXMuY2FtZXJhLnBvc2l0aW9uLCAneCcsIC0xLCAxKTtcbiAgICBjYW1lcmFGb2xkZXIuYWRkKHRoaXMuY2FtZXJhLnBvc2l0aW9uLCAneScsIC0xLCAxKTtcbiAgICBjYW1lcmFGb2xkZXIuYWRkKHRoaXMuY2FtZXJhLnBvc2l0aW9uLCAneicsIC0xMDAsIDEwMDApO1xuICAgIHZhciBjYW1lcmFUYXJnZXRGb2xkZXIgPSB0aGlzLmd1aS5hZGRGb2xkZXIoJ2NhbWVyYSB0YXJnZXQnKTtcbiAgICBjYW1lcmFUYXJnZXRGb2xkZXIuYWRkKHRoaXMuY2FtZXJhLnRhcmdldCwgJ3gnLCAtMTAsIDEwKTtcbiAgICBjYW1lcmFUYXJnZXRGb2xkZXIuYWRkKHRoaXMuY2FtZXJhLnRhcmdldCwgJ3knLCAtMTAsIDEwKTtcbiAgICBjYW1lcmFUYXJnZXRGb2xkZXIuYWRkKHRoaXMuY2FtZXJhLnRhcmdldCwgJ3onLCAtMTAwLCAxMDAwKTsgLy8gbGV0IG1lc2hGb2xkZXIgPSB0aGlzLmd1aS5hZGRGb2xkZXIoJ21lc2gnKTtcbiAgICAvLyBtZXNoRm9sZGVyLmFkZChjdWJlTWVzaC5yb3RhdGlvbiwgJ3gnLCAwLjAwMSwgMC45KTtcbiAgICAvLyBtZXNoRm9sZGVyLmFkZChjdWJlTWVzaC5yb3RhdGlvbiwgJ3knLCAwLjAwMSwgMC45KTtcbiAgICAvLyBtZXNoRm9sZGVyLmFkZChjdWJlTWVzaC5yb3RhdGlvbiwgJ3onLCAwLjAwMSwgMC45KTtcblxuICAgIHRoaXMud2F2ZSA9IDA7XG4gICAgdGhpcy53YXZlMiA9IDA7XG4gICAgY29uc29sZS5sb2codGhpcy5wc2V1ZG8zZENhbnZhcyk7XG4gICAgY29uc29sZS5sb2coY3ViZU1lc2gpOyAvLyBjb25zb2xlLmxvZyhjdWJlTWVzaDIpO1xuICAgIC8vIC8vIFN0YXJ0IHJhZiBsb29wLlxuXG4gICAgdGhpcy5yYWYuc3RhcnQoKTsgLy8gdGhpcy5yZW5kZXJMb29wKCk7XG4gIH1cbiAgLyoqXG4gICAgICogSGFuZGxlcyBlYWNoIHJhZiBsb29wLlxuICAgICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKHBzZXVkbzNkQ2FudmFzU2FtcGxlLCBbe1xuICAgIGtleTogXCJyZW5kZXJMb29wXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckxvb3AoZGVsdGEpIHtcbiAgICAgIHRoaXMud2F2ZSArPSAwLjAzO1xuICAgICAgdGhpcy53YXZlMiArPSAwLjAyO1xuICAgICAgdGhpcy5tZXNoZXNbMF0ucm90YXRpb24ueCArPSAwLjA1O1xuICAgICAgdGhpcy5tZXNoZXNbMF0ucm90YXRpb24ueSArPSAwLjA1O1xuICAgICAgdGhpcy5tZXNoZXNbMF0ucm90YXRpb24ueiArPSAwLjA1O1xuICAgICAgdGhpcy5tZXNoZXNbMF0ucG9zaXRpb24ueiA9IG1hdGhmLmxlcnAodGhpcy5tZXNoZXNbMF0ucG9zaXRpb24ueiwgdGhpcy5tZXNoZXNbMF0ub3JpZ2luYWxQb3NpdGlvbi56ICsgLU1hdGguc2luKHRoaXMud2F2ZTIpICogNjAsIDAuMyk7XG4gICAgICB0aGlzLm1lc2hlc1sxXS5yb3RhdGlvbi54ICs9IDAuMDI7XG4gICAgICB0aGlzLm1lc2hlc1sxXS5yb3RhdGlvbi55ICs9IDAuMDE7XG4gICAgICB0aGlzLm1lc2hlc1sxXS5yb3RhdGlvbi56ICs9IDAuMDI7IC8vIFVwZGF0ZSB0aGUgY3ViZU1lc2gyIHBvc2l0aW9uLlxuXG4gICAgICB0aGlzLm1lc2hlc1sxXS5wb3NpdGlvbi54ID0gbWF0aGYubGVycCh0aGlzLm1lc2hlc1sxXS5wb3NpdGlvbi54LCB0aGlzLm1lc2hlc1sxXS5vcmlnaW5hbFBvc2l0aW9uLnggKyBNYXRoLnNpbih0aGlzLndhdmUpICogNSwgMC4yKTtcbiAgICAgIHRoaXMubWVzaGVzWzFdLnBvc2l0aW9uLnkgPSBtYXRoZi5sZXJwKHRoaXMubWVzaGVzWzFdLnBvc2l0aW9uLnksIHRoaXMubWVzaGVzWzFdLm9yaWdpbmFsUG9zaXRpb24ueSArIE1hdGguc2luKHRoaXMud2F2ZTIpICogNSwgMC4yKTtcbiAgICAgIHRoaXMubWVzaGVzWzFdLnBvc2l0aW9uLnogPSBtYXRoZi5sZXJwKHRoaXMubWVzaGVzWzFdLnBvc2l0aW9uLnosIHRoaXMubWVzaGVzWzFdLm9yaWdpbmFsUG9zaXRpb24ueiArIE1hdGguc2luKHRoaXMud2F2ZTIpICogNjAsIDAuMyk7IC8vIHRoaXMubWVzaGVzLmZvckVhY2goKG1lc2gpID0+IHtcbiAgICAgIC8vICAgICBtZXNoLnJvdGF0aW9uLnggKz0gMC4wMTtcbiAgICAgIC8vICAgICBtZXNoLnJvdGF0aW9uLnkgKz0gMC4wMTtcbiAgICAgIC8vICAgICAvLyBtZXNoLnJvdGF0aW9uLnogKz0gMC4wMTtcbiAgICAgIC8vIH0pO1xuXG4gICAgICB0aGlzLnBzZXVkbzNkQ2FudmFzLnJlbmRlcih0aGlzLmNhbWVyYSwgdGhpcy5tZXNoZXMpOyAvLyBjb25zb2xlLmxvZyh0aGlzLnBzZXVkbzNkQ2FudmFzKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gcHNldWRvM2RDYW52YXNTYW1wbGU7XG59KCk7XG5cbmV4cG9ydCB7IHBzZXVkbzNkQ2FudmFzU2FtcGxlIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/pseudo-3d-canvas.js\n");

/***/ }),

/***/ "./examples/quaternion.js":
/*!********************************!*\
  !*** ./examples/quaternion.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return QuaternionSample; });\n/* harmony import */ var dat_gui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dat.gui */ \"./node_modules/dat.gui/build/dat.gui.module.js\");\n/* harmony import */ var _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/vector-dom */ \"./lib/dom/vector-dom.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pixi.js */ \"./node_modules/pixi.js/lib/index.js\");\n/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(pixi_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _lib_mathf_quaternion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/mathf/quaternion */ \"./lib/mathf/quaternion.js\");\n/* harmony import */ var _lib_mathf_matrixIV__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/mathf/matrixIV */ \"./lib/mathf/matrixIV.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\nvar QuaternionSample = /*#__PURE__*/function () {\n  function QuaternionSample() {\n    var _this = this;\n\n    _classCallCheck(this, QuaternionSample);\n\n    console.log('test');\n    this.gui = new dat_gui__WEBPACK_IMPORTED_MODULE_0__[\"GUI\"](); // Create targets.\n\n    this.targets = {};\n\n    var createTarget = function createTarget(id, x, y, z) {\n      var el = document.getElementById(id);\n      var t = new _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_1__[\"VectorDom\"](el);\n      t.anchorX = 0.5;\n      t.anchorY = 0.5;\n      t.setPosition(new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"](x, y, z));\n      t.init(); // Add the coordinates so we can see them.\n      // el.innerHTML = `${x} ${y} ${z}`;\n\n      el.innerHTML = id;\n      _this.targets[id] = t;\n      t.render();\n    };\n\n    createTarget('target1', 100, 200, 1 - 1);\n    createTarget('target2', 700, 500, 1 - 1);\n    createTarget('target3', 100, 400, 1 - 1);\n    createTarget('target4', 700, -100, 1 - 1);\n    createTarget('target5', 400, -200, 1 - 1);\n    this.cube = new _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_1__[\"VectorDom\"](document.getElementById('ball'));\n    this.cube.setPosition(new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"](0, 0, 1 - 1)); // We are going to offset the entire element position to the center\n    // of the container.\n\n    this.cube.setOffset(new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"](800 / 2, 800 / 2, 0));\n    this.cube.init();\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__[\"Raf\"](this.onRaf.bind(this));\n    this.raf.start(); // Setup DAT GUI radio options\n\n    var setChecked = function setChecked(prop) {\n      for (var param in _this.parameters) {\n        _this.parameters[param] = false;\n      }\n\n      _this.parameters[prop] = true;\n    };\n\n    var addRadio = function addRadio(folder, prop) {\n      folder.add(_this.parameters, prop).listen().onChange(function () {\n        setChecked(prop);\n      });\n    };\n\n    this.parameters = {\n      lookAtTarget1: false,\n      lookAtTarget2: false,\n      lookAtTarget3: false,\n      lookAtTarget4: false,\n      lookAtTarget5: false\n    };\n    var folder = this.gui.addFolder('Options');\n    addRadio(folder, 'lookAtTarget1');\n    addRadio(folder, 'lookAtTarget2');\n    addRadio(folder, 'lookAtTarget3');\n    addRadio(folder, 'lookAtTarget4');\n    addRadio(folder, 'lookAtTarget5');\n  }\n\n  _createClass(QuaternionSample, [{\n    key: \"onRaf\",\n    value: function onRaf() {\n      if (this.parameters.lookAtTarget1) {\n        this.lookAt3('target1');\n      }\n\n      if (this.parameters.lookAtTarget2) {\n        this.lookAt3('target2');\n      }\n\n      if (this.parameters.lookAtTarget3) {\n        this.lookAt3('target3');\n      }\n\n      if (this.parameters.lookAtTarget4) {\n        this.lookAt3('target4');\n      }\n\n      if (this.parameters.lookAtTarget5) {\n        this.lookAt3('target5');\n      }\n\n      this.cube.render();\n    }\n  }, {\n    key: \"lookAt3\",\n    value: function lookAt3(targetId) {\n      var target = this.targets[targetId];\n      var eye = this.cube;\n      target = target.position.clone().add(target.offset).add(target.anchorOffsetVector);\n      eye = eye.position.clone().add(eye.offset).add(eye.anchorOffsetVector);\n      var q = _lib_mathf_quaternion__WEBPACK_IMPORTED_MODULE_5__[\"Quaternion\"].rotateTo(eye.normalize(), target.normalize(), _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"].UP);\n      this.cube.rotation.slerp(q, 0.2);\n    }\n  }, {\n    key: \"lookAt2\",\n    value: function lookAt2(targetId) {\n      var target = this.targets[targetId];\n      var eye = this.cube;\n      target = target.position.clone().add(target.offset).add(target.anchorOffsetVector);\n      eye = eye.position.clone().add(eye.offset).add(eye.anchorOffsetVector); // target = target.globalElementCenterPosition;\n      // eye = eye.globalElementCenterPosition;\n\n      var tc = target.clone();\n      var ec = eye.clone();\n      var eularDifference = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"].getEularRotationTo(eye.normalize(), target.normalize());\n      var m1 = new _lib_mathf_matrixIV__WEBPACK_IMPORTED_MODULE_6__[\"MatrixIV\"]().ypr(eularDifference.z, eularDifference.y, eularDifference.x);\n      var q = _lib_mathf_quaternion__WEBPACK_IMPORTED_MODULE_5__[\"Quaternion\"].fromRotationMatrixIV(m1); // let q = Quaternion.fromEulerVector(eularDifference);\n\n      this.cube.rotation.slerp(q, 0.2);\n    }\n  }, {\n    key: \"lookAt\",\n    value: function lookAt(targetId) {\n      this.cube.useBoundsForGlobalCalculation = false;\n      this.targets[targetId].useBoundsForGlobalCalculation = true; // This work.\n\n      var target = this.targets[targetId];\n      target = target.position.clone().add(target.offset).add(target.anchorOffsetVector);\n      var eye = this.cube;\n      eye = eye.position.clone().add(eye.offset).add(eye.anchorOffsetVector); // doesnt work because it's tied to window scroll.\n      // let target = this.targets[targetId].globalElementCenterPosition.clone();\n      // let eye = this.cube.globalElementCenterPosition.clone();\n      // target.z = 1 - target.z;\n      // eye.z = 1 - target.z;\n\n      console.log('t', target.clone().normalize());\n      console.log('e', eye); // target.y *= 1;\n      // eye.y *= -1;\n\n      var tc = target.clone();\n      var ec = eye.clone(); // target.y = tc.x;\n      // target.x = tc.z;\n      // target.z = tc.y;\n      // eye.y = ec.x;\n      // eye.x = ec.z;\n      // eye.z = ec.y;\n\n      target.x = tc.z;\n      target.y = tc.y;\n      target.z = tc.x;\n      eye.x = ec.z;\n      eye.y = ec.y;\n      eye.z = ec.x;\n      target.z *= 1;\n      eye.z *= 1; // let m1 = new MatrixIV().lookAt(\n      //     // new Vector(0, 0, 1),\n      //     eye,\n      //     target,\n      //     // Vector.UP\n      //     new Vector(0, 1, 0)\n      // );\n\n      var m1 = new _lib_mathf_matrixIV__WEBPACK_IMPORTED_MODULE_6__[\"MatrixIV\"]().lookAt( // new Vector(0, 0, 1),\n      eye.clone().normalize(), target.clone().normalize(), _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"].FORWARD // eye.cross(Vector.FORWARD)\n      );\n      var q = _lib_mathf_quaternion__WEBPACK_IMPORTED_MODULE_5__[\"Quaternion\"].fromRotationMatrixIV(m1); // console.log(Quaternion.toEulerVector(q));\n\n      this.cube.rotation.slerp(q, 0.2);\n    }\n  }]);\n\n  return QuaternionSample;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9xdWF0ZXJuaW9uLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvcXVhdGVybmlvbi5qcz82MGJlIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0ICogYXMgZGF0IGZyb20gJ2RhdC5ndWknO1xuaW1wb3J0IHsgVmVjdG9yRG9tIH0gZnJvbSAnLi4vbGliL2RvbS92ZWN0b3ItZG9tJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4uL2xpYi9tYXRoZi92ZWN0b3InO1xuaW1wb3J0IHsgUXVhZCB9IGZyb20gJ3BpeGkuanMnO1xuaW1wb3J0IHsgUXVhdGVybmlvbiB9IGZyb20gJy4uL2xpYi9tYXRoZi9xdWF0ZXJuaW9uJztcbmltcG9ydCB7IE1hdHJpeElWIH0gZnJvbSAnLi4vbGliL21hdGhmL21hdHJpeElWJztcblxudmFyIFF1YXRlcm5pb25TYW1wbGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBRdWF0ZXJuaW9uU2FtcGxlKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUXVhdGVybmlvblNhbXBsZSk7XG5cbiAgICBjb25zb2xlLmxvZygndGVzdCcpO1xuICAgIHRoaXMuZ3VpID0gbmV3IGRhdC5HVUkoKTsgLy8gQ3JlYXRlIHRhcmdldHMuXG5cbiAgICB0aGlzLnRhcmdldHMgPSB7fTtcblxuICAgIHZhciBjcmVhdGVUYXJnZXQgPSBmdW5jdGlvbiBjcmVhdGVUYXJnZXQoaWQsIHgsIHksIHopIHtcbiAgICAgIHZhciBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgIHZhciB0ID0gbmV3IFZlY3RvckRvbShlbCk7XG4gICAgICB0LmFuY2hvclggPSAwLjU7XG4gICAgICB0LmFuY2hvclkgPSAwLjU7XG4gICAgICB0LnNldFBvc2l0aW9uKG5ldyBWZWN0b3IoeCwgeSwgeikpO1xuICAgICAgdC5pbml0KCk7IC8vIEFkZCB0aGUgY29vcmRpbmF0ZXMgc28gd2UgY2FuIHNlZSB0aGVtLlxuICAgICAgLy8gZWwuaW5uZXJIVE1MID0gYCR7eH0gJHt5fSAke3p9YDtcblxuICAgICAgZWwuaW5uZXJIVE1MID0gaWQ7XG4gICAgICBfdGhpcy50YXJnZXRzW2lkXSA9IHQ7XG4gICAgICB0LnJlbmRlcigpO1xuICAgIH07XG5cbiAgICBjcmVhdGVUYXJnZXQoJ3RhcmdldDEnLCAxMDAsIDIwMCwgMSAtIDEpO1xuICAgIGNyZWF0ZVRhcmdldCgndGFyZ2V0MicsIDcwMCwgNTAwLCAxIC0gMSk7XG4gICAgY3JlYXRlVGFyZ2V0KCd0YXJnZXQzJywgMTAwLCA0MDAsIDEgLSAxKTtcbiAgICBjcmVhdGVUYXJnZXQoJ3RhcmdldDQnLCA3MDAsIC0xMDAsIDEgLSAxKTtcbiAgICBjcmVhdGVUYXJnZXQoJ3RhcmdldDUnLCA0MDAsIC0yMDAsIDEgLSAxKTtcbiAgICB0aGlzLmN1YmUgPSBuZXcgVmVjdG9yRG9tKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWxsJykpO1xuICAgIHRoaXMuY3ViZS5zZXRQb3NpdGlvbihuZXcgVmVjdG9yKDAsIDAsIDEgLSAxKSk7IC8vIFdlIGFyZSBnb2luZyB0byBvZmZzZXQgdGhlIGVudGlyZSBlbGVtZW50IHBvc2l0aW9uIHRvIHRoZSBjZW50ZXJcbiAgICAvLyBvZiB0aGUgY29udGFpbmVyLlxuXG4gICAgdGhpcy5jdWJlLnNldE9mZnNldChuZXcgVmVjdG9yKDgwMCAvIDIsIDgwMCAvIDIsIDApKTtcbiAgICB0aGlzLmN1YmUuaW5pdCgpO1xuICAgIHRoaXMucmFmID0gbmV3IFJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7IC8vIFNldHVwIERBVCBHVUkgcmFkaW8gb3B0aW9uc1xuXG4gICAgdmFyIHNldENoZWNrZWQgPSBmdW5jdGlvbiBzZXRDaGVja2VkKHByb3ApIHtcbiAgICAgIGZvciAodmFyIHBhcmFtIGluIF90aGlzLnBhcmFtZXRlcnMpIHtcbiAgICAgICAgX3RoaXMucGFyYW1ldGVyc1twYXJhbV0gPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMucGFyYW1ldGVyc1twcm9wXSA9IHRydWU7XG4gICAgfTtcblxuICAgIHZhciBhZGRSYWRpbyA9IGZ1bmN0aW9uIGFkZFJhZGlvKGZvbGRlciwgcHJvcCkge1xuICAgICAgZm9sZGVyLmFkZChfdGhpcy5wYXJhbWV0ZXJzLCBwcm9wKS5saXN0ZW4oKS5vbkNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldENoZWNrZWQocHJvcCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5wYXJhbWV0ZXJzID0ge1xuICAgICAgbG9va0F0VGFyZ2V0MTogZmFsc2UsXG4gICAgICBsb29rQXRUYXJnZXQyOiBmYWxzZSxcbiAgICAgIGxvb2tBdFRhcmdldDM6IGZhbHNlLFxuICAgICAgbG9va0F0VGFyZ2V0NDogZmFsc2UsXG4gICAgICBsb29rQXRUYXJnZXQ1OiBmYWxzZVxuICAgIH07XG4gICAgdmFyIGZvbGRlciA9IHRoaXMuZ3VpLmFkZEZvbGRlcignT3B0aW9ucycpO1xuICAgIGFkZFJhZGlvKGZvbGRlciwgJ2xvb2tBdFRhcmdldDEnKTtcbiAgICBhZGRSYWRpbyhmb2xkZXIsICdsb29rQXRUYXJnZXQyJyk7XG4gICAgYWRkUmFkaW8oZm9sZGVyLCAnbG9va0F0VGFyZ2V0MycpO1xuICAgIGFkZFJhZGlvKGZvbGRlciwgJ2xvb2tBdFRhcmdldDQnKTtcbiAgICBhZGRSYWRpbyhmb2xkZXIsICdsb29rQXRUYXJnZXQ1Jyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUXVhdGVybmlvblNhbXBsZSwgW3tcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoKSB7XG4gICAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmxvb2tBdFRhcmdldDEpIHtcbiAgICAgICAgdGhpcy5sb29rQXQzKCd0YXJnZXQxJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnBhcmFtZXRlcnMubG9va0F0VGFyZ2V0Mikge1xuICAgICAgICB0aGlzLmxvb2tBdDMoJ3RhcmdldDInKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucGFyYW1ldGVycy5sb29rQXRUYXJnZXQzKSB7XG4gICAgICAgIHRoaXMubG9va0F0MygndGFyZ2V0MycpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wYXJhbWV0ZXJzLmxvb2tBdFRhcmdldDQpIHtcbiAgICAgICAgdGhpcy5sb29rQXQzKCd0YXJnZXQ0Jyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnBhcmFtZXRlcnMubG9va0F0VGFyZ2V0NSkge1xuICAgICAgICB0aGlzLmxvb2tBdDMoJ3RhcmdldDUnKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jdWJlLnJlbmRlcigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsb29rQXQzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvb2tBdDModGFyZ2V0SWQpIHtcbiAgICAgIHZhciB0YXJnZXQgPSB0aGlzLnRhcmdldHNbdGFyZ2V0SWRdO1xuICAgICAgdmFyIGV5ZSA9IHRoaXMuY3ViZTtcbiAgICAgIHRhcmdldCA9IHRhcmdldC5wb3NpdGlvbi5jbG9uZSgpLmFkZCh0YXJnZXQub2Zmc2V0KS5hZGQodGFyZ2V0LmFuY2hvck9mZnNldFZlY3Rvcik7XG4gICAgICBleWUgPSBleWUucG9zaXRpb24uY2xvbmUoKS5hZGQoZXllLm9mZnNldCkuYWRkKGV5ZS5hbmNob3JPZmZzZXRWZWN0b3IpO1xuICAgICAgdmFyIHEgPSBRdWF0ZXJuaW9uLnJvdGF0ZVRvKGV5ZS5ub3JtYWxpemUoKSwgdGFyZ2V0Lm5vcm1hbGl6ZSgpLCBWZWN0b3IuVVApO1xuICAgICAgdGhpcy5jdWJlLnJvdGF0aW9uLnNsZXJwKHEsIDAuMik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxvb2tBdDJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9va0F0Mih0YXJnZXRJZCkge1xuICAgICAgdmFyIHRhcmdldCA9IHRoaXMudGFyZ2V0c1t0YXJnZXRJZF07XG4gICAgICB2YXIgZXllID0gdGhpcy5jdWJlO1xuICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBvc2l0aW9uLmNsb25lKCkuYWRkKHRhcmdldC5vZmZzZXQpLmFkZCh0YXJnZXQuYW5jaG9yT2Zmc2V0VmVjdG9yKTtcbiAgICAgIGV5ZSA9IGV5ZS5wb3NpdGlvbi5jbG9uZSgpLmFkZChleWUub2Zmc2V0KS5hZGQoZXllLmFuY2hvck9mZnNldFZlY3Rvcik7IC8vIHRhcmdldCA9IHRhcmdldC5nbG9iYWxFbGVtZW50Q2VudGVyUG9zaXRpb247XG4gICAgICAvLyBleWUgPSBleWUuZ2xvYmFsRWxlbWVudENlbnRlclBvc2l0aW9uO1xuXG4gICAgICB2YXIgdGMgPSB0YXJnZXQuY2xvbmUoKTtcbiAgICAgIHZhciBlYyA9IGV5ZS5jbG9uZSgpO1xuICAgICAgdmFyIGV1bGFyRGlmZmVyZW5jZSA9IFZlY3Rvci5nZXRFdWxhclJvdGF0aW9uVG8oZXllLm5vcm1hbGl6ZSgpLCB0YXJnZXQubm9ybWFsaXplKCkpO1xuICAgICAgdmFyIG0xID0gbmV3IE1hdHJpeElWKCkueXByKGV1bGFyRGlmZmVyZW5jZS56LCBldWxhckRpZmZlcmVuY2UueSwgZXVsYXJEaWZmZXJlbmNlLngpO1xuICAgICAgdmFyIHEgPSBRdWF0ZXJuaW9uLmZyb21Sb3RhdGlvbk1hdHJpeElWKG0xKTsgLy8gbGV0IHEgPSBRdWF0ZXJuaW9uLmZyb21FdWxlclZlY3RvcihldWxhckRpZmZlcmVuY2UpO1xuXG4gICAgICB0aGlzLmN1YmUucm90YXRpb24uc2xlcnAocSwgMC4yKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibG9va0F0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvb2tBdCh0YXJnZXRJZCkge1xuICAgICAgdGhpcy5jdWJlLnVzZUJvdW5kc0Zvckdsb2JhbENhbGN1bGF0aW9uID0gZmFsc2U7XG4gICAgICB0aGlzLnRhcmdldHNbdGFyZ2V0SWRdLnVzZUJvdW5kc0Zvckdsb2JhbENhbGN1bGF0aW9uID0gdHJ1ZTsgLy8gVGhpcyB3b3JrLlxuXG4gICAgICB2YXIgdGFyZ2V0ID0gdGhpcy50YXJnZXRzW3RhcmdldElkXTtcbiAgICAgIHRhcmdldCA9IHRhcmdldC5wb3NpdGlvbi5jbG9uZSgpLmFkZCh0YXJnZXQub2Zmc2V0KS5hZGQodGFyZ2V0LmFuY2hvck9mZnNldFZlY3Rvcik7XG4gICAgICB2YXIgZXllID0gdGhpcy5jdWJlO1xuICAgICAgZXllID0gZXllLnBvc2l0aW9uLmNsb25lKCkuYWRkKGV5ZS5vZmZzZXQpLmFkZChleWUuYW5jaG9yT2Zmc2V0VmVjdG9yKTsgLy8gZG9lc250IHdvcmsgYmVjYXVzZSBpdCdzIHRpZWQgdG8gd2luZG93IHNjcm9sbC5cbiAgICAgIC8vIGxldCB0YXJnZXQgPSB0aGlzLnRhcmdldHNbdGFyZ2V0SWRdLmdsb2JhbEVsZW1lbnRDZW50ZXJQb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgLy8gbGV0IGV5ZSA9IHRoaXMuY3ViZS5nbG9iYWxFbGVtZW50Q2VudGVyUG9zaXRpb24uY2xvbmUoKTtcbiAgICAgIC8vIHRhcmdldC56ID0gMSAtIHRhcmdldC56O1xuICAgICAgLy8gZXllLnogPSAxIC0gdGFyZ2V0Lno7XG5cbiAgICAgIGNvbnNvbGUubG9nKCd0JywgdGFyZ2V0LmNsb25lKCkubm9ybWFsaXplKCkpO1xuICAgICAgY29uc29sZS5sb2coJ2UnLCBleWUpOyAvLyB0YXJnZXQueSAqPSAxO1xuICAgICAgLy8gZXllLnkgKj0gLTE7XG5cbiAgICAgIHZhciB0YyA9IHRhcmdldC5jbG9uZSgpO1xuICAgICAgdmFyIGVjID0gZXllLmNsb25lKCk7IC8vIHRhcmdldC55ID0gdGMueDtcbiAgICAgIC8vIHRhcmdldC54ID0gdGMuejtcbiAgICAgIC8vIHRhcmdldC56ID0gdGMueTtcbiAgICAgIC8vIGV5ZS55ID0gZWMueDtcbiAgICAgIC8vIGV5ZS54ID0gZWMuejtcbiAgICAgIC8vIGV5ZS56ID0gZWMueTtcblxuICAgICAgdGFyZ2V0LnggPSB0Yy56O1xuICAgICAgdGFyZ2V0LnkgPSB0Yy55O1xuICAgICAgdGFyZ2V0LnogPSB0Yy54O1xuICAgICAgZXllLnggPSBlYy56O1xuICAgICAgZXllLnkgPSBlYy55O1xuICAgICAgZXllLnogPSBlYy54O1xuICAgICAgdGFyZ2V0LnogKj0gMTtcbiAgICAgIGV5ZS56ICo9IDE7IC8vIGxldCBtMSA9IG5ldyBNYXRyaXhJVigpLmxvb2tBdChcbiAgICAgIC8vICAgICAvLyBuZXcgVmVjdG9yKDAsIDAsIDEpLFxuICAgICAgLy8gICAgIGV5ZSxcbiAgICAgIC8vICAgICB0YXJnZXQsXG4gICAgICAvLyAgICAgLy8gVmVjdG9yLlVQXG4gICAgICAvLyAgICAgbmV3IFZlY3RvcigwLCAxLCAwKVxuICAgICAgLy8gKTtcblxuICAgICAgdmFyIG0xID0gbmV3IE1hdHJpeElWKCkubG9va0F0KCAvLyBuZXcgVmVjdG9yKDAsIDAsIDEpLFxuICAgICAgZXllLmNsb25lKCkubm9ybWFsaXplKCksIHRhcmdldC5jbG9uZSgpLm5vcm1hbGl6ZSgpLCBWZWN0b3IuRk9SV0FSRCAvLyBleWUuY3Jvc3MoVmVjdG9yLkZPUldBUkQpXG4gICAgICApO1xuICAgICAgdmFyIHEgPSBRdWF0ZXJuaW9uLmZyb21Sb3RhdGlvbk1hdHJpeElWKG0xKTsgLy8gY29uc29sZS5sb2coUXVhdGVybmlvbi50b0V1bGVyVmVjdG9yKHEpKTtcblxuICAgICAgdGhpcy5jdWJlLnJvdGF0aW9uLnNsZXJwKHEsIDAuMik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFF1YXRlcm5pb25TYW1wbGU7XG59KCk7XG5cbmV4cG9ydCB7IFF1YXRlcm5pb25TYW1wbGUgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/quaternion.js\n");

/***/ }),

/***/ "./examples/raf-progress.js":
/*!**********************************!*\
  !*** ./examples/raf-progress.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return RafProgressSample; });\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar RafProgressSample = /*#__PURE__*/function () {\n  function RafProgressSample() {\n    var _this = this;\n\n    _classCallCheck(this, RafProgressSample);\n\n    console.log('RafProgressSample');\n    this.body = document.getElementById('body');\n    this.range = document.getElementById('range');\n    this.progressElement = document.getElementById('progress');\n    var rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_1__[\"RafProgress\"]();\n    rafProgress.watch(function (easedProgress, direction) {\n      // console.log('progress event', easedProgress);\n      _this.progressElement.textContent = easedProgress;\n    }); // Watch from 0.5 to 0.6.\n\n    var rangeWatcher = function rangeWatcher(currentProgress, direction) {\n      console.log('range watcher', currentProgress, direction);\n    };\n\n    rafProgress.watchFor([0.5, 0.6], rangeWatcher); // rafProgress.unwatchFor(rangeWatcher);\n\n    var rangeWatcher2 = function rangeWatcher2(currentProgress, direction) {\n      console.log('around 20%!', currentProgress, direction);\n    };\n\n    rafProgress.watchFor(0.2, rangeWatcher2);\n    rafProgress.watchFor(0, function () {\n      _this.addClass('blue');\n    });\n    rafProgress.watchFor([0.5, 0.6], function () {\n      console.log('red');\n\n      _this.addClass('red');\n    });\n    rafProgress.watchFor(0.7, function () {\n      console.log('yellow');\n\n      _this.addClass('yellow');\n    });\n    rafProgress.watchFor(1, function () {\n      _this.addClass('green');\n    });\n    rafProgress.setPrecision(5);\n    rafProgress.setCurrentProgress(this.range.value); // Update rafProgress each time the value of range changes.\n\n    this.range.addEventListener('input', function () {\n      rafProgress.easeTo(+_this.range.value, 0.25, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].easeInOutQuad);\n    });\n  }\n\n  _createClass(RafProgressSample, [{\n    key: \"addClass\",\n    value: function addClass(color) {\n      var previousColor = this.currentColor;\n      this.currentColor = color;\n\n      if (previousColor) {\n        this.body.classList.remove(previousColor);\n      }\n\n      this.body.classList.add(color);\n    }\n  }]);\n\n  return RafProgressSample;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9yYWYtcHJvZ3Jlc3MuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9yYWYtcHJvZ3Jlc3MuanM/MDQ4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCB7IG1hdGhmIH0gZnJvbSAnLi4vbGliL21hdGhmL21hdGhmJztcbmltcG9ydCB7IFJhZlByb2dyZXNzLCBSQUZfUFJPR1JFU1NfRVZFTlRTIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3MnO1xuaW1wb3J0IHsgRUFTRSB9IGZyb20gJy4uL2xpYi9lYXNlL2Vhc2UnO1xuXG52YXIgUmFmUHJvZ3Jlc3NTYW1wbGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBSYWZQcm9ncmVzc1NhbXBsZSgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJhZlByb2dyZXNzU2FtcGxlKTtcblxuICAgIGNvbnNvbGUubG9nKCdSYWZQcm9ncmVzc1NhbXBsZScpO1xuICAgIHRoaXMuYm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib2R5Jyk7XG4gICAgdGhpcy5yYW5nZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYW5nZScpO1xuICAgIHRoaXMucHJvZ3Jlc3NFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzJyk7XG4gICAgdmFyIHJhZlByb2dyZXNzID0gbmV3IFJhZlByb2dyZXNzKCk7XG4gICAgcmFmUHJvZ3Jlc3Mud2F0Y2goZnVuY3Rpb24gKGVhc2VkUHJvZ3Jlc3MsIGRpcmVjdGlvbikge1xuICAgICAgLy8gY29uc29sZS5sb2coJ3Byb2dyZXNzIGV2ZW50JywgZWFzZWRQcm9ncmVzcyk7XG4gICAgICBfdGhpcy5wcm9ncmVzc0VsZW1lbnQudGV4dENvbnRlbnQgPSBlYXNlZFByb2dyZXNzO1xuICAgIH0pOyAvLyBXYXRjaCBmcm9tIDAuNSB0byAwLjYuXG5cbiAgICB2YXIgcmFuZ2VXYXRjaGVyID0gZnVuY3Rpb24gcmFuZ2VXYXRjaGVyKGN1cnJlbnRQcm9ncmVzcywgZGlyZWN0aW9uKSB7XG4gICAgICBjb25zb2xlLmxvZygncmFuZ2Ugd2F0Y2hlcicsIGN1cnJlbnRQcm9ncmVzcywgZGlyZWN0aW9uKTtcbiAgICB9O1xuXG4gICAgcmFmUHJvZ3Jlc3Mud2F0Y2hGb3IoWzAuNSwgMC42XSwgcmFuZ2VXYXRjaGVyKTsgLy8gcmFmUHJvZ3Jlc3MudW53YXRjaEZvcihyYW5nZVdhdGNoZXIpO1xuXG4gICAgdmFyIHJhbmdlV2F0Y2hlcjIgPSBmdW5jdGlvbiByYW5nZVdhdGNoZXIyKGN1cnJlbnRQcm9ncmVzcywgZGlyZWN0aW9uKSB7XG4gICAgICBjb25zb2xlLmxvZygnYXJvdW5kIDIwJSEnLCBjdXJyZW50UHJvZ3Jlc3MsIGRpcmVjdGlvbik7XG4gICAgfTtcblxuICAgIHJhZlByb2dyZXNzLndhdGNoRm9yKDAuMiwgcmFuZ2VXYXRjaGVyMik7XG4gICAgcmFmUHJvZ3Jlc3Mud2F0Y2hGb3IoMCwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuYWRkQ2xhc3MoJ2JsdWUnKTtcbiAgICB9KTtcbiAgICByYWZQcm9ncmVzcy53YXRjaEZvcihbMC41LCAwLjZdLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zb2xlLmxvZygncmVkJyk7XG5cbiAgICAgIF90aGlzLmFkZENsYXNzKCdyZWQnKTtcbiAgICB9KTtcbiAgICByYWZQcm9ncmVzcy53YXRjaEZvcigwLjcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnNvbGUubG9nKCd5ZWxsb3cnKTtcblxuICAgICAgX3RoaXMuYWRkQ2xhc3MoJ3llbGxvdycpO1xuICAgIH0pO1xuICAgIHJhZlByb2dyZXNzLndhdGNoRm9yKDEsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmFkZENsYXNzKCdncmVlbicpO1xuICAgIH0pO1xuICAgIHJhZlByb2dyZXNzLnNldFByZWNpc2lvbig1KTtcbiAgICByYWZQcm9ncmVzcy5zZXRDdXJyZW50UHJvZ3Jlc3ModGhpcy5yYW5nZS52YWx1ZSk7IC8vIFVwZGF0ZSByYWZQcm9ncmVzcyBlYWNoIHRpbWUgdGhlIHZhbHVlIG9mIHJhbmdlIGNoYW5nZXMuXG5cbiAgICB0aGlzLnJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICAgICAgcmFmUHJvZ3Jlc3MuZWFzZVRvKCtfdGhpcy5yYW5nZS52YWx1ZSwgMC4yNSwgRUFTRS5lYXNlSW5PdXRRdWFkKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhSYWZQcm9ncmVzc1NhbXBsZSwgW3tcbiAgICBrZXk6IFwiYWRkQ2xhc3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQ2xhc3MoY29sb3IpIHtcbiAgICAgIHZhciBwcmV2aW91c0NvbG9yID0gdGhpcy5jdXJyZW50Q29sb3I7XG4gICAgICB0aGlzLmN1cnJlbnRDb2xvciA9IGNvbG9yO1xuXG4gICAgICBpZiAocHJldmlvdXNDb2xvcikge1xuICAgICAgICB0aGlzLmJvZHkuY2xhc3NMaXN0LnJlbW92ZShwcmV2aW91c0NvbG9yKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5ib2R5LmNsYXNzTGlzdC5hZGQoY29sb3IpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSYWZQcm9ncmVzc1NhbXBsZTtcbn0oKTtcblxuZXhwb3J0IHsgUmFmUHJvZ3Jlc3NTYW1wbGUgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/raf-progress.js\n");

/***/ }),

/***/ "./examples/raf-timer.js":
/*!*******************************!*\
  !*** ./examples/raf-timer.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return RafTimerSample; });\n/* harmony import */ var _lib_raf_raf_timer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf-timer */ \"./lib/raf/raf-timer.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\nvar RafTimerSample = function RafTimerSample() {\n  var _this = this;\n\n  _classCallCheck(this, RafTimerSample);\n\n  console.log('running raf timer sample');\n  this.startElement = document.getElementById('start');\n  this.stopElement = document.getElementById('stop');\n  this.box = document.getElementById('box'); // Start the box at 0.\n\n  this.currentX = 0;\n  this.end = 80; // The end position of the box.\n\n  ball.style.transform = \"translateX(\".concat(this.currentX, \"vw)\");\n  this.rafTimer = new _lib_raf_raf_timer__WEBPACK_IMPORTED_MODULE_0__[\"RafTimer\"](function (progress) {\n    // Ease the ball position on each raf.\n    ball.style.transform = \"translateX(\".concat(_lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_1__[\"mathf\"].ease(_this.currentX, _this.end, progress, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].easeOutExpo), \"vw)\");\n  }); // Set it so that the raf stops after 1000ms.\n\n  this.rafTimer.setDuration(1000);\n  this.rafTimer.onComplete(function () {\n    console.log('animation complete');\n  });\n  this.startElement.addEventListener('click', function () {\n    _this.rafTimer.play();\n  });\n  this.stopElement.addEventListener('click', function () {\n    _this.rafTimer.pause();\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9yYWYtdGltZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9yYWYtdGltZXIuanM/ZWE1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5pbXBvcnQgeyBSYWZUaW1lciB9IGZyb20gJy4uL2xpYi9yYWYvcmFmLXRpbWVyJztcbmltcG9ydCB7IG1hdGhmIH0gZnJvbSAnLi4vbGliL21hdGhmL21hdGhmJztcbmltcG9ydCB7IEVBU0UgfSBmcm9tICcuLi9saWIvZWFzZS9lYXNlJztcblxudmFyIFJhZlRpbWVyU2FtcGxlID0gZnVuY3Rpb24gUmFmVGltZXJTYW1wbGUoKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJhZlRpbWVyU2FtcGxlKTtcblxuICBjb25zb2xlLmxvZygncnVubmluZyByYWYgdGltZXIgc2FtcGxlJyk7XG4gIHRoaXMuc3RhcnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0Jyk7XG4gIHRoaXMuc3RvcEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RvcCcpO1xuICB0aGlzLmJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3gnKTsgLy8gU3RhcnQgdGhlIGJveCBhdCAwLlxuXG4gIHRoaXMuY3VycmVudFggPSAwO1xuICB0aGlzLmVuZCA9IDgwOyAvLyBUaGUgZW5kIHBvc2l0aW9uIG9mIHRoZSBib3guXG5cbiAgYmFsbC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoXCIuY29uY2F0KHRoaXMuY3VycmVudFgsIFwidncpXCIpO1xuICB0aGlzLnJhZlRpbWVyID0gbmV3IFJhZlRpbWVyKGZ1bmN0aW9uIChwcm9ncmVzcykge1xuICAgIC8vIEVhc2UgdGhlIGJhbGwgcG9zaXRpb24gb24gZWFjaCByYWYuXG4gICAgYmFsbC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoXCIuY29uY2F0KG1hdGhmLmVhc2UoX3RoaXMuY3VycmVudFgsIF90aGlzLmVuZCwgcHJvZ3Jlc3MsIEVBU0UuZWFzZU91dEV4cG8pLCBcInZ3KVwiKTtcbiAgfSk7IC8vIFNldCBpdCBzbyB0aGF0IHRoZSByYWYgc3RvcHMgYWZ0ZXIgMTAwMG1zLlxuXG4gIHRoaXMucmFmVGltZXIuc2V0RHVyYXRpb24oMTAwMCk7XG4gIHRoaXMucmFmVGltZXIub25Db21wbGV0ZShmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coJ2FuaW1hdGlvbiBjb21wbGV0ZScpO1xuICB9KTtcbiAgdGhpcy5zdGFydEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMucmFmVGltZXIucGxheSgpO1xuICB9KTtcbiAgdGhpcy5zdG9wRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBfdGhpcy5yYWZUaW1lci5wYXVzZSgpO1xuICB9KTtcbn07XG5cbmV4cG9ydCB7IFJhZlRpbWVyU2FtcGxlIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/raf-timer.js\n");

/***/ }),

/***/ "./examples/raf.js":
/*!*************************!*\
  !*** ./examples/raf.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar RafSample = /*#__PURE__*/function () {\n  function RafSample() {\n    var _this = this;\n\n    _classCallCheck(this, RafSample);\n\n    console.log('running raf sample');\n    this.startElement = document.getElementById('start');\n    this.stopElement = document.getElementById('stop');\n    this.frameRateElement = document.getElementById('frameRate');\n    this.frameRateUpdateElement = document.getElementById('update');\n    this.frameElement = document.getElementById('frame');\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_0__[\"Raf\"](function (frame, lastUpdateTime) {\n      // console.log('this is the raf loop running!');\n      _this.frameElement.textContent = frame;\n    });\n    this.displayFrameRate();\n    this.startElement.addEventListener('click', function () {\n      _this.raf.start();\n    });\n    this.stopElement.addEventListener('click', function () {\n      _this.raf.stop();\n    });\n    this.frameRateUpdateElement.addEventListener('click', function () {\n      _this.raf.setFps(_this.frameRateElement.value);\n    });\n  }\n\n  _createClass(RafSample, [{\n    key: \"displayFrameRate\",\n    value: function displayFrameRate() {\n      this.frameRateElement.value = this.raf.fps;\n    }\n  }]);\n\n  return RafSample;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RafSample);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9yYWYuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9yYWYuanM/MDU4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcblxudmFyIFJhZlNhbXBsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFJhZlNhbXBsZSgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJhZlNhbXBsZSk7XG5cbiAgICBjb25zb2xlLmxvZygncnVubmluZyByYWYgc2FtcGxlJyk7XG4gICAgdGhpcy5zdGFydEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnQnKTtcbiAgICB0aGlzLnN0b3BFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0b3AnKTtcbiAgICB0aGlzLmZyYW1lUmF0ZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnJhbWVSYXRlJyk7XG4gICAgdGhpcy5mcmFtZVJhdGVVcGRhdGVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwZGF0ZScpO1xuICAgIHRoaXMuZnJhbWVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZyYW1lJyk7XG4gICAgdGhpcy5yYWYgPSBuZXcgUmFmKGZ1bmN0aW9uIChmcmFtZSwgbGFzdFVwZGF0ZVRpbWUpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCd0aGlzIGlzIHRoZSByYWYgbG9vcCBydW5uaW5nIScpO1xuICAgICAgX3RoaXMuZnJhbWVFbGVtZW50LnRleHRDb250ZW50ID0gZnJhbWU7XG4gICAgfSk7XG4gICAgdGhpcy5kaXNwbGF5RnJhbWVSYXRlKCk7XG4gICAgdGhpcy5zdGFydEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5yYWYuc3RhcnQoKTtcbiAgICB9KTtcbiAgICB0aGlzLnN0b3BFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucmFmLnN0b3AoKTtcbiAgICB9KTtcbiAgICB0aGlzLmZyYW1lUmF0ZVVwZGF0ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5yYWYuc2V0RnBzKF90aGlzLmZyYW1lUmF0ZUVsZW1lbnQudmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJhZlNhbXBsZSwgW3tcbiAgICBrZXk6IFwiZGlzcGxheUZyYW1lUmF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwbGF5RnJhbWVSYXRlKCkge1xuICAgICAgdGhpcy5mcmFtZVJhdGVFbGVtZW50LnZhbHVlID0gdGhpcy5yYWYuZnBzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSYWZTYW1wbGU7XG59KCk7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZlNhbXBsZTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/raf.js\n");

/***/ }),

/***/ "./examples/raf2.js":
/*!**************************!*\
  !*** ./examples/raf2.js ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_dom_element_visibility__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/element-visibility */ \"./lib/dom/element-visibility.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n/**\n * This is a sample of running raf with conditional.\n */\n\nvar RafSample2 = function RafSample2() {\n  _classCallCheck(this, RafSample2);\n\n  console.log('running raf sample2'); // Create one raf loop that run the screen size is less than 1000px\n\n  this.mobileRaf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_0__[\"Raf\"](function () {\n    console.log('running mobile raf');\n  });\n  this.mobileRaf.runWhen(function () {\n    return window.innerWidth < 1000;\n  });\n  this.mobileRaf.start(); // Runs when the titleElement is in view.\n\n  var ev = _lib_dom_element_visibility__WEBPACK_IMPORTED_MODULE_1__[\"elementVisibility\"].inview(document.getElementById('title'));\n  ev.readyPromise.then(function () {\n    console.log('ev is ready');\n  });\n  this.titleRaf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_0__[\"Raf\"](function () {\n    console.log('element is in view.');\n  });\n  this.titleRaf.runWhen(function () {\n    return ev.state().inview;\n  });\n  this.titleRaf.start();\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (RafSample2);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9yYWYyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvcmFmMi5qcz8zN2Q3Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IGVsZW1lbnRWaXNpYmlsaXR5IH0gZnJvbSAnLi4vbGliL2RvbS9lbGVtZW50LXZpc2liaWxpdHknO1xuLyoqXG4gKiBUaGlzIGlzIGEgc2FtcGxlIG9mIHJ1bm5pbmcgcmFmIHdpdGggY29uZGl0aW9uYWwuXG4gKi9cblxudmFyIFJhZlNhbXBsZTIgPSBmdW5jdGlvbiBSYWZTYW1wbGUyKCkge1xuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmFmU2FtcGxlMik7XG5cbiAgY29uc29sZS5sb2coJ3J1bm5pbmcgcmFmIHNhbXBsZTInKTsgLy8gQ3JlYXRlIG9uZSByYWYgbG9vcCB0aGF0IHJ1biB0aGUgc2NyZWVuIHNpemUgaXMgbGVzcyB0aGFuIDEwMDBweFxuXG4gIHRoaXMubW9iaWxlUmFmID0gbmV3IFJhZihmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coJ3J1bm5pbmcgbW9iaWxlIHJhZicpO1xuICB9KTtcbiAgdGhpcy5tb2JpbGVSYWYucnVuV2hlbihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoIDwgMTAwMDtcbiAgfSk7XG4gIHRoaXMubW9iaWxlUmFmLnN0YXJ0KCk7IC8vIFJ1bnMgd2hlbiB0aGUgdGl0bGVFbGVtZW50IGlzIGluIHZpZXcuXG5cbiAgdmFyIGV2ID0gZWxlbWVudFZpc2liaWxpdHkuaW52aWV3KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpKTtcbiAgZXYucmVhZHlQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUubG9nKCdldiBpcyByZWFkeScpO1xuICB9KTtcbiAgdGhpcy50aXRsZVJhZiA9IG5ldyBSYWYoZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUubG9nKCdlbGVtZW50IGlzIGluIHZpZXcuJyk7XG4gIH0pO1xuICB0aGlzLnRpdGxlUmFmLnJ1bldoZW4oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBldi5zdGF0ZSgpLmludmlldztcbiAgfSk7XG4gIHRoaXMudGl0bGVSYWYuc3RhcnQoKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJhZlNhbXBsZTI7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/raf2.js\n");

/***/ }),

/***/ "./examples/raycasting.js":
/*!********************************!*\
  !*** ./examples/raycasting.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return RayCastingSample; });\n/* harmony import */ var _lib_x_x__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/x/x */ \"./lib/x/x.js\");\n/* harmony import */ var _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/x/x-line */ \"./lib/x/x-line.js\");\n/* harmony import */ var _lib_x_x_rectangle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/x/x-rectangle */ \"./lib/x/x-rectangle.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_mathf_raycast__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/mathf/raycast */ \"./lib/mathf/raycast.js\");\n/* harmony import */ var _lib_mathf_matrixIV__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/mathf/matrixIV */ \"./lib/mathf/matrixIV.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\nvar RayCastingSample = /*#__PURE__*/function () {\n  function RayCastingSample() {\n    _classCallCheck(this, RayCastingSample);\n\n    console.log('raycasting');\n    this.imageTextures = {};\n    this.hitObjects = [];\n    this.rays = [];\n    this.startApp();\n  }\n\n  _createClass(RayCastingSample, [{\n    key: \"startApp\",\n    value: function startApp() {\n      var _this = this;\n\n      var canvasElement = document.getElementById('mainCanvas');\n      this.X = new _lib_x_x__WEBPACK_IMPORTED_MODULE_0__[\"X\"]({\n        canvasElement: canvasElement,\n        debugMode: true\n      });\n      this.lines = [];\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 800,\n        startY: 800,\n        endX: 0,\n        endY: 890\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 100,\n        startY: 100,\n        endX: 400,\n        endY: 0\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 400,\n        startY: 100,\n        endX: 200,\n        endY: 400\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 500,\n        startY: 600,\n        endX: 200,\n        endY: 600\n      }));\n      this.lines.forEach(function (line) {\n        _this.X.stage.addChild(line);\n      });\n      this.line = new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        strokeStyle: 'green',\n        lineWidth: 1,\n        startX: 0,\n        startY: 0,\n        endX: 0,\n        endY: 0\n      });\n      this.X.stage.addChild(this.line); // Get the x-Engine pointer.\n\n      var pointer = this.X.getPointer(); // Start the angle of the origin at 0.\n\n      this.angle = 0;\n      this.X.onTick(function () {\n        // Remove all previous hit object.\n        _this.hitObjects.forEach(function (object) {\n          _this.X.stage.removeChild(object);\n        });\n\n        _this.hitObjects = [];\n\n        _this.rays.forEach(function (ray) {\n          _this.X.stage.removeChild(ray);\n        });\n\n        _this.rays = []; // Create a rotational matrix to rotate all the rays on each frame.\n\n        var rotationMatrix = new _lib_mathf_matrixIV__WEBPACK_IMPORTED_MODULE_6__[\"MatrixIV\"]().ypr(0, 0, _this.angle);\n        _this.angle += 0.01; // The origin will always be the mouse poition.\n\n        var origin = pointer.position; // Define the number of rays and the angles we want to generate.\n\n        var rayAngles = [0, 20, 40, 60, 80, 100, 120, 140, 160, 180, 200, 220, 240, 260, 280, 300, 320, 340]; // Create a directional vector from the angles we just defined.\n\n        var directionalVectors = rayAngles.map(function (angle) {\n          // This creates a basic directional vector.\n          var direction = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"].fromAngle(_lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].degreeToRadian(angle)); // Now multiply it with the rotationMatrix so that it kind of\n          // spins with an offset every frame.\n\n          return direction.transformWithMatrixIV(rotationMatrix);\n        }); // Draw out each ray so they can visually be seen.. All rays start from origin.\n\n        directionalVectors.forEach(function (direction) {\n          var ray = new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n            strokeStyle: 'grey',\n            lineWidth: 1,\n            startX: origin.x,\n            startY: origin.y,\n            endX: _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"].add(pointer, direction).x,\n            endY: _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"].add(pointer, direction).y\n          });\n\n          _this.X.stage.addChild(ray);\n\n          _this.rays.push(ray);\n        }); // Loop through each line object to see if there is a collision.\n\n        _this.lines.forEach(function (line) {\n          // For each ray test to see if there is a collision.\n          directionalVectors.forEach(function (direction) {\n            var raycast = _lib_mathf_raycast__WEBPACK_IMPORTED_MODULE_5__[\"Raycast\"].cast2d(origin, direction, new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"](line.startX, line.startY), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"](line.endX, line.endY));\n\n            if (raycast.hit) {\n              var hitRect = new _lib_x_x_rectangle__WEBPACK_IMPORTED_MODULE_2__[\"XRectangle\"]({\n                fillStyle: 'green',\n                x: raycast.collision.x - 5,\n                y: raycast.collision.y - 5,\n                width: 10,\n                height: 10\n              });\n\n              _this.X.stage.addChild(hitRect);\n\n              _this.hitObjects.push(hitRect);\n            }\n          });\n        });\n      });\n      this.X.start();\n    }\n  }]);\n\n  return RayCastingSample;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9yYXljYXN0aW5nLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvcmF5Y2FzdGluZy5qcz9kOWFmIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0IHsgWCB9IGZyb20gJy4uL2xpYi94L3gnO1xuaW1wb3J0IHsgWExpbmUgfSBmcm9tICcuLi9saWIveC94LWxpbmUnO1xuaW1wb3J0IHsgWFJlY3RhbmdsZSB9IGZyb20gJy4uL2xpYi94L3gtcmVjdGFuZ2xlJztcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4uL2xpYi9tYXRoZi92ZWN0b3InO1xuaW1wb3J0IHsgbWF0aGYgfSBmcm9tICcuLi9saWIvbWF0aGYvbWF0aGYnO1xuaW1wb3J0IHsgUmF5Y2FzdCB9IGZyb20gJy4uL2xpYi9tYXRoZi9yYXljYXN0JztcbmltcG9ydCB7IE1hdHJpeElWIH0gZnJvbSAnLi4vbGliL21hdGhmL21hdHJpeElWJztcblxudmFyIFJheUNhc3RpbmdTYW1wbGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBSYXlDYXN0aW5nU2FtcGxlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSYXlDYXN0aW5nU2FtcGxlKTtcblxuICAgIGNvbnNvbGUubG9nKCdyYXljYXN0aW5nJyk7XG4gICAgdGhpcy5pbWFnZVRleHR1cmVzID0ge307XG4gICAgdGhpcy5oaXRPYmplY3RzID0gW107XG4gICAgdGhpcy5yYXlzID0gW107XG4gICAgdGhpcy5zdGFydEFwcCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJheUNhc3RpbmdTYW1wbGUsIFt7XG4gICAga2V5OiBcInN0YXJ0QXBwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0QXBwKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGNhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbkNhbnZhcycpO1xuICAgICAgdGhpcy5YID0gbmV3IFgoe1xuICAgICAgICBjYW52YXNFbGVtZW50OiBjYW52YXNFbGVtZW50LFxuICAgICAgICBkZWJ1Z01vZGU6IHRydWVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5saW5lcyA9IFtdO1xuICAgICAgdGhpcy5saW5lcy5wdXNoKG5ldyBYTGluZSh7XG4gICAgICAgIGxpbmVXaWR0aDogNSxcbiAgICAgICAgc3RhcnRYOiA4MDAsXG4gICAgICAgIHN0YXJ0WTogODAwLFxuICAgICAgICBlbmRYOiAwLFxuICAgICAgICBlbmRZOiA4OTBcbiAgICAgIH0pKTtcbiAgICAgIHRoaXMubGluZXMucHVzaChuZXcgWExpbmUoe1xuICAgICAgICBsaW5lV2lkdGg6IDUsXG4gICAgICAgIHN0YXJ0WDogMTAwLFxuICAgICAgICBzdGFydFk6IDEwMCxcbiAgICAgICAgZW5kWDogNDAwLFxuICAgICAgICBlbmRZOiAwXG4gICAgICB9KSk7XG4gICAgICB0aGlzLmxpbmVzLnB1c2gobmV3IFhMaW5lKHtcbiAgICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgICBzdGFydFg6IDQwMCxcbiAgICAgICAgc3RhcnRZOiAxMDAsXG4gICAgICAgIGVuZFg6IDIwMCxcbiAgICAgICAgZW5kWTogNDAwXG4gICAgICB9KSk7XG4gICAgICB0aGlzLmxpbmVzLnB1c2gobmV3IFhMaW5lKHtcbiAgICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgICBzdGFydFg6IDUwMCxcbiAgICAgICAgc3RhcnRZOiA2MDAsXG4gICAgICAgIGVuZFg6IDIwMCxcbiAgICAgICAgZW5kWTogNjAwXG4gICAgICB9KSk7XG4gICAgICB0aGlzLmxpbmVzLmZvckVhY2goZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgX3RoaXMuWC5zdGFnZS5hZGRDaGlsZChsaW5lKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5saW5lID0gbmV3IFhMaW5lKHtcbiAgICAgICAgc3Ryb2tlU3R5bGU6ICdncmVlbicsXG4gICAgICAgIGxpbmVXaWR0aDogMSxcbiAgICAgICAgc3RhcnRYOiAwLFxuICAgICAgICBzdGFydFk6IDAsXG4gICAgICAgIGVuZFg6IDAsXG4gICAgICAgIGVuZFk6IDBcbiAgICAgIH0pO1xuICAgICAgdGhpcy5YLnN0YWdlLmFkZENoaWxkKHRoaXMubGluZSk7IC8vIEdldCB0aGUgeC1FbmdpbmUgcG9pbnRlci5cblxuICAgICAgdmFyIHBvaW50ZXIgPSB0aGlzLlguZ2V0UG9pbnRlcigpOyAvLyBTdGFydCB0aGUgYW5nbGUgb2YgdGhlIG9yaWdpbiBhdCAwLlxuXG4gICAgICB0aGlzLmFuZ2xlID0gMDtcbiAgICAgIHRoaXMuWC5vblRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBSZW1vdmUgYWxsIHByZXZpb3VzIGhpdCBvYmplY3QuXG4gICAgICAgIF90aGlzLmhpdE9iamVjdHMuZm9yRWFjaChmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgICAgX3RoaXMuWC5zdGFnZS5yZW1vdmVDaGlsZChvYmplY3QpO1xuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5oaXRPYmplY3RzID0gW107XG5cbiAgICAgICAgX3RoaXMucmF5cy5mb3JFYWNoKGZ1bmN0aW9uIChyYXkpIHtcbiAgICAgICAgICBfdGhpcy5YLnN0YWdlLnJlbW92ZUNoaWxkKHJheSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzLnJheXMgPSBbXTsgLy8gQ3JlYXRlIGEgcm90YXRpb25hbCBtYXRyaXggdG8gcm90YXRlIGFsbCB0aGUgcmF5cyBvbiBlYWNoIGZyYW1lLlxuXG4gICAgICAgIHZhciByb3RhdGlvbk1hdHJpeCA9IG5ldyBNYXRyaXhJVigpLnlwcigwLCAwLCBfdGhpcy5hbmdsZSk7XG4gICAgICAgIF90aGlzLmFuZ2xlICs9IDAuMDE7IC8vIFRoZSBvcmlnaW4gd2lsbCBhbHdheXMgYmUgdGhlIG1vdXNlIHBvaXRpb24uXG5cbiAgICAgICAgdmFyIG9yaWdpbiA9IHBvaW50ZXIucG9zaXRpb247IC8vIERlZmluZSB0aGUgbnVtYmVyIG9mIHJheXMgYW5kIHRoZSBhbmdsZXMgd2Ugd2FudCB0byBnZW5lcmF0ZS5cblxuICAgICAgICB2YXIgcmF5QW5nbGVzID0gWzAsIDIwLCA0MCwgNjAsIDgwLCAxMDAsIDEyMCwgMTQwLCAxNjAsIDE4MCwgMjAwLCAyMjAsIDI0MCwgMjYwLCAyODAsIDMwMCwgMzIwLCAzNDBdOyAvLyBDcmVhdGUgYSBkaXJlY3Rpb25hbCB2ZWN0b3IgZnJvbSB0aGUgYW5nbGVzIHdlIGp1c3QgZGVmaW5lZC5cblxuICAgICAgICB2YXIgZGlyZWN0aW9uYWxWZWN0b3JzID0gcmF5QW5nbGVzLm1hcChmdW5jdGlvbiAoYW5nbGUpIHtcbiAgICAgICAgICAvLyBUaGlzIGNyZWF0ZXMgYSBiYXNpYyBkaXJlY3Rpb25hbCB2ZWN0b3IuXG4gICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IFZlY3Rvci5mcm9tQW5nbGUobWF0aGYuZGVncmVlVG9SYWRpYW4oYW5nbGUpKTsgLy8gTm93IG11bHRpcGx5IGl0IHdpdGggdGhlIHJvdGF0aW9uTWF0cml4IHNvIHRoYXQgaXQga2luZCBvZlxuICAgICAgICAgIC8vIHNwaW5zIHdpdGggYW4gb2Zmc2V0IGV2ZXJ5IGZyYW1lLlxuXG4gICAgICAgICAgcmV0dXJuIGRpcmVjdGlvbi50cmFuc2Zvcm1XaXRoTWF0cml4SVYocm90YXRpb25NYXRyaXgpO1xuICAgICAgICB9KTsgLy8gRHJhdyBvdXQgZWFjaCByYXkgc28gdGhleSBjYW4gdmlzdWFsbHkgYmUgc2Vlbi4uIEFsbCByYXlzIHN0YXJ0IGZyb20gb3JpZ2luLlxuXG4gICAgICAgIGRpcmVjdGlvbmFsVmVjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICB2YXIgcmF5ID0gbmV3IFhMaW5lKHtcbiAgICAgICAgICAgIHN0cm9rZVN0eWxlOiAnZ3JleScsXG4gICAgICAgICAgICBsaW5lV2lkdGg6IDEsXG4gICAgICAgICAgICBzdGFydFg6IG9yaWdpbi54LFxuICAgICAgICAgICAgc3RhcnRZOiBvcmlnaW4ueSxcbiAgICAgICAgICAgIGVuZFg6IFZlY3Rvci5hZGQocG9pbnRlciwgZGlyZWN0aW9uKS54LFxuICAgICAgICAgICAgZW5kWTogVmVjdG9yLmFkZChwb2ludGVyLCBkaXJlY3Rpb24pLnlcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIF90aGlzLlguc3RhZ2UuYWRkQ2hpbGQocmF5KTtcblxuICAgICAgICAgIF90aGlzLnJheXMucHVzaChyYXkpO1xuICAgICAgICB9KTsgLy8gTG9vcCB0aHJvdWdoIGVhY2ggbGluZSBvYmplY3QgdG8gc2VlIGlmIHRoZXJlIGlzIGEgY29sbGlzaW9uLlxuXG4gICAgICAgIF90aGlzLmxpbmVzLmZvckVhY2goZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgICAvLyBGb3IgZWFjaCByYXkgdGVzdCB0byBzZWUgaWYgdGhlcmUgaXMgYSBjb2xsaXNpb24uXG4gICAgICAgICAgZGlyZWN0aW9uYWxWZWN0b3JzLmZvckVhY2goZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgdmFyIHJheWNhc3QgPSBSYXljYXN0LmNhc3QyZChvcmlnaW4sIGRpcmVjdGlvbiwgbmV3IFZlY3RvcihsaW5lLnN0YXJ0WCwgbGluZS5zdGFydFkpLCBuZXcgVmVjdG9yKGxpbmUuZW5kWCwgbGluZS5lbmRZKSk7XG5cbiAgICAgICAgICAgIGlmIChyYXljYXN0LmhpdCkge1xuICAgICAgICAgICAgICB2YXIgaGl0UmVjdCA9IG5ldyBYUmVjdGFuZ2xlKHtcbiAgICAgICAgICAgICAgICBmaWxsU3R5bGU6ICdncmVlbicsXG4gICAgICAgICAgICAgICAgeDogcmF5Y2FzdC5jb2xsaXNpb24ueCAtIDUsXG4gICAgICAgICAgICAgICAgeTogcmF5Y2FzdC5jb2xsaXNpb24ueSAtIDUsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwLFxuICAgICAgICAgICAgICAgIGhlaWdodDogMTBcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgX3RoaXMuWC5zdGFnZS5hZGRDaGlsZChoaXRSZWN0KTtcblxuICAgICAgICAgICAgICBfdGhpcy5oaXRPYmplY3RzLnB1c2goaGl0UmVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLlguc3RhcnQoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmF5Q2FzdGluZ1NhbXBsZTtcbn0oKTtcblxuZXhwb3J0IHsgUmF5Q2FzdGluZ1NhbXBsZSBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/raycasting.js\n");

/***/ }),

/***/ "./examples/raycasting2.js":
/*!*********************************!*\
  !*** ./examples/raycasting2.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return RayCasting2Sample; });\n/* harmony import */ var _lib_x_x__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/x/x */ \"./lib/x/x.js\");\n/* harmony import */ var _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/x/x-line */ \"./lib/x/x-line.js\");\n/* harmony import */ var _lib_x_x_rectangle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/x/x-rectangle */ \"./lib/x/x-rectangle.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_mathf_raycast__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/mathf/raycast */ \"./lib/mathf/raycast.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\nvar RayCasting2Sample = /*#__PURE__*/function () {\n  function RayCasting2Sample() {\n    _classCallCheck(this, RayCasting2Sample);\n\n    console.log('raycasting2 sample');\n    this.imageTextures = {};\n    this.hitObjects = [];\n    this.rays = [];\n    this.startApp();\n  }\n\n  _createClass(RayCasting2Sample, [{\n    key: \"startApp\",\n    value: function startApp() {\n      var _this = this;\n\n      var canvasElement = document.getElementById('mainCanvas');\n      this.X = new _lib_x_x__WEBPACK_IMPORTED_MODULE_0__[\"X\"]({\n        canvasElement: canvasElement,\n        debugMode: true\n      });\n      this.X.setStageColor('black');\n      this.lines = [];\n\n      for (var i = 0; i < 6; i += 1) {\n        this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n          lineWidth: 5,\n          startX: _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].getRandomInt(0, 1000),\n          startY: _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].getRandomInt(0, 1000),\n          endX: _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].getRandomInt(0, 1000),\n          endY: _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].getRandomInt(0, 1000)\n        }));\n      }\n\n      var w = window.innerWidth;\n      var h = window.innerHeight; // Create borders.\n\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 0,\n        startY: 0,\n        endX: w,\n        endY: 0\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: w,\n        startY: 0,\n        endX: w,\n        endY: h\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: w,\n        startY: h,\n        endX: 0,\n        endY: h\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 0,\n        startY: h,\n        endX: 0,\n        endY: 0\n      }));\n      this.lines.forEach(function (line) {\n        _this.X.stage.addChild(line);\n      });\n      this.line = new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        strokeStyle: 'green',\n        lineWidth: 1,\n        startX: 0,\n        startY: 0,\n        endX: 0,\n        endY: 0\n      });\n      this.X.stage.addChild(this.line); // Get the x-Engine pointer.\n\n      var pointer = this.X.getPointer(); // Start the angle of the origin at 0.\n\n      this.angle = 0;\n      this.X.onTick(function () {\n        // Remove all previous hit object.\n        _this.hitObjects.forEach(function (object) {\n          _this.X.stage.removeChild(object);\n        });\n\n        _this.hitObjects = [];\n\n        _this.rays.forEach(function (ray) {\n          _this.X.stage.removeChild(ray);\n        });\n\n        _this.rays = []; // The origin will always be the mouse poition.\n\n        var origin = pointer.position; // Define the number of rays and the angles we want to generate.\n\n        var rayAngles = [];\n\n        for (var _i = 0; _i < 360; _i += 1) {\n          rayAngles.push(_i);\n        }\n\n        var hitRaycasts = []; // Loop through each line object to see if there is a collision.\n\n        _this.lines.forEach(function (line) {\n          // For each ray test to see if there is a collision.\n          rayAngles.forEach(function (angle) {\n            var raycast = _lib_mathf_raycast__WEBPACK_IMPORTED_MODULE_5__[\"Raycast\"].castInfinite2dRay(origin, _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].degreeToRadian(angle), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"](line.startX, line.startY), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"](line.endX, line.endY)); // If the current raycast is hitting.\n\n            if (raycast.hit) {\n              hitRaycasts.push(raycast); // Now previously, there might have been other rays\n              // of the same angle.\n              //  In this case, we want the ray\n              // that is of the shortest distance over the longer one.\n              // This creates a visual effect, where a ray appears\n              // to not be able to penetrate walls - merely because\n              // we are filtered out duplicate angle rays that penetrate\n              // walls.\n\n              var shortestCast = raycast;\n              hitRaycasts.forEach(function (ray) {\n                if (ray.angle == shortestCast.angle) {\n                  if (ray == shortestCast) {\n                    return;\n                  } else if (ray.distance >= shortestCast.distance) {\n                    hitRaycasts.splice(hitRaycasts.indexOf(ray), 1);\n                  } else {\n                    hitRaycasts.splice(hitRaycasts.indexOf(shortestCast), 1);\n                    shortestCast = ray;\n                  }\n                }\n              });\n            }\n          });\n        }); // For each raycast, we are going to render it out.\n\n\n        hitRaycasts.forEach(function (raycast) {\n          // Add a square for intersection point.\n          var hitRect = new _lib_x_x_rectangle__WEBPACK_IMPORTED_MODULE_2__[\"XRectangle\"]({\n            fillStyle: '#4f0a10',\n            x: raycast.collision.x - 1,\n            y: raycast.collision.y - 1,\n            width: 2,\n            height: 2\n          });\n\n          _this.X.stage.addChild(hitRect);\n\n          _this.hitObjects.push(hitRect); // const endGradientVector = Vector.fromAngle(raycast.angle, 100);\n          // let end = Vector.add(origin, endGradientVector);\n          // const useEnd = end.magnitude() < raycast.distance;\n          // end = useEnd ? end : raycast.collision;\n\n\n          var ray = new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n            radialGradient: {\n              x0: origin.x,\n              y0: origin.y,\n              r0: 100,\n              x1: raycast.collision.x,\n              y1: raycast.collision.y,\n              r1: 1000\n            },\n            gradientStops: [{\n              stop: 0,\n              color: 'white'\n            }, {\n              stop: 1,\n              color: '#010101'\n            }],\n            lineWidth: 3,\n            startX: origin.x,\n            startY: origin.y,\n            endX: raycast.collision.x,\n            endY: raycast.collision.y\n          });\n\n          _this.X.stage.addChild(ray);\n\n          _this.rays.push(ray);\n        });\n      });\n      this.X.start();\n    }\n  }]);\n\n  return RayCasting2Sample;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9yYXljYXN0aW5nMi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3JheWNhc3RpbmcyLmpzPzIyNzgiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5pbXBvcnQgeyBYIH0gZnJvbSAnLi4vbGliL3gveCc7XG5pbXBvcnQgeyBYTGluZSB9IGZyb20gJy4uL2xpYi94L3gtbGluZSc7XG5pbXBvcnQgeyBYUmVjdGFuZ2xlIH0gZnJvbSAnLi4vbGliL3gveC1yZWN0YW5nbGUnO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vbGliL21hdGhmL3ZlY3Rvcic7XG5pbXBvcnQgeyBtYXRoZiB9IGZyb20gJy4uL2xpYi9tYXRoZi9tYXRoZic7XG5pbXBvcnQgeyBSYXljYXN0IH0gZnJvbSAnLi4vbGliL21hdGhmL3JheWNhc3QnO1xuXG52YXIgUmF5Q2FzdGluZzJTYW1wbGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBSYXlDYXN0aW5nMlNhbXBsZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmF5Q2FzdGluZzJTYW1wbGUpO1xuXG4gICAgY29uc29sZS5sb2coJ3JheWNhc3RpbmcyIHNhbXBsZScpO1xuICAgIHRoaXMuaW1hZ2VUZXh0dXJlcyA9IHt9O1xuICAgIHRoaXMuaGl0T2JqZWN0cyA9IFtdO1xuICAgIHRoaXMucmF5cyA9IFtdO1xuICAgIHRoaXMuc3RhcnRBcHAoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhSYXlDYXN0aW5nMlNhbXBsZSwgW3tcbiAgICBrZXk6IFwic3RhcnRBcHBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnRBcHAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgY2FudmFzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluQ2FudmFzJyk7XG4gICAgICB0aGlzLlggPSBuZXcgWCh7XG4gICAgICAgIGNhbnZhc0VsZW1lbnQ6IGNhbnZhc0VsZW1lbnQsXG4gICAgICAgIGRlYnVnTW9kZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICB0aGlzLlguc2V0U3RhZ2VDb2xvcignYmxhY2snKTtcbiAgICAgIHRoaXMubGluZXMgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpICs9IDEpIHtcbiAgICAgICAgdGhpcy5saW5lcy5wdXNoKG5ldyBYTGluZSh7XG4gICAgICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgICAgIHN0YXJ0WDogbWF0aGYuZ2V0UmFuZG9tSW50KDAsIDEwMDApLFxuICAgICAgICAgIHN0YXJ0WTogbWF0aGYuZ2V0UmFuZG9tSW50KDAsIDEwMDApLFxuICAgICAgICAgIGVuZFg6IG1hdGhmLmdldFJhbmRvbUludCgwLCAxMDAwKSxcbiAgICAgICAgICBlbmRZOiBtYXRoZi5nZXRSYW5kb21JbnQoMCwgMTAwMClcbiAgICAgICAgfSkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdyA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdmFyIGggPSB3aW5kb3cuaW5uZXJIZWlnaHQ7IC8vIENyZWF0ZSBib3JkZXJzLlxuXG4gICAgICB0aGlzLmxpbmVzLnB1c2gobmV3IFhMaW5lKHtcbiAgICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgICBzdGFydFg6IDAsXG4gICAgICAgIHN0YXJ0WTogMCxcbiAgICAgICAgZW5kWDogdyxcbiAgICAgICAgZW5kWTogMFxuICAgICAgfSkpO1xuICAgICAgdGhpcy5saW5lcy5wdXNoKG5ldyBYTGluZSh7XG4gICAgICAgIGxpbmVXaWR0aDogNSxcbiAgICAgICAgc3RhcnRYOiB3LFxuICAgICAgICBzdGFydFk6IDAsXG4gICAgICAgIGVuZFg6IHcsXG4gICAgICAgIGVuZFk6IGhcbiAgICAgIH0pKTtcbiAgICAgIHRoaXMubGluZXMucHVzaChuZXcgWExpbmUoe1xuICAgICAgICBsaW5lV2lkdGg6IDUsXG4gICAgICAgIHN0YXJ0WDogdyxcbiAgICAgICAgc3RhcnRZOiBoLFxuICAgICAgICBlbmRYOiAwLFxuICAgICAgICBlbmRZOiBoXG4gICAgICB9KSk7XG4gICAgICB0aGlzLmxpbmVzLnB1c2gobmV3IFhMaW5lKHtcbiAgICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgICBzdGFydFg6IDAsXG4gICAgICAgIHN0YXJ0WTogaCxcbiAgICAgICAgZW5kWDogMCxcbiAgICAgICAgZW5kWTogMFxuICAgICAgfSkpO1xuICAgICAgdGhpcy5saW5lcy5mb3JFYWNoKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgIF90aGlzLlguc3RhZ2UuYWRkQ2hpbGQobGluZSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubGluZSA9IG5ldyBYTGluZSh7XG4gICAgICAgIHN0cm9rZVN0eWxlOiAnZ3JlZW4nLFxuICAgICAgICBsaW5lV2lkdGg6IDEsXG4gICAgICAgIHN0YXJ0WDogMCxcbiAgICAgICAgc3RhcnRZOiAwLFxuICAgICAgICBlbmRYOiAwLFxuICAgICAgICBlbmRZOiAwXG4gICAgICB9KTtcbiAgICAgIHRoaXMuWC5zdGFnZS5hZGRDaGlsZCh0aGlzLmxpbmUpOyAvLyBHZXQgdGhlIHgtRW5naW5lIHBvaW50ZXIuXG5cbiAgICAgIHZhciBwb2ludGVyID0gdGhpcy5YLmdldFBvaW50ZXIoKTsgLy8gU3RhcnQgdGhlIGFuZ2xlIG9mIHRoZSBvcmlnaW4gYXQgMC5cblxuICAgICAgdGhpcy5hbmdsZSA9IDA7XG4gICAgICB0aGlzLlgub25UaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gUmVtb3ZlIGFsbCBwcmV2aW91cyBoaXQgb2JqZWN0LlxuICAgICAgICBfdGhpcy5oaXRPYmplY3RzLmZvckVhY2goZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICAgIF90aGlzLlguc3RhZ2UucmVtb3ZlQ2hpbGQob2JqZWN0KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMuaGl0T2JqZWN0cyA9IFtdO1xuXG4gICAgICAgIF90aGlzLnJheXMuZm9yRWFjaChmdW5jdGlvbiAocmF5KSB7XG4gICAgICAgICAgX3RoaXMuWC5zdGFnZS5yZW1vdmVDaGlsZChyYXkpO1xuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5yYXlzID0gW107IC8vIFRoZSBvcmlnaW4gd2lsbCBhbHdheXMgYmUgdGhlIG1vdXNlIHBvaXRpb24uXG5cbiAgICAgICAgdmFyIG9yaWdpbiA9IHBvaW50ZXIucG9zaXRpb247IC8vIERlZmluZSB0aGUgbnVtYmVyIG9mIHJheXMgYW5kIHRoZSBhbmdsZXMgd2Ugd2FudCB0byBnZW5lcmF0ZS5cblxuICAgICAgICB2YXIgcmF5QW5nbGVzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IDM2MDsgX2kgKz0gMSkge1xuICAgICAgICAgIHJheUFuZ2xlcy5wdXNoKF9pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoaXRSYXljYXN0cyA9IFtdOyAvLyBMb29wIHRocm91Z2ggZWFjaCBsaW5lIG9iamVjdCB0byBzZWUgaWYgdGhlcmUgaXMgYSBjb2xsaXNpb24uXG5cbiAgICAgICAgX3RoaXMubGluZXMuZm9yRWFjaChmdW5jdGlvbiAobGluZSkge1xuICAgICAgICAgIC8vIEZvciBlYWNoIHJheSB0ZXN0IHRvIHNlZSBpZiB0aGVyZSBpcyBhIGNvbGxpc2lvbi5cbiAgICAgICAgICByYXlBbmdsZXMuZm9yRWFjaChmdW5jdGlvbiAoYW5nbGUpIHtcbiAgICAgICAgICAgIHZhciByYXljYXN0ID0gUmF5Y2FzdC5jYXN0SW5maW5pdGUyZFJheShvcmlnaW4sIG1hdGhmLmRlZ3JlZVRvUmFkaWFuKGFuZ2xlKSwgbmV3IFZlY3RvcihsaW5lLnN0YXJ0WCwgbGluZS5zdGFydFkpLCBuZXcgVmVjdG9yKGxpbmUuZW5kWCwgbGluZS5lbmRZKSk7IC8vIElmIHRoZSBjdXJyZW50IHJheWNhc3QgaXMgaGl0dGluZy5cblxuICAgICAgICAgICAgaWYgKHJheWNhc3QuaGl0KSB7XG4gICAgICAgICAgICAgIGhpdFJheWNhc3RzLnB1c2gocmF5Y2FzdCk7IC8vIE5vdyBwcmV2aW91c2x5LCB0aGVyZSBtaWdodCBoYXZlIGJlZW4gb3RoZXIgcmF5c1xuICAgICAgICAgICAgICAvLyBvZiB0aGUgc2FtZSBhbmdsZS5cbiAgICAgICAgICAgICAgLy8gIEluIHRoaXMgY2FzZSwgd2Ugd2FudCB0aGUgcmF5XG4gICAgICAgICAgICAgIC8vIHRoYXQgaXMgb2YgdGhlIHNob3J0ZXN0IGRpc3RhbmNlIG92ZXIgdGhlIGxvbmdlciBvbmUuXG4gICAgICAgICAgICAgIC8vIFRoaXMgY3JlYXRlcyBhIHZpc3VhbCBlZmZlY3QsIHdoZXJlIGEgcmF5IGFwcGVhcnNcbiAgICAgICAgICAgICAgLy8gdG8gbm90IGJlIGFibGUgdG8gcGVuZXRyYXRlIHdhbGxzIC0gbWVyZWx5IGJlY2F1c2VcbiAgICAgICAgICAgICAgLy8gd2UgYXJlIGZpbHRlcmVkIG91dCBkdXBsaWNhdGUgYW5nbGUgcmF5cyB0aGF0IHBlbmV0cmF0ZVxuICAgICAgICAgICAgICAvLyB3YWxscy5cblxuICAgICAgICAgICAgICB2YXIgc2hvcnRlc3RDYXN0ID0gcmF5Y2FzdDtcbiAgICAgICAgICAgICAgaGl0UmF5Y2FzdHMuZm9yRWFjaChmdW5jdGlvbiAocmF5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJheS5hbmdsZSA9PSBzaG9ydGVzdENhc3QuYW5nbGUpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChyYXkgPT0gc2hvcnRlc3RDYXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmF5LmRpc3RhbmNlID49IHNob3J0ZXN0Q2FzdC5kaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICBoaXRSYXljYXN0cy5zcGxpY2UoaGl0UmF5Y2FzdHMuaW5kZXhPZihyYXkpLCAxKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdFJheWNhc3RzLnNwbGljZShoaXRSYXljYXN0cy5pbmRleE9mKHNob3J0ZXN0Q2FzdCksIDEpO1xuICAgICAgICAgICAgICAgICAgICBzaG9ydGVzdENhc3QgPSByYXk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7IC8vIEZvciBlYWNoIHJheWNhc3QsIHdlIGFyZSBnb2luZyB0byByZW5kZXIgaXQgb3V0LlxuXG5cbiAgICAgICAgaGl0UmF5Y2FzdHMuZm9yRWFjaChmdW5jdGlvbiAocmF5Y2FzdCkge1xuICAgICAgICAgIC8vIEFkZCBhIHNxdWFyZSBmb3IgaW50ZXJzZWN0aW9uIHBvaW50LlxuICAgICAgICAgIHZhciBoaXRSZWN0ID0gbmV3IFhSZWN0YW5nbGUoe1xuICAgICAgICAgICAgZmlsbFN0eWxlOiAnIzRmMGExMCcsXG4gICAgICAgICAgICB4OiByYXljYXN0LmNvbGxpc2lvbi54IC0gMSxcbiAgICAgICAgICAgIHk6IHJheWNhc3QuY29sbGlzaW9uLnkgLSAxLFxuICAgICAgICAgICAgd2lkdGg6IDIsXG4gICAgICAgICAgICBoZWlnaHQ6IDJcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIF90aGlzLlguc3RhZ2UuYWRkQ2hpbGQoaGl0UmVjdCk7XG5cbiAgICAgICAgICBfdGhpcy5oaXRPYmplY3RzLnB1c2goaGl0UmVjdCk7IC8vIGNvbnN0IGVuZEdyYWRpZW50VmVjdG9yID0gVmVjdG9yLmZyb21BbmdsZShyYXljYXN0LmFuZ2xlLCAxMDApO1xuICAgICAgICAgIC8vIGxldCBlbmQgPSBWZWN0b3IuYWRkKG9yaWdpbiwgZW5kR3JhZGllbnRWZWN0b3IpO1xuICAgICAgICAgIC8vIGNvbnN0IHVzZUVuZCA9IGVuZC5tYWduaXR1ZGUoKSA8IHJheWNhc3QuZGlzdGFuY2U7XG4gICAgICAgICAgLy8gZW5kID0gdXNlRW5kID8gZW5kIDogcmF5Y2FzdC5jb2xsaXNpb247XG5cblxuICAgICAgICAgIHZhciByYXkgPSBuZXcgWExpbmUoe1xuICAgICAgICAgICAgcmFkaWFsR3JhZGllbnQ6IHtcbiAgICAgICAgICAgICAgeDA6IG9yaWdpbi54LFxuICAgICAgICAgICAgICB5MDogb3JpZ2luLnksXG4gICAgICAgICAgICAgIHIwOiAxMDAsXG4gICAgICAgICAgICAgIHgxOiByYXljYXN0LmNvbGxpc2lvbi54LFxuICAgICAgICAgICAgICB5MTogcmF5Y2FzdC5jb2xsaXNpb24ueSxcbiAgICAgICAgICAgICAgcjE6IDEwMDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBncmFkaWVudFN0b3BzOiBbe1xuICAgICAgICAgICAgICBzdG9wOiAwLFxuICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBzdG9wOiAxLFxuICAgICAgICAgICAgICBjb2xvcjogJyMwMTAxMDEnXG4gICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIGxpbmVXaWR0aDogMyxcbiAgICAgICAgICAgIHN0YXJ0WDogb3JpZ2luLngsXG4gICAgICAgICAgICBzdGFydFk6IG9yaWdpbi55LFxuICAgICAgICAgICAgZW5kWDogcmF5Y2FzdC5jb2xsaXNpb24ueCxcbiAgICAgICAgICAgIGVuZFk6IHJheWNhc3QuY29sbGlzaW9uLnlcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIF90aGlzLlguc3RhZ2UuYWRkQ2hpbGQocmF5KTtcblxuICAgICAgICAgIF90aGlzLnJheXMucHVzaChyYXkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5YLnN0YXJ0KCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJheUNhc3RpbmcyU2FtcGxlO1xufSgpO1xuXG5leHBvcnQgeyBSYXlDYXN0aW5nMlNhbXBsZSBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/raycasting2.js\n");

/***/ }),

/***/ "./examples/raycasting3.js":
/*!*********************************!*\
  !*** ./examples/raycasting3.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return RayCasting3Sample; });\n/* harmony import */ var _lib_x_x__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/x/x */ \"./lib/x/x.js\");\n/* harmony import */ var _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/x/x-line */ \"./lib/x/x-line.js\");\n/* harmony import */ var _lib_x_x_rectangle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/x/x-rectangle */ \"./lib/x/x-rectangle.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_mathf_raycast__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/mathf/raycast */ \"./lib/mathf/raycast.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n/**\n * This is a quick demo of using raycasting to project 3d.\n */\n\nvar RayCasting3Sample = /*#__PURE__*/function () {\n  function RayCasting3Sample() {\n    var _this = this;\n\n    _classCallCheck(this, RayCasting3Sample);\n\n    console.log('raycasting3 sample');\n    this.rays = [];\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_6__[\"DomWatcher\"]();\n    this.forwardKey = false;\n    this.leftKey = false;\n    this.rightKey = false;\n    this.downKey = false;\n    this.domWatcher.add({\n      element: document,\n      on: 'keydown',\n      callback: function callback(event) {\n        // up arrow\n        if (event.keyCode == 38) {\n          _this.forwardKey = true;\n        } // right arrow\n\n\n        if (event.keyCode == 39) {\n          _this.rightKey = true;\n        } // left arrow\n\n\n        if (event.keyCode == 37) {\n          _this.leftKey = true;\n        } // Down arrow\n\n\n        if (event.keyCode == 40) {\n          _this.backKey = true;\n        }\n      }\n    });\n    this.domWatcher.add({\n      element: document,\n      on: 'keyup',\n      callback: function callback(event) {\n        if (event.keyCode == 38) {\n          _this.forwardKey = false;\n        }\n\n        if (event.keyCode == 39) {\n          _this.rightKey = false;\n        }\n\n        if (event.keyCode == 37) {\n          _this.leftKey = false;\n        }\n\n        if (event.keyCode == 40) {\n          _this.backKey = false;\n        }\n      }\n    });\n    this.projectionRays = []; // The field of view.\n\n    this.fov = 45;\n    this.rayPerAngle = 0.15;\n    this.startApp();\n  }\n\n  _createClass(RayCasting3Sample, [{\n    key: \"startApp\",\n    value: function startApp() {\n      var _this2 = this;\n\n      var canvasElement = document.getElementById('mainCanvas');\n      var canvas2Element = document.getElementById('projectionCanvas');\n      this.X = new _lib_x_x__WEBPACK_IMPORTED_MODULE_0__[\"X\"]({\n        canvasElement: canvasElement,\n        debugMode: true\n      });\n      this.projectionX = new _lib_x_x__WEBPACK_IMPORTED_MODULE_0__[\"X\"]({\n        canvasElement: canvas2Element,\n        debugMode: false\n      });\n      this.X.setStageColor('black');\n      this.projectionX.setStageColor('black'); // Create the player\n\n      this.player = new _lib_x_x_rectangle__WEBPACK_IMPORTED_MODULE_2__[\"XRectangle\"]({\n        fillStyle: 'white',\n        x: window.innerWidth / 2 / 2 - 300,\n        y: window.innerHeight - 100,\n        width: 2,\n        heigth: 2\n      });\n      this.X.stage.addChild(this.player); // Create a bunch of lines in the world.\n\n      this.lines = []; // for (let i = 0; i < 2; i += 1) {\n      //     this.lines.push(new XLine({\n      //         lineWidth: 5,\n      //         startX: mathf.getRandomInt(0, 1000),\n      //         startY: mathf.getRandomInt(0, 1000),\n      //         endX: mathf.getRandomInt(0, 1000),\n      //         endY: mathf.getRandomInt(0, 1000),\n      //     }));\n      // }\n\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 50,\n        startY: 50,\n        endX: 200,\n        endY: 50\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 200,\n        startY: 50,\n        endX: 200,\n        endY: 200\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 200,\n        startY: 200,\n        endX: 50,\n        endY: 200\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 50,\n        startY: 200,\n        endX: 50,\n        endY: 50\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 300,\n        startY: 300,\n        endX: 500,\n        endY: 300\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 500,\n        startY: 300,\n        endX: 500,\n        endY: 500\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 500,\n        startY: 500,\n        endX: 300,\n        endY: 500\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 300,\n        startY: 500,\n        endX: 300,\n        endY: 300\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 650,\n        startY: 650,\n        endX: 800,\n        endY: 650\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 800,\n        startY: 650,\n        endX: 800,\n        endY: 800\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 800,\n        startY: 800,\n        endX: 650,\n        endY: 800\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 650,\n        startY: 800,\n        endX: 650,\n        endY: 650\n      }));\n      var w = window.innerWidth;\n      var h = window.innerHeight; // Create borders on the edge of the world.\n\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 0,\n        startY: 0,\n        endX: w / 2,\n        endY: 0\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: w / 2,\n        startY: 0,\n        endX: w / 2,\n        endY: h\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: w / 2,\n        startY: h,\n        endX: 0,\n        endY: h\n      }));\n      this.lines.push(new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n        lineWidth: 5,\n        startX: 0,\n        startY: h,\n        endX: 0,\n        endY: 0\n      }));\n      this.lines.forEach(function (line) {\n        _this2.X.stage.addChild(line);\n      }); // Get the x-Engine pointer.\n\n      var pointer = this.X.getPointer(); // Start the angle of the origin at 0.\n\n      this.angle = 0; // Define the number of rays and the angles we want to generate.\n\n      var rayAngles = [];\n\n      for (var i = 0; i < this.fov; i += this.rayPerAngle) {\n        rayAngles.push(i);\n      }\n\n      this.X.onTick(function () {\n        _this2.rays.forEach(function (ray) {\n          _this2.X.stage.removeChild(ray);\n        });\n\n        _this2.rays = [];\n\n        if (_this2.leftKey) {\n          _this2.player.rotation -= 3;\n        }\n\n        if (_this2.rightKey) {\n          _this2.player.rotation += 3;\n        }\n\n        _this2.player.rotation = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].wrap(_this2.player.rotation, 0, 360); // Origin should center from where the player stands.\n\n        var origin = _this2.player.position;\n        var rotation = _this2.player.rotation; // If the player is pressing some key we allow the player to move forward.\n\n        if (_this2.forwardKey) {\n          // Get the current rotation and add a forwardVector in that direction.\n          var forwardVector = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"].fromAngle(_lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].degreeToRadian(rotation, 1), 10);\n          origin.add(forwardVector);\n        }\n\n        if (_this2.backKey) {\n          // Get the forward Vector and negate it.\n          var _forwardVector = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"].fromAngle(_lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].degreeToRadian(rotation, 1), 10);\n\n          origin.add(_forwardVector.negate());\n        }\n\n        _this2.hitRaycasts = []; // Loop through each line object to see if there is a collision.\n\n        _this2.lines.forEach(function (line) {\n          // For each ray test to see if there is a collision.\n          rayAngles.forEach(function (angle, i) {\n            // // Offset the angle so the field of view is centered.\n            angle -= _this2.fov / 2;\n            var raycast = _lib_mathf_raycast__WEBPACK_IMPORTED_MODULE_5__[\"Raycast\"].castInfinite2dRay(origin, _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].degreeToRadian(angle + rotation), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"](line.startX, line.startY), new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"](line.endX, line.endY)); // If the current raycast is hitting.\n\n            if (raycast.hit) {\n              raycast.originalAngle = angle;\n              raycast.order = i;\n\n              _this2.hitRaycasts.push(raycast); // Now previously, there might have been other rays\n              // of the same angle.\n              //  In this case, we want the ray\n              // that is of the shortest distance over the longer one.\n              // This creates a visual effect, where a ray appears\n              // to not be able to penetrate walls - merely because\n              // we are filtered out duplicate angle rays that penetrate\n              // walls.\n\n\n              var shortestCast = raycast;\n\n              _this2.hitRaycasts.forEach(function (ray) {\n                if (ray.angle == shortestCast.angle) {\n                  if (ray == shortestCast) {\n                    return;\n                  } else if (ray.distance >= shortestCast.distance) {\n                    _this2.hitRaycasts.splice(_this2.hitRaycasts.indexOf(ray), 1);\n                  } else {\n                    _this2.hitRaycasts.splice(_this2.hitRaycasts.indexOf(shortestCast), 1);\n\n                    shortestCast = ray;\n                  }\n                }\n              });\n            }\n          });\n        }); // For each raycast, we are going to render it out.\n\n\n        _this2.hitRaycasts.forEach(function (raycast) {\n          // const endGradientVector = Vector.fromAngle(raycast.angle, 100);\n          // let end = Vector.add(origin, endGradientVector);\n          // const useEnd = end.magnitude() < raycast.distance;\n          // end = useEnd ? end : raycast.collision;\n          var ray = new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n            strokeStyle: 'white',\n            lineWidth: 3,\n            startX: origin.x,\n            startY: origin.y,\n            endX: raycast.collision.x,\n            endY: raycast.collision.y\n          });\n\n          _this2.X.stage.addChild(ray);\n\n          _this2.rays.push(ray);\n        }); // Sort the ray casts correctly.\n\n\n        _this2.hitRaycasts = _this2.hitRaycasts.sort(function (a, b) {\n          return a.order - b.order;\n        });\n\n        _this2.projectionXUpdate(w, h);\n      });\n      this.X.start();\n    }\n  }, {\n    key: \"projectionXUpdate\",\n    value: function projectionXUpdate(w, h) {\n      var _this3 = this;\n\n      this.projectionX.clear();\n      this.projectionRays.forEach(function (ray) {\n        _this3.projectionX.stage.removeChild(ray);\n      });\n      this.projectionRays = [];\n      var widthPerRay = w * 0.5 / (this.hitRaycasts.length - 1); // Create a rectangle for each ray.  The more distance, the more faded it\n      // should look.\n\n      var depth = 9;\n      var visionDistance = 3000;\n      this.hitRaycasts.forEach(function (ray, i) {\n        var distance = ray.distance;\n        var scale = distance / visionDistance;\n        scale = 1 - _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].clamp01(scale); // Avoid fisheye so use square.\n\n        scale = Math.pow(scale, depth);\n        var height = Math.max(h * scale, 1);\n        var halfHeight = height / 2;\n        var centerV = h / 2;\n        var rect = new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n          startX: i * widthPerRay + 1,\n          startY: centerV - halfHeight,\n          lineWidth: widthPerRay + 1,\n          strokeStyle: 'red',\n          endX: i * widthPerRay,\n          endY: centerV + halfHeight,\n          alpha: Math.max(0.1, scale)\n        });\n        var floor = new _lib_x_x_line__WEBPACK_IMPORTED_MODULE_1__[\"XLine\"]({\n          startX: i * widthPerRay + 1,\n          startY: centerV + halfHeight,\n          lineWidth: widthPerRay + 1,\n          radialGradient: {\n            x0: i * widthPerRay + 1,\n            y0: centerV + halfHeight,\n            r0: 100,\n            x1: i * widthPerRay + 1,\n            y1: h,\n            r1: 500\n          },\n          gradientStops: [{\n            stop: 0,\n            color: '#010101'\n          }, {\n            stop: 1,\n            color: 'white'\n          }],\n          endX: i * widthPerRay,\n          endY: h,\n          alpha: 1 // alpha: Math.max(0.1, scale)\n\n        }); // const text =\n        //     new XLine({\n        //         fillStyle: 'white',\n        //         x: i * widthPerRay + 1,\n        //         y: h,\n        //         text: ray.distance\n        //     });\n\n        _this3.projectionRays.push(rect);\n\n        _this3.projectionRays.push(floor); // this.projectionRays.push(text);\n\n\n        _this3.projectionX.stage.addChild(rect);\n\n        _this3.projectionX.stage.addChild(floor); // this.projectionX.stage.addChild(text);\n\n      }); // console.log(this.projectionRays[0]);\n\n      this.projectionX.gameLoop();\n    }\n  }]);\n\n  return RayCasting3Sample;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9yYXljYXN0aW5nMy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3JheWNhc3RpbmczLmpzPzEyNDUiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5pbXBvcnQgeyBYIH0gZnJvbSAnLi4vbGliL3gveCc7XG5pbXBvcnQgeyBYTGluZSB9IGZyb20gJy4uL2xpYi94L3gtbGluZSc7XG5pbXBvcnQgeyBYUmVjdGFuZ2xlIH0gZnJvbSAnLi4vbGliL3gveC1yZWN0YW5nbGUnO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vbGliL21hdGhmL3ZlY3Rvcic7XG5pbXBvcnQgeyBtYXRoZiB9IGZyb20gJy4uL2xpYi9tYXRoZi9tYXRoZic7XG5pbXBvcnQgeyBSYXljYXN0IH0gZnJvbSAnLi4vbGliL21hdGhmL3JheWNhc3QnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuLyoqXG4gKiBUaGlzIGlzIGEgcXVpY2sgZGVtbyBvZiB1c2luZyByYXljYXN0aW5nIHRvIHByb2plY3QgM2QuXG4gKi9cblxudmFyIFJheUNhc3RpbmczU2FtcGxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUmF5Q2FzdGluZzNTYW1wbGUoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSYXlDYXN0aW5nM1NhbXBsZSk7XG5cbiAgICBjb25zb2xlLmxvZygncmF5Y2FzdGluZzMgc2FtcGxlJyk7XG4gICAgdGhpcy5yYXlzID0gW107XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmZvcndhcmRLZXkgPSBmYWxzZTtcbiAgICB0aGlzLmxlZnRLZXkgPSBmYWxzZTtcbiAgICB0aGlzLnJpZ2h0S2V5ID0gZmFsc2U7XG4gICAgdGhpcy5kb3duS2V5ID0gZmFsc2U7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiBkb2N1bWVudCxcbiAgICAgIG9uOiAna2V5ZG93bicsXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soZXZlbnQpIHtcbiAgICAgICAgLy8gdXAgYXJyb3dcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMzgpIHtcbiAgICAgICAgICBfdGhpcy5mb3J3YXJkS2V5ID0gdHJ1ZTtcbiAgICAgICAgfSAvLyByaWdodCBhcnJvd1xuXG5cbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMzkpIHtcbiAgICAgICAgICBfdGhpcy5yaWdodEtleSA9IHRydWU7XG4gICAgICAgIH0gLy8gbGVmdCBhcnJvd1xuXG5cbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMzcpIHtcbiAgICAgICAgICBfdGhpcy5sZWZ0S2V5ID0gdHJ1ZTtcbiAgICAgICAgfSAvLyBEb3duIGFycm93XG5cblxuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSA0MCkge1xuICAgICAgICAgIF90aGlzLmJhY2tLZXkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiBkb2N1bWVudCxcbiAgICAgIG9uOiAna2V5dXAnLFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDM4KSB7XG4gICAgICAgICAgX3RoaXMuZm9yd2FyZEtleSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMzkpIHtcbiAgICAgICAgICBfdGhpcy5yaWdodEtleSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMzcpIHtcbiAgICAgICAgICBfdGhpcy5sZWZ0S2V5ID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSA0MCkge1xuICAgICAgICAgIF90aGlzLmJhY2tLZXkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMucHJvamVjdGlvblJheXMgPSBbXTsgLy8gVGhlIGZpZWxkIG9mIHZpZXcuXG5cbiAgICB0aGlzLmZvdiA9IDQ1O1xuICAgIHRoaXMucmF5UGVyQW5nbGUgPSAwLjE1O1xuICAgIHRoaXMuc3RhcnRBcHAoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhSYXlDYXN0aW5nM1NhbXBsZSwgW3tcbiAgICBrZXk6IFwic3RhcnRBcHBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnRBcHAoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGNhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbkNhbnZhcycpO1xuICAgICAgdmFyIGNhbnZhczJFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3Rpb25DYW52YXMnKTtcbiAgICAgIHRoaXMuWCA9IG5ldyBYKHtcbiAgICAgICAgY2FudmFzRWxlbWVudDogY2FudmFzRWxlbWVudCxcbiAgICAgICAgZGVidWdNb2RlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHRoaXMucHJvamVjdGlvblggPSBuZXcgWCh7XG4gICAgICAgIGNhbnZhc0VsZW1lbnQ6IGNhbnZhczJFbGVtZW50LFxuICAgICAgICBkZWJ1Z01vZGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHRoaXMuWC5zZXRTdGFnZUNvbG9yKCdibGFjaycpO1xuICAgICAgdGhpcy5wcm9qZWN0aW9uWC5zZXRTdGFnZUNvbG9yKCdibGFjaycpOyAvLyBDcmVhdGUgdGhlIHBsYXllclxuXG4gICAgICB0aGlzLnBsYXllciA9IG5ldyBYUmVjdGFuZ2xlKHtcbiAgICAgICAgZmlsbFN0eWxlOiAnd2hpdGUnLFxuICAgICAgICB4OiB3aW5kb3cuaW5uZXJXaWR0aCAvIDIgLyAyIC0gMzAwLFxuICAgICAgICB5OiB3aW5kb3cuaW5uZXJIZWlnaHQgLSAxMDAsXG4gICAgICAgIHdpZHRoOiAyLFxuICAgICAgICBoZWlndGg6IDJcbiAgICAgIH0pO1xuICAgICAgdGhpcy5YLnN0YWdlLmFkZENoaWxkKHRoaXMucGxheWVyKTsgLy8gQ3JlYXRlIGEgYnVuY2ggb2YgbGluZXMgaW4gdGhlIHdvcmxkLlxuXG4gICAgICB0aGlzLmxpbmVzID0gW107IC8vIGZvciAobGV0IGkgPSAwOyBpIDwgMjsgaSArPSAxKSB7XG4gICAgICAvLyAgICAgdGhpcy5saW5lcy5wdXNoKG5ldyBYTGluZSh7XG4gICAgICAvLyAgICAgICAgIGxpbmVXaWR0aDogNSxcbiAgICAgIC8vICAgICAgICAgc3RhcnRYOiBtYXRoZi5nZXRSYW5kb21JbnQoMCwgMTAwMCksXG4gICAgICAvLyAgICAgICAgIHN0YXJ0WTogbWF0aGYuZ2V0UmFuZG9tSW50KDAsIDEwMDApLFxuICAgICAgLy8gICAgICAgICBlbmRYOiBtYXRoZi5nZXRSYW5kb21JbnQoMCwgMTAwMCksXG4gICAgICAvLyAgICAgICAgIGVuZFk6IG1hdGhmLmdldFJhbmRvbUludCgwLCAxMDAwKSxcbiAgICAgIC8vICAgICB9KSk7XG4gICAgICAvLyB9XG5cbiAgICAgIHRoaXMubGluZXMucHVzaChuZXcgWExpbmUoe1xuICAgICAgICBsaW5lV2lkdGg6IDUsXG4gICAgICAgIHN0YXJ0WDogNTAsXG4gICAgICAgIHN0YXJ0WTogNTAsXG4gICAgICAgIGVuZFg6IDIwMCxcbiAgICAgICAgZW5kWTogNTBcbiAgICAgIH0pKTtcbiAgICAgIHRoaXMubGluZXMucHVzaChuZXcgWExpbmUoe1xuICAgICAgICBsaW5lV2lkdGg6IDUsXG4gICAgICAgIHN0YXJ0WDogMjAwLFxuICAgICAgICBzdGFydFk6IDUwLFxuICAgICAgICBlbmRYOiAyMDAsXG4gICAgICAgIGVuZFk6IDIwMFxuICAgICAgfSkpO1xuICAgICAgdGhpcy5saW5lcy5wdXNoKG5ldyBYTGluZSh7XG4gICAgICAgIGxpbmVXaWR0aDogNSxcbiAgICAgICAgc3RhcnRYOiAyMDAsXG4gICAgICAgIHN0YXJ0WTogMjAwLFxuICAgICAgICBlbmRYOiA1MCxcbiAgICAgICAgZW5kWTogMjAwXG4gICAgICB9KSk7XG4gICAgICB0aGlzLmxpbmVzLnB1c2gobmV3IFhMaW5lKHtcbiAgICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgICBzdGFydFg6IDUwLFxuICAgICAgICBzdGFydFk6IDIwMCxcbiAgICAgICAgZW5kWDogNTAsXG4gICAgICAgIGVuZFk6IDUwXG4gICAgICB9KSk7XG4gICAgICB0aGlzLmxpbmVzLnB1c2gobmV3IFhMaW5lKHtcbiAgICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgICBzdGFydFg6IDMwMCxcbiAgICAgICAgc3RhcnRZOiAzMDAsXG4gICAgICAgIGVuZFg6IDUwMCxcbiAgICAgICAgZW5kWTogMzAwXG4gICAgICB9KSk7XG4gICAgICB0aGlzLmxpbmVzLnB1c2gobmV3IFhMaW5lKHtcbiAgICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgICBzdGFydFg6IDUwMCxcbiAgICAgICAgc3RhcnRZOiAzMDAsXG4gICAgICAgIGVuZFg6IDUwMCxcbiAgICAgICAgZW5kWTogNTAwXG4gICAgICB9KSk7XG4gICAgICB0aGlzLmxpbmVzLnB1c2gobmV3IFhMaW5lKHtcbiAgICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgICBzdGFydFg6IDUwMCxcbiAgICAgICAgc3RhcnRZOiA1MDAsXG4gICAgICAgIGVuZFg6IDMwMCxcbiAgICAgICAgZW5kWTogNTAwXG4gICAgICB9KSk7XG4gICAgICB0aGlzLmxpbmVzLnB1c2gobmV3IFhMaW5lKHtcbiAgICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgICBzdGFydFg6IDMwMCxcbiAgICAgICAgc3RhcnRZOiA1MDAsXG4gICAgICAgIGVuZFg6IDMwMCxcbiAgICAgICAgZW5kWTogMzAwXG4gICAgICB9KSk7XG4gICAgICB0aGlzLmxpbmVzLnB1c2gobmV3IFhMaW5lKHtcbiAgICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgICBzdGFydFg6IDY1MCxcbiAgICAgICAgc3RhcnRZOiA2NTAsXG4gICAgICAgIGVuZFg6IDgwMCxcbiAgICAgICAgZW5kWTogNjUwXG4gICAgICB9KSk7XG4gICAgICB0aGlzLmxpbmVzLnB1c2gobmV3IFhMaW5lKHtcbiAgICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgICBzdGFydFg6IDgwMCxcbiAgICAgICAgc3RhcnRZOiA2NTAsXG4gICAgICAgIGVuZFg6IDgwMCxcbiAgICAgICAgZW5kWTogODAwXG4gICAgICB9KSk7XG4gICAgICB0aGlzLmxpbmVzLnB1c2gobmV3IFhMaW5lKHtcbiAgICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgICBzdGFydFg6IDgwMCxcbiAgICAgICAgc3RhcnRZOiA4MDAsXG4gICAgICAgIGVuZFg6IDY1MCxcbiAgICAgICAgZW5kWTogODAwXG4gICAgICB9KSk7XG4gICAgICB0aGlzLmxpbmVzLnB1c2gobmV3IFhMaW5lKHtcbiAgICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgICBzdGFydFg6IDY1MCxcbiAgICAgICAgc3RhcnRZOiA4MDAsXG4gICAgICAgIGVuZFg6IDY1MCxcbiAgICAgICAgZW5kWTogNjUwXG4gICAgICB9KSk7XG4gICAgICB2YXIgdyA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdmFyIGggPSB3aW5kb3cuaW5uZXJIZWlnaHQ7IC8vIENyZWF0ZSBib3JkZXJzIG9uIHRoZSBlZGdlIG9mIHRoZSB3b3JsZC5cblxuICAgICAgdGhpcy5saW5lcy5wdXNoKG5ldyBYTGluZSh7XG4gICAgICAgIGxpbmVXaWR0aDogNSxcbiAgICAgICAgc3RhcnRYOiAwLFxuICAgICAgICBzdGFydFk6IDAsXG4gICAgICAgIGVuZFg6IHcgLyAyLFxuICAgICAgICBlbmRZOiAwXG4gICAgICB9KSk7XG4gICAgICB0aGlzLmxpbmVzLnB1c2gobmV3IFhMaW5lKHtcbiAgICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgICBzdGFydFg6IHcgLyAyLFxuICAgICAgICBzdGFydFk6IDAsXG4gICAgICAgIGVuZFg6IHcgLyAyLFxuICAgICAgICBlbmRZOiBoXG4gICAgICB9KSk7XG4gICAgICB0aGlzLmxpbmVzLnB1c2gobmV3IFhMaW5lKHtcbiAgICAgICAgbGluZVdpZHRoOiA1LFxuICAgICAgICBzdGFydFg6IHcgLyAyLFxuICAgICAgICBzdGFydFk6IGgsXG4gICAgICAgIGVuZFg6IDAsXG4gICAgICAgIGVuZFk6IGhcbiAgICAgIH0pKTtcbiAgICAgIHRoaXMubGluZXMucHVzaChuZXcgWExpbmUoe1xuICAgICAgICBsaW5lV2lkdGg6IDUsXG4gICAgICAgIHN0YXJ0WDogMCxcbiAgICAgICAgc3RhcnRZOiBoLFxuICAgICAgICBlbmRYOiAwLFxuICAgICAgICBlbmRZOiAwXG4gICAgICB9KSk7XG4gICAgICB0aGlzLmxpbmVzLmZvckVhY2goZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgX3RoaXMyLlguc3RhZ2UuYWRkQ2hpbGQobGluZSk7XG4gICAgICB9KTsgLy8gR2V0IHRoZSB4LUVuZ2luZSBwb2ludGVyLlxuXG4gICAgICB2YXIgcG9pbnRlciA9IHRoaXMuWC5nZXRQb2ludGVyKCk7IC8vIFN0YXJ0IHRoZSBhbmdsZSBvZiB0aGUgb3JpZ2luIGF0IDAuXG5cbiAgICAgIHRoaXMuYW5nbGUgPSAwOyAvLyBEZWZpbmUgdGhlIG51bWJlciBvZiByYXlzIGFuZCB0aGUgYW5nbGVzIHdlIHdhbnQgdG8gZ2VuZXJhdGUuXG5cbiAgICAgIHZhciByYXlBbmdsZXMgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmZvdjsgaSArPSB0aGlzLnJheVBlckFuZ2xlKSB7XG4gICAgICAgIHJheUFuZ2xlcy5wdXNoKGkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLlgub25UaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLnJheXMuZm9yRWFjaChmdW5jdGlvbiAocmF5KSB7XG4gICAgICAgICAgX3RoaXMyLlguc3RhZ2UucmVtb3ZlQ2hpbGQocmF5KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMyLnJheXMgPSBbXTtcblxuICAgICAgICBpZiAoX3RoaXMyLmxlZnRLZXkpIHtcbiAgICAgICAgICBfdGhpczIucGxheWVyLnJvdGF0aW9uIC09IDM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXMyLnJpZ2h0S2V5KSB7XG4gICAgICAgICAgX3RoaXMyLnBsYXllci5yb3RhdGlvbiArPSAzO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMyLnBsYXllci5yb3RhdGlvbiA9IG1hdGhmLndyYXAoX3RoaXMyLnBsYXllci5yb3RhdGlvbiwgMCwgMzYwKTsgLy8gT3JpZ2luIHNob3VsZCBjZW50ZXIgZnJvbSB3aGVyZSB0aGUgcGxheWVyIHN0YW5kcy5cblxuICAgICAgICB2YXIgb3JpZ2luID0gX3RoaXMyLnBsYXllci5wb3NpdGlvbjtcbiAgICAgICAgdmFyIHJvdGF0aW9uID0gX3RoaXMyLnBsYXllci5yb3RhdGlvbjsgLy8gSWYgdGhlIHBsYXllciBpcyBwcmVzc2luZyBzb21lIGtleSB3ZSBhbGxvdyB0aGUgcGxheWVyIHRvIG1vdmUgZm9yd2FyZC5cblxuICAgICAgICBpZiAoX3RoaXMyLmZvcndhcmRLZXkpIHtcbiAgICAgICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgcm90YXRpb24gYW5kIGFkZCBhIGZvcndhcmRWZWN0b3IgaW4gdGhhdCBkaXJlY3Rpb24uXG4gICAgICAgICAgdmFyIGZvcndhcmRWZWN0b3IgPSBWZWN0b3IuZnJvbUFuZ2xlKG1hdGhmLmRlZ3JlZVRvUmFkaWFuKHJvdGF0aW9uLCAxKSwgMTApO1xuICAgICAgICAgIG9yaWdpbi5hZGQoZm9yd2FyZFZlY3Rvcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXMyLmJhY2tLZXkpIHtcbiAgICAgICAgICAvLyBHZXQgdGhlIGZvcndhcmQgVmVjdG9yIGFuZCBuZWdhdGUgaXQuXG4gICAgICAgICAgdmFyIF9mb3J3YXJkVmVjdG9yID0gVmVjdG9yLmZyb21BbmdsZShtYXRoZi5kZWdyZWVUb1JhZGlhbihyb3RhdGlvbiwgMSksIDEwKTtcblxuICAgICAgICAgIG9yaWdpbi5hZGQoX2ZvcndhcmRWZWN0b3IubmVnYXRlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMyLmhpdFJheWNhc3RzID0gW107IC8vIExvb3AgdGhyb3VnaCBlYWNoIGxpbmUgb2JqZWN0IHRvIHNlZSBpZiB0aGVyZSBpcyBhIGNvbGxpc2lvbi5cblxuICAgICAgICBfdGhpczIubGluZXMuZm9yRWFjaChmdW5jdGlvbiAobGluZSkge1xuICAgICAgICAgIC8vIEZvciBlYWNoIHJheSB0ZXN0IHRvIHNlZSBpZiB0aGVyZSBpcyBhIGNvbGxpc2lvbi5cbiAgICAgICAgICByYXlBbmdsZXMuZm9yRWFjaChmdW5jdGlvbiAoYW5nbGUsIGkpIHtcbiAgICAgICAgICAgIC8vIC8vIE9mZnNldCB0aGUgYW5nbGUgc28gdGhlIGZpZWxkIG9mIHZpZXcgaXMgY2VudGVyZWQuXG4gICAgICAgICAgICBhbmdsZSAtPSBfdGhpczIuZm92IC8gMjtcbiAgICAgICAgICAgIHZhciByYXljYXN0ID0gUmF5Y2FzdC5jYXN0SW5maW5pdGUyZFJheShvcmlnaW4sIG1hdGhmLmRlZ3JlZVRvUmFkaWFuKGFuZ2xlICsgcm90YXRpb24pLCBuZXcgVmVjdG9yKGxpbmUuc3RhcnRYLCBsaW5lLnN0YXJ0WSksIG5ldyBWZWN0b3IobGluZS5lbmRYLCBsaW5lLmVuZFkpKTsgLy8gSWYgdGhlIGN1cnJlbnQgcmF5Y2FzdCBpcyBoaXR0aW5nLlxuXG4gICAgICAgICAgICBpZiAocmF5Y2FzdC5oaXQpIHtcbiAgICAgICAgICAgICAgcmF5Y2FzdC5vcmlnaW5hbEFuZ2xlID0gYW5nbGU7XG4gICAgICAgICAgICAgIHJheWNhc3Qub3JkZXIgPSBpO1xuXG4gICAgICAgICAgICAgIF90aGlzMi5oaXRSYXljYXN0cy5wdXNoKHJheWNhc3QpOyAvLyBOb3cgcHJldmlvdXNseSwgdGhlcmUgbWlnaHQgaGF2ZSBiZWVuIG90aGVyIHJheXNcbiAgICAgICAgICAgICAgLy8gb2YgdGhlIHNhbWUgYW5nbGUuXG4gICAgICAgICAgICAgIC8vICBJbiB0aGlzIGNhc2UsIHdlIHdhbnQgdGhlIHJheVxuICAgICAgICAgICAgICAvLyB0aGF0IGlzIG9mIHRoZSBzaG9ydGVzdCBkaXN0YW5jZSBvdmVyIHRoZSBsb25nZXIgb25lLlxuICAgICAgICAgICAgICAvLyBUaGlzIGNyZWF0ZXMgYSB2aXN1YWwgZWZmZWN0LCB3aGVyZSBhIHJheSBhcHBlYXJzXG4gICAgICAgICAgICAgIC8vIHRvIG5vdCBiZSBhYmxlIHRvIHBlbmV0cmF0ZSB3YWxscyAtIG1lcmVseSBiZWNhdXNlXG4gICAgICAgICAgICAgIC8vIHdlIGFyZSBmaWx0ZXJlZCBvdXQgZHVwbGljYXRlIGFuZ2xlIHJheXMgdGhhdCBwZW5ldHJhdGVcbiAgICAgICAgICAgICAgLy8gd2FsbHMuXG5cblxuICAgICAgICAgICAgICB2YXIgc2hvcnRlc3RDYXN0ID0gcmF5Y2FzdDtcblxuICAgICAgICAgICAgICBfdGhpczIuaGl0UmF5Y2FzdHMuZm9yRWFjaChmdW5jdGlvbiAocmF5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJheS5hbmdsZSA9PSBzaG9ydGVzdENhc3QuYW5nbGUpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChyYXkgPT0gc2hvcnRlc3RDYXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmF5LmRpc3RhbmNlID49IHNob3J0ZXN0Q2FzdC5kaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIuaGl0UmF5Y2FzdHMuc3BsaWNlKF90aGlzMi5oaXRSYXljYXN0cy5pbmRleE9mKHJheSksIDEpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmhpdFJheWNhc3RzLnNwbGljZShfdGhpczIuaGl0UmF5Y2FzdHMuaW5kZXhPZihzaG9ydGVzdENhc3QpLCAxKTtcblxuICAgICAgICAgICAgICAgICAgICBzaG9ydGVzdENhc3QgPSByYXk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7IC8vIEZvciBlYWNoIHJheWNhc3QsIHdlIGFyZSBnb2luZyB0byByZW5kZXIgaXQgb3V0LlxuXG5cbiAgICAgICAgX3RoaXMyLmhpdFJheWNhc3RzLmZvckVhY2goZnVuY3Rpb24gKHJheWNhc3QpIHtcbiAgICAgICAgICAvLyBjb25zdCBlbmRHcmFkaWVudFZlY3RvciA9IFZlY3Rvci5mcm9tQW5nbGUocmF5Y2FzdC5hbmdsZSwgMTAwKTtcbiAgICAgICAgICAvLyBsZXQgZW5kID0gVmVjdG9yLmFkZChvcmlnaW4sIGVuZEdyYWRpZW50VmVjdG9yKTtcbiAgICAgICAgICAvLyBjb25zdCB1c2VFbmQgPSBlbmQubWFnbml0dWRlKCkgPCByYXljYXN0LmRpc3RhbmNlO1xuICAgICAgICAgIC8vIGVuZCA9IHVzZUVuZCA/IGVuZCA6IHJheWNhc3QuY29sbGlzaW9uO1xuICAgICAgICAgIHZhciByYXkgPSBuZXcgWExpbmUoe1xuICAgICAgICAgICAgc3Ryb2tlU3R5bGU6ICd3aGl0ZScsXG4gICAgICAgICAgICBsaW5lV2lkdGg6IDMsXG4gICAgICAgICAgICBzdGFydFg6IG9yaWdpbi54LFxuICAgICAgICAgICAgc3RhcnRZOiBvcmlnaW4ueSxcbiAgICAgICAgICAgIGVuZFg6IHJheWNhc3QuY29sbGlzaW9uLngsXG4gICAgICAgICAgICBlbmRZOiByYXljYXN0LmNvbGxpc2lvbi55XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBfdGhpczIuWC5zdGFnZS5hZGRDaGlsZChyYXkpO1xuXG4gICAgICAgICAgX3RoaXMyLnJheXMucHVzaChyYXkpO1xuICAgICAgICB9KTsgLy8gU29ydCB0aGUgcmF5IGNhc3RzIGNvcnJlY3RseS5cblxuXG4gICAgICAgIF90aGlzMi5oaXRSYXljYXN0cyA9IF90aGlzMi5oaXRSYXljYXN0cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgcmV0dXJuIGEub3JkZXIgLSBiLm9yZGVyO1xuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpczIucHJvamVjdGlvblhVcGRhdGUodywgaCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuWC5zdGFydCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwcm9qZWN0aW9uWFVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9qZWN0aW9uWFVwZGF0ZSh3LCBoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdGhpcy5wcm9qZWN0aW9uWC5jbGVhcigpO1xuICAgICAgdGhpcy5wcm9qZWN0aW9uUmF5cy5mb3JFYWNoKGZ1bmN0aW9uIChyYXkpIHtcbiAgICAgICAgX3RoaXMzLnByb2plY3Rpb25YLnN0YWdlLnJlbW92ZUNoaWxkKHJheSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMucHJvamVjdGlvblJheXMgPSBbXTtcbiAgICAgIHZhciB3aWR0aFBlclJheSA9IHcgKiAwLjUgLyAodGhpcy5oaXRSYXljYXN0cy5sZW5ndGggLSAxKTsgLy8gQ3JlYXRlIGEgcmVjdGFuZ2xlIGZvciBlYWNoIHJheS4gIFRoZSBtb3JlIGRpc3RhbmNlLCB0aGUgbW9yZSBmYWRlZCBpdFxuICAgICAgLy8gc2hvdWxkIGxvb2suXG5cbiAgICAgIHZhciBkZXB0aCA9IDk7XG4gICAgICB2YXIgdmlzaW9uRGlzdGFuY2UgPSAzMDAwO1xuICAgICAgdGhpcy5oaXRSYXljYXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyYXksIGkpIHtcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gcmF5LmRpc3RhbmNlO1xuICAgICAgICB2YXIgc2NhbGUgPSBkaXN0YW5jZSAvIHZpc2lvbkRpc3RhbmNlO1xuICAgICAgICBzY2FsZSA9IDEgLSBtYXRoZi5jbGFtcDAxKHNjYWxlKTsgLy8gQXZvaWQgZmlzaGV5ZSBzbyB1c2Ugc3F1YXJlLlxuXG4gICAgICAgIHNjYWxlID0gTWF0aC5wb3coc2NhbGUsIGRlcHRoKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgubWF4KGggKiBzY2FsZSwgMSk7XG4gICAgICAgIHZhciBoYWxmSGVpZ2h0ID0gaGVpZ2h0IC8gMjtcbiAgICAgICAgdmFyIGNlbnRlclYgPSBoIC8gMjtcbiAgICAgICAgdmFyIHJlY3QgPSBuZXcgWExpbmUoe1xuICAgICAgICAgIHN0YXJ0WDogaSAqIHdpZHRoUGVyUmF5ICsgMSxcbiAgICAgICAgICBzdGFydFk6IGNlbnRlclYgLSBoYWxmSGVpZ2h0LFxuICAgICAgICAgIGxpbmVXaWR0aDogd2lkdGhQZXJSYXkgKyAxLFxuICAgICAgICAgIHN0cm9rZVN0eWxlOiAncmVkJyxcbiAgICAgICAgICBlbmRYOiBpICogd2lkdGhQZXJSYXksXG4gICAgICAgICAgZW5kWTogY2VudGVyViArIGhhbGZIZWlnaHQsXG4gICAgICAgICAgYWxwaGE6IE1hdGgubWF4KDAuMSwgc2NhbGUpXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZmxvb3IgPSBuZXcgWExpbmUoe1xuICAgICAgICAgIHN0YXJ0WDogaSAqIHdpZHRoUGVyUmF5ICsgMSxcbiAgICAgICAgICBzdGFydFk6IGNlbnRlclYgKyBoYWxmSGVpZ2h0LFxuICAgICAgICAgIGxpbmVXaWR0aDogd2lkdGhQZXJSYXkgKyAxLFxuICAgICAgICAgIHJhZGlhbEdyYWRpZW50OiB7XG4gICAgICAgICAgICB4MDogaSAqIHdpZHRoUGVyUmF5ICsgMSxcbiAgICAgICAgICAgIHkwOiBjZW50ZXJWICsgaGFsZkhlaWdodCxcbiAgICAgICAgICAgIHIwOiAxMDAsXG4gICAgICAgICAgICB4MTogaSAqIHdpZHRoUGVyUmF5ICsgMSxcbiAgICAgICAgICAgIHkxOiBoLFxuICAgICAgICAgICAgcjE6IDUwMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZ3JhZGllbnRTdG9wczogW3tcbiAgICAgICAgICAgIHN0b3A6IDAsXG4gICAgICAgICAgICBjb2xvcjogJyMwMTAxMDEnXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgc3RvcDogMSxcbiAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnXG4gICAgICAgICAgfV0sXG4gICAgICAgICAgZW5kWDogaSAqIHdpZHRoUGVyUmF5LFxuICAgICAgICAgIGVuZFk6IGgsXG4gICAgICAgICAgYWxwaGE6IDEgLy8gYWxwaGE6IE1hdGgubWF4KDAuMSwgc2NhbGUpXG5cbiAgICAgICAgfSk7IC8vIGNvbnN0IHRleHQgPVxuICAgICAgICAvLyAgICAgbmV3IFhMaW5lKHtcbiAgICAgICAgLy8gICAgICAgICBmaWxsU3R5bGU6ICd3aGl0ZScsXG4gICAgICAgIC8vICAgICAgICAgeDogaSAqIHdpZHRoUGVyUmF5ICsgMSxcbiAgICAgICAgLy8gICAgICAgICB5OiBoLFxuICAgICAgICAvLyAgICAgICAgIHRleHQ6IHJheS5kaXN0YW5jZVxuICAgICAgICAvLyAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMzLnByb2plY3Rpb25SYXlzLnB1c2gocmVjdCk7XG5cbiAgICAgICAgX3RoaXMzLnByb2plY3Rpb25SYXlzLnB1c2goZmxvb3IpOyAvLyB0aGlzLnByb2plY3Rpb25SYXlzLnB1c2godGV4dCk7XG5cblxuICAgICAgICBfdGhpczMucHJvamVjdGlvblguc3RhZ2UuYWRkQ2hpbGQocmVjdCk7XG5cbiAgICAgICAgX3RoaXMzLnByb2plY3Rpb25YLnN0YWdlLmFkZENoaWxkKGZsb29yKTsgLy8gdGhpcy5wcm9qZWN0aW9uWC5zdGFnZS5hZGRDaGlsZCh0ZXh0KTtcblxuICAgICAgfSk7IC8vIGNvbnNvbGUubG9nKHRoaXMucHJvamVjdGlvblJheXNbMF0pO1xuXG4gICAgICB0aGlzLnByb2plY3Rpb25YLmdhbWVMb29wKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJheUNhc3RpbmczU2FtcGxlO1xufSgpO1xuXG5leHBvcnQgeyBSYXlDYXN0aW5nM1NhbXBsZSBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/raycasting3.js\n");

/***/ }),

/***/ "./examples/scripts/index.js":
/*!***********************************!*\
  !*** ./examples/scripts/index.js ***!
  \***********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _styles_index_sass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../styles/index.sass */ \"./examples/styles/index.sass\");\n/* harmony import */ var _styles_index_sass__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_styles_index_sass__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var intersection_observer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! intersection-observer */ \"./node_modules/intersection-observer/intersection-observer.js\");\n/* harmony import */ var intersection_observer__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(intersection_observer__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _bezier_curve__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../bezier-curve */ \"./examples/bezier-curve.js\");\n/* harmony import */ var _canvas_image_sequence__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../canvas-image-sequence */ \"./examples/canvas-image-sequence.js\");\n/* harmony import */ var _canvas_image_sequence10__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../canvas-image-sequence10 */ \"./examples/canvas-image-sequence10.js\");\n/* harmony import */ var _canvas_image_sequence2__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../canvas-image-sequence2 */ \"./examples/canvas-image-sequence2.js\");\n/* harmony import */ var _canvas_image_sequence3__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../canvas-image-sequence3 */ \"./examples/canvas-image-sequence3.js\");\n/* harmony import */ var _canvas_image_sequence4__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../canvas-image-sequence4 */ \"./examples/canvas-image-sequence4.js\");\n/* harmony import */ var _canvas_image_sequence5__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../canvas-image-sequence5 */ \"./examples/canvas-image-sequence5.js\");\n/* harmony import */ var _canvas_image_sequence7__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../canvas-image-sequence7 */ \"./examples/canvas-image-sequence7.js\");\n/* harmony import */ var _canvas_image_sequence8__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../canvas-image-sequence8 */ \"./examples/canvas-image-sequence8.js\");\n/* harmony import */ var _canvas_image_sequence9__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../canvas-image-sequence9 */ \"./examples/canvas-image-sequence9.js\");\n/* harmony import */ var _carousel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../carousel */ \"./examples/carousel.js\");\n/* harmony import */ var _catmull_rom__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../catmull-rom */ \"./examples/catmull-rom.js\");\n/* harmony import */ var _css_var_interpolate__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../css-var-interpolate */ \"./examples/css-var-interpolate.js\");\n/* harmony import */ var _css_var_interpolate2__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../css-var-interpolate2 */ \"./examples/css-var-interpolate2.js\");\n/* harmony import */ var _css_var_interpolate3__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../css-var-interpolate3 */ \"./examples/css-var-interpolate3.js\");\n/* harmony import */ var _dom_canvas__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../dom-canvas */ \"./examples/dom-canvas.js\");\n/* harmony import */ var _dom_watcher__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../dom-watcher */ \"./examples/dom-watcher.js\");\n/* harmony import */ var _easer_disable_raf__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../easer-disable-raf */ \"./examples/easer-disable-raf.js\");\n/* harmony import */ var _easer__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../easer */ \"./examples/easer.js\");\n/* harmony import */ var _glsl_playground__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../glsl-playground */ \"./examples/glsl-playground.js\");\n/* harmony import */ var _glsl_playground2__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../glsl-playground2 */ \"./examples/glsl-playground2.js\");\n/* harmony import */ var _glsl_playground3__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../glsl-playground3 */ \"./examples/glsl-playground3.js\");\n/* harmony import */ var _glsl_playground4__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../glsl-playground4 */ \"./examples/glsl-playground4.js\");\n/* harmony import */ var _glsl_playground5__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../glsl-playground5 */ \"./examples/glsl-playground5.js\");\n/* harmony import */ var _glsl_playground6__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../glsl-playground6 */ \"./examples/glsl-playground6.js\");\n/* harmony import */ var _glsl_playground7__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../glsl-playground7 */ \"./examples/glsl-playground7.js\");\n/* harmony import */ var _glsl_playground8__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../glsl-playground8 */ \"./examples/glsl-playground8.js\");\n/* harmony import */ var _glsl_playground9__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../glsl-playground9 */ \"./examples/glsl-playground9.js\");\n/* harmony import */ var _glsl_playground10__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../glsl-playground10 */ \"./examples/glsl-playground10.js\");\n/* harmony import */ var _glsl_playground11__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../glsl-playground11 */ \"./examples/glsl-playground11.js\");\n/* harmony import */ var _glsl_playground12__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../glsl-playground12 */ \"./examples/glsl-playground12.js\");\n/* harmony import */ var _glsl_playground13__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../glsl-playground13 */ \"./examples/glsl-playground13.js\");\n/* harmony import */ var _glsl_playground14__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../glsl-playground14 */ \"./examples/glsl-playground14.js\");\n/* harmony import */ var _glsl_playground15__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../glsl-playground15 */ \"./examples/glsl-playground15.js\");\n/* harmony import */ var _glsl_playground16__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../glsl-playground16 */ \"./examples/glsl-playground16.js\");\n/* harmony import */ var _glsl_playground17__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../glsl-playground17 */ \"./examples/glsl-playground17.js\");\n/* harmony import */ var _glsl_playground18__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../glsl-playground18 */ \"./examples/glsl-playground18.js\");\n/* harmony import */ var _glsl_playground19__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../glsl-playground19 */ \"./examples/glsl-playground19.js\");\n/* harmony import */ var _glsl_playground20__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../glsl-playground20 */ \"./examples/glsl-playground20.js\");\n/* harmony import */ var _glsl_playground21__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../glsl-playground21 */ \"./examples/glsl-playground21.js\");\n/* harmony import */ var _glsl_playground22__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../glsl-playground22 */ \"./examples/glsl-playground22.js\");\n/* harmony import */ var _glsl_playground23__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../glsl-playground23 */ \"./examples/glsl-playground23.js\");\n/* harmony import */ var _glsl_playground24__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../glsl-playground24 */ \"./examples/glsl-playground24.js\");\n/* harmony import */ var _glsl_playground25__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../glsl-playground25 */ \"./examples/glsl-playground25.js\");\n/* harmony import */ var _glsl_playground26__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../glsl-playground26 */ \"./examples/glsl-playground26.js\");\n/* harmony import */ var _glsl_playground27__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../glsl-playground27 */ \"./examples/glsl-playground27.js\");\n/* harmony import */ var _glsl_playground28__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../glsl-playground28 */ \"./examples/glsl-playground28.js\");\n/* harmony import */ var _glsl_playground29__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../glsl-playground29 */ \"./examples/glsl-playground29.js\");\n/* harmony import */ var _glsl_playground30__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../glsl-playground30 */ \"./examples/glsl-playground30.js\");\n/* harmony import */ var _hermite_curve__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../hermite-curve */ \"./examples/hermite-curve.js\");\n/* harmony import */ var _interpolate__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ../interpolate */ \"./examples/interpolate.js\");\n/* harmony import */ var _mathf_ease__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ../mathf-ease */ \"./examples/mathf-ease.js\");\n/* harmony import */ var _matrixIV__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ../matrixIV */ \"./examples/matrixIV.js\");\n/* harmony import */ var _matrixIV2__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ../matrixIV2 */ \"./examples/matrixIV2.js\");\n/* harmony import */ var _matrixIV3__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ../matrixIV3 */ \"./examples/matrixIV3.js\");\n/* harmony import */ var _multi_interpolate__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ../multi-interpolate */ \"./examples/multi-interpolate.js\");\n/* harmony import */ var _off_screen_canvas__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../off-screen-canvas */ \"./examples/off-screen-canvas.js\");\n/* harmony import */ var _perlin_noise__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ../perlin-noise */ \"./examples/perlin-noise.js\");\n/* harmony import */ var _playground__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ../playground */ \"./examples/playground.js\");\n/* harmony import */ var _pseudo_3d_canvas__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ../pseudo-3d-canvas */ \"./examples/pseudo-3d-canvas.js\");\n/* harmony import */ var _quaternion__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ../quaternion */ \"./examples/quaternion.js\");\n/* harmony import */ var _raf_progress__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ../raf-progress */ \"./examples/raf-progress.js\");\n/* harmony import */ var _raf__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ../raf */ \"./examples/raf.js\");\n/* harmony import */ var _raf2__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ../raf2 */ \"./examples/raf2.js\");\n/* harmony import */ var _raf_timer__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ../raf-timer */ \"./examples/raf-timer.js\");\n/* harmony import */ var _raycasting2__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ../raycasting2 */ \"./examples/raycasting2.js\");\n/* harmony import */ var _raycasting3__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ../raycasting3 */ \"./examples/raycasting3.js\");\n/* harmony import */ var _raycasting__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ../raycasting */ \"./examples/raycasting.js\");\n/* harmony import */ var _scroll_demo__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ../scroll-demo */ \"./examples/scroll-demo.js\");\n/* harmony import */ var _scroll_demo2__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ../scroll-demo2 */ \"./examples/scroll-demo2.js\");\n/* harmony import */ var _scroll_demo3__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ../scroll-demo3 */ \"./examples/scroll-demo3.js\");\n/* harmony import */ var _scroll_demo4__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ../scroll-demo4 */ \"./examples/scroll-demo4.js\");\n/* harmony import */ var _scroll_demo5__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! ../scroll-demo5 */ \"./examples/scroll-demo5.js\");\n/* harmony import */ var _text_split__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! ../text-split */ \"./examples/text-split.js\");\n/* harmony import */ var _three_scene_renderer__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! ../three-scene-renderer */ \"./examples/three-scene-renderer.js\");\n/* harmony import */ var _three_scene_renderer2__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! ../three-scene-renderer2 */ \"./examples/three-scene-renderer2.js\");\n/* harmony import */ var _three_light_test__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! ../three-light-test */ \"./examples/three-light-test.js\");\n/* harmony import */ var _three_light_test2__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! ../three-light-test2 */ \"./examples/three-light-test2.js\");\n/* harmony import */ var _three_object_viewer__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! ../three-object-viewer */ \"./examples/three-object-viewer.js\");\n/* harmony import */ var _three_object_viewer10__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! ../three-object-viewer10 */ \"./examples/three-object-viewer10.js\");\n/* harmony import */ var _three_object_viewer11__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! ../three-object-viewer11 */ \"./examples/three-object-viewer11.js\");\n/* harmony import */ var _three_object_viewer2__WEBPACK_IMPORTED_MODULE_83__ = __webpack_require__(/*! ../three-object-viewer2 */ \"./examples/three-object-viewer2.js\");\n/* harmony import */ var _three_object_viewer3__WEBPACK_IMPORTED_MODULE_84__ = __webpack_require__(/*! ../three-object-viewer3 */ \"./examples/three-object-viewer3.js\");\n/* harmony import */ var _three_object_viewer4__WEBPACK_IMPORTED_MODULE_85__ = __webpack_require__(/*! ../three-object-viewer4 */ \"./examples/three-object-viewer4.js\");\n/* harmony import */ var _three_object_viewer5__WEBPACK_IMPORTED_MODULE_86__ = __webpack_require__(/*! ../three-object-viewer5 */ \"./examples/three-object-viewer5.js\");\n/* harmony import */ var _three_object_viewer6__WEBPACK_IMPORTED_MODULE_87__ = __webpack_require__(/*! ../three-object-viewer6 */ \"./examples/three-object-viewer6.js\");\n/* harmony import */ var _three_object_viewer7__WEBPACK_IMPORTED_MODULE_88__ = __webpack_require__(/*! ../three-object-viewer7 */ \"./examples/three-object-viewer7.js\");\n/* harmony import */ var _three_object_viewer8__WEBPACK_IMPORTED_MODULE_89__ = __webpack_require__(/*! ../three-object-viewer8 */ \"./examples/three-object-viewer8.js\");\n/* harmony import */ var _three_object_viewer9__WEBPACK_IMPORTED_MODULE_90__ = __webpack_require__(/*! ../three-object-viewer9 */ \"./examples/three-object-viewer9.js\");\n/* harmony import */ var _vector_dom__WEBPACK_IMPORTED_MODULE_91__ = __webpack_require__(/*! ../vector-dom */ \"./examples/vector-dom.js\");\n/* harmony import */ var _vector_dom2__WEBPACK_IMPORTED_MODULE_92__ = __webpack_require__(/*! ../vector-dom2 */ \"./examples/vector-dom2.js\");\n/* harmony import */ var _vector_dom3__WEBPACK_IMPORTED_MODULE_93__ = __webpack_require__(/*! ../vector-dom3 */ \"./examples/vector-dom3.js\");\n/* harmony import */ var _video_progress__WEBPACK_IMPORTED_MODULE_94__ = __webpack_require__(/*! ../video-progress */ \"./examples/video-progress.js\");\n/* harmony import */ var _video_player__WEBPACK_IMPORTED_MODULE_95__ = __webpack_require__(/*! ../video-player */ \"./examples/video-player.js\");\n/* harmony import */ var _webgl_image_sequence__WEBPACK_IMPORTED_MODULE_96__ = __webpack_require__(/*! ../webgl-image-sequence */ \"./examples/webgl-image-sequence.js\");\n/* harmony import */ var _webgl_image_sequence2__WEBPACK_IMPORTED_MODULE_97__ = __webpack_require__(/*! ../webgl-image-sequence2 */ \"./examples/webgl-image-sequence2.js\");\n/* harmony import */ var _webgl_image_sequence3__WEBPACK_IMPORTED_MODULE_98__ = __webpack_require__(/*! ../webgl-image-sequence3 */ \"./examples/webgl-image-sequence3.js\");\n/* harmony import */ var _webgl_image_sequence4__WEBPACK_IMPORTED_MODULE_99__ = __webpack_require__(/*! ../webgl-image-sequence4 */ \"./examples/webgl-image-sequence4.js\");\n/* harmony import */ var _webgl_image_sequence5__WEBPACK_IMPORTED_MODULE_100__ = __webpack_require__(/*! ../webgl-image-sequence5 */ \"./examples/webgl-image-sequence5.js\");\n/* harmony import */ var _webgl_image_sequence7__WEBPACK_IMPORTED_MODULE_101__ = __webpack_require__(/*! ../webgl-image-sequence7 */ \"./examples/webgl-image-sequence7.js\");\n/* harmony import */ var _webgl_image_sequence9__WEBPACK_IMPORTED_MODULE_102__ = __webpack_require__(/*! ../webgl-image-sequence9 */ \"./examples/webgl-image-sequence9.js\");\n/* harmony import */ var _x2__WEBPACK_IMPORTED_MODULE_103__ = __webpack_require__(/*! ../x2 */ \"./examples/x2.js\");\n/* harmony import */ var _x__WEBPACK_IMPORTED_MODULE_104__ = __webpack_require__(/*! ../x */ \"./examples/x.js\");\n/* harmony import */ var _inview__WEBPACK_IMPORTED_MODULE_105__ = __webpack_require__(/*! ../inview */ \"./examples/inview.js\");\n/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_106__ = __webpack_require__(/*! ../components */ \"./examples/components.js\");\n/* harmony import */ var _ui_swipe__WEBPACK_IMPORTED_MODULE_107__ = __webpack_require__(/*! ../ui-swipe */ \"./examples/ui-swipe.js\");\n/* harmony import */ var _at_class__WEBPACK_IMPORTED_MODULE_108__ = __webpack_require__(/*! ../at-class */ \"./examples/at-class.js\");\n/* harmony import */ var _at_tabindex__WEBPACK_IMPORTED_MODULE_109__ = __webpack_require__(/*! ../at-tabindex */ \"./examples/at-tabindex.js\");\n/* harmony import */ var _webgl__WEBPACK_IMPORTED_MODULE_110__ = __webpack_require__(/*! ../webgl */ \"./examples/webgl.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n // Examples.\n// import VideoProgressSample from '../playground/video-progress';\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar samples = {\n  'carouselSample': _carousel__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n  'easerDisableRafSample': _easer_disable_raf__WEBPACK_IMPORTED_MODULE_19__[\"default\"],\n  'easerSample': _easer__WEBPACK_IMPORTED_MODULE_20__[\"default\"],\n  'interpolateSample': _interpolate__WEBPACK_IMPORTED_MODULE_52__[\"default\"],\n  'mathfEaseSample': _mathf_ease__WEBPACK_IMPORTED_MODULE_53__[\"default\"],\n  'multiInterpolateSample': _multi_interpolate__WEBPACK_IMPORTED_MODULE_57__[\"default\"],\n  'cssVarInterpolateSample': _css_var_interpolate__WEBPACK_IMPORTED_MODULE_14__[\"default\"],\n  'cssVarInterpolateSample2': _css_var_interpolate2__WEBPACK_IMPORTED_MODULE_15__[\"default\"],\n  'cssVarInterpolateSample3': _css_var_interpolate3__WEBPACK_IMPORTED_MODULE_16__[\"default\"],\n  'canvasImageSequenceSample': _canvas_image_sequence__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  'canvasImageSequenceSample2': _canvas_image_sequence2__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n  'canvasImageSequenceSample3': _canvas_image_sequence3__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n  'canvasImageSequenceSample4': _canvas_image_sequence4__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n  'canvasImageSequenceSample5': _canvas_image_sequence5__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n  'canvasImageSequenceSample7': _canvas_image_sequence7__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n  'canvasImageSequenceSample8': _canvas_image_sequence8__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n  'canvasImageSequenceSample9': _canvas_image_sequence9__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n  'canvasImageSequenceSample10': _canvas_image_sequence10__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n  'webglImageSequenceSample': _webgl_image_sequence__WEBPACK_IMPORTED_MODULE_96__[\"default\"],\n  'webglImageSequenceSample2': _webgl_image_sequence2__WEBPACK_IMPORTED_MODULE_97__[\"default\"],\n  'webglImageSequenceSample3': _webgl_image_sequence3__WEBPACK_IMPORTED_MODULE_98__[\"default\"],\n  'webglImageSequenceSample4': _webgl_image_sequence4__WEBPACK_IMPORTED_MODULE_99__[\"default\"],\n  'webglImageSequenceSample5': _webgl_image_sequence5__WEBPACK_IMPORTED_MODULE_100__[\"default\"],\n  'webglImageSequenceSample7': _webgl_image_sequence7__WEBPACK_IMPORTED_MODULE_101__[\"default\"],\n  'webglImageSequenceSample9': _webgl_image_sequence9__WEBPACK_IMPORTED_MODULE_102__[\"default\"],\n  'rafSample': _raf__WEBPACK_IMPORTED_MODULE_64__[\"default\"],\n  'rafSample2': _raf2__WEBPACK_IMPORTED_MODULE_65__[\"default\"],\n  'rafTimerSample': _raf_timer__WEBPACK_IMPORTED_MODULE_66__[\"default\"],\n  'rafProgressSample': _raf_progress__WEBPACK_IMPORTED_MODULE_63__[\"default\"],\n  'playgroundSample': _playground__WEBPACK_IMPORTED_MODULE_60__[\"default\"],\n  'offScreenCanvasSample': _off_screen_canvas__WEBPACK_IMPORTED_MODULE_58__[\"default\"],\n  'catmullRomSample': _catmull_rom__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n  'hermitCurveSample': _hermite_curve__WEBPACK_IMPORTED_MODULE_51__[\"default\"],\n  'bezierCurveSample': _bezier_curve__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  'videoProgressSample': _video_progress__WEBPACK_IMPORTED_MODULE_94__[\"default\"],\n  'videoPlayerSample': _video_player__WEBPACK_IMPORTED_MODULE_95__[\"default\"],\n  'matrixIVSample': _matrixIV__WEBPACK_IMPORTED_MODULE_54__[\"default\"],\n  'matrixIVSample2': _matrixIV2__WEBPACK_IMPORTED_MODULE_55__[\"default\"],\n  'matrixIVSample3': _matrixIV3__WEBPACK_IMPORTED_MODULE_56__[\"default\"],\n  'pseudo3dCanvasSample': _pseudo_3d_canvas__WEBPACK_IMPORTED_MODULE_61__[\"default\"],\n  'vectorDomSample': _vector_dom__WEBPACK_IMPORTED_MODULE_91__[\"default\"],\n  'vectorDomSample2': _vector_dom2__WEBPACK_IMPORTED_MODULE_92__[\"default\"],\n  'vectorDomSample3': _vector_dom3__WEBPACK_IMPORTED_MODULE_93__[\"default\"],\n  'rayCastingSample': _raycasting__WEBPACK_IMPORTED_MODULE_69__[\"default\"],\n  'rayCasting2Sample': _raycasting2__WEBPACK_IMPORTED_MODULE_67__[\"default\"],\n  'rayCasting3Sample': _raycasting3__WEBPACK_IMPORTED_MODULE_68__[\"default\"],\n  'quaternionSample': _quaternion__WEBPACK_IMPORTED_MODULE_62__[\"default\"],\n  'xSample': _x__WEBPACK_IMPORTED_MODULE_104__[\"default\"],\n  'x2Sample': _x2__WEBPACK_IMPORTED_MODULE_103__[\"default\"],\n  'domWatcherSample': _dom_watcher__WEBPACK_IMPORTED_MODULE_18__[\"default\"],\n  'domCanvasSample': _dom_canvas__WEBPACK_IMPORTED_MODULE_17__[\"default\"],\n  'perlinNoiseSample': _perlin_noise__WEBPACK_IMPORTED_MODULE_59__[\"default\"],\n  'scrollDemoSample': _scroll_demo__WEBPACK_IMPORTED_MODULE_70__[\"default\"],\n  'scrollDemoSample2': _scroll_demo2__WEBPACK_IMPORTED_MODULE_71__[\"default\"],\n  'scrollDemoSample3': _scroll_demo3__WEBPACK_IMPORTED_MODULE_72__[\"default\"],\n  'scrollDemoSample4': _scroll_demo4__WEBPACK_IMPORTED_MODULE_73__[\"default\"],\n  'scrollDemoSample5': _scroll_demo5__WEBPACK_IMPORTED_MODULE_74__[\"default\"],\n  'threeSceneRenderer': _three_scene_renderer__WEBPACK_IMPORTED_MODULE_76__[\"default\"],\n  'threeSceneRenderer2': _three_scene_renderer2__WEBPACK_IMPORTED_MODULE_77__[\"default\"],\n  'threeLightTest': _three_light_test__WEBPACK_IMPORTED_MODULE_78__[\"default\"],\n  'threeLightTest2': _three_light_test2__WEBPACK_IMPORTED_MODULE_79__[\"default\"],\n  'threeObjectViewer': _three_object_viewer__WEBPACK_IMPORTED_MODULE_80__[\"default\"],\n  'threeObjectViewer2': _three_object_viewer2__WEBPACK_IMPORTED_MODULE_83__[\"default\"],\n  'threeObjectViewer3': _three_object_viewer3__WEBPACK_IMPORTED_MODULE_84__[\"default\"],\n  'threeObjectViewer4': _three_object_viewer4__WEBPACK_IMPORTED_MODULE_85__[\"default\"],\n  'threeObjectViewer5': _three_object_viewer5__WEBPACK_IMPORTED_MODULE_86__[\"default\"],\n  'threeObjectViewer6': _three_object_viewer6__WEBPACK_IMPORTED_MODULE_87__[\"default\"],\n  'threeObjectViewer7': _three_object_viewer7__WEBPACK_IMPORTED_MODULE_88__[\"default\"],\n  'threeObjectViewer8': _three_object_viewer8__WEBPACK_IMPORTED_MODULE_89__[\"default\"],\n  'threeObjectViewer9': _three_object_viewer9__WEBPACK_IMPORTED_MODULE_90__[\"default\"],\n  'threeObjectViewer10': _three_object_viewer10__WEBPACK_IMPORTED_MODULE_81__[\"default\"],\n  'threeObjectViewer11': _three_object_viewer11__WEBPACK_IMPORTED_MODULE_82__[\"default\"],\n  'textSplitSample': _text_split__WEBPACK_IMPORTED_MODULE_75__[\"default\"],\n  'webGlSample': _webgl__WEBPACK_IMPORTED_MODULE_110__[\"default\"],\n  'glslPlayground': _glsl_playground__WEBPACK_IMPORTED_MODULE_21__[\"default\"],\n  'glslPlayground2': _glsl_playground2__WEBPACK_IMPORTED_MODULE_22__[\"default\"],\n  'glslPlayground3': _glsl_playground3__WEBPACK_IMPORTED_MODULE_23__[\"default\"],\n  'glslPlayground4': _glsl_playground4__WEBPACK_IMPORTED_MODULE_24__[\"default\"],\n  'glslPlayground5': _glsl_playground5__WEBPACK_IMPORTED_MODULE_25__[\"default\"],\n  'glslPlayground6': _glsl_playground6__WEBPACK_IMPORTED_MODULE_26__[\"default\"],\n  'glslPlayground7': _glsl_playground7__WEBPACK_IMPORTED_MODULE_27__[\"default\"],\n  'glslPlayground8': _glsl_playground8__WEBPACK_IMPORTED_MODULE_28__[\"default\"],\n  'glslPlayground9': _glsl_playground9__WEBPACK_IMPORTED_MODULE_29__[\"default\"],\n  'glslPlayground10': _glsl_playground10__WEBPACK_IMPORTED_MODULE_30__[\"default\"],\n  'glslPlayground11': _glsl_playground11__WEBPACK_IMPORTED_MODULE_31__[\"default\"],\n  'glslPlayground12': _glsl_playground12__WEBPACK_IMPORTED_MODULE_32__[\"default\"],\n  'glslPlayground13': _glsl_playground13__WEBPACK_IMPORTED_MODULE_33__[\"default\"],\n  'glslPlayground14': _glsl_playground14__WEBPACK_IMPORTED_MODULE_34__[\"default\"],\n  'glslPlayground15': _glsl_playground15__WEBPACK_IMPORTED_MODULE_35__[\"default\"],\n  'glslPlayground16': _glsl_playground16__WEBPACK_IMPORTED_MODULE_36__[\"default\"],\n  'glslPlayground17': _glsl_playground17__WEBPACK_IMPORTED_MODULE_37__[\"default\"],\n  'glslPlayground18': _glsl_playground18__WEBPACK_IMPORTED_MODULE_38__[\"default\"],\n  'glslPlayground19': _glsl_playground19__WEBPACK_IMPORTED_MODULE_39__[\"default\"],\n  'glslPlayground20': _glsl_playground20__WEBPACK_IMPORTED_MODULE_40__[\"default\"],\n  'glslPlayground21': _glsl_playground21__WEBPACK_IMPORTED_MODULE_41__[\"default\"],\n  'glslPlayground22': _glsl_playground22__WEBPACK_IMPORTED_MODULE_42__[\"default\"],\n  'glslPlayground23': _glsl_playground23__WEBPACK_IMPORTED_MODULE_43__[\"default\"],\n  'glslPlayground24': _glsl_playground24__WEBPACK_IMPORTED_MODULE_44__[\"default\"],\n  'glslPlayground25': _glsl_playground25__WEBPACK_IMPORTED_MODULE_45__[\"default\"],\n  'glslPlayground26': _glsl_playground26__WEBPACK_IMPORTED_MODULE_46__[\"default\"],\n  'glslPlayground27': _glsl_playground27__WEBPACK_IMPORTED_MODULE_47__[\"default\"],\n  'glslPlayground28': _glsl_playground28__WEBPACK_IMPORTED_MODULE_48__[\"default\"],\n  'glslPlayground29': _glsl_playground29__WEBPACK_IMPORTED_MODULE_49__[\"default\"],\n  'glslPlayground30': _glsl_playground30__WEBPACK_IMPORTED_MODULE_50__[\"default\"],\n  'inviewSample': _inview__WEBPACK_IMPORTED_MODULE_105__[\"default\"],\n  'ComponentsSample': _components__WEBPACK_IMPORTED_MODULE_106__[\"default\"],\n  'UiSwipeSample': _ui_swipe__WEBPACK_IMPORTED_MODULE_107__[\"default\"],\n  'atClassSample': _at_class__WEBPACK_IMPORTED_MODULE_108__[\"default\"],\n  'atTabIndexSample': _at_tabindex__WEBPACK_IMPORTED_MODULE_109__[\"default\"]\n};\n\nvar Main = /*#__PURE__*/function () {\n  function Main() {\n    _classCallCheck(this, Main);\n\n    this.createClassInstanceFromAttribute_();\n  }\n\n  _createClass(Main, [{\n    key: \"createClassInstanceFromAttribute_\",\n    value: function createClassInstanceFromAttribute_() {\n      // Do a look up of the 'int-sample' data attribute and then\n      // attempt to run an instance of a class with that data attribute name.\n      var element = document.querySelector('[init-sample]');\n\n      if (!element) {\n        return;\n      }\n\n      var className = element.getAttribute('init-sample');\n\n      if (samples[className]) {\n        console.log('Instantiating', className);\n        new samples[className]();\n      }\n    }\n  }]);\n\n  return Main;\n}();\n\nwindow.addEventListener('load', function () {\n  new Main();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9zY3JpcHRzL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvc2NyaXB0cy9pbmRleC5qcz82ZjQ1Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0ICcuLi9zdHlsZXMvaW5kZXguc2Fzcyc7XG5pbXBvcnQgJ2ludGVyc2VjdGlvbi1vYnNlcnZlcic7IC8vIEV4YW1wbGVzLlxuLy8gaW1wb3J0IFZpZGVvUHJvZ3Jlc3NTYW1wbGUgZnJvbSAnLi4vcGxheWdyb3VuZC92aWRlby1wcm9ncmVzcyc7XG5cbmltcG9ydCBCZXppZXJDdXJ2ZVNhbXBsZSBmcm9tICcuLi9iZXppZXItY3VydmUnO1xuaW1wb3J0IENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGUgZnJvbSAnLi4vY2FudmFzLWltYWdlLXNlcXVlbmNlJztcbmltcG9ydCBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlMTAgZnJvbSAnLi4vY2FudmFzLWltYWdlLXNlcXVlbmNlMTAnO1xuaW1wb3J0IENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGUyIGZyb20gJy4uL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZTInO1xuaW1wb3J0IENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGUzIGZyb20gJy4uL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZTMnO1xuaW1wb3J0IENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU0IGZyb20gJy4uL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZTQnO1xuaW1wb3J0IENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU1IGZyb20gJy4uL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZTUnO1xuaW1wb3J0IENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU3IGZyb20gJy4uL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZTcnO1xuaW1wb3J0IENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU4IGZyb20gJy4uL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZTgnO1xuaW1wb3J0IENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU5IGZyb20gJy4uL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZTknO1xuaW1wb3J0IENhcm91c2VsU2FtcGxlIGZyb20gJy4uL2Nhcm91c2VsJztcbmltcG9ydCBDYXRtdWxsUm9tU2FtcGxlIGZyb20gJy4uL2NhdG11bGwtcm9tJztcbmltcG9ydCBDc3NWYXJJbnRlcnBvbGF0ZVNhbXBsZSBmcm9tICcuLi9jc3MtdmFyLWludGVycG9sYXRlJztcbmltcG9ydCBDc3NWYXJJbnRlcnBvbGF0ZVNhbXBsZTIgZnJvbSAnLi4vY3NzLXZhci1pbnRlcnBvbGF0ZTInO1xuaW1wb3J0IENzc1ZhckludGVycG9sYXRlU2FtcGxlMyBmcm9tICcuLi9jc3MtdmFyLWludGVycG9sYXRlMyc7XG5pbXBvcnQgRG9tQ2FudmFzU2FtcGxlIGZyb20gJy4uL2RvbS1jYW52YXMnO1xuaW1wb3J0IERvbVdhdGNoZXJTYW1wbGUgZnJvbSAnLi4vZG9tLXdhdGNoZXInO1xuaW1wb3J0IEVhc2VyRGlzYWJsZVJhZlNhbXBsZSBmcm9tICcuLi9lYXNlci1kaXNhYmxlLXJhZic7XG5pbXBvcnQgRWFzZXJTYW1wbGUgZnJvbSAnLi4vZWFzZXInO1xuaW1wb3J0IEdsc2xQbGF5Z3JvdW5kIGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZCc7XG5pbXBvcnQgR2xzbFBsYXlncm91bmQyIGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDInO1xuaW1wb3J0IEdsc2xQbGF5Z3JvdW5kMyBmcm9tICcuLi9nbHNsLXBsYXlncm91bmQzJztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDQgZnJvbSAnLi4vZ2xzbC1wbGF5Z3JvdW5kNCc7XG5pbXBvcnQgR2xzbFBsYXlncm91bmQ1IGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDUnO1xuaW1wb3J0IEdsc2xQbGF5Z3JvdW5kNiBmcm9tICcuLi9nbHNsLXBsYXlncm91bmQ2JztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDcgZnJvbSAnLi4vZ2xzbC1wbGF5Z3JvdW5kNyc7XG5pbXBvcnQgR2xzbFBsYXlncm91bmQ4IGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDgnO1xuaW1wb3J0IEdsc2xQbGF5Z3JvdW5kOSBmcm9tICcuLi9nbHNsLXBsYXlncm91bmQ5JztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDEwIGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDEwJztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDExIGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDExJztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDEyIGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDEyJztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDEzIGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDEzJztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDE0IGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDE0JztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDE1IGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDE1JztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDE2IGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDE2JztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDE3IGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDE3JztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDE4IGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDE4JztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDE5IGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDE5JztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDIwIGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDIwJztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDIxIGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDIxJztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDIyIGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDIyJztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDIzIGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDIzJztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDI0IGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDI0JztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDI1IGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDI1JztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDI2IGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDI2JztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDI3IGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDI3JztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDI4IGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDI4JztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDI5IGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDI5JztcbmltcG9ydCBHbHNsUGxheWdyb3VuZDMwIGZyb20gJy4uL2dsc2wtcGxheWdyb3VuZDMwJztcbmltcG9ydCBIZXJtaXRlQ3VydmVTYW1wbGUgZnJvbSAnLi4vaGVybWl0ZS1jdXJ2ZSc7XG5pbXBvcnQgSW50ZXJwb2xhdGVTYW1wbGUgZnJvbSAnLi4vaW50ZXJwb2xhdGUnO1xuaW1wb3J0IE1hdGhmRWFzZVNhbXBsZSBmcm9tICcuLi9tYXRoZi1lYXNlJztcbmltcG9ydCBNYXRyaXhJVlNhbXBsZSBmcm9tICcuLi9tYXRyaXhJVic7XG5pbXBvcnQgTWF0cml4SVZTYW1wbGUyIGZyb20gJy4uL21hdHJpeElWMic7XG5pbXBvcnQgTWF0cml4SVZTYW1wbGUzIGZyb20gJy4uL21hdHJpeElWMyc7XG5pbXBvcnQgTXVsdGlJbnRlcnBvbGF0ZVNhbXBsZSBmcm9tICcuLi9tdWx0aS1pbnRlcnBvbGF0ZSc7XG5pbXBvcnQgT2ZmU2NyZWVuQ2FudmFzU2FtcGxlIGZyb20gJy4uL29mZi1zY3JlZW4tY2FudmFzJztcbmltcG9ydCBQZXJsaW5Ob2lzZVNhbXBsZSBmcm9tICcuLi9wZXJsaW4tbm9pc2UnO1xuaW1wb3J0IFBsYXlncm91bmRTYW1wbGUgZnJvbSAnLi4vcGxheWdyb3VuZCc7XG5pbXBvcnQgUHNldWRvM2RDYW52YXNTYW1wbGUgZnJvbSAnLi4vcHNldWRvLTNkLWNhbnZhcyc7XG5pbXBvcnQgUXVhdGVybmlvblNhbXBsZSBmcm9tICcuLi9xdWF0ZXJuaW9uJztcbmltcG9ydCBSYWZQcm9ncmVzc1NhbXBsZSBmcm9tICcuLi9yYWYtcHJvZ3Jlc3MnO1xuaW1wb3J0IFJhZlNhbXBsZSBmcm9tICcuLi9yYWYnO1xuaW1wb3J0IFJhZlNhbXBsZTIgZnJvbSAnLi4vcmFmMic7XG5pbXBvcnQgUmFmVGltZXJTYW1wbGUgZnJvbSAnLi4vcmFmLXRpbWVyJztcbmltcG9ydCBSYXlDYXN0aW5nMlNhbXBsZSBmcm9tICcuLi9yYXljYXN0aW5nMic7XG5pbXBvcnQgUmF5Q2FzdGluZzNTYW1wbGUgZnJvbSAnLi4vcmF5Y2FzdGluZzMnO1xuaW1wb3J0IFJheUNhc3RpbmdTYW1wbGUgZnJvbSAnLi4vcmF5Y2FzdGluZyc7XG5pbXBvcnQgU2Nyb2xsRGVtb1NhbXBsZSBmcm9tICcuLi9zY3JvbGwtZGVtbyc7XG5pbXBvcnQgU2Nyb2xsRGVtb1NhbXBsZTIgZnJvbSAnLi4vc2Nyb2xsLWRlbW8yJztcbmltcG9ydCBTY3JvbGxEZW1vU2FtcGxlMyBmcm9tICcuLi9zY3JvbGwtZGVtbzMnO1xuaW1wb3J0IFNjcm9sbERlbW9TYW1wbGU0IGZyb20gJy4uL3Njcm9sbC1kZW1vNCc7XG5pbXBvcnQgU2Nyb2xsRGVtb1NhbXBsZTUgZnJvbSAnLi4vc2Nyb2xsLWRlbW81JztcbmltcG9ydCBUZXh0U3BsaXRTYW1wbGUgZnJvbSAnLi4vdGV4dC1zcGxpdCc7XG5pbXBvcnQgVGhyZWVTY2VuZVJlbmRlcmVyIGZyb20gJy4uL3RocmVlLXNjZW5lLXJlbmRlcmVyJztcbmltcG9ydCBUaHJlZVNjZW5lUmVuZGVyZXIyIGZyb20gJy4uL3RocmVlLXNjZW5lLXJlbmRlcmVyMic7XG5pbXBvcnQgVGhyZWVMaWdodFRlc3QgZnJvbSAnLi4vdGhyZWUtbGlnaHQtdGVzdCc7XG5pbXBvcnQgVGhyZWVMaWdodFRlc3QyIGZyb20gJy4uL3RocmVlLWxpZ2h0LXRlc3QyJztcbmltcG9ydCBUaHJlZU9iamVjdFZpZXdlciBmcm9tICcuLi90aHJlZS1vYmplY3Qtdmlld2VyJztcbmltcG9ydCBUaHJlZU9iamVjdFZpZXdlcjEwIGZyb20gJy4uL3RocmVlLW9iamVjdC12aWV3ZXIxMCc7XG5pbXBvcnQgVGhyZWVPYmplY3RWaWV3ZXIxMSBmcm9tICcuLi90aHJlZS1vYmplY3Qtdmlld2VyMTEnO1xuaW1wb3J0IFRocmVlT2JqZWN0Vmlld2VyMiBmcm9tICcuLi90aHJlZS1vYmplY3Qtdmlld2VyMic7XG5pbXBvcnQgVGhyZWVPYmplY3RWaWV3ZXIzIGZyb20gJy4uL3RocmVlLW9iamVjdC12aWV3ZXIzJztcbmltcG9ydCBUaHJlZU9iamVjdFZpZXdlcjQgZnJvbSAnLi4vdGhyZWUtb2JqZWN0LXZpZXdlcjQnO1xuaW1wb3J0IFRocmVlT2JqZWN0Vmlld2VyNSBmcm9tICcuLi90aHJlZS1vYmplY3Qtdmlld2VyNSc7XG5pbXBvcnQgVGhyZWVPYmplY3RWaWV3ZXI2IGZyb20gJy4uL3RocmVlLW9iamVjdC12aWV3ZXI2JztcbmltcG9ydCBUaHJlZU9iamVjdFZpZXdlcjcgZnJvbSAnLi4vdGhyZWUtb2JqZWN0LXZpZXdlcjcnO1xuaW1wb3J0IFRocmVlT2JqZWN0Vmlld2VyOCBmcm9tICcuLi90aHJlZS1vYmplY3Qtdmlld2VyOCc7XG5pbXBvcnQgVGhyZWVPYmplY3RWaWV3ZXI5IGZyb20gJy4uL3RocmVlLW9iamVjdC12aWV3ZXI5JztcbmltcG9ydCBWZWN0b3JEb21TYW1wbGUgZnJvbSAnLi4vdmVjdG9yLWRvbSc7XG5pbXBvcnQgVmVjdG9yRG9tU2FtcGxlMiBmcm9tICcuLi92ZWN0b3ItZG9tMic7XG5pbXBvcnQgVmVjdG9yRG9tU2FtcGxlMyBmcm9tICcuLi92ZWN0b3ItZG9tMyc7XG5pbXBvcnQgVmlkZW9Qcm9ncmVzc1NhbXBsZSBmcm9tICcuLi92aWRlby1wcm9ncmVzcyc7XG5pbXBvcnQgVmlkZW9QbGF5ZXJTYW1wbGUgZnJvbSAnLi4vdmlkZW8tcGxheWVyJztcbmltcG9ydCBXZWJHbEltYWdlU2VxdWVuY2VTYW1wbGUgZnJvbSAnLi4vd2ViZ2wtaW1hZ2Utc2VxdWVuY2UnO1xuaW1wb3J0IFdlYkdsSW1hZ2VTZXF1ZW5jZVNhbXBsZTIgZnJvbSAnLi4vd2ViZ2wtaW1hZ2Utc2VxdWVuY2UyJztcbmltcG9ydCBXZWJHbEltYWdlU2VxdWVuY2VTYW1wbGUzIGZyb20gJy4uL3dlYmdsLWltYWdlLXNlcXVlbmNlMyc7XG5pbXBvcnQgV2ViR2xJbWFnZVNlcXVlbmNlU2FtcGxlNCBmcm9tICcuLi93ZWJnbC1pbWFnZS1zZXF1ZW5jZTQnO1xuaW1wb3J0IFdlYkdsSW1hZ2VTZXF1ZW5jZVNhbXBsZTUgZnJvbSAnLi4vd2ViZ2wtaW1hZ2Utc2VxdWVuY2U1JztcbmltcG9ydCBXZWJHbEltYWdlU2VxdWVuY2VTYW1wbGU3IGZyb20gJy4uL3dlYmdsLWltYWdlLXNlcXVlbmNlNyc7XG5pbXBvcnQgV2ViR2xJbWFnZVNlcXVlbmNlU2FtcGxlOSBmcm9tICcuLi93ZWJnbC1pbWFnZS1zZXF1ZW5jZTknO1xuaW1wb3J0IFgyU2FtcGxlIGZyb20gJy4uL3gyJztcbmltcG9ydCBYU2FtcGxlIGZyb20gJy4uL3gnO1xuaW1wb3J0IEludmlld1NhbXBsZSBmcm9tICcuLi9pbnZpZXcnO1xuaW1wb3J0IENvbXBvbmVudHNTYW1wbGUgZnJvbSAnLi4vY29tcG9uZW50cyc7XG5pbXBvcnQgVWlTd2lwZVNhbXBsZSBmcm9tICcuLi91aS1zd2lwZSc7XG5pbXBvcnQgQXRDbGFzc1NhbXBsZSBmcm9tICcuLi9hdC1jbGFzcyc7XG5pbXBvcnQgQXRUYWJJbmRleFNhbXBsZSBmcm9tICcuLi9hdC10YWJpbmRleCc7XG5pbXBvcnQgV2ViR2xTYW1wbGUgZnJvbSAnLi4vd2ViZ2wnO1xudmFyIHNhbXBsZXMgPSB7XG4gICdjYXJvdXNlbFNhbXBsZSc6IENhcm91c2VsU2FtcGxlLFxuICAnZWFzZXJEaXNhYmxlUmFmU2FtcGxlJzogRWFzZXJEaXNhYmxlUmFmU2FtcGxlLFxuICAnZWFzZXJTYW1wbGUnOiBFYXNlclNhbXBsZSxcbiAgJ2ludGVycG9sYXRlU2FtcGxlJzogSW50ZXJwb2xhdGVTYW1wbGUsXG4gICdtYXRoZkVhc2VTYW1wbGUnOiBNYXRoZkVhc2VTYW1wbGUsXG4gICdtdWx0aUludGVycG9sYXRlU2FtcGxlJzogTXVsdGlJbnRlcnBvbGF0ZVNhbXBsZSxcbiAgJ2Nzc1ZhckludGVycG9sYXRlU2FtcGxlJzogQ3NzVmFySW50ZXJwb2xhdGVTYW1wbGUsXG4gICdjc3NWYXJJbnRlcnBvbGF0ZVNhbXBsZTInOiBDc3NWYXJJbnRlcnBvbGF0ZVNhbXBsZTIsXG4gICdjc3NWYXJJbnRlcnBvbGF0ZVNhbXBsZTMnOiBDc3NWYXJJbnRlcnBvbGF0ZVNhbXBsZTMsXG4gICdjYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlJzogQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZSxcbiAgJ2NhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGUyJzogQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTIsXG4gICdjYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlMyc6IENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGUzLFxuICAnY2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTQnOiBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlNCxcbiAgJ2NhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU1JzogQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTUsXG4gICdjYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlNyc6IENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU3LFxuICAnY2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTgnOiBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlOCxcbiAgJ2NhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU5JzogQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTksXG4gICdjYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlMTAnOiBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlMTAsXG4gICd3ZWJnbEltYWdlU2VxdWVuY2VTYW1wbGUnOiBXZWJHbEltYWdlU2VxdWVuY2VTYW1wbGUsXG4gICd3ZWJnbEltYWdlU2VxdWVuY2VTYW1wbGUyJzogV2ViR2xJbWFnZVNlcXVlbmNlU2FtcGxlMixcbiAgJ3dlYmdsSW1hZ2VTZXF1ZW5jZVNhbXBsZTMnOiBXZWJHbEltYWdlU2VxdWVuY2VTYW1wbGUzLFxuICAnd2ViZ2xJbWFnZVNlcXVlbmNlU2FtcGxlNCc6IFdlYkdsSW1hZ2VTZXF1ZW5jZVNhbXBsZTQsXG4gICd3ZWJnbEltYWdlU2VxdWVuY2VTYW1wbGU1JzogV2ViR2xJbWFnZVNlcXVlbmNlU2FtcGxlNSxcbiAgJ3dlYmdsSW1hZ2VTZXF1ZW5jZVNhbXBsZTcnOiBXZWJHbEltYWdlU2VxdWVuY2VTYW1wbGU3LFxuICAnd2ViZ2xJbWFnZVNlcXVlbmNlU2FtcGxlOSc6IFdlYkdsSW1hZ2VTZXF1ZW5jZVNhbXBsZTksXG4gICdyYWZTYW1wbGUnOiBSYWZTYW1wbGUsXG4gICdyYWZTYW1wbGUyJzogUmFmU2FtcGxlMixcbiAgJ3JhZlRpbWVyU2FtcGxlJzogUmFmVGltZXJTYW1wbGUsXG4gICdyYWZQcm9ncmVzc1NhbXBsZSc6IFJhZlByb2dyZXNzU2FtcGxlLFxuICAncGxheWdyb3VuZFNhbXBsZSc6IFBsYXlncm91bmRTYW1wbGUsXG4gICdvZmZTY3JlZW5DYW52YXNTYW1wbGUnOiBPZmZTY3JlZW5DYW52YXNTYW1wbGUsXG4gICdjYXRtdWxsUm9tU2FtcGxlJzogQ2F0bXVsbFJvbVNhbXBsZSxcbiAgJ2hlcm1pdEN1cnZlU2FtcGxlJzogSGVybWl0ZUN1cnZlU2FtcGxlLFxuICAnYmV6aWVyQ3VydmVTYW1wbGUnOiBCZXppZXJDdXJ2ZVNhbXBsZSxcbiAgJ3ZpZGVvUHJvZ3Jlc3NTYW1wbGUnOiBWaWRlb1Byb2dyZXNzU2FtcGxlLFxuICAndmlkZW9QbGF5ZXJTYW1wbGUnOiBWaWRlb1BsYXllclNhbXBsZSxcbiAgJ21hdHJpeElWU2FtcGxlJzogTWF0cml4SVZTYW1wbGUsXG4gICdtYXRyaXhJVlNhbXBsZTInOiBNYXRyaXhJVlNhbXBsZTIsXG4gICdtYXRyaXhJVlNhbXBsZTMnOiBNYXRyaXhJVlNhbXBsZTMsXG4gICdwc2V1ZG8zZENhbnZhc1NhbXBsZSc6IFBzZXVkbzNkQ2FudmFzU2FtcGxlLFxuICAndmVjdG9yRG9tU2FtcGxlJzogVmVjdG9yRG9tU2FtcGxlLFxuICAndmVjdG9yRG9tU2FtcGxlMic6IFZlY3RvckRvbVNhbXBsZTIsXG4gICd2ZWN0b3JEb21TYW1wbGUzJzogVmVjdG9yRG9tU2FtcGxlMyxcbiAgJ3JheUNhc3RpbmdTYW1wbGUnOiBSYXlDYXN0aW5nU2FtcGxlLFxuICAncmF5Q2FzdGluZzJTYW1wbGUnOiBSYXlDYXN0aW5nMlNhbXBsZSxcbiAgJ3JheUNhc3RpbmczU2FtcGxlJzogUmF5Q2FzdGluZzNTYW1wbGUsXG4gICdxdWF0ZXJuaW9uU2FtcGxlJzogUXVhdGVybmlvblNhbXBsZSxcbiAgJ3hTYW1wbGUnOiBYU2FtcGxlLFxuICAneDJTYW1wbGUnOiBYMlNhbXBsZSxcbiAgJ2RvbVdhdGNoZXJTYW1wbGUnOiBEb21XYXRjaGVyU2FtcGxlLFxuICAnZG9tQ2FudmFzU2FtcGxlJzogRG9tQ2FudmFzU2FtcGxlLFxuICAncGVybGluTm9pc2VTYW1wbGUnOiBQZXJsaW5Ob2lzZVNhbXBsZSxcbiAgJ3Njcm9sbERlbW9TYW1wbGUnOiBTY3JvbGxEZW1vU2FtcGxlLFxuICAnc2Nyb2xsRGVtb1NhbXBsZTInOiBTY3JvbGxEZW1vU2FtcGxlMixcbiAgJ3Njcm9sbERlbW9TYW1wbGUzJzogU2Nyb2xsRGVtb1NhbXBsZTMsXG4gICdzY3JvbGxEZW1vU2FtcGxlNCc6IFNjcm9sbERlbW9TYW1wbGU0LFxuICAnc2Nyb2xsRGVtb1NhbXBsZTUnOiBTY3JvbGxEZW1vU2FtcGxlNSxcbiAgJ3RocmVlU2NlbmVSZW5kZXJlcic6IFRocmVlU2NlbmVSZW5kZXJlcixcbiAgJ3RocmVlU2NlbmVSZW5kZXJlcjInOiBUaHJlZVNjZW5lUmVuZGVyZXIyLFxuICAndGhyZWVMaWdodFRlc3QnOiBUaHJlZUxpZ2h0VGVzdCxcbiAgJ3RocmVlTGlnaHRUZXN0Mic6IFRocmVlTGlnaHRUZXN0MixcbiAgJ3RocmVlT2JqZWN0Vmlld2VyJzogVGhyZWVPYmplY3RWaWV3ZXIsXG4gICd0aHJlZU9iamVjdFZpZXdlcjInOiBUaHJlZU9iamVjdFZpZXdlcjIsXG4gICd0aHJlZU9iamVjdFZpZXdlcjMnOiBUaHJlZU9iamVjdFZpZXdlcjMsXG4gICd0aHJlZU9iamVjdFZpZXdlcjQnOiBUaHJlZU9iamVjdFZpZXdlcjQsXG4gICd0aHJlZU9iamVjdFZpZXdlcjUnOiBUaHJlZU9iamVjdFZpZXdlcjUsXG4gICd0aHJlZU9iamVjdFZpZXdlcjYnOiBUaHJlZU9iamVjdFZpZXdlcjYsXG4gICd0aHJlZU9iamVjdFZpZXdlcjcnOiBUaHJlZU9iamVjdFZpZXdlcjcsXG4gICd0aHJlZU9iamVjdFZpZXdlcjgnOiBUaHJlZU9iamVjdFZpZXdlcjgsXG4gICd0aHJlZU9iamVjdFZpZXdlcjknOiBUaHJlZU9iamVjdFZpZXdlcjksXG4gICd0aHJlZU9iamVjdFZpZXdlcjEwJzogVGhyZWVPYmplY3RWaWV3ZXIxMCxcbiAgJ3RocmVlT2JqZWN0Vmlld2VyMTEnOiBUaHJlZU9iamVjdFZpZXdlcjExLFxuICAndGV4dFNwbGl0U2FtcGxlJzogVGV4dFNwbGl0U2FtcGxlLFxuICAnd2ViR2xTYW1wbGUnOiBXZWJHbFNhbXBsZSxcbiAgJ2dsc2xQbGF5Z3JvdW5kJzogR2xzbFBsYXlncm91bmQsXG4gICdnbHNsUGxheWdyb3VuZDInOiBHbHNsUGxheWdyb3VuZDIsXG4gICdnbHNsUGxheWdyb3VuZDMnOiBHbHNsUGxheWdyb3VuZDMsXG4gICdnbHNsUGxheWdyb3VuZDQnOiBHbHNsUGxheWdyb3VuZDQsXG4gICdnbHNsUGxheWdyb3VuZDUnOiBHbHNsUGxheWdyb3VuZDUsXG4gICdnbHNsUGxheWdyb3VuZDYnOiBHbHNsUGxheWdyb3VuZDYsXG4gICdnbHNsUGxheWdyb3VuZDcnOiBHbHNsUGxheWdyb3VuZDcsXG4gICdnbHNsUGxheWdyb3VuZDgnOiBHbHNsUGxheWdyb3VuZDgsXG4gICdnbHNsUGxheWdyb3VuZDknOiBHbHNsUGxheWdyb3VuZDksXG4gICdnbHNsUGxheWdyb3VuZDEwJzogR2xzbFBsYXlncm91bmQxMCxcbiAgJ2dsc2xQbGF5Z3JvdW5kMTEnOiBHbHNsUGxheWdyb3VuZDExLFxuICAnZ2xzbFBsYXlncm91bmQxMic6IEdsc2xQbGF5Z3JvdW5kMTIsXG4gICdnbHNsUGxheWdyb3VuZDEzJzogR2xzbFBsYXlncm91bmQxMyxcbiAgJ2dsc2xQbGF5Z3JvdW5kMTQnOiBHbHNsUGxheWdyb3VuZDE0LFxuICAnZ2xzbFBsYXlncm91bmQxNSc6IEdsc2xQbGF5Z3JvdW5kMTUsXG4gICdnbHNsUGxheWdyb3VuZDE2JzogR2xzbFBsYXlncm91bmQxNixcbiAgJ2dsc2xQbGF5Z3JvdW5kMTcnOiBHbHNsUGxheWdyb3VuZDE3LFxuICAnZ2xzbFBsYXlncm91bmQxOCc6IEdsc2xQbGF5Z3JvdW5kMTgsXG4gICdnbHNsUGxheWdyb3VuZDE5JzogR2xzbFBsYXlncm91bmQxOSxcbiAgJ2dsc2xQbGF5Z3JvdW5kMjAnOiBHbHNsUGxheWdyb3VuZDIwLFxuICAnZ2xzbFBsYXlncm91bmQyMSc6IEdsc2xQbGF5Z3JvdW5kMjEsXG4gICdnbHNsUGxheWdyb3VuZDIyJzogR2xzbFBsYXlncm91bmQyMixcbiAgJ2dsc2xQbGF5Z3JvdW5kMjMnOiBHbHNsUGxheWdyb3VuZDIzLFxuICAnZ2xzbFBsYXlncm91bmQyNCc6IEdsc2xQbGF5Z3JvdW5kMjQsXG4gICdnbHNsUGxheWdyb3VuZDI1JzogR2xzbFBsYXlncm91bmQyNSxcbiAgJ2dsc2xQbGF5Z3JvdW5kMjYnOiBHbHNsUGxheWdyb3VuZDI2LFxuICAnZ2xzbFBsYXlncm91bmQyNyc6IEdsc2xQbGF5Z3JvdW5kMjcsXG4gICdnbHNsUGxheWdyb3VuZDI4JzogR2xzbFBsYXlncm91bmQyOCxcbiAgJ2dsc2xQbGF5Z3JvdW5kMjknOiBHbHNsUGxheWdyb3VuZDI5LFxuICAnZ2xzbFBsYXlncm91bmQzMCc6IEdsc2xQbGF5Z3JvdW5kMzAsXG4gICdpbnZpZXdTYW1wbGUnOiBJbnZpZXdTYW1wbGUsXG4gICdDb21wb25lbnRzU2FtcGxlJzogQ29tcG9uZW50c1NhbXBsZSxcbiAgJ1VpU3dpcGVTYW1wbGUnOiBVaVN3aXBlU2FtcGxlLFxuICAnYXRDbGFzc1NhbXBsZSc6IEF0Q2xhc3NTYW1wbGUsXG4gICdhdFRhYkluZGV4U2FtcGxlJzogQXRUYWJJbmRleFNhbXBsZVxufTtcblxudmFyIE1haW4gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNYWluKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYWluKTtcblxuICAgIHRoaXMuY3JlYXRlQ2xhc3NJbnN0YW5jZUZyb21BdHRyaWJ1dGVfKCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWFpbiwgW3tcbiAgICBrZXk6IFwiY3JlYXRlQ2xhc3NJbnN0YW5jZUZyb21BdHRyaWJ1dGVfXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUNsYXNzSW5zdGFuY2VGcm9tQXR0cmlidXRlXygpIHtcbiAgICAgIC8vIERvIGEgbG9vayB1cCBvZiB0aGUgJ2ludC1zYW1wbGUnIGRhdGEgYXR0cmlidXRlIGFuZCB0aGVuXG4gICAgICAvLyBhdHRlbXB0IHRvIHJ1biBhbiBpbnN0YW5jZSBvZiBhIGNsYXNzIHdpdGggdGhhdCBkYXRhIGF0dHJpYnV0ZSBuYW1lLlxuICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbaW5pdC1zYW1wbGVdJyk7XG5cbiAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBjbGFzc05hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaW5pdC1zYW1wbGUnKTtcblxuICAgICAgaWYgKHNhbXBsZXNbY2xhc3NOYW1lXSkge1xuICAgICAgICBjb25zb2xlLmxvZygnSW5zdGFudGlhdGluZycsIGNsYXNzTmFtZSk7XG4gICAgICAgIG5ldyBzYW1wbGVzW2NsYXNzTmFtZV0oKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWFpbjtcbn0oKTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gIG5ldyBNYWluKCk7XG59KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/scripts/index.js\n");

/***/ }),

/***/ "./examples/scroll-demo.js":
/*!*********************************!*\
  !*** ./examples/scroll-demo.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ScrollDemoSample; });\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/vector-dom */ \"./lib/dom/vector-dom.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_dom_element_visibility__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/dom/element-visibility */ \"./lib/dom/element-visibility.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\nvar ScrollDemoSample = /*#__PURE__*/function () {\n  function ScrollDemoSample() {\n    var _this = this;\n\n    _classCallCheck(this, ScrollDemoSample);\n\n    console.log('hello');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_1__[\"DomWatcher\"]();\n    this.parentElement = document.getElementById('parent');\n    this.moduleHeight = this.parentElement.offsetHeight;\n    this.childElement = document.getElementById('child'); // Instance of rafProgress.\n\n    var rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__[\"RafProgress\"](); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_4__[\"dom\"].getElementScrolledPercent(_this.parentElement);\n        rafProgress.easeTo(_this.progress, 0.25, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_3__[\"EASE\"].Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.flowerElement = document.getElementById('flower');\n    this.flowerVector = new _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_2__[\"VectorDom\"](this.flowerElement);\n    this.flowerVector.anchorX = 0;\n    this.flowerVector.anchorY = 0;\n    this.flowerVector.init(); // Update progress immediately on load.\n\n    this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_4__[\"dom\"].getElementScrolledPercent(this.parentElement);\n    rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_3__[\"EASE\"].Linear);\n    rafProgress.watch(this.onProgressUpdate.bind(this)); // Element visibility.\n\n    var observer = _lib_dom_element_visibility__WEBPACK_IMPORTED_MODULE_5__[\"elementVisibility\"].inview(document.getElementById('footer-title'), {}, function (element, changes, dispose) {\n      if (changes.isIntersecting) {\n        console.log('inview');\n        element.classList.add('active');\n      } else {\n        console.log('not inview');\n        element.classList.remove('active');\n      }\n    }); // Example of using DOMWatcher to do something when the footer title\n    // is inview.\n\n    var ev = _lib_dom_element_visibility__WEBPACK_IMPORTED_MODULE_5__[\"elementVisibility\"].inview(document.getElementById('footer-title'), {});\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      eventOptions: {\n        passive: true\n      },\n      callback: function callback() {\n        console.log('this should only run when the footer is inview');\n      },\n      runWhen: function runWhen() {\n        return ev.state().inview;\n      }\n    }); // Example of disposing the element visibility after\n    // 10 seconds.\n    // window.setTimeout(() => {\n    //     console.log('dispoed');\n    //     observer.dispose();\n    // }, 10000);\n  } // Runs every time eased progress is updated.\n\n\n  _createClass(ScrollDemoSample, [{\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(easedProgress, direction) {\n      var sin = Math.sin(easedProgress); // Add some rotation per progress update.\n\n      this.flowerVector.rz += 0.1;\n      this.flowerVector.rotation.slerpEulerVector(this.flowerVector.eularRotation, 0.08); // Add some movement.\n\n      var x = (window.innerWidth - this.flowerVector.width) * easedProgress;\n      var y = (window.innerHeight - this.flowerVector.height) * easedProgress; // Since we need to offset.\n\n      var z = 1 * easedProgress - 0.5;\n      this.flowerVector.x = x;\n      this.flowerVector.y = y;\n      this.flowerVector.z = z;\n      this.flowerVector.render();\n    }\n  }]);\n\n  return ScrollDemoSample;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9zY3JvbGwtZGVtby5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3Njcm9sbC1kZW1vLmpzP2ExYWEiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5pbXBvcnQgeyBSYWZQcm9ncmVzcyB9IGZyb20gJy4uL2xpYi9yYWYvcmFmLXByb2dyZXNzJztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9saWIvZG9tL2RvbS13YXRjaGVyJztcbmltcG9ydCB7IFZlY3RvckRvbSB9IGZyb20gJy4uL2xpYi9kb20vdmVjdG9yLWRvbSc7XG5pbXBvcnQgeyBFQVNFIH0gZnJvbSAnLi4vbGliL2Vhc2UvZWFzZSc7XG5pbXBvcnQgeyBkb20gfSBmcm9tICcuLi9saWIvZG9tL2RvbSc7XG5pbXBvcnQgeyBlbGVtZW50VmlzaWJpbGl0eSB9IGZyb20gJy4uL2xpYi9kb20vZWxlbWVudC12aXNpYmlsaXR5JztcblxudmFyIFNjcm9sbERlbW9TYW1wbGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTY3JvbGxEZW1vU2FtcGxlKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2Nyb2xsRGVtb1NhbXBsZSk7XG5cbiAgICBjb25zb2xlLmxvZygnaGVsbG8nKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTtcbiAgICB0aGlzLm1vZHVsZUhlaWdodCA9IHRoaXMucGFyZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgdGhpcy5jaGlsZEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hpbGQnKTsgLy8gSW5zdGFuY2Ugb2YgcmFmUHJvZ3Jlc3MuXG5cbiAgICB2YXIgcmFmUHJvZ3Jlc3MgPSBuZXcgUmFmUHJvZ3Jlc3MoKTsgLy8gVXBkYXRlIHRoZSBwcm9ncmVzcyB2YWx1ZSBwZXIgc2Nyb2xsLlxuXG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Njcm9sbCcsXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soZXZlbnQpIHtcbiAgICAgICAgX3RoaXMucHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudChfdGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICAgICAgcmFmUHJvZ3Jlc3MuZWFzZVRvKF90aGlzLnByb2dyZXNzLCAwLjI1LCBFQVNFLkxpbmVhcik7XG4gICAgICB9LFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmZsb3dlckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmxvd2VyJyk7XG4gICAgdGhpcy5mbG93ZXJWZWN0b3IgPSBuZXcgVmVjdG9yRG9tKHRoaXMuZmxvd2VyRWxlbWVudCk7XG4gICAgdGhpcy5mbG93ZXJWZWN0b3IuYW5jaG9yWCA9IDA7XG4gICAgdGhpcy5mbG93ZXJWZWN0b3IuYW5jaG9yWSA9IDA7XG4gICAgdGhpcy5mbG93ZXJWZWN0b3IuaW5pdCgpOyAvLyBVcGRhdGUgcHJvZ3Jlc3MgaW1tZWRpYXRlbHkgb24gbG9hZC5cblxuICAgIHRoaXMucHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgIHJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAxLCBFQVNFLkxpbmVhcik7XG4gICAgcmFmUHJvZ3Jlc3Mud2F0Y2godGhpcy5vblByb2dyZXNzVXBkYXRlLmJpbmQodGhpcykpOyAvLyBFbGVtZW50IHZpc2liaWxpdHkuXG5cbiAgICB2YXIgb2JzZXJ2ZXIgPSBlbGVtZW50VmlzaWJpbGl0eS5pbnZpZXcoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvb3Rlci10aXRsZScpLCB7fSwgZnVuY3Rpb24gKGVsZW1lbnQsIGNoYW5nZXMsIGRpc3Bvc2UpIHtcbiAgICAgIGlmIChjaGFuZ2VzLmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdpbnZpZXcnKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdub3QgaW52aWV3Jyk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgfSk7IC8vIEV4YW1wbGUgb2YgdXNpbmcgRE9NV2F0Y2hlciB0byBkbyBzb21ldGhpbmcgd2hlbiB0aGUgZm9vdGVyIHRpdGxlXG4gICAgLy8gaXMgaW52aWV3LlxuXG4gICAgdmFyIGV2ID0gZWxlbWVudFZpc2liaWxpdHkuaW52aWV3KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb290ZXItdGl0bGUnKSwge30pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH0sXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCd0aGlzIHNob3VsZCBvbmx5IHJ1biB3aGVuIHRoZSBmb290ZXIgaXMgaW52aWV3Jyk7XG4gICAgICB9LFxuICAgICAgcnVuV2hlbjogZnVuY3Rpb24gcnVuV2hlbigpIHtcbiAgICAgICAgcmV0dXJuIGV2LnN0YXRlKCkuaW52aWV3O1xuICAgICAgfVxuICAgIH0pOyAvLyBFeGFtcGxlIG9mIGRpc3Bvc2luZyB0aGUgZWxlbWVudCB2aXNpYmlsaXR5IGFmdGVyXG4gICAgLy8gMTAgc2Vjb25kcy5cbiAgICAvLyB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgLy8gICAgIGNvbnNvbGUubG9nKCdkaXNwb2VkJyk7XG4gICAgLy8gICAgIG9ic2VydmVyLmRpc3Bvc2UoKTtcbiAgICAvLyB9LCAxMDAwMCk7XG4gIH0gLy8gUnVucyBldmVyeSB0aW1lIGVhc2VkIHByb2dyZXNzIGlzIHVwZGF0ZWQuXG5cblxuICBfY3JlYXRlQ2xhc3MoU2Nyb2xsRGVtb1NhbXBsZSwgW3tcbiAgICBrZXk6IFwib25Qcm9ncmVzc1VwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblByb2dyZXNzVXBkYXRlKGVhc2VkUHJvZ3Jlc3MsIGRpcmVjdGlvbikge1xuICAgICAgdmFyIHNpbiA9IE1hdGguc2luKGVhc2VkUHJvZ3Jlc3MpOyAvLyBBZGQgc29tZSByb3RhdGlvbiBwZXIgcHJvZ3Jlc3MgdXBkYXRlLlxuXG4gICAgICB0aGlzLmZsb3dlclZlY3Rvci5yeiArPSAwLjE7XG4gICAgICB0aGlzLmZsb3dlclZlY3Rvci5yb3RhdGlvbi5zbGVycEV1bGVyVmVjdG9yKHRoaXMuZmxvd2VyVmVjdG9yLmV1bGFyUm90YXRpb24sIDAuMDgpOyAvLyBBZGQgc29tZSBtb3ZlbWVudC5cblxuICAgICAgdmFyIHggPSAod2luZG93LmlubmVyV2lkdGggLSB0aGlzLmZsb3dlclZlY3Rvci53aWR0aCkgKiBlYXNlZFByb2dyZXNzO1xuICAgICAgdmFyIHkgPSAod2luZG93LmlubmVySGVpZ2h0IC0gdGhpcy5mbG93ZXJWZWN0b3IuaGVpZ2h0KSAqIGVhc2VkUHJvZ3Jlc3M7IC8vIFNpbmNlIHdlIG5lZWQgdG8gb2Zmc2V0LlxuXG4gICAgICB2YXIgeiA9IDEgKiBlYXNlZFByb2dyZXNzIC0gMC41O1xuICAgICAgdGhpcy5mbG93ZXJWZWN0b3IueCA9IHg7XG4gICAgICB0aGlzLmZsb3dlclZlY3Rvci55ID0geTtcbiAgICAgIHRoaXMuZmxvd2VyVmVjdG9yLnogPSB6O1xuICAgICAgdGhpcy5mbG93ZXJWZWN0b3IucmVuZGVyKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNjcm9sbERlbW9TYW1wbGU7XG59KCk7XG5cbmV4cG9ydCB7IFNjcm9sbERlbW9TYW1wbGUgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/scroll-demo.js\n");

/***/ }),

/***/ "./examples/scroll-demo2.js":
/*!**********************************!*\
  !*** ./examples/scroll-demo2.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ScrollDemoSample2; });\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/vector-dom */ \"./lib/dom/vector-dom.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_mathf_catmull_rom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/mathf/catmull-rom */ \"./lib/mathf/catmull-rom.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _lib_mathf_wave__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/mathf/wave */ \"./lib/mathf/wave.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\n\n\n\nvar ScrollDemoSample2 = /*#__PURE__*/function () {\n  function ScrollDemoSample2() {\n    var _this = this;\n\n    _classCallCheck(this, ScrollDemoSample2);\n\n    console.log('hello');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.parentElement = document.getElementById('parent');\n    this.moduleHeight = this.parentElement.offsetHeight;\n    this.childElement = document.getElementById('child');\n    this.pointer = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__[\"Vector\"].ZERO;\n    this.easedProgress = 0;\n    this.progress = 0;\n    this.wave = new _lib_mathf_wave__WEBPACK_IMPORTED_MODULE_9__[\"Wave\"](0.03); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_5__[\"dom\"].getElementScrolledPercent(_this.parentElement);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Calculate the mouse position.\n\n    this.domWatcher.add({\n      element: this.childElement,\n      on: 'mousemove',\n      callback: function callback(event) {\n        var pageX;\n        var pageY;\n\n        if (event.touches) {\n          pageX = event.touches[0].pageX;\n          pageY = event.touches[0].pageY;\n        } else {\n          pageX = event.pageX;\n          pageY = event.pageY;\n        }\n\n        var x = pageX - _this.childElement.offsetLeft;\n        var y = pageY - _this.childElement.offsetTop - _this.parentElement.offsetTop; // A pointer vector.\n\n        _this.pointer = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__[\"Vector\"](x, y, 0);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.flowerElement = document.getElementById('flower');\n    this.flowerVector = new _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_3__[\"VectorDom\"](this.flowerElement);\n    this.flowerVector.anchorX = 0;\n    this.flowerVector.anchorY = 0;\n    this.flowerVector.init();\n    this.flowerElement2 = document.getElementById('flower2');\n    this.flowerVector2 = new _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_3__[\"VectorDom\"](this.flowerElement2);\n    this.flowerVector2.anchorX = 0.5;\n    this.flowerVector2.anchorY = 0.5; // keep this flower small.\n\n    this.flowerVector2.z = -0.5; // Center this flower\n\n    this.flowerVector2.setOffset(new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__[\"Vector\"](this.childElement.offsetWidth / 2, this.childElement.offsetHeight / 2));\n    this.flowerVector2.init(); // Update progress immediately on load.\n\n    this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_5__[\"dom\"].getElementScrolledPercent(this.parentElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_0__[\"Raf\"](this.onRaf.bind(this)).start();\n  }\n\n  _createClass(ScrollDemoSample2, [{\n    key: \"onRaf\",\n    value: function onRaf() {\n      this.easedProgress = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_6__[\"mathf\"].lerp(this.easedProgress, this.progress, 0.25);\n      this.wave.update();\n      this.updateFirstFlower();\n      this.updateSecondFlower();\n    }\n    /**\n       * For this flower we will update it's position with acceleration.\n       * The flower should accelerate to the target position + a 10% mouse shift\n       * factor.\n       */\n\n  }, {\n    key: \"updateFirstFlower\",\n    value: function updateFirstFlower() {\n      // Add some movement.\n      var x = (window.innerWidth - this.flowerVector.width) * this.easedProgress;\n      var y = (window.innerHeight - this.flowerVector.height) * this.easedProgress; // Since we need to offset.\n\n      var z = 1 * this.easedProgress - 0.5; // This is the target position.\n\n      var targetPositionVector = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__[\"Vector\"](x, y, z); // Calcualte the distance.\n\n      var distanceVector = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__[\"Vector\"].subtract(targetPositionVector, this.flowerVector.position); // Calculate the distance from the pointer.\n\n      var pointerDistanceVector = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__[\"Vector\"].subtract(this.pointer, this.flowerVector.position); // Add the distance from the target to poitner but we don't want to\n      // make the pointer too strong, so scale it down.\n\n      distanceVector.add(pointerDistanceVector.scale(0.1)); // Add that distance to the acceleration of the flowerVector.\n\n      this.flowerVector.acceleration = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__[\"Vector\"].ease(this.flowerVector.acceleration, distanceVector, 0.8); // Let's dampen the acceleration.\n\n      this.flowerVector.acceleration.lerp(_lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__[\"Vector\"].ZERO, 0.8); // Finally add a little movement to the position itself to create a\n      // floaty feeling.\n\n      var floatyVector = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__[\"Vector\"](0 * this.wave.sinWave, 4 * this.wave.sinWave, 0);\n      this.flowerVector.position.add(floatyVector); // Finally also update alpha.\n\n      this.flowerVector.alpha = 1 * this.easedProgress + 0.5;\n      this.flowerVector.render();\n    }\n  }, {\n    key: \"updateSecondFlower\",\n    value: function updateSecondFlower() {\n      var pointer = this.pointer.clone(); // We don't want the pointer to affect the scale.\n\n      pointer.z = this.flowerVector2.z;\n      var distanceVector = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__[\"Vector\"].subtract(pointer.subtract(this.flowerVector2.offset), this.flowerVector2.position);\n      this.flowerVector2.acceleration = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__[\"Vector\"].ease(this.flowerVector2.acceleration, distanceVector, 0.8);\n      this.flowerVector2.acceleration.lerp(_lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__[\"Vector\"].ZERO, 0.8); // Finally add a little movement to the position itself to create a\n      // floaty feeling.\n\n      var floatyVector = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__[\"Vector\"](0 * this.wave.sinWave, 10 * this.wave.sinWave, 0);\n      this.flowerVector2.position.add(floatyVector);\n      this.flowerVector2.render();\n    }\n  }]);\n\n  return ScrollDemoSample2;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9zY3JvbGwtZGVtbzIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9zY3JvbGwtZGVtbzIuanM/ZmFmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IFJhZlByb2dyZXNzLCBSQUZfUFJPR1JFU1NfRVZFTlRTIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3MnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuaW1wb3J0IHsgVmVjdG9yRG9tIH0gZnJvbSAnLi4vbGliL2RvbS92ZWN0b3ItZG9tJztcbmltcG9ydCB7IEVBU0UgfSBmcm9tICcuLi9saWIvZWFzZS9lYXNlJztcbmltcG9ydCB7IGRvbSB9IGZyb20gJy4uL2xpYi9kb20vZG9tJztcbmltcG9ydCB7IG1hdGhmIH0gZnJvbSAnLi4vbGliL21hdGhmL21hdGhmJztcbmltcG9ydCB7IENhdG11bGxSb20gfSBmcm9tICcuLi9saWIvbWF0aGYvY2F0bXVsbC1yb20nO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vbGliL21hdGhmL3ZlY3Rvcic7XG5pbXBvcnQgeyBXYXZlIH0gZnJvbSAnLi4vbGliL21hdGhmL3dhdmUnO1xuXG52YXIgU2Nyb2xsRGVtb1NhbXBsZTIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTY3JvbGxEZW1vU2FtcGxlMigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNjcm9sbERlbW9TYW1wbGUyKTtcblxuICAgIGNvbnNvbGUubG9nKCdoZWxsbycpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpO1xuICAgIHRoaXMubW9kdWxlSGVpZ2h0ID0gdGhpcy5wYXJlbnRFbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICB0aGlzLmNoaWxkRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGlsZCcpO1xuICAgIHRoaXMucG9pbnRlciA9IFZlY3Rvci5aRVJPO1xuICAgIHRoaXMuZWFzZWRQcm9ncmVzcyA9IDA7XG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgdGhpcy53YXZlID0gbmV3IFdhdmUoMC4wMyk7IC8vIFVwZGF0ZSB0aGUgcHJvZ3Jlc3MgdmFsdWUgcGVyIHNjcm9sbC5cblxuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKGV2ZW50KSB7XG4gICAgICAgIF90aGlzLnByb2dyZXNzID0gZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQoX3RoaXMucGFyZW50RWxlbWVudCk7XG4gICAgICB9LFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTsgLy8gQ2FsY3VsYXRlIHRoZSBtb3VzZSBwb3NpdGlvbi5cblxuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogdGhpcy5jaGlsZEVsZW1lbnQsXG4gICAgICBvbjogJ21vdXNlbW92ZScsXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soZXZlbnQpIHtcbiAgICAgICAgdmFyIHBhZ2VYO1xuICAgICAgICB2YXIgcGFnZVk7XG5cbiAgICAgICAgaWYgKGV2ZW50LnRvdWNoZXMpIHtcbiAgICAgICAgICBwYWdlWCA9IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVg7XG4gICAgICAgICAgcGFnZVkgPSBldmVudC50b3VjaGVzWzBdLnBhZ2VZO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhZ2VYID0gZXZlbnQucGFnZVg7XG4gICAgICAgICAgcGFnZVkgPSBldmVudC5wYWdlWTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB4ID0gcGFnZVggLSBfdGhpcy5jaGlsZEVsZW1lbnQub2Zmc2V0TGVmdDtcbiAgICAgICAgdmFyIHkgPSBwYWdlWSAtIF90aGlzLmNoaWxkRWxlbWVudC5vZmZzZXRUb3AgLSBfdGhpcy5wYXJlbnRFbGVtZW50Lm9mZnNldFRvcDsgLy8gQSBwb2ludGVyIHZlY3Rvci5cblxuICAgICAgICBfdGhpcy5wb2ludGVyID0gbmV3IFZlY3Rvcih4LCB5LCAwKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZmxvd2VyRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbG93ZXInKTtcbiAgICB0aGlzLmZsb3dlclZlY3RvciA9IG5ldyBWZWN0b3JEb20odGhpcy5mbG93ZXJFbGVtZW50KTtcbiAgICB0aGlzLmZsb3dlclZlY3Rvci5hbmNob3JYID0gMDtcbiAgICB0aGlzLmZsb3dlclZlY3Rvci5hbmNob3JZID0gMDtcbiAgICB0aGlzLmZsb3dlclZlY3Rvci5pbml0KCk7XG4gICAgdGhpcy5mbG93ZXJFbGVtZW50MiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbG93ZXIyJyk7XG4gICAgdGhpcy5mbG93ZXJWZWN0b3IyID0gbmV3IFZlY3RvckRvbSh0aGlzLmZsb3dlckVsZW1lbnQyKTtcbiAgICB0aGlzLmZsb3dlclZlY3RvcjIuYW5jaG9yWCA9IDAuNTtcbiAgICB0aGlzLmZsb3dlclZlY3RvcjIuYW5jaG9yWSA9IDAuNTsgLy8ga2VlcCB0aGlzIGZsb3dlciBzbWFsbC5cblxuICAgIHRoaXMuZmxvd2VyVmVjdG9yMi56ID0gLTAuNTsgLy8gQ2VudGVyIHRoaXMgZmxvd2VyXG5cbiAgICB0aGlzLmZsb3dlclZlY3RvcjIuc2V0T2Zmc2V0KG5ldyBWZWN0b3IodGhpcy5jaGlsZEVsZW1lbnQub2Zmc2V0V2lkdGggLyAyLCB0aGlzLmNoaWxkRWxlbWVudC5vZmZzZXRIZWlnaHQgLyAyKSk7XG4gICAgdGhpcy5mbG93ZXJWZWN0b3IyLmluaXQoKTsgLy8gVXBkYXRlIHByb2dyZXNzIGltbWVkaWF0ZWx5IG9uIGxvYWQuXG5cbiAgICB0aGlzLnByb2dyZXNzID0gZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICB0aGlzLnJhZiA9IG5ldyBSYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKS5zdGFydCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNjcm9sbERlbW9TYW1wbGUyLCBbe1xuICAgIGtleTogXCJvblJhZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJhZigpIHtcbiAgICAgIHRoaXMuZWFzZWRQcm9ncmVzcyA9IG1hdGhmLmxlcnAodGhpcy5lYXNlZFByb2dyZXNzLCB0aGlzLnByb2dyZXNzLCAwLjI1KTtcbiAgICAgIHRoaXMud2F2ZS51cGRhdGUoKTtcbiAgICAgIHRoaXMudXBkYXRlRmlyc3RGbG93ZXIoKTtcbiAgICAgIHRoaXMudXBkYXRlU2Vjb25kRmxvd2VyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAgICogRm9yIHRoaXMgZmxvd2VyIHdlIHdpbGwgdXBkYXRlIGl0J3MgcG9zaXRpb24gd2l0aCBhY2NlbGVyYXRpb24uXG4gICAgICAgKiBUaGUgZmxvd2VyIHNob3VsZCBhY2NlbGVyYXRlIHRvIHRoZSB0YXJnZXQgcG9zaXRpb24gKyBhIDEwJSBtb3VzZSBzaGlmdFxuICAgICAgICogZmFjdG9yLlxuICAgICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVGaXJzdEZsb3dlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVGaXJzdEZsb3dlcigpIHtcbiAgICAgIC8vIEFkZCBzb21lIG1vdmVtZW50LlxuICAgICAgdmFyIHggPSAod2luZG93LmlubmVyV2lkdGggLSB0aGlzLmZsb3dlclZlY3Rvci53aWR0aCkgKiB0aGlzLmVhc2VkUHJvZ3Jlc3M7XG4gICAgICB2YXIgeSA9ICh3aW5kb3cuaW5uZXJIZWlnaHQgLSB0aGlzLmZsb3dlclZlY3Rvci5oZWlnaHQpICogdGhpcy5lYXNlZFByb2dyZXNzOyAvLyBTaW5jZSB3ZSBuZWVkIHRvIG9mZnNldC5cblxuICAgICAgdmFyIHogPSAxICogdGhpcy5lYXNlZFByb2dyZXNzIC0gMC41OyAvLyBUaGlzIGlzIHRoZSB0YXJnZXQgcG9zaXRpb24uXG5cbiAgICAgIHZhciB0YXJnZXRQb3NpdGlvblZlY3RvciA9IG5ldyBWZWN0b3IoeCwgeSwgeik7IC8vIENhbGN1YWx0ZSB0aGUgZGlzdGFuY2UuXG5cbiAgICAgIHZhciBkaXN0YW5jZVZlY3RvciA9IFZlY3Rvci5zdWJ0cmFjdCh0YXJnZXRQb3NpdGlvblZlY3RvciwgdGhpcy5mbG93ZXJWZWN0b3IucG9zaXRpb24pOyAvLyBDYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGZyb20gdGhlIHBvaW50ZXIuXG5cbiAgICAgIHZhciBwb2ludGVyRGlzdGFuY2VWZWN0b3IgPSBWZWN0b3Iuc3VidHJhY3QodGhpcy5wb2ludGVyLCB0aGlzLmZsb3dlclZlY3Rvci5wb3NpdGlvbik7IC8vIEFkZCB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgdGFyZ2V0IHRvIHBvaXRuZXIgYnV0IHdlIGRvbid0IHdhbnQgdG9cbiAgICAgIC8vIG1ha2UgdGhlIHBvaW50ZXIgdG9vIHN0cm9uZywgc28gc2NhbGUgaXQgZG93bi5cblxuICAgICAgZGlzdGFuY2VWZWN0b3IuYWRkKHBvaW50ZXJEaXN0YW5jZVZlY3Rvci5zY2FsZSgwLjEpKTsgLy8gQWRkIHRoYXQgZGlzdGFuY2UgdG8gdGhlIGFjY2VsZXJhdGlvbiBvZiB0aGUgZmxvd2VyVmVjdG9yLlxuXG4gICAgICB0aGlzLmZsb3dlclZlY3Rvci5hY2NlbGVyYXRpb24gPSBWZWN0b3IuZWFzZSh0aGlzLmZsb3dlclZlY3Rvci5hY2NlbGVyYXRpb24sIGRpc3RhbmNlVmVjdG9yLCAwLjgpOyAvLyBMZXQncyBkYW1wZW4gdGhlIGFjY2VsZXJhdGlvbi5cblxuICAgICAgdGhpcy5mbG93ZXJWZWN0b3IuYWNjZWxlcmF0aW9uLmxlcnAoVmVjdG9yLlpFUk8sIDAuOCk7IC8vIEZpbmFsbHkgYWRkIGEgbGl0dGxlIG1vdmVtZW50IHRvIHRoZSBwb3NpdGlvbiBpdHNlbGYgdG8gY3JlYXRlIGFcbiAgICAgIC8vIGZsb2F0eSBmZWVsaW5nLlxuXG4gICAgICB2YXIgZmxvYXR5VmVjdG9yID0gbmV3IFZlY3RvcigwICogdGhpcy53YXZlLnNpbldhdmUsIDQgKiB0aGlzLndhdmUuc2luV2F2ZSwgMCk7XG4gICAgICB0aGlzLmZsb3dlclZlY3Rvci5wb3NpdGlvbi5hZGQoZmxvYXR5VmVjdG9yKTsgLy8gRmluYWxseSBhbHNvIHVwZGF0ZSBhbHBoYS5cblxuICAgICAgdGhpcy5mbG93ZXJWZWN0b3IuYWxwaGEgPSAxICogdGhpcy5lYXNlZFByb2dyZXNzICsgMC41O1xuICAgICAgdGhpcy5mbG93ZXJWZWN0b3IucmVuZGVyKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVNlY29uZEZsb3dlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVTZWNvbmRGbG93ZXIoKSB7XG4gICAgICB2YXIgcG9pbnRlciA9IHRoaXMucG9pbnRlci5jbG9uZSgpOyAvLyBXZSBkb24ndCB3YW50IHRoZSBwb2ludGVyIHRvIGFmZmVjdCB0aGUgc2NhbGUuXG5cbiAgICAgIHBvaW50ZXIueiA9IHRoaXMuZmxvd2VyVmVjdG9yMi56O1xuICAgICAgdmFyIGRpc3RhbmNlVmVjdG9yID0gVmVjdG9yLnN1YnRyYWN0KHBvaW50ZXIuc3VidHJhY3QodGhpcy5mbG93ZXJWZWN0b3IyLm9mZnNldCksIHRoaXMuZmxvd2VyVmVjdG9yMi5wb3NpdGlvbik7XG4gICAgICB0aGlzLmZsb3dlclZlY3RvcjIuYWNjZWxlcmF0aW9uID0gVmVjdG9yLmVhc2UodGhpcy5mbG93ZXJWZWN0b3IyLmFjY2VsZXJhdGlvbiwgZGlzdGFuY2VWZWN0b3IsIDAuOCk7XG4gICAgICB0aGlzLmZsb3dlclZlY3RvcjIuYWNjZWxlcmF0aW9uLmxlcnAoVmVjdG9yLlpFUk8sIDAuOCk7IC8vIEZpbmFsbHkgYWRkIGEgbGl0dGxlIG1vdmVtZW50IHRvIHRoZSBwb3NpdGlvbiBpdHNlbGYgdG8gY3JlYXRlIGFcbiAgICAgIC8vIGZsb2F0eSBmZWVsaW5nLlxuXG4gICAgICB2YXIgZmxvYXR5VmVjdG9yID0gbmV3IFZlY3RvcigwICogdGhpcy53YXZlLnNpbldhdmUsIDEwICogdGhpcy53YXZlLnNpbldhdmUsIDApO1xuICAgICAgdGhpcy5mbG93ZXJWZWN0b3IyLnBvc2l0aW9uLmFkZChmbG9hdHlWZWN0b3IpO1xuICAgICAgdGhpcy5mbG93ZXJWZWN0b3IyLnJlbmRlcigpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTY3JvbGxEZW1vU2FtcGxlMjtcbn0oKTtcblxuZXhwb3J0IHsgU2Nyb2xsRGVtb1NhbXBsZTIgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/scroll-demo2.js\n");

/***/ }),

/***/ "./examples/scroll-demo3.js":
/*!**********************************!*\
  !*** ./examples/scroll-demo3.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ScrollDemoSample3; });\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/vector-dom */ \"./lib/dom/vector-dom.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_mathf_catmull_rom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/mathf/catmull-rom */ \"./lib/mathf/catmull-rom.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\n\nvar ScrollDemoSample3 = /*#__PURE__*/function () {\n  function ScrollDemoSample3() {\n    var _this = this;\n\n    _classCallCheck(this, ScrollDemoSample3);\n\n    console.log('Scroll Demo 3');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_1__[\"DomWatcher\"]();\n    this.parentElement = document.getElementById('parent');\n    this.moduleHeight = this.parentElement.offsetHeight;\n    this.childElement = document.getElementById('child'); // Instance of rafProgress.\n\n    var rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__[\"RafProgress\"](); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_4__[\"dom\"].getElementScrolledPercent(_this.parentElement, window.innerHeight);\n        rafProgress.easeTo(_this.progress, 0.08, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_3__[\"EASE\"].Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.flowerElement = document.getElementById('flower');\n    this.flowerVector = new _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_2__[\"VectorDom\"](this.flowerElement);\n    this.flowerVector.anchorX = 0.5;\n    this.flowerVector.anchorY = 0.5;\n    var timeline = [{\n      progress: 0,\n      x: 1200,\n      y: 600,\n      z: 2 - 1,\n      rx: 180,\n      ry: 0,\n      rz: 0,\n      alpha: 0\n    }, {\n      progress: 0.3,\n      x: 100,\n      y: 400,\n      z: 2 - 1,\n      rz: 180,\n      alpha: 1\n    }, {\n      progress: 0.6,\n      x: 0,\n      y: 200,\n      z: 1 - 1,\n      ry: 180,\n      rz: 0\n    }, {\n      progress: 0.8,\n      x: 300,\n      y: 800,\n      z: 0.3 - 1,\n      rx: 20,\n      ry: 20,\n      rz: 90,\n      easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_3__[\"EASE\"].easeInOutCubic\n    }, {\n      progress: 1,\n      x: 400,\n      y: 500,\n      z: 5 - 1,\n      rx: 0,\n      ry: 0,\n      rz: 0\n    }];\n\n    this.flowerVector._.timeline.setTimeline(timeline); // Enable smoothing.\n\n\n    this.flowerVector._.timeline.catmullRomMode = true; // Enable this to force the flowerVectorDom to use the\n    // internal eularRotation as the rotation matrix.  You will\n    // see gimble lock.\n    // this.flowerVector.eularRotationAsRotationMatrix = true;\n\n    this.flowerVector.init();\n    this.cityElement = document.getElementById('city');\n    this.cityVector = new _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_2__[\"VectorDom\"](this.cityElement);\n    this.cityVector.anchorX = 0;\n    this.cityVector.anchorY = 0;\n    timeline = [{\n      progress: 0,\n      x: 0,\n      y: 0,\n      rx: 0,\n      rz: 0,\n      z: 0.5 - 1,\n      alpha: 1,\n      easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_3__[\"EASE\"].easeInOutQuint\n    }, {\n      progress: 0.2,\n      x: 1000,\n      y: 400,\n      rx: 0,\n      rz: 360,\n      z: 0 - 1,\n      alpha: 0,\n      easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_3__[\"EASE\"].easeInOutQuint\n    }];\n\n    this.cityVector._.timeline.setTimeline(timeline);\n\n    this.cityVector.init(); // Create a second VectorDom on the parent element.\n\n    this.parentElement = document.getElementById('parent');\n    this.parentVector = new _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_2__[\"VectorDom\"](this.parentElement, {\n      timeline: {\n        cssOnly: true\n      }\n    });\n\n    this.parentVector._.timeline.setTimeline([{\n      'progress': 0,\n      '--background': 'rgba(255, 129, 0, 1)',\n      '--text-color': '#000000'\n    }, {\n      'progress': 0.5,\n      '--background': 'rgba(255, 153, 204, 1)',\n      '--text-color': '#A56023'\n    }, {\n      'progress': 1,\n      // You can interchange between hex and rgba\n      // since it all converts to rgba.\n      '--background': '#000000',\n      '--text-color': '#FFFFFF'\n    }]);\n\n    this.parentVector.init();\n    this.textElement = document.getElementById('text');\n    this.textVector = new _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_2__[\"VectorDom\"](this.textElement);\n    this.textVector.disableStyleRenders = true; // // // Just doing this via straight css var to demo.\n    // // // You can normally just use the y value.\n\n    this.textVector._.timeline.setTimeline([{\n      'progress': 0.25,\n      '--opacity': 0,\n      '--y': '100px'\n    }, {\n      'progress': 0.3,\n      '--opacity': 1,\n      '--y': '0px'\n    }, {\n      'progress': 0.95,\n      '--opacity': 1,\n      '--y': '0px'\n    }, {\n      'progress': 0.98,\n      '--opacity': 0,\n      '--y': '-100px'\n    }]);\n\n    this.textVector.init(); // Update progress immediately on load.\n\n    this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_4__[\"dom\"].getElementScrolledPercent(this.parentElement, window.innerHeight);\n    this.render(this.progress);\n    rafProgress.setCurrentProgress(this.progress);\n    rafProgress.watch(this.onProgressUpdate.bind(this));\n  }\n\n  _createClass(ScrollDemoSample3, [{\n    key: \"render\",\n    value: function render(easedProgress) {\n      this.parentVector._.timeline.updateProgress(easedProgress);\n\n      this.parentVector.render(true);\n\n      this.textVector._.timeline.updateProgress(easedProgress);\n\n      this.textVector.render(true);\n\n      this.flowerVector._.timeline.updateProgress(easedProgress);\n\n      this.flowerVector.render(true);\n\n      this.cityVector._.timeline.updateProgress(easedProgress);\n\n      this.cityVector.render(true);\n    } // Runs every time eased progress is updated.\n\n  }, {\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(easedProgress, direction) {\n      this.render(easedProgress);\n    }\n  }]);\n\n  return ScrollDemoSample3;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9zY3JvbGwtZGVtbzMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9zY3JvbGwtZGVtbzMuanM/NjYxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCB7IFJhZlByb2dyZXNzLCBSQUZfUFJPR1JFU1NfRVZFTlRTIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3MnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuaW1wb3J0IHsgVmVjdG9yRG9tIH0gZnJvbSAnLi4vbGliL2RvbS92ZWN0b3ItZG9tJztcbmltcG9ydCB7IEVBU0UgfSBmcm9tICcuLi9saWIvZWFzZS9lYXNlJztcbmltcG9ydCB7IGRvbSB9IGZyb20gJy4uL2xpYi9kb20vZG9tJztcbmltcG9ydCB7IG1hdGhmIH0gZnJvbSAnLi4vbGliL21hdGhmL21hdGhmJztcbmltcG9ydCB7IENhdG11bGxSb20gfSBmcm9tICcuLi9saWIvbWF0aGYvY2F0bXVsbC1yb20nO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vbGliL21hdGhmL3ZlY3Rvcic7XG5cbnZhciBTY3JvbGxEZW1vU2FtcGxlMyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNjcm9sbERlbW9TYW1wbGUzKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2Nyb2xsRGVtb1NhbXBsZTMpO1xuXG4gICAgY29uc29sZS5sb2coJ1Njcm9sbCBEZW1vIDMnKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTtcbiAgICB0aGlzLm1vZHVsZUhlaWdodCA9IHRoaXMucGFyZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgdGhpcy5jaGlsZEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hpbGQnKTsgLy8gSW5zdGFuY2Ugb2YgcmFmUHJvZ3Jlc3MuXG5cbiAgICB2YXIgcmFmUHJvZ3Jlc3MgPSBuZXcgUmFmUHJvZ3Jlc3MoKTsgLy8gVXBkYXRlIHRoZSBwcm9ncmVzcyB2YWx1ZSBwZXIgc2Nyb2xsLlxuXG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Njcm9sbCcsXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soZXZlbnQpIHtcbiAgICAgICAgX3RoaXMucHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudChfdGhpcy5wYXJlbnRFbGVtZW50LCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgICByYWZQcm9ncmVzcy5lYXNlVG8oX3RoaXMucHJvZ3Jlc3MsIDAuMDgsIEVBU0UuTGluZWFyKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZmxvd2VyRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbG93ZXInKTtcbiAgICB0aGlzLmZsb3dlclZlY3RvciA9IG5ldyBWZWN0b3JEb20odGhpcy5mbG93ZXJFbGVtZW50KTtcbiAgICB0aGlzLmZsb3dlclZlY3Rvci5hbmNob3JYID0gMC41O1xuICAgIHRoaXMuZmxvd2VyVmVjdG9yLmFuY2hvclkgPSAwLjU7XG4gICAgdmFyIHRpbWVsaW5lID0gW3tcbiAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgeDogMTIwMCxcbiAgICAgIHk6IDYwMCxcbiAgICAgIHo6IDIgLSAxLFxuICAgICAgcng6IDE4MCxcbiAgICAgIHJ5OiAwLFxuICAgICAgcno6IDAsXG4gICAgICBhbHBoYTogMFxuICAgIH0sIHtcbiAgICAgIHByb2dyZXNzOiAwLjMsXG4gICAgICB4OiAxMDAsXG4gICAgICB5OiA0MDAsXG4gICAgICB6OiAyIC0gMSxcbiAgICAgIHJ6OiAxODAsXG4gICAgICBhbHBoYTogMVxuICAgIH0sIHtcbiAgICAgIHByb2dyZXNzOiAwLjYsXG4gICAgICB4OiAwLFxuICAgICAgeTogMjAwLFxuICAgICAgejogMSAtIDEsXG4gICAgICByeTogMTgwLFxuICAgICAgcno6IDBcbiAgICB9LCB7XG4gICAgICBwcm9ncmVzczogMC44LFxuICAgICAgeDogMzAwLFxuICAgICAgeTogODAwLFxuICAgICAgejogMC4zIC0gMSxcbiAgICAgIHJ4OiAyMCxcbiAgICAgIHJ5OiAyMCxcbiAgICAgIHJ6OiA5MCxcbiAgICAgIGVhc2luZ0Z1bmN0aW9uOiBFQVNFLmVhc2VJbk91dEN1YmljXG4gICAgfSwge1xuICAgICAgcHJvZ3Jlc3M6IDEsXG4gICAgICB4OiA0MDAsXG4gICAgICB5OiA1MDAsXG4gICAgICB6OiA1IC0gMSxcbiAgICAgIHJ4OiAwLFxuICAgICAgcnk6IDAsXG4gICAgICByejogMFxuICAgIH1dO1xuXG4gICAgdGhpcy5mbG93ZXJWZWN0b3IuXy50aW1lbGluZS5zZXRUaW1lbGluZSh0aW1lbGluZSk7IC8vIEVuYWJsZSBzbW9vdGhpbmcuXG5cblxuICAgIHRoaXMuZmxvd2VyVmVjdG9yLl8udGltZWxpbmUuY2F0bXVsbFJvbU1vZGUgPSB0cnVlOyAvLyBFbmFibGUgdGhpcyB0byBmb3JjZSB0aGUgZmxvd2VyVmVjdG9yRG9tIHRvIHVzZSB0aGVcbiAgICAvLyBpbnRlcm5hbCBldWxhclJvdGF0aW9uIGFzIHRoZSByb3RhdGlvbiBtYXRyaXguICBZb3Ugd2lsbFxuICAgIC8vIHNlZSBnaW1ibGUgbG9jay5cbiAgICAvLyB0aGlzLmZsb3dlclZlY3Rvci5ldWxhclJvdGF0aW9uQXNSb3RhdGlvbk1hdHJpeCA9IHRydWU7XG5cbiAgICB0aGlzLmZsb3dlclZlY3Rvci5pbml0KCk7XG4gICAgdGhpcy5jaXR5RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaXR5Jyk7XG4gICAgdGhpcy5jaXR5VmVjdG9yID0gbmV3IFZlY3RvckRvbSh0aGlzLmNpdHlFbGVtZW50KTtcbiAgICB0aGlzLmNpdHlWZWN0b3IuYW5jaG9yWCA9IDA7XG4gICAgdGhpcy5jaXR5VmVjdG9yLmFuY2hvclkgPSAwO1xuICAgIHRpbWVsaW5lID0gW3tcbiAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICByeDogMCxcbiAgICAgIHJ6OiAwLFxuICAgICAgejogMC41IC0gMSxcbiAgICAgIGFscGhhOiAxLFxuICAgICAgZWFzaW5nRnVuY3Rpb246IEVBU0UuZWFzZUluT3V0UXVpbnRcbiAgICB9LCB7XG4gICAgICBwcm9ncmVzczogMC4yLFxuICAgICAgeDogMTAwMCxcbiAgICAgIHk6IDQwMCxcbiAgICAgIHJ4OiAwLFxuICAgICAgcno6IDM2MCxcbiAgICAgIHo6IDAgLSAxLFxuICAgICAgYWxwaGE6IDAsXG4gICAgICBlYXNpbmdGdW5jdGlvbjogRUFTRS5lYXNlSW5PdXRRdWludFxuICAgIH1dO1xuXG4gICAgdGhpcy5jaXR5VmVjdG9yLl8udGltZWxpbmUuc2V0VGltZWxpbmUodGltZWxpbmUpO1xuXG4gICAgdGhpcy5jaXR5VmVjdG9yLmluaXQoKTsgLy8gQ3JlYXRlIGEgc2Vjb25kIFZlY3RvckRvbSBvbiB0aGUgcGFyZW50IGVsZW1lbnQuXG5cbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyZW50Jyk7XG4gICAgdGhpcy5wYXJlbnRWZWN0b3IgPSBuZXcgVmVjdG9yRG9tKHRoaXMucGFyZW50RWxlbWVudCwge1xuICAgICAgdGltZWxpbmU6IHtcbiAgICAgICAgY3NzT25seTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5wYXJlbnRWZWN0b3IuXy50aW1lbGluZS5zZXRUaW1lbGluZShbe1xuICAgICAgJ3Byb2dyZXNzJzogMCxcbiAgICAgICctLWJhY2tncm91bmQnOiAncmdiYSgyNTUsIDEyOSwgMCwgMSknLFxuICAgICAgJy0tdGV4dC1jb2xvcic6ICcjMDAwMDAwJ1xuICAgIH0sIHtcbiAgICAgICdwcm9ncmVzcyc6IDAuNSxcbiAgICAgICctLWJhY2tncm91bmQnOiAncmdiYSgyNTUsIDE1MywgMjA0LCAxKScsXG4gICAgICAnLS10ZXh0LWNvbG9yJzogJyNBNTYwMjMnXG4gICAgfSwge1xuICAgICAgJ3Byb2dyZXNzJzogMSxcbiAgICAgIC8vIFlvdSBjYW4gaW50ZXJjaGFuZ2UgYmV0d2VlbiBoZXggYW5kIHJnYmFcbiAgICAgIC8vIHNpbmNlIGl0IGFsbCBjb252ZXJ0cyB0byByZ2JhLlxuICAgICAgJy0tYmFja2dyb3VuZCc6ICcjMDAwMDAwJyxcbiAgICAgICctLXRleHQtY29sb3InOiAnI0ZGRkZGRidcbiAgICB9XSk7XG5cbiAgICB0aGlzLnBhcmVudFZlY3Rvci5pbml0KCk7XG4gICAgdGhpcy50ZXh0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXh0Jyk7XG4gICAgdGhpcy50ZXh0VmVjdG9yID0gbmV3IFZlY3RvckRvbSh0aGlzLnRleHRFbGVtZW50KTtcbiAgICB0aGlzLnRleHRWZWN0b3IuZGlzYWJsZVN0eWxlUmVuZGVycyA9IHRydWU7IC8vIC8vIC8vIEp1c3QgZG9pbmcgdGhpcyB2aWEgc3RyYWlnaHQgY3NzIHZhciB0byBkZW1vLlxuICAgIC8vIC8vIC8vIFlvdSBjYW4gbm9ybWFsbHkganVzdCB1c2UgdGhlIHkgdmFsdWUuXG5cbiAgICB0aGlzLnRleHRWZWN0b3IuXy50aW1lbGluZS5zZXRUaW1lbGluZShbe1xuICAgICAgJ3Byb2dyZXNzJzogMC4yNSxcbiAgICAgICctLW9wYWNpdHknOiAwLFxuICAgICAgJy0teSc6ICcxMDBweCdcbiAgICB9LCB7XG4gICAgICAncHJvZ3Jlc3MnOiAwLjMsXG4gICAgICAnLS1vcGFjaXR5JzogMSxcbiAgICAgICctLXknOiAnMHB4J1xuICAgIH0sIHtcbiAgICAgICdwcm9ncmVzcyc6IDAuOTUsXG4gICAgICAnLS1vcGFjaXR5JzogMSxcbiAgICAgICctLXknOiAnMHB4J1xuICAgIH0sIHtcbiAgICAgICdwcm9ncmVzcyc6IDAuOTgsXG4gICAgICAnLS1vcGFjaXR5JzogMCxcbiAgICAgICctLXknOiAnLTEwMHB4J1xuICAgIH1dKTtcblxuICAgIHRoaXMudGV4dFZlY3Rvci5pbml0KCk7IC8vIFVwZGF0ZSBwcm9ncmVzcyBpbW1lZGlhdGVseSBvbiBsb2FkLlxuXG4gICAgdGhpcy5wcm9ncmVzcyA9IGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICB0aGlzLnJlbmRlcih0aGlzLnByb2dyZXNzKTtcbiAgICByYWZQcm9ncmVzcy5zZXRDdXJyZW50UHJvZ3Jlc3ModGhpcy5wcm9ncmVzcyk7XG4gICAgcmFmUHJvZ3Jlc3Mud2F0Y2godGhpcy5vblByb2dyZXNzVXBkYXRlLmJpbmQodGhpcykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNjcm9sbERlbW9TYW1wbGUzLCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKGVhc2VkUHJvZ3Jlc3MpIHtcbiAgICAgIHRoaXMucGFyZW50VmVjdG9yLl8udGltZWxpbmUudXBkYXRlUHJvZ3Jlc3MoZWFzZWRQcm9ncmVzcyk7XG5cbiAgICAgIHRoaXMucGFyZW50VmVjdG9yLnJlbmRlcih0cnVlKTtcblxuICAgICAgdGhpcy50ZXh0VmVjdG9yLl8udGltZWxpbmUudXBkYXRlUHJvZ3Jlc3MoZWFzZWRQcm9ncmVzcyk7XG5cbiAgICAgIHRoaXMudGV4dFZlY3Rvci5yZW5kZXIodHJ1ZSk7XG5cbiAgICAgIHRoaXMuZmxvd2VyVmVjdG9yLl8udGltZWxpbmUudXBkYXRlUHJvZ3Jlc3MoZWFzZWRQcm9ncmVzcyk7XG5cbiAgICAgIHRoaXMuZmxvd2VyVmVjdG9yLnJlbmRlcih0cnVlKTtcblxuICAgICAgdGhpcy5jaXR5VmVjdG9yLl8udGltZWxpbmUudXBkYXRlUHJvZ3Jlc3MoZWFzZWRQcm9ncmVzcyk7XG5cbiAgICAgIHRoaXMuY2l0eVZlY3Rvci5yZW5kZXIodHJ1ZSk7XG4gICAgfSAvLyBSdW5zIGV2ZXJ5IHRpbWUgZWFzZWQgcHJvZ3Jlc3MgaXMgdXBkYXRlZC5cblxuICB9LCB7XG4gICAga2V5OiBcIm9uUHJvZ3Jlc3NVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9ncmVzc1VwZGF0ZShlYXNlZFByb2dyZXNzLCBkaXJlY3Rpb24pIHtcbiAgICAgIHRoaXMucmVuZGVyKGVhc2VkUHJvZ3Jlc3MpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTY3JvbGxEZW1vU2FtcGxlMztcbn0oKTtcblxuZXhwb3J0IHsgU2Nyb2xsRGVtb1NhbXBsZTMgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/scroll-demo3.js\n");

/***/ }),

/***/ "./examples/scroll-demo4.js":
/*!**********************************!*\
  !*** ./examples/scroll-demo4.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ScrollDemoSample4; });\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/vector-dom */ \"./lib/dom/vector-dom.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_mathf_catmull_rom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/mathf/catmull-rom */ \"./lib/mathf/catmull-rom.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _lib_mathf_wave__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/mathf/wave */ \"./lib/mathf/wave.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\n\n\n\nvar ScrollDemoSample4 = /*#__PURE__*/function () {\n  function ScrollDemoSample4() {\n    var _this = this;\n\n    _classCallCheck(this, ScrollDemoSample4);\n\n    console.log('Scroll Demo 4');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.parentElement = document.getElementById('parent');\n    this.moduleHeight = this.parentElement.offsetHeight;\n    this.childElement = document.getElementById('child');\n    this.easedProgress = 0;\n    this.progress = 0;\n    this.wave = new _lib_mathf_wave__WEBPACK_IMPORTED_MODULE_9__[\"Wave\"](0.03); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_5__[\"dom\"].getElementScrolledPercent(_this.parentElement);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.flowerElements = Array.from(document.querySelectorAll('.flower'));\n    this.flowerVectors = [];\n    var ww = window.innerWidth;\n    var wh = window.innerHeight;\n    var columns = 6;\n    var xIncrement = ww / columns;\n    var yIncrement = wh * 0.2;\n    var row = 0;\n    var column = 0;\n    this.flowerElements.forEach(function (flower, i) {\n      var flowerVector = new _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_3__[\"VectorDom\"](flower);\n      flowerVector.anchorX = 0;\n      flowerVector.anchorY = 0;\n      var x = xIncrement * column;\n      var y = yIncrement * row; // Use the offset feature to generalliy position the element.\n      // We could also use top, left in css to do this as well.\n\n      flowerVector.setOffset(new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__[\"Vector\"](x, y));\n\n      if (i % 2 == 1) {\n        var timeline = [{\n          progress: 0,\n          x: -100,\n          y: -100,\n          rx: -40,\n          ry: 0,\n          rz: -360,\n          z: 0 - 1\n        }, {\n          progress: 0.2,\n          z: 0 - 1\n        }, {\n          progress: 0.5,\n          ry: 90\n        }, {\n          progress: 0.9,\n          x: -200,\n          y: 0,\n          rx: 10,\n          ry: 0,\n          rz: -10,\n          z: 1 - 1\n        }];\n\n        flowerVector._.timeline.setTimeline(timeline);\n      } else {\n        var _timeline = [{\n          'progress': 0,\n          'x': -100,\n          'y': -100,\n          'z': 1 - 1,\n          'rz': 0,\n          'alpha': 1,\n          '--blur': 1\n        }, {\n          progress: 0.8,\n          alpha: 1,\n          easingFunction: _lib_ease_ease__WEBPACK_IMPORTED_MODULE_4__[\"EASE\"].easeInOutQuint\n        }, {\n          'progress': 0.9,\n          'x': -200,\n          'y': 0,\n          'z': 0.2 - 1,\n          'rz': -360,\n          'alpha': 0,\n          '--blur': 0\n        }];\n\n        flowerVector._.timeline.setTimeline(_timeline);\n      }\n\n      flowerVector.id = i;\n      flowerVector.useBoundsForGlobalCalculation = true;\n      flowerVector.waveMovementFactor = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_6__[\"mathf\"].getRandomInt(-20, 20);\n      flowerVector.init();\n\n      _this.flowerVectors.push(flowerVector);\n\n      if (column >= columns) {\n        column = 0;\n        row++;\n      } else {\n        column++;\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_5__[\"dom\"].getElementScrolledPercent(this.parentElement);\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_0__[\"Raf\"](this.onRaf.bind(this)).start();\n  }\n\n  _createClass(ScrollDemoSample4, [{\n    key: \"onRaf\",\n    value: function onRaf() {\n      var _this2 = this;\n\n      this.easedProgress = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_6__[\"mathf\"].lerp(this.easedProgress, this.progress, 0.25);\n      this.wave.update();\n      var invertProgress = 1 - this.easedProgress;\n      this.flowerVectors.forEach(function (vector) {\n        vector._.timeline.updateProgress(_this2.easedProgress); // Add a littie up and down motion.\n\n\n        var floatyVector = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__[\"Vector\"](vector.waveMovementFactor * _this2.wave.sinWave * _this2.easedProgress, // We want the wave effect to be strong bottom and none at the top.\n        vector.waveMovementFactor * _this2.wave.sinWave * _this2.easedProgress, 0);\n        vector.position.add(floatyVector); // if (vector.id % 2 == 1) {\n        //     vector._.force.mouseRotationForce(\n        //         -0.15, -0.15, 0, 0.02\n        //     );\n        // } else {\n        //     vector._.force.scrollYRotationForce(\n        //         0, 0.05, 0, 0.02\n        //     );\n        // }\n\n        vector.render(true);\n      });\n    }\n  }]);\n\n  return ScrollDemoSample4;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9zY3JvbGwtZGVtbzQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9zY3JvbGwtZGVtbzQuanM/Y2Q2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IFJhZlByb2dyZXNzLCBSQUZfUFJPR1JFU1NfRVZFTlRTIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3MnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuaW1wb3J0IHsgVmVjdG9yRG9tIH0gZnJvbSAnLi4vbGliL2RvbS92ZWN0b3ItZG9tJztcbmltcG9ydCB7IEVBU0UgfSBmcm9tICcuLi9saWIvZWFzZS9lYXNlJztcbmltcG9ydCB7IGRvbSB9IGZyb20gJy4uL2xpYi9kb20vZG9tJztcbmltcG9ydCB7IG1hdGhmIH0gZnJvbSAnLi4vbGliL21hdGhmL21hdGhmJztcbmltcG9ydCB7IENhdG11bGxSb20gfSBmcm9tICcuLi9saWIvbWF0aGYvY2F0bXVsbC1yb20nO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vbGliL21hdGhmL3ZlY3Rvcic7XG5pbXBvcnQgeyBXYXZlIH0gZnJvbSAnLi4vbGliL21hdGhmL3dhdmUnO1xuXG52YXIgU2Nyb2xsRGVtb1NhbXBsZTQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTY3JvbGxEZW1vU2FtcGxlNCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNjcm9sbERlbW9TYW1wbGU0KTtcblxuICAgIGNvbnNvbGUubG9nKCdTY3JvbGwgRGVtbyA0Jyk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyZW50Jyk7XG4gICAgdGhpcy5tb2R1bGVIZWlnaHQgPSB0aGlzLnBhcmVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgIHRoaXMuY2hpbGRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoaWxkJyk7XG4gICAgdGhpcy5lYXNlZFByb2dyZXNzID0gMDtcbiAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICB0aGlzLndhdmUgPSBuZXcgV2F2ZSgwLjAzKTsgLy8gVXBkYXRlIHRoZSBwcm9ncmVzcyB2YWx1ZSBwZXIgc2Nyb2xsLlxuXG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Njcm9sbCcsXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soZXZlbnQpIHtcbiAgICAgICAgX3RoaXMucHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudChfdGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZmxvd2VyRWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mbG93ZXInKSk7XG4gICAgdGhpcy5mbG93ZXJWZWN0b3JzID0gW107XG4gICAgdmFyIHd3ID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgdmFyIHdoID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIHZhciBjb2x1bW5zID0gNjtcbiAgICB2YXIgeEluY3JlbWVudCA9IHd3IC8gY29sdW1ucztcbiAgICB2YXIgeUluY3JlbWVudCA9IHdoICogMC4yO1xuICAgIHZhciByb3cgPSAwO1xuICAgIHZhciBjb2x1bW4gPSAwO1xuICAgIHRoaXMuZmxvd2VyRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZmxvd2VyLCBpKSB7XG4gICAgICB2YXIgZmxvd2VyVmVjdG9yID0gbmV3IFZlY3RvckRvbShmbG93ZXIpO1xuICAgICAgZmxvd2VyVmVjdG9yLmFuY2hvclggPSAwO1xuICAgICAgZmxvd2VyVmVjdG9yLmFuY2hvclkgPSAwO1xuICAgICAgdmFyIHggPSB4SW5jcmVtZW50ICogY29sdW1uO1xuICAgICAgdmFyIHkgPSB5SW5jcmVtZW50ICogcm93OyAvLyBVc2UgdGhlIG9mZnNldCBmZWF0dXJlIHRvIGdlbmVyYWxsaXkgcG9zaXRpb24gdGhlIGVsZW1lbnQuXG4gICAgICAvLyBXZSBjb3VsZCBhbHNvIHVzZSB0b3AsIGxlZnQgaW4gY3NzIHRvIGRvIHRoaXMgYXMgd2VsbC5cblxuICAgICAgZmxvd2VyVmVjdG9yLnNldE9mZnNldChuZXcgVmVjdG9yKHgsIHkpKTtcblxuICAgICAgaWYgKGkgJSAyID09IDEpIHtcbiAgICAgICAgdmFyIHRpbWVsaW5lID0gW3tcbiAgICAgICAgICBwcm9ncmVzczogMCxcbiAgICAgICAgICB4OiAtMTAwLFxuICAgICAgICAgIHk6IC0xMDAsXG4gICAgICAgICAgcng6IC00MCxcbiAgICAgICAgICByeTogMCxcbiAgICAgICAgICByejogLTM2MCxcbiAgICAgICAgICB6OiAwIC0gMVxuICAgICAgICB9LCB7XG4gICAgICAgICAgcHJvZ3Jlc3M6IDAuMixcbiAgICAgICAgICB6OiAwIC0gMVxuICAgICAgICB9LCB7XG4gICAgICAgICAgcHJvZ3Jlc3M6IDAuNSxcbiAgICAgICAgICByeTogOTBcbiAgICAgICAgfSwge1xuICAgICAgICAgIHByb2dyZXNzOiAwLjksXG4gICAgICAgICAgeDogLTIwMCxcbiAgICAgICAgICB5OiAwLFxuICAgICAgICAgIHJ4OiAxMCxcbiAgICAgICAgICByeTogMCxcbiAgICAgICAgICByejogLTEwLFxuICAgICAgICAgIHo6IDEgLSAxXG4gICAgICAgIH1dO1xuXG4gICAgICAgIGZsb3dlclZlY3Rvci5fLnRpbWVsaW5lLnNldFRpbWVsaW5lKHRpbWVsaW5lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBfdGltZWxpbmUgPSBbe1xuICAgICAgICAgICdwcm9ncmVzcyc6IDAsXG4gICAgICAgICAgJ3gnOiAtMTAwLFxuICAgICAgICAgICd5JzogLTEwMCxcbiAgICAgICAgICAneic6IDEgLSAxLFxuICAgICAgICAgICdyeic6IDAsXG4gICAgICAgICAgJ2FscGhhJzogMSxcbiAgICAgICAgICAnLS1ibHVyJzogMVxuICAgICAgICB9LCB7XG4gICAgICAgICAgcHJvZ3Jlc3M6IDAuOCxcbiAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICBlYXNpbmdGdW5jdGlvbjogRUFTRS5lYXNlSW5PdXRRdWludFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJ3Byb2dyZXNzJzogMC45LFxuICAgICAgICAgICd4JzogLTIwMCxcbiAgICAgICAgICAneSc6IDAsXG4gICAgICAgICAgJ3onOiAwLjIgLSAxLFxuICAgICAgICAgICdyeic6IC0zNjAsXG4gICAgICAgICAgJ2FscGhhJzogMCxcbiAgICAgICAgICAnLS1ibHVyJzogMFxuICAgICAgICB9XTtcblxuICAgICAgICBmbG93ZXJWZWN0b3IuXy50aW1lbGluZS5zZXRUaW1lbGluZShfdGltZWxpbmUpO1xuICAgICAgfVxuXG4gICAgICBmbG93ZXJWZWN0b3IuaWQgPSBpO1xuICAgICAgZmxvd2VyVmVjdG9yLnVzZUJvdW5kc0Zvckdsb2JhbENhbGN1bGF0aW9uID0gdHJ1ZTtcbiAgICAgIGZsb3dlclZlY3Rvci53YXZlTW92ZW1lbnRGYWN0b3IgPSBtYXRoZi5nZXRSYW5kb21JbnQoLTIwLCAyMCk7XG4gICAgICBmbG93ZXJWZWN0b3IuaW5pdCgpO1xuXG4gICAgICBfdGhpcy5mbG93ZXJWZWN0b3JzLnB1c2goZmxvd2VyVmVjdG9yKTtcblxuICAgICAgaWYgKGNvbHVtbiA+PSBjb2x1bW5zKSB7XG4gICAgICAgIGNvbHVtbiA9IDA7XG4gICAgICAgIHJvdysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29sdW1uKys7XG4gICAgICB9XG4gICAgfSk7IC8vIFVwZGF0ZSBwcm9ncmVzcyBpbW1lZGlhdGVseSBvbiBsb2FkLlxuXG4gICAgdGhpcy5wcm9ncmVzcyA9IGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSkuc3RhcnQoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTY3JvbGxEZW1vU2FtcGxlNCwgW3tcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdGhpcy5lYXNlZFByb2dyZXNzID0gbWF0aGYubGVycCh0aGlzLmVhc2VkUHJvZ3Jlc3MsIHRoaXMucHJvZ3Jlc3MsIDAuMjUpO1xuICAgICAgdGhpcy53YXZlLnVwZGF0ZSgpO1xuICAgICAgdmFyIGludmVydFByb2dyZXNzID0gMSAtIHRoaXMuZWFzZWRQcm9ncmVzcztcbiAgICAgIHRoaXMuZmxvd2VyVmVjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uICh2ZWN0b3IpIHtcbiAgICAgICAgdmVjdG9yLl8udGltZWxpbmUudXBkYXRlUHJvZ3Jlc3MoX3RoaXMyLmVhc2VkUHJvZ3Jlc3MpOyAvLyBBZGQgYSBsaXR0aWUgdXAgYW5kIGRvd24gbW90aW9uLlxuXG5cbiAgICAgICAgdmFyIGZsb2F0eVZlY3RvciA9IG5ldyBWZWN0b3IodmVjdG9yLndhdmVNb3ZlbWVudEZhY3RvciAqIF90aGlzMi53YXZlLnNpbldhdmUgKiBfdGhpczIuZWFzZWRQcm9ncmVzcywgLy8gV2Ugd2FudCB0aGUgd2F2ZSBlZmZlY3QgdG8gYmUgc3Ryb25nIGJvdHRvbSBhbmQgbm9uZSBhdCB0aGUgdG9wLlxuICAgICAgICB2ZWN0b3Iud2F2ZU1vdmVtZW50RmFjdG9yICogX3RoaXMyLndhdmUuc2luV2F2ZSAqIF90aGlzMi5lYXNlZFByb2dyZXNzLCAwKTtcbiAgICAgICAgdmVjdG9yLnBvc2l0aW9uLmFkZChmbG9hdHlWZWN0b3IpOyAvLyBpZiAodmVjdG9yLmlkICUgMiA9PSAxKSB7XG4gICAgICAgIC8vICAgICB2ZWN0b3IuXy5mb3JjZS5tb3VzZVJvdGF0aW9uRm9yY2UoXG4gICAgICAgIC8vICAgICAgICAgLTAuMTUsIC0wLjE1LCAwLCAwLjAyXG4gICAgICAgIC8vICAgICApO1xuICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgdmVjdG9yLl8uZm9yY2Uuc2Nyb2xsWVJvdGF0aW9uRm9yY2UoXG4gICAgICAgIC8vICAgICAgICAgMCwgMC4wNSwgMCwgMC4wMlxuICAgICAgICAvLyAgICAgKTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIHZlY3Rvci5yZW5kZXIodHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2Nyb2xsRGVtb1NhbXBsZTQ7XG59KCk7XG5cbmV4cG9ydCB7IFNjcm9sbERlbW9TYW1wbGU0IGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/scroll-demo4.js\n");

/***/ }),

/***/ "./examples/scroll-demo5.js":
/*!**********************************!*\
  !*** ./examples/scroll-demo5.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ScrollDemoSample5; });\n/* harmony import */ var dat_gui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dat.gui */ \"./node_modules/dat.gui/build/dat.gui.module.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dom/vector-dom */ \"./lib/dom/vector-dom.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_interpolate_css_var_interpolate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/interpolate/css-var-interpolate */ \"./lib/interpolate/css-var-interpolate.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\n\nvar ScrollDemoSample5 = /*#__PURE__*/function () {\n  function ScrollDemoSample5() {\n    var _this = this;\n\n    _classCallCheck(this, ScrollDemoSample5);\n\n    console.log('Sample 5');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__[\"DomWatcher\"]();\n    this.parentElement = document.getElementById('parent');\n    this.moduleHeight = this.parentElement.offsetHeight;\n    this.childElement = document.getElementById('child'); // Instance of rafProgress.\n\n    var rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_2__[\"RafProgress\"]();\n    var raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.raf.bind(this)); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_6__[\"dom\"].getElementScrolledPercent(_this.parentElement);\n        rafProgress.easeTo(_this.progress, 0.08, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_5__[\"EASE\"].Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.flowerElement = document.getElementById('flower');\n    this.flowerVector = new _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_4__[\"VectorDom\"](this.flowerElement);\n    this.flowerVector.anchorX = 0;\n    this.flowerVector.anchorY = 0;\n    var timeline = [{\n      progress: 0,\n      ry: 0,\n      rz: 0,\n      x: 0,\n      y: 0,\n      z: 0.5 - 1\n    }, {\n      progress: 0.2,\n      ry: -90,\n      rz: 180,\n      x: 200,\n      y: 500,\n      z: 0.2 - 1\n    }, {\n      progress: 0.4,\n      ry: 0,\n      rz: -180,\n      x: 400,\n      y: 100,\n      z: 0.5 - 1\n    }, {\n      progress: 0.6,\n      rz: 0,\n      x: 600,\n      y: 400,\n      z: 1 - 1\n    }, {\n      progress: 0.8,\n      rz: 90,\n      x: 800,\n      y: 500,\n      z: 0.3 - 1\n    }, {\n      progress: 1,\n      rz: 0,\n      x: 1000,\n      y: 200,\n      z: 1 - 1\n    }];\n\n    this.flowerVector._.timeline.setTimeline(timeline);\n\n    this.flowerVector.init(); // Use catmull rom mode to make this super smooth between points.\n\n    this.flowerVector._.timeline.catmullRomMode = true;\n    this.flowerVector._.timeline.catmullRomTension = 1; // Update progress immediately on load.\n\n    this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_6__[\"dom\"].getElementScrolledPercent(this.parentElement);\n    rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_5__[\"EASE\"].Linear);\n    rafProgress.watch(this.onProgressUpdate.bind(this)); // Animate the background color of the body with css var interpolate.\n\n    this.cssVarInterpolate = new _lib_interpolate_css_var_interpolate__WEBPACK_IMPORTED_MODULE_7__[\"CssVarInterpolate\"](document.body, {\n      interpolations: [{\n        progress: [{\n          from: 0,\n          to: 0.5,\n          start: 'rgba(255, 128, 0, 0.3)',\n          // orange\n          end: 'rgba(255, 153, 204, 1)' // pink\n\n        }, {\n          from: 0.5,\n          to: 1,\n          start: 'rgba(255, 153, 204, 1)',\n          // pink\n          end: 'rgba(0, 0, 255, 1)' // blue\n\n        }],\n        id: '--background'\n      }]\n    });\n    this.gui = new dat_gui__WEBPACK_IMPORTED_MODULE_0__[\"GUI\"]();\n    var datFolder = this.gui.addFolder('Catmull Rom');\n    datFolder.add(this.flowerVector._.timeline, 'catmullRomMode');\n    datFolder.add(this.flowerVector._.timeline, 'catmullRomTension', -3, 3);\n    raf.start();\n  } // Runs every time eased progress is updated.\n\n\n  _createClass(ScrollDemoSample5, [{\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(easedProgress, direction) {\n      var sin = Math.sin(easedProgress);\n      this.cssVarInterpolate.update(easedProgress);\n\n      this.flowerVector._.timeline.updateProgress(easedProgress);\n    }\n  }, {\n    key: \"raf\",\n    value: function raf() {\n      this.flowerVector.slerpEularRotation(0.1);\n      this.flowerVector.render();\n    }\n  }]);\n\n  return ScrollDemoSample5;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9zY3JvbGwtZGVtbzUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy9zY3JvbGwtZGVtbzUuanM/NzljYSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCAqIGFzIGRhdCBmcm9tICdkYXQuZ3VpJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IFJhZlByb2dyZXNzLCBSQUZfUFJPR1JFU1NfRVZFTlRTIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3MnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuaW1wb3J0IHsgVmVjdG9yRG9tIH0gZnJvbSAnLi4vbGliL2RvbS92ZWN0b3ItZG9tJztcbmltcG9ydCB7IEVBU0UgfSBmcm9tICcuLi9saWIvZWFzZS9lYXNlJztcbmltcG9ydCB7IGRvbSB9IGZyb20gJy4uL2xpYi9kb20vZG9tJztcbmltcG9ydCB7IENzc1ZhckludGVycG9sYXRlIH0gZnJvbSAnLi4vbGliL2ludGVycG9sYXRlL2Nzcy12YXItaW50ZXJwb2xhdGUnO1xuXG52YXIgU2Nyb2xsRGVtb1NhbXBsZTUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTY3JvbGxEZW1vU2FtcGxlNSgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNjcm9sbERlbW9TYW1wbGU1KTtcblxuICAgIGNvbnNvbGUubG9nKCdTYW1wbGUgNScpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpO1xuICAgIHRoaXMubW9kdWxlSGVpZ2h0ID0gdGhpcy5wYXJlbnRFbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICB0aGlzLmNoaWxkRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGlsZCcpOyAvLyBJbnN0YW5jZSBvZiByYWZQcm9ncmVzcy5cblxuICAgIHZhciByYWZQcm9ncmVzcyA9IG5ldyBSYWZQcm9ncmVzcygpO1xuICAgIHZhciByYWYgPSBuZXcgUmFmKHRoaXMucmFmLmJpbmQodGhpcykpOyAvLyBVcGRhdGUgdGhlIHByb2dyZXNzIHZhbHVlIHBlciBzY3JvbGwuXG5cbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhldmVudCkge1xuICAgICAgICBfdGhpcy5wcm9ncmVzcyA9IGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KF90aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgICAgICByYWZQcm9ncmVzcy5lYXNlVG8oX3RoaXMucHJvZ3Jlc3MsIDAuMDgsIEVBU0UuTGluZWFyKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZmxvd2VyRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbG93ZXInKTtcbiAgICB0aGlzLmZsb3dlclZlY3RvciA9IG5ldyBWZWN0b3JEb20odGhpcy5mbG93ZXJFbGVtZW50KTtcbiAgICB0aGlzLmZsb3dlclZlY3Rvci5hbmNob3JYID0gMDtcbiAgICB0aGlzLmZsb3dlclZlY3Rvci5hbmNob3JZID0gMDtcbiAgICB2YXIgdGltZWxpbmUgPSBbe1xuICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICByeTogMCxcbiAgICAgIHJ6OiAwLFxuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICB6OiAwLjUgLSAxXG4gICAgfSwge1xuICAgICAgcHJvZ3Jlc3M6IDAuMixcbiAgICAgIHJ5OiAtOTAsXG4gICAgICByejogMTgwLFxuICAgICAgeDogMjAwLFxuICAgICAgeTogNTAwLFxuICAgICAgejogMC4yIC0gMVxuICAgIH0sIHtcbiAgICAgIHByb2dyZXNzOiAwLjQsXG4gICAgICByeTogMCxcbiAgICAgIHJ6OiAtMTgwLFxuICAgICAgeDogNDAwLFxuICAgICAgeTogMTAwLFxuICAgICAgejogMC41IC0gMVxuICAgIH0sIHtcbiAgICAgIHByb2dyZXNzOiAwLjYsXG4gICAgICByejogMCxcbiAgICAgIHg6IDYwMCxcbiAgICAgIHk6IDQwMCxcbiAgICAgIHo6IDEgLSAxXG4gICAgfSwge1xuICAgICAgcHJvZ3Jlc3M6IDAuOCxcbiAgICAgIHJ6OiA5MCxcbiAgICAgIHg6IDgwMCxcbiAgICAgIHk6IDUwMCxcbiAgICAgIHo6IDAuMyAtIDFcbiAgICB9LCB7XG4gICAgICBwcm9ncmVzczogMSxcbiAgICAgIHJ6OiAwLFxuICAgICAgeDogMTAwMCxcbiAgICAgIHk6IDIwMCxcbiAgICAgIHo6IDEgLSAxXG4gICAgfV07XG5cbiAgICB0aGlzLmZsb3dlclZlY3Rvci5fLnRpbWVsaW5lLnNldFRpbWVsaW5lKHRpbWVsaW5lKTtcblxuICAgIHRoaXMuZmxvd2VyVmVjdG9yLmluaXQoKTsgLy8gVXNlIGNhdG11bGwgcm9tIG1vZGUgdG8gbWFrZSB0aGlzIHN1cGVyIHNtb290aCBiZXR3ZWVuIHBvaW50cy5cblxuICAgIHRoaXMuZmxvd2VyVmVjdG9yLl8udGltZWxpbmUuY2F0bXVsbFJvbU1vZGUgPSB0cnVlO1xuICAgIHRoaXMuZmxvd2VyVmVjdG9yLl8udGltZWxpbmUuY2F0bXVsbFJvbVRlbnNpb24gPSAxOyAvLyBVcGRhdGUgcHJvZ3Jlc3MgaW1tZWRpYXRlbHkgb24gbG9hZC5cblxuICAgIHRoaXMucHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgIHJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAxLCBFQVNFLkxpbmVhcik7XG4gICAgcmFmUHJvZ3Jlc3Mud2F0Y2godGhpcy5vblByb2dyZXNzVXBkYXRlLmJpbmQodGhpcykpOyAvLyBBbmltYXRlIHRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSBib2R5IHdpdGggY3NzIHZhciBpbnRlcnBvbGF0ZS5cblxuICAgIHRoaXMuY3NzVmFySW50ZXJwb2xhdGUgPSBuZXcgQ3NzVmFySW50ZXJwb2xhdGUoZG9jdW1lbnQuYm9keSwge1xuICAgICAgaW50ZXJwb2xhdGlvbnM6IFt7XG4gICAgICAgIHByb2dyZXNzOiBbe1xuICAgICAgICAgIGZyb206IDAsXG4gICAgICAgICAgdG86IDAuNSxcbiAgICAgICAgICBzdGFydDogJ3JnYmEoMjU1LCAxMjgsIDAsIDAuMyknLFxuICAgICAgICAgIC8vIG9yYW5nZVxuICAgICAgICAgIGVuZDogJ3JnYmEoMjU1LCAxNTMsIDIwNCwgMSknIC8vIHBpbmtcblxuICAgICAgICB9LCB7XG4gICAgICAgICAgZnJvbTogMC41LFxuICAgICAgICAgIHRvOiAxLFxuICAgICAgICAgIHN0YXJ0OiAncmdiYSgyNTUsIDE1MywgMjA0LCAxKScsXG4gICAgICAgICAgLy8gcGlua1xuICAgICAgICAgIGVuZDogJ3JnYmEoMCwgMCwgMjU1LCAxKScgLy8gYmx1ZVxuXG4gICAgICAgIH1dLFxuICAgICAgICBpZDogJy0tYmFja2dyb3VuZCdcbiAgICAgIH1dXG4gICAgfSk7XG4gICAgdGhpcy5ndWkgPSBuZXcgZGF0LkdVSSgpO1xuICAgIHZhciBkYXRGb2xkZXIgPSB0aGlzLmd1aS5hZGRGb2xkZXIoJ0NhdG11bGwgUm9tJyk7XG4gICAgZGF0Rm9sZGVyLmFkZCh0aGlzLmZsb3dlclZlY3Rvci5fLnRpbWVsaW5lLCAnY2F0bXVsbFJvbU1vZGUnKTtcbiAgICBkYXRGb2xkZXIuYWRkKHRoaXMuZmxvd2VyVmVjdG9yLl8udGltZWxpbmUsICdjYXRtdWxsUm9tVGVuc2lvbicsIC0zLCAzKTtcbiAgICByYWYuc3RhcnQoKTtcbiAgfSAvLyBSdW5zIGV2ZXJ5IHRpbWUgZWFzZWQgcHJvZ3Jlc3MgaXMgdXBkYXRlZC5cblxuXG4gIF9jcmVhdGVDbGFzcyhTY3JvbGxEZW1vU2FtcGxlNSwgW3tcbiAgICBrZXk6IFwib25Qcm9ncmVzc1VwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblByb2dyZXNzVXBkYXRlKGVhc2VkUHJvZ3Jlc3MsIGRpcmVjdGlvbikge1xuICAgICAgdmFyIHNpbiA9IE1hdGguc2luKGVhc2VkUHJvZ3Jlc3MpO1xuICAgICAgdGhpcy5jc3NWYXJJbnRlcnBvbGF0ZS51cGRhdGUoZWFzZWRQcm9ncmVzcyk7XG5cbiAgICAgIHRoaXMuZmxvd2VyVmVjdG9yLl8udGltZWxpbmUudXBkYXRlUHJvZ3Jlc3MoZWFzZWRQcm9ncmVzcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJhZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByYWYoKSB7XG4gICAgICB0aGlzLmZsb3dlclZlY3Rvci5zbGVycEV1bGFyUm90YXRpb24oMC4xKTtcbiAgICAgIHRoaXMuZmxvd2VyVmVjdG9yLnJlbmRlcigpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTY3JvbGxEZW1vU2FtcGxlNTtcbn0oKTtcblxuZXhwb3J0IHsgU2Nyb2xsRGVtb1NhbXBsZTUgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/scroll-demo5.js\n");

/***/ }),

/***/ "./examples/styles/index.sass":
/*!************************************!*\
  !*** ./examples/styles/index.sass ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar content = __webpack_require__(/*! !../../node_modules/css-loader/dist/cjs.js?sourceMap=true!../../node_modules/sass-loader/lib/loader.js??ref--7-2!./index.sass */ \"./node_modules/css-loader/dist/cjs.js?sourceMap=true!./node_modules/sass-loader/lib/loader.js?!./examples/styles/index.sass\");\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(/*! ../../node_modules/style-loader/lib/addStyles.js */ \"./node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy9zdHlsZXMvaW5kZXguc2Fzcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3N0eWxlcy9pbmRleC5zYXNzPzE1MDgiXSwic291cmNlc0NvbnRlbnQiOlsiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzP3NvdXJjZU1hcD10cnVlIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTctMiEuL2luZGV4LnNhc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzP3NvdXJjZU1hcD10cnVlIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTctMiEuL2luZGV4LnNhc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz9zb3VyY2VNYXA9dHJ1ZSEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcz8/cmVmLS03LTIhLi9pbmRleC5zYXNzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/styles/index.sass\n");

/***/ }),

/***/ "./examples/text-split.js":
/*!********************************!*\
  !*** ./examples/text-split.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TextSplitSample; });\n/* harmony import */ var _lib_dom_text_split__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/dom/text-split */ \"./lib/dom/text-split.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar TextSplitSample = function TextSplitSample() {\n  _classCallCheck(this, TextSplitSample);\n\n  console.log('text split sample'); // Split by word\n\n  var splitter = new _lib_dom_text_split__WEBPACK_IMPORTED_MODULE_0__[\"TextSplit\"]({\n    element: document.getElementById('split1'),\n    split: ' '\n  }); // Split by character\n\n  var splitter2 = new _lib_dom_text_split__WEBPACK_IMPORTED_MODULE_0__[\"TextSplit\"]({\n    element: document.getElementById('split2'),\n    split: ''\n  });\n  var splitter3 = new _lib_dom_text_split__WEBPACK_IMPORTED_MODULE_0__[\"TextSplit\"]({\n    element: document.getElementById('split3'),\n    split: ' '\n  }); // Run splitting every 2 seconds.\n  // This layout thrashes so in practice, you wouldn't want to do this,\n  // and instead reset a css class.\n\n  window.setInterval(function () {\n    splitter.split();\n    splitter2.split();\n    splitter3.split();\n  }, 2000);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90ZXh0LXNwbGl0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvdGV4dC1zcGxpdC5qcz8yNDgwIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmltcG9ydCB7IFRleHRTcGxpdCB9IGZyb20gJy4uL2xpYi9kb20vdGV4dC1zcGxpdCc7XG5cbnZhciBUZXh0U3BsaXRTYW1wbGUgPSBmdW5jdGlvbiBUZXh0U3BsaXRTYW1wbGUoKSB7XG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0U3BsaXRTYW1wbGUpO1xuXG4gIGNvbnNvbGUubG9nKCd0ZXh0IHNwbGl0IHNhbXBsZScpOyAvLyBTcGxpdCBieSB3b3JkXG5cbiAgdmFyIHNwbGl0dGVyID0gbmV3IFRleHRTcGxpdCh7XG4gICAgZWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwbGl0MScpLFxuICAgIHNwbGl0OiAnICdcbiAgfSk7IC8vIFNwbGl0IGJ5IGNoYXJhY3RlclxuXG4gIHZhciBzcGxpdHRlcjIgPSBuZXcgVGV4dFNwbGl0KHtcbiAgICBlbGVtZW50OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BsaXQyJyksXG4gICAgc3BsaXQ6ICcnXG4gIH0pO1xuICB2YXIgc3BsaXR0ZXIzID0gbmV3IFRleHRTcGxpdCh7XG4gICAgZWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwbGl0MycpLFxuICAgIHNwbGl0OiAnICdcbiAgfSk7IC8vIFJ1biBzcGxpdHRpbmcgZXZlcnkgMiBzZWNvbmRzLlxuICAvLyBUaGlzIGxheW91dCB0aHJhc2hlcyBzbyBpbiBwcmFjdGljZSwgeW91IHdvdWxkbid0IHdhbnQgdG8gZG8gdGhpcyxcbiAgLy8gYW5kIGluc3RlYWQgcmVzZXQgYSBjc3MgY2xhc3MuXG5cbiAgd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICBzcGxpdHRlci5zcGxpdCgpO1xuICAgIHNwbGl0dGVyMi5zcGxpdCgpO1xuICAgIHNwbGl0dGVyMy5zcGxpdCgpO1xuICB9LCAyMDAwKTtcbn07XG5cbmV4cG9ydCB7IFRleHRTcGxpdFNhbXBsZSBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/text-split.js\n");

/***/ }),

/***/ "./examples/three-light-test.js":
/*!**************************************!*\
  !*** ./examples/three-light-test.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ThreeLightTest; });\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var _lib_threef_scene_renderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/threef/scene-renderer */ \"./lib/threef/scene-renderer.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_threef_threef__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/threef/threef */ \"./lib/threef/threef.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n // https://threejs.org/examples/webgl_shadowmap_pcss.html\n\nvar PCSS2 = \"\\n#define LIGHT_WORLD_SIZE 0.005\\n\\t\\t\\t\\t#define LIGHT_FRUSTUM_WIDTH 3.75\\n\\t\\t\\t\\t#define LIGHT_SIZE_UV (LIGHT_WORLD_SIZE / LIGHT_FRUSTUM_WIDTH)\\n\\t\\t\\t\\t#define NEAR_PLANE 9.5\\n\\t\\t\\t\\t#define NUM_SAMPLES 30\\n\\t\\t\\t\\t#define NUM_RINGS 10\\n\\t\\t\\t\\t#define BLOCKER_SEARCH_NUM_SAMPLES NUM_SAMPLES\\n\\t\\t\\t\\t#define PCF_NUM_SAMPLES NUM_SAMPLES\\n\\n\\t\\t\\t\\tvec2 poissonDisk[NUM_SAMPLES];\\n\\n\\t\\t\\t\\tvoid initPoissonSamples( const in vec2 randomSeed ) {\\n\\t\\t\\t\\t\\tfloat ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );\\n\\t\\t\\t\\t\\tfloat INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );\\n\\n\\t\\t\\t\\t\\t// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/\\n\\t\\t\\t\\t\\tfloat angle = rand( randomSeed ) * PI2;\\n\\t\\t\\t\\t\\tfloat radius = INV_NUM_SAMPLES;\\n\\t\\t\\t\\t\\tfloat radiusStep = radius;\\n\\n\\t\\t\\t\\t\\tfor( int i = 0; i < NUM_SAMPLES; i ++ ) {\\n\\t\\t\\t\\t\\t\\tpoissonDisk[i] = vec2( cos( angle ), sin( angle ) ) * pow( radius, 0.75 );\\n\\t\\t\\t\\t\\t\\tradius += radiusStep;\\n\\t\\t\\t\\t\\t\\tangle += ANGLE_STEP;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfloat penumbraSize( const in float zReceiver, const in float zBlocker ) { // Parallel plane estimation\\n\\t\\t\\t\\t\\treturn (zReceiver - zBlocker) / zBlocker;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfloat findBlocker( sampler2D shadowMap, const in vec2 uv, const in float zReceiver ) {\\n\\t\\t\\t\\t\\t// This uses similar triangles to compute what\\n\\t\\t\\t\\t\\t// area of the shadow map we should search\\n\\t\\t\\t\\t\\tfloat searchRadius = LIGHT_SIZE_UV * ( zReceiver - NEAR_PLANE ) / zReceiver;\\n\\t\\t\\t\\t\\tfloat blockerDepthSum = 0.0;\\n\\t\\t\\t\\t\\tint numBlockers = 0;\\n\\n\\t\\t\\t\\t\\tfor( int i = 0; i < BLOCKER_SEARCH_NUM_SAMPLES; i++ ) {\\n\\t\\t\\t\\t\\t\\tfloat shadowMapDepth = unpackRGBAToDepth(texture2D(shadowMap, uv + poissonDisk[i] * searchRadius));\\n\\t\\t\\t\\t\\t\\tif ( shadowMapDepth < zReceiver ) {\\n\\t\\t\\t\\t\\t\\t\\tblockerDepthSum += shadowMapDepth;\\n\\t\\t\\t\\t\\t\\t\\tnumBlockers ++;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif( numBlockers == 0 ) return -1.0;\\n\\n\\t\\t\\t\\t\\treturn blockerDepthSum / float( numBlockers );\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfloat PCF_Filter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius ) {\\n\\t\\t\\t\\t\\tfloat sum = 0.0;\\n\\t\\t\\t\\t\\tfor( int i = 0; i < PCF_NUM_SAMPLES; i ++ ) {\\n\\t\\t\\t\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadowMap, uv + poissonDisk[ i ] * filterRadius ) );\\n\\t\\t\\t\\t\\t\\tif( zReceiver <= depth ) sum += 1.0;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tfor( int i = 0; i < PCF_NUM_SAMPLES; i ++ ) {\\n\\t\\t\\t\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadowMap, uv + -poissonDisk[ i ].yx * filterRadius ) );\\n\\t\\t\\t\\t\\t\\tif( zReceiver <= depth ) sum += 1.0;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\treturn sum / ( 2.0 * float( PCF_NUM_SAMPLES ) );\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfloat PCSS ( sampler2D shadowMap, vec4 coords ) {\\n\\t\\t\\t\\t\\tvec2 uv = coords.xy;\\n\\t\\t\\t\\t\\tfloat zReceiver = coords.z; // Assumed to be eye-space z in this code\\n\\n\\t\\t\\t\\t\\tinitPoissonSamples( uv );\\n\\t\\t\\t\\t\\t// STEP 1: blocker search\\n\\t\\t\\t\\t\\tfloat avgBlockerDepth = findBlocker( shadowMap, uv, zReceiver );\\n\\n\\t\\t\\t\\t\\t//There are no occluders so early out (this saves filtering)\\n\\t\\t\\t\\t\\tif( avgBlockerDepth == -1.0 ) return 1.0;\\n\\n\\t\\t\\t\\t\\t// STEP 2: penumbra size\\n\\t\\t\\t\\t\\tfloat penumbraRatio = penumbraSize( zReceiver, avgBlockerDepth );\\n\\t\\t\\t\\t\\tfloat filterRadius = penumbraRatio * LIGHT_SIZE_UV * NEAR_PLANE / zReceiver;\\n\\n\\t\\t\\t\\t\\t// STEP 3: filtering\\n\\t\\t\\t\\t\\t//return avgBlockerDepth;\\n\\t\\t\\t\\t\\treturn PCF_Filter( shadowMap, uv, zReceiver, filterRadius);\\n\\t\\t\\t\\t}\\n\";\nvar PCSS = \"\\n#define LIGHT_WORLD_SIZE 0.005\\n\\t\\t\\t\\t#define LIGHT_FRUSTUM_WIDTH 3.75\\n\\t\\t\\t\\t#define LIGHT_SIZE_UV (LIGHT_WORLD_SIZE / LIGHT_FRUSTUM_WIDTH)\\n\\t\\t\\t\\t#define NEAR_PLANE 9.5\\n\\n\\t\\t\\t\\t#define NUM_SAMPLES 17\\n\\t\\t\\t\\t#define NUM_RINGS 11\\n\\t\\t\\t\\t#define BLOCKER_SEARCH_NUM_SAMPLES NUM_SAMPLES\\n\\t\\t\\t\\t#define PCF_NUM_SAMPLES NUM_SAMPLES\\n\\n\\t\\t\\t\\tvec2 poissonDisk[NUM_SAMPLES];\\n\\n\\t\\t\\t\\tvoid initPoissonSamples( const in vec2 randomSeed ) {\\n\\t\\t\\t\\t\\tfloat ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );\\n\\t\\t\\t\\t\\tfloat INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );\\n\\n\\t\\t\\t\\t\\t// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/\\n\\t\\t\\t\\t\\tfloat angle = rand( randomSeed ) * PI2;\\n\\t\\t\\t\\t\\tfloat radius = INV_NUM_SAMPLES;\\n\\t\\t\\t\\t\\tfloat radiusStep = radius;\\n\\n\\t\\t\\t\\t\\tfor( int i = 0; i < NUM_SAMPLES; i ++ ) {\\n\\t\\t\\t\\t\\t\\tpoissonDisk[i] = vec2( cos( angle ), sin( angle ) ) * pow( radius, 0.75 );\\n\\t\\t\\t\\t\\t\\tradius += radiusStep;\\n\\t\\t\\t\\t\\t\\tangle += ANGLE_STEP;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfloat penumbraSize( const in float zReceiver, const in float zBlocker ) { // Parallel plane estimation\\n\\t\\t\\t\\t\\treturn (zReceiver - zBlocker) / zBlocker;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfloat findBlocker( sampler2D shadowMap, const in vec2 uv, const in float zReceiver ) {\\n\\t\\t\\t\\t\\t// This uses similar triangles to compute what\\n\\t\\t\\t\\t\\t// area of the shadow map we should search\\n\\t\\t\\t\\t\\tfloat searchRadius = LIGHT_SIZE_UV * ( zReceiver - NEAR_PLANE ) / zReceiver;\\n\\t\\t\\t\\t\\tfloat blockerDepthSum = 0.0;\\n\\t\\t\\t\\t\\tint numBlockers = 0;\\n\\n\\t\\t\\t\\t\\tfor( int i = 0; i < BLOCKER_SEARCH_NUM_SAMPLES; i++ ) {\\n\\t\\t\\t\\t\\t\\tfloat shadowMapDepth = unpackRGBAToDepth(texture2D(shadowMap, uv + poissonDisk[i] * searchRadius));\\n\\t\\t\\t\\t\\t\\tif ( shadowMapDepth < zReceiver ) {\\n\\t\\t\\t\\t\\t\\t\\tblockerDepthSum += shadowMapDepth;\\n\\t\\t\\t\\t\\t\\t\\tnumBlockers ++;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif( numBlockers == 0 ) return -1.0;\\n\\n\\t\\t\\t\\t\\treturn blockerDepthSum / float( numBlockers );\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfloat PCF_Filter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius ) {\\n\\t\\t\\t\\t\\tfloat sum = 0.0;\\n\\t\\t\\t\\t\\tfor( int i = 0; i < PCF_NUM_SAMPLES; i ++ ) {\\n\\t\\t\\t\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadowMap, uv + poissonDisk[ i ] * filterRadius ) );\\n\\t\\t\\t\\t\\t\\tif( zReceiver <= depth ) sum += 1.0;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tfor( int i = 0; i < PCF_NUM_SAMPLES; i ++ ) {\\n\\t\\t\\t\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadowMap, uv + -poissonDisk[ i ].yx * filterRadius ) );\\n\\t\\t\\t\\t\\t\\tif( zReceiver <= depth ) sum += 1.0;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\treturn sum / ( 2.0 * float( PCF_NUM_SAMPLES ) );\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfloat PCSS ( sampler2D shadowMap, vec4 coords ) {\\n\\t\\t\\t\\t\\tvec2 uv = coords.xy;\\n\\t\\t\\t\\t\\tfloat zReceiver = coords.z; // Assumed to be eye-space z in this code\\n\\n\\t\\t\\t\\t\\tinitPoissonSamples( uv );\\n\\t\\t\\t\\t\\t// STEP 1: blocker search\\n\\t\\t\\t\\t\\tfloat avgBlockerDepth = findBlocker( shadowMap, uv, zReceiver );\\n\\n\\t\\t\\t\\t\\t//There are no occluders so early out (this saves filtering)\\n\\t\\t\\t\\t\\tif( avgBlockerDepth == -1.0 ) return 1.0;\\n\\n\\t\\t\\t\\t\\t// STEP 2: penumbra size\\n\\t\\t\\t\\t\\tfloat penumbraRatio = penumbraSize( zReceiver, avgBlockerDepth );\\n\\t\\t\\t\\t\\tfloat filterRadius = penumbraRatio * LIGHT_SIZE_UV * NEAR_PLANE / zReceiver;\\n\\n\\t\\t\\t\\t\\t// STEP 3: filtering\\n\\t\\t\\t\\t\\t//return avgBlockerDepth;\\n\\t\\t\\t\\t\\treturn PCF_Filter( shadowMap, uv, zReceiver, filterRadius );\\n\\t\\t\\t\\t}\\n\";\nvar PCSSGetShadow = \"\\n return PCSS( shadowMap, shadowCoord );\\n\";\n\nvar ThreeLightTest = /*#__PURE__*/function () {\n  function ThreeLightTest() {\n    _classCallCheck(this, ThreeLightTest);\n\n    console.log(\"Three Lighting Test\");\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_5__[\"Raf\"](this.onRaf.bind(this));\n    this.sceneRenderer = new _lib_threef_scene_renderer__WEBPACK_IMPORTED_MODULE_3__[\"SceneRenderer\"]({});\n    this.boxElements = {\n      box1: document.getElementById('box-1')\n    };\n    this.overwriteShadowMap();\n    this.createGltfScene1();\n    this.sceneRenderer.resize();\n    this.raf.start();\n  }\n\n  _createClass(ThreeLightTest, [{\n    key: \"overwriteShadowMap\",\n    value: function overwriteShadowMap() {\n      var shader = three__WEBPACK_IMPORTED_MODULE_1__[\"ShaderChunk\"].shadowmap_pars_fragment;\n      shader = shader.replace('#ifdef USE_SHADOWMAP', '#ifdef USE_SHADOWMAP' + PCSS2);\n      shader = shader.replace('#if defined( SHADOWMAP_TYPE_PCF )', PCSSGetShadow + '#if defined( SHADOWMAP_TYPE_PCF )');\n      three__WEBPACK_IMPORTED_MODULE_1__[\"ShaderChunk\"].shadowmap_pars_fragment = shader;\n    }\n  }, {\n    key: \"createGltfScene1\",\n    value: function createGltfScene1() {\n      var _this = this;\n\n      var domElement = this.boxElements.box1;\n      var scene = new three__WEBPACK_IMPORTED_MODULE_1__[\"Scene\"]();\n      var camera = new three__WEBPACK_IMPORTED_MODULE_1__[\"PerspectiveCamera\"](30, domElement.offsetWidth / domElement.offsetWidth, 1, 10000);\n      camera.position.x = 7;\n      camera.position.y = 13;\n      camera.position.z = 7;\n      this.sceneRenderer.addScene({\n        resizingAlgo: 'contain',\n        resizingOptions: {\n          scalarX: 1,\n          scalarY: 1,\n          useFov: false\n        },\n        domElement: domElement,\n        scene: scene,\n        camera: camera,\n        onInit: function onInit(renderer, scene, camera) {\n          scene.userData.sphereGroup = _this.addRandomSpheres(scene);\n          scene.userData.group = _this.addGround(scene);\n          var ambientLight = new three__WEBPACK_IMPORTED_MODULE_1__[\"AmbientLight\"]('#FFFFFF');\n          ambientLight.intensity = 0.5;\n          scene.add(ambientLight); // Light 1\n\n          var light = new three__WEBPACK_IMPORTED_MODULE_1__[\"DirectionalLight\"](0xdfebff, 1);\n          light.position.set(2, 8, 4);\n          light.castShadow = true;\n          light.shadow.mapSize.width = 1024;\n          light.shadow.mapSize.height = 1024; // This blurs but doesn't look great.\n          // light.shadow.radius = 20;\n          // light.shadow.camera.far = 200;\n          // Adjust for blurryness\n\n          light.shadow.camera.far = 50;\n          light.shadow.camera.near = 1;\n          scene.add(light);\n          scene.add(new three__WEBPACK_IMPORTED_MODULE_1__[\"CameraHelper\"](light.shadow.camera)); // var light2 = new THREE.DirectionalLight(0xdfebff, 1);\n          // light2.position.set(0, 8, -5);\n          // light2.castShadow = true;\n          // light2.shadow.mapSize.width = 1024;\n          // light2.shadow.mapSize.height = 1024;\n          // // This blurs but doesn't look great.\n          // // light.shadow.radius = 20;\n          // // light.shadow.camera.far = 200;\n          // // Adjust for blurryness\n          // light2.shadow.camera.far = 100;\n          // scene.add(light2);\n          // scene.add(new THREE.CameraHelper(light2.shadow.camera));\n          // Add orbit controls.\n\n          var controls = new three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_2__[\"OrbitControls\"](camera, domElement);\n          controls.maxPolarAngle = Math.PI * 0.5;\n          controls.minDistance = 10;\n          controls.maxDistance = 75;\n          controls.target.set(0, 2.5, 0);\n          controls.update();\n          scene.userData.controls = controls;\n        },\n        onBeforeRender: function onBeforeRender(renderer, scene) {\n          renderer.gammaInput = true;\n          renderer.gammaOutput = true;\n          renderer.shadowMap.enabled = true; // renderer.shadowMapSoft = true;\n          // renderer.shadowMapType = THREE.PCFSoftShadowMap;\n\n          scene.userData.sphereGroup.traverse(function (child) {\n            if ('phase' in child.userData) {\n              child.position.y = Math.abs(Math.sin(_this.raf.getElapsedTime() + child.userData.phase)) * 5 + 0.3;\n            }\n          });\n        }\n      }, true);\n    }\n    /**\n     * Add shadow casting spheres.\n     */\n\n  }, {\n    key: \"addRandomSpheres\",\n    value: function addRandomSpheres(scene) {\n      var group = new three__WEBPACK_IMPORTED_MODULE_1__[\"Group\"]();\n\n      for (var i = 0; i < 12; i++) {\n        var geometry = new three__WEBPACK_IMPORTED_MODULE_1__[\"SphereBufferGeometry\"](0.3, _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].getRandomInt(10, 50), _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].getRandomInt(10, 50));\n        var material;\n\n        if (i % 2 == 0) {\n          material = new three__WEBPACK_IMPORTED_MODULE_1__[\"MeshStandardMaterial\"]({\n            color: Math.random() * 0xffffff\n          });\n        } else {\n          material = new three__WEBPACK_IMPORTED_MODULE_1__[\"MeshPhongMaterial\"]({\n            color: Math.random() * 0xffffff\n          });\n        }\n\n        var sphere = new three__WEBPACK_IMPORTED_MODULE_1__[\"Mesh\"](geometry, material);\n        sphere.position.x = Math.random() - 0.5;\n        sphere.position.z = Math.random() - 0.5;\n        sphere.position.normalize();\n        sphere.position.multiplyScalar(Math.random() * 2 + 1);\n        sphere.castShadow = true;\n        sphere.receiveShadow = true;\n        sphere.userData.phase = Math.random() * Math.PI;\n        group.add(sphere);\n      }\n\n      scene.add(group);\n      return group;\n    }\n  }, {\n    key: \"addGround\",\n    value: function addGround(scene) {\n      var groundMaterial = new three__WEBPACK_IMPORTED_MODULE_1__[\"MeshPhongMaterial\"]({\n        color: 0xFFFFFF,\n        specular: 0xFFFFFFF\n      });\n      var mesh = new three__WEBPACK_IMPORTED_MODULE_1__[\"Mesh\"](new three__WEBPACK_IMPORTED_MODULE_1__[\"PlaneBufferGeometry\"](20000, 20000, 8, 8), groundMaterial);\n      mesh.rotation.x = -Math.PI / 2;\n      mesh.receiveShadow = true;\n      scene.add(mesh);\n      mesh = new three__WEBPACK_IMPORTED_MODULE_1__[\"Mesh\"](new three__WEBPACK_IMPORTED_MODULE_1__[\"BoxBufferGeometry\"](1, 4, 1), groundMaterial);\n      mesh.position.y = 2;\n      mesh.castShadow = true;\n      mesh.receiveShadow = true;\n      scene.add(mesh);\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf() {\n      this.sceneRenderer.render();\n    }\n  }]);\n\n  return ThreeLightTest;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1saWdodC10ZXN0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvdGhyZWUtbGlnaHQtdGVzdC5qcz82YTdmIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0IHsgR0xURkxvYWRlciB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0dMVEZMb2FkZXInO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzJztcbmltcG9ydCB7IFNjZW5lUmVuZGVyZXIgfSBmcm9tICcuLi9saWIvdGhyZWVmL3NjZW5lLXJlbmRlcmVyJztcbmltcG9ydCB7IG1hdGhmIH0gZnJvbSAnLi4vbGliL21hdGhmL21hdGhmJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IHRocmVlZiB9IGZyb20gJy4uL2xpYi90aHJlZWYvdGhyZWVmJzsgLy8gaHR0cHM6Ly90aHJlZWpzLm9yZy9leGFtcGxlcy93ZWJnbF9zaGFkb3dtYXBfcGNzcy5odG1sXG5cbnZhciBQQ1NTMiA9IFwiXFxuI2RlZmluZSBMSUdIVF9XT1JMRF9TSVpFIDAuMDA1XFxuXFx0XFx0XFx0XFx0I2RlZmluZSBMSUdIVF9GUlVTVFVNX1dJRFRIIDMuNzVcXG5cXHRcXHRcXHRcXHQjZGVmaW5lIExJR0hUX1NJWkVfVVYgKExJR0hUX1dPUkxEX1NJWkUgLyBMSUdIVF9GUlVTVFVNX1dJRFRIKVxcblxcdFxcdFxcdFxcdCNkZWZpbmUgTkVBUl9QTEFORSA5LjVcXG5cXHRcXHRcXHRcXHQjZGVmaW5lIE5VTV9TQU1QTEVTIDMwXFxuXFx0XFx0XFx0XFx0I2RlZmluZSBOVU1fUklOR1MgMTBcXG5cXHRcXHRcXHRcXHQjZGVmaW5lIEJMT0NLRVJfU0VBUkNIX05VTV9TQU1QTEVTIE5VTV9TQU1QTEVTXFxuXFx0XFx0XFx0XFx0I2RlZmluZSBQQ0ZfTlVNX1NBTVBMRVMgTlVNX1NBTVBMRVNcXG5cXG5cXHRcXHRcXHRcXHR2ZWMyIHBvaXNzb25EaXNrW05VTV9TQU1QTEVTXTtcXG5cXG5cXHRcXHRcXHRcXHR2b2lkIGluaXRQb2lzc29uU2FtcGxlcyggY29uc3QgaW4gdmVjMiByYW5kb21TZWVkICkge1xcblxcdFxcdFxcdFxcdFxcdGZsb2F0IEFOR0xFX1NURVAgPSBQSTIgKiBmbG9hdCggTlVNX1JJTkdTICkgLyBmbG9hdCggTlVNX1NBTVBMRVMgKTtcXG5cXHRcXHRcXHRcXHRcXHRmbG9hdCBJTlZfTlVNX1NBTVBMRVMgPSAxLjAgLyBmbG9hdCggTlVNX1NBTVBMRVMgKTtcXG5cXG5cXHRcXHRcXHRcXHRcXHQvLyBqc2ZpZGRsZSB0aGF0IHNob3dzIHNhbXBsZSBwYXR0ZXJuOiBodHRwczovL2pzZmlkZGxlLm5ldC9hMTZmZjFwNy9cXG5cXHRcXHRcXHRcXHRcXHRmbG9hdCBhbmdsZSA9IHJhbmQoIHJhbmRvbVNlZWQgKSAqIFBJMjtcXG5cXHRcXHRcXHRcXHRcXHRmbG9hdCByYWRpdXMgPSBJTlZfTlVNX1NBTVBMRVM7XFxuXFx0XFx0XFx0XFx0XFx0ZmxvYXQgcmFkaXVzU3RlcCA9IHJhZGl1cztcXG5cXG5cXHRcXHRcXHRcXHRcXHRmb3IoIGludCBpID0gMDsgaSA8IE5VTV9TQU1QTEVTOyBpICsrICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdHBvaXNzb25EaXNrW2ldID0gdmVjMiggY29zKCBhbmdsZSApLCBzaW4oIGFuZ2xlICkgKSAqIHBvdyggcmFkaXVzLCAwLjc1ICk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0cmFkaXVzICs9IHJhZGl1c1N0ZXA7XFxuXFx0XFx0XFx0XFx0XFx0XFx0YW5nbGUgKz0gQU5HTEVfU1RFUDtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdGZsb2F0IHBlbnVtYnJhU2l6ZSggY29uc3QgaW4gZmxvYXQgelJlY2VpdmVyLCBjb25zdCBpbiBmbG9hdCB6QmxvY2tlciApIHsgLy8gUGFyYWxsZWwgcGxhbmUgZXN0aW1hdGlvblxcblxcdFxcdFxcdFxcdFxcdHJldHVybiAoelJlY2VpdmVyIC0gekJsb2NrZXIpIC8gekJsb2NrZXI7XFxuXFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdGZsb2F0IGZpbmRCbG9ja2VyKCBzYW1wbGVyMkQgc2hhZG93TWFwLCBjb25zdCBpbiB2ZWMyIHV2LCBjb25zdCBpbiBmbG9hdCB6UmVjZWl2ZXIgKSB7XFxuXFx0XFx0XFx0XFx0XFx0Ly8gVGhpcyB1c2VzIHNpbWlsYXIgdHJpYW5nbGVzIHRvIGNvbXB1dGUgd2hhdFxcblxcdFxcdFxcdFxcdFxcdC8vIGFyZWEgb2YgdGhlIHNoYWRvdyBtYXAgd2Ugc2hvdWxkIHNlYXJjaFxcblxcdFxcdFxcdFxcdFxcdGZsb2F0IHNlYXJjaFJhZGl1cyA9IExJR0hUX1NJWkVfVVYgKiAoIHpSZWNlaXZlciAtIE5FQVJfUExBTkUgKSAvIHpSZWNlaXZlcjtcXG5cXHRcXHRcXHRcXHRcXHRmbG9hdCBibG9ja2VyRGVwdGhTdW0gPSAwLjA7XFxuXFx0XFx0XFx0XFx0XFx0aW50IG51bUJsb2NrZXJzID0gMDtcXG5cXG5cXHRcXHRcXHRcXHRcXHRmb3IoIGludCBpID0gMDsgaSA8IEJMT0NLRVJfU0VBUkNIX05VTV9TQU1QTEVTOyBpKysgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0ZmxvYXQgc2hhZG93TWFwRGVwdGggPSB1bnBhY2tSR0JBVG9EZXB0aCh0ZXh0dXJlMkQoc2hhZG93TWFwLCB1diArIHBvaXNzb25EaXNrW2ldICogc2VhcmNoUmFkaXVzKSk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0aWYgKCBzaGFkb3dNYXBEZXB0aCA8IHpSZWNlaXZlciApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRibG9ja2VyRGVwdGhTdW0gKz0gc2hhZG93TWFwRGVwdGg7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0bnVtQmxvY2tlcnMgKys7XFxuXFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRcXHRpZiggbnVtQmxvY2tlcnMgPT0gMCApIHJldHVybiAtMS4wO1xcblxcblxcdFxcdFxcdFxcdFxcdHJldHVybiBibG9ja2VyRGVwdGhTdW0gLyBmbG9hdCggbnVtQmxvY2tlcnMgKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0ZmxvYXQgUENGX0ZpbHRlcihzYW1wbGVyMkQgc2hhZG93TWFwLCB2ZWMyIHV2LCBmbG9hdCB6UmVjZWl2ZXIsIGZsb2F0IGZpbHRlclJhZGl1cyApIHtcXG5cXHRcXHRcXHRcXHRcXHRmbG9hdCBzdW0gPSAwLjA7XFxuXFx0XFx0XFx0XFx0XFx0Zm9yKCBpbnQgaSA9IDA7IGkgPCBQQ0ZfTlVNX1NBTVBMRVM7IGkgKysgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0ZmxvYXQgZGVwdGggPSB1bnBhY2tSR0JBVG9EZXB0aCggdGV4dHVyZTJEKCBzaGFkb3dNYXAsIHV2ICsgcG9pc3NvbkRpc2tbIGkgXSAqIGZpbHRlclJhZGl1cyApICk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0aWYoIHpSZWNlaXZlciA8PSBkZXB0aCApIHN1bSArPSAxLjA7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdGZvciggaW50IGkgPSAwOyBpIDwgUENGX05VTV9TQU1QTEVTOyBpICsrICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdGZsb2F0IGRlcHRoID0gdW5wYWNrUkdCQVRvRGVwdGgoIHRleHR1cmUyRCggc2hhZG93TWFwLCB1diArIC1wb2lzc29uRGlza1sgaSBdLnl4ICogZmlsdGVyUmFkaXVzICkgKTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRpZiggelJlY2VpdmVyIDw9IGRlcHRoICkgc3VtICs9IDEuMDtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIHN1bSAvICggMi4wICogZmxvYXQoIFBDRl9OVU1fU0FNUExFUyApICk7XFxuXFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdGZsb2F0IFBDU1MgKCBzYW1wbGVyMkQgc2hhZG93TWFwLCB2ZWM0IGNvb3JkcyApIHtcXG5cXHRcXHRcXHRcXHRcXHR2ZWMyIHV2ID0gY29vcmRzLnh5O1xcblxcdFxcdFxcdFxcdFxcdGZsb2F0IHpSZWNlaXZlciA9IGNvb3Jkcy56OyAvLyBBc3N1bWVkIHRvIGJlIGV5ZS1zcGFjZSB6IGluIHRoaXMgY29kZVxcblxcblxcdFxcdFxcdFxcdFxcdGluaXRQb2lzc29uU2FtcGxlcyggdXYgKTtcXG5cXHRcXHRcXHRcXHRcXHQvLyBTVEVQIDE6IGJsb2NrZXIgc2VhcmNoXFxuXFx0XFx0XFx0XFx0XFx0ZmxvYXQgYXZnQmxvY2tlckRlcHRoID0gZmluZEJsb2NrZXIoIHNoYWRvd01hcCwgdXYsIHpSZWNlaXZlciApO1xcblxcblxcdFxcdFxcdFxcdFxcdC8vVGhlcmUgYXJlIG5vIG9jY2x1ZGVycyBzbyBlYXJseSBvdXQgKHRoaXMgc2F2ZXMgZmlsdGVyaW5nKVxcblxcdFxcdFxcdFxcdFxcdGlmKCBhdmdCbG9ja2VyRGVwdGggPT0gLTEuMCApIHJldHVybiAxLjA7XFxuXFxuXFx0XFx0XFx0XFx0XFx0Ly8gU1RFUCAyOiBwZW51bWJyYSBzaXplXFxuXFx0XFx0XFx0XFx0XFx0ZmxvYXQgcGVudW1icmFSYXRpbyA9IHBlbnVtYnJhU2l6ZSggelJlY2VpdmVyLCBhdmdCbG9ja2VyRGVwdGggKTtcXG5cXHRcXHRcXHRcXHRcXHRmbG9hdCBmaWx0ZXJSYWRpdXMgPSBwZW51bWJyYVJhdGlvICogTElHSFRfU0laRV9VViAqIE5FQVJfUExBTkUgLyB6UmVjZWl2ZXI7XFxuXFxuXFx0XFx0XFx0XFx0XFx0Ly8gU1RFUCAzOiBmaWx0ZXJpbmdcXG5cXHRcXHRcXHRcXHRcXHQvL3JldHVybiBhdmdCbG9ja2VyRGVwdGg7XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIFBDRl9GaWx0ZXIoIHNoYWRvd01hcCwgdXYsIHpSZWNlaXZlciwgZmlsdGVyUmFkaXVzKTtcXG5cXHRcXHRcXHRcXHR9XFxuXCI7XG52YXIgUENTUyA9IFwiXFxuI2RlZmluZSBMSUdIVF9XT1JMRF9TSVpFIDAuMDA1XFxuXFx0XFx0XFx0XFx0I2RlZmluZSBMSUdIVF9GUlVTVFVNX1dJRFRIIDMuNzVcXG5cXHRcXHRcXHRcXHQjZGVmaW5lIExJR0hUX1NJWkVfVVYgKExJR0hUX1dPUkxEX1NJWkUgLyBMSUdIVF9GUlVTVFVNX1dJRFRIKVxcblxcdFxcdFxcdFxcdCNkZWZpbmUgTkVBUl9QTEFORSA5LjVcXG5cXG5cXHRcXHRcXHRcXHQjZGVmaW5lIE5VTV9TQU1QTEVTIDE3XFxuXFx0XFx0XFx0XFx0I2RlZmluZSBOVU1fUklOR1MgMTFcXG5cXHRcXHRcXHRcXHQjZGVmaW5lIEJMT0NLRVJfU0VBUkNIX05VTV9TQU1QTEVTIE5VTV9TQU1QTEVTXFxuXFx0XFx0XFx0XFx0I2RlZmluZSBQQ0ZfTlVNX1NBTVBMRVMgTlVNX1NBTVBMRVNcXG5cXG5cXHRcXHRcXHRcXHR2ZWMyIHBvaXNzb25EaXNrW05VTV9TQU1QTEVTXTtcXG5cXG5cXHRcXHRcXHRcXHR2b2lkIGluaXRQb2lzc29uU2FtcGxlcyggY29uc3QgaW4gdmVjMiByYW5kb21TZWVkICkge1xcblxcdFxcdFxcdFxcdFxcdGZsb2F0IEFOR0xFX1NURVAgPSBQSTIgKiBmbG9hdCggTlVNX1JJTkdTICkgLyBmbG9hdCggTlVNX1NBTVBMRVMgKTtcXG5cXHRcXHRcXHRcXHRcXHRmbG9hdCBJTlZfTlVNX1NBTVBMRVMgPSAxLjAgLyBmbG9hdCggTlVNX1NBTVBMRVMgKTtcXG5cXG5cXHRcXHRcXHRcXHRcXHQvLyBqc2ZpZGRsZSB0aGF0IHNob3dzIHNhbXBsZSBwYXR0ZXJuOiBodHRwczovL2pzZmlkZGxlLm5ldC9hMTZmZjFwNy9cXG5cXHRcXHRcXHRcXHRcXHRmbG9hdCBhbmdsZSA9IHJhbmQoIHJhbmRvbVNlZWQgKSAqIFBJMjtcXG5cXHRcXHRcXHRcXHRcXHRmbG9hdCByYWRpdXMgPSBJTlZfTlVNX1NBTVBMRVM7XFxuXFx0XFx0XFx0XFx0XFx0ZmxvYXQgcmFkaXVzU3RlcCA9IHJhZGl1cztcXG5cXG5cXHRcXHRcXHRcXHRcXHRmb3IoIGludCBpID0gMDsgaSA8IE5VTV9TQU1QTEVTOyBpICsrICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdHBvaXNzb25EaXNrW2ldID0gdmVjMiggY29zKCBhbmdsZSApLCBzaW4oIGFuZ2xlICkgKSAqIHBvdyggcmFkaXVzLCAwLjc1ICk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0cmFkaXVzICs9IHJhZGl1c1N0ZXA7XFxuXFx0XFx0XFx0XFx0XFx0XFx0YW5nbGUgKz0gQU5HTEVfU1RFUDtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdGZsb2F0IHBlbnVtYnJhU2l6ZSggY29uc3QgaW4gZmxvYXQgelJlY2VpdmVyLCBjb25zdCBpbiBmbG9hdCB6QmxvY2tlciApIHsgLy8gUGFyYWxsZWwgcGxhbmUgZXN0aW1hdGlvblxcblxcdFxcdFxcdFxcdFxcdHJldHVybiAoelJlY2VpdmVyIC0gekJsb2NrZXIpIC8gekJsb2NrZXI7XFxuXFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdGZsb2F0IGZpbmRCbG9ja2VyKCBzYW1wbGVyMkQgc2hhZG93TWFwLCBjb25zdCBpbiB2ZWMyIHV2LCBjb25zdCBpbiBmbG9hdCB6UmVjZWl2ZXIgKSB7XFxuXFx0XFx0XFx0XFx0XFx0Ly8gVGhpcyB1c2VzIHNpbWlsYXIgdHJpYW5nbGVzIHRvIGNvbXB1dGUgd2hhdFxcblxcdFxcdFxcdFxcdFxcdC8vIGFyZWEgb2YgdGhlIHNoYWRvdyBtYXAgd2Ugc2hvdWxkIHNlYXJjaFxcblxcdFxcdFxcdFxcdFxcdGZsb2F0IHNlYXJjaFJhZGl1cyA9IExJR0hUX1NJWkVfVVYgKiAoIHpSZWNlaXZlciAtIE5FQVJfUExBTkUgKSAvIHpSZWNlaXZlcjtcXG5cXHRcXHRcXHRcXHRcXHRmbG9hdCBibG9ja2VyRGVwdGhTdW0gPSAwLjA7XFxuXFx0XFx0XFx0XFx0XFx0aW50IG51bUJsb2NrZXJzID0gMDtcXG5cXG5cXHRcXHRcXHRcXHRcXHRmb3IoIGludCBpID0gMDsgaSA8IEJMT0NLRVJfU0VBUkNIX05VTV9TQU1QTEVTOyBpKysgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0ZmxvYXQgc2hhZG93TWFwRGVwdGggPSB1bnBhY2tSR0JBVG9EZXB0aCh0ZXh0dXJlMkQoc2hhZG93TWFwLCB1diArIHBvaXNzb25EaXNrW2ldICogc2VhcmNoUmFkaXVzKSk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0aWYgKCBzaGFkb3dNYXBEZXB0aCA8IHpSZWNlaXZlciApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRibG9ja2VyRGVwdGhTdW0gKz0gc2hhZG93TWFwRGVwdGg7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0bnVtQmxvY2tlcnMgKys7XFxuXFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRcXHRpZiggbnVtQmxvY2tlcnMgPT0gMCApIHJldHVybiAtMS4wO1xcblxcblxcdFxcdFxcdFxcdFxcdHJldHVybiBibG9ja2VyRGVwdGhTdW0gLyBmbG9hdCggbnVtQmxvY2tlcnMgKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0ZmxvYXQgUENGX0ZpbHRlcihzYW1wbGVyMkQgc2hhZG93TWFwLCB2ZWMyIHV2LCBmbG9hdCB6UmVjZWl2ZXIsIGZsb2F0IGZpbHRlclJhZGl1cyApIHtcXG5cXHRcXHRcXHRcXHRcXHRmbG9hdCBzdW0gPSAwLjA7XFxuXFx0XFx0XFx0XFx0XFx0Zm9yKCBpbnQgaSA9IDA7IGkgPCBQQ0ZfTlVNX1NBTVBMRVM7IGkgKysgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0ZmxvYXQgZGVwdGggPSB1bnBhY2tSR0JBVG9EZXB0aCggdGV4dHVyZTJEKCBzaGFkb3dNYXAsIHV2ICsgcG9pc3NvbkRpc2tbIGkgXSAqIGZpbHRlclJhZGl1cyApICk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0aWYoIHpSZWNlaXZlciA8PSBkZXB0aCApIHN1bSArPSAxLjA7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdGZvciggaW50IGkgPSAwOyBpIDwgUENGX05VTV9TQU1QTEVTOyBpICsrICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdGZsb2F0IGRlcHRoID0gdW5wYWNrUkdCQVRvRGVwdGgoIHRleHR1cmUyRCggc2hhZG93TWFwLCB1diArIC1wb2lzc29uRGlza1sgaSBdLnl4ICogZmlsdGVyUmFkaXVzICkgKTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRpZiggelJlY2VpdmVyIDw9IGRlcHRoICkgc3VtICs9IDEuMDtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIHN1bSAvICggMi4wICogZmxvYXQoIFBDRl9OVU1fU0FNUExFUyApICk7XFxuXFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdGZsb2F0IFBDU1MgKCBzYW1wbGVyMkQgc2hhZG93TWFwLCB2ZWM0IGNvb3JkcyApIHtcXG5cXHRcXHRcXHRcXHRcXHR2ZWMyIHV2ID0gY29vcmRzLnh5O1xcblxcdFxcdFxcdFxcdFxcdGZsb2F0IHpSZWNlaXZlciA9IGNvb3Jkcy56OyAvLyBBc3N1bWVkIHRvIGJlIGV5ZS1zcGFjZSB6IGluIHRoaXMgY29kZVxcblxcblxcdFxcdFxcdFxcdFxcdGluaXRQb2lzc29uU2FtcGxlcyggdXYgKTtcXG5cXHRcXHRcXHRcXHRcXHQvLyBTVEVQIDE6IGJsb2NrZXIgc2VhcmNoXFxuXFx0XFx0XFx0XFx0XFx0ZmxvYXQgYXZnQmxvY2tlckRlcHRoID0gZmluZEJsb2NrZXIoIHNoYWRvd01hcCwgdXYsIHpSZWNlaXZlciApO1xcblxcblxcdFxcdFxcdFxcdFxcdC8vVGhlcmUgYXJlIG5vIG9jY2x1ZGVycyBzbyBlYXJseSBvdXQgKHRoaXMgc2F2ZXMgZmlsdGVyaW5nKVxcblxcdFxcdFxcdFxcdFxcdGlmKCBhdmdCbG9ja2VyRGVwdGggPT0gLTEuMCApIHJldHVybiAxLjA7XFxuXFxuXFx0XFx0XFx0XFx0XFx0Ly8gU1RFUCAyOiBwZW51bWJyYSBzaXplXFxuXFx0XFx0XFx0XFx0XFx0ZmxvYXQgcGVudW1icmFSYXRpbyA9IHBlbnVtYnJhU2l6ZSggelJlY2VpdmVyLCBhdmdCbG9ja2VyRGVwdGggKTtcXG5cXHRcXHRcXHRcXHRcXHRmbG9hdCBmaWx0ZXJSYWRpdXMgPSBwZW51bWJyYVJhdGlvICogTElHSFRfU0laRV9VViAqIE5FQVJfUExBTkUgLyB6UmVjZWl2ZXI7XFxuXFxuXFx0XFx0XFx0XFx0XFx0Ly8gU1RFUCAzOiBmaWx0ZXJpbmdcXG5cXHRcXHRcXHRcXHRcXHQvL3JldHVybiBhdmdCbG9ja2VyRGVwdGg7XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIFBDRl9GaWx0ZXIoIHNoYWRvd01hcCwgdXYsIHpSZWNlaXZlciwgZmlsdGVyUmFkaXVzICk7XFxuXFx0XFx0XFx0XFx0fVxcblwiO1xudmFyIFBDU1NHZXRTaGFkb3cgPSBcIlxcbiByZXR1cm4gUENTUyggc2hhZG93TWFwLCBzaGFkb3dDb29yZCApO1xcblwiO1xuXG52YXIgVGhyZWVMaWdodFRlc3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUaHJlZUxpZ2h0VGVzdCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGhyZWVMaWdodFRlc3QpO1xuXG4gICAgY29uc29sZS5sb2coXCJUaHJlZSBMaWdodGluZyBUZXN0XCIpO1xuICAgIHRoaXMucmFmID0gbmV3IFJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2NlbmVSZW5kZXJlciA9IG5ldyBTY2VuZVJlbmRlcmVyKHt9KTtcbiAgICB0aGlzLmJveEVsZW1lbnRzID0ge1xuICAgICAgYm94MTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveC0xJylcbiAgICB9O1xuICAgIHRoaXMub3ZlcndyaXRlU2hhZG93TWFwKCk7XG4gICAgdGhpcy5jcmVhdGVHbHRmU2NlbmUxKCk7XG4gICAgdGhpcy5zY2VuZVJlbmRlcmVyLnJlc2l6ZSgpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVGhyZWVMaWdodFRlc3QsIFt7XG4gICAga2V5OiBcIm92ZXJ3cml0ZVNoYWRvd01hcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvdmVyd3JpdGVTaGFkb3dNYXAoKSB7XG4gICAgICB2YXIgc2hhZGVyID0gVEhSRUUuU2hhZGVyQ2h1bmsuc2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ7XG4gICAgICBzaGFkZXIgPSBzaGFkZXIucmVwbGFjZSgnI2lmZGVmIFVTRV9TSEFET1dNQVAnLCAnI2lmZGVmIFVTRV9TSEFET1dNQVAnICsgUENTUzIpO1xuICAgICAgc2hhZGVyID0gc2hhZGVyLnJlcGxhY2UoJyNpZiBkZWZpbmVkKCBTSEFET1dNQVBfVFlQRV9QQ0YgKScsIFBDU1NHZXRTaGFkb3cgKyAnI2lmIGRlZmluZWQoIFNIQURPV01BUF9UWVBFX1BDRiApJyk7XG4gICAgICBUSFJFRS5TaGFkZXJDaHVuay5zaGFkb3dtYXBfcGFyc19mcmFnbWVudCA9IHNoYWRlcjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlR2x0ZlNjZW5lMVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVHbHRmU2NlbmUxKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGRvbUVsZW1lbnQgPSB0aGlzLmJveEVsZW1lbnRzLmJveDE7XG4gICAgICB2YXIgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICAgIHZhciBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoMzAsIGRvbUVsZW1lbnQub2Zmc2V0V2lkdGggLyBkb21FbGVtZW50Lm9mZnNldFdpZHRoLCAxLCAxMDAwMCk7XG4gICAgICBjYW1lcmEucG9zaXRpb24ueCA9IDc7XG4gICAgICBjYW1lcmEucG9zaXRpb24ueSA9IDEzO1xuICAgICAgY2FtZXJhLnBvc2l0aW9uLnogPSA3O1xuICAgICAgdGhpcy5zY2VuZVJlbmRlcmVyLmFkZFNjZW5lKHtcbiAgICAgICAgcmVzaXppbmdBbGdvOiAnY29udGFpbicsXG4gICAgICAgIHJlc2l6aW5nT3B0aW9uczoge1xuICAgICAgICAgIHNjYWxhclg6IDEsXG4gICAgICAgICAgc2NhbGFyWTogMSxcbiAgICAgICAgICB1c2VGb3Y6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGRvbUVsZW1lbnQ6IGRvbUVsZW1lbnQsXG4gICAgICAgIHNjZW5lOiBzY2VuZSxcbiAgICAgICAgY2FtZXJhOiBjYW1lcmEsXG4gICAgICAgIG9uSW5pdDogZnVuY3Rpb24gb25Jbml0KHJlbmRlcmVyLCBzY2VuZSwgY2FtZXJhKSB7XG4gICAgICAgICAgc2NlbmUudXNlckRhdGEuc3BoZXJlR3JvdXAgPSBfdGhpcy5hZGRSYW5kb21TcGhlcmVzKHNjZW5lKTtcbiAgICAgICAgICBzY2VuZS51c2VyRGF0YS5ncm91cCA9IF90aGlzLmFkZEdyb3VuZChzY2VuZSk7XG4gICAgICAgICAgdmFyIGFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoJyNGRkZGRkYnKTtcbiAgICAgICAgICBhbWJpZW50TGlnaHQuaW50ZW5zaXR5ID0gMC41O1xuICAgICAgICAgIHNjZW5lLmFkZChhbWJpZW50TGlnaHQpOyAvLyBMaWdodCAxXG5cbiAgICAgICAgICB2YXIgbGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGRmZWJmZiwgMSk7XG4gICAgICAgICAgbGlnaHQucG9zaXRpb24uc2V0KDIsIDgsIDQpO1xuICAgICAgICAgIGxpZ2h0LmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIGxpZ2h0LnNoYWRvdy5tYXBTaXplLndpZHRoID0gMTAyNDtcbiAgICAgICAgICBsaWdodC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSAxMDI0OyAvLyBUaGlzIGJsdXJzIGJ1dCBkb2Vzbid0IGxvb2sgZ3JlYXQuXG4gICAgICAgICAgLy8gbGlnaHQuc2hhZG93LnJhZGl1cyA9IDIwO1xuICAgICAgICAgIC8vIGxpZ2h0LnNoYWRvdy5jYW1lcmEuZmFyID0gMjAwO1xuICAgICAgICAgIC8vIEFkanVzdCBmb3IgYmx1cnJ5bmVzc1xuXG4gICAgICAgICAgbGlnaHQuc2hhZG93LmNhbWVyYS5mYXIgPSA1MDtcbiAgICAgICAgICBsaWdodC5zaGFkb3cuY2FtZXJhLm5lYXIgPSAxO1xuICAgICAgICAgIHNjZW5lLmFkZChsaWdodCk7XG4gICAgICAgICAgc2NlbmUuYWRkKG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIobGlnaHQuc2hhZG93LmNhbWVyYSkpOyAvLyB2YXIgbGlnaHQyID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhkZmViZmYsIDEpO1xuICAgICAgICAgIC8vIGxpZ2h0Mi5wb3NpdGlvbi5zZXQoMCwgOCwgLTUpO1xuICAgICAgICAgIC8vIGxpZ2h0Mi5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICAvLyBsaWdodDIuc2hhZG93Lm1hcFNpemUud2lkdGggPSAxMDI0O1xuICAgICAgICAgIC8vIGxpZ2h0Mi5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSAxMDI0O1xuICAgICAgICAgIC8vIC8vIFRoaXMgYmx1cnMgYnV0IGRvZXNuJ3QgbG9vayBncmVhdC5cbiAgICAgICAgICAvLyAvLyBsaWdodC5zaGFkb3cucmFkaXVzID0gMjA7XG4gICAgICAgICAgLy8gLy8gbGlnaHQuc2hhZG93LmNhbWVyYS5mYXIgPSAyMDA7XG4gICAgICAgICAgLy8gLy8gQWRqdXN0IGZvciBibHVycnluZXNzXG4gICAgICAgICAgLy8gbGlnaHQyLnNoYWRvdy5jYW1lcmEuZmFyID0gMTAwO1xuICAgICAgICAgIC8vIHNjZW5lLmFkZChsaWdodDIpO1xuICAgICAgICAgIC8vIHNjZW5lLmFkZChuZXcgVEhSRUUuQ2FtZXJhSGVscGVyKGxpZ2h0Mi5zaGFkb3cuY2FtZXJhKSk7XG4gICAgICAgICAgLy8gQWRkIG9yYml0IGNvbnRyb2xzLlxuXG4gICAgICAgICAgdmFyIGNvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHMoY2FtZXJhLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBjb250cm9scy5tYXhQb2xhckFuZ2xlID0gTWF0aC5QSSAqIDAuNTtcbiAgICAgICAgICBjb250cm9scy5taW5EaXN0YW5jZSA9IDEwO1xuICAgICAgICAgIGNvbnRyb2xzLm1heERpc3RhbmNlID0gNzU7XG4gICAgICAgICAgY29udHJvbHMudGFyZ2V0LnNldCgwLCAyLjUsIDApO1xuICAgICAgICAgIGNvbnRyb2xzLnVwZGF0ZSgpO1xuICAgICAgICAgIHNjZW5lLnVzZXJEYXRhLmNvbnRyb2xzID0gY29udHJvbHM7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQmVmb3JlUmVuZGVyOiBmdW5jdGlvbiBvbkJlZm9yZVJlbmRlcihyZW5kZXJlciwgc2NlbmUpIHtcbiAgICAgICAgICByZW5kZXJlci5nYW1tYUlucHV0ID0gdHJ1ZTtcbiAgICAgICAgICByZW5kZXJlci5nYW1tYU91dHB1dCA9IHRydWU7XG4gICAgICAgICAgcmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlOyAvLyByZW5kZXJlci5zaGFkb3dNYXBTb2Z0ID0gdHJ1ZTtcbiAgICAgICAgICAvLyByZW5kZXJlci5zaGFkb3dNYXBUeXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcblxuICAgICAgICAgIHNjZW5lLnVzZXJEYXRhLnNwaGVyZUdyb3VwLnRyYXZlcnNlKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgaWYgKCdwaGFzZScgaW4gY2hpbGQudXNlckRhdGEpIHtcbiAgICAgICAgICAgICAgY2hpbGQucG9zaXRpb24ueSA9IE1hdGguYWJzKE1hdGguc2luKF90aGlzLnJhZi5nZXRFbGFwc2VkVGltZSgpICsgY2hpbGQudXNlckRhdGEucGhhc2UpKSAqIDUgKyAwLjM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgc2hhZG93IGNhc3Rpbmcgc3BoZXJlcy5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFkZFJhbmRvbVNwaGVyZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkUmFuZG9tU3BoZXJlcyhzY2VuZSkge1xuICAgICAgdmFyIGdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuU3BoZXJlQnVmZmVyR2VvbWV0cnkoMC4zLCBtYXRoZi5nZXRSYW5kb21JbnQoMTAsIDUwKSwgbWF0aGYuZ2V0UmFuZG9tSW50KDEwLCA1MCkpO1xuICAgICAgICB2YXIgbWF0ZXJpYWw7XG5cbiAgICAgICAgaWYgKGkgJSAyID09IDApIHtcbiAgICAgICAgICBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgICAgICAgICBjb2xvcjogTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe1xuICAgICAgICAgICAgY29sb3I6IE1hdGgucmFuZG9tKCkgKiAweGZmZmZmZlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNwaGVyZSA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG4gICAgICAgIHNwaGVyZS5wb3NpdGlvbi54ID0gTWF0aC5yYW5kb20oKSAtIDAuNTtcbiAgICAgICAgc3BoZXJlLnBvc2l0aW9uLnogPSBNYXRoLnJhbmRvbSgpIC0gMC41O1xuICAgICAgICBzcGhlcmUucG9zaXRpb24ubm9ybWFsaXplKCk7XG4gICAgICAgIHNwaGVyZS5wb3NpdGlvbi5tdWx0aXBseVNjYWxhcihNYXRoLnJhbmRvbSgpICogMiArIDEpO1xuICAgICAgICBzcGhlcmUuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgIHNwaGVyZS5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgc3BoZXJlLnVzZXJEYXRhLnBoYXNlID0gTWF0aC5yYW5kb20oKSAqIE1hdGguUEk7XG4gICAgICAgIGdyb3VwLmFkZChzcGhlcmUpO1xuICAgICAgfVxuXG4gICAgICBzY2VuZS5hZGQoZ3JvdXApO1xuICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhZGRHcm91bmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkR3JvdW5kKHNjZW5lKSB7XG4gICAgICB2YXIgZ3JvdW5kTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe1xuICAgICAgICBjb2xvcjogMHhGRkZGRkYsXG4gICAgICAgIHNwZWN1bGFyOiAweEZGRkZGRkZcbiAgICAgIH0pO1xuICAgICAgdmFyIG1lc2ggPSBuZXcgVEhSRUUuTWVzaChuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeSgyMDAwMCwgMjAwMDAsIDgsIDgpLCBncm91bmRNYXRlcmlhbCk7XG4gICAgICBtZXNoLnJvdGF0aW9uLnggPSAtTWF0aC5QSSAvIDI7XG4gICAgICBtZXNoLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgc2NlbmUuYWRkKG1lc2gpO1xuICAgICAgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKG5ldyBUSFJFRS5Cb3hCdWZmZXJHZW9tZXRyeSgxLCA0LCAxKSwgZ3JvdW5kTWF0ZXJpYWwpO1xuICAgICAgbWVzaC5wb3NpdGlvbi55ID0gMjtcbiAgICAgIG1lc2guY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICBtZXNoLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgc2NlbmUuYWRkKG1lc2gpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJhZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJhZigpIHtcbiAgICAgIHRoaXMuc2NlbmVSZW5kZXJlci5yZW5kZXIoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVGhyZWVMaWdodFRlc3Q7XG59KCk7XG5cbmV4cG9ydCB7IFRocmVlTGlnaHRUZXN0IGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/three-light-test.js\n");

/***/ }),

/***/ "./examples/three-light-test2.js":
/*!***************************************!*\
  !*** ./examples/three-light-test2.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ThreeLightTest2; });\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var _lib_threef_scene_renderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/threef/scene-renderer */ \"./lib/threef/scene-renderer.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_threef_threef__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/threef/threef */ \"./lib/threef/threef.js\");\n/* harmony import */ var _lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/shaders/three-shader-chunks/degu-mathf */ \"./lib/shaders/three-shader-chunks/degu-mathf.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n // Import shader chunks\n\n\nObject(_lib_shaders_three_shader_chunks_degu_mathf__WEBPACK_IMPORTED_MODULE_7__[\"deguMathf\"])(three__WEBPACK_IMPORTED_MODULE_1__);\nvar vshader = \"\\n#include <common>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n\\nvarying vec3 vPosition;\\nvarying vec2 v_uv;\\nvarying vec3 vWorldNormal;\\nvarying mat4 vModelMatrix;\\n\\nvoid main() {\\n  vPosition = position;\\n  v_uv = uv;\\n\\n//   vWorldNormal = normalize((modelMatrix * vec4(normal, 0.0)).xyz);\\n  vModelMatrix = modelMatrix;\\n\\n  #include <begin_vertex>\\n  #include <project_vertex>\\n  #include <worldpos_vertex>\\n  #include <shadowmap_vertex>\\n  #include <fog_vertex>\\n}\\n\";\nvar fshader = \"\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <dithering_pars_fragment>\\n\\n\\n// https://github.com/mrdoob/three.js/blob/master/src/renderers/shaders/ShaderChunk/shadowmask_pars_fragment.glsl.js\\n// Get the shadow value at specific coordinates.\\nfloat getCustomShadowMask(vec2 offset) {\\n    float shadow = 1.0;\\n\\n    #ifdef USE_SHADOWMAP\\n    #if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n        directionalLight = directionalLights[ i ];\\n\\n        // Get the shadow value.\\n        float s = 1.0;\\n        vec4 coords = vDirectionalShadowCoord[ i ];\\n        coords.x += offset.x;\\n        coords.z += -offset.y;\\n        s =\\n           getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize,\\n           directionalLight.shadowBias,\\n           directionalLight.shadowRadius,\\n           coords\\n          );\\n\\n        shadow *= s;\\n\\t}\\n\\t#endif\\n\\n    #endif\\n\\n\\treturn shadow;\\n}\\n\\n\\n\\nuniform vec2 u_resolution;\\nvarying vec2 v_uv;\\nvarying vec3 vPosition;\\nvarying vec3 vWorldNormal;\\nvarying mat4 vModelMatrix;\\n\\nvoid main() {\\n  float zReceiver = vPosition.z;\\n  vec3 worldPosition = ( vModelMatrix * vec4( vPosition, 1.0 )).xyz;\\n  vec2 uv = vec2(gl_FragCoord.xy / u_resolution.xy);\\n\\n  vec3 finalColor = vec3(1.0, 1.0, 1.0);\\n  vec3 shadowColor = vec3(0, 0, 0);\\n  float shadowPower = 0.1;\\n  float shadowStrength = 1.0;\\n\\n  for ( int i = 0; i < 20; i ++ ) {\\n    vec2 offset = vec2(\\n            float(i) * 0.01,\\n            float(i) * 0.01);\\n\\n    float s = mix(\\n        getCustomShadowMask(vec2(0.0, 0.0)),\\n        getCustomShadowMask(offset),\\n        0.5);\\n\\n    shadowStrength *= s;\\n  }\\n\\n//   shadowStrength *= shadowPower;\\n\\n\\n  vec3 color = mix(finalColor, shadowColor, shadowStrength);\\n\\n  vec2 direction = vec2(1.0, 1.0);\\n\\n  gl_FragColor = vec4(color, 1.0);\\n  #include <fog_fragment>\\n  #include <dithering_fragment>\\n}\\n\";\n\nvar ThreeLightTest2 = /*#__PURE__*/function () {\n  function ThreeLightTest2() {\n    _classCallCheck(this, ThreeLightTest2);\n\n    console.log(\"Three Lighting Test2\");\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_5__[\"Raf\"](this.onRaf.bind(this));\n    this.sceneRenderer = new _lib_threef_scene_renderer__WEBPACK_IMPORTED_MODULE_3__[\"SceneRenderer\"]({});\n    this.boxElements = {\n      box1: document.getElementById('box-1')\n    };\n    this.createGltfScene1();\n    this.sceneRenderer.resize();\n    this.raf.start();\n  }\n\n  _createClass(ThreeLightTest2, [{\n    key: \"createGltfScene1\",\n    value: function createGltfScene1() {\n      var _this = this;\n\n      var domElement = this.boxElements.box1;\n      var scene = new three__WEBPACK_IMPORTED_MODULE_1__[\"Scene\"]();\n      var camera = new three__WEBPACK_IMPORTED_MODULE_1__[\"PerspectiveCamera\"](30, domElement.offsetWidth / domElement.offsetWidth, 1, 10000);\n      camera.position.x = 7;\n      camera.position.y = 13;\n      camera.position.z = 7; // Setup uniforms.\n\n      this.uniforms = {};\n      this.uniforms = three__WEBPACK_IMPORTED_MODULE_1__[\"UniformsUtils\"].merge([three__WEBPACK_IMPORTED_MODULE_1__[\"UniformsLib\"][\"common\"], three__WEBPACK_IMPORTED_MODULE_1__[\"UniformsLib\"][\"lights\"], three__WEBPACK_IMPORTED_MODULE_1__[\"UniformsLib\"][\"fog\"]]); // this.uniforms.u_light = { value: new THREE.Vector3(0.5, 0.8, 0.1) };\n      // this.uniforms.u_resolution = { value: new THREE.Vector2(1.0, 1.0) };\n      // this.uniforms.u_color = { value: new THREE.Color(0xaa6611) };\n      // this.uniforms.u_diffuse_map = { value: new THREE.TextureLoader().load('./public/bricks-diffuse3.png') };\n      // this.uniforms.u_normal_map = { value: new THREE.TextureLoader().load('./public/bricks-normal3.png') };\n      // this.uniforms.u_time = { value: 0.0 };\n\n      this.uniforms.u_resolution = {\n        value: {\n          x: 0.0,\n          y: 0.0\n        }\n      }; // Primary shader maaterial\n\n      this.material = new three__WEBPACK_IMPORTED_MODULE_1__[\"ShaderMaterial\"]({\n        uniforms: this.uniforms,\n        vertexShader: vshader,\n        fragmentShader: fshader,\n        lights: true,\n        wireframe: false,\n        dithering: true,\n        transparent: true\n      });\n      this.sceneRenderer.addScene({\n        resizingAlgo: 'contain',\n        resizingOptions: {\n          scalarX: 1,\n          scalarY: 1,\n          useFov: false\n        },\n        domElement: domElement,\n        scene: scene,\n        camera: camera,\n        onInit: function onInit(renderer, scene, camera) {\n          scene.userData.sphereGroup = _this.addRandomSpheres(scene);\n          scene.userData.group = _this.addGround(scene);\n          var ambientLight = new three__WEBPACK_IMPORTED_MODULE_1__[\"AmbientLight\"]('#FFFFFF');\n          ambientLight.intensity = 0.5;\n          scene.add(ambientLight); // Light 1\n\n          var light = new three__WEBPACK_IMPORTED_MODULE_1__[\"DirectionalLight\"](0xdfebff, 1);\n          light.position.set(2, 8, 4);\n          light.castShadow = true;\n          light.shadow.mapSize.set(2048, 2048); // This blurs but doesn't look great.\n          // light.shadow.radius = 1;\n          // light.shadow.camera.far = 200;\n\n          light.shadowDarkness = 0.5; // Adjust for blurryness\n\n          light.shadow.camera.far = 50;\n          light.shadow.camera.near = 1;\n          scene.add(light);\n          scene.add(new three__WEBPACK_IMPORTED_MODULE_1__[\"CameraHelper\"](light.shadow.camera));\n          renderer.gammaInput = true;\n          renderer.gammaOutput = true;\n          renderer.shadowMap.enabled = true;\n          renderer.shadowMap.type = three__WEBPACK_IMPORTED_MODULE_1__[\"PCFSoftShadowMap\"];\n          renderer.shadowMap.soft = true;\n          renderer.shadowMap.needsUpdate = true;\n          renderer.shadowMap.bias = 0.000001; // Add orbit controls.\n\n          var controls = new three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_2__[\"OrbitControls\"](camera, domElement);\n          controls.maxPolarAngle = Math.PI * 0.5;\n          controls.minDistance = 10;\n          controls.maxDistance = 75;\n          controls.target.set(0, 2.5, 0);\n          controls.update();\n          scene.userData.controls = controls;\n        },\n        onResize: function onResize(renderer, scene) {\n          _this.uniforms.u_resolution.value.x = domElement.offsetWidth;\n          _this.uniforms.u_resolution.value.y = domElement.offsetHeight;\n        },\n        onBeforeRender: function onBeforeRender(renderer, scene) {\n          // if (this.uniforms) {\n          //     this.uniforms.u_time.value += this.raf.getDelta(true);\n          // }\n          scene.userData.sphereGroup.traverse(function (child) {\n            if ('phase' in child.userData) {\n              child.position.y = Math.abs(Math.sin(_this.raf.getElapsedTime() + child.userData.phase)) * 5 + 0.3;\n            }\n          });\n        }\n      }, true);\n    }\n    /**\n     * Add shadow casting spheres.\n     */\n\n  }, {\n    key: \"addRandomSpheres\",\n    value: function addRandomSpheres(scene) {\n      var group = new three__WEBPACK_IMPORTED_MODULE_1__[\"Group\"]();\n\n      for (var i = 0; i < 2; i++) {\n        var geometry = new three__WEBPACK_IMPORTED_MODULE_1__[\"SphereBufferGeometry\"](0.3, _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].getRandomInt(10, 50), _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].getRandomInt(10, 50));\n        var material;\n\n        if (i % 2 == 0) {\n          material = new three__WEBPACK_IMPORTED_MODULE_1__[\"MeshStandardMaterial\"]({\n            color: Math.random() * 0xffffff\n          });\n        } else {\n          material = new three__WEBPACK_IMPORTED_MODULE_1__[\"MeshPhongMaterial\"]({\n            color: Math.random() * 0xffffff\n          });\n        }\n\n        var sphere = new three__WEBPACK_IMPORTED_MODULE_1__[\"Mesh\"](geometry, material);\n        sphere.position.x = Math.random() - 0.5;\n        sphere.position.z = Math.random() - 0.5;\n        sphere.position.normalize();\n        sphere.position.multiplyScalar(Math.random() * 2 + 1);\n        sphere.castShadow = true;\n        sphere.receiveShadow = true;\n        sphere.userData.phase = Math.random() * Math.PI;\n        group.add(sphere);\n      }\n\n      scene.add(group);\n      return group;\n    }\n  }, {\n    key: \"addGround\",\n    value: function addGround(scene) {\n      var groundMaterial = new three__WEBPACK_IMPORTED_MODULE_1__[\"MeshPhongMaterial\"]({\n        color: 0xFFFFFF,\n        specular: 0xFFFFFFF\n      });\n      var mesh = new three__WEBPACK_IMPORTED_MODULE_1__[\"Mesh\"](new three__WEBPACK_IMPORTED_MODULE_1__[\"PlaneBufferGeometry\"](20000, 20000, 8, 8), this.material);\n      mesh.rotation.x = -Math.PI / 2;\n      mesh.receiveShadow = true;\n      scene.add(mesh);\n      mesh = new three__WEBPACK_IMPORTED_MODULE_1__[\"Mesh\"](new three__WEBPACK_IMPORTED_MODULE_1__[\"BoxBufferGeometry\"](1, 4, 1), groundMaterial);\n      mesh.position.y = 2;\n      mesh.castShadow = true;\n      mesh.receiveShadow = true;\n      scene.add(mesh);\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf() {\n      this.sceneRenderer.render();\n    }\n  }]);\n\n  return ThreeLightTest2;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1saWdodC10ZXN0Mi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLWxpZ2h0LXRlc3QyLmpzPzY0MWIiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5pbXBvcnQgeyBHTFRGTG9hZGVyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlcic7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBPcmJpdENvbnRyb2xzIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2NvbnRyb2xzL09yYml0Q29udHJvbHMnO1xuaW1wb3J0IHsgU2NlbmVSZW5kZXJlciB9IGZyb20gJy4uL2xpYi90aHJlZWYvc2NlbmUtcmVuZGVyZXInO1xuaW1wb3J0IHsgbWF0aGYgfSBmcm9tICcuLi9saWIvbWF0aGYvbWF0aGYnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgdGhyZWVmIH0gZnJvbSAnLi4vbGliL3RocmVlZi90aHJlZWYnOyAvLyBJbXBvcnQgc2hhZGVyIGNodW5rc1xuXG5pbXBvcnQgeyBkZWd1TWF0aGYgfSBmcm9tICcuLi9saWIvc2hhZGVycy90aHJlZS1zaGFkZXItY2h1bmtzL2RlZ3UtbWF0aGYnO1xuZGVndU1hdGhmKFRIUkVFKTtcbnZhciB2c2hhZGVyID0gXCJcXG4jaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XFxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX3ZlcnRleD5cXG5cXG52YXJ5aW5nIHZlYzMgdlBvc2l0aW9uO1xcbnZhcnlpbmcgdmVjMiB2X3V2O1xcbnZhcnlpbmcgdmVjMyB2V29ybGROb3JtYWw7XFxudmFyeWluZyBtYXQ0IHZNb2RlbE1hdHJpeDtcXG5cXG52b2lkIG1haW4oKSB7XFxuICB2UG9zaXRpb24gPSBwb3NpdGlvbjtcXG4gIHZfdXYgPSB1djtcXG5cXG4vLyAgIHZXb3JsZE5vcm1hbCA9IG5vcm1hbGl6ZSgobW9kZWxNYXRyaXggKiB2ZWM0KG5vcm1hbCwgMC4wKSkueHl6KTtcXG4gIHZNb2RlbE1hdHJpeCA9IG1vZGVsTWF0cml4O1xcblxcbiAgI2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cXG4gICNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cXG4gICNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+XFxuICAjaW5jbHVkZSA8c2hhZG93bWFwX3ZlcnRleD5cXG4gICNpbmNsdWRlIDxmb2dfdmVydGV4Plxcbn1cXG5cIjtcbnZhciBmc2hhZGVyID0gXCJcXG4jaW5jbHVkZSA8Y29tbW9uPlxcbiNpbmNsdWRlIDxwYWNraW5nPlxcbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8YnNkZnM+XFxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxcbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc19mcmFnbWVudD5cXG4jaW5jbHVkZSA8c2hhZG93bWFza19wYXJzX2ZyYWdtZW50PlxcbiNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD5cXG5cXG5cXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2Jsb2IvbWFzdGVyL3NyYy9yZW5kZXJlcnMvc2hhZGVycy9TaGFkZXJDaHVuay9zaGFkb3dtYXNrX3BhcnNfZnJhZ21lbnQuZ2xzbC5qc1xcbi8vIEdldCB0aGUgc2hhZG93IHZhbHVlIGF0IHNwZWNpZmljIGNvb3JkaW5hdGVzLlxcbmZsb2F0IGdldEN1c3RvbVNoYWRvd01hc2sodmVjMiBvZmZzZXQpIHtcXG4gICAgZmxvYXQgc2hhZG93ID0gMS4wO1xcblxcbiAgICAjaWZkZWYgVVNFX1NIQURPV01BUFxcbiAgICAjaWYgTlVNX0RJUl9MSUdIVF9TSEFET1dTID4gMFxcblxcdERpcmVjdGlvbmFsTGlnaHQgZGlyZWN0aW9uYWxMaWdodDtcXG5cXHQjcHJhZ21hIHVucm9sbF9sb29wXFxuXFx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX0RJUl9MSUdIVF9TSEFET1dTOyBpICsrICkge1xcbiAgICAgICAgZGlyZWN0aW9uYWxMaWdodCA9IGRpcmVjdGlvbmFsTGlnaHRzWyBpIF07XFxuXFxuICAgICAgICAvLyBHZXQgdGhlIHNoYWRvdyB2YWx1ZS5cXG4gICAgICAgIGZsb2F0IHMgPSAxLjA7XFxuICAgICAgICB2ZWM0IGNvb3JkcyA9IHZEaXJlY3Rpb25hbFNoYWRvd0Nvb3JkWyBpIF07XFxuICAgICAgICBjb29yZHMueCArPSBvZmZzZXQueDtcXG4gICAgICAgIGNvb3Jkcy56ICs9IC1vZmZzZXQueTtcXG4gICAgICAgIHMgPVxcbiAgICAgICAgICAgZ2V0U2hhZG93KCBkaXJlY3Rpb25hbFNoYWRvd01hcFsgaSBdLCBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvd01hcFNpemUsXFxuICAgICAgICAgICBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvd0JpYXMsXFxuICAgICAgICAgICBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvd1JhZGl1cyxcXG4gICAgICAgICAgIGNvb3Jkc1xcbiAgICAgICAgICApO1xcblxcbiAgICAgICAgc2hhZG93ICo9IHM7XFxuXFx0fVxcblxcdCNlbmRpZlxcblxcbiAgICAjZW5kaWZcXG5cXG5cXHRyZXR1cm4gc2hhZG93O1xcbn1cXG5cXG5cXG5cXG51bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO1xcbnZhcnlpbmcgdmVjMiB2X3V2O1xcbnZhcnlpbmcgdmVjMyB2UG9zaXRpb247XFxudmFyeWluZyB2ZWMzIHZXb3JsZE5vcm1hbDtcXG52YXJ5aW5nIG1hdDQgdk1vZGVsTWF0cml4O1xcblxcbnZvaWQgbWFpbigpIHtcXG4gIGZsb2F0IHpSZWNlaXZlciA9IHZQb3NpdGlvbi56O1xcbiAgdmVjMyB3b3JsZFBvc2l0aW9uID0gKCB2TW9kZWxNYXRyaXggKiB2ZWM0KCB2UG9zaXRpb24sIDEuMCApKS54eXo7XFxuICB2ZWMyIHV2ID0gdmVjMihnbF9GcmFnQ29vcmQueHkgLyB1X3Jlc29sdXRpb24ueHkpO1xcblxcbiAgdmVjMyBmaW5hbENvbG9yID0gdmVjMygxLjAsIDEuMCwgMS4wKTtcXG4gIHZlYzMgc2hhZG93Q29sb3IgPSB2ZWMzKDAsIDAsIDApO1xcbiAgZmxvYXQgc2hhZG93UG93ZXIgPSAwLjE7XFxuICBmbG9hdCBzaGFkb3dTdHJlbmd0aCA9IDEuMDtcXG5cXG4gIGZvciAoIGludCBpID0gMDsgaSA8IDIwOyBpICsrICkge1xcbiAgICB2ZWMyIG9mZnNldCA9IHZlYzIoXFxuICAgICAgICAgICAgZmxvYXQoaSkgKiAwLjAxLFxcbiAgICAgICAgICAgIGZsb2F0KGkpICogMC4wMSk7XFxuXFxuICAgIGZsb2F0IHMgPSBtaXgoXFxuICAgICAgICBnZXRDdXN0b21TaGFkb3dNYXNrKHZlYzIoMC4wLCAwLjApKSxcXG4gICAgICAgIGdldEN1c3RvbVNoYWRvd01hc2sob2Zmc2V0KSxcXG4gICAgICAgIDAuNSk7XFxuXFxuICAgIHNoYWRvd1N0cmVuZ3RoICo9IHM7XFxuICB9XFxuXFxuLy8gICBzaGFkb3dTdHJlbmd0aCAqPSBzaGFkb3dQb3dlcjtcXG5cXG5cXG4gIHZlYzMgY29sb3IgPSBtaXgoZmluYWxDb2xvciwgc2hhZG93Q29sb3IsIHNoYWRvd1N0cmVuZ3RoKTtcXG5cXG4gIHZlYzIgZGlyZWN0aW9uID0gdmVjMigxLjAsIDEuMCk7XFxuXFxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxLjApO1xcbiAgI2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cXG4gICNpbmNsdWRlIDxkaXRoZXJpbmdfZnJhZ21lbnQ+XFxufVxcblwiO1xuXG52YXIgVGhyZWVMaWdodFRlc3QyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVGhyZWVMaWdodFRlc3QyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaHJlZUxpZ2h0VGVzdDIpO1xuXG4gICAgY29uc29sZS5sb2coXCJUaHJlZSBMaWdodGluZyBUZXN0MlwiKTtcbiAgICB0aGlzLnJhZiA9IG5ldyBSYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnNjZW5lUmVuZGVyZXIgPSBuZXcgU2NlbmVSZW5kZXJlcih7fSk7XG4gICAgdGhpcy5ib3hFbGVtZW50cyA9IHtcbiAgICAgIGJveDE6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3gtMScpXG4gICAgfTtcbiAgICB0aGlzLmNyZWF0ZUdsdGZTY2VuZTEoKTtcbiAgICB0aGlzLnNjZW5lUmVuZGVyZXIucmVzaXplKCk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUaHJlZUxpZ2h0VGVzdDIsIFt7XG4gICAga2V5OiBcImNyZWF0ZUdsdGZTY2VuZTFcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlR2x0ZlNjZW5lMSgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBkb21FbGVtZW50ID0gdGhpcy5ib3hFbGVtZW50cy5ib3gxO1xuICAgICAgdmFyIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgICB2YXIgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDMwLCBkb21FbGVtZW50Lm9mZnNldFdpZHRoIC8gZG9tRWxlbWVudC5vZmZzZXRXaWR0aCwgMSwgMTAwMDApO1xuICAgICAgY2FtZXJhLnBvc2l0aW9uLnggPSA3O1xuICAgICAgY2FtZXJhLnBvc2l0aW9uLnkgPSAxMztcbiAgICAgIGNhbWVyYS5wb3NpdGlvbi56ID0gNzsgLy8gU2V0dXAgdW5pZm9ybXMuXG5cbiAgICAgIHRoaXMudW5pZm9ybXMgPSB7fTtcbiAgICAgIHRoaXMudW5pZm9ybXMgPSBUSFJFRS5Vbmlmb3Jtc1V0aWxzLm1lcmdlKFtUSFJFRS5Vbmlmb3Jtc0xpYltcImNvbW1vblwiXSwgVEhSRUUuVW5pZm9ybXNMaWJbXCJsaWdodHNcIl0sIFRIUkVFLlVuaWZvcm1zTGliW1wiZm9nXCJdXSk7IC8vIHRoaXMudW5pZm9ybXMudV9saWdodCA9IHsgdmFsdWU6IG5ldyBUSFJFRS5WZWN0b3IzKDAuNSwgMC44LCAwLjEpIH07XG4gICAgICAvLyB0aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbiA9IHsgdmFsdWU6IG5ldyBUSFJFRS5WZWN0b3IyKDEuMCwgMS4wKSB9O1xuICAgICAgLy8gdGhpcy51bmlmb3Jtcy51X2NvbG9yID0geyB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4YWE2NjExKSB9O1xuICAgICAgLy8gdGhpcy51bmlmb3Jtcy51X2RpZmZ1c2VfbWFwID0geyB2YWx1ZTogbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKCcuL3B1YmxpYy9icmlja3MtZGlmZnVzZTMucG5nJykgfTtcbiAgICAgIC8vIHRoaXMudW5pZm9ybXMudV9ub3JtYWxfbWFwID0geyB2YWx1ZTogbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKCcuL3B1YmxpYy9icmlja3Mtbm9ybWFsMy5wbmcnKSB9O1xuICAgICAgLy8gdGhpcy51bmlmb3Jtcy51X3RpbWUgPSB7IHZhbHVlOiAwLjAgfTtcblxuICAgICAgdGhpcy51bmlmb3Jtcy51X3Jlc29sdXRpb24gPSB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgeDogMC4wLFxuICAgICAgICAgIHk6IDAuMFxuICAgICAgICB9XG4gICAgICB9OyAvLyBQcmltYXJ5IHNoYWRlciBtYWF0ZXJpYWxcblxuICAgICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICAgIHVuaWZvcm1zOiB0aGlzLnVuaWZvcm1zLFxuICAgICAgICB2ZXJ0ZXhTaGFkZXI6IHZzaGFkZXIsXG4gICAgICAgIGZyYWdtZW50U2hhZGVyOiBmc2hhZGVyLFxuICAgICAgICBsaWdodHM6IHRydWUsXG4gICAgICAgIHdpcmVmcmFtZTogZmFsc2UsXG4gICAgICAgIGRpdGhlcmluZzogdHJ1ZSxcbiAgICAgICAgdHJhbnNwYXJlbnQ6IHRydWVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zY2VuZVJlbmRlcmVyLmFkZFNjZW5lKHtcbiAgICAgICAgcmVzaXppbmdBbGdvOiAnY29udGFpbicsXG4gICAgICAgIHJlc2l6aW5nT3B0aW9uczoge1xuICAgICAgICAgIHNjYWxhclg6IDEsXG4gICAgICAgICAgc2NhbGFyWTogMSxcbiAgICAgICAgICB1c2VGb3Y6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGRvbUVsZW1lbnQ6IGRvbUVsZW1lbnQsXG4gICAgICAgIHNjZW5lOiBzY2VuZSxcbiAgICAgICAgY2FtZXJhOiBjYW1lcmEsXG4gICAgICAgIG9uSW5pdDogZnVuY3Rpb24gb25Jbml0KHJlbmRlcmVyLCBzY2VuZSwgY2FtZXJhKSB7XG4gICAgICAgICAgc2NlbmUudXNlckRhdGEuc3BoZXJlR3JvdXAgPSBfdGhpcy5hZGRSYW5kb21TcGhlcmVzKHNjZW5lKTtcbiAgICAgICAgICBzY2VuZS51c2VyRGF0YS5ncm91cCA9IF90aGlzLmFkZEdyb3VuZChzY2VuZSk7XG4gICAgICAgICAgdmFyIGFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoJyNGRkZGRkYnKTtcbiAgICAgICAgICBhbWJpZW50TGlnaHQuaW50ZW5zaXR5ID0gMC41O1xuICAgICAgICAgIHNjZW5lLmFkZChhbWJpZW50TGlnaHQpOyAvLyBMaWdodCAxXG5cbiAgICAgICAgICB2YXIgbGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGRmZWJmZiwgMSk7XG4gICAgICAgICAgbGlnaHQucG9zaXRpb24uc2V0KDIsIDgsIDQpO1xuICAgICAgICAgIGxpZ2h0LmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIGxpZ2h0LnNoYWRvdy5tYXBTaXplLnNldCgyMDQ4LCAyMDQ4KTsgLy8gVGhpcyBibHVycyBidXQgZG9lc24ndCBsb29rIGdyZWF0LlxuICAgICAgICAgIC8vIGxpZ2h0LnNoYWRvdy5yYWRpdXMgPSAxO1xuICAgICAgICAgIC8vIGxpZ2h0LnNoYWRvdy5jYW1lcmEuZmFyID0gMjAwO1xuXG4gICAgICAgICAgbGlnaHQuc2hhZG93RGFya25lc3MgPSAwLjU7IC8vIEFkanVzdCBmb3IgYmx1cnJ5bmVzc1xuXG4gICAgICAgICAgbGlnaHQuc2hhZG93LmNhbWVyYS5mYXIgPSA1MDtcbiAgICAgICAgICBsaWdodC5zaGFkb3cuY2FtZXJhLm5lYXIgPSAxO1xuICAgICAgICAgIHNjZW5lLmFkZChsaWdodCk7XG4gICAgICAgICAgc2NlbmUuYWRkKG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIobGlnaHQuc2hhZG93LmNhbWVyYSkpO1xuICAgICAgICAgIHJlbmRlcmVyLmdhbW1hSW5wdXQgPSB0cnVlO1xuICAgICAgICAgIHJlbmRlcmVyLmdhbW1hT3V0cHV0ID0gdHJ1ZTtcbiAgICAgICAgICByZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgcmVuZGVyZXIuc2hhZG93TWFwLnR5cGUgPSBUSFJFRS5QQ0ZTb2Z0U2hhZG93TWFwO1xuICAgICAgICAgIHJlbmRlcmVyLnNoYWRvd01hcC5zb2Z0ID0gdHJ1ZTtcbiAgICAgICAgICByZW5kZXJlci5zaGFkb3dNYXAubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgIHJlbmRlcmVyLnNoYWRvd01hcC5iaWFzID0gMC4wMDAwMDE7IC8vIEFkZCBvcmJpdCBjb250cm9scy5cblxuICAgICAgICAgIHZhciBjb250cm9scyA9IG5ldyBPcmJpdENvbnRyb2xzKGNhbWVyYSwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgY29udHJvbHMubWF4UG9sYXJBbmdsZSA9IE1hdGguUEkgKiAwLjU7XG4gICAgICAgICAgY29udHJvbHMubWluRGlzdGFuY2UgPSAxMDtcbiAgICAgICAgICBjb250cm9scy5tYXhEaXN0YW5jZSA9IDc1O1xuICAgICAgICAgIGNvbnRyb2xzLnRhcmdldC5zZXQoMCwgMi41LCAwKTtcbiAgICAgICAgICBjb250cm9scy51cGRhdGUoKTtcbiAgICAgICAgICBzY2VuZS51c2VyRGF0YS5jb250cm9scyA9IGNvbnRyb2xzO1xuICAgICAgICB9LFxuICAgICAgICBvblJlc2l6ZTogZnVuY3Rpb24gb25SZXNpemUocmVuZGVyZXIsIHNjZW5lKSB7XG4gICAgICAgICAgX3RoaXMudW5pZm9ybXMudV9yZXNvbHV0aW9uLnZhbHVlLnggPSBkb21FbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICAgIF90aGlzLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZS55ID0gZG9tRWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQmVmb3JlUmVuZGVyOiBmdW5jdGlvbiBvbkJlZm9yZVJlbmRlcihyZW5kZXJlciwgc2NlbmUpIHtcbiAgICAgICAgICAvLyBpZiAodGhpcy51bmlmb3Jtcykge1xuICAgICAgICAgIC8vICAgICB0aGlzLnVuaWZvcm1zLnVfdGltZS52YWx1ZSArPSB0aGlzLnJhZi5nZXREZWx0YSh0cnVlKTtcbiAgICAgICAgICAvLyB9XG4gICAgICAgICAgc2NlbmUudXNlckRhdGEuc3BoZXJlR3JvdXAudHJhdmVyc2UoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICBpZiAoJ3BoYXNlJyBpbiBjaGlsZC51c2VyRGF0YSkge1xuICAgICAgICAgICAgICBjaGlsZC5wb3NpdGlvbi55ID0gTWF0aC5hYnMoTWF0aC5zaW4oX3RoaXMucmFmLmdldEVsYXBzZWRUaW1lKCkgKyBjaGlsZC51c2VyRGF0YS5waGFzZSkpICogNSArIDAuMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBzaGFkb3cgY2FzdGluZyBzcGhlcmVzLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkUmFuZG9tU3BoZXJlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRSYW5kb21TcGhlcmVzKHNjZW5lKSB7XG4gICAgICB2YXIgZ3JvdXAgPSBuZXcgVEhSRUUuR3JvdXAoKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyOyBpKyspIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gbmV3IFRIUkVFLlNwaGVyZUJ1ZmZlckdlb21ldHJ5KDAuMywgbWF0aGYuZ2V0UmFuZG9tSW50KDEwLCA1MCksIG1hdGhmLmdldFJhbmRvbUludCgxMCwgNTApKTtcbiAgICAgICAgdmFyIG1hdGVyaWFsO1xuXG4gICAgICAgIGlmIChpICUgMiA9PSAwKSB7XG4gICAgICAgICAgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xuICAgICAgICAgICAgY29sb3I6IE1hdGgucmFuZG9tKCkgKiAweGZmZmZmZlxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHtcbiAgICAgICAgICAgIGNvbG9yOiBNYXRoLnJhbmRvbSgpICogMHhmZmZmZmZcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzcGhlcmUgPSBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgICAgICBzcGhlcmUucG9zaXRpb24ueCA9IE1hdGgucmFuZG9tKCkgLSAwLjU7XG4gICAgICAgIHNwaGVyZS5wb3NpdGlvbi56ID0gTWF0aC5yYW5kb20oKSAtIDAuNTtcbiAgICAgICAgc3BoZXJlLnBvc2l0aW9uLm5vcm1hbGl6ZSgpO1xuICAgICAgICBzcGhlcmUucG9zaXRpb24ubXVsdGlwbHlTY2FsYXIoTWF0aC5yYW5kb20oKSAqIDIgKyAxKTtcbiAgICAgICAgc3BoZXJlLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICBzcGhlcmUucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG4gICAgICAgIHNwaGVyZS51c2VyRGF0YS5waGFzZSA9IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJO1xuICAgICAgICBncm91cC5hZGQoc3BoZXJlKTtcbiAgICAgIH1cblxuICAgICAgc2NlbmUuYWRkKGdyb3VwKTtcbiAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkR3JvdW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEdyb3VuZChzY2VuZSkge1xuICAgICAgdmFyIGdyb3VuZE1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHtcbiAgICAgICAgY29sb3I6IDB4RkZGRkZGLFxuICAgICAgICBzcGVjdWxhcjogMHhGRkZGRkZGXG4gICAgICB9KTtcbiAgICAgIHZhciBtZXNoID0gbmV3IFRIUkVFLk1lc2gobmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoMjAwMDAsIDIwMDAwLCA4LCA4KSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgICBtZXNoLnJvdGF0aW9uLnggPSAtTWF0aC5QSSAvIDI7XG4gICAgICBtZXNoLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgc2NlbmUuYWRkKG1lc2gpO1xuICAgICAgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKG5ldyBUSFJFRS5Cb3hCdWZmZXJHZW9tZXRyeSgxLCA0LCAxKSwgZ3JvdW5kTWF0ZXJpYWwpO1xuICAgICAgbWVzaC5wb3NpdGlvbi55ID0gMjtcbiAgICAgIG1lc2guY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICBtZXNoLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgc2NlbmUuYWRkKG1lc2gpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJhZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJhZigpIHtcbiAgICAgIHRoaXMuc2NlbmVSZW5kZXJlci5yZW5kZXIoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVGhyZWVMaWdodFRlc3QyO1xufSgpO1xuXG5leHBvcnQgeyBUaHJlZUxpZ2h0VGVzdDIgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/three-light-test2.js\n");

/***/ }),

/***/ "./examples/three-object-viewer.js":
/*!*****************************************!*\
  !*** ./examples/three-object-viewer.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ThreeObjectViewer; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// https://github.com/KhronosGroup/glTF-Blender-Exporter/blob/master/docs/user.md\n// https://threejs.org/docs/#manual/en/introduction/Loading-3D-models\n// https://threejs.org/examples/#webgl_loader_gltf\n// https://gist.github.com/bellbind/c4f8c502fcacbe29422e5ac315273858\n// https://github.com/funwithtriangles/blender-to-threejs-export-guide/blob/master/readme.md\n// https://threejsfundamentals.org/threejs/lessons/threejs-load-gltf.html\n// https://discoverthreejs.com/book/first-steps/load-models/\n// https://www.pentacreation.com/blog/2019/09/190916.html\n// https://www.pentacreation.com/blog/2019/10/191016.html\n// https://gltf-viewer.donmccurdy.com/\n// https://github.com/donmccurdy/three-gltf-viewer\n// https://qiita.com/adrs2002/items/dc6416d6fd2389c75ab5\n// https://qiita.com/cx20/items/2b86cb5052cd7c36038a\n// https://discoverthreejs.com/book/first-steps/load-models/\n// The glTF format does not allow bump maps.  Use normal maps.\n// https://discourse.threejs.org/t/three-js-gltf-model-exported-from-editor-bump-map-not-rendering/10835\n// PBR Exporting in blender\n// https://www.youtube.com/watch?v=wWyBXt565eE&t=318s\n\n\n\n/**\n * Just a crude example of adding a gltf object file in three.js.\n *\n * Basic steps.\n * Take your blender file and export it out as a gtlf and set it the path\n *    in the code below.\n *\n * https://docs.blender.org/manual/ja/latest/addons/io_scene_gltf2.html\n * https://github.com/KhronosGroup/glTF-Blender-Exporter/blob/master/docs/user.md#pbr-materials\n *\n * To export, in Blender 2.8 to go:\n * File -> Export glTF2.0 -> save your file.\n * Make sure you have the following checked under the export settings.\n * - General -> Apply Modifiers\n * - General -> +Y up\n * - Meshes -> Uvs, Normals, Vertex Colors, Materials\n * - Objects -> Cameras, Punctual Lights\n * - Animations -> Animations, Limit Playback Range, Always Sample Animations, SKinning, Shape Keys, Shape Keys Normals.\n *\n * Save file as glb.\n *\n *\n * Lights\n * - Area lights don't seem to export correctly out of blender.\n * - Sun lights turn into directional lights.  This means, if there is an object\n *   obstructing, in three.js it will block the light.\n *   https://threejs.org/docs/#api/en/lights/RectAreaLight could be an alternative option\n *\n * - Shadows\n * Light shadow values are not respected in three.js\n *\n * - It's easier if you don't have an HDRI.\n * - Also in Shading to go background set color strength to 0.\n *\n *\n * Renderer Specifics\n * - Things like bloom in eevee won't carry over.\n *\n *\n * Multi UV mapping\n * - not supported?\n *\n * Materials\n * - Seems like just Princpled BSDF is the main supported (okay with images)\n * - No support for bump maps (although you could maybe convert or load it on three.js side and apply a bump map)\n *\n * UV Editing and Baking\n * https://docs.blender.org/manual/en/latest/render/cycles/baking.html\n * Blender Baking Three.js\n * https://www.youtube.com/watch?v=yqF77-M3RVY\n * https://www.youtube.com/watch?v=XI-pZshRp8g (PBR)\n * https://youtu.be/X39iQ6P3CQw\n * https://youtu.be/R2YkbzObdB0 (high rez to low poly normal maps)\n * https://youtu.be/Atz4vT3UYAQ\n *\n * - https://www.youtube.com/watch?v=sB09T--_ZvU&t=193s\n * - https://www.youtube.com/watch?v=o568T79egTs\n * - https://www.youtube.com/watch?v=c2ut0Trcdi0\n * - https://www.youtube.com/watch?v=ejSVHuHOb7U\n *\n * To smooth out lines, you need to select all vertices.  Select the object -> tab (edit mdoe) ->\n * mesh -> shading --> smooth edges and smooth vertices.\n *\n * 1) Create UV Map\n * 2) Add image node to material and add the map (not hooked up)\n * 3) Make sure that when you turn off all lights, the world is dark (so the render is exact)\n * 4) Bake\n * 5) Go back to material and add Emission.  Hook image node -> emmission -> Material output Surfact\n * 6) Now your object will be using the baked material.\n * 7) Export out.\n *\n * IMPORTANT:\n * - If shadows are not showing up or lighting is off, it's possible because you have emission on the ground\n * or the world contains emits color (white is up to strength 1) which doens't get included in the bake.\n * In other words, if lighting is too strong it won't work.   Test it by turning all lights off.\n * If it is correct, your world will be pitch dark.        If you see like, that\n * could be a source of shadows and lighting going off.\n *\n * - If you see banding, it's likely you need more margins in the UV map.  0.5 or even 1 worked in tests.\n *\n *\n * Using Shadow Catchers:\n * https://blender.stackexchange.com/questions/47569/render-shadows-over-a-transparent-background-in-cycles\n * - go to object and under visibility -> check shadow catcher\n * - under cycles ensure film -> transparent is enabled.\n *\n *\n *\n *\n * Camera Movement.  If you are exporting camera movement, note the following.\n * - You can't use path animation since even if you bake the animations,\n *  they don't get included.  This means that beizer-curve path animations\n *  like done here: https://www.youtube.com/watch?v=-2dd_qK54pg\n *  won't work.\n * - Instead, you have to animate the camera.  Prior to exporting as gltf,\n *  you MUST, bake the animation.  To do this, go to the Camera,\n *  Object -> Animation -> Bake Action.  Make sure the \"Clear Constraints\"\n *  and \"Clear Parents\" options are selected.\n *  @see /examples/public/blender-three/baking-instructions.mov for\n *  further insturctions.\n *\n *\n * More limitations:\n * https://github.com/KhronosGroup/glTF-Blender-Exporter/blob/master/docs/user.md#pbr-materials*\n */\n\nvar ThreeObjectViewer = /*#__PURE__*/function () {\n  function ThreeObjectViewer() {\n    var _this = this;\n\n    _classCallCheck(this, ThreeObjectViewer);\n\n    console.log('ThreeJS Object Viewer Demo');\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__[\"Raf\"](this.onRaf.bind(this));\n    this.canvasContainer = document.getElementById('canvas-container'); // Noraml camera.\n    // this.camera = new THREE.PerspectiveCamera(45, this.width / this.height, 0.25, 1000);\n    // this.camera.position.set( - 50, 10, 2.7 );\n\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // var ambient = new THREE.AmbientLight(0x222222);\n    // this.scene.add(ambient);\n    // this.scene.background = new THREE.Color(0x222222);\n    // this.scene.add(new THREE.AmbientLight(0xFFFFFF));\n    // var light = new THREE.HemisphereLight( 0xffffbb, 0x080820, 1 );\n    // this.scene.add( light );\n\n    var loader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_1__[\"GLTFLoader\"](); // const path = 'https://threejs.org/examples/models/gltf/DamagedHelmet/glTF/DamagedHelmet.gltf';\n    // const path = './public/dude.glb';\n\n    var path = './public/monster-scene3.glb';\n    loader.load(path, function (gltf) {\n      _this.clock = new three__WEBPACK_IMPORTED_MODULE_0__[\"Clock\"]();\n      var scene = gltf.scenes[0];\n      _this.activeScene = scene;\n      _this.animations = gltf.animations; // Animation Mixer\n\n      _this.mixer = new three__WEBPACK_IMPORTED_MODULE_0__[\"AnimationMixer\"](scene); //Animation Clip\n\n      for (var i = 0; i < _this.animations.length; i++) {\n        var animation = _this.animations[i]; //Animation Action\n\n        var action = _this.mixer.clipAction(animation);\n\n        console.log('added', animation); // //1\n        // action.setLoop(THREE.LoopOnce);\n        // //\n        // action.clampWhenFinished = true;\n        //\n\n        action.play();\n      }\n\n      _this.scene.add(scene);\n\n      console.log(_this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      _this.scene.traverse(function (child) {\n        if (child instanceof three__WEBPACK_IMPORTED_MODULE_0__[\"Light\"]) {\n          child.castShadow = true;\n          console.log('cast', child); // Debugging light positions.\n\n          child.shadowCameraVisible = true; // Adjust shadow bias.\n\n          child.shadowBias = -0.005;\n          child.shadowDarkness = 0.1; // child.shadow.camera.near = 0;\n          // child.shadow.camera.far = 1000;\n          // Lights come off a bit stronger compared to Eevee, so\n          // lower the intensity.\n\n          child.intensity = child.intensity * 0.2; // var helper = new THREE.CameraHelper( child.shadow.camera );\n          // scene.add( helper );\n        } else if (child instanceof three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"]) {\n          child.castShadow = true;\n          child.receiveShadow = true;\n          console.log('receive', child);\n        } else {\n          console.log('nothing', child);\n        } // if(child.name.startsWith('Cube003')) {\n        //     child.receiveShadow = true;\n        // }\n        // Fix eyes\n\n\n        if (child.name.startsWith('Cube006')) {\n          child.castShadow = false;\n          child.receiveShadow = false;\n        }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n\n      _this.camera = gltf.cameras[0];\n      console.log(_this.camera);\n\n      _this.resize();\n\n      _this.raf.start();\n    }, undefined, function (error) {\n      console.error(error);\n    });\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]({\n      antialias: true\n    });\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  _createClass(ThreeObjectViewer, [{\n    key: \"resize\",\n    value: function resize() {\n      this.width = this.canvasContainer.parentElement.offsetWidth;\n      this.height = this.canvasContainer.parentElement.offsetHeight;\n      console.log('resizing', this.width); // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n\n      this.renderer.setPixelRatio(window.devicePixelRatio);\n      this.renderer.setSize(this.width, this.height); // Important to get the correct colors.\n\n      this.renderer.physicallyCorrectLights = true;\n      this.renderer.setClearColor(0x000000); // this.renderer.setClearColor(0xFFFFFF, 1.0);\n      // Affects how strongly lights come exposed.\n      // this.renderer.toneMappingExposure = 0.4;\n\n      this.renderer.shadowMap.enabled = true;\n      this.renderer.gammaOutput = true;\n      this.renderer.gammaFactor = 2.2; // The camera aspect goes off since it could be exported at a different\n      // ratio.  Force update the aspect ratio.\n      // this.camera.fov = this.width / this.height;\n\n      this.camera.aspect = this.width / this.height;\n      this.camera.updateProjectionMatrix();\n    }\n  }, {\n    key: \"getAnimationByName\",\n    value: function getAnimationByName(name) {\n      return this.animations.filter(function (animationClip) {\n        return animationClip.name == name;\n      })[0];\n    }\n  }, {\n    key: \"getObjectByName\",\n    value: function getObjectByName(name) {\n      return this.activeScene.children.filter(function (object3d) {\n        return object3d.name == name;\n      })[0];\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf() {\n      //Animation Mixer\n      if (this.mixer) {\n        this.mixer.update(this.clock.getDelta());\n      } // const cameraAnimation = this.getAnimationByName('camera-action');\n      // const animationAction = this.mixer.clipAction(cameraAnimation);\n      // console.log(animationAction);\n      // console.log(this.mixer);\n      // const camera = this.getObjectByName('Camera');\n      // console.log(camera.position);\n      // const camera = this.camera.parent;\n      // if(cameraPosition) {\n      //   this.camera.position.set(this.camera.parent.position);\n      //   this.camera.scale.set(camera.scale);\n      //   this.camera.setRotationFromEuler(this.camera.rotation);\n      // }\n      // Make camera follow target object.\n      // const cameraTarget = this.getObjectByName('camera-target');\n      // if (cameraTarget) {\n      //     this.camera.lookAt(cameraTarget.position);\n      // }\n      // this.camera.scale.set(this.camera.parent.scale);\n      // console.log(this.camera.position);\n\n\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return ThreeObjectViewer;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvdGhyZWUtb2JqZWN0LXZpZXdlci5qcz8yZTZjIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGLUJsZW5kZXItRXhwb3J0ZXIvYmxvYi9tYXN0ZXIvZG9jcy91c2VyLm1kXG4vLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI21hbnVhbC9lbi9pbnRyb2R1Y3Rpb24vTG9hZGluZy0zRC1tb2RlbHNcbi8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX2xvYWRlcl9nbHRmXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9iZWxsYmluZC9jNGY4YzUwMmZjYWNiZTI5NDIyZTVhYzMxNTI3Mzg1OFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Z1bndpdGh0cmlhbmdsZXMvYmxlbmRlci10by10aHJlZWpzLWV4cG9ydC1ndWlkZS9ibG9iL21hc3Rlci9yZWFkbWUubWRcbi8vIGh0dHBzOi8vdGhyZWVqc2Z1bmRhbWVudGFscy5vcmcvdGhyZWVqcy9sZXNzb25zL3RocmVlanMtbG9hZC1nbHRmLmh0bWxcbi8vIGh0dHBzOi8vZGlzY292ZXJ0aHJlZWpzLmNvbS9ib29rL2ZpcnN0LXN0ZXBzL2xvYWQtbW9kZWxzL1xuLy8gaHR0cHM6Ly93d3cucGVudGFjcmVhdGlvbi5jb20vYmxvZy8yMDE5LzA5LzE5MDkxNi5odG1sXG4vLyBodHRwczovL3d3dy5wZW50YWNyZWF0aW9uLmNvbS9ibG9nLzIwMTkvMTAvMTkxMDE2Lmh0bWxcbi8vIGh0dHBzOi8vZ2x0Zi12aWV3ZXIuZG9ubWNjdXJkeS5jb20vXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZG9ubWNjdXJkeS90aHJlZS1nbHRmLXZpZXdlclxuLy8gaHR0cHM6Ly9xaWl0YS5jb20vYWRyczIwMDIvaXRlbXMvZGM2NDE2ZDZmZDIzODljNzVhYjVcbi8vIGh0dHBzOi8vcWlpdGEuY29tL2N4MjAvaXRlbXMvMmI4NmNiNTA1MmNkN2MzNjAzOGFcbi8vIGh0dHBzOi8vZGlzY292ZXJ0aHJlZWpzLmNvbS9ib29rL2ZpcnN0LXN0ZXBzL2xvYWQtbW9kZWxzL1xuLy8gVGhlIGdsVEYgZm9ybWF0IGRvZXMgbm90IGFsbG93IGJ1bXAgbWFwcy4gIFVzZSBub3JtYWwgbWFwcy5cbi8vIGh0dHBzOi8vZGlzY291cnNlLnRocmVlanMub3JnL3QvdGhyZWUtanMtZ2x0Zi1tb2RlbC1leHBvcnRlZC1mcm9tLWVkaXRvci1idW1wLW1hcC1ub3QtcmVuZGVyaW5nLzEwODM1XG4vLyBQQlIgRXhwb3J0aW5nIGluIGJsZW5kZXJcbi8vIGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9d1d5Qlh0NTY1ZUUmdD0zMThzXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBHTFRGTG9hZGVyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlcic7XG5pbXBvcnQgeyBSYWYgfSBmcm9tICcuLi9saWIvcmFmL3JhZic7XG4vKipcbiAqIEp1c3QgYSBjcnVkZSBleGFtcGxlIG9mIGFkZGluZyBhIGdsdGYgb2JqZWN0IGZpbGUgaW4gdGhyZWUuanMuXG4gKlxuICogQmFzaWMgc3RlcHMuXG4gKiBUYWtlIHlvdXIgYmxlbmRlciBmaWxlIGFuZCBleHBvcnQgaXQgb3V0IGFzIGEgZ3RsZiBhbmQgc2V0IGl0IHRoZSBwYXRoXG4gKiAgICBpbiB0aGUgY29kZSBiZWxvdy5cbiAqXG4gKiBodHRwczovL2RvY3MuYmxlbmRlci5vcmcvbWFudWFsL2phL2xhdGVzdC9hZGRvbnMvaW9fc2NlbmVfZ2x0ZjIuaHRtbFxuICogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGLUJsZW5kZXItRXhwb3J0ZXIvYmxvYi9tYXN0ZXIvZG9jcy91c2VyLm1kI3Bici1tYXRlcmlhbHNcbiAqXG4gKiBUbyBleHBvcnQsIGluIEJsZW5kZXIgMi44IHRvIGdvOlxuICogRmlsZSAtPiBFeHBvcnQgZ2xURjIuMCAtPiBzYXZlIHlvdXIgZmlsZS5cbiAqIE1ha2Ugc3VyZSB5b3UgaGF2ZSB0aGUgZm9sbG93aW5nIGNoZWNrZWQgdW5kZXIgdGhlIGV4cG9ydCBzZXR0aW5ncy5cbiAqIC0gR2VuZXJhbCAtPiBBcHBseSBNb2RpZmllcnNcbiAqIC0gR2VuZXJhbCAtPiArWSB1cFxuICogLSBNZXNoZXMgLT4gVXZzLCBOb3JtYWxzLCBWZXJ0ZXggQ29sb3JzLCBNYXRlcmlhbHNcbiAqIC0gT2JqZWN0cyAtPiBDYW1lcmFzLCBQdW5jdHVhbCBMaWdodHNcbiAqIC0gQW5pbWF0aW9ucyAtPiBBbmltYXRpb25zLCBMaW1pdCBQbGF5YmFjayBSYW5nZSwgQWx3YXlzIFNhbXBsZSBBbmltYXRpb25zLCBTS2lubmluZywgU2hhcGUgS2V5cywgU2hhcGUgS2V5cyBOb3JtYWxzLlxuICpcbiAqIFNhdmUgZmlsZSBhcyBnbGIuXG4gKlxuICpcbiAqIExpZ2h0c1xuICogLSBBcmVhIGxpZ2h0cyBkb24ndCBzZWVtIHRvIGV4cG9ydCBjb3JyZWN0bHkgb3V0IG9mIGJsZW5kZXIuXG4gKiAtIFN1biBsaWdodHMgdHVybiBpbnRvIGRpcmVjdGlvbmFsIGxpZ2h0cy4gIFRoaXMgbWVhbnMsIGlmIHRoZXJlIGlzIGFuIG9iamVjdFxuICogICBvYnN0cnVjdGluZywgaW4gdGhyZWUuanMgaXQgd2lsbCBibG9jayB0aGUgbGlnaHQuXG4gKiAgIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL2xpZ2h0cy9SZWN0QXJlYUxpZ2h0IGNvdWxkIGJlIGFuIGFsdGVybmF0aXZlIG9wdGlvblxuICpcbiAqIC0gU2hhZG93c1xuICogTGlnaHQgc2hhZG93IHZhbHVlcyBhcmUgbm90IHJlc3BlY3RlZCBpbiB0aHJlZS5qc1xuICpcbiAqIC0gSXQncyBlYXNpZXIgaWYgeW91IGRvbid0IGhhdmUgYW4gSERSSS5cbiAqIC0gQWxzbyBpbiBTaGFkaW5nIHRvIGdvIGJhY2tncm91bmQgc2V0IGNvbG9yIHN0cmVuZ3RoIHRvIDAuXG4gKlxuICpcbiAqIFJlbmRlcmVyIFNwZWNpZmljc1xuICogLSBUaGluZ3MgbGlrZSBibG9vbSBpbiBlZXZlZSB3b24ndCBjYXJyeSBvdmVyLlxuICpcbiAqXG4gKiBNdWx0aSBVViBtYXBwaW5nXG4gKiAtIG5vdCBzdXBwb3J0ZWQ/XG4gKlxuICogTWF0ZXJpYWxzXG4gKiAtIFNlZW1zIGxpa2UganVzdCBQcmluY3BsZWQgQlNERiBpcyB0aGUgbWFpbiBzdXBwb3J0ZWQgKG9rYXkgd2l0aCBpbWFnZXMpXG4gKiAtIE5vIHN1cHBvcnQgZm9yIGJ1bXAgbWFwcyAoYWx0aG91Z2ggeW91IGNvdWxkIG1heWJlIGNvbnZlcnQgb3IgbG9hZCBpdCBvbiB0aHJlZS5qcyBzaWRlIGFuZCBhcHBseSBhIGJ1bXAgbWFwKVxuICpcbiAqIFVWIEVkaXRpbmcgYW5kIEJha2luZ1xuICogaHR0cHM6Ly9kb2NzLmJsZW5kZXIub3JnL21hbnVhbC9lbi9sYXRlc3QvcmVuZGVyL2N5Y2xlcy9iYWtpbmcuaHRtbFxuICogQmxlbmRlciBCYWtpbmcgVGhyZWUuanNcbiAqIGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9eXFGNzctTTNSVllcbiAqIGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9WEktcFpzaFJwOGcgKFBCUilcbiAqIGh0dHBzOi8veW91dHUuYmUvWDM5aVE2UDNDUXdcbiAqIGh0dHBzOi8veW91dHUuYmUvUjJZa2J6T2JkQjAgKGhpZ2ggcmV6IHRvIGxvdyBwb2x5IG5vcm1hbCBtYXBzKVxuICogaHR0cHM6Ly95b3V0dS5iZS9BdHo0dlQzVVlBUVxuICpcbiAqIC0gaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1zQjA5VC0tX1p2VSZ0PTE5M3NcbiAqIC0gaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1vNTY4VDc5ZWdUc1xuICogLSBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PWMydXQwVHJjZGkwXG4gKiAtIGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9ZWpTVkh1SE9iN1VcbiAqXG4gKiBUbyBzbW9vdGggb3V0IGxpbmVzLCB5b3UgbmVlZCB0byBzZWxlY3QgYWxsIHZlcnRpY2VzLiAgU2VsZWN0IHRoZSBvYmplY3QgLT4gdGFiIChlZGl0IG1kb2UpIC0+XG4gKiBtZXNoIC0+IHNoYWRpbmcgLS0+IHNtb290aCBlZGdlcyBhbmQgc21vb3RoIHZlcnRpY2VzLlxuICpcbiAqIDEpIENyZWF0ZSBVViBNYXBcbiAqIDIpIEFkZCBpbWFnZSBub2RlIHRvIG1hdGVyaWFsIGFuZCBhZGQgdGhlIG1hcCAobm90IGhvb2tlZCB1cClcbiAqIDMpIE1ha2Ugc3VyZSB0aGF0IHdoZW4geW91IHR1cm4gb2ZmIGFsbCBsaWdodHMsIHRoZSB3b3JsZCBpcyBkYXJrIChzbyB0aGUgcmVuZGVyIGlzIGV4YWN0KVxuICogNCkgQmFrZVxuICogNSkgR28gYmFjayB0byBtYXRlcmlhbCBhbmQgYWRkIEVtaXNzaW9uLiAgSG9vayBpbWFnZSBub2RlIC0+IGVtbWlzc2lvbiAtPiBNYXRlcmlhbCBvdXRwdXQgU3VyZmFjdFxuICogNikgTm93IHlvdXIgb2JqZWN0IHdpbGwgYmUgdXNpbmcgdGhlIGJha2VkIG1hdGVyaWFsLlxuICogNykgRXhwb3J0IG91dC5cbiAqXG4gKiBJTVBPUlRBTlQ6XG4gKiAtIElmIHNoYWRvd3MgYXJlIG5vdCBzaG93aW5nIHVwIG9yIGxpZ2h0aW5nIGlzIG9mZiwgaXQncyBwb3NzaWJsZSBiZWNhdXNlIHlvdSBoYXZlIGVtaXNzaW9uIG9uIHRoZSBncm91bmRcbiAqIG9yIHRoZSB3b3JsZCBjb250YWlucyBlbWl0cyBjb2xvciAod2hpdGUgaXMgdXAgdG8gc3RyZW5ndGggMSkgd2hpY2ggZG9lbnMndCBnZXQgaW5jbHVkZWQgaW4gdGhlIGJha2UuXG4gKiBJbiBvdGhlciB3b3JkcywgaWYgbGlnaHRpbmcgaXMgdG9vIHN0cm9uZyBpdCB3b24ndCB3b3JrLiAgIFRlc3QgaXQgYnkgdHVybmluZyBhbGwgbGlnaHRzIG9mZi5cbiAqIElmIGl0IGlzIGNvcnJlY3QsIHlvdXIgd29ybGQgd2lsbCBiZSBwaXRjaCBkYXJrLiAgICAgICAgSWYgeW91IHNlZSBsaWtlLCB0aGF0XG4gKiBjb3VsZCBiZSBhIHNvdXJjZSBvZiBzaGFkb3dzIGFuZCBsaWdodGluZyBnb2luZyBvZmYuXG4gKlxuICogLSBJZiB5b3Ugc2VlIGJhbmRpbmcsIGl0J3MgbGlrZWx5IHlvdSBuZWVkIG1vcmUgbWFyZ2lucyBpbiB0aGUgVVYgbWFwLiAgMC41IG9yIGV2ZW4gMSB3b3JrZWQgaW4gdGVzdHMuXG4gKlxuICpcbiAqIFVzaW5nIFNoYWRvdyBDYXRjaGVyczpcbiAqIGh0dHBzOi8vYmxlbmRlci5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvNDc1NjkvcmVuZGVyLXNoYWRvd3Mtb3Zlci1hLXRyYW5zcGFyZW50LWJhY2tncm91bmQtaW4tY3ljbGVzXG4gKiAtIGdvIHRvIG9iamVjdCBhbmQgdW5kZXIgdmlzaWJpbGl0eSAtPiBjaGVjayBzaGFkb3cgY2F0Y2hlclxuICogLSB1bmRlciBjeWNsZXMgZW5zdXJlIGZpbG0gLT4gdHJhbnNwYXJlbnQgaXMgZW5hYmxlZC5cbiAqXG4gKlxuICpcbiAqXG4gKiBDYW1lcmEgTW92ZW1lbnQuICBJZiB5b3UgYXJlIGV4cG9ydGluZyBjYW1lcmEgbW92ZW1lbnQsIG5vdGUgdGhlIGZvbGxvd2luZy5cbiAqIC0gWW91IGNhbid0IHVzZSBwYXRoIGFuaW1hdGlvbiBzaW5jZSBldmVuIGlmIHlvdSBiYWtlIHRoZSBhbmltYXRpb25zLFxuICogIHRoZXkgZG9uJ3QgZ2V0IGluY2x1ZGVkLiAgVGhpcyBtZWFucyB0aGF0IGJlaXplci1jdXJ2ZSBwYXRoIGFuaW1hdGlvbnNcbiAqICBsaWtlIGRvbmUgaGVyZTogaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj0tMmRkX3FLNTRwZ1xuICogIHdvbid0IHdvcmsuXG4gKiAtIEluc3RlYWQsIHlvdSBoYXZlIHRvIGFuaW1hdGUgdGhlIGNhbWVyYS4gIFByaW9yIHRvIGV4cG9ydGluZyBhcyBnbHRmLFxuICogIHlvdSBNVVNULCBiYWtlIHRoZSBhbmltYXRpb24uICBUbyBkbyB0aGlzLCBnbyB0byB0aGUgQ2FtZXJhLFxuICogIE9iamVjdCAtPiBBbmltYXRpb24gLT4gQmFrZSBBY3Rpb24uICBNYWtlIHN1cmUgdGhlIFwiQ2xlYXIgQ29uc3RyYWludHNcIlxuICogIGFuZCBcIkNsZWFyIFBhcmVudHNcIiBvcHRpb25zIGFyZSBzZWxlY3RlZC5cbiAqICBAc2VlIC9leGFtcGxlcy9wdWJsaWMvYmxlbmRlci10aHJlZS9iYWtpbmctaW5zdHJ1Y3Rpb25zLm1vdiBmb3JcbiAqICBmdXJ0aGVyIGluc3R1cmN0aW9ucy5cbiAqXG4gKlxuICogTW9yZSBsaW1pdGF0aW9uczpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi1CbGVuZGVyLUV4cG9ydGVyL2Jsb2IvbWFzdGVyL2RvY3MvdXNlci5tZCNwYnItbWF0ZXJpYWxzKlxuICovXG5cbnZhciBUaHJlZU9iamVjdFZpZXdlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFRocmVlT2JqZWN0Vmlld2VyKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGhyZWVPYmplY3RWaWV3ZXIpO1xuXG4gICAgY29uc29sZS5sb2coJ1RocmVlSlMgT2JqZWN0IFZpZXdlciBEZW1vJyk7XG4gICAgdGhpcy5yYWYgPSBuZXcgUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzLWNvbnRhaW5lcicpOyAvLyBOb3JhbWwgY2FtZXJhLlxuICAgIC8vIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDQ1LCB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQsIDAuMjUsIDEwMDApO1xuICAgIC8vIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnNldCggLSA1MCwgMTAsIDIuNyApO1xuXG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpOyAvLyB2YXIgYW1iaWVudCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoMHgyMjIyMjIpO1xuICAgIC8vIHRoaXMuc2NlbmUuYWRkKGFtYmllbnQpO1xuICAgIC8vIHRoaXMuc2NlbmUuYmFja2dyb3VuZCA9IG5ldyBUSFJFRS5Db2xvcigweDIyMjIyMik7XG4gICAgLy8gdGhpcy5zY2VuZS5hZGQobmV3IFRIUkVFLkFtYmllbnRMaWdodCgweEZGRkZGRikpO1xuICAgIC8vIHZhciBsaWdodCA9IG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQoIDB4ZmZmZmJiLCAweDA4MDgyMCwgMSApO1xuICAgIC8vIHRoaXMuc2NlbmUuYWRkKCBsaWdodCApO1xuXG4gICAgdmFyIGxvYWRlciA9IG5ldyBHTFRGTG9hZGVyKCk7IC8vIGNvbnN0IHBhdGggPSAnaHR0cHM6Ly90aHJlZWpzLm9yZy9leGFtcGxlcy9tb2RlbHMvZ2x0Zi9EYW1hZ2VkSGVsbWV0L2dsVEYvRGFtYWdlZEhlbG1ldC5nbHRmJztcbiAgICAvLyBjb25zdCBwYXRoID0gJy4vcHVibGljL2R1ZGUuZ2xiJztcblxuICAgIHZhciBwYXRoID0gJy4vcHVibGljL21vbnN0ZXItc2NlbmUzLmdsYic7XG4gICAgbG9hZGVyLmxvYWQocGF0aCwgZnVuY3Rpb24gKGdsdGYpIHtcbiAgICAgIF90aGlzLmNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKCk7XG4gICAgICB2YXIgc2NlbmUgPSBnbHRmLnNjZW5lc1swXTtcbiAgICAgIF90aGlzLmFjdGl2ZVNjZW5lID0gc2NlbmU7XG4gICAgICBfdGhpcy5hbmltYXRpb25zID0gZ2x0Zi5hbmltYXRpb25zOyAvLyBBbmltYXRpb24gTWl4ZXLjgqTjg7Pjgrnjgr/jg7PjgrnjgpLnlJ/miJBcblxuICAgICAgX3RoaXMubWl4ZXIgPSBuZXcgVEhSRUUuQW5pbWF0aW9uTWl4ZXIoc2NlbmUpOyAvL+WFqOOBpuOBrkFuaW1hdGlvbiBDbGlw44Gr5a++44GX44GmXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMuYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYW5pbWF0aW9uID0gX3RoaXMuYW5pbWF0aW9uc1tpXTsgLy9BbmltYXRpb24gQWN0aW9u44KS55Sf5oiQXG5cbiAgICAgICAgdmFyIGFjdGlvbiA9IF90aGlzLm1peGVyLmNsaXBBY3Rpb24oYW5pbWF0aW9uKTtcblxuICAgICAgICBjb25zb2xlLmxvZygnYWRkZWQnLCBhbmltYXRpb24pOyAvLyAvL+ODq+ODvOODl+ioreWumu+8iDHlm57jga7jgb/vvIlcbiAgICAgICAgLy8gYWN0aW9uLnNldExvb3AoVEhSRUUuTG9vcE9uY2UpO1xuICAgICAgICAvLyAvL+OCouODi+ODoeODvOOCt+ODp+ODs+OBruacgOW+jOOBruODleODrOODvOODoOOBp+OCouODi+ODoeODvOOCt+ODp+ODs+OBjOe1guS6hlxuICAgICAgICAvLyBhY3Rpb24uY2xhbXBXaGVuRmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAvL+OCouODi+ODoeODvOOCt+ODp+ODs+OCkuWGjeeUn1xuXG4gICAgICAgIGFjdGlvbi5wbGF5KCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNjZW5lLmFkZChzY2VuZSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKF90aGlzLm1peGVyKTsgLy8gaHR0cDovL2xlYXJuaW5ndGhyZWVqcy5jb20vYmxvZy8yMDEyLzAxLzIwL2Nhc3Rpbmctc2hhZG93cy9cblxuICAgICAgX3RoaXMuc2NlbmUudHJhdmVyc2UoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLkxpZ2h0KSB7XG4gICAgICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2Nhc3QnLCBjaGlsZCk7IC8vIERlYnVnZ2luZyBsaWdodCBwb3NpdGlvbnMuXG5cbiAgICAgICAgICBjaGlsZC5zaGFkb3dDYW1lcmFWaXNpYmxlID0gdHJ1ZTsgLy8gQWRqdXN0IHNoYWRvdyBiaWFzLlxuXG4gICAgICAgICAgY2hpbGQuc2hhZG93QmlhcyA9IC0wLjAwNTtcbiAgICAgICAgICBjaGlsZC5zaGFkb3dEYXJrbmVzcyA9IDAuMTsgLy8gY2hpbGQuc2hhZG93LmNhbWVyYS5uZWFyID0gMDtcbiAgICAgICAgICAvLyBjaGlsZC5zaGFkb3cuY2FtZXJhLmZhciA9IDEwMDA7XG4gICAgICAgICAgLy8gTGlnaHRzIGNvbWUgb2ZmIGEgYml0IHN0cm9uZ2VyIGNvbXBhcmVkIHRvIEVldmVlLCBzb1xuICAgICAgICAgIC8vIGxvd2VyIHRoZSBpbnRlbnNpdHkuXG5cbiAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSBjaGlsZC5pbnRlbnNpdHkgKiAwLjI7IC8vIHZhciBoZWxwZXIgPSBuZXcgVEhSRUUuQ2FtZXJhSGVscGVyKCBjaGlsZC5zaGFkb3cuY2FtZXJhICk7XG4gICAgICAgICAgLy8gc2NlbmUuYWRkKCBoZWxwZXIgKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2gpIHtcbiAgICAgICAgICBjaGlsZC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICBjaGlsZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICBjb25zb2xlLmxvZygncmVjZWl2ZScsIGNoaWxkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnbm90aGluZycsIGNoaWxkKTtcbiAgICAgICAgfSAvLyBpZihjaGlsZC5uYW1lLnN0YXJ0c1dpdGgoJ0N1YmUwMDMnKSkge1xuICAgICAgICAvLyAgICAgY2hpbGQucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gRml4IGV5ZXNcblxuXG4gICAgICAgIGlmIChjaGlsZC5uYW1lLnN0YXJ0c1dpdGgoJ0N1YmUwMDYnKSkge1xuICAgICAgICAgIGNoaWxkLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgICAgICBjaGlsZC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pOyAvLyBTZXQgdGhlIGNhbWVyYSBleHBvcnRlZCBpbiBnbHRmLlxuICAgICAgLy8gUmVxdWlyZXMgY2FtZXJhIHRvIGJlIGV4cG9ydGVkIGZvciBnbHRmLlxuXG5cbiAgICAgIF90aGlzLmNhbWVyYSA9IGdsdGYuY2FtZXJhc1swXTtcbiAgICAgIGNvbnNvbGUubG9nKF90aGlzLmNhbWVyYSk7XG5cbiAgICAgIF90aGlzLnJlc2l6ZSgpO1xuXG4gICAgICBfdGhpcy5yYWYuc3RhcnQoKTtcbiAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfSk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcbiAgICAgIGFudGlhbGlhczogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUaHJlZU9iamVjdFZpZXdlciwgW3tcbiAgICBrZXk6IFwicmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHtcbiAgICAgIHRoaXMud2lkdGggPSB0aGlzLmNhbnZhc0NvbnRhaW5lci5wYXJlbnRFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNhbnZhc0NvbnRhaW5lci5wYXJlbnRFbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgIGNvbnNvbGUubG9nKCdyZXNpemluZycsIHRoaXMud2lkdGgpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vZG9ubWNjdXJkeS90aHJlZS1nbHRmLXZpZXdlci9ibG9iL21hc3Rlci9zcmMvdmlld2VyLmpzXG5cbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpOyAvLyBJbXBvcnRhbnQgdG8gZ2V0IHRoZSBjb3JyZWN0IGNvbG9ycy5cblxuICAgICAgdGhpcy5yZW5kZXJlci5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cyA9IHRydWU7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHgwMDAwMDApOyAvLyB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHhGRkZGRkYsIDEuMCk7XG4gICAgICAvLyBBZmZlY3RzIGhvdyBzdHJvbmdseSBsaWdodHMgY29tZSBleHBvc2VkLlxuICAgICAgLy8gdGhpcy5yZW5kZXJlci50b25lTWFwcGluZ0V4cG9zdXJlID0gMC40O1xuXG4gICAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMucmVuZGVyZXIuZ2FtbWFPdXRwdXQgPSB0cnVlO1xuICAgICAgdGhpcy5yZW5kZXJlci5nYW1tYUZhY3RvciA9IDIuMjsgLy8gVGhlIGNhbWVyYSBhc3BlY3QgZ29lcyBvZmYgc2luY2UgaXQgY291bGQgYmUgZXhwb3J0ZWQgYXQgYSBkaWZmZXJlbnRcbiAgICAgIC8vIHJhdGlvLiAgRm9yY2UgdXBkYXRlIHRoZSBhc3BlY3QgcmF0aW8uXG4gICAgICAvLyB0aGlzLmNhbWVyYS5mb3YgPSB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQ7XG5cbiAgICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHRoaXMud2lkdGggLyB0aGlzLmhlaWdodDtcbiAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0QW5pbWF0aW9uQnlOYW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFuaW1hdGlvbkJ5TmFtZShuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5hbmltYXRpb25zLmZpbHRlcihmdW5jdGlvbiAoYW5pbWF0aW9uQ2xpcCkge1xuICAgICAgICByZXR1cm4gYW5pbWF0aW9uQ2xpcC5uYW1lID09IG5hbWU7XG4gICAgICB9KVswXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0T2JqZWN0QnlOYW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE9iamVjdEJ5TmFtZShuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5hY3RpdmVTY2VuZS5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKG9iamVjdDNkKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QzZC5uYW1lID09IG5hbWU7XG4gICAgICB9KVswXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoKSB7XG4gICAgICAvL0FuaW1hdGlvbiBNaXhlcuOCkuWun+ihjFxuICAgICAgaWYgKHRoaXMubWl4ZXIpIHtcbiAgICAgICAgdGhpcy5taXhlci51cGRhdGUodGhpcy5jbG9jay5nZXREZWx0YSgpKTtcbiAgICAgIH0gLy8gY29uc3QgY2FtZXJhQW5pbWF0aW9uID0gdGhpcy5nZXRBbmltYXRpb25CeU5hbWUoJ2NhbWVyYS1hY3Rpb24nKTtcbiAgICAgIC8vIGNvbnN0IGFuaW1hdGlvbkFjdGlvbiA9IHRoaXMubWl4ZXIuY2xpcEFjdGlvbihjYW1lcmFBbmltYXRpb24pO1xuICAgICAgLy8gY29uc29sZS5sb2coYW5pbWF0aW9uQWN0aW9uKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubWl4ZXIpO1xuICAgICAgLy8gY29uc3QgY2FtZXJhID0gdGhpcy5nZXRPYmplY3RCeU5hbWUoJ0NhbWVyYScpO1xuICAgICAgLy8gY29uc29sZS5sb2coY2FtZXJhLnBvc2l0aW9uKTtcbiAgICAgIC8vIGNvbnN0IGNhbWVyYSA9IHRoaXMuY2FtZXJhLnBhcmVudDtcbiAgICAgIC8vIGlmKGNhbWVyYVBvc2l0aW9uKSB7XG4gICAgICAvLyAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnNldCh0aGlzLmNhbWVyYS5wYXJlbnQucG9zaXRpb24pO1xuICAgICAgLy8gICB0aGlzLmNhbWVyYS5zY2FsZS5zZXQoY2FtZXJhLnNjYWxlKTtcbiAgICAgIC8vICAgdGhpcy5jYW1lcmEuc2V0Um90YXRpb25Gcm9tRXVsZXIodGhpcy5jYW1lcmEucm90YXRpb24pO1xuICAgICAgLy8gfVxuICAgICAgLy8gTWFrZSBjYW1lcmEgZm9sbG93IHRhcmdldCBvYmplY3QuXG4gICAgICAvLyBjb25zdCBjYW1lcmFUYXJnZXQgPSB0aGlzLmdldE9iamVjdEJ5TmFtZSgnY2FtZXJhLXRhcmdldCcpO1xuICAgICAgLy8gaWYgKGNhbWVyYVRhcmdldCkge1xuICAgICAgLy8gICAgIHRoaXMuY2FtZXJhLmxvb2tBdChjYW1lcmFUYXJnZXQucG9zaXRpb24pO1xuICAgICAgLy8gfVxuICAgICAgLy8gdGhpcy5jYW1lcmEuc2NhbGUuc2V0KHRoaXMuY2FtZXJhLnBhcmVudC5zY2FsZSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmNhbWVyYS5wb3NpdGlvbik7XG5cblxuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUaHJlZU9iamVjdFZpZXdlcjtcbn0oKTtcblxuZXhwb3J0IHsgVGhyZWVPYmplY3RWaWV3ZXIgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/three-object-viewer.js\n");

/***/ }),

/***/ "./examples/three-object-viewer10.js":
/*!*******************************************!*\
  !*** ./examples/three-object-viewer10.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ThreeObjectViewer10; });\n/* harmony import */ var _lib_datguif_datguif__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/datguif/datguif */ \"./lib/datguif/datguif.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_EffectComposer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer */ \"./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_threef_threef__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/threef/threef */ \"./lib/threef/threef.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// https://svs.gsfc.nasa.gov/4720\n// https://threejs.org/docs/#api/en/materials/MeshStandardMaterial\n// https://qiita.com/adrs2002/items/dc6416d6fd2389c75ab5\n// https://qiita.com/cx20/items/2b86cb5052cd7c36038a\n// https://stackoverflow.com/questions/54283080/normal-map-values-with-threejs-gltf-blender-exporter?rq=1\n// The glTF format does not allow bump maps.  Use normal maps.\n// https://discourse.threejs.org/t/three-js-gltf-model-exported-from-editor-bump-map-not-rendering/10835\n//\n// - watch over exposure of normal map\n// - png based normal map works better? (jpg over exposed?)\n//\n\n\n\n // import { Raf } from '../lib/raf/raf';\n\n\n\n\n\n\n\n\nvar ThreeObjectViewer10 = /*#__PURE__*/function () {\n  function ThreeObjectViewer10() {\n    var _this = this;\n\n    _classCallCheck(this, ThreeObjectViewer10);\n\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__[\"DomWatcher\"]();\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_5__[\"RafProgress\"]();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.scrollLerp = 0.38;\n    this.scrollEase = 'easeInQuad';\n    this.textMarker1 = document.getElementById('text-marker1');\n    this.textMarker2 = document.getElementById('text-marker2');\n    this.textMarkers = [];\n    this.rendererConfig = {\n      clearColor: '#000000',\n      backgroundAlpha: 1.0\n    };\n    this.gui = new _lib_datguif_datguif__WEBPACK_IMPORTED_MODULE_0__[\"Datguif\"]({\n      load: JSON\n    });\n    this.gui.addFolder('Settings').open();\n    this.gui.addFolder('Renderer', 'Settings');\n    this.gui.addFolder('Camera', 'Settings');\n    this.gui.addFolder('Scroll', 'Settings');\n    this.gui.addFolder('Lights');\n    this.gui.addFolder('Objects');\n    this.gui.addObjectToFolder('Scroll', this, [{\n      keyName: 'scrollLerp',\n      min: 0,\n      max: 1,\n      step: 0.01\n    }, {\n      keyName: 'scrollEase',\n      options: ['linear', 'easeOutQuad', 'easeInQuad']\n    }]);\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_6__[\"dom\"].getElementScrolledPercent(_this.parentElement, window.innerHeight); //   this.rafProgress.easeTo(this.progress, 0.26, EASE.easeInOutExpo);\n        //   this.rafProgress.easeTo(this.progress, 0.08, EASE.linear);\n\n        _this.rafProgress.easeTo(_this.progress, _this.scrollLerp, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_7__[\"EASE\"][_this.scrollEase]);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_1__[\"Scene\"]();\n    this.gui.onUpdate(function (prop) {\n      _this.draw();\n    });\n    var loader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_2__[\"GLTFLoader\"]();\n    var path = './public/moon/moon1.gltf';\n    loader.load(path, function (gltf) {\n      var gltfData = gltf.parser.json;\n\n      var getNodeByName = function getNodeByName(name) {\n        return gltfData.nodes.filter(function (node) {\n          return node.name = name;\n        })[0];\n      };\n\n      console.log('gltf data', gltfData);\n      _this.clock = new three__WEBPACK_IMPORTED_MODULE_1__[\"Clock\"]();\n      var scene = gltf.scenes[0];\n      _this.activeScene = scene;\n      _this.animations = gltf.animations; // Animation Mixer\n\n      _this.mixer = new three__WEBPACK_IMPORTED_MODULE_1__[\"AnimationMixer\"](scene); //Animation Clip\n\n      for (var i = 0; i < _this.animations.length; i++) {\n        var animation = _this.animations[i]; //Animation Action\n\n        var action = _this.mixer.clipAction(animation);\n\n        console.log('added', animation);\n        action.play();\n      }\n\n      _this.scene.add(scene);\n\n      console.log('scene', scene);\n      console.log('mixer', _this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      _this.scene.traverse(function (child) {\n        if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"Light\"]) {\n          // child.castShadow = true;\n          console.log(child.name);\n          console.log('light', child); // Debugging light positions.\n          // child.shadowCameraVisible = false;\n\n          if (child.shadow) {\n            // Adjust shadow bias.\n            // child.shadow.bias = -0.002;\n            // Remove the rigged looking shadows.\n            child.shadow.mapSize.width = 1024;\n            child.shadow.mapSize.height = 1024;\n            child.shadowDarkness = 1; // child.shadow.camera.near = 0;\n            // child.shadow.camera.far = 1000;\n            // var helper = new THREE.CameraHelper( child.shadow.camera );\n            // scene.add( helper );\n          } // child.layers.set(1);\n          // // Point lights are defined in watts which goes waay off in three.js\n\n\n          if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"PointLight\"]) {\n            child.intensity = child.intensity * 0.05;\n          } // If it's a spot light, it needs to go down even more.\n\n\n          if (child.type == \"SpotLight\") {\n            child.intensity = child.intensity * 0.003;\n          }\n\n          _this.gui.addFolder(child.name, 'Lights');\n\n          _this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'intensity',\n            min: 0,\n            max: 3000\n          }, {\n            keyName: 'color'\n          }]);\n\n          if (child.shadow) {\n            var shadowFolderId = child.name + ' shadow'; // console.log(child.shadow);\n\n            _this.gui.addFolder(shadowFolderId, child.name);\n\n            _this.gui.addObjectToFolder(shadowFolderId, child.shadow, [{\n              keyName: 'bias',\n              min: -1,\n              max: 1,\n              step: 0.00001\n            }, {\n              keyName: 'radius',\n              min: 0,\n              max: 100,\n              step: 0.01\n            }]);\n          }\n        } else if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"Mesh\"]) {\n          // child.geometry.computeVertexNormals(true);\n          console.log(child.name);\n          console.log('mesh', child); // If an object starts with 'text-' by convension, it will\n          // be considered a marker.\n\n          if (child.name.startsWith('text')) {\n            // Hide the marker\n            // This is important\n            child.visible = false;\n\n            _this.textMarkers.push(child);\n          }\n\n          _this.gui.addFolder(child.name, 'Objects');\n\n          _this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'receiveShadow'\n          }]);\n\n          if (child.material) {\n            console.log('material', child.material);\n            var materialId = child.name + ' material';\n\n            _this.gui.addFolder(materialId, child.name);\n\n            _this.gui.addObjectToFolder(materialId, child.material, [{\n              keyName: 'emissiveIntensity',\n              min: 0,\n              max: 1\n            }, {\n              keyName: 'flatShading',\n              callback: function callback() {\n                child.material.needsUpdate = true;\n              }\n            }, {\n              keyName: 'wireframe',\n              callback: function callback() {\n                child.material.needsUpdate = true;\n              }\n            }]);\n\n            if (child.material.normalMap) {\n              console.log('normal map');\n              console.log(child.material.normalMap);\n              console.log(child.material.normalScale);\n            } // Enable smooth shading.\n            // child.material.flatShading = false;\n            // child.material.wireframe = false;\n            // child.material.needsUpdate = true;\n            // child.geometry.computeFaceNormals();\n            // child.geometry.computeVertexNormals(true);\n\n          }\n\n          if (child.name == 'Plane001') {\n            console.log('mesh', child);\n          } // Get the image mappings.\n          // if(child.material && child.material.map) {\n          //   child.material.map.needsUpdate = true;\n          // }\n\n        } else {// console.log('other', child);\n          }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n\n      _this.camera = gltf.cameras[0];\n      console.log('camera', _this.camera);\n\n      _this.resize(); // Use fog to cover far distances.\n      // const color = 0x00000;\n      // this.scene.fog = new THREE.Fog(color, 5, 8);\n      // Enable shadows.\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n\n      _this.renderer.shadowMap.enabled = true; // To antialias the shadow\n\n      _this.renderer.shadowMap.type = three__WEBPACK_IMPORTED_MODULE_1__[\"PCFSoftShadowMap\"];\n      _this.renderer.gammaOutput = true; // this.renderer.gammaFactor = 2.2;\n      // Important to get the correct colors.\n\n      _this.renderer.physicallyCorrectLights = true; // Background as black.\n      // this.renderer.setClearColor(0x4287f5);\n\n      _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha); // Affects how strongly lights come exposed.\n      // https://threejs.org/examples/#webgl_tonemapping\n\n\n      _this.renderer.toneMappingExposure = 1; // this.renderer.toneMappingExposure = 0.3;\n\n      _this.renderer.toneMapping = three__WEBPACK_IMPORTED_MODULE_1__[\"ACESFilmicToneMapping\"];\n\n      _this.gui.addObjectToFolder('Renderer', _this.renderer, [{\n        keyName: 'toneMappingExposure',\n        min: 0,\n        max: 5,\n        step: 0.01\n      }, {\n        keyName: 'gammaFactor',\n        min: 0,\n        max: 10,\n        step: 0.01\n      }]);\n\n      _this.gui.addObjectToFolder('Renderer', _this.rendererConfig, [{\n        keyName: 'clearColor',\n        callback: function callback() {\n          _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha);\n        }\n      }, {\n        keyName: 'backgroundAlpha',\n        callback: function callback() {\n          _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha);\n        }\n      }]);\n\n      _this.gui.addObjectToFolder('Camera', _this.camera, [{\n        keyName: 'fov',\n        min: 0,\n        max: 50,\n        step: 0.01,\n        callback: function callback() {\n          _this.camera.updateProjectionMatrix();\n        }\n      }, {\n        keyName: 'zoom',\n        min: 0,\n        max: 10,\n        step: 0.0001,\n        callback: function callback() {\n          _this.camera.updateProjectionMatrix();\n        }\n      }]);\n\n      _this.gui.addFolder('General Lights');\n\n      _this.generalLightConfig = {\n        ambientLightColor: '#7395b3',\n        ambientLightAlpha: 0\n      }; // Additional lighting outside the blender.\n      // var light = new THREE.HemisphereLight( 0xffffff, 0x000000, 1 );\n      // this.scene.add( light );\n\n      _this.ambientLight = new three__WEBPACK_IMPORTED_MODULE_1__[\"AmbientLight\"](_this.generalLightConfig.ambientLightColor);\n      _this.ambientLight.intensity = _this.generalLightConfig.ambientLightAlpha;\n      scene.add(_this.ambientLight);\n\n      _this.gui.addObjectToFolder('General Lights', _this.generalLightConfig, [{\n        keyName: 'ambientLightColor',\n        callback: function callback() {\n          _this.ambientLight.color = new three__WEBPACK_IMPORTED_MODULE_1__[\"Color\"](_this.generalLightConfig.ambientLightColor);\n        }\n      }, {\n        keyName: 'ambientLightAlpha',\n        callback: function callback() {\n          _this.ambientLight.intensity = _this.generalLightConfig.ambientLightAlpha;\n        }\n      }]); // var width = 50;\n      // var height = 50;\n      // var intensity = 0;\n      // var rectLight = new THREE.RectAreaLight('#FFFFFF', intensity,  width, height );\n      // rectLight.position.set( 0, 0, 25 );\n      // // rectLight.lookAt( 0, 0, 0 );\n      // this.scene.add( rectLight );\n      // rectLightHelper = new THREE.RectAreaLightHelper( rectLight );\n      // rectLight.add( rectLightHelper );\n\n\n      _this.gui.addButton('Refresh', _this.refresh.bind(_this));\n\n      _this.addStars(scene);\n    }, undefined, function (error) {\n      console.error(error);\n    });\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_1__[\"WebGLRenderer\"]({\n      antialias: true,\n      // precision: 'highp'\n      autoSize: true\n    });\n    this.composer = new three_examples_jsm_postprocessing_EffectComposer__WEBPACK_IMPORTED_MODULE_3__[\"EffectComposer\"](this.renderer);\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  _createClass(ThreeObjectViewer10, [{\n    key: \"addStars\",\n    value: function addStars(scene) {\n      for (var i = 0; i < 300; i++) {\n        var geometry = new three__WEBPACK_IMPORTED_MODULE_1__[\"SphereGeometry\"](0.5, 32, 32);\n        var material = new three__WEBPACK_IMPORTED_MODULE_1__[\"MeshBasicMaterial\"]({\n          color: 0xffffff\n        });\n        var sphere = new three__WEBPACK_IMPORTED_MODULE_1__[\"Mesh\"](geometry, material);\n        sphere.position.x = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_8__[\"mathf\"].getRandomInt(-5, 5);\n        sphere.position.y = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_8__[\"mathf\"].getRandomInt(-5, 5);\n        sphere.position.z = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_8__[\"mathf\"].getRandomInt(-5, 5);\n        sphere.scale.x = sphere.scale.y = sphere.scale.z = 0.01;\n        scene.add(sphere);\n      }\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_6__[\"dom\"].getElementScrolledPercent(this.parentElement, window.innerHeight);\n      this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_7__[\"EASE\"].Linear);\n      this.width = this.canvasContainer.parentElement.offsetWidth;\n      this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      this.renderer.setPixelRatio(window.devicePixelRatio);\n      this.renderer.setSize(this.width, this.height); // Post processing\n      // this.composer.setSize( this.width, this.height);\n      // const fxaaPass = new ShaderPass( FXAAShader );\n      // fxaaPass.material.uniforms[ 'resolution' ].value.x = 1 / ( this.width * window.devicePixelRatio);\n      // fxaaPass.material.uniforms[ 'resolution' ].value.y = 1 / ( this.height * window.devicePixelRatio);\n      // this.composer.addPass(fxaaPass);\n      // this.composer.addPass(new RenderPass(this.scene, this.camera));\n      // var bloomPass = new Unr2.2mealBloomPass(1, 25, 5, 256);\n      // this.composer.addPass(bloomPass);\n      // The camera aspect goes off since it could be exported at a different\n      // ratio.  Force update the aspect ratio.\n\n      this.camera.aspect = this.width / this.height;\n      this.camera.updateProjectionMatrix();\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n      this.resize();\n      this.draw();\n    }\n  }, {\n    key: \"getAnimationByName\",\n    value: function getAnimationByName(name) {\n      return this.animations.filter(function (animationClip) {\n        return animationClip.name == name;\n      })[0];\n    }\n  }, {\n    key: \"getObjectByName\",\n    value: function getObjectByName(name) {\n      return this.activeScene.children.filter(function (object3d) {\n        return object3d.name == name;\n      })[0];\n    }\n  }, {\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(progress) {\n      var _this2 = this;\n\n      //Animation Mixer\n      if (this.mixer) {\n        // We need to find out how long the animation is.\n        // The mixer appears to have no knowledge oft this so we need to\n        // look up a specific animation and get the duration to\n        // get the total duration of the animation.\n        var cameraAnimation = this.getAnimationByName('CameraAction');\n        var duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n        // frame so next allow it to reach the max value.\n\n        this.mixer.setTime(Math.min(duration * progress, duration - 1));\n      }\n\n      var getMarkerByName = function getMarkerByName(name) {\n        return _this2.textMarkers.filter(function (marker) {\n          return marker.userData.name == name;\n        })[0];\n      }; // Text marker1.\n\n\n      var marker = getMarkerByName('text-marker1');\n      var domCoordinates = _lib_threef_threef__WEBPACK_IMPORTED_MODULE_9__[\"threef\"].toDomCoordinates(marker, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight); // Billboarded and not scaling.\n\n      domCoordinates.z = 1;\n      _lib_threef_threef__WEBPACK_IMPORTED_MODULE_9__[\"threef\"].applyVectorToDom(this.textMarker1, domCoordinates, null); // Text marker2.\n\n      var marker2 = getMarkerByName('text-marker2');\n      var domCoordinates2 = _lib_threef_threef__WEBPACK_IMPORTED_MODULE_9__[\"threef\"].toDomCoordinates(marker2, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight); // Billboarded and not scaling.\n\n      domCoordinates2.z = 1;\n      var domRotation2 = _lib_threef_threef__WEBPACK_IMPORTED_MODULE_9__[\"threef\"].toDomRotation(marker2, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight);\n      _lib_threef_threef__WEBPACK_IMPORTED_MODULE_9__[\"threef\"].applyVectorToDom(this.textMarker2, domCoordinates2, domRotation2);\n      this.draw();\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return ThreeObjectViewer10;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyMTAuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyMTAuanM/NTg4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbi8vIGh0dHBzOi8vc3ZzLmdzZmMubmFzYS5nb3YvNDcyMFxuLy8gaHR0cHM6Ly90aHJlZWpzLm9yZy9kb2NzLyNhcGkvZW4vbWF0ZXJpYWxzL01lc2hTdGFuZGFyZE1hdGVyaWFsXG4vLyBodHRwczovL3FpaXRhLmNvbS9hZHJzMjAwMi9pdGVtcy9kYzY0MTZkNmZkMjM4OWM3NWFiNVxuLy8gaHR0cHM6Ly9xaWl0YS5jb20vY3gyMC9pdGVtcy8yYjg2Y2I1MDUyY2Q3YzM2MDM4YVxuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTQyODMwODAvbm9ybWFsLW1hcC12YWx1ZXMtd2l0aC10aHJlZWpzLWdsdGYtYmxlbmRlci1leHBvcnRlcj9ycT0xXG4vLyBUaGUgZ2xURiBmb3JtYXQgZG9lcyBub3QgYWxsb3cgYnVtcCBtYXBzLiAgVXNlIG5vcm1hbCBtYXBzLlxuLy8gaHR0cHM6Ly9kaXNjb3Vyc2UudGhyZWVqcy5vcmcvdC90aHJlZS1qcy1nbHRmLW1vZGVsLWV4cG9ydGVkLWZyb20tZWRpdG9yLWJ1bXAtbWFwLW5vdC1yZW5kZXJpbmcvMTA4MzVcbi8vXG4vLyAtIHdhdGNoIG92ZXIgZXhwb3N1cmUgb2Ygbm9ybWFsIG1hcFxuLy8gLSBwbmcgYmFzZWQgbm9ybWFsIG1hcCB3b3JrcyBiZXR0ZXI/IChqcGcgb3ZlciBleHBvc2VkPylcbi8vXG5pbXBvcnQgeyBEYXRndWlmIH0gZnJvbSAnLi4vbGliL2RhdGd1aWYvZGF0Z3VpZic7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBHTFRGTG9hZGVyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlcic7XG5pbXBvcnQgeyBFZmZlY3RDb21wb3NlciB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9wb3N0cHJvY2Vzc2luZy9FZmZlY3RDb21wb3Nlcic7IC8vIGltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcblxuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuaW1wb3J0IHsgUmFmUHJvZ3Jlc3MgfSBmcm9tICcuLi9saWIvcmFmL3JhZi1wcm9ncmVzcyc7XG5pbXBvcnQgeyBkb20gfSBmcm9tICcuLi9saWIvZG9tL2RvbSc7XG5pbXBvcnQgeyBFQVNFIH0gZnJvbSAnLi4vbGliL2Vhc2UvZWFzZSc7XG5pbXBvcnQgeyBtYXRoZiB9IGZyb20gJy4uL2xpYi9tYXRoZi9tYXRoZic7XG5pbXBvcnQgeyB0aHJlZWYgfSBmcm9tICcuLi9saWIvdGhyZWVmL3RocmVlZic7XG5cbnZhciBUaHJlZU9iamVjdFZpZXdlcjEwID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVGhyZWVPYmplY3RWaWV3ZXIxMCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRocmVlT2JqZWN0Vmlld2VyMTApO1xuXG4gICAgY29uc29sZS5sb2coJ1RocmVlSlMgT2JqZWN0IFZpZXdlciBEZW1vJyk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MgPSBuZXcgUmFmUHJvZ3Jlc3MoKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnNjcm9sbExlcnAgPSAwLjM4O1xuICAgIHRoaXMuc2Nyb2xsRWFzZSA9ICdlYXNlSW5RdWFkJztcbiAgICB0aGlzLnRleHRNYXJrZXIxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RleHQtbWFya2VyMScpO1xuICAgIHRoaXMudGV4dE1hcmtlcjIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGV4dC1tYXJrZXIyJyk7XG4gICAgdGhpcy50ZXh0TWFya2VycyA9IFtdO1xuICAgIHRoaXMucmVuZGVyZXJDb25maWcgPSB7XG4gICAgICBjbGVhckNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICBiYWNrZ3JvdW5kQWxwaGE6IDEuMFxuICAgIH07XG4gICAgdGhpcy5ndWkgPSBuZXcgRGF0Z3VpZih7XG4gICAgICBsb2FkOiBKU09OXG4gICAgfSk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdTZXR0aW5ncycpLm9wZW4oKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ1JlbmRlcmVyJywgJ1NldHRpbmdzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdDYW1lcmEnLCAnU2V0dGluZ3MnKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ1Njcm9sbCcsICdTZXR0aW5ncycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignTGlnaHRzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdPYmplY3RzJyk7XG4gICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1Njcm9sbCcsIHRoaXMsIFt7XG4gICAgICBrZXlOYW1lOiAnc2Nyb2xsTGVycCcsXG4gICAgICBtaW46IDAsXG4gICAgICBtYXg6IDEsXG4gICAgICBzdGVwOiAwLjAxXG4gICAgfSwge1xuICAgICAga2V5TmFtZTogJ3Njcm9sbEVhc2UnLFxuICAgICAgb3B0aW9uczogWydsaW5lYXInLCAnZWFzZU91dFF1YWQnLCAnZWFzZUluUXVhZCddXG4gICAgfV0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKGV2ZW50KSB7XG4gICAgICAgIF90aGlzLnByb2dyZXNzID0gZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQoX3RoaXMucGFyZW50RWxlbWVudCwgd2luZG93LmlubmVySGVpZ2h0KTsgLy8gICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjI2LCBFQVNFLmVhc2VJbk91dEV4cG8pO1xuICAgICAgICAvLyAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDAuMDgsIEVBU0UubGluZWFyKTtcblxuICAgICAgICBfdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8oX3RoaXMucHJvZ3Jlc3MsIF90aGlzLnNjcm9sbExlcnAsIEVBU0VbX3RoaXMuc2Nyb2xsRWFzZV0pO1xuICAgICAgfSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgIHRoaXMuZ3VpLm9uVXBkYXRlKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICBfdGhpcy5kcmF3KCk7XG4gICAgfSk7XG4gICAgdmFyIGxvYWRlciA9IG5ldyBHTFRGTG9hZGVyKCk7XG4gICAgdmFyIHBhdGggPSAnLi9wdWJsaWMvbW9vbi9tb29uMS5nbHRmJztcbiAgICBsb2FkZXIubG9hZChwYXRoLCBmdW5jdGlvbiAoZ2x0Zikge1xuICAgICAgdmFyIGdsdGZEYXRhID0gZ2x0Zi5wYXJzZXIuanNvbjtcblxuICAgICAgdmFyIGdldE5vZGVCeU5hbWUgPSBmdW5jdGlvbiBnZXROb2RlQnlOYW1lKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGdsdGZEYXRhLm5vZGVzLmZpbHRlcihmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIHJldHVybiBub2RlLm5hbWUgPSBuYW1lO1xuICAgICAgICB9KVswXTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnNvbGUubG9nKCdnbHRmIGRhdGEnLCBnbHRmRGF0YSk7XG4gICAgICBfdGhpcy5jbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpO1xuICAgICAgdmFyIHNjZW5lID0gZ2x0Zi5zY2VuZXNbMF07XG4gICAgICBfdGhpcy5hY3RpdmVTY2VuZSA9IHNjZW5lO1xuICAgICAgX3RoaXMuYW5pbWF0aW9ucyA9IGdsdGYuYW5pbWF0aW9uczsgLy8gQW5pbWF0aW9uIE1peGVy44Kk44Oz44K544K/44Oz44K544KS55Sf5oiQXG5cbiAgICAgIF90aGlzLm1peGVyID0gbmV3IFRIUkVFLkFuaW1hdGlvbk1peGVyKHNjZW5lKTsgLy/lhajjgabjga5BbmltYXRpb24gQ2xpcOOBq+WvvuOBl+OBplxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLmFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGFuaW1hdGlvbiA9IF90aGlzLmFuaW1hdGlvbnNbaV07IC8vQW5pbWF0aW9uIEFjdGlvbuOCkueUn+aIkFxuXG4gICAgICAgIHZhciBhY3Rpb24gPSBfdGhpcy5taXhlci5jbGlwQWN0aW9uKGFuaW1hdGlvbik7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ2FkZGVkJywgYW5pbWF0aW9uKTtcbiAgICAgICAgYWN0aW9uLnBsYXkoKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2NlbmUuYWRkKHNjZW5lKTtcblxuICAgICAgY29uc29sZS5sb2coJ3NjZW5lJywgc2NlbmUpO1xuICAgICAgY29uc29sZS5sb2coJ21peGVyJywgX3RoaXMubWl4ZXIpOyAvLyBodHRwOi8vbGVhcm5pbmd0aHJlZWpzLmNvbS9ibG9nLzIwMTIvMDEvMjAvY2FzdGluZy1zaGFkb3dzL1xuXG4gICAgICBfdGhpcy5zY2VuZS50cmF2ZXJzZShmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTGlnaHQpIHtcbiAgICAgICAgICAvLyBjaGlsZC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhjaGlsZC5uYW1lKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnbGlnaHQnLCBjaGlsZCk7IC8vIERlYnVnZ2luZyBsaWdodCBwb3NpdGlvbnMuXG4gICAgICAgICAgLy8gY2hpbGQuc2hhZG93Q2FtZXJhVmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgICAgICAgaWYgKGNoaWxkLnNoYWRvdykge1xuICAgICAgICAgICAgLy8gQWRqdXN0IHNoYWRvdyBiaWFzLlxuICAgICAgICAgICAgLy8gY2hpbGQuc2hhZG93LmJpYXMgPSAtMC4wMDI7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHJpZ2dlZCBsb29raW5nIHNoYWRvd3MuXG4gICAgICAgICAgICBjaGlsZC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IDEwMjQ7XG4gICAgICAgICAgICBjaGlsZC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSAxMDI0O1xuICAgICAgICAgICAgY2hpbGQuc2hhZG93RGFya25lc3MgPSAxOyAvLyBjaGlsZC5zaGFkb3cuY2FtZXJhLm5lYXIgPSAwO1xuICAgICAgICAgICAgLy8gY2hpbGQuc2hhZG93LmNhbWVyYS5mYXIgPSAxMDAwO1xuICAgICAgICAgICAgLy8gdmFyIGhlbHBlciA9IG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIoIGNoaWxkLnNoYWRvdy5jYW1lcmEgKTtcbiAgICAgICAgICAgIC8vIHNjZW5lLmFkZCggaGVscGVyICk7XG4gICAgICAgICAgfSAvLyBjaGlsZC5sYXllcnMuc2V0KDEpO1xuICAgICAgICAgIC8vIC8vIFBvaW50IGxpZ2h0cyBhcmUgZGVmaW5lZCBpbiB3YXR0cyB3aGljaCBnb2VzIHdhYXkgb2ZmIGluIHRocmVlLmpzXG5cblxuICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLlBvaW50TGlnaHQpIHtcbiAgICAgICAgICAgIGNoaWxkLmludGVuc2l0eSA9IGNoaWxkLmludGVuc2l0eSAqIDAuMDU7XG4gICAgICAgICAgfSAvLyBJZiBpdCdzIGEgc3BvdCBsaWdodCwgaXQgbmVlZHMgdG8gZ28gZG93biBldmVuIG1vcmUuXG5cblxuICAgICAgICAgIGlmIChjaGlsZC50eXBlID09IFwiU3BvdExpZ2h0XCIpIHtcbiAgICAgICAgICAgIGNoaWxkLmludGVuc2l0eSA9IGNoaWxkLmludGVuc2l0eSAqIDAuMDAzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzLmd1aS5hZGRGb2xkZXIoY2hpbGQubmFtZSwgJ0xpZ2h0cycpO1xuXG4gICAgICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKGNoaWxkLm5hbWUsIGNoaWxkLCBbe1xuICAgICAgICAgICAga2V5TmFtZTogJ2Nhc3RTaGFkb3cnXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5TmFtZTogJ2ludGVuc2l0eScsXG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBtYXg6IDMwMDBcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXlOYW1lOiAnY29sb3InXG4gICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgaWYgKGNoaWxkLnNoYWRvdykge1xuICAgICAgICAgICAgdmFyIHNoYWRvd0ZvbGRlcklkID0gY2hpbGQubmFtZSArICcgc2hhZG93JzsgLy8gY29uc29sZS5sb2coY2hpbGQuc2hhZG93KTtcblxuICAgICAgICAgICAgX3RoaXMuZ3VpLmFkZEZvbGRlcihzaGFkb3dGb2xkZXJJZCwgY2hpbGQubmFtZSk7XG5cbiAgICAgICAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihzaGFkb3dGb2xkZXJJZCwgY2hpbGQuc2hhZG93LCBbe1xuICAgICAgICAgICAgICBrZXlOYW1lOiAnYmlhcycsXG4gICAgICAgICAgICAgIG1pbjogLTEsXG4gICAgICAgICAgICAgIG1heDogMSxcbiAgICAgICAgICAgICAgc3RlcDogMC4wMDAwMVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBrZXlOYW1lOiAncmFkaXVzJyxcbiAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICBtYXg6IDEwMCxcbiAgICAgICAgICAgICAgc3RlcDogMC4wMVxuICAgICAgICAgICAgfV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2gpIHtcbiAgICAgICAgICAvLyBjaGlsZC5nZW9tZXRyeS5jb21wdXRlVmVydGV4Tm9ybWFscyh0cnVlKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhjaGlsZC5uYW1lKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnbWVzaCcsIGNoaWxkKTsgLy8gSWYgYW4gb2JqZWN0IHN0YXJ0cyB3aXRoICd0ZXh0LScgYnkgY29udmVuc2lvbiwgaXQgd2lsbFxuICAgICAgICAgIC8vIGJlIGNvbnNpZGVyZWQgYSBtYXJrZXIuXG5cbiAgICAgICAgICBpZiAoY2hpbGQubmFtZS5zdGFydHNXaXRoKCd0ZXh0JykpIHtcbiAgICAgICAgICAgIC8vIEhpZGUgdGhlIG1hcmtlclxuICAgICAgICAgICAgLy8gVGhpcyBpcyBpbXBvcnRhbnRcbiAgICAgICAgICAgIGNoaWxkLnZpc2libGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgX3RoaXMudGV4dE1hcmtlcnMucHVzaChjaGlsZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMuZ3VpLmFkZEZvbGRlcihjaGlsZC5uYW1lLCAnT2JqZWN0cycpO1xuXG4gICAgICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKGNoaWxkLm5hbWUsIGNoaWxkLCBbe1xuICAgICAgICAgICAga2V5TmFtZTogJ2Nhc3RTaGFkb3cnXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5TmFtZTogJ3JlY2VpdmVTaGFkb3cnXG4gICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgaWYgKGNoaWxkLm1hdGVyaWFsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbWF0ZXJpYWwnLCBjaGlsZC5tYXRlcmlhbCk7XG4gICAgICAgICAgICB2YXIgbWF0ZXJpYWxJZCA9IGNoaWxkLm5hbWUgKyAnIG1hdGVyaWFsJztcblxuICAgICAgICAgICAgX3RoaXMuZ3VpLmFkZEZvbGRlcihtYXRlcmlhbElkLCBjaGlsZC5uYW1lKTtcblxuICAgICAgICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKG1hdGVyaWFsSWQsIGNoaWxkLm1hdGVyaWFsLCBbe1xuICAgICAgICAgICAgICBrZXlOYW1lOiAnZW1pc3NpdmVJbnRlbnNpdHknLFxuICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgIG1heDogMVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBrZXlOYW1lOiAnZmxhdFNoYWRpbmcnLFxuICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICd3aXJlZnJhbWUnLFxuICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIGlmIChjaGlsZC5tYXRlcmlhbC5ub3JtYWxNYXApIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ25vcm1hbCBtYXAnKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hpbGQubWF0ZXJpYWwubm9ybWFsTWFwKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hpbGQubWF0ZXJpYWwubm9ybWFsU2NhbGUpO1xuICAgICAgICAgICAgfSAvLyBFbmFibGUgc21vb3RoIHNoYWRpbmcuXG4gICAgICAgICAgICAvLyBjaGlsZC5tYXRlcmlhbC5mbGF0U2hhZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gY2hpbGQubWF0ZXJpYWwud2lyZWZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBjaGlsZC5tYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAvLyBjaGlsZC5nZW9tZXRyeS5jb21wdXRlRmFjZU5vcm1hbHMoKTtcbiAgICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKHRydWUpO1xuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNoaWxkLm5hbWUgPT0gJ1BsYW5lMDAxJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ21lc2gnLCBjaGlsZCk7XG4gICAgICAgICAgfSAvLyBHZXQgdGhlIGltYWdlIG1hcHBpbmdzLlxuICAgICAgICAgIC8vIGlmKGNoaWxkLm1hdGVyaWFsICYmIGNoaWxkLm1hdGVyaWFsLm1hcCkge1xuICAgICAgICAgIC8vICAgY2hpbGQubWF0ZXJpYWwubWFwLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAvLyB9XG5cbiAgICAgICAgfSBlbHNlIHsvLyBjb25zb2xlLmxvZygnb3RoZXInLCBjaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgfSk7IC8vIFNldCB0aGUgY2FtZXJhIGV4cG9ydGVkIGluIGdsdGYuXG4gICAgICAvLyBSZXF1aXJlcyBjYW1lcmEgdG8gYmUgZXhwb3J0ZWQgZm9yIGdsdGYuXG5cblxuICAgICAgX3RoaXMuY2FtZXJhID0gZ2x0Zi5jYW1lcmFzWzBdO1xuICAgICAgY29uc29sZS5sb2coJ2NhbWVyYScsIF90aGlzLmNhbWVyYSk7XG5cbiAgICAgIF90aGlzLnJlc2l6ZSgpOyAvLyBVc2UgZm9nIHRvIGNvdmVyIGZhciBkaXN0YW5jZXMuXG4gICAgICAvLyBjb25zdCBjb2xvciA9IDB4MDAwMDA7XG4gICAgICAvLyB0aGlzLnNjZW5lLmZvZyA9IG5ldyBUSFJFRS5Gb2coY29sb3IsIDUsIDgpO1xuICAgICAgLy8gRW5hYmxlIHNoYWRvd3MuXG4gICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9jb25zdGFudHMvUmVuZGVyZXJcblxuXG4gICAgICBfdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7IC8vIFRvIGFudGlhbGlhcyB0aGUgc2hhZG93XG5cbiAgICAgIF90aGlzLnJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcbiAgICAgIF90aGlzLnJlbmRlcmVyLmdhbW1hT3V0cHV0ID0gdHJ1ZTsgLy8gdGhpcy5yZW5kZXJlci5nYW1tYUZhY3RvciA9IDIuMjtcbiAgICAgIC8vIEltcG9ydGFudCB0byBnZXQgdGhlIGNvcnJlY3QgY29sb3JzLlxuXG4gICAgICBfdGhpcy5yZW5kZXJlci5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cyA9IHRydWU7IC8vIEJhY2tncm91bmQgYXMgYmxhY2suXG4gICAgICAvLyB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHg0Mjg3ZjUpO1xuXG4gICAgICBfdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKF90aGlzLnJlbmRlcmVyQ29uZmlnLmNsZWFyQ29sb3IsIF90aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7IC8vIEFmZmVjdHMgaG93IHN0cm9uZ2x5IGxpZ2h0cyBjb21lIGV4cG9zZWQuXG4gICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2V4YW1wbGVzLyN3ZWJnbF90b25lbWFwcGluZ1xuXG5cbiAgICAgIF90aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSAxOyAvLyB0aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSAwLjM7XG5cbiAgICAgIF90aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nID0gVEhSRUUuQUNFU0ZpbG1pY1RvbmVNYXBwaW5nO1xuXG4gICAgICBfdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1JlbmRlcmVyJywgX3RoaXMucmVuZGVyZXIsIFt7XG4gICAgICAgIGtleU5hbWU6ICd0b25lTWFwcGluZ0V4cG9zdXJlJyxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDUsXG4gICAgICAgIHN0ZXA6IDAuMDFcbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ2dhbW1hRmFjdG9yJyxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDEwLFxuICAgICAgICBzdGVwOiAwLjAxXG4gICAgICB9XSk7XG5cbiAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignUmVuZGVyZXInLCBfdGhpcy5yZW5kZXJlckNvbmZpZywgW3tcbiAgICAgICAga2V5TmFtZTogJ2NsZWFyQ29sb3InLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcihfdGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCBfdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleU5hbWU6ICdiYWNrZ3JvdW5kQWxwaGEnLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcihfdGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCBfdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpO1xuICAgICAgICB9XG4gICAgICB9XSk7XG5cbiAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignQ2FtZXJhJywgX3RoaXMuY2FtZXJhLCBbe1xuICAgICAgICBrZXlOYW1lOiAnZm92JyxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDUwLFxuICAgICAgICBzdGVwOiAwLjAxLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnem9vbScsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiAxMCxcbiAgICAgICAgc3RlcDogMC4wMDAxLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgICAgfVxuICAgICAgfV0pO1xuXG4gICAgICBfdGhpcy5ndWkuYWRkRm9sZGVyKCdHZW5lcmFsIExpZ2h0cycpO1xuXG4gICAgICBfdGhpcy5nZW5lcmFsTGlnaHRDb25maWcgPSB7XG4gICAgICAgIGFtYmllbnRMaWdodENvbG9yOiAnIzczOTViMycsXG4gICAgICAgIGFtYmllbnRMaWdodEFscGhhOiAwXG4gICAgICB9OyAvLyBBZGRpdGlvbmFsIGxpZ2h0aW5nIG91dHNpZGUgdGhlIGJsZW5kZXIuXG4gICAgICAvLyB2YXIgbGlnaHQgPSBuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KCAweGZmZmZmZiwgMHgwMDAwMDAsIDEgKTtcbiAgICAgIC8vIHRoaXMuc2NlbmUuYWRkKCBsaWdodCApO1xuXG4gICAgICBfdGhpcy5hbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KF90aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRDb2xvcik7XG4gICAgICBfdGhpcy5hbWJpZW50TGlnaHQuaW50ZW5zaXR5ID0gX3RoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodEFscGhhO1xuICAgICAgc2NlbmUuYWRkKF90aGlzLmFtYmllbnRMaWdodCk7XG5cbiAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignR2VuZXJhbCBMaWdodHMnLCBfdGhpcy5nZW5lcmFsTGlnaHRDb25maWcsIFt7XG4gICAgICAgIGtleU5hbWU6ICdhbWJpZW50TGlnaHRDb2xvcicsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICBfdGhpcy5hbWJpZW50TGlnaHQuY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoX3RoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodENvbG9yKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnYW1iaWVudExpZ2h0QWxwaGEnLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMuYW1iaWVudExpZ2h0LmludGVuc2l0eSA9IF90aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRBbHBoYTtcbiAgICAgICAgfVxuICAgICAgfV0pOyAvLyB2YXIgd2lkdGggPSA1MDtcbiAgICAgIC8vIHZhciBoZWlnaHQgPSA1MDtcbiAgICAgIC8vIHZhciBpbnRlbnNpdHkgPSAwO1xuICAgICAgLy8gdmFyIHJlY3RMaWdodCA9IG5ldyBUSFJFRS5SZWN0QXJlYUxpZ2h0KCcjRkZGRkZGJywgaW50ZW5zaXR5LCAgd2lkdGgsIGhlaWdodCApO1xuICAgICAgLy8gcmVjdExpZ2h0LnBvc2l0aW9uLnNldCggMCwgMCwgMjUgKTtcbiAgICAgIC8vIC8vIHJlY3RMaWdodC5sb29rQXQoIDAsIDAsIDAgKTtcbiAgICAgIC8vIHRoaXMuc2NlbmUuYWRkKCByZWN0TGlnaHQgKTtcbiAgICAgIC8vIHJlY3RMaWdodEhlbHBlciA9IG5ldyBUSFJFRS5SZWN0QXJlYUxpZ2h0SGVscGVyKCByZWN0TGlnaHQgKTtcbiAgICAgIC8vIHJlY3RMaWdodC5hZGQoIHJlY3RMaWdodEhlbHBlciApO1xuXG5cbiAgICAgIF90aGlzLmd1aS5hZGRCdXR0b24oJ1JlZnJlc2gnLCBfdGhpcy5yZWZyZXNoLmJpbmQoX3RoaXMpKTtcblxuICAgICAgX3RoaXMuYWRkU3RhcnMoc2NlbmUpO1xuICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe1xuICAgICAgYW50aWFsaWFzOiB0cnVlLFxuICAgICAgLy8gcHJlY2lzaW9uOiAnaGlnaHAnXG4gICAgICBhdXRvU2l6ZTogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuY29tcG9zZXIgPSBuZXcgRWZmZWN0Q29tcG9zZXIodGhpcy5yZW5kZXJlcik7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUuYmluZCh0aGlzKSwgZmFsc2UpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRocmVlT2JqZWN0Vmlld2VyMTAsIFt7XG4gICAga2V5OiBcImFkZFN0YXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFN0YXJzKHNjZW5lKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDMwMDsgaSsrKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSgwLjUsIDMyLCAzMik7XG4gICAgICAgIHZhciBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgICAgICAgY29sb3I6IDB4ZmZmZmZmXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgc3BoZXJlID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcbiAgICAgICAgc3BoZXJlLnBvc2l0aW9uLnggPSBtYXRoZi5nZXRSYW5kb21JbnQoLTUsIDUpO1xuICAgICAgICBzcGhlcmUucG9zaXRpb24ueSA9IG1hdGhmLmdldFJhbmRvbUludCgtNSwgNSk7XG4gICAgICAgIHNwaGVyZS5wb3NpdGlvbi56ID0gbWF0aGYuZ2V0UmFuZG9tSW50KC01LCA1KTtcbiAgICAgICAgc3BoZXJlLnNjYWxlLnggPSBzcGhlcmUuc2NhbGUueSA9IHNwaGVyZS5zY2FsZS56ID0gMC4wMTtcbiAgICAgICAgc2NlbmUuYWRkKHNwaGVyZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNpemUoKSB7XG4gICAgICB0aGlzLnByb2dyZXNzID0gZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50LCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgRUFTRS5MaW5lYXIpO1xuICAgICAgdGhpcy53aWR0aCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0OyAvLyBodHRwczovL2dpdGh1Yi5jb20vZG9ubWNjdXJkeS90aHJlZS1nbHRmLXZpZXdlci9ibG9iL21hc3Rlci9zcmMvdmlld2VyLmpzXG4gICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9jb25zdGFudHMvUmVuZGVyZXJcblxuICAgICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7IC8vIFBvc3QgcHJvY2Vzc2luZ1xuICAgICAgLy8gdGhpcy5jb21wb3Nlci5zZXRTaXplKCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAvLyBjb25zdCBmeGFhUGFzcyA9IG5ldyBTaGFkZXJQYXNzKCBGWEFBU2hhZGVyICk7XG4gICAgICAvLyBmeGFhUGFzcy5tYXRlcmlhbC51bmlmb3Jtc1sgJ3Jlc29sdXRpb24nIF0udmFsdWUueCA9IDEgLyAoIHRoaXMud2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAvLyBmeGFhUGFzcy5tYXRlcmlhbC51bmlmb3Jtc1sgJ3Jlc29sdXRpb24nIF0udmFsdWUueSA9IDEgLyAoIHRoaXMuaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKGZ4YWFQYXNzKTtcbiAgICAgIC8vIHRoaXMuY29tcG9zZXIuYWRkUGFzcyhuZXcgUmVuZGVyUGFzcyh0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSkpO1xuICAgICAgLy8gdmFyIGJsb29tUGFzcyA9IG5ldyBVbnIyLjJtZWFsQmxvb21QYXNzKDEsIDI1LCA1LCAyNTYpO1xuICAgICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKGJsb29tUGFzcyk7XG4gICAgICAvLyBUaGUgY2FtZXJhIGFzcGVjdCBnb2VzIG9mZiBzaW5jZSBpdCBjb3VsZCBiZSBleHBvcnRlZCBhdCBhIGRpZmZlcmVudFxuICAgICAgLy8gcmF0aW8uICBGb3JjZSB1cGRhdGUgdGhlIGFzcGVjdCByYXRpby5cblxuICAgICAgdGhpcy5jYW1lcmEuYXNwZWN0ID0gdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZWZyZXNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlZnJlc2goKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCB0aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7XG4gICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgdGhpcy5kcmF3KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEFuaW1hdGlvbkJ5TmFtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbmltYXRpb25CeU5hbWUobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGFuaW1hdGlvbkNsaXApIHtcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbkNsaXAubmFtZSA9PSBuYW1lO1xuICAgICAgfSlbMF07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldE9iamVjdEJ5TmFtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRPYmplY3RCeU5hbWUobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlU2NlbmUuY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChvYmplY3QzZCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0M2QubmFtZSA9PSBuYW1lO1xuICAgICAgfSlbMF07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUHJvZ3Jlc3NVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9ncmVzc1VwZGF0ZShwcm9ncmVzcykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIC8vQW5pbWF0aW9uIE1peGVy44KS5a6f6KGMXG4gICAgICBpZiAodGhpcy5taXhlcikge1xuICAgICAgICAvLyBXZSBuZWVkIHRvIGZpbmQgb3V0IGhvdyBsb25nIHRoZSBhbmltYXRpb24gaXMuXG4gICAgICAgIC8vIFRoZSBtaXhlciBhcHBlYXJzIHRvIGhhdmUgbm8ga25vd2xlZGdlIG9mdCB0aGlzIHNvIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gbG9vayB1cCBhIHNwZWNpZmljIGFuaW1hdGlvbiBhbmQgZ2V0IHRoZSBkdXJhdGlvbiB0b1xuICAgICAgICAvLyBnZXQgdGhlIHRvdGFsIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICAgIHZhciBjYW1lcmFBbmltYXRpb24gPSB0aGlzLmdldEFuaW1hdGlvbkJ5TmFtZSgnQ2FtZXJhQWN0aW9uJyk7XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IGNhbWVyYUFuaW1hdGlvbi5kdXJhdGlvbjsgLy8gV2hlbiBkdXJhdGlvbiBoaXRzIGl0J3MgbWF4LCBhbmltYXRpb25NaXhlciBzZWVtcyB0byBoaXQgdGhlIGZpcnN0XG4gICAgICAgIC8vIGZyYW1lIHNvIG5leHQgYWxsb3cgaXQgdG8gcmVhY2ggdGhlIG1heCB2YWx1ZS5cblxuICAgICAgICB0aGlzLm1peGVyLnNldFRpbWUoTWF0aC5taW4oZHVyYXRpb24gKiBwcm9ncmVzcywgZHVyYXRpb24gLSAxKSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBnZXRNYXJrZXJCeU5hbWUgPSBmdW5jdGlvbiBnZXRNYXJrZXJCeU5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLnRleHRNYXJrZXJzLmZpbHRlcihmdW5jdGlvbiAobWFya2VyKSB7XG4gICAgICAgICAgcmV0dXJuIG1hcmtlci51c2VyRGF0YS5uYW1lID09IG5hbWU7XG4gICAgICAgIH0pWzBdO1xuICAgICAgfTsgLy8gVGV4dCBtYXJrZXIxLlxuXG5cbiAgICAgIHZhciBtYXJrZXIgPSBnZXRNYXJrZXJCeU5hbWUoJ3RleHQtbWFya2VyMScpO1xuICAgICAgdmFyIGRvbUNvb3JkaW5hdGVzID0gdGhyZWVmLnRvRG9tQ29vcmRpbmF0ZXMobWFya2VyLCB0aGlzLmNhbWVyYSwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0V2lkdGgsIHRoaXMuY2FudmFzQ29udGFpbmVyLm9mZnNldEhlaWdodCk7IC8vIEJpbGxib2FyZGVkIGFuZCBub3Qgc2NhbGluZy5cblxuICAgICAgZG9tQ29vcmRpbmF0ZXMueiA9IDE7XG4gICAgICB0aHJlZWYuYXBwbHlWZWN0b3JUb0RvbSh0aGlzLnRleHRNYXJrZXIxLCBkb21Db29yZGluYXRlcywgbnVsbCk7IC8vIFRleHQgbWFya2VyMi5cblxuICAgICAgdmFyIG1hcmtlcjIgPSBnZXRNYXJrZXJCeU5hbWUoJ3RleHQtbWFya2VyMicpO1xuICAgICAgdmFyIGRvbUNvb3JkaW5hdGVzMiA9IHRocmVlZi50b0RvbUNvb3JkaW5hdGVzKG1hcmtlcjIsIHRoaXMuY2FtZXJhLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRXaWR0aCwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0SGVpZ2h0KTsgLy8gQmlsbGJvYXJkZWQgYW5kIG5vdCBzY2FsaW5nLlxuXG4gICAgICBkb21Db29yZGluYXRlczIueiA9IDE7XG4gICAgICB2YXIgZG9tUm90YXRpb24yID0gdGhyZWVmLnRvRG9tUm90YXRpb24obWFya2VyMiwgdGhpcy5jYW1lcmEsIHRoaXMuY2FudmFzQ29udGFpbmVyLm9mZnNldFdpZHRoLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRIZWlnaHQpO1xuICAgICAgdGhyZWVmLmFwcGx5VmVjdG9yVG9Eb20odGhpcy50ZXh0TWFya2VyMiwgZG9tQ29vcmRpbmF0ZXMyLCBkb21Sb3RhdGlvbjIpO1xuICAgICAgdGhpcy5kcmF3KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRyYXdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdygpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVGhyZWVPYmplY3RWaWV3ZXIxMDtcbn0oKTtcblxuZXhwb3J0IHsgVGhyZWVPYmplY3RWaWV3ZXIxMCBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/three-object-viewer10.js\n");

/***/ }),

/***/ "./examples/three-object-viewer11.js":
/*!*******************************************!*\
  !*** ./examples/three-object-viewer11.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ThreeObjectViewer11; });\n/* harmony import */ var _lib_datguif_datguif__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/datguif/datguif */ \"./lib/datguif/datguif.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_EffectComposer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer */ \"./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/RenderPass.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_UnrealBloomPass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/postprocessing/UnrealBloomPass.js */ \"./node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js\");\n/* harmony import */ var three_examples_jsm_shaders_FXAAShader_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/shaders/FXAAShader.js */ \"./node_modules/three/examples/jsm/shaders/FXAAShader.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/ShaderPass.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_threef_threef__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../lib/threef/threef */ \"./lib/threef/threef.js\");\n/* harmony import */ var minimatch__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! minimatch */ \"./node_modules/minimatch/minimatch.js\");\n/* harmony import */ var minimatch__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(minimatch__WEBPACK_IMPORTED_MODULE_14__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// https://svs.gsfc.nasa.gov/4720\n// https://threejs.org/docs/#api/en/materials/MeshStandardMaterial\n// https://qiita.com/adrs2002/items/dc6416d6fd2389c75ab5\n// https://qiita.com/cx20/items/2b86cb5052cd7c36038a\n// https://stackoverflow.com/questions/54283080/normal-map-values-with-threejs-gltf-blender-exporter?rq=1\n// The glTF format does not allow bump maps.  Use normal maps.\n// https://discourse.threejs.org/t/three-js-gltf-model-exported-from-editor-bump-map-not-rendering/10835\n//\n// - watch over exposure of normal map\n// - png based normal map works better? (jpg over exposed?)\n//\n\n\n\n\n\n\n\n // import { Raf } from '../lib/raf/raf';\n\n\n\n\n\n\n\n\n\nvar ThreeObjectViewer11 = /*#__PURE__*/function () {\n  function ThreeObjectViewer11() {\n    var _this = this;\n\n    _classCallCheck(this, ThreeObjectViewer11);\n\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_8__[\"DomWatcher\"]();\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_9__[\"RafProgress\"]();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.scrollLerp = 0.38;\n    this.scrollEase = 'easeInQuad';\n    this.domCamera = document.getElementById('canvas-dom-camera');\n    this.textMarker1 = document.getElementById('text-marker1');\n    this.textMarker2 = document.getElementById('text-marker2');\n    this.textMarker3 = document.getElementById('text-marker3');\n    this.textMarker4 = document.getElementById('text-marker4');\n    this.textMarker5 = document.getElementById('text-marker5');\n    this.textMarker6 = document.getElementById('text-marker6');\n    this.textMarkers = [];\n    this.rendererConfig = {\n      clearColor: '#000000',\n      backgroundAlpha: 1.0\n    };\n    this.gui = new _lib_datguif_datguif__WEBPACK_IMPORTED_MODULE_0__[\"Datguif\"]({\n      load: JSON\n    });\n    this.gui.addFolder('Settings').open();\n    this.gui.addFolder('Renderer', 'Settings');\n    this.gui.addFolder('Camera', 'Settings');\n    this.gui.addFolder('Scroll', 'Settings');\n    this.gui.addFolder('Lights');\n    this.gui.addFolder('Objects');\n    this.gui.addObjectToFolder('Scroll', this, [{\n      keyName: 'scrollLerp',\n      min: 0,\n      max: 1,\n      step: 0.01\n    }, {\n      keyName: 'scrollEase',\n      options: ['linear', 'easeOutQuad', 'easeInQuad']\n    }]);\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__[\"dom\"].getElementScrolledPercent(_this.parentElement, window.innerHeight); //   this.rafProgress.easeTo(this.progress, 0.26, EASE.easeInOutExpo);\n        //   this.rafProgress.easeTo(this.progress, 0.08, EASE.linear);\n\n        _this.rafProgress.easeTo(_this.progress, _this.scrollLerp, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__[\"EASE\"][_this.scrollEase]);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_1__[\"Scene\"]();\n    this.gui.onUpdate(function (prop) {\n      _this.draw();\n    });\n    var loader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_2__[\"GLTFLoader\"]();\n    var path = './public/moon/three-object-viewer11.gltf';\n    loader.load(path, function (gltf) {\n      var gltfData = gltf.parser.json;\n\n      var getNodeByName = function getNodeByName(name) {\n        return gltfData.nodes.filter(function (node) {\n          return node.name = name;\n        })[0];\n      };\n\n      console.log('gltf data', gltfData);\n      _this.clock = new three__WEBPACK_IMPORTED_MODULE_1__[\"Clock\"]();\n      var scene = gltf.scenes[0];\n      _this.activeScene = scene;\n      _this.animations = gltf.animations; // Animation Mixer\n\n      _this.mixer = new three__WEBPACK_IMPORTED_MODULE_1__[\"AnimationMixer\"](scene); //Animation Clip\n\n      for (var i = 0; i < _this.animations.length; i++) {\n        var animation = _this.animations[i]; //Animation Action\n\n        var action = _this.mixer.clipAction(animation);\n\n        console.log('added', animation);\n        action.play();\n      }\n\n      _this.scene.add(scene);\n\n      console.log('scene', scene);\n      console.log('mixer', _this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      _this.scene.traverse(function (child) {\n        if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"Light\"]) {\n          // child.castShadow = true;\n          console.log(child.name);\n          console.log('light', child); // Debugging light positions.\n          // child.shadowCameraVisible = false;\n\n          if (child.shadow) {\n            // Adjust shadow bias.\n            // child.shadow.bias = -0.002;\n            // Remove the rigged looking shadows.\n            child.shadow.mapSize.width = 1024;\n            child.shadow.mapSize.height = 1024;\n            child.shadowDarkness = 1; // child.shadow.camera.near = 0;\n            // child.shadow.camera.far = 1000;\n            // var helper = new THREE.CameraHelper( child.shadow.camera );\n            // scene.add( helper );\n          } // child.layers.set(1);\n          // // Point lights are defined in watts which goes waay off in three.js\n\n\n          if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"PointLight\"]) {\n            child.intensity = child.intensity * 0.05;\n          } // If it's a spot light, it needs to go down even more.\n\n\n          if (child.type == \"SpotLight\") {\n            child.intensity = child.intensity * 0.003;\n          }\n\n          _this.gui.addFolder(child.name, 'Lights');\n\n          _this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'intensity',\n            min: 0,\n            max: 3000\n          }, {\n            keyName: 'color'\n          }]);\n\n          if (child.shadow) {\n            var shadowFolderId = child.name + ' shadow'; // console.log(child.shadow);\n\n            _this.gui.addFolder(shadowFolderId, child.name);\n\n            _this.gui.addObjectToFolder(shadowFolderId, child.shadow, [{\n              keyName: 'bias',\n              min: -1,\n              max: 1,\n              step: 0.00001\n            }, {\n              keyName: 'radius',\n              min: 0,\n              max: 100,\n              step: 0.01\n            }]);\n          }\n        } else if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"Mesh\"]) {\n          // child.geometry.computeVertexNormals(true);\n          console.log(child.name);\n          console.log('mesh', child); // If an object starts with 'text-' by convension, it will\n          // be considered a marker.\n\n          if (child.name.startsWith('text')) {\n            // Hide the marker\n            // child.visible = false;\n            _this.textMarkers.push(child);\n          }\n\n          _this.gui.addFolder(child.name, 'Objects');\n\n          _this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'receiveShadow'\n          }]);\n\n          if (child.material) {\n            console.log('material', child.material);\n            var materialId = child.name + ' material';\n\n            _this.gui.addFolder(materialId, child.name);\n\n            _this.gui.addObjectToFolder(materialId, child.material, [{\n              keyName: 'emissiveIntensity',\n              min: 0,\n              max: 1\n            }, {\n              keyName: 'flatShading',\n              callback: function callback() {\n                child.material.needsUpdate = true;\n              }\n            }, {\n              keyName: 'wireframe',\n              callback: function callback() {\n                child.material.needsUpdate = true;\n              }\n            }]);\n\n            if (child.material.normalMap) {\n              console.log('normal map');\n              console.log(child.material.normalMap);\n              console.log(child.material.normalScale);\n            } // Enable smooth shading.\n            // child.material.flatShading = false;\n            // child.material.wireframe = false;\n            // child.material.needsUpdate = true;\n            // child.geometry.computeFaceNormals();\n            // child.geometry.computeVertexNormals(true);\n\n          }\n\n          if (child.name == 'Plane001') {\n            console.log('mesh', child);\n          } // Get the image mappings.\n          // if(child.material && child.material.map) {\n          //   child.material.map.needsUpdate = true;\n          // }\n\n        } else {// console.log('other', child);\n          }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n\n      _this.camera = gltf.cameras[0];\n      console.log('camera', _this.camera);\n\n      _this.resize(); // Use fog to cover far distances.\n      // const color = 0x00000;\n      // this.scene.fog = new THREE.Fog(color, 5, 8);\n      // Enable shadows.\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n\n      _this.renderer.shadowMap.enabled = true; // To antialias the shadow\n\n      _this.renderer.shadowMap.type = three__WEBPACK_IMPORTED_MODULE_1__[\"PCFSoftShadowMap\"];\n      _this.renderer.gammaOutput = true; // this.renderer.gammaFactor = 2.2;\n      // Important to get the correct colors.\n\n      _this.renderer.physicallyCorrectLights = true; // Background as black.\n      // this.renderer.setClearColor(0x4287f5);\n\n      _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha); // Affects how strongly lights come exposed.\n      // https://threejs.org/examples/#webgl_tonemapping\n\n\n      _this.renderer.toneMappingExposure = 1; // this.renderer.toneMappingExposure = 0.3;\n\n      _this.renderer.toneMapping = three__WEBPACK_IMPORTED_MODULE_1__[\"ACESFilmicToneMapping\"];\n\n      _this.gui.addObjectToFolder('Renderer', _this.renderer, [{\n        keyName: 'toneMappingExposure',\n        min: 0,\n        max: 5,\n        step: 0.01\n      }, {\n        keyName: 'gammaFactor',\n        min: 0,\n        max: 10,\n        step: 0.01\n      }]);\n\n      _this.gui.addObjectToFolder('Renderer', _this.rendererConfig, [{\n        keyName: 'clearColor',\n        callback: function callback() {\n          _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha);\n        }\n      }, {\n        keyName: 'backgroundAlpha',\n        callback: function callback() {\n          _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha);\n        }\n      }]);\n\n      _this.gui.addObjectToFolder('Camera', _this.camera, [{\n        keyName: 'fov',\n        min: 0,\n        max: 50,\n        step: 0.01,\n        callback: function callback() {\n          _this.camera.updateProjectionMatrix();\n        }\n      }, {\n        keyName: 'zoom',\n        min: 0,\n        max: 10,\n        step: 0.0001,\n        callback: function callback() {\n          _this.camera.updateProjectionMatrix();\n        }\n      }]);\n\n      _this.gui.addFolder('General Lights');\n\n      _this.generalLightConfig = {\n        ambientLightColor: '#FFFFFF',\n        ambientLightAlpha: 1\n      }; // Additional lighting outside the blender.\n      // var light = new THREE.HemisphereLight( 0xffffff, 0x000000, 1 );\n      // this.scene.add( light );\n\n      _this.ambientLight = new three__WEBPACK_IMPORTED_MODULE_1__[\"AmbientLight\"](_this.generalLightConfig.ambientLightColor);\n      _this.ambientLight.intensity = _this.generalLightConfig.ambientLightAlpha;\n      scene.add(_this.ambientLight);\n\n      _this.gui.addObjectToFolder('General Lights', _this.generalLightConfig, [{\n        keyName: 'ambientLightColor',\n        callback: function callback() {\n          _this.ambientLight.color = new three__WEBPACK_IMPORTED_MODULE_1__[\"Color\"](_this.generalLightConfig.ambientLightColor);\n        }\n      }, {\n        keyName: 'ambientLightAlpha',\n        callback: function callback() {\n          _this.ambientLight.intensity = _this.generalLightConfig.ambientLightAlpha;\n        }\n      }]);\n\n      _this.gui.addButton('Refresh', _this.refresh.bind(_this));\n    }, undefined, function (error) {\n      console.error(error);\n    });\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_1__[\"WebGLRenderer\"]({\n      antialias: true,\n      // precision: 'highp'\n      autoSize: true\n    });\n    this.composer = new three_examples_jsm_postprocessing_EffectComposer__WEBPACK_IMPORTED_MODULE_3__[\"EffectComposer\"](this.renderer);\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  _createClass(ThreeObjectViewer11, [{\n    key: \"resize\",\n    value: function resize() {\n      this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__[\"dom\"].getElementScrolledPercent(this.parentElement, window.innerHeight);\n      this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__[\"EASE\"].Linear);\n      this.width = this.canvasContainer.parentElement.offsetWidth;\n      this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      this.renderer.setPixelRatio(window.devicePixelRatio);\n      this.renderer.setSize(this.width, this.height); // Post processing\n      // this.composer.setSize( this.width, this.height);\n      // const fxaaPass = new ShaderPass( FXAAShader );\n      // fxaaPass.material.uniforms[ 'resolution' ].value.x = 1 / ( this.width * window.devicePixelRatio);\n      // fxaaPass.material.uniforms[ 'resolution' ].value.y = 1 / ( this.height * window.devicePixelRatio);\n      // this.composer.addPass(fxaaPass);\n      // this.composer.addPass(new RenderPass(this.scene, this.camera));\n      // var bloomPass = new Unr2.2mealBloomPass(1, 25, 5, 256);\n      // this.composer.addPass(bloomPass);\n      // The camera aspect goes off since it could be exported at a different\n      // ratio.  Force update the aspect ratio.\n\n      this.camera.aspect = this.width / this.height;\n      this.camera.updateProjectionMatrix();\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n      this.resize();\n      this.draw();\n    }\n  }, {\n    key: \"getAnimationByName\",\n    value: function getAnimationByName(name) {\n      return this.animations.filter(function (animationClip) {\n        return animationClip.name == name;\n      })[0];\n    }\n  }, {\n    key: \"getObjectByName\",\n    value: function getObjectByName(name) {\n      return this.activeScene.children.filter(function (object3d) {\n        return object3d.name == name;\n      })[0];\n    }\n  }, {\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(progress) {\n      var _this2 = this;\n\n      //Animation Mixer\n      if (this.mixer) {\n        // We need to find out how long the animation is.\n        // The mixer appears to have no knowledge oft this so we need to\n        // look up a specific animation and get the duration to\n        // get the total duration of the animation.\n        var cameraAnimation = this.getAnimationByName('CameraAction');\n        var duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n        // frame so next allow it to reach the max value.\n\n        this.mixer.setTime(Math.min(duration * progress, duration - 0.01));\n      }\n\n      var getMarkerByName = function getMarkerByName(name) {\n        return _this2.textMarkers.filter(function (marker) {\n          return marker.userData.name == name;\n        })[0];\n      };\n\n      this.draw(); // Text marker1.\n\n      var marker = getMarkerByName('text-marker1');\n      var domCoordinates = _lib_threef_threef__WEBPACK_IMPORTED_MODULE_13__[\"threef\"].toDomCoordinates(marker, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight); // Billboarded and not scaling.\n\n      var domRotation = _lib_threef_threef__WEBPACK_IMPORTED_MODULE_13__[\"threef\"].toDomRotation(marker, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight);\n      _lib_threef_threef__WEBPACK_IMPORTED_MODULE_13__[\"threef\"].applyVectorToDom(this.textMarker1, domCoordinates, domRotation); // Text marker2.\n\n      var marker2 = getMarkerByName('text-marker2');\n      var domCoordinates2 = _lib_threef_threef__WEBPACK_IMPORTED_MODULE_13__[\"threef\"].toDomCoordinates(marker2, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight);\n      var domRotation2 = _lib_threef_threef__WEBPACK_IMPORTED_MODULE_13__[\"threef\"].toDomRotation(marker2, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight);\n      _lib_threef_threef__WEBPACK_IMPORTED_MODULE_13__[\"threef\"].applyVectorToDom(this.textMarker2, domCoordinates2, domRotation2); // Text marker3.\n\n      var marker3 = getMarkerByName('text-marker3');\n      var domCoordinates3 = _lib_threef_threef__WEBPACK_IMPORTED_MODULE_13__[\"threef\"].toDomCoordinates(marker3, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight);\n      var domRotation3 = _lib_threef_threef__WEBPACK_IMPORTED_MODULE_13__[\"threef\"].toDomRotation(marker3, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight);\n      _lib_threef_threef__WEBPACK_IMPORTED_MODULE_13__[\"threef\"].applyVectorToDom(this.textMarker3, domCoordinates3, domRotation3);\n      var marker4 = getMarkerByName('text-marker4');\n      var domCoordinates4 = _lib_threef_threef__WEBPACK_IMPORTED_MODULE_13__[\"threef\"].toDomCoordinates(marker4, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight, 0.3);\n      var domRotation4 = _lib_threef_threef__WEBPACK_IMPORTED_MODULE_13__[\"threef\"].toDomRotation(marker4, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight);\n      _lib_threef_threef__WEBPACK_IMPORTED_MODULE_13__[\"threef\"].applyVectorToDom(this.textMarker4, domCoordinates4, domRotation4);\n      var marker5 = getMarkerByName('text-marker5');\n      var domCoordinates5 = _lib_threef_threef__WEBPACK_IMPORTED_MODULE_13__[\"threef\"].toDomCoordinates(marker5, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight, 0.3);\n      var domRotation5 = _lib_threef_threef__WEBPACK_IMPORTED_MODULE_13__[\"threef\"].toDomRotation(marker5, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight);\n      _lib_threef_threef__WEBPACK_IMPORTED_MODULE_13__[\"threef\"].applyVectorToDom(this.textMarker5, domCoordinates5, domRotation5); // Billboarding sample.\n      // Notice how rotation is not applied.\n      // domCoodinates also don't pass a scale value so the text maintains it's original scale.\n\n      var marker6 = getMarkerByName('text-marker6');\n      var domBoundingRect = _lib_threef_threef__WEBPACK_IMPORTED_MODULE_13__[\"threef\"].toDomBoundingRect(marker6, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight);\n      var domCoordinates6 = _lib_threef_threef__WEBPACK_IMPORTED_MODULE_13__[\"threef\"].toDomCoordinates(marker6, this.camera, this.canvasContainer.offsetWidth, this.canvasContainer.offsetHeight); // Set to the topRight corner of an element.\n\n      _lib_threef_threef__WEBPACK_IMPORTED_MODULE_13__[\"threef\"].applyVectorToDom(this.textMarker6, {\n        x: domBoundingRect.topRight.x,\n        y: domBoundingRect.topRight.y,\n        z: 1.0\n      });\n      console.log(domBoundingRect);\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return ThreeObjectViewer11;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyMTEuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyMTEuanM/YjFlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbi8vIGh0dHBzOi8vc3ZzLmdzZmMubmFzYS5nb3YvNDcyMFxuLy8gaHR0cHM6Ly90aHJlZWpzLm9yZy9kb2NzLyNhcGkvZW4vbWF0ZXJpYWxzL01lc2hTdGFuZGFyZE1hdGVyaWFsXG4vLyBodHRwczovL3FpaXRhLmNvbS9hZHJzMjAwMi9pdGVtcy9kYzY0MTZkNmZkMjM4OWM3NWFiNVxuLy8gaHR0cHM6Ly9xaWl0YS5jb20vY3gyMC9pdGVtcy8yYjg2Y2I1MDUyY2Q3YzM2MDM4YVxuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTQyODMwODAvbm9ybWFsLW1hcC12YWx1ZXMtd2l0aC10aHJlZWpzLWdsdGYtYmxlbmRlci1leHBvcnRlcj9ycT0xXG4vLyBUaGUgZ2xURiBmb3JtYXQgZG9lcyBub3QgYWxsb3cgYnVtcCBtYXBzLiAgVXNlIG5vcm1hbCBtYXBzLlxuLy8gaHR0cHM6Ly9kaXNjb3Vyc2UudGhyZWVqcy5vcmcvdC90aHJlZS1qcy1nbHRmLW1vZGVsLWV4cG9ydGVkLWZyb20tZWRpdG9yLWJ1bXAtbWFwLW5vdC1yZW5kZXJpbmcvMTA4MzVcbi8vXG4vLyAtIHdhdGNoIG92ZXIgZXhwb3N1cmUgb2Ygbm9ybWFsIG1hcFxuLy8gLSBwbmcgYmFzZWQgbm9ybWFsIG1hcCB3b3JrcyBiZXR0ZXI/IChqcGcgb3ZlciBleHBvc2VkPylcbi8vXG5pbXBvcnQgeyBEYXRndWlmIH0gZnJvbSAnLi4vbGliL2RhdGd1aWYvZGF0Z3VpZic7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBHTFRGTG9hZGVyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvR0xURkxvYWRlcic7XG5pbXBvcnQgeyBFZmZlY3RDb21wb3NlciB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9wb3N0cHJvY2Vzc2luZy9FZmZlY3RDb21wb3Nlcic7XG5pbXBvcnQgeyBSZW5kZXJQYXNzIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL1JlbmRlclBhc3MuanMnO1xuaW1wb3J0IHsgVW5yZWFsQmxvb21QYXNzIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL1VucmVhbEJsb29tUGFzcy5qcyc7XG5pbXBvcnQgeyBGWEFBU2hhZGVyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3NoYWRlcnMvRlhBQVNoYWRlci5qcyc7XG5pbXBvcnQgeyBTaGFkZXJQYXNzIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL1NoYWRlclBhc3MuanMnOyAvLyBpbXBvcnQgeyBSYWYgfSBmcm9tICcuLi9saWIvcmFmL3JhZic7XG5cbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9saWIvZG9tL2RvbS13YXRjaGVyJztcbmltcG9ydCB7IFJhZlByb2dyZXNzIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3MnO1xuaW1wb3J0IHsgZG9tIH0gZnJvbSAnLi4vbGliL2RvbS9kb20nO1xuaW1wb3J0IHsgRUFTRSB9IGZyb20gJy4uL2xpYi9lYXNlL2Vhc2UnO1xuaW1wb3J0IHsgbWF0aGYgfSBmcm9tICcuLi9saWIvbWF0aGYvbWF0aGYnO1xuaW1wb3J0IHsgdGhyZWVmIH0gZnJvbSAnLi4vbGliL3RocmVlZi90aHJlZWYnO1xuaW1wb3J0IHsgbWFrZVJlIH0gZnJvbSAnbWluaW1hdGNoJztcblxudmFyIFRocmVlT2JqZWN0Vmlld2VyMTEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUaHJlZU9iamVjdFZpZXdlcjExKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGhyZWVPYmplY3RWaWV3ZXIxMSk7XG5cbiAgICBjb25zb2xlLmxvZygnVGhyZWVKUyBPYmplY3QgVmlld2VyIERlbW8nKTtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyZW50Jyk7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzLWNvbnRhaW5lcicpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgdGhpcy5yYWZQcm9ncmVzcyA9IG5ldyBSYWZQcm9ncmVzcygpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3Mud2F0Y2godGhpcy5vblByb2dyZXNzVXBkYXRlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2Nyb2xsTGVycCA9IDAuMzg7XG4gICAgdGhpcy5zY3JvbGxFYXNlID0gJ2Vhc2VJblF1YWQnO1xuICAgIHRoaXMuZG9tQ2FtZXJhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcy1kb20tY2FtZXJhJyk7XG4gICAgdGhpcy50ZXh0TWFya2VyMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXh0LW1hcmtlcjEnKTtcbiAgICB0aGlzLnRleHRNYXJrZXIyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RleHQtbWFya2VyMicpO1xuICAgIHRoaXMudGV4dE1hcmtlcjMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGV4dC1tYXJrZXIzJyk7XG4gICAgdGhpcy50ZXh0TWFya2VyNCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXh0LW1hcmtlcjQnKTtcbiAgICB0aGlzLnRleHRNYXJrZXI1ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RleHQtbWFya2VyNScpO1xuICAgIHRoaXMudGV4dE1hcmtlcjYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGV4dC1tYXJrZXI2Jyk7XG4gICAgdGhpcy50ZXh0TWFya2VycyA9IFtdO1xuICAgIHRoaXMucmVuZGVyZXJDb25maWcgPSB7XG4gICAgICBjbGVhckNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICBiYWNrZ3JvdW5kQWxwaGE6IDEuMFxuICAgIH07XG4gICAgdGhpcy5ndWkgPSBuZXcgRGF0Z3VpZih7XG4gICAgICBsb2FkOiBKU09OXG4gICAgfSk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdTZXR0aW5ncycpLm9wZW4oKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ1JlbmRlcmVyJywgJ1NldHRpbmdzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdDYW1lcmEnLCAnU2V0dGluZ3MnKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ1Njcm9sbCcsICdTZXR0aW5ncycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignTGlnaHRzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdPYmplY3RzJyk7XG4gICAgdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1Njcm9sbCcsIHRoaXMsIFt7XG4gICAgICBrZXlOYW1lOiAnc2Nyb2xsTGVycCcsXG4gICAgICBtaW46IDAsXG4gICAgICBtYXg6IDEsXG4gICAgICBzdGVwOiAwLjAxXG4gICAgfSwge1xuICAgICAga2V5TmFtZTogJ3Njcm9sbEVhc2UnLFxuICAgICAgb3B0aW9uczogWydsaW5lYXInLCAnZWFzZU91dFF1YWQnLCAnZWFzZUluUXVhZCddXG4gICAgfV0pO1xuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKGV2ZW50KSB7XG4gICAgICAgIF90aGlzLnByb2dyZXNzID0gZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQoX3RoaXMucGFyZW50RWxlbWVudCwgd2luZG93LmlubmVySGVpZ2h0KTsgLy8gICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjI2LCBFQVNFLmVhc2VJbk91dEV4cG8pO1xuICAgICAgICAvLyAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDAuMDgsIEVBU0UubGluZWFyKTtcblxuICAgICAgICBfdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8oX3RoaXMucHJvZ3Jlc3MsIF90aGlzLnNjcm9sbExlcnAsIEVBU0VbX3RoaXMuc2Nyb2xsRWFzZV0pO1xuICAgICAgfSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgIHRoaXMuZ3VpLm9uVXBkYXRlKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICBfdGhpcy5kcmF3KCk7XG4gICAgfSk7XG4gICAgdmFyIGxvYWRlciA9IG5ldyBHTFRGTG9hZGVyKCk7XG4gICAgdmFyIHBhdGggPSAnLi9wdWJsaWMvbW9vbi90aHJlZS1vYmplY3Qtdmlld2VyMTEuZ2x0Zic7XG4gICAgbG9hZGVyLmxvYWQocGF0aCwgZnVuY3Rpb24gKGdsdGYpIHtcbiAgICAgIHZhciBnbHRmRGF0YSA9IGdsdGYucGFyc2VyLmpzb247XG5cbiAgICAgIHZhciBnZXROb2RlQnlOYW1lID0gZnVuY3Rpb24gZ2V0Tm9kZUJ5TmFtZShuYW1lKSB7XG4gICAgICAgIHJldHVybiBnbHRmRGF0YS5ub2Rlcy5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICByZXR1cm4gbm9kZS5uYW1lID0gbmFtZTtcbiAgICAgICAgfSlbMF07XG4gICAgICB9O1xuXG4gICAgICBjb25zb2xlLmxvZygnZ2x0ZiBkYXRhJywgZ2x0ZkRhdGEpO1xuICAgICAgX3RoaXMuY2xvY2sgPSBuZXcgVEhSRUUuQ2xvY2soKTtcbiAgICAgIHZhciBzY2VuZSA9IGdsdGYuc2NlbmVzWzBdO1xuICAgICAgX3RoaXMuYWN0aXZlU2NlbmUgPSBzY2VuZTtcbiAgICAgIF90aGlzLmFuaW1hdGlvbnMgPSBnbHRmLmFuaW1hdGlvbnM7IC8vIEFuaW1hdGlvbiBNaXhlcuOCpOODs+OCueOCv+ODs+OCueOCkueUn+aIkFxuXG4gICAgICBfdGhpcy5taXhlciA9IG5ldyBUSFJFRS5BbmltYXRpb25NaXhlcihzY2VuZSk7IC8v5YWo44Gm44GuQW5pbWF0aW9uIENsaXDjgavlr77jgZfjgaZcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5hbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhbmltYXRpb24gPSBfdGhpcy5hbmltYXRpb25zW2ldOyAvL0FuaW1hdGlvbiBBY3Rpb27jgpLnlJ/miJBcblxuICAgICAgICB2YXIgYWN0aW9uID0gX3RoaXMubWl4ZXIuY2xpcEFjdGlvbihhbmltYXRpb24pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdhZGRlZCcsIGFuaW1hdGlvbik7XG4gICAgICAgIGFjdGlvbi5wbGF5KCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNjZW5lLmFkZChzY2VuZSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdzY2VuZScsIHNjZW5lKTtcbiAgICAgIGNvbnNvbGUubG9nKCdtaXhlcicsIF90aGlzLm1peGVyKTsgLy8gaHR0cDovL2xlYXJuaW5ndGhyZWVqcy5jb20vYmxvZy8yMDEyLzAxLzIwL2Nhc3Rpbmctc2hhZG93cy9cblxuICAgICAgX3RoaXMuc2NlbmUudHJhdmVyc2UoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLkxpZ2h0KSB7XG4gICAgICAgICAgLy8gY2hpbGQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgICAgY29uc29sZS5sb2coY2hpbGQubmFtZSk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2xpZ2h0JywgY2hpbGQpOyAvLyBEZWJ1Z2dpbmcgbGlnaHQgcG9zaXRpb25zLlxuICAgICAgICAgIC8vIGNoaWxkLnNoYWRvd0NhbWVyYVZpc2libGUgPSBmYWxzZTtcblxuICAgICAgICAgIGlmIChjaGlsZC5zaGFkb3cpIHtcbiAgICAgICAgICAgIC8vIEFkanVzdCBzaGFkb3cgYmlhcy5cbiAgICAgICAgICAgIC8vIGNoaWxkLnNoYWRvdy5iaWFzID0gLTAuMDAyO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSByaWdnZWQgbG9va2luZyBzaGFkb3dzLlxuICAgICAgICAgICAgY2hpbGQuc2hhZG93Lm1hcFNpemUud2lkdGggPSAxMDI0O1xuICAgICAgICAgICAgY2hpbGQuc2hhZG93Lm1hcFNpemUuaGVpZ2h0ID0gMTAyNDtcbiAgICAgICAgICAgIGNoaWxkLnNoYWRvd0RhcmtuZXNzID0gMTsgLy8gY2hpbGQuc2hhZG93LmNhbWVyYS5uZWFyID0gMDtcbiAgICAgICAgICAgIC8vIGNoaWxkLnNoYWRvdy5jYW1lcmEuZmFyID0gMTAwMDtcbiAgICAgICAgICAgIC8vIHZhciBoZWxwZXIgPSBuZXcgVEhSRUUuQ2FtZXJhSGVscGVyKCBjaGlsZC5zaGFkb3cuY2FtZXJhICk7XG4gICAgICAgICAgICAvLyBzY2VuZS5hZGQoIGhlbHBlciApO1xuICAgICAgICAgIH0gLy8gY2hpbGQubGF5ZXJzLnNldCgxKTtcbiAgICAgICAgICAvLyAvLyBQb2ludCBsaWdodHMgYXJlIGRlZmluZWQgaW4gd2F0dHMgd2hpY2ggZ29lcyB3YWF5IG9mZiBpbiB0aHJlZS5qc1xuXG5cbiAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5Qb2ludExpZ2h0KSB7XG4gICAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSBjaGlsZC5pbnRlbnNpdHkgKiAwLjA1O1xuICAgICAgICAgIH0gLy8gSWYgaXQncyBhIHNwb3QgbGlnaHQsIGl0IG5lZWRzIHRvIGdvIGRvd24gZXZlbiBtb3JlLlxuXG5cbiAgICAgICAgICBpZiAoY2hpbGQudHlwZSA9PSBcIlNwb3RMaWdodFwiKSB7XG4gICAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSBjaGlsZC5pbnRlbnNpdHkgKiAwLjAwMztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpcy5ndWkuYWRkRm9sZGVyKGNoaWxkLm5hbWUsICdMaWdodHMnKTtcblxuICAgICAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihjaGlsZC5uYW1lLCBjaGlsZCwgW3tcbiAgICAgICAgICAgIGtleU5hbWU6ICdjYXN0U2hhZG93J1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleU5hbWU6ICdpbnRlbnNpdHknLFxuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiAzMDAwXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5TmFtZTogJ2NvbG9yJ1xuICAgICAgICAgIH1dKTtcblxuICAgICAgICAgIGlmIChjaGlsZC5zaGFkb3cpIHtcbiAgICAgICAgICAgIHZhciBzaGFkb3dGb2xkZXJJZCA9IGNoaWxkLm5hbWUgKyAnIHNoYWRvdyc7IC8vIGNvbnNvbGUubG9nKGNoaWxkLnNoYWRvdyk7XG5cbiAgICAgICAgICAgIF90aGlzLmd1aS5hZGRGb2xkZXIoc2hhZG93Rm9sZGVySWQsIGNoaWxkLm5hbWUpO1xuXG4gICAgICAgICAgICBfdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoc2hhZG93Rm9sZGVySWQsIGNoaWxkLnNoYWRvdywgW3tcbiAgICAgICAgICAgICAga2V5TmFtZTogJ2JpYXMnLFxuICAgICAgICAgICAgICBtaW46IC0xLFxuICAgICAgICAgICAgICBtYXg6IDEsXG4gICAgICAgICAgICAgIHN0ZXA6IDAuMDAwMDFcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAga2V5TmFtZTogJ3JhZGl1cycsXG4gICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgbWF4OiAxMDAsXG4gICAgICAgICAgICAgIHN0ZXA6IDAuMDFcbiAgICAgICAgICAgIH1dKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5NZXNoKSB7XG4gICAgICAgICAgLy8gY2hpbGQuZ2VvbWV0cnkuY29tcHV0ZVZlcnRleE5vcm1hbHModHJ1ZSk7XG4gICAgICAgICAgY29uc29sZS5sb2coY2hpbGQubmFtZSk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ21lc2gnLCBjaGlsZCk7IC8vIElmIGFuIG9iamVjdCBzdGFydHMgd2l0aCAndGV4dC0nIGJ5IGNvbnZlbnNpb24sIGl0IHdpbGxcbiAgICAgICAgICAvLyBiZSBjb25zaWRlcmVkIGEgbWFya2VyLlxuXG4gICAgICAgICAgaWYgKGNoaWxkLm5hbWUuc3RhcnRzV2l0aCgndGV4dCcpKSB7XG4gICAgICAgICAgICAvLyBIaWRlIHRoZSBtYXJrZXJcbiAgICAgICAgICAgIC8vIGNoaWxkLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLnRleHRNYXJrZXJzLnB1c2goY2hpbGQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzLmd1aS5hZGRGb2xkZXIoY2hpbGQubmFtZSwgJ09iamVjdHMnKTtcblxuICAgICAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihjaGlsZC5uYW1lLCBjaGlsZCwgW3tcbiAgICAgICAgICAgIGtleU5hbWU6ICdjYXN0U2hhZG93J1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleU5hbWU6ICdyZWNlaXZlU2hhZG93J1xuICAgICAgICAgIH1dKTtcblxuICAgICAgICAgIGlmIChjaGlsZC5tYXRlcmlhbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ21hdGVyaWFsJywgY2hpbGQubWF0ZXJpYWwpO1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFsSWQgPSBjaGlsZC5uYW1lICsgJyBtYXRlcmlhbCc7XG5cbiAgICAgICAgICAgIF90aGlzLmd1aS5hZGRGb2xkZXIobWF0ZXJpYWxJZCwgY2hpbGQubmFtZSk7XG5cbiAgICAgICAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihtYXRlcmlhbElkLCBjaGlsZC5tYXRlcmlhbCwgW3tcbiAgICAgICAgICAgICAga2V5TmFtZTogJ2VtaXNzaXZlSW50ZW5zaXR5JyxcbiAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICBtYXg6IDFcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAga2V5TmFtZTogJ2ZsYXRTaGFkaW5nJyxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBrZXlOYW1lOiAnd2lyZWZyYW1lJyxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQubWF0ZXJpYWwubm9ybWFsTWFwKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdub3JtYWwgbWFwJyk7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoaWxkLm1hdGVyaWFsLm5vcm1hbE1hcCk7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoaWxkLm1hdGVyaWFsLm5vcm1hbFNjYWxlKTtcbiAgICAgICAgICAgIH0gLy8gRW5hYmxlIHNtb290aCBzaGFkaW5nLlxuICAgICAgICAgICAgLy8gY2hpbGQubWF0ZXJpYWwuZmxhdFNoYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGNoaWxkLm1hdGVyaWFsLndpcmVmcmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gY2hpbGQubWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgLy8gY2hpbGQuZ2VvbWV0cnkuY29tcHV0ZUZhY2VOb3JtYWxzKCk7XG4gICAgICAgICAgICAvLyBjaGlsZC5nZW9tZXRyeS5jb21wdXRlVmVydGV4Tm9ybWFscyh0cnVlKTtcblxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjaGlsZC5uYW1lID09ICdQbGFuZTAwMScpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtZXNoJywgY2hpbGQpO1xuICAgICAgICAgIH0gLy8gR2V0IHRoZSBpbWFnZSBtYXBwaW5ncy5cbiAgICAgICAgICAvLyBpZihjaGlsZC5tYXRlcmlhbCAmJiBjaGlsZC5tYXRlcmlhbC5tYXApIHtcbiAgICAgICAgICAvLyAgIGNoaWxkLm1hdGVyaWFsLm1hcC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgLy8gfVxuXG4gICAgICAgIH0gZWxzZSB7Ly8gY29uc29sZS5sb2coJ290aGVyJywgY2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgIH0pOyAvLyBTZXQgdGhlIGNhbWVyYSBleHBvcnRlZCBpbiBnbHRmLlxuICAgICAgLy8gUmVxdWlyZXMgY2FtZXJhIHRvIGJlIGV4cG9ydGVkIGZvciBnbHRmLlxuXG5cbiAgICAgIF90aGlzLmNhbWVyYSA9IGdsdGYuY2FtZXJhc1swXTtcbiAgICAgIGNvbnNvbGUubG9nKCdjYW1lcmEnLCBfdGhpcy5jYW1lcmEpO1xuXG4gICAgICBfdGhpcy5yZXNpemUoKTsgLy8gVXNlIGZvZyB0byBjb3ZlciBmYXIgZGlzdGFuY2VzLlxuICAgICAgLy8gY29uc3QgY29sb3IgPSAweDAwMDAwO1xuICAgICAgLy8gdGhpcy5zY2VuZS5mb2cgPSBuZXcgVEhSRUUuRm9nKGNvbG9yLCA1LCA4KTtcbiAgICAgIC8vIEVuYWJsZSBzaGFkb3dzLlxuICAgICAgLy8gaHR0cHM6Ly90aHJlZWpzLm9yZy9kb2NzLyNhcGkvZW4vY29uc3RhbnRzL1JlbmRlcmVyXG5cblxuICAgICAgX3RoaXMucmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlOyAvLyBUbyBhbnRpYWxpYXMgdGhlIHNoYWRvd1xuXG4gICAgICBfdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG4gICAgICBfdGhpcy5yZW5kZXJlci5nYW1tYU91dHB1dCA9IHRydWU7IC8vIHRoaXMucmVuZGVyZXIuZ2FtbWFGYWN0b3IgPSAyLjI7XG4gICAgICAvLyBJbXBvcnRhbnQgdG8gZ2V0IHRoZSBjb3JyZWN0IGNvbG9ycy5cblxuICAgICAgX3RoaXMucmVuZGVyZXIucGh5c2ljYWxseUNvcnJlY3RMaWdodHMgPSB0cnVlOyAvLyBCYWNrZ3JvdW5kIGFzIGJsYWNrLlxuICAgICAgLy8gdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKDB4NDI4N2Y1KTtcblxuICAgICAgX3RoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcihfdGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCBfdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpOyAvLyBBZmZlY3RzIGhvdyBzdHJvbmdseSBsaWdodHMgY29tZSBleHBvc2VkLlxuICAgICAgLy8gaHR0cHM6Ly90aHJlZWpzLm9yZy9leGFtcGxlcy8jd2ViZ2xfdG9uZW1hcHBpbmdcblxuXG4gICAgICBfdGhpcy5yZW5kZXJlci50b25lTWFwcGluZ0V4cG9zdXJlID0gMTsgLy8gdGhpcy5yZW5kZXJlci50b25lTWFwcGluZ0V4cG9zdXJlID0gMC4zO1xuXG4gICAgICBfdGhpcy5yZW5kZXJlci50b25lTWFwcGluZyA9IFRIUkVFLkFDRVNGaWxtaWNUb25lTWFwcGluZztcblxuICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdSZW5kZXJlcicsIF90aGlzLnJlbmRlcmVyLCBbe1xuICAgICAgICBrZXlOYW1lOiAndG9uZU1hcHBpbmdFeHBvc3VyZScsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiA1LFxuICAgICAgICBzdGVwOiAwLjAxXG4gICAgICB9LCB7XG4gICAgICAgIGtleU5hbWU6ICdnYW1tYUZhY3RvcicsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiAxMCxcbiAgICAgICAgc3RlcDogMC4wMVxuICAgICAgfV0pO1xuXG4gICAgICBfdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1JlbmRlcmVyJywgX3RoaXMucmVuZGVyZXJDb25maWcsIFt7XG4gICAgICAgIGtleU5hbWU6ICdjbGVhckNvbG9yJyxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIF90aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoX3RoaXMucmVuZGVyZXJDb25maWcuY2xlYXJDb2xvciwgX3RoaXMucmVuZGVyZXJDb25maWcuYmFja2dyb3VuZEFscGhhKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnYmFja2dyb3VuZEFscGhhJyxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIF90aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoX3RoaXMucmVuZGVyZXJDb25maWcuY2xlYXJDb2xvciwgX3RoaXMucmVuZGVyZXJDb25maWcuYmFja2dyb3VuZEFscGhhKTtcbiAgICAgICAgfVxuICAgICAgfV0pO1xuXG4gICAgICBfdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ0NhbWVyYScsIF90aGlzLmNhbWVyYSwgW3tcbiAgICAgICAga2V5TmFtZTogJ2ZvdicsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiA1MCxcbiAgICAgICAgc3RlcDogMC4wMSxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIF90aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ3pvb20nLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogMTAsXG4gICAgICAgIHN0ZXA6IDAuMDAwMSxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIF90aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICAgIH1dKTtcblxuICAgICAgX3RoaXMuZ3VpLmFkZEZvbGRlcignR2VuZXJhbCBMaWdodHMnKTtcblxuICAgICAgX3RoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnID0ge1xuICAgICAgICBhbWJpZW50TGlnaHRDb2xvcjogJyNGRkZGRkYnLFxuICAgICAgICBhbWJpZW50TGlnaHRBbHBoYTogMVxuICAgICAgfTsgLy8gQWRkaXRpb25hbCBsaWdodGluZyBvdXRzaWRlIHRoZSBibGVuZGVyLlxuICAgICAgLy8gdmFyIGxpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodCggMHhmZmZmZmYsIDB4MDAwMDAwLCAxICk7XG4gICAgICAvLyB0aGlzLnNjZW5lLmFkZCggbGlnaHQgKTtcblxuICAgICAgX3RoaXMuYW1iaWVudExpZ2h0ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodChfdGhpcy5nZW5lcmFsTGlnaHRDb25maWcuYW1iaWVudExpZ2h0Q29sb3IpO1xuICAgICAgX3RoaXMuYW1iaWVudExpZ2h0LmludGVuc2l0eSA9IF90aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRBbHBoYTtcbiAgICAgIHNjZW5lLmFkZChfdGhpcy5hbWJpZW50TGlnaHQpO1xuXG4gICAgICBfdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ0dlbmVyYWwgTGlnaHRzJywgX3RoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLCBbe1xuICAgICAgICBrZXlOYW1lOiAnYW1iaWVudExpZ2h0Q29sb3InLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMuYW1iaWVudExpZ2h0LmNvbG9yID0gbmV3IFRIUkVFLkNvbG9yKF90aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRDb2xvcik7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ2FtYmllbnRMaWdodEFscGhhJyxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIF90aGlzLmFtYmllbnRMaWdodC5pbnRlbnNpdHkgPSBfdGhpcy5nZW5lcmFsTGlnaHRDb25maWcuYW1iaWVudExpZ2h0QWxwaGE7XG4gICAgICAgIH1cbiAgICAgIH1dKTtcblxuICAgICAgX3RoaXMuZ3VpLmFkZEJ1dHRvbignUmVmcmVzaCcsIF90aGlzLnJlZnJlc2guYmluZChfdGhpcykpO1xuICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe1xuICAgICAgYW50aWFsaWFzOiB0cnVlLFxuICAgICAgLy8gcHJlY2lzaW9uOiAnaGlnaHAnXG4gICAgICBhdXRvU2l6ZTogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuY29tcG9zZXIgPSBuZXcgRWZmZWN0Q29tcG9zZXIodGhpcy5yZW5kZXJlcik7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUuYmluZCh0aGlzKSwgZmFsc2UpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRocmVlT2JqZWN0Vmlld2VyMTEsIFt7XG4gICAga2V5OiBcInJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNpemUoKSB7XG4gICAgICB0aGlzLnByb2dyZXNzID0gZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50LCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgRUFTRS5MaW5lYXIpO1xuICAgICAgdGhpcy53aWR0aCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0OyAvLyBodHRwczovL2dpdGh1Yi5jb20vZG9ubWNjdXJkeS90aHJlZS1nbHRmLXZpZXdlci9ibG9iL21hc3Rlci9zcmMvdmlld2VyLmpzXG4gICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9jb25zdGFudHMvUmVuZGVyZXJcblxuICAgICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7IC8vIFBvc3QgcHJvY2Vzc2luZ1xuICAgICAgLy8gdGhpcy5jb21wb3Nlci5zZXRTaXplKCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAvLyBjb25zdCBmeGFhUGFzcyA9IG5ldyBTaGFkZXJQYXNzKCBGWEFBU2hhZGVyICk7XG4gICAgICAvLyBmeGFhUGFzcy5tYXRlcmlhbC51bmlmb3Jtc1sgJ3Jlc29sdXRpb24nIF0udmFsdWUueCA9IDEgLyAoIHRoaXMud2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAvLyBmeGFhUGFzcy5tYXRlcmlhbC51bmlmb3Jtc1sgJ3Jlc29sdXRpb24nIF0udmFsdWUueSA9IDEgLyAoIHRoaXMuaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKGZ4YWFQYXNzKTtcbiAgICAgIC8vIHRoaXMuY29tcG9zZXIuYWRkUGFzcyhuZXcgUmVuZGVyUGFzcyh0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSkpO1xuICAgICAgLy8gdmFyIGJsb29tUGFzcyA9IG5ldyBVbnIyLjJtZWFsQmxvb21QYXNzKDEsIDI1LCA1LCAyNTYpO1xuICAgICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKGJsb29tUGFzcyk7XG4gICAgICAvLyBUaGUgY2FtZXJhIGFzcGVjdCBnb2VzIG9mZiBzaW5jZSBpdCBjb3VsZCBiZSBleHBvcnRlZCBhdCBhIGRpZmZlcmVudFxuICAgICAgLy8gcmF0aW8uICBGb3JjZSB1cGRhdGUgdGhlIGFzcGVjdCByYXRpby5cblxuICAgICAgdGhpcy5jYW1lcmEuYXNwZWN0ID0gdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZWZyZXNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlZnJlc2goKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCB0aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7XG4gICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgdGhpcy5kcmF3KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEFuaW1hdGlvbkJ5TmFtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbmltYXRpb25CeU5hbWUobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGFuaW1hdGlvbkNsaXApIHtcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbkNsaXAubmFtZSA9PSBuYW1lO1xuICAgICAgfSlbMF07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldE9iamVjdEJ5TmFtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRPYmplY3RCeU5hbWUobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlU2NlbmUuY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChvYmplY3QzZCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0M2QubmFtZSA9PSBuYW1lO1xuICAgICAgfSlbMF07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUHJvZ3Jlc3NVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9ncmVzc1VwZGF0ZShwcm9ncmVzcykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIC8vQW5pbWF0aW9uIE1peGVy44KS5a6f6KGMXG4gICAgICBpZiAodGhpcy5taXhlcikge1xuICAgICAgICAvLyBXZSBuZWVkIHRvIGZpbmQgb3V0IGhvdyBsb25nIHRoZSBhbmltYXRpb24gaXMuXG4gICAgICAgIC8vIFRoZSBtaXhlciBhcHBlYXJzIHRvIGhhdmUgbm8ga25vd2xlZGdlIG9mdCB0aGlzIHNvIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gbG9vayB1cCBhIHNwZWNpZmljIGFuaW1hdGlvbiBhbmQgZ2V0IHRoZSBkdXJhdGlvbiB0b1xuICAgICAgICAvLyBnZXQgdGhlIHRvdGFsIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICAgIHZhciBjYW1lcmFBbmltYXRpb24gPSB0aGlzLmdldEFuaW1hdGlvbkJ5TmFtZSgnQ2FtZXJhQWN0aW9uJyk7XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IGNhbWVyYUFuaW1hdGlvbi5kdXJhdGlvbjsgLy8gV2hlbiBkdXJhdGlvbiBoaXRzIGl0J3MgbWF4LCBhbmltYXRpb25NaXhlciBzZWVtcyB0byBoaXQgdGhlIGZpcnN0XG4gICAgICAgIC8vIGZyYW1lIHNvIG5leHQgYWxsb3cgaXQgdG8gcmVhY2ggdGhlIG1heCB2YWx1ZS5cblxuICAgICAgICB0aGlzLm1peGVyLnNldFRpbWUoTWF0aC5taW4oZHVyYXRpb24gKiBwcm9ncmVzcywgZHVyYXRpb24gLSAwLjAxKSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBnZXRNYXJrZXJCeU5hbWUgPSBmdW5jdGlvbiBnZXRNYXJrZXJCeU5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLnRleHRNYXJrZXJzLmZpbHRlcihmdW5jdGlvbiAobWFya2VyKSB7XG4gICAgICAgICAgcmV0dXJuIG1hcmtlci51c2VyRGF0YS5uYW1lID09IG5hbWU7XG4gICAgICAgIH0pWzBdO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5kcmF3KCk7IC8vIFRleHQgbWFya2VyMS5cblxuICAgICAgdmFyIG1hcmtlciA9IGdldE1hcmtlckJ5TmFtZSgndGV4dC1tYXJrZXIxJyk7XG4gICAgICB2YXIgZG9tQ29vcmRpbmF0ZXMgPSB0aHJlZWYudG9Eb21Db29yZGluYXRlcyhtYXJrZXIsIHRoaXMuY2FtZXJhLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRXaWR0aCwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0SGVpZ2h0KTsgLy8gQmlsbGJvYXJkZWQgYW5kIG5vdCBzY2FsaW5nLlxuXG4gICAgICB2YXIgZG9tUm90YXRpb24gPSB0aHJlZWYudG9Eb21Sb3RhdGlvbihtYXJrZXIsIHRoaXMuY2FtZXJhLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRXaWR0aCwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0SGVpZ2h0KTtcbiAgICAgIHRocmVlZi5hcHBseVZlY3RvclRvRG9tKHRoaXMudGV4dE1hcmtlcjEsIGRvbUNvb3JkaW5hdGVzLCBkb21Sb3RhdGlvbik7IC8vIFRleHQgbWFya2VyMi5cblxuICAgICAgdmFyIG1hcmtlcjIgPSBnZXRNYXJrZXJCeU5hbWUoJ3RleHQtbWFya2VyMicpO1xuICAgICAgdmFyIGRvbUNvb3JkaW5hdGVzMiA9IHRocmVlZi50b0RvbUNvb3JkaW5hdGVzKG1hcmtlcjIsIHRoaXMuY2FtZXJhLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRXaWR0aCwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0SGVpZ2h0KTtcbiAgICAgIHZhciBkb21Sb3RhdGlvbjIgPSB0aHJlZWYudG9Eb21Sb3RhdGlvbihtYXJrZXIyLCB0aGlzLmNhbWVyYSwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0V2lkdGgsIHRoaXMuY2FudmFzQ29udGFpbmVyLm9mZnNldEhlaWdodCk7XG4gICAgICB0aHJlZWYuYXBwbHlWZWN0b3JUb0RvbSh0aGlzLnRleHRNYXJrZXIyLCBkb21Db29yZGluYXRlczIsIGRvbVJvdGF0aW9uMik7IC8vIFRleHQgbWFya2VyMy5cblxuICAgICAgdmFyIG1hcmtlcjMgPSBnZXRNYXJrZXJCeU5hbWUoJ3RleHQtbWFya2VyMycpO1xuICAgICAgdmFyIGRvbUNvb3JkaW5hdGVzMyA9IHRocmVlZi50b0RvbUNvb3JkaW5hdGVzKG1hcmtlcjMsIHRoaXMuY2FtZXJhLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRXaWR0aCwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0SGVpZ2h0KTtcbiAgICAgIHZhciBkb21Sb3RhdGlvbjMgPSB0aHJlZWYudG9Eb21Sb3RhdGlvbihtYXJrZXIzLCB0aGlzLmNhbWVyYSwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0V2lkdGgsIHRoaXMuY2FudmFzQ29udGFpbmVyLm9mZnNldEhlaWdodCk7XG4gICAgICB0aHJlZWYuYXBwbHlWZWN0b3JUb0RvbSh0aGlzLnRleHRNYXJrZXIzLCBkb21Db29yZGluYXRlczMsIGRvbVJvdGF0aW9uMyk7XG4gICAgICB2YXIgbWFya2VyNCA9IGdldE1hcmtlckJ5TmFtZSgndGV4dC1tYXJrZXI0Jyk7XG4gICAgICB2YXIgZG9tQ29vcmRpbmF0ZXM0ID0gdGhyZWVmLnRvRG9tQ29vcmRpbmF0ZXMobWFya2VyNCwgdGhpcy5jYW1lcmEsIHRoaXMuY2FudmFzQ29udGFpbmVyLm9mZnNldFdpZHRoLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRIZWlnaHQsIDAuMyk7XG4gICAgICB2YXIgZG9tUm90YXRpb240ID0gdGhyZWVmLnRvRG9tUm90YXRpb24obWFya2VyNCwgdGhpcy5jYW1lcmEsIHRoaXMuY2FudmFzQ29udGFpbmVyLm9mZnNldFdpZHRoLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRIZWlnaHQpO1xuICAgICAgdGhyZWVmLmFwcGx5VmVjdG9yVG9Eb20odGhpcy50ZXh0TWFya2VyNCwgZG9tQ29vcmRpbmF0ZXM0LCBkb21Sb3RhdGlvbjQpO1xuICAgICAgdmFyIG1hcmtlcjUgPSBnZXRNYXJrZXJCeU5hbWUoJ3RleHQtbWFya2VyNScpO1xuICAgICAgdmFyIGRvbUNvb3JkaW5hdGVzNSA9IHRocmVlZi50b0RvbUNvb3JkaW5hdGVzKG1hcmtlcjUsIHRoaXMuY2FtZXJhLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRXaWR0aCwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0SGVpZ2h0LCAwLjMpO1xuICAgICAgdmFyIGRvbVJvdGF0aW9uNSA9IHRocmVlZi50b0RvbVJvdGF0aW9uKG1hcmtlcjUsIHRoaXMuY2FtZXJhLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRXaWR0aCwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0SGVpZ2h0KTtcbiAgICAgIHRocmVlZi5hcHBseVZlY3RvclRvRG9tKHRoaXMudGV4dE1hcmtlcjUsIGRvbUNvb3JkaW5hdGVzNSwgZG9tUm90YXRpb241KTsgLy8gQmlsbGJvYXJkaW5nIHNhbXBsZS5cbiAgICAgIC8vIE5vdGljZSBob3cgcm90YXRpb24gaXMgbm90IGFwcGxpZWQuXG4gICAgICAvLyBkb21Db29kaW5hdGVzIGFsc28gZG9uJ3QgcGFzcyBhIHNjYWxlIHZhbHVlIHNvIHRoZSB0ZXh0IG1haW50YWlucyBpdCdzIG9yaWdpbmFsIHNjYWxlLlxuXG4gICAgICB2YXIgbWFya2VyNiA9IGdldE1hcmtlckJ5TmFtZSgndGV4dC1tYXJrZXI2Jyk7XG4gICAgICB2YXIgZG9tQm91bmRpbmdSZWN0ID0gdGhyZWVmLnRvRG9tQm91bmRpbmdSZWN0KG1hcmtlcjYsIHRoaXMuY2FtZXJhLCB0aGlzLmNhbnZhc0NvbnRhaW5lci5vZmZzZXRXaWR0aCwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0SGVpZ2h0KTtcbiAgICAgIHZhciBkb21Db29yZGluYXRlczYgPSB0aHJlZWYudG9Eb21Db29yZGluYXRlcyhtYXJrZXI2LCB0aGlzLmNhbWVyYSwgdGhpcy5jYW52YXNDb250YWluZXIub2Zmc2V0V2lkdGgsIHRoaXMuY2FudmFzQ29udGFpbmVyLm9mZnNldEhlaWdodCk7IC8vIFNldCB0byB0aGUgdG9wUmlnaHQgY29ybmVyIG9mIGFuIGVsZW1lbnQuXG5cbiAgICAgIHRocmVlZi5hcHBseVZlY3RvclRvRG9tKHRoaXMudGV4dE1hcmtlcjYsIHtcbiAgICAgICAgeDogZG9tQm91bmRpbmdSZWN0LnRvcFJpZ2h0LngsXG4gICAgICAgIHk6IGRvbUJvdW5kaW5nUmVjdC50b3BSaWdodC55LFxuICAgICAgICB6OiAxLjBcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZG9tQm91bmRpbmdSZWN0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZHJhd1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KCkge1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUaHJlZU9iamVjdFZpZXdlcjExO1xufSgpO1xuXG5leHBvcnQgeyBUaHJlZU9iamVjdFZpZXdlcjExIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/three-object-viewer11.js\n");

/***/ }),

/***/ "./examples/three-object-viewer2.js":
/*!******************************************!*\
  !*** ./examples/three-object-viewer2.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ThreeObjectViewer2; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// https://threejs.org/docs/#manual/en/introduction/Loading-3D-models\n// https://threejs.org/examples/#webgl_loader_gltf\n// https://gist.github.com/bellbind/c4f8c502fcacbe29422e5ac315273858\n// https://github.com/funwithtriangles/blender-to-threejs-export-guide/blob/master/readme.md\n// https://threejsfundamentals.org/threejs/lessons/threejs-load-gltf.html\n// https://discoverthreejs.com/book/first-steps/load-models/\n// https://www.pentacreation.com/blog/2019/09/190916.html\n// https://www.pentacreation.com/blog/2019/10/191016.html\n// https://gltf-viewer.donmccurdy.com/\n// https://github.com/donmccurdy/three-gltf-viewer\n\n // import { Raf } from '../lib/raf/raf';\n\n\n\n\n\n\nvar ThreeObjectViewer2 = /*#__PURE__*/function () {\n  function ThreeObjectViewer2() {\n    var _this = this;\n\n    _classCallCheck(this, ThreeObjectViewer2);\n\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_3__[\"RafProgress\"]();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_4__[\"dom\"].getElementScrolledPercent(_this.parentElement);\n\n        _this.rafProgress.easeTo(_this.progress, 0.18, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_5__[\"EASE\"].Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]();\n    var loader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_1__[\"GLTFLoader\"](); // const path = 'https://threejs.org/examples/models/gltf/DamagedHelmet/glTF/DamagedHelmet.gltf';\n    // const path = './public/dude.glb';\n\n    var path = './public/monster-scene3.glb';\n    loader.load(path, function (gltf) {\n      _this.clock = new three__WEBPACK_IMPORTED_MODULE_0__[\"Clock\"]();\n      var scene = gltf.scenes[0];\n      _this.activeScene = scene;\n      _this.animations = gltf.animations; // Animation Mixer\n\n      _this.mixer = new three__WEBPACK_IMPORTED_MODULE_0__[\"AnimationMixer\"](scene); //Animation Clip\n\n      for (var i = 0; i < _this.animations.length; i++) {\n        var animation = _this.animations[i]; //Animation Action\n\n        var action = _this.mixer.clipAction(animation);\n\n        console.log('added', animation);\n        action.play();\n      }\n\n      _this.scene.add(scene);\n\n      console.log(_this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      _this.scene.traverse(function (child) {\n        if (child instanceof three__WEBPACK_IMPORTED_MODULE_0__[\"Light\"]) {\n          child.castShadow = true;\n          console.log('cast', child); // Debugging light positions.\n\n          child.shadowCameraVisible = true; // Adjust shadow bias.\n\n          child.shadowBias = -0.005;\n          child.shadowDarkness = 0.1; // child.shadow.camera.near = 0;\n          // child.shadow.camera.far = 1000;\n          // Lights come off a bit stronger compared to Eevee, so\n          // lower the intensity.\n\n          child.intensity = child.intensity * 0.3; // var helper = new THREE.CameraHelper( child.shadow.camera );\n          // scene.add( helper );\n        } else if (child instanceof three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"]) {\n          child.castShadow = true;\n          child.receiveShadow = true;\n          console.log('receive', child);\n        } else {\n          console.log('nothing', child);\n        } // if(child.name.startsWith('Cube003')) {\n        //     child.receiveShadow = true;\n        // }\n        // Fix eyes\n\n\n        if (child.name.startsWith('Cube006')) {\n          child.castShadow = false;\n          child.receiveShadow = false;\n        }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n\n      _this.camera = gltf.cameras[0];\n      console.log(_this.camera);\n\n      _this.resize();\n    }, undefined, function (error) {\n      console.error(error);\n    });\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]({\n      antialias: true\n    });\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  _createClass(ThreeObjectViewer2, [{\n    key: \"resize\",\n    value: function resize() {\n      this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_4__[\"dom\"].getElementScrolledPercent(this.parentElement);\n      this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_5__[\"EASE\"].Linear);\n      this.width = this.canvasContainer.parentElement.offsetWidth;\n      this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n\n      this.renderer.setPixelRatio(window.devicePixelRatio);\n      this.renderer.setSize(this.width, this.height); // Important to get the correct colors.\n\n      this.renderer.physicallyCorrectLights = true; // Background as black.\n\n      this.renderer.setClearColor(0x000000); // this.renderer.setClearColor(0xFFFFFF, 1.0);\n      // Affects how strongly lights come exposed.\n      // this.renderer.toneMappingExposure = 0.4;\n      // Enable shadows.\n\n      this.renderer.shadowMap.enabled = true; // To antialias the shadow\n\n      this.renderer.shadowMapType = three__WEBPACK_IMPORTED_MODULE_0__[\"PCFSoftShadowMap\"];\n      this.renderer.gammaOutput = true;\n      this.renderer.gammaFactor = 2.2; // The camera aspect goes off since it could be exported at a different\n      // ratio.  Force update the aspect ratio.\n      // this.camera.fov = this.width / this.height;\n\n      this.camera.aspect = this.width / this.height;\n      this.camera.updateProjectionMatrix();\n    }\n  }, {\n    key: \"getAnimationByName\",\n    value: function getAnimationByName(name) {\n      return this.animations.filter(function (animationClip) {\n        return animationClip.name == name;\n      })[0];\n    }\n  }, {\n    key: \"getObjectByName\",\n    value: function getObjectByName(name) {\n      return this.activeScene.children.filter(function (object3d) {\n        return object3d.name == name;\n      })[0];\n    }\n  }, {\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(progress) {\n      //Animation Mixer\n      if (this.mixer) {\n        // We need to find out how long the animation is.\n        // The mixer appears to have no knowledge oft this so we need to\n        // look up a specific animation and get the duration to\n        // get the total duration of the animation.\n        var cameraAnimation = this.getAnimationByName('Action');\n        var duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n        // frame so next allow it to reach the max value.\n\n        this.mixer.setTime(Math.min(duration * progress, duration - 0.001));\n      }\n\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return ThreeObjectViewer2;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyMi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLW9iamVjdC12aWV3ZXIyLmpzPzBlYmUiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI21hbnVhbC9lbi9pbnRyb2R1Y3Rpb24vTG9hZGluZy0zRC1tb2RlbHNcbi8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX2xvYWRlcl9nbHRmXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9iZWxsYmluZC9jNGY4YzUwMmZjYWNiZTI5NDIyZTVhYzMxNTI3Mzg1OFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Z1bndpdGh0cmlhbmdsZXMvYmxlbmRlci10by10aHJlZWpzLWV4cG9ydC1ndWlkZS9ibG9iL21hc3Rlci9yZWFkbWUubWRcbi8vIGh0dHBzOi8vdGhyZWVqc2Z1bmRhbWVudGFscy5vcmcvdGhyZWVqcy9sZXNzb25zL3RocmVlanMtbG9hZC1nbHRmLmh0bWxcbi8vIGh0dHBzOi8vZGlzY292ZXJ0aHJlZWpzLmNvbS9ib29rL2ZpcnN0LXN0ZXBzL2xvYWQtbW9kZWxzL1xuLy8gaHR0cHM6Ly93d3cucGVudGFjcmVhdGlvbi5jb20vYmxvZy8yMDE5LzA5LzE5MDkxNi5odG1sXG4vLyBodHRwczovL3d3dy5wZW50YWNyZWF0aW9uLmNvbS9ibG9nLzIwMTkvMTAvMTkxMDE2Lmh0bWxcbi8vIGh0dHBzOi8vZ2x0Zi12aWV3ZXIuZG9ubWNjdXJkeS5jb20vXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZG9ubWNjdXJkeS90aHJlZS1nbHRmLXZpZXdlclxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgR0xURkxvYWRlciB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0dMVEZMb2FkZXInOyAvLyBpbXBvcnQgeyBSYWYgfSBmcm9tICcuLi9saWIvcmFmL3JhZic7XG5cbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9saWIvZG9tL2RvbS13YXRjaGVyJztcbmltcG9ydCB7IFJhZlByb2dyZXNzIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3MnO1xuaW1wb3J0IHsgZG9tIH0gZnJvbSAnLi4vbGliL2RvbS9kb20nO1xuaW1wb3J0IHsgRUFTRSB9IGZyb20gJy4uL2xpYi9lYXNlL2Vhc2UnO1xuXG52YXIgVGhyZWVPYmplY3RWaWV3ZXIyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVGhyZWVPYmplY3RWaWV3ZXIyKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGhyZWVPYmplY3RWaWV3ZXIyKTtcblxuICAgIGNvbnNvbGUubG9nKCdUaHJlZUpTIE9iamVjdCBWaWV3ZXIgRGVtbycpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMtY29udGFpbmVyJyk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzID0gbmV3IFJhZlByb2dyZXNzKCk7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy53YXRjaCh0aGlzLm9uUHJvZ3Jlc3NVcGRhdGUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Njcm9sbCcsXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soZXZlbnQpIHtcbiAgICAgICAgX3RoaXMucHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudChfdGhpcy5wYXJlbnRFbGVtZW50KTtcblxuICAgICAgICBfdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8oX3RoaXMucHJvZ3Jlc3MsIDAuMTgsIEVBU0UuTGluZWFyKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB2YXIgbG9hZGVyID0gbmV3IEdMVEZMb2FkZXIoKTsgLy8gY29uc3QgcGF0aCA9ICdodHRwczovL3RocmVlanMub3JnL2V4YW1wbGVzL21vZGVscy9nbHRmL0RhbWFnZWRIZWxtZXQvZ2xURi9EYW1hZ2VkSGVsbWV0LmdsdGYnO1xuICAgIC8vIGNvbnN0IHBhdGggPSAnLi9wdWJsaWMvZHVkZS5nbGInO1xuXG4gICAgdmFyIHBhdGggPSAnLi9wdWJsaWMvbW9uc3Rlci1zY2VuZTMuZ2xiJztcbiAgICBsb2FkZXIubG9hZChwYXRoLCBmdW5jdGlvbiAoZ2x0Zikge1xuICAgICAgX3RoaXMuY2xvY2sgPSBuZXcgVEhSRUUuQ2xvY2soKTtcbiAgICAgIHZhciBzY2VuZSA9IGdsdGYuc2NlbmVzWzBdO1xuICAgICAgX3RoaXMuYWN0aXZlU2NlbmUgPSBzY2VuZTtcbiAgICAgIF90aGlzLmFuaW1hdGlvbnMgPSBnbHRmLmFuaW1hdGlvbnM7IC8vIEFuaW1hdGlvbiBNaXhlcuOCpOODs+OCueOCv+ODs+OCueOCkueUn+aIkFxuXG4gICAgICBfdGhpcy5taXhlciA9IG5ldyBUSFJFRS5BbmltYXRpb25NaXhlcihzY2VuZSk7IC8v5YWo44Gm44GuQW5pbWF0aW9uIENsaXDjgavlr77jgZfjgaZcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5hbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhbmltYXRpb24gPSBfdGhpcy5hbmltYXRpb25zW2ldOyAvL0FuaW1hdGlvbiBBY3Rpb27jgpLnlJ/miJBcblxuICAgICAgICB2YXIgYWN0aW9uID0gX3RoaXMubWl4ZXIuY2xpcEFjdGlvbihhbmltYXRpb24pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdhZGRlZCcsIGFuaW1hdGlvbik7XG4gICAgICAgIGFjdGlvbi5wbGF5KCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNjZW5lLmFkZChzY2VuZSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKF90aGlzLm1peGVyKTsgLy8gaHR0cDovL2xlYXJuaW5ndGhyZWVqcy5jb20vYmxvZy8yMDEyLzAxLzIwL2Nhc3Rpbmctc2hhZG93cy9cblxuICAgICAgX3RoaXMuc2NlbmUudHJhdmVyc2UoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLkxpZ2h0KSB7XG4gICAgICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2Nhc3QnLCBjaGlsZCk7IC8vIERlYnVnZ2luZyBsaWdodCBwb3NpdGlvbnMuXG5cbiAgICAgICAgICBjaGlsZC5zaGFkb3dDYW1lcmFWaXNpYmxlID0gdHJ1ZTsgLy8gQWRqdXN0IHNoYWRvdyBiaWFzLlxuXG4gICAgICAgICAgY2hpbGQuc2hhZG93QmlhcyA9IC0wLjAwNTtcbiAgICAgICAgICBjaGlsZC5zaGFkb3dEYXJrbmVzcyA9IDAuMTsgLy8gY2hpbGQuc2hhZG93LmNhbWVyYS5uZWFyID0gMDtcbiAgICAgICAgICAvLyBjaGlsZC5zaGFkb3cuY2FtZXJhLmZhciA9IDEwMDA7XG4gICAgICAgICAgLy8gTGlnaHRzIGNvbWUgb2ZmIGEgYml0IHN0cm9uZ2VyIGNvbXBhcmVkIHRvIEVldmVlLCBzb1xuICAgICAgICAgIC8vIGxvd2VyIHRoZSBpbnRlbnNpdHkuXG5cbiAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSBjaGlsZC5pbnRlbnNpdHkgKiAwLjM7IC8vIHZhciBoZWxwZXIgPSBuZXcgVEhSRUUuQ2FtZXJhSGVscGVyKCBjaGlsZC5zaGFkb3cuY2FtZXJhICk7XG4gICAgICAgICAgLy8gc2NlbmUuYWRkKCBoZWxwZXIgKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2gpIHtcbiAgICAgICAgICBjaGlsZC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICBjaGlsZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICBjb25zb2xlLmxvZygncmVjZWl2ZScsIGNoaWxkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnbm90aGluZycsIGNoaWxkKTtcbiAgICAgICAgfSAvLyBpZihjaGlsZC5uYW1lLnN0YXJ0c1dpdGgoJ0N1YmUwMDMnKSkge1xuICAgICAgICAvLyAgICAgY2hpbGQucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gRml4IGV5ZXNcblxuXG4gICAgICAgIGlmIChjaGlsZC5uYW1lLnN0YXJ0c1dpdGgoJ0N1YmUwMDYnKSkge1xuICAgICAgICAgIGNoaWxkLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgICAgICBjaGlsZC5yZWNlaXZlU2hhZG93ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pOyAvLyBTZXQgdGhlIGNhbWVyYSBleHBvcnRlZCBpbiBnbHRmLlxuICAgICAgLy8gUmVxdWlyZXMgY2FtZXJhIHRvIGJlIGV4cG9ydGVkIGZvciBnbHRmLlxuXG5cbiAgICAgIF90aGlzLmNhbWVyYSA9IGdsdGYuY2FtZXJhc1swXTtcbiAgICAgIGNvbnNvbGUubG9nKF90aGlzLmNhbWVyYSk7XG5cbiAgICAgIF90aGlzLnJlc2l6ZSgpO1xuICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe1xuICAgICAgYW50aWFsaWFzOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUuYmluZCh0aGlzKSwgZmFsc2UpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRocmVlT2JqZWN0Vmlld2VyMiwgW3tcbiAgICBrZXk6IFwicmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHtcbiAgICAgIHRoaXMucHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgRUFTRS5MaW5lYXIpO1xuICAgICAgdGhpcy53aWR0aCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0OyAvLyBodHRwczovL2dpdGh1Yi5jb20vZG9ubWNjdXJkeS90aHJlZS1nbHRmLXZpZXdlci9ibG9iL21hc3Rlci9zcmMvdmlld2VyLmpzXG5cbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpOyAvLyBJbXBvcnRhbnQgdG8gZ2V0IHRoZSBjb3JyZWN0IGNvbG9ycy5cblxuICAgICAgdGhpcy5yZW5kZXJlci5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cyA9IHRydWU7IC8vIEJhY2tncm91bmQgYXMgYmxhY2suXG5cbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcigweDAwMDAwMCk7IC8vIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcigweEZGRkZGRiwgMS4wKTtcbiAgICAgIC8vIEFmZmVjdHMgaG93IHN0cm9uZ2x5IGxpZ2h0cyBjb21lIGV4cG9zZWQuXG4gICAgICAvLyB0aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSAwLjQ7XG4gICAgICAvLyBFbmFibGUgc2hhZG93cy5cblxuICAgICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7IC8vIFRvIGFudGlhbGlhcyB0aGUgc2hhZG93XG5cbiAgICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwVHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG4gICAgICB0aGlzLnJlbmRlcmVyLmdhbW1hT3V0cHV0ID0gdHJ1ZTtcbiAgICAgIHRoaXMucmVuZGVyZXIuZ2FtbWFGYWN0b3IgPSAyLjI7IC8vIFRoZSBjYW1lcmEgYXNwZWN0IGdvZXMgb2ZmIHNpbmNlIGl0IGNvdWxkIGJlIGV4cG9ydGVkIGF0IGEgZGlmZmVyZW50XG4gICAgICAvLyByYXRpby4gIEZvcmNlIHVwZGF0ZSB0aGUgYXNwZWN0IHJhdGlvLlxuICAgICAgLy8gdGhpcy5jYW1lcmEuZm92ID0gdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0O1xuXG4gICAgICB0aGlzLmNhbWVyYS5hc3BlY3QgPSB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEFuaW1hdGlvbkJ5TmFtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbmltYXRpb25CeU5hbWUobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGFuaW1hdGlvbkNsaXApIHtcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbkNsaXAubmFtZSA9PSBuYW1lO1xuICAgICAgfSlbMF07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldE9iamVjdEJ5TmFtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRPYmplY3RCeU5hbWUobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlU2NlbmUuY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChvYmplY3QzZCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0M2QubmFtZSA9PSBuYW1lO1xuICAgICAgfSlbMF07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUHJvZ3Jlc3NVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9ncmVzc1VwZGF0ZShwcm9ncmVzcykge1xuICAgICAgLy9BbmltYXRpb24gTWl4ZXLjgpLlrp/ooYxcbiAgICAgIGlmICh0aGlzLm1peGVyKSB7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gZmluZCBvdXQgaG93IGxvbmcgdGhlIGFuaW1hdGlvbiBpcy5cbiAgICAgICAgLy8gVGhlIG1peGVyIGFwcGVhcnMgdG8gaGF2ZSBubyBrbm93bGVkZ2Ugb2Z0IHRoaXMgc28gd2UgbmVlZCB0b1xuICAgICAgICAvLyBsb29rIHVwIGEgc3BlY2lmaWMgYW5pbWF0aW9uIGFuZCBnZXQgdGhlIGR1cmF0aW9uIHRvXG4gICAgICAgIC8vIGdldCB0aGUgdG90YWwgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbi5cbiAgICAgICAgdmFyIGNhbWVyYUFuaW1hdGlvbiA9IHRoaXMuZ2V0QW5pbWF0aW9uQnlOYW1lKCdBY3Rpb24nKTtcbiAgICAgICAgdmFyIGR1cmF0aW9uID0gY2FtZXJhQW5pbWF0aW9uLmR1cmF0aW9uOyAvLyBXaGVuIGR1cmF0aW9uIGhpdHMgaXQncyBtYXgsIGFuaW1hdGlvbk1peGVyIHNlZW1zIHRvIGhpdCB0aGUgZmlyc3RcbiAgICAgICAgLy8gZnJhbWUgc28gbmV4dCBhbGxvdyBpdCB0byByZWFjaCB0aGUgbWF4IHZhbHVlLlxuXG4gICAgICAgIHRoaXMubWl4ZXIuc2V0VGltZShNYXRoLm1pbihkdXJhdGlvbiAqIHByb2dyZXNzLCBkdXJhdGlvbiAtIDAuMDAxKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVGhyZWVPYmplY3RWaWV3ZXIyO1xufSgpO1xuXG5leHBvcnQgeyBUaHJlZU9iamVjdFZpZXdlcjIgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/three-object-viewer2.js\n");

/***/ }),

/***/ "./examples/three-object-viewer3.js":
/*!******************************************!*\
  !*** ./examples/three-object-viewer3.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ThreeObjectViewer3; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_EffectComposer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer */ \"./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/RenderPass.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_UnrealBloomPass_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three/examples/jsm/postprocessing/UnrealBloomPass.js */ \"./node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js\");\n/* harmony import */ var three_examples_jsm_shaders_FXAAShader_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/shaders/FXAAShader.js */ \"./node_modules/three/examples/jsm/shaders/FXAAShader.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/ShaderPass.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// https://threejs.org/docs/#manual/en/introduction/Loading-3D-models\n// https://threejs.org/examples/#webgl_loader_gltf\n// https://gist.github.com/bellbind/c4f8c502fcacbe29422e5ac315273858\n// https://github.com/funwithtriangles/blender-to-threejs-export-guide/blob/master/readme.md\n// https://threejsfundamentals.org/threejs/lessons/threejs-load-gltf.html\n// https://discoverthreejs.com/book/first-steps/load-models/\n// https://www.pentacreation.com/blog/2019/09/190916.html\n// https://www.pentacreation.com/blog/2019/10/191016.html\n// https://docs.blender.org/manual/ja/latest/addons/io_scene_gltf2.html\n// https://gltf-viewer.donmccurdy.com/\n// https://github.com/donmccurdy/three-gltf-viewer\n\n\n\n\n\n\n // import { Raf } from '../lib/raf/raf';\n\n\n\n\n\n\nvar ThreeObjectViewer3 = /*#__PURE__*/function () {\n  function ThreeObjectViewer3() {\n    var _this = this;\n\n    _classCallCheck(this, ThreeObjectViewer3);\n\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_7__[\"DomWatcher\"]();\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_8__[\"RafProgress\"]();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_9__[\"dom\"].getElementScrolledPercent(_this.parentElement, window.innerHeight); //   this.rafProgress.easeTo(this.progress, 0.26, EASE.easeInOutExpo);\n        //   this.rafProgress.easeTo(this.progress, 0.08, EASE.linear);\n\n        _this.rafProgress.easeTo(_this.progress, 0.18, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_10__[\"EASE\"].easeInOutQuad);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]();\n    var loader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_1__[\"GLTFLoader\"](); // const path = 'https://threejs.org/examples/models/gltf/DamagedHelmet/glTF/DamagedHelmet.gltf';\n    // const path = './public/dude.glb';\n\n    var path = './public/phone/phone.glb';\n    loader.load(path, function (gltf) {\n      _this.clock = new three__WEBPACK_IMPORTED_MODULE_0__[\"Clock\"]();\n      var scene = gltf.scenes[0];\n      _this.activeScene = scene;\n      _this.animations = gltf.animations; // Animation Mixer\n\n      _this.mixer = new three__WEBPACK_IMPORTED_MODULE_0__[\"AnimationMixer\"](scene); //Animation Clip\n\n      for (var i = 0; i < _this.animations.length; i++) {\n        var animation = _this.animations[i]; //Animation Action\n\n        var action = _this.mixer.clipAction(animation);\n\n        console.log('added', animation);\n        action.play();\n      }\n\n      _this.scene.add(scene);\n\n      console.log(_this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      _this.scene.traverse(function (child) {\n        if (child instanceof three__WEBPACK_IMPORTED_MODULE_0__[\"Light\"]) {\n          child.castShadow = true; // Debugging light positions.\n\n          child.shadowCameraVisible = false; // Adjust shadow bias.\n\n          child.shadow.bias = -0.002; // Remove the rigged looking shadows.\n\n          child.shadow.mapSize.width = 1024;\n          child.shadow.mapSize.height = 1024; // child.shadowDarkness = 0.5;\n          // child.shadow.camera.near = 0;\n          // child.shadow.camera.far = 1000;\n          // Lights come off a bit stronger compared to Eevee, so\n          // lower the intensity. Stronger = less shadows.\n\n          child.intensity = child.intensity * 0.3; // var helper = new THREE.CameraHelper( child.shadow.camera );\n          // scene.add( helper );\n        } else if (child instanceof three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"]) {\n          child.castShadow = true;\n          child.receiveShadow = true; // child.geometry.computeVertexNormals(true);\n          // Get the image mappings.\n          // if(child.material && child.material.map) {\n          //   child.material.map.needsUpdate = true;\n          // }\n        } else {} // if(child.name.startsWith('Cube003')) {\n        //     child.receiveShadow = true;\n        // }\n        // Fix eyes\n\n\n        if (child.name.startsWith('Cylinder')) {\n          child.castShadow = false;\n          child.receiveShadow = true;\n        }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n\n      _this.camera = gltf.cameras[0];\n      console.log(_this.camera);\n\n      _this.resize();\n    }, undefined, function (error) {\n      console.error(error);\n    });\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"]({\n      antialias: true,\n      // precision: 'highp'\n      autoSize: true\n    });\n    this.composer = new three_examples_jsm_postprocessing_EffectComposer__WEBPACK_IMPORTED_MODULE_2__[\"EffectComposer\"](this.renderer);\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  _createClass(ThreeObjectViewer3, [{\n    key: \"resize\",\n    value: function resize() {\n      this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_9__[\"dom\"].getElementScrolledPercent(this.parentElement, window.innerHeight);\n      this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_10__[\"EASE\"].Linear);\n      this.width = this.canvasContainer.parentElement.offsetWidth;\n      this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      this.renderer.setPixelRatio(window.devicePixelRatio);\n      this.renderer.setSize(this.width, this.height); // Important to get the correct colors.\n\n      this.renderer.physicallyCorrectLights = true; // Background as black.\n\n      this.renderer.setClearColor(0x4287f5); // this.renderer.setClearColor(0xE7E7E7, 1.0);\n      // Affects how strongly lights come exposed.\n      // this.renderer.toneMappingExposure = 0.4;\n      // https://threejs.org/examples/#webgl_tonemapping\n\n      this.renderer.toneMappingExposure = 0.35;\n      this.renderer.toneMapping = three__WEBPACK_IMPORTED_MODULE_0__[\"ACESFilmicToneMapping\"]; // Enable shadows.\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      this.renderer.shadowMap.enabled = true; // To antialias the shadow\n\n      this.renderer.shadowMapType = three__WEBPACK_IMPORTED_MODULE_0__[\"PCFSoftShadowMap\"];\n      this.renderer.gammaOutput = true;\n      this.renderer.gammaFactor = 2.2; // Post processing\n\n      this.composer.setSize(this.width, this.height);\n      var fxaaPass = new three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_6__[\"ShaderPass\"](three_examples_jsm_shaders_FXAAShader_js__WEBPACK_IMPORTED_MODULE_5__[\"FXAAShader\"]);\n      fxaaPass.material.uniforms['resolution'].value.x = 1 / (this.width * window.devicePixelRatio);\n      fxaaPass.material.uniforms['resolution'].value.y = 1 / (this.height * window.devicePixelRatio);\n      this.composer.addPass(fxaaPass);\n      this.composer.addPass(new three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_3__[\"RenderPass\"](this.scene, this.camera)); // var bloomPass = new UnrealBloomPass(1, 25, 5, 256);\n      // this.composer.addPass(bloomPass);\n      // The camera aspect goes off since it could be exported at a different\n      // ratio.  Force update the aspect ratio.\n      // this.camera.fov = 25; // Update FOV.\n\n      this.camera.zoom = 1; // Update FOV.\n\n      this.camera.aspect = this.width / this.height;\n      this.camera.updateProjectionMatrix();\n    }\n  }, {\n    key: \"getAnimationByName\",\n    value: function getAnimationByName(name) {\n      return this.animations.filter(function (animationClip) {\n        return animationClip.name == name;\n      })[0];\n    }\n  }, {\n    key: \"getObjectByName\",\n    value: function getObjectByName(name) {\n      return this.activeScene.children.filter(function (object3d) {\n        return object3d.name == name;\n      })[0];\n    }\n  }, {\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(progress) {\n      //Animation Mixer\n      if (this.mixer) {\n        // We need to find out how long the animation is.\n        // The mixer appears to have no knowledge oft this so we need to\n        // look up a specific animation and get the duration to\n        // get the total duration of the animation.\n        var cameraAnimation = this.getAnimationByName('CubeAction');\n        var duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n        // frame so next allow it to reach the max value.\n\n        this.mixer.setTime(Math.min(duration * progress, duration - 0.001));\n      } // this.renderer.render(this.scene, this.camera);\n\n\n      this.composer.render();\n    }\n  }]);\n\n  return ThreeObjectViewer3;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyMy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLW9iamVjdC12aWV3ZXIzLmpzP2NjNGIiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI21hbnVhbC9lbi9pbnRyb2R1Y3Rpb24vTG9hZGluZy0zRC1tb2RlbHNcbi8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX2xvYWRlcl9nbHRmXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9iZWxsYmluZC9jNGY4YzUwMmZjYWNiZTI5NDIyZTVhYzMxNTI3Mzg1OFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Z1bndpdGh0cmlhbmdsZXMvYmxlbmRlci10by10aHJlZWpzLWV4cG9ydC1ndWlkZS9ibG9iL21hc3Rlci9yZWFkbWUubWRcbi8vIGh0dHBzOi8vdGhyZWVqc2Z1bmRhbWVudGFscy5vcmcvdGhyZWVqcy9sZXNzb25zL3RocmVlanMtbG9hZC1nbHRmLmh0bWxcbi8vIGh0dHBzOi8vZGlzY292ZXJ0aHJlZWpzLmNvbS9ib29rL2ZpcnN0LXN0ZXBzL2xvYWQtbW9kZWxzL1xuLy8gaHR0cHM6Ly93d3cucGVudGFjcmVhdGlvbi5jb20vYmxvZy8yMDE5LzA5LzE5MDkxNi5odG1sXG4vLyBodHRwczovL3d3dy5wZW50YWNyZWF0aW9uLmNvbS9ibG9nLzIwMTkvMTAvMTkxMDE2Lmh0bWxcbi8vIGh0dHBzOi8vZG9jcy5ibGVuZGVyLm9yZy9tYW51YWwvamEvbGF0ZXN0L2FkZG9ucy9pb19zY2VuZV9nbHRmMi5odG1sXG4vLyBodHRwczovL2dsdGYtdmlld2VyLmRvbm1jY3VyZHkuY29tL1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rvbm1jY3VyZHkvdGhyZWUtZ2x0Zi12aWV3ZXJcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyJztcbmltcG9ydCB7IEVmZmVjdENvbXBvc2VyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL0VmZmVjdENvbXBvc2VyJztcbmltcG9ydCB7IFJlbmRlclBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvUmVuZGVyUGFzcy5qcyc7XG5pbXBvcnQgeyBVbnJlYWxCbG9vbVBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvVW5yZWFsQmxvb21QYXNzLmpzJztcbmltcG9ydCB7IEZYQUFTaGFkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vc2hhZGVycy9GWEFBU2hhZGVyLmpzJztcbmltcG9ydCB7IFNoYWRlclBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvU2hhZGVyUGFzcy5qcyc7IC8vIGltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcblxuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuaW1wb3J0IHsgUmFmUHJvZ3Jlc3MgfSBmcm9tICcuLi9saWIvcmFmL3JhZi1wcm9ncmVzcyc7XG5pbXBvcnQgeyBkb20gfSBmcm9tICcuLi9saWIvZG9tL2RvbSc7XG5pbXBvcnQgeyBFQVNFIH0gZnJvbSAnLi4vbGliL2Vhc2UvZWFzZSc7XG5cbnZhciBUaHJlZU9iamVjdFZpZXdlcjMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUaHJlZU9iamVjdFZpZXdlcjMoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaHJlZU9iamVjdFZpZXdlcjMpO1xuXG4gICAgY29uc29sZS5sb2coJ1RocmVlSlMgT2JqZWN0IFZpZXdlciBEZW1vJyk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MgPSBuZXcgUmFmUHJvZ3Jlc3MoKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhldmVudCkge1xuICAgICAgICBfdGhpcy5wcm9ncmVzcyA9IGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KF90aGlzLnBhcmVudEVsZW1lbnQsIHdpbmRvdy5pbm5lckhlaWdodCk7IC8vICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMC4yNiwgRUFTRS5lYXNlSW5PdXRFeHBvKTtcbiAgICAgICAgLy8gICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjA4LCBFQVNFLmxpbmVhcik7XG5cbiAgICAgICAgX3RoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKF90aGlzLnByb2dyZXNzLCAwLjE4LCBFQVNFLmVhc2VJbk91dFF1YWQpO1xuICAgICAgfSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgIHZhciBsb2FkZXIgPSBuZXcgR0xURkxvYWRlcigpOyAvLyBjb25zdCBwYXRoID0gJ2h0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvbW9kZWxzL2dsdGYvRGFtYWdlZEhlbG1ldC9nbFRGL0RhbWFnZWRIZWxtZXQuZ2x0Zic7XG4gICAgLy8gY29uc3QgcGF0aCA9ICcuL3B1YmxpYy9kdWRlLmdsYic7XG5cbiAgICB2YXIgcGF0aCA9ICcuL3B1YmxpYy9waG9uZS9waG9uZS5nbGInO1xuICAgIGxvYWRlci5sb2FkKHBhdGgsIGZ1bmN0aW9uIChnbHRmKSB7XG4gICAgICBfdGhpcy5jbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpO1xuICAgICAgdmFyIHNjZW5lID0gZ2x0Zi5zY2VuZXNbMF07XG4gICAgICBfdGhpcy5hY3RpdmVTY2VuZSA9IHNjZW5lO1xuICAgICAgX3RoaXMuYW5pbWF0aW9ucyA9IGdsdGYuYW5pbWF0aW9uczsgLy8gQW5pbWF0aW9uIE1peGVy44Kk44Oz44K544K/44Oz44K544KS55Sf5oiQXG5cbiAgICAgIF90aGlzLm1peGVyID0gbmV3IFRIUkVFLkFuaW1hdGlvbk1peGVyKHNjZW5lKTsgLy/lhajjgabjga5BbmltYXRpb24gQ2xpcOOBq+WvvuOBl+OBplxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLmFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGFuaW1hdGlvbiA9IF90aGlzLmFuaW1hdGlvbnNbaV07IC8vQW5pbWF0aW9uIEFjdGlvbuOCkueUn+aIkFxuXG4gICAgICAgIHZhciBhY3Rpb24gPSBfdGhpcy5taXhlci5jbGlwQWN0aW9uKGFuaW1hdGlvbik7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ2FkZGVkJywgYW5pbWF0aW9uKTtcbiAgICAgICAgYWN0aW9uLnBsYXkoKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2NlbmUuYWRkKHNjZW5lKTtcblxuICAgICAgY29uc29sZS5sb2coX3RoaXMubWl4ZXIpOyAvLyBodHRwOi8vbGVhcm5pbmd0aHJlZWpzLmNvbS9ibG9nLzIwMTIvMDEvMjAvY2FzdGluZy1zaGFkb3dzL1xuXG4gICAgICBfdGhpcy5zY2VuZS50cmF2ZXJzZShmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTGlnaHQpIHtcbiAgICAgICAgICBjaGlsZC5jYXN0U2hhZG93ID0gdHJ1ZTsgLy8gRGVidWdnaW5nIGxpZ2h0IHBvc2l0aW9ucy5cblxuICAgICAgICAgIGNoaWxkLnNoYWRvd0NhbWVyYVZpc2libGUgPSBmYWxzZTsgLy8gQWRqdXN0IHNoYWRvdyBiaWFzLlxuXG4gICAgICAgICAgY2hpbGQuc2hhZG93LmJpYXMgPSAtMC4wMDI7IC8vIFJlbW92ZSB0aGUgcmlnZ2VkIGxvb2tpbmcgc2hhZG93cy5cblxuICAgICAgICAgIGNoaWxkLnNoYWRvdy5tYXBTaXplLndpZHRoID0gMTAyNDtcbiAgICAgICAgICBjaGlsZC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSAxMDI0OyAvLyBjaGlsZC5zaGFkb3dEYXJrbmVzcyA9IDAuNTtcbiAgICAgICAgICAvLyBjaGlsZC5zaGFkb3cuY2FtZXJhLm5lYXIgPSAwO1xuICAgICAgICAgIC8vIGNoaWxkLnNoYWRvdy5jYW1lcmEuZmFyID0gMTAwMDtcbiAgICAgICAgICAvLyBMaWdodHMgY29tZSBvZmYgYSBiaXQgc3Ryb25nZXIgY29tcGFyZWQgdG8gRWV2ZWUsIHNvXG4gICAgICAgICAgLy8gbG93ZXIgdGhlIGludGVuc2l0eS4gU3Ryb25nZXIgPSBsZXNzIHNoYWRvd3MuXG5cbiAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSBjaGlsZC5pbnRlbnNpdHkgKiAwLjM7IC8vIHZhciBoZWxwZXIgPSBuZXcgVEhSRUUuQ2FtZXJhSGVscGVyKCBjaGlsZC5zaGFkb3cuY2FtZXJhICk7XG4gICAgICAgICAgLy8gc2NlbmUuYWRkKCBoZWxwZXIgKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2gpIHtcbiAgICAgICAgICBjaGlsZC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICBjaGlsZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTsgLy8gY2hpbGQuZ2VvbWV0cnkuY29tcHV0ZVZlcnRleE5vcm1hbHModHJ1ZSk7XG4gICAgICAgICAgLy8gR2V0IHRoZSBpbWFnZSBtYXBwaW5ncy5cbiAgICAgICAgICAvLyBpZihjaGlsZC5tYXRlcmlhbCAmJiBjaGlsZC5tYXRlcmlhbC5tYXApIHtcbiAgICAgICAgICAvLyAgIGNoaWxkLm1hdGVyaWFsLm1hcC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgLy8gfVxuICAgICAgICB9IGVsc2Uge30gLy8gaWYoY2hpbGQubmFtZS5zdGFydHNXaXRoKCdDdWJlMDAzJykpIHtcbiAgICAgICAgLy8gICAgIGNoaWxkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vIEZpeCBleWVzXG5cblxuICAgICAgICBpZiAoY2hpbGQubmFtZS5zdGFydHNXaXRoKCdDeWxpbmRlcicpKSB7XG4gICAgICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgICAgIGNoaWxkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTsgLy8gU2V0IHRoZSBjYW1lcmEgZXhwb3J0ZWQgaW4gZ2x0Zi5cbiAgICAgIC8vIFJlcXVpcmVzIGNhbWVyYSB0byBiZSBleHBvcnRlZCBmb3IgZ2x0Zi5cblxuXG4gICAgICBfdGhpcy5jYW1lcmEgPSBnbHRmLmNhbWVyYXNbMF07XG4gICAgICBjb25zb2xlLmxvZyhfdGhpcy5jYW1lcmEpO1xuXG4gICAgICBfdGhpcy5yZXNpemUoKTtcbiAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfSk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcbiAgICAgIGFudGlhbGlhczogdHJ1ZSxcbiAgICAgIC8vIHByZWNpc2lvbjogJ2hpZ2hwJ1xuICAgICAgYXV0b1NpemU6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLmNvbXBvc2VyID0gbmV3IEVmZmVjdENvbXBvc2VyKHRoaXMucmVuZGVyZXIpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUaHJlZU9iamVjdFZpZXdlcjMsIFt7XG4gICAga2V5OiBcInJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNpemUoKSB7XG4gICAgICB0aGlzLnByb2dyZXNzID0gZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50LCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgRUFTRS5MaW5lYXIpO1xuICAgICAgdGhpcy53aWR0aCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0OyAvLyBodHRwczovL2dpdGh1Yi5jb20vZG9ubWNjdXJkeS90aHJlZS1nbHRmLXZpZXdlci9ibG9iL21hc3Rlci9zcmMvdmlld2VyLmpzXG4gICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9jb25zdGFudHMvUmVuZGVyZXJcblxuICAgICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7IC8vIEltcG9ydGFudCB0byBnZXQgdGhlIGNvcnJlY3QgY29sb3JzLlxuXG4gICAgICB0aGlzLnJlbmRlcmVyLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzID0gdHJ1ZTsgLy8gQmFja2dyb3VuZCBhcyBibGFjay5cblxuICAgICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKDB4NDI4N2Y1KTsgLy8gdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKDB4RTdFN0U3LCAxLjApO1xuICAgICAgLy8gQWZmZWN0cyBob3cgc3Ryb25nbHkgbGlnaHRzIGNvbWUgZXhwb3NlZC5cbiAgICAgIC8vIHRoaXMucmVuZGVyZXIudG9uZU1hcHBpbmdFeHBvc3VyZSA9IDAuNDtcbiAgICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX3RvbmVtYXBwaW5nXG5cbiAgICAgIHRoaXMucmVuZGVyZXIudG9uZU1hcHBpbmdFeHBvc3VyZSA9IDAuMzU7XG4gICAgICB0aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nID0gVEhSRUUuQUNFU0ZpbG1pY1RvbmVNYXBwaW5nOyAvLyBFbmFibGUgc2hhZG93cy5cbiAgICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL2NvbnN0YW50cy9SZW5kZXJlclxuXG4gICAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTsgLy8gVG8gYW50aWFsaWFzIHRoZSBzaGFkb3dcblxuICAgICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXBUeXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcbiAgICAgIHRoaXMucmVuZGVyZXIuZ2FtbWFPdXRwdXQgPSB0cnVlO1xuICAgICAgdGhpcy5yZW5kZXJlci5nYW1tYUZhY3RvciA9IDIuMjsgLy8gUG9zdCBwcm9jZXNzaW5nXG5cbiAgICAgIHRoaXMuY29tcG9zZXIuc2V0U2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICB2YXIgZnhhYVBhc3MgPSBuZXcgU2hhZGVyUGFzcyhGWEFBU2hhZGVyKTtcbiAgICAgIGZ4YWFQYXNzLm1hdGVyaWFsLnVuaWZvcm1zWydyZXNvbHV0aW9uJ10udmFsdWUueCA9IDEgLyAodGhpcy53aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgIGZ4YWFQYXNzLm1hdGVyaWFsLnVuaWZvcm1zWydyZXNvbHV0aW9uJ10udmFsdWUueSA9IDEgLyAodGhpcy5oZWlnaHQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICB0aGlzLmNvbXBvc2VyLmFkZFBhc3MoZnhhYVBhc3MpO1xuICAgICAgdGhpcy5jb21wb3Nlci5hZGRQYXNzKG5ldyBSZW5kZXJQYXNzKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKSk7IC8vIHZhciBibG9vbVBhc3MgPSBuZXcgVW5yZWFsQmxvb21QYXNzKDEsIDI1LCA1LCAyNTYpO1xuICAgICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKGJsb29tUGFzcyk7XG4gICAgICAvLyBUaGUgY2FtZXJhIGFzcGVjdCBnb2VzIG9mZiBzaW5jZSBpdCBjb3VsZCBiZSBleHBvcnRlZCBhdCBhIGRpZmZlcmVudFxuICAgICAgLy8gcmF0aW8uICBGb3JjZSB1cGRhdGUgdGhlIGFzcGVjdCByYXRpby5cbiAgICAgIC8vIHRoaXMuY2FtZXJhLmZvdiA9IDI1OyAvLyBVcGRhdGUgRk9WLlxuXG4gICAgICB0aGlzLmNhbWVyYS56b29tID0gMTsgLy8gVXBkYXRlIEZPVi5cblxuICAgICAgdGhpcy5jYW1lcmEuYXNwZWN0ID0gdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRBbmltYXRpb25CeU5hbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QW5pbWF0aW9uQnlOYW1lKG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChhbmltYXRpb25DbGlwKSB7XG4gICAgICAgIHJldHVybiBhbmltYXRpb25DbGlwLm5hbWUgPT0gbmFtZTtcbiAgICAgIH0pWzBdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRPYmplY3RCeU5hbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T2JqZWN0QnlOYW1lKG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmFjdGl2ZVNjZW5lLmNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbiAob2JqZWN0M2QpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDNkLm5hbWUgPT0gbmFtZTtcbiAgICAgIH0pWzBdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblByb2dyZXNzVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUHJvZ3Jlc3NVcGRhdGUocHJvZ3Jlc3MpIHtcbiAgICAgIC8vQW5pbWF0aW9uIE1peGVy44KS5a6f6KGMXG4gICAgICBpZiAodGhpcy5taXhlcikge1xuICAgICAgICAvLyBXZSBuZWVkIHRvIGZpbmQgb3V0IGhvdyBsb25nIHRoZSBhbmltYXRpb24gaXMuXG4gICAgICAgIC8vIFRoZSBtaXhlciBhcHBlYXJzIHRvIGhhdmUgbm8ga25vd2xlZGdlIG9mdCB0aGlzIHNvIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gbG9vayB1cCBhIHNwZWNpZmljIGFuaW1hdGlvbiBhbmQgZ2V0IHRoZSBkdXJhdGlvbiB0b1xuICAgICAgICAvLyBnZXQgdGhlIHRvdGFsIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICAgIHZhciBjYW1lcmFBbmltYXRpb24gPSB0aGlzLmdldEFuaW1hdGlvbkJ5TmFtZSgnQ3ViZUFjdGlvbicpO1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBjYW1lcmFBbmltYXRpb24uZHVyYXRpb247IC8vIFdoZW4gZHVyYXRpb24gaGl0cyBpdCdzIG1heCwgYW5pbWF0aW9uTWl4ZXIgc2VlbXMgdG8gaGl0IHRoZSBmaXJzdFxuICAgICAgICAvLyBmcmFtZSBzbyBuZXh0IGFsbG93IGl0IHRvIHJlYWNoIHRoZSBtYXggdmFsdWUuXG5cbiAgICAgICAgdGhpcy5taXhlci5zZXRUaW1lKE1hdGgubWluKGR1cmF0aW9uICogcHJvZ3Jlc3MsIGR1cmF0aW9uIC0gMC4wMDEpKTtcbiAgICAgIH0gLy8gdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuXG5cbiAgICAgIHRoaXMuY29tcG9zZXIucmVuZGVyKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRocmVlT2JqZWN0Vmlld2VyMztcbn0oKTtcblxuZXhwb3J0IHsgVGhyZWVPYmplY3RWaWV3ZXIzIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/three-object-viewer3.js\n");

/***/ }),

/***/ "./examples/three-object-viewer4.js":
/*!******************************************!*\
  !*** ./examples/three-object-viewer4.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ThreeObjectViewer4; });\n/* harmony import */ var _lib_datguif_datguif__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/datguif/datguif */ \"./lib/datguif/datguif.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_EffectComposer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer */ \"./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/RenderPass.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_UnrealBloomPass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/postprocessing/UnrealBloomPass.js */ \"./node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js\");\n/* harmony import */ var three_examples_jsm_shaders_FXAAShader_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/shaders/FXAAShader.js */ \"./node_modules/three/examples/jsm/shaders/FXAAShader.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/ShaderPass.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// https://threejs.org/docs/#manual/en/introduction/Loading-3D-models\n// https://threejs.org/examples/#webgl_loader_gltf\n// https://gist.github.com/bellbind/c4f8c502fcacbe29422e5ac315273858\n// https://github.com/funwithtriangles/blender-to-threejs-export-guide/blob/master/readme.md\n// https://threejsfundamentals.org/threejs/lessons/threejs-load-gltf.html\n// https://discoverthreejs.com/book/first-steps/load-models/\n// https://www.pentacreation.com/blog/2019/09/190916.html\n// https://www.pentacreation.com/blog/2019/10/191016.html\n// https://docs.blender.org/manual/ja/latest/addons/io_scene_gltf2.html\n// https://gltf-viewer.donmccurdy.com/\n// https://github.com/donmccurdy/three-gltf-viewer\n\n\n\n\n\n\n\n // import { Raf } from '../lib/raf/raf';\n\n\n\n\n\n\nvar ThreeObjectViewer4 = /*#__PURE__*/function () {\n  function ThreeObjectViewer4() {\n    var _this = this;\n\n    _classCallCheck(this, ThreeObjectViewer4);\n\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_8__[\"DomWatcher\"]();\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_9__[\"RafProgress\"]();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.scrollLerp = 0.38;\n    this.scrollEase = 'easeInQuad';\n    this.rendererConfig = {\n      clearColor: '#FFFFFF',\n      backgroundAlpha: 1.0\n    };\n    this.gui = new _lib_datguif_datguif__WEBPACK_IMPORTED_MODULE_0__[\"Datguif\"]({\n      load: JSON\n    });\n    this.gui.addFolder('Settings').open();\n    this.gui.addFolder('Renderer', 'Settings');\n    this.gui.addFolder('Camera', 'Settings');\n    this.gui.addFolder('Scroll', 'Settings');\n    this.gui.addFolder('Lights');\n    this.gui.addFolder('Objects');\n    this.gui.addObjectToFolder('Scroll', this, [{\n      keyName: 'scrollLerp',\n      min: 0,\n      max: 1,\n      step: 0.01\n    }, {\n      keyName: 'scrollEase',\n      options: ['linear', 'easeOutQuad', 'easeInQuad']\n    }]);\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__[\"dom\"].getElementScrolledPercent(_this.parentElement, window.innerHeight); //   this.rafProgress.easeTo(this.progress, 0.26, EASE.easeInOutExpo);\n        //   this.rafProgress.easeTo(this.progress, 0.08, EASE.linear);\n\n        _this.rafProgress.easeTo(_this.progress, _this.scrollLerp, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__[\"EASE\"][_this.scrollEase]);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_1__[\"Scene\"]();\n    this.gui.onUpdate(function (prop) {\n      _this.draw();\n    });\n    var loader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_2__[\"GLTFLoader\"](); // const path = 'https://threejs.org/examples/models/gltf/DamagedHelmet/glTF/DamagedHelmet.gltf';\n    // const path = './public/dude.glb';\n\n    var path = './public/home/home3.gltf';\n    loader.load(path, function (gltf) {\n      var gltfData = gltf.parser.json;\n\n      var getNodeByName = function getNodeByName(name) {\n        return gltfData.nodes.filter(function (node) {\n          return node.name = name;\n        })[0];\n      };\n\n      console.log(gltfData);\n      _this.clock = new three__WEBPACK_IMPORTED_MODULE_1__[\"Clock\"]();\n      var scene = gltf.scenes[0];\n      _this.activeScene = scene;\n      _this.animations = gltf.animations; // Animation Mixer\n\n      _this.mixer = new three__WEBPACK_IMPORTED_MODULE_1__[\"AnimationMixer\"](scene); //Animation Clip\n\n      for (var i = 0; i < _this.animations.length; i++) {\n        var animation = _this.animations[i]; //Animation Action\n\n        var action = _this.mixer.clipAction(animation);\n\n        console.log('added', animation);\n        action.play();\n      }\n\n      _this.scene.add(scene);\n\n      console.log(_this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      _this.scene.traverse(function (child) {\n        if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"Light\"]) {\n          child.castShadow = false;\n          console.log('light', child);\n          var shadowEnabledLights = ['Point013_Orientation', 'Point003_Orientation'];\n\n          if (~shadowEnabledLights.indexOf(child.name)) {\n            child.castShadow = true;\n          } // Debugging light positions.\n          // child.shadowCameraVisible = false;\n\n\n          if (child.shadow) {\n            // Adjust shadow bias.\n            child.shadow.bias = -0.002; // Remove the rigged looking shadows.\n\n            child.shadow.mapSize.width = 1024;\n            child.shadow.mapSize.height = 1024; // child.shadowDarkness = 0.5;\n            // child.shadow.camera.near = 0;\n            // child.shadow.camera.far = 1000;\n            // var helper = new THREE.CameraHelper( child.shadow.camera );\n            // scene.add( helper );\n          } // Point lights are defined in watts which goes waay off in three.js\n\n\n          if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"PointLight\"]) {\n            child.intensity = child.intensity * 0.01;\n          } // If it's a spot light, it needs to go down even more.\n\n\n          if (child.type == \"SpotLight\") {\n            child.intensity = child.intensity * 0.001;\n          }\n\n          _this.gui.addFolder(child.name, 'Lights');\n\n          _this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'intensity',\n            min: 0,\n            max: 3000\n          }, {\n            keyName: 'color'\n          }]);\n\n          if (child.shadow) {\n            var shadowFolderId = child.name + ' shadow';\n            console.log(child.shadow);\n\n            _this.gui.addFolder(shadowFolderId, child.name);\n\n            _this.gui.addObjectToFolder(shadowFolderId, child.shadow, [{\n              keyName: 'bias',\n              min: -1,\n              max: 1,\n              step: 0.00001\n            }, {\n              keyName: 'radius',\n              min: 0,\n              max: 100,\n              step: 0.01\n            }]);\n          }\n        } else if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"Mesh\"]) {\n          child.castShadow = true; // child.receiveShadow = true;\n          // child.geometry.computeVertexNormals(true);\n\n          _this.gui.addFolder(child.name, 'Objects');\n\n          _this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'receiveShadow'\n          }]); // Get the image mappings.\n          // if(child.material && child.material.map) {\n          //   child.material.map.needsUpdate = true;\n          // }\n\n        } else {} // if(child.name.startsWith('Cube003')) {\n        //     child.receiveShadow = true;\n        // }\n        // Fix eyes\n\n\n        if (child.name.startsWith('Plane')) {\n          child.castShadow = false;\n          child.receiveShadow = true;\n        }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n\n      _this.camera = gltf.cameras[0];\n      console.log(_this.camera);\n\n      _this.resize(); // Use fog to cover far distances.\n\n\n      var color = 0xFFFFFF;\n      _this.scene.fog = new three__WEBPACK_IMPORTED_MODULE_1__[\"Fog\"](color, 20, 24); // Enable shadows.\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      _this.renderer.shadowMap.enabled = true; // To antialias the shadow\n\n      _this.renderer.shadowMap.type = three__WEBPACK_IMPORTED_MODULE_1__[\"PCFSoftShadowMap\"];\n      _this.renderer.gammaOutput = true;\n      _this.renderer.gammaFactor = 2.2; // Important to get the correct colors.\n\n      _this.renderer.physicallyCorrectLights = true; // Background as black.\n      // this.renderer.setClearColor(0x4287f5);\n\n      _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha); // Affects how strongly lights come exposed.\n      // https://threejs.org/examples/#webgl_tonemapping\n\n\n      _this.renderer.toneMappingExposure = 1; // this.renderer.toneMapping = THREE.ACESFilmicToneMapping;\n\n      _this.gui.addObjectToFolder('Renderer', _this.renderer, [{\n        keyName: 'toneMappingExposure',\n        min: 0,\n        max: 5,\n        step: 0.01\n      }]);\n\n      _this.gui.addObjectToFolder('Renderer', _this.rendererConfig, [{\n        keyName: 'clearColor',\n        callback: function callback() {\n          _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha);\n        }\n      }, {\n        keyName: 'backgroundAlpha',\n        callback: function callback() {\n          _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha);\n        }\n      }]);\n\n      _this.gui.addObjectToFolder('Camera', _this.camera, [{\n        keyName: 'fov',\n        min: 0,\n        max: 50,\n        step: 0.01,\n        callback: function callback() {\n          _this.camera.updateProjectionMatrix();\n        }\n      }, {\n        keyName: 'zoom',\n        min: 0,\n        max: 10,\n        step: 0.0001,\n        callback: function callback() {\n          _this.camera.updateProjectionMatrix();\n        }\n      }]);\n\n      _this.gui.addFolder('General Lights');\n\n      _this.generalLightConfig = {\n        ambientLightColor: '#FFFFFF',\n        ambientLightAlpha: 1.2\n      }; // Additional lighting outside the blender.\n      // var light = new THREE.HemisphereLight( 0xffffbb, 0xffffff, 1 );\n      // this.scene.add( light );\n\n      _this.ambientLight = new three__WEBPACK_IMPORTED_MODULE_1__[\"AmbientLight\"](_this.generalLightConfig.ambientLightColor);\n      _this.ambientLight.intensity = _this.generalLightConfig.ambientLightAlpha;\n      scene.add(_this.ambientLight);\n\n      _this.gui.addObjectToFolder('General Lights', _this.generalLightConfig, [{\n        keyName: 'ambientLightColor',\n        callback: function callback() {\n          _this.ambientLight.color = new three__WEBPACK_IMPORTED_MODULE_1__[\"Color\"](_this.generalLightConfig.ambientLightColor);\n        }\n      }, {\n        keyName: 'ambientLightAlpha',\n        callback: function callback() {\n          _this.ambientLight.intensity = _this.generalLightConfig.ambientLightAlpha;\n        }\n      }]);\n\n      var width = 50;\n      var height = 50;\n      var intensity = 0;\n      var rectLight = new three__WEBPACK_IMPORTED_MODULE_1__[\"RectAreaLight\"]('#FFFFFF', intensity, width, height);\n      rectLight.position.set(0, 0, 25); // rectLight.lookAt( 0, 0, 0 );\n\n      _this.scene.add(rectLight);\n\n      rectLightHelper = new three__WEBPACK_IMPORTED_MODULE_1__[\"RectAreaLightHelper\"](rectLight);\n      rectLight.add(rectLightHelper);\n\n      _this.gui.addButton('Refresh', _this.refresh.bind(_this));\n    }, undefined, function (error) {\n      console.error(error);\n    });\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_1__[\"WebGLRenderer\"]({\n      antialias: true,\n      // precision: 'highp'\n      autoSize: true\n    });\n    this.composer = new three_examples_jsm_postprocessing_EffectComposer__WEBPACK_IMPORTED_MODULE_3__[\"EffectComposer\"](this.renderer);\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  _createClass(ThreeObjectViewer4, [{\n    key: \"resize\",\n    value: function resize() {\n      this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__[\"dom\"].getElementScrolledPercent(this.parentElement, window.innerHeight);\n      this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__[\"EASE\"].Linear);\n      this.width = this.canvasContainer.parentElement.offsetWidth;\n      this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      this.renderer.setPixelRatio(window.devicePixelRatio);\n      this.renderer.setSize(this.width, this.height); // Post processing\n      // this.composer.setSize( this.width, this.height);\n      // const fxaaPass = new ShaderPass( FXAAShader );\n      // fxaaPass.material.uniforms[ 'resolution' ].value.x = 1 / ( this.width * window.devicePixelRatio);\n      // fxaaPass.material.uniforms[ 'resolution' ].value.y = 1 / ( this.height * window.devicePixelRatio);\n      // this.composer.addPass(fxaaPass);\n      // this.composer.addPass(new RenderPass(this.scene, this.camera));\n      // var bloomPass = new UnrealBloomPass(1, 25, 5, 256);\n      // this.composer.addPass(bloomPass);\n      // The camera aspect goes off since it could be exported at a different\n      // ratio.  Force update the aspect ratio.\n\n      this.camera.aspect = this.width / this.height;\n      this.camera.updateProjectionMatrix();\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n      this.resize();\n      this.draw();\n    }\n  }, {\n    key: \"getAnimationByName\",\n    value: function getAnimationByName(name) {\n      return this.animations.filter(function (animationClip) {\n        return animationClip.name == name;\n      })[0];\n    }\n  }, {\n    key: \"getObjectByName\",\n    value: function getObjectByName(name) {\n      return this.activeScene.children.filter(function (object3d) {\n        return object3d.name == name;\n      })[0];\n    }\n  }, {\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(progress) {\n      //Animation Mixer\n      if (this.mixer) {\n        // We need to find out how long the animation is.\n        // The mixer appears to have no knowledge oft this so we need to\n        // look up a specific animation and get the duration to\n        // get the total duration of the animation.\n        var cameraAnimation = this.getAnimationByName('Action');\n        var duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n        // frame so next allow it to reach the max value.\n\n        this.mixer.setTime(Math.min(duration * progress, duration - 0.001));\n      }\n\n      this.draw(); // this.renderer.render(this.scene, this.camera);\n      // this.composer.render();\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return ThreeObjectViewer4;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyNC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLW9iamVjdC12aWV3ZXI0LmpzPzc4MWEiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI21hbnVhbC9lbi9pbnRyb2R1Y3Rpb24vTG9hZGluZy0zRC1tb2RlbHNcbi8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX2xvYWRlcl9nbHRmXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9iZWxsYmluZC9jNGY4YzUwMmZjYWNiZTI5NDIyZTVhYzMxNTI3Mzg1OFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Z1bndpdGh0cmlhbmdsZXMvYmxlbmRlci10by10aHJlZWpzLWV4cG9ydC1ndWlkZS9ibG9iL21hc3Rlci9yZWFkbWUubWRcbi8vIGh0dHBzOi8vdGhyZWVqc2Z1bmRhbWVudGFscy5vcmcvdGhyZWVqcy9sZXNzb25zL3RocmVlanMtbG9hZC1nbHRmLmh0bWxcbi8vIGh0dHBzOi8vZGlzY292ZXJ0aHJlZWpzLmNvbS9ib29rL2ZpcnN0LXN0ZXBzL2xvYWQtbW9kZWxzL1xuLy8gaHR0cHM6Ly93d3cucGVudGFjcmVhdGlvbi5jb20vYmxvZy8yMDE5LzA5LzE5MDkxNi5odG1sXG4vLyBodHRwczovL3d3dy5wZW50YWNyZWF0aW9uLmNvbS9ibG9nLzIwMTkvMTAvMTkxMDE2Lmh0bWxcbi8vIGh0dHBzOi8vZG9jcy5ibGVuZGVyLm9yZy9tYW51YWwvamEvbGF0ZXN0L2FkZG9ucy9pb19zY2VuZV9nbHRmMi5odG1sXG4vLyBodHRwczovL2dsdGYtdmlld2VyLmRvbm1jY3VyZHkuY29tL1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rvbm1jY3VyZHkvdGhyZWUtZ2x0Zi12aWV3ZXJcbmltcG9ydCB7IERhdGd1aWYgfSBmcm9tICcuLi9saWIvZGF0Z3VpZi9kYXRndWlmJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyJztcbmltcG9ydCB7IEVmZmVjdENvbXBvc2VyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL0VmZmVjdENvbXBvc2VyJztcbmltcG9ydCB7IFJlbmRlclBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvUmVuZGVyUGFzcy5qcyc7XG5pbXBvcnQgeyBVbnJlYWxCbG9vbVBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvVW5yZWFsQmxvb21QYXNzLmpzJztcbmltcG9ydCB7IEZYQUFTaGFkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vc2hhZGVycy9GWEFBU2hhZGVyLmpzJztcbmltcG9ydCB7IFNoYWRlclBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvU2hhZGVyUGFzcy5qcyc7IC8vIGltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcblxuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuaW1wb3J0IHsgUmFmUHJvZ3Jlc3MgfSBmcm9tICcuLi9saWIvcmFmL3JhZi1wcm9ncmVzcyc7XG5pbXBvcnQgeyBkb20gfSBmcm9tICcuLi9saWIvZG9tL2RvbSc7XG5pbXBvcnQgeyBFQVNFIH0gZnJvbSAnLi4vbGliL2Vhc2UvZWFzZSc7XG5cbnZhciBUaHJlZU9iamVjdFZpZXdlcjQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUaHJlZU9iamVjdFZpZXdlcjQoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaHJlZU9iamVjdFZpZXdlcjQpO1xuXG4gICAgY29uc29sZS5sb2coJ1RocmVlSlMgT2JqZWN0IFZpZXdlciBEZW1vJyk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MgPSBuZXcgUmFmUHJvZ3Jlc3MoKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnNjcm9sbExlcnAgPSAwLjM4O1xuICAgIHRoaXMuc2Nyb2xsRWFzZSA9ICdlYXNlSW5RdWFkJztcbiAgICB0aGlzLnJlbmRlcmVyQ29uZmlnID0ge1xuICAgICAgY2xlYXJDb2xvcjogJyNGRkZGRkYnLFxuICAgICAgYmFja2dyb3VuZEFscGhhOiAxLjBcbiAgICB9O1xuICAgIHRoaXMuZ3VpID0gbmV3IERhdGd1aWYoe1xuICAgICAgbG9hZDogSlNPTlxuICAgIH0pO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignU2V0dGluZ3MnKS5vcGVuKCk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdSZW5kZXJlcicsICdTZXR0aW5ncycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignQ2FtZXJhJywgJ1NldHRpbmdzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdTY3JvbGwnLCAnU2V0dGluZ3MnKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ0xpZ2h0cycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignT2JqZWN0cycpO1xuICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdTY3JvbGwnLCB0aGlzLCBbe1xuICAgICAga2V5TmFtZTogJ3Njcm9sbExlcnAnLFxuICAgICAgbWluOiAwLFxuICAgICAgbWF4OiAxLFxuICAgICAgc3RlcDogMC4wMVxuICAgIH0sIHtcbiAgICAgIGtleU5hbWU6ICdzY3JvbGxFYXNlJyxcbiAgICAgIG9wdGlvbnM6IFsnbGluZWFyJywgJ2Vhc2VPdXRRdWFkJywgJ2Vhc2VJblF1YWQnXVxuICAgIH1dKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhldmVudCkge1xuICAgICAgICBfdGhpcy5wcm9ncmVzcyA9IGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KF90aGlzLnBhcmVudEVsZW1lbnQsIHdpbmRvdy5pbm5lckhlaWdodCk7IC8vICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMC4yNiwgRUFTRS5lYXNlSW5PdXRFeHBvKTtcbiAgICAgICAgLy8gICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjA4LCBFQVNFLmxpbmVhcik7XG5cbiAgICAgICAgX3RoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKF90aGlzLnByb2dyZXNzLCBfdGhpcy5zY3JvbGxMZXJwLCBFQVNFW190aGlzLnNjcm9sbEVhc2VdKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLmd1aS5vblVwZGF0ZShmdW5jdGlvbiAocHJvcCkge1xuICAgICAgX3RoaXMuZHJhdygpO1xuICAgIH0pO1xuICAgIHZhciBsb2FkZXIgPSBuZXcgR0xURkxvYWRlcigpOyAvLyBjb25zdCBwYXRoID0gJ2h0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvbW9kZWxzL2dsdGYvRGFtYWdlZEhlbG1ldC9nbFRGL0RhbWFnZWRIZWxtZXQuZ2x0Zic7XG4gICAgLy8gY29uc3QgcGF0aCA9ICcuL3B1YmxpYy9kdWRlLmdsYic7XG5cbiAgICB2YXIgcGF0aCA9ICcuL3B1YmxpYy9ob21lL2hvbWUzLmdsdGYnO1xuICAgIGxvYWRlci5sb2FkKHBhdGgsIGZ1bmN0aW9uIChnbHRmKSB7XG4gICAgICB2YXIgZ2x0ZkRhdGEgPSBnbHRmLnBhcnNlci5qc29uO1xuXG4gICAgICB2YXIgZ2V0Tm9kZUJ5TmFtZSA9IGZ1bmN0aW9uIGdldE5vZGVCeU5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gZ2x0ZkRhdGEubm9kZXMuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgcmV0dXJuIG5vZGUubmFtZSA9IG5hbWU7XG4gICAgICAgIH0pWzBdO1xuICAgICAgfTtcblxuICAgICAgY29uc29sZS5sb2coZ2x0ZkRhdGEpO1xuICAgICAgX3RoaXMuY2xvY2sgPSBuZXcgVEhSRUUuQ2xvY2soKTtcbiAgICAgIHZhciBzY2VuZSA9IGdsdGYuc2NlbmVzWzBdO1xuICAgICAgX3RoaXMuYWN0aXZlU2NlbmUgPSBzY2VuZTtcbiAgICAgIF90aGlzLmFuaW1hdGlvbnMgPSBnbHRmLmFuaW1hdGlvbnM7IC8vIEFuaW1hdGlvbiBNaXhlcuOCpOODs+OCueOCv+ODs+OCueOCkueUn+aIkFxuXG4gICAgICBfdGhpcy5taXhlciA9IG5ldyBUSFJFRS5BbmltYXRpb25NaXhlcihzY2VuZSk7IC8v5YWo44Gm44GuQW5pbWF0aW9uIENsaXDjgavlr77jgZfjgaZcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5hbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhbmltYXRpb24gPSBfdGhpcy5hbmltYXRpb25zW2ldOyAvL0FuaW1hdGlvbiBBY3Rpb27jgpLnlJ/miJBcblxuICAgICAgICB2YXIgYWN0aW9uID0gX3RoaXMubWl4ZXIuY2xpcEFjdGlvbihhbmltYXRpb24pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdhZGRlZCcsIGFuaW1hdGlvbik7XG4gICAgICAgIGFjdGlvbi5wbGF5KCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNjZW5lLmFkZChzY2VuZSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKF90aGlzLm1peGVyKTsgLy8gaHR0cDovL2xlYXJuaW5ndGhyZWVqcy5jb20vYmxvZy8yMDEyLzAxLzIwL2Nhc3Rpbmctc2hhZG93cy9cblxuICAgICAgX3RoaXMuc2NlbmUudHJhdmVyc2UoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLkxpZ2h0KSB7XG4gICAgICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdsaWdodCcsIGNoaWxkKTtcbiAgICAgICAgICB2YXIgc2hhZG93RW5hYmxlZExpZ2h0cyA9IFsnUG9pbnQwMTNfT3JpZW50YXRpb24nLCAnUG9pbnQwMDNfT3JpZW50YXRpb24nXTtcblxuICAgICAgICAgIGlmICh+c2hhZG93RW5hYmxlZExpZ2h0cy5pbmRleE9mKGNoaWxkLm5hbWUpKSB7XG4gICAgICAgICAgICBjaGlsZC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICB9IC8vIERlYnVnZ2luZyBsaWdodCBwb3NpdGlvbnMuXG4gICAgICAgICAgLy8gY2hpbGQuc2hhZG93Q2FtZXJhVmlzaWJsZSA9IGZhbHNlO1xuXG5cbiAgICAgICAgICBpZiAoY2hpbGQuc2hhZG93KSB7XG4gICAgICAgICAgICAvLyBBZGp1c3Qgc2hhZG93IGJpYXMuXG4gICAgICAgICAgICBjaGlsZC5zaGFkb3cuYmlhcyA9IC0wLjAwMjsgLy8gUmVtb3ZlIHRoZSByaWdnZWQgbG9va2luZyBzaGFkb3dzLlxuXG4gICAgICAgICAgICBjaGlsZC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IDEwMjQ7XG4gICAgICAgICAgICBjaGlsZC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSAxMDI0OyAvLyBjaGlsZC5zaGFkb3dEYXJrbmVzcyA9IDAuNTtcbiAgICAgICAgICAgIC8vIGNoaWxkLnNoYWRvdy5jYW1lcmEubmVhciA9IDA7XG4gICAgICAgICAgICAvLyBjaGlsZC5zaGFkb3cuY2FtZXJhLmZhciA9IDEwMDA7XG4gICAgICAgICAgICAvLyB2YXIgaGVscGVyID0gbmV3IFRIUkVFLkNhbWVyYUhlbHBlciggY2hpbGQuc2hhZG93LmNhbWVyYSApO1xuICAgICAgICAgICAgLy8gc2NlbmUuYWRkKCBoZWxwZXIgKTtcbiAgICAgICAgICB9IC8vIFBvaW50IGxpZ2h0cyBhcmUgZGVmaW5lZCBpbiB3YXR0cyB3aGljaCBnb2VzIHdhYXkgb2ZmIGluIHRocmVlLmpzXG5cblxuICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLlBvaW50TGlnaHQpIHtcbiAgICAgICAgICAgIGNoaWxkLmludGVuc2l0eSA9IGNoaWxkLmludGVuc2l0eSAqIDAuMDE7XG4gICAgICAgICAgfSAvLyBJZiBpdCdzIGEgc3BvdCBsaWdodCwgaXQgbmVlZHMgdG8gZ28gZG93biBldmVuIG1vcmUuXG5cblxuICAgICAgICAgIGlmIChjaGlsZC50eXBlID09IFwiU3BvdExpZ2h0XCIpIHtcbiAgICAgICAgICAgIGNoaWxkLmludGVuc2l0eSA9IGNoaWxkLmludGVuc2l0eSAqIDAuMDAxO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzLmd1aS5hZGRGb2xkZXIoY2hpbGQubmFtZSwgJ0xpZ2h0cycpO1xuXG4gICAgICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKGNoaWxkLm5hbWUsIGNoaWxkLCBbe1xuICAgICAgICAgICAga2V5TmFtZTogJ2Nhc3RTaGFkb3cnXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5TmFtZTogJ2ludGVuc2l0eScsXG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBtYXg6IDMwMDBcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXlOYW1lOiAnY29sb3InXG4gICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgaWYgKGNoaWxkLnNoYWRvdykge1xuICAgICAgICAgICAgdmFyIHNoYWRvd0ZvbGRlcklkID0gY2hpbGQubmFtZSArICcgc2hhZG93JztcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoaWxkLnNoYWRvdyk7XG5cbiAgICAgICAgICAgIF90aGlzLmd1aS5hZGRGb2xkZXIoc2hhZG93Rm9sZGVySWQsIGNoaWxkLm5hbWUpO1xuXG4gICAgICAgICAgICBfdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoc2hhZG93Rm9sZGVySWQsIGNoaWxkLnNoYWRvdywgW3tcbiAgICAgICAgICAgICAga2V5TmFtZTogJ2JpYXMnLFxuICAgICAgICAgICAgICBtaW46IC0xLFxuICAgICAgICAgICAgICBtYXg6IDEsXG4gICAgICAgICAgICAgIHN0ZXA6IDAuMDAwMDFcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAga2V5TmFtZTogJ3JhZGl1cycsXG4gICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgbWF4OiAxMDAsXG4gICAgICAgICAgICAgIHN0ZXA6IDAuMDFcbiAgICAgICAgICAgIH1dKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5NZXNoKSB7XG4gICAgICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IHRydWU7IC8vIGNoaWxkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKHRydWUpO1xuXG4gICAgICAgICAgX3RoaXMuZ3VpLmFkZEZvbGRlcihjaGlsZC5uYW1lLCAnT2JqZWN0cycpO1xuXG4gICAgICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKGNoaWxkLm5hbWUsIGNoaWxkLCBbe1xuICAgICAgICAgICAga2V5TmFtZTogJ2Nhc3RTaGFkb3cnXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5TmFtZTogJ3JlY2VpdmVTaGFkb3cnXG4gICAgICAgICAgfV0pOyAvLyBHZXQgdGhlIGltYWdlIG1hcHBpbmdzLlxuICAgICAgICAgIC8vIGlmKGNoaWxkLm1hdGVyaWFsICYmIGNoaWxkLm1hdGVyaWFsLm1hcCkge1xuICAgICAgICAgIC8vICAgY2hpbGQubWF0ZXJpYWwubWFwLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAvLyB9XG5cbiAgICAgICAgfSBlbHNlIHt9IC8vIGlmKGNoaWxkLm5hbWUuc3RhcnRzV2l0aCgnQ3ViZTAwMycpKSB7XG4gICAgICAgIC8vICAgICBjaGlsZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBGaXggZXllc1xuXG5cbiAgICAgICAgaWYgKGNoaWxkLm5hbWUuc3RhcnRzV2l0aCgnUGxhbmUnKSkge1xuICAgICAgICAgIGNoaWxkLmNhc3RTaGFkb3cgPSBmYWxzZTtcbiAgICAgICAgICBjaGlsZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7IC8vIFNldCB0aGUgY2FtZXJhIGV4cG9ydGVkIGluIGdsdGYuXG4gICAgICAvLyBSZXF1aXJlcyBjYW1lcmEgdG8gYmUgZXhwb3J0ZWQgZm9yIGdsdGYuXG5cblxuICAgICAgX3RoaXMuY2FtZXJhID0gZ2x0Zi5jYW1lcmFzWzBdO1xuICAgICAgY29uc29sZS5sb2coX3RoaXMuY2FtZXJhKTtcblxuICAgICAgX3RoaXMucmVzaXplKCk7IC8vIFVzZSBmb2cgdG8gY292ZXIgZmFyIGRpc3RhbmNlcy5cblxuXG4gICAgICB2YXIgY29sb3IgPSAweEZGRkZGRjtcbiAgICAgIF90aGlzLnNjZW5lLmZvZyA9IG5ldyBUSFJFRS5Gb2coY29sb3IsIDIwLCAyNCk7IC8vIEVuYWJsZSBzaGFkb3dzLlxuICAgICAgLy8gaHR0cHM6Ly90aHJlZWpzLm9yZy9kb2NzLyNhcGkvZW4vY29uc3RhbnRzL1JlbmRlcmVyXG5cbiAgICAgIF90aGlzLnJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTsgLy8gVG8gYW50aWFsaWFzIHRoZSBzaGFkb3dcblxuICAgICAgX3RoaXMucmVuZGVyZXIuc2hhZG93TWFwLnR5cGUgPSBUSFJFRS5QQ0ZTb2Z0U2hhZG93TWFwO1xuICAgICAgX3RoaXMucmVuZGVyZXIuZ2FtbWFPdXRwdXQgPSB0cnVlO1xuICAgICAgX3RoaXMucmVuZGVyZXIuZ2FtbWFGYWN0b3IgPSAyLjI7IC8vIEltcG9ydGFudCB0byBnZXQgdGhlIGNvcnJlY3QgY29sb3JzLlxuXG4gICAgICBfdGhpcy5yZW5kZXJlci5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cyA9IHRydWU7IC8vIEJhY2tncm91bmQgYXMgYmxhY2suXG4gICAgICAvLyB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHg0Mjg3ZjUpO1xuXG4gICAgICBfdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKF90aGlzLnJlbmRlcmVyQ29uZmlnLmNsZWFyQ29sb3IsIF90aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7IC8vIEFmZmVjdHMgaG93IHN0cm9uZ2x5IGxpZ2h0cyBjb21lIGV4cG9zZWQuXG4gICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2V4YW1wbGVzLyN3ZWJnbF90b25lbWFwcGluZ1xuXG5cbiAgICAgIF90aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSAxOyAvLyB0aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nID0gVEhSRUUuQUNFU0ZpbG1pY1RvbmVNYXBwaW5nO1xuXG4gICAgICBfdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1JlbmRlcmVyJywgX3RoaXMucmVuZGVyZXIsIFt7XG4gICAgICAgIGtleU5hbWU6ICd0b25lTWFwcGluZ0V4cG9zdXJlJyxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDUsXG4gICAgICAgIHN0ZXA6IDAuMDFcbiAgICAgIH1dKTtcblxuICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdSZW5kZXJlcicsIF90aGlzLnJlbmRlcmVyQ29uZmlnLCBbe1xuICAgICAgICBrZXlOYW1lOiAnY2xlYXJDb2xvcicsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICBfdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKF90aGlzLnJlbmRlcmVyQ29uZmlnLmNsZWFyQ29sb3IsIF90aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ2JhY2tncm91bmRBbHBoYScsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICBfdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKF90aGlzLnJlbmRlcmVyQ29uZmlnLmNsZWFyQ29sb3IsIF90aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7XG4gICAgICAgIH1cbiAgICAgIH1dKTtcblxuICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdDYW1lcmEnLCBfdGhpcy5jYW1lcmEsIFt7XG4gICAgICAgIGtleU5hbWU6ICdmb3YnLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogNTAsXG4gICAgICAgIHN0ZXA6IDAuMDEsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICBfdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleU5hbWU6ICd6b29tJyxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDEwLFxuICAgICAgICBzdGVwOiAwLjAwMDEsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICBfdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICB9XSk7XG5cbiAgICAgIF90aGlzLmd1aS5hZGRGb2xkZXIoJ0dlbmVyYWwgTGlnaHRzJyk7XG5cbiAgICAgIF90aGlzLmdlbmVyYWxMaWdodENvbmZpZyA9IHtcbiAgICAgICAgYW1iaWVudExpZ2h0Q29sb3I6ICcjRkZGRkZGJyxcbiAgICAgICAgYW1iaWVudExpZ2h0QWxwaGE6IDEuMlxuICAgICAgfTsgLy8gQWRkaXRpb25hbCBsaWdodGluZyBvdXRzaWRlIHRoZSBibGVuZGVyLlxuICAgICAgLy8gdmFyIGxpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodCggMHhmZmZmYmIsIDB4ZmZmZmZmLCAxICk7XG4gICAgICAvLyB0aGlzLnNjZW5lLmFkZCggbGlnaHQgKTtcblxuICAgICAgX3RoaXMuYW1iaWVudExpZ2h0ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodChfdGhpcy5nZW5lcmFsTGlnaHRDb25maWcuYW1iaWVudExpZ2h0Q29sb3IpO1xuICAgICAgX3RoaXMuYW1iaWVudExpZ2h0LmludGVuc2l0eSA9IF90aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRBbHBoYTtcbiAgICAgIHNjZW5lLmFkZChfdGhpcy5hbWJpZW50TGlnaHQpO1xuXG4gICAgICBfdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ0dlbmVyYWwgTGlnaHRzJywgX3RoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLCBbe1xuICAgICAgICBrZXlOYW1lOiAnYW1iaWVudExpZ2h0Q29sb3InLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMuYW1iaWVudExpZ2h0LmNvbG9yID0gbmV3IFRIUkVFLkNvbG9yKF90aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRDb2xvcik7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ2FtYmllbnRMaWdodEFscGhhJyxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIF90aGlzLmFtYmllbnRMaWdodC5pbnRlbnNpdHkgPSBfdGhpcy5nZW5lcmFsTGlnaHRDb25maWcuYW1iaWVudExpZ2h0QWxwaGE7XG4gICAgICAgIH1cbiAgICAgIH1dKTtcblxuICAgICAgdmFyIHdpZHRoID0gNTA7XG4gICAgICB2YXIgaGVpZ2h0ID0gNTA7XG4gICAgICB2YXIgaW50ZW5zaXR5ID0gMDtcbiAgICAgIHZhciByZWN0TGlnaHQgPSBuZXcgVEhSRUUuUmVjdEFyZWFMaWdodCgnI0ZGRkZGRicsIGludGVuc2l0eSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICByZWN0TGlnaHQucG9zaXRpb24uc2V0KDAsIDAsIDI1KTsgLy8gcmVjdExpZ2h0Lmxvb2tBdCggMCwgMCwgMCApO1xuXG4gICAgICBfdGhpcy5zY2VuZS5hZGQocmVjdExpZ2h0KTtcblxuICAgICAgcmVjdExpZ2h0SGVscGVyID0gbmV3IFRIUkVFLlJlY3RBcmVhTGlnaHRIZWxwZXIocmVjdExpZ2h0KTtcbiAgICAgIHJlY3RMaWdodC5hZGQocmVjdExpZ2h0SGVscGVyKTtcblxuICAgICAgX3RoaXMuZ3VpLmFkZEJ1dHRvbignUmVmcmVzaCcsIF90aGlzLnJlZnJlc2guYmluZChfdGhpcykpO1xuICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe1xuICAgICAgYW50aWFsaWFzOiB0cnVlLFxuICAgICAgLy8gcHJlY2lzaW9uOiAnaGlnaHAnXG4gICAgICBhdXRvU2l6ZTogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuY29tcG9zZXIgPSBuZXcgRWZmZWN0Q29tcG9zZXIodGhpcy5yZW5kZXJlcik7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUuYmluZCh0aGlzKSwgZmFsc2UpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRocmVlT2JqZWN0Vmlld2VyNCwgW3tcbiAgICBrZXk6IFwicmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHtcbiAgICAgIHRoaXMucHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAxLCBFQVNFLkxpbmVhcik7XG4gICAgICB0aGlzLndpZHRoID0gdGhpcy5jYW52YXNDb250YWluZXIucGFyZW50RWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5jYW52YXNDb250YWluZXIucGFyZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kb25tY2N1cmR5L3RocmVlLWdsdGYtdmlld2VyL2Jsb2IvbWFzdGVyL3NyYy92aWV3ZXIuanNcbiAgICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL2NvbnN0YW50cy9SZW5kZXJlclxuXG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTsgLy8gUG9zdCBwcm9jZXNzaW5nXG4gICAgICAvLyB0aGlzLmNvbXBvc2VyLnNldFNpemUoIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgIC8vIGNvbnN0IGZ4YWFQYXNzID0gbmV3IFNoYWRlclBhc3MoIEZYQUFTaGFkZXIgKTtcbiAgICAgIC8vIGZ4YWFQYXNzLm1hdGVyaWFsLnVuaWZvcm1zWyAncmVzb2x1dGlvbicgXS52YWx1ZS54ID0gMSAvICggdGhpcy53aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgIC8vIGZ4YWFQYXNzLm1hdGVyaWFsLnVuaWZvcm1zWyAncmVzb2x1dGlvbicgXS52YWx1ZS55ID0gMSAvICggdGhpcy5oZWlnaHQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAvLyB0aGlzLmNvbXBvc2VyLmFkZFBhc3MoZnhhYVBhc3MpO1xuICAgICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKG5ldyBSZW5kZXJQYXNzKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKSk7XG4gICAgICAvLyB2YXIgYmxvb21QYXNzID0gbmV3IFVucmVhbEJsb29tUGFzcygxLCAyNSwgNSwgMjU2KTtcbiAgICAgIC8vIHRoaXMuY29tcG9zZXIuYWRkUGFzcyhibG9vbVBhc3MpO1xuICAgICAgLy8gVGhlIGNhbWVyYSBhc3BlY3QgZ29lcyBvZmYgc2luY2UgaXQgY291bGQgYmUgZXhwb3J0ZWQgYXQgYSBkaWZmZXJlbnRcbiAgICAgIC8vIHJhdGlvLiAgRm9yY2UgdXBkYXRlIHRoZSBhc3BlY3QgcmF0aW8uXG5cbiAgICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHRoaXMud2lkdGggLyB0aGlzLmhlaWdodDtcbiAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVmcmVzaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWZyZXNoKCkge1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKHRoaXMucmVuZGVyZXJDb25maWcuY2xlYXJDb2xvciwgdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpO1xuICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICAgIHRoaXMuZHJhdygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRBbmltYXRpb25CeU5hbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QW5pbWF0aW9uQnlOYW1lKG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChhbmltYXRpb25DbGlwKSB7XG4gICAgICAgIHJldHVybiBhbmltYXRpb25DbGlwLm5hbWUgPT0gbmFtZTtcbiAgICAgIH0pWzBdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRPYmplY3RCeU5hbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T2JqZWN0QnlOYW1lKG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmFjdGl2ZVNjZW5lLmNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbiAob2JqZWN0M2QpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDNkLm5hbWUgPT0gbmFtZTtcbiAgICAgIH0pWzBdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblByb2dyZXNzVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUHJvZ3Jlc3NVcGRhdGUocHJvZ3Jlc3MpIHtcbiAgICAgIC8vQW5pbWF0aW9uIE1peGVy44KS5a6f6KGMXG4gICAgICBpZiAodGhpcy5taXhlcikge1xuICAgICAgICAvLyBXZSBuZWVkIHRvIGZpbmQgb3V0IGhvdyBsb25nIHRoZSBhbmltYXRpb24gaXMuXG4gICAgICAgIC8vIFRoZSBtaXhlciBhcHBlYXJzIHRvIGhhdmUgbm8ga25vd2xlZGdlIG9mdCB0aGlzIHNvIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gbG9vayB1cCBhIHNwZWNpZmljIGFuaW1hdGlvbiBhbmQgZ2V0IHRoZSBkdXJhdGlvbiB0b1xuICAgICAgICAvLyBnZXQgdGhlIHRvdGFsIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICAgIHZhciBjYW1lcmFBbmltYXRpb24gPSB0aGlzLmdldEFuaW1hdGlvbkJ5TmFtZSgnQWN0aW9uJyk7XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IGNhbWVyYUFuaW1hdGlvbi5kdXJhdGlvbjsgLy8gV2hlbiBkdXJhdGlvbiBoaXRzIGl0J3MgbWF4LCBhbmltYXRpb25NaXhlciBzZWVtcyB0byBoaXQgdGhlIGZpcnN0XG4gICAgICAgIC8vIGZyYW1lIHNvIG5leHQgYWxsb3cgaXQgdG8gcmVhY2ggdGhlIG1heCB2YWx1ZS5cblxuICAgICAgICB0aGlzLm1peGVyLnNldFRpbWUoTWF0aC5taW4oZHVyYXRpb24gKiBwcm9ncmVzcywgZHVyYXRpb24gLSAwLjAwMSkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmRyYXcoKTsgLy8gdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgICAgLy8gdGhpcy5jb21wb3Nlci5yZW5kZXIoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZHJhd1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KCkge1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUaHJlZU9iamVjdFZpZXdlcjQ7XG59KCk7XG5cbmV4cG9ydCB7IFRocmVlT2JqZWN0Vmlld2VyNCBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/three-object-viewer4.js\n");

/***/ }),

/***/ "./examples/three-object-viewer5.js":
/*!******************************************!*\
  !*** ./examples/three-object-viewer5.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ThreeObjectViewer5; });\n/* harmony import */ var _lib_datguif_datguif__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/datguif/datguif */ \"./lib/datguif/datguif.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_EffectComposer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer */ \"./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/RenderPass.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_UnrealBloomPass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/postprocessing/UnrealBloomPass.js */ \"./node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js\");\n/* harmony import */ var three_examples_jsm_shaders_FXAAShader_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/shaders/FXAAShader.js */ \"./node_modules/three/examples/jsm/shaders/FXAAShader.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/ShaderPass.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// https://threejs.org/docs/#manual/en/introduction/Loading-3D-models\n// https://threejs.org/examples/#webgl_loader_gltf\n// https://gist.github.com/bellbind/c4f8c502fcacbe29422e5ac315273858\n// https://github.com/funwithtriangles/blender-to-threejs-export-guide/blob/master/readme.md\n// https://threejsfundamentals.org/threejs/lessons/threejs-load-gltf.html\n// https://discoverthreejs.com/book/first-steps/load-models/\n// https://www.pentacreation.com/blog/2019/09/190916.html\n// https://www.pentacreation.com/blog/2019/10/191016.html\n// https://docs.blender.org/manual/ja/latest/addons/io_scene_gltf2.html\n// https://gltf-viewer.donmccurdy.com/\n// https://github.com/donmccurdy/three-gltf-viewer\n\n\n\n\n\n\n\n // import { Raf } from '../lib/raf/raf';\n\n\n\n\n\n\nvar ThreeObjectViewer5 = /*#__PURE__*/function () {\n  function ThreeObjectViewer5() {\n    var _this = this;\n\n    _classCallCheck(this, ThreeObjectViewer5);\n\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_8__[\"DomWatcher\"]();\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_9__[\"RafProgress\"]();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.scrollLerp = 0.38;\n    this.scrollEase = 'easeInQuad';\n    this.rendererConfig = {\n      clearColor: '#FFFFFF',\n      backgroundAlpha: 1.0\n    };\n    this.gui = new _lib_datguif_datguif__WEBPACK_IMPORTED_MODULE_0__[\"Datguif\"]({\n      load: JSON\n    });\n    this.gui.addFolder('Settings').open();\n    this.gui.addFolder('Renderer', 'Settings');\n    this.gui.addFolder('Camera', 'Settings');\n    this.gui.addFolder('Scroll', 'Settings');\n    this.gui.addFolder('Lights');\n    this.gui.addFolder('Objects');\n    this.gui.addObjectToFolder('Scroll', this, [{\n      keyName: 'scrollLerp',\n      min: 0,\n      max: 1,\n      step: 0.01\n    }, {\n      keyName: 'scrollEase',\n      options: ['linear', 'easeOutQuad', 'easeInQuad']\n    }]);\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__[\"dom\"].getElementScrolledPercent(_this.parentElement, window.innerHeight); //   this.rafProgress.easeTo(this.progress, 0.26, EASE.easeInOutExpo);\n        //   this.rafProgress.easeTo(this.progress, 0.08, EASE.linear);\n\n        _this.rafProgress.easeTo(_this.progress, _this.scrollLerp, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__[\"EASE\"][_this.scrollEase]);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_1__[\"Scene\"]();\n    this.gui.onUpdate(function (prop) {\n      _this.draw();\n    });\n    var loader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_2__[\"GLTFLoader\"]();\n    var path = './public/home/demo.gltf';\n    loader.load(path, function (gltf) {\n      var gltfData = gltf.parser.json;\n\n      var getNodeByName = function getNodeByName(name) {\n        return gltfData.nodes.filter(function (node) {\n          return node.name = name;\n        })[0];\n      };\n\n      console.log('gltf data', gltfData);\n      _this.clock = new three__WEBPACK_IMPORTED_MODULE_1__[\"Clock\"]();\n      var scene = gltf.scenes[0];\n      _this.activeScene = scene;\n      _this.animations = gltf.animations; // Animation Mixer\n\n      _this.mixer = new three__WEBPACK_IMPORTED_MODULE_1__[\"AnimationMixer\"](scene); //Animation Clip\n\n      for (var i = 0; i < _this.animations.length; i++) {\n        var animation = _this.animations[i]; //Animation Action\n\n        var action = _this.mixer.clipAction(animation);\n\n        console.log('added', animation);\n        action.play();\n      }\n\n      _this.scene.add(scene);\n\n      console.log('scene', scene);\n      console.log('mixer', _this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      _this.scene.traverse(function (child) {\n        if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"Light\"]) {\n          // child.castShadow = false;\n          // console.log('light', child);\n          var shadowEnabledLights = ['Point013_Orientation', 'Point003_Orientation'];\n\n          if (~shadowEnabledLights.indexOf(child.name)) {\n            child.castShadow = true;\n          } // Debugging light positions.\n          // child.shadowCameraVisible = false;\n\n\n          if (child.shadow) {// Adjust shadow bias.\n            // child.shadow.bias = -0.002;\n            // Remove the rigged looking shadows.\n            // child.shadow.mapSize.width = 1024;\n            // child.shadow.mapSize.height = 1024;\n            // child.shadowDarkness = 0.5;\n            // child.shadow.camera.near = 0;\n            // child.shadow.camera.far = 1000;\n            // var helper = new THREE.CameraHelper( child.shadow.camera );\n            // scene.add( helper );\n          } // Point lights are defined in watts which goes waay off in three.js\n\n\n          if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"PointLight\"]) {\n            child.intensity = child.intensity * 0.01;\n          } // If it's a spot light, it needs to go down even more.\n\n\n          if (child.type == \"SpotLight\") {\n            child.intensity = child.intensity * 0.001;\n          } // No lights.\n\n\n          child.intensity = 0;\n\n          _this.gui.addFolder(child.name, 'Lights');\n\n          _this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'intensity',\n            min: 0,\n            max: 3000\n          }, {\n            keyName: 'color'\n          }]);\n\n          if (child.shadow) {\n            var shadowFolderId = child.name + ' shadow'; // console.log(child.shadow);\n\n            _this.gui.addFolder(shadowFolderId, child.name);\n\n            _this.gui.addObjectToFolder(shadowFolderId, child.shadow, [{\n              keyName: 'bias',\n              min: -1,\n              max: 1,\n              step: 0.00001\n            }, {\n              keyName: 'radius',\n              min: 0,\n              max: 100,\n              step: 0.01\n            }]);\n          }\n        } else if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"Mesh\"]) {\n          // child.castShadow = true;\n          // child.receiveShadow = true;\n          // child.geometry.computeVertexNormals(true);\n          console.log('mesh', child);\n\n          _this.gui.addFolder(child.name, 'Objects');\n\n          _this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'receiveShadow'\n          }]);\n\n          if (child.material) {\n            var materialId = child.name + ' material';\n\n            _this.gui.addFolder(materialId, child.name);\n\n            _this.gui.addObjectToFolder(materialId, child.material, [{\n              keyName: 'emissiveIntensity',\n              min: 0,\n              max: 1\n            }, {\n              keyName: 'flatShading',\n              callback: function callback() {\n                child.material.needsUpdate = true;\n              }\n            }, {\n              keyName: 'wireframe',\n              callback: function callback() {\n                child.material.needsUpdate = true;\n              }\n            }]); // Enable smooth shading.\n            // child.material.flatShading = false;\n            // child.material.wireframe = false;\n            // child.material.needsUpdate = true;\n            // child.geometry.computeFaceNormals();\n            // child.geometry.computeVertexNormals(true);\n\n          } // Get the image mappings.\n          // if(child.material && child.material.map) {\n          //   child.material.map.needsUpdate = true;\n          // }\n\n        } else {\n          console.log('other', child);\n        }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n\n      _this.camera = gltf.cameras[0];\n      console.log('camera', _this.camera);\n\n      _this.resize(); // Use fog to cover far distances.\n\n\n      var color = 0xFFFFFF;\n      _this.scene.fog = new three__WEBPACK_IMPORTED_MODULE_1__[\"Fog\"](color, 20, 24); // Enable shadows.\n      // https://threejs.org/docs/#api/en/constants/Renderer\n      // this.renderer.shadowMap.enabled = true;\n      // To antialias the shadow\n      // this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\n      _this.renderer.gammaOutput = true;\n      _this.renderer.gammaFactor = 2.2; // Important to get the correct colors.\n      // this.renderer.physicallyCorrectLights = true;\n      // Background as black.\n      // this.renderer.setClearColor(0x4287f5);\n\n      _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha); // Affects how strongly lights come exposed.\n      // https://threejs.org/examples/#webgl_tonemapping\n\n\n      _this.renderer.toneMappingExposure = 1.7; // this.renderer.toneMappingExposure = 0.6;\n      // this.renderer.toneMapping = THREE.ACESFilmicToneMapping;\n\n      _this.gui.addObjectToFolder('Renderer', _this.renderer, [{\n        keyName: 'toneMappingExposure',\n        min: 0,\n        max: 5,\n        step: 0.01\n      }]);\n\n      _this.gui.addObjectToFolder('Renderer', _this.rendererConfig, [{\n        keyName: 'clearColor',\n        callback: function callback() {\n          _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha);\n        }\n      }, {\n        keyName: 'backgroundAlpha',\n        callback: function callback() {\n          _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha);\n        }\n      }]);\n\n      _this.gui.addObjectToFolder('Camera', _this.camera, [{\n        keyName: 'fov',\n        min: 0,\n        max: 50,\n        step: 0.01,\n        callback: function callback() {\n          _this.camera.updateProjectionMatrix();\n        }\n      }, {\n        keyName: 'zoom',\n        min: 0,\n        max: 10,\n        step: 0.0001,\n        callback: function callback() {\n          _this.camera.updateProjectionMatrix();\n        }\n      }]);\n\n      _this.gui.addFolder('General Lights');\n\n      _this.generalLightConfig = {\n        ambientLightColor: '#FFFFFF',\n        ambientLightAlpha: 1\n      }; // Additional lighting outside the blender.\n      // var light = new THREE.HemisphereLight( 0xffffbb, 0xffffff, 1 );\n      // this.scene.add( light );\n\n      _this.ambientLight = new three__WEBPACK_IMPORTED_MODULE_1__[\"AmbientLight\"](_this.generalLightConfig.ambientLightColor);\n      _this.ambientLight.intensity = _this.generalLightConfig.ambientLightAlpha;\n      scene.add(_this.ambientLight);\n\n      _this.gui.addObjectToFolder('General Lights', _this.generalLightConfig, [{\n        keyName: 'ambientLightColor',\n        callback: function callback() {\n          _this.ambientLight.color = new three__WEBPACK_IMPORTED_MODULE_1__[\"Color\"](_this.generalLightConfig.ambientLightColor);\n        }\n      }, {\n        keyName: 'ambientLightAlpha',\n        callback: function callback() {\n          _this.ambientLight.intensity = _this.generalLightConfig.ambientLightAlpha;\n        }\n      }]); // var width = 50;\n      // var height = 50;\n      // var intensity = 0;\n      // var rectLight = new THREE.RectAreaLight('#FFFFFF', intensity,  width, height );\n      // rectLight.position.set( 0, 0, 25 );\n      // // rectLight.lookAt( 0, 0, 0 );\n      // this.scene.add( rectLight );\n      // rectLightHelper = new THREE.RectAreaLightHelper( rectLight );\n      // rectLight.add( rectLightHelper );\n\n\n      _this.gui.addButton('Refresh', _this.refresh.bind(_this));\n    }, undefined, function (error) {\n      console.error(error);\n    });\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_1__[\"WebGLRenderer\"]({\n      antialias: true,\n      // precision: 'highp'\n      autoSize: true\n    });\n    this.composer = new three_examples_jsm_postprocessing_EffectComposer__WEBPACK_IMPORTED_MODULE_3__[\"EffectComposer\"](this.renderer);\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  _createClass(ThreeObjectViewer5, [{\n    key: \"resize\",\n    value: function resize() {\n      this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__[\"dom\"].getElementScrolledPercent(this.parentElement, window.innerHeight);\n      this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__[\"EASE\"].Linear);\n      this.width = this.canvasContainer.parentElement.offsetWidth;\n      this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      this.renderer.setPixelRatio(window.devicePixelRatio);\n      this.renderer.setSize(this.width, this.height); // Post processing\n      // this.composer.setSize( this.width, this.height);\n      // const fxaaPass = new ShaderPass( FXAAShader );\n      // fxaaPass.material.uniforms[ 'resolution' ].value.x = 1 / ( this.width * window.devicePixelRatio);\n      // fxaaPass.material.uniforms[ 'resolution' ].value.y = 1 / ( this.height * window.devicePixelRatio);\n      // this.composer.addPass(fxaaPass);\n      // this.composer.addPass(new RenderPass(this.scene, this.camera));\n      // var bloomPass = new UnrealBloomPass(1, 25, 5, 256);\n      // this.composer.addPass(bloomPass);\n      // The camera aspect goes off since it could be exported at a different\n      // ratio.  Force update the aspect ratio.\n\n      this.camera.aspect = this.width / this.height;\n      this.camera.updateProjectionMatrix();\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n      this.resize();\n      this.draw();\n    }\n  }, {\n    key: \"getAnimationByName\",\n    value: function getAnimationByName(name) {\n      return this.animations.filter(function (animationClip) {\n        return animationClip.name == name;\n      })[0];\n    }\n  }, {\n    key: \"getObjectByName\",\n    value: function getObjectByName(name) {\n      return this.activeScene.children.filter(function (object3d) {\n        return object3d.name == name;\n      })[0];\n    }\n  }, {\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(progress) {\n      //Animation Mixer\n      if (this.mixer) {\n        // We need to find out how long the animation is.\n        // The mixer appears to have no knowledge oft this so we need to\n        // look up a specific animation and get the duration to\n        // get the total duration of the animation.\n        var cameraAnimation = this.getAnimationByName('Action.001');\n        var duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n        // frame so next allow it to reach the max value.\n\n        this.mixer.setTime(Math.min(duration * progress, duration - 0.001));\n      }\n\n      this.draw(); // this.renderer.render(this.scene, this.camera);\n      // this.composer.render();\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return ThreeObjectViewer5;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyNS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLW9iamVjdC12aWV3ZXI1LmpzP2Y4OTYiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI21hbnVhbC9lbi9pbnRyb2R1Y3Rpb24vTG9hZGluZy0zRC1tb2RlbHNcbi8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX2xvYWRlcl9nbHRmXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9iZWxsYmluZC9jNGY4YzUwMmZjYWNiZTI5NDIyZTVhYzMxNTI3Mzg1OFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Z1bndpdGh0cmlhbmdsZXMvYmxlbmRlci10by10aHJlZWpzLWV4cG9ydC1ndWlkZS9ibG9iL21hc3Rlci9yZWFkbWUubWRcbi8vIGh0dHBzOi8vdGhyZWVqc2Z1bmRhbWVudGFscy5vcmcvdGhyZWVqcy9sZXNzb25zL3RocmVlanMtbG9hZC1nbHRmLmh0bWxcbi8vIGh0dHBzOi8vZGlzY292ZXJ0aHJlZWpzLmNvbS9ib29rL2ZpcnN0LXN0ZXBzL2xvYWQtbW9kZWxzL1xuLy8gaHR0cHM6Ly93d3cucGVudGFjcmVhdGlvbi5jb20vYmxvZy8yMDE5LzA5LzE5MDkxNi5odG1sXG4vLyBodHRwczovL3d3dy5wZW50YWNyZWF0aW9uLmNvbS9ibG9nLzIwMTkvMTAvMTkxMDE2Lmh0bWxcbi8vIGh0dHBzOi8vZG9jcy5ibGVuZGVyLm9yZy9tYW51YWwvamEvbGF0ZXN0L2FkZG9ucy9pb19zY2VuZV9nbHRmMi5odG1sXG4vLyBodHRwczovL2dsdGYtdmlld2VyLmRvbm1jY3VyZHkuY29tL1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rvbm1jY3VyZHkvdGhyZWUtZ2x0Zi12aWV3ZXJcbmltcG9ydCB7IERhdGd1aWYgfSBmcm9tICcuLi9saWIvZGF0Z3VpZi9kYXRndWlmJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyJztcbmltcG9ydCB7IEVmZmVjdENvbXBvc2VyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL0VmZmVjdENvbXBvc2VyJztcbmltcG9ydCB7IFJlbmRlclBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvUmVuZGVyUGFzcy5qcyc7XG5pbXBvcnQgeyBVbnJlYWxCbG9vbVBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvVW5yZWFsQmxvb21QYXNzLmpzJztcbmltcG9ydCB7IEZYQUFTaGFkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vc2hhZGVycy9GWEFBU2hhZGVyLmpzJztcbmltcG9ydCB7IFNoYWRlclBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvU2hhZGVyUGFzcy5qcyc7IC8vIGltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcblxuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuaW1wb3J0IHsgUmFmUHJvZ3Jlc3MgfSBmcm9tICcuLi9saWIvcmFmL3JhZi1wcm9ncmVzcyc7XG5pbXBvcnQgeyBkb20gfSBmcm9tICcuLi9saWIvZG9tL2RvbSc7XG5pbXBvcnQgeyBFQVNFIH0gZnJvbSAnLi4vbGliL2Vhc2UvZWFzZSc7XG5cbnZhciBUaHJlZU9iamVjdFZpZXdlcjUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUaHJlZU9iamVjdFZpZXdlcjUoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaHJlZU9iamVjdFZpZXdlcjUpO1xuXG4gICAgY29uc29sZS5sb2coJ1RocmVlSlMgT2JqZWN0IFZpZXdlciBEZW1vJyk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MgPSBuZXcgUmFmUHJvZ3Jlc3MoKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnNjcm9sbExlcnAgPSAwLjM4O1xuICAgIHRoaXMuc2Nyb2xsRWFzZSA9ICdlYXNlSW5RdWFkJztcbiAgICB0aGlzLnJlbmRlcmVyQ29uZmlnID0ge1xuICAgICAgY2xlYXJDb2xvcjogJyNGRkZGRkYnLFxuICAgICAgYmFja2dyb3VuZEFscGhhOiAxLjBcbiAgICB9O1xuICAgIHRoaXMuZ3VpID0gbmV3IERhdGd1aWYoe1xuICAgICAgbG9hZDogSlNPTlxuICAgIH0pO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignU2V0dGluZ3MnKS5vcGVuKCk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdSZW5kZXJlcicsICdTZXR0aW5ncycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignQ2FtZXJhJywgJ1NldHRpbmdzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdTY3JvbGwnLCAnU2V0dGluZ3MnKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ0xpZ2h0cycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignT2JqZWN0cycpO1xuICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdTY3JvbGwnLCB0aGlzLCBbe1xuICAgICAga2V5TmFtZTogJ3Njcm9sbExlcnAnLFxuICAgICAgbWluOiAwLFxuICAgICAgbWF4OiAxLFxuICAgICAgc3RlcDogMC4wMVxuICAgIH0sIHtcbiAgICAgIGtleU5hbWU6ICdzY3JvbGxFYXNlJyxcbiAgICAgIG9wdGlvbnM6IFsnbGluZWFyJywgJ2Vhc2VPdXRRdWFkJywgJ2Vhc2VJblF1YWQnXVxuICAgIH1dKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhldmVudCkge1xuICAgICAgICBfdGhpcy5wcm9ncmVzcyA9IGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KF90aGlzLnBhcmVudEVsZW1lbnQsIHdpbmRvdy5pbm5lckhlaWdodCk7IC8vICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMC4yNiwgRUFTRS5lYXNlSW5PdXRFeHBvKTtcbiAgICAgICAgLy8gICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjA4LCBFQVNFLmxpbmVhcik7XG5cbiAgICAgICAgX3RoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKF90aGlzLnByb2dyZXNzLCBfdGhpcy5zY3JvbGxMZXJwLCBFQVNFW190aGlzLnNjcm9sbEVhc2VdKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLmd1aS5vblVwZGF0ZShmdW5jdGlvbiAocHJvcCkge1xuICAgICAgX3RoaXMuZHJhdygpO1xuICAgIH0pO1xuICAgIHZhciBsb2FkZXIgPSBuZXcgR0xURkxvYWRlcigpO1xuICAgIHZhciBwYXRoID0gJy4vcHVibGljL2hvbWUvZGVtby5nbHRmJztcbiAgICBsb2FkZXIubG9hZChwYXRoLCBmdW5jdGlvbiAoZ2x0Zikge1xuICAgICAgdmFyIGdsdGZEYXRhID0gZ2x0Zi5wYXJzZXIuanNvbjtcblxuICAgICAgdmFyIGdldE5vZGVCeU5hbWUgPSBmdW5jdGlvbiBnZXROb2RlQnlOYW1lKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGdsdGZEYXRhLm5vZGVzLmZpbHRlcihmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIHJldHVybiBub2RlLm5hbWUgPSBuYW1lO1xuICAgICAgICB9KVswXTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnNvbGUubG9nKCdnbHRmIGRhdGEnLCBnbHRmRGF0YSk7XG4gICAgICBfdGhpcy5jbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpO1xuICAgICAgdmFyIHNjZW5lID0gZ2x0Zi5zY2VuZXNbMF07XG4gICAgICBfdGhpcy5hY3RpdmVTY2VuZSA9IHNjZW5lO1xuICAgICAgX3RoaXMuYW5pbWF0aW9ucyA9IGdsdGYuYW5pbWF0aW9uczsgLy8gQW5pbWF0aW9uIE1peGVy44Kk44Oz44K544K/44Oz44K544KS55Sf5oiQXG5cbiAgICAgIF90aGlzLm1peGVyID0gbmV3IFRIUkVFLkFuaW1hdGlvbk1peGVyKHNjZW5lKTsgLy/lhajjgabjga5BbmltYXRpb24gQ2xpcOOBq+WvvuOBl+OBplxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLmFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGFuaW1hdGlvbiA9IF90aGlzLmFuaW1hdGlvbnNbaV07IC8vQW5pbWF0aW9uIEFjdGlvbuOCkueUn+aIkFxuXG4gICAgICAgIHZhciBhY3Rpb24gPSBfdGhpcy5taXhlci5jbGlwQWN0aW9uKGFuaW1hdGlvbik7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ2FkZGVkJywgYW5pbWF0aW9uKTtcbiAgICAgICAgYWN0aW9uLnBsYXkoKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2NlbmUuYWRkKHNjZW5lKTtcblxuICAgICAgY29uc29sZS5sb2coJ3NjZW5lJywgc2NlbmUpO1xuICAgICAgY29uc29sZS5sb2coJ21peGVyJywgX3RoaXMubWl4ZXIpOyAvLyBodHRwOi8vbGVhcm5pbmd0aHJlZWpzLmNvbS9ibG9nLzIwMTIvMDEvMjAvY2FzdGluZy1zaGFkb3dzL1xuXG4gICAgICBfdGhpcy5zY2VuZS50cmF2ZXJzZShmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTGlnaHQpIHtcbiAgICAgICAgICAvLyBjaGlsZC5jYXN0U2hhZG93ID0gZmFsc2U7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ2xpZ2h0JywgY2hpbGQpO1xuICAgICAgICAgIHZhciBzaGFkb3dFbmFibGVkTGlnaHRzID0gWydQb2ludDAxM19PcmllbnRhdGlvbicsICdQb2ludDAwM19PcmllbnRhdGlvbiddO1xuXG4gICAgICAgICAgaWYgKH5zaGFkb3dFbmFibGVkTGlnaHRzLmluZGV4T2YoY2hpbGQubmFtZSkpIHtcbiAgICAgICAgICAgIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIH0gLy8gRGVidWdnaW5nIGxpZ2h0IHBvc2l0aW9ucy5cbiAgICAgICAgICAvLyBjaGlsZC5zaGFkb3dDYW1lcmFWaXNpYmxlID0gZmFsc2U7XG5cblxuICAgICAgICAgIGlmIChjaGlsZC5zaGFkb3cpIHsvLyBBZGp1c3Qgc2hhZG93IGJpYXMuXG4gICAgICAgICAgICAvLyBjaGlsZC5zaGFkb3cuYmlhcyA9IC0wLjAwMjtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgcmlnZ2VkIGxvb2tpbmcgc2hhZG93cy5cbiAgICAgICAgICAgIC8vIGNoaWxkLnNoYWRvdy5tYXBTaXplLndpZHRoID0gMTAyNDtcbiAgICAgICAgICAgIC8vIGNoaWxkLnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IDEwMjQ7XG4gICAgICAgICAgICAvLyBjaGlsZC5zaGFkb3dEYXJrbmVzcyA9IDAuNTtcbiAgICAgICAgICAgIC8vIGNoaWxkLnNoYWRvdy5jYW1lcmEubmVhciA9IDA7XG4gICAgICAgICAgICAvLyBjaGlsZC5zaGFkb3cuY2FtZXJhLmZhciA9IDEwMDA7XG4gICAgICAgICAgICAvLyB2YXIgaGVscGVyID0gbmV3IFRIUkVFLkNhbWVyYUhlbHBlciggY2hpbGQuc2hhZG93LmNhbWVyYSApO1xuICAgICAgICAgICAgLy8gc2NlbmUuYWRkKCBoZWxwZXIgKTtcbiAgICAgICAgICB9IC8vIFBvaW50IGxpZ2h0cyBhcmUgZGVmaW5lZCBpbiB3YXR0cyB3aGljaCBnb2VzIHdhYXkgb2ZmIGluIHRocmVlLmpzXG5cblxuICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLlBvaW50TGlnaHQpIHtcbiAgICAgICAgICAgIGNoaWxkLmludGVuc2l0eSA9IGNoaWxkLmludGVuc2l0eSAqIDAuMDE7XG4gICAgICAgICAgfSAvLyBJZiBpdCdzIGEgc3BvdCBsaWdodCwgaXQgbmVlZHMgdG8gZ28gZG93biBldmVuIG1vcmUuXG5cblxuICAgICAgICAgIGlmIChjaGlsZC50eXBlID09IFwiU3BvdExpZ2h0XCIpIHtcbiAgICAgICAgICAgIGNoaWxkLmludGVuc2l0eSA9IGNoaWxkLmludGVuc2l0eSAqIDAuMDAxO1xuICAgICAgICAgIH0gLy8gTm8gbGlnaHRzLlxuXG5cbiAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSAwO1xuXG4gICAgICAgICAgX3RoaXMuZ3VpLmFkZEZvbGRlcihjaGlsZC5uYW1lLCAnTGlnaHRzJyk7XG5cbiAgICAgICAgICBfdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoY2hpbGQubmFtZSwgY2hpbGQsIFt7XG4gICAgICAgICAgICBrZXlOYW1lOiAnY2FzdFNoYWRvdydcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXlOYW1lOiAnaW50ZW5zaXR5JyxcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIG1heDogMzAwMFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleU5hbWU6ICdjb2xvcidcbiAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICBpZiAoY2hpbGQuc2hhZG93KSB7XG4gICAgICAgICAgICB2YXIgc2hhZG93Rm9sZGVySWQgPSBjaGlsZC5uYW1lICsgJyBzaGFkb3cnOyAvLyBjb25zb2xlLmxvZyhjaGlsZC5zaGFkb3cpO1xuXG4gICAgICAgICAgICBfdGhpcy5ndWkuYWRkRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5uYW1lKTtcblxuICAgICAgICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5zaGFkb3csIFt7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdiaWFzJyxcbiAgICAgICAgICAgICAgbWluOiAtMSxcbiAgICAgICAgICAgICAgbWF4OiAxLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAwMDAxXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdyYWRpdXMnLFxuICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgIG1heDogMTAwLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAxXG4gICAgICAgICAgICB9XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaCkge1xuICAgICAgICAgIC8vIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNoaWxkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKHRydWUpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdtZXNoJywgY2hpbGQpO1xuXG4gICAgICAgICAgX3RoaXMuZ3VpLmFkZEZvbGRlcihjaGlsZC5uYW1lLCAnT2JqZWN0cycpO1xuXG4gICAgICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKGNoaWxkLm5hbWUsIGNoaWxkLCBbe1xuICAgICAgICAgICAga2V5TmFtZTogJ2Nhc3RTaGFkb3cnXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5TmFtZTogJ3JlY2VpdmVTaGFkb3cnXG4gICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgaWYgKGNoaWxkLm1hdGVyaWFsKSB7XG4gICAgICAgICAgICB2YXIgbWF0ZXJpYWxJZCA9IGNoaWxkLm5hbWUgKyAnIG1hdGVyaWFsJztcblxuICAgICAgICAgICAgX3RoaXMuZ3VpLmFkZEZvbGRlcihtYXRlcmlhbElkLCBjaGlsZC5uYW1lKTtcblxuICAgICAgICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKG1hdGVyaWFsSWQsIGNoaWxkLm1hdGVyaWFsLCBbe1xuICAgICAgICAgICAgICBrZXlOYW1lOiAnZW1pc3NpdmVJbnRlbnNpdHknLFxuICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgIG1heDogMVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBrZXlOYW1lOiAnZmxhdFNoYWRpbmcnLFxuICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICd3aXJlZnJhbWUnLFxuICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7IC8vIEVuYWJsZSBzbW9vdGggc2hhZGluZy5cbiAgICAgICAgICAgIC8vIGNoaWxkLm1hdGVyaWFsLmZsYXRTaGFkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBjaGlsZC5tYXRlcmlhbC53aXJlZnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGNoaWxkLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVGYWNlTm9ybWFscygpO1xuICAgICAgICAgICAgLy8gY2hpbGQuZ2VvbWV0cnkuY29tcHV0ZVZlcnRleE5vcm1hbHModHJ1ZSk7XG5cbiAgICAgICAgICB9IC8vIEdldCB0aGUgaW1hZ2UgbWFwcGluZ3MuXG4gICAgICAgICAgLy8gaWYoY2hpbGQubWF0ZXJpYWwgJiYgY2hpbGQubWF0ZXJpYWwubWFwKSB7XG4gICAgICAgICAgLy8gICBjaGlsZC5tYXRlcmlhbC5tYXAubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgIC8vIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdvdGhlcicsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgfSk7IC8vIFNldCB0aGUgY2FtZXJhIGV4cG9ydGVkIGluIGdsdGYuXG4gICAgICAvLyBSZXF1aXJlcyBjYW1lcmEgdG8gYmUgZXhwb3J0ZWQgZm9yIGdsdGYuXG5cblxuICAgICAgX3RoaXMuY2FtZXJhID0gZ2x0Zi5jYW1lcmFzWzBdO1xuICAgICAgY29uc29sZS5sb2coJ2NhbWVyYScsIF90aGlzLmNhbWVyYSk7XG5cbiAgICAgIF90aGlzLnJlc2l6ZSgpOyAvLyBVc2UgZm9nIHRvIGNvdmVyIGZhciBkaXN0YW5jZXMuXG5cblxuICAgICAgdmFyIGNvbG9yID0gMHhGRkZGRkY7XG4gICAgICBfdGhpcy5zY2VuZS5mb2cgPSBuZXcgVEhSRUUuRm9nKGNvbG9yLCAyMCwgMjQpOyAvLyBFbmFibGUgc2hhZG93cy5cbiAgICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL2NvbnN0YW50cy9SZW5kZXJlclxuICAgICAgLy8gdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7XG4gICAgICAvLyBUbyBhbnRpYWxpYXMgdGhlIHNoYWRvd1xuICAgICAgLy8gdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG5cbiAgICAgIF90aGlzLnJlbmRlcmVyLmdhbW1hT3V0cHV0ID0gdHJ1ZTtcbiAgICAgIF90aGlzLnJlbmRlcmVyLmdhbW1hRmFjdG9yID0gMi4yOyAvLyBJbXBvcnRhbnQgdG8gZ2V0IHRoZSBjb3JyZWN0IGNvbG9ycy5cbiAgICAgIC8vIHRoaXMucmVuZGVyZXIucGh5c2ljYWxseUNvcnJlY3RMaWdodHMgPSB0cnVlO1xuICAgICAgLy8gQmFja2dyb3VuZCBhcyBibGFjay5cbiAgICAgIC8vIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcigweDQyODdmNSk7XG5cbiAgICAgIF90aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoX3RoaXMucmVuZGVyZXJDb25maWcuY2xlYXJDb2xvciwgX3RoaXMucmVuZGVyZXJDb25maWcuYmFja2dyb3VuZEFscGhhKTsgLy8gQWZmZWN0cyBob3cgc3Ryb25nbHkgbGlnaHRzIGNvbWUgZXhwb3NlZC5cbiAgICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX3RvbmVtYXBwaW5nXG5cblxuICAgICAgX3RoaXMucmVuZGVyZXIudG9uZU1hcHBpbmdFeHBvc3VyZSA9IDEuNzsgLy8gdGhpcy5yZW5kZXJlci50b25lTWFwcGluZ0V4cG9zdXJlID0gMC42O1xuICAgICAgLy8gdGhpcy5yZW5kZXJlci50b25lTWFwcGluZyA9IFRIUkVFLkFDRVNGaWxtaWNUb25lTWFwcGluZztcblxuICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdSZW5kZXJlcicsIF90aGlzLnJlbmRlcmVyLCBbe1xuICAgICAgICBrZXlOYW1lOiAndG9uZU1hcHBpbmdFeHBvc3VyZScsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiA1LFxuICAgICAgICBzdGVwOiAwLjAxXG4gICAgICB9XSk7XG5cbiAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignUmVuZGVyZXInLCBfdGhpcy5yZW5kZXJlckNvbmZpZywgW3tcbiAgICAgICAga2V5TmFtZTogJ2NsZWFyQ29sb3InLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcihfdGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCBfdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleU5hbWU6ICdiYWNrZ3JvdW5kQWxwaGEnLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcihfdGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCBfdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpO1xuICAgICAgICB9XG4gICAgICB9XSk7XG5cbiAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignQ2FtZXJhJywgX3RoaXMuY2FtZXJhLCBbe1xuICAgICAgICBrZXlOYW1lOiAnZm92JyxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDUwLFxuICAgICAgICBzdGVwOiAwLjAxLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnem9vbScsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiAxMCxcbiAgICAgICAgc3RlcDogMC4wMDAxLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgICAgfVxuICAgICAgfV0pO1xuXG4gICAgICBfdGhpcy5ndWkuYWRkRm9sZGVyKCdHZW5lcmFsIExpZ2h0cycpO1xuXG4gICAgICBfdGhpcy5nZW5lcmFsTGlnaHRDb25maWcgPSB7XG4gICAgICAgIGFtYmllbnRMaWdodENvbG9yOiAnI0ZGRkZGRicsXG4gICAgICAgIGFtYmllbnRMaWdodEFscGhhOiAxXG4gICAgICB9OyAvLyBBZGRpdGlvbmFsIGxpZ2h0aW5nIG91dHNpZGUgdGhlIGJsZW5kZXIuXG4gICAgICAvLyB2YXIgbGlnaHQgPSBuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KCAweGZmZmZiYiwgMHhmZmZmZmYsIDEgKTtcbiAgICAgIC8vIHRoaXMuc2NlbmUuYWRkKCBsaWdodCApO1xuXG4gICAgICBfdGhpcy5hbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KF90aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRDb2xvcik7XG4gICAgICBfdGhpcy5hbWJpZW50TGlnaHQuaW50ZW5zaXR5ID0gX3RoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodEFscGhhO1xuICAgICAgc2NlbmUuYWRkKF90aGlzLmFtYmllbnRMaWdodCk7XG5cbiAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignR2VuZXJhbCBMaWdodHMnLCBfdGhpcy5nZW5lcmFsTGlnaHRDb25maWcsIFt7XG4gICAgICAgIGtleU5hbWU6ICdhbWJpZW50TGlnaHRDb2xvcicsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICBfdGhpcy5hbWJpZW50TGlnaHQuY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoX3RoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodENvbG9yKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnYW1iaWVudExpZ2h0QWxwaGEnLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMuYW1iaWVudExpZ2h0LmludGVuc2l0eSA9IF90aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRBbHBoYTtcbiAgICAgICAgfVxuICAgICAgfV0pOyAvLyB2YXIgd2lkdGggPSA1MDtcbiAgICAgIC8vIHZhciBoZWlnaHQgPSA1MDtcbiAgICAgIC8vIHZhciBpbnRlbnNpdHkgPSAwO1xuICAgICAgLy8gdmFyIHJlY3RMaWdodCA9IG5ldyBUSFJFRS5SZWN0QXJlYUxpZ2h0KCcjRkZGRkZGJywgaW50ZW5zaXR5LCAgd2lkdGgsIGhlaWdodCApO1xuICAgICAgLy8gcmVjdExpZ2h0LnBvc2l0aW9uLnNldCggMCwgMCwgMjUgKTtcbiAgICAgIC8vIC8vIHJlY3RMaWdodC5sb29rQXQoIDAsIDAsIDAgKTtcbiAgICAgIC8vIHRoaXMuc2NlbmUuYWRkKCByZWN0TGlnaHQgKTtcbiAgICAgIC8vIHJlY3RMaWdodEhlbHBlciA9IG5ldyBUSFJFRS5SZWN0QXJlYUxpZ2h0SGVscGVyKCByZWN0TGlnaHQgKTtcbiAgICAgIC8vIHJlY3RMaWdodC5hZGQoIHJlY3RMaWdodEhlbHBlciApO1xuXG5cbiAgICAgIF90aGlzLmd1aS5hZGRCdXR0b24oJ1JlZnJlc2gnLCBfdGhpcy5yZWZyZXNoLmJpbmQoX3RoaXMpKTtcbiAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfSk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcbiAgICAgIGFudGlhbGlhczogdHJ1ZSxcbiAgICAgIC8vIHByZWNpc2lvbjogJ2hpZ2hwJ1xuICAgICAgYXV0b1NpemU6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLmNvbXBvc2VyID0gbmV3IEVmZmVjdENvbXBvc2VyKHRoaXMucmVuZGVyZXIpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUaHJlZU9iamVjdFZpZXdlcjUsIFt7XG4gICAga2V5OiBcInJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNpemUoKSB7XG4gICAgICB0aGlzLnByb2dyZXNzID0gZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50LCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgRUFTRS5MaW5lYXIpO1xuICAgICAgdGhpcy53aWR0aCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0OyAvLyBodHRwczovL2dpdGh1Yi5jb20vZG9ubWNjdXJkeS90aHJlZS1nbHRmLXZpZXdlci9ibG9iL21hc3Rlci9zcmMvdmlld2VyLmpzXG4gICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9jb25zdGFudHMvUmVuZGVyZXJcblxuICAgICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7IC8vIFBvc3QgcHJvY2Vzc2luZ1xuICAgICAgLy8gdGhpcy5jb21wb3Nlci5zZXRTaXplKCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAvLyBjb25zdCBmeGFhUGFzcyA9IG5ldyBTaGFkZXJQYXNzKCBGWEFBU2hhZGVyICk7XG4gICAgICAvLyBmeGFhUGFzcy5tYXRlcmlhbC51bmlmb3Jtc1sgJ3Jlc29sdXRpb24nIF0udmFsdWUueCA9IDEgLyAoIHRoaXMud2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAvLyBmeGFhUGFzcy5tYXRlcmlhbC51bmlmb3Jtc1sgJ3Jlc29sdXRpb24nIF0udmFsdWUueSA9IDEgLyAoIHRoaXMuaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKGZ4YWFQYXNzKTtcbiAgICAgIC8vIHRoaXMuY29tcG9zZXIuYWRkUGFzcyhuZXcgUmVuZGVyUGFzcyh0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSkpO1xuICAgICAgLy8gdmFyIGJsb29tUGFzcyA9IG5ldyBVbnJlYWxCbG9vbVBhc3MoMSwgMjUsIDUsIDI1Nik7XG4gICAgICAvLyB0aGlzLmNvbXBvc2VyLmFkZFBhc3MoYmxvb21QYXNzKTtcbiAgICAgIC8vIFRoZSBjYW1lcmEgYXNwZWN0IGdvZXMgb2ZmIHNpbmNlIGl0IGNvdWxkIGJlIGV4cG9ydGVkIGF0IGEgZGlmZmVyZW50XG4gICAgICAvLyByYXRpby4gIEZvcmNlIHVwZGF0ZSB0aGUgYXNwZWN0IHJhdGlvLlxuXG4gICAgICB0aGlzLmNhbWVyYS5hc3BlY3QgPSB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlZnJlc2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVmcmVzaCgpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcih0aGlzLnJlbmRlcmVyQ29uZmlnLmNsZWFyQ29sb3IsIHRoaXMucmVuZGVyZXJDb25maWcuYmFja2dyb3VuZEFscGhhKTtcbiAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICB0aGlzLmRyYXcoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0QW5pbWF0aW9uQnlOYW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFuaW1hdGlvbkJ5TmFtZShuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5hbmltYXRpb25zLmZpbHRlcihmdW5jdGlvbiAoYW5pbWF0aW9uQ2xpcCkge1xuICAgICAgICByZXR1cm4gYW5pbWF0aW9uQ2xpcC5uYW1lID09IG5hbWU7XG4gICAgICB9KVswXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0T2JqZWN0QnlOYW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE9iamVjdEJ5TmFtZShuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5hY3RpdmVTY2VuZS5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKG9iamVjdDNkKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QzZC5uYW1lID09IG5hbWU7XG4gICAgICB9KVswXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Qcm9ncmVzc1VwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblByb2dyZXNzVXBkYXRlKHByb2dyZXNzKSB7XG4gICAgICAvL0FuaW1hdGlvbiBNaXhlcuOCkuWun+ihjFxuICAgICAgaWYgKHRoaXMubWl4ZXIpIHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBmaW5kIG91dCBob3cgbG9uZyB0aGUgYW5pbWF0aW9uIGlzLlxuICAgICAgICAvLyBUaGUgbWl4ZXIgYXBwZWFycyB0byBoYXZlIG5vIGtub3dsZWRnZSBvZnQgdGhpcyBzbyB3ZSBuZWVkIHRvXG4gICAgICAgIC8vIGxvb2sgdXAgYSBzcGVjaWZpYyBhbmltYXRpb24gYW5kIGdldCB0aGUgZHVyYXRpb24gdG9cbiAgICAgICAgLy8gZ2V0IHRoZSB0b3RhbCBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uLlxuICAgICAgICB2YXIgY2FtZXJhQW5pbWF0aW9uID0gdGhpcy5nZXRBbmltYXRpb25CeU5hbWUoJ0FjdGlvbi4wMDEnKTtcbiAgICAgICAgdmFyIGR1cmF0aW9uID0gY2FtZXJhQW5pbWF0aW9uLmR1cmF0aW9uOyAvLyBXaGVuIGR1cmF0aW9uIGhpdHMgaXQncyBtYXgsIGFuaW1hdGlvbk1peGVyIHNlZW1zIHRvIGhpdCB0aGUgZmlyc3RcbiAgICAgICAgLy8gZnJhbWUgc28gbmV4dCBhbGxvdyBpdCB0byByZWFjaCB0aGUgbWF4IHZhbHVlLlxuXG4gICAgICAgIHRoaXMubWl4ZXIuc2V0VGltZShNYXRoLm1pbihkdXJhdGlvbiAqIHByb2dyZXNzLCBkdXJhdGlvbiAtIDAuMDAxKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZHJhdygpOyAvLyB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgICAvLyB0aGlzLmNvbXBvc2VyLnJlbmRlcigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkcmF3XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRyYXcoKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRocmVlT2JqZWN0Vmlld2VyNTtcbn0oKTtcblxuZXhwb3J0IHsgVGhyZWVPYmplY3RWaWV3ZXI1IGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/three-object-viewer5.js\n");

/***/ }),

/***/ "./examples/three-object-viewer6.js":
/*!******************************************!*\
  !*** ./examples/three-object-viewer6.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ThreeObjectViewer6; });\n/* harmony import */ var _lib_datguif_datguif__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/datguif/datguif */ \"./lib/datguif/datguif.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_EffectComposer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer */ \"./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/RenderPass.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_UnrealBloomPass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/postprocessing/UnrealBloomPass.js */ \"./node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js\");\n/* harmony import */ var three_examples_jsm_shaders_FXAAShader_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/shaders/FXAAShader.js */ \"./node_modules/three/examples/jsm/shaders/FXAAShader.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/ShaderPass.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// https://threejs.org/docs/#manual/en/introduction/Loading-3D-models\n// https://threejs.org/examples/#webgl_loader_gltf\n// https://gist.github.com/bellbind/c4f8c502fcacbe29422e5ac315273858\n// https://github.com/funwithtriangles/blender-to-threejs-export-guide/blob/master/readme.md\n// https://threejsfundamentals.org/threejs/lessons/threejs-load-gltf.html\n// https://discoverthreejs.com/book/first-steps/load-models/\n// https://www.pentacreation.com/blog/2019/09/190916.html\n// https://www.pentacreation.com/blog/2019/10/191016.html\n// https://docs.blender.org/manual/ja/latest/addons/io_scene_gltf2.html\n// https://gltf-viewer.donmccurdy.com/\n// https://github.com/donmccurdy/three-gltf-viewer\n\n\n\n\n\n\n\n // import { Raf } from '../lib/raf/raf';\n\n\n\n\n\n\nvar ThreeObjectViewer6 = /*#__PURE__*/function () {\n  function ThreeObjectViewer6() {\n    var _this = this;\n\n    _classCallCheck(this, ThreeObjectViewer6);\n\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_8__[\"DomWatcher\"]();\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_9__[\"RafProgress\"]();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.scrollLerp = 0.38;\n    this.scrollEase = 'easeInQuad';\n    this.rendererConfig = {\n      clearColor: '#EAE8E7',\n      backgroundAlpha: 1.0\n    };\n    this.gui = new _lib_datguif_datguif__WEBPACK_IMPORTED_MODULE_0__[\"Datguif\"]({\n      load: JSON\n    });\n    this.gui.addFolder('Settings').open();\n    this.gui.addFolder('Renderer', 'Settings');\n    this.gui.addFolder('Camera', 'Settings');\n    this.gui.addFolder('Scroll', 'Settings');\n    this.gui.addFolder('Lights');\n    this.gui.addFolder('Objects');\n    this.gui.addObjectToFolder('Scroll', this, [{\n      keyName: 'scrollLerp',\n      min: 0,\n      max: 1,\n      step: 0.01\n    }, {\n      keyName: 'scrollEase',\n      options: ['linear', 'easeOutQuad', 'easeInQuad']\n    }]);\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__[\"dom\"].getElementScrolledPercent(_this.parentElement, window.innerHeight); //   this.rafProgress.easeTo(this.progress, 0.26, EASE.easeInOutExpo);\n        //   this.rafProgress.easeTo(this.progress, 0.08, EASE.linear);\n\n        _this.rafProgress.easeTo(_this.progress, _this.scrollLerp, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__[\"EASE\"][_this.scrollEase]);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_1__[\"Scene\"]();\n    this.gui.onUpdate(function (prop) {\n      _this.draw();\n    });\n    var loader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_2__[\"GLTFLoader\"]();\n    var path = './public/home/demo5.gltf';\n    loader.load(path, function (gltf) {\n      var gltfData = gltf.parser.json;\n\n      var getNodeByName = function getNodeByName(name) {\n        return gltfData.nodes.filter(function (node) {\n          return node.name = name;\n        })[0];\n      };\n\n      console.log('gltf data', gltfData);\n      _this.clock = new three__WEBPACK_IMPORTED_MODULE_1__[\"Clock\"]();\n      var scene = gltf.scenes[0];\n      _this.activeScene = scene;\n      _this.animations = gltf.animations; // Animation Mixer\n\n      _this.mixer = new three__WEBPACK_IMPORTED_MODULE_1__[\"AnimationMixer\"](scene); //Animation Clip\n\n      for (var i = 0; i < _this.animations.length; i++) {\n        var animation = _this.animations[i]; //Animation Action\n\n        var action = _this.mixer.clipAction(animation);\n\n        console.log('added', animation);\n        action.play();\n      }\n\n      _this.scene.add(scene);\n\n      console.log('scene', scene);\n      console.log('mixer', _this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      _this.scene.traverse(function (child) {\n        if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"Light\"]) {\n          // child.castShadow = false;\n          // console.log('light', child);\n          var shadowEnabledLights = ['Point013_Orientation', 'Point003_Orientation'];\n\n          if (~shadowEnabledLights.indexOf(child.name)) {\n            child.castShadow = true;\n          } // Debugging light positions.\n          // child.shadowCameraVisible = false;\n\n\n          if (child.shadow) {// Adjust shadow bias.\n            // child.shadow.bias = -0.002;\n            // Remove the rigged looking shadows.\n            // child.shadow.mapSize.width = 1024;\n            // child.shadow.mapSize.height = 1024;\n            // child.shadowDarkness = 0.5;\n            // child.shadow.camera.near = 0;\n            // child.shadow.camera.far = 1000;\n            // var helper = new THREE.CameraHelper( child.shadow.camera );\n            // scene.add( helper );\n          } // Point lights are defined in watts which goes waay off in three.js\n\n\n          if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"PointLight\"]) {\n            child.intensity = child.intensity * 0.01;\n          } // If it's a spot light, it needs to go down even more.\n\n\n          if (child.type == \"SpotLight\") {\n            child.intensity = child.intensity * 0.001;\n          } // No lights.\n\n\n          child.intensity = 0;\n\n          _this.gui.addFolder(child.name, 'Lights');\n\n          _this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'intensity',\n            min: 0,\n            max: 3000\n          }, {\n            keyName: 'color'\n          }]);\n\n          if (child.shadow) {\n            var shadowFolderId = child.name + ' shadow'; // console.log(child.shadow);\n\n            _this.gui.addFolder(shadowFolderId, child.name);\n\n            _this.gui.addObjectToFolder(shadowFolderId, child.shadow, [{\n              keyName: 'bias',\n              min: -1,\n              max: 1,\n              step: 0.00001\n            }, {\n              keyName: 'radius',\n              min: 0,\n              max: 100,\n              step: 0.01\n            }]);\n          }\n        } else if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"Mesh\"]) {\n          // child.castShadow = true;\n          // child.receiveShadow = true;\n          // child.geometry.computeVertexNormals(true);\n          console.log('mesh', child);\n\n          _this.gui.addFolder(child.name, 'Objects');\n\n          _this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'receiveShadow'\n          }]);\n\n          if (child.material) {\n            var materialId = child.name + ' material';\n\n            _this.gui.addFolder(materialId, child.name);\n\n            _this.gui.addObjectToFolder(materialId, child.material, [{\n              keyName: 'emissiveIntensity',\n              min: 0,\n              max: 1\n            }, {\n              keyName: 'flatShading',\n              callback: function callback() {\n                child.material.needsUpdate = true;\n              }\n            }, {\n              keyName: 'wireframe',\n              callback: function callback() {\n                child.material.needsUpdate = true;\n              }\n            }]); // Enable smooth shading.\n            // child.material.flatShading = false;\n            // child.material.wireframe = false;\n            // child.material.needsUpdate = true;\n            // child.geometry.computeFaceNormals();\n            // child.geometry.computeVertexNormals(true);\n\n          } // Get the image mappings.\n          // if(child.material && child.material.map) {\n          //   child.material.map.needsUpdate = true;\n          // }\n\n        } else {\n          console.log('other', child);\n        }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n\n      _this.camera = gltf.cameras[0];\n      console.log('camera', _this.camera);\n\n      _this.resize(); // Use fog to cover far distances.\n\n\n      var color = 0xEAE8E7;\n      _this.scene.fog = new three__WEBPACK_IMPORTED_MODULE_1__[\"Fog\"](color, 5, 10); // Enable shadows.\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      _this.renderer.shadowMap.enabled = true; // To antialias the shadow\n\n      _this.renderer.shadowMap.type = three__WEBPACK_IMPORTED_MODULE_1__[\"PCFSoftShadowMap\"];\n      _this.renderer.gammaOutput = true;\n      _this.renderer.gammaFactor = 3; // Important to get the correct colors.\n      // this.renderer.physicallyCorrectLigts = true;\n      // Background as black.\n      // this.renderer.setClearColor(0x4287f5);\n\n      _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha); // Affects how strongly lights come exposed.\n      // https://threejs.org/examples/#webgl_tonemapping\n\n\n      _this.renderer.toneMappingExposure = 1; // this.renderer.toneMappingExposure = 0.6;\n\n      _this.renderer.toneMapping = three__WEBPACK_IMPORTED_MODULE_1__[\"ACESFilmicToneMapping\"];\n\n      _this.gui.addObjectToFolder('Renderer', _this.renderer, [{\n        keyName: 'toneMappingExposure',\n        min: 0,\n        max: 5,\n        step: 0.01\n      }, {\n        keyName: 'gammaFactor',\n        min: 0,\n        max: 10,\n        step: 0.01\n      }]);\n\n      _this.gui.addObjectToFolder('Renderer', _this.rendererConfig, [{\n        keyName: 'clearColor',\n        callback: function callback() {\n          _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha);\n        }\n      }, {\n        keyName: 'backgroundAlpha',\n        callback: function callback() {\n          _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha);\n        }\n      }]);\n\n      _this.gui.addObjectToFolder('Camera', _this.camera, [{\n        keyName: 'fov',\n        min: 0,\n        max: 50,\n        step: 0.01,\n        callback: function callback() {\n          _this.camera.updateProjectionMatrix();\n        }\n      }, {\n        keyName: 'zoom',\n        min: 0,\n        max: 10,\n        step: 0.0001,\n        callback: function callback() {\n          _this.camera.updateProjectionMatrix();\n        }\n      }]);\n\n      _this.gui.addFolder('General Lights');\n\n      _this.generalLightConfig = {\n        ambientLightColor: '#FFFFFF',\n        ambientLightAlpha: 0\n      }; // Additional lighting outside the blender.\n      // var light = new THREE.HemisphereLight( 0xffffbb, 0xffffff, 1 );\n      // this.scene.add( light );\n\n      _this.ambientLight = new three__WEBPACK_IMPORTED_MODULE_1__[\"AmbientLight\"](_this.generalLightConfig.ambientLightColor);\n      _this.ambientLight.intensity = _this.generalLightConfig.ambientLightAlpha;\n      scene.add(_this.ambientLight);\n\n      _this.gui.addObjectToFolder('General Lights', _this.generalLightConfig, [{\n        keyName: 'ambientLightColor',\n        callback: function callback() {\n          _this.ambientLight.color = new three__WEBPACK_IMPORTED_MODULE_1__[\"Color\"](_this.generalLightConfig.ambientLightColor);\n        }\n      }, {\n        keyName: 'ambientLightAlpha',\n        callback: function callback() {\n          _this.ambientLight.intensity = _this.generalLightConfig.ambientLightAlpha;\n        }\n      }]); // var width = 50;\n      // var height = 50;\n      // var intensity = 0;\n      // var rectLight = new THREE.RectAreaLight('#FFFFFF', intensity,  width, height );\n      // rectLight.position.set( 0, 0, 25 );\n      // // rectLight.lookAt( 0, 0, 0 );\n      // this.scene.add( rectLight );\n      // rectLightHelper = new THREE.RectAreaLightHelper( rectLight );\n      // rectLight.add( rectLightHelper );\n\n\n      _this.gui.addButton('Refresh', _this.refresh.bind(_this));\n    }, undefined, function (error) {\n      console.error(error);\n    });\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_1__[\"WebGLRenderer\"]({\n      antialias: true,\n      // precision: 'highp'\n      autoSize: true\n    });\n    this.composer = new three_examples_jsm_postprocessing_EffectComposer__WEBPACK_IMPORTED_MODULE_3__[\"EffectComposer\"](this.renderer);\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  _createClass(ThreeObjectViewer6, [{\n    key: \"resize\",\n    value: function resize() {\n      this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__[\"dom\"].getElementScrolledPercent(this.parentElement, window.innerHeight);\n      this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__[\"EASE\"].Linear);\n      this.width = this.canvasContainer.parentElement.offsetWidth;\n      this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      this.renderer.setPixelRatio(window.devicePixelRatio);\n      this.renderer.setSize(this.width, this.height); // Post processing\n      // this.composer.setSize( this.width, this.height);\n      // const fxaaPass = new ShaderPass( FXAAShader );\n      // fxaaPass.material.uniforms[ 'resolution' ].value.x = 1 / ( this.width * window.devicePixelRatio);\n      // fxaaPass.material.uniforms[ 'resolution' ].value.y = 1 / ( this.height * window.devicePixelRatio);\n      // this.composer.addPass(fxaaPass);\n      // this.composer.addPass(new RenderPass(this.scene, this.camera));\n      // var bloomPass = new UnrealBloomPass(1, 25, 5, 256);\n      // this.composer.addPass(bloomPass);\n      // The camera aspect goes off since it could be exported at a different\n      // ratio.  Force update the aspect ratio.\n\n      this.camera.aspect = this.width / this.height;\n      this.camera.updateProjectionMatrix();\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n      this.resize();\n      this.draw();\n    }\n  }, {\n    key: \"getAnimationByName\",\n    value: function getAnimationByName(name) {\n      return this.animations.filter(function (animationClip) {\n        return animationClip.name == name;\n      })[0];\n    }\n  }, {\n    key: \"getObjectByName\",\n    value: function getObjectByName(name) {\n      return this.activeScene.children.filter(function (object3d) {\n        return object3d.name == name;\n      })[0];\n    }\n  }, {\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(progress) {\n      //Animation Mixer\n      if (this.mixer) {\n        // We need to find out how long the animation is.\n        // The mixer appears to have no knowledge oft this so we need to\n        // look up a specific animation and get the duration to\n        // get the total duration of the animation.\n        var cameraAnimation = this.getAnimationByName('Action.001');\n        var duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n        // frame so next allow it to reach the max value.\n\n        this.mixer.setTime(Math.min(duration * progress, duration - 0.001));\n      }\n\n      this.draw(); // this.renderer.render(this.scene, this.camera);\n      // this.composer.render();\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return ThreeObjectViewer6;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyNi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLW9iamVjdC12aWV3ZXI2LmpzPzZkZTMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI21hbnVhbC9lbi9pbnRyb2R1Y3Rpb24vTG9hZGluZy0zRC1tb2RlbHNcbi8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX2xvYWRlcl9nbHRmXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9iZWxsYmluZC9jNGY4YzUwMmZjYWNiZTI5NDIyZTVhYzMxNTI3Mzg1OFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Z1bndpdGh0cmlhbmdsZXMvYmxlbmRlci10by10aHJlZWpzLWV4cG9ydC1ndWlkZS9ibG9iL21hc3Rlci9yZWFkbWUubWRcbi8vIGh0dHBzOi8vdGhyZWVqc2Z1bmRhbWVudGFscy5vcmcvdGhyZWVqcy9sZXNzb25zL3RocmVlanMtbG9hZC1nbHRmLmh0bWxcbi8vIGh0dHBzOi8vZGlzY292ZXJ0aHJlZWpzLmNvbS9ib29rL2ZpcnN0LXN0ZXBzL2xvYWQtbW9kZWxzL1xuLy8gaHR0cHM6Ly93d3cucGVudGFjcmVhdGlvbi5jb20vYmxvZy8yMDE5LzA5LzE5MDkxNi5odG1sXG4vLyBodHRwczovL3d3dy5wZW50YWNyZWF0aW9uLmNvbS9ibG9nLzIwMTkvMTAvMTkxMDE2Lmh0bWxcbi8vIGh0dHBzOi8vZG9jcy5ibGVuZGVyLm9yZy9tYW51YWwvamEvbGF0ZXN0L2FkZG9ucy9pb19zY2VuZV9nbHRmMi5odG1sXG4vLyBodHRwczovL2dsdGYtdmlld2VyLmRvbm1jY3VyZHkuY29tL1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rvbm1jY3VyZHkvdGhyZWUtZ2x0Zi12aWV3ZXJcbmltcG9ydCB7IERhdGd1aWYgfSBmcm9tICcuLi9saWIvZGF0Z3VpZi9kYXRndWlmJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyJztcbmltcG9ydCB7IEVmZmVjdENvbXBvc2VyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL0VmZmVjdENvbXBvc2VyJztcbmltcG9ydCB7IFJlbmRlclBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvUmVuZGVyUGFzcy5qcyc7XG5pbXBvcnQgeyBVbnJlYWxCbG9vbVBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvVW5yZWFsQmxvb21QYXNzLmpzJztcbmltcG9ydCB7IEZYQUFTaGFkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vc2hhZGVycy9GWEFBU2hhZGVyLmpzJztcbmltcG9ydCB7IFNoYWRlclBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvU2hhZGVyUGFzcy5qcyc7IC8vIGltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcblxuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuaW1wb3J0IHsgUmFmUHJvZ3Jlc3MgfSBmcm9tICcuLi9saWIvcmFmL3JhZi1wcm9ncmVzcyc7XG5pbXBvcnQgeyBkb20gfSBmcm9tICcuLi9saWIvZG9tL2RvbSc7XG5pbXBvcnQgeyBFQVNFIH0gZnJvbSAnLi4vbGliL2Vhc2UvZWFzZSc7XG5cbnZhciBUaHJlZU9iamVjdFZpZXdlcjYgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUaHJlZU9iamVjdFZpZXdlcjYoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaHJlZU9iamVjdFZpZXdlcjYpO1xuXG4gICAgY29uc29sZS5sb2coJ1RocmVlSlMgT2JqZWN0IFZpZXdlciBEZW1vJyk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MgPSBuZXcgUmFmUHJvZ3Jlc3MoKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnNjcm9sbExlcnAgPSAwLjM4O1xuICAgIHRoaXMuc2Nyb2xsRWFzZSA9ICdlYXNlSW5RdWFkJztcbiAgICB0aGlzLnJlbmRlcmVyQ29uZmlnID0ge1xuICAgICAgY2xlYXJDb2xvcjogJyNFQUU4RTcnLFxuICAgICAgYmFja2dyb3VuZEFscGhhOiAxLjBcbiAgICB9O1xuICAgIHRoaXMuZ3VpID0gbmV3IERhdGd1aWYoe1xuICAgICAgbG9hZDogSlNPTlxuICAgIH0pO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignU2V0dGluZ3MnKS5vcGVuKCk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdSZW5kZXJlcicsICdTZXR0aW5ncycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignQ2FtZXJhJywgJ1NldHRpbmdzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdTY3JvbGwnLCAnU2V0dGluZ3MnKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ0xpZ2h0cycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignT2JqZWN0cycpO1xuICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdTY3JvbGwnLCB0aGlzLCBbe1xuICAgICAga2V5TmFtZTogJ3Njcm9sbExlcnAnLFxuICAgICAgbWluOiAwLFxuICAgICAgbWF4OiAxLFxuICAgICAgc3RlcDogMC4wMVxuICAgIH0sIHtcbiAgICAgIGtleU5hbWU6ICdzY3JvbGxFYXNlJyxcbiAgICAgIG9wdGlvbnM6IFsnbGluZWFyJywgJ2Vhc2VPdXRRdWFkJywgJ2Vhc2VJblF1YWQnXVxuICAgIH1dKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhldmVudCkge1xuICAgICAgICBfdGhpcy5wcm9ncmVzcyA9IGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KF90aGlzLnBhcmVudEVsZW1lbnQsIHdpbmRvdy5pbm5lckhlaWdodCk7IC8vICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMC4yNiwgRUFTRS5lYXNlSW5PdXRFeHBvKTtcbiAgICAgICAgLy8gICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjA4LCBFQVNFLmxpbmVhcik7XG5cbiAgICAgICAgX3RoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKF90aGlzLnByb2dyZXNzLCBfdGhpcy5zY3JvbGxMZXJwLCBFQVNFW190aGlzLnNjcm9sbEVhc2VdKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLmd1aS5vblVwZGF0ZShmdW5jdGlvbiAocHJvcCkge1xuICAgICAgX3RoaXMuZHJhdygpO1xuICAgIH0pO1xuICAgIHZhciBsb2FkZXIgPSBuZXcgR0xURkxvYWRlcigpO1xuICAgIHZhciBwYXRoID0gJy4vcHVibGljL2hvbWUvZGVtbzUuZ2x0Zic7XG4gICAgbG9hZGVyLmxvYWQocGF0aCwgZnVuY3Rpb24gKGdsdGYpIHtcbiAgICAgIHZhciBnbHRmRGF0YSA9IGdsdGYucGFyc2VyLmpzb247XG5cbiAgICAgIHZhciBnZXROb2RlQnlOYW1lID0gZnVuY3Rpb24gZ2V0Tm9kZUJ5TmFtZShuYW1lKSB7XG4gICAgICAgIHJldHVybiBnbHRmRGF0YS5ub2Rlcy5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICByZXR1cm4gbm9kZS5uYW1lID0gbmFtZTtcbiAgICAgICAgfSlbMF07XG4gICAgICB9O1xuXG4gICAgICBjb25zb2xlLmxvZygnZ2x0ZiBkYXRhJywgZ2x0ZkRhdGEpO1xuICAgICAgX3RoaXMuY2xvY2sgPSBuZXcgVEhSRUUuQ2xvY2soKTtcbiAgICAgIHZhciBzY2VuZSA9IGdsdGYuc2NlbmVzWzBdO1xuICAgICAgX3RoaXMuYWN0aXZlU2NlbmUgPSBzY2VuZTtcbiAgICAgIF90aGlzLmFuaW1hdGlvbnMgPSBnbHRmLmFuaW1hdGlvbnM7IC8vIEFuaW1hdGlvbiBNaXhlcuOCpOODs+OCueOCv+ODs+OCueOCkueUn+aIkFxuXG4gICAgICBfdGhpcy5taXhlciA9IG5ldyBUSFJFRS5BbmltYXRpb25NaXhlcihzY2VuZSk7IC8v5YWo44Gm44GuQW5pbWF0aW9uIENsaXDjgavlr77jgZfjgaZcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5hbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhbmltYXRpb24gPSBfdGhpcy5hbmltYXRpb25zW2ldOyAvL0FuaW1hdGlvbiBBY3Rpb27jgpLnlJ/miJBcblxuICAgICAgICB2YXIgYWN0aW9uID0gX3RoaXMubWl4ZXIuY2xpcEFjdGlvbihhbmltYXRpb24pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdhZGRlZCcsIGFuaW1hdGlvbik7XG4gICAgICAgIGFjdGlvbi5wbGF5KCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNjZW5lLmFkZChzY2VuZSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdzY2VuZScsIHNjZW5lKTtcbiAgICAgIGNvbnNvbGUubG9nKCdtaXhlcicsIF90aGlzLm1peGVyKTsgLy8gaHR0cDovL2xlYXJuaW5ndGhyZWVqcy5jb20vYmxvZy8yMDEyLzAxLzIwL2Nhc3Rpbmctc2hhZG93cy9cblxuICAgICAgX3RoaXMuc2NlbmUudHJhdmVyc2UoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLkxpZ2h0KSB7XG4gICAgICAgICAgLy8gY2hpbGQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdsaWdodCcsIGNoaWxkKTtcbiAgICAgICAgICB2YXIgc2hhZG93RW5hYmxlZExpZ2h0cyA9IFsnUG9pbnQwMTNfT3JpZW50YXRpb24nLCAnUG9pbnQwMDNfT3JpZW50YXRpb24nXTtcblxuICAgICAgICAgIGlmICh+c2hhZG93RW5hYmxlZExpZ2h0cy5pbmRleE9mKGNoaWxkLm5hbWUpKSB7XG4gICAgICAgICAgICBjaGlsZC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICB9IC8vIERlYnVnZ2luZyBsaWdodCBwb3NpdGlvbnMuXG4gICAgICAgICAgLy8gY2hpbGQuc2hhZG93Q2FtZXJhVmlzaWJsZSA9IGZhbHNlO1xuXG5cbiAgICAgICAgICBpZiAoY2hpbGQuc2hhZG93KSB7Ly8gQWRqdXN0IHNoYWRvdyBiaWFzLlxuICAgICAgICAgICAgLy8gY2hpbGQuc2hhZG93LmJpYXMgPSAtMC4wMDI7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHJpZ2dlZCBsb29raW5nIHNoYWRvd3MuXG4gICAgICAgICAgICAvLyBjaGlsZC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IDEwMjQ7XG4gICAgICAgICAgICAvLyBjaGlsZC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSAxMDI0O1xuICAgICAgICAgICAgLy8gY2hpbGQuc2hhZG93RGFya25lc3MgPSAwLjU7XG4gICAgICAgICAgICAvLyBjaGlsZC5zaGFkb3cuY2FtZXJhLm5lYXIgPSAwO1xuICAgICAgICAgICAgLy8gY2hpbGQuc2hhZG93LmNhbWVyYS5mYXIgPSAxMDAwO1xuICAgICAgICAgICAgLy8gdmFyIGhlbHBlciA9IG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIoIGNoaWxkLnNoYWRvdy5jYW1lcmEgKTtcbiAgICAgICAgICAgIC8vIHNjZW5lLmFkZCggaGVscGVyICk7XG4gICAgICAgICAgfSAvLyBQb2ludCBsaWdodHMgYXJlIGRlZmluZWQgaW4gd2F0dHMgd2hpY2ggZ29lcyB3YWF5IG9mZiBpbiB0aHJlZS5qc1xuXG5cbiAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5Qb2ludExpZ2h0KSB7XG4gICAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSBjaGlsZC5pbnRlbnNpdHkgKiAwLjAxO1xuICAgICAgICAgIH0gLy8gSWYgaXQncyBhIHNwb3QgbGlnaHQsIGl0IG5lZWRzIHRvIGdvIGRvd24gZXZlbiBtb3JlLlxuXG5cbiAgICAgICAgICBpZiAoY2hpbGQudHlwZSA9PSBcIlNwb3RMaWdodFwiKSB7XG4gICAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSBjaGlsZC5pbnRlbnNpdHkgKiAwLjAwMTtcbiAgICAgICAgICB9IC8vIE5vIGxpZ2h0cy5cblxuXG4gICAgICAgICAgY2hpbGQuaW50ZW5zaXR5ID0gMDtcblxuICAgICAgICAgIF90aGlzLmd1aS5hZGRGb2xkZXIoY2hpbGQubmFtZSwgJ0xpZ2h0cycpO1xuXG4gICAgICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKGNoaWxkLm5hbWUsIGNoaWxkLCBbe1xuICAgICAgICAgICAga2V5TmFtZTogJ2Nhc3RTaGFkb3cnXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5TmFtZTogJ2ludGVuc2l0eScsXG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBtYXg6IDMwMDBcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXlOYW1lOiAnY29sb3InXG4gICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgaWYgKGNoaWxkLnNoYWRvdykge1xuICAgICAgICAgICAgdmFyIHNoYWRvd0ZvbGRlcklkID0gY2hpbGQubmFtZSArICcgc2hhZG93JzsgLy8gY29uc29sZS5sb2coY2hpbGQuc2hhZG93KTtcblxuICAgICAgICAgICAgX3RoaXMuZ3VpLmFkZEZvbGRlcihzaGFkb3dGb2xkZXJJZCwgY2hpbGQubmFtZSk7XG5cbiAgICAgICAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihzaGFkb3dGb2xkZXJJZCwgY2hpbGQuc2hhZG93LCBbe1xuICAgICAgICAgICAgICBrZXlOYW1lOiAnYmlhcycsXG4gICAgICAgICAgICAgIG1pbjogLTEsXG4gICAgICAgICAgICAgIG1heDogMSxcbiAgICAgICAgICAgICAgc3RlcDogMC4wMDAwMVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBrZXlOYW1lOiAncmFkaXVzJyxcbiAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICBtYXg6IDEwMCxcbiAgICAgICAgICAgICAgc3RlcDogMC4wMVxuICAgICAgICAgICAgfV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2gpIHtcbiAgICAgICAgICAvLyBjaGlsZC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICAvLyBjaGlsZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICAvLyBjaGlsZC5nZW9tZXRyeS5jb21wdXRlVmVydGV4Tm9ybWFscyh0cnVlKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnbWVzaCcsIGNoaWxkKTtcblxuICAgICAgICAgIF90aGlzLmd1aS5hZGRGb2xkZXIoY2hpbGQubmFtZSwgJ09iamVjdHMnKTtcblxuICAgICAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihjaGlsZC5uYW1lLCBjaGlsZCwgW3tcbiAgICAgICAgICAgIGtleU5hbWU6ICdjYXN0U2hhZG93J1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleU5hbWU6ICdyZWNlaXZlU2hhZG93J1xuICAgICAgICAgIH1dKTtcblxuICAgICAgICAgIGlmIChjaGlsZC5tYXRlcmlhbCkge1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFsSWQgPSBjaGlsZC5uYW1lICsgJyBtYXRlcmlhbCc7XG5cbiAgICAgICAgICAgIF90aGlzLmd1aS5hZGRGb2xkZXIobWF0ZXJpYWxJZCwgY2hpbGQubmFtZSk7XG5cbiAgICAgICAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihtYXRlcmlhbElkLCBjaGlsZC5tYXRlcmlhbCwgW3tcbiAgICAgICAgICAgICAga2V5TmFtZTogJ2VtaXNzaXZlSW50ZW5zaXR5JyxcbiAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICBtYXg6IDFcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAga2V5TmFtZTogJ2ZsYXRTaGFkaW5nJyxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBrZXlOYW1lOiAnd2lyZWZyYW1lJyxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pOyAvLyBFbmFibGUgc21vb3RoIHNoYWRpbmcuXG4gICAgICAgICAgICAvLyBjaGlsZC5tYXRlcmlhbC5mbGF0U2hhZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gY2hpbGQubWF0ZXJpYWwud2lyZWZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBjaGlsZC5tYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAvLyBjaGlsZC5nZW9tZXRyeS5jb21wdXRlRmFjZU5vcm1hbHMoKTtcbiAgICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKHRydWUpO1xuXG4gICAgICAgICAgfSAvLyBHZXQgdGhlIGltYWdlIG1hcHBpbmdzLlxuICAgICAgICAgIC8vIGlmKGNoaWxkLm1hdGVyaWFsICYmIGNoaWxkLm1hdGVyaWFsLm1hcCkge1xuICAgICAgICAgIC8vICAgY2hpbGQubWF0ZXJpYWwubWFwLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAvLyB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnb3RoZXInLCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgIH0pOyAvLyBTZXQgdGhlIGNhbWVyYSBleHBvcnRlZCBpbiBnbHRmLlxuICAgICAgLy8gUmVxdWlyZXMgY2FtZXJhIHRvIGJlIGV4cG9ydGVkIGZvciBnbHRmLlxuXG5cbiAgICAgIF90aGlzLmNhbWVyYSA9IGdsdGYuY2FtZXJhc1swXTtcbiAgICAgIGNvbnNvbGUubG9nKCdjYW1lcmEnLCBfdGhpcy5jYW1lcmEpO1xuXG4gICAgICBfdGhpcy5yZXNpemUoKTsgLy8gVXNlIGZvZyB0byBjb3ZlciBmYXIgZGlzdGFuY2VzLlxuXG5cbiAgICAgIHZhciBjb2xvciA9IDB4RUFFOEU3O1xuICAgICAgX3RoaXMuc2NlbmUuZm9nID0gbmV3IFRIUkVFLkZvZyhjb2xvciwgNSwgMTApOyAvLyBFbmFibGUgc2hhZG93cy5cbiAgICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL2NvbnN0YW50cy9SZW5kZXJlclxuXG4gICAgICBfdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7IC8vIFRvIGFudGlhbGlhcyB0aGUgc2hhZG93XG5cbiAgICAgIF90aGlzLnJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcbiAgICAgIF90aGlzLnJlbmRlcmVyLmdhbW1hT3V0cHV0ID0gdHJ1ZTtcbiAgICAgIF90aGlzLnJlbmRlcmVyLmdhbW1hRmFjdG9yID0gMzsgLy8gSW1wb3J0YW50IHRvIGdldCB0aGUgY29ycmVjdCBjb2xvcnMuXG4gICAgICAvLyB0aGlzLnJlbmRlcmVyLnBoeXNpY2FsbHlDb3JyZWN0TGlndHMgPSB0cnVlO1xuICAgICAgLy8gQmFja2dyb3VuZCBhcyBibGFjay5cbiAgICAgIC8vIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcigweDQyODdmNSk7XG5cbiAgICAgIF90aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoX3RoaXMucmVuZGVyZXJDb25maWcuY2xlYXJDb2xvciwgX3RoaXMucmVuZGVyZXJDb25maWcuYmFja2dyb3VuZEFscGhhKTsgLy8gQWZmZWN0cyBob3cgc3Ryb25nbHkgbGlnaHRzIGNvbWUgZXhwb3NlZC5cbiAgICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX3RvbmVtYXBwaW5nXG5cblxuICAgICAgX3RoaXMucmVuZGVyZXIudG9uZU1hcHBpbmdFeHBvc3VyZSA9IDE7IC8vIHRoaXMucmVuZGVyZXIudG9uZU1hcHBpbmdFeHBvc3VyZSA9IDAuNjtcblxuICAgICAgX3RoaXMucmVuZGVyZXIudG9uZU1hcHBpbmcgPSBUSFJFRS5BQ0VTRmlsbWljVG9uZU1hcHBpbmc7XG5cbiAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignUmVuZGVyZXInLCBfdGhpcy5yZW5kZXJlciwgW3tcbiAgICAgICAga2V5TmFtZTogJ3RvbmVNYXBwaW5nRXhwb3N1cmUnLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogNSxcbiAgICAgICAgc3RlcDogMC4wMVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnZ2FtbWFGYWN0b3InLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogMTAsXG4gICAgICAgIHN0ZXA6IDAuMDFcbiAgICAgIH1dKTtcblxuICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdSZW5kZXJlcicsIF90aGlzLnJlbmRlcmVyQ29uZmlnLCBbe1xuICAgICAgICBrZXlOYW1lOiAnY2xlYXJDb2xvcicsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICBfdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKF90aGlzLnJlbmRlcmVyQ29uZmlnLmNsZWFyQ29sb3IsIF90aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ2JhY2tncm91bmRBbHBoYScsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICBfdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKF90aGlzLnJlbmRlcmVyQ29uZmlnLmNsZWFyQ29sb3IsIF90aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7XG4gICAgICAgIH1cbiAgICAgIH1dKTtcblxuICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdDYW1lcmEnLCBfdGhpcy5jYW1lcmEsIFt7XG4gICAgICAgIGtleU5hbWU6ICdmb3YnLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogNTAsXG4gICAgICAgIHN0ZXA6IDAuMDEsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICBfdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleU5hbWU6ICd6b29tJyxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDEwLFxuICAgICAgICBzdGVwOiAwLjAwMDEsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICBfdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICB9XSk7XG5cbiAgICAgIF90aGlzLmd1aS5hZGRGb2xkZXIoJ0dlbmVyYWwgTGlnaHRzJyk7XG5cbiAgICAgIF90aGlzLmdlbmVyYWxMaWdodENvbmZpZyA9IHtcbiAgICAgICAgYW1iaWVudExpZ2h0Q29sb3I6ICcjRkZGRkZGJyxcbiAgICAgICAgYW1iaWVudExpZ2h0QWxwaGE6IDBcbiAgICAgIH07IC8vIEFkZGl0aW9uYWwgbGlnaHRpbmcgb3V0c2lkZSB0aGUgYmxlbmRlci5cbiAgICAgIC8vIHZhciBsaWdodCA9IG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQoIDB4ZmZmZmJiLCAweGZmZmZmZiwgMSApO1xuICAgICAgLy8gdGhpcy5zY2VuZS5hZGQoIGxpZ2h0ICk7XG5cbiAgICAgIF90aGlzLmFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoX3RoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodENvbG9yKTtcbiAgICAgIF90aGlzLmFtYmllbnRMaWdodC5pbnRlbnNpdHkgPSBfdGhpcy5nZW5lcmFsTGlnaHRDb25maWcuYW1iaWVudExpZ2h0QWxwaGE7XG4gICAgICBzY2VuZS5hZGQoX3RoaXMuYW1iaWVudExpZ2h0KTtcblxuICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdHZW5lcmFsIExpZ2h0cycsIF90aGlzLmdlbmVyYWxMaWdodENvbmZpZywgW3tcbiAgICAgICAga2V5TmFtZTogJ2FtYmllbnRMaWdodENvbG9yJyxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIF90aGlzLmFtYmllbnRMaWdodC5jb2xvciA9IG5ldyBUSFJFRS5Db2xvcihfdGhpcy5nZW5lcmFsTGlnaHRDb25maWcuYW1iaWVudExpZ2h0Q29sb3IpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleU5hbWU6ICdhbWJpZW50TGlnaHRBbHBoYScsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICBfdGhpcy5hbWJpZW50TGlnaHQuaW50ZW5zaXR5ID0gX3RoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodEFscGhhO1xuICAgICAgICB9XG4gICAgICB9XSk7IC8vIHZhciB3aWR0aCA9IDUwO1xuICAgICAgLy8gdmFyIGhlaWdodCA9IDUwO1xuICAgICAgLy8gdmFyIGludGVuc2l0eSA9IDA7XG4gICAgICAvLyB2YXIgcmVjdExpZ2h0ID0gbmV3IFRIUkVFLlJlY3RBcmVhTGlnaHQoJyNGRkZGRkYnLCBpbnRlbnNpdHksICB3aWR0aCwgaGVpZ2h0ICk7XG4gICAgICAvLyByZWN0TGlnaHQucG9zaXRpb24uc2V0KCAwLCAwLCAyNSApO1xuICAgICAgLy8gLy8gcmVjdExpZ2h0Lmxvb2tBdCggMCwgMCwgMCApO1xuICAgICAgLy8gdGhpcy5zY2VuZS5hZGQoIHJlY3RMaWdodCApO1xuICAgICAgLy8gcmVjdExpZ2h0SGVscGVyID0gbmV3IFRIUkVFLlJlY3RBcmVhTGlnaHRIZWxwZXIoIHJlY3RMaWdodCApO1xuICAgICAgLy8gcmVjdExpZ2h0LmFkZCggcmVjdExpZ2h0SGVscGVyICk7XG5cblxuICAgICAgX3RoaXMuZ3VpLmFkZEJ1dHRvbignUmVmcmVzaCcsIF90aGlzLnJlZnJlc2guYmluZChfdGhpcykpO1xuICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe1xuICAgICAgYW50aWFsaWFzOiB0cnVlLFxuICAgICAgLy8gcHJlY2lzaW9uOiAnaGlnaHAnXG4gICAgICBhdXRvU2l6ZTogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuY29tcG9zZXIgPSBuZXcgRWZmZWN0Q29tcG9zZXIodGhpcy5yZW5kZXJlcik7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUuYmluZCh0aGlzKSwgZmFsc2UpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRocmVlT2JqZWN0Vmlld2VyNiwgW3tcbiAgICBrZXk6IFwicmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHtcbiAgICAgIHRoaXMucHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAxLCBFQVNFLkxpbmVhcik7XG4gICAgICB0aGlzLndpZHRoID0gdGhpcy5jYW52YXNDb250YWluZXIucGFyZW50RWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5jYW52YXNDb250YWluZXIucGFyZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kb25tY2N1cmR5L3RocmVlLWdsdGYtdmlld2VyL2Jsb2IvbWFzdGVyL3NyYy92aWV3ZXIuanNcbiAgICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL2NvbnN0YW50cy9SZW5kZXJlclxuXG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTsgLy8gUG9zdCBwcm9jZXNzaW5nXG4gICAgICAvLyB0aGlzLmNvbXBvc2VyLnNldFNpemUoIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgIC8vIGNvbnN0IGZ4YWFQYXNzID0gbmV3IFNoYWRlclBhc3MoIEZYQUFTaGFkZXIgKTtcbiAgICAgIC8vIGZ4YWFQYXNzLm1hdGVyaWFsLnVuaWZvcm1zWyAncmVzb2x1dGlvbicgXS52YWx1ZS54ID0gMSAvICggdGhpcy53aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgIC8vIGZ4YWFQYXNzLm1hdGVyaWFsLnVuaWZvcm1zWyAncmVzb2x1dGlvbicgXS52YWx1ZS55ID0gMSAvICggdGhpcy5oZWlnaHQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAvLyB0aGlzLmNvbXBvc2VyLmFkZFBhc3MoZnhhYVBhc3MpO1xuICAgICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKG5ldyBSZW5kZXJQYXNzKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKSk7XG4gICAgICAvLyB2YXIgYmxvb21QYXNzID0gbmV3IFVucmVhbEJsb29tUGFzcygxLCAyNSwgNSwgMjU2KTtcbiAgICAgIC8vIHRoaXMuY29tcG9zZXIuYWRkUGFzcyhibG9vbVBhc3MpO1xuICAgICAgLy8gVGhlIGNhbWVyYSBhc3BlY3QgZ29lcyBvZmYgc2luY2UgaXQgY291bGQgYmUgZXhwb3J0ZWQgYXQgYSBkaWZmZXJlbnRcbiAgICAgIC8vIHJhdGlvLiAgRm9yY2UgdXBkYXRlIHRoZSBhc3BlY3QgcmF0aW8uXG5cbiAgICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHRoaXMud2lkdGggLyB0aGlzLmhlaWdodDtcbiAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVmcmVzaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWZyZXNoKCkge1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKHRoaXMucmVuZGVyZXJDb25maWcuY2xlYXJDb2xvciwgdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpO1xuICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICAgIHRoaXMuZHJhdygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRBbmltYXRpb25CeU5hbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QW5pbWF0aW9uQnlOYW1lKG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChhbmltYXRpb25DbGlwKSB7XG4gICAgICAgIHJldHVybiBhbmltYXRpb25DbGlwLm5hbWUgPT0gbmFtZTtcbiAgICAgIH0pWzBdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRPYmplY3RCeU5hbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T2JqZWN0QnlOYW1lKG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmFjdGl2ZVNjZW5lLmNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbiAob2JqZWN0M2QpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDNkLm5hbWUgPT0gbmFtZTtcbiAgICAgIH0pWzBdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblByb2dyZXNzVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUHJvZ3Jlc3NVcGRhdGUocHJvZ3Jlc3MpIHtcbiAgICAgIC8vQW5pbWF0aW9uIE1peGVy44KS5a6f6KGMXG4gICAgICBpZiAodGhpcy5taXhlcikge1xuICAgICAgICAvLyBXZSBuZWVkIHRvIGZpbmQgb3V0IGhvdyBsb25nIHRoZSBhbmltYXRpb24gaXMuXG4gICAgICAgIC8vIFRoZSBtaXhlciBhcHBlYXJzIHRvIGhhdmUgbm8ga25vd2xlZGdlIG9mdCB0aGlzIHNvIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gbG9vayB1cCBhIHNwZWNpZmljIGFuaW1hdGlvbiBhbmQgZ2V0IHRoZSBkdXJhdGlvbiB0b1xuICAgICAgICAvLyBnZXQgdGhlIHRvdGFsIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICAgIHZhciBjYW1lcmFBbmltYXRpb24gPSB0aGlzLmdldEFuaW1hdGlvbkJ5TmFtZSgnQWN0aW9uLjAwMScpO1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBjYW1lcmFBbmltYXRpb24uZHVyYXRpb247IC8vIFdoZW4gZHVyYXRpb24gaGl0cyBpdCdzIG1heCwgYW5pbWF0aW9uTWl4ZXIgc2VlbXMgdG8gaGl0IHRoZSBmaXJzdFxuICAgICAgICAvLyBmcmFtZSBzbyBuZXh0IGFsbG93IGl0IHRvIHJlYWNoIHRoZSBtYXggdmFsdWUuXG5cbiAgICAgICAgdGhpcy5taXhlci5zZXRUaW1lKE1hdGgubWluKGR1cmF0aW9uICogcHJvZ3Jlc3MsIGR1cmF0aW9uIC0gMC4wMDEpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5kcmF3KCk7IC8vIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICAgIC8vIHRoaXMuY29tcG9zZXIucmVuZGVyKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRyYXdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdygpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVGhyZWVPYmplY3RWaWV3ZXI2O1xufSgpO1xuXG5leHBvcnQgeyBUaHJlZU9iamVjdFZpZXdlcjYgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/three-object-viewer6.js\n");

/***/ }),

/***/ "./examples/three-object-viewer7.js":
/*!******************************************!*\
  !*** ./examples/three-object-viewer7.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ThreeObjectViewer7; });\n/* harmony import */ var _lib_datguif_datguif__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/datguif/datguif */ \"./lib/datguif/datguif.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_EffectComposer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer */ \"./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/RenderPass.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_UnrealBloomPass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/postprocessing/UnrealBloomPass.js */ \"./node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js\");\n/* harmony import */ var three_examples_jsm_shaders_FXAAShader_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/shaders/FXAAShader.js */ \"./node_modules/three/examples/jsm/shaders/FXAAShader.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/ShaderPass.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// https://threejs.org/docs/#manual/en/introduction/Loading-3D-models\n// https://threejs.org/examples/#webgl_loader_gltf\n// https://gist.github.com/bellbind/c4f8c502fcacbe29422e5ac315273858\n// https://github.com/funwithtriangles/blender-to-threejs-export-guide/blob/master/readme.md\n// https://threejsfundamentals.org/threejs/lessons/threejs-load-gltf.html\n// https://discoverthreejs.com/book/first-steps/load-models/\n// https://www.pentacreation.com/blog/2019/09/190916.html\n// https://www.pentacreation.com/blog/2019/10/191016.html\n// https://docs.blender.org/manual/ja/latest/addons/io_scene_gltf2.html\n// https://gltf-viewer.donmccurdy.com/\n// https://github.com/donmccurdy/three-gltf-viewer\n\n\n\n\n\n\n\n // import { Raf } from '../lib/raf/raf';\n\n\n\n\n\n\nvar ThreeObjectViewer7 = /*#__PURE__*/function () {\n  function ThreeObjectViewer7() {\n    var _this = this;\n\n    _classCallCheck(this, ThreeObjectViewer7);\n\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_8__[\"DomWatcher\"]();\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_9__[\"RafProgress\"]();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.scrollLerp = 0.38;\n    this.scrollEase = 'easeInQuad';\n    this.rendererConfig = {\n      clearColor: '#000000',\n      backgroundAlpha: 1.0\n    };\n    this.gui = new _lib_datguif_datguif__WEBPACK_IMPORTED_MODULE_0__[\"Datguif\"]({\n      load: JSON\n    });\n    this.gui.addFolder('Settings').open();\n    this.gui.addFolder('Renderer', 'Settings');\n    this.gui.addFolder('Camera', 'Settings');\n    this.gui.addFolder('Scroll', 'Settings');\n    this.gui.addFolder('Lights');\n    this.gui.addFolder('Objects');\n    this.gui.addObjectToFolder('Scroll', this, [{\n      keyName: 'scrollLerp',\n      min: 0,\n      max: 1,\n      step: 0.01\n    }, {\n      keyName: 'scrollEase',\n      options: ['linear', 'easeOutQuad', 'easeInQuad']\n    }]);\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__[\"dom\"].getElementScrolledPercent(_this.parentElement, window.innerHeight); //   this.rafProgress.easeTo(this.progress, 0.26, EASE.easeInOutExpo);\n        //   this.rafProgress.easeTo(this.progress, 0.08, EASE.linear);\n\n        _this.rafProgress.easeTo(_this.progress, _this.scrollLerp, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__[\"EASE\"][_this.scrollEase]);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_1__[\"Scene\"]();\n    this.gui.onUpdate(function (prop) {\n      _this.draw();\n    });\n    var loader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_2__[\"GLTFLoader\"]();\n    var path = './public/home/demo7.gltf';\n    loader.load(path, function (gltf) {\n      var gltfData = gltf.parser.json;\n\n      var getNodeByName = function getNodeByName(name) {\n        return gltfData.nodes.filter(function (node) {\n          return node.name = name;\n        })[0];\n      };\n\n      console.log('gltf data', gltfData);\n      _this.clock = new three__WEBPACK_IMPORTED_MODULE_1__[\"Clock\"]();\n      var scene = gltf.scenes[0];\n      _this.activeScene = scene;\n      _this.animations = gltf.animations; // Animation Mixer\n\n      _this.mixer = new three__WEBPACK_IMPORTED_MODULE_1__[\"AnimationMixer\"](scene); //Animation Clip\n\n      for (var i = 0; i < _this.animations.length; i++) {\n        var animation = _this.animations[i]; //Animation Action\n\n        var action = _this.mixer.clipAction(animation);\n\n        console.log('added', animation);\n        action.play();\n      }\n\n      _this.scene.add(scene);\n\n      console.log('scene', scene);\n      console.log('mixer', _this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      _this.scene.traverse(function (child) {\n        if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"Light\"]) {\n          // child.castShadow = false;\n          // console.log('light', child);\n          // Set all lights to layer 1.\n          child.layers.set(1); // Debugging light positions.\n          // child.shadowCameraVisible = false;\n          // if(child.shadow) {\n          //     // Adjust shadow bias.\n          //     // child.shadow.bias = -0.002;\n          //     // Remove the rigged looking shadows.\n          //     // child.shadow.mapSize.width = 1024;\n          //     // child.shadow.mapSize.height = 1024;\n          //     // child.shadowDarkness = 0.5;\n          //     // child.shadow.camera.near = 0;\n          //     // child.shadow.camera.far = 1000;\n          //     // var helper = new THREE.CameraHelper( child.shadow.camera );\n          //     // scene.add( helper );\n          // }\n          // // Point lights are defined in watts which goes waay off in three.js\n          // if (child instanceof THREE.PointLight) {\n          //     child.intensity = child.intensity * 0.01;\n          // }\n          // // If it's a spot light, it needs to go down even more.\n          // if (child.type == \"SpotLight\") {\n          //     child.intensity = child.intensity * 0.001;\n          // }\n\n          child.intensity = 0;\n\n          if (child.name == 'Point004_Orientation') {\n            child.intensity = 1.3;\n          }\n\n          _this.gui.addFolder(child.name, 'Lights');\n\n          _this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'intensity',\n            min: 0,\n            max: 3000\n          }, {\n            keyName: 'color'\n          }]);\n\n          if (child.shadow) {\n            var shadowFolderId = child.name + ' shadow'; // console.log(child.shadow);\n\n            _this.gui.addFolder(shadowFolderId, child.name);\n\n            _this.gui.addObjectToFolder(shadowFolderId, child.shadow, [{\n              keyName: 'bias',\n              min: -1,\n              max: 1,\n              step: 0.00001\n            }, {\n              keyName: 'radius',\n              min: 0,\n              max: 100,\n              step: 0.01\n            }]);\n          }\n        } else if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"Mesh\"]) {\n          // child.castShadow = true;\n          // child.receiveShadow = true;\n          // child.geometry.computeVertexNormals(true);\n          console.log('mesh', child);\n          var lightEnabled = ['p4-super-sm', 'p4-super-sm001', 'p4-super-sm002'];\n\n          if (~lightEnabled.indexOf(child.name)) {\n            child.layers.set(1);\n          }\n\n          _this.gui.addFolder(child.name, 'Objects');\n\n          _this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'receiveShadow'\n          }]);\n\n          if (child.material) {\n            var materialId = child.name + ' material';\n\n            _this.gui.addFolder(materialId, child.name);\n\n            _this.gui.addObjectToFolder(materialId, child.material, [{\n              keyName: 'emissiveIntensity',\n              min: 0,\n              max: 1\n            }, {\n              keyName: 'flatShading',\n              callback: function callback() {\n                child.material.needsUpdate = true;\n              }\n            }, {\n              keyName: 'wireframe',\n              callback: function callback() {\n                child.material.needsUpdate = true;\n              }\n            }]); // Enable smooth shading.\n            // child.material.flatShading = false;\n            // child.material.wireframe = false;\n            // child.material.needsUpdate = true;\n            // child.geometry.computeFaceNormals();\n            // child.geometry.computeVertexNormals(true);\n\n          } // Get the image mappings.\n          // if(child.material && child.material.map) {\n          //   child.material.map.needsUpdate = true;\n          // }\n\n        } else {\n          console.log('other', child);\n        }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n\n      _this.camera = gltf.cameras[0];\n      console.log('camera', _this.camera);\n\n      _this.resize(); // Use fog to cover far distances.\n\n\n      var color = 0x00000;\n      _this.scene.fog = new three__WEBPACK_IMPORTED_MODULE_1__[\"Fog\"](color, 5, 8); // Enable shadows.\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      _this.renderer.shadowMap.enabled = true; // To antialias the shadow\n\n      _this.renderer.shadowMap.type = three__WEBPACK_IMPORTED_MODULE_1__[\"PCFSoftShadowMap\"];\n      _this.renderer.gammaOutput = true;\n      _this.renderer.gammaFactor = 3; // Important to get the correct colors.\n      // this.renderer.physicallyCorrectLigts = true;\n      // Background as black.\n      // this.renderer.setClearColor(0x4287f5);\n\n      _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha); // Affects how strongly lights come exposed.\n      // https://threejs.org/examples/#webgl_tonemapping\n\n\n      _this.renderer.toneMappingExposure = 1; // this.renderer.toneMappingExposure = 0.6;\n\n      _this.renderer.toneMapping = three__WEBPACK_IMPORTED_MODULE_1__[\"ACESFilmicToneMapping\"];\n\n      _this.gui.addObjectToFolder('Renderer', _this.renderer, [{\n        keyName: 'toneMappingExposure',\n        min: 0,\n        max: 5,\n        step: 0.01\n      }, {\n        keyName: 'gammaFactor',\n        min: 0,\n        max: 10,\n        step: 0.01\n      }]);\n\n      _this.gui.addObjectToFolder('Renderer', _this.rendererConfig, [{\n        keyName: 'clearColor',\n        callback: function callback() {\n          _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha);\n        }\n      }, {\n        keyName: 'backgroundAlpha',\n        callback: function callback() {\n          _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha);\n        }\n      }]);\n\n      _this.gui.addObjectToFolder('Camera', _this.camera, [{\n        keyName: 'fov',\n        min: 0,\n        max: 50,\n        step: 0.01,\n        callback: function callback() {\n          _this.camera.updateProjectionMatrix();\n        }\n      }, {\n        keyName: 'zoom',\n        min: 0,\n        max: 10,\n        step: 0.0001,\n        callback: function callback() {\n          _this.camera.updateProjectionMatrix();\n        }\n      }]);\n\n      _this.gui.addFolder('General Lights');\n\n      _this.generalLightConfig = {\n        ambientLightColor: '#FFFFFF',\n        ambientLightAlpha: 0\n      }; // Additional lighting outside the blender.\n      // var light = new THREE.HemisphereLight( 0xffffbb, 0xffffff, 1 );\n      // this.scene.add( light );\n\n      _this.ambientLight = new three__WEBPACK_IMPORTED_MODULE_1__[\"AmbientLight\"](_this.generalLightConfig.ambientLightColor);\n      _this.ambientLight.intensity = _this.generalLightConfig.ambientLightAlpha;\n      scene.add(_this.ambientLight);\n\n      _this.gui.addObjectToFolder('General Lights', _this.generalLightConfig, [{\n        keyName: 'ambientLightColor',\n        callback: function callback() {\n          _this.ambientLight.color = new three__WEBPACK_IMPORTED_MODULE_1__[\"Color\"](_this.generalLightConfig.ambientLightColor);\n        }\n      }, {\n        keyName: 'ambientLightAlpha',\n        callback: function callback() {\n          _this.ambientLight.intensity = _this.generalLightConfig.ambientLightAlpha;\n        }\n      }]); // var width = 50;\n      // var height = 50;\n      // var intensity = 0;\n      // var rectLight = new THREE.RectAreaLight('#FFFFFF', intensity,  width, height );\n      // rectLight.position.set( 0, 0, 25 );\n      // // rectLight.lookAt( 0, 0, 0 );\n      // this.scene.add( rectLight );\n      // rectLightHelper = new THREE.RectAreaLightHelper( rectLight );\n      // rectLight.add( rectLightHelper );\n\n\n      _this.gui.addButton('Refresh', _this.refresh.bind(_this));\n    }, undefined, function (error) {\n      console.error(error);\n    });\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_1__[\"WebGLRenderer\"]({\n      antialias: true,\n      // precision: 'highp'\n      autoSize: true\n    });\n    this.composer = new three_examples_jsm_postprocessing_EffectComposer__WEBPACK_IMPORTED_MODULE_3__[\"EffectComposer\"](this.renderer);\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  _createClass(ThreeObjectViewer7, [{\n    key: \"resize\",\n    value: function resize() {\n      this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__[\"dom\"].getElementScrolledPercent(this.parentElement, window.innerHeight);\n      this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__[\"EASE\"].Linear);\n      this.width = this.canvasContainer.parentElement.offsetWidth;\n      this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      this.renderer.setPixelRatio(window.devicePixelRatio);\n      this.renderer.setSize(this.width, this.height); // Post processing\n      // this.composer.setSize( this.width, this.height);\n      // const fxaaPass = new ShaderPass( FXAAShader );\n      // fxaaPass.material.uniforms[ 'resolution' ].value.x = 1 / ( this.width * window.devicePixelRatio);\n      // fxaaPass.material.uniforms[ 'resolution' ].value.y = 1 / ( this.height * window.devicePixelRatio);\n      // this.composer.addPass(fxaaPass);\n      // this.composer.addPass(new RenderPass(this.scene, this.camera));\n      // var bloomPass = new UnrealBloomPass(1, 25, 5, 256);\n      // this.composer.addPass(bloomPass);\n      // The camera aspect goes off since it could be exported at a different\n      // ratio.  Force update the aspect ratio.\n\n      this.camera.aspect = this.width / this.height;\n      this.camera.updateProjectionMatrix();\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n      this.resize();\n      this.draw();\n    }\n  }, {\n    key: \"getAnimationByName\",\n    value: function getAnimationByName(name) {\n      return this.animations.filter(function (animationClip) {\n        return animationClip.name == name;\n      })[0];\n    }\n  }, {\n    key: \"getObjectByName\",\n    value: function getObjectByName(name) {\n      return this.activeScene.children.filter(function (object3d) {\n        return object3d.name == name;\n      })[0];\n    }\n  }, {\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(progress) {\n      //Animation Mixer\n      if (this.mixer) {\n        // We need to find out how long the animation is.\n        // The mixer appears to have no knowledge oft this so we need to\n        // look up a specific animation and get the duration to\n        // get the total duration of the animation.\n        var cameraAnimation = this.getAnimationByName('Action.001');\n        var duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n        // frame so next allow it to reach the max value.\n\n        this.mixer.setTime(Math.min(duration * progress, duration - 0.001));\n      }\n\n      this.draw(); // this.renderer.render(this.scene, this.camera);\n      // this.composer.render();\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      this.renderer.autoClear = true;\n      this.camera.layers.set(0);\n      this.renderer.render(this.scene, this.camera);\n      this.renderer.autoClear = false; // Don't clear\n\n      this.camera.layers.set(1);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return ThreeObjectViewer7;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyNy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLW9iamVjdC12aWV3ZXI3LmpzP2I2MTkiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI21hbnVhbC9lbi9pbnRyb2R1Y3Rpb24vTG9hZGluZy0zRC1tb2RlbHNcbi8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX2xvYWRlcl9nbHRmXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9iZWxsYmluZC9jNGY4YzUwMmZjYWNiZTI5NDIyZTVhYzMxNTI3Mzg1OFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Z1bndpdGh0cmlhbmdsZXMvYmxlbmRlci10by10aHJlZWpzLWV4cG9ydC1ndWlkZS9ibG9iL21hc3Rlci9yZWFkbWUubWRcbi8vIGh0dHBzOi8vdGhyZWVqc2Z1bmRhbWVudGFscy5vcmcvdGhyZWVqcy9sZXNzb25zL3RocmVlanMtbG9hZC1nbHRmLmh0bWxcbi8vIGh0dHBzOi8vZGlzY292ZXJ0aHJlZWpzLmNvbS9ib29rL2ZpcnN0LXN0ZXBzL2xvYWQtbW9kZWxzL1xuLy8gaHR0cHM6Ly93d3cucGVudGFjcmVhdGlvbi5jb20vYmxvZy8yMDE5LzA5LzE5MDkxNi5odG1sXG4vLyBodHRwczovL3d3dy5wZW50YWNyZWF0aW9uLmNvbS9ibG9nLzIwMTkvMTAvMTkxMDE2Lmh0bWxcbi8vIGh0dHBzOi8vZG9jcy5ibGVuZGVyLm9yZy9tYW51YWwvamEvbGF0ZXN0L2FkZG9ucy9pb19zY2VuZV9nbHRmMi5odG1sXG4vLyBodHRwczovL2dsdGYtdmlld2VyLmRvbm1jY3VyZHkuY29tL1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rvbm1jY3VyZHkvdGhyZWUtZ2x0Zi12aWV3ZXJcbmltcG9ydCB7IERhdGd1aWYgfSBmcm9tICcuLi9saWIvZGF0Z3VpZi9kYXRndWlmJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyJztcbmltcG9ydCB7IEVmZmVjdENvbXBvc2VyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL0VmZmVjdENvbXBvc2VyJztcbmltcG9ydCB7IFJlbmRlclBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvUmVuZGVyUGFzcy5qcyc7XG5pbXBvcnQgeyBVbnJlYWxCbG9vbVBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvVW5yZWFsQmxvb21QYXNzLmpzJztcbmltcG9ydCB7IEZYQUFTaGFkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vc2hhZGVycy9GWEFBU2hhZGVyLmpzJztcbmltcG9ydCB7IFNoYWRlclBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvU2hhZGVyUGFzcy5qcyc7IC8vIGltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcblxuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuaW1wb3J0IHsgUmFmUHJvZ3Jlc3MgfSBmcm9tICcuLi9saWIvcmFmL3JhZi1wcm9ncmVzcyc7XG5pbXBvcnQgeyBkb20gfSBmcm9tICcuLi9saWIvZG9tL2RvbSc7XG5pbXBvcnQgeyBFQVNFIH0gZnJvbSAnLi4vbGliL2Vhc2UvZWFzZSc7XG5cbnZhciBUaHJlZU9iamVjdFZpZXdlcjcgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUaHJlZU9iamVjdFZpZXdlcjcoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaHJlZU9iamVjdFZpZXdlcjcpO1xuXG4gICAgY29uc29sZS5sb2coJ1RocmVlSlMgT2JqZWN0IFZpZXdlciBEZW1vJyk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MgPSBuZXcgUmFmUHJvZ3Jlc3MoKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnNjcm9sbExlcnAgPSAwLjM4O1xuICAgIHRoaXMuc2Nyb2xsRWFzZSA9ICdlYXNlSW5RdWFkJztcbiAgICB0aGlzLnJlbmRlcmVyQ29uZmlnID0ge1xuICAgICAgY2xlYXJDb2xvcjogJyMwMDAwMDAnLFxuICAgICAgYmFja2dyb3VuZEFscGhhOiAxLjBcbiAgICB9O1xuICAgIHRoaXMuZ3VpID0gbmV3IERhdGd1aWYoe1xuICAgICAgbG9hZDogSlNPTlxuICAgIH0pO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignU2V0dGluZ3MnKS5vcGVuKCk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdSZW5kZXJlcicsICdTZXR0aW5ncycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignQ2FtZXJhJywgJ1NldHRpbmdzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdTY3JvbGwnLCAnU2V0dGluZ3MnKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ0xpZ2h0cycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignT2JqZWN0cycpO1xuICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdTY3JvbGwnLCB0aGlzLCBbe1xuICAgICAga2V5TmFtZTogJ3Njcm9sbExlcnAnLFxuICAgICAgbWluOiAwLFxuICAgICAgbWF4OiAxLFxuICAgICAgc3RlcDogMC4wMVxuICAgIH0sIHtcbiAgICAgIGtleU5hbWU6ICdzY3JvbGxFYXNlJyxcbiAgICAgIG9wdGlvbnM6IFsnbGluZWFyJywgJ2Vhc2VPdXRRdWFkJywgJ2Vhc2VJblF1YWQnXVxuICAgIH1dKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhldmVudCkge1xuICAgICAgICBfdGhpcy5wcm9ncmVzcyA9IGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KF90aGlzLnBhcmVudEVsZW1lbnQsIHdpbmRvdy5pbm5lckhlaWdodCk7IC8vICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMC4yNiwgRUFTRS5lYXNlSW5PdXRFeHBvKTtcbiAgICAgICAgLy8gICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjA4LCBFQVNFLmxpbmVhcik7XG5cbiAgICAgICAgX3RoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKF90aGlzLnByb2dyZXNzLCBfdGhpcy5zY3JvbGxMZXJwLCBFQVNFW190aGlzLnNjcm9sbEVhc2VdKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLmd1aS5vblVwZGF0ZShmdW5jdGlvbiAocHJvcCkge1xuICAgICAgX3RoaXMuZHJhdygpO1xuICAgIH0pO1xuICAgIHZhciBsb2FkZXIgPSBuZXcgR0xURkxvYWRlcigpO1xuICAgIHZhciBwYXRoID0gJy4vcHVibGljL2hvbWUvZGVtbzcuZ2x0Zic7XG4gICAgbG9hZGVyLmxvYWQocGF0aCwgZnVuY3Rpb24gKGdsdGYpIHtcbiAgICAgIHZhciBnbHRmRGF0YSA9IGdsdGYucGFyc2VyLmpzb247XG5cbiAgICAgIHZhciBnZXROb2RlQnlOYW1lID0gZnVuY3Rpb24gZ2V0Tm9kZUJ5TmFtZShuYW1lKSB7XG4gICAgICAgIHJldHVybiBnbHRmRGF0YS5ub2Rlcy5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICByZXR1cm4gbm9kZS5uYW1lID0gbmFtZTtcbiAgICAgICAgfSlbMF07XG4gICAgICB9O1xuXG4gICAgICBjb25zb2xlLmxvZygnZ2x0ZiBkYXRhJywgZ2x0ZkRhdGEpO1xuICAgICAgX3RoaXMuY2xvY2sgPSBuZXcgVEhSRUUuQ2xvY2soKTtcbiAgICAgIHZhciBzY2VuZSA9IGdsdGYuc2NlbmVzWzBdO1xuICAgICAgX3RoaXMuYWN0aXZlU2NlbmUgPSBzY2VuZTtcbiAgICAgIF90aGlzLmFuaW1hdGlvbnMgPSBnbHRmLmFuaW1hdGlvbnM7IC8vIEFuaW1hdGlvbiBNaXhlcuOCpOODs+OCueOCv+ODs+OCueOCkueUn+aIkFxuXG4gICAgICBfdGhpcy5taXhlciA9IG5ldyBUSFJFRS5BbmltYXRpb25NaXhlcihzY2VuZSk7IC8v5YWo44Gm44GuQW5pbWF0aW9uIENsaXDjgavlr77jgZfjgaZcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5hbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhbmltYXRpb24gPSBfdGhpcy5hbmltYXRpb25zW2ldOyAvL0FuaW1hdGlvbiBBY3Rpb27jgpLnlJ/miJBcblxuICAgICAgICB2YXIgYWN0aW9uID0gX3RoaXMubWl4ZXIuY2xpcEFjdGlvbihhbmltYXRpb24pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdhZGRlZCcsIGFuaW1hdGlvbik7XG4gICAgICAgIGFjdGlvbi5wbGF5KCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNjZW5lLmFkZChzY2VuZSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdzY2VuZScsIHNjZW5lKTtcbiAgICAgIGNvbnNvbGUubG9nKCdtaXhlcicsIF90aGlzLm1peGVyKTsgLy8gaHR0cDovL2xlYXJuaW5ndGhyZWVqcy5jb20vYmxvZy8yMDEyLzAxLzIwL2Nhc3Rpbmctc2hhZG93cy9cblxuICAgICAgX3RoaXMuc2NlbmUudHJhdmVyc2UoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLkxpZ2h0KSB7XG4gICAgICAgICAgLy8gY2hpbGQuY2FzdFNoYWRvdyA9IGZhbHNlO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdsaWdodCcsIGNoaWxkKTtcbiAgICAgICAgICAvLyBTZXQgYWxsIGxpZ2h0cyB0byBsYXllciAxLlxuICAgICAgICAgIGNoaWxkLmxheWVycy5zZXQoMSk7IC8vIERlYnVnZ2luZyBsaWdodCBwb3NpdGlvbnMuXG4gICAgICAgICAgLy8gY2hpbGQuc2hhZG93Q2FtZXJhVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgIC8vIGlmKGNoaWxkLnNoYWRvdykge1xuICAgICAgICAgIC8vICAgICAvLyBBZGp1c3Qgc2hhZG93IGJpYXMuXG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvdy5iaWFzID0gLTAuMDAyO1xuICAgICAgICAgIC8vICAgICAvLyBSZW1vdmUgdGhlIHJpZ2dlZCBsb29raW5nIHNoYWRvd3MuXG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvdy5tYXBTaXplLndpZHRoID0gMTAyNDtcbiAgICAgICAgICAvLyAgICAgLy8gY2hpbGQuc2hhZG93Lm1hcFNpemUuaGVpZ2h0ID0gMTAyNDtcbiAgICAgICAgICAvLyAgICAgLy8gY2hpbGQuc2hhZG93RGFya25lc3MgPSAwLjU7XG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvdy5jYW1lcmEubmVhciA9IDA7XG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvdy5jYW1lcmEuZmFyID0gMTAwMDtcbiAgICAgICAgICAvLyAgICAgLy8gdmFyIGhlbHBlciA9IG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIoIGNoaWxkLnNoYWRvdy5jYW1lcmEgKTtcbiAgICAgICAgICAvLyAgICAgLy8gc2NlbmUuYWRkKCBoZWxwZXIgKTtcbiAgICAgICAgICAvLyB9XG4gICAgICAgICAgLy8gLy8gUG9pbnQgbGlnaHRzIGFyZSBkZWZpbmVkIGluIHdhdHRzIHdoaWNoIGdvZXMgd2FheSBvZmYgaW4gdGhyZWUuanNcbiAgICAgICAgICAvLyBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5Qb2ludExpZ2h0KSB7XG4gICAgICAgICAgLy8gICAgIGNoaWxkLmludGVuc2l0eSA9IGNoaWxkLmludGVuc2l0eSAqIDAuMDE7XG4gICAgICAgICAgLy8gfVxuICAgICAgICAgIC8vIC8vIElmIGl0J3MgYSBzcG90IGxpZ2h0LCBpdCBuZWVkcyB0byBnbyBkb3duIGV2ZW4gbW9yZS5cbiAgICAgICAgICAvLyBpZiAoY2hpbGQudHlwZSA9PSBcIlNwb3RMaWdodFwiKSB7XG4gICAgICAgICAgLy8gICAgIGNoaWxkLmludGVuc2l0eSA9IGNoaWxkLmludGVuc2l0eSAqIDAuMDAxO1xuICAgICAgICAgIC8vIH1cblxuICAgICAgICAgIGNoaWxkLmludGVuc2l0eSA9IDA7XG5cbiAgICAgICAgICBpZiAoY2hpbGQubmFtZSA9PSAnUG9pbnQwMDRfT3JpZW50YXRpb24nKSB7XG4gICAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSAxLjM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMuZ3VpLmFkZEZvbGRlcihjaGlsZC5uYW1lLCAnTGlnaHRzJyk7XG5cbiAgICAgICAgICBfdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoY2hpbGQubmFtZSwgY2hpbGQsIFt7XG4gICAgICAgICAgICBrZXlOYW1lOiAnY2FzdFNoYWRvdydcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXlOYW1lOiAnaW50ZW5zaXR5JyxcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIG1heDogMzAwMFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleU5hbWU6ICdjb2xvcidcbiAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICBpZiAoY2hpbGQuc2hhZG93KSB7XG4gICAgICAgICAgICB2YXIgc2hhZG93Rm9sZGVySWQgPSBjaGlsZC5uYW1lICsgJyBzaGFkb3cnOyAvLyBjb25zb2xlLmxvZyhjaGlsZC5zaGFkb3cpO1xuXG4gICAgICAgICAgICBfdGhpcy5ndWkuYWRkRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5uYW1lKTtcblxuICAgICAgICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5zaGFkb3csIFt7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdiaWFzJyxcbiAgICAgICAgICAgICAgbWluOiAtMSxcbiAgICAgICAgICAgICAgbWF4OiAxLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAwMDAxXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdyYWRpdXMnLFxuICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgIG1heDogMTAwLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAxXG4gICAgICAgICAgICB9XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaCkge1xuICAgICAgICAgIC8vIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNoaWxkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKHRydWUpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdtZXNoJywgY2hpbGQpO1xuICAgICAgICAgIHZhciBsaWdodEVuYWJsZWQgPSBbJ3A0LXN1cGVyLXNtJywgJ3A0LXN1cGVyLXNtMDAxJywgJ3A0LXN1cGVyLXNtMDAyJ107XG5cbiAgICAgICAgICBpZiAofmxpZ2h0RW5hYmxlZC5pbmRleE9mKGNoaWxkLm5hbWUpKSB7XG4gICAgICAgICAgICBjaGlsZC5sYXllcnMuc2V0KDEpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzLmd1aS5hZGRGb2xkZXIoY2hpbGQubmFtZSwgJ09iamVjdHMnKTtcblxuICAgICAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihjaGlsZC5uYW1lLCBjaGlsZCwgW3tcbiAgICAgICAgICAgIGtleU5hbWU6ICdjYXN0U2hhZG93J1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleU5hbWU6ICdyZWNlaXZlU2hhZG93J1xuICAgICAgICAgIH1dKTtcblxuICAgICAgICAgIGlmIChjaGlsZC5tYXRlcmlhbCkge1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFsSWQgPSBjaGlsZC5uYW1lICsgJyBtYXRlcmlhbCc7XG5cbiAgICAgICAgICAgIF90aGlzLmd1aS5hZGRGb2xkZXIobWF0ZXJpYWxJZCwgY2hpbGQubmFtZSk7XG5cbiAgICAgICAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihtYXRlcmlhbElkLCBjaGlsZC5tYXRlcmlhbCwgW3tcbiAgICAgICAgICAgICAga2V5TmFtZTogJ2VtaXNzaXZlSW50ZW5zaXR5JyxcbiAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICBtYXg6IDFcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAga2V5TmFtZTogJ2ZsYXRTaGFkaW5nJyxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBrZXlOYW1lOiAnd2lyZWZyYW1lJyxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pOyAvLyBFbmFibGUgc21vb3RoIHNoYWRpbmcuXG4gICAgICAgICAgICAvLyBjaGlsZC5tYXRlcmlhbC5mbGF0U2hhZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gY2hpbGQubWF0ZXJpYWwud2lyZWZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBjaGlsZC5tYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAvLyBjaGlsZC5nZW9tZXRyeS5jb21wdXRlRmFjZU5vcm1hbHMoKTtcbiAgICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKHRydWUpO1xuXG4gICAgICAgICAgfSAvLyBHZXQgdGhlIGltYWdlIG1hcHBpbmdzLlxuICAgICAgICAgIC8vIGlmKGNoaWxkLm1hdGVyaWFsICYmIGNoaWxkLm1hdGVyaWFsLm1hcCkge1xuICAgICAgICAgIC8vICAgY2hpbGQubWF0ZXJpYWwubWFwLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAvLyB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnb3RoZXInLCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgIH0pOyAvLyBTZXQgdGhlIGNhbWVyYSBleHBvcnRlZCBpbiBnbHRmLlxuICAgICAgLy8gUmVxdWlyZXMgY2FtZXJhIHRvIGJlIGV4cG9ydGVkIGZvciBnbHRmLlxuXG5cbiAgICAgIF90aGlzLmNhbWVyYSA9IGdsdGYuY2FtZXJhc1swXTtcbiAgICAgIGNvbnNvbGUubG9nKCdjYW1lcmEnLCBfdGhpcy5jYW1lcmEpO1xuXG4gICAgICBfdGhpcy5yZXNpemUoKTsgLy8gVXNlIGZvZyB0byBjb3ZlciBmYXIgZGlzdGFuY2VzLlxuXG5cbiAgICAgIHZhciBjb2xvciA9IDB4MDAwMDA7XG4gICAgICBfdGhpcy5zY2VuZS5mb2cgPSBuZXcgVEhSRUUuRm9nKGNvbG9yLCA1LCA4KTsgLy8gRW5hYmxlIHNoYWRvd3MuXG4gICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9jb25zdGFudHMvUmVuZGVyZXJcblxuICAgICAgX3RoaXMucmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlOyAvLyBUbyBhbnRpYWxpYXMgdGhlIHNoYWRvd1xuXG4gICAgICBfdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG4gICAgICBfdGhpcy5yZW5kZXJlci5nYW1tYU91dHB1dCA9IHRydWU7XG4gICAgICBfdGhpcy5yZW5kZXJlci5nYW1tYUZhY3RvciA9IDM7IC8vIEltcG9ydGFudCB0byBnZXQgdGhlIGNvcnJlY3QgY29sb3JzLlxuICAgICAgLy8gdGhpcy5yZW5kZXJlci5waHlzaWNhbGx5Q29ycmVjdExpZ3RzID0gdHJ1ZTtcbiAgICAgIC8vIEJhY2tncm91bmQgYXMgYmxhY2suXG4gICAgICAvLyB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHg0Mjg3ZjUpO1xuXG4gICAgICBfdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKF90aGlzLnJlbmRlcmVyQ29uZmlnLmNsZWFyQ29sb3IsIF90aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7IC8vIEFmZmVjdHMgaG93IHN0cm9uZ2x5IGxpZ2h0cyBjb21lIGV4cG9zZWQuXG4gICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2V4YW1wbGVzLyN3ZWJnbF90b25lbWFwcGluZ1xuXG5cbiAgICAgIF90aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSAxOyAvLyB0aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSAwLjY7XG5cbiAgICAgIF90aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nID0gVEhSRUUuQUNFU0ZpbG1pY1RvbmVNYXBwaW5nO1xuXG4gICAgICBfdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1JlbmRlcmVyJywgX3RoaXMucmVuZGVyZXIsIFt7XG4gICAgICAgIGtleU5hbWU6ICd0b25lTWFwcGluZ0V4cG9zdXJlJyxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDUsXG4gICAgICAgIHN0ZXA6IDAuMDFcbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ2dhbW1hRmFjdG9yJyxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDEwLFxuICAgICAgICBzdGVwOiAwLjAxXG4gICAgICB9XSk7XG5cbiAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignUmVuZGVyZXInLCBfdGhpcy5yZW5kZXJlckNvbmZpZywgW3tcbiAgICAgICAga2V5TmFtZTogJ2NsZWFyQ29sb3InLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcihfdGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCBfdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleU5hbWU6ICdiYWNrZ3JvdW5kQWxwaGEnLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcihfdGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCBfdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpO1xuICAgICAgICB9XG4gICAgICB9XSk7XG5cbiAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignQ2FtZXJhJywgX3RoaXMuY2FtZXJhLCBbe1xuICAgICAgICBrZXlOYW1lOiAnZm92JyxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDUwLFxuICAgICAgICBzdGVwOiAwLjAxLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnem9vbScsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiAxMCxcbiAgICAgICAgc3RlcDogMC4wMDAxLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgICAgfVxuICAgICAgfV0pO1xuXG4gICAgICBfdGhpcy5ndWkuYWRkRm9sZGVyKCdHZW5lcmFsIExpZ2h0cycpO1xuXG4gICAgICBfdGhpcy5nZW5lcmFsTGlnaHRDb25maWcgPSB7XG4gICAgICAgIGFtYmllbnRMaWdodENvbG9yOiAnI0ZGRkZGRicsXG4gICAgICAgIGFtYmllbnRMaWdodEFscGhhOiAwXG4gICAgICB9OyAvLyBBZGRpdGlvbmFsIGxpZ2h0aW5nIG91dHNpZGUgdGhlIGJsZW5kZXIuXG4gICAgICAvLyB2YXIgbGlnaHQgPSBuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KCAweGZmZmZiYiwgMHhmZmZmZmYsIDEgKTtcbiAgICAgIC8vIHRoaXMuc2NlbmUuYWRkKCBsaWdodCApO1xuXG4gICAgICBfdGhpcy5hbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KF90aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRDb2xvcik7XG4gICAgICBfdGhpcy5hbWJpZW50TGlnaHQuaW50ZW5zaXR5ID0gX3RoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodEFscGhhO1xuICAgICAgc2NlbmUuYWRkKF90aGlzLmFtYmllbnRMaWdodCk7XG5cbiAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignR2VuZXJhbCBMaWdodHMnLCBfdGhpcy5nZW5lcmFsTGlnaHRDb25maWcsIFt7XG4gICAgICAgIGtleU5hbWU6ICdhbWJpZW50TGlnaHRDb2xvcicsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICBfdGhpcy5hbWJpZW50TGlnaHQuY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoX3RoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodENvbG9yKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnYW1iaWVudExpZ2h0QWxwaGEnLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMuYW1iaWVudExpZ2h0LmludGVuc2l0eSA9IF90aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRBbHBoYTtcbiAgICAgICAgfVxuICAgICAgfV0pOyAvLyB2YXIgd2lkdGggPSA1MDtcbiAgICAgIC8vIHZhciBoZWlnaHQgPSA1MDtcbiAgICAgIC8vIHZhciBpbnRlbnNpdHkgPSAwO1xuICAgICAgLy8gdmFyIHJlY3RMaWdodCA9IG5ldyBUSFJFRS5SZWN0QXJlYUxpZ2h0KCcjRkZGRkZGJywgaW50ZW5zaXR5LCAgd2lkdGgsIGhlaWdodCApO1xuICAgICAgLy8gcmVjdExpZ2h0LnBvc2l0aW9uLnNldCggMCwgMCwgMjUgKTtcbiAgICAgIC8vIC8vIHJlY3RMaWdodC5sb29rQXQoIDAsIDAsIDAgKTtcbiAgICAgIC8vIHRoaXMuc2NlbmUuYWRkKCByZWN0TGlnaHQgKTtcbiAgICAgIC8vIHJlY3RMaWdodEhlbHBlciA9IG5ldyBUSFJFRS5SZWN0QXJlYUxpZ2h0SGVscGVyKCByZWN0TGlnaHQgKTtcbiAgICAgIC8vIHJlY3RMaWdodC5hZGQoIHJlY3RMaWdodEhlbHBlciApO1xuXG5cbiAgICAgIF90aGlzLmd1aS5hZGRCdXR0b24oJ1JlZnJlc2gnLCBfdGhpcy5yZWZyZXNoLmJpbmQoX3RoaXMpKTtcbiAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfSk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcbiAgICAgIGFudGlhbGlhczogdHJ1ZSxcbiAgICAgIC8vIHByZWNpc2lvbjogJ2hpZ2hwJ1xuICAgICAgYXV0b1NpemU6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLmNvbXBvc2VyID0gbmV3IEVmZmVjdENvbXBvc2VyKHRoaXMucmVuZGVyZXIpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUaHJlZU9iamVjdFZpZXdlcjcsIFt7XG4gICAga2V5OiBcInJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNpemUoKSB7XG4gICAgICB0aGlzLnByb2dyZXNzID0gZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50LCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgRUFTRS5MaW5lYXIpO1xuICAgICAgdGhpcy53aWR0aCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0OyAvLyBodHRwczovL2dpdGh1Yi5jb20vZG9ubWNjdXJkeS90aHJlZS1nbHRmLXZpZXdlci9ibG9iL21hc3Rlci9zcmMvdmlld2VyLmpzXG4gICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9jb25zdGFudHMvUmVuZGVyZXJcblxuICAgICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7IC8vIFBvc3QgcHJvY2Vzc2luZ1xuICAgICAgLy8gdGhpcy5jb21wb3Nlci5zZXRTaXplKCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAvLyBjb25zdCBmeGFhUGFzcyA9IG5ldyBTaGFkZXJQYXNzKCBGWEFBU2hhZGVyICk7XG4gICAgICAvLyBmeGFhUGFzcy5tYXRlcmlhbC51bmlmb3Jtc1sgJ3Jlc29sdXRpb24nIF0udmFsdWUueCA9IDEgLyAoIHRoaXMud2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAvLyBmeGFhUGFzcy5tYXRlcmlhbC51bmlmb3Jtc1sgJ3Jlc29sdXRpb24nIF0udmFsdWUueSA9IDEgLyAoIHRoaXMuaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKGZ4YWFQYXNzKTtcbiAgICAgIC8vIHRoaXMuY29tcG9zZXIuYWRkUGFzcyhuZXcgUmVuZGVyUGFzcyh0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSkpO1xuICAgICAgLy8gdmFyIGJsb29tUGFzcyA9IG5ldyBVbnJlYWxCbG9vbVBhc3MoMSwgMjUsIDUsIDI1Nik7XG4gICAgICAvLyB0aGlzLmNvbXBvc2VyLmFkZFBhc3MoYmxvb21QYXNzKTtcbiAgICAgIC8vIFRoZSBjYW1lcmEgYXNwZWN0IGdvZXMgb2ZmIHNpbmNlIGl0IGNvdWxkIGJlIGV4cG9ydGVkIGF0IGEgZGlmZmVyZW50XG4gICAgICAvLyByYXRpby4gIEZvcmNlIHVwZGF0ZSB0aGUgYXNwZWN0IHJhdGlvLlxuXG4gICAgICB0aGlzLmNhbWVyYS5hc3BlY3QgPSB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQ7XG4gICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlZnJlc2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVmcmVzaCgpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcih0aGlzLnJlbmRlcmVyQ29uZmlnLmNsZWFyQ29sb3IsIHRoaXMucmVuZGVyZXJDb25maWcuYmFja2dyb3VuZEFscGhhKTtcbiAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICB0aGlzLmRyYXcoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0QW5pbWF0aW9uQnlOYW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFuaW1hdGlvbkJ5TmFtZShuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5hbmltYXRpb25zLmZpbHRlcihmdW5jdGlvbiAoYW5pbWF0aW9uQ2xpcCkge1xuICAgICAgICByZXR1cm4gYW5pbWF0aW9uQ2xpcC5uYW1lID09IG5hbWU7XG4gICAgICB9KVswXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0T2JqZWN0QnlOYW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE9iamVjdEJ5TmFtZShuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5hY3RpdmVTY2VuZS5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKG9iamVjdDNkKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QzZC5uYW1lID09IG5hbWU7XG4gICAgICB9KVswXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Qcm9ncmVzc1VwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblByb2dyZXNzVXBkYXRlKHByb2dyZXNzKSB7XG4gICAgICAvL0FuaW1hdGlvbiBNaXhlcuOCkuWun+ihjFxuICAgICAgaWYgKHRoaXMubWl4ZXIpIHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBmaW5kIG91dCBob3cgbG9uZyB0aGUgYW5pbWF0aW9uIGlzLlxuICAgICAgICAvLyBUaGUgbWl4ZXIgYXBwZWFycyB0byBoYXZlIG5vIGtub3dsZWRnZSBvZnQgdGhpcyBzbyB3ZSBuZWVkIHRvXG4gICAgICAgIC8vIGxvb2sgdXAgYSBzcGVjaWZpYyBhbmltYXRpb24gYW5kIGdldCB0aGUgZHVyYXRpb24gdG9cbiAgICAgICAgLy8gZ2V0IHRoZSB0b3RhbCBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uLlxuICAgICAgICB2YXIgY2FtZXJhQW5pbWF0aW9uID0gdGhpcy5nZXRBbmltYXRpb25CeU5hbWUoJ0FjdGlvbi4wMDEnKTtcbiAgICAgICAgdmFyIGR1cmF0aW9uID0gY2FtZXJhQW5pbWF0aW9uLmR1cmF0aW9uOyAvLyBXaGVuIGR1cmF0aW9uIGhpdHMgaXQncyBtYXgsIGFuaW1hdGlvbk1peGVyIHNlZW1zIHRvIGhpdCB0aGUgZmlyc3RcbiAgICAgICAgLy8gZnJhbWUgc28gbmV4dCBhbGxvdyBpdCB0byByZWFjaCB0aGUgbWF4IHZhbHVlLlxuXG4gICAgICAgIHRoaXMubWl4ZXIuc2V0VGltZShNYXRoLm1pbihkdXJhdGlvbiAqIHByb2dyZXNzLCBkdXJhdGlvbiAtIDAuMDAxKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZHJhdygpOyAvLyB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgICAvLyB0aGlzLmNvbXBvc2VyLnJlbmRlcigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkcmF3XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRyYXcoKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLmF1dG9DbGVhciA9IHRydWU7XG4gICAgICB0aGlzLmNhbWVyYS5sYXllcnMuc2V0KDApO1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgICAgdGhpcy5yZW5kZXJlci5hdXRvQ2xlYXIgPSBmYWxzZTsgLy8gRG9uJ3QgY2xlYXJcblxuICAgICAgdGhpcy5jYW1lcmEubGF5ZXJzLnNldCgxKTtcbiAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVGhyZWVPYmplY3RWaWV3ZXI3O1xufSgpO1xuXG5leHBvcnQgeyBUaHJlZU9iamVjdFZpZXdlcjcgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/three-object-viewer7.js\n");

/***/ }),

/***/ "./examples/three-object-viewer8.js":
/*!******************************************!*\
  !*** ./examples/three-object-viewer8.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ThreeObjectViewer8; });\n/* harmony import */ var _lib_datguif_datguif__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/datguif/datguif */ \"./lib/datguif/datguif.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_EffectComposer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer */ \"./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/RenderPass.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_UnrealBloomPass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/postprocessing/UnrealBloomPass.js */ \"./node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js\");\n/* harmony import */ var three_examples_jsm_shaders_FXAAShader_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/shaders/FXAAShader.js */ \"./node_modules/three/examples/jsm/shaders/FXAAShader.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/ShaderPass.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// https://threejs.org/docs/#manual/en/introduction/Loading-3D-models\n// https://threejs.org/examples/#webgl_loader_gltf\n// https://gist.github.com/bellbind/c4f8c502fcacbe29422e5ac315273858\n// https://github.com/funwithtriangles/blender-to-threejs-export-guide/blob/master/readme.md\n// https://threejsfundamentals.org/threejs/lessons/threejs-load-gltf.html\n// https://discoverthreejs.com/book/first-steps/load-models/\n// https://www.pentacreation.com/blog/2019/09/190916.html\n// https://www.pentacreation.com/blog/2019/10/191016.html\n// https://docs.blender.org/manual/ja/latest/addons/io_scene_gltf2.html\n// https://gltf-viewer.donmccurdy.com/\n// https://github.com/donmccurdy/three-gltf-viewer\n\n\n\n\n\n\n\n // import { Raf } from '../lib/raf/raf';\n\n\n\n\n\n\nvar ThreeObjectViewer8 = /*#__PURE__*/function () {\n  function ThreeObjectViewer8() {\n    var _this = this;\n\n    _classCallCheck(this, ThreeObjectViewer8);\n\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_8__[\"DomWatcher\"]();\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_9__[\"RafProgress\"]();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.scrollLerp = 0.38;\n    this.scrollEase = 'easeInQuad';\n    this.rendererConfig = {\n      clearColor: '#000000',\n      backgroundAlpha: 1.0\n    };\n    this.gui = new _lib_datguif_datguif__WEBPACK_IMPORTED_MODULE_0__[\"Datguif\"]({\n      load: JSON\n    });\n    this.gui.addFolder('Settings').open();\n    this.gui.addFolder('Renderer', 'Settings');\n    this.gui.addFolder('Camera', 'Settings');\n    this.gui.addFolder('Scroll', 'Settings');\n    this.gui.addFolder('Lights');\n    this.gui.addFolder('Objects');\n    this.gui.addObjectToFolder('Scroll', this, [{\n      keyName: 'scrollLerp',\n      min: 0,\n      max: 1,\n      step: 0.01\n    }, {\n      keyName: 'scrollEase',\n      options: ['linear', 'easeOutQuad', 'easeInQuad']\n    }]);\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__[\"dom\"].getElementScrolledPercent(_this.parentElement, window.innerHeight); //   this.rafProgress.easeTo(this.progress, 0.26, EASE.easeInOutExpo);\n        //   this.rafProgress.easeTo(this.progress, 0.08, EASE.linear);\n\n        _this.rafProgress.easeTo(_this.progress, _this.scrollLerp, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__[\"EASE\"][_this.scrollEase]);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_1__[\"Scene\"]();\n    this.gui.onUpdate(function (prop) {\n      _this.draw();\n    });\n    var loader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_2__[\"GLTFLoader\"]();\n    var path = './public/home/demo9.gltf';\n    loader.load(path, function (gltf) {\n      var gltfData = gltf.parser.json;\n\n      var getNodeByName = function getNodeByName(name) {\n        return gltfData.nodes.filter(function (node) {\n          return node.name = name;\n        })[0];\n      };\n\n      console.log('gltf data', gltfData);\n      _this.clock = new three__WEBPACK_IMPORTED_MODULE_1__[\"Clock\"]();\n      var scene = gltf.scenes[0];\n      _this.activeScene = scene;\n      _this.animations = gltf.animations; // Animation Mixer\n\n      _this.mixer = new three__WEBPACK_IMPORTED_MODULE_1__[\"AnimationMixer\"](scene); //Animation Clip\n\n      for (var i = 0; i < _this.animations.length; i++) {\n        var animation = _this.animations[i]; //Animation Action\n\n        var action = _this.mixer.clipAction(animation);\n\n        console.log('added', animation);\n        action.play();\n      }\n\n      _this.scene.add(scene);\n\n      console.log('scene', scene);\n      console.log('mixer', _this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      _this.scene.traverse(function (child) {\n        if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"Light\"]) {\n          // child.castShadow = true;\n          // console.log('light', child);\n          // Debugging light positions.\n          // child.shadowCameraVisible = false;\n          // if(child.shadow) {\n          //     // Adjust shadow bias.\n          //     // child.shadow.bias = -0.002;\n          //     // Remove the rigged looking shadows.\n          //     // child.shadow.mapSize.width = 1024;\n          //     // child.shadow.mapSize.height = 1024;\n          //     // child.shadowDarkness = 0.5;\n          //     // child.shadow.camera.near = 0;\n          //     // child.shadow.camera.far = 1000;\n          //     // var helper = new THREE.CameraHelper( child.shadow.camera );\n          //     // scene.add( helper );\n          // }\n          // // Point lights are defined in watts which goes waay off in three.js\n          if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"PointLight\"]) {\n            child.intensity = child.intensity * 0.0005;\n          } // If it's a spot light, it needs to go down even more.\n\n\n          if (child.type == \"SpotLight\") {\n            child.intensity = child.intensity * 0.001;\n          } // child.intensity = 0;\n\n\n          if (child.name == 'Point003_Orientation') {\n            // child.castShadow = true;\n            child.intensity = 0.6;\n          }\n\n          _this.gui.addFolder(child.name, 'Lights');\n\n          _this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'intensity',\n            min: 0,\n            max: 3000\n          }, {\n            keyName: 'color'\n          }]);\n\n          if (child.shadow) {\n            var shadowFolderId = child.name + ' shadow'; // console.log(child.shadow);\n\n            _this.gui.addFolder(shadowFolderId, child.name);\n\n            _this.gui.addObjectToFolder(shadowFolderId, child.shadow, [{\n              keyName: 'bias',\n              min: -1,\n              max: 1,\n              step: 0.00001\n            }, {\n              keyName: 'radius',\n              min: 0,\n              max: 100,\n              step: 0.01\n            }]);\n          }\n        } else if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"Mesh\"]) {\n          // child.castShadow = true;\n          // child.receiveShadow = true;\n          // child.geometry.computeVertexNormals(true);\n          //    const lightEnabled = [\n          //         'p4-super-sm',\n          //         'p4-super-sm001',\n          //         'p4-super-sm002',\n          //     ];\n          //     if(~lightEnabled.indexOf(child.name)) {\n          //         child.layers.set(1);\n          //     }\n          _this.gui.addFolder(child.name, 'Objects');\n\n          _this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'receiveShadow'\n          }]);\n\n          if (child.material) {\n            var materialId = child.name + ' material';\n\n            _this.gui.addFolder(materialId, child.name);\n\n            _this.gui.addObjectToFolder(materialId, child.material, [{\n              keyName: 'emissiveIntensity',\n              min: 0,\n              max: 1\n            }, {\n              keyName: 'flatShading',\n              callback: function callback() {\n                child.material.needsUpdate = true;\n              }\n            }, {\n              keyName: 'wireframe',\n              callback: function callback() {\n                child.material.needsUpdate = true;\n              }\n            }]); // Enable smooth shading.\n            // child.material.flatShading = false;\n            // child.material.wireframe = false;\n            // child.material.needsUpdate = true;\n            // child.geometry.computeFaceNormals();\n            // child.geometry.computeVertexNormals(true);\n\n          }\n\n          if (child.name == 'Plane001') {\n            console.log('mesh', child);\n          } // Get the image mappings.\n          // if(child.material && child.material.map) {\n          //   child.material.map.needsUpdate = true;\n          // }\n\n        } else {// console.log('other', child);\n          }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n\n      _this.camera = gltf.cameras[0];\n      console.log('camera', _this.camera);\n\n      _this.resize(); // Use fog to cover far distances.\n      // const color = 0x00000;\n      // this.scene.fog = new THREE.Fog(color, 5, 8);\n      // Enable shadows.\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n\n      _this.renderer.shadowMap.enabled = true; // To antialias the shadow\n\n      _this.renderer.shadowMap.type = three__WEBPACK_IMPORTED_MODULE_1__[\"PCFSoftShadowMap\"];\n      _this.renderer.gammaOutput = true;\n      _this.renderer.gammaFactor = 2.2; // Important to get the correct colors.\n      // this.renderer.physicallyCorrectLigts = true;\n      // Background as black.\n      // this.renderer.setClearColor(0x4287f5);\n\n      _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha); // Affects how strongly lights come exposed.\n      // https://threejs.org/examples/#webgl_tonemapping\n\n\n      _this.renderer.toneMappingExposure = 1; // this.renderer.toneMappingExposure = 0.6;\n\n      _this.renderer.toneMapping = three__WEBPACK_IMPORTED_MODULE_1__[\"ACESFilmicToneMapping\"];\n\n      _this.gui.addObjectToFolder('Renderer', _this.renderer, [{\n        keyName: 'toneMappingExposure',\n        min: 0,\n        max: 5,\n        step: 0.01\n      }, {\n        keyName: 'gammaFactor',\n        min: 0,\n        max: 10,\n        step: 0.01\n      }]);\n\n      _this.gui.addObjectToFolder('Renderer', _this.rendererConfig, [{\n        keyName: 'clearColor',\n        callback: function callback() {\n          _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha);\n        }\n      }, {\n        keyName: 'backgroundAlpha',\n        callback: function callback() {\n          _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha);\n        }\n      }]);\n\n      _this.gui.addObjectToFolder('Camera', _this.camera, [{\n        keyName: 'fov',\n        min: 0,\n        max: 50,\n        step: 0.01,\n        callback: function callback() {\n          _this.camera.updateProjectionMatrix();\n        }\n      }, {\n        keyName: 'zoom',\n        min: 0,\n        max: 10,\n        step: 0.0001,\n        callback: function callback() {\n          _this.camera.updateProjectionMatrix();\n        }\n      }]);\n\n      _this.gui.addFolder('General Lights');\n\n      _this.generalLightConfig = {\n        ambientLightColor: '##7395b3',\n        ambientLightAlpha: 1.3\n      }; // Additional lighting outside the blender.\n      // var light = new THREE.HemisphereLight( 0xffffbb, 0xffffff, 1 );\n      // this.scene.add( light );\n\n      _this.ambientLight = new three__WEBPACK_IMPORTED_MODULE_1__[\"AmbientLight\"](_this.generalLightConfig.ambientLightColor);\n      _this.ambientLight.intensity = _this.generalLightConfig.ambientLightAlpha;\n      scene.add(_this.ambientLight);\n\n      _this.gui.addObjectToFolder('General Lights', _this.generalLightConfig, [{\n        keyName: 'ambientLightColor',\n        callback: function callback() {\n          _this.ambientLight.color = new three__WEBPACK_IMPORTED_MODULE_1__[\"Color\"](_this.generalLightConfig.ambientLightColor);\n        }\n      }, {\n        keyName: 'ambientLightAlpha',\n        callback: function callback() {\n          _this.ambientLight.intensity = _this.generalLightConfig.ambientLightAlpha;\n        }\n      }]); // var width = 50;\n      // var height = 50;\n      // var intensity = 0;\n      // var rectLight = new THREE.RectAreaLight('#FFFFFF', intensity,  width, height );\n      // rectLight.position.set( 0, 0, 25 );\n      // // rectLight.lookAt( 0, 0, 0 );\n      // this.scene.add( rectLight );\n      // rectLightHelper = new THREE.RectAreaLightHelper( rectLight );\n      // rectLight.add( rectLightHelper );\n\n\n      _this.gui.addButton('Refresh', _this.refresh.bind(_this));\n    }, undefined, function (error) {\n      console.error(error);\n    });\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_1__[\"WebGLRenderer\"]({\n      antialias: true,\n      // precision: 'highp'\n      autoSize: true\n    });\n    this.composer = new three_examples_jsm_postprocessing_EffectComposer__WEBPACK_IMPORTED_MODULE_3__[\"EffectComposer\"](this.renderer);\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  _createClass(ThreeObjectViewer8, [{\n    key: \"resize\",\n    value: function resize() {\n      this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__[\"dom\"].getElementScrolledPercent(this.parentElement, window.innerHeight);\n      this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__[\"EASE\"].Linear);\n      this.width = this.canvasContainer.parentElement.offsetWidth;\n      this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      this.renderer.setPixelRatio(window.devicePixelRatio);\n      this.renderer.setSize(this.width, this.height); // Post processing\n      // this.composer.setSize( this.width, this.height);\n      // const fxaaPass = new ShaderPass( FXAAShader );\n      // fxaaPass.material.uniforms[ 'resolution' ].value.x = 1 / ( this.width * window.devicePixelRatio);\n      // fxaaPass.material.uniforms[ 'resolution' ].value.y = 1 / ( this.height * window.devicePixelRatio);\n      // this.composer.addPass(fxaaPass);\n      // this.composer.addPass(new RenderPass(this.scene, this.camera));\n      // var bloomPass = new Unr2.2mealBloomPass(1, 25, 5, 256);\n      // this.composer.addPass(bloomPass);\n      // The camera aspect goes off since it could be exported at a different\n      // ratio.  Force update the aspect ratio.\n\n      this.camera.aspect = this.width / this.height;\n      this.camera.updateProjectionMatrix();\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n      this.resize();\n      this.draw();\n    }\n  }, {\n    key: \"getAnimationByName\",\n    value: function getAnimationByName(name) {\n      return this.animations.filter(function (animationClip) {\n        return animationClip.name == name;\n      })[0];\n    }\n  }, {\n    key: \"getObjectByName\",\n    value: function getObjectByName(name) {\n      return this.activeScene.children.filter(function (object3d) {\n        return object3d.name == name;\n      })[0];\n    }\n  }, {\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(progress) {\n      //Animation Mixer\n      if (this.mixer) {\n        // We need to find out how long the animation is.\n        // The mixer appears to have no knowledge oft this so we need to\n        // look up a specific animation and get the duration to\n        // get the total duration of the animation.\n        var cameraAnimation = this.getAnimationByName('Action.003');\n        var duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n        // frame so next allow it to reach the max value.\n\n        this.mixer.setTime(Math.min(duration * progress, duration - 0.001));\n      }\n\n      this.draw(); // this.renderer.render(this.scene, this.camera);\n      // this.composer.render();\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return ThreeObjectViewer8;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyOC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLW9iamVjdC12aWV3ZXI4LmpzPzQzNjciXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI21hbnVhbC9lbi9pbnRyb2R1Y3Rpb24vTG9hZGluZy0zRC1tb2RlbHNcbi8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX2xvYWRlcl9nbHRmXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9iZWxsYmluZC9jNGY4YzUwMmZjYWNiZTI5NDIyZTVhYzMxNTI3Mzg1OFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Z1bndpdGh0cmlhbmdsZXMvYmxlbmRlci10by10aHJlZWpzLWV4cG9ydC1ndWlkZS9ibG9iL21hc3Rlci9yZWFkbWUubWRcbi8vIGh0dHBzOi8vdGhyZWVqc2Z1bmRhbWVudGFscy5vcmcvdGhyZWVqcy9sZXNzb25zL3RocmVlanMtbG9hZC1nbHRmLmh0bWxcbi8vIGh0dHBzOi8vZGlzY292ZXJ0aHJlZWpzLmNvbS9ib29rL2ZpcnN0LXN0ZXBzL2xvYWQtbW9kZWxzL1xuLy8gaHR0cHM6Ly93d3cucGVudGFjcmVhdGlvbi5jb20vYmxvZy8yMDE5LzA5LzE5MDkxNi5odG1sXG4vLyBodHRwczovL3d3dy5wZW50YWNyZWF0aW9uLmNvbS9ibG9nLzIwMTkvMTAvMTkxMDE2Lmh0bWxcbi8vIGh0dHBzOi8vZG9jcy5ibGVuZGVyLm9yZy9tYW51YWwvamEvbGF0ZXN0L2FkZG9ucy9pb19zY2VuZV9nbHRmMi5odG1sXG4vLyBodHRwczovL2dsdGYtdmlld2VyLmRvbm1jY3VyZHkuY29tL1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rvbm1jY3VyZHkvdGhyZWUtZ2x0Zi12aWV3ZXJcbmltcG9ydCB7IERhdGd1aWYgfSBmcm9tICcuLi9saWIvZGF0Z3VpZi9kYXRndWlmJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyJztcbmltcG9ydCB7IEVmZmVjdENvbXBvc2VyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL0VmZmVjdENvbXBvc2VyJztcbmltcG9ydCB7IFJlbmRlclBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvUmVuZGVyUGFzcy5qcyc7XG5pbXBvcnQgeyBVbnJlYWxCbG9vbVBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvVW5yZWFsQmxvb21QYXNzLmpzJztcbmltcG9ydCB7IEZYQUFTaGFkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vc2hhZGVycy9GWEFBU2hhZGVyLmpzJztcbmltcG9ydCB7IFNoYWRlclBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvU2hhZGVyUGFzcy5qcyc7IC8vIGltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcblxuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuaW1wb3J0IHsgUmFmUHJvZ3Jlc3MgfSBmcm9tICcuLi9saWIvcmFmL3JhZi1wcm9ncmVzcyc7XG5pbXBvcnQgeyBkb20gfSBmcm9tICcuLi9saWIvZG9tL2RvbSc7XG5pbXBvcnQgeyBFQVNFIH0gZnJvbSAnLi4vbGliL2Vhc2UvZWFzZSc7XG5cbnZhciBUaHJlZU9iamVjdFZpZXdlcjggPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUaHJlZU9iamVjdFZpZXdlcjgoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaHJlZU9iamVjdFZpZXdlcjgpO1xuXG4gICAgY29uc29sZS5sb2coJ1RocmVlSlMgT2JqZWN0IFZpZXdlciBEZW1vJyk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MgPSBuZXcgUmFmUHJvZ3Jlc3MoKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnNjcm9sbExlcnAgPSAwLjM4O1xuICAgIHRoaXMuc2Nyb2xsRWFzZSA9ICdlYXNlSW5RdWFkJztcbiAgICB0aGlzLnJlbmRlcmVyQ29uZmlnID0ge1xuICAgICAgY2xlYXJDb2xvcjogJyMwMDAwMDAnLFxuICAgICAgYmFja2dyb3VuZEFscGhhOiAxLjBcbiAgICB9O1xuICAgIHRoaXMuZ3VpID0gbmV3IERhdGd1aWYoe1xuICAgICAgbG9hZDogSlNPTlxuICAgIH0pO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignU2V0dGluZ3MnKS5vcGVuKCk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdSZW5kZXJlcicsICdTZXR0aW5ncycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignQ2FtZXJhJywgJ1NldHRpbmdzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdTY3JvbGwnLCAnU2V0dGluZ3MnKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ0xpZ2h0cycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignT2JqZWN0cycpO1xuICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdTY3JvbGwnLCB0aGlzLCBbe1xuICAgICAga2V5TmFtZTogJ3Njcm9sbExlcnAnLFxuICAgICAgbWluOiAwLFxuICAgICAgbWF4OiAxLFxuICAgICAgc3RlcDogMC4wMVxuICAgIH0sIHtcbiAgICAgIGtleU5hbWU6ICdzY3JvbGxFYXNlJyxcbiAgICAgIG9wdGlvbnM6IFsnbGluZWFyJywgJ2Vhc2VPdXRRdWFkJywgJ2Vhc2VJblF1YWQnXVxuICAgIH1dKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhldmVudCkge1xuICAgICAgICBfdGhpcy5wcm9ncmVzcyA9IGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KF90aGlzLnBhcmVudEVsZW1lbnQsIHdpbmRvdy5pbm5lckhlaWdodCk7IC8vICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMC4yNiwgRUFTRS5lYXNlSW5PdXRFeHBvKTtcbiAgICAgICAgLy8gICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjA4LCBFQVNFLmxpbmVhcik7XG5cbiAgICAgICAgX3RoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKF90aGlzLnByb2dyZXNzLCBfdGhpcy5zY3JvbGxMZXJwLCBFQVNFW190aGlzLnNjcm9sbEVhc2VdKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLmd1aS5vblVwZGF0ZShmdW5jdGlvbiAocHJvcCkge1xuICAgICAgX3RoaXMuZHJhdygpO1xuICAgIH0pO1xuICAgIHZhciBsb2FkZXIgPSBuZXcgR0xURkxvYWRlcigpO1xuICAgIHZhciBwYXRoID0gJy4vcHVibGljL2hvbWUvZGVtbzkuZ2x0Zic7XG4gICAgbG9hZGVyLmxvYWQocGF0aCwgZnVuY3Rpb24gKGdsdGYpIHtcbiAgICAgIHZhciBnbHRmRGF0YSA9IGdsdGYucGFyc2VyLmpzb247XG5cbiAgICAgIHZhciBnZXROb2RlQnlOYW1lID0gZnVuY3Rpb24gZ2V0Tm9kZUJ5TmFtZShuYW1lKSB7XG4gICAgICAgIHJldHVybiBnbHRmRGF0YS5ub2Rlcy5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICByZXR1cm4gbm9kZS5uYW1lID0gbmFtZTtcbiAgICAgICAgfSlbMF07XG4gICAgICB9O1xuXG4gICAgICBjb25zb2xlLmxvZygnZ2x0ZiBkYXRhJywgZ2x0ZkRhdGEpO1xuICAgICAgX3RoaXMuY2xvY2sgPSBuZXcgVEhSRUUuQ2xvY2soKTtcbiAgICAgIHZhciBzY2VuZSA9IGdsdGYuc2NlbmVzWzBdO1xuICAgICAgX3RoaXMuYWN0aXZlU2NlbmUgPSBzY2VuZTtcbiAgICAgIF90aGlzLmFuaW1hdGlvbnMgPSBnbHRmLmFuaW1hdGlvbnM7IC8vIEFuaW1hdGlvbiBNaXhlcuOCpOODs+OCueOCv+ODs+OCueOCkueUn+aIkFxuXG4gICAgICBfdGhpcy5taXhlciA9IG5ldyBUSFJFRS5BbmltYXRpb25NaXhlcihzY2VuZSk7IC8v5YWo44Gm44GuQW5pbWF0aW9uIENsaXDjgavlr77jgZfjgaZcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5hbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhbmltYXRpb24gPSBfdGhpcy5hbmltYXRpb25zW2ldOyAvL0FuaW1hdGlvbiBBY3Rpb27jgpLnlJ/miJBcblxuICAgICAgICB2YXIgYWN0aW9uID0gX3RoaXMubWl4ZXIuY2xpcEFjdGlvbihhbmltYXRpb24pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdhZGRlZCcsIGFuaW1hdGlvbik7XG4gICAgICAgIGFjdGlvbi5wbGF5KCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNjZW5lLmFkZChzY2VuZSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdzY2VuZScsIHNjZW5lKTtcbiAgICAgIGNvbnNvbGUubG9nKCdtaXhlcicsIF90aGlzLm1peGVyKTsgLy8gaHR0cDovL2xlYXJuaW5ndGhyZWVqcy5jb20vYmxvZy8yMDEyLzAxLzIwL2Nhc3Rpbmctc2hhZG93cy9cblxuICAgICAgX3RoaXMuc2NlbmUudHJhdmVyc2UoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLkxpZ2h0KSB7XG4gICAgICAgICAgLy8gY2hpbGQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ2xpZ2h0JywgY2hpbGQpO1xuICAgICAgICAgIC8vIERlYnVnZ2luZyBsaWdodCBwb3NpdGlvbnMuXG4gICAgICAgICAgLy8gY2hpbGQuc2hhZG93Q2FtZXJhVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgIC8vIGlmKGNoaWxkLnNoYWRvdykge1xuICAgICAgICAgIC8vICAgICAvLyBBZGp1c3Qgc2hhZG93IGJpYXMuXG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvdy5iaWFzID0gLTAuMDAyO1xuICAgICAgICAgIC8vICAgICAvLyBSZW1vdmUgdGhlIHJpZ2dlZCBsb29raW5nIHNoYWRvd3MuXG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvdy5tYXBTaXplLndpZHRoID0gMTAyNDtcbiAgICAgICAgICAvLyAgICAgLy8gY2hpbGQuc2hhZG93Lm1hcFNpemUuaGVpZ2h0ID0gMTAyNDtcbiAgICAgICAgICAvLyAgICAgLy8gY2hpbGQuc2hhZG93RGFya25lc3MgPSAwLjU7XG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvdy5jYW1lcmEubmVhciA9IDA7XG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvdy5jYW1lcmEuZmFyID0gMTAwMDtcbiAgICAgICAgICAvLyAgICAgLy8gdmFyIGhlbHBlciA9IG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIoIGNoaWxkLnNoYWRvdy5jYW1lcmEgKTtcbiAgICAgICAgICAvLyAgICAgLy8gc2NlbmUuYWRkKCBoZWxwZXIgKTtcbiAgICAgICAgICAvLyB9XG4gICAgICAgICAgLy8gLy8gUG9pbnQgbGlnaHRzIGFyZSBkZWZpbmVkIGluIHdhdHRzIHdoaWNoIGdvZXMgd2FheSBvZmYgaW4gdGhyZWUuanNcbiAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5Qb2ludExpZ2h0KSB7XG4gICAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSBjaGlsZC5pbnRlbnNpdHkgKiAwLjAwMDU7XG4gICAgICAgICAgfSAvLyBJZiBpdCdzIGEgc3BvdCBsaWdodCwgaXQgbmVlZHMgdG8gZ28gZG93biBldmVuIG1vcmUuXG5cblxuICAgICAgICAgIGlmIChjaGlsZC50eXBlID09IFwiU3BvdExpZ2h0XCIpIHtcbiAgICAgICAgICAgIGNoaWxkLmludGVuc2l0eSA9IGNoaWxkLmludGVuc2l0eSAqIDAuMDAxO1xuICAgICAgICAgIH0gLy8gY2hpbGQuaW50ZW5zaXR5ID0gMDtcblxuXG4gICAgICAgICAgaWYgKGNoaWxkLm5hbWUgPT0gJ1BvaW50MDAzX09yaWVudGF0aW9uJykge1xuICAgICAgICAgICAgLy8gY2hpbGQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSAwLjY7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMuZ3VpLmFkZEZvbGRlcihjaGlsZC5uYW1lLCAnTGlnaHRzJyk7XG5cbiAgICAgICAgICBfdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoY2hpbGQubmFtZSwgY2hpbGQsIFt7XG4gICAgICAgICAgICBrZXlOYW1lOiAnY2FzdFNoYWRvdydcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXlOYW1lOiAnaW50ZW5zaXR5JyxcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIG1heDogMzAwMFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleU5hbWU6ICdjb2xvcidcbiAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICBpZiAoY2hpbGQuc2hhZG93KSB7XG4gICAgICAgICAgICB2YXIgc2hhZG93Rm9sZGVySWQgPSBjaGlsZC5uYW1lICsgJyBzaGFkb3cnOyAvLyBjb25zb2xlLmxvZyhjaGlsZC5zaGFkb3cpO1xuXG4gICAgICAgICAgICBfdGhpcy5ndWkuYWRkRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5uYW1lKTtcblxuICAgICAgICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5zaGFkb3csIFt7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdiaWFzJyxcbiAgICAgICAgICAgICAgbWluOiAtMSxcbiAgICAgICAgICAgICAgbWF4OiAxLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAwMDAxXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdyYWRpdXMnLFxuICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgIG1heDogMTAwLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAxXG4gICAgICAgICAgICB9XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaCkge1xuICAgICAgICAgIC8vIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNoaWxkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKHRydWUpO1xuICAgICAgICAgIC8vICAgIGNvbnN0IGxpZ2h0RW5hYmxlZCA9IFtcbiAgICAgICAgICAvLyAgICAgICAgICdwNC1zdXBlci1zbScsXG4gICAgICAgICAgLy8gICAgICAgICAncDQtc3VwZXItc20wMDEnLFxuICAgICAgICAgIC8vICAgICAgICAgJ3A0LXN1cGVyLXNtMDAyJyxcbiAgICAgICAgICAvLyAgICAgXTtcbiAgICAgICAgICAvLyAgICAgaWYofmxpZ2h0RW5hYmxlZC5pbmRleE9mKGNoaWxkLm5hbWUpKSB7XG4gICAgICAgICAgLy8gICAgICAgICBjaGlsZC5sYXllcnMuc2V0KDEpO1xuICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgX3RoaXMuZ3VpLmFkZEZvbGRlcihjaGlsZC5uYW1lLCAnT2JqZWN0cycpO1xuXG4gICAgICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKGNoaWxkLm5hbWUsIGNoaWxkLCBbe1xuICAgICAgICAgICAga2V5TmFtZTogJ2Nhc3RTaGFkb3cnXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5TmFtZTogJ3JlY2VpdmVTaGFkb3cnXG4gICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgaWYgKGNoaWxkLm1hdGVyaWFsKSB7XG4gICAgICAgICAgICB2YXIgbWF0ZXJpYWxJZCA9IGNoaWxkLm5hbWUgKyAnIG1hdGVyaWFsJztcblxuICAgICAgICAgICAgX3RoaXMuZ3VpLmFkZEZvbGRlcihtYXRlcmlhbElkLCBjaGlsZC5uYW1lKTtcblxuICAgICAgICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKG1hdGVyaWFsSWQsIGNoaWxkLm1hdGVyaWFsLCBbe1xuICAgICAgICAgICAgICBrZXlOYW1lOiAnZW1pc3NpdmVJbnRlbnNpdHknLFxuICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgIG1heDogMVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBrZXlOYW1lOiAnZmxhdFNoYWRpbmcnLFxuICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICd3aXJlZnJhbWUnLFxuICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQubWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7IC8vIEVuYWJsZSBzbW9vdGggc2hhZGluZy5cbiAgICAgICAgICAgIC8vIGNoaWxkLm1hdGVyaWFsLmZsYXRTaGFkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBjaGlsZC5tYXRlcmlhbC53aXJlZnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGNoaWxkLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVGYWNlTm9ybWFscygpO1xuICAgICAgICAgICAgLy8gY2hpbGQuZ2VvbWV0cnkuY29tcHV0ZVZlcnRleE5vcm1hbHModHJ1ZSk7XG5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY2hpbGQubmFtZSA9PSAnUGxhbmUwMDEnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbWVzaCcsIGNoaWxkKTtcbiAgICAgICAgICB9IC8vIEdldCB0aGUgaW1hZ2UgbWFwcGluZ3MuXG4gICAgICAgICAgLy8gaWYoY2hpbGQubWF0ZXJpYWwgJiYgY2hpbGQubWF0ZXJpYWwubWFwKSB7XG4gICAgICAgICAgLy8gICBjaGlsZC5tYXRlcmlhbC5tYXAubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgIC8vIH1cblxuICAgICAgICB9IGVsc2Ugey8vIGNvbnNvbGUubG9nKCdvdGhlcicsIGNoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICB9KTsgLy8gU2V0IHRoZSBjYW1lcmEgZXhwb3J0ZWQgaW4gZ2x0Zi5cbiAgICAgIC8vIFJlcXVpcmVzIGNhbWVyYSB0byBiZSBleHBvcnRlZCBmb3IgZ2x0Zi5cblxuXG4gICAgICBfdGhpcy5jYW1lcmEgPSBnbHRmLmNhbWVyYXNbMF07XG4gICAgICBjb25zb2xlLmxvZygnY2FtZXJhJywgX3RoaXMuY2FtZXJhKTtcblxuICAgICAgX3RoaXMucmVzaXplKCk7IC8vIFVzZSBmb2cgdG8gY292ZXIgZmFyIGRpc3RhbmNlcy5cbiAgICAgIC8vIGNvbnN0IGNvbG9yID0gMHgwMDAwMDtcbiAgICAgIC8vIHRoaXMuc2NlbmUuZm9nID0gbmV3IFRIUkVFLkZvZyhjb2xvciwgNSwgOCk7XG4gICAgICAvLyBFbmFibGUgc2hhZG93cy5cbiAgICAgIC8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZG9jcy8jYXBpL2VuL2NvbnN0YW50cy9SZW5kZXJlclxuXG5cbiAgICAgIF90aGlzLnJlbmRlcmVyLnNoYWRvd01hcC5lbmFibGVkID0gdHJ1ZTsgLy8gVG8gYW50aWFsaWFzIHRoZSBzaGFkb3dcblxuICAgICAgX3RoaXMucmVuZGVyZXIuc2hhZG93TWFwLnR5cGUgPSBUSFJFRS5QQ0ZTb2Z0U2hhZG93TWFwO1xuICAgICAgX3RoaXMucmVuZGVyZXIuZ2FtbWFPdXRwdXQgPSB0cnVlO1xuICAgICAgX3RoaXMucmVuZGVyZXIuZ2FtbWFGYWN0b3IgPSAyLjI7IC8vIEltcG9ydGFudCB0byBnZXQgdGhlIGNvcnJlY3QgY29sb3JzLlxuICAgICAgLy8gdGhpcy5yZW5kZXJlci5waHlzaWNhbGx5Q29ycmVjdExpZ3RzID0gdHJ1ZTtcbiAgICAgIC8vIEJhY2tncm91bmQgYXMgYmxhY2suXG4gICAgICAvLyB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHg0Mjg3ZjUpO1xuXG4gICAgICBfdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKF90aGlzLnJlbmRlcmVyQ29uZmlnLmNsZWFyQ29sb3IsIF90aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7IC8vIEFmZmVjdHMgaG93IHN0cm9uZ2x5IGxpZ2h0cyBjb21lIGV4cG9zZWQuXG4gICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2V4YW1wbGVzLyN3ZWJnbF90b25lbWFwcGluZ1xuXG5cbiAgICAgIF90aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSAxOyAvLyB0aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSAwLjY7XG5cbiAgICAgIF90aGlzLnJlbmRlcmVyLnRvbmVNYXBwaW5nID0gVEhSRUUuQUNFU0ZpbG1pY1RvbmVNYXBwaW5nO1xuXG4gICAgICBfdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1JlbmRlcmVyJywgX3RoaXMucmVuZGVyZXIsIFt7XG4gICAgICAgIGtleU5hbWU6ICd0b25lTWFwcGluZ0V4cG9zdXJlJyxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDUsXG4gICAgICAgIHN0ZXA6IDAuMDFcbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ2dhbW1hRmFjdG9yJyxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDEwLFxuICAgICAgICBzdGVwOiAwLjAxXG4gICAgICB9XSk7XG5cbiAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignUmVuZGVyZXInLCBfdGhpcy5yZW5kZXJlckNvbmZpZywgW3tcbiAgICAgICAga2V5TmFtZTogJ2NsZWFyQ29sb3InLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcihfdGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCBfdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleU5hbWU6ICdiYWNrZ3JvdW5kQWxwaGEnLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcihfdGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCBfdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpO1xuICAgICAgICB9XG4gICAgICB9XSk7XG5cbiAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignQ2FtZXJhJywgX3RoaXMuY2FtZXJhLCBbe1xuICAgICAgICBrZXlOYW1lOiAnZm92JyxcbiAgICAgICAgbWluOiAwLFxuICAgICAgICBtYXg6IDUwLFxuICAgICAgICBzdGVwOiAwLjAxLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnem9vbScsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiAxMCxcbiAgICAgICAgc3RlcDogMC4wMDAxLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgICAgfVxuICAgICAgfV0pO1xuXG4gICAgICBfdGhpcy5ndWkuYWRkRm9sZGVyKCdHZW5lcmFsIExpZ2h0cycpO1xuXG4gICAgICBfdGhpcy5nZW5lcmFsTGlnaHRDb25maWcgPSB7XG4gICAgICAgIGFtYmllbnRMaWdodENvbG9yOiAnIyM3Mzk1YjMnLFxuICAgICAgICBhbWJpZW50TGlnaHRBbHBoYTogMS4zXG4gICAgICB9OyAvLyBBZGRpdGlvbmFsIGxpZ2h0aW5nIG91dHNpZGUgdGhlIGJsZW5kZXIuXG4gICAgICAvLyB2YXIgbGlnaHQgPSBuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KCAweGZmZmZiYiwgMHhmZmZmZmYsIDEgKTtcbiAgICAgIC8vIHRoaXMuc2NlbmUuYWRkKCBsaWdodCApO1xuXG4gICAgICBfdGhpcy5hbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KF90aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRDb2xvcik7XG4gICAgICBfdGhpcy5hbWJpZW50TGlnaHQuaW50ZW5zaXR5ID0gX3RoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodEFscGhhO1xuICAgICAgc2NlbmUuYWRkKF90aGlzLmFtYmllbnRMaWdodCk7XG5cbiAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcignR2VuZXJhbCBMaWdodHMnLCBfdGhpcy5nZW5lcmFsTGlnaHRDb25maWcsIFt7XG4gICAgICAgIGtleU5hbWU6ICdhbWJpZW50TGlnaHRDb2xvcicsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgICBfdGhpcy5hbWJpZW50TGlnaHQuY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoX3RoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLmFtYmllbnRMaWdodENvbG9yKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnYW1iaWVudExpZ2h0QWxwaGEnLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMuYW1iaWVudExpZ2h0LmludGVuc2l0eSA9IF90aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRBbHBoYTtcbiAgICAgICAgfVxuICAgICAgfV0pOyAvLyB2YXIgd2lkdGggPSA1MDtcbiAgICAgIC8vIHZhciBoZWlnaHQgPSA1MDtcbiAgICAgIC8vIHZhciBpbnRlbnNpdHkgPSAwO1xuICAgICAgLy8gdmFyIHJlY3RMaWdodCA9IG5ldyBUSFJFRS5SZWN0QXJlYUxpZ2h0KCcjRkZGRkZGJywgaW50ZW5zaXR5LCAgd2lkdGgsIGhlaWdodCApO1xuICAgICAgLy8gcmVjdExpZ2h0LnBvc2l0aW9uLnNldCggMCwgMCwgMjUgKTtcbiAgICAgIC8vIC8vIHJlY3RMaWdodC5sb29rQXQoIDAsIDAsIDAgKTtcbiAgICAgIC8vIHRoaXMuc2NlbmUuYWRkKCByZWN0TGlnaHQgKTtcbiAgICAgIC8vIHJlY3RMaWdodEhlbHBlciA9IG5ldyBUSFJFRS5SZWN0QXJlYUxpZ2h0SGVscGVyKCByZWN0TGlnaHQgKTtcbiAgICAgIC8vIHJlY3RMaWdodC5hZGQoIHJlY3RMaWdodEhlbHBlciApO1xuXG5cbiAgICAgIF90aGlzLmd1aS5hZGRCdXR0b24oJ1JlZnJlc2gnLCBfdGhpcy5yZWZyZXNoLmJpbmQoX3RoaXMpKTtcbiAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfSk7XG4gICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcbiAgICAgIGFudGlhbGlhczogdHJ1ZSxcbiAgICAgIC8vIHByZWNpc2lvbjogJ2hpZ2hwJ1xuICAgICAgYXV0b1NpemU6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLmNvbXBvc2VyID0gbmV3IEVmZmVjdENvbXBvc2VyKHRoaXMucmVuZGVyZXIpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUaHJlZU9iamVjdFZpZXdlcjgsIFt7XG4gICAga2V5OiBcInJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNpemUoKSB7XG4gICAgICB0aGlzLnByb2dyZXNzID0gZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50LCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgRUFTRS5MaW5lYXIpO1xuICAgICAgdGhpcy53aWR0aCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FudmFzQ29udGFpbmVyLnBhcmVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0OyAvLyBodHRwczovL2dpdGh1Yi5jb20vZG9ubWNjdXJkeS90aHJlZS1nbHRmLXZpZXdlci9ibG9iL21hc3Rlci9zcmMvdmlld2VyLmpzXG4gICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9jb25zdGFudHMvUmVuZGVyZXJcblxuICAgICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7IC8vIFBvc3QgcHJvY2Vzc2luZ1xuICAgICAgLy8gdGhpcy5jb21wb3Nlci5zZXRTaXplKCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAvLyBjb25zdCBmeGFhUGFzcyA9IG5ldyBTaGFkZXJQYXNzKCBGWEFBU2hhZGVyICk7XG4gICAgICAvLyBmeGFhUGFzcy5tYXRlcmlhbC51bmlmb3Jtc1sgJ3Jlc29sdXRpb24nIF0udmFsdWUueCA9IDEgLyAoIHRoaXMud2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAvLyBmeGFhUGFzcy5tYXRlcmlhbC51bmlmb3Jtc1sgJ3Jlc29sdXRpb24nIF0udmFsdWUueSA9IDEgLyAoIHRoaXMuaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKGZ4YWFQYXNzKTtcbiAgICAgIC8vIHRoaXMuY29tcG9zZXIuYWRkUGFzcyhuZXcgUmVuZGVyUGFzcyh0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSkpO1xuICAgICAgLy8gdmFyIGJsb29tUGFzcyA9IG5ldyBVbnIyLjJtZWFsQmxvb21QYXNzKDEsIDI1LCA1LCAyNTYpO1xuICAgICAgLy8gdGhpcy5jb21wb3Nlci5hZGRQYXNzKGJsb29tUGFzcyk7XG4gICAgICAvLyBUaGUgY2FtZXJhIGFzcGVjdCBnb2VzIG9mZiBzaW5jZSBpdCBjb3VsZCBiZSBleHBvcnRlZCBhdCBhIGRpZmZlcmVudFxuICAgICAgLy8gcmF0aW8uICBGb3JjZSB1cGRhdGUgdGhlIGFzcGVjdCByYXRpby5cblxuICAgICAgdGhpcy5jYW1lcmEuYXNwZWN0ID0gdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZWZyZXNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlZnJlc2goKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IodGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCB0aGlzLnJlbmRlcmVyQ29uZmlnLmJhY2tncm91bmRBbHBoYSk7XG4gICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgdGhpcy5kcmF3KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEFuaW1hdGlvbkJ5TmFtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbmltYXRpb25CeU5hbWUobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGFuaW1hdGlvbkNsaXApIHtcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbkNsaXAubmFtZSA9PSBuYW1lO1xuICAgICAgfSlbMF07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldE9iamVjdEJ5TmFtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRPYmplY3RCeU5hbWUobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlU2NlbmUuY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChvYmplY3QzZCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0M2QubmFtZSA9PSBuYW1lO1xuICAgICAgfSlbMF07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUHJvZ3Jlc3NVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9ncmVzc1VwZGF0ZShwcm9ncmVzcykge1xuICAgICAgLy9BbmltYXRpb24gTWl4ZXLjgpLlrp/ooYxcbiAgICAgIGlmICh0aGlzLm1peGVyKSB7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gZmluZCBvdXQgaG93IGxvbmcgdGhlIGFuaW1hdGlvbiBpcy5cbiAgICAgICAgLy8gVGhlIG1peGVyIGFwcGVhcnMgdG8gaGF2ZSBubyBrbm93bGVkZ2Ugb2Z0IHRoaXMgc28gd2UgbmVlZCB0b1xuICAgICAgICAvLyBsb29rIHVwIGEgc3BlY2lmaWMgYW5pbWF0aW9uIGFuZCBnZXQgdGhlIGR1cmF0aW9uIHRvXG4gICAgICAgIC8vIGdldCB0aGUgdG90YWwgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbi5cbiAgICAgICAgdmFyIGNhbWVyYUFuaW1hdGlvbiA9IHRoaXMuZ2V0QW5pbWF0aW9uQnlOYW1lKCdBY3Rpb24uMDAzJyk7XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IGNhbWVyYUFuaW1hdGlvbi5kdXJhdGlvbjsgLy8gV2hlbiBkdXJhdGlvbiBoaXRzIGl0J3MgbWF4LCBhbmltYXRpb25NaXhlciBzZWVtcyB0byBoaXQgdGhlIGZpcnN0XG4gICAgICAgIC8vIGZyYW1lIHNvIG5leHQgYWxsb3cgaXQgdG8gcmVhY2ggdGhlIG1heCB2YWx1ZS5cblxuICAgICAgICB0aGlzLm1peGVyLnNldFRpbWUoTWF0aC5taW4oZHVyYXRpb24gKiBwcm9ncmVzcywgZHVyYXRpb24gLSAwLjAwMSkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmRyYXcoKTsgLy8gdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgICAgLy8gdGhpcy5jb21wb3Nlci5yZW5kZXIoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZHJhd1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KCkge1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUaHJlZU9iamVjdFZpZXdlcjg7XG59KCk7XG5cbmV4cG9ydCB7IFRocmVlT2JqZWN0Vmlld2VyOCBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/three-object-viewer8.js\n");

/***/ }),

/***/ "./examples/three-object-viewer9.js":
/*!******************************************!*\
  !*** ./examples/three-object-viewer9.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ThreeObjectViewer9; });\n/* harmony import */ var _lib_datguif_datguif__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/datguif/datguif */ \"./lib/datguif/datguif.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_EffectComposer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer */ \"./node_modules/three/examples/jsm/postprocessing/EffectComposer.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/RenderPass.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_UnrealBloomPass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/postprocessing/UnrealBloomPass.js */ \"./node_modules/three/examples/jsm/postprocessing/UnrealBloomPass.js\");\n/* harmony import */ var three_examples_jsm_shaders_FXAAShader_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/shaders/FXAAShader.js */ \"./node_modules/three/examples/jsm/shaders/FXAAShader.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass.js */ \"./node_modules/three/examples/jsm/postprocessing/ShaderPass.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// https://threejs.org/docs/#manual/en/introduction/Loading-3D-models\n// https://threejs.org/examples/#webgl_loader_gltf\n// https://gist.github.com/bellbind/c4f8c502fcacbe29422e5ac315273858\n// https://github.com/funwithtriangles/blender-to-threejs-export-guide/blob/master/readme.md\n// https://threejsfundamentals.org/threejs/lessons/threejs-load-gltf.html\n// https://discoverthreejs.com/book/first-steps/load-models/\n// https://www.pentacreation.com/blog/2019/09/190916.html\n// https://www.pentacreation.com/blog/2019/10/191016.html\n// https://docs.blender.org/manual/ja/latest/addons/io_scene_gltf2.html\n// https://gltf-viewer.donmccurdy.com/\n// https://github.com/donmccurdy/three-gltf-viewer\n\n\n\n\n\n\n\n // import { Raf } from '../lib/raf/raf';\n\n\n\n\n\n\nvar ThreeObjectViewer9 = /*#__PURE__*/function () {\n  function ThreeObjectViewer9() {\n    var _this = this;\n\n    _classCallCheck(this, ThreeObjectViewer9);\n\n    console.log('ThreeJS Object Viewer Demo');\n    this.parentElement = document.getElementById('parent');\n    this.canvasContainer = document.getElementById('canvas-container');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_8__[\"DomWatcher\"]();\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_9__[\"RafProgress\"]();\n    this.rafProgress.watch(this.onProgressUpdate.bind(this));\n    this.scrollLerp = 0.38;\n    this.scrollEase = 'easeInQuad';\n    this.rendererConfig = {\n      clearColor: '#C7C5B8',\n      backgroundAlpha: 1.0\n    };\n    this.gui = new _lib_datguif_datguif__WEBPACK_IMPORTED_MODULE_0__[\"Datguif\"]({\n      load: JSON\n    });\n    this.gui.addFolder('Settings').open();\n    this.gui.addFolder('Renderer', 'Settings');\n    this.gui.addFolder('Camera', 'Settings');\n    this.gui.addFolder('Scroll', 'Settings');\n    this.gui.addFolder('Lights');\n    this.gui.addFolder('Objects');\n    this.gui.addObjectToFolder('Scroll', this, [{\n      keyName: 'scrollLerp',\n      min: 0,\n      max: 1,\n      step: 0.01\n    }, {\n      keyName: 'scrollEase',\n      options: ['linear', 'easeOutQuad', 'easeInQuad']\n    }]);\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__[\"dom\"].getElementScrolledPercent(_this.parentElement, window.innerHeight); //   this.rafProgress.easeTo(this.progress, 0.26, EASE.easeInOutExpo);\n        //   this.rafProgress.easeTo(this.progress, 0.08, EASE.linear);\n\n        _this.rafProgress.easeTo(_this.progress, _this.scrollLerp, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__[\"EASE\"][_this.scrollEase]);\n      },\n      eventOptions: {\n        passive: true\n      }\n    });\n    this.scene = new three__WEBPACK_IMPORTED_MODULE_1__[\"Scene\"]();\n    this.gui.onUpdate(function (prop) {\n      _this.draw();\n    });\n    var loader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_2__[\"GLTFLoader\"]();\n    var path = './public/home/demo10.gltf';\n    loader.load(path, function (gltf) {\n      var gltfData = gltf.parser.json;\n\n      var getNodeByName = function getNodeByName(name) {\n        return gltfData.nodes.filter(function (node) {\n          return node.name = name;\n        })[0];\n      };\n\n      console.log('gltf data', gltfData);\n      _this.clock = new three__WEBPACK_IMPORTED_MODULE_1__[\"Clock\"]();\n      var scene = gltf.scenes[0];\n      _this.activeScene = scene;\n      _this.animations = gltf.animations; // Animation Mixer\n\n      _this.mixer = new three__WEBPACK_IMPORTED_MODULE_1__[\"AnimationMixer\"](scene); //Animation Clip\n\n      for (var i = 0; i < _this.animations.length; i++) {\n        var animation = _this.animations[i]; //Animation Action\n\n        var action = _this.mixer.clipAction(animation);\n\n        console.log('added', animation);\n        action.play();\n      }\n\n      _this.scene.add(scene);\n\n      console.log('scene', scene);\n      console.log('mixer', _this.mixer); // http://learningthreejs.com/blog/2012/01/20/casting-shadows/\n\n      _this.scene.traverse(function (child) {\n        if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"Light\"]) {\n          // child.castShadow = true;\n          // console.log('light', child);\n          // Debugging light positions.\n          // child.shadowCameraVisible = false;\n          // if(child.shadow) {\n          //     // Adjust shadow bias.\n          //     // child.shadow.bias = -0.002;\n          //     // Remove the rigged looking shadows.\n          //     // child.shadow.mapSize.width = 1024;\n          //     // child.shadow.mapSize.height = 1024;\n          //     // child.shadowDarkness = 0.5;\n          //     // child.shadow.camera.near = 0;\n          //     // child.shadow.camera.far = 1000;\n          //     // var helper = new THREE.CameraHelper( child.shadow.camera );\n          //     // scene.add( helper );\n          // }\n          child.layers.set(1); // // Point lights are defined in watts which goes waay off in three.js\n\n          if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"PointLight\"]) {\n            child.intensity = child.intensity * 0.0005;\n          } // If it's a spot light, it needs to go down even more.\n\n\n          if (child.type == \"SpotLight\") {\n            child.intensity = child.intensity * 0.001;\n          } // child.intensity = 0;\n\n\n          if (child.name == 'Point_Orientation') {\n            // child.castShadow = true;\n            child.intensity = 4.6;\n          }\n\n          _this.gui.addFolder(child.name, 'Lights');\n\n          _this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'intensity',\n            min: 0,\n            max: 3000\n          }, {\n            keyName: 'color'\n          }]);\n\n          if (child.shadow) {\n            var shadowFolderId = child.name + ' shadow'; // console.log(child.shadow);\n\n            _this.gui.addFolder(shadowFolderId, child.name);\n\n            _this.gui.addObjectToFolder(shadowFolderId, child.shadow, [{\n              keyName: 'bias',\n              min: -1,\n              max: 1,\n              step: 0.00001\n            }, {\n              keyName: 'radius',\n              min: 0,\n              max: 100,\n              step: 0.01\n            }]);\n          }\n        } else if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__[\"Mesh\"]) {\n          // child.castShadow = true;\n          // child.receiveShadow = true;\n          // child.geometry.computeVertexNormals(true);\n          var lightEnabled = ['p4-super-sm', 'p4-super-sm001', 'p4-super-sm002'];\n\n          if (~lightEnabled.indexOf(child.name)) {\n            child.layers.set(1);\n          }\n\n          _this.gui.addFolder(child.name, 'Objects');\n\n          _this.gui.addObjectToFolder(child.name, child, [{\n            keyName: 'castShadow'\n          }, {\n            keyName: 'receiveShadow'\n          }]);\n\n          if (child.material) {\n            var materialId = child.name + ' material';\n\n            _this.gui.addFolder(materialId, child.name);\n\n            _this.gui.addObjectToFolder(materialId, child.material, [{\n              keyName: 'emissiveIntensity',\n              min: 0,\n              max: 1\n            }, {\n              keyName: 'flatShading',\n              callback: function callback() {\n                child.material.needsUpdate = true;\n              }\n            }, {\n              keyName: 'wireframe',\n              callback: function callback() {\n                child.material.needsUpdate = true;\n              }\n            }]); // Enable smooth shading.\n            // child.material.flatShading = false;\n            // child.material.wireframe = false;\n            // child.material.needsUpdate = true;\n            // child.geometry.computeFaceNormals();\n            // child.geometry.computeVertexNormals(true);\n\n          }\n\n          if (child.name == 'Plane001') {\n            console.log('mesh', child);\n          } // Get the image mappings.\n          // if(child.material && child.material.map) {\n          //   child.material.map.needsUpdate = true;\n          // }\n\n        } else {// console.log('other', child);\n          }\n      }); // Set the camera exported in gltf.\n      // Requires camera to be exported for gltf.\n\n\n      _this.camera = gltf.cameras[0];\n      console.log('camera', _this.camera);\n\n      _this.resize(); // Use fog to cover far distances.\n      // const color = 0x00000;\n      // this.scene.fog = new THREE.Fog(color, 5, 8);\n      // Enable shadows.\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n\n      _this.renderer.shadowMap.enabled = true; // To antialias the shadow\n\n      _this.renderer.shadowMap.type = three__WEBPACK_IMPORTED_MODULE_1__[\"PCFSoftShadowMap\"];\n      _this.renderer.gammaOutput = true;\n      _this.renderer.gammaFactor = 2.2; // Important to get the correct colors.\n      // this.renderer.physicallyCorrectLigts = true;\n      // Background as black.\n      // this.renderer.setClearColor(0x4287f5);\n\n      _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha); // Affects how strongly lights come exposed.\n      // https://threejs.org/examples/#webgl_tonemapping\n\n\n      _this.renderer.toneMappingExposure = 1; // this.renderer.toneMappingExposure = 0.6;\n\n      _this.renderer.toneMapping = three__WEBPACK_IMPORTED_MODULE_1__[\"ACESFilmicToneMapping\"];\n\n      _this.gui.addObjectToFolder('Renderer', _this.renderer, [{\n        keyName: 'toneMappingExposure',\n        min: 0,\n        max: 5,\n        step: 0.01\n      }, {\n        keyName: 'gammaFactor',\n        min: 0,\n        max: 10,\n        step: 0.01\n      }]);\n\n      _this.gui.addObjectToFolder('Renderer', _this.rendererConfig, [{\n        keyName: 'clearColor',\n        callback: function callback() {\n          _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha);\n        }\n      }, {\n        keyName: 'backgroundAlpha',\n        callback: function callback() {\n          _this.renderer.setClearColor(_this.rendererConfig.clearColor, _this.rendererConfig.backgroundAlpha);\n        }\n      }]);\n\n      _this.gui.addObjectToFolder('Camera', _this.camera, [{\n        keyName: 'fov',\n        min: 0,\n        max: 50,\n        step: 0.01,\n        callback: function callback() {\n          _this.camera.updateProjectionMatrix();\n        }\n      }, {\n        keyName: 'zoom',\n        min: 0,\n        max: 10,\n        step: 0.0001,\n        callback: function callback() {\n          _this.camera.updateProjectionMatrix();\n        }\n      }]);\n\n      _this.gui.addFolder('General Lights');\n\n      _this.generalLightConfig = {\n        ambientLightColor: '#7395b3',\n        ambientLightAlpha: 0\n      }; // Additional lighting outside the blender.\n      // var light = new THREE.HemisphereLight( 0xffffbb, 0xffffff, 1 );\n      // this.scene.add( light );\n\n      _this.ambientLight = new three__WEBPACK_IMPORTED_MODULE_1__[\"AmbientLight\"](_this.generalLightConfig.ambientLightColor);\n      _this.ambientLight.intensity = _this.generalLightConfig.ambientLightAlpha;\n      scene.add(_this.ambientLight);\n\n      _this.gui.addObjectToFolder('General Lights', _this.generalLightConfig, [{\n        keyName: 'ambientLightColor',\n        callback: function callback() {\n          _this.ambientLight.color = new three__WEBPACK_IMPORTED_MODULE_1__[\"Color\"](_this.generalLightConfig.ambientLightColor);\n        }\n      }, {\n        keyName: 'ambientLightAlpha',\n        callback: function callback() {\n          _this.ambientLight.intensity = _this.generalLightConfig.ambientLightAlpha;\n        }\n      }]); // var width = 50;\n      // var height = 50;\n      // var intensity = 0;\n      // var rectLight = new THREE.RectAreaLight('#FFFFFF', intensity,  width, height );\n      // rectLight.position.set( 0, 0, 25 );\n      // // rectLight.lookAt( 0, 0, 0 );\n      // this.scene.add( rectLight );\n      // rectLightHelper = new THREE.RectAreaLightHelper( rectLight );\n      // rectLight.add( rectLightHelper );\n\n\n      _this.gui.addButton('Refresh', _this.refresh.bind(_this));\n    }, undefined, function (error) {\n      console.error(error);\n    });\n    this.renderer = new three__WEBPACK_IMPORTED_MODULE_1__[\"WebGLRenderer\"]({\n      antialias: true,\n      // precision: 'highp'\n      autoSize: true\n    });\n    this.composer = new three_examples_jsm_postprocessing_EffectComposer__WEBPACK_IMPORTED_MODULE_3__[\"EffectComposer\"](this.renderer);\n    this.canvasContainer.appendChild(this.renderer.domElement);\n    window.addEventListener('resize', this.resize.bind(this), false);\n  }\n\n  _createClass(ThreeObjectViewer9, [{\n    key: \"resize\",\n    value: function resize() {\n      this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_10__[\"dom\"].getElementScrolledPercent(this.parentElement, window.innerHeight);\n      this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_11__[\"EASE\"].Linear);\n      this.width = this.canvasContainer.parentElement.offsetWidth;\n      this.height = this.canvasContainer.parentElement.offsetHeight; // https://github.com/donmccurdy/three-gltf-viewer/blob/master/src/viewer.js\n      // https://threejs.org/docs/#api/en/constants/Renderer\n\n      this.renderer.setPixelRatio(window.devicePixelRatio);\n      this.renderer.setSize(this.width, this.height); // Post processing\n      // this.composer.setSize( this.width, this.height);\n      // const fxaaPass = new ShaderPass( FXAAShader );\n      // fxaaPass.material.uniforms[ 'resolution' ].value.x = 1 / ( this.width * window.devicePixelRatio);\n      // fxaaPass.material.uniforms[ 'resolution' ].value.y = 1 / ( this.height * window.devicePixelRatio);\n      // this.composer.addPass(fxaaPass);\n      // this.composer.addPass(new RenderPass(this.scene, this.camera));\n      // var bloomPass = new Unr2.2mealBloomPass(1, 25, 5, 256);\n      // this.composer.addPass(bloomPass);\n      // The camera aspect goes off since it could be exported at a different\n      // ratio.  Force update the aspect ratio.\n\n      this.camera.aspect = this.width / this.height;\n      this.camera.updateProjectionMatrix();\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this.renderer.setClearColor(this.rendererConfig.clearColor, this.rendererConfig.backgroundAlpha);\n      this.resize();\n      this.draw();\n    }\n  }, {\n    key: \"getAnimationByName\",\n    value: function getAnimationByName(name) {\n      return this.animations.filter(function (animationClip) {\n        return animationClip.name == name;\n      })[0];\n    }\n  }, {\n    key: \"getObjectByName\",\n    value: function getObjectByName(name) {\n      return this.activeScene.children.filter(function (object3d) {\n        return object3d.name == name;\n      })[0];\n    }\n  }, {\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(progress) {\n      //Animation Mixer\n      if (this.mixer) {\n        // We need to find out how long the animation is.\n        // The mixer appears to have no knowledge oft this so we need to\n        // look up a specific animation and get the duration to\n        // get the total duration of the animation.\n        var cameraAnimation = this.getAnimationByName('CameraAction.004');\n        var duration = cameraAnimation.duration; // When duration hits it's max, animationMixer seems to hit the first\n        // frame so next allow it to reach the max value.\n\n        this.mixer.setTime(Math.min(duration * progress, duration - 0.001));\n      }\n\n      this.draw(); // this.renderer.render(this.scene, this.camera);\n      // this.composer.render();\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      this.renderer.autoClear = true;\n      this.camera.layers.set(0);\n      this.renderer.render(this.scene, this.camera);\n      this.renderer.autoClear = false; // Don't clear\n\n      this.camera.layers.set(1);\n      this.renderer.render(this.scene, this.camera);\n    }\n  }]);\n\n  return ThreeObjectViewer9;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1vYmplY3Qtdmlld2VyOS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLW9iamVjdC12aWV3ZXI5LmpzPzA5NTgiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI21hbnVhbC9lbi9pbnRyb2R1Y3Rpb24vTG9hZGluZy0zRC1tb2RlbHNcbi8vIGh0dHBzOi8vdGhyZWVqcy5vcmcvZXhhbXBsZXMvI3dlYmdsX2xvYWRlcl9nbHRmXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9iZWxsYmluZC9jNGY4YzUwMmZjYWNiZTI5NDIyZTVhYzMxNTI3Mzg1OFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Z1bndpdGh0cmlhbmdsZXMvYmxlbmRlci10by10aHJlZWpzLWV4cG9ydC1ndWlkZS9ibG9iL21hc3Rlci9yZWFkbWUubWRcbi8vIGh0dHBzOi8vdGhyZWVqc2Z1bmRhbWVudGFscy5vcmcvdGhyZWVqcy9sZXNzb25zL3RocmVlanMtbG9hZC1nbHRmLmh0bWxcbi8vIGh0dHBzOi8vZGlzY292ZXJ0aHJlZWpzLmNvbS9ib29rL2ZpcnN0LXN0ZXBzL2xvYWQtbW9kZWxzL1xuLy8gaHR0cHM6Ly93d3cucGVudGFjcmVhdGlvbi5jb20vYmxvZy8yMDE5LzA5LzE5MDkxNi5odG1sXG4vLyBodHRwczovL3d3dy5wZW50YWNyZWF0aW9uLmNvbS9ibG9nLzIwMTkvMTAvMTkxMDE2Lmh0bWxcbi8vIGh0dHBzOi8vZG9jcy5ibGVuZGVyLm9yZy9tYW51YWwvamEvbGF0ZXN0L2FkZG9ucy9pb19zY2VuZV9nbHRmMi5odG1sXG4vLyBodHRwczovL2dsdGYtdmlld2VyLmRvbm1jY3VyZHkuY29tL1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rvbm1jY3VyZHkvdGhyZWUtZ2x0Zi12aWV3ZXJcbmltcG9ydCB7IERhdGd1aWYgfSBmcm9tICcuLi9saWIvZGF0Z3VpZi9kYXRndWlmJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyJztcbmltcG9ydCB7IEVmZmVjdENvbXBvc2VyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL0VmZmVjdENvbXBvc2VyJztcbmltcG9ydCB7IFJlbmRlclBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvUmVuZGVyUGFzcy5qcyc7XG5pbXBvcnQgeyBVbnJlYWxCbG9vbVBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvVW5yZWFsQmxvb21QYXNzLmpzJztcbmltcG9ydCB7IEZYQUFTaGFkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vc2hhZGVycy9GWEFBU2hhZGVyLmpzJztcbmltcG9ydCB7IFNoYWRlclBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvU2hhZGVyUGFzcy5qcyc7IC8vIGltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcblxuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuaW1wb3J0IHsgUmFmUHJvZ3Jlc3MgfSBmcm9tICcuLi9saWIvcmFmL3JhZi1wcm9ncmVzcyc7XG5pbXBvcnQgeyBkb20gfSBmcm9tICcuLi9saWIvZG9tL2RvbSc7XG5pbXBvcnQgeyBFQVNFIH0gZnJvbSAnLi4vbGliL2Vhc2UvZWFzZSc7XG5cbnZhciBUaHJlZU9iamVjdFZpZXdlcjkgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUaHJlZU9iamVjdFZpZXdlcjkoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaHJlZU9iamVjdFZpZXdlcjkpO1xuXG4gICAgY29uc29sZS5sb2coJ1RocmVlSlMgT2JqZWN0IFZpZXdlciBEZW1vJyk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MgPSBuZXcgUmFmUHJvZ3Jlc3MoKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnNjcm9sbExlcnAgPSAwLjM4O1xuICAgIHRoaXMuc2Nyb2xsRWFzZSA9ICdlYXNlSW5RdWFkJztcbiAgICB0aGlzLnJlbmRlcmVyQ29uZmlnID0ge1xuICAgICAgY2xlYXJDb2xvcjogJyNDN0M1QjgnLFxuICAgICAgYmFja2dyb3VuZEFscGhhOiAxLjBcbiAgICB9O1xuICAgIHRoaXMuZ3VpID0gbmV3IERhdGd1aWYoe1xuICAgICAgbG9hZDogSlNPTlxuICAgIH0pO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignU2V0dGluZ3MnKS5vcGVuKCk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdSZW5kZXJlcicsICdTZXR0aW5ncycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignQ2FtZXJhJywgJ1NldHRpbmdzJyk7XG4gICAgdGhpcy5ndWkuYWRkRm9sZGVyKCdTY3JvbGwnLCAnU2V0dGluZ3MnKTtcbiAgICB0aGlzLmd1aS5hZGRGb2xkZXIoJ0xpZ2h0cycpO1xuICAgIHRoaXMuZ3VpLmFkZEZvbGRlcignT2JqZWN0cycpO1xuICAgIHRoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdTY3JvbGwnLCB0aGlzLCBbe1xuICAgICAga2V5TmFtZTogJ3Njcm9sbExlcnAnLFxuICAgICAgbWluOiAwLFxuICAgICAgbWF4OiAxLFxuICAgICAgc3RlcDogMC4wMVxuICAgIH0sIHtcbiAgICAgIGtleU5hbWU6ICdzY3JvbGxFYXNlJyxcbiAgICAgIG9wdGlvbnM6IFsnbGluZWFyJywgJ2Vhc2VPdXRRdWFkJywgJ2Vhc2VJblF1YWQnXVxuICAgIH1dKTtcbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhldmVudCkge1xuICAgICAgICBfdGhpcy5wcm9ncmVzcyA9IGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KF90aGlzLnBhcmVudEVsZW1lbnQsIHdpbmRvdy5pbm5lckhlaWdodCk7IC8vICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMC4yNiwgRUFTRS5lYXNlSW5PdXRFeHBvKTtcbiAgICAgICAgLy8gICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAwLjA4LCBFQVNFLmxpbmVhcik7XG5cbiAgICAgICAgX3RoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKF90aGlzLnByb2dyZXNzLCBfdGhpcy5zY3JvbGxMZXJwLCBFQVNFW190aGlzLnNjcm9sbEVhc2VdKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLmd1aS5vblVwZGF0ZShmdW5jdGlvbiAocHJvcCkge1xuICAgICAgX3RoaXMuZHJhdygpO1xuICAgIH0pO1xuICAgIHZhciBsb2FkZXIgPSBuZXcgR0xURkxvYWRlcigpO1xuICAgIHZhciBwYXRoID0gJy4vcHVibGljL2hvbWUvZGVtbzEwLmdsdGYnO1xuICAgIGxvYWRlci5sb2FkKHBhdGgsIGZ1bmN0aW9uIChnbHRmKSB7XG4gICAgICB2YXIgZ2x0ZkRhdGEgPSBnbHRmLnBhcnNlci5qc29uO1xuXG4gICAgICB2YXIgZ2V0Tm9kZUJ5TmFtZSA9IGZ1bmN0aW9uIGdldE5vZGVCeU5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gZ2x0ZkRhdGEubm9kZXMuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgcmV0dXJuIG5vZGUubmFtZSA9IG5hbWU7XG4gICAgICAgIH0pWzBdO1xuICAgICAgfTtcblxuICAgICAgY29uc29sZS5sb2coJ2dsdGYgZGF0YScsIGdsdGZEYXRhKTtcbiAgICAgIF90aGlzLmNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKCk7XG4gICAgICB2YXIgc2NlbmUgPSBnbHRmLnNjZW5lc1swXTtcbiAgICAgIF90aGlzLmFjdGl2ZVNjZW5lID0gc2NlbmU7XG4gICAgICBfdGhpcy5hbmltYXRpb25zID0gZ2x0Zi5hbmltYXRpb25zOyAvLyBBbmltYXRpb24gTWl4ZXLjgqTjg7Pjgrnjgr/jg7PjgrnjgpLnlJ/miJBcblxuICAgICAgX3RoaXMubWl4ZXIgPSBuZXcgVEhSRUUuQW5pbWF0aW9uTWl4ZXIoc2NlbmUpOyAvL+WFqOOBpuOBrkFuaW1hdGlvbiBDbGlw44Gr5a++44GX44GmXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMuYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYW5pbWF0aW9uID0gX3RoaXMuYW5pbWF0aW9uc1tpXTsgLy9BbmltYXRpb24gQWN0aW9u44KS55Sf5oiQXG5cbiAgICAgICAgdmFyIGFjdGlvbiA9IF90aGlzLm1peGVyLmNsaXBBY3Rpb24oYW5pbWF0aW9uKTtcblxuICAgICAgICBjb25zb2xlLmxvZygnYWRkZWQnLCBhbmltYXRpb24pO1xuICAgICAgICBhY3Rpb24ucGxheSgpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zY2VuZS5hZGQoc2NlbmUpO1xuXG4gICAgICBjb25zb2xlLmxvZygnc2NlbmUnLCBzY2VuZSk7XG4gICAgICBjb25zb2xlLmxvZygnbWl4ZXInLCBfdGhpcy5taXhlcik7IC8vIGh0dHA6Ly9sZWFybmluZ3RocmVlanMuY29tL2Jsb2cvMjAxMi8wMS8yMC9jYXN0aW5nLXNoYWRvd3MvXG5cbiAgICAgIF90aGlzLnNjZW5lLnRyYXZlcnNlKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5MaWdodCkge1xuICAgICAgICAgIC8vIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdsaWdodCcsIGNoaWxkKTtcbiAgICAgICAgICAvLyBEZWJ1Z2dpbmcgbGlnaHQgcG9zaXRpb25zLlxuICAgICAgICAgIC8vIGNoaWxkLnNoYWRvd0NhbWVyYVZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAvLyBpZihjaGlsZC5zaGFkb3cpIHtcbiAgICAgICAgICAvLyAgICAgLy8gQWRqdXN0IHNoYWRvdyBiaWFzLlxuICAgICAgICAgIC8vICAgICAvLyBjaGlsZC5zaGFkb3cuYmlhcyA9IC0wLjAwMjtcbiAgICAgICAgICAvLyAgICAgLy8gUmVtb3ZlIHRoZSByaWdnZWQgbG9va2luZyBzaGFkb3dzLlxuICAgICAgICAgIC8vICAgICAvLyBjaGlsZC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IDEwMjQ7XG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IDEwMjQ7XG4gICAgICAgICAgLy8gICAgIC8vIGNoaWxkLnNoYWRvd0RhcmtuZXNzID0gMC41O1xuICAgICAgICAgIC8vICAgICAvLyBjaGlsZC5zaGFkb3cuY2FtZXJhLm5lYXIgPSAwO1xuICAgICAgICAgIC8vICAgICAvLyBjaGlsZC5zaGFkb3cuY2FtZXJhLmZhciA9IDEwMDA7XG4gICAgICAgICAgLy8gICAgIC8vIHZhciBoZWxwZXIgPSBuZXcgVEhSRUUuQ2FtZXJhSGVscGVyKCBjaGlsZC5zaGFkb3cuY2FtZXJhICk7XG4gICAgICAgICAgLy8gICAgIC8vIHNjZW5lLmFkZCggaGVscGVyICk7XG4gICAgICAgICAgLy8gfVxuICAgICAgICAgIGNoaWxkLmxheWVycy5zZXQoMSk7IC8vIC8vIFBvaW50IGxpZ2h0cyBhcmUgZGVmaW5lZCBpbiB3YXR0cyB3aGljaCBnb2VzIHdhYXkgb2ZmIGluIHRocmVlLmpzXG5cbiAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUSFJFRS5Qb2ludExpZ2h0KSB7XG4gICAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSBjaGlsZC5pbnRlbnNpdHkgKiAwLjAwMDU7XG4gICAgICAgICAgfSAvLyBJZiBpdCdzIGEgc3BvdCBsaWdodCwgaXQgbmVlZHMgdG8gZ28gZG93biBldmVuIG1vcmUuXG5cblxuICAgICAgICAgIGlmIChjaGlsZC50eXBlID09IFwiU3BvdExpZ2h0XCIpIHtcbiAgICAgICAgICAgIGNoaWxkLmludGVuc2l0eSA9IGNoaWxkLmludGVuc2l0eSAqIDAuMDAxO1xuICAgICAgICAgIH0gLy8gY2hpbGQuaW50ZW5zaXR5ID0gMDtcblxuXG4gICAgICAgICAgaWYgKGNoaWxkLm5hbWUgPT0gJ1BvaW50X09yaWVudGF0aW9uJykge1xuICAgICAgICAgICAgLy8gY2hpbGQuY2FzdFNoYWRvdyA9IHRydWU7XG4gICAgICAgICAgICBjaGlsZC5pbnRlbnNpdHkgPSA0LjY7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMuZ3VpLmFkZEZvbGRlcihjaGlsZC5uYW1lLCAnTGlnaHRzJyk7XG5cbiAgICAgICAgICBfdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoY2hpbGQubmFtZSwgY2hpbGQsIFt7XG4gICAgICAgICAgICBrZXlOYW1lOiAnY2FzdFNoYWRvdydcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXlOYW1lOiAnaW50ZW5zaXR5JyxcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIG1heDogMzAwMFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleU5hbWU6ICdjb2xvcidcbiAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICBpZiAoY2hpbGQuc2hhZG93KSB7XG4gICAgICAgICAgICB2YXIgc2hhZG93Rm9sZGVySWQgPSBjaGlsZC5uYW1lICsgJyBzaGFkb3cnOyAvLyBjb25zb2xlLmxvZyhjaGlsZC5zaGFkb3cpO1xuXG4gICAgICAgICAgICBfdGhpcy5ndWkuYWRkRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5uYW1lKTtcblxuICAgICAgICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKHNoYWRvd0ZvbGRlcklkLCBjaGlsZC5zaGFkb3csIFt7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdiaWFzJyxcbiAgICAgICAgICAgICAgbWluOiAtMSxcbiAgICAgICAgICAgICAgbWF4OiAxLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAwMDAxXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGtleU5hbWU6ICdyYWRpdXMnLFxuICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgIG1heDogMTAwLFxuICAgICAgICAgICAgICBzdGVwOiAwLjAxXG4gICAgICAgICAgICB9XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaCkge1xuICAgICAgICAgIC8vIGNoaWxkLmNhc3RTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNoaWxkLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKHRydWUpO1xuICAgICAgICAgIHZhciBsaWdodEVuYWJsZWQgPSBbJ3A0LXN1cGVyLXNtJywgJ3A0LXN1cGVyLXNtMDAxJywgJ3A0LXN1cGVyLXNtMDAyJ107XG5cbiAgICAgICAgICBpZiAofmxpZ2h0RW5hYmxlZC5pbmRleE9mKGNoaWxkLm5hbWUpKSB7XG4gICAgICAgICAgICBjaGlsZC5sYXllcnMuc2V0KDEpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzLmd1aS5hZGRGb2xkZXIoY2hpbGQubmFtZSwgJ09iamVjdHMnKTtcblxuICAgICAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihjaGlsZC5uYW1lLCBjaGlsZCwgW3tcbiAgICAgICAgICAgIGtleU5hbWU6ICdjYXN0U2hhZG93J1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleU5hbWU6ICdyZWNlaXZlU2hhZG93J1xuICAgICAgICAgIH1dKTtcblxuICAgICAgICAgIGlmIChjaGlsZC5tYXRlcmlhbCkge1xuICAgICAgICAgICAgdmFyIG1hdGVyaWFsSWQgPSBjaGlsZC5uYW1lICsgJyBtYXRlcmlhbCc7XG5cbiAgICAgICAgICAgIF90aGlzLmd1aS5hZGRGb2xkZXIobWF0ZXJpYWxJZCwgY2hpbGQubmFtZSk7XG5cbiAgICAgICAgICAgIF90aGlzLmd1aS5hZGRPYmplY3RUb0ZvbGRlcihtYXRlcmlhbElkLCBjaGlsZC5tYXRlcmlhbCwgW3tcbiAgICAgICAgICAgICAga2V5TmFtZTogJ2VtaXNzaXZlSW50ZW5zaXR5JyxcbiAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICBtYXg6IDFcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAga2V5TmFtZTogJ2ZsYXRTaGFkaW5nJyxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBrZXlOYW1lOiAnd2lyZWZyYW1lJyxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pOyAvLyBFbmFibGUgc21vb3RoIHNoYWRpbmcuXG4gICAgICAgICAgICAvLyBjaGlsZC5tYXRlcmlhbC5mbGF0U2hhZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gY2hpbGQubWF0ZXJpYWwud2lyZWZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBjaGlsZC5tYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAvLyBjaGlsZC5nZW9tZXRyeS5jb21wdXRlRmFjZU5vcm1hbHMoKTtcbiAgICAgICAgICAgIC8vIGNoaWxkLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKHRydWUpO1xuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNoaWxkLm5hbWUgPT0gJ1BsYW5lMDAxJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ21lc2gnLCBjaGlsZCk7XG4gICAgICAgICAgfSAvLyBHZXQgdGhlIGltYWdlIG1hcHBpbmdzLlxuICAgICAgICAgIC8vIGlmKGNoaWxkLm1hdGVyaWFsICYmIGNoaWxkLm1hdGVyaWFsLm1hcCkge1xuICAgICAgICAgIC8vICAgY2hpbGQubWF0ZXJpYWwubWFwLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAvLyB9XG5cbiAgICAgICAgfSBlbHNlIHsvLyBjb25zb2xlLmxvZygnb3RoZXInLCBjaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgfSk7IC8vIFNldCB0aGUgY2FtZXJhIGV4cG9ydGVkIGluIGdsdGYuXG4gICAgICAvLyBSZXF1aXJlcyBjYW1lcmEgdG8gYmUgZXhwb3J0ZWQgZm9yIGdsdGYuXG5cblxuICAgICAgX3RoaXMuY2FtZXJhID0gZ2x0Zi5jYW1lcmFzWzBdO1xuICAgICAgY29uc29sZS5sb2coJ2NhbWVyYScsIF90aGlzLmNhbWVyYSk7XG5cbiAgICAgIF90aGlzLnJlc2l6ZSgpOyAvLyBVc2UgZm9nIHRvIGNvdmVyIGZhciBkaXN0YW5jZXMuXG4gICAgICAvLyBjb25zdCBjb2xvciA9IDB4MDAwMDA7XG4gICAgICAvLyB0aGlzLnNjZW5lLmZvZyA9IG5ldyBUSFJFRS5Gb2coY29sb3IsIDUsIDgpO1xuICAgICAgLy8gRW5hYmxlIHNoYWRvd3MuXG4gICAgICAvLyBodHRwczovL3RocmVlanMub3JnL2RvY3MvI2FwaS9lbi9jb25zdGFudHMvUmVuZGVyZXJcblxuXG4gICAgICBfdGhpcy5yZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7IC8vIFRvIGFudGlhbGlhcyB0aGUgc2hhZG93XG5cbiAgICAgIF90aGlzLnJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcbiAgICAgIF90aGlzLnJlbmRlcmVyLmdhbW1hT3V0cHV0ID0gdHJ1ZTtcbiAgICAgIF90aGlzLnJlbmRlcmVyLmdhbW1hRmFjdG9yID0gMi4yOyAvLyBJbXBvcnRhbnQgdG8gZ2V0IHRoZSBjb3JyZWN0IGNvbG9ycy5cbiAgICAgIC8vIHRoaXMucmVuZGVyZXIucGh5c2ljYWxseUNvcnJlY3RMaWd0cyA9IHRydWU7XG4gICAgICAvLyBCYWNrZ3JvdW5kIGFzIGJsYWNrLlxuICAgICAgLy8gdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKDB4NDI4N2Y1KTtcblxuICAgICAgX3RoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcihfdGhpcy5yZW5kZXJlckNvbmZpZy5jbGVhckNvbG9yLCBfdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpOyAvLyBBZmZlY3RzIGhvdyBzdHJvbmdseSBsaWdodHMgY29tZSBleHBvc2VkLlxuICAgICAgLy8gaHR0cHM6Ly90aHJlZWpzLm9yZy9leGFtcGxlcy8jd2ViZ2xfdG9uZW1hcHBpbmdcblxuXG4gICAgICBfdGhpcy5yZW5kZXJlci50b25lTWFwcGluZ0V4cG9zdXJlID0gMTsgLy8gdGhpcy5yZW5kZXJlci50b25lTWFwcGluZ0V4cG9zdXJlID0gMC42O1xuXG4gICAgICBfdGhpcy5yZW5kZXJlci50b25lTWFwcGluZyA9IFRIUkVFLkFDRVNGaWxtaWNUb25lTWFwcGluZztcblxuICAgICAgX3RoaXMuZ3VpLmFkZE9iamVjdFRvRm9sZGVyKCdSZW5kZXJlcicsIF90aGlzLnJlbmRlcmVyLCBbe1xuICAgICAgICBrZXlOYW1lOiAndG9uZU1hcHBpbmdFeHBvc3VyZScsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiA1LFxuICAgICAgICBzdGVwOiAwLjAxXG4gICAgICB9LCB7XG4gICAgICAgIGtleU5hbWU6ICdnYW1tYUZhY3RvcicsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiAxMCxcbiAgICAgICAgc3RlcDogMC4wMVxuICAgICAgfV0pO1xuXG4gICAgICBfdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ1JlbmRlcmVyJywgX3RoaXMucmVuZGVyZXJDb25maWcsIFt7XG4gICAgICAgIGtleU5hbWU6ICdjbGVhckNvbG9yJyxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIF90aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoX3RoaXMucmVuZGVyZXJDb25maWcuY2xlYXJDb2xvciwgX3RoaXMucmVuZGVyZXJDb25maWcuYmFja2dyb3VuZEFscGhhKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXlOYW1lOiAnYmFja2dyb3VuZEFscGhhJyxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIF90aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoX3RoaXMucmVuZGVyZXJDb25maWcuY2xlYXJDb2xvciwgX3RoaXMucmVuZGVyZXJDb25maWcuYmFja2dyb3VuZEFscGhhKTtcbiAgICAgICAgfVxuICAgICAgfV0pO1xuXG4gICAgICBfdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ0NhbWVyYScsIF90aGlzLmNhbWVyYSwgW3tcbiAgICAgICAga2V5TmFtZTogJ2ZvdicsXG4gICAgICAgIG1pbjogMCxcbiAgICAgICAgbWF4OiA1MCxcbiAgICAgICAgc3RlcDogMC4wMSxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIF90aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ3pvb20nLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIG1heDogMTAsXG4gICAgICAgIHN0ZXA6IDAuMDAwMSxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIF90aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICAgIH1dKTtcblxuICAgICAgX3RoaXMuZ3VpLmFkZEZvbGRlcignR2VuZXJhbCBMaWdodHMnKTtcblxuICAgICAgX3RoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnID0ge1xuICAgICAgICBhbWJpZW50TGlnaHRDb2xvcjogJyM3Mzk1YjMnLFxuICAgICAgICBhbWJpZW50TGlnaHRBbHBoYTogMFxuICAgICAgfTsgLy8gQWRkaXRpb25hbCBsaWdodGluZyBvdXRzaWRlIHRoZSBibGVuZGVyLlxuICAgICAgLy8gdmFyIGxpZ2h0ID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodCggMHhmZmZmYmIsIDB4ZmZmZmZmLCAxICk7XG4gICAgICAvLyB0aGlzLnNjZW5lLmFkZCggbGlnaHQgKTtcblxuICAgICAgX3RoaXMuYW1iaWVudExpZ2h0ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodChfdGhpcy5nZW5lcmFsTGlnaHRDb25maWcuYW1iaWVudExpZ2h0Q29sb3IpO1xuICAgICAgX3RoaXMuYW1iaWVudExpZ2h0LmludGVuc2l0eSA9IF90aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRBbHBoYTtcbiAgICAgIHNjZW5lLmFkZChfdGhpcy5hbWJpZW50TGlnaHQpO1xuXG4gICAgICBfdGhpcy5ndWkuYWRkT2JqZWN0VG9Gb2xkZXIoJ0dlbmVyYWwgTGlnaHRzJywgX3RoaXMuZ2VuZXJhbExpZ2h0Q29uZmlnLCBbe1xuICAgICAgICBrZXlOYW1lOiAnYW1iaWVudExpZ2h0Q29sb3InLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgX3RoaXMuYW1iaWVudExpZ2h0LmNvbG9yID0gbmV3IFRIUkVFLkNvbG9yKF90aGlzLmdlbmVyYWxMaWdodENvbmZpZy5hbWJpZW50TGlnaHRDb2xvcik7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5TmFtZTogJ2FtYmllbnRMaWdodEFscGhhJyxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIF90aGlzLmFtYmllbnRMaWdodC5pbnRlbnNpdHkgPSBfdGhpcy5nZW5lcmFsTGlnaHRDb25maWcuYW1iaWVudExpZ2h0QWxwaGE7XG4gICAgICAgIH1cbiAgICAgIH1dKTsgLy8gdmFyIHdpZHRoID0gNTA7XG4gICAgICAvLyB2YXIgaGVpZ2h0ID0gNTA7XG4gICAgICAvLyB2YXIgaW50ZW5zaXR5ID0gMDtcbiAgICAgIC8vIHZhciByZWN0TGlnaHQgPSBuZXcgVEhSRUUuUmVjdEFyZWFMaWdodCgnI0ZGRkZGRicsIGludGVuc2l0eSwgIHdpZHRoLCBoZWlnaHQgKTtcbiAgICAgIC8vIHJlY3RMaWdodC5wb3NpdGlvbi5zZXQoIDAsIDAsIDI1ICk7XG4gICAgICAvLyAvLyByZWN0TGlnaHQubG9va0F0KCAwLCAwLCAwICk7XG4gICAgICAvLyB0aGlzLnNjZW5lLmFkZCggcmVjdExpZ2h0ICk7XG4gICAgICAvLyByZWN0TGlnaHRIZWxwZXIgPSBuZXcgVEhSRUUuUmVjdEFyZWFMaWdodEhlbHBlciggcmVjdExpZ2h0ICk7XG4gICAgICAvLyByZWN0TGlnaHQuYWRkKCByZWN0TGlnaHRIZWxwZXIgKTtcblxuXG4gICAgICBfdGhpcy5ndWkuYWRkQnV0dG9uKCdSZWZyZXNoJywgX3RoaXMucmVmcmVzaC5iaW5kKF90aGlzKSk7XG4gICAgfSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH0pO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7XG4gICAgICBhbnRpYWxpYXM6IHRydWUsXG4gICAgICAvLyBwcmVjaXNpb246ICdoaWdocCdcbiAgICAgIGF1dG9TaXplOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5jb21wb3NlciA9IG5ldyBFZmZlY3RDb21wb3Nlcih0aGlzLnJlbmRlcmVyKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZS5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVGhyZWVPYmplY3RWaWV3ZXI5LCBbe1xuICAgIGtleTogXCJyZXNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplKCkge1xuICAgICAgdGhpcy5wcm9ncmVzcyA9IGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDEsIEVBU0UuTGluZWFyKTtcbiAgICAgIHRoaXMud2lkdGggPSB0aGlzLmNhbnZhc0NvbnRhaW5lci5wYXJlbnRFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNhbnZhc0NvbnRhaW5lci5wYXJlbnRFbGVtZW50Lm9mZnNldEhlaWdodDsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rvbm1jY3VyZHkvdGhyZWUtZ2x0Zi12aWV3ZXIvYmxvYi9tYXN0ZXIvc3JjL3ZpZXdlci5qc1xuICAgICAgLy8gaHR0cHM6Ly90aHJlZWpzLm9yZy9kb2NzLyNhcGkvZW4vY29uc3RhbnRzL1JlbmRlcmVyXG5cbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpOyAvLyBQb3N0IHByb2Nlc3NpbmdcbiAgICAgIC8vIHRoaXMuY29tcG9zZXIuc2V0U2l6ZSggdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgLy8gY29uc3QgZnhhYVBhc3MgPSBuZXcgU2hhZGVyUGFzcyggRlhBQVNoYWRlciApO1xuICAgICAgLy8gZnhhYVBhc3MubWF0ZXJpYWwudW5pZm9ybXNbICdyZXNvbHV0aW9uJyBdLnZhbHVlLnggPSAxIC8gKCB0aGlzLndpZHRoICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgLy8gZnhhYVBhc3MubWF0ZXJpYWwudW5pZm9ybXNbICdyZXNvbHV0aW9uJyBdLnZhbHVlLnkgPSAxIC8gKCB0aGlzLmhlaWdodCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgIC8vIHRoaXMuY29tcG9zZXIuYWRkUGFzcyhmeGFhUGFzcyk7XG4gICAgICAvLyB0aGlzLmNvbXBvc2VyLmFkZFBhc3MobmV3IFJlbmRlclBhc3ModGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpKTtcbiAgICAgIC8vIHZhciBibG9vbVBhc3MgPSBuZXcgVW5yMi4ybWVhbEJsb29tUGFzcygxLCAyNSwgNSwgMjU2KTtcbiAgICAgIC8vIHRoaXMuY29tcG9zZXIuYWRkUGFzcyhibG9vbVBhc3MpO1xuICAgICAgLy8gVGhlIGNhbWVyYSBhc3BlY3QgZ29lcyBvZmYgc2luY2UgaXQgY291bGQgYmUgZXhwb3J0ZWQgYXQgYSBkaWZmZXJlbnRcbiAgICAgIC8vIHJhdGlvLiAgRm9yY2UgdXBkYXRlIHRoZSBhc3BlY3QgcmF0aW8uXG5cbiAgICAgIHRoaXMuY2FtZXJhLmFzcGVjdCA9IHRoaXMud2lkdGggLyB0aGlzLmhlaWdodDtcbiAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVmcmVzaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWZyZXNoKCkge1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKHRoaXMucmVuZGVyZXJDb25maWcuY2xlYXJDb2xvciwgdGhpcy5yZW5kZXJlckNvbmZpZy5iYWNrZ3JvdW5kQWxwaGEpO1xuICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICAgIHRoaXMuZHJhdygpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRBbmltYXRpb25CeU5hbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QW5pbWF0aW9uQnlOYW1lKG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChhbmltYXRpb25DbGlwKSB7XG4gICAgICAgIHJldHVybiBhbmltYXRpb25DbGlwLm5hbWUgPT0gbmFtZTtcbiAgICAgIH0pWzBdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRPYmplY3RCeU5hbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T2JqZWN0QnlOYW1lKG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmFjdGl2ZVNjZW5lLmNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbiAob2JqZWN0M2QpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDNkLm5hbWUgPT0gbmFtZTtcbiAgICAgIH0pWzBdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblByb2dyZXNzVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUHJvZ3Jlc3NVcGRhdGUocHJvZ3Jlc3MpIHtcbiAgICAgIC8vQW5pbWF0aW9uIE1peGVy44KS5a6f6KGMXG4gICAgICBpZiAodGhpcy5taXhlcikge1xuICAgICAgICAvLyBXZSBuZWVkIHRvIGZpbmQgb3V0IGhvdyBsb25nIHRoZSBhbmltYXRpb24gaXMuXG4gICAgICAgIC8vIFRoZSBtaXhlciBhcHBlYXJzIHRvIGhhdmUgbm8ga25vd2xlZGdlIG9mdCB0aGlzIHNvIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gbG9vayB1cCBhIHNwZWNpZmljIGFuaW1hdGlvbiBhbmQgZ2V0IHRoZSBkdXJhdGlvbiB0b1xuICAgICAgICAvLyBnZXQgdGhlIHRvdGFsIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24uXG4gICAgICAgIHZhciBjYW1lcmFBbmltYXRpb24gPSB0aGlzLmdldEFuaW1hdGlvbkJ5TmFtZSgnQ2FtZXJhQWN0aW9uLjAwNCcpO1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBjYW1lcmFBbmltYXRpb24uZHVyYXRpb247IC8vIFdoZW4gZHVyYXRpb24gaGl0cyBpdCdzIG1heCwgYW5pbWF0aW9uTWl4ZXIgc2VlbXMgdG8gaGl0IHRoZSBmaXJzdFxuICAgICAgICAvLyBmcmFtZSBzbyBuZXh0IGFsbG93IGl0IHRvIHJlYWNoIHRoZSBtYXggdmFsdWUuXG5cbiAgICAgICAgdGhpcy5taXhlci5zZXRUaW1lKE1hdGgubWluKGR1cmF0aW9uICogcHJvZ3Jlc3MsIGR1cmF0aW9uIC0gMC4wMDEpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5kcmF3KCk7IC8vIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICAgIC8vIHRoaXMuY29tcG9zZXIucmVuZGVyKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRyYXdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdygpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIuYXV0b0NsZWFyID0gdHJ1ZTtcbiAgICAgIHRoaXMuY2FtZXJhLmxheWVycy5zZXQoMCk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgICB0aGlzLnJlbmRlcmVyLmF1dG9DbGVhciA9IGZhbHNlOyAvLyBEb24ndCBjbGVhclxuXG4gICAgICB0aGlzLmNhbWVyYS5sYXllcnMuc2V0KDEpO1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUaHJlZU9iamVjdFZpZXdlcjk7XG59KCk7XG5cbmV4cG9ydCB7IFRocmVlT2JqZWN0Vmlld2VyOSBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/three-object-viewer9.js\n");

/***/ }),

/***/ "./examples/three-scene-renderer.js":
/*!******************************************!*\
  !*** ./examples/three-scene-renderer.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ThreeSceneRenderer; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var _lib_threef_scene_renderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/threef/scene-renderer */ \"./lib/threef/scene-renderer.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_threef_threef__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/threef/threef */ \"./lib/threef/threef.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\nvar ThreeSceneRenderer = /*#__PURE__*/function () {\n  function ThreeSceneRenderer() {\n    _classCallCheck(this, ThreeSceneRenderer);\n\n    console.log('scene renderer test.');\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_3__[\"Raf\"](this.onRaf.bind(this));\n    this.sceneRenderer = new _lib_threef_scene_renderer__WEBPACK_IMPORTED_MODULE_2__[\"SceneRenderer\"]({});\n    this.boxElements = [document.getElementById('box-1'), document.getElementById('box-2'), document.getElementById('box-3'), document.getElementById('box-4'), document.getElementById('box-5'), document.getElementById('box-6'), document.getElementById('box-7'), document.getElementById('box-8'), document.getElementById('box-8'), document.getElementById('box-9'), document.getElementById('box-10'), document.getElementById('box-11'), document.getElementById('box-12')];\n    this.generateScenes();\n    this.sceneRenderer.resize();\n    this.raf.start();\n  }\n\n  _createClass(ThreeSceneRenderer, [{\n    key: \"generateScenes\",\n    value: function generateScenes() {\n      var _this = this;\n\n      var geometries = [new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxBufferGeometry\"](1, 1, 1), new three__WEBPACK_IMPORTED_MODULE_0__[\"SphereBufferGeometry\"](0.5, 12, 8), new three__WEBPACK_IMPORTED_MODULE_0__[\"DodecahedronBufferGeometry\"](0.5), new three__WEBPACK_IMPORTED_MODULE_0__[\"CylinderBufferGeometry\"](0.5, 0.5, 1, 12)];\n      this.boxElements.forEach(function (element) {\n        // Create a new scene.\n        var scene = new three__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"](); // Add a new cam.\n\n        var camera = new three__WEBPACK_IMPORTED_MODULE_0__[\"PerspectiveCamera\"](50, 1, 1, 10);\n        camera.position.z = 2; // Add some stuff to the sample scene.\n\n        var geometry = geometries[geometries.length * Math.random() | 0];\n        var material = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshStandardMaterial\"]({\n          color: new three__WEBPACK_IMPORTED_MODULE_0__[\"Color\"]().setHSL(Math.random(), 1, 0.75),\n          roughness: 0.5,\n          metalness: 0,\n          flatShading: true\n        });\n        scene.add(new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](geometry, material));\n        scene.add(new three__WEBPACK_IMPORTED_MODULE_0__[\"HemisphereLight\"](0xaaaaaa, 0x444444));\n        var light = new three__WEBPACK_IMPORTED_MODULE_0__[\"DirectionalLight\"](0xffffff, 0.5);\n        light.position.set(1, 1, 1);\n        scene.add(light); // var controls = new OrbitControls( camera, element);\n        // controls.minDistance = 2;\n        // controls.maxDistance = 5;\n        // controls.enablePan = false;\n        // controls.enableZoom = false;\n        // Register this to the sceneRenderer.\n\n        var textElement = element.querySelector('.text');\n\n        _this.sceneRenderer.addScene({\n          // resizingAlgo: 'resizeWithFov',\n          // resizingScalar: 1.0,\n          resizingAlgo: 'contain',\n          resizingOptions: {\n            scalarX: 1.0,\n            scalarY: 1.0\n          },\n          scene: scene,\n          camera: camera,\n          domElement: element,\n          // On each render update, update the controls.\n          onBeforeRender: function onBeforeRender() {\n            // controls.update();\n            scene.children[0].rotation.y = Date.now() * 0.001; // Example of moving DOM text with the scene.\n            // The element (not the scene renderer) size needs to be\n            // used to calculate positions.\n            // Because we are using FOV based resizing, we need to\n            // consider the resizingScalar and pass that over as a\n            // textScalar.\n\n            var textScalar = scene.userData.resizingScalar * 0.00003;\n            var domCoordinates = _lib_threef_threef__WEBPACK_IMPORTED_MODULE_4__[\"threef\"].toDomCoordinates(scene.children[0], camera, element.offsetWidth, element.offsetHeight, textScalar);\n            var domRotation = _lib_threef_threef__WEBPACK_IMPORTED_MODULE_4__[\"threef\"].toDomRotation(scene.children[0], camera, element.offsetWidth, element.offsetHeight);\n            _lib_threef_threef__WEBPACK_IMPORTED_MODULE_4__[\"threef\"].applyVectorToDom(textElement, domCoordinates, domRotation);\n          },\n          onBeforeResize: function onBeforeResize() {\n            // scene.userData.resizingScalar = element.offsetHeight * 0.5;\n            scene.userData.resizingScalar = Math.min(element.offsetHeight, element.offsetWidth);\n          },\n          onResize: function onResize() {\n            console.log('updating'); // camera.aspect = this.width / this.height;\n            // camera.updateProjectionMatrix();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf() {\n      this.sceneRenderer.render();\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {}\n  }]);\n\n  return ThreeSceneRenderer;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1zY2VuZS1yZW5kZXJlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3RocmVlLXNjZW5lLXJlbmRlcmVyLmpzPzkwZDMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBPcmJpdENvbnRyb2xzIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2NvbnRyb2xzL09yYml0Q29udHJvbHMnO1xuaW1wb3J0IHsgU2NlbmVSZW5kZXJlciB9IGZyb20gJy4uL2xpYi90aHJlZWYvc2NlbmUtcmVuZGVyZXInO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgdGhyZWVmIH0gZnJvbSAnLi4vbGliL3RocmVlZi90aHJlZWYnO1xuXG52YXIgVGhyZWVTY2VuZVJlbmRlcmVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVGhyZWVTY2VuZVJlbmRlcmVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaHJlZVNjZW5lUmVuZGVyZXIpO1xuXG4gICAgY29uc29sZS5sb2coJ3NjZW5lIHJlbmRlcmVyIHRlc3QuJyk7XG4gICAgdGhpcy5yYWYgPSBuZXcgUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5zY2VuZVJlbmRlcmVyID0gbmV3IFNjZW5lUmVuZGVyZXIoe30pO1xuICAgIHRoaXMuYm94RWxlbWVudHMgPSBbZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveC0xJyksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3gtMicpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94LTMnKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveC00JyksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3gtNScpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94LTYnKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveC03JyksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3gtOCcpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94LTgnKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveC05JyksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3gtMTAnKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveC0xMScpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94LTEyJyldO1xuICAgIHRoaXMuZ2VuZXJhdGVTY2VuZXMoKTtcbiAgICB0aGlzLnNjZW5lUmVuZGVyZXIucmVzaXplKCk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUaHJlZVNjZW5lUmVuZGVyZXIsIFt7XG4gICAga2V5OiBcImdlbmVyYXRlU2NlbmVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlU2NlbmVzKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGdlb21ldHJpZXMgPSBbbmV3IFRIUkVFLkJveEJ1ZmZlckdlb21ldHJ5KDEsIDEsIDEpLCBuZXcgVEhSRUUuU3BoZXJlQnVmZmVyR2VvbWV0cnkoMC41LCAxMiwgOCksIG5ldyBUSFJFRS5Eb2RlY2FoZWRyb25CdWZmZXJHZW9tZXRyeSgwLjUpLCBuZXcgVEhSRUUuQ3lsaW5kZXJCdWZmZXJHZW9tZXRyeSgwLjUsIDAuNSwgMSwgMTIpXTtcbiAgICAgIHRoaXMuYm94RWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgc2NlbmUuXG4gICAgICAgIHZhciBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpOyAvLyBBZGQgYSBuZXcgY2FtLlxuXG4gICAgICAgIHZhciBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNTAsIDEsIDEsIDEwKTtcbiAgICAgICAgY2FtZXJhLnBvc2l0aW9uLnogPSAyOyAvLyBBZGQgc29tZSBzdHVmZiB0byB0aGUgc2FtcGxlIHNjZW5lLlxuXG4gICAgICAgIHZhciBnZW9tZXRyeSA9IGdlb21ldHJpZXNbZ2VvbWV0cmllcy5sZW5ndGggKiBNYXRoLnJhbmRvbSgpIHwgMF07XG4gICAgICAgIHZhciBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgICAgICAgY29sb3I6IG5ldyBUSFJFRS5Db2xvcigpLnNldEhTTChNYXRoLnJhbmRvbSgpLCAxLCAwLjc1KSxcbiAgICAgICAgICByb3VnaG5lc3M6IDAuNSxcbiAgICAgICAgICBtZXRhbG5lc3M6IDAsXG4gICAgICAgICAgZmxhdFNoYWRpbmc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHNjZW5lLmFkZChuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpKTtcbiAgICAgICAgc2NlbmUuYWRkKG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQoMHhhYWFhYWEsIDB4NDQ0NDQ0KSk7XG4gICAgICAgIHZhciBsaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZmZmZmZmLCAwLjUpO1xuICAgICAgICBsaWdodC5wb3NpdGlvbi5zZXQoMSwgMSwgMSk7XG4gICAgICAgIHNjZW5lLmFkZChsaWdodCk7IC8vIHZhciBjb250cm9scyA9IG5ldyBPcmJpdENvbnRyb2xzKCBjYW1lcmEsIGVsZW1lbnQpO1xuICAgICAgICAvLyBjb250cm9scy5taW5EaXN0YW5jZSA9IDI7XG4gICAgICAgIC8vIGNvbnRyb2xzLm1heERpc3RhbmNlID0gNTtcbiAgICAgICAgLy8gY29udHJvbHMuZW5hYmxlUGFuID0gZmFsc2U7XG4gICAgICAgIC8vIGNvbnRyb2xzLmVuYWJsZVpvb20gPSBmYWxzZTtcbiAgICAgICAgLy8gUmVnaXN0ZXIgdGhpcyB0byB0aGUgc2NlbmVSZW5kZXJlci5cblxuICAgICAgICB2YXIgdGV4dEVsZW1lbnQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZXh0Jyk7XG5cbiAgICAgICAgX3RoaXMuc2NlbmVSZW5kZXJlci5hZGRTY2VuZSh7XG4gICAgICAgICAgLy8gcmVzaXppbmdBbGdvOiAncmVzaXplV2l0aEZvdicsXG4gICAgICAgICAgLy8gcmVzaXppbmdTY2FsYXI6IDEuMCxcbiAgICAgICAgICByZXNpemluZ0FsZ286ICdjb250YWluJyxcbiAgICAgICAgICByZXNpemluZ09wdGlvbnM6IHtcbiAgICAgICAgICAgIHNjYWxhclg6IDEuMCxcbiAgICAgICAgICAgIHNjYWxhclk6IDEuMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2NlbmU6IHNjZW5lLFxuICAgICAgICAgIGNhbWVyYTogY2FtZXJhLFxuICAgICAgICAgIGRvbUVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgLy8gT24gZWFjaCByZW5kZXIgdXBkYXRlLCB1cGRhdGUgdGhlIGNvbnRyb2xzLlxuICAgICAgICAgIG9uQmVmb3JlUmVuZGVyOiBmdW5jdGlvbiBvbkJlZm9yZVJlbmRlcigpIHtcbiAgICAgICAgICAgIC8vIGNvbnRyb2xzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgc2NlbmUuY2hpbGRyZW5bMF0ucm90YXRpb24ueSA9IERhdGUubm93KCkgKiAwLjAwMTsgLy8gRXhhbXBsZSBvZiBtb3ZpbmcgRE9NIHRleHQgd2l0aCB0aGUgc2NlbmUuXG4gICAgICAgICAgICAvLyBUaGUgZWxlbWVudCAobm90IHRoZSBzY2VuZSByZW5kZXJlcikgc2l6ZSBuZWVkcyB0byBiZVxuICAgICAgICAgICAgLy8gdXNlZCB0byBjYWxjdWxhdGUgcG9zaXRpb25zLlxuICAgICAgICAgICAgLy8gQmVjYXVzZSB3ZSBhcmUgdXNpbmcgRk9WIGJhc2VkIHJlc2l6aW5nLCB3ZSBuZWVkIHRvXG4gICAgICAgICAgICAvLyBjb25zaWRlciB0aGUgcmVzaXppbmdTY2FsYXIgYW5kIHBhc3MgdGhhdCBvdmVyIGFzIGFcbiAgICAgICAgICAgIC8vIHRleHRTY2FsYXIuXG5cbiAgICAgICAgICAgIHZhciB0ZXh0U2NhbGFyID0gc2NlbmUudXNlckRhdGEucmVzaXppbmdTY2FsYXIgKiAwLjAwMDAzO1xuICAgICAgICAgICAgdmFyIGRvbUNvb3JkaW5hdGVzID0gdGhyZWVmLnRvRG9tQ29vcmRpbmF0ZXMoc2NlbmUuY2hpbGRyZW5bMF0sIGNhbWVyYSwgZWxlbWVudC5vZmZzZXRXaWR0aCwgZWxlbWVudC5vZmZzZXRIZWlnaHQsIHRleHRTY2FsYXIpO1xuICAgICAgICAgICAgdmFyIGRvbVJvdGF0aW9uID0gdGhyZWVmLnRvRG9tUm90YXRpb24oc2NlbmUuY2hpbGRyZW5bMF0sIGNhbWVyYSwgZWxlbWVudC5vZmZzZXRXaWR0aCwgZWxlbWVudC5vZmZzZXRIZWlnaHQpO1xuICAgICAgICAgICAgdGhyZWVmLmFwcGx5VmVjdG9yVG9Eb20odGV4dEVsZW1lbnQsIGRvbUNvb3JkaW5hdGVzLCBkb21Sb3RhdGlvbik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkJlZm9yZVJlc2l6ZTogZnVuY3Rpb24gb25CZWZvcmVSZXNpemUoKSB7XG4gICAgICAgICAgICAvLyBzY2VuZS51c2VyRGF0YS5yZXNpemluZ1NjYWxhciA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0ICogMC41O1xuICAgICAgICAgICAgc2NlbmUudXNlckRhdGEucmVzaXppbmdTY2FsYXIgPSBNYXRoLm1pbihlbGVtZW50Lm9mZnNldEhlaWdodCwgZWxlbWVudC5vZmZzZXRXaWR0aCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblJlc2l6ZTogZnVuY3Rpb24gb25SZXNpemUoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygndXBkYXRpbmcnKTsgLy8gY2FtZXJhLmFzcGVjdCA9IHRoaXMud2lkdGggLyB0aGlzLmhlaWdodDtcbiAgICAgICAgICAgIC8vIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJhZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJhZigpIHtcbiAgICAgIHRoaXMuc2NlbmVSZW5kZXJlci5yZW5kZXIoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHt9XG4gIH1dKTtcblxuICByZXR1cm4gVGhyZWVTY2VuZVJlbmRlcmVyO1xufSgpO1xuXG5leHBvcnQgeyBUaHJlZVNjZW5lUmVuZGVyZXIgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/three-scene-renderer.js\n");

/***/ }),

/***/ "./examples/three-scene-renderer2.js":
/*!*******************************************!*\
  !*** ./examples/three-scene-renderer2.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ThreeSceneRenderer2; });\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var _lib_threef_scene_renderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/threef/scene-renderer */ \"./lib/threef/scene-renderer.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_threef_threef__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/threef/threef */ \"./lib/threef/threef.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\nvar ThreeSceneRenderer2 = /*#__PURE__*/function () {\n  function ThreeSceneRenderer2() {\n    _classCallCheck(this, ThreeSceneRenderer2);\n\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_4__[\"Raf\"](this.onRaf.bind(this));\n    this.sceneRenderer = new _lib_threef_scene_renderer__WEBPACK_IMPORTED_MODULE_3__[\"SceneRenderer\"]({});\n    this.boxElements = {\n      box1: document.getElementById('box-1'),\n      box2: document.getElementById('box-2'),\n      box3: document.getElementById('box-3'),\n      box4: document.getElementById('box-4'),\n      box5: document.getElementById('box-5'),\n      box6: document.getElementById('box-6')\n    }; // Create first scene1.\n\n    this.createGltfScene(this.boxElements.box1, 'public/scene-size-test2.gltf', {\n      resizingAlgo: 'contain',\n      resizingOptions: {\n        scalarX: 2.6,\n        scalarY: 3.8,\n        useFov: false\n      }\n    }); // Create second scene.\n\n    this.createGltfScene(this.boxElements.box2, 'public/scene-size-test2.gltf', {\n      resizingAlgo: 'contain',\n      resizingOptions: {\n        scalarX: 2.6,\n        scalarY: 3.8,\n        top: 0,\n        useFov: false\n      }\n    }); // Create third scene.\n\n    this.createGltfScene(this.boxElements.box3, 'public/scene-size-test2.gltf', {\n      resizingAlgo: 'contain',\n      resizingOptions: {\n        scalarX: 2.6,\n        scalarY: 3.8,\n        bottom: 0,\n        left: 0,\n        useFov: false\n      }\n    });\n    this.createGltfScene(this.boxElements.box4, 'public/scene-size-test2.gltf', {\n      resizingAlgo: 'cover',\n      resizingOptions: {\n        scalarX: 2.6,\n        scalarY: 3.8,\n        useFov: false\n      }\n    });\n    this.createGltfScene(this.boxElements.box5, 'public/scene-size-test2.gltf', {\n      resizingAlgo: 'cover',\n      resizingOptions: {\n        scalarX: 2.6,\n        scalarY: 3.8,\n        top: 0,\n        useFov: false\n      }\n    });\n    this.createGltfScene(this.boxElements.box6, 'public/scene-size-test2.gltf', {\n      resizingAlgo: 'cover',\n      resizingOptions: {\n        scalarX: 2.6,\n        scalarY: 3.8,\n        bottom: 0,\n        left: 0,\n        // right: 1\n        useFov: false\n      }\n    });\n    this.sceneRenderer.resize();\n    this.raf.start();\n  }\n\n  _createClass(ThreeSceneRenderer2, [{\n    key: \"createGltfScene\",\n    value: function createGltfScene(domElement, gltfPath, options) {\n      var _this = this;\n\n      var gltfLoader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_0__[\"GLTFLoader\"]();\n      _lib_threef_threef__WEBPACK_IMPORTED_MODULE_5__[\"threef\"].loadGltf({\n        gltfPath: gltfPath,\n        gltfLoader: gltfLoader\n      }).then(function (gltf) {\n        // Add some lights.\n        var ambientLight = new three__WEBPACK_IMPORTED_MODULE_1__[\"AmbientLight\"]('#FFFFFF');\n        ambientLight.intensity = options.ambientLightIntensity || 1.0; // Add the light to the scene.\n\n        gltf.scene.add(ambientLight);\n\n        _this.sceneRenderer.addScene({\n          resizingAlgo: options.resizingAlgo,\n          resizingOptions: options.resizingOptions,\n          domElement: domElement,\n          scene: gltf.scene,\n          camera: gltf.cameras[0],\n          onBeforeRender: function onBeforeRender(renderer) {\n            // Since this loads a gltf, we need to correct out the colors.\n            renderer.physicallyCorrectLights = true;\n            renderer.gammaOutput = true;\n          }\n        }, true);\n      });\n    }\n  }, {\n    key: \"onRaf\",\n    value: function onRaf() {\n      this.sceneRenderer.render();\n    }\n  }]);\n\n  return ThreeSceneRenderer2;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy90aHJlZS1zY2VuZS1yZW5kZXJlcjIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy90aHJlZS1zY2VuZS1yZW5kZXJlcjIuanM/NzU0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IE9yYml0Q29udHJvbHMgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9scyc7XG5pbXBvcnQgeyBTY2VuZVJlbmRlcmVyIH0gZnJvbSAnLi4vbGliL3RocmVlZi9zY2VuZS1yZW5kZXJlcic7XG5pbXBvcnQgeyBSYWYgfSBmcm9tICcuLi9saWIvcmFmL3JhZic7XG5pbXBvcnQgeyB0aHJlZWYgfSBmcm9tICcuLi9saWIvdGhyZWVmL3RocmVlZic7XG5cbnZhciBUaHJlZVNjZW5lUmVuZGVyZXIyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVGhyZWVTY2VuZVJlbmRlcmVyMigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGhyZWVTY2VuZVJlbmRlcmVyMik7XG5cbiAgICB0aGlzLnJhZiA9IG5ldyBSYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnNjZW5lUmVuZGVyZXIgPSBuZXcgU2NlbmVSZW5kZXJlcih7fSk7XG4gICAgdGhpcy5ib3hFbGVtZW50cyA9IHtcbiAgICAgIGJveDE6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3gtMScpLFxuICAgICAgYm94MjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveC0yJyksXG4gICAgICBib3gzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94LTMnKSxcbiAgICAgIGJveDQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3gtNCcpLFxuICAgICAgYm94NTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JveC01JyksXG4gICAgICBib3g2OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94LTYnKVxuICAgIH07IC8vIENyZWF0ZSBmaXJzdCBzY2VuZTEuXG5cbiAgICB0aGlzLmNyZWF0ZUdsdGZTY2VuZSh0aGlzLmJveEVsZW1lbnRzLmJveDEsICdwdWJsaWMvc2NlbmUtc2l6ZS10ZXN0Mi5nbHRmJywge1xuICAgICAgcmVzaXppbmdBbGdvOiAnY29udGFpbicsXG4gICAgICByZXNpemluZ09wdGlvbnM6IHtcbiAgICAgICAgc2NhbGFyWDogMi42LFxuICAgICAgICBzY2FsYXJZOiAzLjgsXG4gICAgICAgIHVzZUZvdjogZmFsc2VcbiAgICAgIH1cbiAgICB9KTsgLy8gQ3JlYXRlIHNlY29uZCBzY2VuZS5cblxuICAgIHRoaXMuY3JlYXRlR2x0ZlNjZW5lKHRoaXMuYm94RWxlbWVudHMuYm94MiwgJ3B1YmxpYy9zY2VuZS1zaXplLXRlc3QyLmdsdGYnLCB7XG4gICAgICByZXNpemluZ0FsZ286ICdjb250YWluJyxcbiAgICAgIHJlc2l6aW5nT3B0aW9uczoge1xuICAgICAgICBzY2FsYXJYOiAyLjYsXG4gICAgICAgIHNjYWxhclk6IDMuOCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICB1c2VGb3Y6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7IC8vIENyZWF0ZSB0aGlyZCBzY2VuZS5cblxuICAgIHRoaXMuY3JlYXRlR2x0ZlNjZW5lKHRoaXMuYm94RWxlbWVudHMuYm94MywgJ3B1YmxpYy9zY2VuZS1zaXplLXRlc3QyLmdsdGYnLCB7XG4gICAgICByZXNpemluZ0FsZ286ICdjb250YWluJyxcbiAgICAgIHJlc2l6aW5nT3B0aW9uczoge1xuICAgICAgICBzY2FsYXJYOiAyLjYsXG4gICAgICAgIHNjYWxhclk6IDMuOCxcbiAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB1c2VGb3Y6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5jcmVhdGVHbHRmU2NlbmUodGhpcy5ib3hFbGVtZW50cy5ib3g0LCAncHVibGljL3NjZW5lLXNpemUtdGVzdDIuZ2x0ZicsIHtcbiAgICAgIHJlc2l6aW5nQWxnbzogJ2NvdmVyJyxcbiAgICAgIHJlc2l6aW5nT3B0aW9uczoge1xuICAgICAgICBzY2FsYXJYOiAyLjYsXG4gICAgICAgIHNjYWxhclk6IDMuOCxcbiAgICAgICAgdXNlRm92OiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuY3JlYXRlR2x0ZlNjZW5lKHRoaXMuYm94RWxlbWVudHMuYm94NSwgJ3B1YmxpYy9zY2VuZS1zaXplLXRlc3QyLmdsdGYnLCB7XG4gICAgICByZXNpemluZ0FsZ286ICdjb3ZlcicsXG4gICAgICByZXNpemluZ09wdGlvbnM6IHtcbiAgICAgICAgc2NhbGFyWDogMi42LFxuICAgICAgICBzY2FsYXJZOiAzLjgsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgdXNlRm92OiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuY3JlYXRlR2x0ZlNjZW5lKHRoaXMuYm94RWxlbWVudHMuYm94NiwgJ3B1YmxpYy9zY2VuZS1zaXplLXRlc3QyLmdsdGYnLCB7XG4gICAgICByZXNpemluZ0FsZ286ICdjb3ZlcicsXG4gICAgICByZXNpemluZ09wdGlvbnM6IHtcbiAgICAgICAgc2NhbGFyWDogMi42LFxuICAgICAgICBzY2FsYXJZOiAzLjgsXG4gICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgLy8gcmlnaHQ6IDFcbiAgICAgICAgdXNlRm92OiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2NlbmVSZW5kZXJlci5yZXNpemUoKTtcbiAgICB0aGlzLnJhZi5zdGFydCgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRocmVlU2NlbmVSZW5kZXJlcjIsIFt7XG4gICAga2V5OiBcImNyZWF0ZUdsdGZTY2VuZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVHbHRmU2NlbmUoZG9tRWxlbWVudCwgZ2x0ZlBhdGgsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBnbHRmTG9hZGVyID0gbmV3IEdMVEZMb2FkZXIoKTtcbiAgICAgIHRocmVlZi5sb2FkR2x0Zih7XG4gICAgICAgIGdsdGZQYXRoOiBnbHRmUGF0aCxcbiAgICAgICAgZ2x0ZkxvYWRlcjogZ2x0ZkxvYWRlclxuICAgICAgfSkudGhlbihmdW5jdGlvbiAoZ2x0Zikge1xuICAgICAgICAvLyBBZGQgc29tZSBsaWdodHMuXG4gICAgICAgIHZhciBhbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KCcjRkZGRkZGJyk7XG4gICAgICAgIGFtYmllbnRMaWdodC5pbnRlbnNpdHkgPSBvcHRpb25zLmFtYmllbnRMaWdodEludGVuc2l0eSB8fCAxLjA7IC8vIEFkZCB0aGUgbGlnaHQgdG8gdGhlIHNjZW5lLlxuXG4gICAgICAgIGdsdGYuc2NlbmUuYWRkKGFtYmllbnRMaWdodCk7XG5cbiAgICAgICAgX3RoaXMuc2NlbmVSZW5kZXJlci5hZGRTY2VuZSh7XG4gICAgICAgICAgcmVzaXppbmdBbGdvOiBvcHRpb25zLnJlc2l6aW5nQWxnbyxcbiAgICAgICAgICByZXNpemluZ09wdGlvbnM6IG9wdGlvbnMucmVzaXppbmdPcHRpb25zLFxuICAgICAgICAgIGRvbUVsZW1lbnQ6IGRvbUVsZW1lbnQsXG4gICAgICAgICAgc2NlbmU6IGdsdGYuc2NlbmUsXG4gICAgICAgICAgY2FtZXJhOiBnbHRmLmNhbWVyYXNbMF0sXG4gICAgICAgICAgb25CZWZvcmVSZW5kZXI6IGZ1bmN0aW9uIG9uQmVmb3JlUmVuZGVyKHJlbmRlcmVyKSB7XG4gICAgICAgICAgICAvLyBTaW5jZSB0aGlzIGxvYWRzIGEgZ2x0Ziwgd2UgbmVlZCB0byBjb3JyZWN0IG91dCB0aGUgY29sb3JzLlxuICAgICAgICAgICAgcmVuZGVyZXIucGh5c2ljYWxseUNvcnJlY3RMaWdodHMgPSB0cnVlO1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2FtbWFPdXRwdXQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoKSB7XG4gICAgICB0aGlzLnNjZW5lUmVuZGVyZXIucmVuZGVyKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRocmVlU2NlbmVSZW5kZXJlcjI7XG59KCk7XG5cbmV4cG9ydCB7IFRocmVlU2NlbmVSZW5kZXJlcjIgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/three-scene-renderer2.js\n");

/***/ }),

/***/ "./examples/ui-swipe.js":
/*!******************************!*\
  !*** ./examples/ui-swipe.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return UiSwipeSample; });\n/* harmony import */ var _lib_ui_swipe__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/ui/swipe */ \"./lib/ui/swipe.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar UiSwipeSample = function UiSwipeSample() {\n  _classCallCheck(this, UiSwipeSample);\n\n  var div = document.getElementById('myElement');\n  var swipe = new _lib_ui_swipe__WEBPACK_IMPORTED_MODULE_0__[\"Swipe\"](div);\n  swipe.on(_lib_ui_swipe__WEBPACK_IMPORTED_MODULE_0__[\"Swipe\"].Events.DOWN, function () {\n    console.log(\"down\");\n  });\n  swipe.on(_lib_ui_swipe__WEBPACK_IMPORTED_MODULE_0__[\"Swipe\"].Events.UP, function () {\n    console.log(\"up\");\n  });\n  swipe.on(_lib_ui_swipe__WEBPACK_IMPORTED_MODULE_0__[\"Swipe\"].Events.LEFT, function () {\n    console.log(\"left\");\n  });\n  swipe.on(_lib_ui_swipe__WEBPACK_IMPORTED_MODULE_0__[\"Swipe\"].Events.RIGHT, function () {\n    console.log(\"right\");\n  });\n  div.addEventListener(_lib_ui_swipe__WEBPACK_IMPORTED_MODULE_0__[\"Swipe\"].Events.UP, function () {\n    console.log('up');\n  });\n  div.addEventListener(_lib_ui_swipe__WEBPACK_IMPORTED_MODULE_0__[\"Swipe\"].Events.DOWN, function () {\n    console.log('down');\n  });\n  div.addEventListener(_lib_ui_swipe__WEBPACK_IMPORTED_MODULE_0__[\"Swipe\"].Events.LEFT, function () {\n    console.log('left');\n  });\n  div.addEventListener(_lib_ui_swipe__WEBPACK_IMPORTED_MODULE_0__[\"Swipe\"].Events.RIGHT, function () {\n    console.log('right');\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy91aS1zd2lwZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3VpLXN3aXBlLmpzPzlhYTQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuaW1wb3J0IHsgU3dpcGUgfSBmcm9tICcuLi9saWIvdWkvc3dpcGUnO1xuXG52YXIgVWlTd2lwZVNhbXBsZSA9IGZ1bmN0aW9uIFVpU3dpcGVTYW1wbGUoKSB7XG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBVaVN3aXBlU2FtcGxlKTtcblxuICB2YXIgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215RWxlbWVudCcpO1xuICB2YXIgc3dpcGUgPSBuZXcgU3dpcGUoZGl2KTtcbiAgc3dpcGUub24oU3dpcGUuRXZlbnRzLkRPV04sIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZyhcImRvd25cIik7XG4gIH0pO1xuICBzd2lwZS5vbihTd2lwZS5FdmVudHMuVVAsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZyhcInVwXCIpO1xuICB9KTtcbiAgc3dpcGUub24oU3dpcGUuRXZlbnRzLkxFRlQsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZyhcImxlZnRcIik7XG4gIH0pO1xuICBzd2lwZS5vbihTd2lwZS5FdmVudHMuUklHSFQsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZyhcInJpZ2h0XCIpO1xuICB9KTtcbiAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoU3dpcGUuRXZlbnRzLlVQLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coJ3VwJyk7XG4gIH0pO1xuICBkaXYuYWRkRXZlbnRMaXN0ZW5lcihTd2lwZS5FdmVudHMuRE9XTiwgZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUubG9nKCdkb3duJyk7XG4gIH0pO1xuICBkaXYuYWRkRXZlbnRMaXN0ZW5lcihTd2lwZS5FdmVudHMuTEVGVCwgZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUubG9nKCdsZWZ0Jyk7XG4gIH0pO1xuICBkaXYuYWRkRXZlbnRMaXN0ZW5lcihTd2lwZS5FdmVudHMuUklHSFQsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZygncmlnaHQnKTtcbiAgfSk7XG59O1xuXG5leHBvcnQgeyBVaVN3aXBlU2FtcGxlIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/ui-swipe.js\n");

/***/ }),

/***/ "./examples/vector-dom.js":
/*!********************************!*\
  !*** ./examples/vector-dom.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return VectorDomSample; });\n/* harmony import */ var dat_gui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dat.gui */ \"./node_modules/dat.gui/build/dat.gui.module.js\");\n/* harmony import */ var _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/vector-dom */ \"./lib/dom/vector-dom.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar VectorDomSample = /*#__PURE__*/function () {\n  function VectorDomSample() {\n    _classCallCheck(this, VectorDomSample);\n\n    this.gui = new dat_gui__WEBPACK_IMPORTED_MODULE_0__[\"GUI\"]();\n    this.vectorBall = new _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_1__[\"VectorDom\"](document.getElementById('ball'));\n    this.vectorBall.setPosition(new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"](0, 0, 0)); // We are going to offset the entire element position to the center\n    // of the container.\n\n    this.vectorBall.setOffset(new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"](800 / 2, 800 / 2, 0));\n    this.eularRotationAsRotationMatrix = false;\n    this.vectorBall.init();\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__[\"Raf\"](this.onRaf.bind(this));\n    this.raf.start();\n    var anchor = this.gui.addFolder('Anchor');\n    anchor.add(this.vectorBall, 'anchorX', 0, 1);\n    anchor.add(this.vectorBall, 'anchorY', 0, 1);\n    var projection = this.gui.addFolder('Position');\n    projection.add(this.vectorBall.position, 'x', -180, 180);\n    projection.add(this.vectorBall.position, 'y', -180, 180);\n    projection.add(this.vectorBall.position, 'z', -2, 10);\n    var rotation = this.gui.addFolder('Rotation');\n    rotation.add(this.vectorBall, 'rx', -360, 360);\n    rotation.add(this.vectorBall, 'ry', -360, 360);\n    rotation.add(this.vectorBall, 'rz', -360, 360);\n    rotation.add(this.vectorBall, 'eularRotationAsRotationMatrix');\n  }\n\n  _createClass(VectorDomSample, [{\n    key: \"onRaf\",\n    value: function onRaf() {\n      // this.vectorBall.rotation.addEuler(\n      //     20, 90, 30);\n      // this.progress += 0.04;\n      // this.vectorBall.rz = this.progress;\n      // console.log('s', this.vectorBall.rotation);\n      this.vectorBall.render(true);\n    }\n  }]);\n\n  return VectorDomSample;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy92ZWN0b3ItZG9tLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvdmVjdG9yLWRvbS5qcz81YTFiIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0ICogYXMgZGF0IGZyb20gJ2RhdC5ndWknO1xuaW1wb3J0IHsgVmVjdG9yRG9tIH0gZnJvbSAnLi4vbGliL2RvbS92ZWN0b3ItZG9tJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4uL2xpYi9tYXRoZi92ZWN0b3InO1xuXG52YXIgVmVjdG9yRG9tU2FtcGxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVmVjdG9yRG9tU2FtcGxlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWZWN0b3JEb21TYW1wbGUpO1xuXG4gICAgdGhpcy5ndWkgPSBuZXcgZGF0LkdVSSgpO1xuICAgIHRoaXMudmVjdG9yQmFsbCA9IG5ldyBWZWN0b3JEb20oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhbGwnKSk7XG4gICAgdGhpcy52ZWN0b3JCYWxsLnNldFBvc2l0aW9uKG5ldyBWZWN0b3IoMCwgMCwgMCkpOyAvLyBXZSBhcmUgZ29pbmcgdG8gb2Zmc2V0IHRoZSBlbnRpcmUgZWxlbWVudCBwb3NpdGlvbiB0byB0aGUgY2VudGVyXG4gICAgLy8gb2YgdGhlIGNvbnRhaW5lci5cblxuICAgIHRoaXMudmVjdG9yQmFsbC5zZXRPZmZzZXQobmV3IFZlY3Rvcig4MDAgLyAyLCA4MDAgLyAyLCAwKSk7XG4gICAgdGhpcy5ldWxhclJvdGF0aW9uQXNSb3RhdGlvbk1hdHJpeCA9IGZhbHNlO1xuICAgIHRoaXMudmVjdG9yQmFsbC5pbml0KCk7XG4gICAgdGhpcy5yYWYgPSBuZXcgUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgICB2YXIgYW5jaG9yID0gdGhpcy5ndWkuYWRkRm9sZGVyKCdBbmNob3InKTtcbiAgICBhbmNob3IuYWRkKHRoaXMudmVjdG9yQmFsbCwgJ2FuY2hvclgnLCAwLCAxKTtcbiAgICBhbmNob3IuYWRkKHRoaXMudmVjdG9yQmFsbCwgJ2FuY2hvclknLCAwLCAxKTtcbiAgICB2YXIgcHJvamVjdGlvbiA9IHRoaXMuZ3VpLmFkZEZvbGRlcignUG9zaXRpb24nKTtcbiAgICBwcm9qZWN0aW9uLmFkZCh0aGlzLnZlY3RvckJhbGwucG9zaXRpb24sICd4JywgLTE4MCwgMTgwKTtcbiAgICBwcm9qZWN0aW9uLmFkZCh0aGlzLnZlY3RvckJhbGwucG9zaXRpb24sICd5JywgLTE4MCwgMTgwKTtcbiAgICBwcm9qZWN0aW9uLmFkZCh0aGlzLnZlY3RvckJhbGwucG9zaXRpb24sICd6JywgLTIsIDEwKTtcbiAgICB2YXIgcm90YXRpb24gPSB0aGlzLmd1aS5hZGRGb2xkZXIoJ1JvdGF0aW9uJyk7XG4gICAgcm90YXRpb24uYWRkKHRoaXMudmVjdG9yQmFsbCwgJ3J4JywgLTM2MCwgMzYwKTtcbiAgICByb3RhdGlvbi5hZGQodGhpcy52ZWN0b3JCYWxsLCAncnknLCAtMzYwLCAzNjApO1xuICAgIHJvdGF0aW9uLmFkZCh0aGlzLnZlY3RvckJhbGwsICdyeicsIC0zNjAsIDM2MCk7XG4gICAgcm90YXRpb24uYWRkKHRoaXMudmVjdG9yQmFsbCwgJ2V1bGFyUm90YXRpb25Bc1JvdGF0aW9uTWF0cml4Jyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVmVjdG9yRG9tU2FtcGxlLCBbe1xuICAgIGtleTogXCJvblJhZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJhZigpIHtcbiAgICAgIC8vIHRoaXMudmVjdG9yQmFsbC5yb3RhdGlvbi5hZGRFdWxlcihcbiAgICAgIC8vICAgICAyMCwgOTAsIDMwKTtcbiAgICAgIC8vIHRoaXMucHJvZ3Jlc3MgKz0gMC4wNDtcbiAgICAgIC8vIHRoaXMudmVjdG9yQmFsbC5yeiA9IHRoaXMucHJvZ3Jlc3M7XG4gICAgICAvLyBjb25zb2xlLmxvZygncycsIHRoaXMudmVjdG9yQmFsbC5yb3RhdGlvbik7XG4gICAgICB0aGlzLnZlY3RvckJhbGwucmVuZGVyKHRydWUpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBWZWN0b3JEb21TYW1wbGU7XG59KCk7XG5cbmV4cG9ydCB7IFZlY3RvckRvbVNhbXBsZSBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/vector-dom.js\n");

/***/ }),

/***/ "./examples/vector-dom2.js":
/*!*********************************!*\
  !*** ./examples/vector-dom2.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return VectorDomSample2; });\n/* harmony import */ var dat_gui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dat.gui */ \"./node_modules/dat.gui/build/dat.gui.module.js\");\n/* harmony import */ var _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/vector-dom */ \"./lib/dom/vector-dom.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\nvar VectorDomSample2 = /*#__PURE__*/function () {\n  function VectorDomSample2() {\n    var _this = this;\n\n    _classCallCheck(this, VectorDomSample2);\n\n    this.gui = new dat_gui__WEBPACK_IMPORTED_MODULE_0__[\"GUI\"]();\n    this.balls = Array.from(document.querySelectorAll('.ball'));\n    this.ballVectors = [];\n\n    var createBall = function createBall(id, x, y, z, sway) {\n      var ballVector = new _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_1__[\"VectorDom\"](document.getElementById(id)); // By default, VectorDom will stop running when element goes\n      // out of view so we turn this feature off.\n\n      ballVector.renderOnlyWhenInview = false; // Rougly and manually set it to the center of the screen.\n\n      ballVector.setOffset(new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"](800 / 2 - 100, 800 / 2, 0));\n      ballVector.moveX = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].getRandomFloat(-15, 15);\n      ballVector.moveY = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].getRandomFloat(-5, 5);\n      ballVector.moveZ = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].getRandomFloat(-0.01, 0.01);\n      ballVector.rotateX = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].getRandomFloat(-180, 180);\n      ballVector.rotateY = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].getRandomFloat(-180, 180);\n      ballVector.rotateZ = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].getRandomFloat(-180, 180);\n      ballVector.sway = sway; // This demonstrates continously adding degrees to keep rotating\n      // an element.\n\n      ballVector.randomRotation = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"mathf\"].getRandomFloat(-90, 90.5);\n      ballVector.setPosition(new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"](x, y, z));\n      ballVector.init();\n\n      _this.ballVectors.push(ballVector);\n    };\n\n    createBall('ball1', -100, 100, 2, true);\n    createBall('ball2', 100, 100, -0.5);\n    createBall('ball3', -100, -100, -0.2, true);\n    createBall('ball4', -100, -100, 1, true);\n    createBall('ball5', -100, 100, 0.5);\n    createBall('ball6', 100, 100, 0.2, true);\n    createBall('ball7', 100, -100, 0.5);\n    createBall('ball8', 100, -100, 1);\n    this.timer = 0;\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__[\"Raf\"](this.onRaf.bind(this));\n    this.raf.start();\n  }\n\n  _createClass(VectorDomSample2, [{\n    key: \"onRaf\",\n    value: function onRaf(delta) {\n      this.timer += 0.04;\n      var sin = Math.sin(this.timer);\n      this.ballVectors.forEach(function (ballVector) {\n        var position = new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"](ballVector.moveX * sin, ballVector.moveY * sin, ballVector.moveZ * sin);\n        ballVector.position.add(position); // Slerp the rotatation. Goes back and worth.\n\n        if (ballVector.sway) {\n          ballVector.rotation.slerpEuler(ballVector.rotateX * sin, ballVector.rotateY * sin, ballVector.rotateZ * sin, 0.25);\n        } else {\n          // Constant rotation rotation.\n          ballVector.rotation.addEuler(ballVector.randomRotation, ballVector.randomRotation, ballVector.randomRotation);\n        }\n\n        ballVector.render();\n      });\n    }\n  }]);\n\n  return VectorDomSample2;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy92ZWN0b3ItZG9tMi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3ZlY3Rvci1kb20yLmpzPzYwM2MiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5pbXBvcnQgKiBhcyBkYXQgZnJvbSAnZGF0Lmd1aSc7XG5pbXBvcnQgeyBWZWN0b3JEb20gfSBmcm9tICcuLi9saWIvZG9tL3ZlY3Rvci1kb20nO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vbGliL21hdGhmL3ZlY3Rvcic7XG5pbXBvcnQgeyBtYXRoZiB9IGZyb20gJy4uL2xpYi9tYXRoZi9tYXRoZic7XG5cbnZhciBWZWN0b3JEb21TYW1wbGUyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVmVjdG9yRG9tU2FtcGxlMigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZlY3RvckRvbVNhbXBsZTIpO1xuXG4gICAgdGhpcy5ndWkgPSBuZXcgZGF0LkdVSSgpO1xuICAgIHRoaXMuYmFsbHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iYWxsJykpO1xuICAgIHRoaXMuYmFsbFZlY3RvcnMgPSBbXTtcblxuICAgIHZhciBjcmVhdGVCYWxsID0gZnVuY3Rpb24gY3JlYXRlQmFsbChpZCwgeCwgeSwgeiwgc3dheSkge1xuICAgICAgdmFyIGJhbGxWZWN0b3IgPSBuZXcgVmVjdG9yRG9tKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSk7IC8vIEJ5IGRlZmF1bHQsIFZlY3RvckRvbSB3aWxsIHN0b3AgcnVubmluZyB3aGVuIGVsZW1lbnQgZ29lc1xuICAgICAgLy8gb3V0IG9mIHZpZXcgc28gd2UgdHVybiB0aGlzIGZlYXR1cmUgb2ZmLlxuXG4gICAgICBiYWxsVmVjdG9yLnJlbmRlck9ubHlXaGVuSW52aWV3ID0gZmFsc2U7IC8vIFJvdWdseSBhbmQgbWFudWFsbHkgc2V0IGl0IHRvIHRoZSBjZW50ZXIgb2YgdGhlIHNjcmVlbi5cblxuICAgICAgYmFsbFZlY3Rvci5zZXRPZmZzZXQobmV3IFZlY3Rvcig4MDAgLyAyIC0gMTAwLCA4MDAgLyAyLCAwKSk7XG4gICAgICBiYWxsVmVjdG9yLm1vdmVYID0gbWF0aGYuZ2V0UmFuZG9tRmxvYXQoLTE1LCAxNSk7XG4gICAgICBiYWxsVmVjdG9yLm1vdmVZID0gbWF0aGYuZ2V0UmFuZG9tRmxvYXQoLTUsIDUpO1xuICAgICAgYmFsbFZlY3Rvci5tb3ZlWiA9IG1hdGhmLmdldFJhbmRvbUZsb2F0KC0wLjAxLCAwLjAxKTtcbiAgICAgIGJhbGxWZWN0b3Iucm90YXRlWCA9IG1hdGhmLmdldFJhbmRvbUZsb2F0KC0xODAsIDE4MCk7XG4gICAgICBiYWxsVmVjdG9yLnJvdGF0ZVkgPSBtYXRoZi5nZXRSYW5kb21GbG9hdCgtMTgwLCAxODApO1xuICAgICAgYmFsbFZlY3Rvci5yb3RhdGVaID0gbWF0aGYuZ2V0UmFuZG9tRmxvYXQoLTE4MCwgMTgwKTtcbiAgICAgIGJhbGxWZWN0b3Iuc3dheSA9IHN3YXk7IC8vIFRoaXMgZGVtb25zdHJhdGVzIGNvbnRpbm91c2x5IGFkZGluZyBkZWdyZWVzIHRvIGtlZXAgcm90YXRpbmdcbiAgICAgIC8vIGFuIGVsZW1lbnQuXG5cbiAgICAgIGJhbGxWZWN0b3IucmFuZG9tUm90YXRpb24gPSBtYXRoZi5nZXRSYW5kb21GbG9hdCgtOTAsIDkwLjUpO1xuICAgICAgYmFsbFZlY3Rvci5zZXRQb3NpdGlvbihuZXcgVmVjdG9yKHgsIHksIHopKTtcbiAgICAgIGJhbGxWZWN0b3IuaW5pdCgpO1xuXG4gICAgICBfdGhpcy5iYWxsVmVjdG9ycy5wdXNoKGJhbGxWZWN0b3IpO1xuICAgIH07XG5cbiAgICBjcmVhdGVCYWxsKCdiYWxsMScsIC0xMDAsIDEwMCwgMiwgdHJ1ZSk7XG4gICAgY3JlYXRlQmFsbCgnYmFsbDInLCAxMDAsIDEwMCwgLTAuNSk7XG4gICAgY3JlYXRlQmFsbCgnYmFsbDMnLCAtMTAwLCAtMTAwLCAtMC4yLCB0cnVlKTtcbiAgICBjcmVhdGVCYWxsKCdiYWxsNCcsIC0xMDAsIC0xMDAsIDEsIHRydWUpO1xuICAgIGNyZWF0ZUJhbGwoJ2JhbGw1JywgLTEwMCwgMTAwLCAwLjUpO1xuICAgIGNyZWF0ZUJhbGwoJ2JhbGw2JywgMTAwLCAxMDAsIDAuMiwgdHJ1ZSk7XG4gICAgY3JlYXRlQmFsbCgnYmFsbDcnLCAxMDAsIC0xMDAsIDAuNSk7XG4gICAgY3JlYXRlQmFsbCgnYmFsbDgnLCAxMDAsIC0xMDAsIDEpO1xuICAgIHRoaXMudGltZXIgPSAwO1xuICAgIHRoaXMucmFmID0gbmV3IFJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVmVjdG9yRG9tU2FtcGxlMiwgW3tcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoZGVsdGEpIHtcbiAgICAgIHRoaXMudGltZXIgKz0gMC4wNDtcbiAgICAgIHZhciBzaW4gPSBNYXRoLnNpbih0aGlzLnRpbWVyKTtcbiAgICAgIHRoaXMuYmFsbFZlY3RvcnMuZm9yRWFjaChmdW5jdGlvbiAoYmFsbFZlY3Rvcikge1xuICAgICAgICB2YXIgcG9zaXRpb24gPSBuZXcgVmVjdG9yKGJhbGxWZWN0b3IubW92ZVggKiBzaW4sIGJhbGxWZWN0b3IubW92ZVkgKiBzaW4sIGJhbGxWZWN0b3IubW92ZVogKiBzaW4pO1xuICAgICAgICBiYWxsVmVjdG9yLnBvc2l0aW9uLmFkZChwb3NpdGlvbik7IC8vIFNsZXJwIHRoZSByb3RhdGF0aW9uLiBHb2VzIGJhY2sgYW5kIHdvcnRoLlxuXG4gICAgICAgIGlmIChiYWxsVmVjdG9yLnN3YXkpIHtcbiAgICAgICAgICBiYWxsVmVjdG9yLnJvdGF0aW9uLnNsZXJwRXVsZXIoYmFsbFZlY3Rvci5yb3RhdGVYICogc2luLCBiYWxsVmVjdG9yLnJvdGF0ZVkgKiBzaW4sIGJhbGxWZWN0b3Iucm90YXRlWiAqIHNpbiwgMC4yNSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQ29uc3RhbnQgcm90YXRpb24gcm90YXRpb24uXG4gICAgICAgICAgYmFsbFZlY3Rvci5yb3RhdGlvbi5hZGRFdWxlcihiYWxsVmVjdG9yLnJhbmRvbVJvdGF0aW9uLCBiYWxsVmVjdG9yLnJhbmRvbVJvdGF0aW9uLCBiYWxsVmVjdG9yLnJhbmRvbVJvdGF0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJhbGxWZWN0b3IucmVuZGVyKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVmVjdG9yRG9tU2FtcGxlMjtcbn0oKTtcblxuZXhwb3J0IHsgVmVjdG9yRG9tU2FtcGxlMiBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/vector-dom2.js\n");

/***/ }),

/***/ "./examples/vector-dom3.js":
/*!*********************************!*\
  !*** ./examples/vector-dom3.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return VectorDomSample3; });\n/* harmony import */ var dat_gui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dat.gui */ \"./node_modules/dat.gui/build/dat.gui.module.js\");\n/* harmony import */ var _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/vector-dom */ \"./lib/dom/vector-dom.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _lib_dom_mouse_tracker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dom/mouse-tracker */ \"./lib/dom/mouse-tracker.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\nvar VectorDomSample3 = /*#__PURE__*/function () {\n  function VectorDomSample3() {\n    _classCallCheck(this, VectorDomSample3);\n\n    this.gui = new dat_gui__WEBPACK_IMPORTED_MODULE_0__[\"GUI\"]();\n    console.log('vectorDOM3');\n    this.vectorBall = new _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_1__[\"VectorDom\"](document.getElementById('ball'));\n    this.vectorBall.anchorX = 0;\n    this.vectorBall.anchorY = 0;\n    this.vectorBall.setPosition(new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"](0, 0, 0.8 - 1));\n    this.vectorBall.init();\n    this.vectorBall2 = new _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_1__[\"VectorDom\"](document.getElementById('ball2'));\n    this.vectorBall2.anchorX = 0.5;\n    this.vectorBall2.anchorY = 0.5;\n    this.vectorBall2.setPosition(new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"](0, 0, 1.3 - 1));\n    this.vectorBall2.setOffset(new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"](100, -200, 0));\n    this.vectorBall2.init();\n    this.text = new _lib_dom_vector_dom__WEBPACK_IMPORTED_MODULE_1__[\"VectorDom\"](document.getElementById('text'));\n    this.text.anchorX = 0;\n    this.text.anchorY = 0;\n    this.text.setPosition(new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_3__[\"Vector\"](100, 200, 1.2 - 1));\n    this.text.init();\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_2__[\"Raf\"](this.onRaf.bind(this));\n    this.raf.start();\n  }\n\n  _createClass(VectorDomSample3, [{\n    key: \"onRaf\",\n    value: function onRaf() {\n      // this.text._.force.mouseRotationForce(\n      //     -0.002, -0.02, 0, 0.16\n      // );\n      this.vectorBall2._.force.mouseRotationForce(0.02, 0.02, 0, 0.02);\n\n      this.vectorBall._.force.scrollYRotationForce(-0.004, 0); // this.vectorBall2.rx += 0.003;\n      // this.vectorBall2._.force.addScrollYRotationForce(\n      //     0,\n      //     -0.004\n      // );\n\n\n      this.vectorBall.render();\n      this.vectorBall2.render(); // this.text.render();\n    }\n  }]);\n\n  return VectorDomSample3;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy92ZWN0b3ItZG9tMy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3ZlY3Rvci1kb20zLmpzPzI0ZjciXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5pbXBvcnQgKiBhcyBkYXQgZnJvbSAnZGF0Lmd1aSc7XG5pbXBvcnQgeyBWZWN0b3JEb20gfSBmcm9tICcuLi9saWIvZG9tL3ZlY3Rvci1kb20nO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYnO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vbGliL21hdGhmL3ZlY3Rvcic7XG5pbXBvcnQgeyBNb3VzZVRyYWNrZXIgfSBmcm9tICcuLi9saWIvZG9tL21vdXNlLXRyYWNrZXInO1xuXG52YXIgVmVjdG9yRG9tU2FtcGxlMyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFZlY3RvckRvbVNhbXBsZTMoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZlY3RvckRvbVNhbXBsZTMpO1xuXG4gICAgdGhpcy5ndWkgPSBuZXcgZGF0LkdVSSgpO1xuICAgIGNvbnNvbGUubG9nKCd2ZWN0b3JET00zJyk7XG4gICAgdGhpcy52ZWN0b3JCYWxsID0gbmV3IFZlY3RvckRvbShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFsbCcpKTtcbiAgICB0aGlzLnZlY3RvckJhbGwuYW5jaG9yWCA9IDA7XG4gICAgdGhpcy52ZWN0b3JCYWxsLmFuY2hvclkgPSAwO1xuICAgIHRoaXMudmVjdG9yQmFsbC5zZXRQb3NpdGlvbihuZXcgVmVjdG9yKDAsIDAsIDAuOCAtIDEpKTtcbiAgICB0aGlzLnZlY3RvckJhbGwuaW5pdCgpO1xuICAgIHRoaXMudmVjdG9yQmFsbDIgPSBuZXcgVmVjdG9yRG9tKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWxsMicpKTtcbiAgICB0aGlzLnZlY3RvckJhbGwyLmFuY2hvclggPSAwLjU7XG4gICAgdGhpcy52ZWN0b3JCYWxsMi5hbmNob3JZID0gMC41O1xuICAgIHRoaXMudmVjdG9yQmFsbDIuc2V0UG9zaXRpb24obmV3IFZlY3RvcigwLCAwLCAxLjMgLSAxKSk7XG4gICAgdGhpcy52ZWN0b3JCYWxsMi5zZXRPZmZzZXQobmV3IFZlY3RvcigxMDAsIC0yMDAsIDApKTtcbiAgICB0aGlzLnZlY3RvckJhbGwyLmluaXQoKTtcbiAgICB0aGlzLnRleHQgPSBuZXcgVmVjdG9yRG9tKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXh0JykpO1xuICAgIHRoaXMudGV4dC5hbmNob3JYID0gMDtcbiAgICB0aGlzLnRleHQuYW5jaG9yWSA9IDA7XG4gICAgdGhpcy50ZXh0LnNldFBvc2l0aW9uKG5ldyBWZWN0b3IoMTAwLCAyMDAsIDEuMiAtIDEpKTtcbiAgICB0aGlzLnRleHQuaW5pdCgpO1xuICAgIHRoaXMucmFmID0gbmV3IFJhZih0aGlzLm9uUmFmLmJpbmQodGhpcykpO1xuICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVmVjdG9yRG9tU2FtcGxlMywgW3tcbiAgICBrZXk6IFwib25SYWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SYWYoKSB7XG4gICAgICAvLyB0aGlzLnRleHQuXy5mb3JjZS5tb3VzZVJvdGF0aW9uRm9yY2UoXG4gICAgICAvLyAgICAgLTAuMDAyLCAtMC4wMiwgMCwgMC4xNlxuICAgICAgLy8gKTtcbiAgICAgIHRoaXMudmVjdG9yQmFsbDIuXy5mb3JjZS5tb3VzZVJvdGF0aW9uRm9yY2UoMC4wMiwgMC4wMiwgMCwgMC4wMik7XG5cbiAgICAgIHRoaXMudmVjdG9yQmFsbC5fLmZvcmNlLnNjcm9sbFlSb3RhdGlvbkZvcmNlKC0wLjAwNCwgMCk7IC8vIHRoaXMudmVjdG9yQmFsbDIucnggKz0gMC4wMDM7XG4gICAgICAvLyB0aGlzLnZlY3RvckJhbGwyLl8uZm9yY2UuYWRkU2Nyb2xsWVJvdGF0aW9uRm9yY2UoXG4gICAgICAvLyAgICAgMCxcbiAgICAgIC8vICAgICAtMC4wMDRcbiAgICAgIC8vICk7XG5cblxuICAgICAgdGhpcy52ZWN0b3JCYWxsLnJlbmRlcigpO1xuICAgICAgdGhpcy52ZWN0b3JCYWxsMi5yZW5kZXIoKTsgLy8gdGhpcy50ZXh0LnJlbmRlcigpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBWZWN0b3JEb21TYW1wbGUzO1xufSgpO1xuXG5leHBvcnQgeyBWZWN0b3JEb21TYW1wbGUzIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/vector-dom3.js\n");

/***/ }),

/***/ "./examples/video-player.js":
/*!**********************************!*\
  !*** ./examples/video-player.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return VideoPlayerSample; });\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _lib_dom_video_player__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/video-player */ \"./lib/dom/video-player.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar VideoPlayerSample = function VideoPlayerSample() {\n  _classCallCheck(this, VideoPlayerSample);\n\n  var video = document.getElementById('video');\n  var time = document.getElementById('time');\n  var videoPlayer = new _lib_dom_video_player__WEBPACK_IMPORTED_MODULE_1__[\"VideoPlayer\"](video, {\n    rafCallback: function rafCallback() {\n      time.textContent = videoPlayer.getTime();\n    }\n  });\n  console.log(videoPlayer);\n  var watcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_0__[\"DomWatcher\"]();\n  videoPlayer.load(); // Button 1\n\n  watcher.add({\n    element: document.getElementById('button1'),\n    on: 'click',\n    callback: function callback(event) {\n      videoPlayer.play();\n    },\n    eventOptions: {\n      passive: true\n    }\n  });\n  watcher.add({\n    element: document.getElementById('button2'),\n    on: 'click',\n    callback: function callback(event) {\n      videoPlayer.pause();\n    },\n    eventOptions: {\n      passive: true\n    }\n  });\n  watcher.add({\n    element: document.getElementById('button3'),\n    on: 'click',\n    callback: function callback(event) {\n      videoPlayer.reset();\n    },\n    eventOptions: {\n      passive: true\n    }\n  });\n  watcher.add({\n    element: document.getElementById('button4'),\n    on: 'click',\n    callback: function callback(event) {\n      videoPlayer.playFromTo(5, 6);\n    },\n    eventOptions: {\n      passive: true\n    }\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy92aWRlby1wbGF5ZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy92aWRlby1wbGF5ZXIuanM/MWY1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5pbXBvcnQgeyBEb21XYXRjaGVyIH0gZnJvbSAnLi4vbGliL2RvbS9kb20td2F0Y2hlcic7XG5pbXBvcnQgeyBWaWRlb1BsYXllciB9IGZyb20gJy4uL2xpYi9kb20vdmlkZW8tcGxheWVyJztcblxudmFyIFZpZGVvUGxheWVyU2FtcGxlID0gZnVuY3Rpb24gVmlkZW9QbGF5ZXJTYW1wbGUoKSB7XG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWaWRlb1BsYXllclNhbXBsZSk7XG5cbiAgdmFyIHZpZGVvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvJyk7XG4gIHZhciB0aW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpbWUnKTtcbiAgdmFyIHZpZGVvUGxheWVyID0gbmV3IFZpZGVvUGxheWVyKHZpZGVvLCB7XG4gICAgcmFmQ2FsbGJhY2s6IGZ1bmN0aW9uIHJhZkNhbGxiYWNrKCkge1xuICAgICAgdGltZS50ZXh0Q29udGVudCA9IHZpZGVvUGxheWVyLmdldFRpbWUoKTtcbiAgICB9XG4gIH0pO1xuICBjb25zb2xlLmxvZyh2aWRlb1BsYXllcik7XG4gIHZhciB3YXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgdmlkZW9QbGF5ZXIubG9hZCgpOyAvLyBCdXR0b24gMVxuXG4gIHdhdGNoZXIuYWRkKHtcbiAgICBlbGVtZW50OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV0dG9uMScpLFxuICAgIG9uOiAnY2xpY2snLFxuICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhldmVudCkge1xuICAgICAgdmlkZW9QbGF5ZXIucGxheSgpO1xuICAgIH0sXG4gICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICBwYXNzaXZlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgd2F0Y2hlci5hZGQoe1xuICAgIGVsZW1lbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXR0b24yJyksXG4gICAgb246ICdjbGljaycsXG4gICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKGV2ZW50KSB7XG4gICAgICB2aWRlb1BsYXllci5wYXVzZSgpO1xuICAgIH0sXG4gICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICBwYXNzaXZlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgd2F0Y2hlci5hZGQoe1xuICAgIGVsZW1lbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXR0b24zJyksXG4gICAgb246ICdjbGljaycsXG4gICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKGV2ZW50KSB7XG4gICAgICB2aWRlb1BsYXllci5yZXNldCgpO1xuICAgIH0sXG4gICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICBwYXNzaXZlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgd2F0Y2hlci5hZGQoe1xuICAgIGVsZW1lbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXR0b240JyksXG4gICAgb246ICdjbGljaycsXG4gICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKGV2ZW50KSB7XG4gICAgICB2aWRlb1BsYXllci5wbGF5RnJvbVRvKDUsIDYpO1xuICAgIH0sXG4gICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICBwYXNzaXZlOiB0cnVlXG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCB7IFZpZGVvUGxheWVyU2FtcGxlIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/video-player.js\n");

/***/ }),

/***/ "./examples/video-progress.js":
/*!************************************!*\
  !*** ./examples/video-progress.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return VideoProgressSample; });\n/* harmony import */ var _lib_dom_video_progress__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/dom/video-progress */ \"./lib/dom/video-progress.js\");\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_dom_scroll_render_fix__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/scroll-render-fix */ \"./lib/dom/scroll-render-fix.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\n/**\n * Experimental class that ties updates an html5 video with progress.\n * The problem with this approach is that the video is updated via,\n * currentTime which fires very slowly depending on video size\n * and browser.\n *\n * Currently, this seems to only work on Safari and Chrome if the video\n * file is compressed and small enough.\n *\n * Not recommended this for production use.\n *\n * ffmpeg -i video-test.mp4 -r 30 -g 1 -an -loglevel panic -vcodec copy -acodec copy video-test2.mp4\n * -r sets frame rate\n * -g sets a keyframe every frame.\n *\n * @experimental\n */\n\nvar VideoProgressSample = function VideoProgressSample() {\n  var _this = this;\n\n  _classCallCheck(this, VideoProgressSample);\n\n  var wrapper = document.getElementById('wrapper');\n  var video = document.getElementById('video');\n  var rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_1__[\"RafProgress\"]();\n  this.videoProgress = new _lib_dom_video_progress__WEBPACK_IMPORTED_MODULE_0__[\"VideoProgress\"](video); // Update rafProgress when the window scrolls.\n\n  window.addEventListener('scroll', function () {\n    // Set the progress of the video.\n    var progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_2__[\"dom\"].getElementScrolledPercent(wrapper);\n    rafProgress.easeTo(progress, 0.25, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_4__[\"EASE\"].easeInOutQuad);\n  }); // When the rafProgress updates, update the videoProgress\n  // with the latest.\n\n  rafProgress.watch(function (easedProgress, direction) {\n    _this.videoProgress.setProgress(easedProgress);\n  }); // When the video loads.\n\n  this.videoProgress.load().then(function () {\n    console.log('video loaded'); // Update the current progress.\n\n    var progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_2__[\"dom\"].getElementScrolledPercent(wrapper);\n    rafProgress.setCurrentProgress(progress);\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy92aWRlby1wcm9ncmVzcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3ZpZGVvLXByb2dyZXNzLmpzP2QxM2MiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuaW1wb3J0IHsgVmlkZW9Qcm9ncmVzcyB9IGZyb20gJy4uL2xpYi9kb20vdmlkZW8tcHJvZ3Jlc3MnO1xuaW1wb3J0IHsgUmFmUHJvZ3Jlc3MgfSBmcm9tICcuLi9saWIvcmFmL3JhZi1wcm9ncmVzcyc7XG5pbXBvcnQgeyBkb20gfSBmcm9tICcuLi9saWIvZG9tL2RvbSc7XG5pbXBvcnQgeyBTY3JvbGxSZW5kZXJGaXggfSBmcm9tICcuLi9saWIvZG9tL3Njcm9sbC1yZW5kZXItZml4JztcbmltcG9ydCB7IEVBU0UgfSBmcm9tICcuLi9saWIvZWFzZS9lYXNlJztcbi8qKlxuICogRXhwZXJpbWVudGFsIGNsYXNzIHRoYXQgdGllcyB1cGRhdGVzIGFuIGh0bWw1IHZpZGVvIHdpdGggcHJvZ3Jlc3MuXG4gKiBUaGUgcHJvYmxlbSB3aXRoIHRoaXMgYXBwcm9hY2ggaXMgdGhhdCB0aGUgdmlkZW8gaXMgdXBkYXRlZCB2aWEsXG4gKiBjdXJyZW50VGltZSB3aGljaCBmaXJlcyB2ZXJ5IHNsb3dseSBkZXBlbmRpbmcgb24gdmlkZW8gc2l6ZVxuICogYW5kIGJyb3dzZXIuXG4gKlxuICogQ3VycmVudGx5LCB0aGlzIHNlZW1zIHRvIG9ubHkgd29yayBvbiBTYWZhcmkgYW5kIENocm9tZSBpZiB0aGUgdmlkZW9cbiAqIGZpbGUgaXMgY29tcHJlc3NlZCBhbmQgc21hbGwgZW5vdWdoLlxuICpcbiAqIE5vdCByZWNvbW1lbmRlZCB0aGlzIGZvciBwcm9kdWN0aW9uIHVzZS5cbiAqXG4gKiBmZm1wZWcgLWkgdmlkZW8tdGVzdC5tcDQgLXIgMzAgLWcgMSAtYW4gLWxvZ2xldmVsIHBhbmljIC12Y29kZWMgY29weSAtYWNvZGVjIGNvcHkgdmlkZW8tdGVzdDIubXA0XG4gKiAtciBzZXRzIGZyYW1lIHJhdGVcbiAqIC1nIHNldHMgYSBrZXlmcmFtZSBldmVyeSBmcmFtZS5cbiAqXG4gKiBAZXhwZXJpbWVudGFsXG4gKi9cblxudmFyIFZpZGVvUHJvZ3Jlc3NTYW1wbGUgPSBmdW5jdGlvbiBWaWRlb1Byb2dyZXNzU2FtcGxlKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWaWRlb1Byb2dyZXNzU2FtcGxlKTtcblxuICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3cmFwcGVyJyk7XG4gIHZhciB2aWRlbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWRlbycpO1xuICB2YXIgcmFmUHJvZ3Jlc3MgPSBuZXcgUmFmUHJvZ3Jlc3MoKTtcbiAgdGhpcy52aWRlb1Byb2dyZXNzID0gbmV3IFZpZGVvUHJvZ3Jlc3ModmlkZW8pOyAvLyBVcGRhdGUgcmFmUHJvZ3Jlc3Mgd2hlbiB0aGUgd2luZG93IHNjcm9sbHMuXG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAvLyBTZXQgdGhlIHByb2dyZXNzIG9mIHRoZSB2aWRlby5cbiAgICB2YXIgcHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh3cmFwcGVyKTtcbiAgICByYWZQcm9ncmVzcy5lYXNlVG8ocHJvZ3Jlc3MsIDAuMjUsIEVBU0UuZWFzZUluT3V0UXVhZCk7XG4gIH0pOyAvLyBXaGVuIHRoZSByYWZQcm9ncmVzcyB1cGRhdGVzLCB1cGRhdGUgdGhlIHZpZGVvUHJvZ3Jlc3NcbiAgLy8gd2l0aCB0aGUgbGF0ZXN0LlxuXG4gIHJhZlByb2dyZXNzLndhdGNoKGZ1bmN0aW9uIChlYXNlZFByb2dyZXNzLCBkaXJlY3Rpb24pIHtcbiAgICBfdGhpcy52aWRlb1Byb2dyZXNzLnNldFByb2dyZXNzKGVhc2VkUHJvZ3Jlc3MpO1xuICB9KTsgLy8gV2hlbiB0aGUgdmlkZW8gbG9hZHMuXG5cbiAgdGhpcy52aWRlb1Byb2dyZXNzLmxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZygndmlkZW8gbG9hZGVkJyk7IC8vIFVwZGF0ZSB0aGUgY3VycmVudCBwcm9ncmVzcy5cblxuICAgIHZhciBwcm9ncmVzcyA9IGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHdyYXBwZXIpO1xuICAgIHJhZlByb2dyZXNzLnNldEN1cnJlbnRQcm9ncmVzcyhwcm9ncmVzcyk7XG4gIH0pO1xufTtcblxuZXhwb3J0IHsgVmlkZW9Qcm9ncmVzc1NhbXBsZSBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./examples/video-progress.js\n");

/***/ }),

/***/ "./examples/webgl-image-sequence.js":
/*!******************************************!*\
  !*** ./examples/webgl-image-sequence.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return WebGlImageSequenceSample; });\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_webgl_image_sequence__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/webgl-image-sequence */ \"./lib/dom/webgl-image-sequence.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\nvar WebGlImageSequenceSample = /*#__PURE__*/function () {\n  function WebGlImageSequenceSample() {\n    var _this = this;\n\n    _classCallCheck(this, WebGlImageSequenceSample);\n\n    console.log('webgl image sequence');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__[\"DomWatcher\"]();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__[\"RafProgress\"](); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(_this.parentElement);\n\n        _this.rafProgress.easeTo(_this.progress, 0.25, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.imageSources = [];\n\n    for (var i = 1; i <= 153; i++) {\n      var value = i + '';\n      value = value.padStart(4, '0');\n      this.imageSources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.webglImageSequence = new _lib_dom_webgl_image_sequence__WEBPACK_IMPORTED_MODULE_1__[\"WebGlImageSequence\"](this.canvasContainerElement, [{\n      images: this.imageSources\n    }], {\n      ariaLabel: 'Aria Label Test'\n    }); // Load the iamges.\n\n    this.webglImageSequence.load().then(function () {\n      // When ready render whatever the current easedProgress value is.\n      _this.webglImageSequence.renderByProgress(_this.rafProgress.currentProgress);\n    });\n  }\n\n  _createClass(WebGlImageSequenceSample, [{\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(easedProgress, direction) {\n      this.webglImageSequence.renderByProgress(easedProgress);\n    }\n  }]);\n\n  return WebGlImageSequenceSample;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3dlYmdsLWltYWdlLXNlcXVlbmNlLmpzPzk1ODkiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5pbXBvcnQgeyBSYWZQcm9ncmVzcywgUkFGX1BST0dSRVNTX0VWRU5UUyB9IGZyb20gJy4uL2xpYi9yYWYvcmFmLXByb2dyZXNzJztcbmltcG9ydCB7IFdlYkdsSW1hZ2VTZXF1ZW5jZSB9IGZyb20gJy4uL2xpYi9kb20vd2ViZ2wtaW1hZ2Utc2VxdWVuY2UnO1xuaW1wb3J0IHsgRUFTRSB9IGZyb20gJy4uL2xpYi9lYXNlL2Vhc2UnO1xuaW1wb3J0IHsgZG9tIH0gZnJvbSAnLi4vbGliL2RvbS9kb20nO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2xpYi9kb20vZG9tLXdhdGNoZXInO1xuXG52YXIgV2ViR2xJbWFnZVNlcXVlbmNlU2FtcGxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gV2ViR2xJbWFnZVNlcXVlbmNlU2FtcGxlKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR2xJbWFnZVNlcXVlbmNlU2FtcGxlKTtcblxuICAgIGNvbnNvbGUubG9nKCd3ZWJnbCBpbWFnZSBzZXF1ZW5jZScpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyZW50Jyk7IC8vIEluc3RhbmNlIG9mIHJhZlByb2dyZXNzLlxuXG4gICAgdGhpcy5yYWZQcm9ncmVzcyA9IG5ldyBSYWZQcm9ncmVzcygpOyAvLyBVcGRhdGUgdGhlIHByb2dyZXNzIHZhbHVlIHBlciBzY3JvbGwuXG5cbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhldmVudCkge1xuICAgICAgICBfdGhpcy5wcm9ncmVzcyA9IGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KF90aGlzLnBhcmVudEVsZW1lbnQpO1xuXG4gICAgICAgIF90aGlzLnJhZlByb2dyZXNzLmVhc2VUbyhfdGhpcy5wcm9ncmVzcywgMC4yNSwgRUFTRS5MaW5lYXIpO1xuICAgICAgfSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7IC8vIFVwZGF0ZSBwcm9ncmVzcyBpbW1lZGlhdGVseSBvbiBsb2FkLlxuXG4gICAgdGhpcy5wcm9ncmVzcyA9IGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCk7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgRUFTRS5MaW5lYXIpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3Mud2F0Y2godGhpcy5vblByb2dyZXNzVXBkYXRlLmJpbmQodGhpcykpOyAvLyBHZW5lcmF0ZSBpbWFnZSBzb3VyY2VzLlxuXG4gICAgdGhpcy5pbWFnZVNvdXJjZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IDE1MzsgaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpICsgJyc7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnBhZFN0YXJ0KDQsICcwJyk7XG4gICAgICB0aGlzLmltYWdlU291cmNlcy5wdXNoKCcuL3B1YmxpYy9mcmFtZXMvdGh1bWInICsgdmFsdWUgKyAnLmpwZycpO1xuICAgIH0gLy8gQ3JlYXRlIENhbnZhcyBJbWFnZSBTZXF1ZW5lY2VcblxuXG4gICAgdGhpcy53ZWJnbEltYWdlU2VxdWVuY2UgPSBuZXcgV2ViR2xJbWFnZVNlcXVlbmNlKHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCwgW3tcbiAgICAgIGltYWdlczogdGhpcy5pbWFnZVNvdXJjZXNcbiAgICB9XSwge1xuICAgICAgYXJpYUxhYmVsOiAnQXJpYSBMYWJlbCBUZXN0J1xuICAgIH0pOyAvLyBMb2FkIHRoZSBpYW1nZXMuXG5cbiAgICB0aGlzLndlYmdsSW1hZ2VTZXF1ZW5jZS5sb2FkKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBXaGVuIHJlYWR5IHJlbmRlciB3aGF0ZXZlciB0aGUgY3VycmVudCBlYXNlZFByb2dyZXNzIHZhbHVlIGlzLlxuICAgICAgX3RoaXMud2ViZ2xJbWFnZVNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoX3RoaXMucmFmUHJvZ3Jlc3MuY3VycmVudFByb2dyZXNzKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhXZWJHbEltYWdlU2VxdWVuY2VTYW1wbGUsIFt7XG4gICAga2V5OiBcIm9uUHJvZ3Jlc3NVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9ncmVzc1VwZGF0ZShlYXNlZFByb2dyZXNzLCBkaXJlY3Rpb24pIHtcbiAgICAgIHRoaXMud2ViZ2xJbWFnZVNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoZWFzZWRQcm9ncmVzcyk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFdlYkdsSW1hZ2VTZXF1ZW5jZVNhbXBsZTtcbn0oKTtcblxuZXhwb3J0IHsgV2ViR2xJbWFnZVNlcXVlbmNlU2FtcGxlIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/webgl-image-sequence.js\n");

/***/ }),

/***/ "./examples/webgl-image-sequence2.js":
/*!*******************************************!*\
  !*** ./examples/webgl-image-sequence2.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return WebGlImageSequenceSample2; });\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_webgl_image_sequence__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/webgl-image-sequence */ \"./lib/dom/webgl-image-sequence.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n/**\n * This sample expands on canvas image sequence sample 1 and demonstrates\n * usage of multiinterpolate.\n */\n\nvar WebGlImageSequenceSample2 = /*#__PURE__*/function () {\n  function WebGlImageSequenceSample2() {\n    var _this = this;\n\n    _classCallCheck(this, WebGlImageSequenceSample2);\n\n    console.log('webgl image sequence2');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__[\"DomWatcher\"]();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__[\"RafProgress\"](); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(_this.parentElement);\n\n        _this.rafProgress.easeTo(_this.progress, 0.25, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.sources = [];\n\n    for (var i = 1; i <= 153; i++) {\n      var value = i + '';\n      value = value.padStart(4, '0');\n      this.sources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.webglImageSequence = new _lib_dom_webgl_image_sequence__WEBPACK_IMPORTED_MODULE_1__[\"WebGlImageSequence\"](this.canvasContainerElement, [{\n      images: this.sources\n    }]);\n    var progressPoints = [{\n      from: 0,\n      to: 0.5,\n      start: 0,\n      end: 1\n    }, {\n      from: 0.5,\n      to: 1,\n      start: 1,\n      end: 0\n    }];\n    this.webglImageSequence.setMultiInterpolation(progressPoints); // Load the iamges.\n\n    this.webglImageSequence.load().then(function () {\n      // When ready render whatever the current easedProgress value is.\n      _this.webglImageSequence.renderByProgress(_this.rafProgress.currentProgress);\n    });\n  }\n\n  _createClass(WebGlImageSequenceSample2, [{\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(easedProgress, direction) {\n      this.webglImageSequence.renderByProgress(easedProgress);\n    }\n  }]);\n\n  return WebGlImageSequenceSample2;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTIuanM/MzY2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCB7IFJhZlByb2dyZXNzLCBSQUZfUFJPR1JFU1NfRVZFTlRTIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3MnO1xuaW1wb3J0IHsgV2ViR2xJbWFnZVNlcXVlbmNlIH0gZnJvbSAnLi4vbGliL2RvbS93ZWJnbC1pbWFnZS1zZXF1ZW5jZSc7XG5pbXBvcnQgeyBFQVNFIH0gZnJvbSAnLi4vbGliL2Vhc2UvZWFzZSc7XG5pbXBvcnQgeyBkb20gfSBmcm9tICcuLi9saWIvZG9tL2RvbSc7XG5pbXBvcnQgeyBEb21XYXRjaGVyIH0gZnJvbSAnLi4vbGliL2RvbS9kb20td2F0Y2hlcic7XG4vKipcbiAqIFRoaXMgc2FtcGxlIGV4cGFuZHMgb24gY2FudmFzIGltYWdlIHNlcXVlbmNlIHNhbXBsZSAxIGFuZCBkZW1vbnN0cmF0ZXNcbiAqIHVzYWdlIG9mIG11bHRpaW50ZXJwb2xhdGUuXG4gKi9cblxudmFyIFdlYkdsSW1hZ2VTZXF1ZW5jZVNhbXBsZTIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBXZWJHbEltYWdlU2VxdWVuY2VTYW1wbGUyKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR2xJbWFnZVNlcXVlbmNlU2FtcGxlMik7XG5cbiAgICBjb25zb2xlLmxvZygnd2ViZ2wgaW1hZ2Ugc2VxdWVuY2UyJyk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FudmFzLWNvbnRhaW5lcicpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTsgLy8gSW5zdGFuY2Ugb2YgcmFmUHJvZ3Jlc3MuXG5cbiAgICB0aGlzLnJhZlByb2dyZXNzID0gbmV3IFJhZlByb2dyZXNzKCk7IC8vIFVwZGF0ZSB0aGUgcHJvZ3Jlc3MgdmFsdWUgcGVyIHNjcm9sbC5cblxuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKGV2ZW50KSB7XG4gICAgICAgIF90aGlzLnByb2dyZXNzID0gZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQoX3RoaXMucGFyZW50RWxlbWVudCk7XG5cbiAgICAgICAgX3RoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKF90aGlzLnByb2dyZXNzLCAwLjI1LCBFQVNFLkxpbmVhcik7XG4gICAgICB9LFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTsgLy8gVXBkYXRlIHByb2dyZXNzIGltbWVkaWF0ZWx5IG9uIGxvYWQuXG5cbiAgICB0aGlzLnByb2dyZXNzID0gZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAxLCBFQVNFLkxpbmVhcik7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy53YXRjaCh0aGlzLm9uUHJvZ3Jlc3NVcGRhdGUuYmluZCh0aGlzKSk7IC8vIEdlbmVyYXRlIGltYWdlIHNvdXJjZXMuXG5cbiAgICB0aGlzLnNvdXJjZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IDE1MzsgaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpICsgJyc7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnBhZFN0YXJ0KDQsICcwJyk7XG4gICAgICB0aGlzLnNvdXJjZXMucHVzaCgnLi9wdWJsaWMvZnJhbWVzL3RodW1iJyArIHZhbHVlICsgJy5qcGcnKTtcbiAgICB9IC8vIENyZWF0ZSBDYW52YXMgSW1hZ2UgU2VxdWVuZWNlXG5cblxuICAgIHRoaXMud2ViZ2xJbWFnZVNlcXVlbmNlID0gbmV3IFdlYkdsSW1hZ2VTZXF1ZW5jZSh0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQsIFt7XG4gICAgICBpbWFnZXM6IHRoaXMuc291cmNlc1xuICAgIH1dKTtcbiAgICB2YXIgcHJvZ3Jlc3NQb2ludHMgPSBbe1xuICAgICAgZnJvbTogMCxcbiAgICAgIHRvOiAwLjUsXG4gICAgICBzdGFydDogMCxcbiAgICAgIGVuZDogMVxuICAgIH0sIHtcbiAgICAgIGZyb206IDAuNSxcbiAgICAgIHRvOiAxLFxuICAgICAgc3RhcnQ6IDEsXG4gICAgICBlbmQ6IDBcbiAgICB9XTtcbiAgICB0aGlzLndlYmdsSW1hZ2VTZXF1ZW5jZS5zZXRNdWx0aUludGVycG9sYXRpb24ocHJvZ3Jlc3NQb2ludHMpOyAvLyBMb2FkIHRoZSBpYW1nZXMuXG5cbiAgICB0aGlzLndlYmdsSW1hZ2VTZXF1ZW5jZS5sb2FkKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBXaGVuIHJlYWR5IHJlbmRlciB3aGF0ZXZlciB0aGUgY3VycmVudCBlYXNlZFByb2dyZXNzIHZhbHVlIGlzLlxuICAgICAgX3RoaXMud2ViZ2xJbWFnZVNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoX3RoaXMucmFmUHJvZ3Jlc3MuY3VycmVudFByb2dyZXNzKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhXZWJHbEltYWdlU2VxdWVuY2VTYW1wbGUyLCBbe1xuICAgIGtleTogXCJvblByb2dyZXNzVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUHJvZ3Jlc3NVcGRhdGUoZWFzZWRQcm9ncmVzcywgZGlyZWN0aW9uKSB7XG4gICAgICB0aGlzLndlYmdsSW1hZ2VTZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKGVhc2VkUHJvZ3Jlc3MpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBXZWJHbEltYWdlU2VxdWVuY2VTYW1wbGUyO1xufSgpO1xuXG5leHBvcnQgeyBXZWJHbEltYWdlU2VxdWVuY2VTYW1wbGUyIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/webgl-image-sequence2.js\n");

/***/ }),

/***/ "./examples/webgl-image-sequence3.js":
/*!*******************************************!*\
  !*** ./examples/webgl-image-sequence3.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CanvasImageSequenceSample3; });\n/* harmony import */ var _lib_dom_webgl_image_sequence__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/dom/webgl-image-sequence */ \"./lib/dom/webgl-image-sequence.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n/**\n * CanvasImageSequence play feature.\n */\n\nvar CanvasImageSequenceSample3 = function CanvasImageSequenceSample3() {\n  var _this = this;\n\n  _classCallCheck(this, CanvasImageSequenceSample3);\n\n  this.canvasContainerElement = document.querySelector('.canvas-container');\n  this.parentElement = document.getElementById('parent'); // Generate image sources.\n\n  this.sources = [];\n\n  for (var i = 1; i <= 153; i++) {\n    var value = i + '';\n    value = value.padStart(4, '0');\n    this.sources.push('./public/frames/thumb' + value + '.jpg');\n  } // Create Canvas Image Sequenece\n\n\n  this.sequence = new _lib_dom_webgl_image_sequence__WEBPACK_IMPORTED_MODULE_0__[\"WebGlImageSequence\"](this.canvasContainerElement, [{\n    images: this.sources\n  }]);\n  var progressPoints = [{\n    from: 0,\n    to: 0.5,\n    start: 0,\n    end: 1\n  }, {\n    from: 0.5,\n    to: 1,\n    start: 1,\n    end: 0\n  }];\n  this.sequence.setMultiInterpolation(progressPoints); // Load the iamges.\n\n  this.sequence.load().then(function () {\n    // On load, play the sequence from 0 - 1.\n    _this.sequence.play(0, 1, 3000).then(function () {\n      console.log('play complete');\n    });\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTMuanM/ZmUxZiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5pbXBvcnQgeyBXZWJHbEltYWdlU2VxdWVuY2UgfSBmcm9tICcuLi9saWIvZG9tL3dlYmdsLWltYWdlLXNlcXVlbmNlJztcbi8qKlxuICogQ2FudmFzSW1hZ2VTZXF1ZW5jZSBwbGF5IGZlYXR1cmUuXG4gKi9cblxudmFyIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGUzID0gZnVuY3Rpb24gQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTMoKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGUzKTtcblxuICB0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FudmFzLWNvbnRhaW5lcicpO1xuICB0aGlzLnBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyZW50Jyk7IC8vIEdlbmVyYXRlIGltYWdlIHNvdXJjZXMuXG5cbiAgdGhpcy5zb3VyY2VzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPD0gMTUzOyBpKyspIHtcbiAgICB2YXIgdmFsdWUgPSBpICsgJyc7XG4gICAgdmFsdWUgPSB2YWx1ZS5wYWRTdGFydCg0LCAnMCcpO1xuICAgIHRoaXMuc291cmNlcy5wdXNoKCcuL3B1YmxpYy9mcmFtZXMvdGh1bWInICsgdmFsdWUgKyAnLmpwZycpO1xuICB9IC8vIENyZWF0ZSBDYW52YXMgSW1hZ2UgU2VxdWVuZWNlXG5cblxuICB0aGlzLnNlcXVlbmNlID0gbmV3IFdlYkdsSW1hZ2VTZXF1ZW5jZSh0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQsIFt7XG4gICAgaW1hZ2VzOiB0aGlzLnNvdXJjZXNcbiAgfV0pO1xuICB2YXIgcHJvZ3Jlc3NQb2ludHMgPSBbe1xuICAgIGZyb206IDAsXG4gICAgdG86IDAuNSxcbiAgICBzdGFydDogMCxcbiAgICBlbmQ6IDFcbiAgfSwge1xuICAgIGZyb206IDAuNSxcbiAgICB0bzogMSxcbiAgICBzdGFydDogMSxcbiAgICBlbmQ6IDBcbiAgfV07XG4gIHRoaXMuc2VxdWVuY2Uuc2V0TXVsdGlJbnRlcnBvbGF0aW9uKHByb2dyZXNzUG9pbnRzKTsgLy8gTG9hZCB0aGUgaWFtZ2VzLlxuXG4gIHRoaXMuc2VxdWVuY2UubG9hZCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIC8vIE9uIGxvYWQsIHBsYXkgdGhlIHNlcXVlbmNlIGZyb20gMCAtIDEuXG4gICAgX3RoaXMuc2VxdWVuY2UucGxheSgwLCAxLCAzMDAwKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdwbGF5IGNvbXBsZXRlJyk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IHsgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTMgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/webgl-image-sequence3.js\n");

/***/ }),

/***/ "./examples/webgl-image-sequence4.js":
/*!*******************************************!*\
  !*** ./examples/webgl-image-sequence4.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CanvasImageSequenceSample3; });\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_webgl_image_sequence__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/webgl-image-sequence */ \"./lib/dom/webgl-image-sequence.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n/**\n * This sample expands on canvas image sequence sample 1 and demonstrates\n * usage of multiinterpolate.\n */\n\nvar CanvasImageSequenceSample3 = /*#__PURE__*/function () {\n  function CanvasImageSequenceSample3() {\n    var _this = this;\n\n    _classCallCheck(this, CanvasImageSequenceSample3);\n\n    console.log('canvas image sequence4');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__[\"DomWatcher\"]();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__[\"RafProgress\"](); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(_this.parentElement);\n\n        _this.rafProgress.easeTo(_this.progress, 0.25, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.sources = [];\n\n    for (var i = 1; i <= 153; i++) {\n      var value = i + '';\n      value = value.padStart(4, '0');\n      this.sources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.sequence = new _lib_dom_webgl_image_sequence__WEBPACK_IMPORTED_MODULE_1__[\"WebGlImageSequence\"](this.canvasContainerElement, [{\n      images: this.sources\n    }]); // We set the lerp value.\n\n    this.sequence.lerpAmount = 0.01; // Load the iamges.\n\n    this.sequence.load().then(function () {\n      // On load, play the sequence from 0 - 1.\n      _this.sequence.play(0, 1, 1000).then(function () {\n        console.log('done', _this.rafProgress.currentProgress); // Update the progress to the current scroll when done.\n        //\n        // At this time, the playing ends at 1 but the scroll progress\n        // could be something else so it will lerp \"towards\" the\n        // scroll position since we have lerp set.\n\n        _this.sequence.renderByProgress(_this.rafProgress.currentProgress);\n      });\n    });\n  }\n\n  _createClass(CanvasImageSequenceSample3, [{\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(easedProgress, direction) {\n      this.sequence.renderByProgress(easedProgress);\n    }\n  }]);\n\n  return CanvasImageSequenceSample3;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTQuanM/MWY2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCB7IFJhZlByb2dyZXNzIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3MnO1xuaW1wb3J0IHsgV2ViR2xJbWFnZVNlcXVlbmNlIH0gZnJvbSAnLi4vbGliL2RvbS93ZWJnbC1pbWFnZS1zZXF1ZW5jZSc7XG5pbXBvcnQgeyBFQVNFIH0gZnJvbSAnLi4vbGliL2Vhc2UvZWFzZSc7XG5pbXBvcnQgeyBkb20gfSBmcm9tICcuLi9saWIvZG9tL2RvbSc7XG5pbXBvcnQgeyBEb21XYXRjaGVyIH0gZnJvbSAnLi4vbGliL2RvbS9kb20td2F0Y2hlcic7XG4vKipcbiAqIFRoaXMgc2FtcGxlIGV4cGFuZHMgb24gY2FudmFzIGltYWdlIHNlcXVlbmNlIHNhbXBsZSAxIGFuZCBkZW1vbnN0cmF0ZXNcbiAqIHVzYWdlIG9mIG11bHRpaW50ZXJwb2xhdGUuXG4gKi9cblxudmFyIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGUzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTMoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlMyk7XG5cbiAgICBjb25zb2xlLmxvZygnY2FudmFzIGltYWdlIHNlcXVlbmNlNCcpO1xuICAgIHRoaXMuZG9tV2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgdGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbnZhcy1jb250YWluZXInKTtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyZW50Jyk7IC8vIEluc3RhbmNlIG9mIHJhZlByb2dyZXNzLlxuXG4gICAgdGhpcy5yYWZQcm9ncmVzcyA9IG5ldyBSYWZQcm9ncmVzcygpOyAvLyBVcGRhdGUgdGhlIHByb2dyZXNzIHZhbHVlIHBlciBzY3JvbGwuXG5cbiAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgIG9uOiAnc2Nyb2xsJyxcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhldmVudCkge1xuICAgICAgICBfdGhpcy5wcm9ncmVzcyA9IGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KF90aGlzLnBhcmVudEVsZW1lbnQpO1xuXG4gICAgICAgIF90aGlzLnJhZlByb2dyZXNzLmVhc2VUbyhfdGhpcy5wcm9ncmVzcywgMC4yNSwgRUFTRS5MaW5lYXIpO1xuICAgICAgfSxcbiAgICAgIGV2ZW50T3B0aW9uczoge1xuICAgICAgICBwYXNzaXZlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7IC8vIFVwZGF0ZSBwcm9ncmVzcyBpbW1lZGlhdGVseSBvbiBsb2FkLlxuXG4gICAgdGhpcy5wcm9ncmVzcyA9IGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMucGFyZW50RWxlbWVudCk7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8odGhpcy5wcm9ncmVzcywgMSwgRUFTRS5MaW5lYXIpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3Mud2F0Y2godGhpcy5vblByb2dyZXNzVXBkYXRlLmJpbmQodGhpcykpOyAvLyBHZW5lcmF0ZSBpbWFnZSBzb3VyY2VzLlxuXG4gICAgdGhpcy5zb3VyY2VzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSAxNTM7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gaSArICcnO1xuICAgICAgdmFsdWUgPSB2YWx1ZS5wYWRTdGFydCg0LCAnMCcpO1xuICAgICAgdGhpcy5zb3VyY2VzLnB1c2goJy4vcHVibGljL2ZyYW1lcy90aHVtYicgKyB2YWx1ZSArICcuanBnJyk7XG4gICAgfSAvLyBDcmVhdGUgQ2FudmFzIEltYWdlIFNlcXVlbmVjZVxuXG5cbiAgICB0aGlzLnNlcXVlbmNlID0gbmV3IFdlYkdsSW1hZ2VTZXF1ZW5jZSh0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQsIFt7XG4gICAgICBpbWFnZXM6IHRoaXMuc291cmNlc1xuICAgIH1dKTsgLy8gV2Ugc2V0IHRoZSBsZXJwIHZhbHVlLlxuXG4gICAgdGhpcy5zZXF1ZW5jZS5sZXJwQW1vdW50ID0gMC4wMTsgLy8gTG9hZCB0aGUgaWFtZ2VzLlxuXG4gICAgdGhpcy5zZXF1ZW5jZS5sb2FkKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBPbiBsb2FkLCBwbGF5IHRoZSBzZXF1ZW5jZSBmcm9tIDAgLSAxLlxuICAgICAgX3RoaXMuc2VxdWVuY2UucGxheSgwLCAxLCAxMDAwKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2RvbmUnLCBfdGhpcy5yYWZQcm9ncmVzcy5jdXJyZW50UHJvZ3Jlc3MpOyAvLyBVcGRhdGUgdGhlIHByb2dyZXNzIHRvIHRoZSBjdXJyZW50IHNjcm9sbCB3aGVuIGRvbmUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEF0IHRoaXMgdGltZSwgdGhlIHBsYXlpbmcgZW5kcyBhdCAxIGJ1dCB0aGUgc2Nyb2xsIHByb2dyZXNzXG4gICAgICAgIC8vIGNvdWxkIGJlIHNvbWV0aGluZyBlbHNlIHNvIGl0IHdpbGwgbGVycCBcInRvd2FyZHNcIiB0aGVcbiAgICAgICAgLy8gc2Nyb2xsIHBvc2l0aW9uIHNpbmNlIHdlIGhhdmUgbGVycCBzZXQuXG5cbiAgICAgICAgX3RoaXMuc2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcyhfdGhpcy5yYWZQcm9ncmVzcy5jdXJyZW50UHJvZ3Jlc3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTMsIFt7XG4gICAga2V5OiBcIm9uUHJvZ3Jlc3NVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9ncmVzc1VwZGF0ZShlYXNlZFByb2dyZXNzLCBkaXJlY3Rpb24pIHtcbiAgICAgIHRoaXMuc2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcyhlYXNlZFByb2dyZXNzKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTM7XG59KCk7XG5cbmV4cG9ydCB7IENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGUzIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/webgl-image-sequence4.js\n");

/***/ }),

/***/ "./examples/webgl-image-sequence5.js":
/*!*******************************************!*\
  !*** ./examples/webgl-image-sequence5.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CanvasImageSequenceSample5; });\n/* harmony import */ var _lib_dom_webgl_image_sequence__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/dom/webgl-image-sequence */ \"./lib/dom/webgl-image-sequence.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n/**\n * CanvasImageSequence play feature.\n */\n\nvar CanvasImageSequenceSample5 = function CanvasImageSequenceSample5() {\n  var _this = this;\n\n  _classCallCheck(this, CanvasImageSequenceSample5);\n\n  console.log('canvasImageSequence5');\n  this.canvasContainerElement = document.querySelector('.canvas-container');\n  this.parentElement = document.getElementById('parent'); // Generate image sources.\n\n  this.canvasImageSources = [];\n\n  for (var i = 1; i <= 153; i++) {\n    var value = i + '';\n    value = value.padStart(4, '0');\n    this.canvasImageSources.push('./public/frames/thumb' + value + '.jpg');\n  } // Create Canvas Image Sequenece\n\n\n  this.sequence = new _lib_dom_webgl_image_sequence__WEBPACK_IMPORTED_MODULE_0__[\"WebGlImageSequence\"](this.canvasContainerElement, [{\n    images: this.canvasImageSources\n  }]);\n  this.sequence.lerpAmount = 0.01;\n  this.sequence.load().then(function () {\n    _this.sequence.renderByProgress(0); // Immediately set to 1.  Because we previously set it to 0 and\n    // no 1 and we have lerp set, canvasImageSequence will lerp\n    // towards that value.\n\n\n    _this.sequence.renderByProgress(1);\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTUuanM/MmU5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5pbXBvcnQgeyBXZWJHbEltYWdlU2VxdWVuY2UgfSBmcm9tICcuLi9saWIvZG9tL3dlYmdsLWltYWdlLXNlcXVlbmNlJztcbi8qKlxuICogQ2FudmFzSW1hZ2VTZXF1ZW5jZSBwbGF5IGZlYXR1cmUuXG4gKi9cblxudmFyIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU1ID0gZnVuY3Rpb24gQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTUoKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU1KTtcblxuICBjb25zb2xlLmxvZygnY2FudmFzSW1hZ2VTZXF1ZW5jZTUnKTtcbiAgdGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbnZhcy1jb250YWluZXInKTtcbiAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpOyAvLyBHZW5lcmF0ZSBpbWFnZSBzb3VyY2VzLlxuXG4gIHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPD0gMTUzOyBpKyspIHtcbiAgICB2YXIgdmFsdWUgPSBpICsgJyc7XG4gICAgdmFsdWUgPSB2YWx1ZS5wYWRTdGFydCg0LCAnMCcpO1xuICAgIHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzLnB1c2goJy4vcHVibGljL2ZyYW1lcy90aHVtYicgKyB2YWx1ZSArICcuanBnJyk7XG4gIH0gLy8gQ3JlYXRlIENhbnZhcyBJbWFnZSBTZXF1ZW5lY2VcblxuXG4gIHRoaXMuc2VxdWVuY2UgPSBuZXcgV2ViR2xJbWFnZVNlcXVlbmNlKHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCwgW3tcbiAgICBpbWFnZXM6IHRoaXMuY2FudmFzSW1hZ2VTb3VyY2VzXG4gIH1dKTtcbiAgdGhpcy5zZXF1ZW5jZS5sZXJwQW1vdW50ID0gMC4wMTtcbiAgdGhpcy5zZXF1ZW5jZS5sb2FkKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMuc2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcygwKTsgLy8gSW1tZWRpYXRlbHkgc2V0IHRvIDEuICBCZWNhdXNlIHdlIHByZXZpb3VzbHkgc2V0IGl0IHRvIDAgYW5kXG4gICAgLy8gbm8gMSBhbmQgd2UgaGF2ZSBsZXJwIHNldCwgY2FudmFzSW1hZ2VTZXF1ZW5jZSB3aWxsIGxlcnBcbiAgICAvLyB0b3dhcmRzIHRoYXQgdmFsdWUuXG5cblxuICAgIF90aGlzLnNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoMSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IHsgQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTUgYXMgZGVmYXVsdCB9OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/webgl-image-sequence5.js\n");

/***/ }),

/***/ "./examples/webgl-image-sequence7.js":
/*!*******************************************!*\
  !*** ./examples/webgl-image-sequence7.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CanvasImageSequenceSample7; });\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_webgl_image_sequence__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/webgl-image-sequence */ \"./lib/dom/webgl-image-sequence.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n/**\n * This sample demonstrates CanvasImageSequence sizing with cover\n */\n\nvar CanvasImageSequenceSample7 = /*#__PURE__*/function () {\n  function CanvasImageSequenceSample7() {\n    var _this = this;\n\n    _classCallCheck(this, CanvasImageSequenceSample7);\n\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__[\"DomWatcher\"]();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__[\"RafProgress\"](); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(_this.parentElement);\n\n        _this.rafProgress.easeTo(_this.progress, 0.25, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.sources = [];\n\n    for (var i = 1; i <= 153; i++) {\n      var value = i + '';\n      value = value.padStart(4, '0');\n      this.sources.push('./public/frames/thumb' + value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.sequence = new _lib_dom_webgl_image_sequence__WEBPACK_IMPORTED_MODULE_1__[\"WebGlImageSequence\"](this.canvasContainerElement, [{\n      images: this.sources\n    }], {\n      cover: true // bottom: 0,\n      // left: 0\n\n    }); // Load the images\n\n    this.sequence.load().then(function () {\n      // When ready render whatever the current easedProgress value is.\n      _this.sequence.renderByProgress(_this.rafProgress.currentProgress);\n    });\n  }\n\n  _createClass(CanvasImageSequenceSample7, [{\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(easedProgress, direction) {\n      this.sequence.renderByProgress(easedProgress);\n    }\n  }]);\n\n  return CanvasImageSequenceSample7;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTcuanM/MzhlZiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCB7IFJhZlByb2dyZXNzLCBSQUZfUFJPR1JFU1NfRVZFTlRTIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3MnO1xuaW1wb3J0IHsgV2ViR2xJbWFnZVNlcXVlbmNlIH0gZnJvbSAnLi4vbGliL2RvbS93ZWJnbC1pbWFnZS1zZXF1ZW5jZSc7XG5pbXBvcnQgeyBFQVNFIH0gZnJvbSAnLi4vbGliL2Vhc2UvZWFzZSc7XG5pbXBvcnQgeyBkb20gfSBmcm9tICcuLi9saWIvZG9tL2RvbSc7XG5pbXBvcnQgeyBEb21XYXRjaGVyIH0gZnJvbSAnLi4vbGliL2RvbS9kb20td2F0Y2hlcic7XG4vKipcbiAqIFRoaXMgc2FtcGxlIGRlbW9uc3RyYXRlcyBDYW52YXNJbWFnZVNlcXVlbmNlIHNpemluZyB3aXRoIGNvdmVyXG4gKi9cblxudmFyIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU3ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTcoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlNyk7XG5cbiAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIHRoaXMuY2FudmFzQ29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMtY29udGFpbmVyJyk7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcmVudCcpOyAvLyBJbnN0YW5jZSBvZiByYWZQcm9ncmVzcy5cblxuICAgIHRoaXMucmFmUHJvZ3Jlc3MgPSBuZXcgUmFmUHJvZ3Jlc3MoKTsgLy8gVXBkYXRlIHRoZSBwcm9ncmVzcyB2YWx1ZSBwZXIgc2Nyb2xsLlxuXG4gICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICBvbjogJ3Njcm9sbCcsXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soZXZlbnQpIHtcbiAgICAgICAgX3RoaXMucHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudChfdGhpcy5wYXJlbnRFbGVtZW50KTtcblxuICAgICAgICBfdGhpcy5yYWZQcm9ncmVzcy5lYXNlVG8oX3RoaXMucHJvZ3Jlc3MsIDAuMjUsIEVBU0UuTGluZWFyKTtcbiAgICAgIH0sXG4gICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pOyAvLyBVcGRhdGUgcHJvZ3Jlc3MgaW1tZWRpYXRlbHkgb24gbG9hZC5cblxuICAgIHRoaXMucHJvZ3Jlc3MgPSBkb20uZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgIHRoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKHRoaXMucHJvZ3Jlc3MsIDEsIEVBU0UuTGluZWFyKTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLndhdGNoKHRoaXMub25Qcm9ncmVzc1VwZGF0ZS5iaW5kKHRoaXMpKTsgLy8gR2VuZXJhdGUgaW1hZ2Ugc291cmNlcy5cblxuICAgIHRoaXMuc291cmNlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gMTUzOyBpKyspIHtcbiAgICAgIHZhciB2YWx1ZSA9IGkgKyAnJztcbiAgICAgIHZhbHVlID0gdmFsdWUucGFkU3RhcnQoNCwgJzAnKTtcbiAgICAgIHRoaXMuc291cmNlcy5wdXNoKCcuL3B1YmxpYy9mcmFtZXMvdGh1bWInICsgdmFsdWUgKyAnLmpwZycpO1xuICAgIH0gLy8gQ3JlYXRlIENhbnZhcyBJbWFnZSBTZXF1ZW5lY2VcblxuXG4gICAgdGhpcy5zZXF1ZW5jZSA9IG5ldyBXZWJHbEltYWdlU2VxdWVuY2UodGhpcy5jYW52YXNDb250YWluZXJFbGVtZW50LCBbe1xuICAgICAgaW1hZ2VzOiB0aGlzLnNvdXJjZXNcbiAgICB9XSwge1xuICAgICAgY292ZXI6IHRydWUgLy8gYm90dG9tOiAwLFxuICAgICAgLy8gbGVmdDogMFxuXG4gICAgfSk7IC8vIExvYWQgdGhlIGltYWdlc1xuXG4gICAgdGhpcy5zZXF1ZW5jZS5sb2FkKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBXaGVuIHJlYWR5IHJlbmRlciB3aGF0ZXZlciB0aGUgY3VycmVudCBlYXNlZFByb2dyZXNzIHZhbHVlIGlzLlxuICAgICAgX3RoaXMuc2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcyhfdGhpcy5yYWZQcm9ncmVzcy5jdXJyZW50UHJvZ3Jlc3MpO1xuICAgIH0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU3LCBbe1xuICAgIGtleTogXCJvblByb2dyZXNzVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUHJvZ3Jlc3NVcGRhdGUoZWFzZWRQcm9ncmVzcywgZGlyZWN0aW9uKSB7XG4gICAgICB0aGlzLnNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoZWFzZWRQcm9ncmVzcyk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU3O1xufSgpO1xuXG5leHBvcnQgeyBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlNyBhcyBkZWZhdWx0IH07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/webgl-image-sequence7.js\n");

/***/ }),

/***/ "./examples/webgl-image-sequence9.js":
/*!*******************************************!*\
  !*** ./examples/webgl-image-sequence9.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CanvasImageSequenceSample9; });\n/* harmony import */ var _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/raf/raf-progress */ \"./lib/raf/raf-progress.js\");\n/* harmony import */ var _lib_dom_webgl_image_sequence__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dom/webgl-image-sequence */ \"./lib/dom/webgl-image-sequence.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n/**\n * This sample show loading multiple image sets\n */\n\nvar CanvasImageSequenceSample9 = /*#__PURE__*/function () {\n  function CanvasImageSequenceSample9() {\n    var _this = this;\n\n    _classCallCheck(this, CanvasImageSequenceSample9);\n\n    console.log('canvas image sequence');\n    this.domWatcher = new _lib_dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__[\"DomWatcher\"]();\n    this.canvasContainerElement = document.querySelector('.canvas-container');\n    this.parentElement = document.getElementById('parent'); // Instance of rafProgress.\n\n    this.rafProgress = new _lib_raf_raf_progress__WEBPACK_IMPORTED_MODULE_0__[\"RafProgress\"](); // Update the progress value per scroll.\n\n    this.domWatcher.add({\n      element: window,\n      on: 'scroll',\n      callback: function callback(event) {\n        _this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(_this.parentElement);\n\n        _this.rafProgress.easeTo(_this.progress, 0.25, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n      },\n      eventOptions: {\n        passive: true\n      }\n    }); // Update progress immediately on load.\n\n    this.progress = _lib_dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"dom\"].getElementScrolledPercent(this.parentElement);\n    this.rafProgress.easeTo(this.progress, 1, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].Linear);\n    this.rafProgress.watch(this.onProgressUpdate.bind(this)); // Generate image sources.\n\n    this.sources = [];\n\n    for (var i = 1; i <= 153; i++) {\n      var value = i + '';\n      value = value.padStart(4, '0');\n      this.sources.push('./public/frames/thumb' + value + '.jpg');\n    } // Generate a second \"mobile\" image sources.\n\n\n    this.mobileImageSources = [];\n\n    for (var _i = 1; _i <= 120; _i++) {\n      var _value = _i + '';\n\n      _value = _value.padStart(4, '0');\n      this.mobileImageSources.push('./public/frames2/thumb' + _value + '.jpg');\n    } // Create Canvas Image Sequenece\n\n\n    this.sequence = new _lib_dom_webgl_image_sequence__WEBPACK_IMPORTED_MODULE_1__[\"WebGlImageSequence\"](this.canvasContainerElement, [{\n      images: this.sources,\n      when: function when() {\n        return window.innerWidth >= 768;\n      }\n    }, {\n      images: this.mobileImageSources,\n      when: function when() {\n        return window.innerWidth < 768;\n      }\n    }]); // this.canvasImageSequence.lerpAmount = 0.02;\n    // Load the iamges.\n\n    this.sequence.load().then(function () {\n      // When ready render whatever the current easedProgress value is.\n      _this.sequence.renderByProgress(_this.rafProgress.currentProgress);\n    });\n  }\n\n  _createClass(CanvasImageSequenceSample9, [{\n    key: \"onProgressUpdate\",\n    value: function onProgressUpdate(easedProgress, direction) {\n      this.sequence.renderByProgress(easedProgress);\n    }\n  }]);\n\n  return CanvasImageSequenceSample9;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTkuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leGFtcGxlcy93ZWJnbC1pbWFnZS1zZXF1ZW5jZTkuanM/NzczNSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmltcG9ydCB7IFJhZlByb2dyZXNzLCBSQUZfUFJPR1JFU1NfRVZFTlRTIH0gZnJvbSAnLi4vbGliL3JhZi9yYWYtcHJvZ3Jlc3MnO1xuaW1wb3J0IHsgV2ViR2xJbWFnZVNlcXVlbmNlIH0gZnJvbSAnLi4vbGliL2RvbS93ZWJnbC1pbWFnZS1zZXF1ZW5jZSc7XG5pbXBvcnQgeyBFQVNFIH0gZnJvbSAnLi4vbGliL2Vhc2UvZWFzZSc7XG5pbXBvcnQgeyBkb20gfSBmcm9tICcuLi9saWIvZG9tL2RvbSc7XG5pbXBvcnQgeyBEb21XYXRjaGVyIH0gZnJvbSAnLi4vbGliL2RvbS9kb20td2F0Y2hlcic7XG4vKipcbiAqIFRoaXMgc2FtcGxlIHNob3cgbG9hZGluZyBtdWx0aXBsZSBpbWFnZSBzZXRzXG4gKi9cblxudmFyIENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU5ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTkoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNJbWFnZVNlcXVlbmNlU2FtcGxlOSk7XG5cbiAgICBjb25zb2xlLmxvZygnY2FudmFzIGltYWdlIHNlcXVlbmNlJyk7XG4gICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICB0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FudmFzLWNvbnRhaW5lcicpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJlbnQnKTsgLy8gSW5zdGFuY2Ugb2YgcmFmUHJvZ3Jlc3MuXG5cbiAgICB0aGlzLnJhZlByb2dyZXNzID0gbmV3IFJhZlByb2dyZXNzKCk7IC8vIFVwZGF0ZSB0aGUgcHJvZ3Jlc3MgdmFsdWUgcGVyIHNjcm9sbC5cblxuICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKGV2ZW50KSB7XG4gICAgICAgIF90aGlzLnByb2dyZXNzID0gZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQoX3RoaXMucGFyZW50RWxlbWVudCk7XG5cbiAgICAgICAgX3RoaXMucmFmUHJvZ3Jlc3MuZWFzZVRvKF90aGlzLnByb2dyZXNzLCAwLjI1LCBFQVNFLkxpbmVhcik7XG4gICAgICB9LFxuICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KTsgLy8gVXBkYXRlIHByb2dyZXNzIGltbWVkaWF0ZWx5IG9uIGxvYWQuXG5cbiAgICB0aGlzLnByb2dyZXNzID0gZG9tLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICB0aGlzLnJhZlByb2dyZXNzLmVhc2VUbyh0aGlzLnByb2dyZXNzLCAxLCBFQVNFLkxpbmVhcik7XG4gICAgdGhpcy5yYWZQcm9ncmVzcy53YXRjaCh0aGlzLm9uUHJvZ3Jlc3NVcGRhdGUuYmluZCh0aGlzKSk7IC8vIEdlbmVyYXRlIGltYWdlIHNvdXJjZXMuXG5cbiAgICB0aGlzLnNvdXJjZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IDE1MzsgaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpICsgJyc7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnBhZFN0YXJ0KDQsICcwJyk7XG4gICAgICB0aGlzLnNvdXJjZXMucHVzaCgnLi9wdWJsaWMvZnJhbWVzL3RodW1iJyArIHZhbHVlICsgJy5qcGcnKTtcbiAgICB9IC8vIEdlbmVyYXRlIGEgc2Vjb25kIFwibW9iaWxlXCIgaW1hZ2Ugc291cmNlcy5cblxuXG4gICAgdGhpcy5tb2JpbGVJbWFnZVNvdXJjZXMgPSBbXTtcblxuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPD0gMTIwOyBfaSsrKSB7XG4gICAgICB2YXIgX3ZhbHVlID0gX2kgKyAnJztcblxuICAgICAgX3ZhbHVlID0gX3ZhbHVlLnBhZFN0YXJ0KDQsICcwJyk7XG4gICAgICB0aGlzLm1vYmlsZUltYWdlU291cmNlcy5wdXNoKCcuL3B1YmxpYy9mcmFtZXMyL3RodW1iJyArIF92YWx1ZSArICcuanBnJyk7XG4gICAgfSAvLyBDcmVhdGUgQ2FudmFzIEltYWdlIFNlcXVlbmVjZVxuXG5cbiAgICB0aGlzLnNlcXVlbmNlID0gbmV3IFdlYkdsSW1hZ2VTZXF1ZW5jZSh0aGlzLmNhbnZhc0NvbnRhaW5lckVsZW1lbnQsIFt7XG4gICAgICBpbWFnZXM6IHRoaXMuc291cmNlcyxcbiAgICAgIHdoZW46IGZ1bmN0aW9uIHdoZW4oKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCA+PSA3Njg7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgaW1hZ2VzOiB0aGlzLm1vYmlsZUltYWdlU291cmNlcyxcbiAgICAgIHdoZW46IGZ1bmN0aW9uIHdoZW4oKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCA8IDc2ODtcbiAgICAgIH1cbiAgICB9XSk7IC8vIHRoaXMuY2FudmFzSW1hZ2VTZXF1ZW5jZS5sZXJwQW1vdW50ID0gMC4wMjtcbiAgICAvLyBMb2FkIHRoZSBpYW1nZXMuXG5cbiAgICB0aGlzLnNlcXVlbmNlLmxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIFdoZW4gcmVhZHkgcmVuZGVyIHdoYXRldmVyIHRoZSBjdXJyZW50IGVhc2VkUHJvZ3Jlc3MgdmFsdWUgaXMuXG4gICAgICBfdGhpcy5zZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKF90aGlzLnJhZlByb2dyZXNzLmN1cnJlbnRQcm9ncmVzcyk7XG4gICAgfSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTksIFt7XG4gICAga2V5OiBcIm9uUHJvZ3Jlc3NVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9ncmVzc1VwZGF0ZShlYXNlZFByb2dyZXNzLCBkaXJlY3Rpb24pIHtcbiAgICAgIHRoaXMuc2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcyhlYXNlZFByb2dyZXNzKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2FudmFzSW1hZ2VTZXF1ZW5jZVNhbXBsZTk7XG59KCk7XG5cbmV4cG9ydCB7IENhbnZhc0ltYWdlU2VxdWVuY2VTYW1wbGU5IGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/webgl-image-sequence9.js\n");

/***/ }),

/***/ "./examples/webgl.js":
/*!***************************!*\
  !*** ./examples/webgl.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return WebGlSample; });\n/* harmony import */ var _lib_loader_image_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/loader/image-loader */ \"./lib/loader/image-loader.js\");\n/* harmony import */ var _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var dat_gui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dat.gui */ \"./node_modules/dat.gui/build/dat.gui.module.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar vertexSrc = \"\\nprecision mediump float;\\n\\nattribute vec4 position;\\n\\nvarying vec2 vUv;\\n\\nvoid main() {\\n\\tgl_Position = position;\\n    vUv = vec2( (position.x + 1.)/2., (-position.y + 1.)/2.);\\n\\n}\\n\";\nvar fragmentSrc = \"\\nprecision mediump float;\\n\\nuniform float uTrans;\\nuniform sampler2D uTexture0;\\nuniform sampler2D uTexture1;\\nuniform sampler2D uDisp;\\n\\nvarying vec2 vUv;\\n\\nfloat quarticInOut(float t) {\\n  return t < 0.5\\n    ? +8.0 * pow(t, 4.0)\\n    : -8.0 * pow(t - 1.0, 4.0) + 1.0;\\n}\\n\\nvoid main() {\\n    vec4 disp = texture2D(uDisp, vUv);\\n    float trans = clamp((uTrans * uTrans * 5.0) - disp.r * 2.0, 0.0, 1.0);\\n    vec4 color0 = texture2D(uTexture0, vUv);\\n    float shift = 1.0 - quarticInOut(uTrans);\\n    shift = shift * disp.x;\\n    vec4 color1 = texture2D(uTexture1, vUv + vec2(0.1 * disp.x * shift, 0.1 * disp.y * shift));\\n\\tgl_FragColor = mix(color0, color1 , trans);\\n}\\n\";\nvar assets = ['./public/guy2.jpg', './public/guy1.jpg', './public/displacement1.png'];\n\nvar WebGlSample = /*#__PURE__*/function () {\n  function WebGlSample() {\n    _classCallCheck(this, WebGlSample);\n\n    console.log('webGL image distortion sample');\n    this.canvas = document.getElementById('canvas');\n    this.canvas.width = this.canvas.offsetWidth;\n    this.canvas.height = this.canvas.offsetHeight;\n    this.gl = canvas.getContext('webgl');\n    this.controls = {\n      trans: 0\n    }; // Setup\n\n    this.program = this.createProgram(vertexSrc, fragmentSrc);\n    this.createBuffer(this.program);\n    this.setUniform(this.program); // Setup raf loop.\n\n    this.raf = new _lib_raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](this.loop.bind(this));\n    this.imageLoader = new _lib_loader_image_loader__WEBPACK_IMPORTED_MODULE_0__[\"ImageLoader\"](assets);\n    this.imageLoader.load().then(this.onImageLoad.bind(this));\n    this.gui = new dat_gui__WEBPACK_IMPORTED_MODULE_2__[\"GUI\"]();\n    var gui = this.gui.addFolder('Controls');\n    gui.add(this.controls, 'trans', 0.000, 1.00).step(0.001);\n  }\n  /**\n     * Creates a program with vertex and frag shaders.\n     */\n\n\n  _createClass(WebGlSample, [{\n    key: \"createProgram\",\n    value: function createProgram(vs, fr) {\n      // Create program\n      var program = this.gl.createProgram(); // Compile vertex shader\n\n      var vShader = this.gl.createShader(this.gl.VERTEX_SHADER);\n      this.gl.shaderSource(vShader, vs);\n      this.gl.compileShader(vShader); // Compile frag shader\n\n      var fShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\n      this.gl.shaderSource(fShader, fr);\n      this.gl.compileShader(fShader);\n      this.gl.attachShader(program, vShader);\n      this.gl.deleteShader(vShader);\n      this.gl.attachShader(program, fShader);\n      this.gl.deleteShader(fShader);\n      this.gl.linkProgram(program);\n      return program;\n    }\n  }, {\n    key: \"createBuffer\",\n    value: function createBuffer(program) {\n      var vertices = new Float32Array([-1, -1, 1, -1, -1, 1, 1, -1, -1, 1, 1, 1]);\n      this.vertexBuffer = this.gl.createBuffer();\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuffer);\n      this.gl.bufferData(this.gl.ARRAY_BUFFER, vertices, this.gl.STATIC_DRAW);\n      this.vertexLocation = this.gl.getAttribLocation(program, 'position');\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, null);\n    }\n  }, {\n    key: \"setUniform\",\n    value: function setUniform(program) {\n      // uniform\n      this.uTransLoc = this.gl.getUniformLocation(program, 'uTrans');\n      this.uniforms = [];\n      this.uniforms.push(this.gl.getUniformLocation(program, 'uTexture0'));\n      this.uniforms.push(this.gl.getUniformLocation(program, 'uTexture1'));\n      this.uniforms.push(this.gl.getUniformLocation(program, 'uDisp'));\n    }\n    /**\n       * When all images have loaded.\n       */\n\n  }, {\n    key: \"onImageLoad\",\n    value: function onImageLoad(images) {\n      var _this = this;\n\n      var gl = this.gl;\n      this.textures = [];\n      Object.values(images).forEach(function (image, i) {\n        var imageName = assets[i];\n        var textureImage = images[imageName];\n        var texture = gl.createTexture(); // Add the image to the texture.\n\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, textureImage);\n        gl.generateMipmap(gl.TEXTURE_2D);\n\n        _this.textures.push(texture);\n      }); // Now start raf.\n\n      this.raf.start();\n    }\n    /**\n       * Runs on raf loop once images are loaded.\n       */\n\n  }, {\n    key: \"loop\",\n    value: function loop() {\n      var _this2 = this;\n\n      var gl = this.gl;\n      gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n      gl.clearColor(0.0, 0.0, 0.0, 1.0);\n      gl.clear(gl.COLOR_BUFFER_BIT);\n      gl.useProgram(this.program);\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n      gl.vertexAttribPointer(this.vertexLocation, 2, gl.FLOAT, false, 0, 0);\n      gl.enableVertexAttribArray(this.vertexLocation);\n      this.textures.forEach(function (texture, index) {\n        gl.activeTexture(gl.TEXTURE0 + index);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.uniform1i(_this2.uniforms[index], index);\n      });\n      gl.uniform1f(this.uTransLoc, this.controls.trans);\n      gl.drawArrays(gl.TRIANGLES, 0, 6);\n    }\n  }]);\n\n  return WebGlSample;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy93ZWJnbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3dlYmdsLmpzPzc4ZWQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5pbXBvcnQgeyBJbWFnZUxvYWRlciB9IGZyb20gJy4uL2xpYi9sb2FkZXIvaW1hZ2UtbG9hZGVyJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL2xpYi9yYWYvcmFmJztcbmltcG9ydCAqIGFzIGRhdCBmcm9tICdkYXQuZ3VpJztcbnZhciB2ZXJ0ZXhTcmMgPSBcIlxcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcblxcbmF0dHJpYnV0ZSB2ZWM0IHBvc2l0aW9uO1xcblxcbnZhcnlpbmcgdmVjMiB2VXY7XFxuXFxudm9pZCBtYWluKCkge1xcblxcdGdsX1Bvc2l0aW9uID0gcG9zaXRpb247XFxuICAgIHZVdiA9IHZlYzIoIChwb3NpdGlvbi54ICsgMS4pLzIuLCAoLXBvc2l0aW9uLnkgKyAxLikvMi4pO1xcblxcbn1cXG5cIjtcbnZhciBmcmFnbWVudFNyYyA9IFwiXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuXFxudW5pZm9ybSBmbG9hdCB1VHJhbnM7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmUwO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlMTtcXG51bmlmb3JtIHNhbXBsZXIyRCB1RGlzcDtcXG5cXG52YXJ5aW5nIHZlYzIgdlV2O1xcblxcbmZsb2F0IHF1YXJ0aWNJbk91dChmbG9hdCB0KSB7XFxuICByZXR1cm4gdCA8IDAuNVxcbiAgICA/ICs4LjAgKiBwb3codCwgNC4wKVxcbiAgICA6IC04LjAgKiBwb3codCAtIDEuMCwgNC4wKSArIDEuMDtcXG59XFxuXFxudm9pZCBtYWluKCkge1xcbiAgICB2ZWM0IGRpc3AgPSB0ZXh0dXJlMkQodURpc3AsIHZVdik7XFxuICAgIGZsb2F0IHRyYW5zID0gY2xhbXAoKHVUcmFucyAqIHVUcmFucyAqIDUuMCkgLSBkaXNwLnIgKiAyLjAsIDAuMCwgMS4wKTtcXG4gICAgdmVjNCBjb2xvcjAgPSB0ZXh0dXJlMkQodVRleHR1cmUwLCB2VXYpO1xcbiAgICBmbG9hdCBzaGlmdCA9IDEuMCAtIHF1YXJ0aWNJbk91dCh1VHJhbnMpO1xcbiAgICBzaGlmdCA9IHNoaWZ0ICogZGlzcC54O1xcbiAgICB2ZWM0IGNvbG9yMSA9IHRleHR1cmUyRCh1VGV4dHVyZTEsIHZVdiArIHZlYzIoMC4xICogZGlzcC54ICogc2hpZnQsIDAuMSAqIGRpc3AueSAqIHNoaWZ0KSk7XFxuXFx0Z2xfRnJhZ0NvbG9yID0gbWl4KGNvbG9yMCwgY29sb3IxICwgdHJhbnMpO1xcbn1cXG5cIjtcbnZhciBhc3NldHMgPSBbJy4vcHVibGljL2d1eTIuanBnJywgJy4vcHVibGljL2d1eTEuanBnJywgJy4vcHVibGljL2Rpc3BsYWNlbWVudDEucG5nJ107XG5cbnZhciBXZWJHbFNhbXBsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFdlYkdsU2FtcGxlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXZWJHbFNhbXBsZSk7XG5cbiAgICBjb25zb2xlLmxvZygnd2ViR0wgaW1hZ2UgZGlzdG9ydGlvbiBzYW1wbGUnKTtcbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMuY2FudmFzLm9mZnNldFdpZHRoO1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuY2FudmFzLm9mZnNldEhlaWdodDtcbiAgICB0aGlzLmdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJyk7XG4gICAgdGhpcy5jb250cm9scyA9IHtcbiAgICAgIHRyYW5zOiAwXG4gICAgfTsgLy8gU2V0dXBcblxuICAgIHRoaXMucHJvZ3JhbSA9IHRoaXMuY3JlYXRlUHJvZ3JhbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcbiAgICB0aGlzLmNyZWF0ZUJ1ZmZlcih0aGlzLnByb2dyYW0pO1xuICAgIHRoaXMuc2V0VW5pZm9ybSh0aGlzLnByb2dyYW0pOyAvLyBTZXR1cCByYWYgbG9vcC5cblxuICAgIHRoaXMucmFmID0gbmV3IFJhZih0aGlzLmxvb3AuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5pbWFnZUxvYWRlciA9IG5ldyBJbWFnZUxvYWRlcihhc3NldHMpO1xuICAgIHRoaXMuaW1hZ2VMb2FkZXIubG9hZCgpLnRoZW4odGhpcy5vbkltYWdlTG9hZC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmd1aSA9IG5ldyBkYXQuR1VJKCk7XG4gICAgdmFyIGd1aSA9IHRoaXMuZ3VpLmFkZEZvbGRlcignQ29udHJvbHMnKTtcbiAgICBndWkuYWRkKHRoaXMuY29udHJvbHMsICd0cmFucycsIDAuMDAwLCAxLjAwKS5zdGVwKDAuMDAxKTtcbiAgfVxuICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcHJvZ3JhbSB3aXRoIHZlcnRleCBhbmQgZnJhZyBzaGFkZXJzLlxuICAgICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFdlYkdsU2FtcGxlLCBbe1xuICAgIGtleTogXCJjcmVhdGVQcm9ncmFtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVByb2dyYW0odnMsIGZyKSB7XG4gICAgICAvLyBDcmVhdGUgcHJvZ3JhbVxuICAgICAgdmFyIHByb2dyYW0gPSB0aGlzLmdsLmNyZWF0ZVByb2dyYW0oKTsgLy8gQ29tcGlsZSB2ZXJ0ZXggc2hhZGVyXG5cbiAgICAgIHZhciB2U2hhZGVyID0gdGhpcy5nbC5jcmVhdGVTaGFkZXIodGhpcy5nbC5WRVJURVhfU0hBREVSKTtcbiAgICAgIHRoaXMuZ2wuc2hhZGVyU291cmNlKHZTaGFkZXIsIHZzKTtcbiAgICAgIHRoaXMuZ2wuY29tcGlsZVNoYWRlcih2U2hhZGVyKTsgLy8gQ29tcGlsZSBmcmFnIHNoYWRlclxuXG4gICAgICB2YXIgZlNoYWRlciA9IHRoaXMuZ2wuY3JlYXRlU2hhZGVyKHRoaXMuZ2wuRlJBR01FTlRfU0hBREVSKTtcbiAgICAgIHRoaXMuZ2wuc2hhZGVyU291cmNlKGZTaGFkZXIsIGZyKTtcbiAgICAgIHRoaXMuZ2wuY29tcGlsZVNoYWRlcihmU2hhZGVyKTtcbiAgICAgIHRoaXMuZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZTaGFkZXIpO1xuICAgICAgdGhpcy5nbC5kZWxldGVTaGFkZXIodlNoYWRlcik7XG4gICAgICB0aGlzLmdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmU2hhZGVyKTtcbiAgICAgIHRoaXMuZ2wuZGVsZXRlU2hhZGVyKGZTaGFkZXIpO1xuICAgICAgdGhpcy5nbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgIHJldHVybiBwcm9ncmFtO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVCdWZmZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQnVmZmVyKHByb2dyYW0pIHtcbiAgICAgIHZhciB2ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoWy0xLCAtMSwgMSwgLTEsIC0xLCAxLCAxLCAtMSwgLTEsIDEsIDEsIDFdKTtcbiAgICAgIHRoaXMudmVydGV4QnVmZmVyID0gdGhpcy5nbC5jcmVhdGVCdWZmZXIoKTtcbiAgICAgIHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhCdWZmZXIpO1xuICAgICAgdGhpcy5nbC5idWZmZXJEYXRhKHRoaXMuZ2wuQVJSQVlfQlVGRkVSLCB2ZXJ0aWNlcywgdGhpcy5nbC5TVEFUSUNfRFJBVyk7XG4gICAgICB0aGlzLnZlcnRleExvY2F0aW9uID0gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCAncG9zaXRpb24nKTtcbiAgICAgIHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldFVuaWZvcm1cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VW5pZm9ybShwcm9ncmFtKSB7XG4gICAgICAvLyB1bmlmb3Jt44Gu44Ot44Kx44O844K344On44Oz44KS5Y+W5b6X44GX44Gm44GK44GPXG4gICAgICB0aGlzLnVUcmFuc0xvYyA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1VHJhbnMnKTtcbiAgICAgIHRoaXMudW5pZm9ybXMgPSBbXTtcbiAgICAgIHRoaXMudW5pZm9ybXMucHVzaCh0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndVRleHR1cmUwJykpO1xuICAgICAgdGhpcy51bmlmb3Jtcy5wdXNoKHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1VGV4dHVyZTEnKSk7XG4gICAgICB0aGlzLnVuaWZvcm1zLnB1c2godGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VEaXNwJykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgICAqIFdoZW4gYWxsIGltYWdlcyBoYXZlIGxvYWRlZC5cbiAgICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib25JbWFnZUxvYWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25JbWFnZUxvYWQoaW1hZ2VzKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgdGhpcy50ZXh0dXJlcyA9IFtdO1xuICAgICAgT2JqZWN0LnZhbHVlcyhpbWFnZXMpLmZvckVhY2goZnVuY3Rpb24gKGltYWdlLCBpKSB7XG4gICAgICAgIHZhciBpbWFnZU5hbWUgPSBhc3NldHNbaV07XG4gICAgICAgIHZhciB0ZXh0dXJlSW1hZ2UgPSBpbWFnZXNbaW1hZ2VOYW1lXTtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7IC8vIEFkZCB0aGUgaW1hZ2UgdG8gdGhlIHRleHR1cmUuXG5cbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCLCBnbC5SR0IsIGdsLlVOU0lHTkVEX0JZVEUsIHRleHR1cmVJbWFnZSk7XG4gICAgICAgIGdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpO1xuXG4gICAgICAgIF90aGlzLnRleHR1cmVzLnB1c2godGV4dHVyZSk7XG4gICAgICB9KTsgLy8gTm93IHN0YXJ0IHJhZi5cblxuICAgICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICAgKiBSdW5zIG9uIHJhZiBsb29wIG9uY2UgaW1hZ2VzIGFyZSBsb2FkZWQuXG4gICAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxvb3BcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9vcCgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgZ2wudmlld3BvcnQoMCwgMCwgZ2wuY2FudmFzLndpZHRoLCBnbC5jYW52YXMuaGVpZ2h0KTtcbiAgICAgIGdsLmNsZWFyQ29sb3IoMC4wLCAwLjAsIDAuMCwgMS4wKTtcbiAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpO1xuICAgICAgZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4QnVmZmVyKTtcbiAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy52ZXJ0ZXhMb2NhdGlvbiwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbiAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMudmVydGV4TG9jYXRpb24pO1xuICAgICAgdGhpcy50ZXh0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uICh0ZXh0dXJlLCBpbmRleCkge1xuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgaW5kZXgpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcbiAgICAgICAgZ2wudW5pZm9ybTFpKF90aGlzMi51bmlmb3Jtc1tpbmRleF0sIGluZGV4KTtcbiAgICAgIH0pO1xuICAgICAgZ2wudW5pZm9ybTFmKHRoaXMudVRyYW5zTG9jLCB0aGlzLmNvbnRyb2xzLnRyYW5zKTtcbiAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCAwLCA2KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gV2ViR2xTYW1wbGU7XG59KCk7XG5cbmV4cG9ydCB7IFdlYkdsU2FtcGxlIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/webgl.js\n");

/***/ }),

/***/ "./examples/x.js":
/*!***********************!*\
  !*** ./examples/x.js ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return XSample; });\n/* harmony import */ var _lib_x_x__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/x/x */ \"./lib/x/x.js\");\n/* harmony import */ var _lib_x_x_game_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/x/x-game-object */ \"./lib/x/x-game-object.js\");\n/* harmony import */ var _lib_x_x_line__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/x/x-line */ \"./lib/x/x-line.js\");\n/* harmony import */ var _lib_x_x_rectangle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/x/x-rectangle */ \"./lib/x/x-rectangle.js\");\n/* harmony import */ var _lib_x_x_stage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/x/x-stage */ \"./lib/x/x-stage.js\");\n/* harmony import */ var _lib_x_x_texture__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/x/x-texture */ \"./lib/x/x-texture.js\");\n/* harmony import */ var _lib_x_x_text__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/x/x-text */ \"./lib/x/x-text.js\");\n/* harmony import */ var _lib_loader_image_loader__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/loader/image-loader */ \"./lib/loader/image-loader.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _lib_ease_ease__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/ease/ease */ \"./lib/ease/ease.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n *\n * This is the an example of accelerating an XGameObject towards the\n * mouse position.\n *\n * Each XGameObject, has the following:\n * positon - vector\n * velocity - vector\n * acceleration - vector\n *\n *\n *\n *\n */\n\nvar XSample = /*#__PURE__*/function () {\n  /**\n     * Loads teh required images and saves them to a cache with Xtexture.\n     * This starts the app.\n     */\n  function XSample() {\n    var _this = this;\n\n    _classCallCheck(this, XSample);\n\n    this.imageTextures = {};\n    var images = new _lib_loader_image_loader__WEBPACK_IMPORTED_MODULE_7__[\"ImageLoader\"](['./public/flower.jpg']).load().then(function (results) {\n      // Make textures out of the images.\n      Object.keys(results).forEach(function (key) {\n        _this.imageTextures[key] = new _lib_x_x_texture__WEBPACK_IMPORTED_MODULE_5__[\"XTexture\"](results[key]);\n      });\n\n      _this.startApp();\n    });\n  }\n\n  _createClass(XSample, [{\n    key: \"startApp\",\n    value: function startApp() {\n      var _this2 = this;\n\n      var canvasElement = document.getElementById('mainCanvas');\n      this.X = new _lib_x_x__WEBPACK_IMPORTED_MODULE_0__[\"X\"]({\n        canvasElement: canvasElement,\n        debugMode: true\n      });\n      this.flower = new _lib_x_x_game_object__WEBPACK_IMPORTED_MODULE_1__[\"XGameObject\"]({\n        id: 'flower',\n        x: 250,\n        y: 250,\n        anchorX: 0.5,\n        anchorY: 0.5,\n        scaleX: 1,\n        scaleY: 1,\n        rotation: 1.5,\n        interactable: true,\n        texture: this.imageTextures['./public/flower.jpg']\n      });\n      this.X.stage.addChild(this.flower);\n      this.X.onTick(function () {\n        // On every frame, we want to update the acceleration of the\n        // test object so that it accelerates towards the mouse position.\n        //  We look at the distance between the mouse and\n        // the test object position.  To do this, we subtract the test position\n        // and  mouse position vector and apply that distance as the\n        // acceleration of the game object.\n        var distanceVector = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__[\"Vector\"].subtract( // mouse\n        _this2.X.pointer.position, new _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__[\"Vector\"](_this2.flower.gcx, _this2.flower.gcy)); // We could just set the acceleration to the distance but then\n        // the flower image would just exactly be the position of the\n        // mouse.  To add some delay and smoothing, we ease the\n        // vales.\n\n        _this2.flower.acceleration = _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__[\"Vector\"].ease(_this2.flower.acceleration, distanceVector, 0.08); // Damping. We still get a of sprining so we damp out the springing.\n\n        _this2.flower.acceleration.lerp(_lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__[\"Vector\"].ZERO, 0.8); // Based on the distance to the mouse, let's increase or decrease\n        // the rotation.\n\n\n        var minRotation = 0;\n        var maxRotation = 0.5;\n        var minMagnitude = 0;\n        var maxMagnitude = 500; // Now we get a value between 0-0.5 based on when the distance\n        // is between 0 and 500.\n\n        var rotation = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_9__[\"mathf\"].interpolateRange(distanceVector.length(), // The magnitude of the distance vector\n        minMagnitude, maxMagnitude, minRotation, maxRotation); // Let's make it more interesting and ease out the rotation per frame.\n\n        _this2.flower.rotaton = _lib_mathf_mathf__WEBPACK_IMPORTED_MODULE_9__[\"mathf\"].ease(_this2.flower.rotation, rotation, 0.08, _lib_ease_ease__WEBPACK_IMPORTED_MODULE_10__[\"EASE\"].linear);\n        _this2.flower.rotation += rotation;\n        console.log(_this2.flower.velocity.magnitude(), _this2.flower.acceleration.magnitude());\n      });\n      this.X.start();\n    }\n  }]);\n\n  return XSample;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy94LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMveC5qcz8zMjJkIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuaW1wb3J0IHsgWCB9IGZyb20gJy4uL2xpYi94L3gnO1xuaW1wb3J0IHsgWEdhbWVPYmplY3QgfSBmcm9tICcuLi9saWIveC94LWdhbWUtb2JqZWN0JztcbmltcG9ydCB7IFhMaW5lIH0gZnJvbSAnLi4vbGliL3gveC1saW5lJztcbmltcG9ydCB7IFhSZWN0YW5nbGUgfSBmcm9tICcuLi9saWIveC94LXJlY3RhbmdsZSc7XG5pbXBvcnQgeyBYU3RhZ2UgfSBmcm9tICcuLi9saWIveC94LXN0YWdlJztcbmltcG9ydCB7IFhUZXh0dXJlIH0gZnJvbSAnLi4vbGliL3gveC10ZXh0dXJlJztcbmltcG9ydCB7IFhUZXh0IH0gZnJvbSAnLi4vbGliL3gveC10ZXh0JztcbmltcG9ydCB7IEltYWdlTG9hZGVyIH0gZnJvbSAnLi4vbGliL2xvYWRlci9pbWFnZS1sb2FkZXInO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vbGliL21hdGhmL3ZlY3Rvcic7XG5pbXBvcnQgeyBtYXRoZiB9IGZyb20gJy4uL2xpYi9tYXRoZi9tYXRoZic7XG5pbXBvcnQgeyBFQVNFIH0gZnJvbSAnLi4vbGliL2Vhc2UvZWFzZSc7XG4vKipcbiAqXG4gKiBUaGlzIGlzIHRoZSBhbiBleGFtcGxlIG9mIGFjY2VsZXJhdGluZyBhbiBYR2FtZU9iamVjdCB0b3dhcmRzIHRoZVxuICogbW91c2UgcG9zaXRpb24uXG4gKlxuICogRWFjaCBYR2FtZU9iamVjdCwgaGFzIHRoZSBmb2xsb3dpbmc6XG4gKiBwb3NpdG9uIC0gdmVjdG9yXG4gKiB2ZWxvY2l0eSAtIHZlY3RvclxuICogYWNjZWxlcmF0aW9uIC0gdmVjdG9yXG4gKlxuICpcbiAqXG4gKlxuICovXG5cbnZhciBYU2FtcGxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAgICogTG9hZHMgdGVoIHJlcXVpcmVkIGltYWdlcyBhbmQgc2F2ZXMgdGhlbSB0byBhIGNhY2hlIHdpdGggWHRleHR1cmUuXG4gICAgICogVGhpcyBzdGFydHMgdGhlIGFwcC5cbiAgICAgKi9cbiAgZnVuY3Rpb24gWFNhbXBsZSgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFhTYW1wbGUpO1xuXG4gICAgdGhpcy5pbWFnZVRleHR1cmVzID0ge307XG4gICAgdmFyIGltYWdlcyA9IG5ldyBJbWFnZUxvYWRlcihbJy4vcHVibGljL2Zsb3dlci5qcGcnXSkubG9hZCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgIC8vIE1ha2UgdGV4dHVyZXMgb3V0IG9mIHRoZSBpbWFnZXMuXG4gICAgICBPYmplY3Qua2V5cyhyZXN1bHRzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgX3RoaXMuaW1hZ2VUZXh0dXJlc1trZXldID0gbmV3IFhUZXh0dXJlKHJlc3VsdHNba2V5XSk7XG4gICAgICB9KTtcblxuICAgICAgX3RoaXMuc3RhcnRBcHAoKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhYU2FtcGxlLCBbe1xuICAgIGtleTogXCJzdGFydEFwcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydEFwcCgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgY2FudmFzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluQ2FudmFzJyk7XG4gICAgICB0aGlzLlggPSBuZXcgWCh7XG4gICAgICAgIGNhbnZhc0VsZW1lbnQ6IGNhbnZhc0VsZW1lbnQsXG4gICAgICAgIGRlYnVnTW9kZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICB0aGlzLmZsb3dlciA9IG5ldyBYR2FtZU9iamVjdCh7XG4gICAgICAgIGlkOiAnZmxvd2VyJyxcbiAgICAgICAgeDogMjUwLFxuICAgICAgICB5OiAyNTAsXG4gICAgICAgIGFuY2hvclg6IDAuNSxcbiAgICAgICAgYW5jaG9yWTogMC41LFxuICAgICAgICBzY2FsZVg6IDEsXG4gICAgICAgIHNjYWxlWTogMSxcbiAgICAgICAgcm90YXRpb246IDEuNSxcbiAgICAgICAgaW50ZXJhY3RhYmxlOiB0cnVlLFxuICAgICAgICB0ZXh0dXJlOiB0aGlzLmltYWdlVGV4dHVyZXNbJy4vcHVibGljL2Zsb3dlci5qcGcnXVxuICAgICAgfSk7XG4gICAgICB0aGlzLlguc3RhZ2UuYWRkQ2hpbGQodGhpcy5mbG93ZXIpO1xuICAgICAgdGhpcy5YLm9uVGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIE9uIGV2ZXJ5IGZyYW1lLCB3ZSB3YW50IHRvIHVwZGF0ZSB0aGUgYWNjZWxlcmF0aW9uIG9mIHRoZVxuICAgICAgICAvLyB0ZXN0IG9iamVjdCBzbyB0aGF0IGl0IGFjY2VsZXJhdGVzIHRvd2FyZHMgdGhlIG1vdXNlIHBvc2l0aW9uLlxuICAgICAgICAvLyAgV2UgbG9vayBhdCB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgbW91c2UgYW5kXG4gICAgICAgIC8vIHRoZSB0ZXN0IG9iamVjdCBwb3NpdGlvbi4gIFRvIGRvIHRoaXMsIHdlIHN1YnRyYWN0IHRoZSB0ZXN0IHBvc2l0aW9uXG4gICAgICAgIC8vIGFuZCAgbW91c2UgcG9zaXRpb24gdmVjdG9yIGFuZCBhcHBseSB0aGF0IGRpc3RhbmNlIGFzIHRoZVxuICAgICAgICAvLyBhY2NlbGVyYXRpb24gb2YgdGhlIGdhbWUgb2JqZWN0LlxuICAgICAgICB2YXIgZGlzdGFuY2VWZWN0b3IgPSBWZWN0b3Iuc3VidHJhY3QoIC8vIG1vdXNlXG4gICAgICAgIF90aGlzMi5YLnBvaW50ZXIucG9zaXRpb24sIG5ldyBWZWN0b3IoX3RoaXMyLmZsb3dlci5nY3gsIF90aGlzMi5mbG93ZXIuZ2N5KSk7IC8vIFdlIGNvdWxkIGp1c3Qgc2V0IHRoZSBhY2NlbGVyYXRpb24gdG8gdGhlIGRpc3RhbmNlIGJ1dCB0aGVuXG4gICAgICAgIC8vIHRoZSBmbG93ZXIgaW1hZ2Ugd291bGQganVzdCBleGFjdGx5IGJlIHRoZSBwb3NpdGlvbiBvZiB0aGVcbiAgICAgICAgLy8gbW91c2UuICBUbyBhZGQgc29tZSBkZWxheSBhbmQgc21vb3RoaW5nLCB3ZSBlYXNlIHRoZVxuICAgICAgICAvLyB2YWxlcy5cblxuICAgICAgICBfdGhpczIuZmxvd2VyLmFjY2VsZXJhdGlvbiA9IFZlY3Rvci5lYXNlKF90aGlzMi5mbG93ZXIuYWNjZWxlcmF0aW9uLCBkaXN0YW5jZVZlY3RvciwgMC4wOCk7IC8vIERhbXBpbmcuIFdlIHN0aWxsIGdldCBhIG9mIHNwcmluaW5nIHNvIHdlIGRhbXAgb3V0IHRoZSBzcHJpbmdpbmcuXG5cbiAgICAgICAgX3RoaXMyLmZsb3dlci5hY2NlbGVyYXRpb24ubGVycChWZWN0b3IuWkVSTywgMC44KTsgLy8gQmFzZWQgb24gdGhlIGRpc3RhbmNlIHRvIHRoZSBtb3VzZSwgbGV0J3MgaW5jcmVhc2Ugb3IgZGVjcmVhc2VcbiAgICAgICAgLy8gdGhlIHJvdGF0aW9uLlxuXG5cbiAgICAgICAgdmFyIG1pblJvdGF0aW9uID0gMDtcbiAgICAgICAgdmFyIG1heFJvdGF0aW9uID0gMC41O1xuICAgICAgICB2YXIgbWluTWFnbml0dWRlID0gMDtcbiAgICAgICAgdmFyIG1heE1hZ25pdHVkZSA9IDUwMDsgLy8gTm93IHdlIGdldCBhIHZhbHVlIGJldHdlZW4gMC0wLjUgYmFzZWQgb24gd2hlbiB0aGUgZGlzdGFuY2VcbiAgICAgICAgLy8gaXMgYmV0d2VlbiAwIGFuZCA1MDAuXG5cbiAgICAgICAgdmFyIHJvdGF0aW9uID0gbWF0aGYuaW50ZXJwb2xhdGVSYW5nZShkaXN0YW5jZVZlY3Rvci5sZW5ndGgoKSwgLy8gVGhlIG1hZ25pdHVkZSBvZiB0aGUgZGlzdGFuY2UgdmVjdG9yXG4gICAgICAgIG1pbk1hZ25pdHVkZSwgbWF4TWFnbml0dWRlLCBtaW5Sb3RhdGlvbiwgbWF4Um90YXRpb24pOyAvLyBMZXQncyBtYWtlIGl0IG1vcmUgaW50ZXJlc3RpbmcgYW5kIGVhc2Ugb3V0IHRoZSByb3RhdGlvbiBwZXIgZnJhbWUuXG5cbiAgICAgICAgX3RoaXMyLmZsb3dlci5yb3RhdG9uID0gbWF0aGYuZWFzZShfdGhpczIuZmxvd2VyLnJvdGF0aW9uLCByb3RhdGlvbiwgMC4wOCwgRUFTRS5saW5lYXIpO1xuICAgICAgICBfdGhpczIuZmxvd2VyLnJvdGF0aW9uICs9IHJvdGF0aW9uO1xuICAgICAgICBjb25zb2xlLmxvZyhfdGhpczIuZmxvd2VyLnZlbG9jaXR5Lm1hZ25pdHVkZSgpLCBfdGhpczIuZmxvd2VyLmFjY2VsZXJhdGlvbi5tYWduaXR1ZGUoKSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuWC5zdGFydCgpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBYU2FtcGxlO1xufSgpO1xuXG5leHBvcnQgeyBYU2FtcGxlIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./examples/x.js\n");

/***/ }),

/***/ "./examples/x2.js":
/*!************************!*\
  !*** ./examples/x2.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return X2Sample; });\n/* harmony import */ var _lib_x_x__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/x/x */ \"./lib/x/x.js\");\n/* harmony import */ var _lib_x_x_game_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/x/x-game-object */ \"./lib/x/x-game-object.js\");\n/* harmony import */ var _lib_x_x_line__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/x/x-line */ \"./lib/x/x-line.js\");\n/* harmony import */ var _lib_x_x_rectangle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/x/x-rectangle */ \"./lib/x/x-rectangle.js\");\n/* harmony import */ var _lib_x_x_stage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/x/x-stage */ \"./lib/x/x-stage.js\");\n/* harmony import */ var _lib_x_x_texture__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/x/x-texture */ \"./lib/x/x-texture.js\");\n/* harmony import */ var _lib_x_x_text__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/x/x-text */ \"./lib/x/x-text.js\");\n/* harmony import */ var _lib_loader_image_loader__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/loader/image-loader */ \"./lib/loader/image-loader.js\");\n/* harmony import */ var _lib_mathf_vector__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/mathf/vector */ \"./lib/mathf/vector.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\n\n/**\n *\n * This is the an example of accelerating an XGameObject towards the\n * mouse position.\n *\n * Each XGameObject, has the following:\n * positon - vector\n * velocity - vector\n * acceleration - vector\n *\n *\n *\n *\n */\n\nvar X2Sample = /*#__PURE__*/function () {\n  function X2Sample() {\n    var _this = this;\n\n    _classCallCheck(this, X2Sample);\n\n    console.log('x2');\n    this.imageTextures = {};\n    var images = new _lib_loader_image_loader__WEBPACK_IMPORTED_MODULE_7__[\"ImageLoader\"](['./public/boy.png', './public/boy2.png', './public/boy3.png', './public/flower.jpg']).load().then(function (results) {\n      // Make textures out of the images.\n      Object.keys(results).forEach(function (key) {\n        _this.imageTextures[key] = new _lib_x_x_texture__WEBPACK_IMPORTED_MODULE_5__[\"XTexture\"](results[key]);\n      });\n\n      _this.startApp();\n    });\n  }\n\n  _createClass(X2Sample, [{\n    key: \"startApp\",\n    value: function startApp() {\n      var canvasElement = document.getElementById('mainCanvas');\n      this.X = new _lib_x_x__WEBPACK_IMPORTED_MODULE_0__[\"X\"]({\n        canvasElement: canvasElement,\n        debugMode: true\n      });\n      this.txt = new _lib_x_x_text__WEBPACK_IMPORTED_MODULE_6__[\"XText\"]({\n        x: 100,\n        y: 100,\n        text: 'Hello yoyoyo;yoyoyoyoyo'\n      });\n      this.X.stage.addChild(this.txt);\n      console.log(this.txt);\n      var rect = new _lib_x_x_rectangle__WEBPACK_IMPORTED_MODULE_3__[\"XRectangle\"]({\n        x: 900,\n        y: 500,\n        width: 100,\n        height: 150,\n        fillStyle: 'red'\n      });\n      this.X.stage.addChild(rect); // this.line = new XLine({\n      //     lineWidth: 10,\n      //     startX: 100,\n      //     startY: 100,\n      //     endX: 250,\n      //     endY: 250\n      // });\n\n      this.flower = new _lib_x_x_game_object__WEBPACK_IMPORTED_MODULE_1__[\"XGameObject\"]({\n        id: 'flower',\n        x: 250,\n        y: 250,\n        anchorX: 0.5,\n        anchorY: 0.5,\n        scaleX: 1,\n        scaleY: 1,\n        rotation: 1.5,\n        interactable: true,\n        onMouseDown: function onMouseDown(gameObject) {\n          console.log(gameObject); // gameObject.acceleration.add(Vector.ONE);\n          // console.table(gameObject.globalComputedBox);\n          // console.log('wh', gameObject.width, gameObject.height);\n          // console.log('gx', gameObject.gx, gameObject.gy);\n          // console.log('gcx', gameObject.gcx, gameObject.gcy);\n          // console.table({\n          //     anchor: gameObject.anchorX + ' ' + gameObject.anchorY,\n          //     width: gameObject.width,\n          //     height: gameObject.height,\n          //     x: gameObject.x,\n          //     y: gameObject.y,\n          //     box: gameObject.globalComputedBox,\n          //     parentX: gameObject.parent.x,\n          //     parentY: gameObject.parent.y,\n          //     gx: gameObject.gx,\n          //     gy: gameObject.gy,\n          // });\n        },\n        texture: this.imageTextures['./public/flower.jpg']\n      }); // this.test.debug = true;\n\n      this.X.stage.addChild(this.flower);\n      this.X.onTick(function () {});\n      this.X.start();\n    }\n  }]);\n\n  return X2Sample;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlcy94Mi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4YW1wbGVzL3gyLmpzP2U3ODAiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5pbXBvcnQgeyBYIH0gZnJvbSAnLi4vbGliL3gveCc7XG5pbXBvcnQgeyBYR2FtZU9iamVjdCB9IGZyb20gJy4uL2xpYi94L3gtZ2FtZS1vYmplY3QnO1xuaW1wb3J0IHsgWExpbmUgfSBmcm9tICcuLi9saWIveC94LWxpbmUnO1xuaW1wb3J0IHsgWFJlY3RhbmdsZSB9IGZyb20gJy4uL2xpYi94L3gtcmVjdGFuZ2xlJztcbmltcG9ydCB7IFhTdGFnZSB9IGZyb20gJy4uL2xpYi94L3gtc3RhZ2UnO1xuaW1wb3J0IHsgWFRleHR1cmUgfSBmcm9tICcuLi9saWIveC94LXRleHR1cmUnO1xuaW1wb3J0IHsgWFRleHQgfSBmcm9tICcuLi9saWIveC94LXRleHQnO1xuaW1wb3J0IHsgSW1hZ2VMb2FkZXIgfSBmcm9tICcuLi9saWIvbG9hZGVyL2ltYWdlLWxvYWRlcic7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuLi9saWIvbWF0aGYvdmVjdG9yJztcbi8qKlxuICpcbiAqIFRoaXMgaXMgdGhlIGFuIGV4YW1wbGUgb2YgYWNjZWxlcmF0aW5nIGFuIFhHYW1lT2JqZWN0IHRvd2FyZHMgdGhlXG4gKiBtb3VzZSBwb3NpdGlvbi5cbiAqXG4gKiBFYWNoIFhHYW1lT2JqZWN0LCBoYXMgdGhlIGZvbGxvd2luZzpcbiAqIHBvc2l0b24gLSB2ZWN0b3JcbiAqIHZlbG9jaXR5IC0gdmVjdG9yXG4gKiBhY2NlbGVyYXRpb24gLSB2ZWN0b3JcbiAqXG4gKlxuICpcbiAqXG4gKi9cblxudmFyIFgyU2FtcGxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gWDJTYW1wbGUoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBYMlNhbXBsZSk7XG5cbiAgICBjb25zb2xlLmxvZygneDInKTtcbiAgICB0aGlzLmltYWdlVGV4dHVyZXMgPSB7fTtcbiAgICB2YXIgaW1hZ2VzID0gbmV3IEltYWdlTG9hZGVyKFsnLi9wdWJsaWMvYm95LnBuZycsICcuL3B1YmxpYy9ib3kyLnBuZycsICcuL3B1YmxpYy9ib3kzLnBuZycsICcuL3B1YmxpYy9mbG93ZXIuanBnJ10pLmxvYWQoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAvLyBNYWtlIHRleHR1cmVzIG91dCBvZiB0aGUgaW1hZ2VzLlxuICAgICAgT2JqZWN0LmtleXMocmVzdWx0cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIF90aGlzLmltYWdlVGV4dHVyZXNba2V5XSA9IG5ldyBYVGV4dHVyZShyZXN1bHRzW2tleV0pO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLnN0YXJ0QXBwKCk7XG4gICAgfSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoWDJTYW1wbGUsIFt7XG4gICAga2V5OiBcInN0YXJ0QXBwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0QXBwKCkge1xuICAgICAgdmFyIGNhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbkNhbnZhcycpO1xuICAgICAgdGhpcy5YID0gbmV3IFgoe1xuICAgICAgICBjYW52YXNFbGVtZW50OiBjYW52YXNFbGVtZW50LFxuICAgICAgICBkZWJ1Z01vZGU6IHRydWVcbiAgICAgIH0pO1xuICAgICAgdGhpcy50eHQgPSBuZXcgWFRleHQoe1xuICAgICAgICB4OiAxMDAsXG4gICAgICAgIHk6IDEwMCxcbiAgICAgICAgdGV4dDogJ0hlbGxvIHlveW95bzt5b3lveW95b3lvJ1xuICAgICAgfSk7XG4gICAgICB0aGlzLlguc3RhZ2UuYWRkQ2hpbGQodGhpcy50eHQpO1xuICAgICAgY29uc29sZS5sb2codGhpcy50eHQpO1xuICAgICAgdmFyIHJlY3QgPSBuZXcgWFJlY3RhbmdsZSh7XG4gICAgICAgIHg6IDkwMCxcbiAgICAgICAgeTogNTAwLFxuICAgICAgICB3aWR0aDogMTAwLFxuICAgICAgICBoZWlnaHQ6IDE1MCxcbiAgICAgICAgZmlsbFN0eWxlOiAncmVkJ1xuICAgICAgfSk7XG4gICAgICB0aGlzLlguc3RhZ2UuYWRkQ2hpbGQocmVjdCk7IC8vIHRoaXMubGluZSA9IG5ldyBYTGluZSh7XG4gICAgICAvLyAgICAgbGluZVdpZHRoOiAxMCxcbiAgICAgIC8vICAgICBzdGFydFg6IDEwMCxcbiAgICAgIC8vICAgICBzdGFydFk6IDEwMCxcbiAgICAgIC8vICAgICBlbmRYOiAyNTAsXG4gICAgICAvLyAgICAgZW5kWTogMjUwXG4gICAgICAvLyB9KTtcblxuICAgICAgdGhpcy5mbG93ZXIgPSBuZXcgWEdhbWVPYmplY3Qoe1xuICAgICAgICBpZDogJ2Zsb3dlcicsXG4gICAgICAgIHg6IDI1MCxcbiAgICAgICAgeTogMjUwLFxuICAgICAgICBhbmNob3JYOiAwLjUsXG4gICAgICAgIGFuY2hvclk6IDAuNSxcbiAgICAgICAgc2NhbGVYOiAxLFxuICAgICAgICBzY2FsZVk6IDEsXG4gICAgICAgIHJvdGF0aW9uOiAxLjUsXG4gICAgICAgIGludGVyYWN0YWJsZTogdHJ1ZSxcbiAgICAgICAgb25Nb3VzZURvd246IGZ1bmN0aW9uIG9uTW91c2VEb3duKGdhbWVPYmplY3QpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhnYW1lT2JqZWN0KTsgLy8gZ2FtZU9iamVjdC5hY2NlbGVyYXRpb24uYWRkKFZlY3Rvci5PTkUpO1xuICAgICAgICAgIC8vIGNvbnNvbGUudGFibGUoZ2FtZU9iamVjdC5nbG9iYWxDb21wdXRlZEJveCk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ3doJywgZ2FtZU9iamVjdC53aWR0aCwgZ2FtZU9iamVjdC5oZWlnaHQpO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdneCcsIGdhbWVPYmplY3QuZ3gsIGdhbWVPYmplY3QuZ3kpO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdnY3gnLCBnYW1lT2JqZWN0LmdjeCwgZ2FtZU9iamVjdC5nY3kpO1xuICAgICAgICAgIC8vIGNvbnNvbGUudGFibGUoe1xuICAgICAgICAgIC8vICAgICBhbmNob3I6IGdhbWVPYmplY3QuYW5jaG9yWCArICcgJyArIGdhbWVPYmplY3QuYW5jaG9yWSxcbiAgICAgICAgICAvLyAgICAgd2lkdGg6IGdhbWVPYmplY3Qud2lkdGgsXG4gICAgICAgICAgLy8gICAgIGhlaWdodDogZ2FtZU9iamVjdC5oZWlnaHQsXG4gICAgICAgICAgLy8gICAgIHg6IGdhbWVPYmplY3QueCxcbiAgICAgICAgICAvLyAgICAgeTogZ2FtZU9iamVjdC55LFxuICAgICAgICAgIC8vICAgICBib3g6IGdhbWVPYmplY3QuZ2xvYmFsQ29tcHV0ZWRCb3gsXG4gICAgICAgICAgLy8gICAgIHBhcmVudFg6IGdhbWVPYmplY3QucGFyZW50LngsXG4gICAgICAgICAgLy8gICAgIHBhcmVudFk6IGdhbWVPYmplY3QucGFyZW50LnksXG4gICAgICAgICAgLy8gICAgIGd4OiBnYW1lT2JqZWN0Lmd4LFxuICAgICAgICAgIC8vICAgICBneTogZ2FtZU9iamVjdC5neSxcbiAgICAgICAgICAvLyB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdGV4dHVyZTogdGhpcy5pbWFnZVRleHR1cmVzWycuL3B1YmxpYy9mbG93ZXIuanBnJ11cbiAgICAgIH0pOyAvLyB0aGlzLnRlc3QuZGVidWcgPSB0cnVlO1xuXG4gICAgICB0aGlzLlguc3RhZ2UuYWRkQ2hpbGQodGhpcy5mbG93ZXIpO1xuICAgICAgdGhpcy5YLm9uVGljayhmdW5jdGlvbiAoKSB7fSk7XG4gICAgICB0aGlzLlguc3RhcnQoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gWDJTYW1wbGU7XG59KCk7XG5cbmV4cG9ydCB7IFgyU2FtcGxlIGFzIGRlZmF1bHQgfTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./examples/x2.js\n");

/***/ }),

/***/ "./lib/arrayf/arrayf.js":
/*!******************************!*\
  !*** ./lib/arrayf/arrayf.js ***!
  \******************************/
/*! exports provided: deepCopy, max, min, loopSlice, contains, arrayf */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deepCopy\", function() { return deepCopy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"max\", function() { return max; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"min\", function() { return min; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loopSlice\", function() { return loopSlice; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"contains\", function() { return contains; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayf\", function() { return arrayf; });\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/**\n * A export function class that helps with arrays.\n */\n\n/**\n * A deep copy that works with objects or arrays.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction deepCopy(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ninput\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n    let value, key;\n    if (typeof input !== 'object' || input === null) {\n        return input;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const output = Array.isArray(input) ? [] : {};\n    for (key in input) {\n        value = input[key];\n        output[key] =\n            typeof value === 'object' && value !== null ? deepCopy(value) : value;\n    }\n    return output;\n}\n/**\n * Return value from array that generates the highest return value when\n * passed as a parameter to the score function.\n *\n * Multiple score functions can be passed with later functions used only to\n * break ties for values returned from the previous score function.\n *\n * Example:\n * ```\n * const values = [{'a': 2, 'b': 3}, {'a': 1, 'b': 4}];\n * arrayf.max(values, (x) => x.a); // Returns {'a': 2, 'b': 3}\n * arrayf.max(values, (x) => x.b); // Returns {'a': 1, 'b': 4}\n * ```\n */\nfunction max(values, ...scoreFns) {\n    let maxValue = null;\n    let maxScore = Number.NEGATIVE_INFINITY;\n    const scoreFn = scoreFns[0];\n    values.forEach(value => {\n        const score = scoreFn(value);\n        if (maxScore < score) {\n            maxValue = value;\n            maxScore = score;\n        }\n        else if (maxScore === score && scoreFns.length > 1) {\n            let i = 1;\n            let tieBreaker = scoreFns[i];\n            while (i < scoreFns.length &&\n                tieBreaker(maxValue) === tieBreaker(value)) {\n                tieBreaker = scoreFns[i++];\n            }\n            if (tieBreaker(maxValue) < tieBreaker(value)) {\n                maxValue = value;\n            }\n        }\n    });\n    return maxValue;\n}\n/**\n * Return value from array that generates the lowest return value when\n * passed as a parameter to the score function.\n *\n * Multiple score functions can be passed with later functions used only to\n * break ties for values returned from the previous score function.\n *\n * Example:\n * ```\n * const values = [{'a': 2, 'b': 3}, {'a': 1, 'b': 4}];\n * arrayf.min(values, (x) => x.a); // Returns {'a': 1, 'b': 4}\n * arrayf.min(values, (x) => x.b); // Returns {'a': 2, 'b': 3}\n * ```\n */\nfunction min(values, ...scoreFns) {\n    return max(values, ...scoreFns.map(scoreFn => {\n        return (v) => -1 * scoreFn(v);\n    }));\n}\n/**\n * Operates as per the built in slice with the option to wrap around from\n * the end of the array to the start and vice versa. Can also slice in the\n * reverse direction if given a negative value for `direction`.\n * @param values\n * @param startIndex\n * @param rawEndIndex\n * @param direction\n */\nfunction loopSlice(values, startIndex, rawEndIndex, direction = 1) {\n    const result = [];\n    const length = values.length;\n    const increment = Math.sign(direction);\n    const endIndex = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"wrap\"](rawEndIndex, 0, length);\n    let index = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"wrap\"](startIndex, 0, length);\n    while (index !== endIndex) {\n        result.push(values[index]);\n        index = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"wrap\"](index + increment, 0, length);\n    }\n    return result;\n}\n/**\n * Determines if the given values contain the given value.\n * @param values\n * @param value\n */\nfunction contains(values, value) {\n    return values.indexOf(value) !== -1;\n}\nconst arrayf = {\n    deepCopy,\n    max,\n    min,\n    loopSlice,\n    contains,\n};\n//# sourceMappingURL=arrayf.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvYXJyYXlmL2FycmF5Zi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9hcnJheWYvYXJyYXlmLmpzP2IyNjQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBIGV4cG9ydCBmdW5jdGlvbiBjbGFzcyB0aGF0IGhlbHBzIHdpdGggYXJyYXlzLlxuICovXG5pbXBvcnQgKiBhcyBtYXRoZiBmcm9tICcuLi9tYXRoZi9tYXRoZic7XG4vKipcbiAqIEEgZGVlcCBjb3B5IHRoYXQgd29ya3Mgd2l0aCBvYmplY3RzIG9yIGFycmF5cy5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBmdW5jdGlvbiBkZWVwQ29weShcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5pbnB1dFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbikge1xuICAgIGxldCB2YWx1ZSwga2V5O1xuICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdvYmplY3QnIHx8IGlucHV0ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjb25zdCBvdXRwdXQgPSBBcnJheS5pc0FycmF5KGlucHV0KSA/IFtdIDoge307XG4gICAgZm9yIChrZXkgaW4gaW5wdXQpIHtcbiAgICAgICAgdmFsdWUgPSBpbnB1dFtrZXldO1xuICAgICAgICBvdXRwdXRba2V5XSA9XG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsID8gZGVlcENvcHkodmFsdWUpIDogdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG59XG4vKipcbiAqIFJldHVybiB2YWx1ZSBmcm9tIGFycmF5IHRoYXQgZ2VuZXJhdGVzIHRoZSBoaWdoZXN0IHJldHVybiB2YWx1ZSB3aGVuXG4gKiBwYXNzZWQgYXMgYSBwYXJhbWV0ZXIgdG8gdGhlIHNjb3JlIGZ1bmN0aW9uLlxuICpcbiAqIE11bHRpcGxlIHNjb3JlIGZ1bmN0aW9ucyBjYW4gYmUgcGFzc2VkIHdpdGggbGF0ZXIgZnVuY3Rpb25zIHVzZWQgb25seSB0b1xuICogYnJlYWsgdGllcyBmb3IgdmFsdWVzIHJldHVybmVkIGZyb20gdGhlIHByZXZpb3VzIHNjb3JlIGZ1bmN0aW9uLlxuICpcbiAqIEV4YW1wbGU6XG4gKiBgYGBcbiAqIGNvbnN0IHZhbHVlcyA9IFt7J2EnOiAyLCAnYic6IDN9LCB7J2EnOiAxLCAnYic6IDR9XTtcbiAqIGFycmF5Zi5tYXgodmFsdWVzLCAoeCkgPT4geC5hKTsgLy8gUmV0dXJucyB7J2EnOiAyLCAnYic6IDN9XG4gKiBhcnJheWYubWF4KHZhbHVlcywgKHgpID0+IHguYik7IC8vIFJldHVybnMgeydhJzogMSwgJ2InOiA0fVxuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXgodmFsdWVzLCAuLi5zY29yZUZucykge1xuICAgIGxldCBtYXhWYWx1ZSA9IG51bGw7XG4gICAgbGV0IG1heFNjb3JlID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuICAgIGNvbnN0IHNjb3JlRm4gPSBzY29yZUZuc1swXTtcbiAgICB2YWx1ZXMuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgIGNvbnN0IHNjb3JlID0gc2NvcmVGbih2YWx1ZSk7XG4gICAgICAgIGlmIChtYXhTY29yZSA8IHNjb3JlKSB7XG4gICAgICAgICAgICBtYXhWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgbWF4U2NvcmUgPSBzY29yZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXhTY29yZSA9PT0gc2NvcmUgJiYgc2NvcmVGbnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgbGV0IGkgPSAxO1xuICAgICAgICAgICAgbGV0IHRpZUJyZWFrZXIgPSBzY29yZUZuc1tpXTtcbiAgICAgICAgICAgIHdoaWxlIChpIDwgc2NvcmVGbnMubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgdGllQnJlYWtlcihtYXhWYWx1ZSkgPT09IHRpZUJyZWFrZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGllQnJlYWtlciA9IHNjb3JlRm5zW2krK107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGllQnJlYWtlcihtYXhWYWx1ZSkgPCB0aWVCcmVha2VyKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIG1heFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbWF4VmFsdWU7XG59XG4vKipcbiAqIFJldHVybiB2YWx1ZSBmcm9tIGFycmF5IHRoYXQgZ2VuZXJhdGVzIHRoZSBsb3dlc3QgcmV0dXJuIHZhbHVlIHdoZW5cbiAqIHBhc3NlZCBhcyBhIHBhcmFtZXRlciB0byB0aGUgc2NvcmUgZnVuY3Rpb24uXG4gKlxuICogTXVsdGlwbGUgc2NvcmUgZnVuY3Rpb25zIGNhbiBiZSBwYXNzZWQgd2l0aCBsYXRlciBmdW5jdGlvbnMgdXNlZCBvbmx5IHRvXG4gKiBicmVhayB0aWVzIGZvciB2YWx1ZXMgcmV0dXJuZWQgZnJvbSB0aGUgcHJldmlvdXMgc2NvcmUgZnVuY3Rpb24uXG4gKlxuICogRXhhbXBsZTpcbiAqIGBgYFxuICogY29uc3QgdmFsdWVzID0gW3snYSc6IDIsICdiJzogM30sIHsnYSc6IDEsICdiJzogNH1dO1xuICogYXJyYXlmLm1pbih2YWx1ZXMsICh4KSA9PiB4LmEpOyAvLyBSZXR1cm5zIHsnYSc6IDEsICdiJzogNH1cbiAqIGFycmF5Zi5taW4odmFsdWVzLCAoeCkgPT4geC5iKTsgLy8gUmV0dXJucyB7J2EnOiAyLCAnYic6IDN9XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1pbih2YWx1ZXMsIC4uLnNjb3JlRm5zKSB7XG4gICAgcmV0dXJuIG1heCh2YWx1ZXMsIC4uLnNjb3JlRm5zLm1hcChzY29yZUZuID0+IHtcbiAgICAgICAgcmV0dXJuICh2KSA9PiAtMSAqIHNjb3JlRm4odik7XG4gICAgfSkpO1xufVxuLyoqXG4gKiBPcGVyYXRlcyBhcyBwZXIgdGhlIGJ1aWx0IGluIHNsaWNlIHdpdGggdGhlIG9wdGlvbiB0byB3cmFwIGFyb3VuZCBmcm9tXG4gKiB0aGUgZW5kIG9mIHRoZSBhcnJheSB0byB0aGUgc3RhcnQgYW5kIHZpY2UgdmVyc2EuIENhbiBhbHNvIHNsaWNlIGluIHRoZVxuICogcmV2ZXJzZSBkaXJlY3Rpb24gaWYgZ2l2ZW4gYSBuZWdhdGl2ZSB2YWx1ZSBmb3IgYGRpcmVjdGlvbmAuXG4gKiBAcGFyYW0gdmFsdWVzXG4gKiBAcGFyYW0gc3RhcnRJbmRleFxuICogQHBhcmFtIHJhd0VuZEluZGV4XG4gKiBAcGFyYW0gZGlyZWN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb29wU2xpY2UodmFsdWVzLCBzdGFydEluZGV4LCByYXdFbmRJbmRleCwgZGlyZWN0aW9uID0gMSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGNvbnN0IGxlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG4gICAgY29uc3QgaW5jcmVtZW50ID0gTWF0aC5zaWduKGRpcmVjdGlvbik7XG4gICAgY29uc3QgZW5kSW5kZXggPSBtYXRoZi53cmFwKHJhd0VuZEluZGV4LCAwLCBsZW5ndGgpO1xuICAgIGxldCBpbmRleCA9IG1hdGhmLndyYXAoc3RhcnRJbmRleCwgMCwgbGVuZ3RoKTtcbiAgICB3aGlsZSAoaW5kZXggIT09IGVuZEluZGV4KSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlc1tpbmRleF0pO1xuICAgICAgICBpbmRleCA9IG1hdGhmLndyYXAoaW5kZXggKyBpbmNyZW1lbnQsIDAsIGxlbmd0aCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIGdpdmVuIHZhbHVlcyBjb250YWluIHRoZSBnaXZlbiB2YWx1ZS5cbiAqIEBwYXJhbSB2YWx1ZXNcbiAqIEBwYXJhbSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnModmFsdWVzLCB2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZXMuaW5kZXhPZih2YWx1ZSkgIT09IC0xO1xufVxuZXhwb3J0IGNvbnN0IGFycmF5ZiA9IHtcbiAgICBkZWVwQ29weSxcbiAgICBtYXgsXG4gICAgbWluLFxuICAgIGxvb3BTbGljZSxcbiAgICBjb250YWlucyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcnJheWYuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/arrayf/arrayf.js\n");

/***/ }),

/***/ "./lib/components/image.js":
/*!*********************************!*\
  !*** ./lib/components/image.js ***!
  \*********************************/
/*! exports provided: DeguImage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DeguImage\", function() { return DeguImage; });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/directives/if-defined.js */ \"./node_modules/lit/directives/if-defined.js\");\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators.js */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _func_func__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\n/* harmony import */ var _dom_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _dom_element_visibility__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dom/element-visibility */ \"./lib/dom/element-visibility.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\n\n\n\n/**\n *\n * # DeguImage Component.\n *\n *\n * Usage:\n *\n * ```ts\n * import { DeguImage} from '@blinkk/degu/lib/components/image';\n *\n * window.customElements.define('degu-image', DeguImage);\n * ```\n *\n * ```html\n * <degu-image src=\"xxx\" alt=\"\"></degu-image>\n * ```\n *\n * ```css\n *   degu-image {\n *      display: inline-block;\n *      line-height: 0;\n *       width: 100%;\n *   }\n *\n *   degu-image img {\n *     max-width: 100%;\n *     height: auto;\n *   }\n * ```\n *\n * ## Google Image Service Images - automatically autowidthed\n * DeguImage will automatically look at your image source and if it is google\n * image service like, apply autowidth where it fetches the right size image\n * based on your image render width.\n */\nclass DeguImage extends lit__WEBPACK_IMPORTED_MODULE_0__[\"LitElement\"] {\n    constructor() {\n        super();\n        /**\n         * When enabled prevents eager loading of images when they are already\n         * visible on the screen.\n         */\n        this.disableEager = false;\n        this.maxDpr = window.devicePixelRatio;\n        this.autoRenderWidth = 0;\n        this.loading = 'lazy';\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.watcher = new _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__[\"DomWatcher\"]();\n        this.googleParams = this.googleParams ? '-' + this.googleParams : '';\n        this.disableEager = this.getAttribute('disable-eager') === 'true';\n        this.isGoogleImage =\n            this.src &&\n                !this.src.includes('.svg') &&\n                this.src.startsWith('https://lh3.googleusercontent.com') &&\n                // Skip cases where a google image service parameter has already been\n                // appended.\n                !this.src.includes('=');\n        if (this.isGoogleImage) {\n            this.watcher.add({\n                element: this,\n                on: 'resize',\n                callback: _func_func__WEBPACK_IMPORTED_MODULE_4__[\"debounce\"](this.onResize.bind(this), 100),\n            });\n            this.onResize();\n        }\n        // One time element visibility check to see if this image is already\n        // on the screen in which case we don't use lazy image loading.\n        _dom_element_visibility__WEBPACK_IMPORTED_MODULE_6__[\"elementVisibility\"].inview(this, { threshold: 0 }, (element, changes, dispose) => {\n            if (changes.isIntersecting) {\n                const isPainted = !_dom_dom__WEBPACK_IMPORTED_MODULE_5__[\"isDisplayNoneWithAncestors\"](this);\n                if (isPainted && !this.disableEager) {\n                    this.loading = 'eager';\n                }\n            }\n            dispose();\n        });\n    }\n    onResize() {\n        // Calculate the width to the nearest 50 pixel.\n        // Example: 420 --> 450, 451 --> 500\n        const image = this.querySelector('img');\n        const width = Math.ceil(Math.max(this.offsetWidth, image ? image.offsetWidth : 0) / 50) * 50;\n        const height = Math.ceil(Math.max(this.offsetHeight, image ? image.offsetHeight : 0) / 50) * 50;\n        // Calculate the autowidth render size and take the historical maximum.\n        this.autoRenderWidth = Math.max(this.autoRenderWidth, Math.ceil(Math.max(width, height) *\n            (this.googleImageScalar || 1) *\n            Math.min(window.devicePixelRatio, this.maxDpr)));\n    }\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        this.watcher && this.watcher.dispose();\n    }\n    createRenderRoot() {\n        return this;\n    }\n    renderImage(src) {\n        return lit__WEBPACK_IMPORTED_MODULE_0__[\"html\"] `\n      <img\n        loading=\"${this.loading}\"\n        width=${Object(lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_1__[\"ifDefined\"])(this.aspectRatioWidth ? this.aspectRatioWidth : null)}\n        height=${Object(lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_1__[\"ifDefined\"])(this.aspectRatioHeight ? this.aspectRatioHeight : null)}\n        src=\"${src}\"\n        alt=\"${this.alt}\"\n      />\n    `;\n    }\n    render() {\n        return lit__WEBPACK_IMPORTED_MODULE_0__[\"html\"] `\n      ${this.isGoogleImage\n            ? this.autoRenderWidth === 0\n                ? lit__WEBPACK_IMPORTED_MODULE_0__[\"nothing\"]\n                : this.renderImage(this.src + `=rw-e365-w${this.autoRenderWidth}${this.googleParams}`)\n            : this.renderImage(this.src)}\n    `;\n    }\n}\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_2__[\"property\"])({ type: String, attribute: 'src' })\n], DeguImage.prototype, \"src\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_2__[\"property\"])({ type: String, attribute: 'alt' })\n], DeguImage.prototype, \"alt\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_2__[\"property\"])({ type: String, attribute: 'loading' })\n], DeguImage.prototype, \"loading\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_2__[\"property\"])({ type: String, attribute: 'width' })\n], DeguImage.prototype, \"aspectRatioWidth\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_2__[\"property\"])({ type: String, attribute: 'height' })\n], DeguImage.prototype, \"aspectRatioHeight\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_2__[\"property\"])({ type: String, attribute: 'google-params' })\n], DeguImage.prototype, \"googleParams\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_2__[\"property\"])({ type: Boolean, attribute: 'disable-eager' })\n], DeguImage.prototype, \"disableEager\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_2__[\"property\"])({ type: Number, attribute: 'max-dpr' })\n], DeguImage.prototype, \"maxDpr\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_2__[\"property\"])()\n], DeguImage.prototype, \"autoRenderWidth\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_2__[\"property\"])({ type: String, attribute: 'google-image-scalar' })\n], DeguImage.prototype, \"googleImageScalar\", void 0);\n//# sourceMappingURL=image.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvY29tcG9uZW50cy9pbWFnZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9jb21wb25lbnRzL2ltYWdlLmpzPzdhYzIiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCwgbm90aGluZyB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyBpZkRlZmluZWQgfSBmcm9tICdsaXQvZGlyZWN0aXZlcy9pZi1kZWZpbmVkLmpzJztcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2RvbS9kb20td2F0Y2hlcic7XG5pbXBvcnQgKiBhcyBmdW5jIGZyb20gJy4uL2Z1bmMvZnVuYyc7XG5pbXBvcnQgKiBhcyBkb20gZnJvbSAnLi4vZG9tL2RvbSc7XG5pbXBvcnQgeyBlbGVtZW50VmlzaWJpbGl0eSwgfSBmcm9tICcuLi9kb20vZWxlbWVudC12aXNpYmlsaXR5Jztcbi8qKlxuICpcbiAqICMgRGVndUltYWdlIENvbXBvbmVudC5cbiAqXG4gKlxuICogVXNhZ2U6XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IERlZ3VJbWFnZX0gZnJvbSAnQGJsaW5ray9kZWd1L2xpYi9jb21wb25lbnRzL2ltYWdlJztcbiAqXG4gKiB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdkZWd1LWltYWdlJywgRGVndUltYWdlKTtcbiAqIGBgYFxuICpcbiAqIGBgYGh0bWxcbiAqIDxkZWd1LWltYWdlIHNyYz1cInh4eFwiIGFsdD1cIlwiPjwvZGVndS1pbWFnZT5cbiAqIGBgYFxuICpcbiAqIGBgYGNzc1xuICogICBkZWd1LWltYWdlIHtcbiAqICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICogICAgICBsaW5lLWhlaWdodDogMDtcbiAqICAgICAgIHdpZHRoOiAxMDAlO1xuICogICB9XG4gKlxuICogICBkZWd1LWltYWdlIGltZyB7XG4gKiAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICogICAgIGhlaWdodDogYXV0bztcbiAqICAgfVxuICogYGBgXG4gKlxuICogIyMgR29vZ2xlIEltYWdlIFNlcnZpY2UgSW1hZ2VzIC0gYXV0b21hdGljYWxseSBhdXRvd2lkdGhlZFxuICogRGVndUltYWdlIHdpbGwgYXV0b21hdGljYWxseSBsb29rIGF0IHlvdXIgaW1hZ2Ugc291cmNlIGFuZCBpZiBpdCBpcyBnb29nbGVcbiAqIGltYWdlIHNlcnZpY2UgbGlrZSwgYXBwbHkgYXV0b3dpZHRoIHdoZXJlIGl0IGZldGNoZXMgdGhlIHJpZ2h0IHNpemUgaW1hZ2VcbiAqIGJhc2VkIG9uIHlvdXIgaW1hZ2UgcmVuZGVyIHdpZHRoLlxuICovXG5leHBvcnQgY2xhc3MgRGVndUltYWdlIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGVuYWJsZWQgcHJldmVudHMgZWFnZXIgbG9hZGluZyBvZiBpbWFnZXMgd2hlbiB0aGV5IGFyZSBhbHJlYWR5XG4gICAgICAgICAqIHZpc2libGUgb24gdGhlIHNjcmVlbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlzYWJsZUVhZ2VyID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWF4RHByID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIHRoaXMuYXV0b1JlbmRlcldpZHRoID0gMDtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gJ2xhenknO1xuICAgIH1cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgdGhpcy53YXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICAgICAgdGhpcy5nb29nbGVQYXJhbXMgPSB0aGlzLmdvb2dsZVBhcmFtcyA/ICctJyArIHRoaXMuZ29vZ2xlUGFyYW1zIDogJyc7XG4gICAgICAgIHRoaXMuZGlzYWJsZUVhZ2VyID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGUtZWFnZXInKSA9PT0gJ3RydWUnO1xuICAgICAgICB0aGlzLmlzR29vZ2xlSW1hZ2UgPVxuICAgICAgICAgICAgdGhpcy5zcmMgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5zcmMuaW5jbHVkZXMoJy5zdmcnKSAmJlxuICAgICAgICAgICAgICAgIHRoaXMuc3JjLnN0YXJ0c1dpdGgoJ2h0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbScpICYmXG4gICAgICAgICAgICAgICAgLy8gU2tpcCBjYXNlcyB3aGVyZSBhIGdvb2dsZSBpbWFnZSBzZXJ2aWNlIHBhcmFtZXRlciBoYXMgYWxyZWFkeSBiZWVuXG4gICAgICAgICAgICAgICAgLy8gYXBwZW5kZWQuXG4gICAgICAgICAgICAgICAgIXRoaXMuc3JjLmluY2x1ZGVzKCc9Jyk7XG4gICAgICAgIGlmICh0aGlzLmlzR29vZ2xlSW1hZ2UpIHtcbiAgICAgICAgICAgIHRoaXMud2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgb246ICdyZXNpemUnLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jLmRlYm91bmNlKHRoaXMub25SZXNpemUuYmluZCh0aGlzKSwgMTAwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9uZSB0aW1lIGVsZW1lbnQgdmlzaWJpbGl0eSBjaGVjayB0byBzZWUgaWYgdGhpcyBpbWFnZSBpcyBhbHJlYWR5XG4gICAgICAgIC8vIG9uIHRoZSBzY3JlZW4gaW4gd2hpY2ggY2FzZSB3ZSBkb24ndCB1c2UgbGF6eSBpbWFnZSBsb2FkaW5nLlxuICAgICAgICBlbGVtZW50VmlzaWJpbGl0eS5pbnZpZXcodGhpcywgeyB0aHJlc2hvbGQ6IDAgfSwgKGVsZW1lbnQsIGNoYW5nZXMsIGRpc3Bvc2UpID0+IHtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VzLmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNQYWludGVkID0gIWRvbS5pc0Rpc3BsYXlOb25lV2l0aEFuY2VzdG9ycyh0aGlzKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNQYWludGVkICYmICF0aGlzLmRpc2FibGVFYWdlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSAnZWFnZXInO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpc3Bvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uUmVzaXplKCkge1xuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHdpZHRoIHRvIHRoZSBuZWFyZXN0IDUwIHBpeGVsLlxuICAgICAgICAvLyBFeGFtcGxlOiA0MjAgLS0+IDQ1MCwgNDUxIC0tPiA1MDBcbiAgICAgICAgY29uc3QgaW1hZ2UgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpO1xuICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGguY2VpbChNYXRoLm1heCh0aGlzLm9mZnNldFdpZHRoLCBpbWFnZSA/IGltYWdlLm9mZnNldFdpZHRoIDogMCkgLyA1MCkgKiA1MDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5jZWlsKE1hdGgubWF4KHRoaXMub2Zmc2V0SGVpZ2h0LCBpbWFnZSA/IGltYWdlLm9mZnNldEhlaWdodCA6IDApIC8gNTApICogNTA7XG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgYXV0b3dpZHRoIHJlbmRlciBzaXplIGFuZCB0YWtlIHRoZSBoaXN0b3JpY2FsIG1heGltdW0uXG4gICAgICAgIHRoaXMuYXV0b1JlbmRlcldpZHRoID0gTWF0aC5tYXgodGhpcy5hdXRvUmVuZGVyV2lkdGgsIE1hdGguY2VpbChNYXRoLm1heCh3aWR0aCwgaGVpZ2h0KSAqXG4gICAgICAgICAgICAodGhpcy5nb29nbGVJbWFnZVNjYWxhciB8fCAxKSAqXG4gICAgICAgICAgICBNYXRoLm1pbih3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywgdGhpcy5tYXhEcHIpKSk7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICB0aGlzLndhdGNoZXIgJiYgdGhpcy53YXRjaGVyLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgY3JlYXRlUmVuZGVyUm9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJlbmRlckltYWdlKHNyYykge1xuICAgICAgICByZXR1cm4gaHRtbCBgXG4gICAgICA8aW1nXG4gICAgICAgIGxvYWRpbmc9XCIke3RoaXMubG9hZGluZ31cIlxuICAgICAgICB3aWR0aD0ke2lmRGVmaW5lZCh0aGlzLmFzcGVjdFJhdGlvV2lkdGggPyB0aGlzLmFzcGVjdFJhdGlvV2lkdGggOiBudWxsKX1cbiAgICAgICAgaGVpZ2h0PSR7aWZEZWZpbmVkKHRoaXMuYXNwZWN0UmF0aW9IZWlnaHQgPyB0aGlzLmFzcGVjdFJhdGlvSGVpZ2h0IDogbnVsbCl9XG4gICAgICAgIHNyYz1cIiR7c3JjfVwiXG4gICAgICAgIGFsdD1cIiR7dGhpcy5hbHR9XCJcbiAgICAgIC8+XG4gICAgYDtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gaHRtbCBgXG4gICAgICAke3RoaXMuaXNHb29nbGVJbWFnZVxuICAgICAgICAgICAgPyB0aGlzLmF1dG9SZW5kZXJXaWR0aCA9PT0gMFxuICAgICAgICAgICAgICAgID8gbm90aGluZ1xuICAgICAgICAgICAgICAgIDogdGhpcy5yZW5kZXJJbWFnZSh0aGlzLnNyYyArIGA9cnctZTM2NS13JHt0aGlzLmF1dG9SZW5kZXJXaWR0aH0ke3RoaXMuZ29vZ2xlUGFyYW1zfWApXG4gICAgICAgICAgICA6IHRoaXMucmVuZGVySW1hZ2UodGhpcy5zcmMpfVxuICAgIGA7XG4gICAgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3NyYycgfSlcbl0sIERlZ3VJbWFnZS5wcm90b3R5cGUsIFwic3JjXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnYWx0JyB9KVxuXSwgRGVndUltYWdlLnByb3RvdHlwZSwgXCJhbHRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdsb2FkaW5nJyB9KVxuXSwgRGVndUltYWdlLnByb3RvdHlwZSwgXCJsb2FkaW5nXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnd2lkdGgnIH0pXG5dLCBEZWd1SW1hZ2UucHJvdG90eXBlLCBcImFzcGVjdFJhdGlvV2lkdGhcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdoZWlnaHQnIH0pXG5dLCBEZWd1SW1hZ2UucHJvdG90eXBlLCBcImFzcGVjdFJhdGlvSGVpZ2h0XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnZ29vZ2xlLXBhcmFtcycgfSlcbl0sIERlZ3VJbWFnZS5wcm90b3R5cGUsIFwiZ29vZ2xlUGFyYW1zXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogJ2Rpc2FibGUtZWFnZXInIH0pXG5dLCBEZWd1SW1hZ2UucHJvdG90eXBlLCBcImRpc2FibGVFYWdlclwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBOdW1iZXIsIGF0dHJpYnV0ZTogJ21heC1kcHInIH0pXG5dLCBEZWd1SW1hZ2UucHJvdG90eXBlLCBcIm1heERwclwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoKVxuXSwgRGVndUltYWdlLnByb3RvdHlwZSwgXCJhdXRvUmVuZGVyV2lkdGhcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdnb29nbGUtaW1hZ2Utc2NhbGFyJyB9KVxuXSwgRGVndUltYWdlLnByb3RvdHlwZSwgXCJnb29nbGVJbWFnZVNjYWxhclwiLCB2b2lkIDApO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1hZ2UuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/components/image.js\n");

/***/ }),

/***/ "./lib/components/video.js":
/*!*********************************!*\
  !*** ./lib/components/video.js ***!
  \*********************************/
/*! exports provided: DeguVideo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DeguVideo\", function() { return DeguVideo; });\n/* harmony import */ var _dom_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _func_func__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\n/* harmony import */ var _dom_element_visibility__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dom/element-visibility */ \"./lib/dom/element-visibility.js\");\n/* harmony import */ var _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var _raf_raf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _mathf_vector__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _dom_dom_canvas__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../dom/dom-canvas */ \"./lib/dom/dom-canvas.js\");\n/* harmony import */ var lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lit/directives/if-defined.js */ \"./node_modules/lit/directives/if-defined.js\");\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lit/decorators.js */ \"./node_modules/lit/decorators.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\n\n\n\n\n\n\n/**\n * Degu Video Component\n *\n * Usage:\n *\n * ```ts\n * import { DeguVideo} from '@blinkk/degu/lib/components/video';\n *\n * window.customElements.define('degu-video', DeguVideo);\n * ```\n *\n * ```html\n *   <degu-video\n *     src=\"https://storage.googleapis.com/mannequin/blobs/7b0c13d7-e9cc-4efa-93c1-9db323d7283b.mp4\"\n *     width=\"640\"\n *     height=\"640\"\n *     style=\"aspect-ratio: 1\"\n *     aria-label=\"Video Aria Label\"\n *     autoplayinview=\"true\"\n *     controls=\"true\"\n *   ></degu-video>\n * ```\n *\n * ```css\n *\n *   degu-video {\n *     display: inline-block;\n *     line-height: 0;\n *     width: 100%;\n *   }\n *\n *   degu-video .degu-video {\n *     position: relative;\n *   }\n *\n *    degu-video video {\n *        width: 100%;\n *    }\n *\n *    degu-video[canvas=\"true\"] video {\n *      visibility: hidden;\n *    }\n *\n *    degu-video canvas {\n *        width: 100%;\n *        position: absolute;\n *        height: 100%;\n *        top: 0;\n *        left: 0%;\n *        z-index: 1;\n *    }\n * ```\n *\n *\n * # Support for different video types, you can add comma separated sources.\n * ```html\n *   <degu-video>\n *     src=\"video.mp4, video.webm\"\n *     width=\"640\"\n *     height=\"640\"\n *     style=\"aspect-ratio: 1\"\n *     aria-label=\"Video Aria Label\"\n *     autoplayinview=\"true\"\n *     controls=\"true\"\n *   >\n * </degu-video>\n * ```\n */\nclass DeguVideo extends lit__WEBPACK_IMPORTED_MODULE_4__[\"LitElement\"] {\n    constructor() {\n        super(...arguments);\n        this.loadScalar = 2;\n        // Set `autoplayinview=\"true\" to play video on inview.\n        // Video gets reset on outview and plays again on the next inview.\n        this.autoplayInview = false;\n        this.hasStartedLoad = false;\n        this.hasLoaded = false;\n        this.canvasReady = false;\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.canvas = !!this.getAttribute('canvas');\n    }\n    firstUpdated() {\n        this.video = this.querySelector('video');\n        this.video.crossOrigin = 'Anonymous';\n        this.watcher = new _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__[\"DomWatcher\"]();\n        this.watcher.add({\n            element: this,\n            on: 'resize',\n            callback: _func_func__WEBPACK_IMPORTED_MODULE_1__[\"debounce\"](this.onResize.bind(this), 500),\n        });\n        this.watcher.add({\n            element: this,\n            on: DeguVideo.Events.FORCE_LOAD,\n            callback: () => {\n                this.runUpdate(true);\n            },\n        });\n        this.watcher.add({\n            element: this,\n            on: DeguVideo.Events.RUN_UPDATE,\n            callback: () => {\n                this.runUpdate();\n            },\n        });\n        this.ev = _dom_element_visibility__WEBPACK_IMPORTED_MODULE_2__[\"elementVisibility\"].inview(this.video, { rootMargin: window.innerHeight * this.loadScalar + 'px' }, () => this.runUpdate.bind(this));\n        this.inviewEv = _dom_element_visibility__WEBPACK_IMPORTED_MODULE_2__[\"elementVisibility\"].inview(this.video, {}, () => {\n            this.runUpdate();\n        });\n        // // If we are in range, try loading the video.\n        this.ev.readyPromise.then(() => {\n            this.runUpdate();\n        });\n        this.raf = new _raf_raf__WEBPACK_IMPORTED_MODULE_5__[\"Raf\"](this.onRaf.bind(this));\n        if (this.canvas && this.canvasElement) {\n            this.raf.start();\n        }\n    }\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        this.raf.dispose();\n        this.watcher && this.watcher.dispose();\n        this.ev && this.ev.dispose();\n        this.inviewEv && this.inviewEv.dispose();\n    }\n    onRaf() {\n        if (this.canvas && this.canvasElement) {\n            this.canvasElement\n                .getContext('2d')\n                .drawImage(this.videoElement, 0, 0, this.canvasElement.width, this.canvasElement.height);\n        }\n    }\n    /**\n     * Given that degu-video is using canvas mode, gets the hex value of the video\n     * at a given coordinate.\n     */\n    getHexColorAt(x, y, seconds = undefined) {\n        if (!this.canvas) {\n            throw new Error('Video must be set to canvas mode to extract color');\n        }\n        const timeBeforeStop = this.video.currentTime;\n        const isPlaying = _dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"testVideoIsPlaying\"](this.video);\n        if (seconds !== undefined) {\n            this.video.currentTime = seconds;\n        }\n        const v = new _mathf_vector__WEBPACK_IMPORTED_MODULE_6__[\"Vector\"](x, y);\n        const color = _dom_dom_canvas__WEBPACK_IMPORTED_MODULE_7__[\"domCanvas\"].getColorAtPointAsHex(this.canvasElement.getContext('2d'), v);\n        if (isPlaying) {\n            this.video.currentTime = timeBeforeStop;\n            this.play();\n        }\n        return color;\n    }\n    onResize() {\n        if (!this.hasStartedLoad) {\n            this.runUpdate();\n        }\n    }\n    /**\n     * Determines whether this element was painted (displayed on the screen). An\n     * element is \"painted\" if it doesn't have display: none in its ancestors and\n     * is in range of inview criteria.\n     */\n    isPainted() {\n        return !_dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"isDisplayNoneWithAncestors\"](this) && this.ev.state().inview;\n    }\n    updateCanvasSize() {\n        if (this.canvasElement) {\n            this.canvasElement.width = this.videoElement.offsetWidth;\n            this.canvasElement.height = this.videoElement.offsetHeight;\n        }\n    }\n    /**\n     * Given the video source adds HTML source elements to the video.\n     * src can be singlar or have multiple videos comma separated.\n     *\n     * For example:\n     * src=\"video.mp4, video.webm\"\n     * src=\"video.mp4\"\n     */\n    addVideoSources() {\n        let sources = this.src.split(',');\n        sources = sources.map(src => {\n            return src.trim();\n        });\n        for (const source of sources) {\n            if (!source || source === '') {\n                continue;\n            }\n            const sourceElement = document.createElement('source');\n            sourceElement.src = source;\n            const type = source.split('.').slice(-1)[0];\n            sourceElement.type = `video/${type.toLowerCase()}`;\n            this.video.appendChild(sourceElement);\n        }\n    }\n    runUpdate(force = false) {\n        // If the video hasn't been loaded yet.\n        if ((this.isPainted() && !this.hasStartedLoad) || force) {\n            this.hasStartedLoad = true;\n            this.addVideoSources();\n            _dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"whenVideosLoaded\"]([this.video]).then(() => {\n                this.hasLoaded = true;\n                this.updateCanvasSize();\n                _dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"event\"](this, DeguVideo.Events.LOAD_LOADED, {});\n                // Play the video if we opted to play on inview.\n                this.autoplayInview && this.play();\n                // Run onRaf once so the canvas is in sync with the video.\n                this.onRaf();\n                _dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"event\"](this, DeguVideo.Events.CANVAS_READY, {});\n                this.canvasReady = true;\n            });\n            // Tell the parent element (video) to load.\n            this.video.load();\n            this.video.setAttribute('load', 'true');\n            this.video.pause();\n            _dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"event\"](this, DeguVideo.Events.LOAD_START, {});\n        }\n        // If we have already loaded this, then reset the video on outview,\n        // replay on inview.\n        if (this.hasStartedLoad && this.autoplayInview) {\n            this.updateCanvasSize();\n            if (!this.isPainted() && !this.inviewEv.state().inview) {\n                this.reset();\n            }\n            else {\n                this.play();\n            }\n        }\n    }\n    /**\n     * Plays the video if it isn't already playing.\n     */\n    play() {\n        if (!_dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"testVideoIsPlaying\"](this.video)) {\n            const playPromise = this.video.play();\n            if (playPromise !== undefined) {\n                playPromise.then(() => { }).catch(() => { });\n            }\n        }\n    }\n    reset() {\n        this.video.currentTime = 0;\n        this.video.pause();\n    }\n    pause() {\n        this.video.pause();\n    }\n    createRenderRoot() {\n        return this;\n    }\n    renderVideo() {\n        return lit__WEBPACK_IMPORTED_MODULE_4__[\"html\"] `<video\n        ?loop=\"${this.loop}\"\n        aria-hidden=\"${Object(lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_8__[\"ifDefined\"])(this.ariaLabel ? true : null)}\"\n        disableRemotePlayback\n        muted\n        playsinline\n        controls=\"${Object(lit_directives_if_defined_js__WEBPACK_IMPORTED_MODULE_8__[\"ifDefined\"])(this.controls ? true : null)}\"\n      ></video>\n      ${this.canvas ? lit__WEBPACK_IMPORTED_MODULE_4__[\"html\"] `<canvas></canvas>` : ''} `;\n    }\n    /**\n     * If aria-label is set, the root gets role=\"img\" and the inner video\n     * should be hidden.\n     */\n    render() {\n        if (this.ariaLabel) {\n            this.setAttribute('role', 'img');\n        }\n        else {\n            this.removeAttribute('role');\n        }\n        return lit__WEBPACK_IMPORTED_MODULE_4__[\"html\"] `\n      ${this.canvas\n            ? lit__WEBPACK_IMPORTED_MODULE_4__[\"html\"] `<div class=\"degu-video\">${this.renderVideo()}</div>`\n            : this.renderVideo()}\n    `;\n    }\n}\nDeguVideo.CmsOptions = {\n    LOOP: 'loop',\n    CONTROLS: 'controls',\n};\nDeguVideo.Events = {\n    LOAD_START: 'LOAD_START',\n    LOAD_LOADED: 'LOAD_LOADED',\n    FORCE_LOAD: 'FORCE_LOAD',\n    RUN_UPDATE: 'RUN_UPDATE',\n    CANVAS_READY: 'CANVAS_READY',\n};\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_9__[\"property\"])({ type: String, attribute: 'src' })\n], DeguVideo.prototype, \"src\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_9__[\"property\"])({ type: String, attribute: 'aria-label' })\n], DeguVideo.prototype, \"ariaLabel\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_9__[\"property\"])({ type: String, attribute: 'width' })\n], DeguVideo.prototype, \"width\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_9__[\"property\"])({ type: String, attribute: 'height' })\n], DeguVideo.prototype, \"height\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_9__[\"property\"])({ type: String, attribute: 'load-scalar' })\n], DeguVideo.prototype, \"loadScalar\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_9__[\"property\"])({ type: Boolean, attribute: 'autoplayinview' })\n], DeguVideo.prototype, \"autoplayInview\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_9__[\"property\"])({ type: Boolean, attribute: 'loop' })\n], DeguVideo.prototype, \"loop\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_9__[\"property\"])({ type: Boolean, attribute: 'controls' })\n], DeguVideo.prototype, \"controls\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_9__[\"property\"])({ type: Boolean, attribute: 'canvas' })\n], DeguVideo.prototype, \"canvas\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_9__[\"query\"])('canvas')\n], DeguVideo.prototype, \"canvasElement\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_9__[\"query\"])('video')\n], DeguVideo.prototype, \"videoElement\", void 0);\n//# sourceMappingURL=video.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvY29tcG9uZW50cy92aWRlby5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9jb21wb25lbnRzL3ZpZGVvLmpzPzI0YWUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0ICogYXMgZG9tIGZyb20gJy4uL2RvbS9kb20nO1xuaW1wb3J0ICogYXMgZnVuYyBmcm9tICcuLi9mdW5jL2Z1bmMnO1xuaW1wb3J0IHsgZWxlbWVudFZpc2liaWxpdHksIH0gZnJvbSAnLi4vZG9tL2VsZW1lbnQtdmlzaWJpbGl0eSc7XG5pbXBvcnQgeyBEb21XYXRjaGVyIH0gZnJvbSAnLi4vZG9tL2RvbS13YXRjaGVyJztcbmltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vcmFmL3JhZic7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuLi9tYXRoZi92ZWN0b3InO1xuaW1wb3J0IHsgZG9tQ2FudmFzIH0gZnJvbSAnLi4vZG9tL2RvbS1jYW52YXMnO1xuaW1wb3J0IHsgaWZEZWZpbmVkIH0gZnJvbSAnbGl0L2RpcmVjdGl2ZXMvaWYtZGVmaW5lZC5qcyc7XG5pbXBvcnQgeyBxdWVyeSwgcHJvcGVydHkgfSBmcm9tICdsaXQvZGVjb3JhdG9ycy5qcyc7XG4vKipcbiAqIERlZ3UgVmlkZW8gQ29tcG9uZW50XG4gKlxuICogVXNhZ2U6XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IERlZ3VWaWRlb30gZnJvbSAnQGJsaW5ray9kZWd1L2xpYi9jb21wb25lbnRzL3ZpZGVvJztcbiAqXG4gKiB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdkZWd1LXZpZGVvJywgRGVndVZpZGVvKTtcbiAqIGBgYFxuICpcbiAqIGBgYGh0bWxcbiAqICAgPGRlZ3UtdmlkZW9cbiAqICAgICBzcmM9XCJodHRwczovL3N0b3JhZ2UuZ29vZ2xlYXBpcy5jb20vbWFubmVxdWluL2Jsb2JzLzdiMGMxM2Q3LWU5Y2MtNGVmYS05M2MxLTlkYjMyM2Q3MjgzYi5tcDRcIlxuICogICAgIHdpZHRoPVwiNjQwXCJcbiAqICAgICBoZWlnaHQ9XCI2NDBcIlxuICogICAgIHN0eWxlPVwiYXNwZWN0LXJhdGlvOiAxXCJcbiAqICAgICBhcmlhLWxhYmVsPVwiVmlkZW8gQXJpYSBMYWJlbFwiXG4gKiAgICAgYXV0b3BsYXlpbnZpZXc9XCJ0cnVlXCJcbiAqICAgICBjb250cm9scz1cInRydWVcIlxuICogICA+PC9kZWd1LXZpZGVvPlxuICogYGBgXG4gKlxuICogYGBgY3NzXG4gKlxuICogICBkZWd1LXZpZGVvIHtcbiAqICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gKiAgICAgbGluZS1oZWlnaHQ6IDA7XG4gKiAgICAgd2lkdGg6IDEwMCU7XG4gKiAgIH1cbiAqXG4gKiAgIGRlZ3UtdmlkZW8gLmRlZ3UtdmlkZW8ge1xuICogICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAqICAgfVxuICpcbiAqICAgIGRlZ3UtdmlkZW8gdmlkZW8ge1xuICogICAgICAgIHdpZHRoOiAxMDAlO1xuICogICAgfVxuICpcbiAqICAgIGRlZ3UtdmlkZW9bY2FudmFzPVwidHJ1ZVwiXSB2aWRlbyB7XG4gKiAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAqICAgIH1cbiAqXG4gKiAgICBkZWd1LXZpZGVvIGNhbnZhcyB7XG4gKiAgICAgICAgd2lkdGg6IDEwMCU7XG4gKiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICogICAgICAgIGhlaWdodDogMTAwJTtcbiAqICAgICAgICB0b3A6IDA7XG4gKiAgICAgICAgbGVmdDogMCU7XG4gKiAgICAgICAgei1pbmRleDogMTtcbiAqICAgIH1cbiAqIGBgYFxuICpcbiAqXG4gKiAjIFN1cHBvcnQgZm9yIGRpZmZlcmVudCB2aWRlbyB0eXBlcywgeW91IGNhbiBhZGQgY29tbWEgc2VwYXJhdGVkIHNvdXJjZXMuXG4gKiBgYGBodG1sXG4gKiAgIDxkZWd1LXZpZGVvPlxuICogICAgIHNyYz1cInZpZGVvLm1wNCwgdmlkZW8ud2VibVwiXG4gKiAgICAgd2lkdGg9XCI2NDBcIlxuICogICAgIGhlaWdodD1cIjY0MFwiXG4gKiAgICAgc3R5bGU9XCJhc3BlY3QtcmF0aW86IDFcIlxuICogICAgIGFyaWEtbGFiZWw9XCJWaWRlbyBBcmlhIExhYmVsXCJcbiAqICAgICBhdXRvcGxheWludmlldz1cInRydWVcIlxuICogICAgIGNvbnRyb2xzPVwidHJ1ZVwiXG4gKiAgID5cbiAqIDwvZGVndS12aWRlbz5cbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgRGVndVZpZGVvIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubG9hZFNjYWxhciA9IDI7XG4gICAgICAgIC8vIFNldCBgYXV0b3BsYXlpbnZpZXc9XCJ0cnVlXCIgdG8gcGxheSB2aWRlbyBvbiBpbnZpZXcuXG4gICAgICAgIC8vIFZpZGVvIGdldHMgcmVzZXQgb24gb3V0dmlldyBhbmQgcGxheXMgYWdhaW4gb24gdGhlIG5leHQgaW52aWV3LlxuICAgICAgICB0aGlzLmF1dG9wbGF5SW52aWV3ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFzU3RhcnRlZExvYWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNMb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYW52YXNSZWFkeSA9IGZhbHNlO1xuICAgIH1cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgdGhpcy5jYW52YXMgPSAhIXRoaXMuZ2V0QXR0cmlidXRlKCdjYW52YXMnKTtcbiAgICB9XG4gICAgZmlyc3RVcGRhdGVkKCkge1xuICAgICAgICB0aGlzLnZpZGVvID0gdGhpcy5xdWVyeVNlbGVjdG9yKCd2aWRlbycpO1xuICAgICAgICB0aGlzLnZpZGVvLmNyb3NzT3JpZ2luID0gJ0Fub255bW91cyc7XG4gICAgICAgIHRoaXMud2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgICAgIHRoaXMud2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgZWxlbWVudDogdGhpcyxcbiAgICAgICAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jLmRlYm91bmNlKHRoaXMub25SZXNpemUuYmluZCh0aGlzKSwgNTAwKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgZWxlbWVudDogdGhpcyxcbiAgICAgICAgICAgIG9uOiBEZWd1VmlkZW8uRXZlbnRzLkZPUkNFX0xPQUQsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucnVuVXBkYXRlKHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgZWxlbWVudDogdGhpcyxcbiAgICAgICAgICAgIG9uOiBEZWd1VmlkZW8uRXZlbnRzLlJVTl9VUERBVEUsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucnVuVXBkYXRlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5ldiA9IGVsZW1lbnRWaXNpYmlsaXR5Lmludmlldyh0aGlzLnZpZGVvLCB7IHJvb3RNYXJnaW46IHdpbmRvdy5pbm5lckhlaWdodCAqIHRoaXMubG9hZFNjYWxhciArICdweCcgfSwgKCkgPT4gdGhpcy5ydW5VcGRhdGUuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuaW52aWV3RXYgPSBlbGVtZW50VmlzaWJpbGl0eS5pbnZpZXcodGhpcy52aWRlbywge30sICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucnVuVXBkYXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyAvLyBJZiB3ZSBhcmUgaW4gcmFuZ2UsIHRyeSBsb2FkaW5nIHRoZSB2aWRlby5cbiAgICAgICAgdGhpcy5ldi5yZWFkeVByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJ1blVwZGF0ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yYWYgPSBuZXcgUmFmKHRoaXMub25SYWYuYmluZCh0aGlzKSk7XG4gICAgICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIHRoaXMucmFmLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy53YXRjaGVyICYmIHRoaXMud2F0Y2hlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuZXYgJiYgdGhpcy5ldi5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuaW52aWV3RXYgJiYgdGhpcy5pbnZpZXdFdi5kaXNwb3NlKCk7XG4gICAgfVxuICAgIG9uUmFmKCkge1xuICAgICAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXNFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnRcbiAgICAgICAgICAgICAgICAuZ2V0Q29udGV4dCgnMmQnKVxuICAgICAgICAgICAgICAgIC5kcmF3SW1hZ2UodGhpcy52aWRlb0VsZW1lbnQsIDAsIDAsIHRoaXMuY2FudmFzRWxlbWVudC53aWR0aCwgdGhpcy5jYW52YXNFbGVtZW50LmhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2l2ZW4gdGhhdCBkZWd1LXZpZGVvIGlzIHVzaW5nIGNhbnZhcyBtb2RlLCBnZXRzIHRoZSBoZXggdmFsdWUgb2YgdGhlIHZpZGVvXG4gICAgICogYXQgYSBnaXZlbiBjb29yZGluYXRlLlxuICAgICAqL1xuICAgIGdldEhleENvbG9yQXQoeCwgeSwgc2Vjb25kcyA9IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZpZGVvIG11c3QgYmUgc2V0IHRvIGNhbnZhcyBtb2RlIHRvIGV4dHJhY3QgY29sb3InKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0aW1lQmVmb3JlU3RvcCA9IHRoaXMudmlkZW8uY3VycmVudFRpbWU7XG4gICAgICAgIGNvbnN0IGlzUGxheWluZyA9IGRvbS50ZXN0VmlkZW9Jc1BsYXlpbmcodGhpcy52aWRlbyk7XG4gICAgICAgIGlmIChzZWNvbmRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMudmlkZW8uY3VycmVudFRpbWUgPSBzZWNvbmRzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHYgPSBuZXcgVmVjdG9yKHgsIHkpO1xuICAgICAgICBjb25zdCBjb2xvciA9IGRvbUNhbnZhcy5nZXRDb2xvckF0UG9pbnRBc0hleCh0aGlzLmNhbnZhc0VsZW1lbnQuZ2V0Q29udGV4dCgnMmQnKSwgdik7XG4gICAgICAgIGlmIChpc1BsYXlpbmcpIHtcbiAgICAgICAgICAgIHRoaXMudmlkZW8uY3VycmVudFRpbWUgPSB0aW1lQmVmb3JlU3RvcDtcbiAgICAgICAgICAgIHRoaXMucGxheSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG4gICAgb25SZXNpemUoKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNTdGFydGVkTG9hZCkge1xuICAgICAgICAgICAgdGhpcy5ydW5VcGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhpcyBlbGVtZW50IHdhcyBwYWludGVkIChkaXNwbGF5ZWQgb24gdGhlIHNjcmVlbikuIEFuXG4gICAgICogZWxlbWVudCBpcyBcInBhaW50ZWRcIiBpZiBpdCBkb2Vzbid0IGhhdmUgZGlzcGxheTogbm9uZSBpbiBpdHMgYW5jZXN0b3JzIGFuZFxuICAgICAqIGlzIGluIHJhbmdlIG9mIGludmlldyBjcml0ZXJpYS5cbiAgICAgKi9cbiAgICBpc1BhaW50ZWQoKSB7XG4gICAgICAgIHJldHVybiAhZG9tLmlzRGlzcGxheU5vbmVXaXRoQW5jZXN0b3JzKHRoaXMpICYmIHRoaXMuZXYuc3RhdGUoKS5pbnZpZXc7XG4gICAgfVxuICAgIHVwZGF0ZUNhbnZhc1NpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC53aWR0aCA9IHRoaXMudmlkZW9FbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50LmhlaWdodCA9IHRoaXMudmlkZW9FbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHaXZlbiB0aGUgdmlkZW8gc291cmNlIGFkZHMgSFRNTCBzb3VyY2UgZWxlbWVudHMgdG8gdGhlIHZpZGVvLlxuICAgICAqIHNyYyBjYW4gYmUgc2luZ2xhciBvciBoYXZlIG11bHRpcGxlIHZpZGVvcyBjb21tYSBzZXBhcmF0ZWQuXG4gICAgICpcbiAgICAgKiBGb3IgZXhhbXBsZTpcbiAgICAgKiBzcmM9XCJ2aWRlby5tcDQsIHZpZGVvLndlYm1cIlxuICAgICAqIHNyYz1cInZpZGVvLm1wNFwiXG4gICAgICovXG4gICAgYWRkVmlkZW9Tb3VyY2VzKCkge1xuICAgICAgICBsZXQgc291cmNlcyA9IHRoaXMuc3JjLnNwbGl0KCcsJyk7XG4gICAgICAgIHNvdXJjZXMgPSBzb3VyY2VzLm1hcChzcmMgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHNyYy50cmltKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGNvbnN0IHNvdXJjZSBvZiBzb3VyY2VzKSB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZSB8fCBzb3VyY2UgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG4gICAgICAgICAgICBzb3VyY2VFbGVtZW50LnNyYyA9IHNvdXJjZTtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBzb3VyY2Uuc3BsaXQoJy4nKS5zbGljZSgtMSlbMF07XG4gICAgICAgICAgICBzb3VyY2VFbGVtZW50LnR5cGUgPSBgdmlkZW8vJHt0eXBlLnRvTG93ZXJDYXNlKCl9YDtcbiAgICAgICAgICAgIHRoaXMudmlkZW8uYXBwZW5kQ2hpbGQoc291cmNlRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcnVuVXBkYXRlKGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgLy8gSWYgdGhlIHZpZGVvIGhhc24ndCBiZWVuIGxvYWRlZCB5ZXQuXG4gICAgICAgIGlmICgodGhpcy5pc1BhaW50ZWQoKSAmJiAhdGhpcy5oYXNTdGFydGVkTG9hZCkgfHwgZm9yY2UpIHtcbiAgICAgICAgICAgIHRoaXMuaGFzU3RhcnRlZExvYWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5hZGRWaWRlb1NvdXJjZXMoKTtcbiAgICAgICAgICAgIGRvbS53aGVuVmlkZW9zTG9hZGVkKFt0aGlzLnZpZGVvXSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ2FudmFzU2l6ZSgpO1xuICAgICAgICAgICAgICAgIGRvbS5ldmVudCh0aGlzLCBEZWd1VmlkZW8uRXZlbnRzLkxPQURfTE9BREVELCB7fSk7XG4gICAgICAgICAgICAgICAgLy8gUGxheSB0aGUgdmlkZW8gaWYgd2Ugb3B0ZWQgdG8gcGxheSBvbiBpbnZpZXcuXG4gICAgICAgICAgICAgICAgdGhpcy5hdXRvcGxheUludmlldyAmJiB0aGlzLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAvLyBSdW4gb25SYWYgb25jZSBzbyB0aGUgY2FudmFzIGlzIGluIHN5bmMgd2l0aCB0aGUgdmlkZW8uXG4gICAgICAgICAgICAgICAgdGhpcy5vblJhZigpO1xuICAgICAgICAgICAgICAgIGRvbS5ldmVudCh0aGlzLCBEZWd1VmlkZW8uRXZlbnRzLkNBTlZBU19SRUFEWSwge30pO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzUmVhZHkgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBUZWxsIHRoZSBwYXJlbnQgZWxlbWVudCAodmlkZW8pIHRvIGxvYWQuXG4gICAgICAgICAgICB0aGlzLnZpZGVvLmxvYWQoKTtcbiAgICAgICAgICAgIHRoaXMudmlkZW8uc2V0QXR0cmlidXRlKCdsb2FkJywgJ3RydWUnKTtcbiAgICAgICAgICAgIHRoaXMudmlkZW8ucGF1c2UoKTtcbiAgICAgICAgICAgIGRvbS5ldmVudCh0aGlzLCBEZWd1VmlkZW8uRXZlbnRzLkxPQURfU1RBUlQsIHt9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSBoYXZlIGFscmVhZHkgbG9hZGVkIHRoaXMsIHRoZW4gcmVzZXQgdGhlIHZpZGVvIG9uIG91dHZpZXcsXG4gICAgICAgIC8vIHJlcGxheSBvbiBpbnZpZXcuXG4gICAgICAgIGlmICh0aGlzLmhhc1N0YXJ0ZWRMb2FkICYmIHRoaXMuYXV0b3BsYXlJbnZpZXcpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ2FudmFzU2l6ZSgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUGFpbnRlZCgpICYmICF0aGlzLmludmlld0V2LnN0YXRlKCkuaW52aWV3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUGxheXMgdGhlIHZpZGVvIGlmIGl0IGlzbid0IGFscmVhZHkgcGxheWluZy5cbiAgICAgKi9cbiAgICBwbGF5KCkge1xuICAgICAgICBpZiAoIWRvbS50ZXN0VmlkZW9Jc1BsYXlpbmcodGhpcy52aWRlbykpIHtcbiAgICAgICAgICAgIGNvbnN0IHBsYXlQcm9taXNlID0gdGhpcy52aWRlby5wbGF5KCk7XG4gICAgICAgICAgICBpZiAocGxheVByb21pc2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBsYXlQcm9taXNlLnRoZW4oKCkgPT4geyB9KS5jYXRjaCgoKSA9PiB7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnZpZGVvLmN1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgdGhpcy52aWRlby5wYXVzZSgpO1xuICAgIH1cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgdGhpcy52aWRlby5wYXVzZSgpO1xuICAgIH1cbiAgICBjcmVhdGVSZW5kZXJSb290KCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVuZGVyVmlkZW8oKSB7XG4gICAgICAgIHJldHVybiBodG1sIGA8dmlkZW9cbiAgICAgICAgP2xvb3A9XCIke3RoaXMubG9vcH1cIlxuICAgICAgICBhcmlhLWhpZGRlbj1cIiR7aWZEZWZpbmVkKHRoaXMuYXJpYUxhYmVsID8gdHJ1ZSA6IG51bGwpfVwiXG4gICAgICAgIGRpc2FibGVSZW1vdGVQbGF5YmFja1xuICAgICAgICBtdXRlZFxuICAgICAgICBwbGF5c2lubGluZVxuICAgICAgICBjb250cm9scz1cIiR7aWZEZWZpbmVkKHRoaXMuY29udHJvbHMgPyB0cnVlIDogbnVsbCl9XCJcbiAgICAgID48L3ZpZGVvPlxuICAgICAgJHt0aGlzLmNhbnZhcyA/IGh0bWwgYDxjYW52YXM+PC9jYW52YXM+YCA6ICcnfSBgO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiBhcmlhLWxhYmVsIGlzIHNldCwgdGhlIHJvb3QgZ2V0cyByb2xlPVwiaW1nXCIgYW5kIHRoZSBpbm5lciB2aWRlb1xuICAgICAqIHNob3VsZCBiZSBoaWRkZW4uXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5hcmlhTGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2ltZycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoJ3JvbGUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaHRtbCBgXG4gICAgICAke3RoaXMuY2FudmFzXG4gICAgICAgICAgICA/IGh0bWwgYDxkaXYgY2xhc3M9XCJkZWd1LXZpZGVvXCI+JHt0aGlzLnJlbmRlclZpZGVvKCl9PC9kaXY+YFxuICAgICAgICAgICAgOiB0aGlzLnJlbmRlclZpZGVvKCl9XG4gICAgYDtcbiAgICB9XG59XG5EZWd1VmlkZW8uQ21zT3B0aW9ucyA9IHtcbiAgICBMT09QOiAnbG9vcCcsXG4gICAgQ09OVFJPTFM6ICdjb250cm9scycsXG59O1xuRGVndVZpZGVvLkV2ZW50cyA9IHtcbiAgICBMT0FEX1NUQVJUOiAnTE9BRF9TVEFSVCcsXG4gICAgTE9BRF9MT0FERUQ6ICdMT0FEX0xPQURFRCcsXG4gICAgRk9SQ0VfTE9BRDogJ0ZPUkNFX0xPQUQnLFxuICAgIFJVTl9VUERBVEU6ICdSVU5fVVBEQVRFJyxcbiAgICBDQU5WQVNfUkVBRFk6ICdDQU5WQVNfUkVBRFknLFxufTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdzcmMnIH0pXG5dLCBEZWd1VmlkZW8ucHJvdG90eXBlLCBcInNyY1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2FyaWEtbGFiZWwnIH0pXG5dLCBEZWd1VmlkZW8ucHJvdG90eXBlLCBcImFyaWFMYWJlbFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3dpZHRoJyB9KVxuXSwgRGVndVZpZGVvLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2hlaWdodCcgfSlcbl0sIERlZ3VWaWRlby5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnbG9hZC1zY2FsYXInIH0pXG5dLCBEZWd1VmlkZW8ucHJvdG90eXBlLCBcImxvYWRTY2FsYXJcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiAnYXV0b3BsYXlpbnZpZXcnIH0pXG5dLCBEZWd1VmlkZW8ucHJvdG90eXBlLCBcImF1dG9wbGF5SW52aWV3XCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogJ2xvb3AnIH0pXG5dLCBEZWd1VmlkZW8ucHJvdG90eXBlLCBcImxvb3BcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiAnY29udHJvbHMnIH0pXG5dLCBEZWd1VmlkZW8ucHJvdG90eXBlLCBcImNvbnRyb2xzXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogJ2NhbnZhcycgfSlcbl0sIERlZ3VWaWRlby5wcm90b3R5cGUsIFwiY2FudmFzXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBxdWVyeSgnY2FudmFzJylcbl0sIERlZ3VWaWRlby5wcm90b3R5cGUsIFwiY2FudmFzRWxlbWVudFwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcXVlcnkoJ3ZpZGVvJylcbl0sIERlZ3VWaWRlby5wcm90b3R5cGUsIFwidmlkZW9FbGVtZW50XCIsIHZvaWQgMCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWRlby5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/components/video.js\n");

/***/ }),

/***/ "./lib/components/youtube-inline.js":
/*!******************************************!*\
  !*** ./lib/components/youtube-inline.js ***!
  \******************************************/
/*! exports provided: DeguYouTubeInline */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DeguYouTubeInline\", function() { return DeguYouTubeInline; });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/decorators.js */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _loader_script_loader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../loader/script-loader */ \"./lib/loader/script-loader.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\nconst YOUTUBE_IFRAME_API = 'https://www.youtube.com/iframe_api?trustedtypes=1';\nvar YoutubeInlineEvent;\n(function (YoutubeInlineEvent) {\n    YoutubeInlineEvent[\"STATE_CHANGE\"] = \"stateChange\";\n})(YoutubeInlineEvent || (YoutubeInlineEvent = {}));\n/**\n * # Degu Youtube Inline Component\n * Automatically adds an youtube iframe to your page.\n *\n * Usage:\n *\n * ```ts\n * import { DeguYouTubeInline} from '@blinkk/degu/lib/components/youtube-inline';\n *\n * window.customElements.define('degu-youtube-inline', DeguYouTubeInline);\n * ```\n *\n * ```html\n *  <degu-youtube-inline\n *    video-id=\"5qap5aO4i9A\"\n *    style=\"aspect-ratio: 16/9\"></degu-youtube-inline>\n * ```\n *\n *\n * Advanced Example:\n * Here is an example of programmatically updating the youtube video.\n *\n * ```html\n *  <degu-youtube-inline id=\"myVideo\"\n *    style=\"aspect-ratio: 16/9\"></degu-youtube-inline>\n *\n *   <button id=\"change-youtube-video\">Change Video</button>\n * ```\n *\n * ```ts\n * import { DeguYouTubeInline} from '@blinkk/degu/lib/components/youtube-inline';\n * window.customElements.define('degu-youtube-inline', DeguYouTubeInline);\n *\n *   // Initially load a video\n *   const youtubeInlineTest = document.getElementById('myVideo');\n *   youtubeInlineTest.load('t_cKM_JYtbs')\n *\n *    let index = 0;\n *    const youtubeIds = [\n *      '_tV5LEBDs7w',\n *      'hGIW2fDb0jg',\n *      '4pcNRDx6KrE',\n *      'UtWaBEn_x8c'\n *    ]\n *\n *    // On button clicks change the youtube video.\n *    document.getElementById('change-youtube-video').addEventListener('click', ()=> {\n *      index++;\n *      if(index >= youtubeIds.length - 1) {\n *        index = 0;\n *      }\n *      youtubeInlineTest.load(youtubeIds[index], true)\n *    })\n * ```\n *\n *\n * ### Custom Script Loaders\n * You can set your own custom script loader (subclass degu ScriptLoader)\n *\n * ```ts\n * import { DeguYouTubeInline} from '@blinkk/degu/lib/components/youtube-inline';\n * window.customElements.define('degu-youtube-inline', DeguYouTubeInline);\n * DeguYouTubeInline.scriptLoader = new MyLoader();\n * ```\n */\nclass DeguYouTubeInline extends lit__WEBPACK_IMPORTED_MODULE_0__[\"LitElement\"] {\n    constructor() {\n        super(...arguments);\n        this.enableJsApi = false;\n    }\n    connectedCallback() {\n        super.connectedCallback();\n    }\n    pause() {\n        this.player && this.player.pauseVideo && this.player.pauseVideo();\n    }\n    play() {\n        this.player && this.player.playVideo && this.player.playVideo();\n    }\n    /**\n     * Loads and attempt to play a youtube video.\n     *\n     * Note about tryPlay.\n     * This is an \"attempted play\".  Without prior browser interaction the video\n     * will only load and therefore, the playing is not guaranteed to work without\n     * prior interaction.  Defaults to false.\n     */\n    async load(videoId, tryPlay = false) {\n        this.videoId = videoId;\n        if (this.player) {\n            this.player.loadVideoById(this.videoId);\n            if (tryPlay) {\n                this.play();\n            }\n            else {\n                this.pause();\n            }\n            return;\n        }\n        await DeguYouTubeInline.scriptLoader.load(YOUTUBE_IFRAME_API + `&origin=${location.href}`, {\n            test: () => !!window.YT && window.YT['loaded'] === 1,\n        });\n        const config = {\n            autohide: 1,\n            autoplay: 0,\n            fs: 1,\n            modestbranding: 1,\n            rel: 0,\n            showinfo: 0,\n            iv_load_policy: 3,\n            enablejsapi: this.enableJsApi ? 1 : 0,\n            origin: location.href,\n        };\n        const playerVars = Object.assign({}, config);\n        const playerOptions = {\n            videoId: this.videoId,\n            playerVars: playerVars,\n            events: {\n                onReady: (e) => {\n                    this.player = e.target;\n                    if (tryPlay) {\n                        e.target.playVideo();\n                        this.play();\n                    }\n                    else {\n                        this.pause();\n                    }\n                },\n                onStateChange: (e) => {\n                    const event = new CustomEvent(YoutubeInlineEvent.STATE_CHANGE, {\n                        detail: {\n                            event: e,\n                        },\n                        bubbles: true,\n                        composed: true,\n                    });\n                    this.dispatchEvent(event);\n                },\n            },\n        };\n        new YT.Player(this.playerElement, playerOptions);\n    }\n    render() {\n        if (this.videoId) {\n            this.load(this.videoId);\n        }\n        return lit__WEBPACK_IMPORTED_MODULE_0__[\"html\"] `<div class=\"container\">\n      <div class=\"container__player\"></div>\n    </div>`;\n    }\n}\nDeguYouTubeInline.scriptLoader = new _loader_script_loader__WEBPACK_IMPORTED_MODULE_2__[\"ScriptLoader\"]();\nDeguYouTubeInline.styles = lit__WEBPACK_IMPORTED_MODULE_0__[\"css\"] `\n    :host {\n      height: 100%;\n      width: 100%;\n      display: block;\n    }\n    .container {\n      align-items: center;\n      cursor: pointer;\n      display: inline-flex;\n      justify-content: center;\n      position: relative;\n      width: 100%;\n      height: 100%;\n    }\n    .container__player {\n      bottom: 0;\n      height: 100%;\n      left: 0;\n      position: absolute;\n      right: 0;\n      top: 0;\n      width: 100%;\n      z-index: 1;\n    }\n  `;\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__[\"property\"])({ type: String, attribute: 'video-id', reflect: true })\n], DeguYouTubeInline.prototype, \"videoId\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__[\"property\"])({ type: Boolean, attribute: 'enable-js-api', reflect: true })\n], DeguYouTubeInline.prototype, \"enableJsApi\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__[\"query\"])('.container__player')\n], DeguYouTubeInline.prototype, \"playerElement\", void 0);\n//# sourceMappingURL=youtube-inline.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvY29tcG9uZW50cy95b3V0dWJlLWlubGluZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9jb21wb25lbnRzL3lvdXR1YmUtaW5saW5lLmpzPzlhMGYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgY3NzLCBodG1sIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IHF1ZXJ5LCBwcm9wZXJ0eSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IFNjcmlwdExvYWRlciB9IGZyb20gJy4uL2xvYWRlci9zY3JpcHQtbG9hZGVyJztcbmNvbnN0IFlPVVRVQkVfSUZSQU1FX0FQSSA9ICdodHRwczovL3d3dy55b3V0dWJlLmNvbS9pZnJhbWVfYXBpP3RydXN0ZWR0eXBlcz0xJztcbnZhciBZb3V0dWJlSW5saW5lRXZlbnQ7XG4oZnVuY3Rpb24gKFlvdXR1YmVJbmxpbmVFdmVudCkge1xuICAgIFlvdXR1YmVJbmxpbmVFdmVudFtcIlNUQVRFX0NIQU5HRVwiXSA9IFwic3RhdGVDaGFuZ2VcIjtcbn0pKFlvdXR1YmVJbmxpbmVFdmVudCB8fCAoWW91dHViZUlubGluZUV2ZW50ID0ge30pKTtcbi8qKlxuICogIyBEZWd1IFlvdXR1YmUgSW5saW5lIENvbXBvbmVudFxuICogQXV0b21hdGljYWxseSBhZGRzIGFuIHlvdXR1YmUgaWZyYW1lIHRvIHlvdXIgcGFnZS5cbiAqXG4gKiBVc2FnZTpcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgRGVndVlvdVR1YmVJbmxpbmV9IGZyb20gJ0BibGlua2svZGVndS9saWIvY29tcG9uZW50cy95b3V0dWJlLWlubGluZSc7XG4gKlxuICogd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnZGVndS15b3V0dWJlLWlubGluZScsIERlZ3VZb3VUdWJlSW5saW5lKTtcbiAqIGBgYFxuICpcbiAqIGBgYGh0bWxcbiAqICA8ZGVndS15b3V0dWJlLWlubGluZVxuICogICAgdmlkZW8taWQ9XCI1cWFwNWFPNGk5QVwiXG4gKiAgICBzdHlsZT1cImFzcGVjdC1yYXRpbzogMTYvOVwiPjwvZGVndS15b3V0dWJlLWlubGluZT5cbiAqIGBgYFxuICpcbiAqXG4gKiBBZHZhbmNlZCBFeGFtcGxlOlxuICogSGVyZSBpcyBhbiBleGFtcGxlIG9mIHByb2dyYW1tYXRpY2FsbHkgdXBkYXRpbmcgdGhlIHlvdXR1YmUgdmlkZW8uXG4gKlxuICogYGBgaHRtbFxuICogIDxkZWd1LXlvdXR1YmUtaW5saW5lIGlkPVwibXlWaWRlb1wiXG4gKiAgICBzdHlsZT1cImFzcGVjdC1yYXRpbzogMTYvOVwiPjwvZGVndS15b3V0dWJlLWlubGluZT5cbiAqXG4gKiAgIDxidXR0b24gaWQ9XCJjaGFuZ2UteW91dHViZS12aWRlb1wiPkNoYW5nZSBWaWRlbzwvYnV0dG9uPlxuICogYGBgXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IERlZ3VZb3VUdWJlSW5saW5lfSBmcm9tICdAYmxpbmtrL2RlZ3UvbGliL2NvbXBvbmVudHMveW91dHViZS1pbmxpbmUnO1xuICogd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnZGVndS15b3V0dWJlLWlubGluZScsIERlZ3VZb3VUdWJlSW5saW5lKTtcbiAqXG4gKiAgIC8vIEluaXRpYWxseSBsb2FkIGEgdmlkZW9cbiAqICAgY29uc3QgeW91dHViZUlubGluZVRlc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlWaWRlbycpO1xuICogICB5b3V0dWJlSW5saW5lVGVzdC5sb2FkKCd0X2NLTV9KWXRicycpXG4gKlxuICogICAgbGV0IGluZGV4ID0gMDtcbiAqICAgIGNvbnN0IHlvdXR1YmVJZHMgPSBbXG4gKiAgICAgICdfdFY1TEVCRHM3dycsXG4gKiAgICAgICdoR0lXMmZEYjBqZycsXG4gKiAgICAgICc0cGNOUkR4NktyRScsXG4gKiAgICAgICdVdFdhQkVuX3g4YydcbiAqICAgIF1cbiAqXG4gKiAgICAvLyBPbiBidXR0b24gY2xpY2tzIGNoYW5nZSB0aGUgeW91dHViZSB2aWRlby5cbiAqICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFuZ2UteW91dHViZS12aWRlbycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PiB7XG4gKiAgICAgIGluZGV4Kys7XG4gKiAgICAgIGlmKGluZGV4ID49IHlvdXR1YmVJZHMubGVuZ3RoIC0gMSkge1xuICogICAgICAgIGluZGV4ID0gMDtcbiAqICAgICAgfVxuICogICAgICB5b3V0dWJlSW5saW5lVGVzdC5sb2FkKHlvdXR1YmVJZHNbaW5kZXhdLCB0cnVlKVxuICogICAgfSlcbiAqIGBgYFxuICpcbiAqXG4gKiAjIyMgQ3VzdG9tIFNjcmlwdCBMb2FkZXJzXG4gKiBZb3UgY2FuIHNldCB5b3VyIG93biBjdXN0b20gc2NyaXB0IGxvYWRlciAoc3ViY2xhc3MgZGVndSBTY3JpcHRMb2FkZXIpXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IERlZ3VZb3VUdWJlSW5saW5lfSBmcm9tICdAYmxpbmtrL2RlZ3UvbGliL2NvbXBvbmVudHMveW91dHViZS1pbmxpbmUnO1xuICogd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnZGVndS15b3V0dWJlLWlubGluZScsIERlZ3VZb3VUdWJlSW5saW5lKTtcbiAqIERlZ3VZb3VUdWJlSW5saW5lLnNjcmlwdExvYWRlciA9IG5ldyBNeUxvYWRlcigpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWd1WW91VHViZUlubGluZSBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmVuYWJsZUpzQXBpID0gZmFsc2U7XG4gICAgfVxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIH1cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIgJiYgdGhpcy5wbGF5ZXIucGF1c2VWaWRlbyAmJiB0aGlzLnBsYXllci5wYXVzZVZpZGVvKCk7XG4gICAgfVxuICAgIHBsYXkoKSB7XG4gICAgICAgIHRoaXMucGxheWVyICYmIHRoaXMucGxheWVyLnBsYXlWaWRlbyAmJiB0aGlzLnBsYXllci5wbGF5VmlkZW8oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZHMgYW5kIGF0dGVtcHQgdG8gcGxheSBhIHlvdXR1YmUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBOb3RlIGFib3V0IHRyeVBsYXkuXG4gICAgICogVGhpcyBpcyBhbiBcImF0dGVtcHRlZCBwbGF5XCIuICBXaXRob3V0IHByaW9yIGJyb3dzZXIgaW50ZXJhY3Rpb24gdGhlIHZpZGVvXG4gICAgICogd2lsbCBvbmx5IGxvYWQgYW5kIHRoZXJlZm9yZSwgdGhlIHBsYXlpbmcgaXMgbm90IGd1YXJhbnRlZWQgdG8gd29yayB3aXRob3V0XG4gICAgICogcHJpb3IgaW50ZXJhY3Rpb24uICBEZWZhdWx0cyB0byBmYWxzZS5cbiAgICAgKi9cbiAgICBhc3luYyBsb2FkKHZpZGVvSWQsIHRyeVBsYXkgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLnZpZGVvSWQgPSB2aWRlb0lkO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmxvYWRWaWRlb0J5SWQodGhpcy52aWRlb0lkKTtcbiAgICAgICAgICAgIGlmICh0cnlQbGF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgRGVndVlvdVR1YmVJbmxpbmUuc2NyaXB0TG9hZGVyLmxvYWQoWU9VVFVCRV9JRlJBTUVfQVBJICsgYCZvcmlnaW49JHtsb2NhdGlvbi5ocmVmfWAsIHtcbiAgICAgICAgICAgIHRlc3Q6ICgpID0+ICEhd2luZG93LllUICYmIHdpbmRvdy5ZVFsnbG9hZGVkJ10gPT09IDEsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgICAgICBhdXRvaGlkZTogMSxcbiAgICAgICAgICAgIGF1dG9wbGF5OiAwLFxuICAgICAgICAgICAgZnM6IDEsXG4gICAgICAgICAgICBtb2Rlc3RicmFuZGluZzogMSxcbiAgICAgICAgICAgIHJlbDogMCxcbiAgICAgICAgICAgIHNob3dpbmZvOiAwLFxuICAgICAgICAgICAgaXZfbG9hZF9wb2xpY3k6IDMsXG4gICAgICAgICAgICBlbmFibGVqc2FwaTogdGhpcy5lbmFibGVKc0FwaSA/IDEgOiAwLFxuICAgICAgICAgICAgb3JpZ2luOiBsb2NhdGlvbi5ocmVmLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwbGF5ZXJWYXJzID0gT2JqZWN0LmFzc2lnbih7fSwgY29uZmlnKTtcbiAgICAgICAgY29uc3QgcGxheWVyT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHZpZGVvSWQ6IHRoaXMudmlkZW9JZCxcbiAgICAgICAgICAgIHBsYXllclZhcnM6IHBsYXllclZhcnMsXG4gICAgICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgICAgICBvblJlYWR5OiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllciA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJ5UGxheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQucGxheVZpZGVvKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25TdGF0ZUNoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoWW91dHViZUlubGluZUV2ZW50LlNUQVRFX0NIQU5HRSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvc2VkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgbmV3IFlULlBsYXllcih0aGlzLnBsYXllckVsZW1lbnQsIHBsYXllck9wdGlvbnMpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnZpZGVvSWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZCh0aGlzLnZpZGVvSWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBodG1sIGA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyX19wbGF5ZXJcIj48L2Rpdj5cbiAgICA8L2Rpdj5gO1xuICAgIH1cbn1cbkRlZ3VZb3VUdWJlSW5saW5lLnNjcmlwdExvYWRlciA9IG5ldyBTY3JpcHRMb2FkZXIoKTtcbkRlZ3VZb3VUdWJlSW5saW5lLnN0eWxlcyA9IGNzcyBgXG4gICAgOmhvc3Qge1xuICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICB9XG4gICAgLmNvbnRhaW5lciB7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgIH1cbiAgICAuY29udGFpbmVyX19wbGF5ZXIge1xuICAgICAgYm90dG9tOiAwO1xuICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgbGVmdDogMDtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHJpZ2h0OiAwO1xuICAgICAgdG9wOiAwO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICB6LWluZGV4OiAxO1xuICAgIH1cbiAgYDtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICd2aWRlby1pZCcsIHJlZmxlY3Q6IHRydWUgfSlcbl0sIERlZ3VZb3VUdWJlSW5saW5lLnByb3RvdHlwZSwgXCJ2aWRlb0lkXCIsIHZvaWQgMCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogJ2VuYWJsZS1qcy1hcGknLCByZWZsZWN0OiB0cnVlIH0pXG5dLCBEZWd1WW91VHViZUlubGluZS5wcm90b3R5cGUsIFwiZW5hYmxlSnNBcGlcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHF1ZXJ5KCcuY29udGFpbmVyX19wbGF5ZXInKVxuXSwgRGVndVlvdVR1YmVJbmxpbmUucHJvdG90eXBlLCBcInBsYXllckVsZW1lbnRcIiwgdm9pZCAwKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXlvdXR1YmUtaW5saW5lLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/components/youtube-inline.js\n");

/***/ }),

/***/ "./lib/components/youtube-modal.js":
/*!*****************************************!*\
  !*** ./lib/components/youtube-modal.js ***!
  \*****************************************/
/*! exports provided: DeguYouTubeModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DeguYouTubeModal\", function() { return DeguYouTubeModal; });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/decorators.js */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _dom_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _is_is__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\n\n/**\n * DeguYutubeModal wraps details-dialog-element and degu-youtube-inline.\n *\n * https://github.com/github/details-dialog-element\n * https://github.com/github/details-dialog-element/blob/main/src/index.ts\n *\n * ```ts\n * import { DeguYouTubeModal} from '../lib/components/youtube-modal';\n * import DetailsDialogElement from '@github/details-dialog-element';\n *\n * window.customElements.define('degu-youtube-inline', DeguYouTubeInline);\n * window.customElements.define('degu-youtube-modal', DeguYouTubeModal);\n *\n * // Define a host.  When you register against a host, the component will\n * // look for any clicks within that host with the data attribute\n * // `youtube-modal=\"<youtube-id>\".\n * const myHost = document.body;\n * DeguYouTubeModal.register(myHost)\n * ```\n *\n * Now somewhere within your host, just add buttons or elements with the\n * attribute `youtube-modal`.\n *\n * ```html\n *   <button youtube-modal=\"8Qn_spdM5Zg\">Watch StarWars</button>\n *   <button youtube-modal=\"TcMBFSGVi1c\">Watch Avengers</button>\n * ```\n *\n */\nclass DeguYouTubeModal extends lit__WEBPACK_IMPORTED_MODULE_0__[\"LitElement\"] {\n    constructor(host) {\n        super();\n        this.hasFirstUpdateCompleted = false;\n        this.isOpen = false;\n        this.delegateDisposer = null;\n        this.host = host;\n        this.watcher = new _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_2__[\"DomWatcher\"]();\n        this.watcher.add({\n            element: this.host,\n            on: 'keydown',\n            callback: (e) => {\n                if ((e.key === 'Enter' || e.code === 'Space') &&\n                    _dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"testDescendant\"](document.activeElement, this.host) &&\n                    document.activeElement.hasAttribute('youtube-modal')) {\n                    this.handleClick(document.activeElement);\n                }\n            },\n        });\n        this.delegateDisposer = _dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"addDelegatedListener\"](this.host, 'click', (el) => {\n            this.handleClick(el);\n        });\n    }\n    handleClick(el) {\n        const youtubeModalId = el.getAttribute('youtube-modal');\n        if (youtubeModalId) {\n            // If the clicked element has the attribute\n            // `youtube-modal-redirect-mobile` redirect the user to youtube\n            // instead of opening a modal.\n            const REDIRECT_ATTRIBUTE = 'youtube-modal-redirect-mobile';\n            const redirectAttributeValue = el.getAttribute(REDIRECT_ATTRIBUTE);\n            const shouldRedirectToYoutube = redirectAttributeValue === 'true' || redirectAttributeValue === '';\n            if (shouldRedirectToYoutube && _is_is__WEBPACK_IMPORTED_MODULE_4__[\"mobile\"]()) {\n                const redirectUrl = `https://m.youtube.com/watch?v=${youtubeModalId}`;\n                window.location.href = redirectUrl;\n                return;\n            }\n            // Attach this element if it is not in the dom yet.\n            if (!this.isConnected) {\n                this.host.appendChild(this);\n            }\n            // Wait for child components to render.\n            window.setTimeout(() => {\n                this.openModalAndPlay(youtubeModalId);\n            });\n        }\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.updateComplete.then(this.onUpdateComplete.bind(this));\n    }\n    onUpdateComplete() {\n        if (!this.hasFirstUpdateCompleted) {\n            // Watch and update the toggle state of the modal.\n            this.watcher.add({\n                element: this.details,\n                on: 'toggle',\n                callback: this.onToggle.bind(this),\n            });\n            this.hasFirstUpdateCompleted = true;\n        }\n    }\n    openModalAndPlay(youtubeId) {\n        this.youtubeId = youtubeId;\n        this.detailsDialog.toggle(true);\n    }\n    onToggle() {\n        this.isOpen = this.details.open;\n        if (this.isOpen && this.youtubeInline) {\n            this.youtubeInline.load(this.youtubeId, true);\n        }\n        else {\n            this.youtubeInline.pause();\n        }\n    }\n    toggle(open) {\n        this.detailsDialog.toggle(open);\n    }\n    /**\n     * Creates an instance of YoutubeModal.\n     */\n    static register(host) {\n        const modal = new DeguYouTubeModal(host);\n        return modal;\n    }\n    render() {\n        return lit__WEBPACK_IMPORTED_MODULE_0__[\"html\"] `\n      <details class=\"modal\">\n        <summary></summary>\n        <details-dialog\n          aria-label=\"Dialog with no CSS\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n        >\n          <div class=\"modal__mask\"></div>\n          <div class=\"modal__content\">\n            <degu-youtube-inline\n              style=\"aspect-ratio: 16/9\"\n            ></degu-youtube-inline>\n          </div>\n          <button\n            class=\"modal__close\"\n            data-close-dialog=\"\"\n            type=\"button\"\n            autofocus=\"\"\n          ></button>\n        </details-dialog>\n      </details>\n    `;\n    }\n    disconnectedCallback() {\n        this.watcher && this.watcher.dispose();\n        this.delegateDisposer && this.delegateDisposer();\n    }\n}\nDeguYouTubeModal.styles = lit__WEBPACK_IMPORTED_MODULE_0__[\"css\"] `\n    .modal summary {\n      display: none;\n    }\n\n    .modal[open] > summary {\n      display: block;\n      cursor: default;\n    }\n\n    .modal[open] .modal__mask {\n      background-color: var(--modal-mask-bg-color, #202124);\n      content: ' ';\n      display: block;\n      position: fixed;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      right: 0;\n      left: 0;\n      bottom: 0;\n      z-index: 1;\n    }\n\n    details-dialog {\n      position: fixed;\n      top: 0;\n      left: 50%;\n      transform: translateX(-50%);\n      z-index: 2001;\n      max-height: 100vh;\n      max-width: 100vw;\n      width: 100vw;\n      height: 100vh;\n      overflow: auto;\n    }\n\n    .modal__content {\n      width: calc(100vw - 22.1912072575vw);\n      height: calc(100vh - 7.3970690858vw);\n      max-height: calc((100vw - 22.1912072575vw) * 9 / 16);\n      max-width: calc((100vh - 7.3970690858vw) * 16 / 9);\n      position: fixed;\n      top: 50%;\n      left: 50%;\n      transform: translateY(-50%) translateX(-50%);\n      z-index: 2;\n    }\n\n    .modal__close {\n      overflow: visible !important;\n      background-color: transparent !important;\n      border-radius: 100%;\n      border: 2px solid rgba(95, 99, 104, 0.6);\n      top: 35px !important;\n      right: 50px !important;\n      position: absolute;\n      top: 0px;\n      width: 60px;\n      height: 60px;\n      z-index: 1;\n    }\n\n    @media (max-width: 1024px) {\n      .modal__close {\n        width: 46px;\n        height: 46px;\n      }\n    }\n\n    @media (max-width: 600px) {\n      .modal__close {\n        width: 34px;\n        height: 34px;\n      }\n    }\n\n    .modal__close:before,\n    .modal__close:after {\n      content: '';\n      display: block;\n      position: absolute;\n      transition: all 250ms linear;\n    }\n    .modal__close:before {\n      top: 50%;\n      left: 50%;\n      width: 16px !important;\n      height: 16px !important;\n      margin-top: -8px;\n      margin-left: -8px;\n      background-repeat: no-repeat;\n      background-position: center;\n      background-size: 16px;\n      background-image: url('data:image/svg+xml,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20fill%3D%22%23423F3F%22%20fill-rule%3D%22evenodd%22%3E%3Cpath%20d%3D%22m2.06.73%2013.577%2013.577-1.697%201.697L.363%202.427z%22%2F%3E%3Cpath%20d%3D%22M.363%2014.307%2013.94.73l1.697%201.697L2.06%2016.004z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E');\n      z-index: 1;\n      filter: invert(1);\n    }\n    .modal__close:after {\n      width: calc(100% + 4px);\n      height: calc(100% + 4px);\n      top: -2px;\n      right: -2px;\n      opacity: 0;\n      border-radius: 100%;\n      background-color: var(--modal-close-default-color, #3c4043);\n      transform-origin: center center;\n      transform: scale3d(0.8, 0.8, 0.8);\n      z-index: 0;\n    }\n    .modal__close:hover {\n      border-color: transparent;\n      cursor: pointer;\n    }\n    .modal__close:hover:before {\n      background-repeat: no-repeat;\n      background-position: center;\n      background-size: 16px;\n      background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjIgKDU3NTE5KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5leGl0LXdoaXRlPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IjIwLi1EZXNrdG9wLVVJLUVsZW1lbnRzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjM3LjAwMDAwMCwgLTExOTkuMDAwMDAwKSIgZmlsbD0iI0ZGRkZGRiI+CiAgICAgICAgICAgIDxnIGlkPSJFeGl0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDEuMDAwMDAwLCAxMTA1LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDY4LjAwMDAwMCkiIGlkPSJob3ZlciI+CiAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDcyLjU2NjQwNiwgMy44NTE1NjIpIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS40MzM1OTQsIDAuNTE1NjI1KSIgaWQ9ImV4aXQtd2hpdGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjIuMDAwMDAwLCAyMi4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4LjAwMDAwMCwgOC4wMDAwMDApIHJvdGF0ZSgtMzE1LjAwMDAwMCkgdHJhbnNsYXRlKC04LjAwMDAwMCwgLTguMDAwMDAwKSAiIHg9Ii0xLjYiIHk9IjYuOCIgd2lkdGg9IjE5LjIiIGhlaWdodD0iMi40Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC4wMDAwMDAsIDguMDAwMDAwKSByb3RhdGUoLTQ1LjAwMDAwMCkgdHJhbnNsYXRlKC04LjAwMDAwMCwgLTguMDAwMDAwKSAiIHg9Ii0xLjYiIHk9IjYuOCIgd2lkdGg9IjE5LjIiIGhlaWdodD0iMi40Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==');\n    }\n    .modal__close:hover:after {\n      opacity: 1;\n      background-color: var(--modal-close-hover-color, #ffffff);\n      transform: scale3d(1, 1, 1);\n    }\n  `;\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__[\"query\"])('summary')\n], DeguYouTubeModal.prototype, \"summary\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__[\"query\"])('details-dialog')\n], DeguYouTubeModal.prototype, \"detailsDialog\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__[\"query\"])('details')\n], DeguYouTubeModal.prototype, \"details\", void 0);\n__decorate([\n    Object(lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__[\"query\"])('degu-youtube-inline')\n], DeguYouTubeModal.prototype, \"youtubeInline\", void 0);\n//# sourceMappingURL=youtube-modal.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvY29tcG9uZW50cy95b3V0dWJlLW1vZGFsLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2NvbXBvbmVudHMveW91dHViZS1tb2RhbC5qcz8wODBiIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwsIGNzcyB9IGZyb20gJ2xpdCc7XG5pbXBvcnQgeyBxdWVyeSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9kb20vZG9tLXdhdGNoZXInO1xuaW1wb3J0ICogYXMgZG9tIGZyb20gJy4uL2RvbS9kb20nO1xuaW1wb3J0ICogYXMgaXMgZnJvbSAnLi4vaXMvaXMnO1xuLyoqXG4gKiBEZWd1WXV0dWJlTW9kYWwgd3JhcHMgZGV0YWlscy1kaWFsb2ctZWxlbWVudCBhbmQgZGVndS15b3V0dWJlLWlubGluZS5cbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZ2l0aHViL2RldGFpbHMtZGlhbG9nLWVsZW1lbnRcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9naXRodWIvZGV0YWlscy1kaWFsb2ctZWxlbWVudC9ibG9iL21haW4vc3JjL2luZGV4LnRzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IERlZ3VZb3VUdWJlTW9kYWx9IGZyb20gJy4uL2xpYi9jb21wb25lbnRzL3lvdXR1YmUtbW9kYWwnO1xuICogaW1wb3J0IERldGFpbHNEaWFsb2dFbGVtZW50IGZyb20gJ0BnaXRodWIvZGV0YWlscy1kaWFsb2ctZWxlbWVudCc7XG4gKlxuICogd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnZGVndS15b3V0dWJlLWlubGluZScsIERlZ3VZb3VUdWJlSW5saW5lKTtcbiAqIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2RlZ3UteW91dHViZS1tb2RhbCcsIERlZ3VZb3VUdWJlTW9kYWwpO1xuICpcbiAqIC8vIERlZmluZSBhIGhvc3QuICBXaGVuIHlvdSByZWdpc3RlciBhZ2FpbnN0IGEgaG9zdCwgdGhlIGNvbXBvbmVudCB3aWxsXG4gKiAvLyBsb29rIGZvciBhbnkgY2xpY2tzIHdpdGhpbiB0aGF0IGhvc3Qgd2l0aCB0aGUgZGF0YSBhdHRyaWJ1dGVcbiAqIC8vIGB5b3V0dWJlLW1vZGFsPVwiPHlvdXR1YmUtaWQ+XCIuXG4gKiBjb25zdCBteUhvc3QgPSBkb2N1bWVudC5ib2R5O1xuICogRGVndVlvdVR1YmVNb2RhbC5yZWdpc3RlcihteUhvc3QpXG4gKiBgYGBcbiAqXG4gKiBOb3cgc29tZXdoZXJlIHdpdGhpbiB5b3VyIGhvc3QsIGp1c3QgYWRkIGJ1dHRvbnMgb3IgZWxlbWVudHMgd2l0aCB0aGVcbiAqIGF0dHJpYnV0ZSBgeW91dHViZS1tb2RhbGAuXG4gKlxuICogYGBgaHRtbFxuICogICA8YnV0dG9uIHlvdXR1YmUtbW9kYWw9XCI4UW5fc3BkTTVaZ1wiPldhdGNoIFN0YXJXYXJzPC9idXR0b24+XG4gKiAgIDxidXR0b24geW91dHViZS1tb2RhbD1cIlRjTUJGU0dWaTFjXCI+V2F0Y2ggQXZlbmdlcnM8L2J1dHRvbj5cbiAqIGBgYFxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIERlZ3VZb3VUdWJlTW9kYWwgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihob3N0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaGFzRmlyc3RVcGRhdGVDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZURpc3Bvc2VyID0gbnVsbDtcbiAgICAgICAgdGhpcy5ob3N0ID0gaG9zdDtcbiAgICAgICAgdGhpcy53YXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICAgICAgdGhpcy53YXRjaGVyLmFkZCh7XG4gICAgICAgICAgICBlbGVtZW50OiB0aGlzLmhvc3QsXG4gICAgICAgICAgICBvbjogJ2tleWRvd24nLFxuICAgICAgICAgICAgY2FsbGJhY2s6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmNvZGUgPT09ICdTcGFjZScpICYmXG4gICAgICAgICAgICAgICAgICAgIGRvbS50ZXN0RGVzY2VuZGFudChkb2N1bWVudC5hY3RpdmVFbGVtZW50LCB0aGlzLmhvc3QpICYmXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuaGFzQXR0cmlidXRlKCd5b3V0dWJlLW1vZGFsJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDbGljayhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZURpc3Bvc2VyID0gZG9tLmFkZERlbGVnYXRlZExpc3RlbmVyKHRoaXMuaG9zdCwgJ2NsaWNrJywgKGVsKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNsaWNrKGVsKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGhhbmRsZUNsaWNrKGVsKSB7XG4gICAgICAgIGNvbnN0IHlvdXR1YmVNb2RhbElkID0gZWwuZ2V0QXR0cmlidXRlKCd5b3V0dWJlLW1vZGFsJyk7XG4gICAgICAgIGlmICh5b3V0dWJlTW9kYWxJZCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGNsaWNrZWQgZWxlbWVudCBoYXMgdGhlIGF0dHJpYnV0ZVxuICAgICAgICAgICAgLy8gYHlvdXR1YmUtbW9kYWwtcmVkaXJlY3QtbW9iaWxlYCByZWRpcmVjdCB0aGUgdXNlciB0byB5b3V0dWJlXG4gICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIG9wZW5pbmcgYSBtb2RhbC5cbiAgICAgICAgICAgIGNvbnN0IFJFRElSRUNUX0FUVFJJQlVURSA9ICd5b3V0dWJlLW1vZGFsLXJlZGlyZWN0LW1vYmlsZSc7XG4gICAgICAgICAgICBjb25zdCByZWRpcmVjdEF0dHJpYnV0ZVZhbHVlID0gZWwuZ2V0QXR0cmlidXRlKFJFRElSRUNUX0FUVFJJQlVURSk7XG4gICAgICAgICAgICBjb25zdCBzaG91bGRSZWRpcmVjdFRvWW91dHViZSA9IHJlZGlyZWN0QXR0cmlidXRlVmFsdWUgPT09ICd0cnVlJyB8fCByZWRpcmVjdEF0dHJpYnV0ZVZhbHVlID09PSAnJztcbiAgICAgICAgICAgIGlmIChzaG91bGRSZWRpcmVjdFRvWW91dHViZSAmJiBpcy5tb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZGlyZWN0VXJsID0gYGh0dHBzOi8vbS55b3V0dWJlLmNvbS93YXRjaD92PSR7eW91dHViZU1vZGFsSWR9YDtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJlZGlyZWN0VXJsO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEF0dGFjaCB0aGlzIGVsZW1lbnQgaWYgaXQgaXMgbm90IGluIHRoZSBkb20geWV0LlxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ob3N0LmFwcGVuZENoaWxkKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2FpdCBmb3IgY2hpbGQgY29tcG9uZW50cyB0byByZW5kZXIuXG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuTW9kYWxBbmRQbGF5KHlvdXR1YmVNb2RhbElkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbXBsZXRlLnRoZW4odGhpcy5vblVwZGF0ZUNvbXBsZXRlLmJpbmQodGhpcykpO1xuICAgIH1cbiAgICBvblVwZGF0ZUNvbXBsZXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzRmlyc3RVcGRhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIC8vIFdhdGNoIGFuZCB1cGRhdGUgdGhlIHRvZ2dsZSBzdGF0ZSBvZiB0aGUgbW9kYWwuXG4gICAgICAgICAgICB0aGlzLndhdGNoZXIuYWRkKHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiB0aGlzLmRldGFpbHMsXG4gICAgICAgICAgICAgICAgb246ICd0b2dnbGUnLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLm9uVG9nZ2xlLmJpbmQodGhpcyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuaGFzRmlyc3RVcGRhdGVDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9wZW5Nb2RhbEFuZFBsYXkoeW91dHViZUlkKSB7XG4gICAgICAgIHRoaXMueW91dHViZUlkID0geW91dHViZUlkO1xuICAgICAgICB0aGlzLmRldGFpbHNEaWFsb2cudG9nZ2xlKHRydWUpO1xuICAgIH1cbiAgICBvblRvZ2dsZSgpIHtcbiAgICAgICAgdGhpcy5pc09wZW4gPSB0aGlzLmRldGFpbHMub3BlbjtcbiAgICAgICAgaWYgKHRoaXMuaXNPcGVuICYmIHRoaXMueW91dHViZUlubGluZSkge1xuICAgICAgICAgICAgdGhpcy55b3V0dWJlSW5saW5lLmxvYWQodGhpcy55b3V0dWJlSWQsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy55b3V0dWJlSW5saW5lLnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9nZ2xlKG9wZW4pIHtcbiAgICAgICAgdGhpcy5kZXRhaWxzRGlhbG9nLnRvZ2dsZShvcGVuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBZb3V0dWJlTW9kYWwuXG4gICAgICovXG4gICAgc3RhdGljIHJlZ2lzdGVyKGhvc3QpIHtcbiAgICAgICAgY29uc3QgbW9kYWwgPSBuZXcgRGVndVlvdVR1YmVNb2RhbChob3N0KTtcbiAgICAgICAgcmV0dXJuIG1vZGFsO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBodG1sIGBcbiAgICAgIDxkZXRhaWxzIGNsYXNzPVwibW9kYWxcIj5cbiAgICAgICAgPHN1bW1hcnk+PC9zdW1tYXJ5PlxuICAgICAgICA8ZGV0YWlscy1kaWFsb2dcbiAgICAgICAgICBhcmlhLWxhYmVsPVwiRGlhbG9nIHdpdGggbm8gQ1NTXCJcbiAgICAgICAgICByb2xlPVwiZGlhbG9nXCJcbiAgICAgICAgICBhcmlhLW1vZGFsPVwidHJ1ZVwiXG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWxfX21hc2tcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWxfX2NvbnRlbnRcIj5cbiAgICAgICAgICAgIDxkZWd1LXlvdXR1YmUtaW5saW5lXG4gICAgICAgICAgICAgIHN0eWxlPVwiYXNwZWN0LXJhdGlvOiAxNi85XCJcbiAgICAgICAgICAgID48L2RlZ3UteW91dHViZS1pbmxpbmU+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3M9XCJtb2RhbF9fY2xvc2VcIlxuICAgICAgICAgICAgZGF0YS1jbG9zZS1kaWFsb2c9XCJcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBhdXRvZm9jdXM9XCJcIlxuICAgICAgICAgID48L2J1dHRvbj5cbiAgICAgICAgPC9kZXRhaWxzLWRpYWxvZz5cbiAgICAgIDwvZGV0YWlscz5cbiAgICBgO1xuICAgIH1cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy53YXRjaGVyICYmIHRoaXMud2F0Y2hlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuZGVsZWdhdGVEaXNwb3NlciAmJiB0aGlzLmRlbGVnYXRlRGlzcG9zZXIoKTtcbiAgICB9XG59XG5EZWd1WW91VHViZU1vZGFsLnN0eWxlcyA9IGNzcyBgXG4gICAgLm1vZGFsIHN1bW1hcnkge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG5cbiAgICAubW9kYWxbb3Blbl0gPiBzdW1tYXJ5IHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgY3Vyc29yOiBkZWZhdWx0O1xuICAgIH1cblxuICAgIC5tb2RhbFtvcGVuXSAubW9kYWxfX21hc2sge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbW9kYWwtbWFzay1iZy1jb2xvciwgIzIwMjEyNCk7XG4gICAgICBjb250ZW50OiAnICc7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgdG9wOiAwO1xuICAgICAgcmlnaHQ6IDA7XG4gICAgICBsZWZ0OiAwO1xuICAgICAgYm90dG9tOiAwO1xuICAgICAgei1pbmRleDogMTtcbiAgICB9XG5cbiAgICBkZXRhaWxzLWRpYWxvZyB7XG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICB0b3A6IDA7XG4gICAgICBsZWZ0OiA1MCU7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XG4gICAgICB6LWluZGV4OiAyMDAxO1xuICAgICAgbWF4LWhlaWdodDogMTAwdmg7XG4gICAgICBtYXgtd2lkdGg6IDEwMHZ3O1xuICAgICAgd2lkdGg6IDEwMHZ3O1xuICAgICAgaGVpZ2h0OiAxMDB2aDtcbiAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgIH1cblxuICAgIC5tb2RhbF9fY29udGVudCB7XG4gICAgICB3aWR0aDogY2FsYygxMDB2dyAtIDIyLjE5MTIwNzI1NzV2dyk7XG4gICAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA3LjM5NzA2OTA4NTh2dyk7XG4gICAgICBtYXgtaGVpZ2h0OiBjYWxjKCgxMDB2dyAtIDIyLjE5MTIwNzI1NzV2dykgKiA5IC8gMTYpO1xuICAgICAgbWF4LXdpZHRoOiBjYWxjKCgxMDB2aCAtIDcuMzk3MDY5MDg1OHZ3KSAqIDE2IC8gOSk7XG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICB0b3A6IDUwJTtcbiAgICAgIGxlZnQ6IDUwJTtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKSB0cmFuc2xhdGVYKC01MCUpO1xuICAgICAgei1pbmRleDogMjtcbiAgICB9XG5cbiAgICAubW9kYWxfX2Nsb3NlIHtcbiAgICAgIG92ZXJmbG93OiB2aXNpYmxlICFpbXBvcnRhbnQ7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xuICAgICAgYm9yZGVyLXJhZGl1czogMTAwJTtcbiAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHJnYmEoOTUsIDk5LCAxMDQsIDAuNik7XG4gICAgICB0b3A6IDM1cHggIWltcG9ydGFudDtcbiAgICAgIHJpZ2h0OiA1MHB4ICFpbXBvcnRhbnQ7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDBweDtcbiAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgaGVpZ2h0OiA2MHB4O1xuICAgICAgei1pbmRleDogMTtcbiAgICB9XG5cbiAgICBAbWVkaWEgKG1heC13aWR0aDogMTAyNHB4KSB7XG4gICAgICAubW9kYWxfX2Nsb3NlIHtcbiAgICAgICAgd2lkdGg6IDQ2cHg7XG4gICAgICAgIGhlaWdodDogNDZweDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHtcbiAgICAgIC5tb2RhbF9fY2xvc2Uge1xuICAgICAgICB3aWR0aDogMzRweDtcbiAgICAgICAgaGVpZ2h0OiAzNHB4O1xuICAgICAgfVxuICAgIH1cblxuICAgIC5tb2RhbF9fY2xvc2U6YmVmb3JlLFxuICAgIC5tb2RhbF9fY2xvc2U6YWZ0ZXIge1xuICAgICAgY29udGVudDogJyc7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAyNTBtcyBsaW5lYXI7XG4gICAgfVxuICAgIC5tb2RhbF9fY2xvc2U6YmVmb3JlIHtcbiAgICAgIHRvcDogNTAlO1xuICAgICAgbGVmdDogNTAlO1xuICAgICAgd2lkdGg6IDE2cHggIWltcG9ydGFudDtcbiAgICAgIGhlaWdodDogMTZweCAhaW1wb3J0YW50O1xuICAgICAgbWFyZ2luLXRvcDogLThweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAtOHB4O1xuICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcbiAgICAgIGJhY2tncm91bmQtc2l6ZTogMTZweDtcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyUyMHdpZHRoJTNEJTIyMTYlMjIlMjBoZWlnaHQlM0QlMjIxNiUyMiUyMHhtbG5zJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYyMDAwJTJGc3ZnJTIyJTNFJTNDZyUyMGZpbGwlM0QlMjIlMjM0MjNGM0YlMjIlMjBmaWxsLXJ1bGUlM0QlMjJldmVub2RkJTIyJTNFJTNDcGF0aCUyMGQlM0QlMjJtMi4wNi43MyUyMDEzLjU3NyUyMDEzLjU3Ny0xLjY5NyUyMDEuNjk3TC4zNjMlMjAyLjQyN3olMjIlMkYlM0UlM0NwYXRoJTIwZCUzRCUyMk0uMzYzJTIwMTQuMzA3JTIwMTMuOTQuNzNsMS42OTclMjAxLjY5N0wyLjA2JTIwMTYuMDA0eiUyMiUyRiUzRSUzQyUyRmclM0UlM0MlMkZzdmclM0UnKTtcbiAgICAgIHotaW5kZXg6IDE7XG4gICAgICBmaWx0ZXI6IGludmVydCgxKTtcbiAgICB9XG4gICAgLm1vZGFsX19jbG9zZTphZnRlciB7XG4gICAgICB3aWR0aDogY2FsYygxMDAlICsgNHB4KTtcbiAgICAgIGhlaWdodDogY2FsYygxMDAlICsgNHB4KTtcbiAgICAgIHRvcDogLTJweDtcbiAgICAgIHJpZ2h0OiAtMnB4O1xuICAgICAgb3BhY2l0eTogMDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1tb2RhbC1jbG9zZS1kZWZhdWx0LWNvbG9yLCAjM2M0MDQzKTtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGNlbnRlciBjZW50ZXI7XG4gICAgICB0cmFuc2Zvcm06IHNjYWxlM2QoMC44LCAwLjgsIDAuOCk7XG4gICAgICB6LWluZGV4OiAwO1xuICAgIH1cbiAgICAubW9kYWxfX2Nsb3NlOmhvdmVyIHtcbiAgICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuICAgIC5tb2RhbF9fY2xvc2U6aG92ZXI6YmVmb3JlIHtcbiAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG4gICAgICBiYWNrZ3JvdW5kLXNpemU6IDE2cHg7XG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEQ5NGJXd2dkbVZ5YzJsdmJqMGlNUzR3SWlCbGJtTnZaR2x1WnowaVZWUkdMVGdpUHo0S1BITjJaeUIzYVdSMGFEMGlNVFp3ZUNJZ2FHVnBaMmgwUFNJeE5uQjRJaUIyYVdWM1FtOTRQU0l3SURBZ01UWWdNVFlpSUhabGNuTnBiMjQ5SWpFdU1TSWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3pwNGJHbHVhejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TVRrNU9TOTRiR2x1YXlJK0NpQWdJQ0E4SVMwdElFZGxibVZ5WVhSdmNqb2dVMnRsZEdOb0lEVXhMaklnS0RVM05URTVLU0F0SUdoMGRIQTZMeTkzZDNjdVltOW9aVzFwWVc1amIyUnBibWN1WTI5dEwzTnJaWFJqYUNBdExUNEtJQ0FnSUR4MGFYUnNaVDVsZUdsMExYZG9hWFJsUEM5MGFYUnNaVDRLSUNBZ0lEeGtaWE5qUGtOeVpXRjBaV1FnZDJsMGFDQlRhMlYwWTJndVBDOWtaWE5qUGdvZ0lDQWdQR1JsWm5NK1BDOWtaV1p6UGdvZ0lDQWdQR2NnYVdROUlsQmhaMlV0TVNJZ2MzUnliMnRsUFNKdWIyNWxJaUJ6ZEhKdmEyVXRkMmxrZEdnOUlqRWlJR1pwYkd3OUltNXZibVVpSUdacGJHd3RjblZzWlQwaVpYWmxibTlrWkNJK0NpQWdJQ0FnSUNBZ1BHY2dhV1E5SWpJd0xpMUVaWE5yZEc5d0xWVkpMVVZzWlcxbGJuUnpJaUIwY21GdWMyWnZjbTA5SW5SeVlXNXpiR0YwWlNndE5qTTNMakF3TURBd01Dd2dMVEV4T1RrdU1EQXdNREF3S1NJZ1ptbHNiRDBpSTBaR1JrWkdSaUkrQ2lBZ0lDQWdJQ0FnSUNBZ0lEeG5JR2xrUFNKRmVHbDBJaUIwY21GdWMyWnZjbTA5SW5SeVlXNXpiR0YwWlNneE5ERXVNREF3TURBd0xDQXhNVEExTGpBd01EQXdNQ2tpUGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEdjZ2RISmhibk5tYjNKdFBTSjBjbUZ1YzJ4aGRHVW9NQzR3TURBd01EQXNJRFk0TGpBd01EQXdNQ2tpSUdsa1BTSm9iM1psY2lJK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQR2NnZEhKaGJuTm1iM0p0UFNKMGNtRnVjMnhoZEdVb05EY3lMalUyTmpRd05pd2dNeTQ0TlRFMU5qSXBJajRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQR2NnZEhKaGJuTm1iM0p0UFNKMGNtRnVjMnhoZEdVb01TNDBNek0xT1RRc0lEQXVOVEUxTmpJMUtTSWdhV1E5SW1WNGFYUXRkMmhwZEdVaVBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQR2NnZEhKaGJuTm1iM0p0UFNKMGNtRnVjMnhoZEdVb01qSXVNREF3TURBd0xDQXlNaTR3TURBd01EQXBJajRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThjbVZqZENCcFpEMGlVbVZqZEdGdVoyeGxJaUIwY21GdWMyWnZjbTA5SW5SeVlXNXpiR0YwWlNnNExqQXdNREF3TUN3Z09DNHdNREF3TURBcElISnZkR0YwWlNndE16RTFMakF3TURBd01Da2dkSEpoYm5Oc1lYUmxLQzA0TGpBd01EQXdNQ3dnTFRndU1EQXdNREF3S1NBaUlIZzlJaTB4TGpZaUlIazlJall1T0NJZ2QybGtkR2c5SWpFNUxqSWlJR2hsYVdkb2REMGlNaTQwSWo0OEwzSmxZM1ErQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQSEpsWTNRZ2FXUTlJbEpsWTNSaGJtZHNaU0lnZEhKaGJuTm1iM0p0UFNKMGNtRnVjMnhoZEdVb09DNHdNREF3TURBc0lEZ3VNREF3TURBd0tTQnliM1JoZEdVb0xUUTFMakF3TURBd01Da2dkSEpoYm5Oc1lYUmxLQzA0TGpBd01EQXdNQ3dnTFRndU1EQXdNREF3S1NBaUlIZzlJaTB4TGpZaUlIazlJall1T0NJZ2QybGtkR2c5SWpFNUxqSWlJR2hsYVdkb2REMGlNaTQwSWo0OEwzSmxZM1ErQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBOEwyYytDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEd3ZaejRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBOEwyYytDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThMMmMrQ2lBZ0lDQWdJQ0FnSUNBZ0lEd3ZaejRLSUNBZ0lDQWdJQ0E4TDJjK0NpQWdJQ0E4TDJjK0Nqd3ZjM1puUGc9PScpO1xuICAgIH1cbiAgICAubW9kYWxfX2Nsb3NlOmhvdmVyOmFmdGVyIHtcbiAgICAgIG9wYWNpdHk6IDE7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1tb2RhbC1jbG9zZS1ob3Zlci1jb2xvciwgI2ZmZmZmZik7XG4gICAgICB0cmFuc2Zvcm06IHNjYWxlM2QoMSwgMSwgMSk7XG4gICAgfVxuICBgO1xuX19kZWNvcmF0ZShbXG4gICAgcXVlcnkoJ3N1bW1hcnknKVxuXSwgRGVndVlvdVR1YmVNb2RhbC5wcm90b3R5cGUsIFwic3VtbWFyeVwiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcXVlcnkoJ2RldGFpbHMtZGlhbG9nJylcbl0sIERlZ3VZb3VUdWJlTW9kYWwucHJvdG90eXBlLCBcImRldGFpbHNEaWFsb2dcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHF1ZXJ5KCdkZXRhaWxzJylcbl0sIERlZ3VZb3VUdWJlTW9kYWwucHJvdG90eXBlLCBcImRldGFpbHNcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHF1ZXJ5KCdkZWd1LXlvdXR1YmUtaW5saW5lJylcbl0sIERlZ3VZb3VUdWJlTW9kYWwucHJvdG90eXBlLCBcInlvdXR1YmVJbmxpbmVcIiwgdm9pZCAwKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXlvdXR1YmUtbW9kYWwuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/components/youtube-modal.js\n");

/***/ }),

/***/ "./lib/datguif/datguif.js":
/*!********************************!*\
  !*** ./lib/datguif/datguif.js ***!
  \********************************/
/*! exports provided: Datguif */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Datguif\", function() { return Datguif; });\n/* harmony import */ var dat_gui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dat.gui */ \"./node_modules/dat.gui/build/dat.gui.module.js\");\n/* harmony import */ var _is_is__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\n/* harmony import */ var _mathf_color__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../mathf/color */ \"./lib/mathf/color.js\");\n\n\n\n/**\n * Wrapper around https://github.com/dataarts/dat.gui/blob/master/API.md\n * to make an object output easier.\n *\n * ```ts\n *\n * const gui = new Datguif();\n *\n * // Register an update callback.\n * gui.onUpdate(()=> {\n *   console.log('gui controls updated');\n * })\n *\n *\n * gui.addFolder('Lights').open();\n * gui.addFolder('Other Config');\n *\n *\n * // Add a subfolder to lights\n * gui.addFolder('Directional Lights', 'Lights');\n * gui.addFolder('Atmosphere Lights', 'Lights');\n *\n *\n * const otherConfig = {\n *   'scale': 0.5,\n *   'optimize': false\n * }\n *\n * const directionalLight = {\n *   'intensity': 0.5,\n *   'show': false,\n *   'castShadow': true,\n * }\n *\n *\n * // Add the directional light to the Directional Lights folder.\n * // Only show intensity and castShadow properties.\n * gui.addObjectToFolder('Directional Lights',\n *   directionalLights,\n *  [\n *   { keyName: 'castShadow'},\n *   { keyName: 'intensity', min: 0, max: 100, callback: ()=> {\n *        console.log('intensity just changed');\n *   }},\n *   { keyName: 'ease', ['linear', 'easeInOutQuad']}\n * ]);\n *\n *\n * // Add the scale option to the Other config folder.\n * gui.addObjectPropertyToFolder(\n *   'Other Config',\n *   otherConfig,\n *  {\n *    keyname: 'scale'\n *  }\n * )\n *\n *\n * // Add functions.\n * guid.addToFolder(\n *  ()=> {\n *    // refresh code.\n *    console.log('hohoho');\n *  },\n *  'Refresh'\n * )\n *\n *\n * ```\n */\nclass Datguif {\n    constructor(\n    //@see https://github.com/dataarts/dat.gui/blob/master/API.md#new_GUI_new\n    guiParams) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const options = guiParams;\n        if (!options) {\n            options.load = JSON;\n        }\n        this.gui = new dat_gui__WEBPACK_IMPORTED_MODULE_0__[\"GUI\"](options);\n        this.folders = [];\n        this.updateCallbacks = [];\n    }\n    getGui() {\n        return this.gui;\n    }\n    /**\n     * Adds an update callback.\n     */\n    onUpdate(callback) {\n        this.updateCallbacks.push(callback);\n    }\n    runUpdate() {\n        this.updateCallbacks.forEach(callback => {\n            callback();\n        });\n    }\n    // Adds a to level button\n    addButton(label, callback) {\n        const id = label.replace(' ', '_');\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const obj = {};\n        obj[id] = callback;\n        this.gui.add(obj, label.replace(' ', '_'));\n    }\n    /**\n     *\n     * Add a folder to the datguif system.\n     *\n     * @param folderName\n     * @param parentFolder\n     */\n    addFolder(folderName, parentFolderName) {\n        let folder;\n        if (this.folderExists(folderName)) {\n            throw new Error('Folder names must be unique');\n        }\n        if (parentFolderName) {\n            const parentFolder = this.getFolder(parentFolderName).gui;\n            folder = parentFolder.addFolder(folderName);\n        }\n        else {\n            folder = this.gui.addFolder(folderName);\n        }\n        this.folders.push({\n            name: folderName,\n            gui: folder,\n        });\n        return folder;\n    }\n    /**\n     * Checks if a folder of a given name already exists.\n     */\n    folderExists(folderName) {\n        const folder = this.folders.filter(f => {\n            return f.name === folderName;\n        })[0];\n        return !!folder;\n    }\n    getFolder(folderName) {\n        const folder = this.folders.filter(f => {\n            return f.name === folderName;\n        })[0];\n        if (!folder) {\n            throw new Error('No folder named:' + folder + ' was found');\n        }\n        return folder;\n    }\n    addToFolder(folderName, obj, keyName) {\n        const folder = this.getFolder(folderName);\n        folder.gui.add(obj, keyName);\n    }\n    addObjectPropertyToFolder(folderName, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    obj, config) {\n        const folder = this.getFolder(folderName);\n        const value = obj[config.keyName];\n        if (!_is_is__WEBPACK_IMPORTED_MODULE_1__[\"defined\"](value)) {\n            return;\n        }\n        // If this looks \"color\" like.  Convert it to color and then handle\n        // the update when it comes back. (Support for Three.Color)\n        if (value.r && value.g && value.b) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const colorObj = {};\n            colorObj[config.keyName] = _mathf_color__WEBPACK_IMPORTED_MODULE_2__[\"normalizedRgbToRgb\"](_mathf_color__WEBPACK_IMPORTED_MODULE_2__[\"colorRgbToRgb\"](value));\n            folder.gui.addColor(colorObj, config.keyName).onChange(() => {\n                // // Convert it back.\n                const converted = {\n                    r: _mathf_color__WEBPACK_IMPORTED_MODULE_2__[\"rgbToNormalizedRgb\"](colorObj[config.keyName])[0],\n                    g: _mathf_color__WEBPACK_IMPORTED_MODULE_2__[\"rgbToNormalizedRgb\"](colorObj[config.keyName])[1],\n                    b: _mathf_color__WEBPACK_IMPORTED_MODULE_2__[\"rgbToNormalizedRgb\"](colorObj[config.keyName])[2],\n                };\n                obj[config.keyName] = converted;\n                config.callback && config.callback();\n                this.runUpdate();\n            });\n            return;\n        }\n        // Support for #FFFFFF type colors.\n        if (_is_is__WEBPACK_IMPORTED_MODULE_1__[\"cssHex\"](value)) {\n            folder.gui.addColor(obj, config.keyName).onChange(() => {\n                config.callback && config.callback();\n                this.runUpdate();\n            });\n            return;\n        }\n        if (_is_is__WEBPACK_IMPORTED_MODULE_1__[\"defined\"](config.options)) {\n            folder.gui.add(obj, config.keyName, config.options).onChange(() => {\n                config.callback && config.callback();\n                this.runUpdate();\n            });\n            return;\n        }\n        if (_is_is__WEBPACK_IMPORTED_MODULE_1__[\"defined\"](config.min) && _is_is__WEBPACK_IMPORTED_MODULE_1__[\"defined\"](config.max)) {\n            folder.gui\n                .add(obj, config.keyName, +config.min, +config.max)\n                .step(config.step || 0.1)\n                .onChange(() => {\n                config.callback && config.callback();\n                this.runUpdate();\n            });\n            return;\n        }\n        folder.gui.add(obj, config.keyName).onChange(() => {\n            config.callback && config.callback();\n            this.runUpdate();\n        });\n    }\n    addObjectToFolder(folderName, obj, mapping) {\n        this.gui.remember(obj);\n        for (const key in obj) {\n            // Check if this key should be displayed.\n            const config = mapping.filter(c => {\n                return c.keyName === key;\n            })[0];\n            if (config) {\n                this.addObjectPropertyToFolder(folderName, obj, config);\n            }\n        }\n    }\n}\n//# sourceMappingURL=datguif.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZGF0Z3VpZi9kYXRndWlmLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RhdGd1aWYvZGF0Z3VpZi5qcz84MzE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGRhdCBmcm9tICdkYXQuZ3VpJztcbmltcG9ydCAqIGFzIGlzIGZyb20gJy4uL2lzL2lzJztcbmltcG9ydCAqIGFzIGNvbG9yIGZyb20gJy4uL21hdGhmL2NvbG9yJztcbi8qKlxuICogV3JhcHBlciBhcm91bmQgaHR0cHM6Ly9naXRodWIuY29tL2RhdGFhcnRzL2RhdC5ndWkvYmxvYi9tYXN0ZXIvQVBJLm1kXG4gKiB0byBtYWtlIGFuIG9iamVjdCBvdXRwdXQgZWFzaWVyLlxuICpcbiAqIGBgYHRzXG4gKlxuICogY29uc3QgZ3VpID0gbmV3IERhdGd1aWYoKTtcbiAqXG4gKiAvLyBSZWdpc3RlciBhbiB1cGRhdGUgY2FsbGJhY2suXG4gKiBndWkub25VcGRhdGUoKCk9PiB7XG4gKiAgIGNvbnNvbGUubG9nKCdndWkgY29udHJvbHMgdXBkYXRlZCcpO1xuICogfSlcbiAqXG4gKlxuICogZ3VpLmFkZEZvbGRlcignTGlnaHRzJykub3BlbigpO1xuICogZ3VpLmFkZEZvbGRlcignT3RoZXIgQ29uZmlnJyk7XG4gKlxuICpcbiAqIC8vIEFkZCBhIHN1YmZvbGRlciB0byBsaWdodHNcbiAqIGd1aS5hZGRGb2xkZXIoJ0RpcmVjdGlvbmFsIExpZ2h0cycsICdMaWdodHMnKTtcbiAqIGd1aS5hZGRGb2xkZXIoJ0F0bW9zcGhlcmUgTGlnaHRzJywgJ0xpZ2h0cycpO1xuICpcbiAqXG4gKiBjb25zdCBvdGhlckNvbmZpZyA9IHtcbiAqICAgJ3NjYWxlJzogMC41LFxuICogICAnb3B0aW1pemUnOiBmYWxzZVxuICogfVxuICpcbiAqIGNvbnN0IGRpcmVjdGlvbmFsTGlnaHQgPSB7XG4gKiAgICdpbnRlbnNpdHknOiAwLjUsXG4gKiAgICdzaG93JzogZmFsc2UsXG4gKiAgICdjYXN0U2hhZG93JzogdHJ1ZSxcbiAqIH1cbiAqXG4gKlxuICogLy8gQWRkIHRoZSBkaXJlY3Rpb25hbCBsaWdodCB0byB0aGUgRGlyZWN0aW9uYWwgTGlnaHRzIGZvbGRlci5cbiAqIC8vIE9ubHkgc2hvdyBpbnRlbnNpdHkgYW5kIGNhc3RTaGFkb3cgcHJvcGVydGllcy5cbiAqIGd1aS5hZGRPYmplY3RUb0ZvbGRlcignRGlyZWN0aW9uYWwgTGlnaHRzJyxcbiAqICAgZGlyZWN0aW9uYWxMaWdodHMsXG4gKiAgW1xuICogICB7IGtleU5hbWU6ICdjYXN0U2hhZG93J30sXG4gKiAgIHsga2V5TmFtZTogJ2ludGVuc2l0eScsIG1pbjogMCwgbWF4OiAxMDAsIGNhbGxiYWNrOiAoKT0+IHtcbiAqICAgICAgICBjb25zb2xlLmxvZygnaW50ZW5zaXR5IGp1c3QgY2hhbmdlZCcpO1xuICogICB9fSxcbiAqICAgeyBrZXlOYW1lOiAnZWFzZScsIFsnbGluZWFyJywgJ2Vhc2VJbk91dFF1YWQnXX1cbiAqIF0pO1xuICpcbiAqXG4gKiAvLyBBZGQgdGhlIHNjYWxlIG9wdGlvbiB0byB0aGUgT3RoZXIgY29uZmlnIGZvbGRlci5cbiAqIGd1aS5hZGRPYmplY3RQcm9wZXJ0eVRvRm9sZGVyKFxuICogICAnT3RoZXIgQ29uZmlnJyxcbiAqICAgb3RoZXJDb25maWcsXG4gKiAge1xuICogICAga2V5bmFtZTogJ3NjYWxlJ1xuICogIH1cbiAqIClcbiAqXG4gKlxuICogLy8gQWRkIGZ1bmN0aW9ucy5cbiAqIGd1aWQuYWRkVG9Gb2xkZXIoXG4gKiAgKCk9PiB7XG4gKiAgICAvLyByZWZyZXNoIGNvZGUuXG4gKiAgICBjb25zb2xlLmxvZygnaG9ob2hvJyk7XG4gKiAgfSxcbiAqICAnUmVmcmVzaCdcbiAqIClcbiAqXG4gKlxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBEYXRndWlmIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvL0BzZWUgaHR0cHM6Ly9naXRodWIuY29tL2RhdGFhcnRzL2RhdC5ndWkvYmxvYi9tYXN0ZXIvQVBJLm1kI25ld19HVUlfbmV3XG4gICAgZ3VpUGFyYW1zKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBndWlQYXJhbXM7XG4gICAgICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICAgICAgb3B0aW9ucy5sb2FkID0gSlNPTjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmd1aSA9IG5ldyBkYXQuR1VJKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmZvbGRlcnMgPSBbXTtcbiAgICAgICAgdGhpcy51cGRhdGVDYWxsYmFja3MgPSBbXTtcbiAgICB9XG4gICAgZ2V0R3VpKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ndWk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYW4gdXBkYXRlIGNhbGxiYWNrLlxuICAgICAqL1xuICAgIG9uVXBkYXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIH1cbiAgICBydW5VcGRhdGUoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzLmZvckVhY2goY2FsbGJhY2sgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIEFkZHMgYSB0byBsZXZlbCBidXR0b25cbiAgICBhZGRCdXR0b24obGFiZWwsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGlkID0gbGFiZWwucmVwbGFjZSgnICcsICdfJyk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBvYmpbaWRdID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMuZ3VpLmFkZChvYmosIGxhYmVsLnJlcGxhY2UoJyAnLCAnXycpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBBZGQgYSBmb2xkZXIgdG8gdGhlIGRhdGd1aWYgc3lzdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIGZvbGRlck5hbWVcbiAgICAgKiBAcGFyYW0gcGFyZW50Rm9sZGVyXG4gICAgICovXG4gICAgYWRkRm9sZGVyKGZvbGRlck5hbWUsIHBhcmVudEZvbGRlck5hbWUpIHtcbiAgICAgICAgbGV0IGZvbGRlcjtcbiAgICAgICAgaWYgKHRoaXMuZm9sZGVyRXhpc3RzKGZvbGRlck5hbWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvbGRlciBuYW1lcyBtdXN0IGJlIHVuaXF1ZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnRGb2xkZXJOYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRGb2xkZXIgPSB0aGlzLmdldEZvbGRlcihwYXJlbnRGb2xkZXJOYW1lKS5ndWk7XG4gICAgICAgICAgICBmb2xkZXIgPSBwYXJlbnRGb2xkZXIuYWRkRm9sZGVyKGZvbGRlck5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9sZGVyID0gdGhpcy5ndWkuYWRkRm9sZGVyKGZvbGRlck5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZm9sZGVycy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IGZvbGRlck5hbWUsXG4gICAgICAgICAgICBndWk6IGZvbGRlcixcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmb2xkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGZvbGRlciBvZiBhIGdpdmVuIG5hbWUgYWxyZWFkeSBleGlzdHMuXG4gICAgICovXG4gICAgZm9sZGVyRXhpc3RzKGZvbGRlck5hbWUpIHtcbiAgICAgICAgY29uc3QgZm9sZGVyID0gdGhpcy5mb2xkZXJzLmZpbHRlcihmID0+IHtcbiAgICAgICAgICAgIHJldHVybiBmLm5hbWUgPT09IGZvbGRlck5hbWU7XG4gICAgICAgIH0pWzBdO1xuICAgICAgICByZXR1cm4gISFmb2xkZXI7XG4gICAgfVxuICAgIGdldEZvbGRlcihmb2xkZXJOYW1lKSB7XG4gICAgICAgIGNvbnN0IGZvbGRlciA9IHRoaXMuZm9sZGVycy5maWx0ZXIoZiA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZi5uYW1lID09PSBmb2xkZXJOYW1lO1xuICAgICAgICB9KVswXTtcbiAgICAgICAgaWYgKCFmb2xkZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gZm9sZGVyIG5hbWVkOicgKyBmb2xkZXIgKyAnIHdhcyBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb2xkZXI7XG4gICAgfVxuICAgIGFkZFRvRm9sZGVyKGZvbGRlck5hbWUsIG9iaiwga2V5TmFtZSkge1xuICAgICAgICBjb25zdCBmb2xkZXIgPSB0aGlzLmdldEZvbGRlcihmb2xkZXJOYW1lKTtcbiAgICAgICAgZm9sZGVyLmd1aS5hZGQob2JqLCBrZXlOYW1lKTtcbiAgICB9XG4gICAgYWRkT2JqZWN0UHJvcGVydHlUb0ZvbGRlcihmb2xkZXJOYW1lLCBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIG9iaiwgY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IGZvbGRlciA9IHRoaXMuZ2V0Rm9sZGVyKGZvbGRlck5hbWUpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG9ialtjb25maWcua2V5TmFtZV07XG4gICAgICAgIGlmICghaXMuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGlzIGxvb2tzIFwiY29sb3JcIiBsaWtlLiAgQ29udmVydCBpdCB0byBjb2xvciBhbmQgdGhlbiBoYW5kbGVcbiAgICAgICAgLy8gdGhlIHVwZGF0ZSB3aGVuIGl0IGNvbWVzIGJhY2suIChTdXBwb3J0IGZvciBUaHJlZS5Db2xvcilcbiAgICAgICAgaWYgKHZhbHVlLnIgJiYgdmFsdWUuZyAmJiB2YWx1ZS5iKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgY29uc3QgY29sb3JPYmogPSB7fTtcbiAgICAgICAgICAgIGNvbG9yT2JqW2NvbmZpZy5rZXlOYW1lXSA9IGNvbG9yLm5vcm1hbGl6ZWRSZ2JUb1JnYihjb2xvci5jb2xvclJnYlRvUmdiKHZhbHVlKSk7XG4gICAgICAgICAgICBmb2xkZXIuZ3VpLmFkZENvbG9yKGNvbG9yT2JqLCBjb25maWcua2V5TmFtZSkub25DaGFuZ2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIC8vIENvbnZlcnQgaXQgYmFjay5cbiAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJ0ZWQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHI6IGNvbG9yLnJnYlRvTm9ybWFsaXplZFJnYihjb2xvck9ialtjb25maWcua2V5TmFtZV0pWzBdLFxuICAgICAgICAgICAgICAgICAgICBnOiBjb2xvci5yZ2JUb05vcm1hbGl6ZWRSZ2IoY29sb3JPYmpbY29uZmlnLmtleU5hbWVdKVsxXSxcbiAgICAgICAgICAgICAgICAgICAgYjogY29sb3IucmdiVG9Ob3JtYWxpemVkUmdiKGNvbG9yT2JqW2NvbmZpZy5rZXlOYW1lXSlbMl0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBvYmpbY29uZmlnLmtleU5hbWVdID0gY29udmVydGVkO1xuICAgICAgICAgICAgICAgIGNvbmZpZy5jYWxsYmFjayAmJiBjb25maWcuY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1blVwZGF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3VwcG9ydCBmb3IgI0ZGRkZGRiB0eXBlIGNvbG9ycy5cbiAgICAgICAgaWYgKGlzLmNzc0hleCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGZvbGRlci5ndWkuYWRkQ29sb3Iob2JqLCBjb25maWcua2V5TmFtZSkub25DaGFuZ2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5jYWxsYmFjayAmJiBjb25maWcuY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1blVwZGF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzLmRlZmluZWQoY29uZmlnLm9wdGlvbnMpKSB7XG4gICAgICAgICAgICBmb2xkZXIuZ3VpLmFkZChvYmosIGNvbmZpZy5rZXlOYW1lLCBjb25maWcub3B0aW9ucykub25DaGFuZ2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5jYWxsYmFjayAmJiBjb25maWcuY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1blVwZGF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzLmRlZmluZWQoY29uZmlnLm1pbikgJiYgaXMuZGVmaW5lZChjb25maWcubWF4KSkge1xuICAgICAgICAgICAgZm9sZGVyLmd1aVxuICAgICAgICAgICAgICAgIC5hZGQob2JqLCBjb25maWcua2V5TmFtZSwgK2NvbmZpZy5taW4sICtjb25maWcubWF4KVxuICAgICAgICAgICAgICAgIC5zdGVwKGNvbmZpZy5zdGVwIHx8IDAuMSlcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5jYWxsYmFjayAmJiBjb25maWcuY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1blVwZGF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9sZGVyLmd1aS5hZGQob2JqLCBjb25maWcua2V5TmFtZSkub25DaGFuZ2UoKCkgPT4ge1xuICAgICAgICAgICAgY29uZmlnLmNhbGxiYWNrICYmIGNvbmZpZy5jYWxsYmFjaygpO1xuICAgICAgICAgICAgdGhpcy5ydW5VcGRhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFkZE9iamVjdFRvRm9sZGVyKGZvbGRlck5hbWUsIG9iaiwgbWFwcGluZykge1xuICAgICAgICB0aGlzLmd1aS5yZW1lbWJlcihvYmopO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMga2V5IHNob3VsZCBiZSBkaXNwbGF5ZWQuXG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSBtYXBwaW5nLmZpbHRlcihjID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYy5rZXlOYW1lID09PSBrZXk7XG4gICAgICAgICAgICB9KVswXTtcbiAgICAgICAgICAgIGlmIChjb25maWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE9iamVjdFByb3BlcnR5VG9Gb2xkZXIoZm9sZGVyTmFtZSwgb2JqLCBjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0Z3VpZi5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/datguif/datguif.js\n");

/***/ }),

/***/ "./lib/dom/at-class.js":
/*!*****************************!*\
  !*** ./lib/dom/at-class.js ***!
  \*****************************/
/*! exports provided: AtClass */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AtClass\", function() { return AtClass; });\n/* harmony import */ var _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _func_func__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\n\n\n/**\n * A class that allows you to selectively apply css classes based on preset\n * conditions. After declaring your conditions, you can add css classes with\n * <className>@<condition>.\n *\n *\n * Example:\n * ```ts\n *\n * // Instantiate AtClass with your conditions.\n * const atClass = new AtClass({\n *   element: document.querySelector('myElement'),\n *   conditions: [\n *       ['desktop', ()=> window.innerWidth > 1000],\n *       ['tablet', ()=> window.innerWidth < 1000 && window.innerWidth > 780],\n *       ['mobile', ()=> window.innerWidth < 780],\n *   ],\n *   watchResize: true\n * })\n *\n * // Later\n * atClass.dispose();\n *```\n *\n *\n * Now by convention, you can apply css classes with <className>@<condition> rules.\n * In your html, you can do this:\n *\n * ```html\n * <div id=\"myElement\">\n *   <h1 class=\"blue@desktop left@desktop red@tablet orange@mobile\">Title 1</h1>\n *   <h1 class=\"green@desktop green@tablet blue@mobile\">Title 2</h1>\n * </div>\n * ```\n */\nclass AtClass {\n    constructor(config) {\n        /**\n         * A cache of all html elements with @ classes on them.\n         */\n        this.atClassElements = new Set();\n        this.config = config;\n        this.rootElement = config.element;\n        this.watcher = new _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_0__[\"DomWatcher\"]();\n        this.scanElements();\n        this.update();\n        if (this.config.watchResize) {\n            this.watcher.add({\n                element: this.rootElement,\n                on: 'resize',\n                callback: _func_func__WEBPACK_IMPORTED_MODULE_1__[\"func\"].debounce(this.update.bind(this), 50),\n            });\n        }\n    }\n    /**\n     * Scans the rootElement and creates a cache of all elements with @ classes\n     * within the current root element.\n     */\n    scanElements() {\n        this.config.conditions.forEach(condition => {\n            const conditionName = condition[0];\n            const elements = Array.from(this.rootElement.querySelectorAll(`[class*=\"@${conditionName}\"]`));\n            // Include rootElement.\n            if (this.rootElement.matches(`[class*=\"@${conditionName}\"]`)) {\n                elements.push(this.rootElement);\n            }\n            elements.forEach(element => {\n                this.atClassElements.add(new AtClassElement(element));\n            });\n        });\n    }\n    /**\n     * Updates all conditions and applies classes.\n     */\n    update() {\n        // Go through all conditions and remove classes where conditions\n        // are false and apply classes where conditions are true.\n        // Note the order of execution is important here.  We want to\n        // remove first and then apply true conditions.\n        const trueCases = [];\n        const falseCases = [];\n        this.config.conditions.forEach(condition => {\n            if (condition[1]()) {\n                trueCases.push(condition);\n            }\n            else {\n                falseCases.push(condition);\n            }\n        });\n        falseCases.forEach(falseCase => {\n            const falseCaseName = falseCase[0];\n            this.atClassElements.forEach(atClassElement => {\n                atClassElement.removeClassesForCondition(falseCaseName);\n            });\n        });\n        trueCases.forEach(trueCase => {\n            const trueCaseName = trueCase[0];\n            this.atClassElements.forEach(atClassElement => {\n                atClassElement.addClassesForCondition(trueCaseName);\n            });\n        });\n    }\n    dispose() {\n        this.watcher.dispose();\n    }\n}\n/**\n * A wrapper class around any element that has the css class has @ in the css\n * classes.\n */\nclass AtClassElement {\n    constructor(element) {\n        /**\n         * A record of condition to classNames.  For example,\n         * if this element started with, `blue@desktop left@desktop,\n         * red@tablet orange@mobile` as the class names, this would look as follows:\n         *\n         * {\n         *   desktop: [blue, left],\n         *   tablet: [red],\n         *   mobile: [orange],\n         * }\n         */\n        this.conditionToClassNames = {};\n        this.element = element;\n        const classNames = element.className.split(' ');\n        // Create the conditionToClassName record.\n        classNames.forEach((className) => {\n            if (className.includes('@')) {\n                const classNameParts = className.split('@');\n                const conditionName = classNameParts[1];\n                if (!this.conditionToClassNames[conditionName]) {\n                    this.conditionToClassNames[conditionName] = [];\n                }\n                this.conditionToClassNames[conditionName].push(classNameParts[0]);\n            }\n        });\n    }\n    removeClassesForCondition(conditionName) {\n        const conditions = this.conditionToClassNames[conditionName];\n        if (conditions) {\n            this.element.classList.remove(...conditions);\n        }\n    }\n    addClassesForCondition(conditionName) {\n        const conditions = this.conditionToClassNames[conditionName];\n        if (conditions) {\n            this.element.classList.add(...conditions);\n        }\n    }\n}\n//# sourceMappingURL=at-class.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2F0LWNsYXNzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RvbS9hdC1jbGFzcy5qcz9hMjA2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9kb20vZG9tLXdhdGNoZXInO1xuaW1wb3J0IHsgZnVuYyB9IGZyb20gJy4uL2Z1bmMvZnVuYyc7XG4vKipcbiAqIEEgY2xhc3MgdGhhdCBhbGxvd3MgeW91IHRvIHNlbGVjdGl2ZWx5IGFwcGx5IGNzcyBjbGFzc2VzIGJhc2VkIG9uIHByZXNldFxuICogY29uZGl0aW9ucy4gQWZ0ZXIgZGVjbGFyaW5nIHlvdXIgY29uZGl0aW9ucywgeW91IGNhbiBhZGQgY3NzIGNsYXNzZXMgd2l0aFxuICogPGNsYXNzTmFtZT5APGNvbmRpdGlvbj4uXG4gKlxuICpcbiAqIEV4YW1wbGU6XG4gKiBgYGB0c1xuICpcbiAqIC8vIEluc3RhbnRpYXRlIEF0Q2xhc3Mgd2l0aCB5b3VyIGNvbmRpdGlvbnMuXG4gKiBjb25zdCBhdENsYXNzID0gbmV3IEF0Q2xhc3Moe1xuICogICBlbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdteUVsZW1lbnQnKSxcbiAqICAgY29uZGl0aW9uczogW1xuICogICAgICAgWydkZXNrdG9wJywgKCk9PiB3aW5kb3cuaW5uZXJXaWR0aCA+IDEwMDBdLFxuICogICAgICAgWyd0YWJsZXQnLCAoKT0+IHdpbmRvdy5pbm5lcldpZHRoIDwgMTAwMCAmJiB3aW5kb3cuaW5uZXJXaWR0aCA+IDc4MF0sXG4gKiAgICAgICBbJ21vYmlsZScsICgpPT4gd2luZG93LmlubmVyV2lkdGggPCA3ODBdLFxuICogICBdLFxuICogICB3YXRjaFJlc2l6ZTogdHJ1ZVxuICogfSlcbiAqXG4gKiAvLyBMYXRlclxuICogYXRDbGFzcy5kaXNwb3NlKCk7XG4gKmBgYFxuICpcbiAqXG4gKiBOb3cgYnkgY29udmVudGlvbiwgeW91IGNhbiBhcHBseSBjc3MgY2xhc3NlcyB3aXRoIDxjbGFzc05hbWU+QDxjb25kaXRpb24+IHJ1bGVzLlxuICogSW4geW91ciBodG1sLCB5b3UgY2FuIGRvIHRoaXM6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBpZD1cIm15RWxlbWVudFwiPlxuICogICA8aDEgY2xhc3M9XCJibHVlQGRlc2t0b3AgbGVmdEBkZXNrdG9wIHJlZEB0YWJsZXQgb3JhbmdlQG1vYmlsZVwiPlRpdGxlIDE8L2gxPlxuICogICA8aDEgY2xhc3M9XCJncmVlbkBkZXNrdG9wIGdyZWVuQHRhYmxldCBibHVlQG1vYmlsZVwiPlRpdGxlIDI8L2gxPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIEF0Q2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBjYWNoZSBvZiBhbGwgaHRtbCBlbGVtZW50cyB3aXRoIEAgY2xhc3NlcyBvbiB0aGVtLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdENsYXNzRWxlbWVudHMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLnJvb3RFbGVtZW50ID0gY29uZmlnLmVsZW1lbnQ7XG4gICAgICAgIHRoaXMud2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgICAgIHRoaXMuc2NhbkVsZW1lbnRzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy53YXRjaFJlc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy53YXRjaGVyLmFkZCh7XG4gICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcy5yb290RWxlbWVudCxcbiAgICAgICAgICAgICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmMuZGVib3VuY2UodGhpcy51cGRhdGUuYmluZCh0aGlzKSwgNTApLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2NhbnMgdGhlIHJvb3RFbGVtZW50IGFuZCBjcmVhdGVzIGEgY2FjaGUgb2YgYWxsIGVsZW1lbnRzIHdpdGggQCBjbGFzc2VzXG4gICAgICogd2l0aGluIHRoZSBjdXJyZW50IHJvb3QgZWxlbWVudC5cbiAgICAgKi9cbiAgICBzY2FuRWxlbWVudHMoKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmNvbmRpdGlvbnMuZm9yRWFjaChjb25kaXRpb24gPT4ge1xuICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uTmFtZSA9IGNvbmRpdGlvblswXTtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbSh0aGlzLnJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFtjbGFzcyo9XCJAJHtjb25kaXRpb25OYW1lfVwiXWApKTtcbiAgICAgICAgICAgIC8vIEluY2x1ZGUgcm9vdEVsZW1lbnQuXG4gICAgICAgICAgICBpZiAodGhpcy5yb290RWxlbWVudC5tYXRjaGVzKGBbY2xhc3MqPVwiQCR7Y29uZGl0aW9uTmFtZX1cIl1gKSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzLnB1c2godGhpcy5yb290RWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXRDbGFzc0VsZW1lbnRzLmFkZChuZXcgQXRDbGFzc0VsZW1lbnQoZWxlbWVudCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIGFsbCBjb25kaXRpb25zIGFuZCBhcHBsaWVzIGNsYXNzZXMuXG4gICAgICovXG4gICAgdXBkYXRlKCkge1xuICAgICAgICAvLyBHbyB0aHJvdWdoIGFsbCBjb25kaXRpb25zIGFuZCByZW1vdmUgY2xhc3NlcyB3aGVyZSBjb25kaXRpb25zXG4gICAgICAgIC8vIGFyZSBmYWxzZSBhbmQgYXBwbHkgY2xhc3NlcyB3aGVyZSBjb25kaXRpb25zIGFyZSB0cnVlLlxuICAgICAgICAvLyBOb3RlIHRoZSBvcmRlciBvZiBleGVjdXRpb24gaXMgaW1wb3J0YW50IGhlcmUuICBXZSB3YW50IHRvXG4gICAgICAgIC8vIHJlbW92ZSBmaXJzdCBhbmQgdGhlbiBhcHBseSB0cnVlIGNvbmRpdGlvbnMuXG4gICAgICAgIGNvbnN0IHRydWVDYXNlcyA9IFtdO1xuICAgICAgICBjb25zdCBmYWxzZUNhc2VzID0gW107XG4gICAgICAgIHRoaXMuY29uZmlnLmNvbmRpdGlvbnMuZm9yRWFjaChjb25kaXRpb24gPT4ge1xuICAgICAgICAgICAgaWYgKGNvbmRpdGlvblsxXSgpKSB7XG4gICAgICAgICAgICAgICAgdHJ1ZUNhc2VzLnB1c2goY29uZGl0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhbHNlQ2FzZXMucHVzaChjb25kaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZmFsc2VDYXNlcy5mb3JFYWNoKGZhbHNlQ2FzZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmYWxzZUNhc2VOYW1lID0gZmFsc2VDYXNlWzBdO1xuICAgICAgICAgICAgdGhpcy5hdENsYXNzRWxlbWVudHMuZm9yRWFjaChhdENsYXNzRWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgYXRDbGFzc0VsZW1lbnQucmVtb3ZlQ2xhc3Nlc0ZvckNvbmRpdGlvbihmYWxzZUNhc2VOYW1lKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdHJ1ZUNhc2VzLmZvckVhY2godHJ1ZUNhc2UgPT4ge1xuICAgICAgICAgICAgY29uc3QgdHJ1ZUNhc2VOYW1lID0gdHJ1ZUNhc2VbMF07XG4gICAgICAgICAgICB0aGlzLmF0Q2xhc3NFbGVtZW50cy5mb3JFYWNoKGF0Q2xhc3NFbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICBhdENsYXNzRWxlbWVudC5hZGRDbGFzc2VzRm9yQ29uZGl0aW9uKHRydWVDYXNlTmFtZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMud2F0Y2hlci5kaXNwb3NlKCk7XG4gICAgfVxufVxuLyoqXG4gKiBBIHdyYXBwZXIgY2xhc3MgYXJvdW5kIGFueSBlbGVtZW50IHRoYXQgaGFzIHRoZSBjc3MgY2xhc3MgaGFzIEAgaW4gdGhlIGNzc1xuICogY2xhc3Nlcy5cbiAqL1xuY2xhc3MgQXRDbGFzc0VsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVjb3JkIG9mIGNvbmRpdGlvbiB0byBjbGFzc05hbWVzLiAgRm9yIGV4YW1wbGUsXG4gICAgICAgICAqIGlmIHRoaXMgZWxlbWVudCBzdGFydGVkIHdpdGgsIGBibHVlQGRlc2t0b3AgbGVmdEBkZXNrdG9wLFxuICAgICAgICAgKiByZWRAdGFibGV0IG9yYW5nZUBtb2JpbGVgIGFzIHRoZSBjbGFzcyBuYW1lcywgdGhpcyB3b3VsZCBsb29rIGFzIGZvbGxvd3M6XG4gICAgICAgICAqXG4gICAgICAgICAqIHtcbiAgICAgICAgICogICBkZXNrdG9wOiBbYmx1ZSwgbGVmdF0sXG4gICAgICAgICAqICAgdGFibGV0OiBbcmVkXSxcbiAgICAgICAgICogICBtb2JpbGU6IFtvcmFuZ2VdLFxuICAgICAgICAgKiB9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbmRpdGlvblRvQ2xhc3NOYW1lcyA9IHt9O1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICBjb25zdCBjbGFzc05hbWVzID0gZWxlbWVudC5jbGFzc05hbWUuc3BsaXQoJyAnKTtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBjb25kaXRpb25Ub0NsYXNzTmFtZSByZWNvcmQuXG4gICAgICAgIGNsYXNzTmFtZXMuZm9yRWFjaCgoY2xhc3NOYW1lKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2xhc3NOYW1lLmluY2x1ZGVzKCdAJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGFzc05hbWVQYXJ0cyA9IGNsYXNzTmFtZS5zcGxpdCgnQCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvbk5hbWUgPSBjbGFzc05hbWVQYXJ0c1sxXTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY29uZGl0aW9uVG9DbGFzc05hbWVzW2NvbmRpdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZGl0aW9uVG9DbGFzc05hbWVzW2NvbmRpdGlvbk5hbWVdID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY29uZGl0aW9uVG9DbGFzc05hbWVzW2NvbmRpdGlvbk5hbWVdLnB1c2goY2xhc3NOYW1lUGFydHNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVtb3ZlQ2xhc3Nlc0ZvckNvbmRpdGlvbihjb25kaXRpb25OYW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbmRpdGlvbnMgPSB0aGlzLmNvbmRpdGlvblRvQ2xhc3NOYW1lc1tjb25kaXRpb25OYW1lXTtcbiAgICAgICAgaWYgKGNvbmRpdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKC4uLmNvbmRpdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZENsYXNzZXNGb3JDb25kaXRpb24oY29uZGl0aW9uTmFtZSkge1xuICAgICAgICBjb25zdCBjb25kaXRpb25zID0gdGhpcy5jb25kaXRpb25Ub0NsYXNzTmFtZXNbY29uZGl0aW9uTmFtZV07XG4gICAgICAgIGlmIChjb25kaXRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCguLi5jb25kaXRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF0LWNsYXNzLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/dom/at-class.js\n");

/***/ }),

/***/ "./lib/dom/at-tabindex.js":
/*!********************************!*\
  !*** ./lib/dom/at-tabindex.js ***!
  \********************************/
/*! exports provided: AtTabIndex */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AtTabIndex\", function() { return AtTabIndex; });\n/* harmony import */ var _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _func_func__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\n/* harmony import */ var _dom_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dom/dom */ \"./lib/dom/dom.js\");\n\n\n\n/**\n * AtTabIndex helps with accessibility by allows you to set tabindex values\n * to DomElements per specific conditions (usually some breakpoints.)\n *\n * Setup\n * ```\n *   const atTabIndex = new AtTabIndex({\n *     element: this.frame,\n *     conditions: [\n *       ['desktop', () => window.innerWidth >= 1440],\n *       [\n *         'laptop',\n *         () => window.innerWidth <= 1439 && window.innerWidth >= 1024,\n *       ],\n *       ['tablet', () => window.innerWidth <= 1023 && window.innerWidth >= 600],\n *       ['mobile', () => window.innerWidth <= 599],\n *       ['tablet-gt', () => window.innerWidth >= 600],\n *       ['tablet-lt', () => window.innerWidth <= 1023],\n *       ['laptop-gt', () => window.innerWidth >= 1024],\n *       ['laptop-lt', () => window.innerWidth <= 1439],\n *       ['desktop-gt', () => window.innerWidth >= 1440],\n *     ],\n *     watchResize: true,\n *     updateChildren: true\n *   });\n *\n *  // Later\n *  atTabIndex.dispose();\n *\n * ```\n *\n *\n * Usages:\n * ```\n *\n * <div at-tab-index=\"2@tablet-lt 3@laptop-gt\">\n *    Tab Index gets set 2 on tablet-lt and 3 on laptop-gt\n * </div>\n *\n * <div at-tab-index=\"2@mobile\">Tab index only on mobile</div>\n * ```\n *\n *\n * When updateChildren is true, at-tab-index will update the focusable children\n * as well.\n *\n * You can add `at-tab-index-ignore` if you want to ignore specific children\n * from updating.\n * ```\n * <div at-tab-index=\"4@mobile\" at-tab-index-ignore>\n *      <button>This button will get tab-index 4 on mobile</button>\n *      <button>This button will get tab-index 4 on mobile</button>\n *      <button at-tab-index-ignore>This button will get tab-index 4 on mobile</button>\n * </div>\n *\n * ```\n *\n */\nclass AtTabIndex {\n    constructor(config) {\n        /**\n         * A cache of all html elements with `at-tab-index` on them.\n         */\n        this.atTabIndexElements = new Set();\n        this.config = config;\n        this.rootElement = config.element;\n        this.watcher = new _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_0__[\"DomWatcher\"]();\n        this.scanElements();\n        this.update();\n        if (this.config.watchResize) {\n            this.watcher.add({\n                element: this.rootElement,\n                on: 'resize',\n                callback: _func_func__WEBPACK_IMPORTED_MODULE_1__[\"func\"].debounce(this.update.bind(this), 50),\n            });\n        }\n    }\n    /**\n     * Scans the rootElement and creates a cache of all elements with `at-tab-index`\n     * within the current root element.\n     */\n    scanElements() {\n        this.config.conditions.forEach(condition => {\n            const conditionName = condition[0];\n            const elements = Array.from(this.rootElement.querySelectorAll('[at-tab-index]'));\n            // Include rootElement.\n            if (this.rootElement.matches('[at-tab-index]')) {\n                elements.push(this.rootElement);\n            }\n            elements.forEach(element => {\n                this.atTabIndexElements.add(new AtTabIndexElement(element));\n            });\n        });\n    }\n    /**\n     * Updates all conditions and applies tabindex\n     */\n    update() {\n        // Go through all conditions and remove tabindex where conditions\n        // are false and apply tabindex where conditions are true.\n        // Note the order of execution is important here.  We want to\n        // remove first and then apply true conditions.\n        const trueCases = [];\n        const falseCases = [];\n        this.config.conditions.forEach(condition => {\n            if (condition[1]()) {\n                trueCases.push(condition);\n            }\n            else {\n                falseCases.push(condition);\n            }\n        });\n        falseCases.forEach(falseCase => {\n            const falseCaseName = falseCase[0];\n            this.atTabIndexElements.forEach(atTabIndexElement => {\n                atTabIndexElement.removeTabIndexForCondition(falseCaseName, this.config.updateChildren);\n            });\n        });\n        trueCases.forEach(trueCase => {\n            const trueCaseName = trueCase[0];\n            this.atTabIndexElements.forEach(atTabIndexElement => {\n                atTabIndexElement.addTabIndexForCondition(trueCaseName, this.config.updateChildren);\n            });\n        });\n    }\n    dispose() {\n        this.watcher.dispose();\n    }\n}\n/**\n * A wrapper class around any element that has the attribute `atTabIndex`\n */\nclass AtTabIndexElement {\n    constructor(element) {\n        /**\n         * A record of condition to tabIndex.\n         * {\n         *   desktop: [1],\n         *   tablet: [2],\n         *   mobile: [3],\n         * }\n         */\n        this.conditionToTabIndex = {};\n        this.element = element;\n        const tabDeclarations = element.getAttribute('at-tab-index').split(' ');\n        tabDeclarations.forEach((declaration) => {\n            if (declaration.includes('@')) {\n                const parts = declaration.split('@');\n                const conditionName = parts[1];\n                if (!this.conditionToTabIndex[conditionName]) {\n                    this.conditionToTabIndex[conditionName] = [];\n                }\n                this.conditionToTabIndex[conditionName].push(parts[0]);\n            }\n        });\n    }\n    removeTabIndexForCondition(conditionName, updateChildren = false) {\n        if (!this.element.hasAttribute('at-tab-index-ignore')) {\n            this.element.removeAttribute('tabindex');\n        }\n        if (updateChildren) {\n            const elements = _dom_dom__WEBPACK_IMPORTED_MODULE_2__[\"getFocusableElements\"](this.element);\n            elements.forEach(element => {\n                if (!element.hasAttribute('at-tab-index-ignore')) {\n                    element.removeAttribute('tabindex');\n                }\n            });\n        }\n    }\n    addTabIndexForCondition(conditionName, updateChildren = false) {\n        const conditions = this.conditionToTabIndex[conditionName];\n        if (conditions) {\n            conditions.forEach(condition => {\n                if (!this.element.hasAttribute('at-tab-index-ignore')) {\n                    this.element.setAttribute('tabindex', condition);\n                }\n                if (updateChildren) {\n                    const elements = _dom_dom__WEBPACK_IMPORTED_MODULE_2__[\"getFocusableElements\"](this.element);\n                    elements.forEach(element => {\n                        if (!element.hasAttribute('at-tab-index-ignore')) {\n                            element.setAttribute('tabindex', condition);\n                        }\n                    });\n                }\n            });\n        }\n    }\n}\n//# sourceMappingURL=at-tabindex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2F0LXRhYmluZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RvbS9hdC10YWJpbmRleC5qcz81NjM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9kb20vZG9tLXdhdGNoZXInO1xuaW1wb3J0IHsgZnVuYyB9IGZyb20gJy4uL2Z1bmMvZnVuYyc7XG5pbXBvcnQgKiBhcyBkb20gZnJvbSAnLi4vZG9tL2RvbSc7XG4vKipcbiAqIEF0VGFiSW5kZXggaGVscHMgd2l0aCBhY2Nlc3NpYmlsaXR5IGJ5IGFsbG93cyB5b3UgdG8gc2V0IHRhYmluZGV4IHZhbHVlc1xuICogdG8gRG9tRWxlbWVudHMgcGVyIHNwZWNpZmljIGNvbmRpdGlvbnMgKHVzdWFsbHkgc29tZSBicmVha3BvaW50cy4pXG4gKlxuICogU2V0dXBcbiAqIGBgYFxuICogICBjb25zdCBhdFRhYkluZGV4ID0gbmV3IEF0VGFiSW5kZXgoe1xuICogICAgIGVsZW1lbnQ6IHRoaXMuZnJhbWUsXG4gKiAgICAgY29uZGl0aW9uczogW1xuICogICAgICAgWydkZXNrdG9wJywgKCkgPT4gd2luZG93LmlubmVyV2lkdGggPj0gMTQ0MF0sXG4gKiAgICAgICBbXG4gKiAgICAgICAgICdsYXB0b3AnLFxuICogICAgICAgICAoKSA9PiB3aW5kb3cuaW5uZXJXaWR0aCA8PSAxNDM5ICYmIHdpbmRvdy5pbm5lcldpZHRoID49IDEwMjQsXG4gKiAgICAgICBdLFxuICogICAgICAgWyd0YWJsZXQnLCAoKSA9PiB3aW5kb3cuaW5uZXJXaWR0aCA8PSAxMDIzICYmIHdpbmRvdy5pbm5lcldpZHRoID49IDYwMF0sXG4gKiAgICAgICBbJ21vYmlsZScsICgpID0+IHdpbmRvdy5pbm5lcldpZHRoIDw9IDU5OV0sXG4gKiAgICAgICBbJ3RhYmxldC1ndCcsICgpID0+IHdpbmRvdy5pbm5lcldpZHRoID49IDYwMF0sXG4gKiAgICAgICBbJ3RhYmxldC1sdCcsICgpID0+IHdpbmRvdy5pbm5lcldpZHRoIDw9IDEwMjNdLFxuICogICAgICAgWydsYXB0b3AtZ3QnLCAoKSA9PiB3aW5kb3cuaW5uZXJXaWR0aCA+PSAxMDI0XSxcbiAqICAgICAgIFsnbGFwdG9wLWx0JywgKCkgPT4gd2luZG93LmlubmVyV2lkdGggPD0gMTQzOV0sXG4gKiAgICAgICBbJ2Rlc2t0b3AtZ3QnLCAoKSA9PiB3aW5kb3cuaW5uZXJXaWR0aCA+PSAxNDQwXSxcbiAqICAgICBdLFxuICogICAgIHdhdGNoUmVzaXplOiB0cnVlLFxuICogICAgIHVwZGF0ZUNoaWxkcmVuOiB0cnVlXG4gKiAgIH0pO1xuICpcbiAqICAvLyBMYXRlclxuICogIGF0VGFiSW5kZXguZGlzcG9zZSgpO1xuICpcbiAqIGBgYFxuICpcbiAqXG4gKiBVc2FnZXM6XG4gKiBgYGBcbiAqXG4gKiA8ZGl2IGF0LXRhYi1pbmRleD1cIjJAdGFibGV0LWx0IDNAbGFwdG9wLWd0XCI+XG4gKiAgICBUYWIgSW5kZXggZ2V0cyBzZXQgMiBvbiB0YWJsZXQtbHQgYW5kIDMgb24gbGFwdG9wLWd0XG4gKiA8L2Rpdj5cbiAqXG4gKiA8ZGl2IGF0LXRhYi1pbmRleD1cIjJAbW9iaWxlXCI+VGFiIGluZGV4IG9ubHkgb24gbW9iaWxlPC9kaXY+XG4gKiBgYGBcbiAqXG4gKlxuICogV2hlbiB1cGRhdGVDaGlsZHJlbiBpcyB0cnVlLCBhdC10YWItaW5kZXggd2lsbCB1cGRhdGUgdGhlIGZvY3VzYWJsZSBjaGlsZHJlblxuICogYXMgd2VsbC5cbiAqXG4gKiBZb3UgY2FuIGFkZCBgYXQtdGFiLWluZGV4LWlnbm9yZWAgaWYgeW91IHdhbnQgdG8gaWdub3JlIHNwZWNpZmljIGNoaWxkcmVuXG4gKiBmcm9tIHVwZGF0aW5nLlxuICogYGBgXG4gKiA8ZGl2IGF0LXRhYi1pbmRleD1cIjRAbW9iaWxlXCIgYXQtdGFiLWluZGV4LWlnbm9yZT5cbiAqICAgICAgPGJ1dHRvbj5UaGlzIGJ1dHRvbiB3aWxsIGdldCB0YWItaW5kZXggNCBvbiBtb2JpbGU8L2J1dHRvbj5cbiAqICAgICAgPGJ1dHRvbj5UaGlzIGJ1dHRvbiB3aWxsIGdldCB0YWItaW5kZXggNCBvbiBtb2JpbGU8L2J1dHRvbj5cbiAqICAgICAgPGJ1dHRvbiBhdC10YWItaW5kZXgtaWdub3JlPlRoaXMgYnV0dG9uIHdpbGwgZ2V0IHRhYi1pbmRleCA0IG9uIG1vYmlsZTwvYnV0dG9uPlxuICogPC9kaXY+XG4gKlxuICogYGBgXG4gKlxuICovXG5leHBvcnQgY2xhc3MgQXRUYWJJbmRleCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNhY2hlIG9mIGFsbCBodG1sIGVsZW1lbnRzIHdpdGggYGF0LXRhYi1pbmRleGAgb24gdGhlbS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXRUYWJJbmRleEVsZW1lbnRzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5yb290RWxlbWVudCA9IGNvbmZpZy5lbGVtZW50O1xuICAgICAgICB0aGlzLndhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgICAgICB0aGlzLnNjYW5FbGVtZW50cygpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICBpZiAodGhpcy5jb25maWcud2F0Y2hSZXNpemUpIHtcbiAgICAgICAgICAgIHRoaXMud2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMucm9vdEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgb246ICdyZXNpemUnLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jLmRlYm91bmNlKHRoaXMudXBkYXRlLmJpbmQodGhpcyksIDUwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNjYW5zIHRoZSByb290RWxlbWVudCBhbmQgY3JlYXRlcyBhIGNhY2hlIG9mIGFsbCBlbGVtZW50cyB3aXRoIGBhdC10YWItaW5kZXhgXG4gICAgICogd2l0aGluIHRoZSBjdXJyZW50IHJvb3QgZWxlbWVudC5cbiAgICAgKi9cbiAgICBzY2FuRWxlbWVudHMoKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmNvbmRpdGlvbnMuZm9yRWFjaChjb25kaXRpb24gPT4ge1xuICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uTmFtZSA9IGNvbmRpdGlvblswXTtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbSh0aGlzLnJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1thdC10YWItaW5kZXhdJykpO1xuICAgICAgICAgICAgLy8gSW5jbHVkZSByb290RWxlbWVudC5cbiAgICAgICAgICAgIGlmICh0aGlzLnJvb3RFbGVtZW50Lm1hdGNoZXMoJ1thdC10YWItaW5kZXhdJykpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5wdXNoKHRoaXMucm9vdEVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmF0VGFiSW5kZXhFbGVtZW50cy5hZGQobmV3IEF0VGFiSW5kZXhFbGVtZW50KGVsZW1lbnQpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyBhbGwgY29uZGl0aW9ucyBhbmQgYXBwbGllcyB0YWJpbmRleFxuICAgICAqL1xuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgLy8gR28gdGhyb3VnaCBhbGwgY29uZGl0aW9ucyBhbmQgcmVtb3ZlIHRhYmluZGV4IHdoZXJlIGNvbmRpdGlvbnNcbiAgICAgICAgLy8gYXJlIGZhbHNlIGFuZCBhcHBseSB0YWJpbmRleCB3aGVyZSBjb25kaXRpb25zIGFyZSB0cnVlLlxuICAgICAgICAvLyBOb3RlIHRoZSBvcmRlciBvZiBleGVjdXRpb24gaXMgaW1wb3J0YW50IGhlcmUuICBXZSB3YW50IHRvXG4gICAgICAgIC8vIHJlbW92ZSBmaXJzdCBhbmQgdGhlbiBhcHBseSB0cnVlIGNvbmRpdGlvbnMuXG4gICAgICAgIGNvbnN0IHRydWVDYXNlcyA9IFtdO1xuICAgICAgICBjb25zdCBmYWxzZUNhc2VzID0gW107XG4gICAgICAgIHRoaXMuY29uZmlnLmNvbmRpdGlvbnMuZm9yRWFjaChjb25kaXRpb24gPT4ge1xuICAgICAgICAgICAgaWYgKGNvbmRpdGlvblsxXSgpKSB7XG4gICAgICAgICAgICAgICAgdHJ1ZUNhc2VzLnB1c2goY29uZGl0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhbHNlQ2FzZXMucHVzaChjb25kaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZmFsc2VDYXNlcy5mb3JFYWNoKGZhbHNlQ2FzZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmYWxzZUNhc2VOYW1lID0gZmFsc2VDYXNlWzBdO1xuICAgICAgICAgICAgdGhpcy5hdFRhYkluZGV4RWxlbWVudHMuZm9yRWFjaChhdFRhYkluZGV4RWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgYXRUYWJJbmRleEVsZW1lbnQucmVtb3ZlVGFiSW5kZXhGb3JDb25kaXRpb24oZmFsc2VDYXNlTmFtZSwgdGhpcy5jb25maWcudXBkYXRlQ2hpbGRyZW4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0cnVlQ2FzZXMuZm9yRWFjaCh0cnVlQ2FzZSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0cnVlQ2FzZU5hbWUgPSB0cnVlQ2FzZVswXTtcbiAgICAgICAgICAgIHRoaXMuYXRUYWJJbmRleEVsZW1lbnRzLmZvckVhY2goYXRUYWJJbmRleEVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgIGF0VGFiSW5kZXhFbGVtZW50LmFkZFRhYkluZGV4Rm9yQ29uZGl0aW9uKHRydWVDYXNlTmFtZSwgdGhpcy5jb25maWcudXBkYXRlQ2hpbGRyZW4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLndhdGNoZXIuZGlzcG9zZSgpO1xuICAgIH1cbn1cbi8qKlxuICogQSB3cmFwcGVyIGNsYXNzIGFyb3VuZCBhbnkgZWxlbWVudCB0aGF0IGhhcyB0aGUgYXR0cmlidXRlIGBhdFRhYkluZGV4YFxuICovXG5jbGFzcyBBdFRhYkluZGV4RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWNvcmQgb2YgY29uZGl0aW9uIHRvIHRhYkluZGV4LlxuICAgICAgICAgKiB7XG4gICAgICAgICAqICAgZGVza3RvcDogWzFdLFxuICAgICAgICAgKiAgIHRhYmxldDogWzJdLFxuICAgICAgICAgKiAgIG1vYmlsZTogWzNdLFxuICAgICAgICAgKiB9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbmRpdGlvblRvVGFiSW5kZXggPSB7fTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgY29uc3QgdGFiRGVjbGFyYXRpb25zID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2F0LXRhYi1pbmRleCcpLnNwbGl0KCcgJyk7XG4gICAgICAgIHRhYkRlY2xhcmF0aW9ucy5mb3JFYWNoKChkZWNsYXJhdGlvbikgPT4ge1xuICAgICAgICAgICAgaWYgKGRlY2xhcmF0aW9uLmluY2x1ZGVzKCdAJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0cyA9IGRlY2xhcmF0aW9uLnNwbGl0KCdAJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uTmFtZSA9IHBhcnRzWzFdO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb25kaXRpb25Ub1RhYkluZGV4W2NvbmRpdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZGl0aW9uVG9UYWJJbmRleFtjb25kaXRpb25OYW1lXSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNvbmRpdGlvblRvVGFiSW5kZXhbY29uZGl0aW9uTmFtZV0ucHVzaChwYXJ0c1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZW1vdmVUYWJJbmRleEZvckNvbmRpdGlvbihjb25kaXRpb25OYW1lLCB1cGRhdGVDaGlsZHJlbiA9IGZhbHNlKSB7XG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50Lmhhc0F0dHJpYnV0ZSgnYXQtdGFiLWluZGV4LWlnbm9yZScpKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCd0YWJpbmRleCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGVDaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSBkb20uZ2V0Rm9jdXNhYmxlRWxlbWVudHModGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgIGVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnYXQtdGFiLWluZGV4LWlnbm9yZScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCd0YWJpbmRleCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZFRhYkluZGV4Rm9yQ29uZGl0aW9uKGNvbmRpdGlvbk5hbWUsIHVwZGF0ZUNoaWxkcmVuID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgY29uZGl0aW9ucyA9IHRoaXMuY29uZGl0aW9uVG9UYWJJbmRleFtjb25kaXRpb25OYW1lXTtcbiAgICAgICAgaWYgKGNvbmRpdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbmRpdGlvbnMuZm9yRWFjaChjb25kaXRpb24gPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5lbGVtZW50Lmhhc0F0dHJpYnV0ZSgnYXQtdGFiLWluZGV4LWlnbm9yZScpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgY29uZGl0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZUNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gZG9tLmdldEZvY3VzYWJsZUVsZW1lbnRzKHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQuaGFzQXR0cmlidXRlKCdhdC10YWItaW5kZXgtaWdub3JlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCBjb25kaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF0LXRhYmluZGV4LmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/dom/at-tabindex.js\n");

/***/ }),

/***/ "./lib/dom/bom.js":
/*!************************!*\
  !*** ./lib/dom/bom.js ***!
  \************************/
/*! exports provided: smartResize, sleep, appendBrowserNameToElement, bom */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"smartResize\", function() { return smartResize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sleep\", function() { return sleep; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"appendBrowserNameToElement\", function() { return appendBrowserNameToElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bom\", function() { return bom; });\n/* harmony import */ var _is_is__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\n\n/**\n * Acts just like a regular window resize but fixes resize thrashing that\n * happens on mobile during scrolling.\n *\n * The issue is that on mobile, there is that browser URL bar.  As the user\n * scrolls, the url bar scrolls way with it, increasing the viewport\n * height.  The window fires the resize event (since it is a different size).\n *\n * This causes a situation where, as the user scrolls through a page on\n * mobile, resize events are unnecessarily called if you only care\n * about the \"width\" changing.\n *\n * The method creates a listener on the window resize except it retains\n * memory of the last browser width.  If the browser width hasn't\n * changed, it will cull/cut off that event.\n *\n * ```ts\n * let done = bom.smartResize(()=> {\n *   console.log('window resize but called when user scrolls on mobile')\n * }, { passive: true});\n *\n *\n * // Call later to remove listener.\n * done();\n *\n * ```\n *\n *\n * This isn't applied on non-mobile browsers.\n * @param {Function} callback\n * @param {Object} options The resize options such as passive: true\n * @return {Function} A function that which when called, will automatically\n *     remove that attached listener from the window.\n */\nfunction smartResize(callback, options) {\n    let width = 0;\n    const handler = e => {\n        const currentWidth = window.innerWidth;\n        const allowCallback = !_is_is__WEBPACK_IMPORTED_MODULE_0__[\"mobile\"]() || width !== currentWidth;\n        if (allowCallback) {\n            callback(e);\n            width = currentWidth;\n        }\n    };\n    window.addEventListener('resize', handler, options);\n    return () => {\n        window.removeEventListener('resize', handler);\n    };\n}\n/**\n * Returns a promise that resolves after the given amount of time.\n */\nfunction sleep(durationMs) {\n    return new Promise(resolve => setTimeout(resolve, durationMs));\n}\n/**\n * Checks the current browser and appends a css class name to the element.\n *\n * ```\n * // Now this element would receive a class name of the current browser such\n * // as 'safari', 'ios'\n * bom.appendBrowserNameToElement(element);\n * ```\n * @param element\n */\nfunction appendBrowserNameToElement(element) {\n    const checks = {\n        ieOrEdge: _is_is__WEBPACK_IMPORTED_MODULE_0__[\"ieOrEdge\"],\n        edge: _is_is__WEBPACK_IMPORTED_MODULE_0__[\"edge\"],\n        ie: _is_is__WEBPACK_IMPORTED_MODULE_0__[\"ie\"],\n        mobile: _is_is__WEBPACK_IMPORTED_MODULE_0__[\"mobile\"],\n        safari: _is_is__WEBPACK_IMPORTED_MODULE_0__[\"safari\"],\n        chrome: _is_is__WEBPACK_IMPORTED_MODULE_0__[\"chrome\"],\n        chromeOs: _is_is__WEBPACK_IMPORTED_MODULE_0__[\"chrome\"],\n        firefox: _is_is__WEBPACK_IMPORTED_MODULE_0__[\"firefox\"],\n        ios: _is_is__WEBPACK_IMPORTED_MODULE_0__[\"ios\"],\n        ipad: _is_is__WEBPACK_IMPORTED_MODULE_0__[\"ipad\"],\n        android: _is_is__WEBPACK_IMPORTED_MODULE_0__[\"android\"],\n    };\n    for (const key in checks) {\n        if (checks[key]()) {\n            element.classList.add(key);\n        }\n    }\n}\n/**\n * Degu BOM (browser object model) function\n */\nconst bom = {\n    smartResize,\n    appendBrowserNameToElement,\n};\n//# sourceMappingURL=bom.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2JvbS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9kb20vYm9tLmpzPzAyZDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgaXMgZnJvbSAnLi4vaXMvaXMnO1xuLyoqXG4gKiBBY3RzIGp1c3QgbGlrZSBhIHJlZ3VsYXIgd2luZG93IHJlc2l6ZSBidXQgZml4ZXMgcmVzaXplIHRocmFzaGluZyB0aGF0XG4gKiBoYXBwZW5zIG9uIG1vYmlsZSBkdXJpbmcgc2Nyb2xsaW5nLlxuICpcbiAqIFRoZSBpc3N1ZSBpcyB0aGF0IG9uIG1vYmlsZSwgdGhlcmUgaXMgdGhhdCBicm93c2VyIFVSTCBiYXIuICBBcyB0aGUgdXNlclxuICogc2Nyb2xscywgdGhlIHVybCBiYXIgc2Nyb2xscyB3YXkgd2l0aCBpdCwgaW5jcmVhc2luZyB0aGUgdmlld3BvcnRcbiAqIGhlaWdodC4gIFRoZSB3aW5kb3cgZmlyZXMgdGhlIHJlc2l6ZSBldmVudCAoc2luY2UgaXQgaXMgYSBkaWZmZXJlbnQgc2l6ZSkuXG4gKlxuICogVGhpcyBjYXVzZXMgYSBzaXR1YXRpb24gd2hlcmUsIGFzIHRoZSB1c2VyIHNjcm9sbHMgdGhyb3VnaCBhIHBhZ2Ugb25cbiAqIG1vYmlsZSwgcmVzaXplIGV2ZW50cyBhcmUgdW5uZWNlc3NhcmlseSBjYWxsZWQgaWYgeW91IG9ubHkgY2FyZVxuICogYWJvdXQgdGhlIFwid2lkdGhcIiBjaGFuZ2luZy5cbiAqXG4gKiBUaGUgbWV0aG9kIGNyZWF0ZXMgYSBsaXN0ZW5lciBvbiB0aGUgd2luZG93IHJlc2l6ZSBleGNlcHQgaXQgcmV0YWluc1xuICogbWVtb3J5IG9mIHRoZSBsYXN0IGJyb3dzZXIgd2lkdGguICBJZiB0aGUgYnJvd3NlciB3aWR0aCBoYXNuJ3RcbiAqIGNoYW5nZWQsIGl0IHdpbGwgY3VsbC9jdXQgb2ZmIHRoYXQgZXZlbnQuXG4gKlxuICogYGBgdHNcbiAqIGxldCBkb25lID0gYm9tLnNtYXJ0UmVzaXplKCgpPT4ge1xuICogICBjb25zb2xlLmxvZygnd2luZG93IHJlc2l6ZSBidXQgY2FsbGVkIHdoZW4gdXNlciBzY3JvbGxzIG9uIG1vYmlsZScpXG4gKiB9LCB7IHBhc3NpdmU6IHRydWV9KTtcbiAqXG4gKlxuICogLy8gQ2FsbCBsYXRlciB0byByZW1vdmUgbGlzdGVuZXIuXG4gKiBkb25lKCk7XG4gKlxuICogYGBgXG4gKlxuICpcbiAqIFRoaXMgaXNuJ3QgYXBwbGllZCBvbiBub24tbW9iaWxlIGJyb3dzZXJzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIFRoZSByZXNpemUgb3B0aW9ucyBzdWNoIGFzIHBhc3NpdmU6IHRydWVcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIHRoYXQgd2hpY2ggd2hlbiBjYWxsZWQsIHdpbGwgYXV0b21hdGljYWxseVxuICogICAgIHJlbW92ZSB0aGF0IGF0dGFjaGVkIGxpc3RlbmVyIGZyb20gdGhlIHdpbmRvdy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNtYXJ0UmVzaXplKGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgbGV0IHdpZHRoID0gMDtcbiAgICBjb25zdCBoYW5kbGVyID0gZSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICBjb25zdCBhbGxvd0NhbGxiYWNrID0gIWlzLm1vYmlsZSgpIHx8IHdpZHRoICE9PSBjdXJyZW50V2lkdGg7XG4gICAgICAgIGlmIChhbGxvd0NhbGxiYWNrKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhlKTtcbiAgICAgICAgICAgIHdpZHRoID0gY3VycmVudFdpZHRoO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZXIpO1xuICAgIH07XG59XG4vKipcbiAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgdGhlIGdpdmVuIGFtb3VudCBvZiB0aW1lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2xlZXAoZHVyYXRpb25Ncykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZHVyYXRpb25NcykpO1xufVxuLyoqXG4gKiBDaGVja3MgdGhlIGN1cnJlbnQgYnJvd3NlciBhbmQgYXBwZW5kcyBhIGNzcyBjbGFzcyBuYW1lIHRvIHRoZSBlbGVtZW50LlxuICpcbiAqIGBgYFxuICogLy8gTm93IHRoaXMgZWxlbWVudCB3b3VsZCByZWNlaXZlIGEgY2xhc3MgbmFtZSBvZiB0aGUgY3VycmVudCBicm93c2VyIHN1Y2hcbiAqIC8vIGFzICdzYWZhcmknLCAnaW9zJ1xuICogYm9tLmFwcGVuZEJyb3dzZXJOYW1lVG9FbGVtZW50KGVsZW1lbnQpO1xuICogYGBgXG4gKiBAcGFyYW0gZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kQnJvd3Nlck5hbWVUb0VsZW1lbnQoZWxlbWVudCkge1xuICAgIGNvbnN0IGNoZWNrcyA9IHtcbiAgICAgICAgaWVPckVkZ2U6IGlzLmllT3JFZGdlLFxuICAgICAgICBlZGdlOiBpcy5lZGdlLFxuICAgICAgICBpZTogaXMuaWUsXG4gICAgICAgIG1vYmlsZTogaXMubW9iaWxlLFxuICAgICAgICBzYWZhcmk6IGlzLnNhZmFyaSxcbiAgICAgICAgY2hyb21lOiBpcy5jaHJvbWUsXG4gICAgICAgIGNocm9tZU9zOiBpcy5jaHJvbWUsXG4gICAgICAgIGZpcmVmb3g6IGlzLmZpcmVmb3gsXG4gICAgICAgIGlvczogaXMuaW9zLFxuICAgICAgICBpcGFkOiBpcy5pcGFkLFxuICAgICAgICBhbmRyb2lkOiBpcy5hbmRyb2lkLFxuICAgIH07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gY2hlY2tzKSB7XG4gICAgICAgIGlmIChjaGVja3Nba2V5XSgpKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoa2V5KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogRGVndSBCT00gKGJyb3dzZXIgb2JqZWN0IG1vZGVsKSBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgYm9tID0ge1xuICAgIHNtYXJ0UmVzaXplLFxuICAgIGFwcGVuZEJyb3dzZXJOYW1lVG9FbGVtZW50LFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJvbS5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/dom/bom.js\n");

/***/ }),

/***/ "./lib/dom/cached-mouse-tracker.js":
/*!*****************************************!*\
  !*** ./lib/dom/cached-mouse-tracker.js ***!
  \*****************************************/
/*! exports provided: CachedMouseTrackerEvent, CachedMouseTracker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CachedMouseTrackerEvent\", function() { return CachedMouseTrackerEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CachedMouseTracker\", function() { return CachedMouseTracker; });\n/* harmony import */ var _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _mathf_vector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _ui_events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui/events */ \"./lib/ui/events.js\");\n\n\n\n\nconst CURSOR_MOVE_EVENTS = ['mousemove', 'touchstart', 'touchmove'];\nvar CachedMouseTrackerEvent;\n(function (CachedMouseTrackerEvent) {\n    CachedMouseTrackerEvent[\"UPDATE\"] = \"update\";\n})(CachedMouseTrackerEvent || (CachedMouseTrackerEvent = {}));\n/**\n * Tracks the client mouse position per frame.\n *\n * This improves performance and ensures that all frame-synced animations are\n * always using the same position value by delaying mouse position updates until\n * the preRead step of the RAF loop.\n *\n * If needed could be extended to:\n * - Track the page position and screen position.\n * - Track whether or not the mouse is pressed.\n * - Track velocity and gestures.\n *\n * If any of these needs arise this can serve as a reference:\n * https://github.com/angusm/toolbox-v2/blob/130326ee6b26e652d4bf7442c65ffbfeccc31649/src/toolbox/utils/cached-vectors/cursor.ts\n */\nclass CachedMouseTracker {\n    constructor() {\n        if (CachedMouseTracker.uses.size === 0) {\n            CachedMouseTracker.raf = new _raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](() => CachedMouseTracker.loop());\n            CachedMouseTracker.clientPosition = _mathf_vector__WEBPACK_IMPORTED_MODULE_2__[\"Vector\"].ZERO;\n            CachedMouseTracker.nextClientPosition = _mathf_vector__WEBPACK_IMPORTED_MODULE_2__[\"Vector\"].ZERO;\n            CachedMouseTracker.domWatcher = new _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_0__[\"DomWatcher\"]();\n            CachedMouseTracker.eventManager = new _ui_events__WEBPACK_IMPORTED_MODULE_3__[\"EventManager\"]();\n            CURSOR_MOVE_EVENTS.forEach(cursorMoveEvent => {\n                CachedMouseTracker.domWatcher.add({\n                    element: window,\n                    on: cursorMoveEvent,\n                    eventOptions: { passive: true },\n                    callback: (e) => CachedMouseTracker.updatePosition(e),\n                });\n            });\n            CachedMouseTracker.raf.start();\n        }\n        CachedMouseTracker.uses.add(this);\n    }\n    /**\n     * Updates the currently tracked position from either a touch event or a mouse\n     * event.\n     * @param event\n     */\n    static updatePosition(event) {\n        if (event instanceof MouseEvent) {\n            this.updatePositionFromEvent(event);\n        }\n        else if (event instanceof TouchEvent) {\n            this.updatePositionFromTouchEvent(event);\n        }\n    }\n    /**\n     * Update the tracked position from the touch event.\n     * @param touchEvent\n     */\n    static updatePositionFromTouchEvent(touchEvent) {\n        if (touchEvent.touches.length > 0) {\n            this.updatePositionFromEvent(touchEvent.touches[0]);\n        }\n    }\n    /**\n     * Update the tracked position using event information.\n     * @param data\n     */\n    static updatePositionFromEvent(data) {\n        this.nextClientPosition = new _mathf_vector__WEBPACK_IMPORTED_MODULE_2__[\"Vector\"](data.clientX, data.clientY);\n    }\n    static loop() {\n        this.raf.preRead(() => {\n            var _a;\n            if (this.nextClientPosition &&\n                ((_a = this.clientPosition) === null || _a === void 0 ? void 0 : _a.equals(this.nextClientPosition))) {\n                return;\n            }\n            this.clientPosition = this.nextClientPosition;\n            this.eventManager.dispatch(CachedMouseTrackerEvent.UPDATE);\n        });\n    }\n    /**\n     * Add a callback to the given event.\n     */\n    on(event, callback) {\n        CachedMouseTracker.eventManager.on(event, callback);\n    }\n    /**\n     * Remove a callback from the given event.\n     */\n    off(event, callback) {\n        CachedMouseTracker.eventManager.off(event, callback);\n    }\n    /**\n     * Return the current cached mouse position as determined by clientX and\n     * clientY values.\n     */\n    getClientPosition() {\n        return CachedMouseTracker.clientPosition;\n    }\n    /**\n     * Dispose of the currently in use tracker.\n     */\n    dispose() {\n        CachedMouseTracker.uses.delete(this);\n        if (CachedMouseTracker.uses.size === 0) {\n            CachedMouseTracker.domWatcher.dispose();\n            CachedMouseTracker.raf.dispose();\n            CachedMouseTracker.clientPosition = null;\n            CachedMouseTracker.eventManager.dispose();\n        }\n    }\n}\n// Use static variables so that independent instances can operate as a\n// singleton but be disposed separately without the user needing to worry\n// about the singleton pattern.\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nCachedMouseTracker.uses = new Set();\n//# sourceMappingURL=cached-mouse-tracker.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2NhY2hlZC1tb3VzZS10cmFja2VyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RvbS9jYWNoZWQtbW91c2UtdHJhY2tlci5qcz9kZWYzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9kb20vZG9tLXdhdGNoZXInO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vcmFmL3JhZic7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuLi9tYXRoZi92ZWN0b3InO1xuaW1wb3J0IHsgRXZlbnRNYW5hZ2VyIH0gZnJvbSAnLi4vdWkvZXZlbnRzJztcbmNvbnN0IENVUlNPUl9NT1ZFX0VWRU5UUyA9IFsnbW91c2Vtb3ZlJywgJ3RvdWNoc3RhcnQnLCAndG91Y2htb3ZlJ107XG5leHBvcnQgdmFyIENhY2hlZE1vdXNlVHJhY2tlckV2ZW50O1xuKGZ1bmN0aW9uIChDYWNoZWRNb3VzZVRyYWNrZXJFdmVudCkge1xuICAgIENhY2hlZE1vdXNlVHJhY2tlckV2ZW50W1wiVVBEQVRFXCJdID0gXCJ1cGRhdGVcIjtcbn0pKENhY2hlZE1vdXNlVHJhY2tlckV2ZW50IHx8IChDYWNoZWRNb3VzZVRyYWNrZXJFdmVudCA9IHt9KSk7XG4vKipcbiAqIFRyYWNrcyB0aGUgY2xpZW50IG1vdXNlIHBvc2l0aW9uIHBlciBmcmFtZS5cbiAqXG4gKiBUaGlzIGltcHJvdmVzIHBlcmZvcm1hbmNlIGFuZCBlbnN1cmVzIHRoYXQgYWxsIGZyYW1lLXN5bmNlZCBhbmltYXRpb25zIGFyZVxuICogYWx3YXlzIHVzaW5nIHRoZSBzYW1lIHBvc2l0aW9uIHZhbHVlIGJ5IGRlbGF5aW5nIG1vdXNlIHBvc2l0aW9uIHVwZGF0ZXMgdW50aWxcbiAqIHRoZSBwcmVSZWFkIHN0ZXAgb2YgdGhlIFJBRiBsb29wLlxuICpcbiAqIElmIG5lZWRlZCBjb3VsZCBiZSBleHRlbmRlZCB0bzpcbiAqIC0gVHJhY2sgdGhlIHBhZ2UgcG9zaXRpb24gYW5kIHNjcmVlbiBwb3NpdGlvbi5cbiAqIC0gVHJhY2sgd2hldGhlciBvciBub3QgdGhlIG1vdXNlIGlzIHByZXNzZWQuXG4gKiAtIFRyYWNrIHZlbG9jaXR5IGFuZCBnZXN0dXJlcy5cbiAqXG4gKiBJZiBhbnkgb2YgdGhlc2UgbmVlZHMgYXJpc2UgdGhpcyBjYW4gc2VydmUgYXMgYSByZWZlcmVuY2U6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndXNtL3Rvb2xib3gtdjIvYmxvYi8xMzAzMjZlZTZiMjZlNjUyZDRiZjc0NDJjNjVmZmJmZWNjYzMxNjQ5L3NyYy90b29sYm94L3V0aWxzL2NhY2hlZC12ZWN0b3JzL2N1cnNvci50c1xuICovXG5leHBvcnQgY2xhc3MgQ2FjaGVkTW91c2VUcmFja2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgaWYgKENhY2hlZE1vdXNlVHJhY2tlci51c2VzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIENhY2hlZE1vdXNlVHJhY2tlci5yYWYgPSBuZXcgUmFmKCgpID0+IENhY2hlZE1vdXNlVHJhY2tlci5sb29wKCkpO1xuICAgICAgICAgICAgQ2FjaGVkTW91c2VUcmFja2VyLmNsaWVudFBvc2l0aW9uID0gVmVjdG9yLlpFUk87XG4gICAgICAgICAgICBDYWNoZWRNb3VzZVRyYWNrZXIubmV4dENsaWVudFBvc2l0aW9uID0gVmVjdG9yLlpFUk87XG4gICAgICAgICAgICBDYWNoZWRNb3VzZVRyYWNrZXIuZG9tV2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgICAgICAgICBDYWNoZWRNb3VzZVRyYWNrZXIuZXZlbnRNYW5hZ2VyID0gbmV3IEV2ZW50TWFuYWdlcigpO1xuICAgICAgICAgICAgQ1VSU09SX01PVkVfRVZFTlRTLmZvckVhY2goY3Vyc29yTW92ZUV2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICBDYWNoZWRNb3VzZVRyYWNrZXIuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICAgICAgICAgICAgICAgIG9uOiBjdXJzb3JNb3ZlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50T3B0aW9uczogeyBwYXNzaXZlOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoZSkgPT4gQ2FjaGVkTW91c2VUcmFja2VyLnVwZGF0ZVBvc2l0aW9uKGUpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBDYWNoZWRNb3VzZVRyYWNrZXIucmFmLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgQ2FjaGVkTW91c2VUcmFja2VyLnVzZXMuYWRkKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBjdXJyZW50bHkgdHJhY2tlZCBwb3NpdGlvbiBmcm9tIGVpdGhlciBhIHRvdWNoIGV2ZW50IG9yIGEgbW91c2VcbiAgICAgKiBldmVudC5cbiAgICAgKiBAcGFyYW0gZXZlbnRcbiAgICAgKi9cbiAgICBzdGF0aWMgdXBkYXRlUG9zaXRpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbkZyb21FdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uRnJvbVRvdWNoRXZlbnQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgdHJhY2tlZCBwb3NpdGlvbiBmcm9tIHRoZSB0b3VjaCBldmVudC5cbiAgICAgKiBAcGFyYW0gdG91Y2hFdmVudFxuICAgICAqL1xuICAgIHN0YXRpYyB1cGRhdGVQb3NpdGlvbkZyb21Ub3VjaEV2ZW50KHRvdWNoRXZlbnQpIHtcbiAgICAgICAgaWYgKHRvdWNoRXZlbnQudG91Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uRnJvbUV2ZW50KHRvdWNoRXZlbnQudG91Y2hlc1swXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSB0cmFja2VkIHBvc2l0aW9uIHVzaW5nIGV2ZW50IGluZm9ybWF0aW9uLlxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICovXG4gICAgc3RhdGljIHVwZGF0ZVBvc2l0aW9uRnJvbUV2ZW50KGRhdGEpIHtcbiAgICAgICAgdGhpcy5uZXh0Q2xpZW50UG9zaXRpb24gPSBuZXcgVmVjdG9yKGRhdGEuY2xpZW50WCwgZGF0YS5jbGllbnRZKTtcbiAgICB9XG4gICAgc3RhdGljIGxvb3AoKSB7XG4gICAgICAgIHRoaXMucmFmLnByZVJlYWQoKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKHRoaXMubmV4dENsaWVudFBvc2l0aW9uICYmXG4gICAgICAgICAgICAgICAgKChfYSA9IHRoaXMuY2xpZW50UG9zaXRpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lcXVhbHModGhpcy5uZXh0Q2xpZW50UG9zaXRpb24pKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2xpZW50UG9zaXRpb24gPSB0aGlzLm5leHRDbGllbnRQb3NpdGlvbjtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKENhY2hlZE1vdXNlVHJhY2tlckV2ZW50LlVQREFURSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBjYWxsYmFjayB0byB0aGUgZ2l2ZW4gZXZlbnQuXG4gICAgICovXG4gICAgb24oZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIENhY2hlZE1vdXNlVHJhY2tlci5ldmVudE1hbmFnZXIub24oZXZlbnQsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgZ2l2ZW4gZXZlbnQuXG4gICAgICovXG4gICAgb2ZmKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgICBDYWNoZWRNb3VzZVRyYWNrZXIuZXZlbnRNYW5hZ2VyLm9mZihldmVudCwgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGN1cnJlbnQgY2FjaGVkIG1vdXNlIHBvc2l0aW9uIGFzIGRldGVybWluZWQgYnkgY2xpZW50WCBhbmRcbiAgICAgKiBjbGllbnRZIHZhbHVlcy5cbiAgICAgKi9cbiAgICBnZXRDbGllbnRQb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIENhY2hlZE1vdXNlVHJhY2tlci5jbGllbnRQb3NpdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiB0aGUgY3VycmVudGx5IGluIHVzZSB0cmFja2VyLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIENhY2hlZE1vdXNlVHJhY2tlci51c2VzLmRlbGV0ZSh0aGlzKTtcbiAgICAgICAgaWYgKENhY2hlZE1vdXNlVHJhY2tlci51c2VzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIENhY2hlZE1vdXNlVHJhY2tlci5kb21XYXRjaGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIENhY2hlZE1vdXNlVHJhY2tlci5yYWYuZGlzcG9zZSgpO1xuICAgICAgICAgICAgQ2FjaGVkTW91c2VUcmFja2VyLmNsaWVudFBvc2l0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIENhY2hlZE1vdXNlVHJhY2tlci5ldmVudE1hbmFnZXIuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8gVXNlIHN0YXRpYyB2YXJpYWJsZXMgc28gdGhhdCBpbmRlcGVuZGVudCBpbnN0YW5jZXMgY2FuIG9wZXJhdGUgYXMgYVxuLy8gc2luZ2xldG9uIGJ1dCBiZSBkaXNwb3NlZCBzZXBhcmF0ZWx5IHdpdGhvdXQgdGhlIHVzZXIgbmVlZGluZyB0byB3b3JyeVxuLy8gYWJvdXQgdGhlIHNpbmdsZXRvbiBwYXR0ZXJuLlxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbkNhY2hlZE1vdXNlVHJhY2tlci51c2VzID0gbmV3IFNldCgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FjaGVkLW1vdXNlLXRyYWNrZXIuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/dom/cached-mouse-tracker.js\n");

/***/ }),

/***/ "./lib/dom/canvas-image-sequence.js":
/*!******************************************!*\
  !*** ./lib/dom/canvas-image-sequence.js ***!
  \******************************************/
/*! exports provided: canvasImageSequenceErrors, CanvasImageSequence */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"canvasImageSequenceErrors\", function() { return canvasImageSequenceErrors; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CanvasImageSequence\", function() { return CanvasImageSequence; });\n/* harmony import */ var _dom_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _is_is__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\n/* harmony import */ var _func_func__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\n/* harmony import */ var _func_defer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../func/defer */ \"./lib/func/defer.js\");\n/* harmony import */ var _loader_blob_loader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../loader/blob-loader */ \"./lib/loader/blob-loader.js\");\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _interpolate_multi_interpolate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../interpolate/multi-interpolate */ \"./lib/interpolate/multi-interpolate.js\");\n/* harmony import */ var _raf_raf_timer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../raf/raf-timer */ \"./lib/raf/raf-timer.js\");\n/* harmony import */ var _time_fps__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../time/fps */ \"./lib/time/fps.js\");\n/* harmony import */ var _dom_dom_canvas__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../dom/dom-canvas */ \"./lib/dom/dom-canvas.js\");\n\n\n\n\n\n\n\n\n\n\n\nconst canvasImageSequenceErrors = {\n    NO_ELEMENT: 'An element is required for canvas image sequence',\n    NO_IMAGE_SETS: 'Image sets are required for canvas image sequence',\n    NO_IMAGES: 'There are no images defined in your canvas image sequence image set',\n};\n/**\n * A class that allows you to play through an image sequence (sprite) based on\n * progress.\n *\n *\n * Usage:\n *\n * HTML / SASS\n * ```\n * <div class=\"my-element\"></div>\n *\n *\n * .my-element\n *   width: 100vw\n *   height: 100vh\n * ```\n *\n * Then in your JS:\n *\n * ```ts\n *\n * // All images are assumed to be the same dimensions.\n * let myImages = [\n *   'image-1.jpg',\n *   'image-2.jpg',\n *   'image-3.jpg',\n *   'image-4.jpg',\n *    ...\n *   'image-100.jpg',\n * ]\n *\n * let canvasImageSequence = new CanvasImageSequence(\n *   document.querySelector('.my-element'),\n *   // Pass in your imageSet.  You can specific multiple (see below).\n *   [{images: myImages}],\n *    // Optional sizing.\n *   {\n *      cover: false, // Use cover mode.  Defaults to false.\n *      bottom: 0 // Align to the bottom.\n *      left: 0.2 // Align to the left\n *      leftNoClip: true // When aligning to left, use the no clip algo.\n *   },\n *   is.ipad() : 1 : undefined // Force dpr 1 on ipad that has less memory.\n * );\n *\n * // Loads the images.\n * canvasImageSequence.load();\n *\n * // At a later time.  If images aren't loaded yet, render will get ignored.\n *  canvasImageSequence.renderByProgress(0);  // Renders frame at progress 0.\n *  canvasImageSequence.renderByProgress(0.5);  // Renders frame at progress 0.5\n *  canvasImageSequence.renderByProgress(1);  // Renders frame at progress 1\n *\n * // When done.\n * canvasImageSequence.dispose();\n *\n * ```\n * The above would add a canvas to myElement.  The image that gets rendered\n * in the canvas, will be fitted would an algo similar to background:contain\n * so that the image is fully visible.  If the image different aspect ratio\n * than the contain, the image will be both vertically and horizontally centered\n * with contain (maximizing the scale without bleeding out).\n *\n *\n * You can also listen load completion.  Typically, loading frames takes a\n * while so you may want to add a loading indicator and on load completion,\n * render teh canvasImageSequence to the current frame.\n * ```ts\n *\n * // Use image load promise to ensure images are ready.\n * canvasImageSequence.load().then(()=> {\n *    // On load complete render the frame that maps to the current progress.\n *    canvasImageSequence.renderByProgress(myCurrentProgress);\n * })\n *\n *\n * ```\n *\n *\n *\n * ### Sizing options.\n * CanvasImageSequence has two render modes, contain (default) and cover.\n * Contain will by default vertically center your image but you can offset this\n * by providing a bottom value.\n *\n *\n * ```ts\n * let canvasImageSequence = new CanvasImageSequence(\n *   document.querySelector('.my-element'),\n *   [{images: myImages}],\n *   {\n *     cover: true\n *   }\n * );\n *\n * ```\n *\n *\n * ## MultiInterpolate capabilities.\n * Canvas Image Sequence has multiinterpolation built in to make it easier to\n * manage more complex sequences.\n * Normally, you may want to map an image sequence to just play from start to\n * end.  But what if you wanted more flexiblity?  You can do things like:\n *\n *\n * ```ts\n *\n * let progressPoints = [\n *       {\n *         from: 0, to: 0.5, start: 0, end: 1,\n *       },\n *       {\n *         from: 0.5, to: 1, start: 1, end: 0,\n *       },\n * ];\n * canvasImageSequence.setMultiInterpolation(progressPoints);\n * canvasImageSequence.load();\n *\n * ```\n * In the above, now the image sequence will play from start to end and back to\n * the start.  You can define your own progress points to have full control over\n * how you want your image sequence sprite to play out.\n *\n *\n * ## Playback capability\n * You can also play your canvas image sequence with a timer.\n * The playback also provides a completion promise.\n *\n * ```ts\n * // Create a complicated playback.\n * let progressPoints = [\n *       {\n *         from: 0, to: 0.5, start: 0, end: 1,\n *       },\n *       {\n *         from: 0.5, to: 1, start: 1, end: 0,\n *       },\n * ];\n * canvasImageSequence.setMultiInterpolation(progressPoints);\n * // Now load the images.\n * canvasImageSequence.load().then(()=> {\n *    // Now play the image sequence from progress 0 - 1 over a span of 3000 ms.\n *    canvasImageSequence.play(0, 1, 3000).then(()=> {\n *       console.log('done');\n *    })\n * })\n *\n *\n * // Use stop if you need to stop the aniamtion.\n * canvasImageSequence.stop();\n *\n * ```\n *\n * ### Lerp Towards Capability\n * By setting a lerp value, canvasImageSequence will automatically \"lerp\" towards\n * frames if the delta between the currently rendered frame and the requested\n * progress is large.\n * * This is useful to \"smooth\" out movement between frames.\n *\n *\n * To use this feature, simply set the lerp value.\n *\n * As an exmaple we initially set the progress to 0 but immediately, change it to 1.\n * You will see that the progress value will lerp.   Internally, this happens\n * by running raf until the frame value delta is less than 1 and stable.\n *\n * ```ts\n *  canvasImageSequence.lerpAmount = 0.12;\n *  canvasImageSequence.renderByProgress(0);\n *  canvasImageSequence.renderByProgress(1);\n * ```\n *\n *\n * Another usecase for setting lerp is to handle resolving state after playing\n * a sequence. See canvas-image-sequence4 for more on this.\n *\n *\n *\n * ### Clipping Feature\n * Similar to css clip-path, you can pass clip-path-ish shapes to canvasImageSequence\n * which will then be applied when the canvas paints / renders.\n *\n * The clipping currently supports, inset type only.\n *\n * ```ts\n *\n * canvasImageSequence.setClipInterpolations({\n *   type: 'inset',\n *   interpolations: [\n *     {\n *       progress: [{ from: 0, to: 1, start: 0, end: 0.5}],\n *       id: 'top'\n *     },\n *     {\n *       progress: [{ from: 0, to: 1, start: 0, end: 0.5}],\n *       id: 'right'\n *     },\n *     {\n *       progress: [{ from: 0, to: 1, start: 0, end: 0.5}],\n *       id: 'bottom'\n *     },\n *     {\n *       progress: [{ from: 0, to: 1, start: 0, end: 0.5}],\n *       id: 'left'\n *     },\n *     {\n *       progress: [{ from: 0, to: 1, start: 0, end: 0.5}],\n *       id: 'border-radius'\n *     }\n *   ]\n * })\n *\n *\n * canvasImageSequence.renderByProgress(0.5); // The clipping at 0.5 progress is rendered.\n *\n * ```\n *\n *\n * ## Selectively loading different sets of images.\n *\n * You can pass different sets of images to use.   Use the when condition\n * to modify your set.   Note that the when condition is only evaluated\n * upon resize.  If a new image set is matched, loading of that image\n * set will automatically happen in the background and render when complete.\n *\n * ```ts\n *\n * let myImages = [\n *   'image-1.jpg',\n *    ...\n *   'image-100.jpg',\n * ];\n *\n * let myMobileImages = [\n *   'image-mobile-1.jpg',\n *   'image-mobile-100.jpg',\n * ];\n *  let canvasImageSequence = new CanvasImageSequence(\n *   document.querySelector('.my-element'),\n *   [{\n *     when: ()=> { return window.innerWidth >= 768},\n *     images: myImages\n *   },\n *   {\n *     when: ()=> { return window.innerWidth < 768},\n *     images: myMobileImages\n *   }]\n * );\n *\n * ```\n *\n * Can I have imageSets for only desktop or mobile?  Yes you can!\n *\n * ```ts\n *  let canvasImageSequence = new CanvasImageSequence(\n *   document.querySelector('.my-element'),\n *   [\n *   {\n *     when: ()=> { return window.innerWidth < 768},\n *     images: myMobileImages\n *   }]\n * );\n *\n * ```\n * Here we specify canvasImageSequence with an imageSet for only mobile.  This\n * means the images will only load on mobile and canvasImageSequence won't\n * do anything on desktop (nothing will show since there are no images).\n *\n *\n *\n * ############# Dev Notes ####################\n *\n * # Memory management (dev notes)\n * When working on this class, you have to be very careful about memory management\n * since we are dealing with a lot of images.\n *\n * There is native memory and image cache that need to be particularly looked at.\n * You can go to Chrome -> Task manager and monitor the usage.\n * Make sure to enable the memory footprint and image cache columns.\n *\n * For Safari, the best place is to open Activity Monitor. Open safari and\n * open the site.  Within Activity Monitor, look for your process (it will be the\n * name of the page).  Double click on it to get real memory usage.  You can\n * also use the Safari WebTools memory and CPU profile.\n *\n *\n * 1) image.decode() and ImageBitmaps\n * If you run image.decode() or load ImageBitmaps, this data appears to get stored\n * over in native memory.  canvas.drawImage stores in image cache which is\n * separate.\n *\n * The issue is the when you run image.decode() or use ImageBitmaps, the native\n * memory space they occupy, won't get flushed.  It seems to get flushed only\n * when the canvas or document is unloaded.\n *\n * For example:\n *\n * ```\n * const image = new Image();\n * image.src = 'hohoho.jpg';\n * image.decode(()=> { // This pushes it to native memory.\n *   image = null; // This won't get removed even with GC.\n * })\n * ```\n *\n * This removes the reference to the image but even with GC won't flush the native\n * memory.\n *\n * It's best to avoid this and instead just load images normally OR\n * use ObjectUrl to make a local blob.\n *\n *\n * 2) Problem 2\n * canvas.drawImage(image) memory issues and also Safari DataURI (base64)\n *\n * canvas.drawImage, essentially copies the decoded image data over to the image cache.\n * Therefore, even doing:\n *\n * ```\n * canvas.drawImage(image);  // decoded copy stored to image cache.\n * canvas.drawImage(image);  // decoded copy stored to image cache\n * canvas.drawImage(image);  // decoded copy stored to image cache.\n * ```\n * Quickly results in the imageCache growing.  While this is usually fine since\n * the image cache gets cleared pretty quickly, with a class like this, if you have\n * 100 images, that cache with that data decoded ends up being very large.\n *\n * To avoid this, you need to delete the image from reference.\n *\n * ```\n * canvas.drawImage(image);  // decoded copy stored to image cache.\n * image.src = null; // reference removed.  image cache gets cleared.\n * image = null;\n * ```\n *\n * This essentially means, that if we don't want the image cache to grow, we\n * need to delete the image that was just drawn after the draw call.\n *\n *\n * 3) Problem 3\n * Safari Canvas Issues:\n * Note that Safari also has some issues with memory management.\n * In general, Safari doesn't do a great job offloading base64 images from cache.\n *\n * The best way to manage is:\n * 1) don't use base64Images and draw to canvas (since Safari doesn't release memory)\n * 2) delete image data to offload memory after drawImage calls.\n *\n *\n * Overall best practice:\n * The solution take to avoid these problems are:\n * - don't use image.decode()\n * - don't use ImageBitmaps\n * - don't use base64uri image Safari can't offload them.\n * - always remove the image after using drawImage().  Best way to do this is\n *   to use a temporary image and assign it a local objectURI.\n * - when you resize a canvas it clears it out.  You need to resize with smartResize\n *   to avoid flashes on ios mobile where the document height changes as you resize\n *   firing resize events.\n *\n *\n * Approach to solving the above:\n * 1) Make XHR calls to all image urls and save the blobs in memory (blobCache).\n * 2) Create a single cacheImage (Image) that will temporarily hold data while it gets\n *    drawn to canvas (cacheImage)\n * 3) On each draw call, use ObjectURIs to locally generate a temporary blob image.\n *    Set that to the cacheImage then canvas.drawImage(cacheImage) and following that\n *    then revoke the ObjectURI (to release it from memory).\n *\n * This can be roughly illustrated as:\n * ```ts\n *\n * this.blobCache = xxx.getBlobsDataFromServer();\n *\n * // Create an image that will temporarily hold data.\n * this.cacheImage = new Image();\n *\n * draw(source) {\n *\n *   img.onload = () => {\n *     this.drawImage(this.cacheImage);\n *     // Remove it from memory.\n *     URL.revokeObjectURL(image.src);\n *   }\n *\n *    // Create a local objectURI and apply it as the image source.\n *    this.cacheImage.src = URL.createObjectURL(this.blobCache[source]);\n * }\n *\n * dispose() {\n *   // Delete all blobs help in memory.\n *   this.blobCache = null;\n * }\n *\n * ```\n *\n * With the solution above, generally, the encoded size of all images are stored\n * in native memory + one decoded image in memory cache at any given time.  If you\n * are working with pngs, this can still mean a huge memory hoge so watch out.\n *\n *\n * 4) FPS - ipad CPU\n * Since we need to decode per drawFrame, this has a higher CPU cost.\n *\n * To lower the CPU usage, internally we manage an fps rate limiter.\n * This is set to 30, which is the maximum we really need to get a smooth\n * perceived animation.\n *\n * 5) Even with the optimizations above, VRAM (GPU memory) can can be relatively\n *    high. If you just need basic features, consider webgl-image-canvas\n *    as an alternative which is more performant.\n *\n *\n *\n *\n *\n * @see https://github.com/blinkkcode/degu/blob/master/examples/canvas-image-sequence.js\n * @see https://github.com/blinkkcode/degu/blob/master/examples/canvas-image-sequence2.js\n * @see https://github.com/blinkkcode/degu/blob/master/examples/canvas-image-sequence3.js\n * @see https://github.com/blinkkcode/degu/blob/master/examples/canvas-image-sequence4.js\n * @see https://github.com/blinkkcode/degu/blob/master/examples/canvas-image-sequence5.js\n * @unstable\n */\nclass CanvasImageSequence {\n    constructor(element, imageSets, options, dpr) {\n        /**\n         * The lerp amount when there is a delta between target and current frame\n         * greater than 1.  This defaults to 1 (meaning no lerp).  Change this value\n         * if you want canvasImageSequennce to smoothly interpolate between large\n         * deltas between the target and current frames.\n         */\n        this.lerpAmount = 1;\n        this.element = element;\n        if (!element) {\n            throw new Error(canvasImageSequenceErrors.NO_ELEMENT);\n        }\n        if (!imageSets) {\n            throw new Error(canvasImageSequenceErrors.NO_IMAGE_SETS);\n        }\n        this.imageSets = imageSets;\n        this.activeImageSet = null;\n        this.blobCache = {};\n        this.options = options;\n        this.isPlaying = false;\n        // this.useBitmapImageIfPossible = false;\n        // Create canvas.\n        this.canvasElement = document.createElement('canvas');\n        // Add aria label if available.\n        if (this.options && this.options.ariaLabel) {\n            this.canvasElement.setAttribute('aria-label', this.options.ariaLabel);\n            this.canvasElement.setAttribute('role', 'img');\n        }\n        else {\n            this.canvasElement.setAttribute('aria-hidden', 'true');\n        }\n        this.context = this.canvasElement.getContext('2d');\n        this.dpr = _func_func__WEBPACK_IMPORTED_MODULE_2__[\"setDefault\"](dpr, window.devicePixelRatio || 1);\n        this.canvasWidth = 0;\n        this.canvasHeight = 0;\n        this.imageNaturalHeight = 0;\n        this.imageNaturalWidth = 0;\n        this.currentFrame = 0;\n        this.lastDrawSource = null;\n        this.targetFrame = 0;\n        this.containScale = null;\n        this.disposed = false;\n        // Set FPS to 30 for Safari to limit computation.  Safari takes a lot\n        // more time to decode images so this prevents high CPU usage crashes\n        // in Safari.\n        this.fps = new _time_fps__WEBPACK_IMPORTED_MODULE_9__[\"Fps\"](_is_is__WEBPACK_IMPORTED_MODULE_1__[\"safari\"]() ? 30 : 60);\n        this.cacheImage = new Image();\n        this.rafTimer = null;\n        this.multiInterpolate = null;\n        this.clipMultiInterpolate = null;\n        this.clipPathType = null;\n        this.blobLoader = null;\n        this.progress = null;\n        this.playDefer = null;\n        this.domWatcher = new _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_6__[\"DomWatcher\"]();\n        this.domWatcher.add({\n            element: window,\n            // Ensure we use smart resize here because resizing canvas will make\n            // it flash (due to clearing the canvas).\n            on: 'smartResize',\n            callback: () => {\n                this.resize();\n                this.flush(); // Make a empty call to clear the memoize cache.\n                // Rerender the last known image.\n                this.lastDrawSource = null;\n                this.fps.lock(false);\n                this.lastRenderSource && this.draw(this.lastRenderSource);\n                this.fps.lock(true);\n            },\n            id: 'resize',\n            eventOptions: { passive: true },\n        });\n        this.resize();\n        this.domWatcher.run('resize');\n        // Another resize watcher dedicated to checking to checking if a new\n        // image set should be loaded.\n        this.domWatcher.add({\n            element: window,\n            on: 'smartResize',\n            callback: () => {\n                // Evaluate if we need to load a different image set.\n                const newSet = this.getSourceThatShouldLoad(this.imageSets);\n                if (newSet !== this.activeImageSet) {\n                    this.loadNewSet(this.imageSets);\n                    // Autoload the content.\n                    this.load().then(() => {\n                        // Set last frame to null to allow redrawing.\n                        this.lastDrawSource = null;\n                        this.fps.lock(false);\n                        this.renderByProgress(this.progress || 0);\n                        this.fps.lock(true);\n                    });\n                }\n            },\n            id: 'image-set-resize',\n            eventOptions: { passive: true },\n        });\n        this.element.appendChild(this.canvasElement);\n        this.readyPromise = new _func_defer__WEBPACK_IMPORTED_MODULE_3__[\"Defer\"]();\n        this.loadNewSet(imageSets);\n        // The previously rendered image source.\n        this.lastRenderSource = null;\n        this.lastDrawSource = null;\n        // Cull unncessary update\n        this.draw = _func_func__WEBPACK_IMPORTED_MODULE_2__[\"runOnceOnChange\"](this.draw.bind(this));\n    }\n    /**\n     * Sets an optional multiinterpolations.  This allows you to define\n     * more complex play sequences on your image sequence.\n     *\n     * Here is an example of playing the image sequence from start to end\n     * and back to end.\n     *\n     * ```ts\n     * let progressPoints = [\n     *       {\n     *         from: 0, to: 0.5, start: 0, end: 1,\n     *       },\n     *       {\n     *         from: 0.5, to: 1, start: 1, end: 0,\n     *       },\n     * ];\n     * canvasImageSequence.setMultiInterpolation(progressPoints);\n     *\n     * ```\n     */\n    setMultiInterpolation(interpolations) {\n        this.multiInterpolate = new _interpolate_multi_interpolate__WEBPACK_IMPORTED_MODULE_7__[\"MultiInterpolate\"]({\n            interpolations: [\n                {\n                    id: 'sequence',\n                    progress: interpolations,\n                },\n            ],\n        });\n    }\n    resize() {\n        this.canvasWidth = this.element.offsetWidth;\n        this.canvasHeight = this.element.offsetHeight;\n        // Set canvas to high dpr, the actual width to the size.\n        // @see https://gist.github.com/callumlocke/cc258a193839691f60dd\n        // for inspiration.\n        this.canvasElement.width = this.element.offsetWidth * this.dpr;\n        this.canvasElement.height = this.element.offsetHeight * this.dpr;\n        this.canvasElement.style.width = this.canvasWidth + 'px';\n        this.canvasElement.style.height = this.canvasHeight + 'px';\n        // Scale up the canvas to compensate DPR.\n        this.context.scale(this.dpr, this.dpr);\n    }\n    /**\n     * Starts loading the images.\n     */\n    load() {\n        // If there is no matching imageSet there is nothing to load.\n        if (!this.blobLoader || !this.activeImageSet) {\n            // Defer resolution.\n            window.setTimeout(() => {\n                this.readyPromise.resolve();\n            });\n            return this.readyPromise.getPromise();\n        }\n        const loadAllBlobs = () => {\n            this.blobLoader.load().then(results => {\n                this.blobCache = results;\n                this.setImageDimensions().then(() => {\n                    this.blobLoader.dispose();\n                    this.readyPromise.resolve(results);\n                });\n            });\n        };\n        loadAllBlobs();\n        return this.readyPromise.getPromise();\n    }\n    /**\n     * Allows you to set new imageSets.\n     *\n     * @param imageSource\n     */\n    loadNewSet(imageSets) {\n        // Release memory of current set.\n        this.blobLoader && this.blobLoader.dispose();\n        // Save the image sources.\n        this.imageSets = imageSets;\n        this.activeImageSet = this.getSourceThatShouldLoad(this.imageSets);\n        if (this.activeImageSet && !_is_is__WEBPACK_IMPORTED_MODULE_1__[\"array\"](this.activeImageSet.images)) {\n            throw new Error(canvasImageSequenceErrors.NO_IMAGES);\n        }\n        // Set the active image set if one is available.\n        if (this.activeImageSet) {\n            this.blobLoader = new _loader_blob_loader__WEBPACK_IMPORTED_MODULE_4__[\"BlobLoader\"](this.activeImageSet.images);\n        }\n        else {\n            this.blobLoader = null;\n        }\n        this.blobCache = {};\n        this.flush();\n        this.lastRenderSource = null;\n        // Reset the readyPromise.\n        this.readyPromise = new _func_defer__WEBPACK_IMPORTED_MODULE_3__[\"Defer\"]();\n    }\n    /**\n     * Given a list of CanvasImageSequenceImageSets evaluates which set should\n     * be used to load into the canvas.  The criteria is that any\n     * imageSet without when is used or if when condition is specified the\n     * when condition is evaluated and if true, it is used.  If multiple imageSets\n     * are found, the the first one is used.\n     */\n    getSourceThatShouldLoad(sources) {\n        const matchingSouces = [];\n        sources.forEach(source => {\n            if (!source.when) {\n                matchingSouces.push(source);\n            }\n            else {\n                source.when() && matchingSouces.push(source);\n            }\n        });\n        return matchingSouces[0];\n    }\n    /**\n     * Makes a deletable image clone.\n     */\n    makeImage(source) {\n        return new Promise(resolve => {\n            if (!source || !this.blobCache[source]) {\n                resolve(null);\n                return;\n            }\n            // Remove the objectURL Blob from locale cache.\n            URL.revokeObjectURL(this.cacheImage.src);\n            this.cacheImage.onload = () => {\n                resolve(this.cacheImage);\n            };\n            // Create a new temporary ObjectURl to store.\n            this.cacheImage.src = URL.createObjectURL(this.blobCache[source]);\n        });\n    }\n    /**\n     * Sets the images dimensions used internally based on the first image.\n     * Assumes all images are uniform size.\n     */\n    setImageDimensions() {\n        return new Promise(resolve => {\n            const source = this.activeImageSet.images[0];\n            const blob = this.blobCache[source];\n            // Generate an image from teh first blob.\n            _dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"makeImageFromBlob\"](blob).then((image) => {\n                const bitMapsLoaded = !image.naturalWidth;\n                this.imageNaturalHeight = bitMapsLoaded\n                    ? image.height\n                    : image.naturalHeight;\n                this.imageNaturalWidth = bitMapsLoaded\n                    ? image.width\n                    : image.naturalWidth;\n                // Release it from memory.\n                _dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"deleteImage\"](image);\n                image = null;\n                resolve();\n            });\n        });\n    }\n    /**\n     * Gets internally used current image seet.\n     */\n    getActiveImages() {\n        return this.activeImageSet.images;\n    }\n    /**\n     * Sets an clip path type interpolation on the canvas drawing.\n     * Currently only supports inset type.\n     *\n     * ```ts\n     *\n     * canvasImageSequence.setClipInterpolations({\n     *   type: 'inset',\n     *   interpolations: [\n     *     {\n     *       progress: [{ from: 0, to: 1, start: 0, end: 0.5}],\n     *       id: 'top'\n     *     },\n     *     {\n     *       progress: [{ from: 0, to: 1, start: 0, end: 0.5}],\n     *       id: 'right'\n     *     },\n     *     {\n     *       progress: [{ from: 0, to: 1, start: 0, end: 0.5}],\n     *       id: 'bottom'\n     *     },\n     *     {\n     *       progress: [{ from: 0, to: 1, start: 0, end: 0.5}],\n     *       id: 'left'\n     *     },\n     *     {\n     *       progress: [{ from: 0, to: 1, start: 0, end: 0.5}],\n     *       id: 'border-radius'\n     *     }\n     *   ]\n     * })\n     *\n     *\n     * canvasImageSequence.renderByProgress(0.5); // The clipping at 0.5 progress is rendered.\n     *\n     * ```\n     *\n     */\n    setClipInterpolations(config) {\n        this.clipPathType = config.type;\n        this.clipMultiInterpolate = new _interpolate_multi_interpolate__WEBPACK_IMPORTED_MODULE_7__[\"MultiInterpolate\"]({\n            interpolations: config.interpolations,\n        });\n    }\n    /**\n     * Renders by progress.  0 would mean the very first frame and the 1 would\n     * mean the last.\n     * @param {number} n A progress value between 0 and 1.\n     * @param {noMultiInterpolate} An option to force evaluation without\n     *   multiInterpolation.  This is useful in cases where you have\n     *   multiInterpolation enabled but you want to manually update the\n     *   position of the frame without it using multiInterpolation.  Simply,\n     *   being able to say, I want to render the image sequnce at 0.9 for example.\n     */\n    renderByProgress(n, noMultiInterpolate = false) {\n        this.progress = _mathf_mathf__WEBPACK_IMPORTED_MODULE_5__[\"clamp01\"](n);\n        !this.isPlaying && this.renderProgress(n, noMultiInterpolate);\n    }\n    /**\n     * Internal render by progress value.\n     * @param {number} n A progress value between 0 and 1.\n     * @param {noMultiInterpolate} An option to force evaluation without\n     *   multiInterpolation.  This is useful in cases where you have\n     *   multiInterpolation enabled but you want to manually update the\n     *   position of the frame without it using multiInterpolation.  Simply,\n     *   being able to say, I want to render the image sequnce at 0.9 for example.\n     */\n    renderProgress(n, noMultiInterpolate = false) {\n        let progress = _mathf_mathf__WEBPACK_IMPORTED_MODULE_5__[\"clamp01\"](n);\n        // If the optional multiinterpolate is set, then use multiInterpolate\n        // to figure out what the correct frame should be.\n        if (this.multiInterpolate && !noMultiInterpolate) {\n            const interpolateMap = this.multiInterpolate.calculate(progress);\n            progress = _mathf_mathf__WEBPACK_IMPORTED_MODULE_5__[\"clamp01\"](interpolateMap['sequence']);\n        }\n        // Update clip path multli interpolate.\n        if (this.clipMultiInterpolate) {\n            this.clipMultiInterpolate.calculate(progress);\n        }\n        // Flush cache if progress is 0 or 1 to ensure final frame is always\n        // played.\n        if (progress >= 0.95 || progress <= 0.05) {\n            this.flush();\n        }\n        // Figure out the correct frame to render based on the number of\n        // frames in the sequence.\n        if (this.activeImageSet) {\n            const total = this.activeImageSet.images.length - 1;\n            const targetFrame = Math.ceil(_mathf_mathf__WEBPACK_IMPORTED_MODULE_5__[\"lerp\"](0, total, progress));\n            this.renderFrame(targetFrame);\n        }\n    }\n    /**\n     * Renders a given frame on to the html element.\n     * @param i\n     */\n    renderFrame(i) {\n        // If images aren't loaded yet, skip drawing.\n        if (!this.readyPromise.complete) {\n            return;\n        }\n        this.targetFrame = i;\n        // If the delta between target and current frame is greater than\n        // 1 and there is a lerp value set, lerp towards the target frame.\n        // Otherwise, just set the currentFrame\n        // to the target for immediate updates.\n        // Note that by default, the lerp amount is set to 1 (meaning no lerp),\n        let diff = Math.abs(this.targetFrame - this.currentFrame);\n        if (diff > 1 && !this.isPlaying && this.lerpAmount < 1) {\n            this.currentFrame = _mathf_mathf__WEBPACK_IMPORTED_MODULE_5__[\"lerp\"](this.currentFrame, this.targetFrame, this.lerpAmount);\n            // If there is a delta, keep updating with RAF until it gets resolved.\n            diff = Math.abs(this.targetFrame - this.currentFrame);\n            const precision = 0.001;\n            if (diff >= precision) {\n                window.requestAnimationFrame(() => {\n                    this.renderFrame(this.targetFrame);\n                });\n            }\n        }\n        else {\n            this.currentFrame = this.targetFrame;\n        }\n        const imageSource = this.activeImageSet.images[Math.round(this.currentFrame)];\n        this.draw(imageSource);\n    }\n    /**\n     * Flush the draw cache.\n     */\n    flush() {\n        this.draw(''); // Make a empty call to clear the memoize cache.\n        this.draw(null);\n    }\n    /**\n     * Draws a rectangle on the canvas.\n     */\n    drawRectangle(config) {\n        // let radiusPercent = config.radius;\n        // let height = config.top - config.bottom;\n        // let width = config.left - config.right;\n        // Calculate border radius as a percentage.\n        const radius = {\n            tl: config.radius,\n            tr: config.radius,\n            br: config.radius,\n            bl: config.radius,\n        };\n        this.context.beginPath();\n        this.context.moveTo(config.left + radius.tl, config.top);\n        this.context.lineTo(config.right - radius.tr, config.top);\n        this.context.quadraticCurveTo(config.right, config.top, config.right, config.top + radius.tr);\n        this.context.lineTo(config.right, config.bottom - radius.br);\n        this.context.quadraticCurveTo(config.right, config.bottom, config.right - radius.br, config.bottom);\n        this.context.lineTo(config.left + radius.bl, config.bottom);\n        this.context.quadraticCurveTo(config.left, config.bottom, config.left, config.bottom - radius.bl);\n        this.context.lineTo(config.left, config.top + radius.tl);\n        this.context.quadraticCurveTo(config.left, config.top, config.left + radius.tl, config.top);\n        this.context.closePath();\n        this.context.fill();\n    }\n    /**\n     * Applies clipping to the canvas prior to drawing.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Path2D\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/clip\n     */\n    applyCanvasClipping() {\n        // Make a similar algo as inset done in css clip-path.\n        //\n        // clip-path: inset(var(--clip-top) var(--clip-right) var(--clip-bottom) var(--clip-left) round var(--clip-radius))\n        //\n        // Since it's an inset algo, 0% would mean it is fully show.\n        // - top: 50% would mean the top half is missing\n        // - bottom: 50% would mean the bottom half is missing\n        // - right: 50% would mean the right half is missing\n        // - left: 50% would mean the left half is missing\n        if (this.clipPathType === 'inset') {\n            const results = this.clipMultiInterpolate.getCalculations() || {};\n            const top = results['top'] || 0;\n            const bottom = results['bottom'] || 0;\n            const left = results['left'] || 0;\n            const right = results['right'] || 0;\n            const borderRadius = results['border-radius'] || 0;\n            this.drawRectangle({\n                top: this.canvasHeight - (1 - top) * this.canvasHeight,\n                left: this.canvasWidth - (1 - left) * this.canvasWidth,\n                right: (1 - right) * this.canvasWidth,\n                bottom: (1 - bottom) * this.canvasHeight,\n                radius: borderRadius,\n            });\n            this.context.clip();\n        }\n    }\n    clear() {\n        this.context.clearRect(0, 0, this.canvasWidth, this.canvasHeight);\n    }\n    async draw(imageSource) {\n        // Prevent invalid draws\n        if (!imageSource || this.disposed) {\n            return;\n        }\n        if (imageSource === this.lastDrawSource) {\n            return;\n        }\n        this.lastDrawSource = imageSource;\n        // If this was called at a rate exceeding the fps limit.\n        if (!this.fps.canRun()) {\n            this.fps.schedule(() => {\n                // Force a draw.  This ensures that even with FPS limiting,\n                // the very last draw call is always rendered.\n                this.lastDrawSource = null;\n                this.draw(imageSource);\n            });\n            return;\n        }\n        const image = await this.makeImage(imageSource);\n        // Decoding images in this way, we see a huge memory jump.  Avoid for now.\n        // await image.decode();\n        // If an image couldn't be generated for some reason.\n        if (!image) {\n            return;\n        }\n        const imageBox = {\n            width: this.imageNaturalWidth,\n            height: this.imageNaturalHeight,\n        };\n        const containerBox = {\n            width: this.canvasWidth,\n            height: this.canvasHeight,\n        };\n        this.clear();\n        if (!_is_is__WEBPACK_IMPORTED_MODULE_1__[\"nullLike\"](this.clipPathType)) {\n            this.context.save();\n            this.applyCanvasClipping();\n        }\n        // Background \"cover\" sizing.\n        // Defaults to center.\n        if (this.options && this.options.cover) {\n            const cover = _mathf_mathf__WEBPACK_IMPORTED_MODULE_5__[\"calculateBackgroundCover\"](containerBox, imageBox);\n            if (this.options && _is_is__WEBPACK_IMPORTED_MODULE_1__[\"number\"](this.options.left)) {\n                cover.xOffset =\n                    (containerBox.width - imageBox.width * cover.scalar) *\n                        -this.options.left;\n            }\n            if (this.options && _is_is__WEBPACK_IMPORTED_MODULE_1__[\"number\"](this.options.right)) {\n                // Right align first.\n                cover.xOffset = -(containerBox.width - imageBox.width * cover.scalar);\n                cover.xOffset +=\n                    (containerBox.width - imageBox.width * cover.scalar) *\n                        this.options.right;\n            }\n            if (this.options && _is_is__WEBPACK_IMPORTED_MODULE_1__[\"number\"](this.options.bottom)) {\n                // Set to bottom.\n                cover.yOffset = -(containerBox.height - imageBox.height * cover.scalar);\n                // Clipping Bottom algo.\n                // Add the percentage amount specified.\n                cover.yOffset +=\n                    (containerBox.height - imageBox.height * cover.scalar) *\n                        this.options.bottom;\n            }\n            if (this.options && _is_is__WEBPACK_IMPORTED_MODULE_1__[\"number\"](this.options.top)) {\n                cover.yOffset =\n                    (containerBox.height - imageBox.height * cover.scalar) *\n                        -this.options.top;\n            }\n            this.context.drawImage(image, -cover.xOffset >> 0, -cover.yOffset >> 0, (imageBox.width * cover.scalar) >> 0, (imageBox.height * cover.scalar) >> 0);\n        }\n        else {\n            // Default to contain sizing algo.\n            this.containScale = _mathf_mathf__WEBPACK_IMPORTED_MODULE_5__[\"calculateBackgroundContain\"](containerBox, imageBox);\n            // Default center algo.\n            let diffX = (containerBox.width - imageBox.width * this.containScale) / 2;\n            let diffY = (containerBox.height - imageBox.height * this.containScale) / 2;\n            // Sizing option logic.\n            if (this.options && _is_is__WEBPACK_IMPORTED_MODULE_1__[\"number\"](this.options.bottom)) {\n                // Bottom align it.\n                diffY = containerBox.height - imageBox.height * this.containScale;\n                // Easy way to test this is to set bottom: 1 and\n                // bottomClipping: false which would top align the image.\n                if (this.options.bottomNoClip) {\n                    diffY -=\n                        (containerBox.height - imageBox.height * this.containScale) *\n                            this.options.bottom;\n                }\n                else {\n                    // Clipping Bottom algo.\n                    // Add the percentage amount specified.\n                    diffY -= containerBox.height * this.options.bottom;\n                }\n            }\n            if (this.options && _is_is__WEBPACK_IMPORTED_MODULE_1__[\"number\"](this.options.right)) {\n                // Right align it.\n                diffX = containerBox.width - imageBox.width * this.containScale;\n                // Easy way to test this is to set right: 1 and\n                // rightClipping: false which would left align the image.\n                if (this.options.rightNoClip) {\n                    diffX -=\n                        (containerBox.width - imageBox.width * this.containScale) *\n                            this.options.right;\n                }\n                else {\n                    // Clipping right algo.\n                    // Add the percentage amount specified.\n                    diffX -= containerBox.width * this.options.right;\n                }\n            }\n            if (this.options && _is_is__WEBPACK_IMPORTED_MODULE_1__[\"number\"](this.options.top)) {\n                // Top align it.\n                diffY = 0;\n                // Easy way to test this is to set top: 1 and\n                // topClipping: false which would bottom aligned the image.\n                if (this.options.topNoClip) {\n                    diffY =\n                        (containerBox.height - imageBox.height * this.containScale) *\n                            this.options.top;\n                }\n                else {\n                    // Clipping Top algo.\n                    // Add the percentage amount specified.\n                    diffY += this.options.top * containerBox.height;\n                }\n            }\n            if (this.options && _is_is__WEBPACK_IMPORTED_MODULE_1__[\"number\"](this.options.left)) {\n                // Left align it.\n                diffX = 0;\n                // Easy way to test this is to set left: 1 and\n                // leftClipping: false which would right aligned the image.\n                if (this.options.leftNoClip) {\n                    diffX =\n                        (containerBox.width - imageBox.width * this.containScale) *\n                            this.options.left;\n                }\n                else {\n                    // Clipping left algo.\n                    // Add the percentage amount specified.\n                    diffX += this.options.left * containerBox.width;\n                }\n            }\n            this.context.drawImage(image, diffX >> 0, diffY >> 0, (imageBox.width * this.containScale) >> 0, (imageBox.height * this.containScale) >> 0);\n        }\n        if (!_is_is__WEBPACK_IMPORTED_MODULE_1__[\"nullLike\"](this.clipPathType)) {\n            this.context.restore();\n        }\n        this.lastRenderSource = imageSource;\n    }\n    /**\n     * Updates the internal sizing options.\n     * @param options\n     */\n    setSizingOptions(options) {\n        this.options = options;\n    }\n    /**\n     * Plays the canvas image sequence with a timer. Playing will \"hijack\" the\n     * progress events while playing.   For example:\n     *\n     * ```ts\n     *    canvasImageSequence.play(0, 1, 3000).then(() => {\n     *       console.log('play complete');\n     *   });\n     * ```\n     *\n     * Here we tell the canvasImageSequence to play from start to end over\n     * a 3000ms period.  During this 3000ms period, any calls other to\n     * calls \"renderByProgress\" will get ignored since they can conflict with\n     * the playback.\n     *\n     *\n     * @param from A number between 0 - 1\n     * @param to A number between 0 - 1\n     * @param duration The duration in ms.\n     * @return Promise A promise that completes when done.\n     */\n    play(from, to, duration) {\n        this.stop();\n        this.rafTimer = new _raf_raf_timer__WEBPACK_IMPORTED_MODULE_8__[\"RafTimer\"]((progress) => {\n            const interpolatedProgress = _mathf_mathf__WEBPACK_IMPORTED_MODULE_5__[\"interpolateRange\"](progress, 0, 1, from, to);\n            this.renderProgress(interpolatedProgress);\n        });\n        this.rafTimer.setDuration(duration);\n        this.playDefer = new _func_defer__WEBPACK_IMPORTED_MODULE_3__[\"Defer\"]();\n        this.rafTimer.onComplete(() => {\n            this.isPlaying = false;\n            this.playDefer.resolve();\n            this.rafTimer.dispose();\n        });\n        this.rafTimer.play();\n        this.isPlaying = true;\n        return this.playDefer.getPromise();\n    }\n    /**\n     * Gets the hex color at the given coordinates of the canvas as it is\n     * renders at the moment.\n     * @param coords\n     */\n    getHexColorAtPoint(coords) {\n        return _dom_dom_canvas__WEBPACK_IMPORTED_MODULE_10__[\"domCanvas\"].getColorAtPointAsHex(this.context, coords);\n    }\n    /**\n     * Immediately stops the canvas animation playing.\n     * (that happens with play method).\n     */\n    stop() {\n        this.rafTimer && this.rafTimer.pause();\n        this.rafTimer && this.rafTimer.dispose();\n        this.playDefer && this.playDefer.resolve();\n    }\n    /**\n     * Returns the image dimension that were fetched.  This is based\n     * on the \"first\" image in the sequence.\n     * The sizes will be null if called prior to loading images.\n     */\n    getImageSize() {\n        return {\n            width: this.imageNaturalWidth,\n            height: this.imageNaturalHeight,\n        };\n    }\n    dispose() {\n        this.disposed = true;\n        this.stop();\n        this.domWatcher.dispose();\n        this.rafTimer && this.rafTimer.dispose();\n        this.blobLoader && this.blobLoader.dispose();\n        this.element = null;\n        this.blobCache = null;\n        this.canvasElement = null;\n        _dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"deleteImage\"](this.cacheImage);\n        this.cacheImage = null;\n    }\n}\n//# sourceMappingURL=canvas-image-sequence.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9kb20vY2FudmFzLWltYWdlLXNlcXVlbmNlLmpzPzRlMDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZG9tIGZyb20gJy4uL2RvbS9kb20nO1xuaW1wb3J0ICogYXMgaXMgZnJvbSAnLi4vaXMvaXMnO1xuaW1wb3J0ICogYXMgZnVuYyBmcm9tICcuLi9mdW5jL2Z1bmMnO1xuaW1wb3J0IHsgRGVmZXIgfSBmcm9tICcuLi9mdW5jL2RlZmVyJztcbmltcG9ydCB7IEJsb2JMb2FkZXIgfSBmcm9tICcuLi9sb2FkZXIvYmxvYi1sb2FkZXInO1xuaW1wb3J0ICogYXMgbWF0aGYgZnJvbSAnLi4vbWF0aGYvbWF0aGYnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uL2RvbS9kb20td2F0Y2hlcic7XG5pbXBvcnQgeyBNdWx0aUludGVycG9sYXRlLCB9IGZyb20gJy4uL2ludGVycG9sYXRlL211bHRpLWludGVycG9sYXRlJztcbmltcG9ydCB7IFJhZlRpbWVyIH0gZnJvbSAnLi4vcmFmL3JhZi10aW1lcic7XG5pbXBvcnQgeyBGcHMgfSBmcm9tICcuLi90aW1lL2Zwcyc7XG5pbXBvcnQgeyBkb21DYW52YXMgfSBmcm9tICcuLi9kb20vZG9tLWNhbnZhcyc7XG5leHBvcnQgY29uc3QgY2FudmFzSW1hZ2VTZXF1ZW5jZUVycm9ycyA9IHtcbiAgICBOT19FTEVNRU5UOiAnQW4gZWxlbWVudCBpcyByZXF1aXJlZCBmb3IgY2FudmFzIGltYWdlIHNlcXVlbmNlJyxcbiAgICBOT19JTUFHRV9TRVRTOiAnSW1hZ2Ugc2V0cyBhcmUgcmVxdWlyZWQgZm9yIGNhbnZhcyBpbWFnZSBzZXF1ZW5jZScsXG4gICAgTk9fSU1BR0VTOiAnVGhlcmUgYXJlIG5vIGltYWdlcyBkZWZpbmVkIGluIHlvdXIgY2FudmFzIGltYWdlIHNlcXVlbmNlIGltYWdlIHNldCcsXG59O1xuLyoqXG4gKiBBIGNsYXNzIHRoYXQgYWxsb3dzIHlvdSB0byBwbGF5IHRocm91Z2ggYW4gaW1hZ2Ugc2VxdWVuY2UgKHNwcml0ZSkgYmFzZWQgb25cbiAqIHByb2dyZXNzLlxuICpcbiAqXG4gKiBVc2FnZTpcbiAqXG4gKiBIVE1MIC8gU0FTU1xuICogYGBgXG4gKiA8ZGl2IGNsYXNzPVwibXktZWxlbWVudFwiPjwvZGl2PlxuICpcbiAqXG4gKiAubXktZWxlbWVudFxuICogICB3aWR0aDogMTAwdndcbiAqICAgaGVpZ2h0OiAxMDB2aFxuICogYGBgXG4gKlxuICogVGhlbiBpbiB5b3VyIEpTOlxuICpcbiAqIGBgYHRzXG4gKlxuICogLy8gQWxsIGltYWdlcyBhcmUgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBkaW1lbnNpb25zLlxuICogbGV0IG15SW1hZ2VzID0gW1xuICogICAnaW1hZ2UtMS5qcGcnLFxuICogICAnaW1hZ2UtMi5qcGcnLFxuICogICAnaW1hZ2UtMy5qcGcnLFxuICogICAnaW1hZ2UtNC5qcGcnLFxuICogICAgLi4uXG4gKiAgICdpbWFnZS0xMDAuanBnJyxcbiAqIF1cbiAqXG4gKiBsZXQgY2FudmFzSW1hZ2VTZXF1ZW5jZSA9IG5ldyBDYW52YXNJbWFnZVNlcXVlbmNlKFxuICogICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXktZWxlbWVudCcpLFxuICogICAvLyBQYXNzIGluIHlvdXIgaW1hZ2VTZXQuICBZb3UgY2FuIHNwZWNpZmljIG11bHRpcGxlIChzZWUgYmVsb3cpLlxuICogICBbe2ltYWdlczogbXlJbWFnZXN9XSxcbiAqICAgIC8vIE9wdGlvbmFsIHNpemluZy5cbiAqICAge1xuICogICAgICBjb3ZlcjogZmFsc2UsIC8vIFVzZSBjb3ZlciBtb2RlLiAgRGVmYXVsdHMgdG8gZmFsc2UuXG4gKiAgICAgIGJvdHRvbTogMCAvLyBBbGlnbiB0byB0aGUgYm90dG9tLlxuICogICAgICBsZWZ0OiAwLjIgLy8gQWxpZ24gdG8gdGhlIGxlZnRcbiAqICAgICAgbGVmdE5vQ2xpcDogdHJ1ZSAvLyBXaGVuIGFsaWduaW5nIHRvIGxlZnQsIHVzZSB0aGUgbm8gY2xpcCBhbGdvLlxuICogICB9LFxuICogICBpcy5pcGFkKCkgOiAxIDogdW5kZWZpbmVkIC8vIEZvcmNlIGRwciAxIG9uIGlwYWQgdGhhdCBoYXMgbGVzcyBtZW1vcnkuXG4gKiApO1xuICpcbiAqIC8vIExvYWRzIHRoZSBpbWFnZXMuXG4gKiBjYW52YXNJbWFnZVNlcXVlbmNlLmxvYWQoKTtcbiAqXG4gKiAvLyBBdCBhIGxhdGVyIHRpbWUuICBJZiBpbWFnZXMgYXJlbid0IGxvYWRlZCB5ZXQsIHJlbmRlciB3aWxsIGdldCBpZ25vcmVkLlxuICogIGNhbnZhc0ltYWdlU2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcygwKTsgIC8vIFJlbmRlcnMgZnJhbWUgYXQgcHJvZ3Jlc3MgMC5cbiAqICBjYW52YXNJbWFnZVNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoMC41KTsgIC8vIFJlbmRlcnMgZnJhbWUgYXQgcHJvZ3Jlc3MgMC41XG4gKiAgY2FudmFzSW1hZ2VTZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKDEpOyAgLy8gUmVuZGVycyBmcmFtZSBhdCBwcm9ncmVzcyAxXG4gKlxuICogLy8gV2hlbiBkb25lLlxuICogY2FudmFzSW1hZ2VTZXF1ZW5jZS5kaXNwb3NlKCk7XG4gKlxuICogYGBgXG4gKiBUaGUgYWJvdmUgd291bGQgYWRkIGEgY2FudmFzIHRvIG15RWxlbWVudC4gIFRoZSBpbWFnZSB0aGF0IGdldHMgcmVuZGVyZWRcbiAqIGluIHRoZSBjYW52YXMsIHdpbGwgYmUgZml0dGVkIHdvdWxkIGFuIGFsZ28gc2ltaWxhciB0byBiYWNrZ3JvdW5kOmNvbnRhaW5cbiAqIHNvIHRoYXQgdGhlIGltYWdlIGlzIGZ1bGx5IHZpc2libGUuICBJZiB0aGUgaW1hZ2UgZGlmZmVyZW50IGFzcGVjdCByYXRpb1xuICogdGhhbiB0aGUgY29udGFpbiwgdGhlIGltYWdlIHdpbGwgYmUgYm90aCB2ZXJ0aWNhbGx5IGFuZCBob3Jpem9udGFsbHkgY2VudGVyZWRcbiAqIHdpdGggY29udGFpbiAobWF4aW1pemluZyB0aGUgc2NhbGUgd2l0aG91dCBibGVlZGluZyBvdXQpLlxuICpcbiAqXG4gKiBZb3UgY2FuIGFsc28gbGlzdGVuIGxvYWQgY29tcGxldGlvbi4gIFR5cGljYWxseSwgbG9hZGluZyBmcmFtZXMgdGFrZXMgYVxuICogd2hpbGUgc28geW91IG1heSB3YW50IHRvIGFkZCBhIGxvYWRpbmcgaW5kaWNhdG9yIGFuZCBvbiBsb2FkIGNvbXBsZXRpb24sXG4gKiByZW5kZXIgdGVoIGNhbnZhc0ltYWdlU2VxdWVuY2UgdG8gdGhlIGN1cnJlbnQgZnJhbWUuXG4gKiBgYGB0c1xuICpcbiAqIC8vIFVzZSBpbWFnZSBsb2FkIHByb21pc2UgdG8gZW5zdXJlIGltYWdlcyBhcmUgcmVhZHkuXG4gKiBjYW52YXNJbWFnZVNlcXVlbmNlLmxvYWQoKS50aGVuKCgpPT4ge1xuICogICAgLy8gT24gbG9hZCBjb21wbGV0ZSByZW5kZXIgdGhlIGZyYW1lIHRoYXQgbWFwcyB0byB0aGUgY3VycmVudCBwcm9ncmVzcy5cbiAqICAgIGNhbnZhc0ltYWdlU2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcyhteUN1cnJlbnRQcm9ncmVzcyk7XG4gKiB9KVxuICpcbiAqXG4gKiBgYGBcbiAqXG4gKlxuICpcbiAqICMjIyBTaXppbmcgb3B0aW9ucy5cbiAqIENhbnZhc0ltYWdlU2VxdWVuY2UgaGFzIHR3byByZW5kZXIgbW9kZXMsIGNvbnRhaW4gKGRlZmF1bHQpIGFuZCBjb3Zlci5cbiAqIENvbnRhaW4gd2lsbCBieSBkZWZhdWx0IHZlcnRpY2FsbHkgY2VudGVyIHlvdXIgaW1hZ2UgYnV0IHlvdSBjYW4gb2Zmc2V0IHRoaXNcbiAqIGJ5IHByb3ZpZGluZyBhIGJvdHRvbSB2YWx1ZS5cbiAqXG4gKlxuICogYGBgdHNcbiAqIGxldCBjYW52YXNJbWFnZVNlcXVlbmNlID0gbmV3IENhbnZhc0ltYWdlU2VxdWVuY2UoXG4gKiAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5teS1lbGVtZW50JyksXG4gKiAgIFt7aW1hZ2VzOiBteUltYWdlc31dLFxuICogICB7XG4gKiAgICAgY292ZXI6IHRydWVcbiAqICAgfVxuICogKTtcbiAqXG4gKiBgYGBcbiAqXG4gKlxuICogIyMgTXVsdGlJbnRlcnBvbGF0ZSBjYXBhYmlsaXRpZXMuXG4gKiBDYW52YXMgSW1hZ2UgU2VxdWVuY2UgaGFzIG11bHRpaW50ZXJwb2xhdGlvbiBidWlsdCBpbiB0byBtYWtlIGl0IGVhc2llciB0b1xuICogbWFuYWdlIG1vcmUgY29tcGxleCBzZXF1ZW5jZXMuXG4gKiBOb3JtYWxseSwgeW91IG1heSB3YW50IHRvIG1hcCBhbiBpbWFnZSBzZXF1ZW5jZSB0byBqdXN0IHBsYXkgZnJvbSBzdGFydCB0b1xuICogZW5kLiAgQnV0IHdoYXQgaWYgeW91IHdhbnRlZCBtb3JlIGZsZXhpYmxpdHk/ICBZb3UgY2FuIGRvIHRoaW5ncyBsaWtlOlxuICpcbiAqXG4gKiBgYGB0c1xuICpcbiAqIGxldCBwcm9ncmVzc1BvaW50cyA9IFtcbiAqICAgICAgIHtcbiAqICAgICAgICAgZnJvbTogMCwgdG86IDAuNSwgc3RhcnQ6IDAsIGVuZDogMSxcbiAqICAgICAgIH0sXG4gKiAgICAgICB7XG4gKiAgICAgICAgIGZyb206IDAuNSwgdG86IDEsIHN0YXJ0OiAxLCBlbmQ6IDAsXG4gKiAgICAgICB9LFxuICogXTtcbiAqIGNhbnZhc0ltYWdlU2VxdWVuY2Uuc2V0TXVsdGlJbnRlcnBvbGF0aW9uKHByb2dyZXNzUG9pbnRzKTtcbiAqIGNhbnZhc0ltYWdlU2VxdWVuY2UubG9hZCgpO1xuICpcbiAqIGBgYFxuICogSW4gdGhlIGFib3ZlLCBub3cgdGhlIGltYWdlIHNlcXVlbmNlIHdpbGwgcGxheSBmcm9tIHN0YXJ0IHRvIGVuZCBhbmQgYmFjayB0b1xuICogdGhlIHN0YXJ0LiAgWW91IGNhbiBkZWZpbmUgeW91ciBvd24gcHJvZ3Jlc3MgcG9pbnRzIHRvIGhhdmUgZnVsbCBjb250cm9sIG92ZXJcbiAqIGhvdyB5b3Ugd2FudCB5b3VyIGltYWdlIHNlcXVlbmNlIHNwcml0ZSB0byBwbGF5IG91dC5cbiAqXG4gKlxuICogIyMgUGxheWJhY2sgY2FwYWJpbGl0eVxuICogWW91IGNhbiBhbHNvIHBsYXkgeW91ciBjYW52YXMgaW1hZ2Ugc2VxdWVuY2Ugd2l0aCBhIHRpbWVyLlxuICogVGhlIHBsYXliYWNrIGFsc28gcHJvdmlkZXMgYSBjb21wbGV0aW9uIHByb21pc2UuXG4gKlxuICogYGBgdHNcbiAqIC8vIENyZWF0ZSBhIGNvbXBsaWNhdGVkIHBsYXliYWNrLlxuICogbGV0IHByb2dyZXNzUG9pbnRzID0gW1xuICogICAgICAge1xuICogICAgICAgICBmcm9tOiAwLCB0bzogMC41LCBzdGFydDogMCwgZW5kOiAxLFxuICogICAgICAgfSxcbiAqICAgICAgIHtcbiAqICAgICAgICAgZnJvbTogMC41LCB0bzogMSwgc3RhcnQ6IDEsIGVuZDogMCxcbiAqICAgICAgIH0sXG4gKiBdO1xuICogY2FudmFzSW1hZ2VTZXF1ZW5jZS5zZXRNdWx0aUludGVycG9sYXRpb24ocHJvZ3Jlc3NQb2ludHMpO1xuICogLy8gTm93IGxvYWQgdGhlIGltYWdlcy5cbiAqIGNhbnZhc0ltYWdlU2VxdWVuY2UubG9hZCgpLnRoZW4oKCk9PiB7XG4gKiAgICAvLyBOb3cgcGxheSB0aGUgaW1hZ2Ugc2VxdWVuY2UgZnJvbSBwcm9ncmVzcyAwIC0gMSBvdmVyIGEgc3BhbiBvZiAzMDAwIG1zLlxuICogICAgY2FudmFzSW1hZ2VTZXF1ZW5jZS5wbGF5KDAsIDEsIDMwMDApLnRoZW4oKCk9PiB7XG4gKiAgICAgICBjb25zb2xlLmxvZygnZG9uZScpO1xuICogICAgfSlcbiAqIH0pXG4gKlxuICpcbiAqIC8vIFVzZSBzdG9wIGlmIHlvdSBuZWVkIHRvIHN0b3AgdGhlIGFuaWFtdGlvbi5cbiAqIGNhbnZhc0ltYWdlU2VxdWVuY2Uuc3RvcCgpO1xuICpcbiAqIGBgYFxuICpcbiAqICMjIyBMZXJwIFRvd2FyZHMgQ2FwYWJpbGl0eVxuICogQnkgc2V0dGluZyBhIGxlcnAgdmFsdWUsIGNhbnZhc0ltYWdlU2VxdWVuY2Ugd2lsbCBhdXRvbWF0aWNhbGx5IFwibGVycFwiIHRvd2FyZHNcbiAqIGZyYW1lcyBpZiB0aGUgZGVsdGEgYmV0d2VlbiB0aGUgY3VycmVudGx5IHJlbmRlcmVkIGZyYW1lIGFuZCB0aGUgcmVxdWVzdGVkXG4gKiBwcm9ncmVzcyBpcyBsYXJnZS5cbiAqICogVGhpcyBpcyB1c2VmdWwgdG8gXCJzbW9vdGhcIiBvdXQgbW92ZW1lbnQgYmV0d2VlbiBmcmFtZXMuXG4gKlxuICpcbiAqIFRvIHVzZSB0aGlzIGZlYXR1cmUsIHNpbXBseSBzZXQgdGhlIGxlcnAgdmFsdWUuXG4gKlxuICogQXMgYW4gZXhtYXBsZSB3ZSBpbml0aWFsbHkgc2V0IHRoZSBwcm9ncmVzcyB0byAwIGJ1dCBpbW1lZGlhdGVseSwgY2hhbmdlIGl0IHRvIDEuXG4gKiBZb3Ugd2lsbCBzZWUgdGhhdCB0aGUgcHJvZ3Jlc3MgdmFsdWUgd2lsbCBsZXJwLiAgIEludGVybmFsbHksIHRoaXMgaGFwcGVuc1xuICogYnkgcnVubmluZyByYWYgdW50aWwgdGhlIGZyYW1lIHZhbHVlIGRlbHRhIGlzIGxlc3MgdGhhbiAxIGFuZCBzdGFibGUuXG4gKlxuICogYGBgdHNcbiAqICBjYW52YXNJbWFnZVNlcXVlbmNlLmxlcnBBbW91bnQgPSAwLjEyO1xuICogIGNhbnZhc0ltYWdlU2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcygwKTtcbiAqICBjYW52YXNJbWFnZVNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoMSk7XG4gKiBgYGBcbiAqXG4gKlxuICogQW5vdGhlciB1c2VjYXNlIGZvciBzZXR0aW5nIGxlcnAgaXMgdG8gaGFuZGxlIHJlc29sdmluZyBzdGF0ZSBhZnRlciBwbGF5aW5nXG4gKiBhIHNlcXVlbmNlLiBTZWUgY2FudmFzLWltYWdlLXNlcXVlbmNlNCBmb3IgbW9yZSBvbiB0aGlzLlxuICpcbiAqXG4gKlxuICogIyMjIENsaXBwaW5nIEZlYXR1cmVcbiAqIFNpbWlsYXIgdG8gY3NzIGNsaXAtcGF0aCwgeW91IGNhbiBwYXNzIGNsaXAtcGF0aC1pc2ggc2hhcGVzIHRvIGNhbnZhc0ltYWdlU2VxdWVuY2VcbiAqIHdoaWNoIHdpbGwgdGhlbiBiZSBhcHBsaWVkIHdoZW4gdGhlIGNhbnZhcyBwYWludHMgLyByZW5kZXJzLlxuICpcbiAqIFRoZSBjbGlwcGluZyBjdXJyZW50bHkgc3VwcG9ydHMsIGluc2V0IHR5cGUgb25seS5cbiAqXG4gKiBgYGB0c1xuICpcbiAqIGNhbnZhc0ltYWdlU2VxdWVuY2Uuc2V0Q2xpcEludGVycG9sYXRpb25zKHtcbiAqICAgdHlwZTogJ2luc2V0JyxcbiAqICAgaW50ZXJwb2xhdGlvbnM6IFtcbiAqICAgICB7XG4gKiAgICAgICBwcm9ncmVzczogW3sgZnJvbTogMCwgdG86IDEsIHN0YXJ0OiAwLCBlbmQ6IDAuNX1dLFxuICogICAgICAgaWQ6ICd0b3AnXG4gKiAgICAgfSxcbiAqICAgICB7XG4gKiAgICAgICBwcm9ncmVzczogW3sgZnJvbTogMCwgdG86IDEsIHN0YXJ0OiAwLCBlbmQ6IDAuNX1dLFxuICogICAgICAgaWQ6ICdyaWdodCdcbiAqICAgICB9LFxuICogICAgIHtcbiAqICAgICAgIHByb2dyZXNzOiBbeyBmcm9tOiAwLCB0bzogMSwgc3RhcnQ6IDAsIGVuZDogMC41fV0sXG4gKiAgICAgICBpZDogJ2JvdHRvbSdcbiAqICAgICB9LFxuICogICAgIHtcbiAqICAgICAgIHByb2dyZXNzOiBbeyBmcm9tOiAwLCB0bzogMSwgc3RhcnQ6IDAsIGVuZDogMC41fV0sXG4gKiAgICAgICBpZDogJ2xlZnQnXG4gKiAgICAgfSxcbiAqICAgICB7XG4gKiAgICAgICBwcm9ncmVzczogW3sgZnJvbTogMCwgdG86IDEsIHN0YXJ0OiAwLCBlbmQ6IDAuNX1dLFxuICogICAgICAgaWQ6ICdib3JkZXItcmFkaXVzJ1xuICogICAgIH1cbiAqICAgXVxuICogfSlcbiAqXG4gKlxuICogY2FudmFzSW1hZ2VTZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKDAuNSk7IC8vIFRoZSBjbGlwcGluZyBhdCAwLjUgcHJvZ3Jlc3MgaXMgcmVuZGVyZWQuXG4gKlxuICogYGBgXG4gKlxuICpcbiAqICMjIFNlbGVjdGl2ZWx5IGxvYWRpbmcgZGlmZmVyZW50IHNldHMgb2YgaW1hZ2VzLlxuICpcbiAqIFlvdSBjYW4gcGFzcyBkaWZmZXJlbnQgc2V0cyBvZiBpbWFnZXMgdG8gdXNlLiAgIFVzZSB0aGUgd2hlbiBjb25kaXRpb25cbiAqIHRvIG1vZGlmeSB5b3VyIHNldC4gICBOb3RlIHRoYXQgdGhlIHdoZW4gY29uZGl0aW9uIGlzIG9ubHkgZXZhbHVhdGVkXG4gKiB1cG9uIHJlc2l6ZS4gIElmIGEgbmV3IGltYWdlIHNldCBpcyBtYXRjaGVkLCBsb2FkaW5nIG9mIHRoYXQgaW1hZ2VcbiAqIHNldCB3aWxsIGF1dG9tYXRpY2FsbHkgaGFwcGVuIGluIHRoZSBiYWNrZ3JvdW5kIGFuZCByZW5kZXIgd2hlbiBjb21wbGV0ZS5cbiAqXG4gKiBgYGB0c1xuICpcbiAqIGxldCBteUltYWdlcyA9IFtcbiAqICAgJ2ltYWdlLTEuanBnJyxcbiAqICAgIC4uLlxuICogICAnaW1hZ2UtMTAwLmpwZycsXG4gKiBdO1xuICpcbiAqIGxldCBteU1vYmlsZUltYWdlcyA9IFtcbiAqICAgJ2ltYWdlLW1vYmlsZS0xLmpwZycsXG4gKiAgICdpbWFnZS1tb2JpbGUtMTAwLmpwZycsXG4gKiBdO1xuICogIGxldCBjYW52YXNJbWFnZVNlcXVlbmNlID0gbmV3IENhbnZhc0ltYWdlU2VxdWVuY2UoXG4gKiAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5teS1lbGVtZW50JyksXG4gKiAgIFt7XG4gKiAgICAgd2hlbjogKCk9PiB7IHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCA+PSA3Njh9LFxuICogICAgIGltYWdlczogbXlJbWFnZXNcbiAqICAgfSxcbiAqICAge1xuICogICAgIHdoZW46ICgpPT4geyByZXR1cm4gd2luZG93LmlubmVyV2lkdGggPCA3Njh9LFxuICogICAgIGltYWdlczogbXlNb2JpbGVJbWFnZXNcbiAqICAgfV1cbiAqICk7XG4gKlxuICogYGBgXG4gKlxuICogQ2FuIEkgaGF2ZSBpbWFnZVNldHMgZm9yIG9ubHkgZGVza3RvcCBvciBtb2JpbGU/ICBZZXMgeW91IGNhbiFcbiAqXG4gKiBgYGB0c1xuICogIGxldCBjYW52YXNJbWFnZVNlcXVlbmNlID0gbmV3IENhbnZhc0ltYWdlU2VxdWVuY2UoXG4gKiAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5teS1lbGVtZW50JyksXG4gKiAgIFtcbiAqICAge1xuICogICAgIHdoZW46ICgpPT4geyByZXR1cm4gd2luZG93LmlubmVyV2lkdGggPCA3Njh9LFxuICogICAgIGltYWdlczogbXlNb2JpbGVJbWFnZXNcbiAqICAgfV1cbiAqICk7XG4gKlxuICogYGBgXG4gKiBIZXJlIHdlIHNwZWNpZnkgY2FudmFzSW1hZ2VTZXF1ZW5jZSB3aXRoIGFuIGltYWdlU2V0IGZvciBvbmx5IG1vYmlsZS4gIFRoaXNcbiAqIG1lYW5zIHRoZSBpbWFnZXMgd2lsbCBvbmx5IGxvYWQgb24gbW9iaWxlIGFuZCBjYW52YXNJbWFnZVNlcXVlbmNlIHdvbid0XG4gKiBkbyBhbnl0aGluZyBvbiBkZXNrdG9wIChub3RoaW5nIHdpbGwgc2hvdyBzaW5jZSB0aGVyZSBhcmUgbm8gaW1hZ2VzKS5cbiAqXG4gKlxuICpcbiAqICMjIyMjIyMjIyMjIyMgRGV2IE5vdGVzICMjIyMjIyMjIyMjIyMjIyMjIyMjXG4gKlxuICogIyBNZW1vcnkgbWFuYWdlbWVudCAoZGV2IG5vdGVzKVxuICogV2hlbiB3b3JraW5nIG9uIHRoaXMgY2xhc3MsIHlvdSBoYXZlIHRvIGJlIHZlcnkgY2FyZWZ1bCBhYm91dCBtZW1vcnkgbWFuYWdlbWVudFxuICogc2luY2Ugd2UgYXJlIGRlYWxpbmcgd2l0aCBhIGxvdCBvZiBpbWFnZXMuXG4gKlxuICogVGhlcmUgaXMgbmF0aXZlIG1lbW9yeSBhbmQgaW1hZ2UgY2FjaGUgdGhhdCBuZWVkIHRvIGJlIHBhcnRpY3VsYXJseSBsb29rZWQgYXQuXG4gKiBZb3UgY2FuIGdvIHRvIENocm9tZSAtPiBUYXNrIG1hbmFnZXIgYW5kIG1vbml0b3IgdGhlIHVzYWdlLlxuICogTWFrZSBzdXJlIHRvIGVuYWJsZSB0aGUgbWVtb3J5IGZvb3RwcmludCBhbmQgaW1hZ2UgY2FjaGUgY29sdW1ucy5cbiAqXG4gKiBGb3IgU2FmYXJpLCB0aGUgYmVzdCBwbGFjZSBpcyB0byBvcGVuIEFjdGl2aXR5IE1vbml0b3IuIE9wZW4gc2FmYXJpIGFuZFxuICogb3BlbiB0aGUgc2l0ZS4gIFdpdGhpbiBBY3Rpdml0eSBNb25pdG9yLCBsb29rIGZvciB5b3VyIHByb2Nlc3MgKGl0IHdpbGwgYmUgdGhlXG4gKiBuYW1lIG9mIHRoZSBwYWdlKS4gIERvdWJsZSBjbGljayBvbiBpdCB0byBnZXQgcmVhbCBtZW1vcnkgdXNhZ2UuICBZb3UgY2FuXG4gKiBhbHNvIHVzZSB0aGUgU2FmYXJpIFdlYlRvb2xzIG1lbW9yeSBhbmQgQ1BVIHByb2ZpbGUuXG4gKlxuICpcbiAqIDEpIGltYWdlLmRlY29kZSgpIGFuZCBJbWFnZUJpdG1hcHNcbiAqIElmIHlvdSBydW4gaW1hZ2UuZGVjb2RlKCkgb3IgbG9hZCBJbWFnZUJpdG1hcHMsIHRoaXMgZGF0YSBhcHBlYXJzIHRvIGdldCBzdG9yZWRcbiAqIG92ZXIgaW4gbmF0aXZlIG1lbW9yeS4gIGNhbnZhcy5kcmF3SW1hZ2Ugc3RvcmVzIGluIGltYWdlIGNhY2hlIHdoaWNoIGlzXG4gKiBzZXBhcmF0ZS5cbiAqXG4gKiBUaGUgaXNzdWUgaXMgdGhlIHdoZW4geW91IHJ1biBpbWFnZS5kZWNvZGUoKSBvciB1c2UgSW1hZ2VCaXRtYXBzLCB0aGUgbmF0aXZlXG4gKiBtZW1vcnkgc3BhY2UgdGhleSBvY2N1cHksIHdvbid0IGdldCBmbHVzaGVkLiAgSXQgc2VlbXMgdG8gZ2V0IGZsdXNoZWQgb25seVxuICogd2hlbiB0aGUgY2FudmFzIG9yIGRvY3VtZW50IGlzIHVubG9hZGVkLlxuICpcbiAqIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYFxuICogY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAqIGltYWdlLnNyYyA9ICdob2hvaG8uanBnJztcbiAqIGltYWdlLmRlY29kZSgoKT0+IHsgLy8gVGhpcyBwdXNoZXMgaXQgdG8gbmF0aXZlIG1lbW9yeS5cbiAqICAgaW1hZ2UgPSBudWxsOyAvLyBUaGlzIHdvbid0IGdldCByZW1vdmVkIGV2ZW4gd2l0aCBHQy5cbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBUaGlzIHJlbW92ZXMgdGhlIHJlZmVyZW5jZSB0byB0aGUgaW1hZ2UgYnV0IGV2ZW4gd2l0aCBHQyB3b24ndCBmbHVzaCB0aGUgbmF0aXZlXG4gKiBtZW1vcnkuXG4gKlxuICogSXQncyBiZXN0IHRvIGF2b2lkIHRoaXMgYW5kIGluc3RlYWQganVzdCBsb2FkIGltYWdlcyBub3JtYWxseSBPUlxuICogdXNlIE9iamVjdFVybCB0byBtYWtlIGEgbG9jYWwgYmxvYi5cbiAqXG4gKlxuICogMikgUHJvYmxlbSAyXG4gKiBjYW52YXMuZHJhd0ltYWdlKGltYWdlKSBtZW1vcnkgaXNzdWVzIGFuZCBhbHNvIFNhZmFyaSBEYXRhVVJJIChiYXNlNjQpXG4gKlxuICogY2FudmFzLmRyYXdJbWFnZSwgZXNzZW50aWFsbHkgY29waWVzIHRoZSBkZWNvZGVkIGltYWdlIGRhdGEgb3ZlciB0byB0aGUgaW1hZ2UgY2FjaGUuXG4gKiBUaGVyZWZvcmUsIGV2ZW4gZG9pbmc6XG4gKlxuICogYGBgXG4gKiBjYW52YXMuZHJhd0ltYWdlKGltYWdlKTsgIC8vIGRlY29kZWQgY29weSBzdG9yZWQgdG8gaW1hZ2UgY2FjaGUuXG4gKiBjYW52YXMuZHJhd0ltYWdlKGltYWdlKTsgIC8vIGRlY29kZWQgY29weSBzdG9yZWQgdG8gaW1hZ2UgY2FjaGVcbiAqIGNhbnZhcy5kcmF3SW1hZ2UoaW1hZ2UpOyAgLy8gZGVjb2RlZCBjb3B5IHN0b3JlZCB0byBpbWFnZSBjYWNoZS5cbiAqIGBgYFxuICogUXVpY2tseSByZXN1bHRzIGluIHRoZSBpbWFnZUNhY2hlIGdyb3dpbmcuICBXaGlsZSB0aGlzIGlzIHVzdWFsbHkgZmluZSBzaW5jZVxuICogdGhlIGltYWdlIGNhY2hlIGdldHMgY2xlYXJlZCBwcmV0dHkgcXVpY2tseSwgd2l0aCBhIGNsYXNzIGxpa2UgdGhpcywgaWYgeW91IGhhdmVcbiAqIDEwMCBpbWFnZXMsIHRoYXQgY2FjaGUgd2l0aCB0aGF0IGRhdGEgZGVjb2RlZCBlbmRzIHVwIGJlaW5nIHZlcnkgbGFyZ2UuXG4gKlxuICogVG8gYXZvaWQgdGhpcywgeW91IG5lZWQgdG8gZGVsZXRlIHRoZSBpbWFnZSBmcm9tIHJlZmVyZW5jZS5cbiAqXG4gKiBgYGBcbiAqIGNhbnZhcy5kcmF3SW1hZ2UoaW1hZ2UpOyAgLy8gZGVjb2RlZCBjb3B5IHN0b3JlZCB0byBpbWFnZSBjYWNoZS5cbiAqIGltYWdlLnNyYyA9IG51bGw7IC8vIHJlZmVyZW5jZSByZW1vdmVkLiAgaW1hZ2UgY2FjaGUgZ2V0cyBjbGVhcmVkLlxuICogaW1hZ2UgPSBudWxsO1xuICogYGBgXG4gKlxuICogVGhpcyBlc3NlbnRpYWxseSBtZWFucywgdGhhdCBpZiB3ZSBkb24ndCB3YW50IHRoZSBpbWFnZSBjYWNoZSB0byBncm93LCB3ZVxuICogbmVlZCB0byBkZWxldGUgdGhlIGltYWdlIHRoYXQgd2FzIGp1c3QgZHJhd24gYWZ0ZXIgdGhlIGRyYXcgY2FsbC5cbiAqXG4gKlxuICogMykgUHJvYmxlbSAzXG4gKiBTYWZhcmkgQ2FudmFzIElzc3VlczpcbiAqIE5vdGUgdGhhdCBTYWZhcmkgYWxzbyBoYXMgc29tZSBpc3N1ZXMgd2l0aCBtZW1vcnkgbWFuYWdlbWVudC5cbiAqIEluIGdlbmVyYWwsIFNhZmFyaSBkb2Vzbid0IGRvIGEgZ3JlYXQgam9iIG9mZmxvYWRpbmcgYmFzZTY0IGltYWdlcyBmcm9tIGNhY2hlLlxuICpcbiAqIFRoZSBiZXN0IHdheSB0byBtYW5hZ2UgaXM6XG4gKiAxKSBkb24ndCB1c2UgYmFzZTY0SW1hZ2VzIGFuZCBkcmF3IHRvIGNhbnZhcyAoc2luY2UgU2FmYXJpIGRvZXNuJ3QgcmVsZWFzZSBtZW1vcnkpXG4gKiAyKSBkZWxldGUgaW1hZ2UgZGF0YSB0byBvZmZsb2FkIG1lbW9yeSBhZnRlciBkcmF3SW1hZ2UgY2FsbHMuXG4gKlxuICpcbiAqIE92ZXJhbGwgYmVzdCBwcmFjdGljZTpcbiAqIFRoZSBzb2x1dGlvbiB0YWtlIHRvIGF2b2lkIHRoZXNlIHByb2JsZW1zIGFyZTpcbiAqIC0gZG9uJ3QgdXNlIGltYWdlLmRlY29kZSgpXG4gKiAtIGRvbid0IHVzZSBJbWFnZUJpdG1hcHNcbiAqIC0gZG9uJ3QgdXNlIGJhc2U2NHVyaSBpbWFnZSBTYWZhcmkgY2FuJ3Qgb2ZmbG9hZCB0aGVtLlxuICogLSBhbHdheXMgcmVtb3ZlIHRoZSBpbWFnZSBhZnRlciB1c2luZyBkcmF3SW1hZ2UoKS4gIEJlc3Qgd2F5IHRvIGRvIHRoaXMgaXNcbiAqICAgdG8gdXNlIGEgdGVtcG9yYXJ5IGltYWdlIGFuZCBhc3NpZ24gaXQgYSBsb2NhbCBvYmplY3RVUkkuXG4gKiAtIHdoZW4geW91IHJlc2l6ZSBhIGNhbnZhcyBpdCBjbGVhcnMgaXQgb3V0LiAgWW91IG5lZWQgdG8gcmVzaXplIHdpdGggc21hcnRSZXNpemVcbiAqICAgdG8gYXZvaWQgZmxhc2hlcyBvbiBpb3MgbW9iaWxlIHdoZXJlIHRoZSBkb2N1bWVudCBoZWlnaHQgY2hhbmdlcyBhcyB5b3UgcmVzaXplXG4gKiAgIGZpcmluZyByZXNpemUgZXZlbnRzLlxuICpcbiAqXG4gKiBBcHByb2FjaCB0byBzb2x2aW5nIHRoZSBhYm92ZTpcbiAqIDEpIE1ha2UgWEhSIGNhbGxzIHRvIGFsbCBpbWFnZSB1cmxzIGFuZCBzYXZlIHRoZSBibG9icyBpbiBtZW1vcnkgKGJsb2JDYWNoZSkuXG4gKiAyKSBDcmVhdGUgYSBzaW5nbGUgY2FjaGVJbWFnZSAoSW1hZ2UpIHRoYXQgd2lsbCB0ZW1wb3JhcmlseSBob2xkIGRhdGEgd2hpbGUgaXQgZ2V0c1xuICogICAgZHJhd24gdG8gY2FudmFzIChjYWNoZUltYWdlKVxuICogMykgT24gZWFjaCBkcmF3IGNhbGwsIHVzZSBPYmplY3RVUklzIHRvIGxvY2FsbHkgZ2VuZXJhdGUgYSB0ZW1wb3JhcnkgYmxvYiBpbWFnZS5cbiAqICAgIFNldCB0aGF0IHRvIHRoZSBjYWNoZUltYWdlIHRoZW4gY2FudmFzLmRyYXdJbWFnZShjYWNoZUltYWdlKSBhbmQgZm9sbG93aW5nIHRoYXRcbiAqICAgIHRoZW4gcmV2b2tlIHRoZSBPYmplY3RVUkkgKHRvIHJlbGVhc2UgaXQgZnJvbSBtZW1vcnkpLlxuICpcbiAqIFRoaXMgY2FuIGJlIHJvdWdobHkgaWxsdXN0cmF0ZWQgYXM6XG4gKiBgYGB0c1xuICpcbiAqIHRoaXMuYmxvYkNhY2hlID0geHh4LmdldEJsb2JzRGF0YUZyb21TZXJ2ZXIoKTtcbiAqXG4gKiAvLyBDcmVhdGUgYW4gaW1hZ2UgdGhhdCB3aWxsIHRlbXBvcmFyaWx5IGhvbGQgZGF0YS5cbiAqIHRoaXMuY2FjaGVJbWFnZSA9IG5ldyBJbWFnZSgpO1xuICpcbiAqIGRyYXcoc291cmNlKSB7XG4gKlxuICogICBpbWcub25sb2FkID0gKCkgPT4ge1xuICogICAgIHRoaXMuZHJhd0ltYWdlKHRoaXMuY2FjaGVJbWFnZSk7XG4gKiAgICAgLy8gUmVtb3ZlIGl0IGZyb20gbWVtb3J5LlxuICogICAgIFVSTC5yZXZva2VPYmplY3RVUkwoaW1hZ2Uuc3JjKTtcbiAqICAgfVxuICpcbiAqICAgIC8vIENyZWF0ZSBhIGxvY2FsIG9iamVjdFVSSSBhbmQgYXBwbHkgaXQgYXMgdGhlIGltYWdlIHNvdXJjZS5cbiAqICAgIHRoaXMuY2FjaGVJbWFnZS5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMuYmxvYkNhY2hlW3NvdXJjZV0pO1xuICogfVxuICpcbiAqIGRpc3Bvc2UoKSB7XG4gKiAgIC8vIERlbGV0ZSBhbGwgYmxvYnMgaGVscCBpbiBtZW1vcnkuXG4gKiAgIHRoaXMuYmxvYkNhY2hlID0gbnVsbDtcbiAqIH1cbiAqXG4gKiBgYGBcbiAqXG4gKiBXaXRoIHRoZSBzb2x1dGlvbiBhYm92ZSwgZ2VuZXJhbGx5LCB0aGUgZW5jb2RlZCBzaXplIG9mIGFsbCBpbWFnZXMgYXJlIHN0b3JlZFxuICogaW4gbmF0aXZlIG1lbW9yeSArIG9uZSBkZWNvZGVkIGltYWdlIGluIG1lbW9yeSBjYWNoZSBhdCBhbnkgZ2l2ZW4gdGltZS4gIElmIHlvdVxuICogYXJlIHdvcmtpbmcgd2l0aCBwbmdzLCB0aGlzIGNhbiBzdGlsbCBtZWFuIGEgaHVnZSBtZW1vcnkgaG9nZSBzbyB3YXRjaCBvdXQuXG4gKlxuICpcbiAqIDQpIEZQUyAtIGlwYWQgQ1BVXG4gKiBTaW5jZSB3ZSBuZWVkIHRvIGRlY29kZSBwZXIgZHJhd0ZyYW1lLCB0aGlzIGhhcyBhIGhpZ2hlciBDUFUgY29zdC5cbiAqXG4gKiBUbyBsb3dlciB0aGUgQ1BVIHVzYWdlLCBpbnRlcm5hbGx5IHdlIG1hbmFnZSBhbiBmcHMgcmF0ZSBsaW1pdGVyLlxuICogVGhpcyBpcyBzZXQgdG8gMzAsIHdoaWNoIGlzIHRoZSBtYXhpbXVtIHdlIHJlYWxseSBuZWVkIHRvIGdldCBhIHNtb290aFxuICogcGVyY2VpdmVkIGFuaW1hdGlvbi5cbiAqXG4gKiA1KSBFdmVuIHdpdGggdGhlIG9wdGltaXphdGlvbnMgYWJvdmUsIFZSQU0gKEdQVSBtZW1vcnkpIGNhbiBjYW4gYmUgcmVsYXRpdmVseVxuICogICAgaGlnaC4gSWYgeW91IGp1c3QgbmVlZCBiYXNpYyBmZWF0dXJlcywgY29uc2lkZXIgd2ViZ2wtaW1hZ2UtY2FudmFzXG4gKiAgICBhcyBhbiBhbHRlcm5hdGl2ZSB3aGljaCBpcyBtb3JlIHBlcmZvcm1hbnQuXG4gKlxuICpcbiAqXG4gKlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2JsaW5ra2NvZGUvZGVndS9ibG9iL21hc3Rlci9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2UuanNcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2JsaW5ra2NvZGUvZGVndS9ibG9iL21hc3Rlci9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2UyLmpzXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ibGlua2tjb2RlL2RlZ3UvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvY2FudmFzLWltYWdlLXNlcXVlbmNlMy5qc1xuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vYmxpbmtrY29kZS9kZWd1L2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2NhbnZhcy1pbWFnZS1zZXF1ZW5jZTQuanNcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2JsaW5ra2NvZGUvZGVndS9ibG9iL21hc3Rlci9leGFtcGxlcy9jYW52YXMtaW1hZ2Utc2VxdWVuY2U1LmpzXG4gKiBAdW5zdGFibGVcbiAqL1xuZXhwb3J0IGNsYXNzIENhbnZhc0ltYWdlU2VxdWVuY2Uge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGltYWdlU2V0cywgb3B0aW9ucywgZHByKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGVycCBhbW91bnQgd2hlbiB0aGVyZSBpcyBhIGRlbHRhIGJldHdlZW4gdGFyZ2V0IGFuZCBjdXJyZW50IGZyYW1lXG4gICAgICAgICAqIGdyZWF0ZXIgdGhhbiAxLiAgVGhpcyBkZWZhdWx0cyB0byAxIChtZWFuaW5nIG5vIGxlcnApLiAgQ2hhbmdlIHRoaXMgdmFsdWVcbiAgICAgICAgICogaWYgeW91IHdhbnQgY2FudmFzSW1hZ2VTZXF1ZW5uY2UgdG8gc21vb3RobHkgaW50ZXJwb2xhdGUgYmV0d2VlbiBsYXJnZVxuICAgICAgICAgKiBkZWx0YXMgYmV0d2VlbiB0aGUgdGFyZ2V0IGFuZCBjdXJyZW50IGZyYW1lcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGVycEFtb3VudCA9IDE7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGNhbnZhc0ltYWdlU2VxdWVuY2VFcnJvcnMuTk9fRUxFTUVOVCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbWFnZVNldHMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihjYW52YXNJbWFnZVNlcXVlbmNlRXJyb3JzLk5PX0lNQUdFX1NFVFMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW1hZ2VTZXRzID0gaW1hZ2VTZXRzO1xuICAgICAgICB0aGlzLmFjdGl2ZUltYWdlU2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ibG9iQ2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5pc1BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgLy8gdGhpcy51c2VCaXRtYXBJbWFnZUlmUG9zc2libGUgPSBmYWxzZTtcbiAgICAgICAgLy8gQ3JlYXRlIGNhbnZhcy5cbiAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIC8vIEFkZCBhcmlhIGxhYmVsIGlmIGF2YWlsYWJsZS5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuYXJpYUxhYmVsKSB7XG4gICAgICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgdGhpcy5vcHRpb25zLmFyaWFMYWJlbCk7XG4gICAgICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2ltZycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzRWxlbWVudC5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB0aGlzLmRwciA9IGZ1bmMuc2V0RGVmYXVsdChkcHIsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEpO1xuICAgICAgICB0aGlzLmNhbnZhc1dpZHRoID0gMDtcbiAgICAgICAgdGhpcy5jYW52YXNIZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLmltYWdlTmF0dXJhbEhlaWdodCA9IDA7XG4gICAgICAgIHRoaXMuaW1hZ2VOYXR1cmFsV2lkdGggPSAwO1xuICAgICAgICB0aGlzLmN1cnJlbnRGcmFtZSA9IDA7XG4gICAgICAgIHRoaXMubGFzdERyYXdTb3VyY2UgPSBudWxsO1xuICAgICAgICB0aGlzLnRhcmdldEZyYW1lID0gMDtcbiAgICAgICAgdGhpcy5jb250YWluU2NhbGUgPSBudWxsO1xuICAgICAgICB0aGlzLmRpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIC8vIFNldCBGUFMgdG8gMzAgZm9yIFNhZmFyaSB0byBsaW1pdCBjb21wdXRhdGlvbi4gIFNhZmFyaSB0YWtlcyBhIGxvdFxuICAgICAgICAvLyBtb3JlIHRpbWUgdG8gZGVjb2RlIGltYWdlcyBzbyB0aGlzIHByZXZlbnRzIGhpZ2ggQ1BVIHVzYWdlIGNyYXNoZXNcbiAgICAgICAgLy8gaW4gU2FmYXJpLlxuICAgICAgICB0aGlzLmZwcyA9IG5ldyBGcHMoaXMuc2FmYXJpKCkgPyAzMCA6IDYwKTtcbiAgICAgICAgdGhpcy5jYWNoZUltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIHRoaXMucmFmVGltZXIgPSBudWxsO1xuICAgICAgICB0aGlzLm11bHRpSW50ZXJwb2xhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLmNsaXBNdWx0aUludGVycG9sYXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5jbGlwUGF0aFR5cGUgPSBudWxsO1xuICAgICAgICB0aGlzLmJsb2JMb2FkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy5wbGF5RGVmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgICAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgICAgICAgIC8vIEVuc3VyZSB3ZSB1c2Ugc21hcnQgcmVzaXplIGhlcmUgYmVjYXVzZSByZXNpemluZyBjYW52YXMgd2lsbCBtYWtlXG4gICAgICAgICAgICAvLyBpdCBmbGFzaCAoZHVlIHRvIGNsZWFyaW5nIHRoZSBjYW52YXMpLlxuICAgICAgICAgICAgb246ICdzbWFydFJlc2l6ZScsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5mbHVzaCgpOyAvLyBNYWtlIGEgZW1wdHkgY2FsbCB0byBjbGVhciB0aGUgbWVtb2l6ZSBjYWNoZS5cbiAgICAgICAgICAgICAgICAvLyBSZXJlbmRlciB0aGUgbGFzdCBrbm93biBpbWFnZS5cbiAgICAgICAgICAgICAgICB0aGlzLmxhc3REcmF3U291cmNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmZwcy5sb2NrKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RSZW5kZXJTb3VyY2UgJiYgdGhpcy5kcmF3KHRoaXMubGFzdFJlbmRlclNvdXJjZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mcHMubG9jayh0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpZDogJ3Jlc2l6ZScsXG4gICAgICAgICAgICBldmVudE9wdGlvbnM6IHsgcGFzc2l2ZTogdHJ1ZSB9LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICAgICAgdGhpcy5kb21XYXRjaGVyLnJ1bigncmVzaXplJyk7XG4gICAgICAgIC8vIEFub3RoZXIgcmVzaXplIHdhdGNoZXIgZGVkaWNhdGVkIHRvIGNoZWNraW5nIHRvIGNoZWNraW5nIGlmIGEgbmV3XG4gICAgICAgIC8vIGltYWdlIHNldCBzaG91bGQgYmUgbG9hZGVkLlxuICAgICAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgICAgICAgIG9uOiAnc21hcnRSZXNpemUnLFxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBFdmFsdWF0ZSBpZiB3ZSBuZWVkIHRvIGxvYWQgYSBkaWZmZXJlbnQgaW1hZ2Ugc2V0LlxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1NldCA9IHRoaXMuZ2V0U291cmNlVGhhdFNob3VsZExvYWQodGhpcy5pbWFnZVNldHMpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdTZXQgIT09IHRoaXMuYWN0aXZlSW1hZ2VTZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkTmV3U2V0KHRoaXMuaW1hZ2VTZXRzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXV0b2xvYWQgdGhlIGNvbnRlbnQuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGxhc3QgZnJhbWUgdG8gbnVsbCB0byBhbGxvdyByZWRyYXdpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3REcmF3U291cmNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnBzLmxvY2soZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJCeVByb2dyZXNzKHRoaXMucHJvZ3Jlc3MgfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZwcy5sb2NrKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaWQ6ICdpbWFnZS1zZXQtcmVzaXplJyxcbiAgICAgICAgICAgIGV2ZW50T3B0aW9uczogeyBwYXNzaXZlOiB0cnVlIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXNFbGVtZW50KTtcbiAgICAgICAgdGhpcy5yZWFkeVByb21pc2UgPSBuZXcgRGVmZXIoKTtcbiAgICAgICAgdGhpcy5sb2FkTmV3U2V0KGltYWdlU2V0cyk7XG4gICAgICAgIC8vIFRoZSBwcmV2aW91c2x5IHJlbmRlcmVkIGltYWdlIHNvdXJjZS5cbiAgICAgICAgdGhpcy5sYXN0UmVuZGVyU291cmNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0RHJhd1NvdXJjZSA9IG51bGw7XG4gICAgICAgIC8vIEN1bGwgdW5uY2Vzc2FyeSB1cGRhdGVcbiAgICAgICAgdGhpcy5kcmF3ID0gZnVuYy5ydW5PbmNlT25DaGFuZ2UodGhpcy5kcmF3LmJpbmQodGhpcykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGFuIG9wdGlvbmFsIG11bHRpaW50ZXJwb2xhdGlvbnMuICBUaGlzIGFsbG93cyB5b3UgdG8gZGVmaW5lXG4gICAgICogbW9yZSBjb21wbGV4IHBsYXkgc2VxdWVuY2VzIG9uIHlvdXIgaW1hZ2Ugc2VxdWVuY2UuXG4gICAgICpcbiAgICAgKiBIZXJlIGlzIGFuIGV4YW1wbGUgb2YgcGxheWluZyB0aGUgaW1hZ2Ugc2VxdWVuY2UgZnJvbSBzdGFydCB0byBlbmRcbiAgICAgKiBhbmQgYmFjayB0byBlbmQuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGxldCBwcm9ncmVzc1BvaW50cyA9IFtcbiAgICAgKiAgICAgICB7XG4gICAgICogICAgICAgICBmcm9tOiAwLCB0bzogMC41LCBzdGFydDogMCwgZW5kOiAxLFxuICAgICAqICAgICAgIH0sXG4gICAgICogICAgICAge1xuICAgICAqICAgICAgICAgZnJvbTogMC41LCB0bzogMSwgc3RhcnQ6IDEsIGVuZDogMCxcbiAgICAgKiAgICAgICB9LFxuICAgICAqIF07XG4gICAgICogY2FudmFzSW1hZ2VTZXF1ZW5jZS5zZXRNdWx0aUludGVycG9sYXRpb24ocHJvZ3Jlc3NQb2ludHMpO1xuICAgICAqXG4gICAgICogYGBgXG4gICAgICovXG4gICAgc2V0TXVsdGlJbnRlcnBvbGF0aW9uKGludGVycG9sYXRpb25zKSB7XG4gICAgICAgIHRoaXMubXVsdGlJbnRlcnBvbGF0ZSA9IG5ldyBNdWx0aUludGVycG9sYXRlKHtcbiAgICAgICAgICAgIGludGVycG9sYXRpb25zOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZDogJ3NlcXVlbmNlJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IGludGVycG9sYXRpb25zLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVzaXplKCkge1xuICAgICAgICB0aGlzLmNhbnZhc1dpZHRoID0gdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICB0aGlzLmNhbnZhc0hlaWdodCA9IHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIC8vIFNldCBjYW52YXMgdG8gaGlnaCBkcHIsIHRoZSBhY3R1YWwgd2lkdGggdG8gdGhlIHNpemUuXG4gICAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vY2FsbHVtbG9ja2UvY2MyNThhMTkzODM5NjkxZjYwZGRcbiAgICAgICAgLy8gZm9yIGluc3BpcmF0aW9uLlxuICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQud2lkdGggPSB0aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGggKiB0aGlzLmRwcjtcbiAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50LmhlaWdodCA9IHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQgKiB0aGlzLmRwcjtcbiAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50LnN0eWxlLndpZHRoID0gdGhpcy5jYW52YXNXaWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC5zdHlsZS5oZWlnaHQgPSB0aGlzLmNhbnZhc0hlaWdodCArICdweCc7XG4gICAgICAgIC8vIFNjYWxlIHVwIHRoZSBjYW52YXMgdG8gY29tcGVuc2F0ZSBEUFIuXG4gICAgICAgIHRoaXMuY29udGV4dC5zY2FsZSh0aGlzLmRwciwgdGhpcy5kcHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydHMgbG9hZGluZyB0aGUgaW1hZ2VzLlxuICAgICAqL1xuICAgIGxvYWQoKSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIG1hdGNoaW5nIGltYWdlU2V0IHRoZXJlIGlzIG5vdGhpbmcgdG8gbG9hZC5cbiAgICAgICAgaWYgKCF0aGlzLmJsb2JMb2FkZXIgfHwgIXRoaXMuYWN0aXZlSW1hZ2VTZXQpIHtcbiAgICAgICAgICAgIC8vIERlZmVyIHJlc29sdXRpb24uXG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFkeVByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkeVByb21pc2UuZ2V0UHJvbWlzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvYWRBbGxCbG9icyA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYmxvYkxvYWRlci5sb2FkKCkudGhlbihyZXN1bHRzID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmJsb2JDYWNoZSA9IHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJbWFnZURpbWVuc2lvbnMoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ibG9iTG9hZGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkeVByb21pc2UucmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBsb2FkQWxsQmxvYnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZHlQcm9taXNlLmdldFByb21pc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHlvdSB0byBzZXQgbmV3IGltYWdlU2V0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbWFnZVNvdXJjZVxuICAgICAqL1xuICAgIGxvYWROZXdTZXQoaW1hZ2VTZXRzKSB7XG4gICAgICAgIC8vIFJlbGVhc2UgbWVtb3J5IG9mIGN1cnJlbnQgc2V0LlxuICAgICAgICB0aGlzLmJsb2JMb2FkZXIgJiYgdGhpcy5ibG9iTG9hZGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgLy8gU2F2ZSB0aGUgaW1hZ2Ugc291cmNlcy5cbiAgICAgICAgdGhpcy5pbWFnZVNldHMgPSBpbWFnZVNldHM7XG4gICAgICAgIHRoaXMuYWN0aXZlSW1hZ2VTZXQgPSB0aGlzLmdldFNvdXJjZVRoYXRTaG91bGRMb2FkKHRoaXMuaW1hZ2VTZXRzKTtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW1hZ2VTZXQgJiYgIWlzLmFycmF5KHRoaXMuYWN0aXZlSW1hZ2VTZXQuaW1hZ2VzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGNhbnZhc0ltYWdlU2VxdWVuY2VFcnJvcnMuTk9fSU1BR0VTKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgdGhlIGFjdGl2ZSBpbWFnZSBzZXQgaWYgb25lIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW1hZ2VTZXQpIHtcbiAgICAgICAgICAgIHRoaXMuYmxvYkxvYWRlciA9IG5ldyBCbG9iTG9hZGVyKHRoaXMuYWN0aXZlSW1hZ2VTZXQuaW1hZ2VzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmxvYkxvYWRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ibG9iQ2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB0aGlzLmxhc3RSZW5kZXJTb3VyY2UgPSBudWxsO1xuICAgICAgICAvLyBSZXNldCB0aGUgcmVhZHlQcm9taXNlLlxuICAgICAgICB0aGlzLnJlYWR5UHJvbWlzZSA9IG5ldyBEZWZlcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIGxpc3Qgb2YgQ2FudmFzSW1hZ2VTZXF1ZW5jZUltYWdlU2V0cyBldmFsdWF0ZXMgd2hpY2ggc2V0IHNob3VsZFxuICAgICAqIGJlIHVzZWQgdG8gbG9hZCBpbnRvIHRoZSBjYW52YXMuICBUaGUgY3JpdGVyaWEgaXMgdGhhdCBhbnlcbiAgICAgKiBpbWFnZVNldCB3aXRob3V0IHdoZW4gaXMgdXNlZCBvciBpZiB3aGVuIGNvbmRpdGlvbiBpcyBzcGVjaWZpZWQgdGhlXG4gICAgICogd2hlbiBjb25kaXRpb24gaXMgZXZhbHVhdGVkIGFuZCBpZiB0cnVlLCBpdCBpcyB1c2VkLiAgSWYgbXVsdGlwbGUgaW1hZ2VTZXRzXG4gICAgICogYXJlIGZvdW5kLCB0aGUgdGhlIGZpcnN0IG9uZSBpcyB1c2VkLlxuICAgICAqL1xuICAgIGdldFNvdXJjZVRoYXRTaG91bGRMb2FkKHNvdXJjZXMpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hpbmdTb3VjZXMgPSBbXTtcbiAgICAgICAgc291cmNlcy5mb3JFYWNoKHNvdXJjZSA9PiB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZS53aGVuKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hpbmdTb3VjZXMucHVzaChzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc291cmNlLndoZW4oKSAmJiBtYXRjaGluZ1NvdWNlcy5wdXNoKHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWF0Y2hpbmdTb3VjZXNbMF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ha2VzIGEgZGVsZXRhYmxlIGltYWdlIGNsb25lLlxuICAgICAqL1xuICAgIG1ha2VJbWFnZShzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UgfHwgIXRoaXMuYmxvYkNhY2hlW3NvdXJjZV0pIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgb2JqZWN0VVJMIEJsb2IgZnJvbSBsb2NhbGUgY2FjaGUuXG4gICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMuY2FjaGVJbWFnZS5zcmMpO1xuICAgICAgICAgICAgdGhpcy5jYWNoZUltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuY2FjaGVJbWFnZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHRlbXBvcmFyeSBPYmplY3RVUmwgdG8gc3RvcmUuXG4gICAgICAgICAgICB0aGlzLmNhY2hlSW1hZ2Uuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLmJsb2JDYWNoZVtzb3VyY2VdKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGltYWdlcyBkaW1lbnNpb25zIHVzZWQgaW50ZXJuYWxseSBiYXNlZCBvbiB0aGUgZmlyc3QgaW1hZ2UuXG4gICAgICogQXNzdW1lcyBhbGwgaW1hZ2VzIGFyZSB1bmlmb3JtIHNpemUuXG4gICAgICovXG4gICAgc2V0SW1hZ2VEaW1lbnNpb25zKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLmFjdGl2ZUltYWdlU2V0LmltYWdlc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGJsb2IgPSB0aGlzLmJsb2JDYWNoZVtzb3VyY2VdO1xuICAgICAgICAgICAgLy8gR2VuZXJhdGUgYW4gaW1hZ2UgZnJvbSB0ZWggZmlyc3QgYmxvYi5cbiAgICAgICAgICAgIGRvbS5tYWtlSW1hZ2VGcm9tQmxvYihibG9iKS50aGVuKChpbWFnZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJpdE1hcHNMb2FkZWQgPSAhaW1hZ2UubmF0dXJhbFdpZHRoO1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VOYXR1cmFsSGVpZ2h0ID0gYml0TWFwc0xvYWRlZFxuICAgICAgICAgICAgICAgICAgICA/IGltYWdlLmhlaWdodFxuICAgICAgICAgICAgICAgICAgICA6IGltYWdlLm5hdHVyYWxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZU5hdHVyYWxXaWR0aCA9IGJpdE1hcHNMb2FkZWRcbiAgICAgICAgICAgICAgICAgICAgPyBpbWFnZS53aWR0aFxuICAgICAgICAgICAgICAgICAgICA6IGltYWdlLm5hdHVyYWxXaWR0aDtcbiAgICAgICAgICAgICAgICAvLyBSZWxlYXNlIGl0IGZyb20gbWVtb3J5LlxuICAgICAgICAgICAgICAgIGRvbS5kZWxldGVJbWFnZShpbWFnZSk7XG4gICAgICAgICAgICAgICAgaW1hZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBpbnRlcm5hbGx5IHVzZWQgY3VycmVudCBpbWFnZSBzZWV0LlxuICAgICAqL1xuICAgIGdldEFjdGl2ZUltYWdlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlSW1hZ2VTZXQuaW1hZ2VzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGFuIGNsaXAgcGF0aCB0eXBlIGludGVycG9sYXRpb24gb24gdGhlIGNhbnZhcyBkcmF3aW5nLlxuICAgICAqIEN1cnJlbnRseSBvbmx5IHN1cHBvcnRzIGluc2V0IHR5cGUuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqXG4gICAgICogY2FudmFzSW1hZ2VTZXF1ZW5jZS5zZXRDbGlwSW50ZXJwb2xhdGlvbnMoe1xuICAgICAqICAgdHlwZTogJ2luc2V0JyxcbiAgICAgKiAgIGludGVycG9sYXRpb25zOiBbXG4gICAgICogICAgIHtcbiAgICAgKiAgICAgICBwcm9ncmVzczogW3sgZnJvbTogMCwgdG86IDEsIHN0YXJ0OiAwLCBlbmQ6IDAuNX1dLFxuICAgICAqICAgICAgIGlkOiAndG9wJ1xuICAgICAqICAgICB9LFxuICAgICAqICAgICB7XG4gICAgICogICAgICAgcHJvZ3Jlc3M6IFt7IGZyb206IDAsIHRvOiAxLCBzdGFydDogMCwgZW5kOiAwLjV9XSxcbiAgICAgKiAgICAgICBpZDogJ3JpZ2h0J1xuICAgICAqICAgICB9LFxuICAgICAqICAgICB7XG4gICAgICogICAgICAgcHJvZ3Jlc3M6IFt7IGZyb206IDAsIHRvOiAxLCBzdGFydDogMCwgZW5kOiAwLjV9XSxcbiAgICAgKiAgICAgICBpZDogJ2JvdHRvbSdcbiAgICAgKiAgICAgfSxcbiAgICAgKiAgICAge1xuICAgICAqICAgICAgIHByb2dyZXNzOiBbeyBmcm9tOiAwLCB0bzogMSwgc3RhcnQ6IDAsIGVuZDogMC41fV0sXG4gICAgICogICAgICAgaWQ6ICdsZWZ0J1xuICAgICAqICAgICB9LFxuICAgICAqICAgICB7XG4gICAgICogICAgICAgcHJvZ3Jlc3M6IFt7IGZyb206IDAsIHRvOiAxLCBzdGFydDogMCwgZW5kOiAwLjV9XSxcbiAgICAgKiAgICAgICBpZDogJ2JvcmRlci1yYWRpdXMnXG4gICAgICogICAgIH1cbiAgICAgKiAgIF1cbiAgICAgKiB9KVxuICAgICAqXG4gICAgICpcbiAgICAgKiBjYW52YXNJbWFnZVNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoMC41KTsgLy8gVGhlIGNsaXBwaW5nIGF0IDAuNSBwcm9ncmVzcyBpcyByZW5kZXJlZC5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICovXG4gICAgc2V0Q2xpcEludGVycG9sYXRpb25zKGNvbmZpZykge1xuICAgICAgICB0aGlzLmNsaXBQYXRoVHlwZSA9IGNvbmZpZy50eXBlO1xuICAgICAgICB0aGlzLmNsaXBNdWx0aUludGVycG9sYXRlID0gbmV3IE11bHRpSW50ZXJwb2xhdGUoe1xuICAgICAgICAgICAgaW50ZXJwb2xhdGlvbnM6IGNvbmZpZy5pbnRlcnBvbGF0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYnkgcHJvZ3Jlc3MuICAwIHdvdWxkIG1lYW4gdGhlIHZlcnkgZmlyc3QgZnJhbWUgYW5kIHRoZSAxIHdvdWxkXG4gICAgICogbWVhbiB0aGUgbGFzdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBBIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCBhbmQgMS5cbiAgICAgKiBAcGFyYW0ge25vTXVsdGlJbnRlcnBvbGF0ZX0gQW4gb3B0aW9uIHRvIGZvcmNlIGV2YWx1YXRpb24gd2l0aG91dFxuICAgICAqICAgbXVsdGlJbnRlcnBvbGF0aW9uLiAgVGhpcyBpcyB1c2VmdWwgaW4gY2FzZXMgd2hlcmUgeW91IGhhdmVcbiAgICAgKiAgIG11bHRpSW50ZXJwb2xhdGlvbiBlbmFibGVkIGJ1dCB5b3Ugd2FudCB0byBtYW51YWxseSB1cGRhdGUgdGhlXG4gICAgICogICBwb3NpdGlvbiBvZiB0aGUgZnJhbWUgd2l0aG91dCBpdCB1c2luZyBtdWx0aUludGVycG9sYXRpb24uICBTaW1wbHksXG4gICAgICogICBiZWluZyBhYmxlIHRvIHNheSwgSSB3YW50IHRvIHJlbmRlciB0aGUgaW1hZ2Ugc2VxdW5jZSBhdCAwLjkgZm9yIGV4YW1wbGUuXG4gICAgICovXG4gICAgcmVuZGVyQnlQcm9ncmVzcyhuLCBub011bHRpSW50ZXJwb2xhdGUgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gbWF0aGYuY2xhbXAwMShuKTtcbiAgICAgICAgIXRoaXMuaXNQbGF5aW5nICYmIHRoaXMucmVuZGVyUHJvZ3Jlc3Mobiwgbm9NdWx0aUludGVycG9sYXRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgcmVuZGVyIGJ5IHByb2dyZXNzIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIEEgcHJvZ3Jlc3MgdmFsdWUgYmV0d2VlbiAwIGFuZCAxLlxuICAgICAqIEBwYXJhbSB7bm9NdWx0aUludGVycG9sYXRlfSBBbiBvcHRpb24gdG8gZm9yY2UgZXZhbHVhdGlvbiB3aXRob3V0XG4gICAgICogICBtdWx0aUludGVycG9sYXRpb24uICBUaGlzIGlzIHVzZWZ1bCBpbiBjYXNlcyB3aGVyZSB5b3UgaGF2ZVxuICAgICAqICAgbXVsdGlJbnRlcnBvbGF0aW9uIGVuYWJsZWQgYnV0IHlvdSB3YW50IHRvIG1hbnVhbGx5IHVwZGF0ZSB0aGVcbiAgICAgKiAgIHBvc2l0aW9uIG9mIHRoZSBmcmFtZSB3aXRob3V0IGl0IHVzaW5nIG11bHRpSW50ZXJwb2xhdGlvbi4gIFNpbXBseSxcbiAgICAgKiAgIGJlaW5nIGFibGUgdG8gc2F5LCBJIHdhbnQgdG8gcmVuZGVyIHRoZSBpbWFnZSBzZXF1bmNlIGF0IDAuOSBmb3IgZXhhbXBsZS5cbiAgICAgKi9cbiAgICByZW5kZXJQcm9ncmVzcyhuLCBub011bHRpSW50ZXJwb2xhdGUgPSBmYWxzZSkge1xuICAgICAgICBsZXQgcHJvZ3Jlc3MgPSBtYXRoZi5jbGFtcDAxKG4pO1xuICAgICAgICAvLyBJZiB0aGUgb3B0aW9uYWwgbXVsdGlpbnRlcnBvbGF0ZSBpcyBzZXQsIHRoZW4gdXNlIG11bHRpSW50ZXJwb2xhdGVcbiAgICAgICAgLy8gdG8gZmlndXJlIG91dCB3aGF0IHRoZSBjb3JyZWN0IGZyYW1lIHNob3VsZCBiZS5cbiAgICAgICAgaWYgKHRoaXMubXVsdGlJbnRlcnBvbGF0ZSAmJiAhbm9NdWx0aUludGVycG9sYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBpbnRlcnBvbGF0ZU1hcCA9IHRoaXMubXVsdGlJbnRlcnBvbGF0ZS5jYWxjdWxhdGUocHJvZ3Jlc3MpO1xuICAgICAgICAgICAgcHJvZ3Jlc3MgPSBtYXRoZi5jbGFtcDAxKGludGVycG9sYXRlTWFwWydzZXF1ZW5jZSddKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgY2xpcCBwYXRoIG11bHRsaSBpbnRlcnBvbGF0ZS5cbiAgICAgICAgaWYgKHRoaXMuY2xpcE11bHRpSW50ZXJwb2xhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuY2xpcE11bHRpSW50ZXJwb2xhdGUuY2FsY3VsYXRlKHByb2dyZXNzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGbHVzaCBjYWNoZSBpZiBwcm9ncmVzcyBpcyAwIG9yIDEgdG8gZW5zdXJlIGZpbmFsIGZyYW1lIGlzIGFsd2F5c1xuICAgICAgICAvLyBwbGF5ZWQuXG4gICAgICAgIGlmIChwcm9ncmVzcyA+PSAwLjk1IHx8IHByb2dyZXNzIDw9IDAuMDUpIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGZyYW1lIHRvIHJlbmRlciBiYXNlZCBvbiB0aGUgbnVtYmVyIG9mXG4gICAgICAgIC8vIGZyYW1lcyBpbiB0aGUgc2VxdWVuY2UuXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZUltYWdlU2V0KSB7XG4gICAgICAgICAgICBjb25zdCB0b3RhbCA9IHRoaXMuYWN0aXZlSW1hZ2VTZXQuaW1hZ2VzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRGcmFtZSA9IE1hdGguY2VpbChtYXRoZi5sZXJwKDAsIHRvdGFsLCBwcm9ncmVzcykpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJGcmFtZSh0YXJnZXRGcmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIGdpdmVuIGZyYW1lIG9uIHRvIHRoZSBodG1sIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIGlcbiAgICAgKi9cbiAgICByZW5kZXJGcmFtZShpKSB7XG4gICAgICAgIC8vIElmIGltYWdlcyBhcmVuJ3QgbG9hZGVkIHlldCwgc2tpcCBkcmF3aW5nLlxuICAgICAgICBpZiAoIXRoaXMucmVhZHlQcm9taXNlLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50YXJnZXRGcmFtZSA9IGk7XG4gICAgICAgIC8vIElmIHRoZSBkZWx0YSBiZXR3ZWVuIHRhcmdldCBhbmQgY3VycmVudCBmcmFtZSBpcyBncmVhdGVyIHRoYW5cbiAgICAgICAgLy8gMSBhbmQgdGhlcmUgaXMgYSBsZXJwIHZhbHVlIHNldCwgbGVycCB0b3dhcmRzIHRoZSB0YXJnZXQgZnJhbWUuXG4gICAgICAgIC8vIE90aGVyd2lzZSwganVzdCBzZXQgdGhlIGN1cnJlbnRGcmFtZVxuICAgICAgICAvLyB0byB0aGUgdGFyZ2V0IGZvciBpbW1lZGlhdGUgdXBkYXRlcy5cbiAgICAgICAgLy8gTm90ZSB0aGF0IGJ5IGRlZmF1bHQsIHRoZSBsZXJwIGFtb3VudCBpcyBzZXQgdG8gMSAobWVhbmluZyBubyBsZXJwKSxcbiAgICAgICAgbGV0IGRpZmYgPSBNYXRoLmFicyh0aGlzLnRhcmdldEZyYW1lIC0gdGhpcy5jdXJyZW50RnJhbWUpO1xuICAgICAgICBpZiAoZGlmZiA+IDEgJiYgIXRoaXMuaXNQbGF5aW5nICYmIHRoaXMubGVycEFtb3VudCA8IDEpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEZyYW1lID0gbWF0aGYubGVycCh0aGlzLmN1cnJlbnRGcmFtZSwgdGhpcy50YXJnZXRGcmFtZSwgdGhpcy5sZXJwQW1vdW50KTtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGEgZGVsdGEsIGtlZXAgdXBkYXRpbmcgd2l0aCBSQUYgdW50aWwgaXQgZ2V0cyByZXNvbHZlZC5cbiAgICAgICAgICAgIGRpZmYgPSBNYXRoLmFicyh0aGlzLnRhcmdldEZyYW1lIC0gdGhpcy5jdXJyZW50RnJhbWUpO1xuICAgICAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gMC4wMDE7XG4gICAgICAgICAgICBpZiAoZGlmZiA+PSBwcmVjaXNpb24pIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJGcmFtZSh0aGlzLnRhcmdldEZyYW1lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEZyYW1lID0gdGhpcy50YXJnZXRGcmFtZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbWFnZVNvdXJjZSA9IHRoaXMuYWN0aXZlSW1hZ2VTZXQuaW1hZ2VzW01hdGgucm91bmQodGhpcy5jdXJyZW50RnJhbWUpXTtcbiAgICAgICAgdGhpcy5kcmF3KGltYWdlU291cmNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmx1c2ggdGhlIGRyYXcgY2FjaGUuXG4gICAgICovXG4gICAgZmx1c2goKSB7XG4gICAgICAgIHRoaXMuZHJhdygnJyk7IC8vIE1ha2UgYSBlbXB0eSBjYWxsIHRvIGNsZWFyIHRoZSBtZW1vaXplIGNhY2hlLlxuICAgICAgICB0aGlzLmRyYXcobnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgcmVjdGFuZ2xlIG9uIHRoZSBjYW52YXMuXG4gICAgICovXG4gICAgZHJhd1JlY3RhbmdsZShjb25maWcpIHtcbiAgICAgICAgLy8gbGV0IHJhZGl1c1BlcmNlbnQgPSBjb25maWcucmFkaXVzO1xuICAgICAgICAvLyBsZXQgaGVpZ2h0ID0gY29uZmlnLnRvcCAtIGNvbmZpZy5ib3R0b207XG4gICAgICAgIC8vIGxldCB3aWR0aCA9IGNvbmZpZy5sZWZ0IC0gY29uZmlnLnJpZ2h0O1xuICAgICAgICAvLyBDYWxjdWxhdGUgYm9yZGVyIHJhZGl1cyBhcyBhIHBlcmNlbnRhZ2UuXG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IHtcbiAgICAgICAgICAgIHRsOiBjb25maWcucmFkaXVzLFxuICAgICAgICAgICAgdHI6IGNvbmZpZy5yYWRpdXMsXG4gICAgICAgICAgICBicjogY29uZmlnLnJhZGl1cyxcbiAgICAgICAgICAgIGJsOiBjb25maWcucmFkaXVzLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5tb3ZlVG8oY29uZmlnLmxlZnQgKyByYWRpdXMudGwsIGNvbmZpZy50b3ApO1xuICAgICAgICB0aGlzLmNvbnRleHQubGluZVRvKGNvbmZpZy5yaWdodCAtIHJhZGl1cy50ciwgY29uZmlnLnRvcCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKGNvbmZpZy5yaWdodCwgY29uZmlnLnRvcCwgY29uZmlnLnJpZ2h0LCBjb25maWcudG9wICsgcmFkaXVzLnRyKTtcbiAgICAgICAgdGhpcy5jb250ZXh0LmxpbmVUbyhjb25maWcucmlnaHQsIGNvbmZpZy5ib3R0b20gLSByYWRpdXMuYnIpO1xuICAgICAgICB0aGlzLmNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhjb25maWcucmlnaHQsIGNvbmZpZy5ib3R0b20sIGNvbmZpZy5yaWdodCAtIHJhZGl1cy5iciwgY29uZmlnLmJvdHRvbSk7XG4gICAgICAgIHRoaXMuY29udGV4dC5saW5lVG8oY29uZmlnLmxlZnQgKyByYWRpdXMuYmwsIGNvbmZpZy5ib3R0b20pO1xuICAgICAgICB0aGlzLmNvbnRleHQucXVhZHJhdGljQ3VydmVUbyhjb25maWcubGVmdCwgY29uZmlnLmJvdHRvbSwgY29uZmlnLmxlZnQsIGNvbmZpZy5ib3R0b20gLSByYWRpdXMuYmwpO1xuICAgICAgICB0aGlzLmNvbnRleHQubGluZVRvKGNvbmZpZy5sZWZ0LCBjb25maWcudG9wICsgcmFkaXVzLnRsKTtcbiAgICAgICAgdGhpcy5jb250ZXh0LnF1YWRyYXRpY0N1cnZlVG8oY29uZmlnLmxlZnQsIGNvbmZpZy50b3AsIGNvbmZpZy5sZWZ0ICsgcmFkaXVzLnRsLCBjb25maWcudG9wKTtcbiAgICAgICAgdGhpcy5jb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICB0aGlzLmNvbnRleHQuZmlsbCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGNsaXBwaW5nIHRvIHRoZSBjYW52YXMgcHJpb3IgdG8gZHJhd2luZy5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9QYXRoMkRcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvY2xpcFxuICAgICAqL1xuICAgIGFwcGx5Q2FudmFzQ2xpcHBpbmcoKSB7XG4gICAgICAgIC8vIE1ha2UgYSBzaW1pbGFyIGFsZ28gYXMgaW5zZXQgZG9uZSBpbiBjc3MgY2xpcC1wYXRoLlxuICAgICAgICAvL1xuICAgICAgICAvLyBjbGlwLXBhdGg6IGluc2V0KHZhcigtLWNsaXAtdG9wKSB2YXIoLS1jbGlwLXJpZ2h0KSB2YXIoLS1jbGlwLWJvdHRvbSkgdmFyKC0tY2xpcC1sZWZ0KSByb3VuZCB2YXIoLS1jbGlwLXJhZGl1cykpXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFNpbmNlIGl0J3MgYW4gaW5zZXQgYWxnbywgMCUgd291bGQgbWVhbiBpdCBpcyBmdWxseSBzaG93LlxuICAgICAgICAvLyAtIHRvcDogNTAlIHdvdWxkIG1lYW4gdGhlIHRvcCBoYWxmIGlzIG1pc3NpbmdcbiAgICAgICAgLy8gLSBib3R0b206IDUwJSB3b3VsZCBtZWFuIHRoZSBib3R0b20gaGFsZiBpcyBtaXNzaW5nXG4gICAgICAgIC8vIC0gcmlnaHQ6IDUwJSB3b3VsZCBtZWFuIHRoZSByaWdodCBoYWxmIGlzIG1pc3NpbmdcbiAgICAgICAgLy8gLSBsZWZ0OiA1MCUgd291bGQgbWVhbiB0aGUgbGVmdCBoYWxmIGlzIG1pc3NpbmdcbiAgICAgICAgaWYgKHRoaXMuY2xpcFBhdGhUeXBlID09PSAnaW5zZXQnKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gdGhpcy5jbGlwTXVsdGlJbnRlcnBvbGF0ZS5nZXRDYWxjdWxhdGlvbnMoKSB8fCB7fTtcbiAgICAgICAgICAgIGNvbnN0IHRvcCA9IHJlc3VsdHNbJ3RvcCddIHx8IDA7XG4gICAgICAgICAgICBjb25zdCBib3R0b20gPSByZXN1bHRzWydib3R0b20nXSB8fCAwO1xuICAgICAgICAgICAgY29uc3QgbGVmdCA9IHJlc3VsdHNbJ2xlZnQnXSB8fCAwO1xuICAgICAgICAgICAgY29uc3QgcmlnaHQgPSByZXN1bHRzWydyaWdodCddIHx8IDA7XG4gICAgICAgICAgICBjb25zdCBib3JkZXJSYWRpdXMgPSByZXN1bHRzWydib3JkZXItcmFkaXVzJ10gfHwgMDtcbiAgICAgICAgICAgIHRoaXMuZHJhd1JlY3RhbmdsZSh7XG4gICAgICAgICAgICAgICAgdG9wOiB0aGlzLmNhbnZhc0hlaWdodCAtICgxIC0gdG9wKSAqIHRoaXMuY2FudmFzSGVpZ2h0LFxuICAgICAgICAgICAgICAgIGxlZnQ6IHRoaXMuY2FudmFzV2lkdGggLSAoMSAtIGxlZnQpICogdGhpcy5jYW52YXNXaWR0aCxcbiAgICAgICAgICAgICAgICByaWdodDogKDEgLSByaWdodCkgKiB0aGlzLmNhbnZhc1dpZHRoLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogKDEgLSBib3R0b20pICogdGhpcy5jYW52YXNIZWlnaHQsXG4gICAgICAgICAgICAgICAgcmFkaXVzOiBib3JkZXJSYWRpdXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5jbGlwKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQpO1xuICAgIH1cbiAgICBhc3luYyBkcmF3KGltYWdlU291cmNlKSB7XG4gICAgICAgIC8vIFByZXZlbnQgaW52YWxpZCBkcmF3c1xuICAgICAgICBpZiAoIWltYWdlU291cmNlIHx8IHRoaXMuZGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW1hZ2VTb3VyY2UgPT09IHRoaXMubGFzdERyYXdTb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhc3REcmF3U291cmNlID0gaW1hZ2VTb3VyY2U7XG4gICAgICAgIC8vIElmIHRoaXMgd2FzIGNhbGxlZCBhdCBhIHJhdGUgZXhjZWVkaW5nIHRoZSBmcHMgbGltaXQuXG4gICAgICAgIGlmICghdGhpcy5mcHMuY2FuUnVuKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZnBzLnNjaGVkdWxlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBGb3JjZSBhIGRyYXcuICBUaGlzIGVuc3VyZXMgdGhhdCBldmVuIHdpdGggRlBTIGxpbWl0aW5nLFxuICAgICAgICAgICAgICAgIC8vIHRoZSB2ZXJ5IGxhc3QgZHJhdyBjYWxsIGlzIGFsd2F5cyByZW5kZXJlZC5cbiAgICAgICAgICAgICAgICB0aGlzLmxhc3REcmF3U291cmNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXcoaW1hZ2VTb3VyY2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW1hZ2UgPSBhd2FpdCB0aGlzLm1ha2VJbWFnZShpbWFnZVNvdXJjZSk7XG4gICAgICAgIC8vIERlY29kaW5nIGltYWdlcyBpbiB0aGlzIHdheSwgd2Ugc2VlIGEgaHVnZSBtZW1vcnkganVtcC4gIEF2b2lkIGZvciBub3cuXG4gICAgICAgIC8vIGF3YWl0IGltYWdlLmRlY29kZSgpO1xuICAgICAgICAvLyBJZiBhbiBpbWFnZSBjb3VsZG4ndCBiZSBnZW5lcmF0ZWQgZm9yIHNvbWUgcmVhc29uLlxuICAgICAgICBpZiAoIWltYWdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW1hZ2VCb3ggPSB7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy5pbWFnZU5hdHVyYWxXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5pbWFnZU5hdHVyYWxIZWlnaHQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lckJveCA9IHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLmNhbnZhc1dpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmNhbnZhc0hlaWdodCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICBpZiAoIWlzLm51bGxMaWtlKHRoaXMuY2xpcFBhdGhUeXBlKSkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlDYW52YXNDbGlwcGluZygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJhY2tncm91bmQgXCJjb3ZlclwiIHNpemluZy5cbiAgICAgICAgLy8gRGVmYXVsdHMgdG8gY2VudGVyLlxuICAgICAgICBpZiAodGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5jb3Zlcikge1xuICAgICAgICAgICAgY29uc3QgY292ZXIgPSBtYXRoZi5jYWxjdWxhdGVCYWNrZ3JvdW5kQ292ZXIoY29udGFpbmVyQm94LCBpbWFnZUJveCk7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zICYmIGlzLm51bWJlcih0aGlzLm9wdGlvbnMubGVmdCkpIHtcbiAgICAgICAgICAgICAgICBjb3Zlci54T2Zmc2V0ID1cbiAgICAgICAgICAgICAgICAgICAgKGNvbnRhaW5lckJveC53aWR0aCAtIGltYWdlQm94LndpZHRoICogY292ZXIuc2NhbGFyKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAtdGhpcy5vcHRpb25zLmxlZnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zICYmIGlzLm51bWJlcih0aGlzLm9wdGlvbnMucmlnaHQpKSB7XG4gICAgICAgICAgICAgICAgLy8gUmlnaHQgYWxpZ24gZmlyc3QuXG4gICAgICAgICAgICAgICAgY292ZXIueE9mZnNldCA9IC0oY29udGFpbmVyQm94LndpZHRoIC0gaW1hZ2VCb3gud2lkdGggKiBjb3Zlci5zY2FsYXIpO1xuICAgICAgICAgICAgICAgIGNvdmVyLnhPZmZzZXQgKz1cbiAgICAgICAgICAgICAgICAgICAgKGNvbnRhaW5lckJveC53aWR0aCAtIGltYWdlQm94LndpZHRoICogY292ZXIuc2NhbGFyKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMucmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zICYmIGlzLm51bWJlcih0aGlzLm9wdGlvbnMuYm90dG9tKSkge1xuICAgICAgICAgICAgICAgIC8vIFNldCB0byBib3R0b20uXG4gICAgICAgICAgICAgICAgY292ZXIueU9mZnNldCA9IC0oY29udGFpbmVyQm94LmhlaWdodCAtIGltYWdlQm94LmhlaWdodCAqIGNvdmVyLnNjYWxhcik7XG4gICAgICAgICAgICAgICAgLy8gQ2xpcHBpbmcgQm90dG9tIGFsZ28uXG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBwZXJjZW50YWdlIGFtb3VudCBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgY292ZXIueU9mZnNldCArPVxuICAgICAgICAgICAgICAgICAgICAoY29udGFpbmVyQm94LmhlaWdodCAtIGltYWdlQm94LmhlaWdodCAqIGNvdmVyLnNjYWxhcikgKlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmJvdHRvbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMgJiYgaXMubnVtYmVyKHRoaXMub3B0aW9ucy50b3ApKSB7XG4gICAgICAgICAgICAgICAgY292ZXIueU9mZnNldCA9XG4gICAgICAgICAgICAgICAgICAgIChjb250YWluZXJCb3guaGVpZ2h0IC0gaW1hZ2VCb3guaGVpZ2h0ICogY292ZXIuc2NhbGFyKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAtdGhpcy5vcHRpb25zLnRvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIC1jb3Zlci54T2Zmc2V0ID4+IDAsIC1jb3Zlci55T2Zmc2V0ID4+IDAsIChpbWFnZUJveC53aWR0aCAqIGNvdmVyLnNjYWxhcikgPj4gMCwgKGltYWdlQm94LmhlaWdodCAqIGNvdmVyLnNjYWxhcikgPj4gMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBEZWZhdWx0IHRvIGNvbnRhaW4gc2l6aW5nIGFsZ28uXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5TY2FsZSA9IG1hdGhmLmNhbGN1bGF0ZUJhY2tncm91bmRDb250YWluKGNvbnRhaW5lckJveCwgaW1hZ2VCb3gpO1xuICAgICAgICAgICAgLy8gRGVmYXVsdCBjZW50ZXIgYWxnby5cbiAgICAgICAgICAgIGxldCBkaWZmWCA9IChjb250YWluZXJCb3gud2lkdGggLSBpbWFnZUJveC53aWR0aCAqIHRoaXMuY29udGFpblNjYWxlKSAvIDI7XG4gICAgICAgICAgICBsZXQgZGlmZlkgPSAoY29udGFpbmVyQm94LmhlaWdodCAtIGltYWdlQm94LmhlaWdodCAqIHRoaXMuY29udGFpblNjYWxlKSAvIDI7XG4gICAgICAgICAgICAvLyBTaXppbmcgb3B0aW9uIGxvZ2ljLlxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucyAmJiBpcy5udW1iZXIodGhpcy5vcHRpb25zLmJvdHRvbSkpIHtcbiAgICAgICAgICAgICAgICAvLyBCb3R0b20gYWxpZ24gaXQuXG4gICAgICAgICAgICAgICAgZGlmZlkgPSBjb250YWluZXJCb3guaGVpZ2h0IC0gaW1hZ2VCb3guaGVpZ2h0ICogdGhpcy5jb250YWluU2NhbGU7XG4gICAgICAgICAgICAgICAgLy8gRWFzeSB3YXkgdG8gdGVzdCB0aGlzIGlzIHRvIHNldCBib3R0b206IDEgYW5kXG4gICAgICAgICAgICAgICAgLy8gYm90dG9tQ2xpcHBpbmc6IGZhbHNlIHdoaWNoIHdvdWxkIHRvcCBhbGlnbiB0aGUgaW1hZ2UuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ib3R0b21Ob0NsaXApIHtcbiAgICAgICAgICAgICAgICAgICAgZGlmZlkgLT1cbiAgICAgICAgICAgICAgICAgICAgICAgIChjb250YWluZXJCb3guaGVpZ2h0IC0gaW1hZ2VCb3guaGVpZ2h0ICogdGhpcy5jb250YWluU2NhbGUpICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuYm90dG9tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xpcHBpbmcgQm90dG9tIGFsZ28uXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgcGVyY2VudGFnZSBhbW91bnQgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAgICBkaWZmWSAtPSBjb250YWluZXJCb3guaGVpZ2h0ICogdGhpcy5vcHRpb25zLmJvdHRvbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zICYmIGlzLm51bWJlcih0aGlzLm9wdGlvbnMucmlnaHQpKSB7XG4gICAgICAgICAgICAgICAgLy8gUmlnaHQgYWxpZ24gaXQuXG4gICAgICAgICAgICAgICAgZGlmZlggPSBjb250YWluZXJCb3gud2lkdGggLSBpbWFnZUJveC53aWR0aCAqIHRoaXMuY29udGFpblNjYWxlO1xuICAgICAgICAgICAgICAgIC8vIEVhc3kgd2F5IHRvIHRlc3QgdGhpcyBpcyB0byBzZXQgcmlnaHQ6IDEgYW5kXG4gICAgICAgICAgICAgICAgLy8gcmlnaHRDbGlwcGluZzogZmFsc2Ugd2hpY2ggd291bGQgbGVmdCBhbGlnbiB0aGUgaW1hZ2UuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yaWdodE5vQ2xpcCkge1xuICAgICAgICAgICAgICAgICAgICBkaWZmWCAtPVxuICAgICAgICAgICAgICAgICAgICAgICAgKGNvbnRhaW5lckJveC53aWR0aCAtIGltYWdlQm94LndpZHRoICogdGhpcy5jb250YWluU2NhbGUpICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMucmlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBDbGlwcGluZyByaWdodCBhbGdvLlxuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHBlcmNlbnRhZ2UgYW1vdW50IHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgICAgZGlmZlggLT0gY29udGFpbmVyQm94LndpZHRoICogdGhpcy5vcHRpb25zLnJpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMgJiYgaXMubnVtYmVyKHRoaXMub3B0aW9ucy50b3ApKSB7XG4gICAgICAgICAgICAgICAgLy8gVG9wIGFsaWduIGl0LlxuICAgICAgICAgICAgICAgIGRpZmZZID0gMDtcbiAgICAgICAgICAgICAgICAvLyBFYXN5IHdheSB0byB0ZXN0IHRoaXMgaXMgdG8gc2V0IHRvcDogMSBhbmRcbiAgICAgICAgICAgICAgICAvLyB0b3BDbGlwcGluZzogZmFsc2Ugd2hpY2ggd291bGQgYm90dG9tIGFsaWduZWQgdGhlIGltYWdlLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudG9wTm9DbGlwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpZmZZID1cbiAgICAgICAgICAgICAgICAgICAgICAgIChjb250YWluZXJCb3guaGVpZ2h0IC0gaW1hZ2VCb3guaGVpZ2h0ICogdGhpcy5jb250YWluU2NhbGUpICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMudG9wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xpcHBpbmcgVG9wIGFsZ28uXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgcGVyY2VudGFnZSBhbW91bnQgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAgICBkaWZmWSArPSB0aGlzLm9wdGlvbnMudG9wICogY29udGFpbmVyQm94LmhlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zICYmIGlzLm51bWJlcih0aGlzLm9wdGlvbnMubGVmdCkpIHtcbiAgICAgICAgICAgICAgICAvLyBMZWZ0IGFsaWduIGl0LlxuICAgICAgICAgICAgICAgIGRpZmZYID0gMDtcbiAgICAgICAgICAgICAgICAvLyBFYXN5IHdheSB0byB0ZXN0IHRoaXMgaXMgdG8gc2V0IGxlZnQ6IDEgYW5kXG4gICAgICAgICAgICAgICAgLy8gbGVmdENsaXBwaW5nOiBmYWxzZSB3aGljaCB3b3VsZCByaWdodCBhbGlnbmVkIHRoZSBpbWFnZS5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxlZnROb0NsaXApIHtcbiAgICAgICAgICAgICAgICAgICAgZGlmZlggPVxuICAgICAgICAgICAgICAgICAgICAgICAgKGNvbnRhaW5lckJveC53aWR0aCAtIGltYWdlQm94LndpZHRoICogdGhpcy5jb250YWluU2NhbGUpICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMubGVmdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENsaXBwaW5nIGxlZnQgYWxnby5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBwZXJjZW50YWdlIGFtb3VudCBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICAgIGRpZmZYICs9IHRoaXMub3B0aW9ucy5sZWZ0ICogY29udGFpbmVyQm94LndpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIGRpZmZYID4+IDAsIGRpZmZZID4+IDAsIChpbWFnZUJveC53aWR0aCAqIHRoaXMuY29udGFpblNjYWxlKSA+PiAwLCAoaW1hZ2VCb3guaGVpZ2h0ICogdGhpcy5jb250YWluU2NhbGUpID4+IDApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXMubnVsbExpa2UodGhpcy5jbGlwUGF0aFR5cGUpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdFJlbmRlclNvdXJjZSA9IGltYWdlU291cmNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBpbnRlcm5hbCBzaXppbmcgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIHNldFNpemluZ09wdGlvbnMob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQbGF5cyB0aGUgY2FudmFzIGltYWdlIHNlcXVlbmNlIHdpdGggYSB0aW1lci4gUGxheWluZyB3aWxsIFwiaGlqYWNrXCIgdGhlXG4gICAgICogcHJvZ3Jlc3MgZXZlbnRzIHdoaWxlIHBsYXlpbmcuICAgRm9yIGV4YW1wbGU6XG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqICAgIGNhbnZhc0ltYWdlU2VxdWVuY2UucGxheSgwLCAxLCAzMDAwKS50aGVuKCgpID0+IHtcbiAgICAgKiAgICAgICBjb25zb2xlLmxvZygncGxheSBjb21wbGV0ZScpO1xuICAgICAqICAgfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBIZXJlIHdlIHRlbGwgdGhlIGNhbnZhc0ltYWdlU2VxdWVuY2UgdG8gcGxheSBmcm9tIHN0YXJ0IHRvIGVuZCBvdmVyXG4gICAgICogYSAzMDAwbXMgcGVyaW9kLiAgRHVyaW5nIHRoaXMgMzAwMG1zIHBlcmlvZCwgYW55IGNhbGxzIG90aGVyIHRvXG4gICAgICogY2FsbHMgXCJyZW5kZXJCeVByb2dyZXNzXCIgd2lsbCBnZXQgaWdub3JlZCBzaW5jZSB0aGV5IGNhbiBjb25mbGljdCB3aXRoXG4gICAgICogdGhlIHBsYXliYWNrLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZnJvbSBBIG51bWJlciBiZXR3ZWVuIDAgLSAxXG4gICAgICogQHBhcmFtIHRvIEEgbnVtYmVyIGJldHdlZW4gMCAtIDFcbiAgICAgKiBAcGFyYW0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIG1zLlxuICAgICAqIEByZXR1cm4gUHJvbWlzZSBBIHByb21pc2UgdGhhdCBjb21wbGV0ZXMgd2hlbiBkb25lLlxuICAgICAqL1xuICAgIHBsYXkoZnJvbSwgdG8sIGR1cmF0aW9uKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB0aGlzLnJhZlRpbWVyID0gbmV3IFJhZlRpbWVyKChwcm9ncmVzcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW50ZXJwb2xhdGVkUHJvZ3Jlc3MgPSBtYXRoZi5pbnRlcnBvbGF0ZVJhbmdlKHByb2dyZXNzLCAwLCAxLCBmcm9tLCB0byk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclByb2dyZXNzKGludGVycG9sYXRlZFByb2dyZXNzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmFmVGltZXIuc2V0RHVyYXRpb24oZHVyYXRpb24pO1xuICAgICAgICB0aGlzLnBsYXlEZWZlciA9IG5ldyBEZWZlcigpO1xuICAgICAgICB0aGlzLnJhZlRpbWVyLm9uQ29tcGxldGUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc1BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucGxheURlZmVyLnJlc29sdmUoKTtcbiAgICAgICAgICAgIHRoaXMucmFmVGltZXIuZGlzcG9zZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yYWZUaW1lci5wbGF5KCk7XG4gICAgICAgIHRoaXMuaXNQbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheURlZmVyLmdldFByb21pc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaGV4IGNvbG9yIGF0IHRoZSBnaXZlbiBjb29yZGluYXRlcyBvZiB0aGUgY2FudmFzIGFzIGl0IGlzXG4gICAgICogcmVuZGVycyBhdCB0aGUgbW9tZW50LlxuICAgICAqIEBwYXJhbSBjb29yZHNcbiAgICAgKi9cbiAgICBnZXRIZXhDb2xvckF0UG9pbnQoY29vcmRzKSB7XG4gICAgICAgIHJldHVybiBkb21DYW52YXMuZ2V0Q29sb3JBdFBvaW50QXNIZXgodGhpcy5jb250ZXh0LCBjb29yZHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbW1lZGlhdGVseSBzdG9wcyB0aGUgY2FudmFzIGFuaW1hdGlvbiBwbGF5aW5nLlxuICAgICAqICh0aGF0IGhhcHBlbnMgd2l0aCBwbGF5IG1ldGhvZCkuXG4gICAgICovXG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5yYWZUaW1lciAmJiB0aGlzLnJhZlRpbWVyLnBhdXNlKCk7XG4gICAgICAgIHRoaXMucmFmVGltZXIgJiYgdGhpcy5yYWZUaW1lci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMucGxheURlZmVyICYmIHRoaXMucGxheURlZmVyLnJlc29sdmUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW1hZ2UgZGltZW5zaW9uIHRoYXQgd2VyZSBmZXRjaGVkLiAgVGhpcyBpcyBiYXNlZFxuICAgICAqIG9uIHRoZSBcImZpcnN0XCIgaW1hZ2UgaW4gdGhlIHNlcXVlbmNlLlxuICAgICAqIFRoZSBzaXplcyB3aWxsIGJlIG51bGwgaWYgY2FsbGVkIHByaW9yIHRvIGxvYWRpbmcgaW1hZ2VzLlxuICAgICAqL1xuICAgIGdldEltYWdlU2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLmltYWdlTmF0dXJhbFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmltYWdlTmF0dXJhbEhlaWdodCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB0aGlzLmRvbVdhdGNoZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnJhZlRpbWVyICYmIHRoaXMucmFmVGltZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmJsb2JMb2FkZXIgJiYgdGhpcy5ibG9iTG9hZGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ibG9iQ2FjaGUgPSBudWxsO1xuICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQgPSBudWxsO1xuICAgICAgICBkb20uZGVsZXRlSW1hZ2UodGhpcy5jYWNoZUltYWdlKTtcbiAgICAgICAgdGhpcy5jYWNoZUltYWdlID0gbnVsbDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYW52YXMtaW1hZ2Utc2VxdWVuY2UuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/dom/canvas-image-sequence.js\n");

/***/ }),

/***/ "./lib/dom/document-mouse-tracker.js":
/*!*******************************************!*\
  !*** ./lib/dom/document-mouse-tracker.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _mouse_tracker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mouse-tracker */ \"./lib/dom/mouse-tracker.js\");\n\n/**\n * A global singleton instance of the mouse tracker attached to the document body.\n */\nconst documentMouseTracker = new _mouse_tracker__WEBPACK_IMPORTED_MODULE_0__[\"MouseTracker\"](document.body, () => { }, false);\n/* harmony default export */ __webpack_exports__[\"default\"] = (documentMouseTracker);\n//# sourceMappingURL=document-mouse-tracker.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2RvY3VtZW50LW1vdXNlLXRyYWNrZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZG9tL2RvY3VtZW50LW1vdXNlLXRyYWNrZXIuanM/MDQ0NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb3VzZVRyYWNrZXIgfSBmcm9tICcuL21vdXNlLXRyYWNrZXInO1xuLyoqXG4gKiBBIGdsb2JhbCBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgdGhlIG1vdXNlIHRyYWNrZXIgYXR0YWNoZWQgdG8gdGhlIGRvY3VtZW50IGJvZHkuXG4gKi9cbmNvbnN0IGRvY3VtZW50TW91c2VUcmFja2VyID0gbmV3IE1vdXNlVHJhY2tlcihkb2N1bWVudC5ib2R5LCAoKSA9PiB7IH0sIGZhbHNlKTtcbmV4cG9ydCBkZWZhdWx0IGRvY3VtZW50TW91c2VUcmFja2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG9jdW1lbnQtbW91c2UtdHJhY2tlci5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/dom/document-mouse-tracker.js\n");

/***/ }),

/***/ "./lib/dom/dom-canvas.js":
/*!*******************************!*\
  !*** ./lib/dom/dom-canvas.js ***!
  \*******************************/
/*! exports provided: domCanvas */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"domCanvas\", function() { return domCanvas; });\n/* harmony import */ var _mathf_color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mathf/color */ \"./lib/mathf/color.js\");\n\n/**\n * Very basic HTML5 canvas helper methods.\n * @unstable\n */\nclass domCanvas {\n    constructor() { }\n    static setFillColor(context, fillColor) {\n        context.fillStyle = fillColor;\n    }\n    static setStrokeColor(context, strokeColor) {\n        context.strokeStyle = strokeColor;\n    }\n    static line(context, x1, y1, x2, y2) {\n        context.beginPath();\n        context.moveTo(x1, y1);\n        context.lineTo(x2, y2);\n        context.stroke();\n    }\n    /**\n     * Display text at given coordinates.   Quick because this method is\n     * just if you want to output something quickly without concent to\n     * font-size style.\n     * @param context\n     * @param text\n     */\n    static quickText(context, text, x, y) {\n        context.font = '12px sans-serif';\n        context.strokeText(text, x, y);\n    }\n    static point(context, x, y, size = 5) {\n        context.fillRect(x, y, size, size);\n    }\n    static vectorLine(context, v1, v2) {\n        domCanvas.line(context, v1.x, v1.y, v2.x, v2.y);\n    }\n    static vectorPoint(context, v, size = 5) {\n        domCanvas.point(context, v.x, v.y, size);\n    }\n    static vectorQuadrilateral(context, v1, v2, v3, v4) {\n        context.beginPath();\n        context.moveTo(v1.x, v1.y);\n        context.lineTo(v2.x, v2.y);\n        context.lineTo(v3.x, v3.y);\n        context.lineTo(v4.x, v4.y);\n        context.closePath();\n        context.fill();\n    }\n    /**\n     * Given a list of Vectors, draws lines from start to end.\n     */\n    static drawVectors(context, vectors) {\n        context.beginPath();\n        context.moveTo(vectors[0].x, vectors[0].y);\n        vectors.forEach(v => {\n            context.lineTo(v.x, v.y);\n        });\n        context.closePath();\n        context.fill();\n    }\n    /**\n     * Acquires the pixel color of given coordinates on the canvas.\n     */\n    static getColorAtPointAsRgb(context, coords) {\n        const pixelData = context.getImageData(coords.x, coords.y, 1, 1).data;\n        const rgb = {\n            r: pixelData[0],\n            g: pixelData[1],\n            b: pixelData[2],\n        };\n        return rgb;\n    }\n    /**\n     * Acquires the pixel color of given coordinates on the canvas\n     * as returns it as a hex value.\n     */\n    static getColorAtPointAsHex(context, coords) {\n        const rgb = domCanvas.getColorAtPointAsRgb(context, coords);\n        return _mathf_color__WEBPACK_IMPORTED_MODULE_0__[\"rgbToHex\"](rgb);\n    }\n}\n//# sourceMappingURL=dom-canvas.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2RvbS1jYW52YXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZG9tL2RvbS1jYW52YXMuanM/ODZkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBjb2xvciBmcm9tICcuLi9tYXRoZi9jb2xvcic7XG4vKipcbiAqIFZlcnkgYmFzaWMgSFRNTDUgY2FudmFzIGhlbHBlciBtZXRob2RzLlxuICogQHVuc3RhYmxlXG4gKi9cbmV4cG9ydCBjbGFzcyBkb21DYW52YXMge1xuICAgIGNvbnN0cnVjdG9yKCkgeyB9XG4gICAgc3RhdGljIHNldEZpbGxDb2xvcihjb250ZXh0LCBmaWxsQ29sb3IpIHtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsQ29sb3I7XG4gICAgfVxuICAgIHN0YXRpYyBzZXRTdHJva2VDb2xvcihjb250ZXh0LCBzdHJva2VDb2xvcikge1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlQ29sb3I7XG4gICAgfVxuICAgIHN0YXRpYyBsaW5lKGNvbnRleHQsIHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKHgxLCB5MSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKHgyLCB5Mik7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3BsYXkgdGV4dCBhdCBnaXZlbiBjb29yZGluYXRlcy4gICBRdWljayBiZWNhdXNlIHRoaXMgbWV0aG9kIGlzXG4gICAgICoganVzdCBpZiB5b3Ugd2FudCB0byBvdXRwdXQgc29tZXRoaW5nIHF1aWNrbHkgd2l0aG91dCBjb25jZW50IHRvXG4gICAgICogZm9udC1zaXplIHN0eWxlLlxuICAgICAqIEBwYXJhbSBjb250ZXh0XG4gICAgICogQHBhcmFtIHRleHRcbiAgICAgKi9cbiAgICBzdGF0aWMgcXVpY2tUZXh0KGNvbnRleHQsIHRleHQsIHgsIHkpIHtcbiAgICAgICAgY29udGV4dC5mb250ID0gJzEycHggc2Fucy1zZXJpZic7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlVGV4dCh0ZXh0LCB4LCB5KTtcbiAgICB9XG4gICAgc3RhdGljIHBvaW50KGNvbnRleHQsIHgsIHksIHNpemUgPSA1KSB7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoeCwgeSwgc2l6ZSwgc2l6ZSk7XG4gICAgfVxuICAgIHN0YXRpYyB2ZWN0b3JMaW5lKGNvbnRleHQsIHYxLCB2Mikge1xuICAgICAgICBkb21DYW52YXMubGluZShjb250ZXh0LCB2MS54LCB2MS55LCB2Mi54LCB2Mi55KTtcbiAgICB9XG4gICAgc3RhdGljIHZlY3RvclBvaW50KGNvbnRleHQsIHYsIHNpemUgPSA1KSB7XG4gICAgICAgIGRvbUNhbnZhcy5wb2ludChjb250ZXh0LCB2LngsIHYueSwgc2l6ZSk7XG4gICAgfVxuICAgIHN0YXRpYyB2ZWN0b3JRdWFkcmlsYXRlcmFsKGNvbnRleHQsIHYxLCB2MiwgdjMsIHY0KSB7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKHYxLngsIHYxLnkpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyh2Mi54LCB2Mi55KTtcbiAgICAgICAgY29udGV4dC5saW5lVG8odjMueCwgdjMueSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKHY0LngsIHY0LnkpO1xuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBsaXN0IG9mIFZlY3RvcnMsIGRyYXdzIGxpbmVzIGZyb20gc3RhcnQgdG8gZW5kLlxuICAgICAqL1xuICAgIHN0YXRpYyBkcmF3VmVjdG9ycyhjb250ZXh0LCB2ZWN0b3JzKSB7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKHZlY3RvcnNbMF0ueCwgdmVjdG9yc1swXS55KTtcbiAgICAgICAgdmVjdG9ycy5mb3JFYWNoKHYgPT4ge1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8odi54LCB2LnkpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFjcXVpcmVzIHRoZSBwaXhlbCBjb2xvciBvZiBnaXZlbiBjb29yZGluYXRlcyBvbiB0aGUgY2FudmFzLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRDb2xvckF0UG9pbnRBc1JnYihjb250ZXh0LCBjb29yZHMpIHtcbiAgICAgICAgY29uc3QgcGl4ZWxEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoY29vcmRzLngsIGNvb3Jkcy55LCAxLCAxKS5kYXRhO1xuICAgICAgICBjb25zdCByZ2IgPSB7XG4gICAgICAgICAgICByOiBwaXhlbERhdGFbMF0sXG4gICAgICAgICAgICBnOiBwaXhlbERhdGFbMV0sXG4gICAgICAgICAgICBiOiBwaXhlbERhdGFbMl0sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZ2I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFjcXVpcmVzIHRoZSBwaXhlbCBjb2xvciBvZiBnaXZlbiBjb29yZGluYXRlcyBvbiB0aGUgY2FudmFzXG4gICAgICogYXMgcmV0dXJucyBpdCBhcyBhIGhleCB2YWx1ZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0Q29sb3JBdFBvaW50QXNIZXgoY29udGV4dCwgY29vcmRzKSB7XG4gICAgICAgIGNvbnN0IHJnYiA9IGRvbUNhbnZhcy5nZXRDb2xvckF0UG9pbnRBc1JnYihjb250ZXh0LCBjb29yZHMpO1xuICAgICAgICByZXR1cm4gY29sb3IucmdiVG9IZXgocmdiKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kb20tY2FudmFzLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/dom/dom-canvas.js\n");

/***/ }),

/***/ "./lib/dom/dom-watcher.js":
/*!********************************!*\
  !*** ./lib/dom/dom-watcher.js ***!
  \********************************/
/*! exports provided: DomWatcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DomWatcher\", function() { return DomWatcher; });\n/* harmony import */ var _dom_bom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom/bom */ \"./lib/dom/bom.js\");\n\n/**\n * A class that helps with DOM events.  The main usecase for this class is\n * to be able to watch the dom and then later remove a group of events\n * all at once.\n *\n * Basic Usage\n * ```ts\n * let watcher = new DomWatcher();\n *\n * var scrollCallback = (event, done)=> {\n *   // on scroll events.\n * };\n * watcher.add({\n *   element: window,\n *   on: 'scroll',\n *   callback: scrollCallback,\n *   eventOptions: { passive: true }\n * })\n *\n * watcher.add({\n *   element: element,\n *   on: 'click',\n *   callback: ()=> {},\n * );\n *\n *\n * # Add multiple events\n * watcher.add({\n *   element: element,\n *   on: ['click', 'mousemove'],\n *   callback: ()=> {},\n * );\n *\n *\n * // Removes all watchers.\n * watcher.removeAll();\n * ```\n *\n *\n * Advanced Usage\n * ```ts\n * let new watcher = new DomWatcher();\n *\n * // Removes by Id\n * watcher.add({\n *   element: element,\n *   on: 'click',\n *   callback: ()=> {},\n *   id: 'abc'\n * );\n *\n *\n * // Runs the callback associated with abc.  NOTE this is just dry running it\n * // so it's not an actual browser event (hence no event data is provided).\n * watcher.run('abc');\n *\n * watcher.removeById('abc');\n *\n *\n * // Ids actually don't need to be unique.\n * watcher.add({ element: element, on: 'click', callback: ()=> {}, id: 'group1');\n * watcher.add({ element: anotherElement, on: 'mousemove', callback: ()=> {}, id: 'group1');\n * watcher.removeById('group1');\n *\n * // Conditional execution\n * watcher.add({\n *    element: window\n *    callback: ()=> {\n *      console.log('called only on mobile');\n *    }\n *    eventOptions: { passive: true }\n *    on: 'scroll',\n *    runWhen: window.innerWidth < 600\n * });\n *\n *\n * watcher.add({\n *    element: submitElement\n *    callback: ()=> {\n *      console.log('submitted');\n *    }\n *    on: 'click',\n *    runWhen: ()=> { return this.validate()}\n * });\n *\n * ```\n *\n * #### ResizeObserver\n * https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver\n * DomWatcher supports resizeObserver.  To use it simply, watch the resize\n * of an element that isn't the window.  Using window will use the standard\n * window resize events.\n *\n * ```ts\n *     watcher.add({\n *         element: myElement,\n *         on: 'resize',\n *         callback: (entries) => {\n *            ....\n *         },\n *     });\n * ```\n *\n * #### MutationObserver\n * https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\n * DomWatcher supports mutation observers. You can pass mutation config\n * to the event options.\n *\n * ```ts\n *\n * const watchMutations = ()=> {\n *     watcher.add({\n *         element: myElement,\n *         id: 'mutations',\n *         on: 'mutation',\n *         callback: (mutationList) => {\n *            ....\n *         },\n *         { childList: true }\n *     });\n * }\n *\n * // Temporarily stop watching mutations.\n * this.watcher.removeById('mutations');\n * ... (update dom, do something)\n * // Rewatch mutations.\n * watchMutations();\n *\n * ```\n *\n *\n * #### Debouncing\n *\n * ```ts\n * // Add debouncing.\n *     watcher.add({\n *         element: document.body,\n *         on: 'mousemove',\n *         callback: func.debounce((event) => {\n *             console.log('movemove!!');\n *         }, 500),\n *     });\n *\n * ```\n *\n * #### SmartResize\n * How can I use this with bom.smartResize?\n * Just use the 'smartResize' event instead.\n *\n * ```ts\n *\n *     watcher.add({\n *         element: window,\n *         on: 'smartResize',\n *         callback: (event) => {\n *             console.log('smart resizing');\n *         },\n *     });\n *\n * ```\n *\n *\n * Culling events only when an element is inview.\n * See example/scroll-demo for actual example.\n *\n * ```ts\n *   let ev = elementVisibility.inview(element, {});\n *   let watcher = new DomWatcher();\n *   watcher.add({\n *      element: window,\n *      on: 'scroll',\n *      eventOptions: { passive: true },\n *      callback: ()=> {\n *         // Runs only when this element is inview.\n *      },\n *      // Tells to run scroll ONLY when the element is inview.\n *      runWhen: ()=> { return ev.state().inview; }\n *   });\n *\n *\n *   // Later\n *   ev.dispose();\n *   watcher.dispose();\n *\n * ```\n *\n * #### MatchMedia\n * https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia\n * DomWatcher supports MediaQueryLists that result from calls to matchMedia.\n * That way DomWatcher can be configured to watch for changes across any/all\n * breakpoints a site is designed around.\n *\n * ```ts\n * const mediaQueries = new Map([\n *   [\n *     'desktop',\n *     window.matchMedia('(min-width: 1440px)')],\n *   [\n *     'laptop',\n *     window.matchMedia('(min-width: 1024px) and (max-width: 1439px)')],\n *   [\n *     'tablet',\n *     window.matchMedia('(min-width: 600px) and (max-width: 1023px)')],\n *   [\n *     'mobile',\n *     window.matchMedia('(max-width: 599px)')],\n * ]);\n * const watchBreakpoints = () => {\n *     Array.from(mediaQueries.entries())\n *       .forEach(([breakpoint, mediaQuery]) => {\n *         watcher.add({\n *           element: mediaQuery,\n *           on: 'change',\n *           callback: (e) => {\n *              if (e.matches) {\n *                // Handle the breakpoint\n *              }\n *           },\n *         });\n *       });\n * }\n * ```\n *\n */\nclass DomWatcher {\n    constructor() {\n        this.watcherConfigs = [];\n    }\n    /**\n     * Adds a watcher and immediately begins watching.\n     * @param config\n     */\n    add(config) {\n        // Check whether config.on is a array with multiple events such\n        // as ['click', 'mousemove'] or is a single event.\n        if (Array.isArray(config.on)) {\n            const events = config.on;\n            events.forEach((eventName) => {\n                const clone = Object.assign({}, config);\n                clone.on = eventName;\n                this.addSingleEvent(clone);\n            });\n        }\n        else {\n            this.addSingleEvent(config);\n        }\n    }\n    /**\n     * Adds a single event.\n     * @param config\n     */\n    addSingleEvent(config) {\n        const listener = (event) => {\n            if (config.runWhen) {\n                config.runWhen() && config.callback(event);\n            }\n            else {\n                config.callback(event);\n            }\n        };\n        config.listener = listener;\n        // If the on event is smartResize, wrap it with dom.smartResize.\n        if (config.on === 'smartResize') {\n            config.remover = _dom_bom__WEBPACK_IMPORTED_MODULE_0__[\"smartResize\"](listener, config.eventOptions || {});\n        }\n        // Use the resizeObserver if we want to listen to resizing of DOM elements.\n        else if (config.on === 'resize' && config.element !== window) {\n            const resizeObserver = new ResizeObserver(entries => {\n                listener(entries);\n            });\n            resizeObserver.observe(config.element);\n            config.remover = () => {\n                resizeObserver.unobserve(config.element);\n            };\n        }\n        else if (config.on === 'mutation') {\n            const mutationObserver = new MutationObserver(mutationsList => {\n                listener(mutationsList);\n            });\n            mutationObserver.observe(config.element, config.eventOptions);\n            config.remover = () => {\n                mutationObserver.disconnect();\n            };\n        }\n        else if (config.element instanceof MediaQueryList) {\n            // Add listening.\n            config.element.addEventListener(config.on, listener, config.eventOptions || {});\n            // Generate the remover.\n            config.remover = () => {\n                config.element.removeEventListener(config.on, listener, config.eventOptions || {});\n            };\n        }\n        else {\n            // Add listening.\n            config.element.addEventListener(config.on, listener, config.eventOptions || {});\n            // Generate the remover.\n            config.remover = () => {\n                config.element.removeEventListener(config.on, listener, config.eventOptions || {});\n            };\n        }\n        this.watcherConfigs.push(config);\n    }\n    /**\n     * Removes a given watcher by id.\n     * @param id The id of the watcher to remove.\n     */\n    removeById(id) {\n        this.watcherConfigs = this.watcherConfigs.filter((config) => {\n            if (config.id && config.id === id) {\n                // Save as var to avoid typescript null error.\n                const remover = config.remover;\n                remover && remover();\n                return false;\n            }\n            return config;\n        });\n    }\n    /**\n     * Removes all dom watchers.\n     */\n    removeAll() {\n        this.watcherConfigs.forEach(config => {\n            const remover = config.remover;\n            remover && remover();\n        });\n        this.watcherConfigs = [];\n    }\n    /**\n     *\n     * Dry runs a callback by id.  This just calls the callback and isn't the\n     * actual browser event so no event data will be available when using\n     * this method.\n     *\n     * ```ts\n     * watcher.add({\n     *    element: element,\n     *    callback: ()=> {\n     *      console.log('yo');\n     *    }\n     *    on: 'click',\n     *    id: 'yo'\n     * });\n     *\n     * watcher.run('yo');\n     * ```\n     * @param id\n     */\n    run(id) {\n        const configsToRun = this.watcherConfigs.filter((config) => {\n            return config.id && config.id === id;\n        });\n        configsToRun.forEach(config => {\n            config.callback() && config.callback();\n        });\n    }\n    /**\n     * Disposes of domWatcher.\n     */\n    dispose() {\n        this.removeAll();\n    }\n}\n//# sourceMappingURL=dom-watcher.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2RvbS13YXRjaGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RvbS9kb20td2F0Y2hlci5qcz9lOWI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGJvbSBmcm9tICcuLi9kb20vYm9tJztcbi8qKlxuICogQSBjbGFzcyB0aGF0IGhlbHBzIHdpdGggRE9NIGV2ZW50cy4gIFRoZSBtYWluIHVzZWNhc2UgZm9yIHRoaXMgY2xhc3MgaXNcbiAqIHRvIGJlIGFibGUgdG8gd2F0Y2ggdGhlIGRvbSBhbmQgdGhlbiBsYXRlciByZW1vdmUgYSBncm91cCBvZiBldmVudHNcbiAqIGFsbCBhdCBvbmNlLlxuICpcbiAqIEJhc2ljIFVzYWdlXG4gKiBgYGB0c1xuICogbGV0IHdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICpcbiAqIHZhciBzY3JvbGxDYWxsYmFjayA9IChldmVudCwgZG9uZSk9PiB7XG4gKiAgIC8vIG9uIHNjcm9sbCBldmVudHMuXG4gKiB9O1xuICogd2F0Y2hlci5hZGQoe1xuICogICBlbGVtZW50OiB3aW5kb3csXG4gKiAgIG9uOiAnc2Nyb2xsJyxcbiAqICAgY2FsbGJhY2s6IHNjcm9sbENhbGxiYWNrLFxuICogICBldmVudE9wdGlvbnM6IHsgcGFzc2l2ZTogdHJ1ZSB9XG4gKiB9KVxuICpcbiAqIHdhdGNoZXIuYWRkKHtcbiAqICAgZWxlbWVudDogZWxlbWVudCxcbiAqICAgb246ICdjbGljaycsXG4gKiAgIGNhbGxiYWNrOiAoKT0+IHt9LFxuICogKTtcbiAqXG4gKlxuICogIyBBZGQgbXVsdGlwbGUgZXZlbnRzXG4gKiB3YXRjaGVyLmFkZCh7XG4gKiAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gKiAgIG9uOiBbJ2NsaWNrJywgJ21vdXNlbW92ZSddLFxuICogICBjYWxsYmFjazogKCk9PiB7fSxcbiAqICk7XG4gKlxuICpcbiAqIC8vIFJlbW92ZXMgYWxsIHdhdGNoZXJzLlxuICogd2F0Y2hlci5yZW1vdmVBbGwoKTtcbiAqIGBgYFxuICpcbiAqXG4gKiBBZHZhbmNlZCBVc2FnZVxuICogYGBgdHNcbiAqIGxldCBuZXcgd2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gKlxuICogLy8gUmVtb3ZlcyBieSBJZFxuICogd2F0Y2hlci5hZGQoe1xuICogICBlbGVtZW50OiBlbGVtZW50LFxuICogICBvbjogJ2NsaWNrJyxcbiAqICAgY2FsbGJhY2s6ICgpPT4ge30sXG4gKiAgIGlkOiAnYWJjJ1xuICogKTtcbiAqXG4gKlxuICogLy8gUnVucyB0aGUgY2FsbGJhY2sgYXNzb2NpYXRlZCB3aXRoIGFiYy4gIE5PVEUgdGhpcyBpcyBqdXN0IGRyeSBydW5uaW5nIGl0XG4gKiAvLyBzbyBpdCdzIG5vdCBhbiBhY3R1YWwgYnJvd3NlciBldmVudCAoaGVuY2Ugbm8gZXZlbnQgZGF0YSBpcyBwcm92aWRlZCkuXG4gKiB3YXRjaGVyLnJ1bignYWJjJyk7XG4gKlxuICogd2F0Y2hlci5yZW1vdmVCeUlkKCdhYmMnKTtcbiAqXG4gKlxuICogLy8gSWRzIGFjdHVhbGx5IGRvbid0IG5lZWQgdG8gYmUgdW5pcXVlLlxuICogd2F0Y2hlci5hZGQoeyBlbGVtZW50OiBlbGVtZW50LCBvbjogJ2NsaWNrJywgY2FsbGJhY2s6ICgpPT4ge30sIGlkOiAnZ3JvdXAxJyk7XG4gKiB3YXRjaGVyLmFkZCh7IGVsZW1lbnQ6IGFub3RoZXJFbGVtZW50LCBvbjogJ21vdXNlbW92ZScsIGNhbGxiYWNrOiAoKT0+IHt9LCBpZDogJ2dyb3VwMScpO1xuICogd2F0Y2hlci5yZW1vdmVCeUlkKCdncm91cDEnKTtcbiAqXG4gKiAvLyBDb25kaXRpb25hbCBleGVjdXRpb25cbiAqIHdhdGNoZXIuYWRkKHtcbiAqICAgIGVsZW1lbnQ6IHdpbmRvd1xuICogICAgY2FsbGJhY2s6ICgpPT4ge1xuICogICAgICBjb25zb2xlLmxvZygnY2FsbGVkIG9ubHkgb24gbW9iaWxlJyk7XG4gKiAgICB9XG4gKiAgICBldmVudE9wdGlvbnM6IHsgcGFzc2l2ZTogdHJ1ZSB9XG4gKiAgICBvbjogJ3Njcm9sbCcsXG4gKiAgICBydW5XaGVuOiB3aW5kb3cuaW5uZXJXaWR0aCA8IDYwMFxuICogfSk7XG4gKlxuICpcbiAqIHdhdGNoZXIuYWRkKHtcbiAqICAgIGVsZW1lbnQ6IHN1Ym1pdEVsZW1lbnRcbiAqICAgIGNhbGxiYWNrOiAoKT0+IHtcbiAqICAgICAgY29uc29sZS5sb2coJ3N1Ym1pdHRlZCcpO1xuICogICAgfVxuICogICAgb246ICdjbGljaycsXG4gKiAgICBydW5XaGVuOiAoKT0+IHsgcmV0dXJuIHRoaXMudmFsaWRhdGUoKX1cbiAqIH0pO1xuICpcbiAqIGBgYFxuICpcbiAqICMjIyMgUmVzaXplT2JzZXJ2ZXJcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9SZXNpemVPYnNlcnZlclxuICogRG9tV2F0Y2hlciBzdXBwb3J0cyByZXNpemVPYnNlcnZlci4gIFRvIHVzZSBpdCBzaW1wbHksIHdhdGNoIHRoZSByZXNpemVcbiAqIG9mIGFuIGVsZW1lbnQgdGhhdCBpc24ndCB0aGUgd2luZG93LiAgVXNpbmcgd2luZG93IHdpbGwgdXNlIHRoZSBzdGFuZGFyZFxuICogd2luZG93IHJlc2l6ZSBldmVudHMuXG4gKlxuICogYGBgdHNcbiAqICAgICB3YXRjaGVyLmFkZCh7XG4gKiAgICAgICAgIGVsZW1lbnQ6IG15RWxlbWVudCxcbiAqICAgICAgICAgb246ICdyZXNpemUnLFxuICogICAgICAgICBjYWxsYmFjazogKGVudHJpZXMpID0+IHtcbiAqICAgICAgICAgICAgLi4uLlxuICogICAgICAgICB9LFxuICogICAgIH0pO1xuICogYGBgXG4gKlxuICogIyMjIyBNdXRhdGlvbk9ic2VydmVyXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTXV0YXRpb25PYnNlcnZlclxuICogRG9tV2F0Y2hlciBzdXBwb3J0cyBtdXRhdGlvbiBvYnNlcnZlcnMuIFlvdSBjYW4gcGFzcyBtdXRhdGlvbiBjb25maWdcbiAqIHRvIHRoZSBldmVudCBvcHRpb25zLlxuICpcbiAqIGBgYHRzXG4gKlxuICogY29uc3Qgd2F0Y2hNdXRhdGlvbnMgPSAoKT0+IHtcbiAqICAgICB3YXRjaGVyLmFkZCh7XG4gKiAgICAgICAgIGVsZW1lbnQ6IG15RWxlbWVudCxcbiAqICAgICAgICAgaWQ6ICdtdXRhdGlvbnMnLFxuICogICAgICAgICBvbjogJ211dGF0aW9uJyxcbiAqICAgICAgICAgY2FsbGJhY2s6IChtdXRhdGlvbkxpc3QpID0+IHtcbiAqICAgICAgICAgICAgLi4uLlxuICogICAgICAgICB9LFxuICogICAgICAgICB7IGNoaWxkTGlzdDogdHJ1ZSB9XG4gKiAgICAgfSk7XG4gKiB9XG4gKlxuICogLy8gVGVtcG9yYXJpbHkgc3RvcCB3YXRjaGluZyBtdXRhdGlvbnMuXG4gKiB0aGlzLndhdGNoZXIucmVtb3ZlQnlJZCgnbXV0YXRpb25zJyk7XG4gKiAuLi4gKHVwZGF0ZSBkb20sIGRvIHNvbWV0aGluZylcbiAqIC8vIFJld2F0Y2ggbXV0YXRpb25zLlxuICogd2F0Y2hNdXRhdGlvbnMoKTtcbiAqXG4gKiBgYGBcbiAqXG4gKlxuICogIyMjIyBEZWJvdW5jaW5nXG4gKlxuICogYGBgdHNcbiAqIC8vIEFkZCBkZWJvdW5jaW5nLlxuICogICAgIHdhdGNoZXIuYWRkKHtcbiAqICAgICAgICAgZWxlbWVudDogZG9jdW1lbnQuYm9keSxcbiAqICAgICAgICAgb246ICdtb3VzZW1vdmUnLFxuICogICAgICAgICBjYWxsYmFjazogZnVuYy5kZWJvdW5jZSgoZXZlbnQpID0+IHtcbiAqICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtb3ZlbW92ZSEhJyk7XG4gKiAgICAgICAgIH0sIDUwMCksXG4gKiAgICAgfSk7XG4gKlxuICogYGBgXG4gKlxuICogIyMjIyBTbWFydFJlc2l6ZVxuICogSG93IGNhbiBJIHVzZSB0aGlzIHdpdGggYm9tLnNtYXJ0UmVzaXplP1xuICogSnVzdCB1c2UgdGhlICdzbWFydFJlc2l6ZScgZXZlbnQgaW5zdGVhZC5cbiAqXG4gKiBgYGB0c1xuICpcbiAqICAgICB3YXRjaGVyLmFkZCh7XG4gKiAgICAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAqICAgICAgICAgb246ICdzbWFydFJlc2l6ZScsXG4gKiAgICAgICAgIGNhbGxiYWNrOiAoZXZlbnQpID0+IHtcbiAqICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzbWFydCByZXNpemluZycpO1xuICogICAgICAgICB9LFxuICogICAgIH0pO1xuICpcbiAqIGBgYFxuICpcbiAqXG4gKiBDdWxsaW5nIGV2ZW50cyBvbmx5IHdoZW4gYW4gZWxlbWVudCBpcyBpbnZpZXcuXG4gKiBTZWUgZXhhbXBsZS9zY3JvbGwtZGVtbyBmb3IgYWN0dWFsIGV4YW1wbGUuXG4gKlxuICogYGBgdHNcbiAqICAgbGV0IGV2ID0gZWxlbWVudFZpc2liaWxpdHkuaW52aWV3KGVsZW1lbnQsIHt9KTtcbiAqICAgbGV0IHdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICogICB3YXRjaGVyLmFkZCh7XG4gKiAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAqICAgICAgb246ICdzY3JvbGwnLFxuICogICAgICBldmVudE9wdGlvbnM6IHsgcGFzc2l2ZTogdHJ1ZSB9LFxuICogICAgICBjYWxsYmFjazogKCk9PiB7XG4gKiAgICAgICAgIC8vIFJ1bnMgb25seSB3aGVuIHRoaXMgZWxlbWVudCBpcyBpbnZpZXcuXG4gKiAgICAgIH0sXG4gKiAgICAgIC8vIFRlbGxzIHRvIHJ1biBzY3JvbGwgT05MWSB3aGVuIHRoZSBlbGVtZW50IGlzIGludmlldy5cbiAqICAgICAgcnVuV2hlbjogKCk9PiB7IHJldHVybiBldi5zdGF0ZSgpLmludmlldzsgfVxuICogICB9KTtcbiAqXG4gKlxuICogICAvLyBMYXRlclxuICogICBldi5kaXNwb3NlKCk7XG4gKiAgIHdhdGNoZXIuZGlzcG9zZSgpO1xuICpcbiAqIGBgYFxuICpcbiAqICMjIyMgTWF0Y2hNZWRpYVxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvdy9tYXRjaE1lZGlhXG4gKiBEb21XYXRjaGVyIHN1cHBvcnRzIE1lZGlhUXVlcnlMaXN0cyB0aGF0IHJlc3VsdCBmcm9tIGNhbGxzIHRvIG1hdGNoTWVkaWEuXG4gKiBUaGF0IHdheSBEb21XYXRjaGVyIGNhbiBiZSBjb25maWd1cmVkIHRvIHdhdGNoIGZvciBjaGFuZ2VzIGFjcm9zcyBhbnkvYWxsXG4gKiBicmVha3BvaW50cyBhIHNpdGUgaXMgZGVzaWduZWQgYXJvdW5kLlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCBtZWRpYVF1ZXJpZXMgPSBuZXcgTWFwKFtcbiAqICAgW1xuICogICAgICdkZXNrdG9wJyxcbiAqICAgICB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogMTQ0MHB4KScpXSxcbiAqICAgW1xuICogICAgICdsYXB0b3AnLFxuICogICAgIHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiAxMDI0cHgpIGFuZCAobWF4LXdpZHRoOiAxNDM5cHgpJyldLFxuICogICBbXG4gKiAgICAgJ3RhYmxldCcsXG4gKiAgICAgd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDYwMHB4KSBhbmQgKG1heC13aWR0aDogMTAyM3B4KScpXSxcbiAqICAgW1xuICogICAgICdtb2JpbGUnLFxuICogICAgIHdpbmRvdy5tYXRjaE1lZGlhKCcobWF4LXdpZHRoOiA1OTlweCknKV0sXG4gKiBdKTtcbiAqIGNvbnN0IHdhdGNoQnJlYWtwb2ludHMgPSAoKSA9PiB7XG4gKiAgICAgQXJyYXkuZnJvbShtZWRpYVF1ZXJpZXMuZW50cmllcygpKVxuICogICAgICAgLmZvckVhY2goKFticmVha3BvaW50LCBtZWRpYVF1ZXJ5XSkgPT4ge1xuICogICAgICAgICB3YXRjaGVyLmFkZCh7XG4gKiAgICAgICAgICAgZWxlbWVudDogbWVkaWFRdWVyeSxcbiAqICAgICAgICAgICBvbjogJ2NoYW5nZScsXG4gKiAgICAgICAgICAgY2FsbGJhY2s6IChlKSA9PiB7XG4gKiAgICAgICAgICAgICAgaWYgKGUubWF0Y2hlcykge1xuICogICAgICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBicmVha3BvaW50XG4gKiAgICAgICAgICAgICAgfVxuICogICAgICAgICAgIH0sXG4gKiAgICAgICAgIH0pO1xuICogICAgICAgfSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBEb21XYXRjaGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy53YXRjaGVyQ29uZmlncyA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgd2F0Y2hlciBhbmQgaW1tZWRpYXRlbHkgYmVnaW5zIHdhdGNoaW5nLlxuICAgICAqIEBwYXJhbSBjb25maWdcbiAgICAgKi9cbiAgICBhZGQoY29uZmlnKSB7XG4gICAgICAgIC8vIENoZWNrIHdoZXRoZXIgY29uZmlnLm9uIGlzIGEgYXJyYXkgd2l0aCBtdWx0aXBsZSBldmVudHMgc3VjaFxuICAgICAgICAvLyBhcyBbJ2NsaWNrJywgJ21vdXNlbW92ZSddIG9yIGlzIGEgc2luZ2xlIGV2ZW50LlxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb25maWcub24pKSB7XG4gICAgICAgICAgICBjb25zdCBldmVudHMgPSBjb25maWcub247XG4gICAgICAgICAgICBldmVudHMuZm9yRWFjaCgoZXZlbnROYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xvbmUgPSBPYmplY3QuYXNzaWduKHt9LCBjb25maWcpO1xuICAgICAgICAgICAgICAgIGNsb25lLm9uID0gZXZlbnROYW1lO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkU2luZ2xlRXZlbnQoY2xvbmUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFkZFNpbmdsZUV2ZW50KGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHNpbmdsZSBldmVudC5cbiAgICAgKiBAcGFyYW0gY29uZmlnXG4gICAgICovXG4gICAgYWRkU2luZ2xlRXZlbnQoY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnJ1bldoZW4pIHtcbiAgICAgICAgICAgICAgICBjb25maWcucnVuV2hlbigpICYmIGNvbmZpZy5jYWxsYmFjayhldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25maWcuY2FsbGJhY2soZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25maWcubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgLy8gSWYgdGhlIG9uIGV2ZW50IGlzIHNtYXJ0UmVzaXplLCB3cmFwIGl0IHdpdGggZG9tLnNtYXJ0UmVzaXplLlxuICAgICAgICBpZiAoY29uZmlnLm9uID09PSAnc21hcnRSZXNpemUnKSB7XG4gICAgICAgICAgICBjb25maWcucmVtb3ZlciA9IGJvbS5zbWFydFJlc2l6ZShsaXN0ZW5lciwgY29uZmlnLmV2ZW50T3B0aW9ucyB8fCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXNlIHRoZSByZXNpemVPYnNlcnZlciBpZiB3ZSB3YW50IHRvIGxpc3RlbiB0byByZXNpemluZyBvZiBET00gZWxlbWVudHMuXG4gICAgICAgIGVsc2UgaWYgKGNvbmZpZy5vbiA9PT0gJ3Jlc2l6ZScgJiYgY29uZmlnLmVsZW1lbnQgIT09IHdpbmRvdykge1xuICAgICAgICAgICAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIoZW50cmllcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoY29uZmlnLmVsZW1lbnQpO1xuICAgICAgICAgICAgY29uZmlnLnJlbW92ZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzaXplT2JzZXJ2ZXIudW5vYnNlcnZlKGNvbmZpZy5lbGVtZW50KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29uZmlnLm9uID09PSAnbXV0YXRpb24nKSB7XG4gICAgICAgICAgICBjb25zdCBtdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25zTGlzdCA9PiB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIobXV0YXRpb25zTGlzdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG11dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZShjb25maWcuZWxlbWVudCwgY29uZmlnLmV2ZW50T3B0aW9ucyk7XG4gICAgICAgICAgICBjb25maWcucmVtb3ZlciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBtdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29uZmlnLmVsZW1lbnQgaW5zdGFuY2VvZiBNZWRpYVF1ZXJ5TGlzdCkge1xuICAgICAgICAgICAgLy8gQWRkIGxpc3RlbmluZy5cbiAgICAgICAgICAgIGNvbmZpZy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoY29uZmlnLm9uLCBsaXN0ZW5lciwgY29uZmlnLmV2ZW50T3B0aW9ucyB8fCB7fSk7XG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSB0aGUgcmVtb3Zlci5cbiAgICAgICAgICAgIGNvbmZpZy5yZW1vdmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoY29uZmlnLm9uLCBsaXN0ZW5lciwgY29uZmlnLmV2ZW50T3B0aW9ucyB8fCB7fSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQWRkIGxpc3RlbmluZy5cbiAgICAgICAgICAgIGNvbmZpZy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoY29uZmlnLm9uLCBsaXN0ZW5lciwgY29uZmlnLmV2ZW50T3B0aW9ucyB8fCB7fSk7XG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSB0aGUgcmVtb3Zlci5cbiAgICAgICAgICAgIGNvbmZpZy5yZW1vdmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoY29uZmlnLm9uLCBsaXN0ZW5lciwgY29uZmlnLmV2ZW50T3B0aW9ucyB8fCB7fSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud2F0Y2hlckNvbmZpZ3MucHVzaChjb25maWcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgZ2l2ZW4gd2F0Y2hlciBieSBpZC5cbiAgICAgKiBAcGFyYW0gaWQgVGhlIGlkIG9mIHRoZSB3YXRjaGVyIHRvIHJlbW92ZS5cbiAgICAgKi9cbiAgICByZW1vdmVCeUlkKGlkKSB7XG4gICAgICAgIHRoaXMud2F0Y2hlckNvbmZpZ3MgPSB0aGlzLndhdGNoZXJDb25maWdzLmZpbHRlcigoY29uZmlnKSA9PiB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLmlkICYmIGNvbmZpZy5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAvLyBTYXZlIGFzIHZhciB0byBhdm9pZCB0eXBlc2NyaXB0IG51bGwgZXJyb3IuXG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlciA9IGNvbmZpZy5yZW1vdmVyO1xuICAgICAgICAgICAgICAgIHJlbW92ZXIgJiYgcmVtb3ZlcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBkb20gd2F0Y2hlcnMuXG4gICAgICovXG4gICAgcmVtb3ZlQWxsKCkge1xuICAgICAgICB0aGlzLndhdGNoZXJDb25maWdzLmZvckVhY2goY29uZmlnID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZXIgPSBjb25maWcucmVtb3ZlcjtcbiAgICAgICAgICAgIHJlbW92ZXIgJiYgcmVtb3ZlcigpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53YXRjaGVyQ29uZmlncyA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIERyeSBydW5zIGEgY2FsbGJhY2sgYnkgaWQuICBUaGlzIGp1c3QgY2FsbHMgdGhlIGNhbGxiYWNrIGFuZCBpc24ndCB0aGVcbiAgICAgKiBhY3R1YWwgYnJvd3NlciBldmVudCBzbyBubyBldmVudCBkYXRhIHdpbGwgYmUgYXZhaWxhYmxlIHdoZW4gdXNpbmdcbiAgICAgKiB0aGlzIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogd2F0Y2hlci5hZGQoe1xuICAgICAqICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICogICAgY2FsbGJhY2s6ICgpPT4ge1xuICAgICAqICAgICAgY29uc29sZS5sb2coJ3lvJyk7XG4gICAgICogICAgfVxuICAgICAqICAgIG9uOiAnY2xpY2snLFxuICAgICAqICAgIGlkOiAneW8nXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiB3YXRjaGVyLnJ1bigneW8nKTtcbiAgICAgKiBgYGBcbiAgICAgKiBAcGFyYW0gaWRcbiAgICAgKi9cbiAgICBydW4oaWQpIHtcbiAgICAgICAgY29uc3QgY29uZmlnc1RvUnVuID0gdGhpcy53YXRjaGVyQ29uZmlncy5maWx0ZXIoKGNvbmZpZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZy5pZCAmJiBjb25maWcuaWQgPT09IGlkO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uZmlnc1RvUnVuLmZvckVhY2goY29uZmlnID0+IHtcbiAgICAgICAgICAgIGNvbmZpZy5jYWxsYmFjaygpICYmIGNvbmZpZy5jYWxsYmFjaygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgb2YgZG9tV2F0Y2hlci5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbCgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRvbS13YXRjaGVyLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/dom/dom-watcher.js\n");

/***/ }),

/***/ "./lib/dom/dom.js":
/*!************************!*\
  !*** ./lib/dom/dom.js ***!
  \************************/
/*! exports provided: getElementScrolledPercent, getElementProgressPoint, getScrollYAtPercent, setCssVariable, setCssVariables, addStyles, testDescendant, testVideoIsPlaying, resetAllVideosInElement, pauseAllVideosInElement, playAllVideosInElement, whenVideosLoadedInElement, whenVideosLoaded, event, createElementFromString, removeElement, removeAllChildren, runAfterWindowLoad, runAfterNotTopOfScreen, aspect, getComputedStyle, fetchAndMakeImage, makeImageFromBlob, makeBase64ImageFromBlob, copyBase64Image, deleteImage, flushVideos, unflushVideos, getScrollTop, getScrollTopWithoutTransforms, forceFocus, resetForceFocus, forceVOFocus, getFocusableElements, setFocusableElementsToTabIndex, unsetFocusableElementsToTabIndex, getStyle, isDisplayNone, isDisplayNoneWithAncestors, isVisibleOnScreen, removeClassByPrefix, getAllTextNodes, appendAfter, disableScrolling, unorphan, getScrollElement, isOverlapping, addStylesToPage, closestElementComposed, removeNativeLazyImage, addDelegatedListener, dom */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getElementScrolledPercent\", function() { return getElementScrolledPercent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getElementProgressPoint\", function() { return getElementProgressPoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getScrollYAtPercent\", function() { return getScrollYAtPercent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setCssVariable\", function() { return setCssVariable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setCssVariables\", function() { return setCssVariables; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addStyles\", function() { return addStyles; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"testDescendant\", function() { return testDescendant; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"testVideoIsPlaying\", function() { return testVideoIsPlaying; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetAllVideosInElement\", function() { return resetAllVideosInElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pauseAllVideosInElement\", function() { return pauseAllVideosInElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"playAllVideosInElement\", function() { return playAllVideosInElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"whenVideosLoadedInElement\", function() { return whenVideosLoadedInElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"whenVideosLoaded\", function() { return whenVideosLoaded; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"event\", function() { return event; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createElementFromString\", function() { return createElementFromString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeElement\", function() { return removeElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeAllChildren\", function() { return removeAllChildren; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"runAfterWindowLoad\", function() { return runAfterWindowLoad; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"runAfterNotTopOfScreen\", function() { return runAfterNotTopOfScreen; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"aspect\", function() { return aspect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getComputedStyle\", function() { return getComputedStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetchAndMakeImage\", function() { return fetchAndMakeImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"makeImageFromBlob\", function() { return makeImageFromBlob; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"makeBase64ImageFromBlob\", function() { return makeBase64ImageFromBlob; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"copyBase64Image\", function() { return copyBase64Image; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deleteImage\", function() { return deleteImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flushVideos\", function() { return flushVideos; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"unflushVideos\", function() { return unflushVideos; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getScrollTop\", function() { return getScrollTop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getScrollTopWithoutTransforms\", function() { return getScrollTopWithoutTransforms; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"forceFocus\", function() { return forceFocus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetForceFocus\", function() { return resetForceFocus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"forceVOFocus\", function() { return forceVOFocus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFocusableElements\", function() { return getFocusableElements; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFocusableElementsToTabIndex\", function() { return setFocusableElementsToTabIndex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"unsetFocusableElementsToTabIndex\", function() { return unsetFocusableElementsToTabIndex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getStyle\", function() { return getStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isDisplayNone\", function() { return isDisplayNone; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isDisplayNoneWithAncestors\", function() { return isDisplayNoneWithAncestors; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isVisibleOnScreen\", function() { return isVisibleOnScreen; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeClassByPrefix\", function() { return removeClassByPrefix; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAllTextNodes\", function() { return getAllTextNodes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"appendAfter\", function() { return appendAfter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"disableScrolling\", function() { return disableScrolling; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"unorphan\", function() { return unorphan; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getScrollElement\", function() { return getScrollElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isOverlapping\", function() { return isOverlapping; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addStylesToPage\", function() { return addStylesToPage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"closestElementComposed\", function() { return closestElementComposed; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeNativeLazyImage\", function() { return removeNativeLazyImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addDelegatedListener\", function() { return addDelegatedListener; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dom\", function() { return dom; });\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _func_defer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../func/defer */ \"./lib/func/defer.js\");\n/* harmony import */ var _func_func__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\n/* harmony import */ var _is_is__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\n/* harmony import */ var _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\n\n\n\n\n/**\n * Given an element, returns the amount that the element has been scrolled\n * through in the the window.\n *\n * Example:\n * This method is particularly useful when you have a 100vh sticky element\n * and want a relative distance travelled percentage.\n *\n * ```\n * HTML\n * <div class=\"parent\">\n *    <div class=\"child\"><div class=\"content\"></div>\n * </div>\n *\n * SASS\n * .parent\n *   position: relative\n *   height: 300vh  // Should be more than 100vh\n * .child\n *   position: sticky\n *   height: 100vh\n *   width: 100%\n *   top: 0\n * .contents\n *   position: relative\n *   height: 100vh\n *\n * JS\n *\n *  window.addEventListener('scroll', () => {\n *     let progress =\n *             dom.getElementScrolledPercent(this.stickyParent_);\n *     // 0 when the above the element,\n *     // increases as you scroll thorugh\n *     // 1 when the bottom of the element reaches the bottom of the screen.\n *     console.log(progress);\n *   });\n *\n *\n * ```\n *\n * Top and bottom offset.\n * You can offset the top and bottom so that the calculations are shifted.\n *\n * ```ts\n *\n *     let startOffset = 100;\n *     // Now progress will start when the element is 100px inview.\n *     // But still will complete normally at the bottom.\n *     let progress =\n *             mathf.getElementScrolledPercent(this.element, startOffset, 0);\n *\n *     let startOffset = window.innerHeight;\n *     // Now progress when the top of the element hits the top of the screen.\n *     // But still will complete normally at the bottom.\n *     let progress =\n *             mathf.getElementScrolledPercent(this.element, startOffset, 0);\n *\n *     let heightOffset = -100;\n *     // Entry as normal - 0 when the element first comes into view.\n *     // Now progress will complete get to 0 when there is still 100px\n *     // of the element still to be shown since it is virtually 100px shorter.\n *     let progress =\n *             mathf.getElementScrolledPercent(this.element, 0, heightOffset);\n *\n *     // Now progress will complete when the element has scrolled past\n *     // the center of the screen since we virually extend the height by\n *     // 50vh.\n *     let heightOffset = window.innerHeight * 0.5;\n *     let progress =\n *             mathf.getElementScrolledPercent(this.element, 0, heightOffset);\n *\n *     // Now progress will complete when the element has scrolled past\n *     // the very top of the screen.\n *     let heightOffset = window.innerHeight * 1;\n *     let progress =\n *             mathf.getElementScrolledPercent(this.element, 0, heightOffset);\n *\n * ```\n *\n * Provided the element is larger than the viewport height,\n * this will return 0% when the element is above the screen,\n * it increases in value as the user scrolls through the element and\n * finally when the BOTTOM of the element just passes the bottom of the screen\n * it returns 1.\n *\n * This method assumes that the tracked element is atleast more than 100vh.\n *\n * @param {HTMLElement} element The root element.\n * @param {number} startOffset A positive value (pixel) to offset the top position\n *     of the element.\n *     The start offset value should never be negative as technically, offseting\n *     to before the element comes into view doesn't have an effect and will\n *     only complicate things for you.\n *     Changing this value will affect the poitn at which your progress hits\n *     0 (starts).\n * @param {number} heightOffset A value (pixel) to add to the total height of\n *     the element.  Can be positive or negative values.  Think of this,\n *     shortening or growing your element virually.  Changing this value\n *     will affect the point at which your progress hits 1 (ends).\n * @param {boolean} Optionally remove percent clamping.  This means it can return\n *     values outside 0-1.\n * @param {number} Optionally pass the window.innerHeight value.  This is\n *    useful for cases in which you have cached the window.innerHeight value.\n *    One usecase for this is on mobile, the window.innerHeight value can change\n *    as the user scrolls (since the url bar appears and disappears). To avoid\n *    jumps in the return progress percent, you want to cache the\n *    window.innerHeight value and pass it here.\n * @return {number} percent The amount in percentage that the user has scrolled\n *     in the element.\n *\n */\nfunction getElementScrolledPercent(element, startOffset = 0, heightOffset = 0, noClamp = false, innerHeight = 0) {\n    const box = element.getBoundingClientRect();\n    let wh;\n    if (innerHeight) {\n        wh = innerHeight;\n    }\n    else {\n        wh = window.innerHeight;\n    }\n    // We need to calculate this so that we start the 0% when the element comes\n    // in (the top of the element).  But the 100% is marked when the BOTTOM\n    // of the element passes the bottom of the screen.\n    const current = wh - (box.top + startOffset);\n    const percent = current / (box.height - startOffset + heightOffset);\n    return noClamp ? percent : _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"clampAsPercent\"](percent);\n}\n/**\n * Given a rootElement and targetElement, returns the progress value of the\n * targetElement.\n *\n * The baseLine is a number that is from 0 to 1.  0 is the top of the element,\n * 0.5 would be the middle and 1 would be the bottom of the element.\n *\n * @see cssParallaxer.getElementProgressPoint for an in detail usecase of this\n * method.\n */\nfunction getElementProgressPoint(rootElement, targetElement, baseline = 0, startOffset = 0, heightOffset = 0, noClamp = false) {\n    const y = Math.abs(rootElement.getBoundingClientRect().top -\n        (targetElement.getBoundingClientRect().top +\n            targetElement.offsetHeight * baseline)) - startOffset;\n    const totalScrollDistance = Math.abs(getScrollYAtPercent(rootElement, startOffset, heightOffset, 0, true) -\n        getScrollYAtPercent(rootElement, startOffset, heightOffset, 1, true));\n    const percent = y / totalScrollDistance;\n    return noClamp ? percent : _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"clampAsPercent\"](percent);\n}\n/**\n * Inverse of getElementScrolledPercent.\n * Given an element on the page, finds the scrollY value in order\n * to scroll into that element by the provided percent.\n *\n * @param element\n * @param startOffset\n * @param heightOffset\n * @param percent A value between 0-1\n *\n * ```ts\n *\n * // Scroll halfway into the given element.\n * const scrollY = mathf.getScrollYAtPercent(element, 0, 0, 0.5);\n * window.scrollTo(0, scrollY);\n *\n * // Scroll 0.2 percent into the given element.\n * const scrollY = mathf.getScrollYAtPercent(element, 0, 0, 0.2);\n * window.scrollTo(0, scrollY);\n * ```\n */\nfunction getScrollYAtPercent(element, startOffset = 0, heightOffset = 0, percent, withTransform = true) {\n    const wh = window.innerHeight;\n    const top = withTransform\n        ? getScrollTop(element)\n        : getScrollTopWithoutTransforms(element);\n    const start = top - wh + startOffset;\n    const end = top - wh + element.offsetHeight + heightOffset;\n    return _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"lerp\"](start, end, percent);\n}\n/**\n * Sets a css variable to an element.\n *\n * ```ts\n *   dom.setCssVariable(\n *       myElement, '--chapter-height', '100px');\n * ```\n *\n * @param element The element to set the css variable.\n * @param name The name of the css variable.  Should start with --.  Exampe: --height\n * @param value The value to set.\n */\nfunction setCssVariable(element, name, value) {\n    if (!element) {\n        throw new Error('You need specificy a valid element to apply a css variable');\n    }\n    element.style.setProperty(name, String(value));\n}\n/**\n * Batch update css variables on an element.  This updates style in a\n * destructive manner and will override any other style elements.\n *\n * ```ts\n * dom.addVariables(element, { '--height': \"200px\", '--mycssvariable': '20px'});\n * ```\n * @param element\n * @param style\n */\nfunction setCssVariables(element, variables) {\n    for (const key in variables) {\n        element.style.setProperty(key, String(variables[key]));\n    }\n}\n/**\n * Given a set of styles, add it to an element.\n *\n * ```ts\n * dom.addStyles(element, { left: \"200px\", '--mycssvariable': '20px'});\n * ```\n * @param element\n * @param style\n */\nfunction addStyles(element, styles) {\n    for (const key in styles) {\n        if (key.startsWith('--')) {\n            setCssVariable(element, key, styles[key]);\n        }\n    }\n    Object.assign(element.style, styles);\n}\n/**\n * Tests whether a given element is a descendant of another elemenet.\n *\n * Examples:\n * ```ts\n *  var isChild = dom.testDescendant(\n *      document.getElementById('button'),\n *      document.querySelector('.article'));\n *\n * // Whether the active focused element is under the article container.\n *  var isFocused = dom.testDescendant(document.activeElement,\n *      document.querySelector('.article'));\n * ```\n *\n * @param element The child element\n * @param parentElement The possible parent element\n * @return Whether element is a descendant of the provided parent element.\n */\nfunction testDescendant(element, parentElement) {\n    let currentNode = element.parentNode;\n    while (currentNode) {\n        if (currentNode === parentElement) {\n            return true;\n        }\n        currentNode = currentNode.parentNode;\n    }\n    return false;\n}\n/**\n * Tests whether a given video element is playing.\n * @param videoElement\n */\nfunction testVideoIsPlaying(video) {\n    return !video.paused && !video.ended && video.readyState > 2;\n}\n/**\n * Resets all videos inside of a given element.\n * @param element The element to search videos in for.\n */\nfunction resetAllVideosInElement(element) {\n    const videos = Array.from(element.querySelectorAll('video'));\n    videos.forEach(video => {\n        video.currentTime = 0;\n    });\n}\n/**\n * Pauses all videos inside of a given element.\n * @param element The element to search videos in for.\n * @param reset Whether to pause and reset the video to 0 seconds (start).\n */\nfunction pauseAllVideosInElement(element, reset = false) {\n    const videos = Array.from(element.querySelectorAll('video'));\n    videos.forEach(video => {\n        if (reset) {\n            video.currentTime = 0;\n        }\n        video.pause();\n    });\n}\n/**\n * Plays all videos inside of a given element.\n * @param element The element to search videos in for.\n * @param reset Whether to start playing from currentTime 0.\n */\nfunction playAllVideosInElement(element, reset = false) {\n    const videos = Array.from(element.querySelectorAll('video'));\n    videos.forEach(video => {\n        if (reset) {\n            video.currentTime = 0;\n        }\n        if (!testVideoIsPlaying(video)) {\n            const playPromise = video.play();\n            if (playPromise !== undefined) {\n                playPromise.then(() => { }).catch(() => { });\n            }\n        }\n    });\n}\n/**\n * Allows you to make sure that all videos are loaded (readyState 4) in a\n * given element before executing callback.\n *\n * Note that this method executes polling in the background\n * to check for video state so use carefully.  Defaults to timeout after\n * 10000ms\n *\n * ```ts\n * // Wait for all videos to be loaded.\n * dom.whenVideosLoadedInElement(element).then(()=> {\n *   // Play all videos for example.\n *   dom.playAllVideosInElement(element);\n * })\n *\n * ```\n * @param element\n * @param timeout The amount of time in which to give up polling.\n * @return Promise\n */\nfunction whenVideosLoadedInElement(element, timeout = 10000) {\n    const videos = Array.from(element.querySelectorAll('video'));\n    return whenVideosLoaded(videos, timeout);\n}\n/**\n * Allows you to make sure that all videos are loaded (readyState 4)\n * before executing callback.\n *\n * Note that this method executes polling in the background\n * to check for video state so use carefully.  Defaults to timeout after\n * 10000ms\n *\n * ```ts\n * // Wait for all videos to be loaded.\n * const videos = [videoElement1, videoElement2];\n * dom.whenVideosLoaded(videos).then(()=> {\n *   //\n * })\n *\n * ```\n * @param element\n * @param timeout The amount of time in which to give up polling.\n * @return Promise\n */\nfunction whenVideosLoaded(videos, timeout = 10000\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const promises = [];\n    videos.forEach(video => {\n        const defer = new _func_defer__WEBPACK_IMPORTED_MODULE_1__[\"Defer\"]();\n        promises.push(defer.getPromise());\n        _func_func__WEBPACK_IMPORTED_MODULE_2__[\"waitUntil\"](() => video.readyState === 4, timeout, 10)\n            .then(() => {\n            defer.resolve();\n        });\n    });\n    return Promise.all(promises);\n}\n/**\n * Fires a event on the element.\n *\n * ```ts\n * dom.event(document, 'myCustomEvent', { message: hello});\n *\n * // Data gets passed on the event.detail.\n * document.addEventListener('myCustomEvent', (e)=> {\n *   console.log(e.detail.message); // Hello\n * }, false)\n * ```\n *\n * @param element\n * @param name\n * @param data\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction event(element, name, data) {\n    const event = new CustomEvent(name, { detail: data });\n    element.dispatchEvent(event);\n}\n/**\n * Creates an html element from a string.\n * ```\n * dom.createElementFromString(\"<div>Hohohoho</div>\");\n * ```\n * @param htmlString\n * @param fragMethod Uses a method to create dom from string WITHOUT using innerHTML\n */\nfunction createElementFromString(htmlString, fragMethod = false) {\n    if (fragMethod) {\n        const holder = document.createElement('div');\n        const frag = document.createRange().createContextualFragment(htmlString);\n        holder.appendChild(frag);\n        return holder.firstElementChild;\n    }\n    else {\n        const div = document.createElement('div');\n        div.innerHTML = htmlString.trim();\n        return div.firstChild;\n    }\n}\n/**\n * Removes an element from the dom.\n * @param element\n */\nfunction removeElement(element) {\n    element.parentNode.removeChild(element);\n}\n/**\n * Removes all children of a given element.  This can be prefereable over\n * `element.innerHTML = ''` since that does not remove listeners.\n */\nfunction removeAllChildren(element) {\n    while (element.firstChild) {\n        element.removeChild(element.firstChild);\n    }\n}\n/**\n * Executes a callback after window has loaded.\n * This isn't a simple window load event listening but\n * first makes a check if the window has already loaded.\n * If it has, the callback will immediately get executed,\n * otherwise, it will wait until the load event completes.\n * @param callback\n */\nfunction runAfterWindowLoad(callback) {\n    // Make sure we are at the bottom of the event\n    // stack (hence setTimeout) - this avoids\n    // edge cases in which windowLoaded is misevaluated.\n    window.setTimeout(() => {\n        if (_is_is__WEBPACK_IMPORTED_MODULE_3__[\"windowLoaded\"]()) {\n            callback();\n        }\n        else {\n            window.addEventListener('load', () => {\n                callback();\n            }, { once: true });\n        }\n    });\n}\n/**\n * Executes a callback as soon as the user is not at the top of the screen.\n *\n * If the user is at the top of the screen when this is called, it will\n * wait until the user has scrolled down to execute.  If the user is already\n * not at the top of the screen, the callback will immediately execute.\n *\n * Note that if your document is less than 100vh, your callback will\n * never get executed because the user can't scroll and will always be at\n * the top of the screen.\n *\n * @param callback\n */\nfunction runAfterNotTopOfScreen(callback) {\n    if (window.scrollY !== 0) {\n        callback();\n    }\n    else {\n        window.addEventListener('scroll', () => {\n            callback();\n        }, { once: true, passive: true });\n    }\n}\n/**\n * Gets the current browser aspect ratio.\n * 2 --> wide rectangle\n * 1 --> squre\n * 0.5 --> tall rectangle\n */\nfunction aspect() {\n    return window.innerWidth / window.innerHeight;\n}\n/**\n * Gets the computed style of a given element .\n * @param element\n * @return CSSStyleDeclartion\n */\nfunction getComputedStyle(element) {\n    return window.getComputedStyle(element);\n}\n/**\n * Creates an image in memory that is later deletable so it can\n * be released from native memory AND image cache.\n *\n * This method can be paired with deleteImage.\n *\n * // Consider the following:\n * new Image();\n * image.src = 'hohoho.jpg';\n * image.decode().then(()=> {\n *   // Do something.\n *   myCanvas.drawImage(image);\n *   image = null;\n * })\n *\n * This does appear to get GCed and removed from image cache but it is\n * never flushed from native memory.\n *\n * You can observe this by going to Chrome -> Task manager.  Make sure\n * you have the Memory and also the Image Cache columns.\n *\n * Theefore, usage of image.decode() for now, can lead to memory leaks that\n * can't be cured with image=null.\n *\n * The same is observed with ImageBitmaps.\n *\n * Related.\n * https://bugs.webkit.org/show_bug.cgi?id=31253\n *\n *\n * The solution is to use createObjectURL and later revoke that\n * so memory can be released.\n *\n * ```\n * const imageSource = 'public/image/cat.jpg';\n *\n * // Cache the image in browser memory.\n *    dom.fetchAndMakeImage(imageSource).then((image)=> {\n *\n *       // Do something with image.\n *       myCanvas.drawImage(image);\n *\n *       // Delete from memory.\n *       dom.deleteImage(image);\n *    })\n *\n * ```\n */\nfunction fetchAndMakeImage(source) {\n    return new Promise(resolve => {\n        fetch(source)\n            .then(response => {\n            return response.blob();\n        })\n            .then(response => {\n            const blob = response;\n            const img = document.createElement('img');\n            img.decoding = 'async';\n            img.onload = () => {\n                resolve(img);\n            };\n            img.src = URL.createObjectURL(blob);\n        });\n    });\n}\n/**\n * Makes images from a blob source.  Can be coupled with\n * delete image to quickly release memory.\n * @param blob\n */\nfunction makeImageFromBlob(blob) {\n    return new Promise(resolve => {\n        const img = document.createElement('img');\n        img.decoding = 'async';\n        img.onload = () => {\n            img.onload = null;\n            resolve(img);\n        };\n        img.src = URL.createObjectURL(blob);\n    });\n}\n/**\n * Makes an image from a blob source.  This is an alternative to\n * URL.createObjectURL is to convert a Blob into a base64-encoded string.\n *\n *\n * Return somethig like:\n * <img src=\"data:image/png;base64,R0lGODlhDAAMAKIFAF5LAP/zxAAAANyuAP/gaP///wAAAAA\">\n *\n * @param blob\n */\nfunction makeBase64ImageFromBlob(blob) {\n    return new Promise(resolve => {\n        const reader = new FileReader();\n        reader.readAsDataURL(blob); // converts the blob to base64 and calls onload\n        reader.addEventListener('load', () => {\n            const img = document.createElement('img');\n            img.src = reader.result;\n            img.onload = () => {\n                img.onload = null;\n                resolve(img);\n            };\n        }, { once: true });\n    });\n}\nfunction copyBase64Image(image) {\n    return new Promise(resolve => {\n        const img = document.createElement('img');\n        img.src = image.src;\n        img.onload = () => {\n            img.onload = null;\n            resolve(img);\n        };\n    });\n}\n/**\n * Deletes an image from memory.  Inverse action of\n * dom.makeBase64ImageFromBlob or dom.makeImageFromBlob.\n */\nfunction deleteImage(image) {\n    if (image) {\n        // Delete ObjectURLs or base64\n        if (image.src &&\n            (image.src.startsWith('blob:') || image.src.startsWith('data:'))) {\n            URL.revokeObjectURL(image.src);\n            image.src = '';\n        }\n        image = null;\n    }\n}\n/**\n * Flushes all video sources in a given element.  This allow the VRAM to\n * flush.  Use unflushVideos to put it back.\n *\n * This is particularly useful to combine with inview.\n * Where normally, it would take Chrome a couple of seconds\n * to flush memory of an outview video, this would do it\n * explicitly release memory much quicker.\n *\n *\n * Current will only work with video with <source> not video with\n * src.\n * ```\n *  <video>\n *    <source src=\"xxx.mp4\"></source>\n *    <source src=\"xxx.webm\"></source>\n * </video>\n * ```\n *\n * Basically, this works by removig the src attribute from each video\n * and then force reloading it - flushing it from memory.\n *\n * ```ts\n *    let ev = elementVisibility.inview(\n *       el, {rootMargin: '100px 100px 100px 100px'}, () => {\n *       if (ev.state().ready) {\n *         if (ev.state().inview) {\n *           dom.unflushVideos(el);\n *         } else {\n *           dom.flushVideos(el);\n *         }\n *       }\n *     });\n *\n * ```\n *\n *\n * You may also have a case where you are lazyloading videos as such:\n *\n * ```\n * <video>\n *    <source lazyvideo-src=\"xxx.mp4\"></source>\n * </video>\n * ```\n *\n * In this case, you can use the source attribute to specify the data-attritube\n * that contains the path to the source.\n *\n * ```ts\n *     dom.flushVideos(el, 'lazyvideo-src');\n * ```\n *\n * https://html.spec.whatwg.org/multipage/media.html#best-practices-for-authors-using-media-elements\n *\n * @param el The html element to search\n * @param sourceAttribute An optional attribute value to acquire the\n *   video source from.\n */\nfunction flushVideos(el, sourceAttribute = '') {\n    const videos = Array.from(el.querySelectorAll('video'));\n    videos.forEach(video => {\n        const sources = Array.from(video.querySelectorAll('source'));\n        sources.forEach((source) => {\n            const src = source.getAttribute(sourceAttribute) || source.src;\n            source.setAttribute('data-video-src', src);\n            source.removeAttribute('src');\n            source = null;\n        });\n        video.load();\n    });\n}\n/**\n * Puts back video sources and undoes the effect of dom.flushVideos.\n * @param el The root element.\n * @param noPlay Whether to suppress autoplaying of videos when videos are\n *   unflushed.\n */\nfunction unflushVideos(el, noPlay = false) {\n    const videos = Array.from(el.querySelectorAll('video'));\n    videos.forEach(video => {\n        const sources = Array.from(video.querySelectorAll('source'));\n        sources.forEach(source => {\n            if (!source.hasAttribute('data-video-src')) {\n                return;\n            }\n            const src = source.getAttribute('data-video-src');\n            source.setAttribute('src', src);\n        });\n        video.load();\n    });\n    if (!noPlay) {\n        playAllVideosInElement(el);\n    }\n}\n/**\n * Gets the Y distance of the element from the top of the document.\n *\n * ```ts\n *   const top = dom.getScrollTop(el);\n *   window.scroll(0, top);\n * ```\n *\n */\nfunction getScrollTop(el, includeParent = false) {\n    // Safe guard.\n    if (!el) {\n        return 0;\n    }\n    if (includeParent && el.offsetParent) {\n        return (el.getBoundingClientRect().top -\n            el.offsetParent.getBoundingClientRect().top +\n            window.scrollY);\n    }\n    else {\n        return el.getBoundingClientRect().top + window.scrollY;\n    }\n}\n/**\n * Gets the Y distance of the element from the top of the document without\n * regard to any transforms applied.\n *\n * ```ts\n *   const top = dom.getScrollTopWithoutTransforms(el);\n *   window.scroll(0, top);\n * ```\n *\n */\nfunction getScrollTopWithoutTransforms(el) {\n    let offsetTop = 0;\n    do {\n        offsetTop += el.offsetTop;\n        el = el.offsetParent;\n    } while (el);\n    return offsetTop;\n}\n/**\n * An attempt at override VO focus.\n * Requires the element to have a tabindex=\"-1\" and then focusing.\n * To fully reinstante the original state prior to running force focus,\n * run resetForceFocus().\n *\n *\n * ---\n *\n * dom.forceFocus(myElement);\n *\n * window.setTimeout(()=> {\n *\n *   dom.forceFocus(myElement2);\n *\n * }, 2000)\n *\n *\n *\n * //  Some given time later, undo everything if needed.\n * dom.resetForceFocus();\n * ---\n */\nfunction forceFocus(el) {\n    // Check if we previously forced focused element in which case,\n    // revert that to it's previously state.\n    resetForceFocus();\n    const currentIndex = el.getAttribute('tabindex');\n    if (_is_is__WEBPACK_IMPORTED_MODULE_3__[\"defined\"](currentIndex) && !_is_is__WEBPACK_IMPORTED_MODULE_3__[\"nullLike\"](currentIndex)) {\n        el.setAttribute('forcetabindex', currentIndex);\n    }\n    else {\n        el.setAttribute('forcetabindex', 'none');\n    }\n    el.setAttribute('tabindex', '-1');\n    el.focus();\n}\n/**\n * Undos the effects of forceFocus which overrides the tabindex of focused\n * elements.\n */\nfunction resetForceFocus() {\n    const previouslyFocusedElement = Array.from(document.querySelectorAll('[forcetabindex]'));\n    previouslyFocusedElement.forEach(element => {\n        const tabIndex = element.getAttribute('forcetabindex');\n        if (_is_is__WEBPACK_IMPORTED_MODULE_3__[\"defined\"](tabIndex) && !_is_is__WEBPACK_IMPORTED_MODULE_3__[\"nullLike\"](tabIndex) && tabIndex !== 'none') {\n            element.setAttribute('tabindex', tabIndex);\n        }\n        else {\n            element.removeAttribute('tabindex');\n        }\n        element.removeAttribute('forcetabindex');\n    });\n}\n/**\n * Apart from .forceFocus, another alternative workaround for\n * implementing forces VO focus.\n * Thank you to: https://silvantroxler.ch/2016/setting-voiceover-focus-with-javascript/\n * @param el\n */\nfunction forceVOFocus(element, interval = 10, repetition = 10) {\n    const focusInterval = interval; // ms, time between function calls\n    const focusTotalRepetitions = repetition; // number of repetitions\n    element.setAttribute('tabindex', '0');\n    element.blur();\n    let focusRepetitions = 0;\n    const int = window.setInterval(() => {\n        element.focus();\n        focusRepetitions++;\n        if (focusRepetitions >= focusTotalRepetitions) {\n            window.clearInterval(int);\n        }\n    }, focusInterval);\n}\n/**\n * Returns a list of focusable child elements from a parent element.\n */\nfunction getFocusableElements(element) {\n    return Array.from(element.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'));\n}\n/**\n * Gets all focusable elements within an element and sets it to the given tabindex.\n * This method is paired with \"unsetFocusableElementsToTabIndex\" to undo this\n * action.\n *\n * ```\n * # Set all focusable elements to -1 tabindex.\n *   dom.setFocusableElementsToTabIndex(parentElement, -1);\n *\n * # Later undo this effect.  Focusable elements revert to their original tab index.\n *   dom.unsetFocusableElementsToTabIndex(parentElement);\n * ```\n */\nfunction setFocusableElementsToTabIndex(element, tabindex) {\n    const elements = getFocusableElements(element);\n    elements.forEach(element => {\n        const currentTabIndex = element.tabIndex;\n        if (!element.hasAttribute('originalTabIndex')) {\n            element.setAttribute('originalTabIndex', currentTabIndex + '');\n        }\n        element.tabIndex = tabindex;\n    });\n}\n/**\n * Reverts all focusable elements within an element to its original tabindex\n * after the 'dom.setFocusableElementsToTabIndex()` method has been executed.\n */\nfunction unsetFocusableElementsToTabIndex(element) {\n    const elements = Array.from(element.querySelectorAll('[originalTabIndex]'));\n    elements.forEach(element => {\n        const originalTabIndex = element.getAttribute('originalTabIndex') || '';\n        element.tabIndex = +originalTabIndex;\n    });\n}\n/**\n * Gets the current styles on a given element.\n *\n * ```\n * var style = dom.getStyle(el);\n *\n * style.marginTop;\n * style.paddingLeft;\n *\n * ```\n */\nfunction getStyle(el) {\n    return window.getComputedStyle(el);\n}\n/**\n * Tests whether the provided element is set to display none.\n */\nfunction isDisplayNone(el) {\n    const style = window.getComputedStyle(el).display;\n    return style === 'none';\n}\n/**\n * Tests whether a given element and it's ancestors have\n * a display:none.  This is useful to see if a given element\n * is on the screen (based on whether if the element or it's ancestors have\n * display none.)\n *\n * ```\n * const elementIsVisibleOnScreen = !dom.isDisplayNoneWithAncestors(element);\n * ```\n */\nfunction isDisplayNoneWithAncestors(el) {\n    if (isDisplayNone(el)) {\n        return true;\n    }\n    if (el.parentElement) {\n        return isDisplayNoneWithAncestors(el.parentElement);\n    }\n    return false;\n}\n/**\n * Tries to determine if the element is currently visible on the\n * screen.  Note this is an attempt and is not a guarantee as is based\n * on whether the element or its parents have opacity, visibility or\n * display set to a hidden state.\n * @param el\n */\nfunction isVisibleOnScreen(el) {\n    const checkVisibility = (el) => {\n        const styles = getComputedStyle(el);\n        return !(styles.opacity !== '1' ||\n            styles.visibility === 'hidden' ||\n            styles.display === 'none');\n    };\n    const isVisible = checkVisibility(el);\n    if (!isVisible) {\n        return false;\n    }\n    if (el.parentElement) {\n        return isVisibleOnScreen(el.parentElement);\n    }\n    return true;\n}\n/**\n * Removes all classes from an element that starts with a given prefix.\n * https://stackoverflow.com/questions/28608587/how-to-remove-a-class-that-starts-with\n * @param el\n * @param prefix\n */\nfunction removeClassByPrefix(el, prefix) {\n    const reg = new RegExp('\\\\b' + prefix + '.*?\\\\b', 'g');\n    el.className = el.className.replace(reg, '');\n    return el;\n}\n/**\n * Returns all text nodes under a given element.\n * https://stackoverflow.com/questions/10730309/find-all-text-nodes-in-html-page\n * @param el\n */\nfunction getAllTextNodes(el) {\n    let n;\n    const a = [];\n    const walk = document.createTreeWalker(el, NodeFilter.SHOW_TEXT, null, false);\n    while ((n = walk.nextNode()))\n        a.push(n);\n    return a;\n}\nfunction appendAfter(nodeToAdd, nodeToAddAfter) {\n    nodeToAddAfter.parentNode.insertBefore(nodeToAdd, nodeToAddAfter.nextSibling);\n}\n/**\n * Used for cases in which you want to prevent scroll on the page.\n *\n * Technically, this prevents wheel and touchmove events.\n *\n * ```\n * // Disable scrolling.\n * const reenable = dom.domDisableScrolling();\n *\n * // Renable.\n * reenable();\n * ```\n */\nfunction disableScrolling() {\n    const disabler = (e) => {\n        e.preventDefault();\n    };\n    const domWatcher = new _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_4__[\"DomWatcher\"]();\n    domWatcher.add({\n        element: window,\n        on: 'wheel',\n        callback: disabler,\n        eventOptions: {\n            passive: false,\n        },\n    });\n    domWatcher.add({\n        element: window,\n        on: 'touchmove',\n        callback: disabler,\n        eventOptions: {\n            passive: false,\n        },\n    });\n    return () => {\n        domWatcher.dispose();\n    };\n}\n/**\n * Adds &nbsps to between the second to last and last word\n * to avoid unorphanization.\n *\n * ```\n *       // Unorphanize all text nodes.\n *       dom.unorphan(element as HTMLElement);\n *\n *       // No nesting (just the last text node)\n *       dom.unorphan(element as HTMLElement, true);\n * ```\n * @param el\n */\nfunction unorphan(el, lastOnly = false) {\n    let allTextNodes = getAllTextNodes(el);\n    if (lastOnly) {\n        allTextNodes = [allTextNodes[allTextNodes.length - 1]];\n    }\n    const nbsp = '\\xA0';\n    allTextNodes.forEach(node => {\n        node.nodeValue = node.nodeValue.replace(/\\s+([^\\s]*)\\s*$/, nbsp + '$1');\n    });\n}\nfunction getScrollElement() {\n    return document.scrollingElement || document.documentElement;\n}\n/**\n * Determines if two elements are overlapping or not.\n * @param aElement\n * @param bElement\n * https://stackoverflow.com/questions/12066870/how-to-check-if-an-element-is-overlapping-other-elements\n */\nfunction isOverlapping(aElement, bElement) {\n    // Element Can't overlap with itself.\n    if (aElement === bElement) {\n        return false;\n    }\n    const rect1 = aElement.getBoundingClientRect();\n    const rect2 = bElement.getBoundingClientRect();\n    return !(rect1.right < rect2.left ||\n        rect1.left > rect2.right ||\n        rect1.bottom < rect2.top ||\n        rect1.top > rect2.bottom);\n}\n/**\n * Adds the given cssStyle to the page.\n * @param cssStyle\n *\n * ```\n * dom.addStylesToPage(\".myclass { background: blue}\");\n * ```\n */\nfunction addStylesToPage(cssStyle) {\n    document.head.insertAdjacentHTML('beforeend', `<style>${cssStyle}</style>`);\n}\n/**\n * https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\n *\n * Looks for the closest element that matches the selector across the shadow DOM\n * and standard DOM boundaries.\n *\n * ```\n * dom.addStylesToPage(\".my-shadow-dom-parent\", element);\n * ```\n */\nfunction closestElementComposed(selector, baseElement) {\n    function closestFrom(baseElement) {\n        if (!baseElement || baseElement === document || baseElement === window)\n            return null;\n        const found = baseElement.closest(selector);\n        return found ? found : closestFrom(baseElement.getRootNode().host);\n    }\n    return closestFrom(baseElement);\n}\n/**\n * Finds all loading=\"lazy\" within an element and removes the attribute.\n * The context and reason why you may want to use this is because of how\n * native lazy loading works.  Native lazy image loading will only load an image\n * when it is rendered and painted on the screen.  Say you have\n * a carousel module with many slides.  Even if the user has scrolled into\n * the module, carousel image in slides 2,3 etc with lazy loading will\n * not load until the user clicks into that slide and the image is painted.\n *\n * To avoid this, you can run this when the module comes into view.\n */\nfunction removeNativeLazyImage(rootElement) {\n    const lazyElements = Array.from(rootElement.querySelectorAll('[loading=lazy]'));\n    lazyElements.forEach(element => {\n        element.removeAttribute('loading');\n    });\n}\n/**\n * Listens for a specified event on any element within the provided element and\n * then recursively calls the listener on all ancestors of the originating\n * element.\n *\n * For example a given module,  when any click event happens within the module,\n * call your listener repeatedly starting from the originating element and all\n * of its ancestors (bubble up) up to the document root.\n *\n * ```ts\n *   dom.addDelegatedListener(\n *     myModuleElement || document.documentElement,\n *     'click',\n *     (e: HTMLElement, event: any) => {\n *       if (!e) {\n *         return;\n *       }\n *        // Called on the element that was clicked and it's parent\n *        // recursively until the document root.\n *        ...\n *     }\n *   );\n * ```\n *\n * @param {Element} el Element to host the listener.\n * @param {string} type Listener type.\n * @param {function} listener Listener function.\n */\nfunction addDelegatedListener(el, type, listener) {\n    const handler = (e) => {\n        e = e || window.event;\n        let target = e.target || e.srcElement;\n        target = target.nodeType === 3 ? target.parentNode : target;\n        do {\n            listener(target, e);\n            if (target.parentNode) {\n                target = target.parentNode;\n            }\n        } while (target.parentNode);\n    };\n    el.addEventListener(type, handler);\n    // Return a function to remove the listener.\n    return () => {\n        el.removeEventListener(type, handler);\n    };\n}\n/**\n * Degu DOM utility functions.\n */\nconst dom = {\n    addDelegatedListener,\n    addStyles,\n    addStylesToPage,\n    appendAfter,\n    aspect,\n    copyBase64Image,\n    createElementFromString,\n    deleteImage,\n    disableScrolling,\n    event,\n    fetchAndMakeImage,\n    flushVideos,\n    forceFocus,\n    forceVOFocus,\n    getAllTextNodes,\n    getComputedStyle,\n    getElementScrolledPercent,\n    getFocusableElements,\n    getScrollElement,\n    getScrollTop,\n    getScrollYAtPercent,\n    getStyle,\n    isDisplayNone,\n    isDisplayNoneWithAncestors,\n    isOverlapping,\n    isVisibleOnScreen,\n    makeBase64ImageFromBlob,\n    makeImageFromBlob,\n    pauseAllVideosInElement,\n    playAllVideosInElement,\n    removeClassByPrefix,\n    removeElement,\n    removeAllChildren,\n    resetAllVideosInElement,\n    resetForceFocus,\n    runAfterNotTopOfScreen,\n    runAfterWindowLoad,\n    setCssVariable,\n    setCssVariables,\n    setFocusableElementsToTabIndex,\n    testDescendant,\n    testVideoIsPlaying,\n    unflushVideos,\n    unorphan,\n    unsetFocusableElementsToTabIndex,\n    whenVideosLoaded,\n    whenVideosLoadedInElement,\n};\n//# sourceMappingURL=dom.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2RvbS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9kb20vZG9tLmpzPzdjMTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgbWF0aGYgZnJvbSAnLi4vbWF0aGYvbWF0aGYnO1xuaW1wb3J0IHsgRGVmZXIgfSBmcm9tICcuLi9mdW5jL2RlZmVyJztcbmltcG9ydCAqIGFzIGZ1bmMgZnJvbSAnLi4vZnVuYy9mdW5jJztcbmltcG9ydCAqIGFzIGlzIGZyb20gJy4uL2lzL2lzJztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9kb20vZG9tLXdhdGNoZXInO1xuLyoqXG4gKiBHaXZlbiBhbiBlbGVtZW50LCByZXR1cm5zIHRoZSBhbW91bnQgdGhhdCB0aGUgZWxlbWVudCBoYXMgYmVlbiBzY3JvbGxlZFxuICogdGhyb3VnaCBpbiB0aGUgdGhlIHdpbmRvdy5cbiAqXG4gKiBFeGFtcGxlOlxuICogVGhpcyBtZXRob2QgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCB3aGVuIHlvdSBoYXZlIGEgMTAwdmggc3RpY2t5IGVsZW1lbnRcbiAqIGFuZCB3YW50IGEgcmVsYXRpdmUgZGlzdGFuY2UgdHJhdmVsbGVkIHBlcmNlbnRhZ2UuXG4gKlxuICogYGBgXG4gKiBIVE1MXG4gKiA8ZGl2IGNsYXNzPVwicGFyZW50XCI+XG4gKiAgICA8ZGl2IGNsYXNzPVwiY2hpbGRcIj48ZGl2IGNsYXNzPVwiY29udGVudFwiPjwvZGl2PlxuICogPC9kaXY+XG4gKlxuICogU0FTU1xuICogLnBhcmVudFxuICogICBwb3NpdGlvbjogcmVsYXRpdmVcbiAqICAgaGVpZ2h0OiAzMDB2aCAgLy8gU2hvdWxkIGJlIG1vcmUgdGhhbiAxMDB2aFxuICogLmNoaWxkXG4gKiAgIHBvc2l0aW9uOiBzdGlja3lcbiAqICAgaGVpZ2h0OiAxMDB2aFxuICogICB3aWR0aDogMTAwJVxuICogICB0b3A6IDBcbiAqIC5jb250ZW50c1xuICogICBwb3NpdGlvbjogcmVsYXRpdmVcbiAqICAgaGVpZ2h0OiAxMDB2aFxuICpcbiAqIEpTXG4gKlxuICogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XG4gKiAgICAgbGV0IHByb2dyZXNzID1cbiAqICAgICAgICAgICAgIGRvbS5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMuc3RpY2t5UGFyZW50Xyk7XG4gKiAgICAgLy8gMCB3aGVuIHRoZSBhYm92ZSB0aGUgZWxlbWVudCxcbiAqICAgICAvLyBpbmNyZWFzZXMgYXMgeW91IHNjcm9sbCB0aG9ydWdoXG4gKiAgICAgLy8gMSB3aGVuIHRoZSBib3R0b20gb2YgdGhlIGVsZW1lbnQgcmVhY2hlcyB0aGUgYm90dG9tIG9mIHRoZSBzY3JlZW4uXG4gKiAgICAgY29uc29sZS5sb2cocHJvZ3Jlc3MpO1xuICogICB9KTtcbiAqXG4gKlxuICogYGBgXG4gKlxuICogVG9wIGFuZCBib3R0b20gb2Zmc2V0LlxuICogWW91IGNhbiBvZmZzZXQgdGhlIHRvcCBhbmQgYm90dG9tIHNvIHRoYXQgdGhlIGNhbGN1bGF0aW9ucyBhcmUgc2hpZnRlZC5cbiAqXG4gKiBgYGB0c1xuICpcbiAqICAgICBsZXQgc3RhcnRPZmZzZXQgPSAxMDA7XG4gKiAgICAgLy8gTm93IHByb2dyZXNzIHdpbGwgc3RhcnQgd2hlbiB0aGUgZWxlbWVudCBpcyAxMDBweCBpbnZpZXcuXG4gKiAgICAgLy8gQnV0IHN0aWxsIHdpbGwgY29tcGxldGUgbm9ybWFsbHkgYXQgdGhlIGJvdHRvbS5cbiAqICAgICBsZXQgcHJvZ3Jlc3MgPVxuICogICAgICAgICAgICAgbWF0aGYuZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLmVsZW1lbnQsIHN0YXJ0T2Zmc2V0LCAwKTtcbiAqXG4gKiAgICAgbGV0IHN0YXJ0T2Zmc2V0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICogICAgIC8vIE5vdyBwcm9ncmVzcyB3aGVuIHRoZSB0b3Agb2YgdGhlIGVsZW1lbnQgaGl0cyB0aGUgdG9wIG9mIHRoZSBzY3JlZW4uXG4gKiAgICAgLy8gQnV0IHN0aWxsIHdpbGwgY29tcGxldGUgbm9ybWFsbHkgYXQgdGhlIGJvdHRvbS5cbiAqICAgICBsZXQgcHJvZ3Jlc3MgPVxuICogICAgICAgICAgICAgbWF0aGYuZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudCh0aGlzLmVsZW1lbnQsIHN0YXJ0T2Zmc2V0LCAwKTtcbiAqXG4gKiAgICAgbGV0IGhlaWdodE9mZnNldCA9IC0xMDA7XG4gKiAgICAgLy8gRW50cnkgYXMgbm9ybWFsIC0gMCB3aGVuIHRoZSBlbGVtZW50IGZpcnN0IGNvbWVzIGludG8gdmlldy5cbiAqICAgICAvLyBOb3cgcHJvZ3Jlc3Mgd2lsbCBjb21wbGV0ZSBnZXQgdG8gMCB3aGVuIHRoZXJlIGlzIHN0aWxsIDEwMHB4XG4gKiAgICAgLy8gb2YgdGhlIGVsZW1lbnQgc3RpbGwgdG8gYmUgc2hvd24gc2luY2UgaXQgaXMgdmlydHVhbGx5IDEwMHB4IHNob3J0ZXIuXG4gKiAgICAgbGV0IHByb2dyZXNzID1cbiAqICAgICAgICAgICAgIG1hdGhmLmdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQodGhpcy5lbGVtZW50LCAwLCBoZWlnaHRPZmZzZXQpO1xuICpcbiAqICAgICAvLyBOb3cgcHJvZ3Jlc3Mgd2lsbCBjb21wbGV0ZSB3aGVuIHRoZSBlbGVtZW50IGhhcyBzY3JvbGxlZCBwYXN0XG4gKiAgICAgLy8gdGhlIGNlbnRlciBvZiB0aGUgc2NyZWVuIHNpbmNlIHdlIHZpcnVhbGx5IGV4dGVuZCB0aGUgaGVpZ2h0IGJ5XG4gKiAgICAgLy8gNTB2aC5cbiAqICAgICBsZXQgaGVpZ2h0T2Zmc2V0ID0gd2luZG93LmlubmVySGVpZ2h0ICogMC41O1xuICogICAgIGxldCBwcm9ncmVzcyA9XG4gKiAgICAgICAgICAgICBtYXRoZi5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMuZWxlbWVudCwgMCwgaGVpZ2h0T2Zmc2V0KTtcbiAqXG4gKiAgICAgLy8gTm93IHByb2dyZXNzIHdpbGwgY29tcGxldGUgd2hlbiB0aGUgZWxlbWVudCBoYXMgc2Nyb2xsZWQgcGFzdFxuICogICAgIC8vIHRoZSB2ZXJ5IHRvcCBvZiB0aGUgc2NyZWVuLlxuICogICAgIGxldCBoZWlnaHRPZmZzZXQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiAxO1xuICogICAgIGxldCBwcm9ncmVzcyA9XG4gKiAgICAgICAgICAgICBtYXRoZi5nZXRFbGVtZW50U2Nyb2xsZWRQZXJjZW50KHRoaXMuZWxlbWVudCwgMCwgaGVpZ2h0T2Zmc2V0KTtcbiAqXG4gKiBgYGBcbiAqXG4gKiBQcm92aWRlZCB0aGUgZWxlbWVudCBpcyBsYXJnZXIgdGhhbiB0aGUgdmlld3BvcnQgaGVpZ2h0LFxuICogdGhpcyB3aWxsIHJldHVybiAwJSB3aGVuIHRoZSBlbGVtZW50IGlzIGFib3ZlIHRoZSBzY3JlZW4sXG4gKiBpdCBpbmNyZWFzZXMgaW4gdmFsdWUgYXMgdGhlIHVzZXIgc2Nyb2xscyB0aHJvdWdoIHRoZSBlbGVtZW50IGFuZFxuICogZmluYWxseSB3aGVuIHRoZSBCT1RUT00gb2YgdGhlIGVsZW1lbnQganVzdCBwYXNzZXMgdGhlIGJvdHRvbSBvZiB0aGUgc2NyZWVuXG4gKiBpdCByZXR1cm5zIDEuXG4gKlxuICogVGhpcyBtZXRob2QgYXNzdW1lcyB0aGF0IHRoZSB0cmFja2VkIGVsZW1lbnQgaXMgYXRsZWFzdCBtb3JlIHRoYW4gMTAwdmguXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgcm9vdCBlbGVtZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0T2Zmc2V0IEEgcG9zaXRpdmUgdmFsdWUgKHBpeGVsKSB0byBvZmZzZXQgdGhlIHRvcCBwb3NpdGlvblxuICogICAgIG9mIHRoZSBlbGVtZW50LlxuICogICAgIFRoZSBzdGFydCBvZmZzZXQgdmFsdWUgc2hvdWxkIG5ldmVyIGJlIG5lZ2F0aXZlIGFzIHRlY2huaWNhbGx5LCBvZmZzZXRpbmdcbiAqICAgICB0byBiZWZvcmUgdGhlIGVsZW1lbnQgY29tZXMgaW50byB2aWV3IGRvZXNuJ3QgaGF2ZSBhbiBlZmZlY3QgYW5kIHdpbGxcbiAqICAgICBvbmx5IGNvbXBsaWNhdGUgdGhpbmdzIGZvciB5b3UuXG4gKiAgICAgQ2hhbmdpbmcgdGhpcyB2YWx1ZSB3aWxsIGFmZmVjdCB0aGUgcG9pdG4gYXQgd2hpY2ggeW91ciBwcm9ncmVzcyBoaXRzXG4gKiAgICAgMCAoc3RhcnRzKS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHRPZmZzZXQgQSB2YWx1ZSAocGl4ZWwpIHRvIGFkZCB0byB0aGUgdG90YWwgaGVpZ2h0IG9mXG4gKiAgICAgdGhlIGVsZW1lbnQuICBDYW4gYmUgcG9zaXRpdmUgb3IgbmVnYXRpdmUgdmFsdWVzLiAgVGhpbmsgb2YgdGhpcyxcbiAqICAgICBzaG9ydGVuaW5nIG9yIGdyb3dpbmcgeW91ciBlbGVtZW50IHZpcnVhbGx5LiAgQ2hhbmdpbmcgdGhpcyB2YWx1ZVxuICogICAgIHdpbGwgYWZmZWN0IHRoZSBwb2ludCBhdCB3aGljaCB5b3VyIHByb2dyZXNzIGhpdHMgMSAoZW5kcykuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IE9wdGlvbmFsbHkgcmVtb3ZlIHBlcmNlbnQgY2xhbXBpbmcuICBUaGlzIG1lYW5zIGl0IGNhbiByZXR1cm5cbiAqICAgICB2YWx1ZXMgb3V0c2lkZSAwLTEuXG4gKiBAcGFyYW0ge251bWJlcn0gT3B0aW9uYWxseSBwYXNzIHRoZSB3aW5kb3cuaW5uZXJIZWlnaHQgdmFsdWUuICBUaGlzIGlzXG4gKiAgICB1c2VmdWwgZm9yIGNhc2VzIGluIHdoaWNoIHlvdSBoYXZlIGNhY2hlZCB0aGUgd2luZG93LmlubmVySGVpZ2h0IHZhbHVlLlxuICogICAgT25lIHVzZWNhc2UgZm9yIHRoaXMgaXMgb24gbW9iaWxlLCB0aGUgd2luZG93LmlubmVySGVpZ2h0IHZhbHVlIGNhbiBjaGFuZ2VcbiAqICAgIGFzIHRoZSB1c2VyIHNjcm9sbHMgKHNpbmNlIHRoZSB1cmwgYmFyIGFwcGVhcnMgYW5kIGRpc2FwcGVhcnMpLiBUbyBhdm9pZFxuICogICAganVtcHMgaW4gdGhlIHJldHVybiBwcm9ncmVzcyBwZXJjZW50LCB5b3Ugd2FudCB0byBjYWNoZSB0aGVcbiAqICAgIHdpbmRvdy5pbm5lckhlaWdodCB2YWx1ZSBhbmQgcGFzcyBpdCBoZXJlLlxuICogQHJldHVybiB7bnVtYmVyfSBwZXJjZW50IFRoZSBhbW91bnQgaW4gcGVyY2VudGFnZSB0aGF0IHRoZSB1c2VyIGhhcyBzY3JvbGxlZFxuICogICAgIGluIHRoZSBlbGVtZW50LlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQoZWxlbWVudCwgc3RhcnRPZmZzZXQgPSAwLCBoZWlnaHRPZmZzZXQgPSAwLCBub0NsYW1wID0gZmFsc2UsIGlubmVySGVpZ2h0ID0gMCkge1xuICAgIGNvbnN0IGJveCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHdoO1xuICAgIGlmIChpbm5lckhlaWdodCkge1xuICAgICAgICB3aCA9IGlubmVySGVpZ2h0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgd2ggPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgfVxuICAgIC8vIFdlIG5lZWQgdG8gY2FsY3VsYXRlIHRoaXMgc28gdGhhdCB3ZSBzdGFydCB0aGUgMCUgd2hlbiB0aGUgZWxlbWVudCBjb21lc1xuICAgIC8vIGluICh0aGUgdG9wIG9mIHRoZSBlbGVtZW50KS4gIEJ1dCB0aGUgMTAwJSBpcyBtYXJrZWQgd2hlbiB0aGUgQk9UVE9NXG4gICAgLy8gb2YgdGhlIGVsZW1lbnQgcGFzc2VzIHRoZSBib3R0b20gb2YgdGhlIHNjcmVlbi5cbiAgICBjb25zdCBjdXJyZW50ID0gd2ggLSAoYm94LnRvcCArIHN0YXJ0T2Zmc2V0KTtcbiAgICBjb25zdCBwZXJjZW50ID0gY3VycmVudCAvIChib3guaGVpZ2h0IC0gc3RhcnRPZmZzZXQgKyBoZWlnaHRPZmZzZXQpO1xuICAgIHJldHVybiBub0NsYW1wID8gcGVyY2VudCA6IG1hdGhmLmNsYW1wQXNQZXJjZW50KHBlcmNlbnQpO1xufVxuLyoqXG4gKiBHaXZlbiBhIHJvb3RFbGVtZW50IGFuZCB0YXJnZXRFbGVtZW50LCByZXR1cm5zIHRoZSBwcm9ncmVzcyB2YWx1ZSBvZiB0aGVcbiAqIHRhcmdldEVsZW1lbnQuXG4gKlxuICogVGhlIGJhc2VMaW5lIGlzIGEgbnVtYmVyIHRoYXQgaXMgZnJvbSAwIHRvIDEuICAwIGlzIHRoZSB0b3Agb2YgdGhlIGVsZW1lbnQsXG4gKiAwLjUgd291bGQgYmUgdGhlIG1pZGRsZSBhbmQgMSB3b3VsZCBiZSB0aGUgYm90dG9tIG9mIHRoZSBlbGVtZW50LlxuICpcbiAqIEBzZWUgY3NzUGFyYWxsYXhlci5nZXRFbGVtZW50UHJvZ3Jlc3NQb2ludCBmb3IgYW4gaW4gZGV0YWlsIHVzZWNhc2Ugb2YgdGhpc1xuICogbWV0aG9kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudFByb2dyZXNzUG9pbnQocm9vdEVsZW1lbnQsIHRhcmdldEVsZW1lbnQsIGJhc2VsaW5lID0gMCwgc3RhcnRPZmZzZXQgPSAwLCBoZWlnaHRPZmZzZXQgPSAwLCBub0NsYW1wID0gZmFsc2UpIHtcbiAgICBjb25zdCB5ID0gTWF0aC5hYnMocm9vdEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC1cbiAgICAgICAgKHRhcmdldEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICtcbiAgICAgICAgICAgIHRhcmdldEVsZW1lbnQub2Zmc2V0SGVpZ2h0ICogYmFzZWxpbmUpKSAtIHN0YXJ0T2Zmc2V0O1xuICAgIGNvbnN0IHRvdGFsU2Nyb2xsRGlzdGFuY2UgPSBNYXRoLmFicyhnZXRTY3JvbGxZQXRQZXJjZW50KHJvb3RFbGVtZW50LCBzdGFydE9mZnNldCwgaGVpZ2h0T2Zmc2V0LCAwLCB0cnVlKSAtXG4gICAgICAgIGdldFNjcm9sbFlBdFBlcmNlbnQocm9vdEVsZW1lbnQsIHN0YXJ0T2Zmc2V0LCBoZWlnaHRPZmZzZXQsIDEsIHRydWUpKTtcbiAgICBjb25zdCBwZXJjZW50ID0geSAvIHRvdGFsU2Nyb2xsRGlzdGFuY2U7XG4gICAgcmV0dXJuIG5vQ2xhbXAgPyBwZXJjZW50IDogbWF0aGYuY2xhbXBBc1BlcmNlbnQocGVyY2VudCk7XG59XG4vKipcbiAqIEludmVyc2Ugb2YgZ2V0RWxlbWVudFNjcm9sbGVkUGVyY2VudC5cbiAqIEdpdmVuIGFuIGVsZW1lbnQgb24gdGhlIHBhZ2UsIGZpbmRzIHRoZSBzY3JvbGxZIHZhbHVlIGluIG9yZGVyXG4gKiB0byBzY3JvbGwgaW50byB0aGF0IGVsZW1lbnQgYnkgdGhlIHByb3ZpZGVkIHBlcmNlbnQuXG4gKlxuICogQHBhcmFtIGVsZW1lbnRcbiAqIEBwYXJhbSBzdGFydE9mZnNldFxuICogQHBhcmFtIGhlaWdodE9mZnNldFxuICogQHBhcmFtIHBlcmNlbnQgQSB2YWx1ZSBiZXR3ZWVuIDAtMVxuICpcbiAqIGBgYHRzXG4gKlxuICogLy8gU2Nyb2xsIGhhbGZ3YXkgaW50byB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAqIGNvbnN0IHNjcm9sbFkgPSBtYXRoZi5nZXRTY3JvbGxZQXRQZXJjZW50KGVsZW1lbnQsIDAsIDAsIDAuNSk7XG4gKiB3aW5kb3cuc2Nyb2xsVG8oMCwgc2Nyb2xsWSk7XG4gKlxuICogLy8gU2Nyb2xsIDAuMiBwZXJjZW50IGludG8gdGhlIGdpdmVuIGVsZW1lbnQuXG4gKiBjb25zdCBzY3JvbGxZID0gbWF0aGYuZ2V0U2Nyb2xsWUF0UGVyY2VudChlbGVtZW50LCAwLCAwLCAwLjIpO1xuICogd2luZG93LnNjcm9sbFRvKDAsIHNjcm9sbFkpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY3JvbGxZQXRQZXJjZW50KGVsZW1lbnQsIHN0YXJ0T2Zmc2V0ID0gMCwgaGVpZ2h0T2Zmc2V0ID0gMCwgcGVyY2VudCwgd2l0aFRyYW5zZm9ybSA9IHRydWUpIHtcbiAgICBjb25zdCB3aCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBjb25zdCB0b3AgPSB3aXRoVHJhbnNmb3JtXG4gICAgICAgID8gZ2V0U2Nyb2xsVG9wKGVsZW1lbnQpXG4gICAgICAgIDogZ2V0U2Nyb2xsVG9wV2l0aG91dFRyYW5zZm9ybXMoZWxlbWVudCk7XG4gICAgY29uc3Qgc3RhcnQgPSB0b3AgLSB3aCArIHN0YXJ0T2Zmc2V0O1xuICAgIGNvbnN0IGVuZCA9IHRvcCAtIHdoICsgZWxlbWVudC5vZmZzZXRIZWlnaHQgKyBoZWlnaHRPZmZzZXQ7XG4gICAgcmV0dXJuIG1hdGhmLmxlcnAoc3RhcnQsIGVuZCwgcGVyY2VudCk7XG59XG4vKipcbiAqIFNldHMgYSBjc3MgdmFyaWFibGUgdG8gYW4gZWxlbWVudC5cbiAqXG4gKiBgYGB0c1xuICogICBkb20uc2V0Q3NzVmFyaWFibGUoXG4gKiAgICAgICBteUVsZW1lbnQsICctLWNoYXB0ZXItaGVpZ2h0JywgJzEwMHB4Jyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBzZXQgdGhlIGNzcyB2YXJpYWJsZS5cbiAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBjc3MgdmFyaWFibGUuICBTaG91bGQgc3RhcnQgd2l0aCAtLS4gIEV4YW1wZTogLS1oZWlnaHRcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q3NzVmFyaWFibGUoZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbmVlZCBzcGVjaWZpY3kgYSB2YWxpZCBlbGVtZW50IHRvIGFwcGx5IGEgY3NzIHZhcmlhYmxlJyk7XG4gICAgfVxuICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgU3RyaW5nKHZhbHVlKSk7XG59XG4vKipcbiAqIEJhdGNoIHVwZGF0ZSBjc3MgdmFyaWFibGVzIG9uIGFuIGVsZW1lbnQuICBUaGlzIHVwZGF0ZXMgc3R5bGUgaW4gYVxuICogZGVzdHJ1Y3RpdmUgbWFubmVyIGFuZCB3aWxsIG92ZXJyaWRlIGFueSBvdGhlciBzdHlsZSBlbGVtZW50cy5cbiAqXG4gKiBgYGB0c1xuICogZG9tLmFkZFZhcmlhYmxlcyhlbGVtZW50LCB7ICctLWhlaWdodCc6IFwiMjAwcHhcIiwgJy0tbXljc3N2YXJpYWJsZSc6ICcyMHB4J30pO1xuICogYGBgXG4gKiBAcGFyYW0gZWxlbWVudFxuICogQHBhcmFtIHN0eWxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRDc3NWYXJpYWJsZXMoZWxlbWVudCwgdmFyaWFibGVzKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdmFyaWFibGVzKSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoa2V5LCBTdHJpbmcodmFyaWFibGVzW2tleV0pKTtcbiAgICB9XG59XG4vKipcbiAqIEdpdmVuIGEgc2V0IG9mIHN0eWxlcywgYWRkIGl0IHRvIGFuIGVsZW1lbnQuXG4gKlxuICogYGBgdHNcbiAqIGRvbS5hZGRTdHlsZXMoZWxlbWVudCwgeyBsZWZ0OiBcIjIwMHB4XCIsICctLW15Y3NzdmFyaWFibGUnOiAnMjBweCd9KTtcbiAqIGBgYFxuICogQHBhcmFtIGVsZW1lbnRcbiAqIEBwYXJhbSBzdHlsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkU3R5bGVzKGVsZW1lbnQsIHN0eWxlcykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHN0eWxlcykge1xuICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJy0tJykpIHtcbiAgICAgICAgICAgIHNldENzc1ZhcmlhYmxlKGVsZW1lbnQsIGtleSwgc3R5bGVzW2tleV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24oZWxlbWVudC5zdHlsZSwgc3R5bGVzKTtcbn1cbi8qKlxuICogVGVzdHMgd2hldGhlciBhIGdpdmVuIGVsZW1lbnQgaXMgYSBkZXNjZW5kYW50IG9mIGFub3RoZXIgZWxlbWVuZXQuXG4gKlxuICogRXhhbXBsZXM6XG4gKiBgYGB0c1xuICogIHZhciBpc0NoaWxkID0gZG9tLnRlc3REZXNjZW5kYW50KFxuICogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV0dG9uJyksXG4gKiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcnRpY2xlJykpO1xuICpcbiAqIC8vIFdoZXRoZXIgdGhlIGFjdGl2ZSBmb2N1c2VkIGVsZW1lbnQgaXMgdW5kZXIgdGhlIGFydGljbGUgY29udGFpbmVyLlxuICogIHZhciBpc0ZvY3VzZWQgPSBkb20udGVzdERlc2NlbmRhbnQoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCxcbiAqICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFydGljbGUnKSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZWxlbWVudCBUaGUgY2hpbGQgZWxlbWVudFxuICogQHBhcmFtIHBhcmVudEVsZW1lbnQgVGhlIHBvc3NpYmxlIHBhcmVudCBlbGVtZW50XG4gKiBAcmV0dXJuIFdoZXRoZXIgZWxlbWVudCBpcyBhIGRlc2NlbmRhbnQgb2YgdGhlIHByb3ZpZGVkIHBhcmVudCBlbGVtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGVzdERlc2NlbmRhbnQoZWxlbWVudCwgcGFyZW50RWxlbWVudCkge1xuICAgIGxldCBjdXJyZW50Tm9kZSA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICB3aGlsZSAoY3VycmVudE5vZGUpIHtcbiAgICAgICAgaWYgKGN1cnJlbnROb2RlID09PSBwYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogVGVzdHMgd2hldGhlciBhIGdpdmVuIHZpZGVvIGVsZW1lbnQgaXMgcGxheWluZy5cbiAqIEBwYXJhbSB2aWRlb0VsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRlc3RWaWRlb0lzUGxheWluZyh2aWRlbykge1xuICAgIHJldHVybiAhdmlkZW8ucGF1c2VkICYmICF2aWRlby5lbmRlZCAmJiB2aWRlby5yZWFkeVN0YXRlID4gMjtcbn1cbi8qKlxuICogUmVzZXRzIGFsbCB2aWRlb3MgaW5zaWRlIG9mIGEgZ2l2ZW4gZWxlbWVudC5cbiAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHNlYXJjaCB2aWRlb3MgaW4gZm9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRBbGxWaWRlb3NJbkVsZW1lbnQoZWxlbWVudCkge1xuICAgIGNvbnN0IHZpZGVvcyA9IEFycmF5LmZyb20oZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCd2aWRlbycpKTtcbiAgICB2aWRlb3MuZm9yRWFjaCh2aWRlbyA9PiB7XG4gICAgICAgIHZpZGVvLmN1cnJlbnRUaW1lID0gMDtcbiAgICB9KTtcbn1cbi8qKlxuICogUGF1c2VzIGFsbCB2aWRlb3MgaW5zaWRlIG9mIGEgZ2l2ZW4gZWxlbWVudC5cbiAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHNlYXJjaCB2aWRlb3MgaW4gZm9yLlxuICogQHBhcmFtIHJlc2V0IFdoZXRoZXIgdG8gcGF1c2UgYW5kIHJlc2V0IHRoZSB2aWRlbyB0byAwIHNlY29uZHMgKHN0YXJ0KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhdXNlQWxsVmlkZW9zSW5FbGVtZW50KGVsZW1lbnQsIHJlc2V0ID0gZmFsc2UpIHtcbiAgICBjb25zdCB2aWRlb3MgPSBBcnJheS5mcm9tKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgndmlkZW8nKSk7XG4gICAgdmlkZW9zLmZvckVhY2godmlkZW8gPT4ge1xuICAgICAgICBpZiAocmVzZXQpIHtcbiAgICAgICAgICAgIHZpZGVvLmN1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2aWRlby5wYXVzZSgpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBQbGF5cyBhbGwgdmlkZW9zIGluc2lkZSBvZiBhIGdpdmVuIGVsZW1lbnQuXG4gKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBzZWFyY2ggdmlkZW9zIGluIGZvci5cbiAqIEBwYXJhbSByZXNldCBXaGV0aGVyIHRvIHN0YXJ0IHBsYXlpbmcgZnJvbSBjdXJyZW50VGltZSAwLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGxheUFsbFZpZGVvc0luRWxlbWVudChlbGVtZW50LCByZXNldCA9IGZhbHNlKSB7XG4gICAgY29uc3QgdmlkZW9zID0gQXJyYXkuZnJvbShlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3ZpZGVvJykpO1xuICAgIHZpZGVvcy5mb3JFYWNoKHZpZGVvID0+IHtcbiAgICAgICAgaWYgKHJlc2V0KSB7XG4gICAgICAgICAgICB2aWRlby5jdXJyZW50VGltZSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0ZXN0VmlkZW9Jc1BsYXlpbmcodmlkZW8pKSB7XG4gICAgICAgICAgICBjb25zdCBwbGF5UHJvbWlzZSA9IHZpZGVvLnBsYXkoKTtcbiAgICAgICAgICAgIGlmIChwbGF5UHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGxheVByb21pc2UudGhlbigoKSA9PiB7IH0pLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogQWxsb3dzIHlvdSB0byBtYWtlIHN1cmUgdGhhdCBhbGwgdmlkZW9zIGFyZSBsb2FkZWQgKHJlYWR5U3RhdGUgNCkgaW4gYVxuICogZ2l2ZW4gZWxlbWVudCBiZWZvcmUgZXhlY3V0aW5nIGNhbGxiYWNrLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCBleGVjdXRlcyBwb2xsaW5nIGluIHRoZSBiYWNrZ3JvdW5kXG4gKiB0byBjaGVjayBmb3IgdmlkZW8gc3RhdGUgc28gdXNlIGNhcmVmdWxseS4gIERlZmF1bHRzIHRvIHRpbWVvdXQgYWZ0ZXJcbiAqIDEwMDAwbXNcbiAqXG4gKiBgYGB0c1xuICogLy8gV2FpdCBmb3IgYWxsIHZpZGVvcyB0byBiZSBsb2FkZWQuXG4gKiBkb20ud2hlblZpZGVvc0xvYWRlZEluRWxlbWVudChlbGVtZW50KS50aGVuKCgpPT4ge1xuICogICAvLyBQbGF5IGFsbCB2aWRlb3MgZm9yIGV4YW1wbGUuXG4gKiAgIGRvbS5wbGF5QWxsVmlkZW9zSW5FbGVtZW50KGVsZW1lbnQpO1xuICogfSlcbiAqXG4gKiBgYGBcbiAqIEBwYXJhbSBlbGVtZW50XG4gKiBAcGFyYW0gdGltZW91dCBUaGUgYW1vdW50IG9mIHRpbWUgaW4gd2hpY2ggdG8gZ2l2ZSB1cCBwb2xsaW5nLlxuICogQHJldHVybiBQcm9taXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aGVuVmlkZW9zTG9hZGVkSW5FbGVtZW50KGVsZW1lbnQsIHRpbWVvdXQgPSAxMDAwMCkge1xuICAgIGNvbnN0IHZpZGVvcyA9IEFycmF5LmZyb20oZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCd2aWRlbycpKTtcbiAgICByZXR1cm4gd2hlblZpZGVvc0xvYWRlZCh2aWRlb3MsIHRpbWVvdXQpO1xufVxuLyoqXG4gKiBBbGxvd3MgeW91IHRvIG1ha2Ugc3VyZSB0aGF0IGFsbCB2aWRlb3MgYXJlIGxvYWRlZCAocmVhZHlTdGF0ZSA0KVxuICogYmVmb3JlIGV4ZWN1dGluZyBjYWxsYmFjay5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyBtZXRob2QgZXhlY3V0ZXMgcG9sbGluZyBpbiB0aGUgYmFja2dyb3VuZFxuICogdG8gY2hlY2sgZm9yIHZpZGVvIHN0YXRlIHNvIHVzZSBjYXJlZnVsbHkuICBEZWZhdWx0cyB0byB0aW1lb3V0IGFmdGVyXG4gKiAxMDAwMG1zXG4gKlxuICogYGBgdHNcbiAqIC8vIFdhaXQgZm9yIGFsbCB2aWRlb3MgdG8gYmUgbG9hZGVkLlxuICogY29uc3QgdmlkZW9zID0gW3ZpZGVvRWxlbWVudDEsIHZpZGVvRWxlbWVudDJdO1xuICogZG9tLndoZW5WaWRlb3NMb2FkZWQodmlkZW9zKS50aGVuKCgpPT4ge1xuICogICAvL1xuICogfSlcbiAqXG4gKiBgYGBcbiAqIEBwYXJhbSBlbGVtZW50XG4gKiBAcGFyYW0gdGltZW91dCBUaGUgYW1vdW50IG9mIHRpbWUgaW4gd2hpY2ggdG8gZ2l2ZSB1cCBwb2xsaW5nLlxuICogQHJldHVybiBQcm9taXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aGVuVmlkZW9zTG9hZGVkKHZpZGVvcywgdGltZW91dCA9IDEwMDAwXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgIHZpZGVvcy5mb3JFYWNoKHZpZGVvID0+IHtcbiAgICAgICAgY29uc3QgZGVmZXIgPSBuZXcgRGVmZXIoKTtcbiAgICAgICAgcHJvbWlzZXMucHVzaChkZWZlci5nZXRQcm9taXNlKCkpO1xuICAgICAgICBmdW5jXG4gICAgICAgICAgICAud2FpdFVudGlsKCgpID0+IHZpZGVvLnJlYWR5U3RhdGUgPT09IDQsIHRpbWVvdXQsIDEwKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZGVmZXIucmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufVxuLyoqXG4gKiBGaXJlcyBhIGV2ZW50IG9uIHRoZSBlbGVtZW50LlxuICpcbiAqIGBgYHRzXG4gKiBkb20uZXZlbnQoZG9jdW1lbnQsICdteUN1c3RvbUV2ZW50JywgeyBtZXNzYWdlOiBoZWxsb30pO1xuICpcbiAqIC8vIERhdGEgZ2V0cyBwYXNzZWQgb24gdGhlIGV2ZW50LmRldGFpbC5cbiAqIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ215Q3VzdG9tRXZlbnQnLCAoZSk9PiB7XG4gKiAgIGNvbnNvbGUubG9nKGUuZGV0YWlsLm1lc3NhZ2UpOyAvLyBIZWxsb1xuICogfSwgZmFsc2UpXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZWxlbWVudFxuICogQHBhcmFtIG5hbWVcbiAqIEBwYXJhbSBkYXRhXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gZXZlbnQoZWxlbWVudCwgbmFtZSwgZGF0YSkge1xuICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHsgZGV0YWlsOiBkYXRhIH0pO1xuICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gaHRtbCBlbGVtZW50IGZyb20gYSBzdHJpbmcuXG4gKiBgYGBcbiAqIGRvbS5jcmVhdGVFbGVtZW50RnJvbVN0cmluZyhcIjxkaXY+SG9ob2hvaG88L2Rpdj5cIik7XG4gKiBgYGBcbiAqIEBwYXJhbSBodG1sU3RyaW5nXG4gKiBAcGFyYW0gZnJhZ01ldGhvZCBVc2VzIGEgbWV0aG9kIHRvIGNyZWF0ZSBkb20gZnJvbSBzdHJpbmcgV0lUSE9VVCB1c2luZyBpbm5lckhUTUxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRGcm9tU3RyaW5nKGh0bWxTdHJpbmcsIGZyYWdNZXRob2QgPSBmYWxzZSkge1xuICAgIGlmIChmcmFnTWV0aG9kKSB7XG4gICAgICAgIGNvbnN0IGhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb25zdCBmcmFnID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoaHRtbFN0cmluZyk7XG4gICAgICAgIGhvbGRlci5hcHBlbmRDaGlsZChmcmFnKTtcbiAgICAgICAgcmV0dXJuIGhvbGRlci5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXYuaW5uZXJIVE1MID0gaHRtbFN0cmluZy50cmltKCk7XG4gICAgICAgIHJldHVybiBkaXYuZmlyc3RDaGlsZDtcbiAgICB9XG59XG4vKipcbiAqIFJlbW92ZXMgYW4gZWxlbWVudCBmcm9tIHRoZSBkb20uXG4gKiBAcGFyYW0gZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudChlbGVtZW50KSB7XG4gICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xufVxuLyoqXG4gKiBSZW1vdmVzIGFsbCBjaGlsZHJlbiBvZiBhIGdpdmVuIGVsZW1lbnQuICBUaGlzIGNhbiBiZSBwcmVmZXJlYWJsZSBvdmVyXG4gKiBgZWxlbWVudC5pbm5lckhUTUwgPSAnJ2Agc2luY2UgdGhhdCBkb2VzIG5vdCByZW1vdmUgbGlzdGVuZXJzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQWxsQ2hpbGRyZW4oZWxlbWVudCkge1xuICAgIHdoaWxlIChlbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbn1cbi8qKlxuICogRXhlY3V0ZXMgYSBjYWxsYmFjayBhZnRlciB3aW5kb3cgaGFzIGxvYWRlZC5cbiAqIFRoaXMgaXNuJ3QgYSBzaW1wbGUgd2luZG93IGxvYWQgZXZlbnQgbGlzdGVuaW5nIGJ1dFxuICogZmlyc3QgbWFrZXMgYSBjaGVjayBpZiB0aGUgd2luZG93IGhhcyBhbHJlYWR5IGxvYWRlZC5cbiAqIElmIGl0IGhhcywgdGhlIGNhbGxiYWNrIHdpbGwgaW1tZWRpYXRlbHkgZ2V0IGV4ZWN1dGVkLFxuICogb3RoZXJ3aXNlLCBpdCB3aWxsIHdhaXQgdW50aWwgdGhlIGxvYWQgZXZlbnQgY29tcGxldGVzLlxuICogQHBhcmFtIGNhbGxiYWNrXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydW5BZnRlcldpbmRvd0xvYWQoY2FsbGJhY2spIHtcbiAgICAvLyBNYWtlIHN1cmUgd2UgYXJlIGF0IHRoZSBib3R0b20gb2YgdGhlIGV2ZW50XG4gICAgLy8gc3RhY2sgKGhlbmNlIHNldFRpbWVvdXQpIC0gdGhpcyBhdm9pZHNcbiAgICAvLyBlZGdlIGNhc2VzIGluIHdoaWNoIHdpbmRvd0xvYWRlZCBpcyBtaXNldmFsdWF0ZWQuXG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoaXMud2luZG93TG9hZGVkKCkpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIEV4ZWN1dGVzIGEgY2FsbGJhY2sgYXMgc29vbiBhcyB0aGUgdXNlciBpcyBub3QgYXQgdGhlIHRvcCBvZiB0aGUgc2NyZWVuLlxuICpcbiAqIElmIHRoZSB1c2VyIGlzIGF0IHRoZSB0b3Agb2YgdGhlIHNjcmVlbiB3aGVuIHRoaXMgaXMgY2FsbGVkLCBpdCB3aWxsXG4gKiB3YWl0IHVudGlsIHRoZSB1c2VyIGhhcyBzY3JvbGxlZCBkb3duIHRvIGV4ZWN1dGUuICBJZiB0aGUgdXNlciBpcyBhbHJlYWR5XG4gKiBub3QgYXQgdGhlIHRvcCBvZiB0aGUgc2NyZWVuLCB0aGUgY2FsbGJhY2sgd2lsbCBpbW1lZGlhdGVseSBleGVjdXRlLlxuICpcbiAqIE5vdGUgdGhhdCBpZiB5b3VyIGRvY3VtZW50IGlzIGxlc3MgdGhhbiAxMDB2aCwgeW91ciBjYWxsYmFjayB3aWxsXG4gKiBuZXZlciBnZXQgZXhlY3V0ZWQgYmVjYXVzZSB0aGUgdXNlciBjYW4ndCBzY3JvbGwgYW5kIHdpbGwgYWx3YXlzIGJlIGF0XG4gKiB0aGUgdG9wIG9mIHRoZSBzY3JlZW4uXG4gKlxuICogQHBhcmFtIGNhbGxiYWNrXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydW5BZnRlck5vdFRvcE9mU2NyZWVuKGNhbGxiYWNrKSB7XG4gICAgaWYgKHdpbmRvdy5zY3JvbGxZICE9PSAwKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSwgeyBvbmNlOiB0cnVlLCBwYXNzaXZlOiB0cnVlIH0pO1xuICAgIH1cbn1cbi8qKlxuICogR2V0cyB0aGUgY3VycmVudCBicm93c2VyIGFzcGVjdCByYXRpby5cbiAqIDIgLS0+IHdpZGUgcmVjdGFuZ2xlXG4gKiAxIC0tPiBzcXVyZVxuICogMC41IC0tPiB0YWxsIHJlY3RhbmdsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNwZWN0KCkge1xuICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcbn1cbi8qKlxuICogR2V0cyB0aGUgY29tcHV0ZWQgc3R5bGUgb2YgYSBnaXZlbiBlbGVtZW50IC5cbiAqIEBwYXJhbSBlbGVtZW50XG4gKiBAcmV0dXJuIENTU1N0eWxlRGVjbGFydGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSB7XG4gICAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIGltYWdlIGluIG1lbW9yeSB0aGF0IGlzIGxhdGVyIGRlbGV0YWJsZSBzbyBpdCBjYW5cbiAqIGJlIHJlbGVhc2VkIGZyb20gbmF0aXZlIG1lbW9yeSBBTkQgaW1hZ2UgY2FjaGUuXG4gKlxuICogVGhpcyBtZXRob2QgY2FuIGJlIHBhaXJlZCB3aXRoIGRlbGV0ZUltYWdlLlxuICpcbiAqIC8vIENvbnNpZGVyIHRoZSBmb2xsb3dpbmc6XG4gKiBuZXcgSW1hZ2UoKTtcbiAqIGltYWdlLnNyYyA9ICdob2hvaG8uanBnJztcbiAqIGltYWdlLmRlY29kZSgpLnRoZW4oKCk9PiB7XG4gKiAgIC8vIERvIHNvbWV0aGluZy5cbiAqICAgbXlDYW52YXMuZHJhd0ltYWdlKGltYWdlKTtcbiAqICAgaW1hZ2UgPSBudWxsO1xuICogfSlcbiAqXG4gKiBUaGlzIGRvZXMgYXBwZWFyIHRvIGdldCBHQ2VkIGFuZCByZW1vdmVkIGZyb20gaW1hZ2UgY2FjaGUgYnV0IGl0IGlzXG4gKiBuZXZlciBmbHVzaGVkIGZyb20gbmF0aXZlIG1lbW9yeS5cbiAqXG4gKiBZb3UgY2FuIG9ic2VydmUgdGhpcyBieSBnb2luZyB0byBDaHJvbWUgLT4gVGFzayBtYW5hZ2VyLiAgTWFrZSBzdXJlXG4gKiB5b3UgaGF2ZSB0aGUgTWVtb3J5IGFuZCBhbHNvIHRoZSBJbWFnZSBDYWNoZSBjb2x1bW5zLlxuICpcbiAqIFRoZWVmb3JlLCB1c2FnZSBvZiBpbWFnZS5kZWNvZGUoKSBmb3Igbm93LCBjYW4gbGVhZCB0byBtZW1vcnkgbGVha3MgdGhhdFxuICogY2FuJ3QgYmUgY3VyZWQgd2l0aCBpbWFnZT1udWxsLlxuICpcbiAqIFRoZSBzYW1lIGlzIG9ic2VydmVkIHdpdGggSW1hZ2VCaXRtYXBzLlxuICpcbiAqIFJlbGF0ZWQuXG4gKiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MzEyNTNcbiAqXG4gKlxuICogVGhlIHNvbHV0aW9uIGlzIHRvIHVzZSBjcmVhdGVPYmplY3RVUkwgYW5kIGxhdGVyIHJldm9rZSB0aGF0XG4gKiBzbyBtZW1vcnkgY2FuIGJlIHJlbGVhc2VkLlxuICpcbiAqIGBgYFxuICogY29uc3QgaW1hZ2VTb3VyY2UgPSAncHVibGljL2ltYWdlL2NhdC5qcGcnO1xuICpcbiAqIC8vIENhY2hlIHRoZSBpbWFnZSBpbiBicm93c2VyIG1lbW9yeS5cbiAqICAgIGRvbS5mZXRjaEFuZE1ha2VJbWFnZShpbWFnZVNvdXJjZSkudGhlbigoaW1hZ2UpPT4ge1xuICpcbiAqICAgICAgIC8vIERvIHNvbWV0aGluZyB3aXRoIGltYWdlLlxuICogICAgICAgbXlDYW52YXMuZHJhd0ltYWdlKGltYWdlKTtcbiAqXG4gKiAgICAgICAvLyBEZWxldGUgZnJvbSBtZW1vcnkuXG4gKiAgICAgICBkb20uZGVsZXRlSW1hZ2UoaW1hZ2UpO1xuICogICAgfSlcbiAqXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZldGNoQW5kTWFrZUltYWdlKHNvdXJjZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgZmV0Y2goc291cmNlKVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJsb2IgPSByZXNwb25zZTtcbiAgICAgICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICAgICAgaW1nLmRlY29kaW5nID0gJ2FzeW5jJztcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShpbWcpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGltZy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8qKlxuICogTWFrZXMgaW1hZ2VzIGZyb20gYSBibG9iIHNvdXJjZS4gIENhbiBiZSBjb3VwbGVkIHdpdGhcbiAqIGRlbGV0ZSBpbWFnZSB0byBxdWlja2x5IHJlbGVhc2UgbWVtb3J5LlxuICogQHBhcmFtIGJsb2JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VJbWFnZUZyb21CbG9iKGJsb2IpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICBpbWcuZGVjb2RpbmcgPSAnYXN5bmMnO1xuICAgICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgaW1nLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICByZXNvbHZlKGltZyk7XG4gICAgICAgIH07XG4gICAgICAgIGltZy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBNYWtlcyBhbiBpbWFnZSBmcm9tIGEgYmxvYiBzb3VyY2UuICBUaGlzIGlzIGFuIGFsdGVybmF0aXZlIHRvXG4gKiBVUkwuY3JlYXRlT2JqZWN0VVJMIGlzIHRvIGNvbnZlcnQgYSBCbG9iIGludG8gYSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcuXG4gKlxuICpcbiAqIFJldHVybiBzb21ldGhpZyBsaWtlOlxuICogPGltZyBzcmM9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsUjBsR09EbGhEQUFNQUtJRkFGNUxBUC96eEFBQUFOeXVBUC9nYVAvLy93QUFBQUFcIj5cbiAqXG4gKiBAcGFyYW0gYmxvYlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZUJhc2U2NEltYWdlRnJvbUJsb2IoYmxvYikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7IC8vIGNvbnZlcnRzIHRoZSBibG9iIHRvIGJhc2U2NCBhbmQgY2FsbHMgb25sb2FkXG4gICAgICAgIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICBpbWcuc3JjID0gcmVhZGVyLnJlc3VsdDtcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShpbWcpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvcHlCYXNlNjRJbWFnZShpbWFnZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgIGltZy5zcmMgPSBpbWFnZS5zcmM7XG4gICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpbWcub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIHJlc29sdmUoaW1nKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbn1cbi8qKlxuICogRGVsZXRlcyBhbiBpbWFnZSBmcm9tIG1lbW9yeS4gIEludmVyc2UgYWN0aW9uIG9mXG4gKiBkb20ubWFrZUJhc2U2NEltYWdlRnJvbUJsb2Igb3IgZG9tLm1ha2VJbWFnZUZyb21CbG9iLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlSW1hZ2UoaW1hZ2UpIHtcbiAgICBpZiAoaW1hZ2UpIHtcbiAgICAgICAgLy8gRGVsZXRlIE9iamVjdFVSTHMgb3IgYmFzZTY0XG4gICAgICAgIGlmIChpbWFnZS5zcmMgJiZcbiAgICAgICAgICAgIChpbWFnZS5zcmMuc3RhcnRzV2l0aCgnYmxvYjonKSB8fCBpbWFnZS5zcmMuc3RhcnRzV2l0aCgnZGF0YTonKSkpIHtcbiAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoaW1hZ2Uuc3JjKTtcbiAgICAgICAgICAgIGltYWdlLnNyYyA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGltYWdlID0gbnVsbDtcbiAgICB9XG59XG4vKipcbiAqIEZsdXNoZXMgYWxsIHZpZGVvIHNvdXJjZXMgaW4gYSBnaXZlbiBlbGVtZW50LiAgVGhpcyBhbGxvdyB0aGUgVlJBTSB0b1xuICogZmx1c2guICBVc2UgdW5mbHVzaFZpZGVvcyB0byBwdXQgaXQgYmFjay5cbiAqXG4gKiBUaGlzIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgdG8gY29tYmluZSB3aXRoIGludmlldy5cbiAqIFdoZXJlIG5vcm1hbGx5LCBpdCB3b3VsZCB0YWtlIENocm9tZSBhIGNvdXBsZSBvZiBzZWNvbmRzXG4gKiB0byBmbHVzaCBtZW1vcnkgb2YgYW4gb3V0dmlldyB2aWRlbywgdGhpcyB3b3VsZCBkbyBpdFxuICogZXhwbGljaXRseSByZWxlYXNlIG1lbW9yeSBtdWNoIHF1aWNrZXIuXG4gKlxuICpcbiAqIEN1cnJlbnQgd2lsbCBvbmx5IHdvcmsgd2l0aCB2aWRlbyB3aXRoIDxzb3VyY2U+IG5vdCB2aWRlbyB3aXRoXG4gKiBzcmMuXG4gKiBgYGBcbiAqICA8dmlkZW8+XG4gKiAgICA8c291cmNlIHNyYz1cInh4eC5tcDRcIj48L3NvdXJjZT5cbiAqICAgIDxzb3VyY2Ugc3JjPVwieHh4LndlYm1cIj48L3NvdXJjZT5cbiAqIDwvdmlkZW8+XG4gKiBgYGBcbiAqXG4gKiBCYXNpY2FsbHksIHRoaXMgd29ya3MgYnkgcmVtb3ZpZyB0aGUgc3JjIGF0dHJpYnV0ZSBmcm9tIGVhY2ggdmlkZW9cbiAqIGFuZCB0aGVuIGZvcmNlIHJlbG9hZGluZyBpdCAtIGZsdXNoaW5nIGl0IGZyb20gbWVtb3J5LlxuICpcbiAqIGBgYHRzXG4gKiAgICBsZXQgZXYgPSBlbGVtZW50VmlzaWJpbGl0eS5pbnZpZXcoXG4gKiAgICAgICBlbCwge3Jvb3RNYXJnaW46ICcxMDBweCAxMDBweCAxMDBweCAxMDBweCd9LCAoKSA9PiB7XG4gKiAgICAgICBpZiAoZXYuc3RhdGUoKS5yZWFkeSkge1xuICogICAgICAgICBpZiAoZXYuc3RhdGUoKS5pbnZpZXcpIHtcbiAqICAgICAgICAgICBkb20udW5mbHVzaFZpZGVvcyhlbCk7XG4gKiAgICAgICAgIH0gZWxzZSB7XG4gKiAgICAgICAgICAgZG9tLmZsdXNoVmlkZW9zKGVsKTtcbiAqICAgICAgICAgfVxuICogICAgICAgfVxuICogICAgIH0pO1xuICpcbiAqIGBgYFxuICpcbiAqXG4gKiBZb3UgbWF5IGFsc28gaGF2ZSBhIGNhc2Ugd2hlcmUgeW91IGFyZSBsYXp5bG9hZGluZyB2aWRlb3MgYXMgc3VjaDpcbiAqXG4gKiBgYGBcbiAqIDx2aWRlbz5cbiAqICAgIDxzb3VyY2UgbGF6eXZpZGVvLXNyYz1cInh4eC5tcDRcIj48L3NvdXJjZT5cbiAqIDwvdmlkZW8+XG4gKiBgYGBcbiAqXG4gKiBJbiB0aGlzIGNhc2UsIHlvdSBjYW4gdXNlIHRoZSBzb3VyY2UgYXR0cmlidXRlIHRvIHNwZWNpZnkgdGhlIGRhdGEtYXR0cml0dWJlXG4gKiB0aGF0IGNvbnRhaW5zIHRoZSBwYXRoIHRvIHRoZSBzb3VyY2UuXG4gKlxuICogYGBgdHNcbiAqICAgICBkb20uZmx1c2hWaWRlb3MoZWwsICdsYXp5dmlkZW8tc3JjJyk7XG4gKiBgYGBcbiAqXG4gKiBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9tZWRpYS5odG1sI2Jlc3QtcHJhY3RpY2VzLWZvci1hdXRob3JzLXVzaW5nLW1lZGlhLWVsZW1lbnRzXG4gKlxuICogQHBhcmFtIGVsIFRoZSBodG1sIGVsZW1lbnQgdG8gc2VhcmNoXG4gKiBAcGFyYW0gc291cmNlQXR0cmlidXRlIEFuIG9wdGlvbmFsIGF0dHJpYnV0ZSB2YWx1ZSB0byBhY3F1aXJlIHRoZVxuICogICB2aWRlbyBzb3VyY2UgZnJvbS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoVmlkZW9zKGVsLCBzb3VyY2VBdHRyaWJ1dGUgPSAnJykge1xuICAgIGNvbnN0IHZpZGVvcyA9IEFycmF5LmZyb20oZWwucXVlcnlTZWxlY3RvckFsbCgndmlkZW8nKSk7XG4gICAgdmlkZW9zLmZvckVhY2godmlkZW8gPT4ge1xuICAgICAgICBjb25zdCBzb3VyY2VzID0gQXJyYXkuZnJvbSh2aWRlby5xdWVyeVNlbGVjdG9yQWxsKCdzb3VyY2UnKSk7XG4gICAgICAgIHNvdXJjZXMuZm9yRWFjaCgoc291cmNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzcmMgPSBzb3VyY2UuZ2V0QXR0cmlidXRlKHNvdXJjZUF0dHJpYnV0ZSkgfHwgc291cmNlLnNyYztcbiAgICAgICAgICAgIHNvdXJjZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmlkZW8tc3JjJywgc3JjKTtcbiAgICAgICAgICAgIHNvdXJjZS5yZW1vdmVBdHRyaWJ1dGUoJ3NyYycpO1xuICAgICAgICAgICAgc291cmNlID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZpZGVvLmxvYWQoKTtcbiAgICB9KTtcbn1cbi8qKlxuICogUHV0cyBiYWNrIHZpZGVvIHNvdXJjZXMgYW5kIHVuZG9lcyB0aGUgZWZmZWN0IG9mIGRvbS5mbHVzaFZpZGVvcy5cbiAqIEBwYXJhbSBlbCBUaGUgcm9vdCBlbGVtZW50LlxuICogQHBhcmFtIG5vUGxheSBXaGV0aGVyIHRvIHN1cHByZXNzIGF1dG9wbGF5aW5nIG9mIHZpZGVvcyB3aGVuIHZpZGVvcyBhcmVcbiAqICAgdW5mbHVzaGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5mbHVzaFZpZGVvcyhlbCwgbm9QbGF5ID0gZmFsc2UpIHtcbiAgICBjb25zdCB2aWRlb3MgPSBBcnJheS5mcm9tKGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ3ZpZGVvJykpO1xuICAgIHZpZGVvcy5mb3JFYWNoKHZpZGVvID0+IHtcbiAgICAgICAgY29uc3Qgc291cmNlcyA9IEFycmF5LmZyb20odmlkZW8ucXVlcnlTZWxlY3RvckFsbCgnc291cmNlJykpO1xuICAgICAgICBzb3VyY2VzLmZvckVhY2goc291cmNlID0+IHtcbiAgICAgICAgICAgIGlmICghc291cmNlLmhhc0F0dHJpYnV0ZSgnZGF0YS12aWRlby1zcmMnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNyYyA9IHNvdXJjZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmlkZW8tc3JjJyk7XG4gICAgICAgICAgICBzb3VyY2Uuc2V0QXR0cmlidXRlKCdzcmMnLCBzcmMpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmlkZW8ubG9hZCgpO1xuICAgIH0pO1xuICAgIGlmICghbm9QbGF5KSB7XG4gICAgICAgIHBsYXlBbGxWaWRlb3NJbkVsZW1lbnQoZWwpO1xuICAgIH1cbn1cbi8qKlxuICogR2V0cyB0aGUgWSBkaXN0YW5jZSBvZiB0aGUgZWxlbWVudCBmcm9tIHRoZSB0b3Agb2YgdGhlIGRvY3VtZW50LlxuICpcbiAqIGBgYHRzXG4gKiAgIGNvbnN0IHRvcCA9IGRvbS5nZXRTY3JvbGxUb3AoZWwpO1xuICogICB3aW5kb3cuc2Nyb2xsKDAsIHRvcCk7XG4gKiBgYGBcbiAqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY3JvbGxUb3AoZWwsIGluY2x1ZGVQYXJlbnQgPSBmYWxzZSkge1xuICAgIC8vIFNhZmUgZ3VhcmQuXG4gICAgaWYgKCFlbCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgaWYgKGluY2x1ZGVQYXJlbnQgJiYgZWwub2Zmc2V0UGFyZW50KSB7XG4gICAgICAgIHJldHVybiAoZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC1cbiAgICAgICAgICAgIGVsLm9mZnNldFBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgK1xuICAgICAgICAgICAgd2luZG93LnNjcm9sbFkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHdpbmRvdy5zY3JvbGxZO1xuICAgIH1cbn1cbi8qKlxuICogR2V0cyB0aGUgWSBkaXN0YW5jZSBvZiB0aGUgZWxlbWVudCBmcm9tIHRoZSB0b3Agb2YgdGhlIGRvY3VtZW50IHdpdGhvdXRcbiAqIHJlZ2FyZCB0byBhbnkgdHJhbnNmb3JtcyBhcHBsaWVkLlxuICpcbiAqIGBgYHRzXG4gKiAgIGNvbnN0IHRvcCA9IGRvbS5nZXRTY3JvbGxUb3BXaXRob3V0VHJhbnNmb3JtcyhlbCk7XG4gKiAgIHdpbmRvdy5zY3JvbGwoMCwgdG9wKTtcbiAqIGBgYFxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcm9sbFRvcFdpdGhvdXRUcmFuc2Zvcm1zKGVsKSB7XG4gICAgbGV0IG9mZnNldFRvcCA9IDA7XG4gICAgZG8ge1xuICAgICAgICBvZmZzZXRUb3AgKz0gZWwub2Zmc2V0VG9wO1xuICAgICAgICBlbCA9IGVsLm9mZnNldFBhcmVudDtcbiAgICB9IHdoaWxlIChlbCk7XG4gICAgcmV0dXJuIG9mZnNldFRvcDtcbn1cbi8qKlxuICogQW4gYXR0ZW1wdCBhdCBvdmVycmlkZSBWTyBmb2N1cy5cbiAqIFJlcXVpcmVzIHRoZSBlbGVtZW50IHRvIGhhdmUgYSB0YWJpbmRleD1cIi0xXCIgYW5kIHRoZW4gZm9jdXNpbmcuXG4gKiBUbyBmdWxseSByZWluc3RhbnRlIHRoZSBvcmlnaW5hbCBzdGF0ZSBwcmlvciB0byBydW5uaW5nIGZvcmNlIGZvY3VzLFxuICogcnVuIHJlc2V0Rm9yY2VGb2N1cygpLlxuICpcbiAqXG4gKiAtLS1cbiAqXG4gKiBkb20uZm9yY2VGb2N1cyhteUVsZW1lbnQpO1xuICpcbiAqIHdpbmRvdy5zZXRUaW1lb3V0KCgpPT4ge1xuICpcbiAqICAgZG9tLmZvcmNlRm9jdXMobXlFbGVtZW50Mik7XG4gKlxuICogfSwgMjAwMClcbiAqXG4gKlxuICpcbiAqIC8vICBTb21lIGdpdmVuIHRpbWUgbGF0ZXIsIHVuZG8gZXZlcnl0aGluZyBpZiBuZWVkZWQuXG4gKiBkb20ucmVzZXRGb3JjZUZvY3VzKCk7XG4gKiAtLS1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcmNlRm9jdXMoZWwpIHtcbiAgICAvLyBDaGVjayBpZiB3ZSBwcmV2aW91c2x5IGZvcmNlZCBmb2N1c2VkIGVsZW1lbnQgaW4gd2hpY2ggY2FzZSxcbiAgICAvLyByZXZlcnQgdGhhdCB0byBpdCdzIHByZXZpb3VzbHkgc3RhdGUuXG4gICAgcmVzZXRGb3JjZUZvY3VzKCk7XG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gZWwuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpO1xuICAgIGlmIChpcy5kZWZpbmVkKGN1cnJlbnRJbmRleCkgJiYgIWlzLm51bGxMaWtlKGN1cnJlbnRJbmRleCkpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdmb3JjZXRhYmluZGV4JywgY3VycmVudEluZGV4KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZm9yY2V0YWJpbmRleCcsICdub25lJyk7XG4gICAgfVxuICAgIGVsLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICBlbC5mb2N1cygpO1xufVxuLyoqXG4gKiBVbmRvcyB0aGUgZWZmZWN0cyBvZiBmb3JjZUZvY3VzIHdoaWNoIG92ZXJyaWRlcyB0aGUgdGFiaW5kZXggb2YgZm9jdXNlZFxuICogZWxlbWVudHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldEZvcmNlRm9jdXMoKSB7XG4gICAgY29uc3QgcHJldmlvdXNseUZvY3VzZWRFbGVtZW50ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZm9yY2V0YWJpbmRleF0nKSk7XG4gICAgcHJldmlvdXNseUZvY3VzZWRFbGVtZW50LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkluZGV4ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2ZvcmNldGFiaW5kZXgnKTtcbiAgICAgICAgaWYgKGlzLmRlZmluZWQodGFiSW5kZXgpICYmICFpcy5udWxsTGlrZSh0YWJJbmRleCkgJiYgdGFiSW5kZXggIT09ICdub25lJykge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgdGFiSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2ZvcmNldGFiaW5kZXgnKTtcbiAgICB9KTtcbn1cbi8qKlxuICogQXBhcnQgZnJvbSAuZm9yY2VGb2N1cywgYW5vdGhlciBhbHRlcm5hdGl2ZSB3b3JrYXJvdW5kIGZvclxuICogaW1wbGVtZW50aW5nIGZvcmNlcyBWTyBmb2N1cy5cbiAqIFRoYW5rIHlvdSB0bzogaHR0cHM6Ly9zaWx2YW50cm94bGVyLmNoLzIwMTYvc2V0dGluZy12b2ljZW92ZXItZm9jdXMtd2l0aC1qYXZhc2NyaXB0L1xuICogQHBhcmFtIGVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JjZVZPRm9jdXMoZWxlbWVudCwgaW50ZXJ2YWwgPSAxMCwgcmVwZXRpdGlvbiA9IDEwKSB7XG4gICAgY29uc3QgZm9jdXNJbnRlcnZhbCA9IGludGVydmFsOyAvLyBtcywgdGltZSBiZXR3ZWVuIGZ1bmN0aW9uIGNhbGxzXG4gICAgY29uc3QgZm9jdXNUb3RhbFJlcGV0aXRpb25zID0gcmVwZXRpdGlvbjsgLy8gbnVtYmVyIG9mIHJlcGV0aXRpb25zXG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICBlbGVtZW50LmJsdXIoKTtcbiAgICBsZXQgZm9jdXNSZXBldGl0aW9ucyA9IDA7XG4gICAgY29uc3QgaW50ID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgICAgICBmb2N1c1JlcGV0aXRpb25zKys7XG4gICAgICAgIGlmIChmb2N1c1JlcGV0aXRpb25zID49IGZvY3VzVG90YWxSZXBldGl0aW9ucykge1xuICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoaW50KTtcbiAgICAgICAgfVxuICAgIH0sIGZvY3VzSW50ZXJ2YWwpO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgbGlzdCBvZiBmb2N1c2FibGUgY2hpbGQgZWxlbWVudHMgZnJvbSBhIHBhcmVudCBlbGVtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rm9jdXNhYmxlRWxlbWVudHMoZWxlbWVudCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uLCBbaHJlZl0sIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9XCItMVwiXSknKSk7XG59XG4vKipcbiAqIEdldHMgYWxsIGZvY3VzYWJsZSBlbGVtZW50cyB3aXRoaW4gYW4gZWxlbWVudCBhbmQgc2V0cyBpdCB0byB0aGUgZ2l2ZW4gdGFiaW5kZXguXG4gKiBUaGlzIG1ldGhvZCBpcyBwYWlyZWQgd2l0aCBcInVuc2V0Rm9jdXNhYmxlRWxlbWVudHNUb1RhYkluZGV4XCIgdG8gdW5kbyB0aGlzXG4gKiBhY3Rpb24uXG4gKlxuICogYGBgXG4gKiAjIFNldCBhbGwgZm9jdXNhYmxlIGVsZW1lbnRzIHRvIC0xIHRhYmluZGV4LlxuICogICBkb20uc2V0Rm9jdXNhYmxlRWxlbWVudHNUb1RhYkluZGV4KHBhcmVudEVsZW1lbnQsIC0xKTtcbiAqXG4gKiAjIExhdGVyIHVuZG8gdGhpcyBlZmZlY3QuICBGb2N1c2FibGUgZWxlbWVudHMgcmV2ZXJ0IHRvIHRoZWlyIG9yaWdpbmFsIHRhYiBpbmRleC5cbiAqICAgZG9tLnVuc2V0Rm9jdXNhYmxlRWxlbWVudHNUb1RhYkluZGV4KHBhcmVudEVsZW1lbnQpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRGb2N1c2FibGVFbGVtZW50c1RvVGFiSW5kZXgoZWxlbWVudCwgdGFiaW5kZXgpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IGdldEZvY3VzYWJsZUVsZW1lbnRzKGVsZW1lbnQpO1xuICAgIGVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJJbmRleCA9IGVsZW1lbnQudGFiSW5kZXg7XG4gICAgICAgIGlmICghZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ29yaWdpbmFsVGFiSW5kZXgnKSkge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ29yaWdpbmFsVGFiSW5kZXgnLCBjdXJyZW50VGFiSW5kZXggKyAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudC50YWJJbmRleCA9IHRhYmluZGV4O1xuICAgIH0pO1xufVxuLyoqXG4gKiBSZXZlcnRzIGFsbCBmb2N1c2FibGUgZWxlbWVudHMgd2l0aGluIGFuIGVsZW1lbnQgdG8gaXRzIG9yaWdpbmFsIHRhYmluZGV4XG4gKiBhZnRlciB0aGUgJ2RvbS5zZXRGb2N1c2FibGVFbGVtZW50c1RvVGFiSW5kZXgoKWAgbWV0aG9kIGhhcyBiZWVuIGV4ZWN1dGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRGb2N1c2FibGVFbGVtZW50c1RvVGFiSW5kZXgoZWxlbWVudCkge1xuICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tvcmlnaW5hbFRhYkluZGV4XScpKTtcbiAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICBjb25zdCBvcmlnaW5hbFRhYkluZGV4ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ29yaWdpbmFsVGFiSW5kZXgnKSB8fCAnJztcbiAgICAgICAgZWxlbWVudC50YWJJbmRleCA9ICtvcmlnaW5hbFRhYkluZGV4O1xuICAgIH0pO1xufVxuLyoqXG4gKiBHZXRzIHRoZSBjdXJyZW50IHN0eWxlcyBvbiBhIGdpdmVuIGVsZW1lbnQuXG4gKlxuICogYGBgXG4gKiB2YXIgc3R5bGUgPSBkb20uZ2V0U3R5bGUoZWwpO1xuICpcbiAqIHN0eWxlLm1hcmdpblRvcDtcbiAqIHN0eWxlLnBhZGRpbmdMZWZ0O1xuICpcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3R5bGUoZWwpIHtcbiAgICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xufVxuLyoqXG4gKiBUZXN0cyB3aGV0aGVyIHRoZSBwcm92aWRlZCBlbGVtZW50IGlzIHNldCB0byBkaXNwbGF5IG5vbmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Rpc3BsYXlOb25lKGVsKSB7XG4gICAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZGlzcGxheTtcbiAgICByZXR1cm4gc3R5bGUgPT09ICdub25lJztcbn1cbi8qKlxuICogVGVzdHMgd2hldGhlciBhIGdpdmVuIGVsZW1lbnQgYW5kIGl0J3MgYW5jZXN0b3JzIGhhdmVcbiAqIGEgZGlzcGxheTpub25lLiAgVGhpcyBpcyB1c2VmdWwgdG8gc2VlIGlmIGEgZ2l2ZW4gZWxlbWVudFxuICogaXMgb24gdGhlIHNjcmVlbiAoYmFzZWQgb24gd2hldGhlciBpZiB0aGUgZWxlbWVudCBvciBpdCdzIGFuY2VzdG9ycyBoYXZlXG4gKiBkaXNwbGF5IG5vbmUuKVxuICpcbiAqIGBgYFxuICogY29uc3QgZWxlbWVudElzVmlzaWJsZU9uU2NyZWVuID0gIWRvbS5pc0Rpc3BsYXlOb25lV2l0aEFuY2VzdG9ycyhlbGVtZW50KTtcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNEaXNwbGF5Tm9uZVdpdGhBbmNlc3RvcnMoZWwpIHtcbiAgICBpZiAoaXNEaXNwbGF5Tm9uZShlbCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChlbC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBpc0Rpc3BsYXlOb25lV2l0aEFuY2VzdG9ycyhlbC5wYXJlbnRFbGVtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBUcmllcyB0byBkZXRlcm1pbmUgaWYgdGhlIGVsZW1lbnQgaXMgY3VycmVudGx5IHZpc2libGUgb24gdGhlXG4gKiBzY3JlZW4uICBOb3RlIHRoaXMgaXMgYW4gYXR0ZW1wdCBhbmQgaXMgbm90IGEgZ3VhcmFudGVlIGFzIGlzIGJhc2VkXG4gKiBvbiB3aGV0aGVyIHRoZSBlbGVtZW50IG9yIGl0cyBwYXJlbnRzIGhhdmUgb3BhY2l0eSwgdmlzaWJpbGl0eSBvclxuICogZGlzcGxheSBzZXQgdG8gYSBoaWRkZW4gc3RhdGUuXG4gKiBAcGFyYW0gZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZU9uU2NyZWVuKGVsKSB7XG4gICAgY29uc3QgY2hlY2tWaXNpYmlsaXR5ID0gKGVsKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUoZWwpO1xuICAgICAgICByZXR1cm4gIShzdHlsZXMub3BhY2l0eSAhPT0gJzEnIHx8XG4gICAgICAgICAgICBzdHlsZXMudmlzaWJpbGl0eSA9PT0gJ2hpZGRlbicgfHxcbiAgICAgICAgICAgIHN0eWxlcy5kaXNwbGF5ID09PSAnbm9uZScpO1xuICAgIH07XG4gICAgY29uc3QgaXNWaXNpYmxlID0gY2hlY2tWaXNpYmlsaXR5KGVsKTtcbiAgICBpZiAoIWlzVmlzaWJsZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChlbC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBpc1Zpc2libGVPblNjcmVlbihlbC5wYXJlbnRFbGVtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIFJlbW92ZXMgYWxsIGNsYXNzZXMgZnJvbSBhbiBlbGVtZW50IHRoYXQgc3RhcnRzIHdpdGggYSBnaXZlbiBwcmVmaXguXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yODYwODU4Ny9ob3ctdG8tcmVtb3ZlLWEtY2xhc3MtdGhhdC1zdGFydHMtd2l0aFxuICogQHBhcmFtIGVsXG4gKiBAcGFyYW0gcHJlZml4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDbGFzc0J5UHJlZml4KGVsLCBwcmVmaXgpIHtcbiAgICBjb25zdCByZWcgPSBuZXcgUmVnRXhwKCdcXFxcYicgKyBwcmVmaXggKyAnLio/XFxcXGInLCAnZycpO1xuICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZS5yZXBsYWNlKHJlZywgJycpO1xuICAgIHJldHVybiBlbDtcbn1cbi8qKlxuICogUmV0dXJucyBhbGwgdGV4dCBub2RlcyB1bmRlciBhIGdpdmVuIGVsZW1lbnQuXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDczMDMwOS9maW5kLWFsbC10ZXh0LW5vZGVzLWluLWh0bWwtcGFnZVxuICogQHBhcmFtIGVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxUZXh0Tm9kZXMoZWwpIHtcbiAgICBsZXQgbjtcbiAgICBjb25zdCBhID0gW107XG4gICAgY29uc3Qgd2FsayA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZWwsIE5vZGVGaWx0ZXIuU0hPV19URVhULCBudWxsLCBmYWxzZSk7XG4gICAgd2hpbGUgKChuID0gd2Fsay5uZXh0Tm9kZSgpKSlcbiAgICAgICAgYS5wdXNoKG4pO1xuICAgIHJldHVybiBhO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZEFmdGVyKG5vZGVUb0FkZCwgbm9kZVRvQWRkQWZ0ZXIpIHtcbiAgICBub2RlVG9BZGRBZnRlci5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlVG9BZGQsIG5vZGVUb0FkZEFmdGVyLm5leHRTaWJsaW5nKTtcbn1cbi8qKlxuICogVXNlZCBmb3IgY2FzZXMgaW4gd2hpY2ggeW91IHdhbnQgdG8gcHJldmVudCBzY3JvbGwgb24gdGhlIHBhZ2UuXG4gKlxuICogVGVjaG5pY2FsbHksIHRoaXMgcHJldmVudHMgd2hlZWwgYW5kIHRvdWNobW92ZSBldmVudHMuXG4gKlxuICogYGBgXG4gKiAvLyBEaXNhYmxlIHNjcm9sbGluZy5cbiAqIGNvbnN0IHJlZW5hYmxlID0gZG9tLmRvbURpc2FibGVTY3JvbGxpbmcoKTtcbiAqXG4gKiAvLyBSZW5hYmxlLlxuICogcmVlbmFibGUoKTtcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZVNjcm9sbGluZygpIHtcbiAgICBjb25zdCBkaXNhYmxlciA9IChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuICAgIGNvbnN0IGRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgIGRvbVdhdGNoZXIuYWRkKHtcbiAgICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgICBvbjogJ3doZWVsJyxcbiAgICAgICAgY2FsbGJhY2s6IGRpc2FibGVyLFxuICAgICAgICBldmVudE9wdGlvbnM6IHtcbiAgICAgICAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIGRvbVdhdGNoZXIuYWRkKHtcbiAgICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgICBvbjogJ3RvdWNobW92ZScsXG4gICAgICAgIGNhbGxiYWNrOiBkaXNhYmxlcixcbiAgICAgICAgZXZlbnRPcHRpb25zOiB7XG4gICAgICAgICAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBkb21XYXRjaGVyLmRpc3Bvc2UoKTtcbiAgICB9O1xufVxuLyoqXG4gKiBBZGRzICZuYnNwcyB0byBiZXR3ZWVuIHRoZSBzZWNvbmQgdG8gbGFzdCBhbmQgbGFzdCB3b3JkXG4gKiB0byBhdm9pZCB1bm9ycGhhbml6YXRpb24uXG4gKlxuICogYGBgXG4gKiAgICAgICAvLyBVbm9ycGhhbml6ZSBhbGwgdGV4dCBub2Rlcy5cbiAqICAgICAgIGRvbS51bm9ycGhhbihlbGVtZW50IGFzIEhUTUxFbGVtZW50KTtcbiAqXG4gKiAgICAgICAvLyBObyBuZXN0aW5nIChqdXN0IHRoZSBsYXN0IHRleHQgbm9kZSlcbiAqICAgICAgIGRvbS51bm9ycGhhbihlbGVtZW50IGFzIEhUTUxFbGVtZW50LCB0cnVlKTtcbiAqIGBgYFxuICogQHBhcmFtIGVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bm9ycGhhbihlbCwgbGFzdE9ubHkgPSBmYWxzZSkge1xuICAgIGxldCBhbGxUZXh0Tm9kZXMgPSBnZXRBbGxUZXh0Tm9kZXMoZWwpO1xuICAgIGlmIChsYXN0T25seSkge1xuICAgICAgICBhbGxUZXh0Tm9kZXMgPSBbYWxsVGV4dE5vZGVzW2FsbFRleHROb2Rlcy5sZW5ndGggLSAxXV07XG4gICAgfVxuICAgIGNvbnN0IG5ic3AgPSAnXFx4QTAnO1xuICAgIGFsbFRleHROb2Rlcy5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICBub2RlLm5vZGVWYWx1ZSA9IG5vZGUubm9kZVZhbHVlLnJlcGxhY2UoL1xccysoW15cXHNdKilcXHMqJC8sIG5ic3AgKyAnJDEnKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY3JvbGxFbGVtZW50KCkge1xuICAgIHJldHVybiBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbn1cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0d28gZWxlbWVudHMgYXJlIG92ZXJsYXBwaW5nIG9yIG5vdC5cbiAqIEBwYXJhbSBhRWxlbWVudFxuICogQHBhcmFtIGJFbGVtZW50XG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMjA2Njg3MC9ob3ctdG8tY2hlY2staWYtYW4tZWxlbWVudC1pcy1vdmVybGFwcGluZy1vdGhlci1lbGVtZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPdmVybGFwcGluZyhhRWxlbWVudCwgYkVsZW1lbnQpIHtcbiAgICAvLyBFbGVtZW50IENhbid0IG92ZXJsYXAgd2l0aCBpdHNlbGYuXG4gICAgaWYgKGFFbGVtZW50ID09PSBiRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHJlY3QxID0gYUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgcmVjdDIgPSBiRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4gIShyZWN0MS5yaWdodCA8IHJlY3QyLmxlZnQgfHxcbiAgICAgICAgcmVjdDEubGVmdCA+IHJlY3QyLnJpZ2h0IHx8XG4gICAgICAgIHJlY3QxLmJvdHRvbSA8IHJlY3QyLnRvcCB8fFxuICAgICAgICByZWN0MS50b3AgPiByZWN0Mi5ib3R0b20pO1xufVxuLyoqXG4gKiBBZGRzIHRoZSBnaXZlbiBjc3NTdHlsZSB0byB0aGUgcGFnZS5cbiAqIEBwYXJhbSBjc3NTdHlsZVxuICpcbiAqIGBgYFxuICogZG9tLmFkZFN0eWxlc1RvUGFnZShcIi5teWNsYXNzIHsgYmFja2dyb3VuZDogYmx1ZX1cIik7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFN0eWxlc1RvUGFnZShjc3NTdHlsZSkge1xuICAgIGRvY3VtZW50LmhlYWQuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBgPHN0eWxlPiR7Y3NzU3R5bGV9PC9zdHlsZT5gKTtcbn1cbi8qKlxuICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTQ1MjA1NTQvY3VzdG9tLWVsZW1lbnQtZ2V0cm9vdG5vZGUtY2xvc2VzdC1mdW5jdGlvbi1jcm9zc2luZy1tdWx0aXBsZS1wYXJlbnQtc2hhZG93ZFxuICpcbiAqIExvb2tzIGZvciB0aGUgY2xvc2VzdCBlbGVtZW50IHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IgYWNyb3NzIHRoZSBzaGFkb3cgRE9NXG4gKiBhbmQgc3RhbmRhcmQgRE9NIGJvdW5kYXJpZXMuXG4gKlxuICogYGBgXG4gKiBkb20uYWRkU3R5bGVzVG9QYWdlKFwiLm15LXNoYWRvdy1kb20tcGFyZW50XCIsIGVsZW1lbnQpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZXN0RWxlbWVudENvbXBvc2VkKHNlbGVjdG9yLCBiYXNlRWxlbWVudCkge1xuICAgIGZ1bmN0aW9uIGNsb3Nlc3RGcm9tKGJhc2VFbGVtZW50KSB7XG4gICAgICAgIGlmICghYmFzZUVsZW1lbnQgfHwgYmFzZUVsZW1lbnQgPT09IGRvY3VtZW50IHx8IGJhc2VFbGVtZW50ID09PSB3aW5kb3cpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgZm91bmQgPSBiYXNlRWxlbWVudC5jbG9zZXN0KHNlbGVjdG9yKTtcbiAgICAgICAgcmV0dXJuIGZvdW5kID8gZm91bmQgOiBjbG9zZXN0RnJvbShiYXNlRWxlbWVudC5nZXRSb290Tm9kZSgpLmhvc3QpO1xuICAgIH1cbiAgICByZXR1cm4gY2xvc2VzdEZyb20oYmFzZUVsZW1lbnQpO1xufVxuLyoqXG4gKiBGaW5kcyBhbGwgbG9hZGluZz1cImxhenlcIiB3aXRoaW4gYW4gZWxlbWVudCBhbmQgcmVtb3ZlcyB0aGUgYXR0cmlidXRlLlxuICogVGhlIGNvbnRleHQgYW5kIHJlYXNvbiB3aHkgeW91IG1heSB3YW50IHRvIHVzZSB0aGlzIGlzIGJlY2F1c2Ugb2YgaG93XG4gKiBuYXRpdmUgbGF6eSBsb2FkaW5nIHdvcmtzLiAgTmF0aXZlIGxhenkgaW1hZ2UgbG9hZGluZyB3aWxsIG9ubHkgbG9hZCBhbiBpbWFnZVxuICogd2hlbiBpdCBpcyByZW5kZXJlZCBhbmQgcGFpbnRlZCBvbiB0aGUgc2NyZWVuLiAgU2F5IHlvdSBoYXZlXG4gKiBhIGNhcm91c2VsIG1vZHVsZSB3aXRoIG1hbnkgc2xpZGVzLiAgRXZlbiBpZiB0aGUgdXNlciBoYXMgc2Nyb2xsZWQgaW50b1xuICogdGhlIG1vZHVsZSwgY2Fyb3VzZWwgaW1hZ2UgaW4gc2xpZGVzIDIsMyBldGMgd2l0aCBsYXp5IGxvYWRpbmcgd2lsbFxuICogbm90IGxvYWQgdW50aWwgdGhlIHVzZXIgY2xpY2tzIGludG8gdGhhdCBzbGlkZSBhbmQgdGhlIGltYWdlIGlzIHBhaW50ZWQuXG4gKlxuICogVG8gYXZvaWQgdGhpcywgeW91IGNhbiBydW4gdGhpcyB3aGVuIHRoZSBtb2R1bGUgY29tZXMgaW50byB2aWV3LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTmF0aXZlTGF6eUltYWdlKHJvb3RFbGVtZW50KSB7XG4gICAgY29uc3QgbGF6eUVsZW1lbnRzID0gQXJyYXkuZnJvbShyb290RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbbG9hZGluZz1sYXp5XScpKTtcbiAgICBsYXp5RWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2xvYWRpbmcnKTtcbiAgICB9KTtcbn1cbi8qKlxuICogTGlzdGVucyBmb3IgYSBzcGVjaWZpZWQgZXZlbnQgb24gYW55IGVsZW1lbnQgd2l0aGluIHRoZSBwcm92aWRlZCBlbGVtZW50IGFuZFxuICogdGhlbiByZWN1cnNpdmVseSBjYWxscyB0aGUgbGlzdGVuZXIgb24gYWxsIGFuY2VzdG9ycyBvZiB0aGUgb3JpZ2luYXRpbmdcbiAqIGVsZW1lbnQuXG4gKlxuICogRm9yIGV4YW1wbGUgYSBnaXZlbiBtb2R1bGUsICB3aGVuIGFueSBjbGljayBldmVudCBoYXBwZW5zIHdpdGhpbiB0aGUgbW9kdWxlLFxuICogY2FsbCB5b3VyIGxpc3RlbmVyIHJlcGVhdGVkbHkgc3RhcnRpbmcgZnJvbSB0aGUgb3JpZ2luYXRpbmcgZWxlbWVudCBhbmQgYWxsXG4gKiBvZiBpdHMgYW5jZXN0b3JzIChidWJibGUgdXApIHVwIHRvIHRoZSBkb2N1bWVudCByb290LlxuICpcbiAqIGBgYHRzXG4gKiAgIGRvbS5hZGREZWxlZ2F0ZWRMaXN0ZW5lcihcbiAqICAgICBteU1vZHVsZUVsZW1lbnQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxuICogICAgICdjbGljaycsXG4gKiAgICAgKGU6IEhUTUxFbGVtZW50LCBldmVudDogYW55KSA9PiB7XG4gKiAgICAgICBpZiAoIWUpIHtcbiAqICAgICAgICAgcmV0dXJuO1xuICogICAgICAgfVxuICogICAgICAgIC8vIENhbGxlZCBvbiB0aGUgZWxlbWVudCB0aGF0IHdhcyBjbGlja2VkIGFuZCBpdCdzIHBhcmVudFxuICogICAgICAgIC8vIHJlY3Vyc2l2ZWx5IHVudGlsIHRoZSBkb2N1bWVudCByb290LlxuICogICAgICAgIC4uLlxuICogICAgIH1cbiAqICAgKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWwgRWxlbWVudCB0byBob3N0IHRoZSBsaXN0ZW5lci5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIExpc3RlbmVyIHR5cGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZERlbGVnYXRlZExpc3RlbmVyKGVsLCB0eXBlLCBsaXN0ZW5lcikge1xuICAgIGNvbnN0IGhhbmRsZXIgPSAoZSkgPT4ge1xuICAgICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XG4gICAgICAgIGxldCB0YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7XG4gICAgICAgIHRhcmdldCA9IHRhcmdldC5ub2RlVHlwZSA9PT0gMyA/IHRhcmdldC5wYXJlbnROb2RlIDogdGFyZ2V0O1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBsaXN0ZW5lcih0YXJnZXQsIGUpO1xuICAgICAgICAgICAgaWYgKHRhcmdldC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKHRhcmdldC5wYXJlbnROb2RlKTtcbiAgICB9O1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlcik7XG4gICAgLy8gUmV0dXJuIGEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoZSBsaXN0ZW5lci5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIpO1xuICAgIH07XG59XG4vKipcbiAqIERlZ3UgRE9NIHV0aWxpdHkgZnVuY3Rpb25zLlxuICovXG5leHBvcnQgY29uc3QgZG9tID0ge1xuICAgIGFkZERlbGVnYXRlZExpc3RlbmVyLFxuICAgIGFkZFN0eWxlcyxcbiAgICBhZGRTdHlsZXNUb1BhZ2UsXG4gICAgYXBwZW5kQWZ0ZXIsXG4gICAgYXNwZWN0LFxuICAgIGNvcHlCYXNlNjRJbWFnZSxcbiAgICBjcmVhdGVFbGVtZW50RnJvbVN0cmluZyxcbiAgICBkZWxldGVJbWFnZSxcbiAgICBkaXNhYmxlU2Nyb2xsaW5nLFxuICAgIGV2ZW50LFxuICAgIGZldGNoQW5kTWFrZUltYWdlLFxuICAgIGZsdXNoVmlkZW9zLFxuICAgIGZvcmNlRm9jdXMsXG4gICAgZm9yY2VWT0ZvY3VzLFxuICAgIGdldEFsbFRleHROb2RlcyxcbiAgICBnZXRDb21wdXRlZFN0eWxlLFxuICAgIGdldEVsZW1lbnRTY3JvbGxlZFBlcmNlbnQsXG4gICAgZ2V0Rm9jdXNhYmxlRWxlbWVudHMsXG4gICAgZ2V0U2Nyb2xsRWxlbWVudCxcbiAgICBnZXRTY3JvbGxUb3AsXG4gICAgZ2V0U2Nyb2xsWUF0UGVyY2VudCxcbiAgICBnZXRTdHlsZSxcbiAgICBpc0Rpc3BsYXlOb25lLFxuICAgIGlzRGlzcGxheU5vbmVXaXRoQW5jZXN0b3JzLFxuICAgIGlzT3ZlcmxhcHBpbmcsXG4gICAgaXNWaXNpYmxlT25TY3JlZW4sXG4gICAgbWFrZUJhc2U2NEltYWdlRnJvbUJsb2IsXG4gICAgbWFrZUltYWdlRnJvbUJsb2IsXG4gICAgcGF1c2VBbGxWaWRlb3NJbkVsZW1lbnQsXG4gICAgcGxheUFsbFZpZGVvc0luRWxlbWVudCxcbiAgICByZW1vdmVDbGFzc0J5UHJlZml4LFxuICAgIHJlbW92ZUVsZW1lbnQsXG4gICAgcmVtb3ZlQWxsQ2hpbGRyZW4sXG4gICAgcmVzZXRBbGxWaWRlb3NJbkVsZW1lbnQsXG4gICAgcmVzZXRGb3JjZUZvY3VzLFxuICAgIHJ1bkFmdGVyTm90VG9wT2ZTY3JlZW4sXG4gICAgcnVuQWZ0ZXJXaW5kb3dMb2FkLFxuICAgIHNldENzc1ZhcmlhYmxlLFxuICAgIHNldENzc1ZhcmlhYmxlcyxcbiAgICBzZXRGb2N1c2FibGVFbGVtZW50c1RvVGFiSW5kZXgsXG4gICAgdGVzdERlc2NlbmRhbnQsXG4gICAgdGVzdFZpZGVvSXNQbGF5aW5nLFxuICAgIHVuZmx1c2hWaWRlb3MsXG4gICAgdW5vcnBoYW4sXG4gICAgdW5zZXRGb2N1c2FibGVFbGVtZW50c1RvVGFiSW5kZXgsXG4gICAgd2hlblZpZGVvc0xvYWRlZCxcbiAgICB3aGVuVmlkZW9zTG9hZGVkSW5FbGVtZW50LFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRvbS5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/dom/dom.js\n");

/***/ }),

/***/ "./lib/dom/element-visibility.js":
/*!***************************************!*\
  !*** ./lib/dom/element-visibility.js ***!
  \***************************************/
/*! exports provided: elementVisibility */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"elementVisibility\", function() { return elementVisibility; });\n/* harmony import */ var _func_defer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../func/defer */ \"./lib/func/defer.js\");\n\n/**\n * A composition around the IntersectionObserver API.\n * Support is fairly good but if you want legacy browsers, look into polyfills.\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API\n */\nclass elementVisibility {\n    /**\n     * Uses the interaction API to detect element visibility.\n     * @param {Element} el The element to observe\n     * @param {Object?} options Interaction api options.\n     *   This includes, root, threshold and rootMargin.\n     *   @see https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API\n     * @param {Function} callback A callback function that is called on each change.\n     *   The callback returns the element, changes, done.  Done is called to stop\n     *   observiing.\n     * @return {Object} The intersection observer.\n     *\n     * Basic usage:\n     *\n     *\n     * ```ts\n     *\n     * let ev = elementVisibility.inview(element);\n     *\n     * // EV takes a moment to boot up so promise provided.\n     * ev.readyPromise.then(())=> {\n     *   console.log(ev.state().inview); // Is the elmeent inview.\n     * });\n     * ev.dispose();\n     *\n     * ```\n     *\n     *\n     * Basic usage with callback structure.\n     * ```ts\n     *\n     *\n     *   elementVisibility.inview(element, { threshold: 0.3 },\n     *     // Note that your callback will get immediately\n     *     // called once to check visibility\n     *     (element, changes, dispose)=> {\n     *       if(changes.isIntersecting) {\n     *         // The element is visibile.\n     *\n     *         dispose(); // Dispose if you want.\n     *       }\n     *     }\n     *   );\n     *\n     *\n     * ```\n     *\n     *\n     * Element visibility internally caches the last known changes so you\n     * can use that in your app.\n     *\n     * This is often an easier way to do things that use the callback.\n     *\n     *\n     * ```ts\n     * let ev = elementVisibility.inview(element);\n     *\n     * console.log(ev.state().inview); // Is the elmeent inview now?\n     *\n     * window.setTimeout(()=> {\n     *    console.log(ev.state().inview); // Is it inview now after 3 seconds.\n     * }, 3000);\n     *\n     * window.addEventListener('scroll', () => {\n     *    console.log(ev.state().inview); // Check to see it is in view.\n     * });\n     *\n     * ev.state().changes; // A list of all known last changes.\n     *                   Contains IntersectionObserverEntry list.\n     * ev.state().lastChange; // Just the last known IntersectionObserverEntry.\n     *\n     *\n     * ev.dispose(); // Remember to dispose.\n     *\n     * ```\n     *\n     *\n     * --> I want to check if my element is inview just once.\n     *\n     * ```ts\n     * let ev = elementVisibility.inview(element, {});\n     *\n     * // This could be falsy since ev takes a moment to boot up.\n     * ev.inview; // True or False.\n     *\n     * // Instead\n     * if(ev.state().ready) {\n     *   ev.inview; // True or False.\n     * }\n     *\n     * // Or\n     * ev.readyPromise.then(()=> {\n     *   ev.inview; // True or False.\n     * })\n     *\n     *\n     *\n     * ev.dipose(); // Dispose it.\n     * ```\n     *\n     * --> I want to run scroll events only when the element is inview.\n     * See [[DomWatcher]] for an example of this.\n     *\n     *\n     */\n    static inview(element, options = {}, callback) {\n        // Cache the last known state in the closure.\n        let cachedChanges = null;\n        let cachedLastChange = null;\n        let cachedInview = null;\n        let ready = false;\n        const readyPromise = new _func_defer__WEBPACK_IMPORTED_MODULE_0__[\"Defer\"]();\n        /**\n         * Get the last known state values of inview.\n         */\n        const state = () => {\n            return {\n                changes: cachedChanges,\n                lastChange: cachedLastChange,\n                inview: cachedInview,\n                ready: ready,\n            };\n        };\n        const onChange = (entries) => {\n            // Cache the values only if there was a change\n            // so that it maintains the last known change.\n            if (entries.length >= 1) {\n                cachedChanges = entries;\n                cachedLastChange = entries.slice(-1)[0];\n                cachedInview = cachedLastChange.isIntersecting;\n                ready = true;\n                readyPromise.resolve();\n            }\n            // Callback always passes the \"current\" entries even if there\n            // are none.\n            callback && callback(element, entries.slice(-1)[0], dispose);\n        };\n        /**\n         * If evBypass=true is the url parameter, we allow IntersectionObserver\n         * to be bypassed and we immediately return true for inview.  This is\n         * useful for automated testing.\n         */\n        let inviewBypassParam = window.location.search.split('evBypass=')[1];\n        inviewBypassParam = inviewBypassParam && inviewBypassParam.split('&')[0];\n        if (inviewBypassParam === 'true') {\n            window.setTimeout(() => {\n                callback &&\n                    callback(element, {\n                        isIntersecting: true,\n                        isVisible: true,\n                    }, () => { });\n                readyPromise.resolve();\n            });\n            return {\n                observer: null,\n                dispose: () => { },\n                state: () => {\n                    return {\n                        ready: true,\n                        inview: true,\n                    };\n                },\n                readyPromise: readyPromise.getPromise(),\n            };\n        }\n        const dispose = () => {\n            observer && observer.unobserve(element);\n            observer && observer.disconnect();\n            cachedChanges = [];\n            cachedLastChange = null;\n        };\n        const observer = new IntersectionObserver(onChange, options);\n        observer.observe(element);\n        return {\n            observer: observer,\n            dispose: dispose,\n            /**\n             * A method you can call to acquire the last known inview state.\n             */\n            state: state,\n            /**\n             * A promise that resolved when the observer is ready.\n             */\n            readyPromise: readyPromise.getPromise(),\n        };\n    }\n}\n//# sourceMappingURL=element-visibility.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2VsZW1lbnQtdmlzaWJpbGl0eS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9kb20vZWxlbWVudC12aXNpYmlsaXR5LmpzPzU3MTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVmZXIgfSBmcm9tICcuLi9mdW5jL2RlZmVyJztcbi8qKlxuICogQSBjb21wb3NpdGlvbiBhcm91bmQgdGhlIEludGVyc2VjdGlvbk9ic2VydmVyIEFQSS5cbiAqIFN1cHBvcnQgaXMgZmFpcmx5IGdvb2QgYnV0IGlmIHlvdSB3YW50IGxlZ2FjeSBicm93c2VycywgbG9vayBpbnRvIHBvbHlmaWxscy5cbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0ludGVyc2VjdGlvbl9PYnNlcnZlcl9BUElcbiAqL1xuZXhwb3J0IGNsYXNzIGVsZW1lbnRWaXNpYmlsaXR5IHtcbiAgICAvKipcbiAgICAgKiBVc2VzIHRoZSBpbnRlcmFjdGlvbiBBUEkgdG8gZGV0ZWN0IGVsZW1lbnQgdmlzaWJpbGl0eS5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsIFRoZSBlbGVtZW50IHRvIG9ic2VydmVcbiAgICAgKiBAcGFyYW0ge09iamVjdD99IG9wdGlvbnMgSW50ZXJhY3Rpb24gYXBpIG9wdGlvbnMuXG4gICAgICogICBUaGlzIGluY2x1ZGVzLCByb290LCB0aHJlc2hvbGQgYW5kIHJvb3RNYXJnaW4uXG4gICAgICogICBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9JbnRlcnNlY3Rpb25fT2JzZXJ2ZXJfQVBJXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCBvbiBlYWNoIGNoYW5nZS5cbiAgICAgKiAgIFRoZSBjYWxsYmFjayByZXR1cm5zIHRoZSBlbGVtZW50LCBjaGFuZ2VzLCBkb25lLiAgRG9uZSBpcyBjYWxsZWQgdG8gc3RvcFxuICAgICAqICAgb2JzZXJ2aWluZy5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBpbnRlcnNlY3Rpb24gb2JzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBCYXNpYyB1c2FnZTpcbiAgICAgKlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKlxuICAgICAqIGxldCBldiA9IGVsZW1lbnRWaXNpYmlsaXR5LmludmlldyhlbGVtZW50KTtcbiAgICAgKlxuICAgICAqIC8vIEVWIHRha2VzIGEgbW9tZW50IHRvIGJvb3QgdXAgc28gcHJvbWlzZSBwcm92aWRlZC5cbiAgICAgKiBldi5yZWFkeVByb21pc2UudGhlbigoKSk9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhldi5zdGF0ZSgpLmludmlldyk7IC8vIElzIHRoZSBlbG1lZW50IGludmlldy5cbiAgICAgKiB9KTtcbiAgICAgKiBldi5kaXNwb3NlKCk7XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqXG4gICAgICogQmFzaWMgdXNhZ2Ugd2l0aCBjYWxsYmFjayBzdHJ1Y3R1cmUuXG4gICAgICogYGBgdHNcbiAgICAgKlxuICAgICAqXG4gICAgICogICBlbGVtZW50VmlzaWJpbGl0eS5pbnZpZXcoZWxlbWVudCwgeyB0aHJlc2hvbGQ6IDAuMyB9LFxuICAgICAqICAgICAvLyBOb3RlIHRoYXQgeW91ciBjYWxsYmFjayB3aWxsIGdldCBpbW1lZGlhdGVseVxuICAgICAqICAgICAvLyBjYWxsZWQgb25jZSB0byBjaGVjayB2aXNpYmlsaXR5XG4gICAgICogICAgIChlbGVtZW50LCBjaGFuZ2VzLCBkaXNwb3NlKT0+IHtcbiAgICAgKiAgICAgICBpZihjaGFuZ2VzLmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICogICAgICAgICAvLyBUaGUgZWxlbWVudCBpcyB2aXNpYmlsZS5cbiAgICAgKlxuICAgICAqICAgICAgICAgZGlzcG9zZSgpOyAvLyBEaXNwb3NlIGlmIHlvdSB3YW50LlxuICAgICAqICAgICAgIH1cbiAgICAgKiAgICAgfVxuICAgICAqICAgKTtcbiAgICAgKlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKlxuICAgICAqIEVsZW1lbnQgdmlzaWJpbGl0eSBpbnRlcm5hbGx5IGNhY2hlcyB0aGUgbGFzdCBrbm93biBjaGFuZ2VzIHNvIHlvdVxuICAgICAqIGNhbiB1c2UgdGhhdCBpbiB5b3VyIGFwcC5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgb2Z0ZW4gYW4gZWFzaWVyIHdheSB0byBkbyB0aGluZ3MgdGhhdCB1c2UgdGhlIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGxldCBldiA9IGVsZW1lbnRWaXNpYmlsaXR5LmludmlldyhlbGVtZW50KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGV2LnN0YXRlKCkuaW52aWV3KTsgLy8gSXMgdGhlIGVsbWVlbnQgaW52aWV3IG5vdz9cbiAgICAgKlxuICAgICAqIHdpbmRvdy5zZXRUaW1lb3V0KCgpPT4ge1xuICAgICAqICAgIGNvbnNvbGUubG9nKGV2LnN0YXRlKCkuaW52aWV3KTsgLy8gSXMgaXQgaW52aWV3IG5vdyBhZnRlciAzIHNlY29uZHMuXG4gICAgICogfSwgMzAwMCk7XG4gICAgICpcbiAgICAgKiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuICAgICAqICAgIGNvbnNvbGUubG9nKGV2LnN0YXRlKCkuaW52aWV3KTsgLy8gQ2hlY2sgdG8gc2VlIGl0IGlzIGluIHZpZXcuXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBldi5zdGF0ZSgpLmNoYW5nZXM7IC8vIEEgbGlzdCBvZiBhbGwga25vd24gbGFzdCBjaGFuZ2VzLlxuICAgICAqICAgICAgICAgICAgICAgICAgIENvbnRhaW5zIEludGVyc2VjdGlvbk9ic2VydmVyRW50cnkgbGlzdC5cbiAgICAgKiBldi5zdGF0ZSgpLmxhc3RDaGFuZ2U7IC8vIEp1c3QgdGhlIGxhc3Qga25vd24gSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeS5cbiAgICAgKlxuICAgICAqXG4gICAgICogZXYuZGlzcG9zZSgpOyAvLyBSZW1lbWJlciB0byBkaXNwb3NlLlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKlxuICAgICAqIC0tPiBJIHdhbnQgdG8gY2hlY2sgaWYgbXkgZWxlbWVudCBpcyBpbnZpZXcganVzdCBvbmNlLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBsZXQgZXYgPSBlbGVtZW50VmlzaWJpbGl0eS5pbnZpZXcoZWxlbWVudCwge30pO1xuICAgICAqXG4gICAgICogLy8gVGhpcyBjb3VsZCBiZSBmYWxzeSBzaW5jZSBldiB0YWtlcyBhIG1vbWVudCB0byBib290IHVwLlxuICAgICAqIGV2LmludmlldzsgLy8gVHJ1ZSBvciBGYWxzZS5cbiAgICAgKlxuICAgICAqIC8vIEluc3RlYWRcbiAgICAgKiBpZihldi5zdGF0ZSgpLnJlYWR5KSB7XG4gICAgICogICBldi5pbnZpZXc7IC8vIFRydWUgb3IgRmFsc2UuXG4gICAgICogfVxuICAgICAqXG4gICAgICogLy8gT3JcbiAgICAgKiBldi5yZWFkeVByb21pc2UudGhlbigoKT0+IHtcbiAgICAgKiAgIGV2LmludmlldzsgLy8gVHJ1ZSBvciBGYWxzZS5cbiAgICAgKiB9KVxuICAgICAqXG4gICAgICpcbiAgICAgKlxuICAgICAqIGV2LmRpcG9zZSgpOyAvLyBEaXNwb3NlIGl0LlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogLS0+IEkgd2FudCB0byBydW4gc2Nyb2xsIGV2ZW50cyBvbmx5IHdoZW4gdGhlIGVsZW1lbnQgaXMgaW52aWV3LlxuICAgICAqIFNlZSBbW0RvbVdhdGNoZXJdXSBmb3IgYW4gZXhhbXBsZSBvZiB0aGlzLlxuICAgICAqXG4gICAgICpcbiAgICAgKi9cbiAgICBzdGF0aWMgaW52aWV3KGVsZW1lbnQsIG9wdGlvbnMgPSB7fSwgY2FsbGJhY2spIHtcbiAgICAgICAgLy8gQ2FjaGUgdGhlIGxhc3Qga25vd24gc3RhdGUgaW4gdGhlIGNsb3N1cmUuXG4gICAgICAgIGxldCBjYWNoZWRDaGFuZ2VzID0gbnVsbDtcbiAgICAgICAgbGV0IGNhY2hlZExhc3RDaGFuZ2UgPSBudWxsO1xuICAgICAgICBsZXQgY2FjaGVkSW52aWV3ID0gbnVsbDtcbiAgICAgICAgbGV0IHJlYWR5ID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHJlYWR5UHJvbWlzZSA9IG5ldyBEZWZlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBsYXN0IGtub3duIHN0YXRlIHZhbHVlcyBvZiBpbnZpZXcuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBzdGF0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2hhbmdlczogY2FjaGVkQ2hhbmdlcyxcbiAgICAgICAgICAgICAgICBsYXN0Q2hhbmdlOiBjYWNoZWRMYXN0Q2hhbmdlLFxuICAgICAgICAgICAgICAgIGludmlldzogY2FjaGVkSW52aWV3LFxuICAgICAgICAgICAgICAgIHJlYWR5OiByZWFkeSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG9uQ2hhbmdlID0gKGVudHJpZXMpID0+IHtcbiAgICAgICAgICAgIC8vIENhY2hlIHRoZSB2YWx1ZXMgb25seSBpZiB0aGVyZSB3YXMgYSBjaGFuZ2VcbiAgICAgICAgICAgIC8vIHNvIHRoYXQgaXQgbWFpbnRhaW5zIHRoZSBsYXN0IGtub3duIGNoYW5nZS5cbiAgICAgICAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgICAgICAgY2FjaGVkQ2hhbmdlcyA9IGVudHJpZXM7XG4gICAgICAgICAgICAgICAgY2FjaGVkTGFzdENoYW5nZSA9IGVudHJpZXMuc2xpY2UoLTEpWzBdO1xuICAgICAgICAgICAgICAgIGNhY2hlZEludmlldyA9IGNhY2hlZExhc3RDaGFuZ2UuaXNJbnRlcnNlY3Rpbmc7XG4gICAgICAgICAgICAgICAgcmVhZHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlYWR5UHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDYWxsYmFjayBhbHdheXMgcGFzc2VzIHRoZSBcImN1cnJlbnRcIiBlbnRyaWVzIGV2ZW4gaWYgdGhlcmVcbiAgICAgICAgICAgIC8vIGFyZSBub25lLlxuICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZWxlbWVudCwgZW50cmllcy5zbGljZSgtMSlbMF0sIGRpc3Bvc2UpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZXZCeXBhc3M9dHJ1ZSBpcyB0aGUgdXJsIHBhcmFtZXRlciwgd2UgYWxsb3cgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJcbiAgICAgICAgICogdG8gYmUgYnlwYXNzZWQgYW5kIHdlIGltbWVkaWF0ZWx5IHJldHVybiB0cnVlIGZvciBpbnZpZXcuICBUaGlzIGlzXG4gICAgICAgICAqIHVzZWZ1bCBmb3IgYXV0b21hdGVkIHRlc3RpbmcuXG4gICAgICAgICAqL1xuICAgICAgICBsZXQgaW52aWV3QnlwYXNzUGFyYW0gPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnNwbGl0KCdldkJ5cGFzcz0nKVsxXTtcbiAgICAgICAgaW52aWV3QnlwYXNzUGFyYW0gPSBpbnZpZXdCeXBhc3NQYXJhbSAmJiBpbnZpZXdCeXBhc3NQYXJhbS5zcGxpdCgnJicpWzBdO1xuICAgICAgICBpZiAoaW52aWV3QnlwYXNzUGFyYW0gPT09ICd0cnVlJykge1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSW50ZXJzZWN0aW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNWaXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9LCAoKSA9PiB7IH0pO1xuICAgICAgICAgICAgICAgIHJlYWR5UHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgZGlzcG9zZTogKCkgPT4geyB9LFxuICAgICAgICAgICAgICAgIHN0YXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkeTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludmlldzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlYWR5UHJvbWlzZTogcmVhZHlQcm9taXNlLmdldFByb21pc2UoKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlzcG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIG9ic2VydmVyICYmIG9ic2VydmVyLnVub2JzZXJ2ZShlbGVtZW50KTtcbiAgICAgICAgICAgIG9ic2VydmVyICYmIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIGNhY2hlZENoYW5nZXMgPSBbXTtcbiAgICAgICAgICAgIGNhY2hlZExhc3RDaGFuZ2UgPSBudWxsO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihvbkNoYW5nZSwgb3B0aW9ucyk7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvYnNlcnZlcjogb2JzZXJ2ZXIsXG4gICAgICAgICAgICBkaXNwb3NlOiBkaXNwb3NlLFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBIG1ldGhvZCB5b3UgY2FuIGNhbGwgdG8gYWNxdWlyZSB0aGUgbGFzdCBrbm93biBpbnZpZXcgc3RhdGUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQSBwcm9taXNlIHRoYXQgcmVzb2x2ZWQgd2hlbiB0aGUgb2JzZXJ2ZXIgaXMgcmVhZHkuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJlYWR5UHJvbWlzZTogcmVhZHlQcm9taXNlLmdldFByb21pc2UoKSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbGVtZW50LXZpc2liaWxpdHkuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/dom/element-visibility.js\n");

/***/ }),

/***/ "./lib/dom/inview.js":
/*!***************************!*\
  !*** ./lib/dom/inview.js ***!
  \***************************/
/*! exports provided: InviewEvents, Inview */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InviewEvents\", function() { return InviewEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Inview\", function() { return Inview; });\n/* harmony import */ var _raf_raf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _ui_events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui/events */ \"./lib/ui/events.js\");\n\n\n\n\nvar InviewEvents;\n(function (InviewEvents) {\n    InviewEvents[\"IN\"] = \"in\";\n    InviewEvents[\"IN_ONCE\"] = \"in-once\";\n    InviewEvents[\"OUT\"] = \"out\";\n})(InviewEvents || (InviewEvents = {}));\nconst InviewDefaultClassNames = {\n    READY: 'ready',\n    IN: 'in',\n    IN_ONCE: 'in-once',\n    IN_FOLD: 'in-fold',\n    DOWN: 'down',\n    UP: 'up',\n    OUT: 'out',\n};\n/**\n * Implements a basic type 1 inview.\n *\n * ```\n *        new Inview({\n *           element: document.getElementById('test2'),\n *           elementBaseline: 0,\n *           viewportOffset: 0.2,\n *           waitForOutOfViewToRefireInview: false,\n *           downOnlyMode: false,\n *           // Optionally override default class names.\n *           inviewClassNames: {\n *             IN: 'mymodule--in'\n *           }\n *       });\n * ```\n *\n *\n * Type 1 inview:\n * - will add an '.in' class to an element when the element is at\n *   at certain percentage of the viewport. (viewport offset) or\n *   when an X percentage of the element is visible or BOTH!.  See below.\n * - will add an '.in-once' when inview happens the first time.\n * - will immediately remove the '.in' class when the element goes out of\n *   view\n * - will immediately add '.out' class when the element goes out of\n *   view\n * - will add 'up' and 'down' class to the element based on the scroll direction\n *   allowing you to add directional inview.\n *\n * - waitForOutOfViewToRefireInview, downOnlyMode are options to modify the\n *   inview triggers.\n *\n *\n * # Inview Logic\n * The \"logic\" of how inview is calculated is important.  Two factors\n * are taken into consideration.\n *\n * The first is the elementBaseline.\n * The elementBaseline defaults to the very top of the element as that is the\n * most common case.  However, this is the line or point in the element in which the\n * trigger point is evaluated.  You can set it to a given percentage of\n * the element (like the very bottom of the element instead of the top).\n *\n * The second is the viewport offset.\n * The viewport offset ranges from 0-1 in which 0 is the bottom of the viewport window\n * and the 1 is the top.\n *\n *\n * Here are some examples of different settings.\n *\n * elementBaseline - 0 (top), viewportOffset - 0.2\n * => inview should happen when the top of the element crosses the bottom 20% of the window.\n *\n * elementBaseline - 0 (top), viewportOffset - 0.5\n * => inview should happen when the top of the element crosses the middle of the window.\n *\n * elementBaseline - 1 (bottom), viewportOffset - 0.5\n * => inview should happen when the bottom of the element crosses the middle of the window.\n *\n * elementBaseline - 0.2, viewportOffset - 0\n * => inview should happen when 20% of the element is visible.\n *\n * elementBaseline - 0.5, viewportOffset - 0\n * => inview should happen when 50% of the element is visible.\n *\n * elementBaseline - 0.5, viewportOffset - 0.5\n * => inview should happen when 50% of the element cross the middle of the screen.\n *\n * elementBaseline - 0, viewportOffset - 1\n * => inview should happen when then top of the element 0%, hits the top of the screen.\n *\n * elementBaseline - 0, viewportOffset - 0.2, outviewViewportPortOffset - 0.8, outviewElementBaseline - 1\n * => inview should happen when the top of the element crosses the bottom 20% of the viewport.\n * => outview should happen when the bottom of the element crosses the top 80% of the viewport.\n *\n * elementBaseline - 0, viewportOffset - 0, outviewViewportPortOffset - 0.8, outviewElementBaseline - 0\n * => inview should happen when the top of the element crosses the bottom 20% of the viewport.\n * => outview should happen when the top of the element crosses the top 80% of the viewport.\n *\n *\n * # FOUC\n * While inview is booting up, there is a split second where it needs to evaluate the\n * inview state.  When inview is ready, the element will receive '.ready' class.\n *\n * You can do something like:\n *\n * ```\n * .myelement\n *    visibility: hidden\n * .myelement.ready\n *    visibility: visible\n *\n * ```\n *\n *\n * # outviewOnlyOnElementExit Mode\n * This changes the behavior of inview a bit.\n *\n * You can set it so that the outview doesn't fire based on the elementBaseline\n * but instead, when the full elmement, top and bottom are out of view.\n *\n * In short, once inview is fired, the element will stay in an inview state\n * until the element is compeltely out off view.\n *\n *\n * To clarify:\n * When scrolling back and up, based on your inview trigger point, the\n * user might see the element go from an instate to outstate back and forth.\n * For example, let's say you trigger at the top of the element (elementBaseline 0)\n * and 0.2 viewport offset.  As the user scrolls down,\n * the top of the element hits the bottom 20%\n * of the viewport, the element becomes in an inview state.  If the user scrolls back\n * up immediately, and the element is at 0.19, the element goes back to outview.\n *\n * This might be undesired.    By setting this option, it will fire outview until the\n * element has completely exited and therefore, preventing refiring of inview multiple\n * times while the element is inview.\n *\n * # downOnlyMode Mode\n * Downonly modes assumes your primary experience is scrolling down.  So\n * it will add an inview, when the element crosses the inview threshold when\n * scrolling down and then \"KEEP\" that inview attached.  Outview is ONLY\n * fired when the element is completley out of view AND below the viewport.\n *\n *\n *\n */\nclass Inview {\n    constructor(config) {\n        /**\n         * Last known scroll direction. 1 down, -1 up, 0 no direction.\n         */\n        this.scrollDirection = 0;\n        /**\n         * A flag to keep track of whether the element was inview atleast once.\n         */\n        this.inOnce = false;\n        /**\n         * A flag to keep track of in or out state.\n         */\n        this.isInState = false;\n        /**\n         * A caching flag. Set on events that would change the inview status of an\n         * element, cleared when a RAF loop has run.\n         * This will improve performance by culling RAF runs before work is done.\n         */\n        this.shouldRun = false;\n        this.eventManager = new _ui_events__WEBPACK_IMPORTED_MODULE_3__[\"EventManager\"]();\n        // Establish defaults on the config as needed and then handle errors for bad\n        // configs.\n        this.config = Inview.assignDefaultsToConfig(config);\n        if (!this.config.element) {\n            throw new Error('No element is defined for inview');\n        }\n        // Assign property values\n        this.raf = new _raf_raf__WEBPACK_IMPORTED_MODULE_0__[\"Raf\"](() => this.onRaf());\n        this.readWrite = new _raf_raf__WEBPACK_IMPORTED_MODULE_0__[\"Raf\"]();\n        this.watcher = new _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_1__[\"DomWatcher\"]();\n        this.inviewClassNames = Object.assign({}, InviewDefaultClassNames, config.inviewClassNames || {});\n        this.scrollY = window.scrollY;\n        this.targetElements = Inview.gatherTargetElements(this.config);\n        // Initialize the class and properties\n        this.init();\n    }\n    static gatherTargetElements(config) {\n        const targetElements = [config.element];\n        if (config.childSelector) {\n            Array.from(config.element.querySelectorAll(config.childSelector)).forEach(el => targetElements.push(el));\n        }\n        return targetElements;\n    }\n    static assignDefaultsToConfig(config) {\n        return Object.assign({\n            elementBaseline: 0,\n            viewportOffset: 0,\n            outviewOnlyOnElementExit: false,\n            downOnlyMode: false,\n            outviewElementBaseline: 1,\n            outviewViewportOffset: 1,\n        }, config);\n    }\n    on(event, callback) {\n        this.eventManager.on(event, callback);\n    }\n    off(event, callback) {\n        this.eventManager.on(event, callback);\n    }\n    runInviewState(force) {\n        if (this.isInState && !force) {\n            return;\n        }\n        this.readWrite.write(() => {\n            this.targetElements.forEach(el => {\n                el.classList.remove(this.inviewClassNames.OUT);\n                el.classList.add(this.inviewClassNames.IN);\n                if (!this.inOnce) {\n                    el.classList.add(this.inviewClassNames.IN_ONCE);\n                    this.eventManager.dispatch(InviewEvents.IN_ONCE);\n                    this.inOnce = true;\n                    if (window.scrollY === 0) {\n                        el.classList.add(this.inviewClassNames.IN_FOLD);\n                    }\n                }\n                const isScrollingUp = this.scrollDirection === -1;\n                el.classList.remove(isScrollingUp\n                    ? this.inviewClassNames.DOWN\n                    : this.inviewClassNames.UP);\n                el.classList.add(isScrollingUp\n                    ? this.inviewClassNames.UP\n                    : this.inviewClassNames.DOWN);\n                this.isInState = true;\n                this.eventManager.dispatch(InviewEvents.IN);\n            });\n        });\n    }\n    runOutviewState(force) {\n        if (!this.isInState && !force) {\n            return;\n        }\n        this.readWrite.write(() => {\n            this.targetElements.forEach(el => {\n                el.classList.add(this.inviewClassNames.OUT);\n                el.classList.remove(this.inviewClassNames.IN);\n                el.classList.remove(this.inviewClassNames.UP);\n                el.classList.remove(this.inviewClassNames.DOWN);\n                el.classList.add(this.scrollDirection === -1\n                    ? this.inviewClassNames.UP\n                    : this.inviewClassNames.DOWN);\n                this.isInState = false;\n                this.eventManager.dispatch(InviewEvents.OUT);\n            });\n        });\n    }\n    dispose() {\n        this.raf.dispose();\n        this.raf.dispose();\n        this.watcher.dispose();\n    }\n    init() {\n        this.initDomWatcher();\n        this.addInviewIndicesToTargetElements();\n        this.readyTargetElements();\n        this.initInview();\n        // Force update the state.\n        this.onRaf(true);\n    }\n    initDomWatcher() {\n        this.watcher.add({\n            element: window,\n            on: 'scroll',\n            callback: () => this.onWindowScroll(),\n            eventOptions: { passive: true },\n        });\n        this.watcher.add({\n            element: window,\n            on: 'smartResize',\n            callback: () => this.onWindowScroll(),\n            eventOptions: { passive: true },\n        });\n    }\n    addInviewIndicesToTargetElements() {\n        // Do nothing if there is only a single target element\n        if (this.targetElements.length <= 1) {\n            return;\n        }\n        this.readWrite.write(() => {\n            this.targetElements.forEach((target, i) => {\n                target.setAttribute('inview-index', `${i}`);\n            });\n        });\n    }\n    readyTargetElements() {\n        this.readWrite.write(() => {\n            this.targetElements.forEach((target) => {\n                target.classList.add(this.inviewClassNames.READY);\n            });\n        });\n    }\n    initInview() {\n        const intersectionObserverOptions = this.config\n            .evIntersectionObserverOptions || { rootMargin: '100px 0px 100px 0px' };\n        const inviewPromise = this.raf.runWhenElementIsInview(this.config.element, intersectionObserverOptions);\n        inviewPromise.then(() => this.raf.start());\n    }\n    onWindowScroll() {\n        this.raf.read(() => {\n            // Calculate the scroll direction.\n            const scrollY = window.scrollY;\n            this.scrollDirection = _mathf_mathf__WEBPACK_IMPORTED_MODULE_2__[\"direction\"](this.scrollY, scrollY);\n            this.scrollY = scrollY;\n            this.shouldRun = true;\n        });\n    }\n    /**\n     * Request Animation Frame handle.  This runs only when the element is\n     * in the viewport.\n     */\n    onRaf(force) {\n        if (!force && !this.shouldRun) {\n            // Flag was not set, skip this iteration as there is not reason to expect\n            // any changes.\n            return;\n        }\n        this.shouldRun = false; // Clear the flag as the iteration is set to run\n        // Figure out how much of this element is visible.\n        this.readWrite.read(() => {\n            // Since generally, since we think in terms of scrolling down, 0 - 1 would\n            // be represented as:\n            // 1 ---> top of screen\n            // 0.5 --> middle of screen\n            // 0 --> bottom of screen\n            //\n            // Therefore, progress is represented as 0-1 where it goes from the bottom\n            // of the screen to the top.\n            //\n            // Additionally, we need to know, what point in the element should be used\n            // to see where the element resides.  We could use the top, center or\n            // bottom.\n            //\n            // The elementBaseline is used to factor this in.  The default state is\n            // calculated from the top of the element.\n            const wh = window.innerHeight;\n            const box = this.config.element.getBoundingClientRect();\n            const elementBaseline = box.top + this.config.elementBaseline * box.height;\n            // This is the percent of where element baseline is.\n            // So 0 would mean the elementbaseline is at the bottom of the viewport.\n            // 1 would mean elementBaseline is at the top of the viewport.\n            // A value less than viewport offset would mean that the element is above\n            // the viewport == outview.\n            const inPercent = 1 - _mathf_mathf__WEBPACK_IMPORTED_MODULE_2__[\"inverseLerp\"](0, wh, elementBaseline, true);\n            // This is the percent of where the BOTTOM of the element is in the\n            // viewport.\n            // We want to use this to valuate whether the element is out of view.\n            // A value greater than 1 would mean that the element is above the\n            // viewport == outview.\n            const outPercent = 1 -\n                _mathf_mathf__WEBPACK_IMPORTED_MODULE_2__[\"inverseLerp\"](0, wh, box.top + box.height * this.config.outviewElementBaseline, true);\n            if (this.config.outviewOnlyOnElementExit) {\n                // This is the percent where the TOP of the element is in the viewport.\n                const topPercent = 1 - _mathf_mathf__WEBPACK_IMPORTED_MODULE_2__[\"inverseLerp\"](0, wh, box.top, true);\n                // AKA\n                const bottomPercent = outPercent;\n                const completelyOutOfView = !_mathf_mathf__WEBPACK_IMPORTED_MODULE_2__[\"isBetween\"](topPercent, 0, 1) &&\n                    !_mathf_mathf__WEBPACK_IMPORTED_MODULE_2__[\"isBetween\"](bottomPercent, 0, 1);\n                if (inPercent < this.config.viewportOffset || outPercent >= 1) {\n                    if (completelyOutOfView) {\n                        this.runOutviewState(force);\n                    }\n                }\n                else {\n                    this.runInviewState(force);\n                }\n            }\n            else if (this.config.downOnlyMode) {\n                // This is the percent where the TOP of the element is in the viewport.\n                const topPercent = 1 - _mathf_mathf__WEBPACK_IMPORTED_MODULE_2__[\"inverseLerp\"](0, wh, box.top, true);\n                const bottomPercent = outPercent;\n                // Down only mode.\n                const topOfElementIsBelowViewport = topPercent < 0;\n                const bottomOfElementIsAboveViewport = bottomPercent >= 1;\n                if (inPercent < this.config.viewportOffset || outPercent >= 1) {\n                    if (topOfElementIsBelowViewport) {\n                        this.runOutviewState(force);\n                    }\n                    // If the bottom of the element is above the viewport, we should\n                    // ensure it is in the instate.\n                    if (bottomOfElementIsAboveViewport) {\n                        this.runInviewState(force);\n                    }\n                }\n                else {\n                    this.runInviewState(force);\n                }\n            }\n            else {\n                // NORMAL INVIEW\n                // The outview conditions are in the outpercent (bottom of the element)\n                // is greater than 1\n                // or the inpercent (the element baseline) is below 0 under the screen.\n                if (inPercent < this.config.viewportOffset ||\n                    outPercent >= this.config.outviewViewportOffset) {\n                    this.runOutviewState(force);\n                }\n                else {\n                    this.runInviewState(force);\n                }\n            }\n        });\n    }\n}\n//# sourceMappingURL=inview.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL2ludmlldy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9kb20vaW52aWV3LmpzPzg2OTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi4vcmFmL3JhZic7XG5pbXBvcnQgeyBEb21XYXRjaGVyIH0gZnJvbSAnLi4vZG9tL2RvbS13YXRjaGVyJztcbmltcG9ydCAqIGFzIG1hdGhmIGZyb20gJy4uL21hdGhmL21hdGhmJztcbmltcG9ydCB7IEV2ZW50TWFuYWdlciB9IGZyb20gJy4uL3VpL2V2ZW50cyc7XG5leHBvcnQgdmFyIEludmlld0V2ZW50cztcbihmdW5jdGlvbiAoSW52aWV3RXZlbnRzKSB7XG4gICAgSW52aWV3RXZlbnRzW1wiSU5cIl0gPSBcImluXCI7XG4gICAgSW52aWV3RXZlbnRzW1wiSU5fT05DRVwiXSA9IFwiaW4tb25jZVwiO1xuICAgIEludmlld0V2ZW50c1tcIk9VVFwiXSA9IFwib3V0XCI7XG59KShJbnZpZXdFdmVudHMgfHwgKEludmlld0V2ZW50cyA9IHt9KSk7XG5jb25zdCBJbnZpZXdEZWZhdWx0Q2xhc3NOYW1lcyA9IHtcbiAgICBSRUFEWTogJ3JlYWR5JyxcbiAgICBJTjogJ2luJyxcbiAgICBJTl9PTkNFOiAnaW4tb25jZScsXG4gICAgSU5fRk9MRDogJ2luLWZvbGQnLFxuICAgIERPV046ICdkb3duJyxcbiAgICBVUDogJ3VwJyxcbiAgICBPVVQ6ICdvdXQnLFxufTtcbi8qKlxuICogSW1wbGVtZW50cyBhIGJhc2ljIHR5cGUgMSBpbnZpZXcuXG4gKlxuICogYGBgXG4gKiAgICAgICAgbmV3IEludmlldyh7XG4gKiAgICAgICAgICAgZWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rlc3QyJyksXG4gKiAgICAgICAgICAgZWxlbWVudEJhc2VsaW5lOiAwLFxuICogICAgICAgICAgIHZpZXdwb3J0T2Zmc2V0OiAwLjIsXG4gKiAgICAgICAgICAgd2FpdEZvck91dE9mVmlld1RvUmVmaXJlSW52aWV3OiBmYWxzZSxcbiAqICAgICAgICAgICBkb3duT25seU1vZGU6IGZhbHNlLFxuICogICAgICAgICAgIC8vIE9wdGlvbmFsbHkgb3ZlcnJpZGUgZGVmYXVsdCBjbGFzcyBuYW1lcy5cbiAqICAgICAgICAgICBpbnZpZXdDbGFzc05hbWVzOiB7XG4gKiAgICAgICAgICAgICBJTjogJ215bW9kdWxlLS1pbidcbiAqICAgICAgICAgICB9XG4gKiAgICAgICB9KTtcbiAqIGBgYFxuICpcbiAqXG4gKiBUeXBlIDEgaW52aWV3OlxuICogLSB3aWxsIGFkZCBhbiAnLmluJyBjbGFzcyB0byBhbiBlbGVtZW50IHdoZW4gdGhlIGVsZW1lbnQgaXMgYXRcbiAqICAgYXQgY2VydGFpbiBwZXJjZW50YWdlIG9mIHRoZSB2aWV3cG9ydC4gKHZpZXdwb3J0IG9mZnNldCkgb3JcbiAqICAgd2hlbiBhbiBYIHBlcmNlbnRhZ2Ugb2YgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZSBvciBCT1RIIS4gIFNlZSBiZWxvdy5cbiAqIC0gd2lsbCBhZGQgYW4gJy5pbi1vbmNlJyB3aGVuIGludmlldyBoYXBwZW5zIHRoZSBmaXJzdCB0aW1lLlxuICogLSB3aWxsIGltbWVkaWF0ZWx5IHJlbW92ZSB0aGUgJy5pbicgY2xhc3Mgd2hlbiB0aGUgZWxlbWVudCBnb2VzIG91dCBvZlxuICogICB2aWV3XG4gKiAtIHdpbGwgaW1tZWRpYXRlbHkgYWRkICcub3V0JyBjbGFzcyB3aGVuIHRoZSBlbGVtZW50IGdvZXMgb3V0IG9mXG4gKiAgIHZpZXdcbiAqIC0gd2lsbCBhZGQgJ3VwJyBhbmQgJ2Rvd24nIGNsYXNzIHRvIHRoZSBlbGVtZW50IGJhc2VkIG9uIHRoZSBzY3JvbGwgZGlyZWN0aW9uXG4gKiAgIGFsbG93aW5nIHlvdSB0byBhZGQgZGlyZWN0aW9uYWwgaW52aWV3LlxuICpcbiAqIC0gd2FpdEZvck91dE9mVmlld1RvUmVmaXJlSW52aWV3LCBkb3duT25seU1vZGUgYXJlIG9wdGlvbnMgdG8gbW9kaWZ5IHRoZVxuICogICBpbnZpZXcgdHJpZ2dlcnMuXG4gKlxuICpcbiAqICMgSW52aWV3IExvZ2ljXG4gKiBUaGUgXCJsb2dpY1wiIG9mIGhvdyBpbnZpZXcgaXMgY2FsY3VsYXRlZCBpcyBpbXBvcnRhbnQuICBUd28gZmFjdG9yc1xuICogYXJlIHRha2VuIGludG8gY29uc2lkZXJhdGlvbi5cbiAqXG4gKiBUaGUgZmlyc3QgaXMgdGhlIGVsZW1lbnRCYXNlbGluZS5cbiAqIFRoZSBlbGVtZW50QmFzZWxpbmUgZGVmYXVsdHMgdG8gdGhlIHZlcnkgdG9wIG9mIHRoZSBlbGVtZW50IGFzIHRoYXQgaXMgdGhlXG4gKiBtb3N0IGNvbW1vbiBjYXNlLiAgSG93ZXZlciwgdGhpcyBpcyB0aGUgbGluZSBvciBwb2ludCBpbiB0aGUgZWxlbWVudCBpbiB3aGljaCB0aGVcbiAqIHRyaWdnZXIgcG9pbnQgaXMgZXZhbHVhdGVkLiAgWW91IGNhbiBzZXQgaXQgdG8gYSBnaXZlbiBwZXJjZW50YWdlIG9mXG4gKiB0aGUgZWxlbWVudCAobGlrZSB0aGUgdmVyeSBib3R0b20gb2YgdGhlIGVsZW1lbnQgaW5zdGVhZCBvZiB0aGUgdG9wKS5cbiAqXG4gKiBUaGUgc2Vjb25kIGlzIHRoZSB2aWV3cG9ydCBvZmZzZXQuXG4gKiBUaGUgdmlld3BvcnQgb2Zmc2V0IHJhbmdlcyBmcm9tIDAtMSBpbiB3aGljaCAwIGlzIHRoZSBib3R0b20gb2YgdGhlIHZpZXdwb3J0IHdpbmRvd1xuICogYW5kIHRoZSAxIGlzIHRoZSB0b3AuXG4gKlxuICpcbiAqIEhlcmUgYXJlIHNvbWUgZXhhbXBsZXMgb2YgZGlmZmVyZW50IHNldHRpbmdzLlxuICpcbiAqIGVsZW1lbnRCYXNlbGluZSAtIDAgKHRvcCksIHZpZXdwb3J0T2Zmc2V0IC0gMC4yXG4gKiA9PiBpbnZpZXcgc2hvdWxkIGhhcHBlbiB3aGVuIHRoZSB0b3Agb2YgdGhlIGVsZW1lbnQgY3Jvc3NlcyB0aGUgYm90dG9tIDIwJSBvZiB0aGUgd2luZG93LlxuICpcbiAqIGVsZW1lbnRCYXNlbGluZSAtIDAgKHRvcCksIHZpZXdwb3J0T2Zmc2V0IC0gMC41XG4gKiA9PiBpbnZpZXcgc2hvdWxkIGhhcHBlbiB3aGVuIHRoZSB0b3Agb2YgdGhlIGVsZW1lbnQgY3Jvc3NlcyB0aGUgbWlkZGxlIG9mIHRoZSB3aW5kb3cuXG4gKlxuICogZWxlbWVudEJhc2VsaW5lIC0gMSAoYm90dG9tKSwgdmlld3BvcnRPZmZzZXQgLSAwLjVcbiAqID0+IGludmlldyBzaG91bGQgaGFwcGVuIHdoZW4gdGhlIGJvdHRvbSBvZiB0aGUgZWxlbWVudCBjcm9zc2VzIHRoZSBtaWRkbGUgb2YgdGhlIHdpbmRvdy5cbiAqXG4gKiBlbGVtZW50QmFzZWxpbmUgLSAwLjIsIHZpZXdwb3J0T2Zmc2V0IC0gMFxuICogPT4gaW52aWV3IHNob3VsZCBoYXBwZW4gd2hlbiAyMCUgb2YgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZS5cbiAqXG4gKiBlbGVtZW50QmFzZWxpbmUgLSAwLjUsIHZpZXdwb3J0T2Zmc2V0IC0gMFxuICogPT4gaW52aWV3IHNob3VsZCBoYXBwZW4gd2hlbiA1MCUgb2YgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZS5cbiAqXG4gKiBlbGVtZW50QmFzZWxpbmUgLSAwLjUsIHZpZXdwb3J0T2Zmc2V0IC0gMC41XG4gKiA9PiBpbnZpZXcgc2hvdWxkIGhhcHBlbiB3aGVuIDUwJSBvZiB0aGUgZWxlbWVudCBjcm9zcyB0aGUgbWlkZGxlIG9mIHRoZSBzY3JlZW4uXG4gKlxuICogZWxlbWVudEJhc2VsaW5lIC0gMCwgdmlld3BvcnRPZmZzZXQgLSAxXG4gKiA9PiBpbnZpZXcgc2hvdWxkIGhhcHBlbiB3aGVuIHRoZW4gdG9wIG9mIHRoZSBlbGVtZW50IDAlLCBoaXRzIHRoZSB0b3Agb2YgdGhlIHNjcmVlbi5cbiAqXG4gKiBlbGVtZW50QmFzZWxpbmUgLSAwLCB2aWV3cG9ydE9mZnNldCAtIDAuMiwgb3V0dmlld1ZpZXdwb3J0UG9ydE9mZnNldCAtIDAuOCwgb3V0dmlld0VsZW1lbnRCYXNlbGluZSAtIDFcbiAqID0+IGludmlldyBzaG91bGQgaGFwcGVuIHdoZW4gdGhlIHRvcCBvZiB0aGUgZWxlbWVudCBjcm9zc2VzIHRoZSBib3R0b20gMjAlIG9mIHRoZSB2aWV3cG9ydC5cbiAqID0+IG91dHZpZXcgc2hvdWxkIGhhcHBlbiB3aGVuIHRoZSBib3R0b20gb2YgdGhlIGVsZW1lbnQgY3Jvc3NlcyB0aGUgdG9wIDgwJSBvZiB0aGUgdmlld3BvcnQuXG4gKlxuICogZWxlbWVudEJhc2VsaW5lIC0gMCwgdmlld3BvcnRPZmZzZXQgLSAwLCBvdXR2aWV3Vmlld3BvcnRQb3J0T2Zmc2V0IC0gMC44LCBvdXR2aWV3RWxlbWVudEJhc2VsaW5lIC0gMFxuICogPT4gaW52aWV3IHNob3VsZCBoYXBwZW4gd2hlbiB0aGUgdG9wIG9mIHRoZSBlbGVtZW50IGNyb3NzZXMgdGhlIGJvdHRvbSAyMCUgb2YgdGhlIHZpZXdwb3J0LlxuICogPT4gb3V0dmlldyBzaG91bGQgaGFwcGVuIHdoZW4gdGhlIHRvcCBvZiB0aGUgZWxlbWVudCBjcm9zc2VzIHRoZSB0b3AgODAlIG9mIHRoZSB2aWV3cG9ydC5cbiAqXG4gKlxuICogIyBGT1VDXG4gKiBXaGlsZSBpbnZpZXcgaXMgYm9vdGluZyB1cCwgdGhlcmUgaXMgYSBzcGxpdCBzZWNvbmQgd2hlcmUgaXQgbmVlZHMgdG8gZXZhbHVhdGUgdGhlXG4gKiBpbnZpZXcgc3RhdGUuICBXaGVuIGludmlldyBpcyByZWFkeSwgdGhlIGVsZW1lbnQgd2lsbCByZWNlaXZlICcucmVhZHknIGNsYXNzLlxuICpcbiAqIFlvdSBjYW4gZG8gc29tZXRoaW5nIGxpa2U6XG4gKlxuICogYGBgXG4gKiAubXllbGVtZW50XG4gKiAgICB2aXNpYmlsaXR5OiBoaWRkZW5cbiAqIC5teWVsZW1lbnQucmVhZHlcbiAqICAgIHZpc2liaWxpdHk6IHZpc2libGVcbiAqXG4gKiBgYGBcbiAqXG4gKlxuICogIyBvdXR2aWV3T25seU9uRWxlbWVudEV4aXQgTW9kZVxuICogVGhpcyBjaGFuZ2VzIHRoZSBiZWhhdmlvciBvZiBpbnZpZXcgYSBiaXQuXG4gKlxuICogWW91IGNhbiBzZXQgaXQgc28gdGhhdCB0aGUgb3V0dmlldyBkb2Vzbid0IGZpcmUgYmFzZWQgb24gdGhlIGVsZW1lbnRCYXNlbGluZVxuICogYnV0IGluc3RlYWQsIHdoZW4gdGhlIGZ1bGwgZWxtZW1lbnQsIHRvcCBhbmQgYm90dG9tIGFyZSBvdXQgb2Ygdmlldy5cbiAqXG4gKiBJbiBzaG9ydCwgb25jZSBpbnZpZXcgaXMgZmlyZWQsIHRoZSBlbGVtZW50IHdpbGwgc3RheSBpbiBhbiBpbnZpZXcgc3RhdGVcbiAqIHVudGlsIHRoZSBlbGVtZW50IGlzIGNvbXBlbHRlbHkgb3V0IG9mZiB2aWV3LlxuICpcbiAqXG4gKiBUbyBjbGFyaWZ5OlxuICogV2hlbiBzY3JvbGxpbmcgYmFjayBhbmQgdXAsIGJhc2VkIG9uIHlvdXIgaW52aWV3IHRyaWdnZXIgcG9pbnQsIHRoZVxuICogdXNlciBtaWdodCBzZWUgdGhlIGVsZW1lbnQgZ28gZnJvbSBhbiBpbnN0YXRlIHRvIG91dHN0YXRlIGJhY2sgYW5kIGZvcnRoLlxuICogRm9yIGV4YW1wbGUsIGxldCdzIHNheSB5b3UgdHJpZ2dlciBhdCB0aGUgdG9wIG9mIHRoZSBlbGVtZW50IChlbGVtZW50QmFzZWxpbmUgMClcbiAqIGFuZCAwLjIgdmlld3BvcnQgb2Zmc2V0LiAgQXMgdGhlIHVzZXIgc2Nyb2xscyBkb3duLFxuICogdGhlIHRvcCBvZiB0aGUgZWxlbWVudCBoaXRzIHRoZSBib3R0b20gMjAlXG4gKiBvZiB0aGUgdmlld3BvcnQsIHRoZSBlbGVtZW50IGJlY29tZXMgaW4gYW4gaW52aWV3IHN0YXRlLiAgSWYgdGhlIHVzZXIgc2Nyb2xscyBiYWNrXG4gKiB1cCBpbW1lZGlhdGVseSwgYW5kIHRoZSBlbGVtZW50IGlzIGF0IDAuMTksIHRoZSBlbGVtZW50IGdvZXMgYmFjayB0byBvdXR2aWV3LlxuICpcbiAqIFRoaXMgbWlnaHQgYmUgdW5kZXNpcmVkLiAgICBCeSBzZXR0aW5nIHRoaXMgb3B0aW9uLCBpdCB3aWxsIGZpcmUgb3V0dmlldyB1bnRpbCB0aGVcbiAqIGVsZW1lbnQgaGFzIGNvbXBsZXRlbHkgZXhpdGVkIGFuZCB0aGVyZWZvcmUsIHByZXZlbnRpbmcgcmVmaXJpbmcgb2YgaW52aWV3IG11bHRpcGxlXG4gKiB0aW1lcyB3aGlsZSB0aGUgZWxlbWVudCBpcyBpbnZpZXcuXG4gKlxuICogIyBkb3duT25seU1vZGUgTW9kZVxuICogRG93bm9ubHkgbW9kZXMgYXNzdW1lcyB5b3VyIHByaW1hcnkgZXhwZXJpZW5jZSBpcyBzY3JvbGxpbmcgZG93bi4gIFNvXG4gKiBpdCB3aWxsIGFkZCBhbiBpbnZpZXcsIHdoZW4gdGhlIGVsZW1lbnQgY3Jvc3NlcyB0aGUgaW52aWV3IHRocmVzaG9sZCB3aGVuXG4gKiBzY3JvbGxpbmcgZG93biBhbmQgdGhlbiBcIktFRVBcIiB0aGF0IGludmlldyBhdHRhY2hlZC4gIE91dHZpZXcgaXMgT05MWVxuICogZmlyZWQgd2hlbiB0aGUgZWxlbWVudCBpcyBjb21wbGV0bGV5IG91dCBvZiB2aWV3IEFORCBiZWxvdyB0aGUgdmlld3BvcnQuXG4gKlxuICpcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZpZXcge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICAvKipcbiAgICAgICAgICogTGFzdCBrbm93biBzY3JvbGwgZGlyZWN0aW9uLiAxIGRvd24sIC0xIHVwLCAwIG5vIGRpcmVjdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2Nyb2xsRGlyZWN0aW9uID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmxhZyB0byBrZWVwIHRyYWNrIG9mIHdoZXRoZXIgdGhlIGVsZW1lbnQgd2FzIGludmlldyBhdGxlYXN0IG9uY2UuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluT25jZSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBmbGFnIHRvIGtlZXAgdHJhY2sgb2YgaW4gb3Igb3V0IHN0YXRlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc0luU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2FjaGluZyBmbGFnLiBTZXQgb24gZXZlbnRzIHRoYXQgd291bGQgY2hhbmdlIHRoZSBpbnZpZXcgc3RhdHVzIG9mIGFuXG4gICAgICAgICAqIGVsZW1lbnQsIGNsZWFyZWQgd2hlbiBhIFJBRiBsb29wIGhhcyBydW4uXG4gICAgICAgICAqIFRoaXMgd2lsbCBpbXByb3ZlIHBlcmZvcm1hbmNlIGJ5IGN1bGxpbmcgUkFGIHJ1bnMgYmVmb3JlIHdvcmsgaXMgZG9uZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hvdWxkUnVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyID0gbmV3IEV2ZW50TWFuYWdlcigpO1xuICAgICAgICAvLyBFc3RhYmxpc2ggZGVmYXVsdHMgb24gdGhlIGNvbmZpZyBhcyBuZWVkZWQgYW5kIHRoZW4gaGFuZGxlIGVycm9ycyBmb3IgYmFkXG4gICAgICAgIC8vIGNvbmZpZ3MuXG4gICAgICAgIHRoaXMuY29uZmlnID0gSW52aWV3LmFzc2lnbkRlZmF1bHRzVG9Db25maWcoY29uZmlnKTtcbiAgICAgICAgaWYgKCF0aGlzLmNvbmZpZy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGVsZW1lbnQgaXMgZGVmaW5lZCBmb3IgaW52aWV3Jyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXNzaWduIHByb3BlcnR5IHZhbHVlc1xuICAgICAgICB0aGlzLnJhZiA9IG5ldyBSYWYoKCkgPT4gdGhpcy5vblJhZigpKTtcbiAgICAgICAgdGhpcy5yZWFkV3JpdGUgPSBuZXcgUmFmKCk7XG4gICAgICAgIHRoaXMud2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgICAgIHRoaXMuaW52aWV3Q2xhc3NOYW1lcyA9IE9iamVjdC5hc3NpZ24oe30sIEludmlld0RlZmF1bHRDbGFzc05hbWVzLCBjb25maWcuaW52aWV3Q2xhc3NOYW1lcyB8fCB7fSk7XG4gICAgICAgIHRoaXMuc2Nyb2xsWSA9IHdpbmRvdy5zY3JvbGxZO1xuICAgICAgICB0aGlzLnRhcmdldEVsZW1lbnRzID0gSW52aWV3LmdhdGhlclRhcmdldEVsZW1lbnRzKHRoaXMuY29uZmlnKTtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgY2xhc3MgYW5kIHByb3BlcnRpZXNcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIHN0YXRpYyBnYXRoZXJUYXJnZXRFbGVtZW50cyhjb25maWcpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0RWxlbWVudHMgPSBbY29uZmlnLmVsZW1lbnRdO1xuICAgICAgICBpZiAoY29uZmlnLmNoaWxkU2VsZWN0b3IpIHtcbiAgICAgICAgICAgIEFycmF5LmZyb20oY29uZmlnLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuY2hpbGRTZWxlY3RvcikpLmZvckVhY2goZWwgPT4gdGFyZ2V0RWxlbWVudHMucHVzaChlbCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YXJnZXRFbGVtZW50cztcbiAgICB9XG4gICAgc3RhdGljIGFzc2lnbkRlZmF1bHRzVG9Db25maWcoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGVsZW1lbnRCYXNlbGluZTogMCxcbiAgICAgICAgICAgIHZpZXdwb3J0T2Zmc2V0OiAwLFxuICAgICAgICAgICAgb3V0dmlld09ubHlPbkVsZW1lbnRFeGl0OiBmYWxzZSxcbiAgICAgICAgICAgIGRvd25Pbmx5TW9kZTogZmFsc2UsXG4gICAgICAgICAgICBvdXR2aWV3RWxlbWVudEJhc2VsaW5lOiAxLFxuICAgICAgICAgICAgb3V0dmlld1ZpZXdwb3J0T2Zmc2V0OiAxLFxuICAgICAgICB9LCBjb25maWcpO1xuICAgIH1cbiAgICBvbihldmVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIub24oZXZlbnQsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgb2ZmKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci5vbihldmVudCwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBydW5JbnZpZXdTdGF0ZShmb3JjZSkge1xuICAgICAgICBpZiAodGhpcy5pc0luU3RhdGUgJiYgIWZvcmNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWFkV3JpdGUud3JpdGUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50YXJnZXRFbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuaW52aWV3Q2xhc3NOYW1lcy5PVVQpO1xuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQodGhpcy5pbnZpZXdDbGFzc05hbWVzLklOKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaW5PbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQodGhpcy5pbnZpZXdDbGFzc05hbWVzLklOX09OQ0UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci5kaXNwYXRjaChJbnZpZXdFdmVudHMuSU5fT05DRSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5PbmNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5zY3JvbGxZID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKHRoaXMuaW52aWV3Q2xhc3NOYW1lcy5JTl9GT0xEKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBpc1Njcm9sbGluZ1VwID0gdGhpcy5zY3JvbGxEaXJlY3Rpb24gPT09IC0xO1xuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoaXNTY3JvbGxpbmdVcFxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuaW52aWV3Q2xhc3NOYW1lcy5ET1dOXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5pbnZpZXdDbGFzc05hbWVzLlVQKTtcbiAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKGlzU2Nyb2xsaW5nVXBcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmludmlld0NsYXNzTmFtZXMuVVBcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmludmlld0NsYXNzTmFtZXMuRE9XTik7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0luU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKEludmlld0V2ZW50cy5JTik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJ1bk91dHZpZXdTdGF0ZShmb3JjZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNJblN0YXRlICYmICFmb3JjZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVhZFdyaXRlLndyaXRlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCh0aGlzLmludmlld0NsYXNzTmFtZXMuT1VUKTtcbiAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuaW52aWV3Q2xhc3NOYW1lcy5JTik7XG4gICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmludmlld0NsYXNzTmFtZXMuVVApO1xuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5pbnZpZXdDbGFzc05hbWVzLkRPV04pO1xuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQodGhpcy5zY3JvbGxEaXJlY3Rpb24gPT09IC0xXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5pbnZpZXdDbGFzc05hbWVzLlVQXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5pbnZpZXdDbGFzc05hbWVzLkRPV04pO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNJblN0YXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIuZGlzcGF0Y2goSW52aWV3RXZlbnRzLk9VVCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMucmFmLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5yYWYuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLndhdGNoZXIuZGlzcG9zZSgpO1xuICAgIH1cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLmluaXREb21XYXRjaGVyKCk7XG4gICAgICAgIHRoaXMuYWRkSW52aWV3SW5kaWNlc1RvVGFyZ2V0RWxlbWVudHMoKTtcbiAgICAgICAgdGhpcy5yZWFkeVRhcmdldEVsZW1lbnRzKCk7XG4gICAgICAgIHRoaXMuaW5pdEludmlldygpO1xuICAgICAgICAvLyBGb3JjZSB1cGRhdGUgdGhlIHN0YXRlLlxuICAgICAgICB0aGlzLm9uUmFmKHRydWUpO1xuICAgIH1cbiAgICBpbml0RG9tV2F0Y2hlcigpIHtcbiAgICAgICAgdGhpcy53YXRjaGVyLmFkZCh7XG4gICAgICAgICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICAgICAgICBvbjogJ3Njcm9sbCcsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy5vbldpbmRvd1Njcm9sbCgpLFxuICAgICAgICAgICAgZXZlbnRPcHRpb25zOiB7IHBhc3NpdmU6IHRydWUgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgICAgICAgb246ICdzbWFydFJlc2l6ZScsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy5vbldpbmRvd1Njcm9sbCgpLFxuICAgICAgICAgICAgZXZlbnRPcHRpb25zOiB7IHBhc3NpdmU6IHRydWUgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFkZEludmlld0luZGljZXNUb1RhcmdldEVsZW1lbnRzKCkge1xuICAgICAgICAvLyBEbyBub3RoaW5nIGlmIHRoZXJlIGlzIG9ubHkgYSBzaW5nbGUgdGFyZ2V0IGVsZW1lbnRcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0RWxlbWVudHMubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlYWRXcml0ZS53cml0ZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldEVsZW1lbnRzLmZvckVhY2goKHRhcmdldCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoJ2ludmlldy1pbmRleCcsIGAke2l9YCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlYWR5VGFyZ2V0RWxlbWVudHMoKSB7XG4gICAgICAgIHRoaXMucmVhZFdyaXRlLndyaXRlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudHMuZm9yRWFjaCgodGFyZ2V0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQodGhpcy5pbnZpZXdDbGFzc05hbWVzLlJFQURZKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW5pdEludmlldygpIHtcbiAgICAgICAgY29uc3QgaW50ZXJzZWN0aW9uT2JzZXJ2ZXJPcHRpb25zID0gdGhpcy5jb25maWdcbiAgICAgICAgICAgIC5ldkludGVyc2VjdGlvbk9ic2VydmVyT3B0aW9ucyB8fCB7IHJvb3RNYXJnaW46ICcxMDBweCAwcHggMTAwcHggMHB4JyB9O1xuICAgICAgICBjb25zdCBpbnZpZXdQcm9taXNlID0gdGhpcy5yYWYucnVuV2hlbkVsZW1lbnRJc0ludmlldyh0aGlzLmNvbmZpZy5lbGVtZW50LCBpbnRlcnNlY3Rpb25PYnNlcnZlck9wdGlvbnMpO1xuICAgICAgICBpbnZpZXdQcm9taXNlLnRoZW4oKCkgPT4gdGhpcy5yYWYuc3RhcnQoKSk7XG4gICAgfVxuICAgIG9uV2luZG93U2Nyb2xsKCkge1xuICAgICAgICB0aGlzLnJhZi5yZWFkKCgpID0+IHtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgc2Nyb2xsIGRpcmVjdGlvbi5cbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsRGlyZWN0aW9uID0gbWF0aGYuZGlyZWN0aW9uKHRoaXMuc2Nyb2xsWSwgc2Nyb2xsWSk7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFkgPSBzY3JvbGxZO1xuICAgICAgICAgICAgdGhpcy5zaG91bGRSdW4gPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVxdWVzdCBBbmltYXRpb24gRnJhbWUgaGFuZGxlLiAgVGhpcyBydW5zIG9ubHkgd2hlbiB0aGUgZWxlbWVudCBpc1xuICAgICAqIGluIHRoZSB2aWV3cG9ydC5cbiAgICAgKi9cbiAgICBvblJhZihmb3JjZSkge1xuICAgICAgICBpZiAoIWZvcmNlICYmICF0aGlzLnNob3VsZFJ1bikge1xuICAgICAgICAgICAgLy8gRmxhZyB3YXMgbm90IHNldCwgc2tpcCB0aGlzIGl0ZXJhdGlvbiBhcyB0aGVyZSBpcyBub3QgcmVhc29uIHRvIGV4cGVjdFxuICAgICAgICAgICAgLy8gYW55IGNoYW5nZXMuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zaG91bGRSdW4gPSBmYWxzZTsgLy8gQ2xlYXIgdGhlIGZsYWcgYXMgdGhlIGl0ZXJhdGlvbiBpcyBzZXQgdG8gcnVuXG4gICAgICAgIC8vIEZpZ3VyZSBvdXQgaG93IG11Y2ggb2YgdGhpcyBlbGVtZW50IGlzIHZpc2libGUuXG4gICAgICAgIHRoaXMucmVhZFdyaXRlLnJlYWQoKCkgPT4ge1xuICAgICAgICAgICAgLy8gU2luY2UgZ2VuZXJhbGx5LCBzaW5jZSB3ZSB0aGluayBpbiB0ZXJtcyBvZiBzY3JvbGxpbmcgZG93biwgMCAtIDEgd291bGRcbiAgICAgICAgICAgIC8vIGJlIHJlcHJlc2VudGVkIGFzOlxuICAgICAgICAgICAgLy8gMSAtLS0+IHRvcCBvZiBzY3JlZW5cbiAgICAgICAgICAgIC8vIDAuNSAtLT4gbWlkZGxlIG9mIHNjcmVlblxuICAgICAgICAgICAgLy8gMCAtLT4gYm90dG9tIG9mIHNjcmVlblxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFRoZXJlZm9yZSwgcHJvZ3Jlc3MgaXMgcmVwcmVzZW50ZWQgYXMgMC0xIHdoZXJlIGl0IGdvZXMgZnJvbSB0aGUgYm90dG9tXG4gICAgICAgICAgICAvLyBvZiB0aGUgc2NyZWVuIHRvIHRoZSB0b3AuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gQWRkaXRpb25hbGx5LCB3ZSBuZWVkIHRvIGtub3csIHdoYXQgcG9pbnQgaW4gdGhlIGVsZW1lbnQgc2hvdWxkIGJlIHVzZWRcbiAgICAgICAgICAgIC8vIHRvIHNlZSB3aGVyZSB0aGUgZWxlbWVudCByZXNpZGVzLiAgV2UgY291bGQgdXNlIHRoZSB0b3AsIGNlbnRlciBvclxuICAgICAgICAgICAgLy8gYm90dG9tLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50QmFzZWxpbmUgaXMgdXNlZCB0byBmYWN0b3IgdGhpcyBpbi4gIFRoZSBkZWZhdWx0IHN0YXRlIGlzXG4gICAgICAgICAgICAvLyBjYWxjdWxhdGVkIGZyb20gdGhlIHRvcCBvZiB0aGUgZWxlbWVudC5cbiAgICAgICAgICAgIGNvbnN0IHdoID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICAgICAgY29uc3QgYm94ID0gdGhpcy5jb25maWcuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRCYXNlbGluZSA9IGJveC50b3AgKyB0aGlzLmNvbmZpZy5lbGVtZW50QmFzZWxpbmUgKiBib3guaGVpZ2h0O1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgcGVyY2VudCBvZiB3aGVyZSBlbGVtZW50IGJhc2VsaW5lIGlzLlxuICAgICAgICAgICAgLy8gU28gMCB3b3VsZCBtZWFuIHRoZSBlbGVtZW50YmFzZWxpbmUgaXMgYXQgdGhlIGJvdHRvbSBvZiB0aGUgdmlld3BvcnQuXG4gICAgICAgICAgICAvLyAxIHdvdWxkIG1lYW4gZWxlbWVudEJhc2VsaW5lIGlzIGF0IHRoZSB0b3Agb2YgdGhlIHZpZXdwb3J0LlxuICAgICAgICAgICAgLy8gQSB2YWx1ZSBsZXNzIHRoYW4gdmlld3BvcnQgb2Zmc2V0IHdvdWxkIG1lYW4gdGhhdCB0aGUgZWxlbWVudCBpcyBhYm92ZVxuICAgICAgICAgICAgLy8gdGhlIHZpZXdwb3J0ID09IG91dHZpZXcuXG4gICAgICAgICAgICBjb25zdCBpblBlcmNlbnQgPSAxIC0gbWF0aGYuaW52ZXJzZUxlcnAoMCwgd2gsIGVsZW1lbnRCYXNlbGluZSwgdHJ1ZSk7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBwZXJjZW50IG9mIHdoZXJlIHRoZSBCT1RUT00gb2YgdGhlIGVsZW1lbnQgaXMgaW4gdGhlXG4gICAgICAgICAgICAvLyB2aWV3cG9ydC5cbiAgICAgICAgICAgIC8vIFdlIHdhbnQgdG8gdXNlIHRoaXMgdG8gdmFsdWF0ZSB3aGV0aGVyIHRoZSBlbGVtZW50IGlzIG91dCBvZiB2aWV3LlxuICAgICAgICAgICAgLy8gQSB2YWx1ZSBncmVhdGVyIHRoYW4gMSB3b3VsZCBtZWFuIHRoYXQgdGhlIGVsZW1lbnQgaXMgYWJvdmUgdGhlXG4gICAgICAgICAgICAvLyB2aWV3cG9ydCA9PSBvdXR2aWV3LlxuICAgICAgICAgICAgY29uc3Qgb3V0UGVyY2VudCA9IDEgLVxuICAgICAgICAgICAgICAgIG1hdGhmLmludmVyc2VMZXJwKDAsIHdoLCBib3gudG9wICsgYm94LmhlaWdodCAqIHRoaXMuY29uZmlnLm91dHZpZXdFbGVtZW50QmFzZWxpbmUsIHRydWUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLm91dHZpZXdPbmx5T25FbGVtZW50RXhpdCkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIHBlcmNlbnQgd2hlcmUgdGhlIFRPUCBvZiB0aGUgZWxlbWVudCBpcyBpbiB0aGUgdmlld3BvcnQuXG4gICAgICAgICAgICAgICAgY29uc3QgdG9wUGVyY2VudCA9IDEgLSBtYXRoZi5pbnZlcnNlTGVycCgwLCB3aCwgYm94LnRvcCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgLy8gQUtBXG4gICAgICAgICAgICAgICAgY29uc3QgYm90dG9tUGVyY2VudCA9IG91dFBlcmNlbnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGxldGVseU91dE9mVmlldyA9ICFtYXRoZi5pc0JldHdlZW4odG9wUGVyY2VudCwgMCwgMSkgJiZcbiAgICAgICAgICAgICAgICAgICAgIW1hdGhmLmlzQmV0d2Vlbihib3R0b21QZXJjZW50LCAwLCAxKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5QZXJjZW50IDwgdGhpcy5jb25maWcudmlld3BvcnRPZmZzZXQgfHwgb3V0UGVyY2VudCA+PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWx5T3V0T2ZWaWV3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1bk91dHZpZXdTdGF0ZShmb3JjZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucnVuSW52aWV3U3RhdGUoZm9yY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuY29uZmlnLmRvd25Pbmx5TW9kZSkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIHBlcmNlbnQgd2hlcmUgdGhlIFRPUCBvZiB0aGUgZWxlbWVudCBpcyBpbiB0aGUgdmlld3BvcnQuXG4gICAgICAgICAgICAgICAgY29uc3QgdG9wUGVyY2VudCA9IDEgLSBtYXRoZi5pbnZlcnNlTGVycCgwLCB3aCwgYm94LnRvcCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYm90dG9tUGVyY2VudCA9IG91dFBlcmNlbnQ7XG4gICAgICAgICAgICAgICAgLy8gRG93biBvbmx5IG1vZGUuXG4gICAgICAgICAgICAgICAgY29uc3QgdG9wT2ZFbGVtZW50SXNCZWxvd1ZpZXdwb3J0ID0gdG9wUGVyY2VudCA8IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgYm90dG9tT2ZFbGVtZW50SXNBYm92ZVZpZXdwb3J0ID0gYm90dG9tUGVyY2VudCA+PSAxO1xuICAgICAgICAgICAgICAgIGlmIChpblBlcmNlbnQgPCB0aGlzLmNvbmZpZy52aWV3cG9ydE9mZnNldCB8fCBvdXRQZXJjZW50ID49IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvcE9mRWxlbWVudElzQmVsb3dWaWV3cG9ydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ydW5PdXR2aWV3U3RhdGUoZm9yY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBib3R0b20gb2YgdGhlIGVsZW1lbnQgaXMgYWJvdmUgdGhlIHZpZXdwb3J0LCB3ZSBzaG91bGRcbiAgICAgICAgICAgICAgICAgICAgLy8gZW5zdXJlIGl0IGlzIGluIHRoZSBpbnN0YXRlLlxuICAgICAgICAgICAgICAgICAgICBpZiAoYm90dG9tT2ZFbGVtZW50SXNBYm92ZVZpZXdwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1bkludmlld1N0YXRlKGZvcmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ydW5JbnZpZXdTdGF0ZShmb3JjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTk9STUFMIElOVklFV1xuICAgICAgICAgICAgICAgIC8vIFRoZSBvdXR2aWV3IGNvbmRpdGlvbnMgYXJlIGluIHRoZSBvdXRwZXJjZW50IChib3R0b20gb2YgdGhlIGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgLy8gaXMgZ3JlYXRlciB0aGFuIDFcbiAgICAgICAgICAgICAgICAvLyBvciB0aGUgaW5wZXJjZW50ICh0aGUgZWxlbWVudCBiYXNlbGluZSkgaXMgYmVsb3cgMCB1bmRlciB0aGUgc2NyZWVuLlxuICAgICAgICAgICAgICAgIGlmIChpblBlcmNlbnQgPCB0aGlzLmNvbmZpZy52aWV3cG9ydE9mZnNldCB8fFxuICAgICAgICAgICAgICAgICAgICBvdXRQZXJjZW50ID49IHRoaXMuY29uZmlnLm91dHZpZXdWaWV3cG9ydE9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1bk91dHZpZXdTdGF0ZShmb3JjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1bkludmlld1N0YXRlKGZvcmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludmlldy5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/dom/inview.js\n");

/***/ }),

/***/ "./lib/dom/mouse-tracker.js":
/*!**********************************!*\
  !*** ./lib/dom/mouse-tracker.js ***!
  \**********************************/
/*! exports provided: MouseTracker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MouseTracker\", function() { return MouseTracker; });\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _mathf_vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _is_is__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\n/* harmony import */ var _dom_watcher__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\n\n\n\n/**\n * Class that helps with mouse tracking.\n * TODO (uxder): This is from a really old class.  I need to upgrade it.\n *      Could also still be buggy.\n * @unstable\n * @hidden\n */\nclass MouseTracker {\n    /**\n     * @constructor\n     */\n    constructor(rootElement, moveCallBack, disableMobile) {\n        this.rootElement_ = rootElement;\n        this.dimensions_ = {};\n        this.moveCallBack = moveCallBack;\n        this.mouseData = {};\n        this.position = _mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].ZERO;\n        this.windowY = window.scrollY;\n        this.lastWindowY = window.scrollY;\n        this.lastPosition = _mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].ZERO;\n        this.calculateRootElementDimensions_();\n        this.watcher = new _dom_watcher__WEBPACK_IMPORTED_MODULE_3__[\"DomWatcher\"]();\n        this.watcher.add({\n            element: window,\n            on: 'resize',\n            callback: this.calculateRootElementDimensions_.bind(this),\n            eventOptions: { passive: true },\n        });\n        this.watcher.add({\n            element: window,\n            on: 'scroll',\n            callback: this.onScroll.bind(this),\n            eventOptions: { passive: true },\n        });\n        if (!disableMobile && _is_is__WEBPACK_IMPORTED_MODULE_2__[\"supportingDeviceOrientation\"]()) {\n            this.watcher.add({\n                element: window,\n                on: 'deviceorientation',\n                callback: this.onDeviceOrientation.bind(this),\n                eventOptions: { passive: true },\n            });\n        }\n        this.watcher.add({\n            element: document.body,\n            on: 'mousemove',\n            callback: this.onMouseMove.bind(this),\n            eventOptions: { passive: true },\n        });\n        this.watcher.add({\n            element: document.body,\n            on: 'touchmove',\n            callback: this.onMouseMove.bind(this),\n            eventOptions: { passive: true },\n        });\n    }\n    /**\n     * Calculates the base dimensions of the rootElement.\n     */\n    calculateRootElementDimensions_() {\n        const docRect = document.body.getBoundingClientRect();\n        const rect = this.rootElement_.getBoundingClientRect();\n        // Calculate the center point.\n        const xCenter = rect.left + rect.width / 2;\n        const yCenter = rect.top + rect.height / 2;\n        this.dimensions_ = {\n            width: rect.width,\n            height: rect.height,\n            halfWidth: rect.width / 2,\n            halfHeight: rect.height / 2,\n            top: rect.top,\n            left: rect.left,\n            xCenter: xCenter,\n            yCenter: yCenter,\n            docWidth: docRect.width,\n            docHeight: docRect.height,\n        };\n    }\n    /**\n     * On scroll update the Y position so that the mouse\n     * position always updates.\n     */\n    onScroll() {\n        this.windowY = window.scrollY;\n        const offset = this.windowY - this.lastWindowY;\n        const y = this.lastPosition.y + offset;\n        this.updateMouseData(this.lastPosition.x, y);\n        this.moveCallBack && this.moveCallBack(this.mouseData);\n    }\n    /**\n     * Handles the mouseRootElement move.\n     * @type {MouseEvent}\n     */\n    onMouseMove(e) {\n        const x = e.pageX || e.clientX;\n        const y = e.pageY || e.clientY;\n        this.lastWindowY = window.scrollY;\n        this.lastPosition = this.position.clone();\n        this.updateMouseData(x, y);\n        this.moveCallBack && this.moveCallBack(this.mouseData);\n    }\n    updateMouseData(x, y) {\n        this.position.x = x;\n        this.position.y = y;\n        this.mouseData = {\n            position: this.position,\n            x: x,\n            y: y,\n            deltaX: x - this.dimensions_.xCenter,\n            deltaY: y - this.dimensions_.yCenter,\n            percentageX: ((x - this.dimensions_.xCenter) / this.dimensions_.docWidth) * 100,\n            percentageY: ((y - this.dimensions_.yCenter) / this.dimensions_.docHeight) * 100,\n        };\n    }\n    /**\n     * Handles the device orientation.\n     * @type {MouseEvent}\n     */\n    onDeviceOrientation(event) {\n        const x = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"](-50, 50, event.gamma);\n        const y = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"](-50, 50, event.beta);\n        this.mouseData = {\n            x: 0,\n            y: 0,\n            deltaX: 0,\n            deltaY: 0,\n            percentageX: x,\n            percentageY: y,\n        };\n        this.moveCallBack && this.moveCallBack(this.mouseData);\n    }\n    /**\n     * Gets the mouse positions.\n     */\n    getMousePosition() {\n        return this.mouseData;\n    }\n    dispose() {\n        this.watcher.dispose();\n    }\n}\n//# sourceMappingURL=mouse-tracker.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL21vdXNlLXRyYWNrZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZG9tL21vdXNlLXRyYWNrZXIuanM/NDE0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBtYXRoZiBmcm9tICcuLi9tYXRoZi9tYXRoZic7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuLi9tYXRoZi92ZWN0b3InO1xuaW1wb3J0ICogYXMgaXMgZnJvbSAnLi4vaXMvaXMnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4vZG9tLXdhdGNoZXInO1xuLyoqXG4gKiBDbGFzcyB0aGF0IGhlbHBzIHdpdGggbW91c2UgdHJhY2tpbmcuXG4gKiBUT0RPICh1eGRlcik6IFRoaXMgaXMgZnJvbSBhIHJlYWxseSBvbGQgY2xhc3MuICBJIG5lZWQgdG8gdXBncmFkZSBpdC5cbiAqICAgICAgQ291bGQgYWxzbyBzdGlsbCBiZSBidWdneS5cbiAqIEB1bnN0YWJsZVxuICogQGhpZGRlblxuICovXG5leHBvcnQgY2xhc3MgTW91c2VUcmFja2VyIHtcbiAgICAvKipcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihyb290RWxlbWVudCwgbW92ZUNhbGxCYWNrLCBkaXNhYmxlTW9iaWxlKSB7XG4gICAgICAgIHRoaXMucm9vdEVsZW1lbnRfID0gcm9vdEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZGltZW5zaW9uc18gPSB7fTtcbiAgICAgICAgdGhpcy5tb3ZlQ2FsbEJhY2sgPSBtb3ZlQ2FsbEJhY2s7XG4gICAgICAgIHRoaXMubW91c2VEYXRhID0ge307XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBWZWN0b3IuWkVSTztcbiAgICAgICAgdGhpcy53aW5kb3dZID0gd2luZG93LnNjcm9sbFk7XG4gICAgICAgIHRoaXMubGFzdFdpbmRvd1kgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgICAgdGhpcy5sYXN0UG9zaXRpb24gPSBWZWN0b3IuWkVSTztcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVSb290RWxlbWVudERpbWVuc2lvbnNfKCk7XG4gICAgICAgIHRoaXMud2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgICAgIHRoaXMud2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgICAgICAgb246ICdyZXNpemUnLFxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMuY2FsY3VsYXRlUm9vdEVsZW1lbnREaW1lbnNpb25zXy5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZXZlbnRPcHRpb25zOiB7IHBhc3NpdmU6IHRydWUgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgZWxlbWVudDogd2luZG93LFxuICAgICAgICAgICAgb246ICdzY3JvbGwnLFxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMub25TY3JvbGwuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGV2ZW50T3B0aW9uczogeyBwYXNzaXZlOiB0cnVlIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWRpc2FibGVNb2JpbGUgJiYgaXMuc3VwcG9ydGluZ0RldmljZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgICAgICAgIHRoaXMud2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgICAgICAgICAgICBvbjogJ2RldmljZW9yaWVudGF0aW9uJyxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogdGhpcy5vbkRldmljZU9yaWVudGF0aW9uLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgZXZlbnRPcHRpb25zOiB7IHBhc3NpdmU6IHRydWUgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgZWxlbWVudDogZG9jdW1lbnQuYm9keSxcbiAgICAgICAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcyksXG4gICAgICAgICAgICBldmVudE9wdGlvbnM6IHsgcGFzc2l2ZTogdHJ1ZSB9LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53YXRjaGVyLmFkZCh7XG4gICAgICAgICAgICBlbGVtZW50OiBkb2N1bWVudC5ib2R5LFxuICAgICAgICAgICAgb246ICd0b3VjaG1vdmUnLFxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGV2ZW50T3B0aW9uczogeyBwYXNzaXZlOiB0cnVlIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBiYXNlIGRpbWVuc2lvbnMgb2YgdGhlIHJvb3RFbGVtZW50LlxuICAgICAqL1xuICAgIGNhbGN1bGF0ZVJvb3RFbGVtZW50RGltZW5zaW9uc18oKSB7XG4gICAgICAgIGNvbnN0IGRvY1JlY3QgPSBkb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCByZWN0ID0gdGhpcy5yb290RWxlbWVudF8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgY2VudGVyIHBvaW50LlxuICAgICAgICBjb25zdCB4Q2VudGVyID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IHlDZW50ZXIgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zXyA9IHtcbiAgICAgICAgICAgIHdpZHRoOiByZWN0LndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodCxcbiAgICAgICAgICAgIGhhbGZXaWR0aDogcmVjdC53aWR0aCAvIDIsXG4gICAgICAgICAgICBoYWxmSGVpZ2h0OiByZWN0LmhlaWdodCAvIDIsXG4gICAgICAgICAgICB0b3A6IHJlY3QudG9wLFxuICAgICAgICAgICAgbGVmdDogcmVjdC5sZWZ0LFxuICAgICAgICAgICAgeENlbnRlcjogeENlbnRlcixcbiAgICAgICAgICAgIHlDZW50ZXI6IHlDZW50ZXIsXG4gICAgICAgICAgICBkb2NXaWR0aDogZG9jUmVjdC53aWR0aCxcbiAgICAgICAgICAgIGRvY0hlaWdodDogZG9jUmVjdC5oZWlnaHQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9uIHNjcm9sbCB1cGRhdGUgdGhlIFkgcG9zaXRpb24gc28gdGhhdCB0aGUgbW91c2VcbiAgICAgKiBwb3NpdGlvbiBhbHdheXMgdXBkYXRlcy5cbiAgICAgKi9cbiAgICBvblNjcm9sbCgpIHtcbiAgICAgICAgdGhpcy53aW5kb3dZID0gd2luZG93LnNjcm9sbFk7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMud2luZG93WSAtIHRoaXMubGFzdFdpbmRvd1k7XG4gICAgICAgIGNvbnN0IHkgPSB0aGlzLmxhc3RQb3NpdGlvbi55ICsgb2Zmc2V0O1xuICAgICAgICB0aGlzLnVwZGF0ZU1vdXNlRGF0YSh0aGlzLmxhc3RQb3NpdGlvbi54LCB5KTtcbiAgICAgICAgdGhpcy5tb3ZlQ2FsbEJhY2sgJiYgdGhpcy5tb3ZlQ2FsbEJhY2sodGhpcy5tb3VzZURhdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSBtb3VzZVJvb3RFbGVtZW50IG1vdmUuXG4gICAgICogQHR5cGUge01vdXNlRXZlbnR9XG4gICAgICovXG4gICAgb25Nb3VzZU1vdmUoZSkge1xuICAgICAgICBjb25zdCB4ID0gZS5wYWdlWCB8fCBlLmNsaWVudFg7XG4gICAgICAgIGNvbnN0IHkgPSBlLnBhZ2VZIHx8IGUuY2xpZW50WTtcbiAgICAgICAgdGhpcy5sYXN0V2luZG93WSA9IHdpbmRvdy5zY3JvbGxZO1xuICAgICAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IHRoaXMucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgdGhpcy51cGRhdGVNb3VzZURhdGEoeCwgeSk7XG4gICAgICAgIHRoaXMubW92ZUNhbGxCYWNrICYmIHRoaXMubW92ZUNhbGxCYWNrKHRoaXMubW91c2VEYXRhKTtcbiAgICB9XG4gICAgdXBkYXRlTW91c2VEYXRhKHgsIHkpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0geDtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0geTtcbiAgICAgICAgdGhpcy5tb3VzZURhdGEgPSB7XG4gICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5wb3NpdGlvbixcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgZGVsdGFYOiB4IC0gdGhpcy5kaW1lbnNpb25zXy54Q2VudGVyLFxuICAgICAgICAgICAgZGVsdGFZOiB5IC0gdGhpcy5kaW1lbnNpb25zXy55Q2VudGVyLFxuICAgICAgICAgICAgcGVyY2VudGFnZVg6ICgoeCAtIHRoaXMuZGltZW5zaW9uc18ueENlbnRlcikgLyB0aGlzLmRpbWVuc2lvbnNfLmRvY1dpZHRoKSAqIDEwMCxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2VZOiAoKHkgLSB0aGlzLmRpbWVuc2lvbnNfLnlDZW50ZXIpIC8gdGhpcy5kaW1lbnNpb25zXy5kb2NIZWlnaHQpICogMTAwLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSBkZXZpY2Ugb3JpZW50YXRpb24uXG4gICAgICogQHR5cGUge01vdXNlRXZlbnR9XG4gICAgICovXG4gICAgb25EZXZpY2VPcmllbnRhdGlvbihldmVudCkge1xuICAgICAgICBjb25zdCB4ID0gbWF0aGYuY2xhbXAoLTUwLCA1MCwgZXZlbnQuZ2FtbWEpO1xuICAgICAgICBjb25zdCB5ID0gbWF0aGYuY2xhbXAoLTUwLCA1MCwgZXZlbnQuYmV0YSk7XG4gICAgICAgIHRoaXMubW91c2VEYXRhID0ge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICBkZWx0YVg6IDAsXG4gICAgICAgICAgICBkZWx0YVk6IDAsXG4gICAgICAgICAgICBwZXJjZW50YWdlWDogeCxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2VZOiB5LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm1vdmVDYWxsQmFjayAmJiB0aGlzLm1vdmVDYWxsQmFjayh0aGlzLm1vdXNlRGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1vdXNlIHBvc2l0aW9ucy5cbiAgICAgKi9cbiAgICBnZXRNb3VzZVBvc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb3VzZURhdGE7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMud2F0Y2hlci5kaXNwb3NlKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW91c2UtdHJhY2tlci5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/dom/mouse-tracker.js\n");

/***/ }),

/***/ "./lib/dom/off-screen-canvas.js":
/*!**************************************!*\
  !*** ./lib/dom/off-screen-canvas.js ***!
  \**************************************/
/*! exports provided: OffScreenCanvas */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OffScreenCanvas\", function() { return OffScreenCanvas; });\n/* harmony import */ var _web_worker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./web-worker */ \"./lib/dom/web-worker.js\");\n\n/**\n * An experimental class that works with offscreen canvas and makes it\n * pretty easy to run tasks on a canvas in a separate thread.\n *\n * This works but there are some gotchas that users should be aware of.\n * As of now, offScreenCanvas is run a separate thread with\n * limitations, thisl class is best used for doing computational tasks\n * that can be wrapped in a task call.\n *\n * It may not be well suited to say try to run a huge 3D application.\n * If you want run a large app, you are probably better off making or finding\n * a different offScreenCanvas implementation.\n *\n * See the example usage in the /examples/off-screen-canvas sample.\n *\n * Read the below for the walk through.  There are several limitations.\n *\n *\n * TODO (uxder): The process of setup and be simplified.  setCanvas for example\n *     seems like an extra step.\n *\n *\n *```ts\n * import { OffScreenCanvas, is } from '@blinkk/degu';\n *\n * // Check for support and handle non-supporting browsers as you see fit.\n * if (!is.supportingOffScreenCanvas()) {\n *     throw new Error('Sorry your browser is not suppported');\n * }\n *\n * // First create an instance of OffScreenCanvas.\n * const offScreenCanvas = new OffScreenCanvas();\n *\n * // Grab the canvas element on your page (or create one).\n * const canvas = document.getElementById('canvas');\n *\n * // Now set the offscreen canvas.  This is a REQUIRED step before\n * // making calls.  It tells offScreenCanvas to prepare this canvas\n * // to be transferable via webWorkers.\n * offScreenCanvas.setCanvas(canvas);\n *\n *\n * // Create a function that will run as a web worker.  This will get executed\n * // on a different threadc.\n * //\n * // Limitation 1: Note that this  code actually ends up getting stringified\n * // (important), bundled and sent to a separate thread.\n * // Therefore, it is sandboxed in it's own world.\n * //\n * //\n * // Limitation 2:\n * // The function should accept only 1 parameter AND it must be named \"params\"\n * // by convention.  You can send any parameters up as an object.  This is done\n * // as a convention and to make it easier to wrap up.  See WebWorker for more.\n * //\n *  const task = (params) => {\n *       // If a command called init was sent, set the canvas\n *        if (params.command === 'init') {\n *           self.canvas = params.canvas;\n *           console.log(\"Hello\", params.name);\n *           self.ctx = canvas.getContext('2d');\n *        }\n *\n *       // Defines an animation loop.\n *       var animate = () => {\n *           // Do something cool.\n *           // This will draw on the canvas (on your main thread)\n *           ctx.fillRect(0, 0, 150, 75);\n *           requestAnimationFrame(animate);\n *       };\n *\n *       if (params.command === 'animate') {\n *         animate();\n *         // Return a mesagge when animate is sent.\n *         return { message: 'FROM WORKER: started animation' };\n *       }\n *   };\n *\n * // Now bind and set that task to your instanfe of OffScreenCanvas.\n * // This will tell offScreenCanvas to run your task in a separate thread.\n * offScreenCanvas.setCanvasTask(task);\n *\n *\n * // Now initialize offscreen canvas.  The canvas is automatically sent\n * // and will be available in your task with params.canvas.  You can send\n * // additional key/value data.\n *  offScreenCanvas.init({\n *     command: 'init',\n *     name: 'Scott'\n *   }).then((message) => {\n *\n *            // Once initialized, send additional commands with\n *            // sendMessageToCanvas.\n *            offScreenCanvas.sendMessageToCanvas({\n *                command: 'animate',\n *                data: 'John'\n *            }).then((message) => {\n *                console.log(message); // FROM WORKER: started animation\n *            });\n *        });\n *  }\n *\n * // When you are all done, don't forget to terminate the WebWorker.\n * offScreenCanvas.terminate();\n * ```\n *\n *\n * Now assuing you had the canvas you set attached to the DOM, you should\n * see the canvas draw itself.  This is because, when you ran\n * [[OffScreenCanvas.setCanvas]], you basically set it to release control of it\n * to a separate worker.  So the manipulations to the canvas\n * (draw call on context) get updated and visible.\n *\n *\n * @unstable\n */\nclass OffScreenCanvas {\n    constructor() {\n        this.canvas = null;\n        this.offScreenHandler = null;\n        this.worker = null;\n        this.canvasSent = false;\n        this.initialized = false;\n    }\n    /**\n     * Sets the canvas to be used as offSetCanvas.  Save the canvas to be\n     * used.\n     * @param canvas\n     */\n    setCanvas(canvas) {\n        this.canvas = canvas;\n        // Make this into an offscreen canvas.\n        this.canvas = this.canvas['transferControlToOffscreen']();\n    }\n    /**\n     * The handler for the offscreen canvas worker.\n     * Note that the contents of this task are stringified and send to a separate\n     * thread so the contents of the task are sandboxed.  Same limitations as\n     * regular webworkers applieds (no access to DOM for exmaple)\n     * @param message\n     */\n    setCanvasTask(task) {\n        this.offScreenHandler = task;\n        this.worker = new _web_worker__WEBPACK_IMPORTED_MODULE_0__[\"WebWorker\"](this.offScreenHandler);\n    }\n    /**\n     * Sends the first message to the worker with the transferable canvas\n     */\n    init(message) {\n        if (!this.canvas) {\n            throw new Error('Set your canvas first.');\n        }\n        if (!this.worker) {\n            throw new Error('Set off screen handler first.');\n        }\n        this.initialized = true;\n        message['canvas'] = this.canvas;\n        this.canvasSent = true;\n        return this.worker.run(message, [this.canvas]);\n    }\n    /**\n     * Sends a message to the worker.\n     * @param message\n     */\n    sendMessageToCanvas(message) {\n        if (!this.canvasSent || !this.worker || !this.canvas || !this.initialized) {\n            throw new Error('You must initialize must.');\n        }\n        return this.worker.run(message);\n    }\n    dispose() {\n        this.worker && this.worker.terminate();\n    }\n}\n//# sourceMappingURL=off-screen-canvas.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL29mZi1zY3JlZW4tY2FudmFzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RvbS9vZmYtc2NyZWVuLWNhbnZhcy5qcz8xZjg3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFdlYldvcmtlciB9IGZyb20gJy4vd2ViLXdvcmtlcic7XG4vKipcbiAqIEFuIGV4cGVyaW1lbnRhbCBjbGFzcyB0aGF0IHdvcmtzIHdpdGggb2Zmc2NyZWVuIGNhbnZhcyBhbmQgbWFrZXMgaXRcbiAqIHByZXR0eSBlYXN5IHRvIHJ1biB0YXNrcyBvbiBhIGNhbnZhcyBpbiBhIHNlcGFyYXRlIHRocmVhZC5cbiAqXG4gKiBUaGlzIHdvcmtzIGJ1dCB0aGVyZSBhcmUgc29tZSBnb3RjaGFzIHRoYXQgdXNlcnMgc2hvdWxkIGJlIGF3YXJlIG9mLlxuICogQXMgb2Ygbm93LCBvZmZTY3JlZW5DYW52YXMgaXMgcnVuIGEgc2VwYXJhdGUgdGhyZWFkIHdpdGhcbiAqIGxpbWl0YXRpb25zLCB0aGlzbCBjbGFzcyBpcyBiZXN0IHVzZWQgZm9yIGRvaW5nIGNvbXB1dGF0aW9uYWwgdGFza3NcbiAqIHRoYXQgY2FuIGJlIHdyYXBwZWQgaW4gYSB0YXNrIGNhbGwuXG4gKlxuICogSXQgbWF5IG5vdCBiZSB3ZWxsIHN1aXRlZCB0byBzYXkgdHJ5IHRvIHJ1biBhIGh1Z2UgM0QgYXBwbGljYXRpb24uXG4gKiBJZiB5b3Ugd2FudCBydW4gYSBsYXJnZSBhcHAsIHlvdSBhcmUgcHJvYmFibHkgYmV0dGVyIG9mZiBtYWtpbmcgb3IgZmluZGluZ1xuICogYSBkaWZmZXJlbnQgb2ZmU2NyZWVuQ2FudmFzIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIFNlZSB0aGUgZXhhbXBsZSB1c2FnZSBpbiB0aGUgL2V4YW1wbGVzL29mZi1zY3JlZW4tY2FudmFzIHNhbXBsZS5cbiAqXG4gKiBSZWFkIHRoZSBiZWxvdyBmb3IgdGhlIHdhbGsgdGhyb3VnaC4gIFRoZXJlIGFyZSBzZXZlcmFsIGxpbWl0YXRpb25zLlxuICpcbiAqXG4gKiBUT0RPICh1eGRlcik6IFRoZSBwcm9jZXNzIG9mIHNldHVwIGFuZCBiZSBzaW1wbGlmaWVkLiAgc2V0Q2FudmFzIGZvciBleGFtcGxlXG4gKiAgICAgc2VlbXMgbGlrZSBhbiBleHRyYSBzdGVwLlxuICpcbiAqXG4gKmBgYHRzXG4gKiBpbXBvcnQgeyBPZmZTY3JlZW5DYW52YXMsIGlzIH0gZnJvbSAnQGJsaW5ray9kZWd1JztcbiAqXG4gKiAvLyBDaGVjayBmb3Igc3VwcG9ydCBhbmQgaGFuZGxlIG5vbi1zdXBwb3J0aW5nIGJyb3dzZXJzIGFzIHlvdSBzZWUgZml0LlxuICogaWYgKCFpcy5zdXBwb3J0aW5nT2ZmU2NyZWVuQ2FudmFzKCkpIHtcbiAqICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvcnJ5IHlvdXIgYnJvd3NlciBpcyBub3Qgc3VwcHBvcnRlZCcpO1xuICogfVxuICpcbiAqIC8vIEZpcnN0IGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiBPZmZTY3JlZW5DYW52YXMuXG4gKiBjb25zdCBvZmZTY3JlZW5DYW52YXMgPSBuZXcgT2ZmU2NyZWVuQ2FudmFzKCk7XG4gKlxuICogLy8gR3JhYiB0aGUgY2FudmFzIGVsZW1lbnQgb24geW91ciBwYWdlIChvciBjcmVhdGUgb25lKS5cbiAqIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcbiAqXG4gKiAvLyBOb3cgc2V0IHRoZSBvZmZzY3JlZW4gY2FudmFzLiAgVGhpcyBpcyBhIFJFUVVJUkVEIHN0ZXAgYmVmb3JlXG4gKiAvLyBtYWtpbmcgY2FsbHMuICBJdCB0ZWxscyBvZmZTY3JlZW5DYW52YXMgdG8gcHJlcGFyZSB0aGlzIGNhbnZhc1xuICogLy8gdG8gYmUgdHJhbnNmZXJhYmxlIHZpYSB3ZWJXb3JrZXJzLlxuICogb2ZmU2NyZWVuQ2FudmFzLnNldENhbnZhcyhjYW52YXMpO1xuICpcbiAqXG4gKiAvLyBDcmVhdGUgYSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuIGFzIGEgd2ViIHdvcmtlci4gIFRoaXMgd2lsbCBnZXQgZXhlY3V0ZWRcbiAqIC8vIG9uIGEgZGlmZmVyZW50IHRocmVhZGMuXG4gKiAvL1xuICogLy8gTGltaXRhdGlvbiAxOiBOb3RlIHRoYXQgdGhpcyAgY29kZSBhY3R1YWxseSBlbmRzIHVwIGdldHRpbmcgc3RyaW5naWZpZWRcbiAqIC8vIChpbXBvcnRhbnQpLCBidW5kbGVkIGFuZCBzZW50IHRvIGEgc2VwYXJhdGUgdGhyZWFkLlxuICogLy8gVGhlcmVmb3JlLCBpdCBpcyBzYW5kYm94ZWQgaW4gaXQncyBvd24gd29ybGQuXG4gKiAvL1xuICogLy9cbiAqIC8vIExpbWl0YXRpb24gMjpcbiAqIC8vIFRoZSBmdW5jdGlvbiBzaG91bGQgYWNjZXB0IG9ubHkgMSBwYXJhbWV0ZXIgQU5EIGl0IG11c3QgYmUgbmFtZWQgXCJwYXJhbXNcIlxuICogLy8gYnkgY29udmVudGlvbi4gIFlvdSBjYW4gc2VuZCBhbnkgcGFyYW1ldGVycyB1cCBhcyBhbiBvYmplY3QuICBUaGlzIGlzIGRvbmVcbiAqIC8vIGFzIGEgY29udmVudGlvbiBhbmQgdG8gbWFrZSBpdCBlYXNpZXIgdG8gd3JhcCB1cC4gIFNlZSBXZWJXb3JrZXIgZm9yIG1vcmUuXG4gKiAvL1xuICogIGNvbnN0IHRhc2sgPSAocGFyYW1zKSA9PiB7XG4gKiAgICAgICAvLyBJZiBhIGNvbW1hbmQgY2FsbGVkIGluaXQgd2FzIHNlbnQsIHNldCB0aGUgY2FudmFzXG4gKiAgICAgICAgaWYgKHBhcmFtcy5jb21tYW5kID09PSAnaW5pdCcpIHtcbiAqICAgICAgICAgICBzZWxmLmNhbnZhcyA9IHBhcmFtcy5jYW52YXM7XG4gKiAgICAgICAgICAgY29uc29sZS5sb2coXCJIZWxsb1wiLCBwYXJhbXMubmFtZSk7XG4gKiAgICAgICAgICAgc2VsZi5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAqICAgICAgICB9XG4gKlxuICogICAgICAgLy8gRGVmaW5lcyBhbiBhbmltYXRpb24gbG9vcC5cbiAqICAgICAgIHZhciBhbmltYXRlID0gKCkgPT4ge1xuICogICAgICAgICAgIC8vIERvIHNvbWV0aGluZyBjb29sLlxuICogICAgICAgICAgIC8vIFRoaXMgd2lsbCBkcmF3IG9uIHRoZSBjYW52YXMgKG9uIHlvdXIgbWFpbiB0aHJlYWQpXG4gKiAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIDE1MCwgNzUpO1xuICogICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAqICAgICAgIH07XG4gKlxuICogICAgICAgaWYgKHBhcmFtcy5jb21tYW5kID09PSAnYW5pbWF0ZScpIHtcbiAqICAgICAgICAgYW5pbWF0ZSgpO1xuICogICAgICAgICAvLyBSZXR1cm4gYSBtZXNhZ2dlIHdoZW4gYW5pbWF0ZSBpcyBzZW50LlxuICogICAgICAgICByZXR1cm4geyBtZXNzYWdlOiAnRlJPTSBXT1JLRVI6IHN0YXJ0ZWQgYW5pbWF0aW9uJyB9O1xuICogICAgICAgfVxuICogICB9O1xuICpcbiAqIC8vIE5vdyBiaW5kIGFuZCBzZXQgdGhhdCB0YXNrIHRvIHlvdXIgaW5zdGFuZmUgb2YgT2ZmU2NyZWVuQ2FudmFzLlxuICogLy8gVGhpcyB3aWxsIHRlbGwgb2ZmU2NyZWVuQ2FudmFzIHRvIHJ1biB5b3VyIHRhc2sgaW4gYSBzZXBhcmF0ZSB0aHJlYWQuXG4gKiBvZmZTY3JlZW5DYW52YXMuc2V0Q2FudmFzVGFzayh0YXNrKTtcbiAqXG4gKlxuICogLy8gTm93IGluaXRpYWxpemUgb2Zmc2NyZWVuIGNhbnZhcy4gIFRoZSBjYW52YXMgaXMgYXV0b21hdGljYWxseSBzZW50XG4gKiAvLyBhbmQgd2lsbCBiZSBhdmFpbGFibGUgaW4geW91ciB0YXNrIHdpdGggcGFyYW1zLmNhbnZhcy4gIFlvdSBjYW4gc2VuZFxuICogLy8gYWRkaXRpb25hbCBrZXkvdmFsdWUgZGF0YS5cbiAqICBvZmZTY3JlZW5DYW52YXMuaW5pdCh7XG4gKiAgICAgY29tbWFuZDogJ2luaXQnLFxuICogICAgIG5hbWU6ICdTY290dCdcbiAqICAgfSkudGhlbigobWVzc2FnZSkgPT4ge1xuICpcbiAqICAgICAgICAgICAgLy8gT25jZSBpbml0aWFsaXplZCwgc2VuZCBhZGRpdGlvbmFsIGNvbW1hbmRzIHdpdGhcbiAqICAgICAgICAgICAgLy8gc2VuZE1lc3NhZ2VUb0NhbnZhcy5cbiAqICAgICAgICAgICAgb2ZmU2NyZWVuQ2FudmFzLnNlbmRNZXNzYWdlVG9DYW52YXMoe1xuICogICAgICAgICAgICAgICAgY29tbWFuZDogJ2FuaW1hdGUnLFxuICogICAgICAgICAgICAgICAgZGF0YTogJ0pvaG4nXG4gKiAgICAgICAgICAgIH0pLnRoZW4oKG1lc3NhZ2UpID0+IHtcbiAqICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpOyAvLyBGUk9NIFdPUktFUjogc3RhcnRlZCBhbmltYXRpb25cbiAqICAgICAgICAgICAgfSk7XG4gKiAgICAgICAgfSk7XG4gKiAgfVxuICpcbiAqIC8vIFdoZW4geW91IGFyZSBhbGwgZG9uZSwgZG9uJ3QgZm9yZ2V0IHRvIHRlcm1pbmF0ZSB0aGUgV2ViV29ya2VyLlxuICogb2ZmU2NyZWVuQ2FudmFzLnRlcm1pbmF0ZSgpO1xuICogYGBgXG4gKlxuICpcbiAqIE5vdyBhc3N1aW5nIHlvdSBoYWQgdGhlIGNhbnZhcyB5b3Ugc2V0IGF0dGFjaGVkIHRvIHRoZSBET00sIHlvdSBzaG91bGRcbiAqIHNlZSB0aGUgY2FudmFzIGRyYXcgaXRzZWxmLiAgVGhpcyBpcyBiZWNhdXNlLCB3aGVuIHlvdSByYW5cbiAqIFtbT2ZmU2NyZWVuQ2FudmFzLnNldENhbnZhc11dLCB5b3UgYmFzaWNhbGx5IHNldCBpdCB0byByZWxlYXNlIGNvbnRyb2wgb2YgaXRcbiAqIHRvIGEgc2VwYXJhdGUgd29ya2VyLiAgU28gdGhlIG1hbmlwdWxhdGlvbnMgdG8gdGhlIGNhbnZhc1xuICogKGRyYXcgY2FsbCBvbiBjb250ZXh0KSBnZXQgdXBkYXRlZCBhbmQgdmlzaWJsZS5cbiAqXG4gKlxuICogQHVuc3RhYmxlXG4gKi9cbmV4cG9ydCBjbGFzcyBPZmZTY3JlZW5DYW52YXMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gICAgICAgIHRoaXMub2ZmU2NyZWVuSGFuZGxlciA9IG51bGw7XG4gICAgICAgIHRoaXMud29ya2VyID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYW52YXNTZW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY2FudmFzIHRvIGJlIHVzZWQgYXMgb2ZmU2V0Q2FudmFzLiAgU2F2ZSB0aGUgY2FudmFzIHRvIGJlXG4gICAgICogdXNlZC5cbiAgICAgKiBAcGFyYW0gY2FudmFzXG4gICAgICovXG4gICAgc2V0Q2FudmFzKGNhbnZhcykge1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgLy8gTWFrZSB0aGlzIGludG8gYW4gb2Zmc2NyZWVuIGNhbnZhcy5cbiAgICAgICAgdGhpcy5jYW52YXMgPSB0aGlzLmNhbnZhc1sndHJhbnNmZXJDb250cm9sVG9PZmZzY3JlZW4nXSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgaGFuZGxlciBmb3IgdGhlIG9mZnNjcmVlbiBjYW52YXMgd29ya2VyLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgY29udGVudHMgb2YgdGhpcyB0YXNrIGFyZSBzdHJpbmdpZmllZCBhbmQgc2VuZCB0byBhIHNlcGFyYXRlXG4gICAgICogdGhyZWFkIHNvIHRoZSBjb250ZW50cyBvZiB0aGUgdGFzayBhcmUgc2FuZGJveGVkLiAgU2FtZSBsaW1pdGF0aW9ucyBhc1xuICAgICAqIHJlZ3VsYXIgd2Vid29ya2VycyBhcHBsaWVkcyAobm8gYWNjZXNzIHRvIERPTSBmb3IgZXhtYXBsZSlcbiAgICAgKiBAcGFyYW0gbWVzc2FnZVxuICAgICAqL1xuICAgIHNldENhbnZhc1Rhc2sodGFzaykge1xuICAgICAgICB0aGlzLm9mZlNjcmVlbkhhbmRsZXIgPSB0YXNrO1xuICAgICAgICB0aGlzLndvcmtlciA9IG5ldyBXZWJXb3JrZXIodGhpcy5vZmZTY3JlZW5IYW5kbGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgdGhlIGZpcnN0IG1lc3NhZ2UgdG8gdGhlIHdvcmtlciB3aXRoIHRoZSB0cmFuc2ZlcmFibGUgY2FudmFzXG4gICAgICovXG4gICAgaW5pdChtZXNzYWdlKSB7XG4gICAgICAgIGlmICghdGhpcy5jYW52YXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2V0IHlvdXIgY2FudmFzIGZpcnN0LicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy53b3JrZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2V0IG9mZiBzY3JlZW4gaGFuZGxlciBmaXJzdC4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgbWVzc2FnZVsnY2FudmFzJ10gPSB0aGlzLmNhbnZhcztcbiAgICAgICAgdGhpcy5jYW52YXNTZW50ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMud29ya2VyLnJ1bihtZXNzYWdlLCBbdGhpcy5jYW52YXNdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBtZXNzYWdlIHRvIHRoZSB3b3JrZXIuXG4gICAgICogQHBhcmFtIG1lc3NhZ2VcbiAgICAgKi9cbiAgICBzZW5kTWVzc2FnZVRvQ2FudmFzKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhbnZhc1NlbnQgfHwgIXRoaXMud29ya2VyIHx8ICF0aGlzLmNhbnZhcyB8fCAhdGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBpbml0aWFsaXplIG11c3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMud29ya2VyLnJ1bihtZXNzYWdlKTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy53b3JrZXIgJiYgdGhpcy53b3JrZXIudGVybWluYXRlKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2ZmLXNjcmVlbi1jYW52YXMuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/dom/off-screen-canvas.js\n");

/***/ }),

/***/ "./lib/dom/scroll-render-fix.js":
/*!**************************************!*\
  !*** ./lib/dom/scroll-render-fix.js ***!
  \**************************************/
/*! exports provided: ScrollRenderFix */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ScrollRenderFix\", function() { return ScrollRenderFix; });\n/* harmony import */ var _raf_raf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _dom_watcher__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _func_noop__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../func/noop */ \"./lib/func/noop.js\");\n\n\n\n/**\n * What this class does is, it eats the window.wheel event\n * and eats the scroll.  It allows the rendering to catch up and then\n * once it is done,  it reapplies the scroll to the document.\n *\n * While this sounds counter-intuitive, it allows rendering to catchup\n * and can smooth animations.\n *\n * In short, if you have scroll tied animations or intense animations,\n * this can help fix the issue.\n *\n *\n * Thanks to Angus and Eric for this tip.\n *\n * Since this issue is chrome specific, you might want scope it to only chrome.\n * Usage:\n *\n * ```\n * if (is.chrome()) {\n *   new ScrollRenderFix();\n * }\n * ```\n *\n * To take full advantage, use toolbox mutate or degu.read / writes.\n * ```\n *\n * const raf = new Raf();\n *\n * raf.read(()=> {\n *   // do some reading\n * })\n *\n * raf.writing(()=> {\n *   // do some writing\n * })\n *\n * ```\n *\n *\n *\n */\nclass ScrollRenderFix {\n    constructor(config = {}) {\n        this.currentY = 0;\n        this.targetY = 0;\n        this.raf = new _raf_raf__WEBPACK_IMPORTED_MODULE_0__[\"Raf\"]();\n        this.beforeScrollCallback = config.beforeScrollCallback || _func_noop__WEBPACK_IMPORTED_MODULE_2__[\"noop\"];\n        this.afterScrollCallback = config.afterScrollCallback || _func_noop__WEBPACK_IMPORTED_MODULE_2__[\"noop\"];\n        this.domWatcher = new _dom_watcher__WEBPACK_IMPORTED_MODULE_1__[\"DomWatcher\"]();\n        this.domWatcher.add({\n            element: document,\n            on: 'wheel',\n            eventOptions: { passive: false, capture: true },\n            callback: this.wheelHandler.bind(this),\n        });\n    }\n    getScrollElement() {\n        return document.scrollingElement || document.documentElement;\n    }\n    wheelHandler(e) {\n        e.preventDefault();\n        this.raf.read(() => {\n            this.targetY = this.getScrollElement().scrollTop + e.deltaY;\n            this.raf.postWrite(() => {\n                this.beforeScrollCallback();\n                if (this.currentY !== this.targetY) {\n                    this.getScrollElement().scrollTop = this.targetY;\n                    this.currentY = this.targetY;\n                }\n                this.afterScrollCallback();\n            });\n        });\n    }\n    dispose() {\n        this.domWatcher && this.domWatcher.dispose();\n        this.raf && this.raf.dispose();\n    }\n}\n//# sourceMappingURL=scroll-render-fix.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL3Njcm9sbC1yZW5kZXItZml4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RvbS9zY3JvbGwtcmVuZGVyLWZpeC5qcz9iMmQzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJhZiB9IGZyb20gJy4uL3JhZi9yYWYnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4vZG9tLXdhdGNoZXInO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uL2Z1bmMvbm9vcCc7XG4vKipcbiAqIFdoYXQgdGhpcyBjbGFzcyBkb2VzIGlzLCBpdCBlYXRzIHRoZSB3aW5kb3cud2hlZWwgZXZlbnRcbiAqIGFuZCBlYXRzIHRoZSBzY3JvbGwuICBJdCBhbGxvd3MgdGhlIHJlbmRlcmluZyB0byBjYXRjaCB1cCBhbmQgdGhlblxuICogb25jZSBpdCBpcyBkb25lLCAgaXQgcmVhcHBsaWVzIHRoZSBzY3JvbGwgdG8gdGhlIGRvY3VtZW50LlxuICpcbiAqIFdoaWxlIHRoaXMgc291bmRzIGNvdW50ZXItaW50dWl0aXZlLCBpdCBhbGxvd3MgcmVuZGVyaW5nIHRvIGNhdGNodXBcbiAqIGFuZCBjYW4gc21vb3RoIGFuaW1hdGlvbnMuXG4gKlxuICogSW4gc2hvcnQsIGlmIHlvdSBoYXZlIHNjcm9sbCB0aWVkIGFuaW1hdGlvbnMgb3IgaW50ZW5zZSBhbmltYXRpb25zLFxuICogdGhpcyBjYW4gaGVscCBmaXggdGhlIGlzc3VlLlxuICpcbiAqXG4gKiBUaGFua3MgdG8gQW5ndXMgYW5kIEVyaWMgZm9yIHRoaXMgdGlwLlxuICpcbiAqIFNpbmNlIHRoaXMgaXNzdWUgaXMgY2hyb21lIHNwZWNpZmljLCB5b3UgbWlnaHQgd2FudCBzY29wZSBpdCB0byBvbmx5IGNocm9tZS5cbiAqIFVzYWdlOlxuICpcbiAqIGBgYFxuICogaWYgKGlzLmNocm9tZSgpKSB7XG4gKiAgIG5ldyBTY3JvbGxSZW5kZXJGaXgoKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIFRvIHRha2UgZnVsbCBhZHZhbnRhZ2UsIHVzZSB0b29sYm94IG11dGF0ZSBvciBkZWd1LnJlYWQgLyB3cml0ZXMuXG4gKiBgYGBcbiAqXG4gKiBjb25zdCByYWYgPSBuZXcgUmFmKCk7XG4gKlxuICogcmFmLnJlYWQoKCk9PiB7XG4gKiAgIC8vIGRvIHNvbWUgcmVhZGluZ1xuICogfSlcbiAqXG4gKiByYWYud3JpdGluZygoKT0+IHtcbiAqICAgLy8gZG8gc29tZSB3cml0aW5nXG4gKiB9KVxuICpcbiAqIGBgYFxuICpcbiAqXG4gKlxuICovXG5leHBvcnQgY2xhc3MgU2Nyb2xsUmVuZGVyRml4IHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcgPSB7fSkge1xuICAgICAgICB0aGlzLmN1cnJlbnRZID0gMDtcbiAgICAgICAgdGhpcy50YXJnZXRZID0gMDtcbiAgICAgICAgdGhpcy5yYWYgPSBuZXcgUmFmKCk7XG4gICAgICAgIHRoaXMuYmVmb3JlU2Nyb2xsQ2FsbGJhY2sgPSBjb25maWcuYmVmb3JlU2Nyb2xsQ2FsbGJhY2sgfHwgbm9vcDtcbiAgICAgICAgdGhpcy5hZnRlclNjcm9sbENhbGxiYWNrID0gY29uZmlnLmFmdGVyU2Nyb2xsQ2FsbGJhY2sgfHwgbm9vcDtcbiAgICAgICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICAgICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICAgICAgICBlbGVtZW50OiBkb2N1bWVudCxcbiAgICAgICAgICAgIG9uOiAnd2hlZWwnLFxuICAgICAgICAgICAgZXZlbnRPcHRpb25zOiB7IHBhc3NpdmU6IGZhbHNlLCBjYXB0dXJlOiB0cnVlIH0sXG4gICAgICAgICAgICBjYWxsYmFjazogdGhpcy53aGVlbEhhbmRsZXIuYmluZCh0aGlzKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFNjcm9sbEVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICB9XG4gICAgd2hlZWxIYW5kbGVyKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnJhZi5yZWFkKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0WSA9IHRoaXMuZ2V0U2Nyb2xsRWxlbWVudCgpLnNjcm9sbFRvcCArIGUuZGVsdGFZO1xuICAgICAgICAgICAgdGhpcy5yYWYucG9zdFdyaXRlKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmJlZm9yZVNjcm9sbENhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFkgIT09IHRoaXMudGFyZ2V0WSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFNjcm9sbEVsZW1lbnQoKS5zY3JvbGxUb3AgPSB0aGlzLnRhcmdldFk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFkgPSB0aGlzLnRhcmdldFk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYWZ0ZXJTY3JvbGxDYWxsYmFjaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmRvbVdhdGNoZXIgJiYgdGhpcy5kb21XYXRjaGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5yYWYgJiYgdGhpcy5yYWYuZGlzcG9zZSgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjcm9sbC1yZW5kZXItZml4LmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/dom/scroll-render-fix.js\n");

/***/ }),

/***/ "./lib/dom/text-split.js":
/*!*******************************!*\
  !*** ./lib/dom/text-split.js ***!
  \*******************************/
/*! exports provided: TextSplit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TextSplit\", function() { return TextSplit; });\n/* harmony import */ var _dom_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom/dom */ \"./lib/dom/dom.js\");\n\n/**\n * Splits the textContent of a given htmlElement and provides css variables\n * that can be used to add various text effects.\n *\n *\n * Here is a basic example.\n * ```ts\n *\n * <div id=\"myElement\">New York City</div>\n *\n * let splitter = new TextSplit({\n *   element: document.getElementById('myElement'),\n *   split: ' ' // Split by spaces.  Use '' to split by character.\n * });\n *\n * // Break up the text and wrap spans around it.\n * splitter.split();\n * ```\n *\n * This results in:\n * ```ts\n * <div id=\"myElement\" class=\"text-split-set\" style=\"--item-total-count:3\">\n *   <span style=\"--item-index:0\">New&nbsp;</span>\n *   <span style=\"--item-index:1\">York&nbsp;</span>\n *   <span style=\"--item-index:2\">City</span>\n * </div>\n *\n * ```\n *\n * Notice that on the root element, you get the total number of items,\n * and also on each element, you get an index.\n *\n * Now you can use css variables to add various effect.\n *\n * ```\n *  @keyframes textIn\n *      from\n *          opacity: 0;\n *      to\n *          opacity: 1;\n *\n *  // Help fight FOUC\n *  #myElement\n *    visiblity: hidden\n *  #myElement.text-split-set\n *    visibility: visible\n *\n *  #myElement span,\n *    position: relative\n *    font-size: 20px\n *    opacity: 0\n *    animation: textIn 1.3s ease-in-out 0s 1 forwards\n *\n *    // Create a 0.2s stagger between each item.\n *    animation-delay: calc(var(--item-index) * 0.2s\n *\n *    // More advanced.  You may not know how many words or character there are\n *    // but you want to the animation to finish in Xs seconds.\n *    // Using item-total-count, you can break the subdivisions.\n *    // Here no matter how many words/characters there are, set it so that the\n *    // stagger animation always completes in 1s.\n *    animation-delay: calc(var(--item-index) * (1s / var(--item-total-count)))\n * ```\n *\n */\nclass TextSplit {\n    constructor(config) {\n        this.config = config;\n        this.convertSpacesToNbsp = this.config.split === ' ';\n        // Patch to get around <sup> at the end of sentances for now.\n        // This is rather hacky and assumes all <sup> in the text\n        // are at the end of sentances.\n        this.sups = Array.from(this.config.element.querySelectorAll('sup'));\n        // Remove sups.\n        this.sups.forEach(sup => {\n            _dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"removeElement\"](sup);\n        });\n        // this.originalText = this.config.element.textContent!;\n        this.originalText = this.config.element.textContent;\n        // Convert any &nbsp to space.\n        if (this.convertSpacesToNbsp) {\n            const re = new RegExp(String.fromCharCode(160), 'g');\n            this.originalText = this.originalText.replace(re, ' ');\n        }\n        this.splits = this.originalText.trim().split(this.config.split);\n    }\n    /**\n     * Splits the text and wraps <span> around each sub item.\n     */\n    split() {\n        this.config.element.innerHTML = '';\n        this.splits.forEach((word, i) => {\n            // Add spaces to the end of each word if it's not the last one.\n            if (this.convertSpacesToNbsp && i !== this.splits.length - 1) {\n                word += '&nbsp;';\n            }\n            const element = _dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"createElementFromString\"](`<span>${word}</span>`);\n            _dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"setCssVariable\"](element, '--item-index', i + '');\n            this.config.element.appendChild(element);\n        });\n        // Futher append any sups.\n        this.sups &&\n            this.sups.forEach((sup, i) => {\n                const span = _dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"createElementFromString\"]('<span></span>');\n                _dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"setCssVariable\"](span, '--item-index', this.splits.length + i + '');\n                span.appendChild(sup);\n                this.config.element.appendChild(span);\n            });\n        // Add total count to root element.\n        _dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"setCssVariable\"](this.config.element, '--item-total-count', this.splits.length + '');\n        this.config.element.classList.add('text-split-set');\n    }\n}\n//# sourceMappingURL=text-split.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL3RleHQtc3BsaXQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZG9tL3RleHQtc3BsaXQuanM/NzRjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBkb20gZnJvbSAnLi4vZG9tL2RvbSc7XG4vKipcbiAqIFNwbGl0cyB0aGUgdGV4dENvbnRlbnQgb2YgYSBnaXZlbiBodG1sRWxlbWVudCBhbmQgcHJvdmlkZXMgY3NzIHZhcmlhYmxlc1xuICogdGhhdCBjYW4gYmUgdXNlZCB0byBhZGQgdmFyaW91cyB0ZXh0IGVmZmVjdHMuXG4gKlxuICpcbiAqIEhlcmUgaXMgYSBiYXNpYyBleGFtcGxlLlxuICogYGBgdHNcbiAqXG4gKiA8ZGl2IGlkPVwibXlFbGVtZW50XCI+TmV3IFlvcmsgQ2l0eTwvZGl2PlxuICpcbiAqIGxldCBzcGxpdHRlciA9IG5ldyBUZXh0U3BsaXQoe1xuICogICBlbGVtZW50OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlFbGVtZW50JyksXG4gKiAgIHNwbGl0OiAnICcgLy8gU3BsaXQgYnkgc3BhY2VzLiAgVXNlICcnIHRvIHNwbGl0IGJ5IGNoYXJhY3Rlci5cbiAqIH0pO1xuICpcbiAqIC8vIEJyZWFrIHVwIHRoZSB0ZXh0IGFuZCB3cmFwIHNwYW5zIGFyb3VuZCBpdC5cbiAqIHNwbGl0dGVyLnNwbGl0KCk7XG4gKiBgYGBcbiAqXG4gKiBUaGlzIHJlc3VsdHMgaW46XG4gKiBgYGB0c1xuICogPGRpdiBpZD1cIm15RWxlbWVudFwiIGNsYXNzPVwidGV4dC1zcGxpdC1zZXRcIiBzdHlsZT1cIi0taXRlbS10b3RhbC1jb3VudDozXCI+XG4gKiAgIDxzcGFuIHN0eWxlPVwiLS1pdGVtLWluZGV4OjBcIj5OZXcmbmJzcDs8L3NwYW4+XG4gKiAgIDxzcGFuIHN0eWxlPVwiLS1pdGVtLWluZGV4OjFcIj5Zb3JrJm5ic3A7PC9zcGFuPlxuICogICA8c3BhbiBzdHlsZT1cIi0taXRlbS1pbmRleDoyXCI+Q2l0eTwvc3Bhbj5cbiAqIDwvZGl2PlxuICpcbiAqIGBgYFxuICpcbiAqIE5vdGljZSB0aGF0IG9uIHRoZSByb290IGVsZW1lbnQsIHlvdSBnZXQgdGhlIHRvdGFsIG51bWJlciBvZiBpdGVtcyxcbiAqIGFuZCBhbHNvIG9uIGVhY2ggZWxlbWVudCwgeW91IGdldCBhbiBpbmRleC5cbiAqXG4gKiBOb3cgeW91IGNhbiB1c2UgY3NzIHZhcmlhYmxlcyB0byBhZGQgdmFyaW91cyBlZmZlY3QuXG4gKlxuICogYGBgXG4gKiAgQGtleWZyYW1lcyB0ZXh0SW5cbiAqICAgICAgZnJvbVxuICogICAgICAgICAgb3BhY2l0eTogMDtcbiAqICAgICAgdG9cbiAqICAgICAgICAgIG9wYWNpdHk6IDE7XG4gKlxuICogIC8vIEhlbHAgZmlnaHQgRk9VQ1xuICogICNteUVsZW1lbnRcbiAqICAgIHZpc2libGl0eTogaGlkZGVuXG4gKiAgI215RWxlbWVudC50ZXh0LXNwbGl0LXNldFxuICogICAgdmlzaWJpbGl0eTogdmlzaWJsZVxuICpcbiAqICAjbXlFbGVtZW50IHNwYW4sXG4gKiAgICBwb3NpdGlvbjogcmVsYXRpdmVcbiAqICAgIGZvbnQtc2l6ZTogMjBweFxuICogICAgb3BhY2l0eTogMFxuICogICAgYW5pbWF0aW9uOiB0ZXh0SW4gMS4zcyBlYXNlLWluLW91dCAwcyAxIGZvcndhcmRzXG4gKlxuICogICAgLy8gQ3JlYXRlIGEgMC4ycyBzdGFnZ2VyIGJldHdlZW4gZWFjaCBpdGVtLlxuICogICAgYW5pbWF0aW9uLWRlbGF5OiBjYWxjKHZhcigtLWl0ZW0taW5kZXgpICogMC4yc1xuICpcbiAqICAgIC8vIE1vcmUgYWR2YW5jZWQuICBZb3UgbWF5IG5vdCBrbm93IGhvdyBtYW55IHdvcmRzIG9yIGNoYXJhY3RlciB0aGVyZSBhcmVcbiAqICAgIC8vIGJ1dCB5b3Ugd2FudCB0byB0aGUgYW5pbWF0aW9uIHRvIGZpbmlzaCBpbiBYcyBzZWNvbmRzLlxuICogICAgLy8gVXNpbmcgaXRlbS10b3RhbC1jb3VudCwgeW91IGNhbiBicmVhayB0aGUgc3ViZGl2aXNpb25zLlxuICogICAgLy8gSGVyZSBubyBtYXR0ZXIgaG93IG1hbnkgd29yZHMvY2hhcmFjdGVycyB0aGVyZSBhcmUsIHNldCBpdCBzbyB0aGF0IHRoZVxuICogICAgLy8gc3RhZ2dlciBhbmltYXRpb24gYWx3YXlzIGNvbXBsZXRlcyBpbiAxcy5cbiAqICAgIGFuaW1hdGlvbi1kZWxheTogY2FsYyh2YXIoLS1pdGVtLWluZGV4KSAqICgxcyAvIHZhcigtLWl0ZW0tdG90YWwtY291bnQpKSlcbiAqIGBgYFxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIFRleHRTcGxpdCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLmNvbnZlcnRTcGFjZXNUb05ic3AgPSB0aGlzLmNvbmZpZy5zcGxpdCA9PT0gJyAnO1xuICAgICAgICAvLyBQYXRjaCB0byBnZXQgYXJvdW5kIDxzdXA+IGF0IHRoZSBlbmQgb2Ygc2VudGFuY2VzIGZvciBub3cuXG4gICAgICAgIC8vIFRoaXMgaXMgcmF0aGVyIGhhY2t5IGFuZCBhc3N1bWVzIGFsbCA8c3VwPiBpbiB0aGUgdGV4dFxuICAgICAgICAvLyBhcmUgYXQgdGhlIGVuZCBvZiBzZW50YW5jZXMuXG4gICAgICAgIHRoaXMuc3VwcyA9IEFycmF5LmZyb20odGhpcy5jb25maWcuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzdXAnKSk7XG4gICAgICAgIC8vIFJlbW92ZSBzdXBzLlxuICAgICAgICB0aGlzLnN1cHMuZm9yRWFjaChzdXAgPT4ge1xuICAgICAgICAgICAgZG9tLnJlbW92ZUVsZW1lbnQoc3VwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHRoaXMub3JpZ2luYWxUZXh0ID0gdGhpcy5jb25maWcuZWxlbWVudC50ZXh0Q29udGVudCE7XG4gICAgICAgIHRoaXMub3JpZ2luYWxUZXh0ID0gdGhpcy5jb25maWcuZWxlbWVudC50ZXh0Q29udGVudDtcbiAgICAgICAgLy8gQ29udmVydCBhbnkgJm5ic3AgdG8gc3BhY2UuXG4gICAgICAgIGlmICh0aGlzLmNvbnZlcnRTcGFjZXNUb05ic3ApIHtcbiAgICAgICAgICAgIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChTdHJpbmcuZnJvbUNoYXJDb2RlKDE2MCksICdnJyk7XG4gICAgICAgICAgICB0aGlzLm9yaWdpbmFsVGV4dCA9IHRoaXMub3JpZ2luYWxUZXh0LnJlcGxhY2UocmUsICcgJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zcGxpdHMgPSB0aGlzLm9yaWdpbmFsVGV4dC50cmltKCkuc3BsaXQodGhpcy5jb25maWcuc3BsaXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgdGhlIHRleHQgYW5kIHdyYXBzIDxzcGFuPiBhcm91bmQgZWFjaCBzdWIgaXRlbS5cbiAgICAgKi9cbiAgICBzcGxpdCgpIHtcbiAgICAgICAgdGhpcy5jb25maWcuZWxlbWVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgdGhpcy5zcGxpdHMuZm9yRWFjaCgod29yZCwgaSkgPT4ge1xuICAgICAgICAgICAgLy8gQWRkIHNwYWNlcyB0byB0aGUgZW5kIG9mIGVhY2ggd29yZCBpZiBpdCdzIG5vdCB0aGUgbGFzdCBvbmUuXG4gICAgICAgICAgICBpZiAodGhpcy5jb252ZXJ0U3BhY2VzVG9OYnNwICYmIGkgIT09IHRoaXMuc3BsaXRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICB3b3JkICs9ICcmbmJzcDsnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvbS5jcmVhdGVFbGVtZW50RnJvbVN0cmluZyhgPHNwYW4+JHt3b3JkfTwvc3Bhbj5gKTtcbiAgICAgICAgICAgIGRvbS5zZXRDc3NWYXJpYWJsZShlbGVtZW50LCAnLS1pdGVtLWluZGV4JywgaSArICcnKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmVsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBGdXRoZXIgYXBwZW5kIGFueSBzdXBzLlxuICAgICAgICB0aGlzLnN1cHMgJiZcbiAgICAgICAgICAgIHRoaXMuc3Vwcy5mb3JFYWNoKChzdXAsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzcGFuID0gZG9tLmNyZWF0ZUVsZW1lbnRGcm9tU3RyaW5nKCc8c3Bhbj48L3NwYW4+Jyk7XG4gICAgICAgICAgICAgICAgZG9tLnNldENzc1ZhcmlhYmxlKHNwYW4sICctLWl0ZW0taW5kZXgnLCB0aGlzLnNwbGl0cy5sZW5ndGggKyBpICsgJycpO1xuICAgICAgICAgICAgICAgIHNwYW4uYXBwZW5kQ2hpbGQoc3VwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5lbGVtZW50LmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIC8vIEFkZCB0b3RhbCBjb3VudCB0byByb290IGVsZW1lbnQuXG4gICAgICAgIGRvbS5zZXRDc3NWYXJpYWJsZSh0aGlzLmNvbmZpZy5lbGVtZW50LCAnLS1pdGVtLXRvdGFsLWNvdW50JywgdGhpcy5zcGxpdHMubGVuZ3RoICsgJycpO1xuICAgICAgICB0aGlzLmNvbmZpZy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3RleHQtc3BsaXQtc2V0Jyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dC1zcGxpdC5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/dom/text-split.js\n");

/***/ }),

/***/ "./lib/dom/vector-dom-force.js":
/*!*************************************!*\
  !*** ./lib/dom/vector-dom-force.js ***!
  \*************************************/
/*! exports provided: VectorDomForce */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VectorDomForce\", function() { return VectorDomForce; });\n/* harmony import */ var _mathf_vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\n\n/**\n * A component class that adds external forces options to DOM vector.\n * @unstable\n * @hidden\n */\nclass VectorDomForce {\n    constructor(vc) {\n        this.host = vc;\n        this.element = vc.element;\n        this.rotationMouseForce = _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"].ZERO;\n        this.rotationScrollYForce = _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"].ZERO;\n    }\n    /**\n     * Takes the distance to the mouse position as a force and applies an\n     * effect where the mouse \"pushes\" the element.  This creates a slight\n     * interaction effect.\n     *\n     * The push force is added to the rotation vector.\n     *\n     * Note this is rather experiemental at this point and it may cause\n     * side effects.\n     *\n     * This method should be called PRIOR to calling render in the render loop.\n     *\n     *\n     * Example:\n     *\n     * ```ts\n     *\n     * let myVector = new VectorDom(element);\n     *\n     * new Raf(()=> {\n     *\n     *   myVector._.force.mouseRotationForce();\n     *   myVector.render();\n     *\n     * }).start();\n     *\n     *\n     * ```\n     *\n     *\n     * To pull the element towards the mouse, you can pass negative scale values.\n     *\n     * ```ts\n     *\n     * let myVector = new VectorDom(element);\n     * new Raf(()=> {\n     *   myVector._.force.mouseRotationForce(-0.0005, -0.0005, 0, 0.03);\n     *   myVector.render();\n     * }).start();\n     *\n     * ```\n     */\n    mouseRotationForce(xScalar = 0.0005, yScalar = 0.0005, zScalar = 0) {\n        const mouse = this.host.mouse;\n        const globalElementCenterPosition = this.host.globalElementCenterPosition;\n        const globalMousePosition = mouse.position.clone();\n        globalMousePosition.y = globalMousePosition.y - window.scrollY;\n        // Get the angle difference between target and the center of this element.\n        const angleDelta = _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"].getXyzRotationTo(globalElementCenterPosition, globalMousePosition);\n        // Scale the angleDelta.\n        angleDelta[0] = angleDelta[0] * xScalar;\n        angleDelta[1] = angleDelta[1] * yScalar * 0;\n        angleDelta[2] = angleDelta[2] * zScalar * 0;\n        // Make that into a vector.\n        const targetRotation = _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"].fromArray(angleDelta);\n        // TODO (uxder) Is rx inverted?\n        targetRotation.x = -targetRotation.x;\n        console.log(targetRotation.x);\n        // // Now lerp the cachec rotationMouseForce.\n        // this.rotationMouseForce.lerp(targetRotation, lerp);\n        // // Now figure out closest direction to reach the target rotation.\n        // // What this helps with is when the element is complmetely reverted,\n        // // it still maintains the same mouse force effect (non inverted).\n        // let xDistance = mathf.angleDistanceRadian(targetRotation.x, diff.x);\n        // let yDistance = mathf.angleDistanceRadian(targetRotation.y, diff.y);\n        // let zDistance = mathf.angleDistanceRadian(targetRotation.z, diff.z);\n        // let force = new Vector(xDistance, yDistance, zDistance);\n        this.host.rotation = this.host.rotation.clone().add(targetRotation);\n    }\n    /**\n     * Based on the center of the window, adds a rotational force to this element.\n     * Basically, when the element reaches the center of the screen, this\n     * force would be 0 and the farther it gets aways from the center, more\n     * rotatonal force is applied to the element.\n     *\n     * Since this is based only the y axis, you can apply the force in different ways.\n     *\n     *\n     * This example is a basic example in which the element gets pulls in\n     * rotationY based on its distance to the center Y of the screen.\n     *\n     * ```ts\n     *\n     * let myVector = new VectorDom(element);\n     * new Raf(()=> {\n     *   myVector._.force.scrollYRotationForce();\n     *   myVector.render();\n     * }).start();\n     *\n     * ```\n     *\n     *\n     *\n     * This example is a basic example in which the element gets pulls in\n     * rotationX based on its distance to the center Y of the screen.\n     *\n     * ```ts\n     *\n     * let myVector = new VectorDom(element);\n     * new Raf(()=> {\n     *   myVector._.force.scrollYRotationForce(-0.0004, 0);\n     *   myVector.render();\n     * }).start();\n     *\n     * ```\n     */\n    scrollYRotationForce(xScalar = 0, yScalar = 0.0005, zScalar = 0, lerp = 0.02) {\n        const globalElementCenterPosition = this.host.globalElementCenterPosition;\n        const windowCenter = new _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](window.innerWidth / 2, window.innerHeight / 2);\n        // Override the x and z values to the same coordinate as the element\n        // sicne we don't care about the delta between those.\n        windowCenter.x = globalElementCenterPosition.x;\n        windowCenter.z = globalElementCenterPosition.z;\n        // Get the angle difference between window center and the center of this element.\n        const angleDelta = _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"].getXyzRotationTo(globalElementCenterPosition, windowCenter);\n        // Since this is adding scrollY force, the amount of force we add to\n        // the x and z is going to be the distance delta of y.\n        angleDelta[0] = angleDelta[1] * xScalar;\n        angleDelta[2] = angleDelta[2] * zScalar;\n        // Scale the y angleDelta.\n        angleDelta[1] = angleDelta[1] * yScalar;\n        // Make that into a vector.\n        const targetRotation = _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"].fromArray(angleDelta);\n        // TODO (uxder) Is rx inverted?\n        targetRotation.x = -targetRotation.x;\n        // We want an effect where the mouse \"PUSHes\" away the element\n        // The getXyzRotationTo is a more pull so we negate the value.\n        // targetRotation.negate();\n        // Now in memory lerp that rotationMouseForce (an internal mouse rotation\n        // only value).\n        this.rotationScrollYForce.lerp(targetRotation, lerp);\n        // Now get the difference between the target rotation and rotationmouseForce.\n        // and apply that to the main rotation vector.\n        // This effectively, applies the force to the main rotation vector\n        // but as the internal rotationMouseForce gets closer to the target rotation\n        // value the force will lessen.  It effectively, clamps the rotations.\n        const diffVector = _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"].subtract(this.rotationScrollYForce, targetRotation);\n        this.host.rotation.add(diffVector);\n    }\n    render() { }\n    init() { }\n    resize() { }\n    dispose() { }\n}\n//# sourceMappingURL=vector-dom-force.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL3ZlY3Rvci1kb20tZm9yY2UuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZG9tL3ZlY3Rvci1kb20tZm9yY2UuanM/ZjlhZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuLi9tYXRoZi92ZWN0b3InO1xuLyoqXG4gKiBBIGNvbXBvbmVudCBjbGFzcyB0aGF0IGFkZHMgZXh0ZXJuYWwgZm9yY2VzIG9wdGlvbnMgdG8gRE9NIHZlY3Rvci5cbiAqIEB1bnN0YWJsZVxuICogQGhpZGRlblxuICovXG5leHBvcnQgY2xhc3MgVmVjdG9yRG9tRm9yY2Uge1xuICAgIGNvbnN0cnVjdG9yKHZjKSB7XG4gICAgICAgIHRoaXMuaG9zdCA9IHZjO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSB2Yy5lbGVtZW50O1xuICAgICAgICB0aGlzLnJvdGF0aW9uTW91c2VGb3JjZSA9IFZlY3Rvci5aRVJPO1xuICAgICAgICB0aGlzLnJvdGF0aW9uU2Nyb2xsWUZvcmNlID0gVmVjdG9yLlpFUk87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRha2VzIHRoZSBkaXN0YW5jZSB0byB0aGUgbW91c2UgcG9zaXRpb24gYXMgYSBmb3JjZSBhbmQgYXBwbGllcyBhblxuICAgICAqIGVmZmVjdCB3aGVyZSB0aGUgbW91c2UgXCJwdXNoZXNcIiB0aGUgZWxlbWVudC4gIFRoaXMgY3JlYXRlcyBhIHNsaWdodFxuICAgICAqIGludGVyYWN0aW9uIGVmZmVjdC5cbiAgICAgKlxuICAgICAqIFRoZSBwdXNoIGZvcmNlIGlzIGFkZGVkIHRvIHRoZSByb3RhdGlvbiB2ZWN0b3IuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoaXMgaXMgcmF0aGVyIGV4cGVyaWVtZW50YWwgYXQgdGhpcyBwb2ludCBhbmQgaXQgbWF5IGNhdXNlXG4gICAgICogc2lkZSBlZmZlY3RzLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCBQUklPUiB0byBjYWxsaW5nIHJlbmRlciBpbiB0aGUgcmVuZGVyIGxvb3AuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqXG4gICAgICogbGV0IG15VmVjdG9yID0gbmV3IFZlY3RvckRvbShlbGVtZW50KTtcbiAgICAgKlxuICAgICAqIG5ldyBSYWYoKCk9PiB7XG4gICAgICpcbiAgICAgKiAgIG15VmVjdG9yLl8uZm9yY2UubW91c2VSb3RhdGlvbkZvcmNlKCk7XG4gICAgICogICBteVZlY3Rvci5yZW5kZXIoKTtcbiAgICAgKlxuICAgICAqIH0pLnN0YXJ0KCk7XG4gICAgICpcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICpcbiAgICAgKiBUbyBwdWxsIHRoZSBlbGVtZW50IHRvd2FyZHMgdGhlIG1vdXNlLCB5b3UgY2FuIHBhc3MgbmVnYXRpdmUgc2NhbGUgdmFsdWVzLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKlxuICAgICAqIGxldCBteVZlY3RvciA9IG5ldyBWZWN0b3JEb20oZWxlbWVudCk7XG4gICAgICogbmV3IFJhZigoKT0+IHtcbiAgICAgKiAgIG15VmVjdG9yLl8uZm9yY2UubW91c2VSb3RhdGlvbkZvcmNlKC0wLjAwMDUsIC0wLjAwMDUsIDAsIDAuMDMpO1xuICAgICAqICAgbXlWZWN0b3IucmVuZGVyKCk7XG4gICAgICogfSkuc3RhcnQoKTtcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIG1vdXNlUm90YXRpb25Gb3JjZSh4U2NhbGFyID0gMC4wMDA1LCB5U2NhbGFyID0gMC4wMDA1LCB6U2NhbGFyID0gMCkge1xuICAgICAgICBjb25zdCBtb3VzZSA9IHRoaXMuaG9zdC5tb3VzZTtcbiAgICAgICAgY29uc3QgZ2xvYmFsRWxlbWVudENlbnRlclBvc2l0aW9uID0gdGhpcy5ob3N0Lmdsb2JhbEVsZW1lbnRDZW50ZXJQb3NpdGlvbjtcbiAgICAgICAgY29uc3QgZ2xvYmFsTW91c2VQb3NpdGlvbiA9IG1vdXNlLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgIGdsb2JhbE1vdXNlUG9zaXRpb24ueSA9IGdsb2JhbE1vdXNlUG9zaXRpb24ueSAtIHdpbmRvdy5zY3JvbGxZO1xuICAgICAgICAvLyBHZXQgdGhlIGFuZ2xlIGRpZmZlcmVuY2UgYmV0d2VlbiB0YXJnZXQgYW5kIHRoZSBjZW50ZXIgb2YgdGhpcyBlbGVtZW50LlxuICAgICAgICBjb25zdCBhbmdsZURlbHRhID0gVmVjdG9yLmdldFh5elJvdGF0aW9uVG8oZ2xvYmFsRWxlbWVudENlbnRlclBvc2l0aW9uLCBnbG9iYWxNb3VzZVBvc2l0aW9uKTtcbiAgICAgICAgLy8gU2NhbGUgdGhlIGFuZ2xlRGVsdGEuXG4gICAgICAgIGFuZ2xlRGVsdGFbMF0gPSBhbmdsZURlbHRhWzBdICogeFNjYWxhcjtcbiAgICAgICAgYW5nbGVEZWx0YVsxXSA9IGFuZ2xlRGVsdGFbMV0gKiB5U2NhbGFyICogMDtcbiAgICAgICAgYW5nbGVEZWx0YVsyXSA9IGFuZ2xlRGVsdGFbMl0gKiB6U2NhbGFyICogMDtcbiAgICAgICAgLy8gTWFrZSB0aGF0IGludG8gYSB2ZWN0b3IuXG4gICAgICAgIGNvbnN0IHRhcmdldFJvdGF0aW9uID0gVmVjdG9yLmZyb21BcnJheShhbmdsZURlbHRhKTtcbiAgICAgICAgLy8gVE9ETyAodXhkZXIpIElzIHJ4IGludmVydGVkP1xuICAgICAgICB0YXJnZXRSb3RhdGlvbi54ID0gLXRhcmdldFJvdGF0aW9uLng7XG4gICAgICAgIGNvbnNvbGUubG9nKHRhcmdldFJvdGF0aW9uLngpO1xuICAgICAgICAvLyAvLyBOb3cgbGVycCB0aGUgY2FjaGVjIHJvdGF0aW9uTW91c2VGb3JjZS5cbiAgICAgICAgLy8gdGhpcy5yb3RhdGlvbk1vdXNlRm9yY2UubGVycCh0YXJnZXRSb3RhdGlvbiwgbGVycCk7XG4gICAgICAgIC8vIC8vIE5vdyBmaWd1cmUgb3V0IGNsb3Nlc3QgZGlyZWN0aW9uIHRvIHJlYWNoIHRoZSB0YXJnZXQgcm90YXRpb24uXG4gICAgICAgIC8vIC8vIFdoYXQgdGhpcyBoZWxwcyB3aXRoIGlzIHdoZW4gdGhlIGVsZW1lbnQgaXMgY29tcGxtZXRlbHkgcmV2ZXJ0ZWQsXG4gICAgICAgIC8vIC8vIGl0IHN0aWxsIG1haW50YWlucyB0aGUgc2FtZSBtb3VzZSBmb3JjZSBlZmZlY3QgKG5vbiBpbnZlcnRlZCkuXG4gICAgICAgIC8vIGxldCB4RGlzdGFuY2UgPSBtYXRoZi5hbmdsZURpc3RhbmNlUmFkaWFuKHRhcmdldFJvdGF0aW9uLngsIGRpZmYueCk7XG4gICAgICAgIC8vIGxldCB5RGlzdGFuY2UgPSBtYXRoZi5hbmdsZURpc3RhbmNlUmFkaWFuKHRhcmdldFJvdGF0aW9uLnksIGRpZmYueSk7XG4gICAgICAgIC8vIGxldCB6RGlzdGFuY2UgPSBtYXRoZi5hbmdsZURpc3RhbmNlUmFkaWFuKHRhcmdldFJvdGF0aW9uLnosIGRpZmYueik7XG4gICAgICAgIC8vIGxldCBmb3JjZSA9IG5ldyBWZWN0b3IoeERpc3RhbmNlLCB5RGlzdGFuY2UsIHpEaXN0YW5jZSk7XG4gICAgICAgIHRoaXMuaG9zdC5yb3RhdGlvbiA9IHRoaXMuaG9zdC5yb3RhdGlvbi5jbG9uZSgpLmFkZCh0YXJnZXRSb3RhdGlvbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJhc2VkIG9uIHRoZSBjZW50ZXIgb2YgdGhlIHdpbmRvdywgYWRkcyBhIHJvdGF0aW9uYWwgZm9yY2UgdG8gdGhpcyBlbGVtZW50LlxuICAgICAqIEJhc2ljYWxseSwgd2hlbiB0aGUgZWxlbWVudCByZWFjaGVzIHRoZSBjZW50ZXIgb2YgdGhlIHNjcmVlbiwgdGhpc1xuICAgICAqIGZvcmNlIHdvdWxkIGJlIDAgYW5kIHRoZSBmYXJ0aGVyIGl0IGdldHMgYXdheXMgZnJvbSB0aGUgY2VudGVyLCBtb3JlXG4gICAgICogcm90YXRvbmFsIGZvcmNlIGlzIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBTaW5jZSB0aGlzIGlzIGJhc2VkIG9ubHkgdGhlIHkgYXhpcywgeW91IGNhbiBhcHBseSB0aGUgZm9yY2UgaW4gZGlmZmVyZW50IHdheXMuXG4gICAgICpcbiAgICAgKlxuICAgICAqIFRoaXMgZXhhbXBsZSBpcyBhIGJhc2ljIGV4YW1wbGUgaW4gd2hpY2ggdGhlIGVsZW1lbnQgZ2V0cyBwdWxscyBpblxuICAgICAqIHJvdGF0aW9uWSBiYXNlZCBvbiBpdHMgZGlzdGFuY2UgdG8gdGhlIGNlbnRlciBZIG9mIHRoZSBzY3JlZW4uXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqXG4gICAgICogbGV0IG15VmVjdG9yID0gbmV3IFZlY3RvckRvbShlbGVtZW50KTtcbiAgICAgKiBuZXcgUmFmKCgpPT4ge1xuICAgICAqICAgbXlWZWN0b3IuXy5mb3JjZS5zY3JvbGxZUm90YXRpb25Gb3JjZSgpO1xuICAgICAqICAgbXlWZWN0b3IucmVuZGVyKCk7XG4gICAgICogfSkuc3RhcnQoKTtcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICpcbiAgICAgKlxuICAgICAqIFRoaXMgZXhhbXBsZSBpcyBhIGJhc2ljIGV4YW1wbGUgaW4gd2hpY2ggdGhlIGVsZW1lbnQgZ2V0cyBwdWxscyBpblxuICAgICAqIHJvdGF0aW9uWCBiYXNlZCBvbiBpdHMgZGlzdGFuY2UgdG8gdGhlIGNlbnRlciBZIG9mIHRoZSBzY3JlZW4uXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqXG4gICAgICogbGV0IG15VmVjdG9yID0gbmV3IFZlY3RvckRvbShlbGVtZW50KTtcbiAgICAgKiBuZXcgUmFmKCgpPT4ge1xuICAgICAqICAgbXlWZWN0b3IuXy5mb3JjZS5zY3JvbGxZUm90YXRpb25Gb3JjZSgtMC4wMDA0LCAwKTtcbiAgICAgKiAgIG15VmVjdG9yLnJlbmRlcigpO1xuICAgICAqIH0pLnN0YXJ0KCk7XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzY3JvbGxZUm90YXRpb25Gb3JjZSh4U2NhbGFyID0gMCwgeVNjYWxhciA9IDAuMDAwNSwgelNjYWxhciA9IDAsIGxlcnAgPSAwLjAyKSB7XG4gICAgICAgIGNvbnN0IGdsb2JhbEVsZW1lbnRDZW50ZXJQb3NpdGlvbiA9IHRoaXMuaG9zdC5nbG9iYWxFbGVtZW50Q2VudGVyUG9zaXRpb247XG4gICAgICAgIGNvbnN0IHdpbmRvd0NlbnRlciA9IG5ldyBWZWN0b3Iod2luZG93LmlubmVyV2lkdGggLyAyLCB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyKTtcbiAgICAgICAgLy8gT3ZlcnJpZGUgdGhlIHggYW5kIHogdmFsdWVzIHRvIHRoZSBzYW1lIGNvb3JkaW5hdGUgYXMgdGhlIGVsZW1lbnRcbiAgICAgICAgLy8gc2ljbmUgd2UgZG9uJ3QgY2FyZSBhYm91dCB0aGUgZGVsdGEgYmV0d2VlbiB0aG9zZS5cbiAgICAgICAgd2luZG93Q2VudGVyLnggPSBnbG9iYWxFbGVtZW50Q2VudGVyUG9zaXRpb24ueDtcbiAgICAgICAgd2luZG93Q2VudGVyLnogPSBnbG9iYWxFbGVtZW50Q2VudGVyUG9zaXRpb24uejtcbiAgICAgICAgLy8gR2V0IHRoZSBhbmdsZSBkaWZmZXJlbmNlIGJldHdlZW4gd2luZG93IGNlbnRlciBhbmQgdGhlIGNlbnRlciBvZiB0aGlzIGVsZW1lbnQuXG4gICAgICAgIGNvbnN0IGFuZ2xlRGVsdGEgPSBWZWN0b3IuZ2V0WHl6Um90YXRpb25UbyhnbG9iYWxFbGVtZW50Q2VudGVyUG9zaXRpb24sIHdpbmRvd0NlbnRlcik7XG4gICAgICAgIC8vIFNpbmNlIHRoaXMgaXMgYWRkaW5nIHNjcm9sbFkgZm9yY2UsIHRoZSBhbW91bnQgb2YgZm9yY2Ugd2UgYWRkIHRvXG4gICAgICAgIC8vIHRoZSB4IGFuZCB6IGlzIGdvaW5nIHRvIGJlIHRoZSBkaXN0YW5jZSBkZWx0YSBvZiB5LlxuICAgICAgICBhbmdsZURlbHRhWzBdID0gYW5nbGVEZWx0YVsxXSAqIHhTY2FsYXI7XG4gICAgICAgIGFuZ2xlRGVsdGFbMl0gPSBhbmdsZURlbHRhWzJdICogelNjYWxhcjtcbiAgICAgICAgLy8gU2NhbGUgdGhlIHkgYW5nbGVEZWx0YS5cbiAgICAgICAgYW5nbGVEZWx0YVsxXSA9IGFuZ2xlRGVsdGFbMV0gKiB5U2NhbGFyO1xuICAgICAgICAvLyBNYWtlIHRoYXQgaW50byBhIHZlY3Rvci5cbiAgICAgICAgY29uc3QgdGFyZ2V0Um90YXRpb24gPSBWZWN0b3IuZnJvbUFycmF5KGFuZ2xlRGVsdGEpO1xuICAgICAgICAvLyBUT0RPICh1eGRlcikgSXMgcnggaW52ZXJ0ZWQ/XG4gICAgICAgIHRhcmdldFJvdGF0aW9uLnggPSAtdGFyZ2V0Um90YXRpb24ueDtcbiAgICAgICAgLy8gV2Ugd2FudCBhbiBlZmZlY3Qgd2hlcmUgdGhlIG1vdXNlIFwiUFVTSGVzXCIgYXdheSB0aGUgZWxlbWVudFxuICAgICAgICAvLyBUaGUgZ2V0WHl6Um90YXRpb25UbyBpcyBhIG1vcmUgcHVsbCBzbyB3ZSBuZWdhdGUgdGhlIHZhbHVlLlxuICAgICAgICAvLyB0YXJnZXRSb3RhdGlvbi5uZWdhdGUoKTtcbiAgICAgICAgLy8gTm93IGluIG1lbW9yeSBsZXJwIHRoYXQgcm90YXRpb25Nb3VzZUZvcmNlIChhbiBpbnRlcm5hbCBtb3VzZSByb3RhdGlvblxuICAgICAgICAvLyBvbmx5IHZhbHVlKS5cbiAgICAgICAgdGhpcy5yb3RhdGlvblNjcm9sbFlGb3JjZS5sZXJwKHRhcmdldFJvdGF0aW9uLCBsZXJwKTtcbiAgICAgICAgLy8gTm93IGdldCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSB0YXJnZXQgcm90YXRpb24gYW5kIHJvdGF0aW9ubW91c2VGb3JjZS5cbiAgICAgICAgLy8gYW5kIGFwcGx5IHRoYXQgdG8gdGhlIG1haW4gcm90YXRpb24gdmVjdG9yLlxuICAgICAgICAvLyBUaGlzIGVmZmVjdGl2ZWx5LCBhcHBsaWVzIHRoZSBmb3JjZSB0byB0aGUgbWFpbiByb3RhdGlvbiB2ZWN0b3JcbiAgICAgICAgLy8gYnV0IGFzIHRoZSBpbnRlcm5hbCByb3RhdGlvbk1vdXNlRm9yY2UgZ2V0cyBjbG9zZXIgdG8gdGhlIHRhcmdldCByb3RhdGlvblxuICAgICAgICAvLyB2YWx1ZSB0aGUgZm9yY2Ugd2lsbCBsZXNzZW4uICBJdCBlZmZlY3RpdmVseSwgY2xhbXBzIHRoZSByb3RhdGlvbnMuXG4gICAgICAgIGNvbnN0IGRpZmZWZWN0b3IgPSBWZWN0b3Iuc3VidHJhY3QodGhpcy5yb3RhdGlvblNjcm9sbFlGb3JjZSwgdGFyZ2V0Um90YXRpb24pO1xuICAgICAgICB0aGlzLmhvc3Qucm90YXRpb24uYWRkKGRpZmZWZWN0b3IpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7IH1cbiAgICBpbml0KCkgeyB9XG4gICAgcmVzaXplKCkgeyB9XG4gICAgZGlzcG9zZSgpIHsgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVjdG9yLWRvbS1mb3JjZS5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/dom/vector-dom-force.js\n");

/***/ }),

/***/ "./lib/dom/vector-dom-timeline.js":
/*!****************************************!*\
  !*** ./lib/dom/vector-dom-timeline.js ***!
  \****************************************/
/*! exports provided: VectorDomTimeline */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VectorDomTimeline\", function() { return VectorDomTimeline; });\n/* harmony import */ var _dom_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _ease_ease__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _func_func__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _mathf_vector__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _is_is__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\n/* harmony import */ var _mathf_hermite_curve__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../mathf/hermite-curve */ \"./lib/mathf/hermite-curve.js\");\n/* harmony import */ var _interpolate_interpolate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../interpolate/interpolate */ \"./lib/interpolate/interpolate.js\");\n\n\n\n\n\n\n\n\n/**\n * A list of keys in timeline object that should be skipped.\n */\nconst skipKeys = ['progress', 'easingFunction'];\n/**\n *\n * A component class of VectorDom that adds timeline functionality to VectorDOM.\n *\n * #### Basic Example\n *\n * The timeline feature is a component of VectorDom to make sequential animations.\n *\n * The timeline feature will directly update element properties including,\n * x, y, z, rx, ry, rz, alpha.  In addition, you can append any css variable and\n * timeline will take care of the interpolations.\n *\n *\n * Here is a basic example:\n *\n * ```ts\n *\n *  // Notice how we add the css var --blur here.\n * .myelement {\n *     filter: blur(calc(var(--blur) * 4px));\n * }\n *\n *\n * // In the timeline, define storyboard out the animations.\n * // Any key that starts with '--' will automatically be available\n * // as a css var on the element.\n * var timeline = [\n *    {\n *      progress: 0,\n *      x: 0,\n *      y: 0,\n *      z: 0.3 - 1,\n *      alpha: 0.2,\n *      '--blur': 1\n *    },\n *    {\n *      progress: 0.2,\n *      x: 100,\n *      y: 200,\n *      z: 0.8 - 1,\n *      alpha: 0.2,\n *      '--blur': 0.2\n *      easingFunction: EASE.easeInOutCubic\n *     },\n *    {\n *      progress: 0.5,\n *      x: 20,\n *      y: 20,\n *      z: 1 - 1,\n *      '--blur': 1\n *      alpha: 1\n *     },\n *     {\n *      progress: 1,\n *      x: 100,\n *      y: 20,\n *      z: 0.2 - 1,\n *      '--blur': 1\n *      alpha: 1\n *     }\n * ]\n *\n * let element = document.getElementById('myelmeent');\n * let vector = new VectorDom(element);\n *\n * // Access the timeline component and set the timeline.\n * vector._.timeline.setTimeline(timeline);\n *\n * // Now update the vector to a specific \"progress\" in the timeline.\n * let currentProgress = 0.2; // Could be amount of scroll, range input, whatever.\n *\n * // At this point the internal, position, rotational vectors will get updated.\n * vector._.timeline.updateProgress(currentProgress);\n *\n * // Now render it...it will render at where the values are at 20%\n * vector.render();\n * ```\n *\n *\n *\n * ### Catmull Rom Mode.\n * Timeline goes step to step in your progress but this can often lead to\n * rather robotic movement.  Instead of a linear progresss, you can create a\n * a smoothed spline from your points.\n *\n * ```ts\n *\n * // Set the timeline.\n * vector._.timeline.setTimeline(timeline);\n *\n * // Set the timeline mode to catmullrom.  Any easing functions\n * // will get ignored.\n * vector._.timeline.catmullRomMode = true;\n *\n * // Change the default tension if you wish.\n * vector._.timeline.catmullRomTension = 1.2;\n *\n * ```\n *\n *\n * ### Using CSS vars Only.\n * If you want to use VectorDom only with css variables or prevent VectorDom\n * from updating the style properties, pass the cssOnly option.\n *\n *\n * ```ts\n *\n * let myVector = new VectorDom(myElement);\n * vector._.timeline.setTimeline(timeline, { timeline: cssOnly: true}});\n *\n * ```\n *\n * alternatively, which results in the same thing.\n * ```ts\n * let myVector = new VectorDom(myElement);\n * myVector.disableStyleRenders = true;\n *\n * ```\n *\n *\n * ### How the timeline is evalualted.\n * For the timeline you declare, a storyboard is internally generated per\n * property.  This measn that for each keyframe, you can skip certain properties\n * and the interpolations will make the best effort correctly go between\n * your keyframes.  If you don't declare a start (0) and end (1) progress\n * the first and last keyframes you declare will be used in place.\n *\n * Easing functions are used in forward progression so there is no point in\n * adding an easing function to your last keyframe since that is the end.\n *\n *\n * Consider the following:\n * ```ts\n *\n * timeline = [\n *    { progress: 0.2, alpha: 1, x: 200, easingFunction: EASE.easeInOutCubic},\n *    { progress: 0.5, x: 500},\n *    { progress: 0.8, alpha: 0.2},\n *    { progress: 1, alpha: 0, x: 100}\n * ]\n *\n * ```\n * Here x and alpha are not declared on each keyframe.  VectorDomTimeline\n * will generate a storyboard like this for each frame.\n *\n * ```ts\n *\n * storyboard = {\n *    alpha: [\n *      { progress: 0.2, alpha: 1, easingFunction: EASE.easeInOutCubic},\n *      { progress: 0.8, alpha: 0.2},\n *      { progress: 1, alpha: 0}\n *    ],\n *    x: [\n *      { progress: 0.2, x: 200, easingFunction: EASE.easeInOutCubic},\n *      { progress: 0.5, x: 500},\n *      { progress: 1, x: 100}\n *    ]\n * }\n *\n * ```\n * For alpha, the alpha storyboard will be used as the final interpolation\n * values and points.  Same goes with x.\n *\n *\n * For this reason, it's best practice to try to declare 0 and 1 keyframes to\n * make it easier to understand your storyboard.\n *\n * @unstable\n * @hidden\n */\nclass VectorDomTimeline {\n    /**\n     * @param vc  The vectorDom that this component is attached to.\n     */\n    constructor(vc) {\n        /**\n         * An internal list of all recorded timeline keys.\n         */\n        this.timelineKeys = [];\n        this.host = vc;\n        this.options = vc.options.timeline || {};\n        this.element = vc.element;\n        this.cssKeys = {};\n        this.timeline = [];\n        this.timeline = null;\n        this.timelineKeys = [];\n        this.catmullRomMode = false;\n        this.catmullRomTension = 1;\n        this.storyboard = {};\n        // Cull unncessary requests to setCssKeys.\n        this.setCssKeys_ = _func_func__WEBPACK_IMPORTED_MODULE_2__[\"runOnceOnChange\"](this.setCssKeys_.bind(this));\n        if (this.options.cssOnly) {\n            this.host.disableStyleRenders = true;\n        }\n    }\n    init() { }\n    /**\n     * Sets the timeline to be used and internally generates the storyboard\n     * to be used for interpolations.\n     */\n    setTimeline(timeline) {\n        this.sortTimeline();\n        this.timelineKeys = [];\n        this.timeline = timeline.map(timeline => {\n            // Save any new keys.\n            const keys = Object.keys(timeline);\n            // Add the keys to timelineKeys while deduping.\n            this.timelineKeys = [\n                ...new Set([...this.timelineKeys, ...keys]),\n            ];\n            return timeline;\n        });\n        // Generate storyboard.\n        this.storyboard = VectorDomTimeline.generateStoryboard(this.timelineKeys, this.timeline);\n    }\n    /**\n     * Sorts the maintimeline.\n     */\n    sortTimeline() {\n        if (!this.timeline) {\n            return;\n        }\n        // Sort the timeline.\n        this.timeline = this.timeline.sort((a, b) => {\n            return a.progress - b.progress;\n        });\n    }\n    /**\n     * Generates a storyboard from the provided timeline.\n     *\n     * Given a timeline like the following, a storyboard is timeline\n     * by a specific key.  Notice how alpha is not declared in every step\n     * of the timeline.\n     *\n     * The storyboard will also ALWAYs creates a progress 0 and 1 timeline\n     * based on the first available.\n     *\n     * const timeline = [\n     *   { progress: 0, x: 1200 },\n     *   { progress: 0.2, alpha: 0.2, x: 1500, ease: EASING.easeInOutBounce },\n     *   { progress: 0.5, x: 1500 },\n     *   { progress: 0.8, alpha: 0.6, x: 1500 },\n     *   { progress: 1, x: 1500 }\n     * ]\n     *\n     * The resulting storyboard would be:\n     * {\n     *   alpha: [\n     *     { progress: 0, alpha: 0.2},  // Added\n     *     { progress: 0.2, alpha: 0.2, ease: EASING.easeInOutBounce},\n     *     { progress: 0.8, alpha: 0.6},\n     *     { progress: 1, alpha: 0.6}  // Added\n     *   ],\n     *   x: [\n     *   { progress: 0, x: 1200},\n     *   { progress: 0.2, x: 1500, ease: EASING.easeInOutBounce},\n     *   { progress: 0.5, x: 1500 },\n     *   { progress: 0.8, x: 1500},\n     *   { progress: 1, x: 1500}\n     *   ]\n     * }\n     *\n     * This storyboard is basically then used for interporlations when\n     * the progress value is updated.\n     */\n    static generateStoryboard(keys, timeline) {\n        const storyboard = {};\n        keys.forEach(key => {\n            if (skipKeys.includes(key)) {\n                return;\n            }\n            let keyStoryboard = timeline.filter(t => {\n                return _is_is__WEBPACK_IMPORTED_MODULE_5__[\"defined\"](t[key]);\n            });\n            // Make a copy and also remove keys that are not related to this\n            // storyboard.\n            keyStoryboard = keyStoryboard.map(t => {\n                const copy = Object.assign({}, t);\n                for (const k in copy) {\n                    if (k !== key && !skipKeys.includes(k)) {\n                        delete copy[k];\n                    }\n                }\n                return copy;\n            });\n            storyboard[key] = keyStoryboard;\n        });\n        for (const key in storyboard) {\n            const keyStory = storyboard[key];\n            // Check that the first item is progress 0.  If not, artificially\n            // generate it so that the progress starts at 0.\n            if (keyStory[0].progress !== 0) {\n                const copy = Object.assign({}, keyStory[0]);\n                copy.progress = 0;\n                keyStory.unshift(copy);\n            }\n            // Check that the last item is progress 1.  If not, artificially\n            // generate it and add it to the end.\n            const last = keyStory.length - 1;\n            if (keyStory[last].progress !== 1) {\n                const copy = Object.assign({}, keyStory[last]);\n                copy.progress = 1;\n                keyStory.push(copy);\n            }\n        }\n        return storyboard;\n    }\n    /**\n     * Given a storyboard and the current progress, finds the start and end\n     * timeline objects and return them.\n     *\n     * ```ts\n     * let storyboard = {\n     *    alpha: [\n     *       { progress: 0, alpha: 0 },\n     *      { progress: 0.2, alpha: 0 },\n     *       { progress: 0.8, alpha: 0.6 },\n     *      { progress: 1, alpha: 0.6 }\n     *   ]\n     * }\n     *\n     * // Find the start and end points if the progress were 0.1\n     * VectorDomTimeline.getStartAndEndTimelineFromStoryboard(storyboard, 'alpha', 0.1);\n     *\n     *\n     *\n     * //Returns:\n     * //  {\n     * //      start: { progress: 0, alpha: 0 },\n     * //      end: { progress: 0.2, alpha: 0 },\n     * //  }\n     *\n     * ```\n     *\n     * @param storyboard Object\n     * @param key\n     * @param progress\n     */\n    static getStartAndEndTimelineFromStoryboard(storyboard, key, progress) {\n        // Loop through the storyboard and figure out the correct start and\n        // end points.\n        const activeStoryboard = storyboard[key];\n        if (!activeStoryboard) {\n            return null;\n        }\n        // By default we assume progress is at 0.\n        let start = activeStoryboard[0];\n        let end = activeStoryboard[1];\n        let done = false;\n        let previous = activeStoryboard[0];\n        activeStoryboard.forEach((timeline) => {\n            // Loop until the timeline progress is greater or equal than current\n            // progress\n            if (!done && timeline.progress >= progress && progress > 0) {\n                start = previous;\n                end = timeline;\n                done = true;\n            }\n            previous = timeline;\n        });\n        return {\n            start: start,\n            end: end,\n        };\n    }\n    updateProgress(progress) {\n        for (const key in this.storyboard) {\n            const startEnd = VectorDomTimeline.getStartAndEndTimelineFromStoryboard(this.storyboard, key, progress);\n            const startTimeline = startEnd.start;\n            const endTimeline = startEnd.end;\n            // The start and end values.\n            const start = startTimeline[key];\n            const end = endTimeline[key];\n            const easing = startTimeline.easingFunction;\n            // Create a child progress between the start and end.\n            const childProgress = _mathf_mathf__WEBPACK_IMPORTED_MODULE_3__[\"clamp01\"](_mathf_mathf__WEBPACK_IMPORTED_MODULE_3__[\"childProgress\"](progress, startTimeline.progress, endTimeline.progress));\n            // Safe guard.\n            if (_is_is__WEBPACK_IMPORTED_MODULE_5__[\"nan\"](childProgress)) {\n                return;\n            }\n            let value;\n            // If the value is a numberical.\n            if (_is_is__WEBPACK_IMPORTED_MODULE_5__[\"number\"](start) && _is_is__WEBPACK_IMPORTED_MODULE_5__[\"number\"](end)) {\n                const diff = end - start;\n                if (!this.catmullRomMode || _mathf_mathf__WEBPACK_IMPORTED_MODULE_3__[\"absZero\"](diff) === 0) {\n                    value = _mathf_mathf__WEBPACK_IMPORTED_MODULE_3__[\"ease\"](start, end, childProgress, easing || _ease_ease__WEBPACK_IMPORTED_MODULE_1__[\"linear\"]);\n                }\n                else {\n                    const tension = this.catmullRomTension;\n                    // Technically, not a catmull rom but create a similar\n                    // spline out of HermiteCurves.\n                    const vector = _mathf_hermite_curve__WEBPACK_IMPORTED_MODULE_6__[\"HermiteCurve\"].getPoint(childProgress, new _mathf_vector__WEBPACK_IMPORTED_MODULE_4__[\"Vector\"](start, start), new _mathf_vector__WEBPACK_IMPORTED_MODULE_4__[\"Vector\"](start * tension, start * tension), new _mathf_vector__WEBPACK_IMPORTED_MODULE_4__[\"Vector\"](end, end), new _mathf_vector__WEBPACK_IMPORTED_MODULE_4__[\"Vector\"](end * tension, end * tension));\n                    if (vector) {\n                        value = vector.x;\n                    }\n                }\n            }\n            else {\n                // If string values were passed, process it via Interpolate.\n                // to be able to use css units.\n                value = new _interpolate_interpolate__WEBPACK_IMPORTED_MODULE_7__[\"Interpolate\"]({\n                    from: start,\n                    to: end,\n                    easeFunction: easing || _ease_ease__WEBPACK_IMPORTED_MODULE_1__[\"linear\"],\n                }).calculate(childProgress);\n            }\n            if (_is_is__WEBPACK_IMPORTED_MODULE_5__[\"defined\"](value)) {\n                // If the key is a css var, internally cache it.  Otherwise,\n                // update the value on the host.\n                if (key.startsWith('--')) {\n                    this.cssKeys[key] = value;\n                }\n                else {\n                    const vectorDomKey = key;\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.host[vectorDomKey] = value;\n                }\n            }\n        }\n    }\n    /**\n     * Applies the css variables.  Unneccesary calls get culled by\n     * func.runOnceOnChange.\n     */\n    setCssKeys_(cssVars) {\n        /**\n         * Render this element only when it is inview\n         * for performance boost.\n         */\n        if (this.host.renderOnlyWhenInview &&\n            this.host.elementVisibility.state().ready &&\n            !this.host.elementVisibility.state().inview) {\n            return;\n        }\n        for (const key in cssVars) {\n            _dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"setCssVariable\"](this.element, key, cssVars[key]);\n        }\n    }\n    render() {\n        this.setCssKeys_(this.cssKeys);\n    }\n    resize() { }\n    dispose() { }\n}\n//# sourceMappingURL=vector-dom-timeline.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL3ZlY3Rvci1kb20tdGltZWxpbmUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZG9tL3ZlY3Rvci1kb20tdGltZWxpbmUuanM/MGZmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBkb20gZnJvbSAnLi4vZG9tL2RvbSc7XG5pbXBvcnQgKiBhcyBFQVNFIGZyb20gJy4uL2Vhc2UvZWFzZSc7XG5pbXBvcnQgKiBhcyBmdW5jIGZyb20gJy4uL2Z1bmMvZnVuYyc7XG5pbXBvcnQgKiBhcyBtYXRoZiBmcm9tICcuLi9tYXRoZi9tYXRoZic7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuLi9tYXRoZi92ZWN0b3InO1xuaW1wb3J0ICogYXMgaXMgZnJvbSAnLi4vaXMvaXMnO1xuaW1wb3J0IHsgSGVybWl0ZUN1cnZlIH0gZnJvbSAnLi4vbWF0aGYvaGVybWl0ZS1jdXJ2ZSc7XG5pbXBvcnQgeyBJbnRlcnBvbGF0ZSB9IGZyb20gJy4uL2ludGVycG9sYXRlL2ludGVycG9sYXRlJztcbi8qKlxuICogQSBsaXN0IG9mIGtleXMgaW4gdGltZWxpbmUgb2JqZWN0IHRoYXQgc2hvdWxkIGJlIHNraXBwZWQuXG4gKi9cbmNvbnN0IHNraXBLZXlzID0gWydwcm9ncmVzcycsICdlYXNpbmdGdW5jdGlvbiddO1xuLyoqXG4gKlxuICogQSBjb21wb25lbnQgY2xhc3Mgb2YgVmVjdG9yRG9tIHRoYXQgYWRkcyB0aW1lbGluZSBmdW5jdGlvbmFsaXR5IHRvIFZlY3RvckRPTS5cbiAqXG4gKiAjIyMjIEJhc2ljIEV4YW1wbGVcbiAqXG4gKiBUaGUgdGltZWxpbmUgZmVhdHVyZSBpcyBhIGNvbXBvbmVudCBvZiBWZWN0b3JEb20gdG8gbWFrZSBzZXF1ZW50aWFsIGFuaW1hdGlvbnMuXG4gKlxuICogVGhlIHRpbWVsaW5lIGZlYXR1cmUgd2lsbCBkaXJlY3RseSB1cGRhdGUgZWxlbWVudCBwcm9wZXJ0aWVzIGluY2x1ZGluZyxcbiAqIHgsIHksIHosIHJ4LCByeSwgcnosIGFscGhhLiAgSW4gYWRkaXRpb24sIHlvdSBjYW4gYXBwZW5kIGFueSBjc3MgdmFyaWFibGUgYW5kXG4gKiB0aW1lbGluZSB3aWxsIHRha2UgY2FyZSBvZiB0aGUgaW50ZXJwb2xhdGlvbnMuXG4gKlxuICpcbiAqIEhlcmUgaXMgYSBiYXNpYyBleGFtcGxlOlxuICpcbiAqIGBgYHRzXG4gKlxuICogIC8vIE5vdGljZSBob3cgd2UgYWRkIHRoZSBjc3MgdmFyIC0tYmx1ciBoZXJlLlxuICogLm15ZWxlbWVudCB7XG4gKiAgICAgZmlsdGVyOiBibHVyKGNhbGModmFyKC0tYmx1cikgKiA0cHgpKTtcbiAqIH1cbiAqXG4gKlxuICogLy8gSW4gdGhlIHRpbWVsaW5lLCBkZWZpbmUgc3Rvcnlib2FyZCBvdXQgdGhlIGFuaW1hdGlvbnMuXG4gKiAvLyBBbnkga2V5IHRoYXQgc3RhcnRzIHdpdGggJy0tJyB3aWxsIGF1dG9tYXRpY2FsbHkgYmUgYXZhaWxhYmxlXG4gKiAvLyBhcyBhIGNzcyB2YXIgb24gdGhlIGVsZW1lbnQuXG4gKiB2YXIgdGltZWxpbmUgPSBbXG4gKiAgICB7XG4gKiAgICAgIHByb2dyZXNzOiAwLFxuICogICAgICB4OiAwLFxuICogICAgICB5OiAwLFxuICogICAgICB6OiAwLjMgLSAxLFxuICogICAgICBhbHBoYTogMC4yLFxuICogICAgICAnLS1ibHVyJzogMVxuICogICAgfSxcbiAqICAgIHtcbiAqICAgICAgcHJvZ3Jlc3M6IDAuMixcbiAqICAgICAgeDogMTAwLFxuICogICAgICB5OiAyMDAsXG4gKiAgICAgIHo6IDAuOCAtIDEsXG4gKiAgICAgIGFscGhhOiAwLjIsXG4gKiAgICAgICctLWJsdXInOiAwLjJcbiAqICAgICAgZWFzaW5nRnVuY3Rpb246IEVBU0UuZWFzZUluT3V0Q3ViaWNcbiAqICAgICB9LFxuICogICAge1xuICogICAgICBwcm9ncmVzczogMC41LFxuICogICAgICB4OiAyMCxcbiAqICAgICAgeTogMjAsXG4gKiAgICAgIHo6IDEgLSAxLFxuICogICAgICAnLS1ibHVyJzogMVxuICogICAgICBhbHBoYTogMVxuICogICAgIH0sXG4gKiAgICAge1xuICogICAgICBwcm9ncmVzczogMSxcbiAqICAgICAgeDogMTAwLFxuICogICAgICB5OiAyMCxcbiAqICAgICAgejogMC4yIC0gMSxcbiAqICAgICAgJy0tYmx1cic6IDFcbiAqICAgICAgYWxwaGE6IDFcbiAqICAgICB9XG4gKiBdXG4gKlxuICogbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXllbG1lZW50Jyk7XG4gKiBsZXQgdmVjdG9yID0gbmV3IFZlY3RvckRvbShlbGVtZW50KTtcbiAqXG4gKiAvLyBBY2Nlc3MgdGhlIHRpbWVsaW5lIGNvbXBvbmVudCBhbmQgc2V0IHRoZSB0aW1lbGluZS5cbiAqIHZlY3Rvci5fLnRpbWVsaW5lLnNldFRpbWVsaW5lKHRpbWVsaW5lKTtcbiAqXG4gKiAvLyBOb3cgdXBkYXRlIHRoZSB2ZWN0b3IgdG8gYSBzcGVjaWZpYyBcInByb2dyZXNzXCIgaW4gdGhlIHRpbWVsaW5lLlxuICogbGV0IGN1cnJlbnRQcm9ncmVzcyA9IDAuMjsgLy8gQ291bGQgYmUgYW1vdW50IG9mIHNjcm9sbCwgcmFuZ2UgaW5wdXQsIHdoYXRldmVyLlxuICpcbiAqIC8vIEF0IHRoaXMgcG9pbnQgdGhlIGludGVybmFsLCBwb3NpdGlvbiwgcm90YXRpb25hbCB2ZWN0b3JzIHdpbGwgZ2V0IHVwZGF0ZWQuXG4gKiB2ZWN0b3IuXy50aW1lbGluZS51cGRhdGVQcm9ncmVzcyhjdXJyZW50UHJvZ3Jlc3MpO1xuICpcbiAqIC8vIE5vdyByZW5kZXIgaXQuLi5pdCB3aWxsIHJlbmRlciBhdCB3aGVyZSB0aGUgdmFsdWVzIGFyZSBhdCAyMCVcbiAqIHZlY3Rvci5yZW5kZXIoKTtcbiAqIGBgYFxuICpcbiAqXG4gKlxuICogIyMjIENhdG11bGwgUm9tIE1vZGUuXG4gKiBUaW1lbGluZSBnb2VzIHN0ZXAgdG8gc3RlcCBpbiB5b3VyIHByb2dyZXNzIGJ1dCB0aGlzIGNhbiBvZnRlbiBsZWFkIHRvXG4gKiByYXRoZXIgcm9ib3RpYyBtb3ZlbWVudC4gIEluc3RlYWQgb2YgYSBsaW5lYXIgcHJvZ3Jlc3NzLCB5b3UgY2FuIGNyZWF0ZSBhXG4gKiBhIHNtb290aGVkIHNwbGluZSBmcm9tIHlvdXIgcG9pbnRzLlxuICpcbiAqIGBgYHRzXG4gKlxuICogLy8gU2V0IHRoZSB0aW1lbGluZS5cbiAqIHZlY3Rvci5fLnRpbWVsaW5lLnNldFRpbWVsaW5lKHRpbWVsaW5lKTtcbiAqXG4gKiAvLyBTZXQgdGhlIHRpbWVsaW5lIG1vZGUgdG8gY2F0bXVsbHJvbS4gIEFueSBlYXNpbmcgZnVuY3Rpb25zXG4gKiAvLyB3aWxsIGdldCBpZ25vcmVkLlxuICogdmVjdG9yLl8udGltZWxpbmUuY2F0bXVsbFJvbU1vZGUgPSB0cnVlO1xuICpcbiAqIC8vIENoYW5nZSB0aGUgZGVmYXVsdCB0ZW5zaW9uIGlmIHlvdSB3aXNoLlxuICogdmVjdG9yLl8udGltZWxpbmUuY2F0bXVsbFJvbVRlbnNpb24gPSAxLjI7XG4gKlxuICogYGBgXG4gKlxuICpcbiAqICMjIyBVc2luZyBDU1MgdmFycyBPbmx5LlxuICogSWYgeW91IHdhbnQgdG8gdXNlIFZlY3RvckRvbSBvbmx5IHdpdGggY3NzIHZhcmlhYmxlcyBvciBwcmV2ZW50IFZlY3RvckRvbVxuICogZnJvbSB1cGRhdGluZyB0aGUgc3R5bGUgcHJvcGVydGllcywgcGFzcyB0aGUgY3NzT25seSBvcHRpb24uXG4gKlxuICpcbiAqIGBgYHRzXG4gKlxuICogbGV0IG15VmVjdG9yID0gbmV3IFZlY3RvckRvbShteUVsZW1lbnQpO1xuICogdmVjdG9yLl8udGltZWxpbmUuc2V0VGltZWxpbmUodGltZWxpbmUsIHsgdGltZWxpbmU6IGNzc09ubHk6IHRydWV9fSk7XG4gKlxuICogYGBgXG4gKlxuICogYWx0ZXJuYXRpdmVseSwgd2hpY2ggcmVzdWx0cyBpbiB0aGUgc2FtZSB0aGluZy5cbiAqIGBgYHRzXG4gKiBsZXQgbXlWZWN0b3IgPSBuZXcgVmVjdG9yRG9tKG15RWxlbWVudCk7XG4gKiBteVZlY3Rvci5kaXNhYmxlU3R5bGVSZW5kZXJzID0gdHJ1ZTtcbiAqXG4gKiBgYGBcbiAqXG4gKlxuICogIyMjIEhvdyB0aGUgdGltZWxpbmUgaXMgZXZhbHVhbHRlZC5cbiAqIEZvciB0aGUgdGltZWxpbmUgeW91IGRlY2xhcmUsIGEgc3Rvcnlib2FyZCBpcyBpbnRlcm5hbGx5IGdlbmVyYXRlZCBwZXJcbiAqIHByb3BlcnR5LiAgVGhpcyBtZWFzbiB0aGF0IGZvciBlYWNoIGtleWZyYW1lLCB5b3UgY2FuIHNraXAgY2VydGFpbiBwcm9wZXJ0aWVzXG4gKiBhbmQgdGhlIGludGVycG9sYXRpb25zIHdpbGwgbWFrZSB0aGUgYmVzdCBlZmZvcnQgY29ycmVjdGx5IGdvIGJldHdlZW5cbiAqIHlvdXIga2V5ZnJhbWVzLiAgSWYgeW91IGRvbid0IGRlY2xhcmUgYSBzdGFydCAoMCkgYW5kIGVuZCAoMSkgcHJvZ3Jlc3NcbiAqIHRoZSBmaXJzdCBhbmQgbGFzdCBrZXlmcmFtZXMgeW91IGRlY2xhcmUgd2lsbCBiZSB1c2VkIGluIHBsYWNlLlxuICpcbiAqIEVhc2luZyBmdW5jdGlvbnMgYXJlIHVzZWQgaW4gZm9yd2FyZCBwcm9ncmVzc2lvbiBzbyB0aGVyZSBpcyBubyBwb2ludCBpblxuICogYWRkaW5nIGFuIGVhc2luZyBmdW5jdGlvbiB0byB5b3VyIGxhc3Qga2V5ZnJhbWUgc2luY2UgdGhhdCBpcyB0aGUgZW5kLlxuICpcbiAqXG4gKiBDb25zaWRlciB0aGUgZm9sbG93aW5nOlxuICogYGBgdHNcbiAqXG4gKiB0aW1lbGluZSA9IFtcbiAqICAgIHsgcHJvZ3Jlc3M6IDAuMiwgYWxwaGE6IDEsIHg6IDIwMCwgZWFzaW5nRnVuY3Rpb246IEVBU0UuZWFzZUluT3V0Q3ViaWN9LFxuICogICAgeyBwcm9ncmVzczogMC41LCB4OiA1MDB9LFxuICogICAgeyBwcm9ncmVzczogMC44LCBhbHBoYTogMC4yfSxcbiAqICAgIHsgcHJvZ3Jlc3M6IDEsIGFscGhhOiAwLCB4OiAxMDB9XG4gKiBdXG4gKlxuICogYGBgXG4gKiBIZXJlIHggYW5kIGFscGhhIGFyZSBub3QgZGVjbGFyZWQgb24gZWFjaCBrZXlmcmFtZS4gIFZlY3RvckRvbVRpbWVsaW5lXG4gKiB3aWxsIGdlbmVyYXRlIGEgc3Rvcnlib2FyZCBsaWtlIHRoaXMgZm9yIGVhY2ggZnJhbWUuXG4gKlxuICogYGBgdHNcbiAqXG4gKiBzdG9yeWJvYXJkID0ge1xuICogICAgYWxwaGE6IFtcbiAqICAgICAgeyBwcm9ncmVzczogMC4yLCBhbHBoYTogMSwgZWFzaW5nRnVuY3Rpb246IEVBU0UuZWFzZUluT3V0Q3ViaWN9LFxuICogICAgICB7IHByb2dyZXNzOiAwLjgsIGFscGhhOiAwLjJ9LFxuICogICAgICB7IHByb2dyZXNzOiAxLCBhbHBoYTogMH1cbiAqICAgIF0sXG4gKiAgICB4OiBbXG4gKiAgICAgIHsgcHJvZ3Jlc3M6IDAuMiwgeDogMjAwLCBlYXNpbmdGdW5jdGlvbjogRUFTRS5lYXNlSW5PdXRDdWJpY30sXG4gKiAgICAgIHsgcHJvZ3Jlc3M6IDAuNSwgeDogNTAwfSxcbiAqICAgICAgeyBwcm9ncmVzczogMSwgeDogMTAwfVxuICogICAgXVxuICogfVxuICpcbiAqIGBgYFxuICogRm9yIGFscGhhLCB0aGUgYWxwaGEgc3Rvcnlib2FyZCB3aWxsIGJlIHVzZWQgYXMgdGhlIGZpbmFsIGludGVycG9sYXRpb25cbiAqIHZhbHVlcyBhbmQgcG9pbnRzLiAgU2FtZSBnb2VzIHdpdGggeC5cbiAqXG4gKlxuICogRm9yIHRoaXMgcmVhc29uLCBpdCdzIGJlc3QgcHJhY3RpY2UgdG8gdHJ5IHRvIGRlY2xhcmUgMCBhbmQgMSBrZXlmcmFtZXMgdG9cbiAqIG1ha2UgaXQgZWFzaWVyIHRvIHVuZGVyc3RhbmQgeW91ciBzdG9yeWJvYXJkLlxuICpcbiAqIEB1bnN0YWJsZVxuICogQGhpZGRlblxuICovXG5leHBvcnQgY2xhc3MgVmVjdG9yRG9tVGltZWxpbmUge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB2YyAgVGhlIHZlY3RvckRvbSB0aGF0IHRoaXMgY29tcG9uZW50IGlzIGF0dGFjaGVkIHRvLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHZjKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBpbnRlcm5hbCBsaXN0IG9mIGFsbCByZWNvcmRlZCB0aW1lbGluZSBrZXlzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aW1lbGluZUtleXMgPSBbXTtcbiAgICAgICAgdGhpcy5ob3N0ID0gdmM7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHZjLm9wdGlvbnMudGltZWxpbmUgfHwge307XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IHZjLmVsZW1lbnQ7XG4gICAgICAgIHRoaXMuY3NzS2V5cyA9IHt9O1xuICAgICAgICB0aGlzLnRpbWVsaW5lID0gW107XG4gICAgICAgIHRoaXMudGltZWxpbmUgPSBudWxsO1xuICAgICAgICB0aGlzLnRpbWVsaW5lS2V5cyA9IFtdO1xuICAgICAgICB0aGlzLmNhdG11bGxSb21Nb2RlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2F0bXVsbFJvbVRlbnNpb24gPSAxO1xuICAgICAgICB0aGlzLnN0b3J5Ym9hcmQgPSB7fTtcbiAgICAgICAgLy8gQ3VsbCB1bm5jZXNzYXJ5IHJlcXVlc3RzIHRvIHNldENzc0tleXMuXG4gICAgICAgIHRoaXMuc2V0Q3NzS2V5c18gPSBmdW5jLnJ1bk9uY2VPbkNoYW5nZSh0aGlzLnNldENzc0tleXNfLmJpbmQodGhpcykpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNzc09ubHkpIHtcbiAgICAgICAgICAgIHRoaXMuaG9zdC5kaXNhYmxlU3R5bGVSZW5kZXJzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbml0KCkgeyB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdGltZWxpbmUgdG8gYmUgdXNlZCBhbmQgaW50ZXJuYWxseSBnZW5lcmF0ZXMgdGhlIHN0b3J5Ym9hcmRcbiAgICAgKiB0byBiZSB1c2VkIGZvciBpbnRlcnBvbGF0aW9ucy5cbiAgICAgKi9cbiAgICBzZXRUaW1lbGluZSh0aW1lbGluZSkge1xuICAgICAgICB0aGlzLnNvcnRUaW1lbGluZSgpO1xuICAgICAgICB0aGlzLnRpbWVsaW5lS2V5cyA9IFtdO1xuICAgICAgICB0aGlzLnRpbWVsaW5lID0gdGltZWxpbmUubWFwKHRpbWVsaW5lID0+IHtcbiAgICAgICAgICAgIC8vIFNhdmUgYW55IG5ldyBrZXlzLlxuICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRpbWVsaW5lKTtcbiAgICAgICAgICAgIC8vIEFkZCB0aGUga2V5cyB0byB0aW1lbGluZUtleXMgd2hpbGUgZGVkdXBpbmcuXG4gICAgICAgICAgICB0aGlzLnRpbWVsaW5lS2V5cyA9IFtcbiAgICAgICAgICAgICAgICAuLi5uZXcgU2V0KFsuLi50aGlzLnRpbWVsaW5lS2V5cywgLi4ua2V5c10pLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHJldHVybiB0aW1lbGluZTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEdlbmVyYXRlIHN0b3J5Ym9hcmQuXG4gICAgICAgIHRoaXMuc3Rvcnlib2FyZCA9IFZlY3RvckRvbVRpbWVsaW5lLmdlbmVyYXRlU3Rvcnlib2FyZCh0aGlzLnRpbWVsaW5lS2V5cywgdGhpcy50aW1lbGluZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNvcnRzIHRoZSBtYWludGltZWxpbmUuXG4gICAgICovXG4gICAgc29ydFRpbWVsaW5lKCkge1xuICAgICAgICBpZiAoIXRoaXMudGltZWxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBTb3J0IHRoZSB0aW1lbGluZS5cbiAgICAgICAgdGhpcy50aW1lbGluZSA9IHRoaXMudGltZWxpbmUuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGEucHJvZ3Jlc3MgLSBiLnByb2dyZXNzO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgc3Rvcnlib2FyZCBmcm9tIHRoZSBwcm92aWRlZCB0aW1lbGluZS5cbiAgICAgKlxuICAgICAqIEdpdmVuIGEgdGltZWxpbmUgbGlrZSB0aGUgZm9sbG93aW5nLCBhIHN0b3J5Ym9hcmQgaXMgdGltZWxpbmVcbiAgICAgKiBieSBhIHNwZWNpZmljIGtleS4gIE5vdGljZSBob3cgYWxwaGEgaXMgbm90IGRlY2xhcmVkIGluIGV2ZXJ5IHN0ZXBcbiAgICAgKiBvZiB0aGUgdGltZWxpbmUuXG4gICAgICpcbiAgICAgKiBUaGUgc3Rvcnlib2FyZCB3aWxsIGFsc28gQUxXQVlzIGNyZWF0ZXMgYSBwcm9ncmVzcyAwIGFuZCAxIHRpbWVsaW5lXG4gICAgICogYmFzZWQgb24gdGhlIGZpcnN0IGF2YWlsYWJsZS5cbiAgICAgKlxuICAgICAqIGNvbnN0IHRpbWVsaW5lID0gW1xuICAgICAqICAgeyBwcm9ncmVzczogMCwgeDogMTIwMCB9LFxuICAgICAqICAgeyBwcm9ncmVzczogMC4yLCBhbHBoYTogMC4yLCB4OiAxNTAwLCBlYXNlOiBFQVNJTkcuZWFzZUluT3V0Qm91bmNlIH0sXG4gICAgICogICB7IHByb2dyZXNzOiAwLjUsIHg6IDE1MDAgfSxcbiAgICAgKiAgIHsgcHJvZ3Jlc3M6IDAuOCwgYWxwaGE6IDAuNiwgeDogMTUwMCB9LFxuICAgICAqICAgeyBwcm9ncmVzczogMSwgeDogMTUwMCB9XG4gICAgICogXVxuICAgICAqXG4gICAgICogVGhlIHJlc3VsdGluZyBzdG9yeWJvYXJkIHdvdWxkIGJlOlxuICAgICAqIHtcbiAgICAgKiAgIGFscGhhOiBbXG4gICAgICogICAgIHsgcHJvZ3Jlc3M6IDAsIGFscGhhOiAwLjJ9LCAgLy8gQWRkZWRcbiAgICAgKiAgICAgeyBwcm9ncmVzczogMC4yLCBhbHBoYTogMC4yLCBlYXNlOiBFQVNJTkcuZWFzZUluT3V0Qm91bmNlfSxcbiAgICAgKiAgICAgeyBwcm9ncmVzczogMC44LCBhbHBoYTogMC42fSxcbiAgICAgKiAgICAgeyBwcm9ncmVzczogMSwgYWxwaGE6IDAuNn0gIC8vIEFkZGVkXG4gICAgICogICBdLFxuICAgICAqICAgeDogW1xuICAgICAqICAgeyBwcm9ncmVzczogMCwgeDogMTIwMH0sXG4gICAgICogICB7IHByb2dyZXNzOiAwLjIsIHg6IDE1MDAsIGVhc2U6IEVBU0lORy5lYXNlSW5PdXRCb3VuY2V9LFxuICAgICAqICAgeyBwcm9ncmVzczogMC41LCB4OiAxNTAwIH0sXG4gICAgICogICB7IHByb2dyZXNzOiAwLjgsIHg6IDE1MDB9LFxuICAgICAqICAgeyBwcm9ncmVzczogMSwgeDogMTUwMH1cbiAgICAgKiAgIF1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBUaGlzIHN0b3J5Ym9hcmQgaXMgYmFzaWNhbGx5IHRoZW4gdXNlZCBmb3IgaW50ZXJwb3JsYXRpb25zIHdoZW5cbiAgICAgKiB0aGUgcHJvZ3Jlc3MgdmFsdWUgaXMgdXBkYXRlZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2VuZXJhdGVTdG9yeWJvYXJkKGtleXMsIHRpbWVsaW5lKSB7XG4gICAgICAgIGNvbnN0IHN0b3J5Ym9hcmQgPSB7fTtcbiAgICAgICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBpZiAoc2tpcEtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBrZXlTdG9yeWJvYXJkID0gdGltZWxpbmUuZmlsdGVyKHQgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBpcy5kZWZpbmVkKHRba2V5XSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIE1ha2UgYSBjb3B5IGFuZCBhbHNvIHJlbW92ZSBrZXlzIHRoYXQgYXJlIG5vdCByZWxhdGVkIHRvIHRoaXNcbiAgICAgICAgICAgIC8vIHN0b3J5Ym9hcmQuXG4gICAgICAgICAgICBrZXlTdG9yeWJvYXJkID0ga2V5U3Rvcnlib2FyZC5tYXAodCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29weSA9IE9iamVjdC5hc3NpZ24oe30sIHQpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgayBpbiBjb3B5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrICE9PSBrZXkgJiYgIXNraXBLZXlzLmluY2x1ZGVzKGspKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY29weVtrXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY29weTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3Rvcnlib2FyZFtrZXldID0ga2V5U3Rvcnlib2FyZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHN0b3J5Ym9hcmQpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleVN0b3J5ID0gc3Rvcnlib2FyZFtrZXldO1xuICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCB0aGUgZmlyc3QgaXRlbSBpcyBwcm9ncmVzcyAwLiAgSWYgbm90LCBhcnRpZmljaWFsbHlcbiAgICAgICAgICAgIC8vIGdlbmVyYXRlIGl0IHNvIHRoYXQgdGhlIHByb2dyZXNzIHN0YXJ0cyBhdCAwLlxuICAgICAgICAgICAgaWYgKGtleVN0b3J5WzBdLnByb2dyZXNzICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29weSA9IE9iamVjdC5hc3NpZ24oe30sIGtleVN0b3J5WzBdKTtcbiAgICAgICAgICAgICAgICBjb3B5LnByb2dyZXNzID0gMDtcbiAgICAgICAgICAgICAgICBrZXlTdG9yeS51bnNoaWZ0KGNvcHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCB0aGUgbGFzdCBpdGVtIGlzIHByb2dyZXNzIDEuICBJZiBub3QsIGFydGlmaWNpYWxseVxuICAgICAgICAgICAgLy8gZ2VuZXJhdGUgaXQgYW5kIGFkZCBpdCB0byB0aGUgZW5kLlxuICAgICAgICAgICAgY29uc3QgbGFzdCA9IGtleVN0b3J5Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICBpZiAoa2V5U3RvcnlbbGFzdF0ucHJvZ3Jlc3MgIT09IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb3B5ID0gT2JqZWN0LmFzc2lnbih7fSwga2V5U3RvcnlbbGFzdF0pO1xuICAgICAgICAgICAgICAgIGNvcHkucHJvZ3Jlc3MgPSAxO1xuICAgICAgICAgICAgICAgIGtleVN0b3J5LnB1c2goY29weSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0b3J5Ym9hcmQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgc3Rvcnlib2FyZCBhbmQgdGhlIGN1cnJlbnQgcHJvZ3Jlc3MsIGZpbmRzIHRoZSBzdGFydCBhbmQgZW5kXG4gICAgICogdGltZWxpbmUgb2JqZWN0cyBhbmQgcmV0dXJuIHRoZW0uXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGxldCBzdG9yeWJvYXJkID0ge1xuICAgICAqICAgIGFscGhhOiBbXG4gICAgICogICAgICAgeyBwcm9ncmVzczogMCwgYWxwaGE6IDAgfSxcbiAgICAgKiAgICAgIHsgcHJvZ3Jlc3M6IDAuMiwgYWxwaGE6IDAgfSxcbiAgICAgKiAgICAgICB7IHByb2dyZXNzOiAwLjgsIGFscGhhOiAwLjYgfSxcbiAgICAgKiAgICAgIHsgcHJvZ3Jlc3M6IDEsIGFscGhhOiAwLjYgfVxuICAgICAqICAgXVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIC8vIEZpbmQgdGhlIHN0YXJ0IGFuZCBlbmQgcG9pbnRzIGlmIHRoZSBwcm9ncmVzcyB3ZXJlIDAuMVxuICAgICAqIFZlY3RvckRvbVRpbWVsaW5lLmdldFN0YXJ0QW5kRW5kVGltZWxpbmVGcm9tU3Rvcnlib2FyZChzdG9yeWJvYXJkLCAnYWxwaGEnLCAwLjEpO1xuICAgICAqXG4gICAgICpcbiAgICAgKlxuICAgICAqIC8vUmV0dXJuczpcbiAgICAgKiAvLyAge1xuICAgICAqIC8vICAgICAgc3RhcnQ6IHsgcHJvZ3Jlc3M6IDAsIGFscGhhOiAwIH0sXG4gICAgICogLy8gICAgICBlbmQ6IHsgcHJvZ3Jlc3M6IDAuMiwgYWxwaGE6IDAgfSxcbiAgICAgKiAvLyAgfVxuICAgICAqXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3Rvcnlib2FyZCBPYmplY3RcbiAgICAgKiBAcGFyYW0ga2V5XG4gICAgICogQHBhcmFtIHByb2dyZXNzXG4gICAgICovXG4gICAgc3RhdGljIGdldFN0YXJ0QW5kRW5kVGltZWxpbmVGcm9tU3Rvcnlib2FyZChzdG9yeWJvYXJkLCBrZXksIHByb2dyZXNzKSB7XG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCB0aGUgc3Rvcnlib2FyZCBhbmQgZmlndXJlIG91dCB0aGUgY29ycmVjdCBzdGFydCBhbmRcbiAgICAgICAgLy8gZW5kIHBvaW50cy5cbiAgICAgICAgY29uc3QgYWN0aXZlU3Rvcnlib2FyZCA9IHN0b3J5Ym9hcmRba2V5XTtcbiAgICAgICAgaWYgKCFhY3RpdmVTdG9yeWJvYXJkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBCeSBkZWZhdWx0IHdlIGFzc3VtZSBwcm9ncmVzcyBpcyBhdCAwLlxuICAgICAgICBsZXQgc3RhcnQgPSBhY3RpdmVTdG9yeWJvYXJkWzBdO1xuICAgICAgICBsZXQgZW5kID0gYWN0aXZlU3Rvcnlib2FyZFsxXTtcbiAgICAgICAgbGV0IGRvbmUgPSBmYWxzZTtcbiAgICAgICAgbGV0IHByZXZpb3VzID0gYWN0aXZlU3Rvcnlib2FyZFswXTtcbiAgICAgICAgYWN0aXZlU3Rvcnlib2FyZC5mb3JFYWNoKCh0aW1lbGluZSkgPT4ge1xuICAgICAgICAgICAgLy8gTG9vcCB1bnRpbCB0aGUgdGltZWxpbmUgcHJvZ3Jlc3MgaXMgZ3JlYXRlciBvciBlcXVhbCB0aGFuIGN1cnJlbnRcbiAgICAgICAgICAgIC8vIHByb2dyZXNzXG4gICAgICAgICAgICBpZiAoIWRvbmUgJiYgdGltZWxpbmUucHJvZ3Jlc3MgPj0gcHJvZ3Jlc3MgJiYgcHJvZ3Jlc3MgPiAwKSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBwcmV2aW91cztcbiAgICAgICAgICAgICAgICBlbmQgPSB0aW1lbGluZTtcbiAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXZpb3VzID0gdGltZWxpbmU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBlbmQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHVwZGF0ZVByb2dyZXNzKHByb2dyZXNzKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuc3Rvcnlib2FyZCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRFbmQgPSBWZWN0b3JEb21UaW1lbGluZS5nZXRTdGFydEFuZEVuZFRpbWVsaW5lRnJvbVN0b3J5Ym9hcmQodGhpcy5zdG9yeWJvYXJkLCBrZXksIHByb2dyZXNzKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZWxpbmUgPSBzdGFydEVuZC5zdGFydDtcbiAgICAgICAgICAgIGNvbnN0IGVuZFRpbWVsaW5lID0gc3RhcnRFbmQuZW5kO1xuICAgICAgICAgICAgLy8gVGhlIHN0YXJ0IGFuZCBlbmQgdmFsdWVzLlxuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBzdGFydFRpbWVsaW5lW2tleV07XG4gICAgICAgICAgICBjb25zdCBlbmQgPSBlbmRUaW1lbGluZVtrZXldO1xuICAgICAgICAgICAgY29uc3QgZWFzaW5nID0gc3RhcnRUaW1lbGluZS5lYXNpbmdGdW5jdGlvbjtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIGNoaWxkIHByb2dyZXNzIGJldHdlZW4gdGhlIHN0YXJ0IGFuZCBlbmQuXG4gICAgICAgICAgICBjb25zdCBjaGlsZFByb2dyZXNzID0gbWF0aGYuY2xhbXAwMShtYXRoZi5jaGlsZFByb2dyZXNzKHByb2dyZXNzLCBzdGFydFRpbWVsaW5lLnByb2dyZXNzLCBlbmRUaW1lbGluZS5wcm9ncmVzcykpO1xuICAgICAgICAgICAgLy8gU2FmZSBndWFyZC5cbiAgICAgICAgICAgIGlmIChpcy5uYW4oY2hpbGRQcm9ncmVzcykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgICAgICAvLyBJZiB0aGUgdmFsdWUgaXMgYSBudW1iZXJpY2FsLlxuICAgICAgICAgICAgaWYgKGlzLm51bWJlcihzdGFydCkgJiYgaXMubnVtYmVyKGVuZCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gZW5kIC0gc3RhcnQ7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNhdG11bGxSb21Nb2RlIHx8IG1hdGhmLmFic1plcm8oZGlmZikgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBtYXRoZi5lYXNlKHN0YXJ0LCBlbmQsIGNoaWxkUHJvZ3Jlc3MsIGVhc2luZyB8fCBFQVNFLmxpbmVhcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW5zaW9uID0gdGhpcy5jYXRtdWxsUm9tVGVuc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGVjaG5pY2FsbHksIG5vdCBhIGNhdG11bGwgcm9tIGJ1dCBjcmVhdGUgYSBzaW1pbGFyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNwbGluZSBvdXQgb2YgSGVybWl0ZUN1cnZlcy5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVjdG9yID0gSGVybWl0ZUN1cnZlLmdldFBvaW50KGNoaWxkUHJvZ3Jlc3MsIG5ldyBWZWN0b3Ioc3RhcnQsIHN0YXJ0KSwgbmV3IFZlY3RvcihzdGFydCAqIHRlbnNpb24sIHN0YXJ0ICogdGVuc2lvbiksIG5ldyBWZWN0b3IoZW5kLCBlbmQpLCBuZXcgVmVjdG9yKGVuZCAqIHRlbnNpb24sIGVuZCAqIHRlbnNpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZlY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2ZWN0b3IueDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIHN0cmluZyB2YWx1ZXMgd2VyZSBwYXNzZWQsIHByb2Nlc3MgaXQgdmlhIEludGVycG9sYXRlLlxuICAgICAgICAgICAgICAgIC8vIHRvIGJlIGFibGUgdG8gdXNlIGNzcyB1bml0cy5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBJbnRlcnBvbGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICB0bzogZW5kLFxuICAgICAgICAgICAgICAgICAgICBlYXNlRnVuY3Rpb246IGVhc2luZyB8fCBFQVNFLmxpbmVhcixcbiAgICAgICAgICAgICAgICB9KS5jYWxjdWxhdGUoY2hpbGRQcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXMuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUga2V5IGlzIGEgY3NzIHZhciwgaW50ZXJuYWxseSBjYWNoZSBpdC4gIE90aGVyd2lzZSxcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHZhbHVlIG9uIHRoZSBob3N0LlxuICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnLS0nKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNzc0tleXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVjdG9yRG9tS2V5ID0ga2V5O1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvc3RbdmVjdG9yRG9tS2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBjc3MgdmFyaWFibGVzLiAgVW5uZWNjZXNhcnkgY2FsbHMgZ2V0IGN1bGxlZCBieVxuICAgICAqIGZ1bmMucnVuT25jZU9uQ2hhbmdlLlxuICAgICAqL1xuICAgIHNldENzc0tleXNfKGNzc1ZhcnMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlciB0aGlzIGVsZW1lbnQgb25seSB3aGVuIGl0IGlzIGludmlld1xuICAgICAgICAgKiBmb3IgcGVyZm9ybWFuY2UgYm9vc3QuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5ob3N0LnJlbmRlck9ubHlXaGVuSW52aWV3ICYmXG4gICAgICAgICAgICB0aGlzLmhvc3QuZWxlbWVudFZpc2liaWxpdHkuc3RhdGUoKS5yZWFkeSAmJlxuICAgICAgICAgICAgIXRoaXMuaG9zdC5lbGVtZW50VmlzaWJpbGl0eS5zdGF0ZSgpLmludmlldykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGNzc1ZhcnMpIHtcbiAgICAgICAgICAgIGRvbS5zZXRDc3NWYXJpYWJsZSh0aGlzLmVsZW1lbnQsIGtleSwgY3NzVmFyc1trZXldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuc2V0Q3NzS2V5c18odGhpcy5jc3NLZXlzKTtcbiAgICB9XG4gICAgcmVzaXplKCkgeyB9XG4gICAgZGlzcG9zZSgpIHsgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVjdG9yLWRvbS10aW1lbGluZS5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/dom/vector-dom-timeline.js\n");

/***/ }),

/***/ "./lib/dom/vector-dom.js":
/*!*******************************!*\
  !*** ./lib/dom/vector-dom.js ***!
  \*******************************/
/*! exports provided: VectorDom */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VectorDom\", function() { return VectorDom; });\n/* harmony import */ var _document_mouse_tracker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./document-mouse-tracker */ \"./lib/dom/document-mouse-tracker.js\");\n/* harmony import */ var _ease_ease__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../mathf/matrixIV */ \"./lib/mathf/matrixIV.js\");\n/* harmony import */ var _mathf_vector__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _mathf_quaternion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../mathf/quaternion */ \"./lib/mathf/quaternion.js\");\n/* harmony import */ var _func_func__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\n/* harmony import */ var _is_is__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\n/* harmony import */ var _dom_watcher__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _element_visibility__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./element-visibility */ \"./lib/dom/element-visibility.js\");\n/* harmony import */ var _vector_dom_timeline__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./vector-dom-timeline */ \"./lib/dom/vector-dom-timeline.js\");\n/* harmony import */ var _vector_dom_force__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./vector-dom-force */ \"./lib/dom/vector-dom-force.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * VectorDom is a general object is similar to a GameObject in many engines (but\n * much simpler).\n *\n * Vector-DOM allows you to specify the position (vec3), rotation (Quaternion) of\n * an html element using matrix3d transforms.\n *\n * The z value of the position vector gets translated as the scale and z-index\n * is automatically adjusted based on the depth.\n *\n *\n * #### Basic Usage:\n *\n * ```ts\n *\n * const element = document.getElementById('myelement');\n * const vectorElement = new VectorDom(element);\n *\n * // By default the vector element will have an anchor at the center\n * // of the element but override if needed.  This anchor value is generally\n * // used for translate offset while rotation and scale offsets are\n * // controlled by transforOrigin.\n * // Here we set it to the top left.  Default is 0.5.\n * vectorElement.anchorX = 0;\n * vectorElement.anchorY = 0;\n *\n *\n * // Update the transform origin if you want. Default center center.\n * vectorElement.transformOrigin = 'center center'\n *\n * // Set the initial position, rotation of the vector dom.\n * //  z indicates scale.\n * // The z is shifted by 1.  So -1 = 0%.  0 = 100%; 1 = 200%.\n * vectorElement.setPosition( new Vector(0, 0, 0));\n *\n * // Sets the Eular based rotation. See more on rotation below.\n * vectorElement.setRotation( new Vector(30, 20, 10));\n *\n * // Optionally set the global offset.  Here we center this element to the\n * // center of the screen.\n * vectorElement.setOffset( new Vector(\n *      window.innerWidth/ 2,  window.innerHeight /2, 0));\n *\n * // After setting intial positions and options, run initialize.\n * vectorElement.init();\n *\n *\n * new Raf(()=> {\n *   // On each raf, let's rotate the element.\n *   this.vectorElement.rx += 0.03;\n *   this.vectorElement.ry += 0.03;\n *   this.vectorElement.rz += 0.03;\n *\n *   // Move the element up 1px on each raf.\n *   let up = new Vector(1, 0, 0);\n *   this.vectorElement.position.add(rotate);\n *\n *   // Render updates the style.  It is automatically culled so only updated\n *   // when values change.\n *   this.vectorElement.render(true);\n * })\n *\n * ```\n *\n * #### Element Visibility\n *\n * Each vector dom also tracks its visility on the page using elementVisiblity.\n * You can access the element state with it.\n *\n * ```ts\n *\n * let v = new VectorDom(myElement);\n * v.state().inview; // true or false.  The element is current inview.\n * v.state().inview && doSomething();\n *\n * ```\n *\n *\n * #### Render When in View\n *\n * By default, the DOM will update when the element is inview.\n * You can turn of this feature by setting it to false which will update the\n * DOM even when the element is out of view.\n *\n * ```ts\n *\n * vectorDom.renderOnlyWhenInview = false;\n *\n * ```\n *\n * #### Rotations\n *\n * VectorDom uses Quaternions under the hood but provides ways to think in terms\n * of Euler rotations.\n *\n * In the object, internal Euler rotations are cached in `eulerRotation` and\n * the quaternion rotation is cache in `rotation`.\n *\n * At the core, on each render, the quaternion rotation is USED to create the\n * rotation matrix.  This means that ultimately, VectorDOM is a quaternion\n * based system to avoid the issues associated with Euler rotation (gimbal lock).\n *\n * So while you can update the values of `eularRotation`, changing those\n * values, will have NO effect unless, you sync it and tell VectorDOM to\n * use the current eularRotation values and apply that to VectorDOM.\n *\n *\n * To do this, run `syncEularRotation` and VectorDOM will internally,\n * convert the current eularRotation values and OVERWRITE the rotation quaternion\n * values - effectively, setting and applying the eular rotation to the VectorDOM.\n *\n * ```ts\n *\n * // Tell Vector dom to update internal rotation with the values of\n * // eularRotation.\n * vectorDom.syncEularRotation();\n * vectorDom.render();\n *\n * ```\n *\n * By using this, you can manipulate the rotation values in Euler.\n *\n * ```ts\n *\n * vectorDom.rx = 90;  // Set rotationX to 90 degrees.\n * vectorDom.eularRotation.x = 90;  // Same as above, set rotationX to 90 degrees.\n *\n * // Sync it and render it.\n * vectorDom.syncEularRotation();\n * vectorDom.render();\n *\n *\n * // Sets the euler rotation and quaternion rotation at once at anytime.\n * vectorDom.setRotation(new Vector(180, 90, 0));\n *\n * ```\n *\n * To keep it short you can also just pass, `true` to the render, which will tell\n * VectorDom that you want to sync on every render.\n *\n * ```ts\n *\n * vectorDom.render(true);\n *\n * ```\n *\n *\n * Now if you prefer to use quaternions, you can access the internal rotation\n * and NOT sync the eular rotation.  Using quaternions will have more flexibility.\n *\n *\n * ```ts\n * // Set the X rotation to 90.\n * let q = Quaternion.fromEuler(90, 0, 0);\n * vectorDom.rotation = q;\n * vectorDom.render();\n *\n * ```\n *\n * You can do more advanced things as well.\n *\n * ```ts\n * // Set initial rotation.\n * vectorDom.rotation = Quaternion.fromEular(30,30,30);\n *\n * // Add 90 degrees in X rotation to whatever it is now.\n * vectorDom.rotation.addEular(90, 0, 0);\n *\n * // Another way to do it.\n * // Add rotation by 90 degrees in X and 20 degress in y and 10 on the Z.\n * let xRadian = mathf.degreesToRadian(90);\n * let yRadian = mathf.degreesToRadian(20);\n * let zRadian = mathf.degreesToRadian(10);\n * let q1 = Quaternion.IDENTITY.angleAxis(xRadian, Vector.RIGHT); // x\n * let q2 = Quaternion.IDENTITY.angleAxis(yRadian, Vector.UP); /// y\n * let q3 = Quaternion.IDENTITY.angleAxis(yRadian, Vector.FORWARD); /// Z\n * vectorDOm.rotation.multiply(q1).multiply(q2).multiply(q3);\n *\n *\n * // Slerp to a specific Euler degree.\n *  let target = Quaternion.fromEuler(90, 20, 0);\n *  myQuat.slerp(target, this.progress);\n *\n *\n * // Lastely render without the sync option.\n * vectorDom.render();\n * ```\n *\n * Getting Eular values from Quaternion.  In general, it is a one way street\n * for now in which you can convert from Euler -> Quaternion but not the other\n * way around.  If needed, you can use the following but there are some rare\n * accuracy issues at the moment.\n *\n * ```ts\n * let eularRotation = vectorDom.rotation.toEulerVector();\n * eularRotation.x // the x rotation in degrees\n * eularRotation.y // the y rotation in degrees\n * eularRotation.z // the z rotation in degrees\n *\n * ```\n *\n * To reiterate, the sync option overwrite the Eular rotation so doing this\n * won't work.\n *\n * ```ts\n *\n * // Internally update the quaternion rotation.\n *  let target = Quaternion.fromEuler(90, 20, 0);\n *  myQuat.slerp(target, this.progress);\n *\n * // Now the eularRotation which was still at 0,0,0 overwrote the internal\n * // quaternion values.\n * this.syncEularRotation();\n *\n * // vectorDom will remain at 0,0,0.\n * vectorDom.render();\n * ```\n *\n *\n * The best of both worlds is that Quaternions are good at slerping and euler\n * is more intuitive.  You can use the internal rx, ry, rz values in degrees,\n * then apply that to the final quaternion rotation.\n *\n * ```ts\n *\n * // Add some rotation to eularRotation and then slerp the quaternion rotation.\n * this.flowerVector.eularRotation.x += 0.1;\n * this.flowerVector.rotation.slerpEulerVector(\n *     this.flowerVector.eularRotation, 0.08);\n * this.render();\n *\n * ```\n *\n *\n * #### Components\n *\n * VectorDom extends functionality via components.\n * Components can be access via `.components` or `._` for shorthand.\n *\n * These two are the same thing.\n *\n * ```ts\n *\n * vectorDom.components.timeline.setProgress(0.4);\n * vectorDom._.timeline.setProgress(0.4);\n *\n * ```\n *\n * See more demo in /examples/vector-dom and /examples/scroll-demo\n *\n *\n * #### Other notes\n * - globalPosition\n *   Don't add padding to body element.\n *   In order to avoid layout thrashing, VectorDom internally calculates the\n *   globalPosition.  However this relies on the document.body to not have\n *   padding.\n * - globalPosition\n *   Global position attempts to optimize calls to getBoundClientRect.\n *   If you are having issues with this, try setting useBoundsForGlobalCalculation\n *   to true.\n *\n * @unstable\n */\nclass VectorDom {\n    constructor(element, options) {\n        this.element = element;\n        this.offset = _mathf_vector__WEBPACK_IMPORTED_MODULE_4__[\"Vector\"].ZERO;\n        this.position = _mathf_vector__WEBPACK_IMPORTED_MODULE_4__[\"Vector\"].ZERO;\n        this.acceleration = _mathf_vector__WEBPACK_IMPORTED_MODULE_4__[\"Vector\"].ZERO;\n        this.velocity = _mathf_vector__WEBPACK_IMPORTED_MODULE_4__[\"Vector\"].ZERO;\n        this.rotation = _mathf_quaternion__WEBPACK_IMPORTED_MODULE_5__[\"Quaternion\"].IDENTITY;\n        this.eularRotation = _mathf_vector__WEBPACK_IMPORTED_MODULE_4__[\"Vector\"].ZERO;\n        this.transformOrigin = 'center center';\n        this.width = element.offsetWidth;\n        this.height = element.offsetHeight;\n        this.anchorX = 0.5;\n        this.anchorY = 0.5;\n        this.alpha = 1;\n        this.forcedZIndex = null;\n        this.zIndexScalar = 30;\n        this.mouse = _document_mouse_tracker__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n        this.watcher = new _dom_watcher__WEBPACK_IMPORTED_MODULE_8__[\"DomWatcher\"]();\n        this.renderOnlyWhenInview = true;\n        this.options = options || {};\n        this.disableStyleRenders = false;\n        this.useBoundsForGlobalCalculation = false;\n        this.eularRotationAsRotationMatrix = false;\n        this.renderWith3dProjectMatrix = true;\n        this.gx_ = 0;\n        this.gy_ = 0;\n        // Add element visibility to the VectorDom.\n        this.elementVisibility = _element_visibility__WEBPACK_IMPORTED_MODULE_9__[\"elementVisibility\"].inview(this.element);\n        this.watcher.add({\n            element: window,\n            on: 'resize',\n            callback: this.resize.bind(this),\n            eventOptions: { passive: true },\n        });\n        // Initialize all components.\n        this.components = {\n            /**\n             * The vector dom timeline component.\n             */\n            timeline: new _vector_dom_timeline__WEBPACK_IMPORTED_MODULE_10__[\"VectorDomTimeline\"](this),\n            /**\n             * The vector dom force component.\n             */\n            force: new _vector_dom_force__WEBPACK_IMPORTED_MODULE_11__[\"VectorDomForce\"](this),\n        };\n        // Create an alias to components.\n        this._ = this.components;\n        // Memoize getBoundingClient .\n        this.getBoundingClient = _func_func__WEBPACK_IMPORTED_MODULE_6__[\"memoizeSimple\"](this.getBoundingClient.bind(this));\n        // Make sure render only runs when changes are detected.\n        this.render_ = _func_func__WEBPACK_IMPORTED_MODULE_6__[\"runOnceOnChange\"](this.render_.bind(this));\n    }\n    init() {\n        this.resize();\n        this.setTransformOrigin();\n        for (const key in this.components) {\n            this.components[key].init();\n        }\n    }\n    resize() {\n        this.width = this.element.offsetWidth;\n        this.height = this.element.offsetHeight;\n        // Cache the global gx_ and gy_ values.\n        const bounds = this.bounds;\n        this.gx_ = bounds.left;\n        this.gy_ = bounds.top + window.scrollY;\n        // Update components.\n        for (const key in this.components) {\n            this.components[key].resize();\n        }\n    }\n    setTransformOrigin(value = 'center center') {\n        if (this.disableStyleRenders) {\n            return;\n        }\n        this.transformOrigin = value;\n        this.element.style.transformOrigin = 'center center';\n    }\n    setPosition(v) {\n        this.position = v;\n    }\n    // /**\n    //  * Returns the eularRotation Vector.\n    //  */\n    // get eularRotation() {\n    //     return Quaternion.toEulerVector(this.rotation);\n    // }\n    get x() {\n        return this.position.x;\n    }\n    set x(value) {\n        this.position.x = value;\n    }\n    get y() {\n        return this.position.y;\n    }\n    set y(value) {\n        this.position.y = value;\n    }\n    get z() {\n        return this.position.z;\n    }\n    set z(value) {\n        this.position.z = value;\n    }\n    get vx() {\n        return this.velocity.x;\n    }\n    set vx(value) {\n        this.velocity.x = value;\n    }\n    get vy() {\n        return this.velocity.y;\n    }\n    set vy(value) {\n        this.velocity.y = value;\n    }\n    get vz() {\n        return this.velocity.z;\n    }\n    set vz(value) {\n        this.velocity.z = value;\n    }\n    get ax() {\n        return this.acceleration.x;\n    }\n    set ax(value) {\n        this.acceleration.x = value;\n    }\n    get ay() {\n        return this.acceleration.y;\n    }\n    set ay(value) {\n        this.acceleration.y = value;\n    }\n    get az() {\n        return this.acceleration.z;\n    }\n    set az(value) {\n        this.acceleration.z = value;\n    }\n    get rx() {\n        return this.eularRotation.x;\n    }\n    set rx(value) {\n        this.eularRotation.x = value;\n    }\n    get ry() {\n        return this.eularRotation.y;\n    }\n    set ry(value) {\n        this.eularRotation.y = value;\n    }\n    get rz() {\n        return this.eularRotation.z;\n    }\n    set rz(value) {\n        this.eularRotation.z = value;\n    }\n    /**\n     * Gets the global position of this element in relation to the window.\n     * If the element is in the top, left of the window, this value would\n     * would return 0,0.\n     *\n     * This value can be incorrect if you element is in the sticky container\n     * in which case, set the useBoundForGlobalCalculation to true.\n     */\n    get globalPosition() {\n        let x = 0;\n        let y = 0;\n        const anchorOffsetVector = this.anchorOffsetVector;\n        if (!this.useBoundsForGlobalCalculation) {\n            x = this.gx_ + this.offset.x + anchorOffsetVector.x;\n            y = this.gy_ - window.scrollY + this.offset.y + anchorOffsetVector.y;\n        }\n        else {\n            x = this.bounds.left;\n            y = this.bounds.top;\n        }\n        return new _mathf_vector__WEBPACK_IMPORTED_MODULE_4__[\"Vector\"](x, y, this.position.z);\n    }\n    /**\n     * Returns the amount to offset to the center of the vectorDom\n     * based on the anchor.\n     */\n    get anchorOffsetVector() {\n        const anchorOffsetVector = new _mathf_vector__WEBPACK_IMPORTED_MODULE_4__[\"Vector\"](-(this.anchorX * this.width), -(this.anchorY * this.height), 0);\n        return anchorOffsetVector;\n    }\n    /**\n     * The global element center position.  This is the x,y in relation to\n     * the current window view to the center of the element.   If this value\n     * is 0,0, the \"center\" of the element is at the top left of the window.\n     *\n     * In short, this is asking, where on the screen is the center coordinates\n     * of the element.\n     */\n    get globalElementCenterPosition() {\n        const g = this.globalPosition.clone();\n        let hw = this.width / 2;\n        let hh = this.height / 2;\n        if (this.useBoundsForGlobalCalculation) {\n            hw = this.bounds.width / 2;\n            hh = this.bounds.height / 2;\n        }\n        const x = g.x + hw;\n        const y = g.y + hh;\n        return new _mathf_vector__WEBPACK_IMPORTED_MODULE_4__[\"Vector\"](x, y, this.position.z);\n    }\n    /**\n     * The element bounds including left, top, width, height. Watch out calling\n     * this on RAF since it can cause layout thrashing.  If possible,\n     * use other values since they are cached.  Consider using globalPosition instead\n     * which is more optimized.\n     *\n     * Since this is using getBoundingClientRect() it is the\n     * rendered width / height versus actual.\n     */\n    get bounds() {\n        const bounds = this.getBoundingClient();\n        return bounds;\n    }\n    /**\n     * Gets the bounding client rect. The scrollY, window width and height are\n     * passed to memoize results and reevaluation happens when those values have\n     * changed.\n     */\n    getBoundingClient() {\n        return this.element.getBoundingClientRect();\n    }\n    setOffset(v) {\n        this.offset = v;\n    }\n    /**\n     * Set the rotation with a Eular degree vector.  Note this method will\n     * overwrite the internal Quaternion rotation.\n     *\n     * ```ts\n     *\n     * vectorDom.setRotation(new Vector(360, 0, 0));\n     * ```\n     * @param v\n     */\n    setRotation(v) {\n        this.rotation = _mathf_quaternion__WEBPACK_IMPORTED_MODULE_5__[\"Quaternion\"].fromEulerVector(v);\n        this.syncEularRotation();\n    }\n    /**\n     * Tells VectorDom to use the eularRotation values and overrite the internal\n     * Quaternion rotation (which is ultimately used to calculate and generate\n     * the rotational matrix.)\n     */\n    syncEularRotation() {\n        this.rotation = _mathf_quaternion__WEBPACK_IMPORTED_MODULE_5__[\"Quaternion\"].fromEulerVector(this.eularRotation);\n    }\n    /**\n     * Similar to syncEularRotation, syncs and overwrites the quaternion\n     * rotation execpt does it with a slerp.  Use in place of syncEularRotation\n     * and add a slerp amount.\n     *\n     * In raf loop:\n     * ```ts\n     *\n     * vectorDom.rx += 1\n     * vectorDom.slerpEularRotation(0.08);\n     * // Note we don't pass true here since we don't want to sync.\n     * vectorDom.render();\n     *\n     * ```\n     * @param amount The amount to slerp.\n     */\n    slerpEularRotation(amount) {\n        this.rotation.slerpEulerVector(this.eularRotation, amount);\n    }\n    /**\n     * Forces a zIndex on this VectorDom.  Normally, zIndex is auto calculated\n     * by VectorDom based on the depth of the object.  This allows you to\n     * force a given zIndex.  Pass null to release zIndex control back to\n     * VectorDom.\n     *\n     * ```ts\n     *\n     * vectorDom.forceZIndex(20);\n     * vectorDom.forceZIndex(null); // release control\n     *\n     * ```\n     *\n     * @param zIndex\n     */\n    forceZIndex(zIndex) {\n        this.forcedZIndex = zIndex;\n    }\n    /**\n     * Takes the current position x,y,z vector points and converts it over to\n     * a 4x4 matrix with just consideration for translation.\n     * [\n     *  0 0 0 x\n     *  0 0 0 y\n     *  0 0 0 z\n     *  0 0 0 1\n     * ]\n     *\n     *\n     * Example of applying vector positions to dom elements.\n     *\n     * ```ts\n     *\n     * // Create a vector\n     *  let ballPosition = new Vector(100, 200, 0);\n     *\n     *\n     * // Take those vector positions and convert that into a translation matrix.\n     * let matrix = ballPosition.toTranslationMatrixIV()\n     *\n     * // Convert that to a css 3d translation.\n     * let ms = matrix.toCss3dMatrix();\n     * ball.style.transform = ms;\n     *\n     * ```\n     *\n     * @return {MartrixIV}\n     */\n    toTranslationMatrixIV() {\n        const positionVector = this.position.clone();\n        const matrix = new _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_3__[\"MatrixIV\"]();\n        matrix.setVectorColumn(3, positionVector);\n        return matrix;\n    }\n    /**\n     * Takes the rotation, scale and translation matrices and combines them\n     * into one.\n     */\n    toMatrixIV() {\n        const translationMatrix = this.toTranslationMatrixIV();\n        // Account for anchor offsets.\n        const anchorOffsetVector = new _mathf_vector__WEBPACK_IMPORTED_MODULE_4__[\"Vector\"](-(this.anchorX * this.width), -(this.anchorY * this.height), 0);\n        const offsetMatrix = new _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_3__[\"MatrixIV\"]();\n        const offsetVector = this.offset.clone().add(anchorOffsetVector);\n        offsetMatrix.setVectorColumn(3, offsetVector);\n        // Scale based on the z position.\n        const z = _mathf_mathf__WEBPACK_IMPORTED_MODULE_2__[\"clamp\"](-1, 10, this.position.z + 1);\n        const scaleMatrix = new _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_3__[\"MatrixIV\"]().scaleXyz(z, z, z);\n        scaleMatrix.value[15] = 1;\n        // Don't use YPR Eular because of gimble lock unless really needed.\n        let rotationMatrix;\n        if (this.eularRotationAsRotationMatrix) {\n            const radianEular = this.eularRotation.clone().degreeToRadians();\n            rotationMatrix = new _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_3__[\"MatrixIV\"]().ypr(-radianEular.y, -radianEular.x, radianEular.z);\n        }\n        else {\n            rotationMatrix = _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_3__[\"MatrixIV\"].fromQuaternion(this.rotation);\n        }\n        // Apply SRT.\n        const baseMatrix = _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_3__[\"MatrixIV\"].IDENTITY.multiply(scaleMatrix)\n            .multiply(rotationMatrix)\n            .multiply(translationMatrix)\n            .multiply(offsetMatrix);\n        if (!this.renderWith3dProjectMatrix) {\n            return baseMatrix;\n        }\n        else {\n            const projectionMatrix = new _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_3__[\"MatrixIV\"]().perspective(_mathf_mathf__WEBPACK_IMPORTED_MODULE_2__[\"degreeToRadian\"](90), 1, -1, 100);\n            const viewMatrix = new _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_3__[\"MatrixIV\"]().lookAt(new _mathf_vector__WEBPACK_IMPORTED_MODULE_4__[\"Vector\"](0, 0, 1), new _mathf_vector__WEBPACK_IMPORTED_MODULE_4__[\"Vector\"](0, 0, 0), _mathf_vector__WEBPACK_IMPORTED_MODULE_4__[\"Vector\"].DOWN);\n            return projectionMatrix.multiply(viewMatrix).multiply(baseMatrix);\n        }\n    }\n    toCss3dMatrix() {\n        const matrixValue = this.toMatrixIV().toCss3dMatrix();\n        return matrixValue;\n    }\n    /**\n     * Renders the VectorDom.\n     * @param {syncEularRotation} Whether to sync the eular rotation on each\n     *   render.  Defaults to true but turn off if you want to manipulate the\n     *   internal quaternion rotation.\n     */\n    render(syncEularRotation = false) {\n        if (syncEularRotation) {\n            this.syncEularRotation();\n        }\n        // Components render out first.\n        for (const key in this.components) {\n            this.components[key].render();\n        }\n        // Update the position based on velocity and acceleration.\n        // Has not effect if you just directly update the position.\n        this.velocity.ease(this.acceleration, 1, _ease_ease__WEBPACK_IMPORTED_MODULE_1__[\"linear\"]);\n        this.position.add(this.velocity);\n        const matrixValue = this.toCss3dMatrix();\n        this.render_(matrixValue, this.alpha);\n    }\n    /**\n     * Applies the css transform to this object.  Unneccesary calls get culled by\n     * func.runOnceOnChange.\n     */\n    render_(transform, alpha) {\n        if (this.disableStyleRenders) {\n            return;\n        }\n        /**\n         * Render this element only when it is inview for performance boost.\n         */\n        if (this.renderOnlyWhenInview &&\n            this.elementVisibility.state().ready &&\n            !this.elementVisibility.state().inview) {\n            return;\n        }\n        this.element.style.transform = transform;\n        this.element.style.opacity = alpha + '';\n        if (!_is_is__WEBPACK_IMPORTED_MODULE_7__[\"nullLike\"](this.forcedZIndex)) {\n            this.element.style.zIndex = this.forcedZIndex + '';\n        }\n        else {\n            this.element.style.zIndex =\n                ((this.zIndexScalar * (this.position.z + 1)) >> 0) + '';\n        }\n    }\n    dispose() {\n        for (const key in this.components) {\n            this.components[key].dispose();\n        }\n        this.watcher.dispose();\n        this.elementVisibility.dispose();\n    }\n}\n//# sourceMappingURL=vector-dom.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL3ZlY3Rvci1kb20uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZG9tL3ZlY3Rvci1kb20uanM/ZGNmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZG9jdW1lbnRNb3VzZVRyYWNrZXIgZnJvbSAnLi9kb2N1bWVudC1tb3VzZS10cmFja2VyJztcbmltcG9ydCAqIGFzIEVBU0UgZnJvbSAnLi4vZWFzZS9lYXNlJztcbmltcG9ydCAqIGFzIG1hdGhmIGZyb20gJy4uL21hdGhmL21hdGhmJztcbmltcG9ydCB7IE1hdHJpeElWIH0gZnJvbSAnLi4vbWF0aGYvbWF0cml4SVYnO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vbWF0aGYvdmVjdG9yJztcbmltcG9ydCB7IFF1YXRlcm5pb24gfSBmcm9tICcuLi9tYXRoZi9xdWF0ZXJuaW9uJztcbmltcG9ydCAqIGFzIGZ1bmMgZnJvbSAnLi4vZnVuYy9mdW5jJztcbmltcG9ydCAqIGFzIGlzIGZyb20gJy4uL2lzL2lzJztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuL2RvbS13YXRjaGVyJztcbmltcG9ydCB7IGVsZW1lbnRWaXNpYmlsaXR5IH0gZnJvbSAnLi9lbGVtZW50LXZpc2liaWxpdHknO1xuaW1wb3J0IHsgVmVjdG9yRG9tVGltZWxpbmUsIH0gZnJvbSAnLi92ZWN0b3ItZG9tLXRpbWVsaW5lJztcbmltcG9ydCB7IFZlY3RvckRvbUZvcmNlIH0gZnJvbSAnLi92ZWN0b3ItZG9tLWZvcmNlJztcbi8qKlxuICogVmVjdG9yRG9tIGlzIGEgZ2VuZXJhbCBvYmplY3QgaXMgc2ltaWxhciB0byBhIEdhbWVPYmplY3QgaW4gbWFueSBlbmdpbmVzIChidXRcbiAqIG11Y2ggc2ltcGxlcikuXG4gKlxuICogVmVjdG9yLURPTSBhbGxvd3MgeW91IHRvIHNwZWNpZnkgdGhlIHBvc2l0aW9uICh2ZWMzKSwgcm90YXRpb24gKFF1YXRlcm5pb24pIG9mXG4gKiBhbiBodG1sIGVsZW1lbnQgdXNpbmcgbWF0cml4M2QgdHJhbnNmb3Jtcy5cbiAqXG4gKiBUaGUgeiB2YWx1ZSBvZiB0aGUgcG9zaXRpb24gdmVjdG9yIGdldHMgdHJhbnNsYXRlZCBhcyB0aGUgc2NhbGUgYW5kIHotaW5kZXhcbiAqIGlzIGF1dG9tYXRpY2FsbHkgYWRqdXN0ZWQgYmFzZWQgb24gdGhlIGRlcHRoLlxuICpcbiAqXG4gKiAjIyMjIEJhc2ljIFVzYWdlOlxuICpcbiAqIGBgYHRzXG4gKlxuICogY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteWVsZW1lbnQnKTtcbiAqIGNvbnN0IHZlY3RvckVsZW1lbnQgPSBuZXcgVmVjdG9yRG9tKGVsZW1lbnQpO1xuICpcbiAqIC8vIEJ5IGRlZmF1bHQgdGhlIHZlY3RvciBlbGVtZW50IHdpbGwgaGF2ZSBhbiBhbmNob3IgYXQgdGhlIGNlbnRlclxuICogLy8gb2YgdGhlIGVsZW1lbnQgYnV0IG92ZXJyaWRlIGlmIG5lZWRlZC4gIFRoaXMgYW5jaG9yIHZhbHVlIGlzIGdlbmVyYWxseVxuICogLy8gdXNlZCBmb3IgdHJhbnNsYXRlIG9mZnNldCB3aGlsZSByb3RhdGlvbiBhbmQgc2NhbGUgb2Zmc2V0cyBhcmVcbiAqIC8vIGNvbnRyb2xsZWQgYnkgdHJhbnNmb3JPcmlnaW4uXG4gKiAvLyBIZXJlIHdlIHNldCBpdCB0byB0aGUgdG9wIGxlZnQuICBEZWZhdWx0IGlzIDAuNS5cbiAqIHZlY3RvckVsZW1lbnQuYW5jaG9yWCA9IDA7XG4gKiB2ZWN0b3JFbGVtZW50LmFuY2hvclkgPSAwO1xuICpcbiAqXG4gKiAvLyBVcGRhdGUgdGhlIHRyYW5zZm9ybSBvcmlnaW4gaWYgeW91IHdhbnQuIERlZmF1bHQgY2VudGVyIGNlbnRlci5cbiAqIHZlY3RvckVsZW1lbnQudHJhbnNmb3JtT3JpZ2luID0gJ2NlbnRlciBjZW50ZXInXG4gKlxuICogLy8gU2V0IHRoZSBpbml0aWFsIHBvc2l0aW9uLCByb3RhdGlvbiBvZiB0aGUgdmVjdG9yIGRvbS5cbiAqIC8vICB6IGluZGljYXRlcyBzY2FsZS5cbiAqIC8vIFRoZSB6IGlzIHNoaWZ0ZWQgYnkgMS4gIFNvIC0xID0gMCUuICAwID0gMTAwJTsgMSA9IDIwMCUuXG4gKiB2ZWN0b3JFbGVtZW50LnNldFBvc2l0aW9uKCBuZXcgVmVjdG9yKDAsIDAsIDApKTtcbiAqXG4gKiAvLyBTZXRzIHRoZSBFdWxhciBiYXNlZCByb3RhdGlvbi4gU2VlIG1vcmUgb24gcm90YXRpb24gYmVsb3cuXG4gKiB2ZWN0b3JFbGVtZW50LnNldFJvdGF0aW9uKCBuZXcgVmVjdG9yKDMwLCAyMCwgMTApKTtcbiAqXG4gKiAvLyBPcHRpb25hbGx5IHNldCB0aGUgZ2xvYmFsIG9mZnNldC4gIEhlcmUgd2UgY2VudGVyIHRoaXMgZWxlbWVudCB0byB0aGVcbiAqIC8vIGNlbnRlciBvZiB0aGUgc2NyZWVuLlxuICogdmVjdG9yRWxlbWVudC5zZXRPZmZzZXQoIG5ldyBWZWN0b3IoXG4gKiAgICAgIHdpbmRvdy5pbm5lcldpZHRoLyAyLCAgd2luZG93LmlubmVySGVpZ2h0IC8yLCAwKSk7XG4gKlxuICogLy8gQWZ0ZXIgc2V0dGluZyBpbnRpYWwgcG9zaXRpb25zIGFuZCBvcHRpb25zLCBydW4gaW5pdGlhbGl6ZS5cbiAqIHZlY3RvckVsZW1lbnQuaW5pdCgpO1xuICpcbiAqXG4gKiBuZXcgUmFmKCgpPT4ge1xuICogICAvLyBPbiBlYWNoIHJhZiwgbGV0J3Mgcm90YXRlIHRoZSBlbGVtZW50LlxuICogICB0aGlzLnZlY3RvckVsZW1lbnQucnggKz0gMC4wMztcbiAqICAgdGhpcy52ZWN0b3JFbGVtZW50LnJ5ICs9IDAuMDM7XG4gKiAgIHRoaXMudmVjdG9yRWxlbWVudC5yeiArPSAwLjAzO1xuICpcbiAqICAgLy8gTW92ZSB0aGUgZWxlbWVudCB1cCAxcHggb24gZWFjaCByYWYuXG4gKiAgIGxldCB1cCA9IG5ldyBWZWN0b3IoMSwgMCwgMCk7XG4gKiAgIHRoaXMudmVjdG9yRWxlbWVudC5wb3NpdGlvbi5hZGQocm90YXRlKTtcbiAqXG4gKiAgIC8vIFJlbmRlciB1cGRhdGVzIHRoZSBzdHlsZS4gIEl0IGlzIGF1dG9tYXRpY2FsbHkgY3VsbGVkIHNvIG9ubHkgdXBkYXRlZFxuICogICAvLyB3aGVuIHZhbHVlcyBjaGFuZ2UuXG4gKiAgIHRoaXMudmVjdG9yRWxlbWVudC5yZW5kZXIodHJ1ZSk7XG4gKiB9KVxuICpcbiAqIGBgYFxuICpcbiAqICMjIyMgRWxlbWVudCBWaXNpYmlsaXR5XG4gKlxuICogRWFjaCB2ZWN0b3IgZG9tIGFsc28gdHJhY2tzIGl0cyB2aXNpbGl0eSBvbiB0aGUgcGFnZSB1c2luZyBlbGVtZW50VmlzaWJsaXR5LlxuICogWW91IGNhbiBhY2Nlc3MgdGhlIGVsZW1lbnQgc3RhdGUgd2l0aCBpdC5cbiAqXG4gKiBgYGB0c1xuICpcbiAqIGxldCB2ID0gbmV3IFZlY3RvckRvbShteUVsZW1lbnQpO1xuICogdi5zdGF0ZSgpLmludmlldzsgLy8gdHJ1ZSBvciBmYWxzZS4gIFRoZSBlbGVtZW50IGlzIGN1cnJlbnQgaW52aWV3LlxuICogdi5zdGF0ZSgpLmludmlldyAmJiBkb1NvbWV0aGluZygpO1xuICpcbiAqIGBgYFxuICpcbiAqXG4gKiAjIyMjIFJlbmRlciBXaGVuIGluIFZpZXdcbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGUgRE9NIHdpbGwgdXBkYXRlIHdoZW4gdGhlIGVsZW1lbnQgaXMgaW52aWV3LlxuICogWW91IGNhbiB0dXJuIG9mIHRoaXMgZmVhdHVyZSBieSBzZXR0aW5nIGl0IHRvIGZhbHNlIHdoaWNoIHdpbGwgdXBkYXRlIHRoZVxuICogRE9NIGV2ZW4gd2hlbiB0aGUgZWxlbWVudCBpcyBvdXQgb2Ygdmlldy5cbiAqXG4gKiBgYGB0c1xuICpcbiAqIHZlY3RvckRvbS5yZW5kZXJPbmx5V2hlbkludmlldyA9IGZhbHNlO1xuICpcbiAqIGBgYFxuICpcbiAqICMjIyMgUm90YXRpb25zXG4gKlxuICogVmVjdG9yRG9tIHVzZXMgUXVhdGVybmlvbnMgdW5kZXIgdGhlIGhvb2QgYnV0IHByb3ZpZGVzIHdheXMgdG8gdGhpbmsgaW4gdGVybXNcbiAqIG9mIEV1bGVyIHJvdGF0aW9ucy5cbiAqXG4gKiBJbiB0aGUgb2JqZWN0LCBpbnRlcm5hbCBFdWxlciByb3RhdGlvbnMgYXJlIGNhY2hlZCBpbiBgZXVsZXJSb3RhdGlvbmAgYW5kXG4gKiB0aGUgcXVhdGVybmlvbiByb3RhdGlvbiBpcyBjYWNoZSBpbiBgcm90YXRpb25gLlxuICpcbiAqIEF0IHRoZSBjb3JlLCBvbiBlYWNoIHJlbmRlciwgdGhlIHF1YXRlcm5pb24gcm90YXRpb24gaXMgVVNFRCB0byBjcmVhdGUgdGhlXG4gKiByb3RhdGlvbiBtYXRyaXguICBUaGlzIG1lYW5zIHRoYXQgdWx0aW1hdGVseSwgVmVjdG9yRE9NIGlzIGEgcXVhdGVybmlvblxuICogYmFzZWQgc3lzdGVtIHRvIGF2b2lkIHRoZSBpc3N1ZXMgYXNzb2NpYXRlZCB3aXRoIEV1bGVyIHJvdGF0aW9uIChnaW1iYWwgbG9jaykuXG4gKlxuICogU28gd2hpbGUgeW91IGNhbiB1cGRhdGUgdGhlIHZhbHVlcyBvZiBgZXVsYXJSb3RhdGlvbmAsIGNoYW5naW5nIHRob3NlXG4gKiB2YWx1ZXMsIHdpbGwgaGF2ZSBOTyBlZmZlY3QgdW5sZXNzLCB5b3Ugc3luYyBpdCBhbmQgdGVsbCBWZWN0b3JET00gdG9cbiAqIHVzZSB0aGUgY3VycmVudCBldWxhclJvdGF0aW9uIHZhbHVlcyBhbmQgYXBwbHkgdGhhdCB0byBWZWN0b3JET00uXG4gKlxuICpcbiAqIFRvIGRvIHRoaXMsIHJ1biBgc3luY0V1bGFyUm90YXRpb25gIGFuZCBWZWN0b3JET00gd2lsbCBpbnRlcm5hbGx5LFxuICogY29udmVydCB0aGUgY3VycmVudCBldWxhclJvdGF0aW9uIHZhbHVlcyBhbmQgT1ZFUldSSVRFIHRoZSByb3RhdGlvbiBxdWF0ZXJuaW9uXG4gKiB2YWx1ZXMgLSBlZmZlY3RpdmVseSwgc2V0dGluZyBhbmQgYXBwbHlpbmcgdGhlIGV1bGFyIHJvdGF0aW9uIHRvIHRoZSBWZWN0b3JET00uXG4gKlxuICogYGBgdHNcbiAqXG4gKiAvLyBUZWxsIFZlY3RvciBkb20gdG8gdXBkYXRlIGludGVybmFsIHJvdGF0aW9uIHdpdGggdGhlIHZhbHVlcyBvZlxuICogLy8gZXVsYXJSb3RhdGlvbi5cbiAqIHZlY3RvckRvbS5zeW5jRXVsYXJSb3RhdGlvbigpO1xuICogdmVjdG9yRG9tLnJlbmRlcigpO1xuICpcbiAqIGBgYFxuICpcbiAqIEJ5IHVzaW5nIHRoaXMsIHlvdSBjYW4gbWFuaXB1bGF0ZSB0aGUgcm90YXRpb24gdmFsdWVzIGluIEV1bGVyLlxuICpcbiAqIGBgYHRzXG4gKlxuICogdmVjdG9yRG9tLnJ4ID0gOTA7ICAvLyBTZXQgcm90YXRpb25YIHRvIDkwIGRlZ3JlZXMuXG4gKiB2ZWN0b3JEb20uZXVsYXJSb3RhdGlvbi54ID0gOTA7ICAvLyBTYW1lIGFzIGFib3ZlLCBzZXQgcm90YXRpb25YIHRvIDkwIGRlZ3JlZXMuXG4gKlxuICogLy8gU3luYyBpdCBhbmQgcmVuZGVyIGl0LlxuICogdmVjdG9yRG9tLnN5bmNFdWxhclJvdGF0aW9uKCk7XG4gKiB2ZWN0b3JEb20ucmVuZGVyKCk7XG4gKlxuICpcbiAqIC8vIFNldHMgdGhlIGV1bGVyIHJvdGF0aW9uIGFuZCBxdWF0ZXJuaW9uIHJvdGF0aW9uIGF0IG9uY2UgYXQgYW55dGltZS5cbiAqIHZlY3RvckRvbS5zZXRSb3RhdGlvbihuZXcgVmVjdG9yKDE4MCwgOTAsIDApKTtcbiAqXG4gKiBgYGBcbiAqXG4gKiBUbyBrZWVwIGl0IHNob3J0IHlvdSBjYW4gYWxzbyBqdXN0IHBhc3MsIGB0cnVlYCB0byB0aGUgcmVuZGVyLCB3aGljaCB3aWxsIHRlbGxcbiAqIFZlY3RvckRvbSB0aGF0IHlvdSB3YW50IHRvIHN5bmMgb24gZXZlcnkgcmVuZGVyLlxuICpcbiAqIGBgYHRzXG4gKlxuICogdmVjdG9yRG9tLnJlbmRlcih0cnVlKTtcbiAqXG4gKiBgYGBcbiAqXG4gKlxuICogTm93IGlmIHlvdSBwcmVmZXIgdG8gdXNlIHF1YXRlcm5pb25zLCB5b3UgY2FuIGFjY2VzcyB0aGUgaW50ZXJuYWwgcm90YXRpb25cbiAqIGFuZCBOT1Qgc3luYyB0aGUgZXVsYXIgcm90YXRpb24uICBVc2luZyBxdWF0ZXJuaW9ucyB3aWxsIGhhdmUgbW9yZSBmbGV4aWJpbGl0eS5cbiAqXG4gKlxuICogYGBgdHNcbiAqIC8vIFNldCB0aGUgWCByb3RhdGlvbiB0byA5MC5cbiAqIGxldCBxID0gUXVhdGVybmlvbi5mcm9tRXVsZXIoOTAsIDAsIDApO1xuICogdmVjdG9yRG9tLnJvdGF0aW9uID0gcTtcbiAqIHZlY3RvckRvbS5yZW5kZXIoKTtcbiAqXG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIGRvIG1vcmUgYWR2YW5jZWQgdGhpbmdzIGFzIHdlbGwuXG4gKlxuICogYGBgdHNcbiAqIC8vIFNldCBpbml0aWFsIHJvdGF0aW9uLlxuICogdmVjdG9yRG9tLnJvdGF0aW9uID0gUXVhdGVybmlvbi5mcm9tRXVsYXIoMzAsMzAsMzApO1xuICpcbiAqIC8vIEFkZCA5MCBkZWdyZWVzIGluIFggcm90YXRpb24gdG8gd2hhdGV2ZXIgaXQgaXMgbm93LlxuICogdmVjdG9yRG9tLnJvdGF0aW9uLmFkZEV1bGFyKDkwLCAwLCAwKTtcbiAqXG4gKiAvLyBBbm90aGVyIHdheSB0byBkbyBpdC5cbiAqIC8vIEFkZCByb3RhdGlvbiBieSA5MCBkZWdyZWVzIGluIFggYW5kIDIwIGRlZ3Jlc3MgaW4geSBhbmQgMTAgb24gdGhlIFouXG4gKiBsZXQgeFJhZGlhbiA9IG1hdGhmLmRlZ3JlZXNUb1JhZGlhbig5MCk7XG4gKiBsZXQgeVJhZGlhbiA9IG1hdGhmLmRlZ3JlZXNUb1JhZGlhbigyMCk7XG4gKiBsZXQgelJhZGlhbiA9IG1hdGhmLmRlZ3JlZXNUb1JhZGlhbigxMCk7XG4gKiBsZXQgcTEgPSBRdWF0ZXJuaW9uLklERU5USVRZLmFuZ2xlQXhpcyh4UmFkaWFuLCBWZWN0b3IuUklHSFQpOyAvLyB4XG4gKiBsZXQgcTIgPSBRdWF0ZXJuaW9uLklERU5USVRZLmFuZ2xlQXhpcyh5UmFkaWFuLCBWZWN0b3IuVVApOyAvLy8geVxuICogbGV0IHEzID0gUXVhdGVybmlvbi5JREVOVElUWS5hbmdsZUF4aXMoeVJhZGlhbiwgVmVjdG9yLkZPUldBUkQpOyAvLy8gWlxuICogdmVjdG9yRE9tLnJvdGF0aW9uLm11bHRpcGx5KHExKS5tdWx0aXBseShxMikubXVsdGlwbHkocTMpO1xuICpcbiAqXG4gKiAvLyBTbGVycCB0byBhIHNwZWNpZmljIEV1bGVyIGRlZ3JlZS5cbiAqICBsZXQgdGFyZ2V0ID0gUXVhdGVybmlvbi5mcm9tRXVsZXIoOTAsIDIwLCAwKTtcbiAqICBteVF1YXQuc2xlcnAodGFyZ2V0LCB0aGlzLnByb2dyZXNzKTtcbiAqXG4gKlxuICogLy8gTGFzdGVseSByZW5kZXIgd2l0aG91dCB0aGUgc3luYyBvcHRpb24uXG4gKiB2ZWN0b3JEb20ucmVuZGVyKCk7XG4gKiBgYGBcbiAqXG4gKiBHZXR0aW5nIEV1bGFyIHZhbHVlcyBmcm9tIFF1YXRlcm5pb24uICBJbiBnZW5lcmFsLCBpdCBpcyBhIG9uZSB3YXkgc3RyZWV0XG4gKiBmb3Igbm93IGluIHdoaWNoIHlvdSBjYW4gY29udmVydCBmcm9tIEV1bGVyIC0+IFF1YXRlcm5pb24gYnV0IG5vdCB0aGUgb3RoZXJcbiAqIHdheSBhcm91bmQuICBJZiBuZWVkZWQsIHlvdSBjYW4gdXNlIHRoZSBmb2xsb3dpbmcgYnV0IHRoZXJlIGFyZSBzb21lIHJhcmVcbiAqIGFjY3VyYWN5IGlzc3VlcyBhdCB0aGUgbW9tZW50LlxuICpcbiAqIGBgYHRzXG4gKiBsZXQgZXVsYXJSb3RhdGlvbiA9IHZlY3RvckRvbS5yb3RhdGlvbi50b0V1bGVyVmVjdG9yKCk7XG4gKiBldWxhclJvdGF0aW9uLnggLy8gdGhlIHggcm90YXRpb24gaW4gZGVncmVlc1xuICogZXVsYXJSb3RhdGlvbi55IC8vIHRoZSB5IHJvdGF0aW9uIGluIGRlZ3JlZXNcbiAqIGV1bGFyUm90YXRpb24ueiAvLyB0aGUgeiByb3RhdGlvbiBpbiBkZWdyZWVzXG4gKlxuICogYGBgXG4gKlxuICogVG8gcmVpdGVyYXRlLCB0aGUgc3luYyBvcHRpb24gb3ZlcndyaXRlIHRoZSBFdWxhciByb3RhdGlvbiBzbyBkb2luZyB0aGlzXG4gKiB3b24ndCB3b3JrLlxuICpcbiAqIGBgYHRzXG4gKlxuICogLy8gSW50ZXJuYWxseSB1cGRhdGUgdGhlIHF1YXRlcm5pb24gcm90YXRpb24uXG4gKiAgbGV0IHRhcmdldCA9IFF1YXRlcm5pb24uZnJvbUV1bGVyKDkwLCAyMCwgMCk7XG4gKiAgbXlRdWF0LnNsZXJwKHRhcmdldCwgdGhpcy5wcm9ncmVzcyk7XG4gKlxuICogLy8gTm93IHRoZSBldWxhclJvdGF0aW9uIHdoaWNoIHdhcyBzdGlsbCBhdCAwLDAsMCBvdmVyd3JvdGUgdGhlIGludGVybmFsXG4gKiAvLyBxdWF0ZXJuaW9uIHZhbHVlcy5cbiAqIHRoaXMuc3luY0V1bGFyUm90YXRpb24oKTtcbiAqXG4gKiAvLyB2ZWN0b3JEb20gd2lsbCByZW1haW4gYXQgMCwwLDAuXG4gKiB2ZWN0b3JEb20ucmVuZGVyKCk7XG4gKiBgYGBcbiAqXG4gKlxuICogVGhlIGJlc3Qgb2YgYm90aCB3b3JsZHMgaXMgdGhhdCBRdWF0ZXJuaW9ucyBhcmUgZ29vZCBhdCBzbGVycGluZyBhbmQgZXVsZXJcbiAqIGlzIG1vcmUgaW50dWl0aXZlLiAgWW91IGNhbiB1c2UgdGhlIGludGVybmFsIHJ4LCByeSwgcnogdmFsdWVzIGluIGRlZ3JlZXMsXG4gKiB0aGVuIGFwcGx5IHRoYXQgdG8gdGhlIGZpbmFsIHF1YXRlcm5pb24gcm90YXRpb24uXG4gKlxuICogYGBgdHNcbiAqXG4gKiAvLyBBZGQgc29tZSByb3RhdGlvbiB0byBldWxhclJvdGF0aW9uIGFuZCB0aGVuIHNsZXJwIHRoZSBxdWF0ZXJuaW9uIHJvdGF0aW9uLlxuICogdGhpcy5mbG93ZXJWZWN0b3IuZXVsYXJSb3RhdGlvbi54ICs9IDAuMTtcbiAqIHRoaXMuZmxvd2VyVmVjdG9yLnJvdGF0aW9uLnNsZXJwRXVsZXJWZWN0b3IoXG4gKiAgICAgdGhpcy5mbG93ZXJWZWN0b3IuZXVsYXJSb3RhdGlvbiwgMC4wOCk7XG4gKiB0aGlzLnJlbmRlcigpO1xuICpcbiAqIGBgYFxuICpcbiAqXG4gKiAjIyMjIENvbXBvbmVudHNcbiAqXG4gKiBWZWN0b3JEb20gZXh0ZW5kcyBmdW5jdGlvbmFsaXR5IHZpYSBjb21wb25lbnRzLlxuICogQ29tcG9uZW50cyBjYW4gYmUgYWNjZXNzIHZpYSBgLmNvbXBvbmVudHNgIG9yIGAuX2AgZm9yIHNob3J0aGFuZC5cbiAqXG4gKiBUaGVzZSB0d28gYXJlIHRoZSBzYW1lIHRoaW5nLlxuICpcbiAqIGBgYHRzXG4gKlxuICogdmVjdG9yRG9tLmNvbXBvbmVudHMudGltZWxpbmUuc2V0UHJvZ3Jlc3MoMC40KTtcbiAqIHZlY3RvckRvbS5fLnRpbWVsaW5lLnNldFByb2dyZXNzKDAuNCk7XG4gKlxuICogYGBgXG4gKlxuICogU2VlIG1vcmUgZGVtbyBpbiAvZXhhbXBsZXMvdmVjdG9yLWRvbSBhbmQgL2V4YW1wbGVzL3Njcm9sbC1kZW1vXG4gKlxuICpcbiAqICMjIyMgT3RoZXIgbm90ZXNcbiAqIC0gZ2xvYmFsUG9zaXRpb25cbiAqICAgRG9uJ3QgYWRkIHBhZGRpbmcgdG8gYm9keSBlbGVtZW50LlxuICogICBJbiBvcmRlciB0byBhdm9pZCBsYXlvdXQgdGhyYXNoaW5nLCBWZWN0b3JEb20gaW50ZXJuYWxseSBjYWxjdWxhdGVzIHRoZVxuICogICBnbG9iYWxQb3NpdGlvbi4gIEhvd2V2ZXIgdGhpcyByZWxpZXMgb24gdGhlIGRvY3VtZW50LmJvZHkgdG8gbm90IGhhdmVcbiAqICAgcGFkZGluZy5cbiAqIC0gZ2xvYmFsUG9zaXRpb25cbiAqICAgR2xvYmFsIHBvc2l0aW9uIGF0dGVtcHRzIHRvIG9wdGltaXplIGNhbGxzIHRvIGdldEJvdW5kQ2xpZW50UmVjdC5cbiAqICAgSWYgeW91IGFyZSBoYXZpbmcgaXNzdWVzIHdpdGggdGhpcywgdHJ5IHNldHRpbmcgdXNlQm91bmRzRm9yR2xvYmFsQ2FsY3VsYXRpb25cbiAqICAgdG8gdHJ1ZS5cbiAqXG4gKiBAdW5zdGFibGVcbiAqL1xuZXhwb3J0IGNsYXNzIFZlY3RvckRvbSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLm9mZnNldCA9IFZlY3Rvci5aRVJPO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gVmVjdG9yLlpFUk87XG4gICAgICAgIHRoaXMuYWNjZWxlcmF0aW9uID0gVmVjdG9yLlpFUk87XG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSBWZWN0b3IuWkVSTztcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IFF1YXRlcm5pb24uSURFTlRJVFk7XG4gICAgICAgIHRoaXMuZXVsYXJSb3RhdGlvbiA9IFZlY3Rvci5aRVJPO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybU9yaWdpbiA9ICdjZW50ZXIgY2VudGVyJztcbiAgICAgICAgdGhpcy53aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHRoaXMuYW5jaG9yWCA9IDAuNTtcbiAgICAgICAgdGhpcy5hbmNob3JZID0gMC41O1xuICAgICAgICB0aGlzLmFscGhhID0gMTtcbiAgICAgICAgdGhpcy5mb3JjZWRaSW5kZXggPSBudWxsO1xuICAgICAgICB0aGlzLnpJbmRleFNjYWxhciA9IDMwO1xuICAgICAgICB0aGlzLm1vdXNlID0gZG9jdW1lbnRNb3VzZVRyYWNrZXI7XG4gICAgICAgIHRoaXMud2F0Y2hlciA9IG5ldyBEb21XYXRjaGVyKCk7XG4gICAgICAgIHRoaXMucmVuZGVyT25seVdoZW5JbnZpZXcgPSB0cnVlO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB0aGlzLmRpc2FibGVTdHlsZVJlbmRlcnMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51c2VCb3VuZHNGb3JHbG9iYWxDYWxjdWxhdGlvbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmV1bGFyUm90YXRpb25Bc1JvdGF0aW9uTWF0cml4ID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVuZGVyV2l0aDNkUHJvamVjdE1hdHJpeCA9IHRydWU7XG4gICAgICAgIHRoaXMuZ3hfID0gMDtcbiAgICAgICAgdGhpcy5neV8gPSAwO1xuICAgICAgICAvLyBBZGQgZWxlbWVudCB2aXNpYmlsaXR5IHRvIHRoZSBWZWN0b3JEb20uXG4gICAgICAgIHRoaXMuZWxlbWVudFZpc2liaWxpdHkgPSBlbGVtZW50VmlzaWJpbGl0eS5pbnZpZXcodGhpcy5lbGVtZW50KTtcbiAgICAgICAgdGhpcy53YXRjaGVyLmFkZCh7XG4gICAgICAgICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICAgICAgICBvbjogJ3Jlc2l6ZScsXG4gICAgICAgICAgICBjYWxsYmFjazogdGhpcy5yZXNpemUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGV2ZW50T3B0aW9uczogeyBwYXNzaXZlOiB0cnVlIH0sXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBJbml0aWFsaXplIGFsbCBjb21wb25lbnRzLlxuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoZSB2ZWN0b3IgZG9tIHRpbWVsaW5lIGNvbXBvbmVudC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGltZWxpbmU6IG5ldyBWZWN0b3JEb21UaW1lbGluZSh0aGlzKSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGhlIHZlY3RvciBkb20gZm9yY2UgY29tcG9uZW50LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmb3JjZTogbmV3IFZlY3RvckRvbUZvcmNlKHRoaXMpLFxuICAgICAgICB9O1xuICAgICAgICAvLyBDcmVhdGUgYW4gYWxpYXMgdG8gY29tcG9uZW50cy5cbiAgICAgICAgdGhpcy5fID0gdGhpcy5jb21wb25lbnRzO1xuICAgICAgICAvLyBNZW1vaXplIGdldEJvdW5kaW5nQ2xpZW50IC5cbiAgICAgICAgdGhpcy5nZXRCb3VuZGluZ0NsaWVudCA9IGZ1bmMubWVtb2l6ZVNpbXBsZSh0aGlzLmdldEJvdW5kaW5nQ2xpZW50LmJpbmQodGhpcykpO1xuICAgICAgICAvLyBNYWtlIHN1cmUgcmVuZGVyIG9ubHkgcnVucyB3aGVuIGNoYW5nZXMgYXJlIGRldGVjdGVkLlxuICAgICAgICB0aGlzLnJlbmRlcl8gPSBmdW5jLnJ1bk9uY2VPbkNoYW5nZSh0aGlzLnJlbmRlcl8uYmluZCh0aGlzKSk7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgIHRoaXMuc2V0VHJhbnNmb3JtT3JpZ2luKCk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuY29tcG9uZW50cykge1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzW2tleV0uaW5pdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc2l6ZSgpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAvLyBDYWNoZSB0aGUgZ2xvYmFsIGd4XyBhbmQgZ3lfIHZhbHVlcy5cbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5ib3VuZHM7XG4gICAgICAgIHRoaXMuZ3hfID0gYm91bmRzLmxlZnQ7XG4gICAgICAgIHRoaXMuZ3lfID0gYm91bmRzLnRvcCArIHdpbmRvdy5zY3JvbGxZO1xuICAgICAgICAvLyBVcGRhdGUgY29tcG9uZW50cy5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5jb21wb25lbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHNba2V5XS5yZXNpemUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRUcmFuc2Zvcm1PcmlnaW4odmFsdWUgPSAnY2VudGVyIGNlbnRlcicpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlzYWJsZVN0eWxlUmVuZGVycykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhbnNmb3JtT3JpZ2luID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSAnY2VudGVyIGNlbnRlcic7XG4gICAgfVxuICAgIHNldFBvc2l0aW9uKHYpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHY7XG4gICAgfVxuICAgIC8vIC8qKlxuICAgIC8vICAqIFJldHVybnMgdGhlIGV1bGFyUm90YXRpb24gVmVjdG9yLlxuICAgIC8vICAqL1xuICAgIC8vIGdldCBldWxhclJvdGF0aW9uKCkge1xuICAgIC8vICAgICByZXR1cm4gUXVhdGVybmlvbi50b0V1bGVyVmVjdG9yKHRoaXMucm90YXRpb24pO1xuICAgIC8vIH1cbiAgICBnZXQgeCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueDtcbiAgICB9XG4gICAgc2V0IHgodmFsdWUpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCB5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi55O1xuICAgIH1cbiAgICBzZXQgeSh2YWx1ZSkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IHooKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLno7XG4gICAgfVxuICAgIHNldCB6KHZhbHVlKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueiA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgdngoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlbG9jaXR5Lng7XG4gICAgfVxuICAgIHNldCB2eCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZlbG9jaXR5LnggPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IHZ5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52ZWxvY2l0eS55O1xuICAgIH1cbiAgICBzZXQgdnkodmFsdWUpIHtcbiAgICAgICAgdGhpcy52ZWxvY2l0eS55ID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCB2eigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVsb2NpdHkuejtcbiAgICB9XG4gICAgc2V0IHZ6KHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmVsb2NpdHkueiA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgYXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjY2VsZXJhdGlvbi54O1xuICAgIH1cbiAgICBzZXQgYXgodmFsdWUpIHtcbiAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24ueCA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgYXkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjY2VsZXJhdGlvbi55O1xuICAgIH1cbiAgICBzZXQgYXkodmFsdWUpIHtcbiAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24ueSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgYXooKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjY2VsZXJhdGlvbi56O1xuICAgIH1cbiAgICBzZXQgYXoodmFsdWUpIHtcbiAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24ueiA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgcngoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV1bGFyUm90YXRpb24ueDtcbiAgICB9XG4gICAgc2V0IHJ4KHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZXVsYXJSb3RhdGlvbi54ID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCByeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXVsYXJSb3RhdGlvbi55O1xuICAgIH1cbiAgICBzZXQgcnkodmFsdWUpIHtcbiAgICAgICAgdGhpcy5ldWxhclJvdGF0aW9uLnkgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IHJ6KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ldWxhclJvdGF0aW9uLno7XG4gICAgfVxuICAgIHNldCByeih2YWx1ZSkge1xuICAgICAgICB0aGlzLmV1bGFyUm90YXRpb24ueiA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBnbG9iYWwgcG9zaXRpb24gb2YgdGhpcyBlbGVtZW50IGluIHJlbGF0aW9uIHRvIHRoZSB3aW5kb3cuXG4gICAgICogSWYgdGhlIGVsZW1lbnQgaXMgaW4gdGhlIHRvcCwgbGVmdCBvZiB0aGUgd2luZG93LCB0aGlzIHZhbHVlIHdvdWxkXG4gICAgICogd291bGQgcmV0dXJuIDAsMC5cbiAgICAgKlxuICAgICAqIFRoaXMgdmFsdWUgY2FuIGJlIGluY29ycmVjdCBpZiB5b3UgZWxlbWVudCBpcyBpbiB0aGUgc3RpY2t5IGNvbnRhaW5lclxuICAgICAqIGluIHdoaWNoIGNhc2UsIHNldCB0aGUgdXNlQm91bmRGb3JHbG9iYWxDYWxjdWxhdGlvbiB0byB0cnVlLlxuICAgICAqL1xuICAgIGdldCBnbG9iYWxQb3NpdGlvbigpIHtcbiAgICAgICAgbGV0IHggPSAwO1xuICAgICAgICBsZXQgeSA9IDA7XG4gICAgICAgIGNvbnN0IGFuY2hvck9mZnNldFZlY3RvciA9IHRoaXMuYW5jaG9yT2Zmc2V0VmVjdG9yO1xuICAgICAgICBpZiAoIXRoaXMudXNlQm91bmRzRm9yR2xvYmFsQ2FsY3VsYXRpb24pIHtcbiAgICAgICAgICAgIHggPSB0aGlzLmd4XyArIHRoaXMub2Zmc2V0LnggKyBhbmNob3JPZmZzZXRWZWN0b3IueDtcbiAgICAgICAgICAgIHkgPSB0aGlzLmd5XyAtIHdpbmRvdy5zY3JvbGxZICsgdGhpcy5vZmZzZXQueSArIGFuY2hvck9mZnNldFZlY3Rvci55O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeCA9IHRoaXMuYm91bmRzLmxlZnQ7XG4gICAgICAgICAgICB5ID0gdGhpcy5ib3VuZHMudG9wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHgsIHksIHRoaXMucG9zaXRpb24ueik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFtb3VudCB0byBvZmZzZXQgdG8gdGhlIGNlbnRlciBvZiB0aGUgdmVjdG9yRG9tXG4gICAgICogYmFzZWQgb24gdGhlIGFuY2hvci5cbiAgICAgKi9cbiAgICBnZXQgYW5jaG9yT2Zmc2V0VmVjdG9yKCkge1xuICAgICAgICBjb25zdCBhbmNob3JPZmZzZXRWZWN0b3IgPSBuZXcgVmVjdG9yKC0odGhpcy5hbmNob3JYICogdGhpcy53aWR0aCksIC0odGhpcy5hbmNob3JZICogdGhpcy5oZWlnaHQpLCAwKTtcbiAgICAgICAgcmV0dXJuIGFuY2hvck9mZnNldFZlY3RvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGdsb2JhbCBlbGVtZW50IGNlbnRlciBwb3NpdGlvbi4gIFRoaXMgaXMgdGhlIHgseSBpbiByZWxhdGlvbiB0b1xuICAgICAqIHRoZSBjdXJyZW50IHdpbmRvdyB2aWV3IHRvIHRoZSBjZW50ZXIgb2YgdGhlIGVsZW1lbnQuICAgSWYgdGhpcyB2YWx1ZVxuICAgICAqIGlzIDAsMCwgdGhlIFwiY2VudGVyXCIgb2YgdGhlIGVsZW1lbnQgaXMgYXQgdGhlIHRvcCBsZWZ0IG9mIHRoZSB3aW5kb3cuXG4gICAgICpcbiAgICAgKiBJbiBzaG9ydCwgdGhpcyBpcyBhc2tpbmcsIHdoZXJlIG9uIHRoZSBzY3JlZW4gaXMgdGhlIGNlbnRlciBjb29yZGluYXRlc1xuICAgICAqIG9mIHRoZSBlbGVtZW50LlxuICAgICAqL1xuICAgIGdldCBnbG9iYWxFbGVtZW50Q2VudGVyUG9zaXRpb24oKSB7XG4gICAgICAgIGNvbnN0IGcgPSB0aGlzLmdsb2JhbFBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgIGxldCBodyA9IHRoaXMud2lkdGggLyAyO1xuICAgICAgICBsZXQgaGggPSB0aGlzLmhlaWdodCAvIDI7XG4gICAgICAgIGlmICh0aGlzLnVzZUJvdW5kc0Zvckdsb2JhbENhbGN1bGF0aW9uKSB7XG4gICAgICAgICAgICBodyA9IHRoaXMuYm91bmRzLndpZHRoIC8gMjtcbiAgICAgICAgICAgIGhoID0gdGhpcy5ib3VuZHMuaGVpZ2h0IC8gMjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB4ID0gZy54ICsgaHc7XG4gICAgICAgIGNvbnN0IHkgPSBnLnkgKyBoaDtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoeCwgeSwgdGhpcy5wb3NpdGlvbi56KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGVsZW1lbnQgYm91bmRzIGluY2x1ZGluZyBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQuIFdhdGNoIG91dCBjYWxsaW5nXG4gICAgICogdGhpcyBvbiBSQUYgc2luY2UgaXQgY2FuIGNhdXNlIGxheW91dCB0aHJhc2hpbmcuICBJZiBwb3NzaWJsZSxcbiAgICAgKiB1c2Ugb3RoZXIgdmFsdWVzIHNpbmNlIHRoZXkgYXJlIGNhY2hlZC4gIENvbnNpZGVyIHVzaW5nIGdsb2JhbFBvc2l0aW9uIGluc3RlYWRcbiAgICAgKiB3aGljaCBpcyBtb3JlIG9wdGltaXplZC5cbiAgICAgKlxuICAgICAqIFNpbmNlIHRoaXMgaXMgdXNpbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgaXQgaXMgdGhlXG4gICAgICogcmVuZGVyZWQgd2lkdGggLyBoZWlnaHQgdmVyc3VzIGFjdHVhbC5cbiAgICAgKi9cbiAgICBnZXQgYm91bmRzKCkge1xuICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50KCk7XG4gICAgICAgIHJldHVybiBib3VuZHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGJvdW5kaW5nIGNsaWVudCByZWN0LiBUaGUgc2Nyb2xsWSwgd2luZG93IHdpZHRoIGFuZCBoZWlnaHQgYXJlXG4gICAgICogcGFzc2VkIHRvIG1lbW9pemUgcmVzdWx0cyBhbmQgcmVldmFsdWF0aW9uIGhhcHBlbnMgd2hlbiB0aG9zZSB2YWx1ZXMgaGF2ZVxuICAgICAqIGNoYW5nZWQuXG4gICAgICovXG4gICAgZ2V0Qm91bmRpbmdDbGllbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgfVxuICAgIHNldE9mZnNldCh2KSB7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gdjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSByb3RhdGlvbiB3aXRoIGEgRXVsYXIgZGVncmVlIHZlY3Rvci4gIE5vdGUgdGhpcyBtZXRob2Qgd2lsbFxuICAgICAqIG92ZXJ3cml0ZSB0aGUgaW50ZXJuYWwgUXVhdGVybmlvbiByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICpcbiAgICAgKiB2ZWN0b3JEb20uc2V0Um90YXRpb24obmV3IFZlY3RvcigzNjAsIDAsIDApKTtcbiAgICAgKiBgYGBcbiAgICAgKiBAcGFyYW0gdlxuICAgICAqL1xuICAgIHNldFJvdGF0aW9uKHYpIHtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IFF1YXRlcm5pb24uZnJvbUV1bGVyVmVjdG9yKHYpO1xuICAgICAgICB0aGlzLnN5bmNFdWxhclJvdGF0aW9uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlbGxzIFZlY3RvckRvbSB0byB1c2UgdGhlIGV1bGFyUm90YXRpb24gdmFsdWVzIGFuZCBvdmVycml0ZSB0aGUgaW50ZXJuYWxcbiAgICAgKiBRdWF0ZXJuaW9uIHJvdGF0aW9uICh3aGljaCBpcyB1bHRpbWF0ZWx5IHVzZWQgdG8gY2FsY3VsYXRlIGFuZCBnZW5lcmF0ZVxuICAgICAqIHRoZSByb3RhdGlvbmFsIG1hdHJpeC4pXG4gICAgICovXG4gICAgc3luY0V1bGFyUm90YXRpb24oKSB7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSBRdWF0ZXJuaW9uLmZyb21FdWxlclZlY3Rvcih0aGlzLmV1bGFyUm90YXRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaW1pbGFyIHRvIHN5bmNFdWxhclJvdGF0aW9uLCBzeW5jcyBhbmQgb3ZlcndyaXRlcyB0aGUgcXVhdGVybmlvblxuICAgICAqIHJvdGF0aW9uIGV4ZWNwdCBkb2VzIGl0IHdpdGggYSBzbGVycC4gIFVzZSBpbiBwbGFjZSBvZiBzeW5jRXVsYXJSb3RhdGlvblxuICAgICAqIGFuZCBhZGQgYSBzbGVycCBhbW91bnQuXG4gICAgICpcbiAgICAgKiBJbiByYWYgbG9vcDpcbiAgICAgKiBgYGB0c1xuICAgICAqXG4gICAgICogdmVjdG9yRG9tLnJ4ICs9IDFcbiAgICAgKiB2ZWN0b3JEb20uc2xlcnBFdWxhclJvdGF0aW9uKDAuMDgpO1xuICAgICAqIC8vIE5vdGUgd2UgZG9uJ3QgcGFzcyB0cnVlIGhlcmUgc2luY2Ugd2UgZG9uJ3Qgd2FudCB0byBzeW5jLlxuICAgICAqIHZlY3RvckRvbS5yZW5kZXIoKTtcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIEBwYXJhbSBhbW91bnQgVGhlIGFtb3VudCB0byBzbGVycC5cbiAgICAgKi9cbiAgICBzbGVycEV1bGFyUm90YXRpb24oYW1vdW50KSB7XG4gICAgICAgIHRoaXMucm90YXRpb24uc2xlcnBFdWxlclZlY3Rvcih0aGlzLmV1bGFyUm90YXRpb24sIGFtb3VudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvcmNlcyBhIHpJbmRleCBvbiB0aGlzIFZlY3RvckRvbS4gIE5vcm1hbGx5LCB6SW5kZXggaXMgYXV0byBjYWxjdWxhdGVkXG4gICAgICogYnkgVmVjdG9yRG9tIGJhc2VkIG9uIHRoZSBkZXB0aCBvZiB0aGUgb2JqZWN0LiAgVGhpcyBhbGxvd3MgeW91IHRvXG4gICAgICogZm9yY2UgYSBnaXZlbiB6SW5kZXguICBQYXNzIG51bGwgdG8gcmVsZWFzZSB6SW5kZXggY29udHJvbCBiYWNrIHRvXG4gICAgICogVmVjdG9yRG9tLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKlxuICAgICAqIHZlY3RvckRvbS5mb3JjZVpJbmRleCgyMCk7XG4gICAgICogdmVjdG9yRG9tLmZvcmNlWkluZGV4KG51bGwpOyAvLyByZWxlYXNlIGNvbnRyb2xcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHpJbmRleFxuICAgICAqL1xuICAgIGZvcmNlWkluZGV4KHpJbmRleCkge1xuICAgICAgICB0aGlzLmZvcmNlZFpJbmRleCA9IHpJbmRleDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGFrZXMgdGhlIGN1cnJlbnQgcG9zaXRpb24geCx5LHogdmVjdG9yIHBvaW50cyBhbmQgY29udmVydHMgaXQgb3ZlciB0b1xuICAgICAqIGEgNHg0IG1hdHJpeCB3aXRoIGp1c3QgY29uc2lkZXJhdGlvbiBmb3IgdHJhbnNsYXRpb24uXG4gICAgICogW1xuICAgICAqICAwIDAgMCB4XG4gICAgICogIDAgMCAwIHlcbiAgICAgKiAgMCAwIDAgelxuICAgICAqICAwIDAgMCAxXG4gICAgICogXVxuICAgICAqXG4gICAgICpcbiAgICAgKiBFeGFtcGxlIG9mIGFwcGx5aW5nIHZlY3RvciBwb3NpdGlvbnMgdG8gZG9tIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKlxuICAgICAqIC8vIENyZWF0ZSBhIHZlY3RvclxuICAgICAqICBsZXQgYmFsbFBvc2l0aW9uID0gbmV3IFZlY3RvcigxMDAsIDIwMCwgMCk7XG4gICAgICpcbiAgICAgKlxuICAgICAqIC8vIFRha2UgdGhvc2UgdmVjdG9yIHBvc2l0aW9ucyBhbmQgY29udmVydCB0aGF0IGludG8gYSB0cmFuc2xhdGlvbiBtYXRyaXguXG4gICAgICogbGV0IG1hdHJpeCA9IGJhbGxQb3NpdGlvbi50b1RyYW5zbGF0aW9uTWF0cml4SVYoKVxuICAgICAqXG4gICAgICogLy8gQ29udmVydCB0aGF0IHRvIGEgY3NzIDNkIHRyYW5zbGF0aW9uLlxuICAgICAqIGxldCBtcyA9IG1hdHJpeC50b0NzczNkTWF0cml4KCk7XG4gICAgICogYmFsbC5zdHlsZS50cmFuc2Zvcm0gPSBtcztcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHJldHVybiB7TWFydHJpeElWfVxuICAgICAqL1xuICAgIHRvVHJhbnNsYXRpb25NYXRyaXhJVigpIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb25WZWN0b3IgPSB0aGlzLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IG5ldyBNYXRyaXhJVigpO1xuICAgICAgICBtYXRyaXguc2V0VmVjdG9yQ29sdW1uKDMsIHBvc2l0aW9uVmVjdG9yKTtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGFrZXMgdGhlIHJvdGF0aW9uLCBzY2FsZSBhbmQgdHJhbnNsYXRpb24gbWF0cmljZXMgYW5kIGNvbWJpbmVzIHRoZW1cbiAgICAgKiBpbnRvIG9uZS5cbiAgICAgKi9cbiAgICB0b01hdHJpeElWKCkge1xuICAgICAgICBjb25zdCB0cmFuc2xhdGlvbk1hdHJpeCA9IHRoaXMudG9UcmFuc2xhdGlvbk1hdHJpeElWKCk7XG4gICAgICAgIC8vIEFjY291bnQgZm9yIGFuY2hvciBvZmZzZXRzLlxuICAgICAgICBjb25zdCBhbmNob3JPZmZzZXRWZWN0b3IgPSBuZXcgVmVjdG9yKC0odGhpcy5hbmNob3JYICogdGhpcy53aWR0aCksIC0odGhpcy5hbmNob3JZICogdGhpcy5oZWlnaHQpLCAwKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0TWF0cml4ID0gbmV3IE1hdHJpeElWKCk7XG4gICAgICAgIGNvbnN0IG9mZnNldFZlY3RvciA9IHRoaXMub2Zmc2V0LmNsb25lKCkuYWRkKGFuY2hvck9mZnNldFZlY3Rvcik7XG4gICAgICAgIG9mZnNldE1hdHJpeC5zZXRWZWN0b3JDb2x1bW4oMywgb2Zmc2V0VmVjdG9yKTtcbiAgICAgICAgLy8gU2NhbGUgYmFzZWQgb24gdGhlIHogcG9zaXRpb24uXG4gICAgICAgIGNvbnN0IHogPSBtYXRoZi5jbGFtcCgtMSwgMTAsIHRoaXMucG9zaXRpb24ueiArIDEpO1xuICAgICAgICBjb25zdCBzY2FsZU1hdHJpeCA9IG5ldyBNYXRyaXhJVigpLnNjYWxlWHl6KHosIHosIHopO1xuICAgICAgICBzY2FsZU1hdHJpeC52YWx1ZVsxNV0gPSAxO1xuICAgICAgICAvLyBEb24ndCB1c2UgWVBSIEV1bGFyIGJlY2F1c2Ugb2YgZ2ltYmxlIGxvY2sgdW5sZXNzIHJlYWxseSBuZWVkZWQuXG4gICAgICAgIGxldCByb3RhdGlvbk1hdHJpeDtcbiAgICAgICAgaWYgKHRoaXMuZXVsYXJSb3RhdGlvbkFzUm90YXRpb25NYXRyaXgpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhZGlhbkV1bGFyID0gdGhpcy5ldWxhclJvdGF0aW9uLmNsb25lKCkuZGVncmVlVG9SYWRpYW5zKCk7XG4gICAgICAgICAgICByb3RhdGlvbk1hdHJpeCA9IG5ldyBNYXRyaXhJVigpLnlwcigtcmFkaWFuRXVsYXIueSwgLXJhZGlhbkV1bGFyLngsIHJhZGlhbkV1bGFyLnopO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcm90YXRpb25NYXRyaXggPSBNYXRyaXhJVi5mcm9tUXVhdGVybmlvbih0aGlzLnJvdGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBcHBseSBTUlQuXG4gICAgICAgIGNvbnN0IGJhc2VNYXRyaXggPSBNYXRyaXhJVi5JREVOVElUWS5tdWx0aXBseShzY2FsZU1hdHJpeClcbiAgICAgICAgICAgIC5tdWx0aXBseShyb3RhdGlvbk1hdHJpeClcbiAgICAgICAgICAgIC5tdWx0aXBseSh0cmFuc2xhdGlvbk1hdHJpeClcbiAgICAgICAgICAgIC5tdWx0aXBseShvZmZzZXRNYXRyaXgpO1xuICAgICAgICBpZiAoIXRoaXMucmVuZGVyV2l0aDNkUHJvamVjdE1hdHJpeCkge1xuICAgICAgICAgICAgcmV0dXJuIGJhc2VNYXRyaXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0aW9uTWF0cml4ID0gbmV3IE1hdHJpeElWKCkucGVyc3BlY3RpdmUobWF0aGYuZGVncmVlVG9SYWRpYW4oOTApLCAxLCAtMSwgMTAwKTtcbiAgICAgICAgICAgIGNvbnN0IHZpZXdNYXRyaXggPSBuZXcgTWF0cml4SVYoKS5sb29rQXQobmV3IFZlY3RvcigwLCAwLCAxKSwgbmV3IFZlY3RvcigwLCAwLCAwKSwgVmVjdG9yLkRPV04pO1xuICAgICAgICAgICAgcmV0dXJuIHByb2plY3Rpb25NYXRyaXgubXVsdGlwbHkodmlld01hdHJpeCkubXVsdGlwbHkoYmFzZU1hdHJpeCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9Dc3MzZE1hdHJpeCgpIHtcbiAgICAgICAgY29uc3QgbWF0cml4VmFsdWUgPSB0aGlzLnRvTWF0cml4SVYoKS50b0NzczNkTWF0cml4KCk7XG4gICAgICAgIHJldHVybiBtYXRyaXhWYWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgVmVjdG9yRG9tLlxuICAgICAqIEBwYXJhbSB7c3luY0V1bGFyUm90YXRpb259IFdoZXRoZXIgdG8gc3luYyB0aGUgZXVsYXIgcm90YXRpb24gb24gZWFjaFxuICAgICAqICAgcmVuZGVyLiAgRGVmYXVsdHMgdG8gdHJ1ZSBidXQgdHVybiBvZmYgaWYgeW91IHdhbnQgdG8gbWFuaXB1bGF0ZSB0aGVcbiAgICAgKiAgIGludGVybmFsIHF1YXRlcm5pb24gcm90YXRpb24uXG4gICAgICovXG4gICAgcmVuZGVyKHN5bmNFdWxhclJvdGF0aW9uID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHN5bmNFdWxhclJvdGF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnN5bmNFdWxhclJvdGF0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29tcG9uZW50cyByZW5kZXIgb3V0IGZpcnN0LlxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50c1trZXldLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcG9zaXRpb24gYmFzZWQgb24gdmVsb2NpdHkgYW5kIGFjY2VsZXJhdGlvbi5cbiAgICAgICAgLy8gSGFzIG5vdCBlZmZlY3QgaWYgeW91IGp1c3QgZGlyZWN0bHkgdXBkYXRlIHRoZSBwb3NpdGlvbi5cbiAgICAgICAgdGhpcy52ZWxvY2l0eS5lYXNlKHRoaXMuYWNjZWxlcmF0aW9uLCAxLCBFQVNFLmxpbmVhcik7XG4gICAgICAgIHRoaXMucG9zaXRpb24uYWRkKHRoaXMudmVsb2NpdHkpO1xuICAgICAgICBjb25zdCBtYXRyaXhWYWx1ZSA9IHRoaXMudG9Dc3MzZE1hdHJpeCgpO1xuICAgICAgICB0aGlzLnJlbmRlcl8obWF0cml4VmFsdWUsIHRoaXMuYWxwaGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBjc3MgdHJhbnNmb3JtIHRvIHRoaXMgb2JqZWN0LiAgVW5uZWNjZXNhcnkgY2FsbHMgZ2V0IGN1bGxlZCBieVxuICAgICAqIGZ1bmMucnVuT25jZU9uQ2hhbmdlLlxuICAgICAqL1xuICAgIHJlbmRlcl8odHJhbnNmb3JtLCBhbHBoYSkge1xuICAgICAgICBpZiAodGhpcy5kaXNhYmxlU3R5bGVSZW5kZXJzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlciB0aGlzIGVsZW1lbnQgb25seSB3aGVuIGl0IGlzIGludmlldyBmb3IgcGVyZm9ybWFuY2UgYm9vc3QuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJPbmx5V2hlbkludmlldyAmJlxuICAgICAgICAgICAgdGhpcy5lbGVtZW50VmlzaWJpbGl0eS5zdGF0ZSgpLnJlYWR5ICYmXG4gICAgICAgICAgICAhdGhpcy5lbGVtZW50VmlzaWJpbGl0eS5zdGF0ZSgpLmludmlldykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gYWxwaGEgKyAnJztcbiAgICAgICAgaWYgKCFpcy5udWxsTGlrZSh0aGlzLmZvcmNlZFpJbmRleCkpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS56SW5kZXggPSB0aGlzLmZvcmNlZFpJbmRleCArICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnpJbmRleCA9XG4gICAgICAgICAgICAgICAgKCh0aGlzLnpJbmRleFNjYWxhciAqICh0aGlzLnBvc2l0aW9uLnogKyAxKSkgPj4gMCkgKyAnJztcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50c1trZXldLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndhdGNoZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmVsZW1lbnRWaXNpYmlsaXR5LmRpc3Bvc2UoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZWN0b3ItZG9tLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/dom/vector-dom.js\n");

/***/ }),

/***/ "./lib/dom/video-player.js":
/*!*********************************!*\
  !*** ./lib/dom/video-player.js ***!
  \*********************************/
/*! exports provided: VideoPlayer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VideoPlayer\", function() { return VideoPlayer; });\n/* harmony import */ var _func_defer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../func/defer */ \"./lib/func/defer.js\");\n/* harmony import */ var _func_func__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\n/* harmony import */ var _dom_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _raf_raf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../raf/raf */ \"./lib/raf/raf.js\");\n\n\n\n\n/**\n * Utility class to handle playing / stopping / playing segments of\n * a given video element.\n *\n * ```ts\n * let video = document.getElementById('video');\n * let videoPlayer = new VideoPlayer(video, {\n *       rafCallback: ()=> {\n *           console.log(videoPlayer.getTime());\n *       }\n * });\n *\n * videoPlayer.load().then(()=> {\n *   console.log(\"loaded\");\n * })\n *\n *\n * videoPlayer.setPointer(1.2);\n * videoPlayer.play();\n * videoPlayer.pause();\n * videoPlayer.playToAndStop(4);\n * videoPlayer.playFrom(5,6);\n *\n * ```\n */\nclass VideoPlayer {\n    constructor(video, options) {\n        /**\n         * A stop queue.\n         */\n        this.stopQueue = null;\n        this.video = video;\n        if (!this.video) {\n            throw new Error('Oops, video is not found');\n        }\n        this.raf = new _raf_raf__WEBPACK_IMPORTED_MODULE_3__[\"Raf\"](this.onRaf.bind(this));\n        this.raf\n            .runWhenElementIsInview(this.video, {\n            rootMargin: '500px 0px 500px 0px',\n        })\n            .then(() => {\n            this.raf.start();\n        });\n        // Ensure we don't run into autoplay issues.\n        this.video.muted = true;\n        this.video.playsInline = true;\n        this.video.autoplay = false;\n        this.settingsData = {\n            ...{\n                loop: false,\n                rafCallback: null,\n            },\n            ...(options || {}),\n        };\n        this.videoReady = new _func_defer__WEBPACK_IMPORTED_MODULE_0__[\"Defer\"]();\n    }\n    /**\n     * Loads the video competely first.\n     * TODO (uxder): Look for a better way to check completely readyState of video\n     *     besides polling.\n     */\n    load() {\n        this.video.load();\n        if (this.video.readyState === 4) {\n            this.videoReady.resolve();\n        }\n        else {\n            _func_func__WEBPACK_IMPORTED_MODULE_1__[\"waitUntil\"](() => this.video.readyState === 4)\n                .then(() => {\n                this.videoReady.resolve();\n            });\n        }\n        return this.videoReady.getPromise();\n    }\n    /**\n     * Tests whether the video is currently playing.\n     */\n    isPlaying() {\n        return _dom_dom__WEBPACK_IMPORTED_MODULE_2__[\"testVideoIsPlaying\"](this.video);\n    }\n    /**\n     * Pauses a video.  Does not reset the pointer.\n     *\n     * ```\n     * // Pause where it at.\n     * videoPlayer.pause();\n     *\n     * // Pauses and resets pointer to 0 mark.\n     * videoPlayer.pause();\n     * videoPlayer.reset();\n     * ```\n     */\n    pause() {\n        this.video.pause();\n    }\n    /**\n     * Resets the video to the start.\n     */\n    reset() {\n        this.video.currentTime = 0;\n    }\n    /**\n     * Plays a video from the current pointer.\n     */\n    play() {\n        if (!this.isPlaying()) {\n            const playPromise = this.video.play();\n            playPromise.then(() => { }).catch(() => { });\n        }\n    }\n    /**\n     * Sets the video currentTime to a specific position.\n     * @param seconds\n     */\n    setPointer(seconds) {\n        this.video.currentTime = seconds;\n    }\n    /**\n     * Starts playing from the current pointer and stops at a specific time.\n     * If the current time\n     */\n    playToAndStop(seconds) {\n        this.stopQueue = seconds;\n        this.play();\n    }\n    /**\n     * Plays a specific segment of the video.\n     * @param seconds\n     */\n    playFromTo(fromSeconds, toSeconds) {\n        this.setPointer(fromSeconds);\n        this.playToAndStop(toSeconds);\n    }\n    /**\n     * Gets the video element.\n     */\n    getVideo() {\n        return this.video;\n    }\n    /**\n     * Gets the current time.\n     */\n    getTime() {\n        return this.video.currentTime;\n    }\n    /**\n     * Internal clock to check status of video.  We could use\n     * timeupdate event on the video but it seems to be slow.\n     */\n    onRaf() {\n        this.settingsData.rafCallback && this.settingsData.rafCallback();\n        if (this.stopQueue && this.getTime() >= this.stopQueue) {\n            this.pause();\n            this.stopQueue = null;\n        }\n    }\n    /**\n     * Disposes the class.\n     */\n    dispose() {\n        this.raf.dispose();\n    }\n}\n//# sourceMappingURL=video-player.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL3ZpZGVvLXBsYXllci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9kb20vdmlkZW8tcGxheWVyLmpzP2FlZjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVmZXIgfSBmcm9tICcuLi9mdW5jL2RlZmVyJztcbmltcG9ydCAqIGFzIGZ1bmMgZnJvbSAnLi4vZnVuYy9mdW5jJztcbmltcG9ydCAqIGFzIGRvbSBmcm9tICcuLi9kb20vZG9tJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL3JhZi9yYWYnO1xuLyoqXG4gKiBVdGlsaXR5IGNsYXNzIHRvIGhhbmRsZSBwbGF5aW5nIC8gc3RvcHBpbmcgLyBwbGF5aW5nIHNlZ21lbnRzIG9mXG4gKiBhIGdpdmVuIHZpZGVvIGVsZW1lbnQuXG4gKlxuICogYGBgdHNcbiAqIGxldCB2aWRlbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWRlbycpO1xuICogbGV0IHZpZGVvUGxheWVyID0gbmV3IFZpZGVvUGxheWVyKHZpZGVvLCB7XG4gKiAgICAgICByYWZDYWxsYmFjazogKCk9PiB7XG4gKiAgICAgICAgICAgY29uc29sZS5sb2codmlkZW9QbGF5ZXIuZ2V0VGltZSgpKTtcbiAqICAgICAgIH1cbiAqIH0pO1xuICpcbiAqIHZpZGVvUGxheWVyLmxvYWQoKS50aGVuKCgpPT4ge1xuICogICBjb25zb2xlLmxvZyhcImxvYWRlZFwiKTtcbiAqIH0pXG4gKlxuICpcbiAqIHZpZGVvUGxheWVyLnNldFBvaW50ZXIoMS4yKTtcbiAqIHZpZGVvUGxheWVyLnBsYXkoKTtcbiAqIHZpZGVvUGxheWVyLnBhdXNlKCk7XG4gKiB2aWRlb1BsYXllci5wbGF5VG9BbmRTdG9wKDQpO1xuICogdmlkZW9QbGF5ZXIucGxheUZyb20oNSw2KTtcbiAqXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFZpZGVvUGxheWVyIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWRlbywgb3B0aW9ucykge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBzdG9wIHF1ZXVlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdG9wUXVldWUgPSBudWxsO1xuICAgICAgICB0aGlzLnZpZGVvID0gdmlkZW87XG4gICAgICAgIGlmICghdGhpcy52aWRlbykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPb3BzLCB2aWRlbyBpcyBub3QgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJhZiA9IG5ldyBSYWYodGhpcy5vblJhZi5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5yYWZcbiAgICAgICAgICAgIC5ydW5XaGVuRWxlbWVudElzSW52aWV3KHRoaXMudmlkZW8sIHtcbiAgICAgICAgICAgIHJvb3RNYXJnaW46ICc1MDBweCAwcHggNTAwcHggMHB4JyxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBFbnN1cmUgd2UgZG9uJ3QgcnVuIGludG8gYXV0b3BsYXkgaXNzdWVzLlxuICAgICAgICB0aGlzLnZpZGVvLm11dGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aWRlby5wbGF5c0lubGluZSA9IHRydWU7XG4gICAgICAgIHRoaXMudmlkZW8uYXV0b3BsYXkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZXR0aW5nc0RhdGEgPSB7XG4gICAgICAgICAgICAuLi57XG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmFmQ2FsbGJhY2s6IG51bGwsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLi4uKG9wdGlvbnMgfHwge30pLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnZpZGVvUmVhZHkgPSBuZXcgRGVmZXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhlIHZpZGVvIGNvbXBldGVseSBmaXJzdC5cbiAgICAgKiBUT0RPICh1eGRlcik6IExvb2sgZm9yIGEgYmV0dGVyIHdheSB0byBjaGVjayBjb21wbGV0ZWx5IHJlYWR5U3RhdGUgb2YgdmlkZW9cbiAgICAgKiAgICAgYmVzaWRlcyBwb2xsaW5nLlxuICAgICAqL1xuICAgIGxvYWQoKSB7XG4gICAgICAgIHRoaXMudmlkZW8ubG9hZCgpO1xuICAgICAgICBpZiAodGhpcy52aWRlby5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICB0aGlzLnZpZGVvUmVhZHkucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnVuY1xuICAgICAgICAgICAgICAgIC53YWl0VW50aWwoKCkgPT4gdGhpcy52aWRlby5yZWFkeVN0YXRlID09PSA0KVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZGVvUmVhZHkucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9SZWFkeS5nZXRQcm9taXNlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3RzIHdoZXRoZXIgdGhlIHZpZGVvIGlzIGN1cnJlbnRseSBwbGF5aW5nLlxuICAgICAqL1xuICAgIGlzUGxheWluZygpIHtcbiAgICAgICAgcmV0dXJuIGRvbS50ZXN0VmlkZW9Jc1BsYXlpbmcodGhpcy52aWRlbyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhdXNlcyBhIHZpZGVvLiAgRG9lcyBub3QgcmVzZXQgdGhlIHBvaW50ZXIuXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiAvLyBQYXVzZSB3aGVyZSBpdCBhdC5cbiAgICAgKiB2aWRlb1BsYXllci5wYXVzZSgpO1xuICAgICAqXG4gICAgICogLy8gUGF1c2VzIGFuZCByZXNldHMgcG9pbnRlciB0byAwIG1hcmsuXG4gICAgICogdmlkZW9QbGF5ZXIucGF1c2UoKTtcbiAgICAgKiB2aWRlb1BsYXllci5yZXNldCgpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHBhdXNlKCkge1xuICAgICAgICB0aGlzLnZpZGVvLnBhdXNlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgdmlkZW8gdG8gdGhlIHN0YXJ0LlxuICAgICAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnZpZGVvLmN1cnJlbnRUaW1lID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGxheXMgYSB2aWRlbyBmcm9tIHRoZSBjdXJyZW50IHBvaW50ZXIuXG4gICAgICovXG4gICAgcGxheSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzUGxheWluZygpKSB7XG4gICAgICAgICAgICBjb25zdCBwbGF5UHJvbWlzZSA9IHRoaXMudmlkZW8ucGxheSgpO1xuICAgICAgICAgICAgcGxheVByb21pc2UudGhlbigoKSA9PiB7IH0pLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmlkZW8gY3VycmVudFRpbWUgdG8gYSBzcGVjaWZpYyBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0gc2Vjb25kc1xuICAgICAqL1xuICAgIHNldFBvaW50ZXIoc2Vjb25kcykge1xuICAgICAgICB0aGlzLnZpZGVvLmN1cnJlbnRUaW1lID0gc2Vjb25kcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRzIHBsYXlpbmcgZnJvbSB0aGUgY3VycmVudCBwb2ludGVyIGFuZCBzdG9wcyBhdCBhIHNwZWNpZmljIHRpbWUuXG4gICAgICogSWYgdGhlIGN1cnJlbnQgdGltZVxuICAgICAqL1xuICAgIHBsYXlUb0FuZFN0b3Aoc2Vjb25kcykge1xuICAgICAgICB0aGlzLnN0b3BRdWV1ZSA9IHNlY29uZHM7XG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQbGF5cyBhIHNwZWNpZmljIHNlZ21lbnQgb2YgdGhlIHZpZGVvLlxuICAgICAqIEBwYXJhbSBzZWNvbmRzXG4gICAgICovXG4gICAgcGxheUZyb21Ubyhmcm9tU2Vjb25kcywgdG9TZWNvbmRzKSB7XG4gICAgICAgIHRoaXMuc2V0UG9pbnRlcihmcm9tU2Vjb25kcyk7XG4gICAgICAgIHRoaXMucGxheVRvQW5kU3RvcCh0b1NlY29uZHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2aWRlbyBlbGVtZW50LlxuICAgICAqL1xuICAgIGdldFZpZGVvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWRlbztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgY3VycmVudCB0aW1lLlxuICAgICAqL1xuICAgIGdldFRpbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvLmN1cnJlbnRUaW1lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBjbG9jayB0byBjaGVjayBzdGF0dXMgb2YgdmlkZW8uICBXZSBjb3VsZCB1c2VcbiAgICAgKiB0aW1ldXBkYXRlIGV2ZW50IG9uIHRoZSB2aWRlbyBidXQgaXQgc2VlbXMgdG8gYmUgc2xvdy5cbiAgICAgKi9cbiAgICBvblJhZigpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5nc0RhdGEucmFmQ2FsbGJhY2sgJiYgdGhpcy5zZXR0aW5nc0RhdGEucmFmQ2FsbGJhY2soKTtcbiAgICAgICAgaWYgKHRoaXMuc3RvcFF1ZXVlICYmIHRoaXMuZ2V0VGltZSgpID49IHRoaXMuc3RvcFF1ZXVlKSB7XG4gICAgICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgICAgICB0aGlzLnN0b3BRdWV1ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgdGhlIGNsYXNzLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMucmFmLmRpc3Bvc2UoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWRlby1wbGF5ZXIuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/dom/video-player.js\n");

/***/ }),

/***/ "./lib/dom/video-progress.js":
/*!***********************************!*\
  !*** ./lib/dom/video-progress.js ***!
  \***********************************/
/*! exports provided: VideoProgress */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VideoProgress\", function() { return VideoProgress; });\n/* harmony import */ var _func_defer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../func/defer */ \"./lib/func/defer.js\");\n/* harmony import */ var _func_func__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _time_fps__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../time/fps */ \"./lib/time/fps.js\");\n\n\n\n\n/**\n * VideoProgress is a class that allows you to quick seek videos.\n * Note that this is a HIGHLY experimental class and it generally only works\n * well for small size mp4 on Chrome and Safari (desktop).  It totally janks on Firefox.\n * See /examples/playground video progress for a sample.\n *\n * @experimental\n * @unstable\n * @hidden\n */\nclass VideoProgress {\n    constructor(video) {\n        this.video = video;\n        this.fps = new _time_fps__WEBPACK_IMPORTED_MODULE_3__[\"Fps\"](30);\n        // Ensure we don't run into autoplay issues.\n        this.video.muted = true;\n        this.video.playsInline = true;\n        this.video.autoplay = false;\n        this.videoReady = new _func_defer__WEBPACK_IMPORTED_MODULE_0__[\"Defer\"]();\n    }\n    /**\n     * Sets the FPS.\n     */\n    setFps(fps) {\n        this.fps.setFps(fps);\n    }\n    /**\n     * Loads the video competely first.\n     * TODO (uxder): Look for a better way to check completely readyState of video\n     *     besides polling.\n     */\n    load() {\n        this.video.load();\n        if (this.video.readyState === 4) {\n            this.videoReady.resolve();\n        }\n        else {\n            _func_func__WEBPACK_IMPORTED_MODULE_1__[\"waitUntil\"](() => this.video.readyState === 4)\n                .then(() => {\n                this.videoReady.resolve();\n            });\n        }\n        return this.videoReady.getPromise();\n    }\n    setProgress(progress) {\n        if (this.fps.canRun()) {\n            const interpolatedTime = _mathf_mathf__WEBPACK_IMPORTED_MODULE_2__[\"lerp\"](0, this.video.duration, progress);\n            // this.video.pause();\n            // if (this.video['fastSeek']) {\n            // this.video['fastSeek'](interpolatedTime);\n            // } else {\n            if (interpolatedTime) {\n                this.video.currentTime = interpolatedTime;\n            }\n            // }\n        }\n    }\n}\n//# sourceMappingURL=video-progress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL3ZpZGVvLXByb2dyZXNzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RvbS92aWRlby1wcm9ncmVzcy5qcz8yYWZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERlZmVyIH0gZnJvbSAnLi4vZnVuYy9kZWZlcic7XG5pbXBvcnQgKiBhcyBmdW5jIGZyb20gJy4uL2Z1bmMvZnVuYyc7XG5pbXBvcnQgKiBhcyBtYXRoZiBmcm9tICcuLi9tYXRoZi9tYXRoZic7XG5pbXBvcnQgeyBGcHMgfSBmcm9tICcuLi90aW1lL2Zwcyc7XG4vKipcbiAqIFZpZGVvUHJvZ3Jlc3MgaXMgYSBjbGFzcyB0aGF0IGFsbG93cyB5b3UgdG8gcXVpY2sgc2VlayB2aWRlb3MuXG4gKiBOb3RlIHRoYXQgdGhpcyBpcyBhIEhJR0hMWSBleHBlcmltZW50YWwgY2xhc3MgYW5kIGl0IGdlbmVyYWxseSBvbmx5IHdvcmtzXG4gKiB3ZWxsIGZvciBzbWFsbCBzaXplIG1wNCBvbiBDaHJvbWUgYW5kIFNhZmFyaSAoZGVza3RvcCkuICBJdCB0b3RhbGx5IGphbmtzIG9uIEZpcmVmb3guXG4gKiBTZWUgL2V4YW1wbGVzL3BsYXlncm91bmQgdmlkZW8gcHJvZ3Jlc3MgZm9yIGEgc2FtcGxlLlxuICpcbiAqIEBleHBlcmltZW50YWxcbiAqIEB1bnN0YWJsZVxuICogQGhpZGRlblxuICovXG5leHBvcnQgY2xhc3MgVmlkZW9Qcm9ncmVzcyB7XG4gICAgY29uc3RydWN0b3IodmlkZW8pIHtcbiAgICAgICAgdGhpcy52aWRlbyA9IHZpZGVvO1xuICAgICAgICB0aGlzLmZwcyA9IG5ldyBGcHMoMzApO1xuICAgICAgICAvLyBFbnN1cmUgd2UgZG9uJ3QgcnVuIGludG8gYXV0b3BsYXkgaXNzdWVzLlxuICAgICAgICB0aGlzLnZpZGVvLm11dGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aWRlby5wbGF5c0lubGluZSA9IHRydWU7XG4gICAgICAgIHRoaXMudmlkZW8uYXV0b3BsYXkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy52aWRlb1JlYWR5ID0gbmV3IERlZmVyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIEZQUy5cbiAgICAgKi9cbiAgICBzZXRGcHMoZnBzKSB7XG4gICAgICAgIHRoaXMuZnBzLnNldEZwcyhmcHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGUgdmlkZW8gY29tcGV0ZWx5IGZpcnN0LlxuICAgICAqIFRPRE8gKHV4ZGVyKTogTG9vayBmb3IgYSBiZXR0ZXIgd2F5IHRvIGNoZWNrIGNvbXBsZXRlbHkgcmVhZHlTdGF0ZSBvZiB2aWRlb1xuICAgICAqICAgICBiZXNpZGVzIHBvbGxpbmcuXG4gICAgICovXG4gICAgbG9hZCgpIHtcbiAgICAgICAgdGhpcy52aWRlby5sb2FkKCk7XG4gICAgICAgIGlmICh0aGlzLnZpZGVvLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgIHRoaXMudmlkZW9SZWFkeS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmdW5jXG4gICAgICAgICAgICAgICAgLndhaXRVbnRpbCgoKSA9PiB0aGlzLnZpZGVvLnJlYWR5U3RhdGUgPT09IDQpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlkZW9SZWFkeS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy52aWRlb1JlYWR5LmdldFByb21pc2UoKTtcbiAgICB9XG4gICAgc2V0UHJvZ3Jlc3MocHJvZ3Jlc3MpIHtcbiAgICAgICAgaWYgKHRoaXMuZnBzLmNhblJ1bigpKSB7XG4gICAgICAgICAgICBjb25zdCBpbnRlcnBvbGF0ZWRUaW1lID0gbWF0aGYubGVycCgwLCB0aGlzLnZpZGVvLmR1cmF0aW9uLCBwcm9ncmVzcyk7XG4gICAgICAgICAgICAvLyB0aGlzLnZpZGVvLnBhdXNlKCk7XG4gICAgICAgICAgICAvLyBpZiAodGhpcy52aWRlb1snZmFzdFNlZWsnXSkge1xuICAgICAgICAgICAgLy8gdGhpcy52aWRlb1snZmFzdFNlZWsnXShpbnRlcnBvbGF0ZWRUaW1lKTtcbiAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaW50ZXJwb2xhdGVkVGltZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlkZW8uY3VycmVudFRpbWUgPSBpbnRlcnBvbGF0ZWRUaW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gfVxuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlkZW8tcHJvZ3Jlc3MuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/dom/video-progress.js\n");

/***/ }),

/***/ "./lib/dom/web-worker.js":
/*!*******************************!*\
  !*** ./lib/dom/web-worker.js ***!
  \*******************************/
/*! exports provided: WebWorker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WebWorker\", function() { return WebWorker; });\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * A class that makes it really easy to work with web workers.\n *\n * This implementation limits your workers to just 1 parameter so it recommended\n * to use an object as your parameter.\n *\n * Your worker function should return some result (any type).\n *\n * You can create one time workers or work with the same worker.\n *\n * 1) One time workers\n *\n * Every time you call [[WebWorker.runOneTimeThrowAwayWorker]], it will create a\n * new ONE time worker that self terminates upon completion.\n *\n * This is very useful in spawning multiple processes that all work at once.\n * Each worker will run async and will resolve a promise when done.\n *\n * If you want to do many different calculations at once, a one time worker\n * might be the way.\n *\n * 2) Use the same worker.\n *\n * Calling [[WebWorker.run]] will run a webworker.\n * Calling it again, will run the same worker.  Note that if you make\n * make two calls to the same worker in sequence before the webworker can\n * resolve the first call, it will only response to the second call.\n *\n *\n *\n * There are some limitations / conventions in using this class.   Please\n * see the below.\n * ```ts\n *\n * // Create a web worker task function.\n * //\n * // Limitation 1:\n * // Note that task functon, actually ends up getting stringified\n * // (important), bundled and sent to a separate thread.  Trying to execute\n * // imported clases won't work. Consider the function being sandboxed in it's\n * // own world.\n * //\n * // Limitaton 2:\n * // It's a web worker function.  Workers have limitations like not being\n * // able to access the DOM.\n * // See https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API#Web_Workers_concepts_and_usage for more.\n * //\n * // Limitation 3:\n * // The function should accept only 1 parameter AND it must be named \"params\"\n * // by convention.  You can send any parameters up as an object.  This is done\n * // as a convention and to make it easier to wrap up.  See [[WebWorker]] for\n * // more.\n * var task = (params)=> {\n *    return params.a + params.b;\n * }\n *\n *\n * // Now create an instance of WebWorker and set the task.\n * var worker = new WebWorker(task);\n *\n *\n * // Create two one time workers that run in parallel.\n * worker.runOneTimeThrowAwayWorker({a: 2, b: 3}).then((result)=> {\n *   console.log(result); // 5\n * })\n * worker.runOneTimeThrowAwayWorker({ a: 5, b: 5}).then((result)=> {\n *   console.log(result); // 10\n * })\n *\n *\n * // Reusing the same worker.\n * await worker.run({a: 6, b:10});\n * await worker.run({a:4, b:10});\n *\n * // Kill the worker\n * worker.terminate();\n * ```\n *\n * @unstable\n * @experimental\n */\nclass WebWorker {\n    constructor(workerTask) {\n        // Prepare the worker code as a string.\n        this.worker = null;\n        this.workerTask = workerTask;\n        this.workerTaskAsString = this.workerTask.toString();\n        this.workerTaskAsString = this.formatTask(this.workerTaskAsString);\n        this.codeToRun = `\n            self.addEventListener('message', function(event) {\n                let params = event.data;\n                let result = 'No result was generated.';\n                result = function(params) { ${this.workerTaskAsString} }(params);\n                self.postMessage({ result: result });\n                // close();\n            })\n         `;\n        // The raw string of the actual code this is going to run.\n        // console.log(this.codeToRun);\n    }\n    /**\n     * Strip out the start and end of the function string.  This formats\n     * a stringified function so it's ready to be a web worker.\n     * @param task\n     */\n    formatTask(task) {\n        return task.substring(task.indexOf('{') + 1, task.lastIndexOf('}'));\n    }\n    /**\n     * Create an instance of a Worker and sends out the message with the\n     * params. Resolves the promise when results come in.\n     *\n     * Note that each time you call this method, a new Worker is created.\n     * The Worker is terminated as soon as it resolves so it can be considered\n     * a one time worker..\n     * @param paramsToSend\n     * @param transfer.  An optional array of transferable objects.\n     *     https://developer.mozilla.org/en-US/docs/Web/API/Worker/postMessage\n     *     for more.\n     */\n    runOneTimeThrowAwayWorker(paramsToSend, transfer) {\n        return new Promise((resolve, reject) => {\n            const blob = new Blob([this.codeToRun], { type: 'application/javascript' });\n            const blobUrl = URL.createObjectURL(blob);\n            const worker = new Worker(blobUrl);\n            URL.revokeObjectURL(blobUrl);\n            worker.postMessage(paramsToSend, transfer);\n            worker.onerror = (event) => {\n                reject(event);\n                worker.terminate();\n            };\n            worker.onmessage = (event) => {\n                resolve(event.data.result);\n                worker.terminate();\n            };\n        });\n    }\n    run(paramsToSend, transfer) {\n        return new Promise((resolve, reject) => {\n            if (!this.worker) {\n                const blob = new Blob([this.codeToRun], {\n                    type: 'application/javascript',\n                });\n                const blobUrl = URL.createObjectURL(blob);\n                this.worker = new Worker(blobUrl);\n            }\n            // URL.revokeObjectURL(blobUrl);\n            this.worker.postMessage(paramsToSend, transfer);\n            this.worker.onerror = (event) => {\n                reject(event);\n            };\n            this.worker.onmessage = (event) => {\n                resolve(event.data.result);\n            };\n        });\n    }\n    terminate() {\n        this.worker && this.worker.terminate();\n    }\n}\n/* eslint-enable */\n//# sourceMappingURL=web-worker.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL3dlYi13b3JrZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvZG9tL3dlYi13b3JrZXIuanM/Y2Q5OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4vKipcbiAqIEEgY2xhc3MgdGhhdCBtYWtlcyBpdCByZWFsbHkgZWFzeSB0byB3b3JrIHdpdGggd2ViIHdvcmtlcnMuXG4gKlxuICogVGhpcyBpbXBsZW1lbnRhdGlvbiBsaW1pdHMgeW91ciB3b3JrZXJzIHRvIGp1c3QgMSBwYXJhbWV0ZXIgc28gaXQgcmVjb21tZW5kZWRcbiAqIHRvIHVzZSBhbiBvYmplY3QgYXMgeW91ciBwYXJhbWV0ZXIuXG4gKlxuICogWW91ciB3b3JrZXIgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBzb21lIHJlc3VsdCAoYW55IHR5cGUpLlxuICpcbiAqIFlvdSBjYW4gY3JlYXRlIG9uZSB0aW1lIHdvcmtlcnMgb3Igd29yayB3aXRoIHRoZSBzYW1lIHdvcmtlci5cbiAqXG4gKiAxKSBPbmUgdGltZSB3b3JrZXJzXG4gKlxuICogRXZlcnkgdGltZSB5b3UgY2FsbCBbW1dlYldvcmtlci5ydW5PbmVUaW1lVGhyb3dBd2F5V29ya2VyXV0sIGl0IHdpbGwgY3JlYXRlIGFcbiAqIG5ldyBPTkUgdGltZSB3b3JrZXIgdGhhdCBzZWxmIHRlcm1pbmF0ZXMgdXBvbiBjb21wbGV0aW9uLlxuICpcbiAqIFRoaXMgaXMgdmVyeSB1c2VmdWwgaW4gc3Bhd25pbmcgbXVsdGlwbGUgcHJvY2Vzc2VzIHRoYXQgYWxsIHdvcmsgYXQgb25jZS5cbiAqIEVhY2ggd29ya2VyIHdpbGwgcnVuIGFzeW5jIGFuZCB3aWxsIHJlc29sdmUgYSBwcm9taXNlIHdoZW4gZG9uZS5cbiAqXG4gKiBJZiB5b3Ugd2FudCB0byBkbyBtYW55IGRpZmZlcmVudCBjYWxjdWxhdGlvbnMgYXQgb25jZSwgYSBvbmUgdGltZSB3b3JrZXJcbiAqIG1pZ2h0IGJlIHRoZSB3YXkuXG4gKlxuICogMikgVXNlIHRoZSBzYW1lIHdvcmtlci5cbiAqXG4gKiBDYWxsaW5nIFtbV2ViV29ya2VyLnJ1bl1dIHdpbGwgcnVuIGEgd2Vid29ya2VyLlxuICogQ2FsbGluZyBpdCBhZ2Fpbiwgd2lsbCBydW4gdGhlIHNhbWUgd29ya2VyLiAgTm90ZSB0aGF0IGlmIHlvdSBtYWtlXG4gKiBtYWtlIHR3byBjYWxscyB0byB0aGUgc2FtZSB3b3JrZXIgaW4gc2VxdWVuY2UgYmVmb3JlIHRoZSB3ZWJ3b3JrZXIgY2FuXG4gKiByZXNvbHZlIHRoZSBmaXJzdCBjYWxsLCBpdCB3aWxsIG9ubHkgcmVzcG9uc2UgdG8gdGhlIHNlY29uZCBjYWxsLlxuICpcbiAqXG4gKlxuICogVGhlcmUgYXJlIHNvbWUgbGltaXRhdGlvbnMgLyBjb252ZW50aW9ucyBpbiB1c2luZyB0aGlzIGNsYXNzLiAgIFBsZWFzZVxuICogc2VlIHRoZSBiZWxvdy5cbiAqIGBgYHRzXG4gKlxuICogLy8gQ3JlYXRlIGEgd2ViIHdvcmtlciB0YXNrIGZ1bmN0aW9uLlxuICogLy9cbiAqIC8vIExpbWl0YXRpb24gMTpcbiAqIC8vIE5vdGUgdGhhdCB0YXNrIGZ1bmN0b24sIGFjdHVhbGx5IGVuZHMgdXAgZ2V0dGluZyBzdHJpbmdpZmllZFxuICogLy8gKGltcG9ydGFudCksIGJ1bmRsZWQgYW5kIHNlbnQgdG8gYSBzZXBhcmF0ZSB0aHJlYWQuICBUcnlpbmcgdG8gZXhlY3V0ZVxuICogLy8gaW1wb3J0ZWQgY2xhc2VzIHdvbid0IHdvcmsuIENvbnNpZGVyIHRoZSBmdW5jdGlvbiBiZWluZyBzYW5kYm94ZWQgaW4gaXQnc1xuICogLy8gb3duIHdvcmxkLlxuICogLy9cbiAqIC8vIExpbWl0YXRvbiAyOlxuICogLy8gSXQncyBhIHdlYiB3b3JrZXIgZnVuY3Rpb24uICBXb3JrZXJzIGhhdmUgbGltaXRhdGlvbnMgbGlrZSBub3QgYmVpbmdcbiAqIC8vIGFibGUgdG8gYWNjZXNzIHRoZSBET00uXG4gKiAvLyBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYl9Xb3JrZXJzX0FQSSNXZWJfV29ya2Vyc19jb25jZXB0c19hbmRfdXNhZ2UgZm9yIG1vcmUuXG4gKiAvL1xuICogLy8gTGltaXRhdGlvbiAzOlxuICogLy8gVGhlIGZ1bmN0aW9uIHNob3VsZCBhY2NlcHQgb25seSAxIHBhcmFtZXRlciBBTkQgaXQgbXVzdCBiZSBuYW1lZCBcInBhcmFtc1wiXG4gKiAvLyBieSBjb252ZW50aW9uLiAgWW91IGNhbiBzZW5kIGFueSBwYXJhbWV0ZXJzIHVwIGFzIGFuIG9iamVjdC4gIFRoaXMgaXMgZG9uZVxuICogLy8gYXMgYSBjb252ZW50aW9uIGFuZCB0byBtYWtlIGl0IGVhc2llciB0byB3cmFwIHVwLiAgU2VlIFtbV2ViV29ya2VyXV0gZm9yXG4gKiAvLyBtb3JlLlxuICogdmFyIHRhc2sgPSAocGFyYW1zKT0+IHtcbiAqICAgIHJldHVybiBwYXJhbXMuYSArIHBhcmFtcy5iO1xuICogfVxuICpcbiAqXG4gKiAvLyBOb3cgY3JlYXRlIGFuIGluc3RhbmNlIG9mIFdlYldvcmtlciBhbmQgc2V0IHRoZSB0YXNrLlxuICogdmFyIHdvcmtlciA9IG5ldyBXZWJXb3JrZXIodGFzayk7XG4gKlxuICpcbiAqIC8vIENyZWF0ZSB0d28gb25lIHRpbWUgd29ya2VycyB0aGF0IHJ1biBpbiBwYXJhbGxlbC5cbiAqIHdvcmtlci5ydW5PbmVUaW1lVGhyb3dBd2F5V29ya2VyKHthOiAyLCBiOiAzfSkudGhlbigocmVzdWx0KT0+IHtcbiAqICAgY29uc29sZS5sb2cocmVzdWx0KTsgLy8gNVxuICogfSlcbiAqIHdvcmtlci5ydW5PbmVUaW1lVGhyb3dBd2F5V29ya2VyKHsgYTogNSwgYjogNX0pLnRoZW4oKHJlc3VsdCk9PiB7XG4gKiAgIGNvbnNvbGUubG9nKHJlc3VsdCk7IC8vIDEwXG4gKiB9KVxuICpcbiAqXG4gKiAvLyBSZXVzaW5nIHRoZSBzYW1lIHdvcmtlci5cbiAqIGF3YWl0IHdvcmtlci5ydW4oe2E6IDYsIGI6MTB9KTtcbiAqIGF3YWl0IHdvcmtlci5ydW4oe2E6NCwgYjoxMH0pO1xuICpcbiAqIC8vIEtpbGwgdGhlIHdvcmtlclxuICogd29ya2VyLnRlcm1pbmF0ZSgpO1xuICogYGBgXG4gKlxuICogQHVuc3RhYmxlXG4gKiBAZXhwZXJpbWVudGFsXG4gKi9cbmV4cG9ydCBjbGFzcyBXZWJXb3JrZXIge1xuICAgIGNvbnN0cnVjdG9yKHdvcmtlclRhc2spIHtcbiAgICAgICAgLy8gUHJlcGFyZSB0aGUgd29ya2VyIGNvZGUgYXMgYSBzdHJpbmcuXG4gICAgICAgIHRoaXMud29ya2VyID0gbnVsbDtcbiAgICAgICAgdGhpcy53b3JrZXJUYXNrID0gd29ya2VyVGFzaztcbiAgICAgICAgdGhpcy53b3JrZXJUYXNrQXNTdHJpbmcgPSB0aGlzLndvcmtlclRhc2sudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy53b3JrZXJUYXNrQXNTdHJpbmcgPSB0aGlzLmZvcm1hdFRhc2sodGhpcy53b3JrZXJUYXNrQXNTdHJpbmcpO1xuICAgICAgICB0aGlzLmNvZGVUb1J1biA9IGBcbiAgICAgICAgICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgbGV0IHBhcmFtcyA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9ICdObyByZXN1bHQgd2FzIGdlbmVyYXRlZC4nO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmN0aW9uKHBhcmFtcykgeyAke3RoaXMud29ya2VyVGFza0FzU3RyaW5nfSB9KHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7IHJlc3VsdDogcmVzdWx0IH0pO1xuICAgICAgICAgICAgICAgIC8vIGNsb3NlKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgYDtcbiAgICAgICAgLy8gVGhlIHJhdyBzdHJpbmcgb2YgdGhlIGFjdHVhbCBjb2RlIHRoaXMgaXMgZ29pbmcgdG8gcnVuLlxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmNvZGVUb1J1bik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0cmlwIG91dCB0aGUgc3RhcnQgYW5kIGVuZCBvZiB0aGUgZnVuY3Rpb24gc3RyaW5nLiAgVGhpcyBmb3JtYXRzXG4gICAgICogYSBzdHJpbmdpZmllZCBmdW5jdGlvbiBzbyBpdCdzIHJlYWR5IHRvIGJlIGEgd2ViIHdvcmtlci5cbiAgICAgKiBAcGFyYW0gdGFza1xuICAgICAqL1xuICAgIGZvcm1hdFRhc2sodGFzaykge1xuICAgICAgICByZXR1cm4gdGFzay5zdWJzdHJpbmcodGFzay5pbmRleE9mKCd7JykgKyAxLCB0YXNrLmxhc3RJbmRleE9mKCd9JykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgYSBXb3JrZXIgYW5kIHNlbmRzIG91dCB0aGUgbWVzc2FnZSB3aXRoIHRoZVxuICAgICAqIHBhcmFtcy4gUmVzb2x2ZXMgdGhlIHByb21pc2Ugd2hlbiByZXN1bHRzIGNvbWUgaW4uXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgZWFjaCB0aW1lIHlvdSBjYWxsIHRoaXMgbWV0aG9kLCBhIG5ldyBXb3JrZXIgaXMgY3JlYXRlZC5cbiAgICAgKiBUaGUgV29ya2VyIGlzIHRlcm1pbmF0ZWQgYXMgc29vbiBhcyBpdCByZXNvbHZlcyBzbyBpdCBjYW4gYmUgY29uc2lkZXJlZFxuICAgICAqIGEgb25lIHRpbWUgd29ya2VyLi5cbiAgICAgKiBAcGFyYW0gcGFyYW1zVG9TZW5kXG4gICAgICogQHBhcmFtIHRyYW5zZmVyLiAgQW4gb3B0aW9uYWwgYXJyYXkgb2YgdHJhbnNmZXJhYmxlIG9iamVjdHMuXG4gICAgICogICAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Xb3JrZXIvcG9zdE1lc3NhZ2VcbiAgICAgKiAgICAgZm9yIG1vcmUuXG4gICAgICovXG4gICAgcnVuT25lVGltZVRocm93QXdheVdvcmtlcihwYXJhbXNUb1NlbmQsIHRyYW5zZmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW3RoaXMuY29kZVRvUnVuXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vamF2YXNjcmlwdCcgfSk7XG4gICAgICAgICAgICBjb25zdCBibG9iVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgIGNvbnN0IHdvcmtlciA9IG5ldyBXb3JrZXIoYmxvYlVybCk7XG4gICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGJsb2JVcmwpO1xuICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHBhcmFtc1RvU2VuZCwgdHJhbnNmZXIpO1xuICAgICAgICAgICAgd29ya2VyLm9uZXJyb3IgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXZlbnQpO1xuICAgICAgICAgICAgICAgIHdvcmtlci50ZXJtaW5hdGUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3b3JrZXIub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShldmVudC5kYXRhLnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgd29ya2VyLnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJ1bihwYXJhbXNUb1NlbmQsIHRyYW5zZmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMud29ya2VyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFt0aGlzLmNvZGVUb1J1bl0sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2JVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICAgICAgICAgIHRoaXMud29ya2VyID0gbmV3IFdvcmtlcihibG9iVXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVSTC5yZXZva2VPYmplY3RVUkwoYmxvYlVybCk7XG4gICAgICAgICAgICB0aGlzLndvcmtlci5wb3N0TWVzc2FnZShwYXJhbXNUb1NlbmQsIHRyYW5zZmVyKTtcbiAgICAgICAgICAgIHRoaXMud29ya2VyLm9uZXJyb3IgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXZlbnQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMud29ya2VyLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoZXZlbnQuZGF0YS5yZXN1bHQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRlcm1pbmF0ZSgpIHtcbiAgICAgICAgdGhpcy53b3JrZXIgJiYgdGhpcy53b3JrZXIudGVybWluYXRlKCk7XG4gICAgfVxufVxuLyogZXNsaW50LWVuYWJsZSAqL1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViLXdvcmtlci5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/dom/web-worker.js\n");

/***/ }),

/***/ "./lib/dom/webgl-image-sequence.js":
/*!*****************************************!*\
  !*** ./lib/dom/webgl-image-sequence.js ***!
  \*****************************************/
/*! exports provided: fragShader, vertShader, WebGlImageSequenceErrors, WebGlImageSequence */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fragShader\", function() { return fragShader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"vertShader\", function() { return vertShader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WebGlImageSequenceErrors\", function() { return WebGlImageSequenceErrors; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WebGlImageSequence\", function() { return WebGlImageSequence; });\n/* harmony import */ var _dom_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _is_is__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\n/* harmony import */ var _func_func__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\n/* harmony import */ var _func_defer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../func/defer */ \"./lib/func/defer.js\");\n/* harmony import */ var _loader_blob_loader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../loader/blob-loader */ \"./lib/loader/blob-loader.js\");\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _interpolate_multi_interpolate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../interpolate/multi-interpolate */ \"./lib/interpolate/multi-interpolate.js\");\n/* harmony import */ var _raf_raf_timer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../raf/raf-timer */ \"./lib/raf/raf-timer.js\");\n/* harmony import */ var _time_fps__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../time/fps */ \"./lib/time/fps.js\");\n/* harmony import */ var _dom_webgl__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../dom/webgl */ \"./lib/dom/webgl.js\");\n\n\n\n\n\n\n\n\n\n\n\nconst fragShader = `\n    precision mediump float;\n    uniform sampler2D u_image;\n    // texCoords passed in from the vertex shader.\n    varying vec2 v_texCoord;\n    void main() {\n      gl_FragColor = texture2D(u_image, v_texCoord);\n    }\n`;\nconst vertShader = `\n    attribute vec2 a_position;\n    uniform mat3 u_matrix;\n    varying vec2 v_texCoord;\n    void main() {\n      gl_Position = vec4(u_matrix * vec3(a_position, 1), 1);\n      v_texCoord = a_position;\n    }\n`;\nconst WebGlImageSequenceErrors = {\n    NO_ELEMENT: 'An element is required for webgl image sequence',\n    NO_IMAGE_SETS: 'Image sets are required for webgl image sequence',\n    NO_IMAGES: 'There are no images defined in your webgl image sequence image set',\n};\n/**\n * A class that allows you to play through an image sequence (sprite) based on\n * progress.  This class is similar to canvas-image-sequence but only implements\n * a subset of the features in preferences for better memory management.\n * Compared to canvas-image-sequence, this class has better VRAM management.\n *\n *\n * Usage:\n *\n * HTML / SASS\n * ```\n * <div class=\"my-element\"></div>\n *\n *\n * .my-element\n *   width: 100vw\n *   height: 100vh\n * ```\n *\n * Then in your JS:\n *\n * ```ts\n *\n * // All images are assumed to be the same dimensions.\n * let myImages = [\n *   'image-1.jpg',\n *   'image-2.jpg',\n *   'image-3.jpg',\n *   'image-4.jpg',\n *    ...\n *   'image-100.jpg',\n * ]\n *\n * let sequence = new WebGlImageSequence(\n *   document.querySelector('.my-element'),\n *   // Pass in your imageSet.  You can specific multiple (see below).\n *   [{images: myImages}],\n *    // Optional sizing.\n *   {\n *      cover: false, // Use cover mode.  Defaults to false.\n *      bottom: 0 // Align to the bottom.\n *      left: 0.2 // Align to the left\n *      leftNoClip: true // When aligning to left, use the no clip algo.\n *   },\n *   is.ipad() : 1 : undefined // Force dpr 1 on ipad that has less memory.\n * );\n *\n * // Loads the images.\n * sequence.load();\n *\n * // At a later time.  If images aren't loaded yet, render will get ignored.\n * sequence.renderByProgress(0);  // Renders frame at progress 0.\n * sequence.renderByProgress(0.5);  // Renders frame at progress 0.5\n * sequence.renderByProgress(1);  // Renders frame at progress 1\n *\n * // When done.\n * sequence.dispose();\n *\n * ```\n *\n * ### Sizing options.\n * WebGlImageSequence has two render modes, contain (default) and cover.\n * Contain will by default vertically center your image but you can offset this\n * by providing a bottom value.\n *\n *\n * ```ts\n * let sequence = new WebGlImageSequence(\n *   document.querySelector('.my-element'),\n *   [{images: myImages}],\n *   {\n *     cover: true\n *   }\n * );\n *\n * ```\n *\n *\n * ## MultiInterpolate capabilities.\n * WebGL Image Sequence has multiinterpolation built in to make it easier to\n * manage more complex sequences.\n * Normally, you may want to map an image sequence to just play from start to\n * end.  But what if you wanted more flexiblity?  You can do things like:\n *\n *\n * ```ts\n *\n * let progressPoints = [\n *       {\n *         from: 0, to: 0.5, start: 0, end: 1,\n *       },\n *       {\n *         from: 0.5, to: 1, start: 1, end: 0,\n *       },\n * ];\n * sequence.setMultiInterpolation(progressPoints);\n * sequence.load();\n *\n * ```\n * In the above, now the image sequence will play from start to end and back to\n * the start.  You can define your own progress points to have full control over\n * how you want your image sequence sprite to play out.\n *\n *\n * ## Playback capability\n * You can also play your canvas image sequence with a timer.\n * The playback also provides a completion promise.\n *\n * ```ts\n * // Create a complicated playback.\n * let progressPoints = [\n *       {\n *         from: 0, to: 0.5, start: 0, end: 1,\n *       },\n *       {\n *         from: 0.5, to: 1, start: 1, end: 0,\n *       },\n * ];\n * sequence.setMultiInterpolation(progressPoints);\n * // Now load the images.\n * sequence.load().then(()=> {\n *    // Now play the image sequence from progress 0 - 1 over a span of 3000 ms.\n *    sequence.play(0, 1, 3000).then(()=> {\n *       console.log('done');\n *    })\n * })\n *\n *\n * // Use stop if you need to stop the animation.\n * sequence.stop();\n *\n * ```\n *\n * ### Lerp Towards Capability\n * By setting a lerp value, webGlImageSequence will automatically \"lerp\" towards\n * frames if the delta between the currently rendered frame and the requested\n * progress is large.\n * * This is useful to \"smooth\" out movement between frames.\n *\n *\n * To use this feature, simply set the lerp value.\n *\n * As an exmaple we initially set the progress to 0 but immediately, change it to 1.\n * You will see that the progress value will lerp.   Internally, this happens\n * by running raf until the frame value delta is less than 1 and stable.\n *\n * ```ts\n *  sequence.lerpAmount = 0.12;\n *  sequence.renderByProgress(0);\n *  sequence.renderByProgress(1);\n * ```\n *\n *\n * Another usecase for setting lerp is to handle resolving state after playing\n * a sequence. See webgl-image-sequence4 for more on this.\n *\n *\n *\n * ## Selectively loading different sets of images.\n *\n * You can pass different sets of images to use.   Use the when condition\n * to modify your set.   Note that the when condition is only evaluated\n * upon resize.  If a new image set is matched, loading of that image\n * set will automatically happen in the background and render when complete.\n *\n * ```ts\n *\n * let myImages = [\n *   'image-1.jpg',\n *    ...\n *   'image-100.jpg',\n * ];\n *\n * let myMobileImages = [\n *   'image-mobile-1.jpg',\n *   'image-mobile-100.jpg',\n * ];\n *  let sequence = new WebGlImageSequence(\n *   document.querySelector('.my-element'),\n *   [{\n *     when: ()=> { return window.innerWidth >= 768},\n *     images: myImages\n *   },\n *   {\n *     when: ()=> { return window.innerWidth < 768},\n *     images: myMobileImages\n *   }]\n * );\n *\n * ```\n *\n * Can I have imageSets for only desktop or mobile?  Yes you can!\n *\n * ```ts\n *  let sequence = new WebGLImageSequence(\n *   document.querySelector('.my-element'),\n *   [\n *   {\n *     when: ()=> { return window.innerWidth < 768},\n *     images: myMobileImages\n *   }]\n * );\n *\n * ```\n * Here we specify WebGLImageSequence with an imageSet for only mobile.  This\n * means the images will only load on mobile and canvasImageSequence won't\n * do anything on desktop (nothing will show since there are no images).\n *\n *\n *\n * ############# Dev Notes ####################\n * Read the Dev Notes in canvas-image-sequence as this class has the same\n * foundation as canvas-image-sequence.  The primary difference is that\n * this class implements webGL instead of canvas2D as the renderer.\n *\n * In order to keep image-cache down, we still want to utilize the\n * cacheImage technique and generate objectURL and revoke them per drawCall.\n * You also want to avoid image.decode and imageBitmaps (for now).\n *\n * WebGL is primary is better over the canvas2d version because in the\n * canvas2D version, the VRAM (gpu memory) gets very large as it each image\n * gets composited.  The same thing happens in webGL but there is finer\n * control over the memory since we can destory textures.\n *\n * ```\n *   var texture = webgl.createTextureFromImage(gl, image);\n *   // Draw out\n *   ...\n *\n *   // Clear VRAM memory by deleting the texture after render.\n *   webgl.deleteTexture(gl, texture);\n *\n * ```\n *\n * TODO (uxder): Possibly upgrade to compressed textures.\n *           https://blog.playcanvas.com/webgl-texture-compression-made-easy/\n *\n * @unstable\n */\nclass WebGlImageSequence {\n    constructor(element, imageSets, options, dpr) {\n        /**\n         * The lerp amount when there is a delta between target and current frame\n         * greater than 1.  This defaults to 1 (meaning no lerp).  Change this value\n         * if you want canvasImageSequennce to smoothly interpolate between large\n         * deltas between the target and current frames.\n         */\n        this.lerpAmount = 1;\n        this.element = element;\n        if (!element) {\n            throw new Error(WebGlImageSequenceErrors.NO_ELEMENT);\n        }\n        if (!imageSets) {\n            throw new Error(WebGlImageSequenceErrors.NO_IMAGE_SETS);\n        }\n        this.imageSets = imageSets;\n        this.activeImageSet = null;\n        this.blobCache = {};\n        this.options = options;\n        this.isPlaying = false;\n        // this.useBitmapImageIfPossible = false;\n        // Create canvas.\n        this.canvasElement = document.createElement('canvas');\n        // Add aria label if available.\n        if (this.options && this.options.ariaLabel) {\n            this.canvasElement.setAttribute('aria-label', this.options.ariaLabel);\n            this.canvasElement.setAttribute('role', 'img');\n        }\n        else {\n            this.canvasElement.setAttribute('aria-hidden', 'true');\n        }\n        this.gl = this.canvasElement.getContext('webgl', {\n            antialias: false,\n            depth: false,\n        });\n        this.program = _dom_webgl__WEBPACK_IMPORTED_MODULE_10__[\"webgl\"].createProgram(this.gl, vertShader, fragShader);\n        this.dpr = _func_func__WEBPACK_IMPORTED_MODULE_2__[\"setDefault\"](dpr, window.devicePixelRatio || 1);\n        this.canvasWidth = 0;\n        this.canvasHeight = 0;\n        this.imageNaturalHeight = 0;\n        this.imageNaturalWidth = 0;\n        this.currentFrame = 0;\n        this.lastDrawSource = null;\n        this.targetFrame = 0;\n        this.containScale = null;\n        this.disposed = false;\n        // Set FPS to 30 for Safari to limit computation.  Safari takes a lot\n        // more time to decode images so this prevents high CPU usage crashes\n        // in Safari.\n        this.fps = new _time_fps__WEBPACK_IMPORTED_MODULE_9__[\"Fps\"](_is_is__WEBPACK_IMPORTED_MODULE_1__[\"safari\"]() ? 30 : 60);\n        this.cacheImage = new Image();\n        this.rafTimer = null;\n        this.multiInterpolate = null;\n        this.blobLoader = null;\n        this.progress = null;\n        this.playDefer = null;\n        this.domWatcher = new _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_6__[\"DomWatcher\"]();\n        this.domWatcher.add({\n            element: window,\n            // Ensure we use smart resize here because resizing canvas will make\n            // it flash (due to clearing the canvas).\n            on: 'smartResize',\n            callback: () => {\n                this.resize();\n                this.flush(); // Make a empty call to clear the memoize cache.\n                // Rerender the last known image.\n                this.lastDrawSource = null;\n                this.fps.lock(false);\n                this.lastRenderSource && this.draw(this.lastRenderSource);\n                this.fps.lock(true);\n            },\n            id: 'resize',\n            eventOptions: { passive: true },\n        });\n        this.domWatcher.run('resize');\n        // Another resize watcher dedicated to checking to checking if a new\n        // image set should be loaded.\n        this.domWatcher.add({\n            element: window,\n            on: 'smartResize',\n            callback: () => {\n                this.resizeImageSets();\n            },\n            id: 'image-set-resize',\n            eventOptions: { passive: true },\n        });\n        this.element.appendChild(this.canvasElement);\n        this.readyPromise = new _func_defer__WEBPACK_IMPORTED_MODULE_3__[\"Defer\"]();\n        this.loadNewSet(imageSets);\n        // The previously rendered image source.\n        this.lastRenderSource = null;\n        this.lastDrawSource = null;\n        // Cull unncessary update\n        this.draw = _func_func__WEBPACK_IMPORTED_MODULE_2__[\"runOnceOnChange\"](this.draw.bind(this));\n    }\n    /**\n     * Sets an optional multiinterpolations.  This allows you to define\n     * more complex play sequences on your image sequence.\n     *\n     * Here is an example of playing the image sequence from start to end\n     * and back to end.\n     *\n     * ```ts\n     * let progressPoints = [\n     *       {\n     *         from: 0, to: 0.5, start: 0, end: 1,\n     *       },\n     *       {\n     *         from: 0.5, to: 1, start: 1, end: 0,\n     *       },\n     * ];\n     * canvasImageSequence.setMultiInterpolation(progressPoints);\n     *\n     * ```\n     */\n    setMultiInterpolation(interpolations) {\n        this.multiInterpolate = new _interpolate_multi_interpolate__WEBPACK_IMPORTED_MODULE_7__[\"MultiInterpolate\"]({\n            interpolations: [\n                {\n                    id: 'sequence',\n                    progress: interpolations,\n                },\n            ],\n        });\n    }\n    resize() {\n        this.canvasWidth = this.element.offsetWidth;\n        this.canvasHeight = this.element.offsetHeight;\n        this.canvasElement.width = this.element.offsetWidth * this.dpr;\n        this.canvasElement.height = this.element.offsetHeight * this.dpr;\n        this.canvasElement.style.width = this.canvasElement.width / this.dpr + 'px';\n        this.canvasElement.style.height =\n            this.canvasElement.height / this.dpr + 'px';\n    }\n    /**\n     * Evaluates if we need to load a different image set if multiple image sets\n     * were provided.\n     */\n    resizeImageSets() {\n        const newSet = this.getSourceThatShouldLoad(this.imageSets);\n        if (newSet !== this.activeImageSet) {\n            this.loadNewSet(this.imageSets);\n            // Autoload the content.\n            this.load().then(() => {\n                // Set last frame to null to allow redrawing.\n                this.lastDrawSource = null;\n                this.fps.lock(false);\n                this.renderByProgress(this.progress || 0);\n                this.fps.lock(true);\n            });\n        }\n    }\n    /**\n     * Starts loading the images.\n     */\n    load() {\n        // If there is no matching imageSet there is nothing to load.\n        if (!this.blobLoader || !this.activeImageSet) {\n            // Defer resolution.\n            window.setTimeout(() => {\n                this.readyPromise.resolve();\n            });\n            return this.readyPromise.getPromise();\n        }\n        const loadAllBlobs = () => {\n            this.blobLoader.load().then(results => {\n                this.blobCache = results;\n                this.setImageDimensions().then(() => {\n                    this.blobLoader.dispose();\n                    this.blobLoader = null;\n                    this.readyPromise.resolve(results);\n                });\n            });\n        };\n        loadAllBlobs();\n        return this.readyPromise.getPromise();\n    }\n    /**\n     * Allows you to set new imageSets.\n     *\n     * @param imageSource\n     */\n    loadNewSet(imageSets) {\n        // Release memory of current set.\n        this.blobLoader && this.blobLoader.dispose();\n        // Save the image sources.\n        this.imageSets = imageSets;\n        this.activeImageSet = this.getSourceThatShouldLoad(this.imageSets);\n        if (this.activeImageSet && !_is_is__WEBPACK_IMPORTED_MODULE_1__[\"array\"](this.activeImageSet.images)) {\n            throw new Error(WebGlImageSequenceErrors.NO_IMAGES);\n        }\n        // Set the active image set if one is available.\n        if (this.activeImageSet) {\n            this.blobLoader = new _loader_blob_loader__WEBPACK_IMPORTED_MODULE_4__[\"BlobLoader\"](this.activeImageSet.images);\n        }\n        else {\n            this.blobLoader = null;\n        }\n        this.blobCache = {};\n        this.flush();\n        this.lastRenderSource = null;\n        // Reset the readyPromise.\n        this.readyPromise = new _func_defer__WEBPACK_IMPORTED_MODULE_3__[\"Defer\"]();\n    }\n    /**\n     * Given a list of CanvasImageSequenceImageSets evaluates which set should\n     * be used to load into the canvas.  The criteria is that any\n     * imageSet without when is used or if when condition is specified the\n     * when condition is evaluated and if true, it is used.  If multiple imageSets\n     * are found, the the first one is used.\n     */\n    getSourceThatShouldLoad(sources) {\n        const matchingSouces = [];\n        sources.forEach(source => {\n            if (!source.when) {\n                matchingSouces.push(source);\n            }\n            else {\n                source.when() && matchingSouces.push(source);\n            }\n        });\n        return matchingSouces[0];\n    }\n    /**\n     * Makes a deletable image clone.\n     */\n    makeImage(source) {\n        return new Promise(resolve => {\n            if (!source || !this.blobCache[source]) {\n                resolve(null);\n                return;\n            }\n            // Remove the objectURL Blob from locale cache.\n            URL.revokeObjectURL(this.cacheImage.src);\n            this.cacheImage.onload = () => {\n                resolve(this.cacheImage);\n            };\n            // Create a new temporary ObjectURl to store.\n            this.cacheImage.src = URL.createObjectURL(this.blobCache[source]);\n        });\n    }\n    /**\n     * Sets the images dimensions used internally based on the first image.\n     * Assumes all images are uniform size.\n     */\n    setImageDimensions() {\n        return new Promise(resolve => {\n            const source = this.activeImageSet.images[0];\n            const blob = this.blobCache[source];\n            // Generate an image from teh first blob.\n            _dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"makeImageFromBlob\"](blob).then(image => {\n                const bitMapsLoaded = !image.naturalWidth;\n                this.imageNaturalHeight = bitMapsLoaded\n                    ? image.height\n                    : image.naturalHeight;\n                this.imageNaturalWidth = bitMapsLoaded\n                    ? image.width\n                    : image.naturalWidth;\n                // Release it from memory.\n                _dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"deleteImage\"](image);\n                resolve();\n            });\n        });\n    }\n    /**\n     * Gets internally used current image seet.\n     */\n    getActiveImages() {\n        return this.activeImageSet.images;\n    }\n    /**\n     * Renders by progress.  0 would mean the very first frame and the 1 would\n     * mean the last.\n     * @param {number} n A progress value between 0 and 1.\n     * @param {noMultiInterpolate} An option to force evaluation without\n     *   multiInterpolation.  This is useful in cases where you have\n     *   multiInterpolation enabled but you want to manually update the\n     *   position of the frame without it using multiInterpolation.  Simply,\n     *   being able to say, I want to render the image sequnce at 0.9 for example.\n     */\n    renderByProgress(n, noMultiInterpolate = false) {\n        this.progress = _mathf_mathf__WEBPACK_IMPORTED_MODULE_5__[\"clamp01\"](n);\n        !this.isPlaying && this.renderProgress(n, noMultiInterpolate);\n    }\n    /**\n     * Internal render by progress value.\n     * @param {number} n A progress value between 0 and 1.\n     * @param {noMultiInterpolate} An option to force evaluation without\n     *   multiInterpolation.  This is useful in cases where you have\n     *   multiInterpolation enabled but you want to manually update the\n     *   position of the frame without it using multiInterpolation.  Simply,\n     *   being able to say, I want to render the image sequnce at 0.9 for example.\n     */\n    renderProgress(n, noMultiInterpolate = false) {\n        let progress = _mathf_mathf__WEBPACK_IMPORTED_MODULE_5__[\"clamp01\"](n);\n        // If the optional multiinterpolate is set, then use multiInterpolate\n        // to figure out what the correct frame should be.\n        if (this.multiInterpolate && !noMultiInterpolate) {\n            const interpolateMap = this.multiInterpolate.calculate(progress);\n            progress = _mathf_mathf__WEBPACK_IMPORTED_MODULE_5__[\"clamp01\"](interpolateMap['sequence']);\n        }\n        // Flush cache if progress is 0 or 1 to ensure final frame is always\n        // played.\n        if (progress >= 0.95 || progress <= 0.05) {\n            this.flush();\n        }\n        // Figure out the correct frame to render based on the number of\n        // frames in the sequence.\n        if (this.activeImageSet) {\n            const total = this.activeImageSet.images.length - 1;\n            const targetFrame = Math.ceil(_mathf_mathf__WEBPACK_IMPORTED_MODULE_5__[\"lerp\"](0, total, progress));\n            this.renderFrame(targetFrame);\n        }\n    }\n    /**\n     * Renders a given frame on to the html element.\n     * @param i\n     */\n    renderFrame(i) {\n        // If images aren't loaded yet, skip drawing.\n        if (!this.readyPromise.complete) {\n            return;\n        }\n        this.targetFrame = i;\n        // If the delta between target and current frame is greater than\n        // 1 and there is a lerp value set, lerp towards the target frame.\n        // Otherwise, just set the currentFrame\n        // to the target for immediate updates.\n        // Note that by default, the lerp amount is set to 1 (meaning no lerp),\n        let diff = Math.abs(this.targetFrame - this.currentFrame);\n        if (diff > 1 && !this.isPlaying && this.lerpAmount < 1) {\n            this.currentFrame = _mathf_mathf__WEBPACK_IMPORTED_MODULE_5__[\"lerp\"](this.currentFrame, this.targetFrame, this.lerpAmount);\n            // If there is a delta, keep updating with RAF until it gets resolved.\n            diff = Math.abs(this.targetFrame - this.currentFrame);\n            const precision = 0.001;\n            if (diff >= precision) {\n                window.requestAnimationFrame(() => {\n                    this.renderFrame(this.targetFrame);\n                });\n            }\n        }\n        else {\n            this.currentFrame = this.targetFrame;\n        }\n        const imageSource = this.activeImageSet.images[Math.round(this.currentFrame)];\n        this.draw(imageSource);\n    }\n    /**\n     * Flush the draw cache.\n     */\n    flush() {\n        this.draw(''); // Make a empty call to clear the memoize cache.\n        this.draw(null);\n    }\n    async draw(imageSource) {\n        // Prevent invalid draws\n        if (!imageSource || this.disposed) {\n            return;\n        }\n        if (imageSource === this.lastDrawSource) {\n            return;\n        }\n        // Can't draw on a 0 area canvas\n        if (!this.canvasWidth || !this.canvasHeight) {\n            return;\n        }\n        this.lastDrawSource = imageSource;\n        // If this was called at a rate exceeding the fps limit.\n        if (!this.fps.canRun()) {\n            this.fps.schedule(() => {\n                // Force a draw.  This ensures that even with FPS limiting,\n                // the very last draw call is always rendered.\n                this.lastDrawSource = null;\n                this.draw(imageSource);\n            });\n            return;\n        }\n        const image = await this.makeImage(imageSource);\n        // Decoding images in this way, we see a huge memory jump.  Avoid for now.\n        // await image.decode();\n        // If an image couldn't be generated for some reason.\n        if (!image) {\n            return;\n        }\n        const imageBox = {\n            width: this.imageNaturalWidth,\n            height: this.imageNaturalHeight,\n        };\n        const containerBox = {\n            width: this.canvasWidth,\n            height: this.canvasHeight,\n        };\n        let x;\n        let y;\n        let width;\n        let height;\n        // Background \"cover\" sizing.\n        // Defaults to center.\n        if (this.options && this.options.cover) {\n            const cover = _mathf_mathf__WEBPACK_IMPORTED_MODULE_5__[\"calculateBackgroundCover\"](containerBox, imageBox);\n            if (this.options && _is_is__WEBPACK_IMPORTED_MODULE_1__[\"number\"](this.options.left)) {\n                cover.xOffset =\n                    (containerBox.width - imageBox.width * cover.scalar) *\n                        -this.options.left;\n            }\n            if (this.options && _is_is__WEBPACK_IMPORTED_MODULE_1__[\"number\"](this.options.right)) {\n                // Right align first.\n                cover.xOffset = -(containerBox.width - imageBox.width * cover.scalar);\n                cover.xOffset +=\n                    (containerBox.width - imageBox.width * cover.scalar) *\n                        this.options.right;\n            }\n            if (this.options && _is_is__WEBPACK_IMPORTED_MODULE_1__[\"number\"](this.options.bottom)) {\n                // Set to bottom.\n                cover.yOffset = -(containerBox.height - imageBox.height * cover.scalar);\n                // Clipping Bottom algo.\n                // Add the percentage amount specified.\n                cover.yOffset +=\n                    (containerBox.height - imageBox.height * cover.scalar) *\n                        this.options.bottom;\n            }\n            if (this.options && _is_is__WEBPACK_IMPORTED_MODULE_1__[\"number\"](this.options.top)) {\n                cover.yOffset =\n                    (containerBox.height - imageBox.height * cover.scalar) *\n                        -this.options.top;\n            }\n            x = -cover.xOffset >> 0;\n            y = -cover.yOffset >> 0;\n            width = (imageBox.width * cover.scalar) >> 0;\n            height = (imageBox.height * cover.scalar) >> 0;\n        }\n        else {\n            // Default to contain sizing algo.\n            this.containScale = _mathf_mathf__WEBPACK_IMPORTED_MODULE_5__[\"calculateBackgroundContain\"](containerBox, imageBox);\n            // Default center algo.\n            let diffX = (containerBox.width - imageBox.width * this.containScale) / 2;\n            let diffY = (containerBox.height - imageBox.height * this.containScale) / 2;\n            // Sizing option logic.\n            if (this.options && _is_is__WEBPACK_IMPORTED_MODULE_1__[\"number\"](this.options.bottom)) {\n                // Bottom align it.\n                diffY = containerBox.height - imageBox.height * this.containScale;\n                // Easy way to test this is to set bottom: 1 and\n                // bottomClipping: false which would top align the image.\n                if (this.options.bottomNoClip) {\n                    diffY -=\n                        (containerBox.height - imageBox.height * this.containScale) *\n                            this.options.bottom;\n                }\n                else {\n                    // Clipping Bottom algo.\n                    // Add the percentage amount specified.\n                    diffY -= containerBox.height * this.options.bottom;\n                }\n            }\n            if (this.options && _is_is__WEBPACK_IMPORTED_MODULE_1__[\"number\"](this.options.right)) {\n                // Right align it.\n                diffX = containerBox.width - imageBox.width * this.containScale;\n                // Easy way to test this is to set right: 1 and\n                // rightClipping: false which would left align the image.\n                if (this.options.rightNoClip) {\n                    diffX -=\n                        (containerBox.width - imageBox.width * this.containScale) *\n                            this.options.right;\n                }\n                else {\n                    // Clipping right algo.\n                    // Add the percentage amount specified.\n                    diffX -= containerBox.width * this.options.right;\n                }\n            }\n            if (this.options && _is_is__WEBPACK_IMPORTED_MODULE_1__[\"number\"](this.options.top)) {\n                // Top align it.\n                diffY = 0;\n                // Easy way to test this is to set top: 1 and\n                // topClipping: false which would bottom aligned the image.\n                if (this.options.topNoClip) {\n                    diffY =\n                        (containerBox.height - imageBox.height * this.containScale) *\n                            this.options.top;\n                }\n                else {\n                    // Clipping Top algo.\n                    // Add the percentage amount specified.\n                    diffY += this.options.top * containerBox.height;\n                }\n            }\n            if (this.options && _is_is__WEBPACK_IMPORTED_MODULE_1__[\"number\"](this.options.left)) {\n                // Left align it.\n                diffX = 0;\n                // Easy way to test this is to set left: 1 and\n                // leftClipping: false which would right aligned the image.\n                if (this.options.leftNoClip) {\n                    diffX =\n                        (containerBox.width - imageBox.width * this.containScale) *\n                            this.options.left;\n                }\n                else {\n                    // Clipping left algo.\n                    // Add the percentage amount specified.\n                    diffX += this.options.left * containerBox.width;\n                }\n            }\n            x = diffX;\n            y = diffY;\n            width = imageBox.width * this.containScale;\n            height = imageBox.height * this.containScale;\n        }\n        // WebGL Draw.\n        const gl = this.gl;\n        const program = this.program;\n        const aPosition = gl.getAttribLocation(program, 'a_position');\n        const uMatrix = gl.getUniformLocation(program, 'u_matrix');\n        gl.useProgram(this.program);\n        gl.viewport(0, 0, this.canvasWidth * this.dpr, this.canvasHeight * this.dpr);\n        // gl.enable(gl.BLEND);\n        // gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n        _dom_webgl__WEBPACK_IMPORTED_MODULE_10__[\"webgl\"].createVbo(gl, [0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0]);\n        gl.enableVertexAttribArray(aPosition);\n        gl.vertexAttribPointer(aPosition, 2, gl.FLOAT, false, 0, 0);\n        const texture = _dom_webgl__WEBPACK_IMPORTED_MODULE_10__[\"webgl\"].createTextureFromImage(gl, image);\n        // Convert pixel coords to gl coords based on the x, y, width and height\n        // values calculated above.\n        const clipX = (x / this.canvasWidth) * 2 - 1;\n        const clipY = (y / this.canvasHeight) * -2 + 1;\n        const clipWidth = (width / this.canvasWidth) * 2;\n        const clipHeight = (height / this.canvasHeight) * -2;\n        // Stretch out unit quad.\n        gl.uniformMatrix3fv(uMatrix, false, [\n            clipWidth,\n            0,\n            0,\n            0,\n            clipHeight,\n            0,\n            clipX,\n            clipY,\n            1,\n        ]);\n        // Draw the rectangle.\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n        // Clear VRAM memory by deleting the texture after render.\n        _dom_webgl__WEBPACK_IMPORTED_MODULE_10__[\"webgl\"].deleteTexture(gl, texture);\n        this.lastRenderSource = imageSource;\n    }\n    /**\n     * Updates the internal sizing options.\n     * @param options\n     */\n    setSizingOptions(options) {\n        this.options = options;\n    }\n    /**\n     * Plays the canvas image sequence with a timer. Playing will \"hijack\" the\n     * progress events while playing.   For example:\n     *\n     * ```ts\n     *    canvasImageSequence.play(0, 1, 3000).then(() => {\n     *       console.log('play complete');\n     *   });\n     * ```\n     *\n     * Here we tell the canvasImageSequence to play from start to end over\n     * a 3000ms period.  During this 3000ms period, any calls other to\n     * calls \"renderByProgress\" will get ignored since they can conflict with\n     * the playback.\n     *\n     *\n     * @param from A number between 0 - 1\n     * @param to A number between 0 - 1\n     * @param duration The duration in ms.\n     * @return Promise A promise that completes when done.\n     */\n    play(from, to, duration) {\n        this.stop();\n        this.rafTimer = new _raf_raf_timer__WEBPACK_IMPORTED_MODULE_8__[\"RafTimer\"]((progress) => {\n            const interpolatedProgress = _mathf_mathf__WEBPACK_IMPORTED_MODULE_5__[\"interpolateRange\"](progress, 0, 1, from, to);\n            this.renderProgress(interpolatedProgress);\n        });\n        this.rafTimer.setDuration(duration);\n        this.playDefer = new _func_defer__WEBPACK_IMPORTED_MODULE_3__[\"Defer\"]();\n        this.rafTimer.onComplete(() => {\n            this.isPlaying = false;\n            this.playDefer.resolve();\n            this.rafTimer.dispose();\n        });\n        this.rafTimer.play();\n        this.isPlaying = true;\n        return this.playDefer.getPromise();\n    }\n    /**\n     * Immediately stops the canvas animation playing.\n     * (that happens with play method).\n     */\n    stop() {\n        this.rafTimer && this.rafTimer.pause();\n        this.rafTimer && this.rafTimer.dispose();\n        this.playDefer && this.playDefer.resolve();\n    }\n    /**\n     * Returns the image dimension that were fetched.  This is based\n     * on the \"first\" image in the sequence.\n     * The sizes will be null if called prior to loading images.\n     */\n    getImageSize() {\n        return {\n            width: this.imageNaturalWidth,\n            height: this.imageNaturalHeight,\n        };\n    }\n    dispose() {\n        this.disposed = true;\n        this.stop();\n        this.domWatcher.dispose();\n        this.rafTimer && this.rafTimer.dispose();\n        this.blobLoader && this.blobLoader.dispose();\n        // this.element = null;\n        // this.blobCache = null;\n        // this.canvasElement = null;\n        _dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"deleteImage\"](this.cacheImage);\n        // this.cacheImage = null;\n        this.gl = null;\n    }\n}\n//# sourceMappingURL=webgl-image-sequence.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL3dlYmdsLWltYWdlLXNlcXVlbmNlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RvbS93ZWJnbC1pbWFnZS1zZXF1ZW5jZS5qcz9jNTg0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGRvbSBmcm9tICcuLi9kb20vZG9tJztcbmltcG9ydCAqIGFzIGlzIGZyb20gJy4uL2lzL2lzJztcbmltcG9ydCAqIGFzIGZ1bmMgZnJvbSAnLi4vZnVuYy9mdW5jJztcbmltcG9ydCB7IERlZmVyIH0gZnJvbSAnLi4vZnVuYy9kZWZlcic7XG5pbXBvcnQgeyBCbG9iTG9hZGVyIH0gZnJvbSAnLi4vbG9hZGVyL2Jsb2ItbG9hZGVyJztcbmltcG9ydCAqIGFzIG1hdGhmIGZyb20gJy4uL21hdGhmL21hdGhmJztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9kb20vZG9tLXdhdGNoZXInO1xuaW1wb3J0IHsgTXVsdGlJbnRlcnBvbGF0ZSwgfSBmcm9tICcuLi9pbnRlcnBvbGF0ZS9tdWx0aS1pbnRlcnBvbGF0ZSc7XG5pbXBvcnQgeyBSYWZUaW1lciB9IGZyb20gJy4uL3JhZi9yYWYtdGltZXInO1xuaW1wb3J0IHsgRnBzIH0gZnJvbSAnLi4vdGltZS9mcHMnO1xuaW1wb3J0IHsgd2ViZ2wgfSBmcm9tICcuLi9kb20vd2ViZ2wnO1xuZXhwb3J0IGNvbnN0IGZyYWdTaGFkZXIgPSBgXG4gICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTtcbiAgICAvLyB0ZXhDb29yZHMgcGFzc2VkIGluIGZyb20gdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgdmFyeWluZyB2ZWMyIHZfdGV4Q29vcmQ7XG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVfaW1hZ2UsIHZfdGV4Q29vcmQpO1xuICAgIH1cbmA7XG5leHBvcnQgY29uc3QgdmVydFNoYWRlciA9IGBcbiAgICBhdHRyaWJ1dGUgdmVjMiBhX3Bvc2l0aW9uO1xuICAgIHVuaWZvcm0gbWF0MyB1X21hdHJpeDtcbiAgICB2YXJ5aW5nIHZlYzIgdl90ZXhDb29yZDtcbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQodV9tYXRyaXggKiB2ZWMzKGFfcG9zaXRpb24sIDEpLCAxKTtcbiAgICAgIHZfdGV4Q29vcmQgPSBhX3Bvc2l0aW9uO1xuICAgIH1cbmA7XG5leHBvcnQgY29uc3QgV2ViR2xJbWFnZVNlcXVlbmNlRXJyb3JzID0ge1xuICAgIE5PX0VMRU1FTlQ6ICdBbiBlbGVtZW50IGlzIHJlcXVpcmVkIGZvciB3ZWJnbCBpbWFnZSBzZXF1ZW5jZScsXG4gICAgTk9fSU1BR0VfU0VUUzogJ0ltYWdlIHNldHMgYXJlIHJlcXVpcmVkIGZvciB3ZWJnbCBpbWFnZSBzZXF1ZW5jZScsXG4gICAgTk9fSU1BR0VTOiAnVGhlcmUgYXJlIG5vIGltYWdlcyBkZWZpbmVkIGluIHlvdXIgd2ViZ2wgaW1hZ2Ugc2VxdWVuY2UgaW1hZ2Ugc2V0Jyxcbn07XG4vKipcbiAqIEEgY2xhc3MgdGhhdCBhbGxvd3MgeW91IHRvIHBsYXkgdGhyb3VnaCBhbiBpbWFnZSBzZXF1ZW5jZSAoc3ByaXRlKSBiYXNlZCBvblxuICogcHJvZ3Jlc3MuICBUaGlzIGNsYXNzIGlzIHNpbWlsYXIgdG8gY2FudmFzLWltYWdlLXNlcXVlbmNlIGJ1dCBvbmx5IGltcGxlbWVudHNcbiAqIGEgc3Vic2V0IG9mIHRoZSBmZWF0dXJlcyBpbiBwcmVmZXJlbmNlcyBmb3IgYmV0dGVyIG1lbW9yeSBtYW5hZ2VtZW50LlxuICogQ29tcGFyZWQgdG8gY2FudmFzLWltYWdlLXNlcXVlbmNlLCB0aGlzIGNsYXNzIGhhcyBiZXR0ZXIgVlJBTSBtYW5hZ2VtZW50LlxuICpcbiAqXG4gKiBVc2FnZTpcbiAqXG4gKiBIVE1MIC8gU0FTU1xuICogYGBgXG4gKiA8ZGl2IGNsYXNzPVwibXktZWxlbWVudFwiPjwvZGl2PlxuICpcbiAqXG4gKiAubXktZWxlbWVudFxuICogICB3aWR0aDogMTAwdndcbiAqICAgaGVpZ2h0OiAxMDB2aFxuICogYGBgXG4gKlxuICogVGhlbiBpbiB5b3VyIEpTOlxuICpcbiAqIGBgYHRzXG4gKlxuICogLy8gQWxsIGltYWdlcyBhcmUgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBkaW1lbnNpb25zLlxuICogbGV0IG15SW1hZ2VzID0gW1xuICogICAnaW1hZ2UtMS5qcGcnLFxuICogICAnaW1hZ2UtMi5qcGcnLFxuICogICAnaW1hZ2UtMy5qcGcnLFxuICogICAnaW1hZ2UtNC5qcGcnLFxuICogICAgLi4uXG4gKiAgICdpbWFnZS0xMDAuanBnJyxcbiAqIF1cbiAqXG4gKiBsZXQgc2VxdWVuY2UgPSBuZXcgV2ViR2xJbWFnZVNlcXVlbmNlKFxuICogICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXktZWxlbWVudCcpLFxuICogICAvLyBQYXNzIGluIHlvdXIgaW1hZ2VTZXQuICBZb3UgY2FuIHNwZWNpZmljIG11bHRpcGxlIChzZWUgYmVsb3cpLlxuICogICBbe2ltYWdlczogbXlJbWFnZXN9XSxcbiAqICAgIC8vIE9wdGlvbmFsIHNpemluZy5cbiAqICAge1xuICogICAgICBjb3ZlcjogZmFsc2UsIC8vIFVzZSBjb3ZlciBtb2RlLiAgRGVmYXVsdHMgdG8gZmFsc2UuXG4gKiAgICAgIGJvdHRvbTogMCAvLyBBbGlnbiB0byB0aGUgYm90dG9tLlxuICogICAgICBsZWZ0OiAwLjIgLy8gQWxpZ24gdG8gdGhlIGxlZnRcbiAqICAgICAgbGVmdE5vQ2xpcDogdHJ1ZSAvLyBXaGVuIGFsaWduaW5nIHRvIGxlZnQsIHVzZSB0aGUgbm8gY2xpcCBhbGdvLlxuICogICB9LFxuICogICBpcy5pcGFkKCkgOiAxIDogdW5kZWZpbmVkIC8vIEZvcmNlIGRwciAxIG9uIGlwYWQgdGhhdCBoYXMgbGVzcyBtZW1vcnkuXG4gKiApO1xuICpcbiAqIC8vIExvYWRzIHRoZSBpbWFnZXMuXG4gKiBzZXF1ZW5jZS5sb2FkKCk7XG4gKlxuICogLy8gQXQgYSBsYXRlciB0aW1lLiAgSWYgaW1hZ2VzIGFyZW4ndCBsb2FkZWQgeWV0LCByZW5kZXIgd2lsbCBnZXQgaWdub3JlZC5cbiAqIHNlcXVlbmNlLnJlbmRlckJ5UHJvZ3Jlc3MoMCk7ICAvLyBSZW5kZXJzIGZyYW1lIGF0IHByb2dyZXNzIDAuXG4gKiBzZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKDAuNSk7ICAvLyBSZW5kZXJzIGZyYW1lIGF0IHByb2dyZXNzIDAuNVxuICogc2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcygxKTsgIC8vIFJlbmRlcnMgZnJhbWUgYXQgcHJvZ3Jlc3MgMVxuICpcbiAqIC8vIFdoZW4gZG9uZS5cbiAqIHNlcXVlbmNlLmRpc3Bvc2UoKTtcbiAqXG4gKiBgYGBcbiAqXG4gKiAjIyMgU2l6aW5nIG9wdGlvbnMuXG4gKiBXZWJHbEltYWdlU2VxdWVuY2UgaGFzIHR3byByZW5kZXIgbW9kZXMsIGNvbnRhaW4gKGRlZmF1bHQpIGFuZCBjb3Zlci5cbiAqIENvbnRhaW4gd2lsbCBieSBkZWZhdWx0IHZlcnRpY2FsbHkgY2VudGVyIHlvdXIgaW1hZ2UgYnV0IHlvdSBjYW4gb2Zmc2V0IHRoaXNcbiAqIGJ5IHByb3ZpZGluZyBhIGJvdHRvbSB2YWx1ZS5cbiAqXG4gKlxuICogYGBgdHNcbiAqIGxldCBzZXF1ZW5jZSA9IG5ldyBXZWJHbEltYWdlU2VxdWVuY2UoXG4gKiAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5teS1lbGVtZW50JyksXG4gKiAgIFt7aW1hZ2VzOiBteUltYWdlc31dLFxuICogICB7XG4gKiAgICAgY292ZXI6IHRydWVcbiAqICAgfVxuICogKTtcbiAqXG4gKiBgYGBcbiAqXG4gKlxuICogIyMgTXVsdGlJbnRlcnBvbGF0ZSBjYXBhYmlsaXRpZXMuXG4gKiBXZWJHTCBJbWFnZSBTZXF1ZW5jZSBoYXMgbXVsdGlpbnRlcnBvbGF0aW9uIGJ1aWx0IGluIHRvIG1ha2UgaXQgZWFzaWVyIHRvXG4gKiBtYW5hZ2UgbW9yZSBjb21wbGV4IHNlcXVlbmNlcy5cbiAqIE5vcm1hbGx5LCB5b3UgbWF5IHdhbnQgdG8gbWFwIGFuIGltYWdlIHNlcXVlbmNlIHRvIGp1c3QgcGxheSBmcm9tIHN0YXJ0IHRvXG4gKiBlbmQuICBCdXQgd2hhdCBpZiB5b3Ugd2FudGVkIG1vcmUgZmxleGlibGl0eT8gIFlvdSBjYW4gZG8gdGhpbmdzIGxpa2U6XG4gKlxuICpcbiAqIGBgYHRzXG4gKlxuICogbGV0IHByb2dyZXNzUG9pbnRzID0gW1xuICogICAgICAge1xuICogICAgICAgICBmcm9tOiAwLCB0bzogMC41LCBzdGFydDogMCwgZW5kOiAxLFxuICogICAgICAgfSxcbiAqICAgICAgIHtcbiAqICAgICAgICAgZnJvbTogMC41LCB0bzogMSwgc3RhcnQ6IDEsIGVuZDogMCxcbiAqICAgICAgIH0sXG4gKiBdO1xuICogc2VxdWVuY2Uuc2V0TXVsdGlJbnRlcnBvbGF0aW9uKHByb2dyZXNzUG9pbnRzKTtcbiAqIHNlcXVlbmNlLmxvYWQoKTtcbiAqXG4gKiBgYGBcbiAqIEluIHRoZSBhYm92ZSwgbm93IHRoZSBpbWFnZSBzZXF1ZW5jZSB3aWxsIHBsYXkgZnJvbSBzdGFydCB0byBlbmQgYW5kIGJhY2sgdG9cbiAqIHRoZSBzdGFydC4gIFlvdSBjYW4gZGVmaW5lIHlvdXIgb3duIHByb2dyZXNzIHBvaW50cyB0byBoYXZlIGZ1bGwgY29udHJvbCBvdmVyXG4gKiBob3cgeW91IHdhbnQgeW91ciBpbWFnZSBzZXF1ZW5jZSBzcHJpdGUgdG8gcGxheSBvdXQuXG4gKlxuICpcbiAqICMjIFBsYXliYWNrIGNhcGFiaWxpdHlcbiAqIFlvdSBjYW4gYWxzbyBwbGF5IHlvdXIgY2FudmFzIGltYWdlIHNlcXVlbmNlIHdpdGggYSB0aW1lci5cbiAqIFRoZSBwbGF5YmFjayBhbHNvIHByb3ZpZGVzIGEgY29tcGxldGlvbiBwcm9taXNlLlxuICpcbiAqIGBgYHRzXG4gKiAvLyBDcmVhdGUgYSBjb21wbGljYXRlZCBwbGF5YmFjay5cbiAqIGxldCBwcm9ncmVzc1BvaW50cyA9IFtcbiAqICAgICAgIHtcbiAqICAgICAgICAgZnJvbTogMCwgdG86IDAuNSwgc3RhcnQ6IDAsIGVuZDogMSxcbiAqICAgICAgIH0sXG4gKiAgICAgICB7XG4gKiAgICAgICAgIGZyb206IDAuNSwgdG86IDEsIHN0YXJ0OiAxLCBlbmQ6IDAsXG4gKiAgICAgICB9LFxuICogXTtcbiAqIHNlcXVlbmNlLnNldE11bHRpSW50ZXJwb2xhdGlvbihwcm9ncmVzc1BvaW50cyk7XG4gKiAvLyBOb3cgbG9hZCB0aGUgaW1hZ2VzLlxuICogc2VxdWVuY2UubG9hZCgpLnRoZW4oKCk9PiB7XG4gKiAgICAvLyBOb3cgcGxheSB0aGUgaW1hZ2Ugc2VxdWVuY2UgZnJvbSBwcm9ncmVzcyAwIC0gMSBvdmVyIGEgc3BhbiBvZiAzMDAwIG1zLlxuICogICAgc2VxdWVuY2UucGxheSgwLCAxLCAzMDAwKS50aGVuKCgpPT4ge1xuICogICAgICAgY29uc29sZS5sb2coJ2RvbmUnKTtcbiAqICAgIH0pXG4gKiB9KVxuICpcbiAqXG4gKiAvLyBVc2Ugc3RvcCBpZiB5b3UgbmVlZCB0byBzdG9wIHRoZSBhbmltYXRpb24uXG4gKiBzZXF1ZW5jZS5zdG9wKCk7XG4gKlxuICogYGBgXG4gKlxuICogIyMjIExlcnAgVG93YXJkcyBDYXBhYmlsaXR5XG4gKiBCeSBzZXR0aW5nIGEgbGVycCB2YWx1ZSwgd2ViR2xJbWFnZVNlcXVlbmNlIHdpbGwgYXV0b21hdGljYWxseSBcImxlcnBcIiB0b3dhcmRzXG4gKiBmcmFtZXMgaWYgdGhlIGRlbHRhIGJldHdlZW4gdGhlIGN1cnJlbnRseSByZW5kZXJlZCBmcmFtZSBhbmQgdGhlIHJlcXVlc3RlZFxuICogcHJvZ3Jlc3MgaXMgbGFyZ2UuXG4gKiAqIFRoaXMgaXMgdXNlZnVsIHRvIFwic21vb3RoXCIgb3V0IG1vdmVtZW50IGJldHdlZW4gZnJhbWVzLlxuICpcbiAqXG4gKiBUbyB1c2UgdGhpcyBmZWF0dXJlLCBzaW1wbHkgc2V0IHRoZSBsZXJwIHZhbHVlLlxuICpcbiAqIEFzIGFuIGV4bWFwbGUgd2UgaW5pdGlhbGx5IHNldCB0aGUgcHJvZ3Jlc3MgdG8gMCBidXQgaW1tZWRpYXRlbHksIGNoYW5nZSBpdCB0byAxLlxuICogWW91IHdpbGwgc2VlIHRoYXQgdGhlIHByb2dyZXNzIHZhbHVlIHdpbGwgbGVycC4gICBJbnRlcm5hbGx5LCB0aGlzIGhhcHBlbnNcbiAqIGJ5IHJ1bm5pbmcgcmFmIHVudGlsIHRoZSBmcmFtZSB2YWx1ZSBkZWx0YSBpcyBsZXNzIHRoYW4gMSBhbmQgc3RhYmxlLlxuICpcbiAqIGBgYHRzXG4gKiAgc2VxdWVuY2UubGVycEFtb3VudCA9IDAuMTI7XG4gKiAgc2VxdWVuY2UucmVuZGVyQnlQcm9ncmVzcygwKTtcbiAqICBzZXF1ZW5jZS5yZW5kZXJCeVByb2dyZXNzKDEpO1xuICogYGBgXG4gKlxuICpcbiAqIEFub3RoZXIgdXNlY2FzZSBmb3Igc2V0dGluZyBsZXJwIGlzIHRvIGhhbmRsZSByZXNvbHZpbmcgc3RhdGUgYWZ0ZXIgcGxheWluZ1xuICogYSBzZXF1ZW5jZS4gU2VlIHdlYmdsLWltYWdlLXNlcXVlbmNlNCBmb3IgbW9yZSBvbiB0aGlzLlxuICpcbiAqXG4gKlxuICogIyMgU2VsZWN0aXZlbHkgbG9hZGluZyBkaWZmZXJlbnQgc2V0cyBvZiBpbWFnZXMuXG4gKlxuICogWW91IGNhbiBwYXNzIGRpZmZlcmVudCBzZXRzIG9mIGltYWdlcyB0byB1c2UuICAgVXNlIHRoZSB3aGVuIGNvbmRpdGlvblxuICogdG8gbW9kaWZ5IHlvdXIgc2V0LiAgIE5vdGUgdGhhdCB0aGUgd2hlbiBjb25kaXRpb24gaXMgb25seSBldmFsdWF0ZWRcbiAqIHVwb24gcmVzaXplLiAgSWYgYSBuZXcgaW1hZ2Ugc2V0IGlzIG1hdGNoZWQsIGxvYWRpbmcgb2YgdGhhdCBpbWFnZVxuICogc2V0IHdpbGwgYXV0b21hdGljYWxseSBoYXBwZW4gaW4gdGhlIGJhY2tncm91bmQgYW5kIHJlbmRlciB3aGVuIGNvbXBsZXRlLlxuICpcbiAqIGBgYHRzXG4gKlxuICogbGV0IG15SW1hZ2VzID0gW1xuICogICAnaW1hZ2UtMS5qcGcnLFxuICogICAgLi4uXG4gKiAgICdpbWFnZS0xMDAuanBnJyxcbiAqIF07XG4gKlxuICogbGV0IG15TW9iaWxlSW1hZ2VzID0gW1xuICogICAnaW1hZ2UtbW9iaWxlLTEuanBnJyxcbiAqICAgJ2ltYWdlLW1vYmlsZS0xMDAuanBnJyxcbiAqIF07XG4gKiAgbGV0IHNlcXVlbmNlID0gbmV3IFdlYkdsSW1hZ2VTZXF1ZW5jZShcbiAqICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15LWVsZW1lbnQnKSxcbiAqICAgW3tcbiAqICAgICB3aGVuOiAoKT0+IHsgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoID49IDc2OH0sXG4gKiAgICAgaW1hZ2VzOiBteUltYWdlc1xuICogICB9LFxuICogICB7XG4gKiAgICAgd2hlbjogKCk9PiB7IHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCA8IDc2OH0sXG4gKiAgICAgaW1hZ2VzOiBteU1vYmlsZUltYWdlc1xuICogICB9XVxuICogKTtcbiAqXG4gKiBgYGBcbiAqXG4gKiBDYW4gSSBoYXZlIGltYWdlU2V0cyBmb3Igb25seSBkZXNrdG9wIG9yIG1vYmlsZT8gIFllcyB5b3UgY2FuIVxuICpcbiAqIGBgYHRzXG4gKiAgbGV0IHNlcXVlbmNlID0gbmV3IFdlYkdMSW1hZ2VTZXF1ZW5jZShcbiAqICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15LWVsZW1lbnQnKSxcbiAqICAgW1xuICogICB7XG4gKiAgICAgd2hlbjogKCk9PiB7IHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCA8IDc2OH0sXG4gKiAgICAgaW1hZ2VzOiBteU1vYmlsZUltYWdlc1xuICogICB9XVxuICogKTtcbiAqXG4gKiBgYGBcbiAqIEhlcmUgd2Ugc3BlY2lmeSBXZWJHTEltYWdlU2VxdWVuY2Ugd2l0aCBhbiBpbWFnZVNldCBmb3Igb25seSBtb2JpbGUuICBUaGlzXG4gKiBtZWFucyB0aGUgaW1hZ2VzIHdpbGwgb25seSBsb2FkIG9uIG1vYmlsZSBhbmQgY2FudmFzSW1hZ2VTZXF1ZW5jZSB3b24ndFxuICogZG8gYW55dGhpbmcgb24gZGVza3RvcCAobm90aGluZyB3aWxsIHNob3cgc2luY2UgdGhlcmUgYXJlIG5vIGltYWdlcykuXG4gKlxuICpcbiAqXG4gKiAjIyMjIyMjIyMjIyMjIERldiBOb3RlcyAjIyMjIyMjIyMjIyMjIyMjIyMjI1xuICogUmVhZCB0aGUgRGV2IE5vdGVzIGluIGNhbnZhcy1pbWFnZS1zZXF1ZW5jZSBhcyB0aGlzIGNsYXNzIGhhcyB0aGUgc2FtZVxuICogZm91bmRhdGlvbiBhcyBjYW52YXMtaW1hZ2Utc2VxdWVuY2UuICBUaGUgcHJpbWFyeSBkaWZmZXJlbmNlIGlzIHRoYXRcbiAqIHRoaXMgY2xhc3MgaW1wbGVtZW50cyB3ZWJHTCBpbnN0ZWFkIG9mIGNhbnZhczJEIGFzIHRoZSByZW5kZXJlci5cbiAqXG4gKiBJbiBvcmRlciB0byBrZWVwIGltYWdlLWNhY2hlIGRvd24sIHdlIHN0aWxsIHdhbnQgdG8gdXRpbGl6ZSB0aGVcbiAqIGNhY2hlSW1hZ2UgdGVjaG5pcXVlIGFuZCBnZW5lcmF0ZSBvYmplY3RVUkwgYW5kIHJldm9rZSB0aGVtIHBlciBkcmF3Q2FsbC5cbiAqIFlvdSBhbHNvIHdhbnQgdG8gYXZvaWQgaW1hZ2UuZGVjb2RlIGFuZCBpbWFnZUJpdG1hcHMgKGZvciBub3cpLlxuICpcbiAqIFdlYkdMIGlzIHByaW1hcnkgaXMgYmV0dGVyIG92ZXIgdGhlIGNhbnZhczJkIHZlcnNpb24gYmVjYXVzZSBpbiB0aGVcbiAqIGNhbnZhczJEIHZlcnNpb24sIHRoZSBWUkFNIChncHUgbWVtb3J5KSBnZXRzIHZlcnkgbGFyZ2UgYXMgaXQgZWFjaCBpbWFnZVxuICogZ2V0cyBjb21wb3NpdGVkLiAgVGhlIHNhbWUgdGhpbmcgaGFwcGVucyBpbiB3ZWJHTCBidXQgdGhlcmUgaXMgZmluZXJcbiAqIGNvbnRyb2wgb3ZlciB0aGUgbWVtb3J5IHNpbmNlIHdlIGNhbiBkZXN0b3J5IHRleHR1cmVzLlxuICpcbiAqIGBgYFxuICogICB2YXIgdGV4dHVyZSA9IHdlYmdsLmNyZWF0ZVRleHR1cmVGcm9tSW1hZ2UoZ2wsIGltYWdlKTtcbiAqICAgLy8gRHJhdyBvdXRcbiAqICAgLi4uXG4gKlxuICogICAvLyBDbGVhciBWUkFNIG1lbW9yeSBieSBkZWxldGluZyB0aGUgdGV4dHVyZSBhZnRlciByZW5kZXIuXG4gKiAgIHdlYmdsLmRlbGV0ZVRleHR1cmUoZ2wsIHRleHR1cmUpO1xuICpcbiAqIGBgYFxuICpcbiAqIFRPRE8gKHV4ZGVyKTogUG9zc2libHkgdXBncmFkZSB0byBjb21wcmVzc2VkIHRleHR1cmVzLlxuICogICAgICAgICAgIGh0dHBzOi8vYmxvZy5wbGF5Y2FudmFzLmNvbS93ZWJnbC10ZXh0dXJlLWNvbXByZXNzaW9uLW1hZGUtZWFzeS9cbiAqXG4gKiBAdW5zdGFibGVcbiAqL1xuZXhwb3J0IGNsYXNzIFdlYkdsSW1hZ2VTZXF1ZW5jZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgaW1hZ2VTZXRzLCBvcHRpb25zLCBkcHIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsZXJwIGFtb3VudCB3aGVuIHRoZXJlIGlzIGEgZGVsdGEgYmV0d2VlbiB0YXJnZXQgYW5kIGN1cnJlbnQgZnJhbWVcbiAgICAgICAgICogZ3JlYXRlciB0aGFuIDEuICBUaGlzIGRlZmF1bHRzIHRvIDEgKG1lYW5pbmcgbm8gbGVycCkuICBDaGFuZ2UgdGhpcyB2YWx1ZVxuICAgICAgICAgKiBpZiB5b3Ugd2FudCBjYW52YXNJbWFnZVNlcXVlbm5jZSB0byBzbW9vdGhseSBpbnRlcnBvbGF0ZSBiZXR3ZWVuIGxhcmdlXG4gICAgICAgICAqIGRlbHRhcyBiZXR3ZWVuIHRoZSB0YXJnZXQgYW5kIGN1cnJlbnQgZnJhbWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sZXJwQW1vdW50ID0gMTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoV2ViR2xJbWFnZVNlcXVlbmNlRXJyb3JzLk5PX0VMRU1FTlQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW1hZ2VTZXRzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoV2ViR2xJbWFnZVNlcXVlbmNlRXJyb3JzLk5PX0lNQUdFX1NFVFMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW1hZ2VTZXRzID0gaW1hZ2VTZXRzO1xuICAgICAgICB0aGlzLmFjdGl2ZUltYWdlU2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ibG9iQ2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5pc1BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgLy8gdGhpcy51c2VCaXRtYXBJbWFnZUlmUG9zc2libGUgPSBmYWxzZTtcbiAgICAgICAgLy8gQ3JlYXRlIGNhbnZhcy5cbiAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIC8vIEFkZCBhcmlhIGxhYmVsIGlmIGF2YWlsYWJsZS5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuYXJpYUxhYmVsKSB7XG4gICAgICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgdGhpcy5vcHRpb25zLmFyaWFMYWJlbCk7XG4gICAgICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2ltZycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2wgPSB0aGlzLmNhbnZhc0VsZW1lbnQuZ2V0Q29udGV4dCgnd2ViZ2wnLCB7XG4gICAgICAgICAgICBhbnRpYWxpYXM6IGZhbHNlLFxuICAgICAgICAgICAgZGVwdGg6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gd2ViZ2wuY3JlYXRlUHJvZ3JhbSh0aGlzLmdsLCB2ZXJ0U2hhZGVyLCBmcmFnU2hhZGVyKTtcbiAgICAgICAgdGhpcy5kcHIgPSBmdW5jLnNldERlZmF1bHQoZHByLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKTtcbiAgICAgICAgdGhpcy5jYW52YXNXaWR0aCA9IDA7XG4gICAgICAgIHRoaXMuY2FudmFzSGVpZ2h0ID0gMDtcbiAgICAgICAgdGhpcy5pbWFnZU5hdHVyYWxIZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLmltYWdlTmF0dXJhbFdpZHRoID0gMDtcbiAgICAgICAgdGhpcy5jdXJyZW50RnJhbWUgPSAwO1xuICAgICAgICB0aGlzLmxhc3REcmF3U291cmNlID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXJnZXRGcmFtZSA9IDA7XG4gICAgICAgIHRoaXMuY29udGFpblNjYWxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5kaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICAvLyBTZXQgRlBTIHRvIDMwIGZvciBTYWZhcmkgdG8gbGltaXQgY29tcHV0YXRpb24uICBTYWZhcmkgdGFrZXMgYSBsb3RcbiAgICAgICAgLy8gbW9yZSB0aW1lIHRvIGRlY29kZSBpbWFnZXMgc28gdGhpcyBwcmV2ZW50cyBoaWdoIENQVSB1c2FnZSBjcmFzaGVzXG4gICAgICAgIC8vIGluIFNhZmFyaS5cbiAgICAgICAgdGhpcy5mcHMgPSBuZXcgRnBzKGlzLnNhZmFyaSgpID8gMzAgOiA2MCk7XG4gICAgICAgIHRoaXMuY2FjaGVJbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICB0aGlzLnJhZlRpbWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5tdWx0aUludGVycG9sYXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5ibG9iTG9hZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IG51bGw7XG4gICAgICAgIHRoaXMucGxheURlZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5kb21XYXRjaGVyID0gbmV3IERvbVdhdGNoZXIoKTtcbiAgICAgICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICAgICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICAgICAgICAvLyBFbnN1cmUgd2UgdXNlIHNtYXJ0IHJlc2l6ZSBoZXJlIGJlY2F1c2UgcmVzaXppbmcgY2FudmFzIHdpbGwgbWFrZVxuICAgICAgICAgICAgLy8gaXQgZmxhc2ggKGR1ZSB0byBjbGVhcmluZyB0aGUgY2FudmFzKS5cbiAgICAgICAgICAgIG9uOiAnc21hcnRSZXNpemUnLFxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmx1c2goKTsgLy8gTWFrZSBhIGVtcHR5IGNhbGwgdG8gY2xlYXIgdGhlIG1lbW9pemUgY2FjaGUuXG4gICAgICAgICAgICAgICAgLy8gUmVyZW5kZXIgdGhlIGxhc3Qga25vd24gaW1hZ2UuXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0RHJhd1NvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5mcHMubG9jayhmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0UmVuZGVyU291cmNlICYmIHRoaXMuZHJhdyh0aGlzLmxhc3RSZW5kZXJTb3VyY2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnBzLmxvY2sodHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaWQ6ICdyZXNpemUnLFxuICAgICAgICAgICAgZXZlbnRPcHRpb25zOiB7IHBhc3NpdmU6IHRydWUgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZG9tV2F0Y2hlci5ydW4oJ3Jlc2l6ZScpO1xuICAgICAgICAvLyBBbm90aGVyIHJlc2l6ZSB3YXRjaGVyIGRlZGljYXRlZCB0byBjaGVja2luZyB0byBjaGVja2luZyBpZiBhIG5ld1xuICAgICAgICAvLyBpbWFnZSBzZXQgc2hvdWxkIGJlIGxvYWRlZC5cbiAgICAgICAgdGhpcy5kb21XYXRjaGVyLmFkZCh7XG4gICAgICAgICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICAgICAgICBvbjogJ3NtYXJ0UmVzaXplJyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNpemVJbWFnZVNldHMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpZDogJ2ltYWdlLXNldC1yZXNpemUnLFxuICAgICAgICAgICAgZXZlbnRPcHRpb25zOiB7IHBhc3NpdmU6IHRydWUgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhc0VsZW1lbnQpO1xuICAgICAgICB0aGlzLnJlYWR5UHJvbWlzZSA9IG5ldyBEZWZlcigpO1xuICAgICAgICB0aGlzLmxvYWROZXdTZXQoaW1hZ2VTZXRzKTtcbiAgICAgICAgLy8gVGhlIHByZXZpb3VzbHkgcmVuZGVyZWQgaW1hZ2Ugc291cmNlLlxuICAgICAgICB0aGlzLmxhc3RSZW5kZXJTb3VyY2UgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3REcmF3U291cmNlID0gbnVsbDtcbiAgICAgICAgLy8gQ3VsbCB1bm5jZXNzYXJ5IHVwZGF0ZVxuICAgICAgICB0aGlzLmRyYXcgPSBmdW5jLnJ1bk9uY2VPbkNoYW5nZSh0aGlzLmRyYXcuYmluZCh0aGlzKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgYW4gb3B0aW9uYWwgbXVsdGlpbnRlcnBvbGF0aW9ucy4gIFRoaXMgYWxsb3dzIHlvdSB0byBkZWZpbmVcbiAgICAgKiBtb3JlIGNvbXBsZXggcGxheSBzZXF1ZW5jZXMgb24geW91ciBpbWFnZSBzZXF1ZW5jZS5cbiAgICAgKlxuICAgICAqIEhlcmUgaXMgYW4gZXhhbXBsZSBvZiBwbGF5aW5nIHRoZSBpbWFnZSBzZXF1ZW5jZSBmcm9tIHN0YXJ0IHRvIGVuZFxuICAgICAqIGFuZCBiYWNrIHRvIGVuZC5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogbGV0IHByb2dyZXNzUG9pbnRzID0gW1xuICAgICAqICAgICAgIHtcbiAgICAgKiAgICAgICAgIGZyb206IDAsIHRvOiAwLjUsIHN0YXJ0OiAwLCBlbmQ6IDEsXG4gICAgICogICAgICAgfSxcbiAgICAgKiAgICAgICB7XG4gICAgICogICAgICAgICBmcm9tOiAwLjUsIHRvOiAxLCBzdGFydDogMSwgZW5kOiAwLFxuICAgICAqICAgICAgIH0sXG4gICAgICogXTtcbiAgICAgKiBjYW52YXNJbWFnZVNlcXVlbmNlLnNldE11bHRpSW50ZXJwb2xhdGlvbihwcm9ncmVzc1BvaW50cyk7XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzZXRNdWx0aUludGVycG9sYXRpb24oaW50ZXJwb2xhdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tdWx0aUludGVycG9sYXRlID0gbmV3IE11bHRpSW50ZXJwb2xhdGUoe1xuICAgICAgICAgICAgaW50ZXJwb2xhdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAnc2VxdWVuY2UnLFxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzczogaW50ZXJwb2xhdGlvbnMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXNpemUoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzV2lkdGggPSB0aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgIHRoaXMuY2FudmFzSGVpZ2h0ID0gdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50LndpZHRoID0gdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoICogdGhpcy5kcHI7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC5oZWlnaHQgPSB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0ICogdGhpcy5kcHI7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC5zdHlsZS53aWR0aCA9IHRoaXMuY2FudmFzRWxlbWVudC53aWR0aCAvIHRoaXMuZHByICsgJ3B4JztcbiAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50LnN0eWxlLmhlaWdodCA9XG4gICAgICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQuaGVpZ2h0IC8gdGhpcy5kcHIgKyAncHgnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFdmFsdWF0ZXMgaWYgd2UgbmVlZCB0byBsb2FkIGEgZGlmZmVyZW50IGltYWdlIHNldCBpZiBtdWx0aXBsZSBpbWFnZSBzZXRzXG4gICAgICogd2VyZSBwcm92aWRlZC5cbiAgICAgKi9cbiAgICByZXNpemVJbWFnZVNldHMoKSB7XG4gICAgICAgIGNvbnN0IG5ld1NldCA9IHRoaXMuZ2V0U291cmNlVGhhdFNob3VsZExvYWQodGhpcy5pbWFnZVNldHMpO1xuICAgICAgICBpZiAobmV3U2V0ICE9PSB0aGlzLmFjdGl2ZUltYWdlU2V0KSB7XG4gICAgICAgICAgICB0aGlzLmxvYWROZXdTZXQodGhpcy5pbWFnZVNldHMpO1xuICAgICAgICAgICAgLy8gQXV0b2xvYWQgdGhlIGNvbnRlbnQuXG4gICAgICAgICAgICB0aGlzLmxvYWQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBTZXQgbGFzdCBmcmFtZSB0byBudWxsIHRvIGFsbG93IHJlZHJhd2luZy5cbiAgICAgICAgICAgICAgICB0aGlzLmxhc3REcmF3U291cmNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmZwcy5sb2NrKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckJ5UHJvZ3Jlc3ModGhpcy5wcm9ncmVzcyB8fCAwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZwcy5sb2NrKHRydWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRzIGxvYWRpbmcgdGhlIGltYWdlcy5cbiAgICAgKi9cbiAgICBsb2FkKCkge1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBtYXRjaGluZyBpbWFnZVNldCB0aGVyZSBpcyBub3RoaW5nIHRvIGxvYWQuXG4gICAgICAgIGlmICghdGhpcy5ibG9iTG9hZGVyIHx8ICF0aGlzLmFjdGl2ZUltYWdlU2V0KSB7XG4gICAgICAgICAgICAvLyBEZWZlciByZXNvbHV0aW9uLlxuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVhZHlQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZHlQcm9taXNlLmdldFByb21pc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsb2FkQWxsQmxvYnMgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmJsb2JMb2FkZXIubG9hZCgpLnRoZW4ocmVzdWx0cyA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5ibG9iQ2FjaGUgPSByZXN1bHRzO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SW1hZ2VEaW1lbnNpb25zKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmxvYkxvYWRlci5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmxvYkxvYWRlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZHlQcm9taXNlLnJlc29sdmUocmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgbG9hZEFsbEJsb2JzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWR5UHJvbWlzZS5nZXRQcm9taXNlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsbG93cyB5b3UgdG8gc2V0IG5ldyBpbWFnZVNldHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW1hZ2VTb3VyY2VcbiAgICAgKi9cbiAgICBsb2FkTmV3U2V0KGltYWdlU2V0cykge1xuICAgICAgICAvLyBSZWxlYXNlIG1lbW9yeSBvZiBjdXJyZW50IHNldC5cbiAgICAgICAgdGhpcy5ibG9iTG9hZGVyICYmIHRoaXMuYmxvYkxvYWRlci5kaXNwb3NlKCk7XG4gICAgICAgIC8vIFNhdmUgdGhlIGltYWdlIHNvdXJjZXMuXG4gICAgICAgIHRoaXMuaW1hZ2VTZXRzID0gaW1hZ2VTZXRzO1xuICAgICAgICB0aGlzLmFjdGl2ZUltYWdlU2V0ID0gdGhpcy5nZXRTb3VyY2VUaGF0U2hvdWxkTG9hZCh0aGlzLmltYWdlU2V0cyk7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZUltYWdlU2V0ICYmICFpcy5hcnJheSh0aGlzLmFjdGl2ZUltYWdlU2V0LmltYWdlcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihXZWJHbEltYWdlU2VxdWVuY2VFcnJvcnMuTk9fSU1BR0VTKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgdGhlIGFjdGl2ZSBpbWFnZSBzZXQgaWYgb25lIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW1hZ2VTZXQpIHtcbiAgICAgICAgICAgIHRoaXMuYmxvYkxvYWRlciA9IG5ldyBCbG9iTG9hZGVyKHRoaXMuYWN0aXZlSW1hZ2VTZXQuaW1hZ2VzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmxvYkxvYWRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ibG9iQ2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB0aGlzLmxhc3RSZW5kZXJTb3VyY2UgPSBudWxsO1xuICAgICAgICAvLyBSZXNldCB0aGUgcmVhZHlQcm9taXNlLlxuICAgICAgICB0aGlzLnJlYWR5UHJvbWlzZSA9IG5ldyBEZWZlcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIGxpc3Qgb2YgQ2FudmFzSW1hZ2VTZXF1ZW5jZUltYWdlU2V0cyBldmFsdWF0ZXMgd2hpY2ggc2V0IHNob3VsZFxuICAgICAqIGJlIHVzZWQgdG8gbG9hZCBpbnRvIHRoZSBjYW52YXMuICBUaGUgY3JpdGVyaWEgaXMgdGhhdCBhbnlcbiAgICAgKiBpbWFnZVNldCB3aXRob3V0IHdoZW4gaXMgdXNlZCBvciBpZiB3aGVuIGNvbmRpdGlvbiBpcyBzcGVjaWZpZWQgdGhlXG4gICAgICogd2hlbiBjb25kaXRpb24gaXMgZXZhbHVhdGVkIGFuZCBpZiB0cnVlLCBpdCBpcyB1c2VkLiAgSWYgbXVsdGlwbGUgaW1hZ2VTZXRzXG4gICAgICogYXJlIGZvdW5kLCB0aGUgdGhlIGZpcnN0IG9uZSBpcyB1c2VkLlxuICAgICAqL1xuICAgIGdldFNvdXJjZVRoYXRTaG91bGRMb2FkKHNvdXJjZXMpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hpbmdTb3VjZXMgPSBbXTtcbiAgICAgICAgc291cmNlcy5mb3JFYWNoKHNvdXJjZSA9PiB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZS53aGVuKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hpbmdTb3VjZXMucHVzaChzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc291cmNlLndoZW4oKSAmJiBtYXRjaGluZ1NvdWNlcy5wdXNoKHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWF0Y2hpbmdTb3VjZXNbMF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ha2VzIGEgZGVsZXRhYmxlIGltYWdlIGNsb25lLlxuICAgICAqL1xuICAgIG1ha2VJbWFnZShzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UgfHwgIXRoaXMuYmxvYkNhY2hlW3NvdXJjZV0pIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgb2JqZWN0VVJMIEJsb2IgZnJvbSBsb2NhbGUgY2FjaGUuXG4gICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMuY2FjaGVJbWFnZS5zcmMpO1xuICAgICAgICAgICAgdGhpcy5jYWNoZUltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuY2FjaGVJbWFnZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHRlbXBvcmFyeSBPYmplY3RVUmwgdG8gc3RvcmUuXG4gICAgICAgICAgICB0aGlzLmNhY2hlSW1hZ2Uuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLmJsb2JDYWNoZVtzb3VyY2VdKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGltYWdlcyBkaW1lbnNpb25zIHVzZWQgaW50ZXJuYWxseSBiYXNlZCBvbiB0aGUgZmlyc3QgaW1hZ2UuXG4gICAgICogQXNzdW1lcyBhbGwgaW1hZ2VzIGFyZSB1bmlmb3JtIHNpemUuXG4gICAgICovXG4gICAgc2V0SW1hZ2VEaW1lbnNpb25zKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLmFjdGl2ZUltYWdlU2V0LmltYWdlc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGJsb2IgPSB0aGlzLmJsb2JDYWNoZVtzb3VyY2VdO1xuICAgICAgICAgICAgLy8gR2VuZXJhdGUgYW4gaW1hZ2UgZnJvbSB0ZWggZmlyc3QgYmxvYi5cbiAgICAgICAgICAgIGRvbS5tYWtlSW1hZ2VGcm9tQmxvYihibG9iKS50aGVuKGltYWdlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBiaXRNYXBzTG9hZGVkID0gIWltYWdlLm5hdHVyYWxXaWR0aDtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlTmF0dXJhbEhlaWdodCA9IGJpdE1hcHNMb2FkZWRcbiAgICAgICAgICAgICAgICAgICAgPyBpbWFnZS5oZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgOiBpbWFnZS5uYXR1cmFsSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VOYXR1cmFsV2lkdGggPSBiaXRNYXBzTG9hZGVkXG4gICAgICAgICAgICAgICAgICAgID8gaW1hZ2Uud2lkdGhcbiAgICAgICAgICAgICAgICAgICAgOiBpbWFnZS5uYXR1cmFsV2lkdGg7XG4gICAgICAgICAgICAgICAgLy8gUmVsZWFzZSBpdCBmcm9tIG1lbW9yeS5cbiAgICAgICAgICAgICAgICBkb20uZGVsZXRlSW1hZ2UoaW1hZ2UpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBpbnRlcm5hbGx5IHVzZWQgY3VycmVudCBpbWFnZSBzZWV0LlxuICAgICAqL1xuICAgIGdldEFjdGl2ZUltYWdlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlSW1hZ2VTZXQuaW1hZ2VzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGJ5IHByb2dyZXNzLiAgMCB3b3VsZCBtZWFuIHRoZSB2ZXJ5IGZpcnN0IGZyYW1lIGFuZCB0aGUgMSB3b3VsZFxuICAgICAqIG1lYW4gdGhlIGxhc3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gQSBwcm9ncmVzcyB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEuXG4gICAgICogQHBhcmFtIHtub011bHRpSW50ZXJwb2xhdGV9IEFuIG9wdGlvbiB0byBmb3JjZSBldmFsdWF0aW9uIHdpdGhvdXRcbiAgICAgKiAgIG11bHRpSW50ZXJwb2xhdGlvbi4gIFRoaXMgaXMgdXNlZnVsIGluIGNhc2VzIHdoZXJlIHlvdSBoYXZlXG4gICAgICogICBtdWx0aUludGVycG9sYXRpb24gZW5hYmxlZCBidXQgeW91IHdhbnQgdG8gbWFudWFsbHkgdXBkYXRlIHRoZVxuICAgICAqICAgcG9zaXRpb24gb2YgdGhlIGZyYW1lIHdpdGhvdXQgaXQgdXNpbmcgbXVsdGlJbnRlcnBvbGF0aW9uLiAgU2ltcGx5LFxuICAgICAqICAgYmVpbmcgYWJsZSB0byBzYXksIEkgd2FudCB0byByZW5kZXIgdGhlIGltYWdlIHNlcXVuY2UgYXQgMC45IGZvciBleGFtcGxlLlxuICAgICAqL1xuICAgIHJlbmRlckJ5UHJvZ3Jlc3Mobiwgbm9NdWx0aUludGVycG9sYXRlID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IG1hdGhmLmNsYW1wMDEobik7XG4gICAgICAgICF0aGlzLmlzUGxheWluZyAmJiB0aGlzLnJlbmRlclByb2dyZXNzKG4sIG5vTXVsdGlJbnRlcnBvbGF0ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHJlbmRlciBieSBwcm9ncmVzcyB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBBIHByb2dyZXNzIHZhbHVlIGJldHdlZW4gMCBhbmQgMS5cbiAgICAgKiBAcGFyYW0ge25vTXVsdGlJbnRlcnBvbGF0ZX0gQW4gb3B0aW9uIHRvIGZvcmNlIGV2YWx1YXRpb24gd2l0aG91dFxuICAgICAqICAgbXVsdGlJbnRlcnBvbGF0aW9uLiAgVGhpcyBpcyB1c2VmdWwgaW4gY2FzZXMgd2hlcmUgeW91IGhhdmVcbiAgICAgKiAgIG11bHRpSW50ZXJwb2xhdGlvbiBlbmFibGVkIGJ1dCB5b3Ugd2FudCB0byBtYW51YWxseSB1cGRhdGUgdGhlXG4gICAgICogICBwb3NpdGlvbiBvZiB0aGUgZnJhbWUgd2l0aG91dCBpdCB1c2luZyBtdWx0aUludGVycG9sYXRpb24uICBTaW1wbHksXG4gICAgICogICBiZWluZyBhYmxlIHRvIHNheSwgSSB3YW50IHRvIHJlbmRlciB0aGUgaW1hZ2Ugc2VxdW5jZSBhdCAwLjkgZm9yIGV4YW1wbGUuXG4gICAgICovXG4gICAgcmVuZGVyUHJvZ3Jlc3Mobiwgbm9NdWx0aUludGVycG9sYXRlID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IHByb2dyZXNzID0gbWF0aGYuY2xhbXAwMShuKTtcbiAgICAgICAgLy8gSWYgdGhlIG9wdGlvbmFsIG11bHRpaW50ZXJwb2xhdGUgaXMgc2V0LCB0aGVuIHVzZSBtdWx0aUludGVycG9sYXRlXG4gICAgICAgIC8vIHRvIGZpZ3VyZSBvdXQgd2hhdCB0aGUgY29ycmVjdCBmcmFtZSBzaG91bGQgYmUuXG4gICAgICAgIGlmICh0aGlzLm11bHRpSW50ZXJwb2xhdGUgJiYgIW5vTXVsdGlJbnRlcnBvbGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgaW50ZXJwb2xhdGVNYXAgPSB0aGlzLm11bHRpSW50ZXJwb2xhdGUuY2FsY3VsYXRlKHByb2dyZXNzKTtcbiAgICAgICAgICAgIHByb2dyZXNzID0gbWF0aGYuY2xhbXAwMShpbnRlcnBvbGF0ZU1hcFsnc2VxdWVuY2UnXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmx1c2ggY2FjaGUgaWYgcHJvZ3Jlc3MgaXMgMCBvciAxIHRvIGVuc3VyZSBmaW5hbCBmcmFtZSBpcyBhbHdheXNcbiAgICAgICAgLy8gcGxheWVkLlxuICAgICAgICBpZiAocHJvZ3Jlc3MgPj0gMC45NSB8fCBwcm9ncmVzcyA8PSAwLjA1KSB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmlndXJlIG91dCB0aGUgY29ycmVjdCBmcmFtZSB0byByZW5kZXIgYmFzZWQgb24gdGhlIG51bWJlciBvZlxuICAgICAgICAvLyBmcmFtZXMgaW4gdGhlIHNlcXVlbmNlLlxuICAgICAgICBpZiAodGhpcy5hY3RpdmVJbWFnZVNldCkge1xuICAgICAgICAgICAgY29uc3QgdG90YWwgPSB0aGlzLmFjdGl2ZUltYWdlU2V0LmltYWdlcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0RnJhbWUgPSBNYXRoLmNlaWwobWF0aGYubGVycCgwLCB0b3RhbCwgcHJvZ3Jlc3MpKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyRnJhbWUodGFyZ2V0RnJhbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYSBnaXZlbiBmcmFtZSBvbiB0byB0aGUgaHRtbCBlbGVtZW50LlxuICAgICAqIEBwYXJhbSBpXG4gICAgICovXG4gICAgcmVuZGVyRnJhbWUoaSkge1xuICAgICAgICAvLyBJZiBpbWFnZXMgYXJlbid0IGxvYWRlZCB5ZXQsIHNraXAgZHJhd2luZy5cbiAgICAgICAgaWYgKCF0aGlzLnJlYWR5UHJvbWlzZS5jb21wbGV0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGFyZ2V0RnJhbWUgPSBpO1xuICAgICAgICAvLyBJZiB0aGUgZGVsdGEgYmV0d2VlbiB0YXJnZXQgYW5kIGN1cnJlbnQgZnJhbWUgaXMgZ3JlYXRlciB0aGFuXG4gICAgICAgIC8vIDEgYW5kIHRoZXJlIGlzIGEgbGVycCB2YWx1ZSBzZXQsIGxlcnAgdG93YXJkcyB0aGUgdGFyZ2V0IGZyYW1lLlxuICAgICAgICAvLyBPdGhlcndpc2UsIGp1c3Qgc2V0IHRoZSBjdXJyZW50RnJhbWVcbiAgICAgICAgLy8gdG8gdGhlIHRhcmdldCBmb3IgaW1tZWRpYXRlIHVwZGF0ZXMuXG4gICAgICAgIC8vIE5vdGUgdGhhdCBieSBkZWZhdWx0LCB0aGUgbGVycCBhbW91bnQgaXMgc2V0IHRvIDEgKG1lYW5pbmcgbm8gbGVycCksXG4gICAgICAgIGxldCBkaWZmID0gTWF0aC5hYnModGhpcy50YXJnZXRGcmFtZSAtIHRoaXMuY3VycmVudEZyYW1lKTtcbiAgICAgICAgaWYgKGRpZmYgPiAxICYmICF0aGlzLmlzUGxheWluZyAmJiB0aGlzLmxlcnBBbW91bnQgPCAxKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRGcmFtZSA9IG1hdGhmLmxlcnAodGhpcy5jdXJyZW50RnJhbWUsIHRoaXMudGFyZ2V0RnJhbWUsIHRoaXMubGVycEFtb3VudCk7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIGRlbHRhLCBrZWVwIHVwZGF0aW5nIHdpdGggUkFGIHVudGlsIGl0IGdldHMgcmVzb2x2ZWQuXG4gICAgICAgICAgICBkaWZmID0gTWF0aC5hYnModGhpcy50YXJnZXRGcmFtZSAtIHRoaXMuY3VycmVudEZyYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IHByZWNpc2lvbiA9IDAuMDAxO1xuICAgICAgICAgICAgaWYgKGRpZmYgPj0gcHJlY2lzaW9uKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyRnJhbWUodGhpcy50YXJnZXRGcmFtZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRGcmFtZSA9IHRoaXMudGFyZ2V0RnJhbWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW1hZ2VTb3VyY2UgPSB0aGlzLmFjdGl2ZUltYWdlU2V0LmltYWdlc1tNYXRoLnJvdW5kKHRoaXMuY3VycmVudEZyYW1lKV07XG4gICAgICAgIHRoaXMuZHJhdyhpbWFnZVNvdXJjZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZsdXNoIHRoZSBkcmF3IGNhY2hlLlxuICAgICAqL1xuICAgIGZsdXNoKCkge1xuICAgICAgICB0aGlzLmRyYXcoJycpOyAvLyBNYWtlIGEgZW1wdHkgY2FsbCB0byBjbGVhciB0aGUgbWVtb2l6ZSBjYWNoZS5cbiAgICAgICAgdGhpcy5kcmF3KG51bGwpO1xuICAgIH1cbiAgICBhc3luYyBkcmF3KGltYWdlU291cmNlKSB7XG4gICAgICAgIC8vIFByZXZlbnQgaW52YWxpZCBkcmF3c1xuICAgICAgICBpZiAoIWltYWdlU291cmNlIHx8IHRoaXMuZGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW1hZ2VTb3VyY2UgPT09IHRoaXMubGFzdERyYXdTb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYW4ndCBkcmF3IG9uIGEgMCBhcmVhIGNhbnZhc1xuICAgICAgICBpZiAoIXRoaXMuY2FudmFzV2lkdGggfHwgIXRoaXMuY2FudmFzSGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0RHJhd1NvdXJjZSA9IGltYWdlU291cmNlO1xuICAgICAgICAvLyBJZiB0aGlzIHdhcyBjYWxsZWQgYXQgYSByYXRlIGV4Y2VlZGluZyB0aGUgZnBzIGxpbWl0LlxuICAgICAgICBpZiAoIXRoaXMuZnBzLmNhblJ1bigpKSB7XG4gICAgICAgICAgICB0aGlzLmZwcy5zY2hlZHVsZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gRm9yY2UgYSBkcmF3LiAgVGhpcyBlbnN1cmVzIHRoYXQgZXZlbiB3aXRoIEZQUyBsaW1pdGluZyxcbiAgICAgICAgICAgICAgICAvLyB0aGUgdmVyeSBsYXN0IGRyYXcgY2FsbCBpcyBhbHdheXMgcmVuZGVyZWQuXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0RHJhd1NvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3KGltYWdlU291cmNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGltYWdlID0gYXdhaXQgdGhpcy5tYWtlSW1hZ2UoaW1hZ2VTb3VyY2UpO1xuICAgICAgICAvLyBEZWNvZGluZyBpbWFnZXMgaW4gdGhpcyB3YXksIHdlIHNlZSBhIGh1Z2UgbWVtb3J5IGp1bXAuICBBdm9pZCBmb3Igbm93LlxuICAgICAgICAvLyBhd2FpdCBpbWFnZS5kZWNvZGUoKTtcbiAgICAgICAgLy8gSWYgYW4gaW1hZ2UgY291bGRuJ3QgYmUgZ2VuZXJhdGVkIGZvciBzb21lIHJlYXNvbi5cbiAgICAgICAgaWYgKCFpbWFnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGltYWdlQm94ID0ge1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMuaW1hZ2VOYXR1cmFsV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaW1hZ2VOYXR1cmFsSGVpZ2h0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjb250YWluZXJCb3ggPSB7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy5jYW52YXNXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5jYW52YXNIZWlnaHQsXG4gICAgICAgIH07XG4gICAgICAgIGxldCB4O1xuICAgICAgICBsZXQgeTtcbiAgICAgICAgbGV0IHdpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0O1xuICAgICAgICAvLyBCYWNrZ3JvdW5kIFwiY292ZXJcIiBzaXppbmcuXG4gICAgICAgIC8vIERlZmF1bHRzIHRvIGNlbnRlci5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuY292ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvdmVyID0gbWF0aGYuY2FsY3VsYXRlQmFja2dyb3VuZENvdmVyKGNvbnRhaW5lckJveCwgaW1hZ2VCb3gpO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucyAmJiBpcy5udW1iZXIodGhpcy5vcHRpb25zLmxlZnQpKSB7XG4gICAgICAgICAgICAgICAgY292ZXIueE9mZnNldCA9XG4gICAgICAgICAgICAgICAgICAgIChjb250YWluZXJCb3gud2lkdGggLSBpbWFnZUJveC53aWR0aCAqIGNvdmVyLnNjYWxhcikgKlxuICAgICAgICAgICAgICAgICAgICAgICAgLXRoaXMub3B0aW9ucy5sZWZ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucyAmJiBpcy5udW1iZXIodGhpcy5vcHRpb25zLnJpZ2h0KSkge1xuICAgICAgICAgICAgICAgIC8vIFJpZ2h0IGFsaWduIGZpcnN0LlxuICAgICAgICAgICAgICAgIGNvdmVyLnhPZmZzZXQgPSAtKGNvbnRhaW5lckJveC53aWR0aCAtIGltYWdlQm94LndpZHRoICogY292ZXIuc2NhbGFyKTtcbiAgICAgICAgICAgICAgICBjb3Zlci54T2Zmc2V0ICs9XG4gICAgICAgICAgICAgICAgICAgIChjb250YWluZXJCb3gud2lkdGggLSBpbWFnZUJveC53aWR0aCAqIGNvdmVyLnNjYWxhcikgKlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucyAmJiBpcy5udW1iZXIodGhpcy5vcHRpb25zLmJvdHRvbSkpIHtcbiAgICAgICAgICAgICAgICAvLyBTZXQgdG8gYm90dG9tLlxuICAgICAgICAgICAgICAgIGNvdmVyLnlPZmZzZXQgPSAtKGNvbnRhaW5lckJveC5oZWlnaHQgLSBpbWFnZUJveC5oZWlnaHQgKiBjb3Zlci5zY2FsYXIpO1xuICAgICAgICAgICAgICAgIC8vIENsaXBwaW5nIEJvdHRvbSBhbGdvLlxuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgcGVyY2VudGFnZSBhbW91bnQgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgIGNvdmVyLnlPZmZzZXQgKz1cbiAgICAgICAgICAgICAgICAgICAgKGNvbnRhaW5lckJveC5oZWlnaHQgLSBpbWFnZUJveC5oZWlnaHQgKiBjb3Zlci5zY2FsYXIpICpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5ib3R0b207XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zICYmIGlzLm51bWJlcih0aGlzLm9wdGlvbnMudG9wKSkge1xuICAgICAgICAgICAgICAgIGNvdmVyLnlPZmZzZXQgPVxuICAgICAgICAgICAgICAgICAgICAoY29udGFpbmVyQm94LmhlaWdodCAtIGltYWdlQm94LmhlaWdodCAqIGNvdmVyLnNjYWxhcikgKlxuICAgICAgICAgICAgICAgICAgICAgICAgLXRoaXMub3B0aW9ucy50b3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4ID0gLWNvdmVyLnhPZmZzZXQgPj4gMDtcbiAgICAgICAgICAgIHkgPSAtY292ZXIueU9mZnNldCA+PiAwO1xuICAgICAgICAgICAgd2lkdGggPSAoaW1hZ2VCb3gud2lkdGggKiBjb3Zlci5zY2FsYXIpID4+IDA7XG4gICAgICAgICAgICBoZWlnaHQgPSAoaW1hZ2VCb3guaGVpZ2h0ICogY292ZXIuc2NhbGFyKSA+PiAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gRGVmYXVsdCB0byBjb250YWluIHNpemluZyBhbGdvLlxuICAgICAgICAgICAgdGhpcy5jb250YWluU2NhbGUgPSBtYXRoZi5jYWxjdWxhdGVCYWNrZ3JvdW5kQ29udGFpbihjb250YWluZXJCb3gsIGltYWdlQm94KTtcbiAgICAgICAgICAgIC8vIERlZmF1bHQgY2VudGVyIGFsZ28uXG4gICAgICAgICAgICBsZXQgZGlmZlggPSAoY29udGFpbmVyQm94LndpZHRoIC0gaW1hZ2VCb3gud2lkdGggKiB0aGlzLmNvbnRhaW5TY2FsZSkgLyAyO1xuICAgICAgICAgICAgbGV0IGRpZmZZID0gKGNvbnRhaW5lckJveC5oZWlnaHQgLSBpbWFnZUJveC5oZWlnaHQgKiB0aGlzLmNvbnRhaW5TY2FsZSkgLyAyO1xuICAgICAgICAgICAgLy8gU2l6aW5nIG9wdGlvbiBsb2dpYy5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMgJiYgaXMubnVtYmVyKHRoaXMub3B0aW9ucy5ib3R0b20pKSB7XG4gICAgICAgICAgICAgICAgLy8gQm90dG9tIGFsaWduIGl0LlxuICAgICAgICAgICAgICAgIGRpZmZZID0gY29udGFpbmVyQm94LmhlaWdodCAtIGltYWdlQm94LmhlaWdodCAqIHRoaXMuY29udGFpblNjYWxlO1xuICAgICAgICAgICAgICAgIC8vIEVhc3kgd2F5IHRvIHRlc3QgdGhpcyBpcyB0byBzZXQgYm90dG9tOiAxIGFuZFxuICAgICAgICAgICAgICAgIC8vIGJvdHRvbUNsaXBwaW5nOiBmYWxzZSB3aGljaCB3b3VsZCB0b3AgYWxpZ24gdGhlIGltYWdlLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYm90dG9tTm9DbGlwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpZmZZIC09XG4gICAgICAgICAgICAgICAgICAgICAgICAoY29udGFpbmVyQm94LmhlaWdodCAtIGltYWdlQm94LmhlaWdodCAqIHRoaXMuY29udGFpblNjYWxlKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmJvdHRvbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENsaXBwaW5nIEJvdHRvbSBhbGdvLlxuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHBlcmNlbnRhZ2UgYW1vdW50IHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgICAgZGlmZlkgLT0gY29udGFpbmVyQm94LmhlaWdodCAqIHRoaXMub3B0aW9ucy5ib3R0b207XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucyAmJiBpcy5udW1iZXIodGhpcy5vcHRpb25zLnJpZ2h0KSkge1xuICAgICAgICAgICAgICAgIC8vIFJpZ2h0IGFsaWduIGl0LlxuICAgICAgICAgICAgICAgIGRpZmZYID0gY29udGFpbmVyQm94LndpZHRoIC0gaW1hZ2VCb3gud2lkdGggKiB0aGlzLmNvbnRhaW5TY2FsZTtcbiAgICAgICAgICAgICAgICAvLyBFYXN5IHdheSB0byB0ZXN0IHRoaXMgaXMgdG8gc2V0IHJpZ2h0OiAxIGFuZFxuICAgICAgICAgICAgICAgIC8vIHJpZ2h0Q2xpcHBpbmc6IGZhbHNlIHdoaWNoIHdvdWxkIGxlZnQgYWxpZ24gdGhlIGltYWdlLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmlnaHROb0NsaXApIHtcbiAgICAgICAgICAgICAgICAgICAgZGlmZlggLT1cbiAgICAgICAgICAgICAgICAgICAgICAgIChjb250YWluZXJCb3gud2lkdGggLSBpbWFnZUJveC53aWR0aCAqIHRoaXMuY29udGFpblNjYWxlKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnJpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xpcHBpbmcgcmlnaHQgYWxnby5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBwZXJjZW50YWdlIGFtb3VudCBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICAgIGRpZmZYIC09IGNvbnRhaW5lckJveC53aWR0aCAqIHRoaXMub3B0aW9ucy5yaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zICYmIGlzLm51bWJlcih0aGlzLm9wdGlvbnMudG9wKSkge1xuICAgICAgICAgICAgICAgIC8vIFRvcCBhbGlnbiBpdC5cbiAgICAgICAgICAgICAgICBkaWZmWSA9IDA7XG4gICAgICAgICAgICAgICAgLy8gRWFzeSB3YXkgdG8gdGVzdCB0aGlzIGlzIHRvIHNldCB0b3A6IDEgYW5kXG4gICAgICAgICAgICAgICAgLy8gdG9wQ2xpcHBpbmc6IGZhbHNlIHdoaWNoIHdvdWxkIGJvdHRvbSBhbGlnbmVkIHRoZSBpbWFnZS5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRvcE5vQ2xpcCkge1xuICAgICAgICAgICAgICAgICAgICBkaWZmWSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAoY29udGFpbmVyQm94LmhlaWdodCAtIGltYWdlQm94LmhlaWdodCAqIHRoaXMuY29udGFpblNjYWxlKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnRvcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENsaXBwaW5nIFRvcCBhbGdvLlxuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHBlcmNlbnRhZ2UgYW1vdW50IHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICAgICAgZGlmZlkgKz0gdGhpcy5vcHRpb25zLnRvcCAqIGNvbnRhaW5lckJveC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucyAmJiBpcy5udW1iZXIodGhpcy5vcHRpb25zLmxlZnQpKSB7XG4gICAgICAgICAgICAgICAgLy8gTGVmdCBhbGlnbiBpdC5cbiAgICAgICAgICAgICAgICBkaWZmWCA9IDA7XG4gICAgICAgICAgICAgICAgLy8gRWFzeSB3YXkgdG8gdGVzdCB0aGlzIGlzIHRvIHNldCBsZWZ0OiAxIGFuZFxuICAgICAgICAgICAgICAgIC8vIGxlZnRDbGlwcGluZzogZmFsc2Ugd2hpY2ggd291bGQgcmlnaHQgYWxpZ25lZCB0aGUgaW1hZ2UuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5sZWZ0Tm9DbGlwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpZmZYID1cbiAgICAgICAgICAgICAgICAgICAgICAgIChjb250YWluZXJCb3gud2lkdGggLSBpbWFnZUJveC53aWR0aCAqIHRoaXMuY29udGFpblNjYWxlKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmxlZnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBDbGlwcGluZyBsZWZ0IGFsZ28uXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgcGVyY2VudGFnZSBhbW91bnQgc3BlY2lmaWVkLlxuICAgICAgICAgICAgICAgICAgICBkaWZmWCArPSB0aGlzLm9wdGlvbnMubGVmdCAqIGNvbnRhaW5lckJveC53aWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4ID0gZGlmZlg7XG4gICAgICAgICAgICB5ID0gZGlmZlk7XG4gICAgICAgICAgICB3aWR0aCA9IGltYWdlQm94LndpZHRoICogdGhpcy5jb250YWluU2NhbGU7XG4gICAgICAgICAgICBoZWlnaHQgPSBpbWFnZUJveC5oZWlnaHQgKiB0aGlzLmNvbnRhaW5TY2FsZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZWJHTCBEcmF3LlxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSB0aGlzLnByb2dyYW07XG4gICAgICAgIGNvbnN0IGFQb3NpdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sICdhX3Bvc2l0aW9uJyk7XG4gICAgICAgIGNvbnN0IHVNYXRyaXggPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfbWF0cml4Jyk7XG4gICAgICAgIGdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcbiAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCAqIHRoaXMuZHByLCB0aGlzLmNhbnZhc0hlaWdodCAqIHRoaXMuZHByKTtcbiAgICAgICAgLy8gZ2wuZW5hYmxlKGdsLkJMRU5EKTtcbiAgICAgICAgLy8gZ2wuYmxlbmRGdW5jKGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSk7XG4gICAgICAgIHdlYmdsLmNyZWF0ZVZibyhnbCwgWzAuMCwgMC4wLCAxLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgMS4wLCAxLjAsIDAuMCwgMS4wLCAxLjBdKTtcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYVBvc2l0aW9uKTtcbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihhUG9zaXRpb24sIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSB3ZWJnbC5jcmVhdGVUZXh0dXJlRnJvbUltYWdlKGdsLCBpbWFnZSk7XG4gICAgICAgIC8vIENvbnZlcnQgcGl4ZWwgY29vcmRzIHRvIGdsIGNvb3JkcyBiYXNlZCBvbiB0aGUgeCwgeSwgd2lkdGggYW5kIGhlaWdodFxuICAgICAgICAvLyB2YWx1ZXMgY2FsY3VsYXRlZCBhYm92ZS5cbiAgICAgICAgY29uc3QgY2xpcFggPSAoeCAvIHRoaXMuY2FudmFzV2lkdGgpICogMiAtIDE7XG4gICAgICAgIGNvbnN0IGNsaXBZID0gKHkgLyB0aGlzLmNhbnZhc0hlaWdodCkgKiAtMiArIDE7XG4gICAgICAgIGNvbnN0IGNsaXBXaWR0aCA9ICh3aWR0aCAvIHRoaXMuY2FudmFzV2lkdGgpICogMjtcbiAgICAgICAgY29uc3QgY2xpcEhlaWdodCA9IChoZWlnaHQgLyB0aGlzLmNhbnZhc0hlaWdodCkgKiAtMjtcbiAgICAgICAgLy8gU3RyZXRjaCBvdXQgdW5pdCBxdWFkLlxuICAgICAgICBnbC51bmlmb3JtTWF0cml4M2Z2KHVNYXRyaXgsIGZhbHNlLCBbXG4gICAgICAgICAgICBjbGlwV2lkdGgsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBjbGlwSGVpZ2h0LFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIGNsaXBYLFxuICAgICAgICAgICAgY2xpcFksXG4gICAgICAgICAgICAxLFxuICAgICAgICBdKTtcbiAgICAgICAgLy8gRHJhdyB0aGUgcmVjdGFuZ2xlLlxuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFUywgMCwgNik7XG4gICAgICAgIC8vIENsZWFyIFZSQU0gbWVtb3J5IGJ5IGRlbGV0aW5nIHRoZSB0ZXh0dXJlIGFmdGVyIHJlbmRlci5cbiAgICAgICAgd2ViZ2wuZGVsZXRlVGV4dHVyZShnbCwgdGV4dHVyZSk7XG4gICAgICAgIHRoaXMubGFzdFJlbmRlclNvdXJjZSA9IGltYWdlU291cmNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBpbnRlcm5hbCBzaXppbmcgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIHNldFNpemluZ09wdGlvbnMob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQbGF5cyB0aGUgY2FudmFzIGltYWdlIHNlcXVlbmNlIHdpdGggYSB0aW1lci4gUGxheWluZyB3aWxsIFwiaGlqYWNrXCIgdGhlXG4gICAgICogcHJvZ3Jlc3MgZXZlbnRzIHdoaWxlIHBsYXlpbmcuICAgRm9yIGV4YW1wbGU6XG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqICAgIGNhbnZhc0ltYWdlU2VxdWVuY2UucGxheSgwLCAxLCAzMDAwKS50aGVuKCgpID0+IHtcbiAgICAgKiAgICAgICBjb25zb2xlLmxvZygncGxheSBjb21wbGV0ZScpO1xuICAgICAqICAgfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBIZXJlIHdlIHRlbGwgdGhlIGNhbnZhc0ltYWdlU2VxdWVuY2UgdG8gcGxheSBmcm9tIHN0YXJ0IHRvIGVuZCBvdmVyXG4gICAgICogYSAzMDAwbXMgcGVyaW9kLiAgRHVyaW5nIHRoaXMgMzAwMG1zIHBlcmlvZCwgYW55IGNhbGxzIG90aGVyIHRvXG4gICAgICogY2FsbHMgXCJyZW5kZXJCeVByb2dyZXNzXCIgd2lsbCBnZXQgaWdub3JlZCBzaW5jZSB0aGV5IGNhbiBjb25mbGljdCB3aXRoXG4gICAgICogdGhlIHBsYXliYWNrLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZnJvbSBBIG51bWJlciBiZXR3ZWVuIDAgLSAxXG4gICAgICogQHBhcmFtIHRvIEEgbnVtYmVyIGJldHdlZW4gMCAtIDFcbiAgICAgKiBAcGFyYW0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIG1zLlxuICAgICAqIEByZXR1cm4gUHJvbWlzZSBBIHByb21pc2UgdGhhdCBjb21wbGV0ZXMgd2hlbiBkb25lLlxuICAgICAqL1xuICAgIHBsYXkoZnJvbSwgdG8sIGR1cmF0aW9uKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB0aGlzLnJhZlRpbWVyID0gbmV3IFJhZlRpbWVyKChwcm9ncmVzcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW50ZXJwb2xhdGVkUHJvZ3Jlc3MgPSBtYXRoZi5pbnRlcnBvbGF0ZVJhbmdlKHByb2dyZXNzLCAwLCAxLCBmcm9tLCB0byk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclByb2dyZXNzKGludGVycG9sYXRlZFByb2dyZXNzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmFmVGltZXIuc2V0RHVyYXRpb24oZHVyYXRpb24pO1xuICAgICAgICB0aGlzLnBsYXlEZWZlciA9IG5ldyBEZWZlcigpO1xuICAgICAgICB0aGlzLnJhZlRpbWVyLm9uQ29tcGxldGUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc1BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucGxheURlZmVyLnJlc29sdmUoKTtcbiAgICAgICAgICAgIHRoaXMucmFmVGltZXIuZGlzcG9zZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yYWZUaW1lci5wbGF5KCk7XG4gICAgICAgIHRoaXMuaXNQbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheURlZmVyLmdldFByb21pc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW1tZWRpYXRlbHkgc3RvcHMgdGhlIGNhbnZhcyBhbmltYXRpb24gcGxheWluZy5cbiAgICAgKiAodGhhdCBoYXBwZW5zIHdpdGggcGxheSBtZXRob2QpLlxuICAgICAqL1xuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMucmFmVGltZXIgJiYgdGhpcy5yYWZUaW1lci5wYXVzZSgpO1xuICAgICAgICB0aGlzLnJhZlRpbWVyICYmIHRoaXMucmFmVGltZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnBsYXlEZWZlciAmJiB0aGlzLnBsYXlEZWZlci5yZXNvbHZlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGltYWdlIGRpbWVuc2lvbiB0aGF0IHdlcmUgZmV0Y2hlZC4gIFRoaXMgaXMgYmFzZWRcbiAgICAgKiBvbiB0aGUgXCJmaXJzdFwiIGltYWdlIGluIHRoZSBzZXF1ZW5jZS5cbiAgICAgKiBUaGUgc2l6ZXMgd2lsbCBiZSBudWxsIGlmIGNhbGxlZCBwcmlvciB0byBsb2FkaW5nIGltYWdlcy5cbiAgICAgKi9cbiAgICBnZXRJbWFnZVNpemUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy5pbWFnZU5hdHVyYWxXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5pbWFnZU5hdHVyYWxIZWlnaHQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5kb21XYXRjaGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5yYWZUaW1lciAmJiB0aGlzLnJhZlRpbWVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5ibG9iTG9hZGVyICYmIHRoaXMuYmxvYkxvYWRlci5kaXNwb3NlKCk7XG4gICAgICAgIC8vIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gICAgICAgIC8vIHRoaXMuYmxvYkNhY2hlID0gbnVsbDtcbiAgICAgICAgLy8gdGhpcy5jYW52YXNFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgZG9tLmRlbGV0ZUltYWdlKHRoaXMuY2FjaGVJbWFnZSk7XG4gICAgICAgIC8vIHRoaXMuY2FjaGVJbWFnZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdlYmdsLWltYWdlLXNlcXVlbmNlLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/dom/webgl-image-sequence.js\n");

/***/ }),

/***/ "./lib/dom/webgl.js":
/*!**************************!*\
  !*** ./lib/dom/webgl.js ***!
  \**************************/
/*! exports provided: webgl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"webgl\", function() { return webgl; });\n/**\n * Set of webGl helper methods.\n */\nclass webgl {\n    /**\n     * @param gl WebGlRenderingContext\n     * @param vs  Vertex shader\n     * @param fr  Frag shader\n     */\n    static createProgram(gl, vs, fr) {\n        // Create program\n        const program = gl.createProgram();\n        // Compile vertex shader\n        const vShader = gl.createShader(gl.VERTEX_SHADER);\n        gl.shaderSource(vShader, vs);\n        gl.compileShader(vShader);\n        // Compile frag shader\n        const fShader = gl.createShader(gl.FRAGMENT_SHADER);\n        gl.shaderSource(fShader, fr);\n        gl.compileShader(fShader);\n        gl.attachShader(program, vShader);\n        gl.deleteShader(vShader);\n        gl.attachShader(program, fShader);\n        gl.deleteShader(fShader);\n        gl.linkProgram(program);\n        return program;\n    }\n    /**\n     * Create VBO.\n     * @param gl\n     * @param data\n     */\n    static createVbo(gl, data) {\n        const vbo = gl.createBuffer();\n        gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(data), gl.STATIC_DRAW);\n        return vbo;\n    }\n    /**\n     * Creates a text from image.  Requires that the image is already loaded.\n     * @param source\n     */\n    static createTextureFromImage(gl, image) {\n        const texture = gl.createTexture();\n        // https://stackoverflow.com/questions/39341564/webgl-how-to-correctly-blend-alpha-channel-png\n        // Set correct transparency to support pngs.\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, true);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        // Set the parameters so we can render any size image.\n        // We assume the image is NOT power of 2.\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        // Use linear to get best quality.\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n        return texture;\n    }\n    /**\n     * Deletes texture from GPU memory.\n     * @param gl\n     * @param texture\n     */\n    static deleteTexture(gl, texture) {\n        gl.deleteTexture(texture);\n    }\n}\n//# sourceMappingURL=webgl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZG9tL3dlYmdsLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2RvbS93ZWJnbC5qcz9mZGRiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2V0IG9mIHdlYkdsIGhlbHBlciBtZXRob2RzLlxuICovXG5leHBvcnQgY2xhc3Mgd2ViZ2wge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBnbCBXZWJHbFJlbmRlcmluZ0NvbnRleHRcbiAgICAgKiBAcGFyYW0gdnMgIFZlcnRleCBzaGFkZXJcbiAgICAgKiBAcGFyYW0gZnIgIEZyYWcgc2hhZGVyXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVByb2dyYW0oZ2wsIHZzLCBmcikge1xuICAgICAgICAvLyBDcmVhdGUgcHJvZ3JhbVxuICAgICAgICBjb25zdCBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICAgICAgICAvLyBDb21waWxlIHZlcnRleCBzaGFkZXJcbiAgICAgICAgY29uc3QgdlNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5WRVJURVhfU0hBREVSKTtcbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKHZTaGFkZXIsIHZzKTtcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcih2U2hhZGVyKTtcbiAgICAgICAgLy8gQ29tcGlsZSBmcmFnIHNoYWRlclxuICAgICAgICBjb25zdCBmU2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XG4gICAgICAgIGdsLnNoYWRlclNvdXJjZShmU2hhZGVyLCBmcik7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoZlNoYWRlcik7XG4gICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2U2hhZGVyKTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKHZTaGFkZXIpO1xuICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZlNoYWRlcik7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcihmU2hhZGVyKTtcbiAgICAgICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIHJldHVybiBwcm9ncmFtO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgVkJPLlxuICAgICAqIEBwYXJhbSBnbFxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVZibyhnbCwgZGF0YSkge1xuICAgICAgICBjb25zdCB2Ym8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHZibyk7XG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgICAgIHJldHVybiB2Ym87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0ZXh0IGZyb20gaW1hZ2UuICBSZXF1aXJlcyB0aGF0IHRoZSBpbWFnZSBpcyBhbHJlYWR5IGxvYWRlZC5cbiAgICAgKiBAcGFyYW0gc291cmNlXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVRleHR1cmVGcm9tSW1hZ2UoZ2wsIGltYWdlKSB7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM5MzQxNTY0L3dlYmdsLWhvdy10by1jb3JyZWN0bHktYmxlbmQtYWxwaGEtY2hhbm5lbC1wbmdcbiAgICAgICAgLy8gU2V0IGNvcnJlY3QgdHJhbnNwYXJlbmN5IHRvIHN1cHBvcnQgcG5ncy5cbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCB0cnVlKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gICAgICAgIC8vIFNldCB0aGUgcGFyYW1ldGVycyBzbyB3ZSBjYW4gcmVuZGVyIGFueSBzaXplIGltYWdlLlxuICAgICAgICAvLyBXZSBhc3N1bWUgdGhlIGltYWdlIGlzIE5PVCBwb3dlciBvZiAyLlxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgIC8vIFVzZSBsaW5lYXIgdG8gZ2V0IGJlc3QgcXVhbGl0eS5cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGltYWdlKTtcbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgdGV4dHVyZSBmcm9tIEdQVSBtZW1vcnkuXG4gICAgICogQHBhcmFtIGdsXG4gICAgICogQHBhcmFtIHRleHR1cmVcbiAgICAgKi9cbiAgICBzdGF0aWMgZGVsZXRlVGV4dHVyZShnbCwgdGV4dHVyZSkge1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHRleHR1cmUpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdlYmdsLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/dom/webgl.js\n");

/***/ }),

/***/ "./lib/ease/ease.js":
/*!**************************!*\
  !*** ./lib/ease/ease.js ***!
  \**************************/
/*! exports provided: easeInSine, easeOutSine, easeInOutSine, easeInQuad, easeOutQuad, easeInCubic, easeInOutQuad, easeOutCubic, easeInOutCubic, easeInQuart, easeOutQuart, easeInOutQuart, easeInQuint, easeOutQuint, easeInOutQuint, easeInExpo, easeOutExpo, easeInOutExpo, easeInCirc, easeOutCirc, easeInOutCirc, easeInBack, easeOutBack, easeInOutBack, easeInElastic, easeOutElastic, easeInOutElastic, easeInBounce, easeOutBounce, easeInOutBounce, linear, EASE */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInSine\", function() { return easeInSine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeOutSine\", function() { return easeOutSine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInOutSine\", function() { return easeInOutSine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInQuad\", function() { return easeInQuad; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeOutQuad\", function() { return easeOutQuad; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInCubic\", function() { return easeInCubic; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInOutQuad\", function() { return easeInOutQuad; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeOutCubic\", function() { return easeOutCubic; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInOutCubic\", function() { return easeInOutCubic; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInQuart\", function() { return easeInQuart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeOutQuart\", function() { return easeOutQuart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInOutQuart\", function() { return easeInOutQuart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInQuint\", function() { return easeInQuint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeOutQuint\", function() { return easeOutQuint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInOutQuint\", function() { return easeInOutQuint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInExpo\", function() { return easeInExpo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeOutExpo\", function() { return easeOutExpo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInOutExpo\", function() { return easeInOutExpo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInCirc\", function() { return easeInCirc; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeOutCirc\", function() { return easeOutCirc; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInOutCirc\", function() { return easeInOutCirc; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInBack\", function() { return easeInBack; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeOutBack\", function() { return easeOutBack; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInOutBack\", function() { return easeInOutBack; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInElastic\", function() { return easeInElastic; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeOutElastic\", function() { return easeOutElastic; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInOutElastic\", function() { return easeInOutElastic; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInBounce\", function() { return easeInBounce; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeOutBounce\", function() { return easeOutBounce; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInOutBounce\", function() { return easeInOutBounce; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"linear\", function() { return linear; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EASE\", function() { return EASE; });\n/**\n * Eases the value in with a Sine curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n */\nfunction easeInSine(t) {\n    return t === 0 || t === 1 ? t : 1 - Math.cos(t * (Math.PI / 2));\n}\n/**\n * Eases the value out with a Sine curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n */\nfunction easeOutSine(t) {\n    return t === 0 || t === 1 ? t : Math.sin(t * (Math.PI / 2));\n}\n/**\n * Eases the value in and out with a Sine curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n */\nfunction easeInOutSine(t) {\n    return t === 0 || t === 1 ? t : -0.5 * (Math.cos(Math.PI * t) - 1);\n}\n/**\n * Eases the value in with a quadratic curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n */\nfunction easeInQuad(t) {\n    return t === 0 || t === 1 ? t : t * t;\n}\n/**\n * Eases the value out with a quadratic curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n */\nfunction easeOutQuad(t) {\n    return t === 0 || t === 1 ? t : t * (2 - t);\n}\n/**\n * Eases the value in with a cubic curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeInCubic(t) {\n    return t === 0 || t === 1 ? t : t * t * t;\n}\n/**\n * Eases the value in and out with a quadratic curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n */\nfunction easeInOutQuad(t) {\n    if (t === 0 || t === 1) {\n        return t;\n    }\n    else if (t < 0.5) {\n        return 2 * t * t;\n    }\n    else {\n        return -1 + (4 - 2 * t) * t;\n    }\n}\n/**\n * Eases the value out with a cubic curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeOutCubic(t) {\n    return t === 0 || t === 1 ? t : --t * t * t + 1;\n}\n/**\n * Eases the value in and out with a cubic curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n */\nfunction easeInOutCubic(t) {\n    if (t === 0 || t === 1) {\n        return t;\n    }\n    else if (t < 0.5) {\n        return 4 * t * t * t;\n    }\n    else {\n        return (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n    }\n}\n/**\n * Eases the value in with a quartic curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeInQuart(t) {\n    return t === 0 || t === 1 ? t : t * t * t * t;\n}\n/**\n * Eases the value out with a quartic curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeOutQuart(t) {\n    return t === 0 || t === 1 ? t : 1 - --t * t * t * t;\n}\n/**\n * Eases the value in and out with a quartic curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeInOutQuart(t) {\n    if (t === 0 || t === 1) {\n        return t;\n    }\n    else if (t < 0.5) {\n        return 8 * t * t * t * t;\n    }\n    else {\n        return 1 - 8 * --t * t * t * t;\n    }\n}\n/**\n * Eases the value in with a quintic curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeInQuint(t) {\n    return t === 0 || t === 1 ? t : t * t * t * t * t;\n}\n/**\n * Eases the value out with a quintic curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeOutQuint(t) {\n    return t === 0 || t === 1 ? t : 1 + --t * t * t * t * t;\n}\n/**\n * Eases the value in and out with a quintic curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeInOutQuint(t) {\n    return t === 0 || t === 1\n        ? t\n        : t < 0.5\n            ? 16 * t * t * t * t * t\n            : 1 + 16 * --t * t * t * t * t;\n}\n/**\n * Eases the value in with an exponential curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeInExpo(t) {\n    return t === 0 || t === 1 ? t : Math.pow(2, 10 * (t - 1));\n}\n/**\n * Eases the value out with an exponential curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeOutExpo(t) {\n    return t === 0 || t === 1 ? t : 1 - Math.pow(2, -10 * t);\n}\n/**\n * Eases the value in and out with an exponential curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeInOutExpo(t) {\n    if (t === 0 || t === 1) {\n        return t;\n    }\n    else if (t < 0.5) {\n        return 0.5 * Math.pow(2, 10 * (t * 2 - 1));\n    }\n    else {\n        return 0.5 * (2 - Math.pow(2, -10 * (t * 2 - 1)));\n    }\n}\n/**\n * Eases the value in with a circular curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeInCirc(t) {\n    return t === 0 || t === 1 ? t : 1 - Math.sqrt(1 - t * t);\n}\n/**\n * Eases the value out with a circular curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeOutCirc(t) {\n    return t === 0 || t === 1 ? t : Math.sqrt(1 - (t - 1) * (t - 1));\n}\n/**\n * Eases the value in and out with a circular curve.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeInOutCirc(t) {\n    if (t === 0 || t === 1) {\n        return t;\n    }\n    else if (t < 0.5) {\n        return -0.5 * (Math.sqrt(1 - t * t * 4) - 1);\n    }\n    else {\n        return 0.5 * (Math.sqrt(1 - 4 * (t - 1) * (t - 1)) + 1);\n    }\n}\n/**\n * Eases the value in after bounding backwards at the beginning.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeInBack(t) {\n    return t === 0 || t === 1 ? t : t * t * (2.70158 * t - 1.70158);\n}\n/**\n * Eases the value out after bounding past the end point and back.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeOutBack(t) {\n    return t === 0 || t === 1\n        ? t\n        : (t - 1) * (t - 1) * (2.70158 * (t - 1) + 1.70158) + 1;\n}\n/**\n * Eases the value in and out with an initial and ending movement beyond the\n * full range.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeInOutBack(t) {\n    if (t === 0 || t === 1) {\n        return t;\n    }\n    else if (t < 0.5) {\n        return 0.5 * (t * 2) * (t * 2) * (3.5949095 * (t * 2) - 2.5949095);\n    }\n    else {\n        return (0.5 *\n            ((t * 2 - 2) * (t * 2 - 2) * (3.5949095 * (t * 2 - 2) + 2.5949095) + 2));\n    }\n}\n/**\n * Eases the value in with an elastic springy motion.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeInElastic(t) {\n    if (t === 0 || t === 1) {\n        return t;\n    }\n    else {\n        return (-1 *\n            (Math.pow(2, 10 * (t - 1)) *\n                Math.sin(((t - 1.075) * (2 * Math.PI)) / 0.3)));\n    }\n}\n/**\n * Eases the value out with an elastic springy motion.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeOutElastic(t) {\n    return t === 0 || t === 1\n        ? t\n        : Math.pow(2, -10 * t) * Math.sin(((t - 0.075) * (2 * Math.PI)) / 0.3) + 1;\n}\n/**\n * Eases the value in and out with an elastic springy motion.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeInOutElastic(t) {\n    if (t === 0 || t === 1) {\n        return t;\n    }\n    else if (t < 0.5) {\n        return (-0.5 *\n            (Math.pow(2, 10 * (t * 2 - 1)) *\n                Math.sin(((t * 2 - 1.1125) * 2 * Math.PI) / 0.45)));\n    }\n    else {\n        return (0.5 *\n            Math.pow(2, -10 * (t * 2 - 1)) *\n            Math.sin(((t * 2 - 1.1125) * 2 * Math.PI) / 0.45) +\n            1);\n    }\n}\n/**\n * Eases the value in with a simple physics bounce.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeInBounce(t) {\n    return t === 0 || t === 1 ? t : 1 - easeOutBounce(1 - t);\n}\n/**\n * Eases the value out with a simple physics bounce.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeOutBounce(t) {\n    if (t === 0 || t === 1) {\n        return t;\n    }\n    else if (t < 1 / 2.75) {\n        return 7.5625 * t * t;\n    }\n    else if (t < 2 / 2.75) {\n        return 7.5625 * (t - 1.5 / 2.75) * (t - 1.5 / 2.75) + 0.75;\n    }\n    else if (t < 2.5 / 2.75) {\n        return 7.5625 * (t - 2.25 / 2.75) * (t - 2.25 / 2.75) + 0.9375;\n    }\n    else {\n        return 7.5625 * (t - 2.625 / 2.75) * (t - 2.625 / 2.75) + 0.984375;\n    }\n}\n/**\n * Eases the value in and out with starting and ending bounces.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction easeInOutBounce(t) {\n    if (t === 0 || t === 1) {\n        return t;\n    }\n    else if (t < 0.5) {\n        return EASE.easeInBounce(t * 2) * 0.5;\n    }\n    else {\n        return EASE.easeOutBounce(t * 2 - 1) * 0.5 + 0.5;\n    }\n}\n/**\n * Returns the value without any easing. This is only useful if a script is\n * expecting an easing method, but one isn't needed in that instance.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n *\n */\nfunction linear(t) {\n    return t;\n}\n/**\n * Basis easing functions.\n * @see https://easings.net/en for nice visualization of each.\n *\n */\nconst EASE = {\n    easeInBack,\n    easeInBounce,\n    easeInCirc,\n    easeInCubic,\n    easeInElastic,\n    easeInExpo,\n    easeInOutBack,\n    easeInOutBounce,\n    easeInOutCubic,\n    easeInOutElastic,\n    easeInOutExpo,\n    easeInOutQuad,\n    easeInOutQuart,\n    easeInOutSine,\n    easeInQuad,\n    easeInQuart,\n    easeInQuint,\n    easeInSine,\n    easeOutBack,\n    easeOutBounce,\n    easeOutCirc,\n    easeOutCubic,\n    easeOutElastic,\n    easeOutExpo,\n    easeOutQuad,\n    easeOutQuart,\n    easeOutSine,\n    linear,\n};\n//# sourceMappingURL=ease.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZWFzZS9lYXNlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2Vhc2UvZWFzZS5qcz84N2FhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRWFzZXMgdGhlIHZhbHVlIGluIHdpdGggYSBTaW5lIGN1cnZlLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluU2luZSh0KSB7XG4gICAgcmV0dXJuIHQgPT09IDAgfHwgdCA9PT0gMSA/IHQgOiAxIC0gTWF0aC5jb3ModCAqIChNYXRoLlBJIC8gMikpO1xufVxuLyoqXG4gKiBFYXNlcyB0aGUgdmFsdWUgb3V0IHdpdGggYSBTaW5lIGN1cnZlLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFzZU91dFNpbmUodCkge1xuICAgIHJldHVybiB0ID09PSAwIHx8IHQgPT09IDEgPyB0IDogTWF0aC5zaW4odCAqIChNYXRoLlBJIC8gMikpO1xufVxuLyoqXG4gKiBFYXNlcyB0aGUgdmFsdWUgaW4gYW5kIG91dCB3aXRoIGEgU2luZSBjdXJ2ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbk91dFNpbmUodCkge1xuICAgIHJldHVybiB0ID09PSAwIHx8IHQgPT09IDEgPyB0IDogLTAuNSAqIChNYXRoLmNvcyhNYXRoLlBJICogdCkgLSAxKTtcbn1cbi8qKlxuICogRWFzZXMgdGhlIHZhbHVlIGluIHdpdGggYSBxdWFkcmF0aWMgY3VydmUuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5RdWFkKHQpIHtcbiAgICByZXR1cm4gdCA9PT0gMCB8fCB0ID09PSAxID8gdCA6IHQgKiB0O1xufVxuLyoqXG4gKiBFYXNlcyB0aGUgdmFsdWUgb3V0IHdpdGggYSBxdWFkcmF0aWMgY3VydmUuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0UXVhZCh0KSB7XG4gICAgcmV0dXJuIHQgPT09IDAgfHwgdCA9PT0gMSA/IHQgOiB0ICogKDIgLSB0KTtcbn1cbi8qKlxuICogRWFzZXMgdGhlIHZhbHVlIGluIHdpdGggYSBjdWJpYyBjdXJ2ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5DdWJpYyh0KSB7XG4gICAgcmV0dXJuIHQgPT09IDAgfHwgdCA9PT0gMSA/IHQgOiB0ICogdCAqIHQ7XG59XG4vKipcbiAqIEVhc2VzIHRoZSB2YWx1ZSBpbiBhbmQgb3V0IHdpdGggYSBxdWFkcmF0aWMgY3VydmUuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5PdXRRdWFkKHQpIHtcbiAgICBpZiAodCA9PT0gMCB8fCB0ID09PSAxKSB7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbiAgICBlbHNlIGlmICh0IDwgMC41KSB7XG4gICAgICAgIHJldHVybiAyICogdCAqIHQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gLTEgKyAoNCAtIDIgKiB0KSAqIHQ7XG4gICAgfVxufVxuLyoqXG4gKiBFYXNlcyB0aGUgdmFsdWUgb3V0IHdpdGggYSBjdWJpYyBjdXJ2ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0Q3ViaWModCkge1xuICAgIHJldHVybiB0ID09PSAwIHx8IHQgPT09IDEgPyB0IDogLS10ICogdCAqIHQgKyAxO1xufVxuLyoqXG4gKiBFYXNlcyB0aGUgdmFsdWUgaW4gYW5kIG91dCB3aXRoIGEgY3ViaWMgY3VydmUuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5PdXRDdWJpYyh0KSB7XG4gICAgaWYgKHQgPT09IDAgfHwgdCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgZWxzZSBpZiAodCA8IDAuNSkge1xuICAgICAgICByZXR1cm4gNCAqIHQgKiB0ICogdDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAodCAtIDEpICogKDIgKiB0IC0gMikgKiAoMiAqIHQgLSAyKSArIDE7XG4gICAgfVxufVxuLyoqXG4gKiBFYXNlcyB0aGUgdmFsdWUgaW4gd2l0aCBhIHF1YXJ0aWMgY3VydmUuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluUXVhcnQodCkge1xuICAgIHJldHVybiB0ID09PSAwIHx8IHQgPT09IDEgPyB0IDogdCAqIHQgKiB0ICogdDtcbn1cbi8qKlxuICogRWFzZXMgdGhlIHZhbHVlIG91dCB3aXRoIGEgcXVhcnRpYyBjdXJ2ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0UXVhcnQodCkge1xuICAgIHJldHVybiB0ID09PSAwIHx8IHQgPT09IDEgPyB0IDogMSAtIC0tdCAqIHQgKiB0ICogdDtcbn1cbi8qKlxuICogRWFzZXMgdGhlIHZhbHVlIGluIGFuZCBvdXQgd2l0aCBhIHF1YXJ0aWMgY3VydmUuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluT3V0UXVhcnQodCkge1xuICAgIGlmICh0ID09PSAwIHx8IHQgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKHQgPCAwLjUpIHtcbiAgICAgICAgcmV0dXJuIDggKiB0ICogdCAqIHQgKiB0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDEgLSA4ICogLS10ICogdCAqIHQgKiB0O1xuICAgIH1cbn1cbi8qKlxuICogRWFzZXMgdGhlIHZhbHVlIGluIHdpdGggYSBxdWludGljIGN1cnZlLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJblF1aW50KHQpIHtcbiAgICByZXR1cm4gdCA9PT0gMCB8fCB0ID09PSAxID8gdCA6IHQgKiB0ICogdCAqIHQgKiB0O1xufVxuLyoqXG4gKiBFYXNlcyB0aGUgdmFsdWUgb3V0IHdpdGggYSBxdWludGljIGN1cnZlLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXRRdWludCh0KSB7XG4gICAgcmV0dXJuIHQgPT09IDAgfHwgdCA9PT0gMSA/IHQgOiAxICsgLS10ICogdCAqIHQgKiB0ICogdDtcbn1cbi8qKlxuICogRWFzZXMgdGhlIHZhbHVlIGluIGFuZCBvdXQgd2l0aCBhIHF1aW50aWMgY3VydmUuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluT3V0UXVpbnQodCkge1xuICAgIHJldHVybiB0ID09PSAwIHx8IHQgPT09IDFcbiAgICAgICAgPyB0XG4gICAgICAgIDogdCA8IDAuNVxuICAgICAgICAgICAgPyAxNiAqIHQgKiB0ICogdCAqIHQgKiB0XG4gICAgICAgICAgICA6IDEgKyAxNiAqIC0tdCAqIHQgKiB0ICogdCAqIHQ7XG59XG4vKipcbiAqIEVhc2VzIHRoZSB2YWx1ZSBpbiB3aXRoIGFuIGV4cG9uZW50aWFsIGN1cnZlLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbkV4cG8odCkge1xuICAgIHJldHVybiB0ID09PSAwIHx8IHQgPT09IDEgPyB0IDogTWF0aC5wb3coMiwgMTAgKiAodCAtIDEpKTtcbn1cbi8qKlxuICogRWFzZXMgdGhlIHZhbHVlIG91dCB3aXRoIGFuIGV4cG9uZW50aWFsIGN1cnZlLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXRFeHBvKHQpIHtcbiAgICByZXR1cm4gdCA9PT0gMCB8fCB0ID09PSAxID8gdCA6IDEgLSBNYXRoLnBvdygyLCAtMTAgKiB0KTtcbn1cbi8qKlxuICogRWFzZXMgdGhlIHZhbHVlIGluIGFuZCBvdXQgd2l0aCBhbiBleHBvbmVudGlhbCBjdXJ2ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5PdXRFeHBvKHQpIHtcbiAgICBpZiAodCA9PT0gMCB8fCB0ID09PSAxKSB7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbiAgICBlbHNlIGlmICh0IDwgMC41KSB7XG4gICAgICAgIHJldHVybiAwLjUgKiBNYXRoLnBvdygyLCAxMCAqICh0ICogMiAtIDEpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAwLjUgKiAoMiAtIE1hdGgucG93KDIsIC0xMCAqICh0ICogMiAtIDEpKSk7XG4gICAgfVxufVxuLyoqXG4gKiBFYXNlcyB0aGUgdmFsdWUgaW4gd2l0aCBhIGNpcmN1bGFyIGN1cnZlLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbkNpcmModCkge1xuICAgIHJldHVybiB0ID09PSAwIHx8IHQgPT09IDEgPyB0IDogMSAtIE1hdGguc3FydCgxIC0gdCAqIHQpO1xufVxuLyoqXG4gKiBFYXNlcyB0aGUgdmFsdWUgb3V0IHdpdGggYSBjaXJjdWxhciBjdXJ2ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0Q2lyYyh0KSB7XG4gICAgcmV0dXJuIHQgPT09IDAgfHwgdCA9PT0gMSA/IHQgOiBNYXRoLnNxcnQoMSAtICh0IC0gMSkgKiAodCAtIDEpKTtcbn1cbi8qKlxuICogRWFzZXMgdGhlIHZhbHVlIGluIGFuZCBvdXQgd2l0aCBhIGNpcmN1bGFyIGN1cnZlLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbk91dENpcmModCkge1xuICAgIGlmICh0ID09PSAwIHx8IHQgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKHQgPCAwLjUpIHtcbiAgICAgICAgcmV0dXJuIC0wLjUgKiAoTWF0aC5zcXJ0KDEgLSB0ICogdCAqIDQpIC0gMSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gMC41ICogKE1hdGguc3FydCgxIC0gNCAqICh0IC0gMSkgKiAodCAtIDEpKSArIDEpO1xuICAgIH1cbn1cbi8qKlxuICogRWFzZXMgdGhlIHZhbHVlIGluIGFmdGVyIGJvdW5kaW5nIGJhY2t3YXJkcyBhdCB0aGUgYmVnaW5uaW5nLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbkJhY2sodCkge1xuICAgIHJldHVybiB0ID09PSAwIHx8IHQgPT09IDEgPyB0IDogdCAqIHQgKiAoMi43MDE1OCAqIHQgLSAxLjcwMTU4KTtcbn1cbi8qKlxuICogRWFzZXMgdGhlIHZhbHVlIG91dCBhZnRlciBib3VuZGluZyBwYXN0IHRoZSBlbmQgcG9pbnQgYW5kIGJhY2suXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFzZU91dEJhY2sodCkge1xuICAgIHJldHVybiB0ID09PSAwIHx8IHQgPT09IDFcbiAgICAgICAgPyB0XG4gICAgICAgIDogKHQgLSAxKSAqICh0IC0gMSkgKiAoMi43MDE1OCAqICh0IC0gMSkgKyAxLjcwMTU4KSArIDE7XG59XG4vKipcbiAqIEVhc2VzIHRoZSB2YWx1ZSBpbiBhbmQgb3V0IHdpdGggYW4gaW5pdGlhbCBhbmQgZW5kaW5nIG1vdmVtZW50IGJleW9uZCB0aGVcbiAqIGZ1bGwgcmFuZ2UuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluT3V0QmFjayh0KSB7XG4gICAgaWYgKHQgPT09IDAgfHwgdCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgZWxzZSBpZiAodCA8IDAuNSkge1xuICAgICAgICByZXR1cm4gMC41ICogKHQgKiAyKSAqICh0ICogMikgKiAoMy41OTQ5MDk1ICogKHQgKiAyKSAtIDIuNTk0OTA5NSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKDAuNSAqXG4gICAgICAgICAgICAoKHQgKiAyIC0gMikgKiAodCAqIDIgLSAyKSAqICgzLjU5NDkwOTUgKiAodCAqIDIgLSAyKSArIDIuNTk0OTA5NSkgKyAyKSk7XG4gICAgfVxufVxuLyoqXG4gKiBFYXNlcyB0aGUgdmFsdWUgaW4gd2l0aCBhbiBlbGFzdGljIHNwcmluZ3kgbW90aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbkVsYXN0aWModCkge1xuICAgIGlmICh0ID09PSAwIHx8IHQgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKC0xICpcbiAgICAgICAgICAgIChNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpICpcbiAgICAgICAgICAgICAgICBNYXRoLnNpbigoKHQgLSAxLjA3NSkgKiAoMiAqIE1hdGguUEkpKSAvIDAuMykpKTtcbiAgICB9XG59XG4vKipcbiAqIEVhc2VzIHRoZSB2YWx1ZSBvdXQgd2l0aCBhbiBlbGFzdGljIHNwcmluZ3kgbW90aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXRFbGFzdGljKHQpIHtcbiAgICByZXR1cm4gdCA9PT0gMCB8fCB0ID09PSAxXG4gICAgICAgID8gdFxuICAgICAgICA6IE1hdGgucG93KDIsIC0xMCAqIHQpICogTWF0aC5zaW4oKCh0IC0gMC4wNzUpICogKDIgKiBNYXRoLlBJKSkgLyAwLjMpICsgMTtcbn1cbi8qKlxuICogRWFzZXMgdGhlIHZhbHVlIGluIGFuZCBvdXQgd2l0aCBhbiBlbGFzdGljIHNwcmluZ3kgbW90aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbk91dEVsYXN0aWModCkge1xuICAgIGlmICh0ID09PSAwIHx8IHQgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKHQgPCAwLjUpIHtcbiAgICAgICAgcmV0dXJuICgtMC41ICpcbiAgICAgICAgICAgIChNYXRoLnBvdygyLCAxMCAqICh0ICogMiAtIDEpKSAqXG4gICAgICAgICAgICAgICAgTWF0aC5zaW4oKCh0ICogMiAtIDEuMTEyNSkgKiAyICogTWF0aC5QSSkgLyAwLjQ1KSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuICgwLjUgKlxuICAgICAgICAgICAgTWF0aC5wb3coMiwgLTEwICogKHQgKiAyIC0gMSkpICpcbiAgICAgICAgICAgIE1hdGguc2luKCgodCAqIDIgLSAxLjExMjUpICogMiAqIE1hdGguUEkpIC8gMC40NSkgK1xuICAgICAgICAgICAgMSk7XG4gICAgfVxufVxuLyoqXG4gKiBFYXNlcyB0aGUgdmFsdWUgaW4gd2l0aCBhIHNpbXBsZSBwaHlzaWNzIGJvdW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0IElucHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqIEByZXR1cm4ge251bWJlcn0gT3V0cHV0IGJldHdlZW4gMCBhbmQgMS5cbiAqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5Cb3VuY2UodCkge1xuICAgIHJldHVybiB0ID09PSAwIHx8IHQgPT09IDEgPyB0IDogMSAtIGVhc2VPdXRCb3VuY2UoMSAtIHQpO1xufVxuLyoqXG4gKiBFYXNlcyB0aGUgdmFsdWUgb3V0IHdpdGggYSBzaW1wbGUgcGh5c2ljcyBib3VuY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFzZU91dEJvdW5jZSh0KSB7XG4gICAgaWYgKHQgPT09IDAgfHwgdCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgZWxzZSBpZiAodCA8IDEgLyAyLjc1KSB7XG4gICAgICAgIHJldHVybiA3LjU2MjUgKiB0ICogdDtcbiAgICB9XG4gICAgZWxzZSBpZiAodCA8IDIgLyAyLjc1KSB7XG4gICAgICAgIHJldHVybiA3LjU2MjUgKiAodCAtIDEuNSAvIDIuNzUpICogKHQgLSAxLjUgLyAyLjc1KSArIDAuNzU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHQgPCAyLjUgLyAyLjc1KSB7XG4gICAgICAgIHJldHVybiA3LjU2MjUgKiAodCAtIDIuMjUgLyAyLjc1KSAqICh0IC0gMi4yNSAvIDIuNzUpICsgMC45Mzc1O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDcuNTYyNSAqICh0IC0gMi42MjUgLyAyLjc1KSAqICh0IC0gMi42MjUgLyAyLjc1KSArIDAuOTg0Mzc1O1xuICAgIH1cbn1cbi8qKlxuICogRWFzZXMgdGhlIHZhbHVlIGluIGFuZCBvdXQgd2l0aCBzdGFydGluZyBhbmQgZW5kaW5nIGJvdW5jZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gdCBJbnB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE91dHB1dCBiZXR3ZWVuIDAgYW5kIDEuXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluT3V0Qm91bmNlKHQpIHtcbiAgICBpZiAodCA9PT0gMCB8fCB0ID09PSAxKSB7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbiAgICBlbHNlIGlmICh0IDwgMC41KSB7XG4gICAgICAgIHJldHVybiBFQVNFLmVhc2VJbkJvdW5jZSh0ICogMikgKiAwLjU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gRUFTRS5lYXNlT3V0Qm91bmNlKHQgKiAyIC0gMSkgKiAwLjUgKyAwLjU7XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSB2YWx1ZSB3aXRob3V0IGFueSBlYXNpbmcuIFRoaXMgaXMgb25seSB1c2VmdWwgaWYgYSBzY3JpcHQgaXNcbiAqIGV4cGVjdGluZyBhbiBlYXNpbmcgbWV0aG9kLCBidXQgb25lIGlzbid0IG5lZWRlZCBpbiB0aGF0IGluc3RhbmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IHQgSW5wdXQgYmV0d2VlbiAwIGFuZCAxLlxuICogQHJldHVybiB7bnVtYmVyfSBPdXRwdXQgYmV0d2VlbiAwIGFuZCAxLlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhcih0KSB7XG4gICAgcmV0dXJuIHQ7XG59XG4vKipcbiAqIEJhc2lzIGVhc2luZyBmdW5jdGlvbnMuXG4gKiBAc2VlIGh0dHBzOi8vZWFzaW5ncy5uZXQvZW4gZm9yIG5pY2UgdmlzdWFsaXphdGlvbiBvZiBlYWNoLlxuICpcbiAqL1xuZXhwb3J0IGNvbnN0IEVBU0UgPSB7XG4gICAgZWFzZUluQmFjayxcbiAgICBlYXNlSW5Cb3VuY2UsXG4gICAgZWFzZUluQ2lyYyxcbiAgICBlYXNlSW5DdWJpYyxcbiAgICBlYXNlSW5FbGFzdGljLFxuICAgIGVhc2VJbkV4cG8sXG4gICAgZWFzZUluT3V0QmFjayxcbiAgICBlYXNlSW5PdXRCb3VuY2UsXG4gICAgZWFzZUluT3V0Q3ViaWMsXG4gICAgZWFzZUluT3V0RWxhc3RpYyxcbiAgICBlYXNlSW5PdXRFeHBvLFxuICAgIGVhc2VJbk91dFF1YWQsXG4gICAgZWFzZUluT3V0UXVhcnQsXG4gICAgZWFzZUluT3V0U2luZSxcbiAgICBlYXNlSW5RdWFkLFxuICAgIGVhc2VJblF1YXJ0LFxuICAgIGVhc2VJblF1aW50LFxuICAgIGVhc2VJblNpbmUsXG4gICAgZWFzZU91dEJhY2ssXG4gICAgZWFzZU91dEJvdW5jZSxcbiAgICBlYXNlT3V0Q2lyYyxcbiAgICBlYXNlT3V0Q3ViaWMsXG4gICAgZWFzZU91dEVsYXN0aWMsXG4gICAgZWFzZU91dEV4cG8sXG4gICAgZWFzZU91dFF1YWQsXG4gICAgZWFzZU91dFF1YXJ0LFxuICAgIGVhc2VPdXRTaW5lLFxuICAgIGxpbmVhcixcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lYXNlLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/ease/ease.js\n");

/***/ }),

/***/ "./lib/ease/easer.js":
/*!***************************!*\
  !*** ./lib/ease/easer.js ***!
  \***************************/
/*! exports provided: Easer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Easer\", function() { return Easer; });\n/* harmony import */ var _time_time__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../time/time */ \"./lib/time/time.js\");\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _raf_raf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../raf/raf */ \"./lib/raf/raf.js\");\n\n\n\n\n/**\n * A very simple time based tween implementation.\n * TODO (uxder); Possibly refactor this to use raf-timer instead.\n *\n * ```ts\n * import { Raf, Easer} from '@blinkk/degu';\n *\n * // Simple example.\n * let easer = new Easer({\n *   duration: 200,\n *   delay: 100,\n *   easeFunction: EASE.linear\n * });\n * easer.onUpdate((easeValue, complete)=> {\n *   // Called on each raf cycle.\n *   // element.style.left = 100 * easeValue + 'px';\n * })\n *\n * // Start and listen to completion.\n * easer.start().then(()=> {\n *   console.log('easing is complete');\n * })\n *\n *\n * // Example where you want to handle raf updates on your own.\n * // Here we tell easer that we will be calling the easer.calculate method\n * // on raf.\n * let easer = new Easer({\n *   duration: 200,\n *   easeFunction: EASE.easeInOutExpo,\n *   disableRaf: true // Note that this option is set to true.\n * });\n * easer.onComplete(()=> {\n *   console.log('this gets called on completion');\n * })\n *\n * easer.onUpdate((easeValue, complete)=> {\n *   console.log('this gets called on each update');\n *   // Do something\n *   // element.style.left = 100 * easeValue + 'px';\n * })\n *\n * // Since we told easer to not internall update on raf, we need to\n * // call calculate and tell easer to calculate.\n * var raf = new Raf(()=> {\n *   easer.calculate();\n * });\n *\n * // As an example, we throttle our raf instance to 10 FPS so easer will\n * // only update at 10 frames per second.\n * raf.setFps(10);\n *\n * easer.start(); // Start easer\n * raf.start(); // Start raf so easer calculate is called.\n *\n * ```\n *\n *\n */\nclass Easer {\n    /**\n     * @param {easerConfig} The easing configuration\n     * @constructor\n     */\n    constructor(easerConfig) {\n        this.easerConfig = easerConfig;\n        // The current ms since Jan 1, 1970.\n        this.startTime_ = 0;\n        // The end time.\n        this.endTime_ = 0;\n        // The duration of the ease.\n        this.duration_ = easerConfig.duration || 0;\n        // The delay.\n        this.delay_ = easerConfig.delay || 0;\n        // The easing function.\n        this.easeFunction_ = easerConfig.easeFunction || _ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].linear;\n        // A flag to test whether the easer has started.\n        this.started_ = false;\n        // A single complete callback.\n        this.completeCallback_ = null;\n        // A single update callback.\n        this.updateCallback_ = null;\n        // The resolving function for the complete promise (if used).\n        this.completePromiseResolve_ = null;\n        // Internal instance of raf.\n        this.raf_ = new _raf_raf__WEBPACK_IMPORTED_MODULE_3__[\"Raf\"](() => {\n            this.calculate();\n        });\n        // Whether raf is disabled.  When this option is true, easer will\n        // no longer interally call Raf and instead expects easer.calculate()\n        // to be called on each Raf.  Disabling raf within easer might be\n        // a more advanced usercase in which an application wants to\n        // have control over easer and it's calculate timings.\n        this.rafDisabled_ = easerConfig.disableRaf || false;\n    }\n    reset(easerConfig) {\n        if (easerConfig) {\n            // The duration of the ease.\n            this.duration_ = easerConfig.duration || this.duration_;\n            // The delay.\n            this.delay_ = easerConfig.delay || this.delay_;\n            // The easing function.\n            this.easeFunction_ = easerConfig.easeFunction || this.easeFunction_;\n        }\n        // Set started to false to stop progression.\n        this.started_ = false;\n        this.startTime_ = 0;\n        this.endTime_ = 0;\n        this.raf_ && this.raf_.stop();\n    }\n    /**\n     * Returns the internal instance of raf.\n     * @return The internal instance of raf.\n     */\n    getRaf() {\n        return this.raf_;\n    }\n    /**\n     * Starts the easing.\n     * @return Returns a promise that resolved when the animation completes.\n     */\n    start() {\n        this.startTime_ = _time_time__WEBPACK_IMPORTED_MODULE_0__[\"now\"]() + this.delay_;\n        this.endTime_ = this.startTime_ + this.duration_;\n        this.started_ = true;\n        if (!this.rafDisabled_) {\n            this.raf_ && this.raf_.start();\n        }\n        return new Promise(resolve => {\n            this.completePromiseResolve_ = resolve;\n        });\n    }\n    /**\n     * Adds a complete callback.\n     */\n    onComplete(callback) {\n        this.completeCallback_ = callback;\n    }\n    /**\n     * Adds a complete callback.\n     */\n    onUpdate(callback) {\n        this.updateCallback_ = callback;\n    }\n    /**\n     * Calculates the current ease.  This method should generally be\n     * called at 60FPS by Raf.\n     */\n    calculate() {\n        if (!this.started_) {\n            return;\n        }\n        const currentTime = _time_time__WEBPACK_IMPORTED_MODULE_0__[\"now\"]();\n        // Check to see if we are more than our start time.\n        if (currentTime < this.startTime_) {\n            return;\n        }\n        // The time passed since the ease started.\n        const timePassed = currentTime - (this.startTime_ || 0);\n        const percent = timePassed / this.duration_;\n        // A value between 0 and 1 representing the current state of progression.\n        const progression = this.easeFunction_(_mathf_mathf__WEBPACK_IMPORTED_MODULE_1__[\"clamp\"](0, 1, percent));\n        let complete = false;\n        if (percent > 1) {\n            // Ensure the ease amount ends on 1.\n            this.updateCallback_ && this.updateCallback_(1, complete);\n            this.completeCallback_ && this.completeCallback_(1, complete);\n            this.completePromiseResolve_ && this.completePromiseResolve_(1, complete);\n            complete = true;\n            this.started_ = false;\n        }\n        else {\n            this.updateCallback_ && this.updateCallback_(progression, complete);\n        }\n    }\n    dispose() {\n        this.raf_ && this.raf_.stop();\n    }\n}\n//# sourceMappingURL=easer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZWFzZS9lYXNlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9lYXNlL2Vhc2VyLmpzPzZiMDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgdGltZSBmcm9tICcuLi90aW1lL3RpbWUnO1xuaW1wb3J0ICogYXMgbWF0aGYgZnJvbSAnLi4vbWF0aGYvbWF0aGYnO1xuaW1wb3J0IHsgRUFTRSB9IGZyb20gJy4vZWFzZSc7XG5pbXBvcnQgeyBSYWYgfSBmcm9tICcuLi9yYWYvcmFmJztcbi8qKlxuICogQSB2ZXJ5IHNpbXBsZSB0aW1lIGJhc2VkIHR3ZWVuIGltcGxlbWVudGF0aW9uLlxuICogVE9ETyAodXhkZXIpOyBQb3NzaWJseSByZWZhY3RvciB0aGlzIHRvIHVzZSByYWYtdGltZXIgaW5zdGVhZC5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgUmFmLCBFYXNlcn0gZnJvbSAnQGJsaW5ray9kZWd1JztcbiAqXG4gKiAvLyBTaW1wbGUgZXhhbXBsZS5cbiAqIGxldCBlYXNlciA9IG5ldyBFYXNlcih7XG4gKiAgIGR1cmF0aW9uOiAyMDAsXG4gKiAgIGRlbGF5OiAxMDAsXG4gKiAgIGVhc2VGdW5jdGlvbjogRUFTRS5saW5lYXJcbiAqIH0pO1xuICogZWFzZXIub25VcGRhdGUoKGVhc2VWYWx1ZSwgY29tcGxldGUpPT4ge1xuICogICAvLyBDYWxsZWQgb24gZWFjaCByYWYgY3ljbGUuXG4gKiAgIC8vIGVsZW1lbnQuc3R5bGUubGVmdCA9IDEwMCAqIGVhc2VWYWx1ZSArICdweCc7XG4gKiB9KVxuICpcbiAqIC8vIFN0YXJ0IGFuZCBsaXN0ZW4gdG8gY29tcGxldGlvbi5cbiAqIGVhc2VyLnN0YXJ0KCkudGhlbigoKT0+IHtcbiAqICAgY29uc29sZS5sb2coJ2Vhc2luZyBpcyBjb21wbGV0ZScpO1xuICogfSlcbiAqXG4gKlxuICogLy8gRXhhbXBsZSB3aGVyZSB5b3Ugd2FudCB0byBoYW5kbGUgcmFmIHVwZGF0ZXMgb24geW91ciBvd24uXG4gKiAvLyBIZXJlIHdlIHRlbGwgZWFzZXIgdGhhdCB3ZSB3aWxsIGJlIGNhbGxpbmcgdGhlIGVhc2VyLmNhbGN1bGF0ZSBtZXRob2RcbiAqIC8vIG9uIHJhZi5cbiAqIGxldCBlYXNlciA9IG5ldyBFYXNlcih7XG4gKiAgIGR1cmF0aW9uOiAyMDAsXG4gKiAgIGVhc2VGdW5jdGlvbjogRUFTRS5lYXNlSW5PdXRFeHBvLFxuICogICBkaXNhYmxlUmFmOiB0cnVlIC8vIE5vdGUgdGhhdCB0aGlzIG9wdGlvbiBpcyBzZXQgdG8gdHJ1ZS5cbiAqIH0pO1xuICogZWFzZXIub25Db21wbGV0ZSgoKT0+IHtcbiAqICAgY29uc29sZS5sb2coJ3RoaXMgZ2V0cyBjYWxsZWQgb24gY29tcGxldGlvbicpO1xuICogfSlcbiAqXG4gKiBlYXNlci5vblVwZGF0ZSgoZWFzZVZhbHVlLCBjb21wbGV0ZSk9PiB7XG4gKiAgIGNvbnNvbGUubG9nKCd0aGlzIGdldHMgY2FsbGVkIG9uIGVhY2ggdXBkYXRlJyk7XG4gKiAgIC8vIERvIHNvbWV0aGluZ1xuICogICAvLyBlbGVtZW50LnN0eWxlLmxlZnQgPSAxMDAgKiBlYXNlVmFsdWUgKyAncHgnO1xuICogfSlcbiAqXG4gKiAvLyBTaW5jZSB3ZSB0b2xkIGVhc2VyIHRvIG5vdCBpbnRlcm5hbGwgdXBkYXRlIG9uIHJhZiwgd2UgbmVlZCB0b1xuICogLy8gY2FsbCBjYWxjdWxhdGUgYW5kIHRlbGwgZWFzZXIgdG8gY2FsY3VsYXRlLlxuICogdmFyIHJhZiA9IG5ldyBSYWYoKCk9PiB7XG4gKiAgIGVhc2VyLmNhbGN1bGF0ZSgpO1xuICogfSk7XG4gKlxuICogLy8gQXMgYW4gZXhhbXBsZSwgd2UgdGhyb3R0bGUgb3VyIHJhZiBpbnN0YW5jZSB0byAxMCBGUFMgc28gZWFzZXIgd2lsbFxuICogLy8gb25seSB1cGRhdGUgYXQgMTAgZnJhbWVzIHBlciBzZWNvbmQuXG4gKiByYWYuc2V0RnBzKDEwKTtcbiAqXG4gKiBlYXNlci5zdGFydCgpOyAvLyBTdGFydCBlYXNlclxuICogcmFmLnN0YXJ0KCk7IC8vIFN0YXJ0IHJhZiBzbyBlYXNlciBjYWxjdWxhdGUgaXMgY2FsbGVkLlxuICpcbiAqIGBgYFxuICpcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBFYXNlciB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtlYXNlckNvbmZpZ30gVGhlIGVhc2luZyBjb25maWd1cmF0aW9uXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZWFzZXJDb25maWcpIHtcbiAgICAgICAgdGhpcy5lYXNlckNvbmZpZyA9IGVhc2VyQ29uZmlnO1xuICAgICAgICAvLyBUaGUgY3VycmVudCBtcyBzaW5jZSBKYW4gMSwgMTk3MC5cbiAgICAgICAgdGhpcy5zdGFydFRpbWVfID0gMDtcbiAgICAgICAgLy8gVGhlIGVuZCB0aW1lLlxuICAgICAgICB0aGlzLmVuZFRpbWVfID0gMDtcbiAgICAgICAgLy8gVGhlIGR1cmF0aW9uIG9mIHRoZSBlYXNlLlxuICAgICAgICB0aGlzLmR1cmF0aW9uXyA9IGVhc2VyQ29uZmlnLmR1cmF0aW9uIHx8IDA7XG4gICAgICAgIC8vIFRoZSBkZWxheS5cbiAgICAgICAgdGhpcy5kZWxheV8gPSBlYXNlckNvbmZpZy5kZWxheSB8fCAwO1xuICAgICAgICAvLyBUaGUgZWFzaW5nIGZ1bmN0aW9uLlxuICAgICAgICB0aGlzLmVhc2VGdW5jdGlvbl8gPSBlYXNlckNvbmZpZy5lYXNlRnVuY3Rpb24gfHwgRUFTRS5saW5lYXI7XG4gICAgICAgIC8vIEEgZmxhZyB0byB0ZXN0IHdoZXRoZXIgdGhlIGVhc2VyIGhhcyBzdGFydGVkLlxuICAgICAgICB0aGlzLnN0YXJ0ZWRfID0gZmFsc2U7XG4gICAgICAgIC8vIEEgc2luZ2xlIGNvbXBsZXRlIGNhbGxiYWNrLlxuICAgICAgICB0aGlzLmNvbXBsZXRlQ2FsbGJhY2tfID0gbnVsbDtcbiAgICAgICAgLy8gQSBzaW5nbGUgdXBkYXRlIGNhbGxiYWNrLlxuICAgICAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrXyA9IG51bGw7XG4gICAgICAgIC8vIFRoZSByZXNvbHZpbmcgZnVuY3Rpb24gZm9yIHRoZSBjb21wbGV0ZSBwcm9taXNlIChpZiB1c2VkKS5cbiAgICAgICAgdGhpcy5jb21wbGV0ZVByb21pc2VSZXNvbHZlXyA9IG51bGw7XG4gICAgICAgIC8vIEludGVybmFsIGluc3RhbmNlIG9mIHJhZi5cbiAgICAgICAgdGhpcy5yYWZfID0gbmV3IFJhZigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gV2hldGhlciByYWYgaXMgZGlzYWJsZWQuICBXaGVuIHRoaXMgb3B0aW9uIGlzIHRydWUsIGVhc2VyIHdpbGxcbiAgICAgICAgLy8gbm8gbG9uZ2VyIGludGVyYWxseSBjYWxsIFJhZiBhbmQgaW5zdGVhZCBleHBlY3RzIGVhc2VyLmNhbGN1bGF0ZSgpXG4gICAgICAgIC8vIHRvIGJlIGNhbGxlZCBvbiBlYWNoIFJhZi4gIERpc2FibGluZyByYWYgd2l0aGluIGVhc2VyIG1pZ2h0IGJlXG4gICAgICAgIC8vIGEgbW9yZSBhZHZhbmNlZCB1c2VyY2FzZSBpbiB3aGljaCBhbiBhcHBsaWNhdGlvbiB3YW50cyB0b1xuICAgICAgICAvLyBoYXZlIGNvbnRyb2wgb3ZlciBlYXNlciBhbmQgaXQncyBjYWxjdWxhdGUgdGltaW5ncy5cbiAgICAgICAgdGhpcy5yYWZEaXNhYmxlZF8gPSBlYXNlckNvbmZpZy5kaXNhYmxlUmFmIHx8IGZhbHNlO1xuICAgIH1cbiAgICByZXNldChlYXNlckNvbmZpZykge1xuICAgICAgICBpZiAoZWFzZXJDb25maWcpIHtcbiAgICAgICAgICAgIC8vIFRoZSBkdXJhdGlvbiBvZiB0aGUgZWFzZS5cbiAgICAgICAgICAgIHRoaXMuZHVyYXRpb25fID0gZWFzZXJDb25maWcuZHVyYXRpb24gfHwgdGhpcy5kdXJhdGlvbl87XG4gICAgICAgICAgICAvLyBUaGUgZGVsYXkuXG4gICAgICAgICAgICB0aGlzLmRlbGF5XyA9IGVhc2VyQ29uZmlnLmRlbGF5IHx8IHRoaXMuZGVsYXlfO1xuICAgICAgICAgICAgLy8gVGhlIGVhc2luZyBmdW5jdGlvbi5cbiAgICAgICAgICAgIHRoaXMuZWFzZUZ1bmN0aW9uXyA9IGVhc2VyQ29uZmlnLmVhc2VGdW5jdGlvbiB8fCB0aGlzLmVhc2VGdW5jdGlvbl87XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IHN0YXJ0ZWQgdG8gZmFsc2UgdG8gc3RvcCBwcm9ncmVzc2lvbi5cbiAgICAgICAgdGhpcy5zdGFydGVkXyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZV8gPSAwO1xuICAgICAgICB0aGlzLmVuZFRpbWVfID0gMDtcbiAgICAgICAgdGhpcy5yYWZfICYmIHRoaXMucmFmXy5zdG9wKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGludGVybmFsIGluc3RhbmNlIG9mIHJhZi5cbiAgICAgKiBAcmV0dXJuIFRoZSBpbnRlcm5hbCBpbnN0YW5jZSBvZiByYWYuXG4gICAgICovXG4gICAgZ2V0UmFmKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYWZfO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIGVhc2luZy5cbiAgICAgKiBAcmV0dXJuIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZWQgd2hlbiB0aGUgYW5pbWF0aW9uIGNvbXBsZXRlcy5cbiAgICAgKi9cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5zdGFydFRpbWVfID0gdGltZS5ub3coKSArIHRoaXMuZGVsYXlfO1xuICAgICAgICB0aGlzLmVuZFRpbWVfID0gdGhpcy5zdGFydFRpbWVfICsgdGhpcy5kdXJhdGlvbl87XG4gICAgICAgIHRoaXMuc3RhcnRlZF8gPSB0cnVlO1xuICAgICAgICBpZiAoIXRoaXMucmFmRGlzYWJsZWRfKSB7XG4gICAgICAgICAgICB0aGlzLnJhZl8gJiYgdGhpcy5yYWZfLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZVByb21pc2VSZXNvbHZlXyA9IHJlc29sdmU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY29tcGxldGUgY2FsbGJhY2suXG4gICAgICovXG4gICAgb25Db21wbGV0ZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmNvbXBsZXRlQ2FsbGJhY2tfID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBjb21wbGV0ZSBjYWxsYmFjay5cbiAgICAgKi9cbiAgICBvblVwZGF0ZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrXyA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBjdXJyZW50IGVhc2UuICBUaGlzIG1ldGhvZCBzaG91bGQgZ2VuZXJhbGx5IGJlXG4gICAgICogY2FsbGVkIGF0IDYwRlBTIGJ5IFJhZi5cbiAgICAgKi9cbiAgICBjYWxjdWxhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkXykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gdGltZS5ub3coKTtcbiAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHdlIGFyZSBtb3JlIHRoYW4gb3VyIHN0YXJ0IHRpbWUuXG4gICAgICAgIGlmIChjdXJyZW50VGltZSA8IHRoaXMuc3RhcnRUaW1lXykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSB0aW1lIHBhc3NlZCBzaW5jZSB0aGUgZWFzZSBzdGFydGVkLlxuICAgICAgICBjb25zdCB0aW1lUGFzc2VkID0gY3VycmVudFRpbWUgLSAodGhpcy5zdGFydFRpbWVfIHx8IDApO1xuICAgICAgICBjb25zdCBwZXJjZW50ID0gdGltZVBhc3NlZCAvIHRoaXMuZHVyYXRpb25fO1xuICAgICAgICAvLyBBIHZhbHVlIGJldHdlZW4gMCBhbmQgMSByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgc3RhdGUgb2YgcHJvZ3Jlc3Npb24uXG4gICAgICAgIGNvbnN0IHByb2dyZXNzaW9uID0gdGhpcy5lYXNlRnVuY3Rpb25fKG1hdGhmLmNsYW1wKDAsIDEsIHBlcmNlbnQpKTtcbiAgICAgICAgbGV0IGNvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIGlmIChwZXJjZW50ID4gMSkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIHRoZSBlYXNlIGFtb3VudCBlbmRzIG9uIDEuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrXyAmJiB0aGlzLnVwZGF0ZUNhbGxiYWNrXygxLCBjb21wbGV0ZSk7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlQ2FsbGJhY2tfICYmIHRoaXMuY29tcGxldGVDYWxsYmFja18oMSwgY29tcGxldGUpO1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZVByb21pc2VSZXNvbHZlXyAmJiB0aGlzLmNvbXBsZXRlUHJvbWlzZVJlc29sdmVfKDEsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgIGNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZF8gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tfICYmIHRoaXMudXBkYXRlQ2FsbGJhY2tfKHByb2dyZXNzaW9uLCBjb21wbGV0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5yYWZfICYmIHRoaXMucmFmXy5zdG9wKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWFzZXIuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/ease/easer.js\n");

/***/ }),

/***/ "./lib/func/defer.js":
/*!***************************!*\
  !*** ./lib/func/defer.js ***!
  \***************************/
/*! exports provided: Defer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Defer\", function() { return Defer; });\n//https://gist.github.com/uxder/b9bd3811e0508fae42c1df64155b9c8b\n/**\n * A basic deferred promise.  Allows you to resolve/reject a promise at a later\n * time.\n *\n *\n * ```ts\n *\n * let defer = new Defer();\n *\n * // Resolve the defer at a later time.\n * let hello = ()=> {\n *   defer.resolve({ message : 'you said hello'});\n *\n *   // If you need to reject.\n *   // defer.reject();\n * }\n *\n *\n * // Get the promise and handle it.\n * defer.getPromise().then((data)=> {\n *   console.log(data.message); // you said hello\n * })\n *\n * window.setTimeout(()=> {\n *   hello();\n * }, 200)\n *\n *\n *\n * ```\n *\n * @tested\n */\nclass Defer {\n    constructor() {\n        this.resolve = () => { };\n        this.reject = () => { };\n        this.complete = false;\n        this.promise = new Promise((resolve, reject) => {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.resolve = (data) => {\n                this.complete = true;\n                return resolve(data);\n            };\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.reject = (data) => {\n                this.complete = true;\n                return reject(data);\n            };\n        });\n    }\n    /**\n     * Returns the deferred promise.  If the defer was already completed for\n     * some reason, will return a promise that is immediately resolved.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getPromise() {\n        if (this.complete) {\n            return new Promise((resolve) => {\n                resolve();\n            });\n        }\n        else {\n            return this.promise;\n        }\n    }\n}\n//# sourceMappingURL=defer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZnVuYy9kZWZlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9mdW5jL2RlZmVyLmpzPzI5Y2UiXSwic291cmNlc0NvbnRlbnQiOlsiLy9odHRwczovL2dpc3QuZ2l0aHViLmNvbS91eGRlci9iOWJkMzgxMWUwNTA4ZmFlNDJjMWRmNjQxNTViOWM4YlxuLyoqXG4gKiBBIGJhc2ljIGRlZmVycmVkIHByb21pc2UuICBBbGxvd3MgeW91IHRvIHJlc29sdmUvcmVqZWN0IGEgcHJvbWlzZSBhdCBhIGxhdGVyXG4gKiB0aW1lLlxuICpcbiAqXG4gKiBgYGB0c1xuICpcbiAqIGxldCBkZWZlciA9IG5ldyBEZWZlcigpO1xuICpcbiAqIC8vIFJlc29sdmUgdGhlIGRlZmVyIGF0IGEgbGF0ZXIgdGltZS5cbiAqIGxldCBoZWxsbyA9ICgpPT4ge1xuICogICBkZWZlci5yZXNvbHZlKHsgbWVzc2FnZSA6ICd5b3Ugc2FpZCBoZWxsbyd9KTtcbiAqXG4gKiAgIC8vIElmIHlvdSBuZWVkIHRvIHJlamVjdC5cbiAqICAgLy8gZGVmZXIucmVqZWN0KCk7XG4gKiB9XG4gKlxuICpcbiAqIC8vIEdldCB0aGUgcHJvbWlzZSBhbmQgaGFuZGxlIGl0LlxuICogZGVmZXIuZ2V0UHJvbWlzZSgpLnRoZW4oKGRhdGEpPT4ge1xuICogICBjb25zb2xlLmxvZyhkYXRhLm1lc3NhZ2UpOyAvLyB5b3Ugc2FpZCBoZWxsb1xuICogfSlcbiAqXG4gKiB3aW5kb3cuc2V0VGltZW91dCgoKT0+IHtcbiAqICAgaGVsbG8oKTtcbiAqIH0sIDIwMClcbiAqXG4gKlxuICpcbiAqIGBgYFxuICpcbiAqIEB0ZXN0ZWRcbiAqL1xuZXhwb3J0IGNsYXNzIERlZmVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlID0gKCkgPT4geyB9O1xuICAgICAgICB0aGlzLnJlamVjdCA9ICgpID0+IHsgfTtcbiAgICAgICAgdGhpcy5jb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgdGhpcy5yZWplY3QgPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZGF0YSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZGVmZXJyZWQgcHJvbWlzZS4gIElmIHRoZSBkZWZlciB3YXMgYWxyZWFkeSBjb21wbGV0ZWQgZm9yXG4gICAgICogc29tZSByZWFzb24sIHdpbGwgcmV0dXJuIGEgcHJvbWlzZSB0aGF0IGlzIGltbWVkaWF0ZWx5IHJlc29sdmVkLlxuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgZ2V0UHJvbWlzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29tcGxldGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmVyLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/func/defer.js\n");

/***/ }),

/***/ "./lib/func/func.js":
/*!**************************!*\
  !*** ./lib/func/func.js ***!
  \**************************/
/*! exports provided: debounce, throttle, wait, waitUntil, repeatUntil, memoizeSimple, memoize, runOnlyOnce, runOnceOnChange, setDefault, times, func */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"debounce\", function() { return debounce; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"throttle\", function() { return throttle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"wait\", function() { return wait; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"waitUntil\", function() { return waitUntil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"repeatUntil\", function() { return repeatUntil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"memoizeSimple\", function() { return memoizeSimple; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"memoize\", function() { return memoize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"runOnlyOnce\", function() { return runOnlyOnce; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"runOnceOnChange\", function() { return runOnceOnChange; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setDefault\", function() { return setDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"times\", function() { return times; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"func\", function() { return func; });\n/* harmony import */ var _time_time__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../time/time */ \"./lib/time/time.js\");\n\n/**\n *  A basic debounce implementation.  Debounce will basically wait X amount\n * of seconds to execute AFTER it's last call.\n *\n * ```ts\n *\n * const debouncer = func.debounce((windowEvent)=> {\n *   console.log(wiindowEvent);\n * }, 500);\n *\n * // Now when you resize, it will wait 500 ms until the last resize call.\n * window.addEventListener('resize', debounce);\n *\n * Or\n *\n * window.addEventListener('resize', func.debounce(()=> {\n *   console.log('throttled');\n * }, 500))\n *\n * ```\n *\n * @param callback The function to call.\n * @param wait The ms to delay.\n * @param immediate Optional, whether to immediately run (changes this to throttle)\n * @return A debounced function\n * @tested\n */\nfunction debounce(callback, wait, immediate) {\n    let timeOutId;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return function (...args) {\n        // eslint-disable-next-line\n        const ctx = this;\n        const runLater = () => {\n            timeOutId = undefined;\n            callback.apply(ctx, args);\n        };\n        const throttler = () => {\n            timeOutId = undefined;\n        };\n        // Debouncing should reset the timer if it is called again.\n        if (!immediate) {\n            clearTimeout(timeOutId);\n            timeOutId = +setTimeout(runLater, wait);\n        }\n        // For throttling where we call on leading trail (immediate).\n        if (immediate && timeOutId === undefined) {\n            callback.apply(ctx, args);\n            timeOutId = +setTimeout(throttler, wait);\n        }\n    };\n}\n/**\n * Throttles a function.  Throttle will run a function immediately when it's\n * called and wait X amount of seconds before it can be called again.\n *\n * ```ts\n *\n * const throttler = func.throttle((windowEvent)=> {\n *   console.log(wiindowEvent);\n * }, 500);\n *\n * // Now when you resize, it will immediately call the throttle function\n * // and wait 500 ms before it can be called again.\n * window.addEventListener('resize', throttler);\n *\n * Or just:\n *\n * window.addEventListener('resize', func.throttle(()=> {\n *   console.log('throttled');\n * }, 500))\n *\n * ```\n *\n * @param callback The callback function\n * @param wait The amount to wait in ms.\n * @tested\n */\nfunction throttle(callback, wait) {\n    return func.debounce(callback, wait, true);\n}\n/**\n * A simple function that resolves after a specific amoutn of time.\n * This is useful to create a delay with await.\n * ```ts\n * console.log('hohoho');\n * await func.wait(500);\n * console.log('hohoho after 500ms');\n * ```\n * @param time\n * @tested\n */\nasync function wait(time) {\n    return new Promise(resolve => setTimeout(resolve, time));\n}\n/**\n * Wait until a condition becomes truthy.   This under the hood implements\n * polling to evaluate the condition so use wisely.\n *\n * ```ts\n *\n * let someValue = 0;\n * func.waitUntil(()=> someValue === 5).then(()=> {\n *   console.log('some value is 5!!!');\n * })\n *\n * setTimeout(()=> {\n *   someValue = 5;\n * }, 1000);\n *\n * ```\n *\n *\n * @param {Function} A condition that returns a boolean.\n * @param {number} The amount of time that can elapse before rejecting the\n *     returning promise. Defaults to 0, which is evaluated as forever.\n * @param {number} The polling interval amount.\n * @tested\n */\nfunction waitUntil(condition, timeout = 0, interval = 100) {\n    const startTime = _time_time__WEBPACK_IMPORTED_MODULE_0__[\"now\"]();\n    let resolvePromise;\n    let rejectPromise;\n    const returnPromise = new Promise((resolve, reject) => {\n        resolvePromise = resolve;\n        rejectPromise = reject;\n    });\n    const evaluateCondition = () => {\n        const elapsed = _time_time__WEBPACK_IMPORTED_MODULE_0__[\"timeDiffMs\"](startTime, _time_time__WEBPACK_IMPORTED_MODULE_0__[\"now\"]());\n        // If the condition resolves.\n        if (condition()) {\n            resolvePromise();\n        }\n        else if (timeout && elapsed > timeout) {\n            rejectPromise('Wait until timed out');\n        }\n        else {\n            setTimeout(evaluateCondition, interval);\n        }\n    };\n    // Start it up.\n    evaluateCondition();\n    return returnPromise;\n}\n/**\n * Similar to waitUntil but will repeatedly perform an\n * action until a condition is met.\n * @param condition\n * @param action\n * @param timeout\n * @param interval\n *\n *\n * ```\n * let someValue = 0;\n * func.repeatUntil(\n *  ()=> {return someValue === 5},\n *  ()=> { somevalue++; }\n * ).then(()=> {\n *   console.log('some value is 5!!!');\n * })\n * ```\n */\nfunction repeatUntil(condition, \n// The action that should be performed\naction, timeout = 0, interval = 100) {\n    const startTime = _time_time__WEBPACK_IMPORTED_MODULE_0__[\"now\"]();\n    let resolvePromise;\n    let rejectPromise;\n    const returnPromise = new Promise((resolve, reject) => {\n        resolvePromise = resolve;\n        rejectPromise = reject;\n    });\n    const evaluateCondition = () => {\n        const elapsed = _time_time__WEBPACK_IMPORTED_MODULE_0__[\"timeDiffMs\"](startTime, _time_time__WEBPACK_IMPORTED_MODULE_0__[\"now\"]());\n        // If the condition resolves.\n        if (condition()) {\n            resolvePromise();\n        }\n        else if (timeout && elapsed > timeout) {\n            rejectPromise('Wait until timed out');\n        }\n        else {\n            action();\n            setTimeout(evaluateCondition, interval);\n        }\n    };\n    // Start it up.\n    evaluateCondition();\n    return returnPromise;\n}\n/**\n * Memoizes a function with just a one time memory.   This memoize\n * conserves RAM (probably :))\n *\n * If the same parameter is passed as the last execution, the results are\n * pulled from the cache.  When paramers change, the callback is reevaluated\n * for new results.\n *\n * The key difference between [[func.memoize]] is that this memoize stores\n * just the last results as opposed to a dictionary of all previous results.\n *\n * If running a lot of executions, this can save memory.\n *\n * Consider the following example.  The calculations are done only when\n * a mutation occurs in the parameters.  Otherwise, the results are\n * pull from the single cache.\n *\n * ```ts\n * let expensiveCalculation = func.memoizeSimple((a,b,c)=> {\n *   return a + b + c;\n * })\n *\n * expensiveCalculation(1, 1, 1); // 3, callback executed and results cached.\n * expensiveCalculation(1, 1, 1); // 3 from cache\n * expensiveCalculation(1, 1, 1); // 3 from cache\n * expensiveCalculation(1, 1, 1); // 3 from cache\n *\n * expensiveCalculation(2, 2, 2); // 6, callback executed and results cached.\n * expensiveCalculation(2, 2, 2); // 6 from cache\n *\n * // Now in a classic memozize the below would not be reexecuted. But since\n * // this memoize only has a simple memory, it will be reexecuted.\n * expensiveCalculation(1, 1, 1); // 3, callback executed and results cached.\n * expensiveCalculation(1, 1, 1); // 3 from cache\n *\n * ```\n * @param {Function} callback The function to wrap the memoize mechanism.\n *     It's expect that this function returns something.  Can't be void.\n * @return {Function}\n * @tested\n */\nfunction memoizeSimple(callback) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let cachedResults = null;\n    let cachedArgs = null;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return (...args) => {\n        const stringifiedArgs = JSON.stringify(args);\n        if (stringifiedArgs === cachedArgs) {\n            return cachedResults;\n        }\n        else {\n            cachedArgs = stringifiedArgs;\n            return (cachedResults = callback(...args));\n        }\n    };\n}\n/**\n * Memoizes a function.  If the params passed to the function are the same\n * as a previous call, then the cached results are returned, saving an\n * unncessary excecution.\n *\n *\n * Consider the follwing example\n * ```ts\n * let expensiveCalculation = func.memoize((a,b,c)=> {\n *   return a + b + c;\n * })\n *\n * expensiveCalculation(1, 1, 1); // 3, callback executed and results cached.\n * expensiveCalculation(1, 1, 1); // 3 from cache\n * expensiveCalculation(1, 1, 1); // 3 from cache\n *\n * expensiveCalculation(2, 2, 2); // 6, callback executed and results cached.\n * expensiveCalculation(2, 2, 2); // 6 from cache\n *\n * expensiveCalculation(1, 1, 1); // 3 from cache\n * expensiveCalculation(2, 2, 2); // 6 from cache\n * ```\n *\n * A common case for memoize might be to use it in a class method.\n * You can implement that with this pattern.\n *\n * ```ts\n * class MyClass {\n *\n *     constructor() {\n *        this.calculate = func.memoize(this.calculate.bind(this)) as any;\n *     }\n *\n *     calculate(a, b) {\n *       return a + b;\n *     }\n * }\n *\n * ```\n *\n * @param {Function} callback The function to wrap the memoize mechanism.\n *     It's expect that this function returns something.  Can't be void.\n * @return {Function}\n * @tested\n */\nfunction memoize(callback) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const cachedResults = {};\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return (...args) => {\n        const stringifiedArgs = JSON.stringify(args);\n        if (cachedResults[stringifiedArgs]) {\n            return cachedResults[stringifiedArgs];\n        }\n        const result = callback(...args);\n        cachedResults[stringifiedArgs] = result;\n        return result;\n    };\n}\n/**\n * A function that only ever runs once even if it is called multiple times.\n * ```\n * let hello = func.runOnlyOnce(()=> {\n *    console.log('hello');\n * })\n *\n * hello() // hello\n * hello() // cull\n * hello() // cull\n * * ```\n */\nfunction runOnlyOnce(callback) {\n    return runOnceOnChange(() => {\n        callback();\n    });\n}\n/**\n * Runs a function ONLY when the parameters have changed.\n *\n *\n * Running the below, you will see only four console.logs executed, each\n * when the params have changed.\n * ```ts\n *\n *   let expensiveOperation = func.runOnceOnChange(\n *       (name) => {\n *           // Do expensive stuff here.\n *           console.log(name);\n *       }\n *   );\n *\n *   expensiveOperation('Scott');  // Scott\n *   expensiveOperation('Scott');\n *   expensiveOperation('Scott');\n *   expensiveOperation('Scott');\n *   expensiveOperation('Scott');\n *   expensiveOperation('John');   // John\n *   expensiveOperation('John');\n *   expensiveOperation('Aya');    // Aya\n *   expensiveOperation('Aya');\n *   expensiveOperation('John');   // John\n *   expensiveOperation('John');\n * ```\n *\n * More in practice.  Here we want to do mutate only when the window.innerWidth\n * or windowHeight has changed.\n * ```ts\n * let updateCanvasSize = func.runOnceOnChange(\n *    (windowWidth, windowHeight)=> {\n *       // Do something expensive.\n *       console.log('Change the canvas size');\n * })\n *\n * new Raf(()=> {\n *   updateCanvasSize(window.innnerWidth, window.innerHeight);\n * });\n * ```\n *\n * You can implement this for a class method as follows\n * ```ts\n * class MyClass {\n *\n *     constructor() {\n *        this.element = document.getElementById('hello');\n *        this.render = func.runOnceOnChange(this.render.bind(this));\n *\n *        this.render(800);\n *        this.render(800); // Won't be called a second time.\n *     }\n *\n *     render(height) {\n *       this.element.style.height = height + 'px';\n *     }\n * }\n *\n * ```\n * @param {Function} callback The callback to execute.  Doesn't require\n *     the callback to return a value.\n * @tested\n */\nfunction runOnceOnChange(callback) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let cachedResults = null;\n    let cachedArgs = null;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return (...args) => {\n        const stringifiedArgs = JSON.stringify(args);\n        // Only excute if arguments are different.\n        if (stringifiedArgs !== cachedArgs) {\n            cachedArgs = stringifiedArgs;\n            // eslint-disable-next-line\n            return (cachedResults = callback(...args));\n        }\n    };\n}\n/**\n * A method that sets the default value if undefined.\n * Useful in setting explicit default values.\n *\n * ```ts\n *\n * func.setDefault(10, 20); // 10\n * func.setDefault(undefined, 20); // 20\n * func.setDefault(undefined, false); // false\n * ```\n * @tested\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction setDefault(value, defaultValue) {\n    return Object.is(value, undefined) ? defaultValue : value;\n}\n/**\n * Run the callback a specific number of times.\n *\n * ```ts\n *\n *  // Runs 5 times.\n *  func.times(5, (i) => {\n *       console.log('times', i);\n *  });\n *\n * ```\n * @param count\n * @param callback\n */\nfunction times(count, callback) {\n    [...Array(count)].forEach((x, i) => {\n        callback(i);\n    });\n}\n/**\n * A class that helps with functions.\n */\nconst func = {\n    debounce,\n    throttle,\n    wait,\n    waitUntil,\n    repeatUntil,\n    memoizeSimple,\n    memoize,\n    runOnlyOnce,\n    runOnceOnChange,\n    setDefault,\n    times,\n};\n//# sourceMappingURL=func.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZnVuYy9mdW5jLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2Z1bmMvZnVuYy5qcz9mMmRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIHRpbWUgZnJvbSAnLi4vdGltZS90aW1lJztcbi8qKlxuICogIEEgYmFzaWMgZGVib3VuY2UgaW1wbGVtZW50YXRpb24uICBEZWJvdW5jZSB3aWxsIGJhc2ljYWxseSB3YWl0IFggYW1vdW50XG4gKiBvZiBzZWNvbmRzIHRvIGV4ZWN1dGUgQUZURVIgaXQncyBsYXN0IGNhbGwuXG4gKlxuICogYGBgdHNcbiAqXG4gKiBjb25zdCBkZWJvdW5jZXIgPSBmdW5jLmRlYm91bmNlKCh3aW5kb3dFdmVudCk9PiB7XG4gKiAgIGNvbnNvbGUubG9nKHdpaW5kb3dFdmVudCk7XG4gKiB9LCA1MDApO1xuICpcbiAqIC8vIE5vdyB3aGVuIHlvdSByZXNpemUsIGl0IHdpbGwgd2FpdCA1MDAgbXMgdW50aWwgdGhlIGxhc3QgcmVzaXplIGNhbGwuXG4gKiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZGVib3VuY2UpO1xuICpcbiAqIE9yXG4gKlxuICogd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmMuZGVib3VuY2UoKCk9PiB7XG4gKiAgIGNvbnNvbGUubG9nKCd0aHJvdHRsZWQnKTtcbiAqIH0sIDUwMCkpXG4gKlxuICogYGBgXG4gKlxuICogQHBhcmFtIGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBjYWxsLlxuICogQHBhcmFtIHdhaXQgVGhlIG1zIHRvIGRlbGF5LlxuICogQHBhcmFtIGltbWVkaWF0ZSBPcHRpb25hbCwgd2hldGhlciB0byBpbW1lZGlhdGVseSBydW4gKGNoYW5nZXMgdGhpcyB0byB0aHJvdHRsZSlcbiAqIEByZXR1cm4gQSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAqIEB0ZXN0ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlKGNhbGxiYWNrLCB3YWl0LCBpbW1lZGlhdGUpIHtcbiAgICBsZXQgdGltZU91dElkO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICBjb25zdCBjdHggPSB0aGlzO1xuICAgICAgICBjb25zdCBydW5MYXRlciA9ICgpID0+IHtcbiAgICAgICAgICAgIHRpbWVPdXRJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KGN0eCwgYXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHRocm90dGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgIHRpbWVPdXRJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gRGVib3VuY2luZyBzaG91bGQgcmVzZXQgdGhlIHRpbWVyIGlmIGl0IGlzIGNhbGxlZCBhZ2Fpbi5cbiAgICAgICAgaWYgKCFpbW1lZGlhdGUpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lT3V0SWQpO1xuICAgICAgICAgICAgdGltZU91dElkID0gK3NldFRpbWVvdXQocnVuTGF0ZXIsIHdhaXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZvciB0aHJvdHRsaW5nIHdoZXJlIHdlIGNhbGwgb24gbGVhZGluZyB0cmFpbCAoaW1tZWRpYXRlKS5cbiAgICAgICAgaWYgKGltbWVkaWF0ZSAmJiB0aW1lT3V0SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkoY3R4LCBhcmdzKTtcbiAgICAgICAgICAgIHRpbWVPdXRJZCA9ICtzZXRUaW1lb3V0KHRocm90dGxlciwgd2FpdCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuLyoqXG4gKiBUaHJvdHRsZXMgYSBmdW5jdGlvbi4gIFRocm90dGxlIHdpbGwgcnVuIGEgZnVuY3Rpb24gaW1tZWRpYXRlbHkgd2hlbiBpdCdzXG4gKiBjYWxsZWQgYW5kIHdhaXQgWCBhbW91bnQgb2Ygc2Vjb25kcyBiZWZvcmUgaXQgY2FuIGJlIGNhbGxlZCBhZ2Fpbi5cbiAqXG4gKiBgYGB0c1xuICpcbiAqIGNvbnN0IHRocm90dGxlciA9IGZ1bmMudGhyb3R0bGUoKHdpbmRvd0V2ZW50KT0+IHtcbiAqICAgY29uc29sZS5sb2cod2lpbmRvd0V2ZW50KTtcbiAqIH0sIDUwMCk7XG4gKlxuICogLy8gTm93IHdoZW4geW91IHJlc2l6ZSwgaXQgd2lsbCBpbW1lZGlhdGVseSBjYWxsIHRoZSB0aHJvdHRsZSBmdW5jdGlvblxuICogLy8gYW5kIHdhaXQgNTAwIG1zIGJlZm9yZSBpdCBjYW4gYmUgY2FsbGVkIGFnYWluLlxuICogd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRocm90dGxlcik7XG4gKlxuICogT3IganVzdDpcbiAqXG4gKiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuYy50aHJvdHRsZSgoKT0+IHtcbiAqICAgY29uc29sZS5sb2coJ3Rocm90dGxlZCcpO1xuICogfSwgNTAwKSlcbiAqXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uXG4gKiBAcGFyYW0gd2FpdCBUaGUgYW1vdW50IHRvIHdhaXQgaW4gbXMuXG4gKiBAdGVzdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZShjYWxsYmFjaywgd2FpdCkge1xuICAgIHJldHVybiBmdW5jLmRlYm91bmNlKGNhbGxiYWNrLCB3YWl0LCB0cnVlKTtcbn1cbi8qKlxuICogQSBzaW1wbGUgZnVuY3Rpb24gdGhhdCByZXNvbHZlcyBhZnRlciBhIHNwZWNpZmljIGFtb3V0biBvZiB0aW1lLlxuICogVGhpcyBpcyB1c2VmdWwgdG8gY3JlYXRlIGEgZGVsYXkgd2l0aCBhd2FpdC5cbiAqIGBgYHRzXG4gKiBjb25zb2xlLmxvZygnaG9ob2hvJyk7XG4gKiBhd2FpdCBmdW5jLndhaXQoNTAwKTtcbiAqIGNvbnNvbGUubG9nKCdob2hvaG8gYWZ0ZXIgNTAwbXMnKTtcbiAqIGBgYFxuICogQHBhcmFtIHRpbWVcbiAqIEB0ZXN0ZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdhaXQodGltZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZSkpO1xufVxuLyoqXG4gKiBXYWl0IHVudGlsIGEgY29uZGl0aW9uIGJlY29tZXMgdHJ1dGh5LiAgIFRoaXMgdW5kZXIgdGhlIGhvb2QgaW1wbGVtZW50c1xuICogcG9sbGluZyB0byBldmFsdWF0ZSB0aGUgY29uZGl0aW9uIHNvIHVzZSB3aXNlbHkuXG4gKlxuICogYGBgdHNcbiAqXG4gKiBsZXQgc29tZVZhbHVlID0gMDtcbiAqIGZ1bmMud2FpdFVudGlsKCgpPT4gc29tZVZhbHVlID09PSA1KS50aGVuKCgpPT4ge1xuICogICBjb25zb2xlLmxvZygnc29tZSB2YWx1ZSBpcyA1ISEhJyk7XG4gKiB9KVxuICpcbiAqIHNldFRpbWVvdXQoKCk9PiB7XG4gKiAgIHNvbWVWYWx1ZSA9IDU7XG4gKiB9LCAxMDAwKTtcbiAqXG4gKiBgYGBcbiAqXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gQSBjb25kaXRpb24gdGhhdCByZXR1cm5zIGEgYm9vbGVhbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBUaGUgYW1vdW50IG9mIHRpbWUgdGhhdCBjYW4gZWxhcHNlIGJlZm9yZSByZWplY3RpbmcgdGhlXG4gKiAgICAgcmV0dXJuaW5nIHByb21pc2UuIERlZmF1bHRzIHRvIDAsIHdoaWNoIGlzIGV2YWx1YXRlZCBhcyBmb3JldmVyLlxuICogQHBhcmFtIHtudW1iZXJ9IFRoZSBwb2xsaW5nIGludGVydmFsIGFtb3VudC5cbiAqIEB0ZXN0ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdhaXRVbnRpbChjb25kaXRpb24sIHRpbWVvdXQgPSAwLCBpbnRlcnZhbCA9IDEwMCkge1xuICAgIGNvbnN0IHN0YXJ0VGltZSA9IHRpbWUubm93KCk7XG4gICAgbGV0IHJlc29sdmVQcm9taXNlO1xuICAgIGxldCByZWplY3RQcm9taXNlO1xuICAgIGNvbnN0IHJldHVyblByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgICAgICAgcmVqZWN0UHJvbWlzZSA9IHJlamVjdDtcbiAgICB9KTtcbiAgICBjb25zdCBldmFsdWF0ZUNvbmRpdGlvbiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgZWxhcHNlZCA9IHRpbWUudGltZURpZmZNcyhzdGFydFRpbWUsIHRpbWUubm93KCkpO1xuICAgICAgICAvLyBJZiB0aGUgY29uZGl0aW9uIHJlc29sdmVzLlxuICAgICAgICBpZiAoY29uZGl0aW9uKCkpIHtcbiAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGltZW91dCAmJiBlbGFwc2VkID4gdGltZW91dCkge1xuICAgICAgICAgICAgcmVqZWN0UHJvbWlzZSgnV2FpdCB1bnRpbCB0aW1lZCBvdXQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZXZhbHVhdGVDb25kaXRpb24sIGludGVydmFsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gU3RhcnQgaXQgdXAuXG4gICAgZXZhbHVhdGVDb25kaXRpb24oKTtcbiAgICByZXR1cm4gcmV0dXJuUHJvbWlzZTtcbn1cbi8qKlxuICogU2ltaWxhciB0byB3YWl0VW50aWwgYnV0IHdpbGwgcmVwZWF0ZWRseSBwZXJmb3JtIGFuXG4gKiBhY3Rpb24gdW50aWwgYSBjb25kaXRpb24gaXMgbWV0LlxuICogQHBhcmFtIGNvbmRpdGlvblxuICogQHBhcmFtIGFjdGlvblxuICogQHBhcmFtIHRpbWVvdXRcbiAqIEBwYXJhbSBpbnRlcnZhbFxuICpcbiAqXG4gKiBgYGBcbiAqIGxldCBzb21lVmFsdWUgPSAwO1xuICogZnVuYy5yZXBlYXRVbnRpbChcbiAqICAoKT0+IHtyZXR1cm4gc29tZVZhbHVlID09PSA1fSxcbiAqICAoKT0+IHsgc29tZXZhbHVlKys7IH1cbiAqICkudGhlbigoKT0+IHtcbiAqICAgY29uc29sZS5sb2coJ3NvbWUgdmFsdWUgaXMgNSEhIScpO1xuICogfSlcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVwZWF0VW50aWwoY29uZGl0aW9uLCBcbi8vIFRoZSBhY3Rpb24gdGhhdCBzaG91bGQgYmUgcGVyZm9ybWVkXG5hY3Rpb24sIHRpbWVvdXQgPSAwLCBpbnRlcnZhbCA9IDEwMCkge1xuICAgIGNvbnN0IHN0YXJ0VGltZSA9IHRpbWUubm93KCk7XG4gICAgbGV0IHJlc29sdmVQcm9taXNlO1xuICAgIGxldCByZWplY3RQcm9taXNlO1xuICAgIGNvbnN0IHJldHVyblByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgICAgICAgcmVqZWN0UHJvbWlzZSA9IHJlamVjdDtcbiAgICB9KTtcbiAgICBjb25zdCBldmFsdWF0ZUNvbmRpdGlvbiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgZWxhcHNlZCA9IHRpbWUudGltZURpZmZNcyhzdGFydFRpbWUsIHRpbWUubm93KCkpO1xuICAgICAgICAvLyBJZiB0aGUgY29uZGl0aW9uIHJlc29sdmVzLlxuICAgICAgICBpZiAoY29uZGl0aW9uKCkpIHtcbiAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGltZW91dCAmJiBlbGFwc2VkID4gdGltZW91dCkge1xuICAgICAgICAgICAgcmVqZWN0UHJvbWlzZSgnV2FpdCB1bnRpbCB0aW1lZCBvdXQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFjdGlvbigpO1xuICAgICAgICAgICAgc2V0VGltZW91dChldmFsdWF0ZUNvbmRpdGlvbiwgaW50ZXJ2YWwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBTdGFydCBpdCB1cC5cbiAgICBldmFsdWF0ZUNvbmRpdGlvbigpO1xuICAgIHJldHVybiByZXR1cm5Qcm9taXNlO1xufVxuLyoqXG4gKiBNZW1vaXplcyBhIGZ1bmN0aW9uIHdpdGgganVzdCBhIG9uZSB0aW1lIG1lbW9yeS4gICBUaGlzIG1lbW9pemVcbiAqIGNvbnNlcnZlcyBSQU0gKHByb2JhYmx5IDopKVxuICpcbiAqIElmIHRoZSBzYW1lIHBhcmFtZXRlciBpcyBwYXNzZWQgYXMgdGhlIGxhc3QgZXhlY3V0aW9uLCB0aGUgcmVzdWx0cyBhcmVcbiAqIHB1bGxlZCBmcm9tIHRoZSBjYWNoZS4gIFdoZW4gcGFyYW1lcnMgY2hhbmdlLCB0aGUgY2FsbGJhY2sgaXMgcmVldmFsdWF0ZWRcbiAqIGZvciBuZXcgcmVzdWx0cy5cbiAqXG4gKiBUaGUga2V5IGRpZmZlcmVuY2UgYmV0d2VlbiBbW2Z1bmMubWVtb2l6ZV1dIGlzIHRoYXQgdGhpcyBtZW1vaXplIHN0b3Jlc1xuICoganVzdCB0aGUgbGFzdCByZXN1bHRzIGFzIG9wcG9zZWQgdG8gYSBkaWN0aW9uYXJ5IG9mIGFsbCBwcmV2aW91cyByZXN1bHRzLlxuICpcbiAqIElmIHJ1bm5pbmcgYSBsb3Qgb2YgZXhlY3V0aW9ucywgdGhpcyBjYW4gc2F2ZSBtZW1vcnkuXG4gKlxuICogQ29uc2lkZXIgdGhlIGZvbGxvd2luZyBleGFtcGxlLiAgVGhlIGNhbGN1bGF0aW9ucyBhcmUgZG9uZSBvbmx5IHdoZW5cbiAqIGEgbXV0YXRpb24gb2NjdXJzIGluIHRoZSBwYXJhbWV0ZXJzLiAgT3RoZXJ3aXNlLCB0aGUgcmVzdWx0cyBhcmVcbiAqIHB1bGwgZnJvbSB0aGUgc2luZ2xlIGNhY2hlLlxuICpcbiAqIGBgYHRzXG4gKiBsZXQgZXhwZW5zaXZlQ2FsY3VsYXRpb24gPSBmdW5jLm1lbW9pemVTaW1wbGUoKGEsYixjKT0+IHtcbiAqICAgcmV0dXJuIGEgKyBiICsgYztcbiAqIH0pXG4gKlxuICogZXhwZW5zaXZlQ2FsY3VsYXRpb24oMSwgMSwgMSk7IC8vIDMsIGNhbGxiYWNrIGV4ZWN1dGVkIGFuZCByZXN1bHRzIGNhY2hlZC5cbiAqIGV4cGVuc2l2ZUNhbGN1bGF0aW9uKDEsIDEsIDEpOyAvLyAzIGZyb20gY2FjaGVcbiAqIGV4cGVuc2l2ZUNhbGN1bGF0aW9uKDEsIDEsIDEpOyAvLyAzIGZyb20gY2FjaGVcbiAqIGV4cGVuc2l2ZUNhbGN1bGF0aW9uKDEsIDEsIDEpOyAvLyAzIGZyb20gY2FjaGVcbiAqXG4gKiBleHBlbnNpdmVDYWxjdWxhdGlvbigyLCAyLCAyKTsgLy8gNiwgY2FsbGJhY2sgZXhlY3V0ZWQgYW5kIHJlc3VsdHMgY2FjaGVkLlxuICogZXhwZW5zaXZlQ2FsY3VsYXRpb24oMiwgMiwgMik7IC8vIDYgZnJvbSBjYWNoZVxuICpcbiAqIC8vIE5vdyBpbiBhIGNsYXNzaWMgbWVtb3ppemUgdGhlIGJlbG93IHdvdWxkIG5vdCBiZSByZWV4ZWN1dGVkLiBCdXQgc2luY2VcbiAqIC8vIHRoaXMgbWVtb2l6ZSBvbmx5IGhhcyBhIHNpbXBsZSBtZW1vcnksIGl0IHdpbGwgYmUgcmVleGVjdXRlZC5cbiAqIGV4cGVuc2l2ZUNhbGN1bGF0aW9uKDEsIDEsIDEpOyAvLyAzLCBjYWxsYmFjayBleGVjdXRlZCBhbmQgcmVzdWx0cyBjYWNoZWQuXG4gKiBleHBlbnNpdmVDYWxjdWxhdGlvbigxLCAxLCAxKTsgLy8gMyBmcm9tIGNhY2hlXG4gKlxuICogYGBgXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gd3JhcCB0aGUgbWVtb2l6ZSBtZWNoYW5pc20uXG4gKiAgICAgSXQncyBleHBlY3QgdGhhdCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgc29tZXRoaW5nLiAgQ2FuJ3QgYmUgdm9pZC5cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICogQHRlc3RlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVtb2l6ZVNpbXBsZShjYWxsYmFjaykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgbGV0IGNhY2hlZFJlc3VsdHMgPSBudWxsO1xuICAgIGxldCBjYWNoZWRBcmdzID0gbnVsbDtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zdCBzdHJpbmdpZmllZEFyZ3MgPSBKU09OLnN0cmluZ2lmeShhcmdzKTtcbiAgICAgICAgaWYgKHN0cmluZ2lmaWVkQXJncyA9PT0gY2FjaGVkQXJncykge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFJlc3VsdHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRBcmdzID0gc3RyaW5naWZpZWRBcmdzO1xuICAgICAgICAgICAgcmV0dXJuIChjYWNoZWRSZXN1bHRzID0gY2FsbGJhY2soLi4uYXJncykpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbi8qKlxuICogTWVtb2l6ZXMgYSBmdW5jdGlvbi4gIElmIHRoZSBwYXJhbXMgcGFzc2VkIHRvIHRoZSBmdW5jdGlvbiBhcmUgdGhlIHNhbWVcbiAqIGFzIGEgcHJldmlvdXMgY2FsbCwgdGhlbiB0aGUgY2FjaGVkIHJlc3VsdHMgYXJlIHJldHVybmVkLCBzYXZpbmcgYW5cbiAqIHVubmNlc3NhcnkgZXhjZWN1dGlvbi5cbiAqXG4gKlxuICogQ29uc2lkZXIgdGhlIGZvbGx3aW5nIGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBsZXQgZXhwZW5zaXZlQ2FsY3VsYXRpb24gPSBmdW5jLm1lbW9pemUoKGEsYixjKT0+IHtcbiAqICAgcmV0dXJuIGEgKyBiICsgYztcbiAqIH0pXG4gKlxuICogZXhwZW5zaXZlQ2FsY3VsYXRpb24oMSwgMSwgMSk7IC8vIDMsIGNhbGxiYWNrIGV4ZWN1dGVkIGFuZCByZXN1bHRzIGNhY2hlZC5cbiAqIGV4cGVuc2l2ZUNhbGN1bGF0aW9uKDEsIDEsIDEpOyAvLyAzIGZyb20gY2FjaGVcbiAqIGV4cGVuc2l2ZUNhbGN1bGF0aW9uKDEsIDEsIDEpOyAvLyAzIGZyb20gY2FjaGVcbiAqXG4gKiBleHBlbnNpdmVDYWxjdWxhdGlvbigyLCAyLCAyKTsgLy8gNiwgY2FsbGJhY2sgZXhlY3V0ZWQgYW5kIHJlc3VsdHMgY2FjaGVkLlxuICogZXhwZW5zaXZlQ2FsY3VsYXRpb24oMiwgMiwgMik7IC8vIDYgZnJvbSBjYWNoZVxuICpcbiAqIGV4cGVuc2l2ZUNhbGN1bGF0aW9uKDEsIDEsIDEpOyAvLyAzIGZyb20gY2FjaGVcbiAqIGV4cGVuc2l2ZUNhbGN1bGF0aW9uKDIsIDIsIDIpOyAvLyA2IGZyb20gY2FjaGVcbiAqIGBgYFxuICpcbiAqIEEgY29tbW9uIGNhc2UgZm9yIG1lbW9pemUgbWlnaHQgYmUgdG8gdXNlIGl0IGluIGEgY2xhc3MgbWV0aG9kLlxuICogWW91IGNhbiBpbXBsZW1lbnQgdGhhdCB3aXRoIHRoaXMgcGF0dGVybi5cbiAqXG4gKiBgYGB0c1xuICogY2xhc3MgTXlDbGFzcyB7XG4gKlxuICogICAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgICAgIHRoaXMuY2FsY3VsYXRlID0gZnVuYy5tZW1vaXplKHRoaXMuY2FsY3VsYXRlLmJpbmQodGhpcykpIGFzIGFueTtcbiAqICAgICB9XG4gKlxuICogICAgIGNhbGN1bGF0ZShhLCBiKSB7XG4gKiAgICAgICByZXR1cm4gYSArIGI7XG4gKiAgICAgfVxuICogfVxuICpcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byB3cmFwIHRoZSBtZW1vaXplIG1lY2hhbmlzbS5cbiAqICAgICBJdCdzIGV4cGVjdCB0aGF0IHRoaXMgZnVuY3Rpb24gcmV0dXJucyBzb21ldGhpbmcuICBDYW4ndCBiZSB2b2lkLlxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKiBAdGVzdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZW1vaXplKGNhbGxiYWNrKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjb25zdCBjYWNoZWRSZXN1bHRzID0ge307XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3Qgc3RyaW5naWZpZWRBcmdzID0gSlNPTi5zdHJpbmdpZnkoYXJncyk7XG4gICAgICAgIGlmIChjYWNoZWRSZXN1bHRzW3N0cmluZ2lmaWVkQXJnc10pIHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRSZXN1bHRzW3N0cmluZ2lmaWVkQXJnc107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY2FsbGJhY2soLi4uYXJncyk7XG4gICAgICAgIGNhY2hlZFJlc3VsdHNbc3RyaW5naWZpZWRBcmdzXSA9IHJlc3VsdDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgb25seSBldmVyIHJ1bnMgb25jZSBldmVuIGlmIGl0IGlzIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy5cbiAqIGBgYFxuICogbGV0IGhlbGxvID0gZnVuYy5ydW5Pbmx5T25jZSgoKT0+IHtcbiAqICAgIGNvbnNvbGUubG9nKCdoZWxsbycpO1xuICogfSlcbiAqXG4gKiBoZWxsbygpIC8vIGhlbGxvXG4gKiBoZWxsbygpIC8vIGN1bGxcbiAqIGhlbGxvKCkgLy8gY3VsbFxuICogKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJ1bk9ubHlPbmNlKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHJ1bk9uY2VPbkNoYW5nZSgoKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfSk7XG59XG4vKipcbiAqIFJ1bnMgYSBmdW5jdGlvbiBPTkxZIHdoZW4gdGhlIHBhcmFtZXRlcnMgaGF2ZSBjaGFuZ2VkLlxuICpcbiAqXG4gKiBSdW5uaW5nIHRoZSBiZWxvdywgeW91IHdpbGwgc2VlIG9ubHkgZm91ciBjb25zb2xlLmxvZ3MgZXhlY3V0ZWQsIGVhY2hcbiAqIHdoZW4gdGhlIHBhcmFtcyBoYXZlIGNoYW5nZWQuXG4gKiBgYGB0c1xuICpcbiAqICAgbGV0IGV4cGVuc2l2ZU9wZXJhdGlvbiA9IGZ1bmMucnVuT25jZU9uQ2hhbmdlKFxuICogICAgICAgKG5hbWUpID0+IHtcbiAqICAgICAgICAgICAvLyBEbyBleHBlbnNpdmUgc3R1ZmYgaGVyZS5cbiAqICAgICAgICAgICBjb25zb2xlLmxvZyhuYW1lKTtcbiAqICAgICAgIH1cbiAqICAgKTtcbiAqXG4gKiAgIGV4cGVuc2l2ZU9wZXJhdGlvbignU2NvdHQnKTsgIC8vIFNjb3R0XG4gKiAgIGV4cGVuc2l2ZU9wZXJhdGlvbignU2NvdHQnKTtcbiAqICAgZXhwZW5zaXZlT3BlcmF0aW9uKCdTY290dCcpO1xuICogICBleHBlbnNpdmVPcGVyYXRpb24oJ1Njb3R0Jyk7XG4gKiAgIGV4cGVuc2l2ZU9wZXJhdGlvbignU2NvdHQnKTtcbiAqICAgZXhwZW5zaXZlT3BlcmF0aW9uKCdKb2huJyk7ICAgLy8gSm9oblxuICogICBleHBlbnNpdmVPcGVyYXRpb24oJ0pvaG4nKTtcbiAqICAgZXhwZW5zaXZlT3BlcmF0aW9uKCdBeWEnKTsgICAgLy8gQXlhXG4gKiAgIGV4cGVuc2l2ZU9wZXJhdGlvbignQXlhJyk7XG4gKiAgIGV4cGVuc2l2ZU9wZXJhdGlvbignSm9obicpOyAgIC8vIEpvaG5cbiAqICAgZXhwZW5zaXZlT3BlcmF0aW9uKCdKb2huJyk7XG4gKiBgYGBcbiAqXG4gKiBNb3JlIGluIHByYWN0aWNlLiAgSGVyZSB3ZSB3YW50IHRvIGRvIG11dGF0ZSBvbmx5IHdoZW4gdGhlIHdpbmRvdy5pbm5lcldpZHRoXG4gKiBvciB3aW5kb3dIZWlnaHQgaGFzIGNoYW5nZWQuXG4gKiBgYGB0c1xuICogbGV0IHVwZGF0ZUNhbnZhc1NpemUgPSBmdW5jLnJ1bk9uY2VPbkNoYW5nZShcbiAqICAgICh3aW5kb3dXaWR0aCwgd2luZG93SGVpZ2h0KT0+IHtcbiAqICAgICAgIC8vIERvIHNvbWV0aGluZyBleHBlbnNpdmUuXG4gKiAgICAgICBjb25zb2xlLmxvZygnQ2hhbmdlIHRoZSBjYW52YXMgc2l6ZScpO1xuICogfSlcbiAqXG4gKiBuZXcgUmFmKCgpPT4ge1xuICogICB1cGRhdGVDYW52YXNTaXplKHdpbmRvdy5pbm5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogWW91IGNhbiBpbXBsZW1lbnQgdGhpcyBmb3IgYSBjbGFzcyBtZXRob2QgYXMgZm9sbG93c1xuICogYGBgdHNcbiAqIGNsYXNzIE15Q2xhc3Mge1xuICpcbiAqICAgICBjb25zdHJ1Y3RvcigpIHtcbiAqICAgICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVsbG8nKTtcbiAqICAgICAgICB0aGlzLnJlbmRlciA9IGZ1bmMucnVuT25jZU9uQ2hhbmdlKHRoaXMucmVuZGVyLmJpbmQodGhpcykpO1xuICpcbiAqICAgICAgICB0aGlzLnJlbmRlcig4MDApO1xuICogICAgICAgIHRoaXMucmVuZGVyKDgwMCk7IC8vIFdvbid0IGJlIGNhbGxlZCBhIHNlY29uZCB0aW1lLlxuICogICAgIH1cbiAqXG4gKiAgICAgcmVuZGVyKGhlaWdodCkge1xuICogICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG4gKiAgICAgfVxuICogfVxuICpcbiAqIGBgYFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUuICBEb2Vzbid0IHJlcXVpcmVcbiAqICAgICB0aGUgY2FsbGJhY2sgdG8gcmV0dXJuIGEgdmFsdWUuXG4gKiBAdGVzdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydW5PbmNlT25DaGFuZ2UoY2FsbGJhY2spIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGxldCBjYWNoZWRSZXN1bHRzID0gbnVsbDtcbiAgICBsZXQgY2FjaGVkQXJncyA9IG51bGw7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3Qgc3RyaW5naWZpZWRBcmdzID0gSlNPTi5zdHJpbmdpZnkoYXJncyk7XG4gICAgICAgIC8vIE9ubHkgZXhjdXRlIGlmIGFyZ3VtZW50cyBhcmUgZGlmZmVyZW50LlxuICAgICAgICBpZiAoc3RyaW5naWZpZWRBcmdzICE9PSBjYWNoZWRBcmdzKSB7XG4gICAgICAgICAgICBjYWNoZWRBcmdzID0gc3RyaW5naWZpZWRBcmdzO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICByZXR1cm4gKGNhY2hlZFJlc3VsdHMgPSBjYWxsYmFjayguLi5hcmdzKSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuLyoqXG4gKiBBIG1ldGhvZCB0aGF0IHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgaWYgdW5kZWZpbmVkLlxuICogVXNlZnVsIGluIHNldHRpbmcgZXhwbGljaXQgZGVmYXVsdCB2YWx1ZXMuXG4gKlxuICogYGBgdHNcbiAqXG4gKiBmdW5jLnNldERlZmF1bHQoMTAsIDIwKTsgLy8gMTBcbiAqIGZ1bmMuc2V0RGVmYXVsdCh1bmRlZmluZWQsIDIwKTsgLy8gMjBcbiAqIGZ1bmMuc2V0RGVmYXVsdCh1bmRlZmluZWQsIGZhbHNlKTsgLy8gZmFsc2VcbiAqIGBgYFxuICogQHRlc3RlZFxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGZ1bmN0aW9uIHNldERlZmF1bHQodmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiBPYmplY3QuaXModmFsdWUsIHVuZGVmaW5lZCkgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZTtcbn1cbi8qKlxuICogUnVuIHRoZSBjYWxsYmFjayBhIHNwZWNpZmljIG51bWJlciBvZiB0aW1lcy5cbiAqXG4gKiBgYGB0c1xuICpcbiAqICAvLyBSdW5zIDUgdGltZXMuXG4gKiAgZnVuYy50aW1lcyg1LCAoaSkgPT4ge1xuICogICAgICAgY29uc29sZS5sb2coJ3RpbWVzJywgaSk7XG4gKiAgfSk7XG4gKlxuICogYGBgXG4gKiBAcGFyYW0gY291bnRcbiAqIEBwYXJhbSBjYWxsYmFja1xuICovXG5leHBvcnQgZnVuY3Rpb24gdGltZXMoY291bnQsIGNhbGxiYWNrKSB7XG4gICAgWy4uLkFycmF5KGNvdW50KV0uZm9yRWFjaCgoeCwgaSkgPT4ge1xuICAgICAgICBjYWxsYmFjayhpKTtcbiAgICB9KTtcbn1cbi8qKlxuICogQSBjbGFzcyB0aGF0IGhlbHBzIHdpdGggZnVuY3Rpb25zLlxuICovXG5leHBvcnQgY29uc3QgZnVuYyA9IHtcbiAgICBkZWJvdW5jZSxcbiAgICB0aHJvdHRsZSxcbiAgICB3YWl0LFxuICAgIHdhaXRVbnRpbCxcbiAgICByZXBlYXRVbnRpbCxcbiAgICBtZW1vaXplU2ltcGxlLFxuICAgIG1lbW9pemUsXG4gICAgcnVuT25seU9uY2UsXG4gICAgcnVuT25jZU9uQ2hhbmdlLFxuICAgIHNldERlZmF1bHQsXG4gICAgdGltZXMsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnVuYy5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/func/func.js\n");

/***/ }),

/***/ "./lib/func/noop.js":
/*!**************************!*\
  !*** ./lib/func/noop.js ***!
  \**************************/
/*! exports provided: noop */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"noop\", function() { return noop; });\n/**\n * Does nothing. Use when you need to do nothing and want to make it clear that\n * you fully understood you were doing nothing and really truly intended to do\n * nothing.\n *\n * It does nothing, but on purpose and doesn't look like a bug or error.\n * It exists solely for readability.\n */\n// eslint-disable-next-line\nfunction noop(...args) {\n    // Purposefully empty.\n}\n//# sourceMappingURL=noop.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZnVuYy9ub29wLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2Z1bmMvbm9vcC5qcz9mZjAzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRG9lcyBub3RoaW5nLiBVc2Ugd2hlbiB5b3UgbmVlZCB0byBkbyBub3RoaW5nIGFuZCB3YW50IHRvIG1ha2UgaXQgY2xlYXIgdGhhdFxuICogeW91IGZ1bGx5IHVuZGVyc3Rvb2QgeW91IHdlcmUgZG9pbmcgbm90aGluZyBhbmQgcmVhbGx5IHRydWx5IGludGVuZGVkIHRvIGRvXG4gKiBub3RoaW5nLlxuICpcbiAqIEl0IGRvZXMgbm90aGluZywgYnV0IG9uIHB1cnBvc2UgYW5kIGRvZXNuJ3QgbG9vayBsaWtlIGEgYnVnIG9yIGVycm9yLlxuICogSXQgZXhpc3RzIHNvbGVseSBmb3IgcmVhZGFiaWxpdHkuXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoLi4uYXJncykge1xuICAgIC8vIFB1cnBvc2VmdWxseSBlbXB0eS5cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vb3AuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/func/noop.js\n");

/***/ }),

/***/ "./lib/interpolate/css-var-interpolate.js":
/*!************************************************!*\
  !*** ./lib/interpolate/css-var-interpolate.js ***!
  \************************************************/
/*! exports provided: CssVarInterpolate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CssVarInterpolate\", function() { return CssVarInterpolate; });\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _multi_interpolate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./multi-interpolate */ \"./lib/interpolate/multi-interpolate.js\");\n/* harmony import */ var _dom_element_visibility__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dom/element-visibility */ \"./lib/dom/element-visibility.js\");\n/* harmony import */ var _dom_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _string_css_unit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../string/css-unit */ \"./lib/string/css-unit.js\");\n/* harmony import */ var _objectf_objectf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../objectf/objectf */ \"./lib/objectf/objectf.js\");\n\n\n\n\n\n\n/**\n * A class that allows you to multiInterpolate css variables.\n *\n * ```\n *\n * HTML\n * <div class=\"ball\"></div>\n * <input id=\"range\" type=\"range\" name=\"points\" step=\"0.01\" min=\"0\" max=\"1\" style=\"width: 500px;\">\n *\n * Sass\n *   You can apply the interpolated value as a css variable. If you specify\n *   numerical values in your from and to values, add the unit in css by\n *   multiplying it.\n *   Example of using vh:\n *      top: calc(var(--x) * 1vh)\n *   Example of using px:\n *      top: calc(var(--x) * 1px)\n *   Example of a complex variable setup:\n *   .ball\n *      transform: translateX(calc(var(--x) * 1px)) translateY(calc(var(--y) * 1px));\n *\n * ```\n *\n *\n *\n * JS\n * ```ts\n *\n *  this.ball = document.getElementById('ball');\n *  this.range = document.getElementById('range');\n *\n *  this.cssVarInterpolate = new CssVarInterpolate(\n *    this.ball,\n *    {\n *      interpolations: [\n *          {\n *            progress: [\n *              { from: 0, to: 1, start: 0, end: 500 },\n *            ],\n *            id: '--x'\n *          },\n *          {\n *            progress: [\n *               { from: 0, to: 0.2, start: 0, end: 100, easingFunction: EASE.easeOutSine },\n *               { from: 0.2, to: 0.3, start: 100, end: 300, easingFunction: EASE.easeOutSine },\n *               { from: 0.3, to: 0.5, start: 300, end: 0, easingFunction: EASE.easeOutSine },\n *               { from: 0.5, to: 1, start: 0, end: 500, easingFunction: EASE.easeInQuad },\n *            ],\n *            id: '--y'\n *          },\n *          // You can use simple unit values.  See interpolate for more.\n *          {\n *            progress: [\n *              { from: 0, to: 0.3, start: '10px', end: '30px' },\n *            ],\n *            id: '--z'\n *          },\n *\n *         // You can also use a special noInteperlate mode.\n *         // This is useful if you want to just apply non-interpolating values\n *         // at specific ranges.  It requires a default value.\n *         {\n *            progress: [\n *              { from: 0.2, to: 0.3, start: 'block', end: 'block' },\n *            ],\n *            id: '--display-settings',\n *            noInterpolation: true,\n *            noInterpolationDefault: 'none'\n *         }\n *\n *\n *        // Visibility id\n *        // It's common to associate visibility: hidden with opacity: 0\n *        // in order to boost rendering performance.\n *        // This can be done by creating a non-interpolation (see above)\n *        // but since it's a common take, it is available as a special\n *        // parameter.\n *        // Pass the visibilityId and it will create a css variable\n *        // tied to the opacity that sets the value to hidden when\n *        // the opacity value is <= 0.\n *          {\n *            progress: [\n *              { from: 0, to: 0.3, start: 0, end: 1 },\n *            ],\n *            id: '--my-opacity',\n *            visibilityId: '--my-visibility\n *          },\n *\n *\n *       // Staggers allows to create multi entries of the same property with an\n *       // offset.  For example, here 4 staggers would be created.\n *       // hero-y-0, hero-y-1, hero-y-2, hero-y-3 and the from and end points\n *       // would each be shifted by the progressOffset (0.008).\n *       // You can then use those css variables to target your elements.\n *       //\n *       // An easy way might be to add [row=\"0\"], [row=\"1\"]\n *       // your elements and add a sass mixin like the following.\n *       //\n *       //\n *       //  =effect-stagger($stagger, $offset)\n *       //   @for $i from 0 through $stagger\n *       //       [row=\"#{$i}\"]\n *       //       transform: translateY(var(--hero2-y-#{$i + $offset}))\n *       //\n *       // .my-chapter\n *       //     +effect-stagger(4,0)\n *       //\n *       // You could use this effect with https://github.com/blinkkcode/degu/blob/master/src/angular/directive-text-split.ts\n *       // or https://github.com/blinkkcode/degu/blob/master/src/dom/text-split2.ts\n *       //\n *       {\n *         progress: [{ from: 0, to: 0.3, start: '0px', end: '100px' }]\n *         id: 'hero-y',\n *         stagger: {\n *             count: 4,\n *             progressOffset: 0.008\n *         }\n *        }\n *\n *\n *\n *      ]}\n *  )\n *\n * // For perf boost\n * this.interpolator.useSubPixelRendering(false);\n *\n *  // Set the progress to the range value.\n *  this.progress = +this.range.value;\n *\n *\n *  // Note that cssVarInterpolate, will cull uncessary calls to\n *  // avoid layout updates/thrashing.  If the value of progress is the\n *  // same, won't make any uncessary calls but allow the animations\n *  // to complete.\n *  //\n *  //\n *  // Note that it is recommended to use [[RafProgress]] to manage progress\n *  // easing but here to keep the demo simple, we are using a simplified\n *  // model. See the css-var-interpolate example in /examples folder for this\n *  // same implemetnation using RafProgress.\n *  //\n *  const raf = new Raf(() => {\n *     let progress = +this.range.value;\n *\n *    // Add some ease to the progress to smooth it out.\n *    this.progress = mathf.ease(this.progress, progress, 0.25, EASE.easeInOutQuad);\n *\n *   // Reduce the precision of progress.  We dont need to report progress differences\n *   // of 0.0000001.\n *   this.progress = mathf.round(this.progress, 3);\n *\n *    this.cssVarInterpolate.update(this.progress);\n *  }).start();\n *\n *\n * ```\n *\n * Ranged Progress Interpolations\n * You can also set the progress range.  This will tell cssVarInterpolate\n * to internally generate a [[mathf.childProgress]] and scope the interpolations\n * to a scoped range instead of 0-1.\n * ```ts\n *  this.cssVarInterpolate.setProgressRange(0.2, 0.6);\n * ```\n *\n *\n * Element Visibility\n * CssVarInterpolate by default will only update css variables when the\n * root element is inview to performance reasons.\n *\n * If you want to turn this off, do the following:\n *\n * ```ts\n * this.cssVarInterpolate.renderOutview(true);\n * ```\n *\n *\n * // No write mode.\n * There are times you may just want to use the css-var-interpolate to just\n * calculate values for you.\n *\n * You can prevent css-var-interpolate from writing to the dom with:\n *\n * ```ts\n * this.cssVarInterpolate.useNoWrite(true);\n * ```\n *\n * then you can do something like this to get the values.\n *\n * ```\n * // Update\n *    this.cssVarInterpolate.update(this.progress);\n *\n * // Get the calculated values.\n *    const values = this.cssVarInterpolate.getValues();\n *\n *\n * // Now apply them or use them however you want.\n *    dom.setCssVariables(myElement, values);\n *\n * ```\n */\nclass CssVarInterpolate {\n    /**\n     * @param element The element to update the css variable to.\n     *     This can be the body element if you want a \"global\" css\n     *     variable or you can specific a more speicific element to\n     *     scope the results of your css variables.\n     * @param config\n     */\n    constructor(element, config) {\n        this.element = element;\n        this.config = config;\n        /**\n         * Set this to initially null so that when update is first called\n         * we are guanranteed that it will be processed.\n         */\n        this.mainProgress = null;\n        this.currentValues = {};\n        this.renderSubPixels = true;\n        if (config) {\n            this.multiInterpolate = new _multi_interpolate__WEBPACK_IMPORTED_MODULE_1__[\"MultiInterpolate\"](config);\n        }\n        else {\n            this.multiInterpolate = null;\n        }\n        // Add element visibility to the VectorDom.\n        this.elementVisibility = _dom_element_visibility__WEBPACK_IMPORTED_MODULE_2__[\"elementVisibility\"].inview(this.element);\n        this.runOnceAfterOutView = true;\n        this.renderOnlyWhenInview = true;\n        this.ranOutViewUpdate = false;\n        this.precision = 4;\n        this.noWrite = false;\n        this.startProgress = 0;\n        this.endProgress = 1;\n    }\n    /**\n     * Updates the internal interpolations.   Use this to update your\n     * interpolations.\n     *\n     * ```ts\n     *\n     * let ci = new CssVarInterpolate(element);\n     * ci.setInterpolations({\n     *   interpolations: [\n     *       {\n     *           progress: [\n     *               { from: 0, to: 1, start: 0, end: 500 },\n     *           ],\n     *           id: '--x'\n     *\n     *       }\n     *   ]\n     * });\n     *\n     *\n     * ```\n     *\n     * @param config\n     */\n    setInterpolations(config) {\n        if (config) {\n            this.multiInterpolate = new _multi_interpolate__WEBPACK_IMPORTED_MODULE_1__[\"MultiInterpolate\"](config);\n        }\n    }\n    /**\n     * Sets the internal precision.  Precision is used to evaluate how many\n     * decimals should be valuated on progress.  Lower precision means, 0.8888\n     * and 0.88888 would be same.    Enter the number of decimals you want to\n     * account for.  Lower precision will have slight performance benefits.\n     */\n    setPrecision(numberOfDecimals) {\n        this.precision = numberOfDecimals;\n    }\n    /**\n     * Flushes the update cache.  By default, two consecutive calls to\n     * update with the same progress values will cull the second call\n     * for performance booosts.  However, there are rare cases where\n     * you may want to update with the same progress values and force\n     * an update to the variable.  Calling flush will flush the internal\n     * cache.\n     *\n     * ```ts\n     *\n     * cssVarInterpolate.update(0.2);\n     * cssVarInterpolate.update(0.2); // Normally gets ignored\n     *\n     * cssVarInterpolate.update(0.2);\n     * cssVarInterpolate.flush(); // Flush cache\n     * cssVarInterpolate.update(0.2); // Will update.\n     * ```\n     */\n    flush() {\n        this.mainProgress = null;\n    }\n    /**\n     * Toggles subpixel rendering. When subpixel rendering is turned off,\n     * 'px' value interpolations will be turned into whole\n     * numbers.  Subpixel rendering is turned on by default but can be\n     * turned off for performance boosts.\n     */\n    useSubPixelRendering(value) {\n        this.renderSubPixels = value;\n    }\n    /**\n     * Sets css-var-interpolate to no write mode in which it will only calculate\n     * values but not write them to the dom.  This is used for cases in which\n     * you want use the class to calculate values but take control of when\n     * and where writing happens.\n     * @param value\n     */\n    useNoWrite(value) {\n        this.noWrite = value;\n    }\n    /**\n     * Allows batch update of css variables.  Recommend for improved\n     * performance.\n     */\n    // eslint-disable-next-line\n    useBatchUpdate(value) {\n        // This performance optimization is no longer needed, so setting this\n        // is a no-op.\n    }\n    /**\n     * Sets css var interpolate to render even when out of view.\n     */\n    renderOutview(value) {\n        this.renderOnlyWhenInview = !value;\n    }\n    /**\n     * Updates the progress and updates the css variable values.\n     * @param {number} progress\n     * @param {boolean} force Allows you to bypass the cache.  By default\n     *   two consecutive calls to update WITH the same progress values will\n     *   cull the second call.  Force allows you to force it to render again.\n     */\n    update(progress, force = false) {\n        if (!this.multiInterpolate) {\n            return;\n        }\n        // Only make updates when progress value was updated to avoid layout\n        // thrashing.\n        if (!force && progress === this.mainProgress) {\n            return;\n        }\n        /**\n         * Render this element only when it is inview for performance boost.\n         */\n        if (this.renderOnlyWhenInview &&\n            this.elementVisibility.state().ready &&\n            !this.elementVisibility.state().inview) {\n            // If we go out of view run interpolations atleast once so that\n            // when the element comes back into view, it correctly sits in\n            // the starting position.\n            if (this.runOnceAfterOutView && !this.ranOutViewUpdate) {\n                this.ranOutViewUpdate = true;\n                // Make a guestimation of 0 or 1 and round to 0 or 1 state.\n                // This helps fight cases in which progress might be tied to\n                // an eased scroll and user quickly scrolls out of view in which\n                // the progress is not fully resolve to the start or end state.\n                this.updateValues(progress >= 0.5 ? 1 : 0);\n            }\n            return;\n        }\n        // We are inview so run update normally.\n        this.ranOutViewUpdate = false;\n        this.updateValues(progress);\n    }\n    /**\n     * Updates and calculates interpolation values.\n     */\n    updateValues(progress) {\n        if (!this.multiInterpolate) {\n            return;\n        }\n        const roundedPrecision = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"toFixed\"](progress, this.precision);\n        // Cull if progress hasn't changed.\n        if (this.mainProgress === roundedPrecision) {\n            return;\n        }\n        // Create a child progress so that the range in which this interpolation\n        // reacts can be scoped.\n        // Use noClamp so that we can define negative progress if needed.\n        this.mainProgress = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"childProgress\"](roundedPrecision, this.startProgress, this.endProgress, true);\n        const previousValues = _objectf_objectf__WEBPACK_IMPORTED_MODULE_5__[\"jsonCopy\"](this.currentValues);\n        this.currentValues = this.multiInterpolate.calculate(this.mainProgress);\n        // Check if the previous values and current values are exactly the same\n        // in which case we can avoid an unncessary update.\n        if (_objectf_objectf__WEBPACK_IMPORTED_MODULE_5__[\"areEqual\"](previousValues, this.currentValues)) {\n            return;\n        }\n        // If we are in noWrite mode, skip.\n        if (this.noWrite) {\n            return;\n        }\n        for (const key in this.currentValues) {\n            let value = this.currentValues[key];\n            if (!this.renderSubPixels && typeof value === 'string') {\n                const cssUnitValue = _string_css_unit__WEBPACK_IMPORTED_MODULE_4__[\"cssUnit\"].parse(value);\n                if (cssUnitValue.unit === 'px') {\n                    value = (cssUnitValue.value >> 0) + 'px';\n                    this.currentValues[key] = value;\n                }\n            }\n            _dom_dom__WEBPACK_IMPORTED_MODULE_3__[\"setCssVariable\"](this.element, key, String(value));\n        }\n    }\n    /**\n     * Sets the start and end values of which interpolations begin.  This allows\n     * you to set something like, given the main progress that is updated from\n     * 0-1, I only want this to interpolate from 0.2-0.6.\n     * @param start\n     * @param end\n     */\n    setProgressRange(start, end) {\n        this.startProgress = start;\n        this.endProgress = end;\n    }\n    /**\n     * Gets the last set of calculated values.  This will return an empty\n     * object if no updates / calculations have been run.  If updates have\n     * been executed, it will return an object with each css-var property value.\n     */\n    getValues() {\n        return this.currentValues;\n    }\n}\n//# sourceMappingURL=css-var-interpolate.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvaW50ZXJwb2xhdGUvY3NzLXZhci1pbnRlcnBvbGF0ZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9pbnRlcnBvbGF0ZS9jc3MtdmFyLWludGVycG9sYXRlLmpzP2RlODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgbWF0aGYgZnJvbSAnLi4vbWF0aGYvbWF0aGYnO1xuaW1wb3J0IHsgTXVsdGlJbnRlcnBvbGF0ZSB9IGZyb20gJy4vbXVsdGktaW50ZXJwb2xhdGUnO1xuaW1wb3J0IHsgZWxlbWVudFZpc2liaWxpdHksIH0gZnJvbSAnLi4vZG9tL2VsZW1lbnQtdmlzaWJpbGl0eSc7XG5pbXBvcnQgKiBhcyBkb20gZnJvbSAnLi4vZG9tL2RvbSc7XG5pbXBvcnQgeyBjc3NVbml0IH0gZnJvbSAnLi4vc3RyaW5nL2Nzcy11bml0JztcbmltcG9ydCAqIGFzIG9iamVjdGYgZnJvbSAnLi4vb2JqZWN0Zi9vYmplY3RmJztcbi8qKlxuICogQSBjbGFzcyB0aGF0IGFsbG93cyB5b3UgdG8gbXVsdGlJbnRlcnBvbGF0ZSBjc3MgdmFyaWFibGVzLlxuICpcbiAqIGBgYFxuICpcbiAqIEhUTUxcbiAqIDxkaXYgY2xhc3M9XCJiYWxsXCI+PC9kaXY+XG4gKiA8aW5wdXQgaWQ9XCJyYW5nZVwiIHR5cGU9XCJyYW5nZVwiIG5hbWU9XCJwb2ludHNcIiBzdGVwPVwiMC4wMVwiIG1pbj1cIjBcIiBtYXg9XCIxXCIgc3R5bGU9XCJ3aWR0aDogNTAwcHg7XCI+XG4gKlxuICogU2Fzc1xuICogICBZb3UgY2FuIGFwcGx5IHRoZSBpbnRlcnBvbGF0ZWQgdmFsdWUgYXMgYSBjc3MgdmFyaWFibGUuIElmIHlvdSBzcGVjaWZ5XG4gKiAgIG51bWVyaWNhbCB2YWx1ZXMgaW4geW91ciBmcm9tIGFuZCB0byB2YWx1ZXMsIGFkZCB0aGUgdW5pdCBpbiBjc3MgYnlcbiAqICAgbXVsdGlwbHlpbmcgaXQuXG4gKiAgIEV4YW1wbGUgb2YgdXNpbmcgdmg6XG4gKiAgICAgIHRvcDogY2FsYyh2YXIoLS14KSAqIDF2aClcbiAqICAgRXhhbXBsZSBvZiB1c2luZyBweDpcbiAqICAgICAgdG9wOiBjYWxjKHZhcigtLXgpICogMXB4KVxuICogICBFeGFtcGxlIG9mIGEgY29tcGxleCB2YXJpYWJsZSBzZXR1cDpcbiAqICAgLmJhbGxcbiAqICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKGNhbGModmFyKC0teCkgKiAxcHgpKSB0cmFuc2xhdGVZKGNhbGModmFyKC0teSkgKiAxcHgpKTtcbiAqXG4gKiBgYGBcbiAqXG4gKlxuICpcbiAqIEpTXG4gKiBgYGB0c1xuICpcbiAqICB0aGlzLmJhbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmFsbCcpO1xuICogIHRoaXMucmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFuZ2UnKTtcbiAqXG4gKiAgdGhpcy5jc3NWYXJJbnRlcnBvbGF0ZSA9IG5ldyBDc3NWYXJJbnRlcnBvbGF0ZShcbiAqICAgIHRoaXMuYmFsbCxcbiAqICAgIHtcbiAqICAgICAgaW50ZXJwb2xhdGlvbnM6IFtcbiAqICAgICAgICAgIHtcbiAqICAgICAgICAgICAgcHJvZ3Jlc3M6IFtcbiAqICAgICAgICAgICAgICB7IGZyb206IDAsIHRvOiAxLCBzdGFydDogMCwgZW5kOiA1MDAgfSxcbiAqICAgICAgICAgICAgXSxcbiAqICAgICAgICAgICAgaWQ6ICctLXgnXG4gKiAgICAgICAgICB9LFxuICogICAgICAgICAge1xuICogICAgICAgICAgICBwcm9ncmVzczogW1xuICogICAgICAgICAgICAgICB7IGZyb206IDAsIHRvOiAwLjIsIHN0YXJ0OiAwLCBlbmQ6IDEwMCwgZWFzaW5nRnVuY3Rpb246IEVBU0UuZWFzZU91dFNpbmUgfSxcbiAqICAgICAgICAgICAgICAgeyBmcm9tOiAwLjIsIHRvOiAwLjMsIHN0YXJ0OiAxMDAsIGVuZDogMzAwLCBlYXNpbmdGdW5jdGlvbjogRUFTRS5lYXNlT3V0U2luZSB9LFxuICogICAgICAgICAgICAgICB7IGZyb206IDAuMywgdG86IDAuNSwgc3RhcnQ6IDMwMCwgZW5kOiAwLCBlYXNpbmdGdW5jdGlvbjogRUFTRS5lYXNlT3V0U2luZSB9LFxuICogICAgICAgICAgICAgICB7IGZyb206IDAuNSwgdG86IDEsIHN0YXJ0OiAwLCBlbmQ6IDUwMCwgZWFzaW5nRnVuY3Rpb246IEVBU0UuZWFzZUluUXVhZCB9LFxuICogICAgICAgICAgICBdLFxuICogICAgICAgICAgICBpZDogJy0teSdcbiAqICAgICAgICAgIH0sXG4gKiAgICAgICAgICAvLyBZb3UgY2FuIHVzZSBzaW1wbGUgdW5pdCB2YWx1ZXMuICBTZWUgaW50ZXJwb2xhdGUgZm9yIG1vcmUuXG4gKiAgICAgICAgICB7XG4gKiAgICAgICAgICAgIHByb2dyZXNzOiBbXG4gKiAgICAgICAgICAgICAgeyBmcm9tOiAwLCB0bzogMC4zLCBzdGFydDogJzEwcHgnLCBlbmQ6ICczMHB4JyB9LFxuICogICAgICAgICAgICBdLFxuICogICAgICAgICAgICBpZDogJy0teidcbiAqICAgICAgICAgIH0sXG4gKlxuICogICAgICAgICAvLyBZb3UgY2FuIGFsc28gdXNlIGEgc3BlY2lhbCBub0ludGVwZXJsYXRlIG1vZGUuXG4gKiAgICAgICAgIC8vIFRoaXMgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIGp1c3QgYXBwbHkgbm9uLWludGVycG9sYXRpbmcgdmFsdWVzXG4gKiAgICAgICAgIC8vIGF0IHNwZWNpZmljIHJhbmdlcy4gIEl0IHJlcXVpcmVzIGEgZGVmYXVsdCB2YWx1ZS5cbiAqICAgICAgICAge1xuICogICAgICAgICAgICBwcm9ncmVzczogW1xuICogICAgICAgICAgICAgIHsgZnJvbTogMC4yLCB0bzogMC4zLCBzdGFydDogJ2Jsb2NrJywgZW5kOiAnYmxvY2snIH0sXG4gKiAgICAgICAgICAgIF0sXG4gKiAgICAgICAgICAgIGlkOiAnLS1kaXNwbGF5LXNldHRpbmdzJyxcbiAqICAgICAgICAgICAgbm9JbnRlcnBvbGF0aW9uOiB0cnVlLFxuICogICAgICAgICAgICBub0ludGVycG9sYXRpb25EZWZhdWx0OiAnbm9uZSdcbiAqICAgICAgICAgfVxuICpcbiAqXG4gKiAgICAgICAgLy8gVmlzaWJpbGl0eSBpZFxuICogICAgICAgIC8vIEl0J3MgY29tbW9uIHRvIGFzc29jaWF0ZSB2aXNpYmlsaXR5OiBoaWRkZW4gd2l0aCBvcGFjaXR5OiAwXG4gKiAgICAgICAgLy8gaW4gb3JkZXIgdG8gYm9vc3QgcmVuZGVyaW5nIHBlcmZvcm1hbmNlLlxuICogICAgICAgIC8vIFRoaXMgY2FuIGJlIGRvbmUgYnkgY3JlYXRpbmcgYSBub24taW50ZXJwb2xhdGlvbiAoc2VlIGFib3ZlKVxuICogICAgICAgIC8vIGJ1dCBzaW5jZSBpdCdzIGEgY29tbW9uIHRha2UsIGl0IGlzIGF2YWlsYWJsZSBhcyBhIHNwZWNpYWxcbiAqICAgICAgICAvLyBwYXJhbWV0ZXIuXG4gKiAgICAgICAgLy8gUGFzcyB0aGUgdmlzaWJpbGl0eUlkIGFuZCBpdCB3aWxsIGNyZWF0ZSBhIGNzcyB2YXJpYWJsZVxuICogICAgICAgIC8vIHRpZWQgdG8gdGhlIG9wYWNpdHkgdGhhdCBzZXRzIHRoZSB2YWx1ZSB0byBoaWRkZW4gd2hlblxuICogICAgICAgIC8vIHRoZSBvcGFjaXR5IHZhbHVlIGlzIDw9IDAuXG4gKiAgICAgICAgICB7XG4gKiAgICAgICAgICAgIHByb2dyZXNzOiBbXG4gKiAgICAgICAgICAgICAgeyBmcm9tOiAwLCB0bzogMC4zLCBzdGFydDogMCwgZW5kOiAxIH0sXG4gKiAgICAgICAgICAgIF0sXG4gKiAgICAgICAgICAgIGlkOiAnLS1teS1vcGFjaXR5JyxcbiAqICAgICAgICAgICAgdmlzaWJpbGl0eUlkOiAnLS1teS12aXNpYmlsaXR5XG4gKiAgICAgICAgICB9LFxuICpcbiAqXG4gKiAgICAgICAvLyBTdGFnZ2VycyBhbGxvd3MgdG8gY3JlYXRlIG11bHRpIGVudHJpZXMgb2YgdGhlIHNhbWUgcHJvcGVydHkgd2l0aCBhblxuICogICAgICAgLy8gb2Zmc2V0LiAgRm9yIGV4YW1wbGUsIGhlcmUgNCBzdGFnZ2VycyB3b3VsZCBiZSBjcmVhdGVkLlxuICogICAgICAgLy8gaGVyby15LTAsIGhlcm8teS0xLCBoZXJvLXktMiwgaGVyby15LTMgYW5kIHRoZSBmcm9tIGFuZCBlbmQgcG9pbnRzXG4gKiAgICAgICAvLyB3b3VsZCBlYWNoIGJlIHNoaWZ0ZWQgYnkgdGhlIHByb2dyZXNzT2Zmc2V0ICgwLjAwOCkuXG4gKiAgICAgICAvLyBZb3UgY2FuIHRoZW4gdXNlIHRob3NlIGNzcyB2YXJpYWJsZXMgdG8gdGFyZ2V0IHlvdXIgZWxlbWVudHMuXG4gKiAgICAgICAvL1xuICogICAgICAgLy8gQW4gZWFzeSB3YXkgbWlnaHQgYmUgdG8gYWRkIFtyb3c9XCIwXCJdLCBbcm93PVwiMVwiXVxuICogICAgICAgLy8geW91ciBlbGVtZW50cyBhbmQgYWRkIGEgc2FzcyBtaXhpbiBsaWtlIHRoZSBmb2xsb3dpbmcuXG4gKiAgICAgICAvL1xuICogICAgICAgLy9cbiAqICAgICAgIC8vICA9ZWZmZWN0LXN0YWdnZXIoJHN0YWdnZXIsICRvZmZzZXQpXG4gKiAgICAgICAvLyAgIEBmb3IgJGkgZnJvbSAwIHRocm91Z2ggJHN0YWdnZXJcbiAqICAgICAgIC8vICAgICAgIFtyb3c9XCIjeyRpfVwiXVxuICogICAgICAgLy8gICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKHZhcigtLWhlcm8yLXktI3skaSArICRvZmZzZXR9KSlcbiAqICAgICAgIC8vXG4gKiAgICAgICAvLyAubXktY2hhcHRlclxuICogICAgICAgLy8gICAgICtlZmZlY3Qtc3RhZ2dlcig0LDApXG4gKiAgICAgICAvL1xuICogICAgICAgLy8gWW91IGNvdWxkIHVzZSB0aGlzIGVmZmVjdCB3aXRoIGh0dHBzOi8vZ2l0aHViLmNvbS9ibGlua2tjb2RlL2RlZ3UvYmxvYi9tYXN0ZXIvc3JjL2FuZ3VsYXIvZGlyZWN0aXZlLXRleHQtc3BsaXQudHNcbiAqICAgICAgIC8vIG9yIGh0dHBzOi8vZ2l0aHViLmNvbS9ibGlua2tjb2RlL2RlZ3UvYmxvYi9tYXN0ZXIvc3JjL2RvbS90ZXh0LXNwbGl0Mi50c1xuICogICAgICAgLy9cbiAqICAgICAgIHtcbiAqICAgICAgICAgcHJvZ3Jlc3M6IFt7IGZyb206IDAsIHRvOiAwLjMsIHN0YXJ0OiAnMHB4JywgZW5kOiAnMTAwcHgnIH1dXG4gKiAgICAgICAgIGlkOiAnaGVyby15JyxcbiAqICAgICAgICAgc3RhZ2dlcjoge1xuICogICAgICAgICAgICAgY291bnQ6IDQsXG4gKiAgICAgICAgICAgICBwcm9ncmVzc09mZnNldDogMC4wMDhcbiAqICAgICAgICAgfVxuICogICAgICAgIH1cbiAqXG4gKlxuICpcbiAqICAgICAgXX1cbiAqICApXG4gKlxuICogLy8gRm9yIHBlcmYgYm9vc3RcbiAqIHRoaXMuaW50ZXJwb2xhdG9yLnVzZVN1YlBpeGVsUmVuZGVyaW5nKGZhbHNlKTtcbiAqXG4gKiAgLy8gU2V0IHRoZSBwcm9ncmVzcyB0byB0aGUgcmFuZ2UgdmFsdWUuXG4gKiAgdGhpcy5wcm9ncmVzcyA9ICt0aGlzLnJhbmdlLnZhbHVlO1xuICpcbiAqXG4gKiAgLy8gTm90ZSB0aGF0IGNzc1ZhckludGVycG9sYXRlLCB3aWxsIGN1bGwgdW5jZXNzYXJ5IGNhbGxzIHRvXG4gKiAgLy8gYXZvaWQgbGF5b3V0IHVwZGF0ZXMvdGhyYXNoaW5nLiAgSWYgdGhlIHZhbHVlIG9mIHByb2dyZXNzIGlzIHRoZVxuICogIC8vIHNhbWUsIHdvbid0IG1ha2UgYW55IHVuY2Vzc2FyeSBjYWxscyBidXQgYWxsb3cgdGhlIGFuaW1hdGlvbnNcbiAqICAvLyB0byBjb21wbGV0ZS5cbiAqICAvL1xuICogIC8vXG4gKiAgLy8gTm90ZSB0aGF0IGl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSBbW1JhZlByb2dyZXNzXV0gdG8gbWFuYWdlIHByb2dyZXNzXG4gKiAgLy8gZWFzaW5nIGJ1dCBoZXJlIHRvIGtlZXAgdGhlIGRlbW8gc2ltcGxlLCB3ZSBhcmUgdXNpbmcgYSBzaW1wbGlmaWVkXG4gKiAgLy8gbW9kZWwuIFNlZSB0aGUgY3NzLXZhci1pbnRlcnBvbGF0ZSBleGFtcGxlIGluIC9leGFtcGxlcyBmb2xkZXIgZm9yIHRoaXNcbiAqICAvLyBzYW1lIGltcGxlbWV0bmF0aW9uIHVzaW5nIFJhZlByb2dyZXNzLlxuICogIC8vXG4gKiAgY29uc3QgcmFmID0gbmV3IFJhZigoKSA9PiB7XG4gKiAgICAgbGV0IHByb2dyZXNzID0gK3RoaXMucmFuZ2UudmFsdWU7XG4gKlxuICogICAgLy8gQWRkIHNvbWUgZWFzZSB0byB0aGUgcHJvZ3Jlc3MgdG8gc21vb3RoIGl0IG91dC5cbiAqICAgIHRoaXMucHJvZ3Jlc3MgPSBtYXRoZi5lYXNlKHRoaXMucHJvZ3Jlc3MsIHByb2dyZXNzLCAwLjI1LCBFQVNFLmVhc2VJbk91dFF1YWQpO1xuICpcbiAqICAgLy8gUmVkdWNlIHRoZSBwcmVjaXNpb24gb2YgcHJvZ3Jlc3MuICBXZSBkb250IG5lZWQgdG8gcmVwb3J0IHByb2dyZXNzIGRpZmZlcmVuY2VzXG4gKiAgIC8vIG9mIDAuMDAwMDAwMS5cbiAqICAgdGhpcy5wcm9ncmVzcyA9IG1hdGhmLnJvdW5kKHRoaXMucHJvZ3Jlc3MsIDMpO1xuICpcbiAqICAgIHRoaXMuY3NzVmFySW50ZXJwb2xhdGUudXBkYXRlKHRoaXMucHJvZ3Jlc3MpO1xuICogIH0pLnN0YXJ0KCk7XG4gKlxuICpcbiAqIGBgYFxuICpcbiAqIFJhbmdlZCBQcm9ncmVzcyBJbnRlcnBvbGF0aW9uc1xuICogWW91IGNhbiBhbHNvIHNldCB0aGUgcHJvZ3Jlc3MgcmFuZ2UuICBUaGlzIHdpbGwgdGVsbCBjc3NWYXJJbnRlcnBvbGF0ZVxuICogdG8gaW50ZXJuYWxseSBnZW5lcmF0ZSBhIFtbbWF0aGYuY2hpbGRQcm9ncmVzc11dIGFuZCBzY29wZSB0aGUgaW50ZXJwb2xhdGlvbnNcbiAqIHRvIGEgc2NvcGVkIHJhbmdlIGluc3RlYWQgb2YgMC0xLlxuICogYGBgdHNcbiAqICB0aGlzLmNzc1ZhckludGVycG9sYXRlLnNldFByb2dyZXNzUmFuZ2UoMC4yLCAwLjYpO1xuICogYGBgXG4gKlxuICpcbiAqIEVsZW1lbnQgVmlzaWJpbGl0eVxuICogQ3NzVmFySW50ZXJwb2xhdGUgYnkgZGVmYXVsdCB3aWxsIG9ubHkgdXBkYXRlIGNzcyB2YXJpYWJsZXMgd2hlbiB0aGVcbiAqIHJvb3QgZWxlbWVudCBpcyBpbnZpZXcgdG8gcGVyZm9ybWFuY2UgcmVhc29ucy5cbiAqXG4gKiBJZiB5b3Ugd2FudCB0byB0dXJuIHRoaXMgb2ZmLCBkbyB0aGUgZm9sbG93aW5nOlxuICpcbiAqIGBgYHRzXG4gKiB0aGlzLmNzc1ZhckludGVycG9sYXRlLnJlbmRlck91dHZpZXcodHJ1ZSk7XG4gKiBgYGBcbiAqXG4gKlxuICogLy8gTm8gd3JpdGUgbW9kZS5cbiAqIFRoZXJlIGFyZSB0aW1lcyB5b3UgbWF5IGp1c3Qgd2FudCB0byB1c2UgdGhlIGNzcy12YXItaW50ZXJwb2xhdGUgdG8ganVzdFxuICogY2FsY3VsYXRlIHZhbHVlcyBmb3IgeW91LlxuICpcbiAqIFlvdSBjYW4gcHJldmVudCBjc3MtdmFyLWludGVycG9sYXRlIGZyb20gd3JpdGluZyB0byB0aGUgZG9tIHdpdGg6XG4gKlxuICogYGBgdHNcbiAqIHRoaXMuY3NzVmFySW50ZXJwb2xhdGUudXNlTm9Xcml0ZSh0cnVlKTtcbiAqIGBgYFxuICpcbiAqIHRoZW4geW91IGNhbiBkbyBzb21ldGhpbmcgbGlrZSB0aGlzIHRvIGdldCB0aGUgdmFsdWVzLlxuICpcbiAqIGBgYFxuICogLy8gVXBkYXRlXG4gKiAgICB0aGlzLmNzc1ZhckludGVycG9sYXRlLnVwZGF0ZSh0aGlzLnByb2dyZXNzKTtcbiAqXG4gKiAvLyBHZXQgdGhlIGNhbGN1bGF0ZWQgdmFsdWVzLlxuICogICAgY29uc3QgdmFsdWVzID0gdGhpcy5jc3NWYXJJbnRlcnBvbGF0ZS5nZXRWYWx1ZXMoKTtcbiAqXG4gKlxuICogLy8gTm93IGFwcGx5IHRoZW0gb3IgdXNlIHRoZW0gaG93ZXZlciB5b3Ugd2FudC5cbiAqICAgIGRvbS5zZXRDc3NWYXJpYWJsZXMobXlFbGVtZW50LCB2YWx1ZXMpO1xuICpcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgQ3NzVmFySW50ZXJwb2xhdGUge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHVwZGF0ZSB0aGUgY3NzIHZhcmlhYmxlIHRvLlxuICAgICAqICAgICBUaGlzIGNhbiBiZSB0aGUgYm9keSBlbGVtZW50IGlmIHlvdSB3YW50IGEgXCJnbG9iYWxcIiBjc3NcbiAgICAgKiAgICAgdmFyaWFibGUgb3IgeW91IGNhbiBzcGVjaWZpYyBhIG1vcmUgc3BlaWNpZmljIGVsZW1lbnQgdG9cbiAgICAgKiAgICAgc2NvcGUgdGhlIHJlc3VsdHMgb2YgeW91ciBjc3MgdmFyaWFibGVzLlxuICAgICAqIEBwYXJhbSBjb25maWdcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBjb25maWcpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhpcyB0byBpbml0aWFsbHkgbnVsbCBzbyB0aGF0IHdoZW4gdXBkYXRlIGlzIGZpcnN0IGNhbGxlZFxuICAgICAgICAgKiB3ZSBhcmUgZ3VhbnJhbnRlZWQgdGhhdCBpdCB3aWxsIGJlIHByb2Nlc3NlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFpblByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWVzID0ge307XG4gICAgICAgIHRoaXMucmVuZGVyU3ViUGl4ZWxzID0gdHJ1ZTtcbiAgICAgICAgaWYgKGNvbmZpZykge1xuICAgICAgICAgICAgdGhpcy5tdWx0aUludGVycG9sYXRlID0gbmV3IE11bHRpSW50ZXJwb2xhdGUoY29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubXVsdGlJbnRlcnBvbGF0ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIGVsZW1lbnQgdmlzaWJpbGl0eSB0byB0aGUgVmVjdG9yRG9tLlxuICAgICAgICB0aGlzLmVsZW1lbnRWaXNpYmlsaXR5ID0gZWxlbWVudFZpc2liaWxpdHkuaW52aWV3KHRoaXMuZWxlbWVudCk7XG4gICAgICAgIHRoaXMucnVuT25jZUFmdGVyT3V0VmlldyA9IHRydWU7XG4gICAgICAgIHRoaXMucmVuZGVyT25seVdoZW5JbnZpZXcgPSB0cnVlO1xuICAgICAgICB0aGlzLnJhbk91dFZpZXdVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wcmVjaXNpb24gPSA0O1xuICAgICAgICB0aGlzLm5vV3JpdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGFydFByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy5lbmRQcm9ncmVzcyA9IDE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGludGVybmFsIGludGVycG9sYXRpb25zLiAgIFVzZSB0aGlzIHRvIHVwZGF0ZSB5b3VyXG4gICAgICogaW50ZXJwb2xhdGlvbnMuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqXG4gICAgICogbGV0IGNpID0gbmV3IENzc1ZhckludGVycG9sYXRlKGVsZW1lbnQpO1xuICAgICAqIGNpLnNldEludGVycG9sYXRpb25zKHtcbiAgICAgKiAgIGludGVycG9sYXRpb25zOiBbXG4gICAgICogICAgICAge1xuICAgICAqICAgICAgICAgICBwcm9ncmVzczogW1xuICAgICAqICAgICAgICAgICAgICAgeyBmcm9tOiAwLCB0bzogMSwgc3RhcnQ6IDAsIGVuZDogNTAwIH0sXG4gICAgICogICAgICAgICAgIF0sXG4gICAgICogICAgICAgICAgIGlkOiAnLS14J1xuICAgICAqXG4gICAgICogICAgICAgfVxuICAgICAqICAgXVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb25maWdcbiAgICAgKi9cbiAgICBzZXRJbnRlcnBvbGF0aW9ucyhjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZykge1xuICAgICAgICAgICAgdGhpcy5tdWx0aUludGVycG9sYXRlID0gbmV3IE11bHRpSW50ZXJwb2xhdGUoY29uZmlnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBpbnRlcm5hbCBwcmVjaXNpb24uICBQcmVjaXNpb24gaXMgdXNlZCB0byBldmFsdWF0ZSBob3cgbWFueVxuICAgICAqIGRlY2ltYWxzIHNob3VsZCBiZSB2YWx1YXRlZCBvbiBwcm9ncmVzcy4gIExvd2VyIHByZWNpc2lvbiBtZWFucywgMC44ODg4XG4gICAgICogYW5kIDAuODg4ODggd291bGQgYmUgc2FtZS4gICAgRW50ZXIgdGhlIG51bWJlciBvZiBkZWNpbWFscyB5b3Ugd2FudCB0b1xuICAgICAqIGFjY291bnQgZm9yLiAgTG93ZXIgcHJlY2lzaW9uIHdpbGwgaGF2ZSBzbGlnaHQgcGVyZm9ybWFuY2UgYmVuZWZpdHMuXG4gICAgICovXG4gICAgc2V0UHJlY2lzaW9uKG51bWJlck9mRGVjaW1hbHMpIHtcbiAgICAgICAgdGhpcy5wcmVjaXNpb24gPSBudW1iZXJPZkRlY2ltYWxzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGbHVzaGVzIHRoZSB1cGRhdGUgY2FjaGUuICBCeSBkZWZhdWx0LCB0d28gY29uc2VjdXRpdmUgY2FsbHMgdG9cbiAgICAgKiB1cGRhdGUgd2l0aCB0aGUgc2FtZSBwcm9ncmVzcyB2YWx1ZXMgd2lsbCBjdWxsIHRoZSBzZWNvbmQgY2FsbFxuICAgICAqIGZvciBwZXJmb3JtYW5jZSBib29vc3RzLiAgSG93ZXZlciwgdGhlcmUgYXJlIHJhcmUgY2FzZXMgd2hlcmVcbiAgICAgKiB5b3UgbWF5IHdhbnQgdG8gdXBkYXRlIHdpdGggdGhlIHNhbWUgcHJvZ3Jlc3MgdmFsdWVzIGFuZCBmb3JjZVxuICAgICAqIGFuIHVwZGF0ZSB0byB0aGUgdmFyaWFibGUuICBDYWxsaW5nIGZsdXNoIHdpbGwgZmx1c2ggdGhlIGludGVybmFsXG4gICAgICogY2FjaGUuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqXG4gICAgICogY3NzVmFySW50ZXJwb2xhdGUudXBkYXRlKDAuMik7XG4gICAgICogY3NzVmFySW50ZXJwb2xhdGUudXBkYXRlKDAuMik7IC8vIE5vcm1hbGx5IGdldHMgaWdub3JlZFxuICAgICAqXG4gICAgICogY3NzVmFySW50ZXJwb2xhdGUudXBkYXRlKDAuMik7XG4gICAgICogY3NzVmFySW50ZXJwb2xhdGUuZmx1c2goKTsgLy8gRmx1c2ggY2FjaGVcbiAgICAgKiBjc3NWYXJJbnRlcnBvbGF0ZS51cGRhdGUoMC4yKTsgLy8gV2lsbCB1cGRhdGUuXG4gICAgICogYGBgXG4gICAgICovXG4gICAgZmx1c2goKSB7XG4gICAgICAgIHRoaXMubWFpblByb2dyZXNzID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyBzdWJwaXhlbCByZW5kZXJpbmcuIFdoZW4gc3VicGl4ZWwgcmVuZGVyaW5nIGlzIHR1cm5lZCBvZmYsXG4gICAgICogJ3B4JyB2YWx1ZSBpbnRlcnBvbGF0aW9ucyB3aWxsIGJlIHR1cm5lZCBpbnRvIHdob2xlXG4gICAgICogbnVtYmVycy4gIFN1YnBpeGVsIHJlbmRlcmluZyBpcyB0dXJuZWQgb24gYnkgZGVmYXVsdCBidXQgY2FuIGJlXG4gICAgICogdHVybmVkIG9mZiBmb3IgcGVyZm9ybWFuY2UgYm9vc3RzLlxuICAgICAqL1xuICAgIHVzZVN1YlBpeGVsUmVuZGVyaW5nKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucmVuZGVyU3ViUGl4ZWxzID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgY3NzLXZhci1pbnRlcnBvbGF0ZSB0byBubyB3cml0ZSBtb2RlIGluIHdoaWNoIGl0IHdpbGwgb25seSBjYWxjdWxhdGVcbiAgICAgKiB2YWx1ZXMgYnV0IG5vdCB3cml0ZSB0aGVtIHRvIHRoZSBkb20uICBUaGlzIGlzIHVzZWQgZm9yIGNhc2VzIGluIHdoaWNoXG4gICAgICogeW91IHdhbnQgdXNlIHRoZSBjbGFzcyB0byBjYWxjdWxhdGUgdmFsdWVzIGJ1dCB0YWtlIGNvbnRyb2wgb2Ygd2hlblxuICAgICAqIGFuZCB3aGVyZSB3cml0aW5nIGhhcHBlbnMuXG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICovXG4gICAgdXNlTm9Xcml0ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLm5vV3JpdGUgPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxsb3dzIGJhdGNoIHVwZGF0ZSBvZiBjc3MgdmFyaWFibGVzLiAgUmVjb21tZW5kIGZvciBpbXByb3ZlZFxuICAgICAqIHBlcmZvcm1hbmNlLlxuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIHVzZUJhdGNoVXBkYXRlKHZhbHVlKSB7XG4gICAgICAgIC8vIFRoaXMgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIGlzIG5vIGxvbmdlciBuZWVkZWQsIHNvIHNldHRpbmcgdGhpc1xuICAgICAgICAvLyBpcyBhIG5vLW9wLlxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGNzcyB2YXIgaW50ZXJwb2xhdGUgdG8gcmVuZGVyIGV2ZW4gd2hlbiBvdXQgb2Ygdmlldy5cbiAgICAgKi9cbiAgICByZW5kZXJPdXR2aWV3KHZhbHVlKSB7XG4gICAgICAgIHRoaXMucmVuZGVyT25seVdoZW5JbnZpZXcgPSAhdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHByb2dyZXNzIGFuZCB1cGRhdGVzIHRoZSBjc3MgdmFyaWFibGUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwcm9ncmVzc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZm9yY2UgQWxsb3dzIHlvdSB0byBieXBhc3MgdGhlIGNhY2hlLiAgQnkgZGVmYXVsdFxuICAgICAqICAgdHdvIGNvbnNlY3V0aXZlIGNhbGxzIHRvIHVwZGF0ZSBXSVRIIHRoZSBzYW1lIHByb2dyZXNzIHZhbHVlcyB3aWxsXG4gICAgICogICBjdWxsIHRoZSBzZWNvbmQgY2FsbC4gIEZvcmNlIGFsbG93cyB5b3UgdG8gZm9yY2UgaXQgdG8gcmVuZGVyIGFnYWluLlxuICAgICAqL1xuICAgIHVwZGF0ZShwcm9ncmVzcywgZm9yY2UgPSBmYWxzZSkge1xuICAgICAgICBpZiAoIXRoaXMubXVsdGlJbnRlcnBvbGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9ubHkgbWFrZSB1cGRhdGVzIHdoZW4gcHJvZ3Jlc3MgdmFsdWUgd2FzIHVwZGF0ZWQgdG8gYXZvaWQgbGF5b3V0XG4gICAgICAgIC8vIHRocmFzaGluZy5cbiAgICAgICAgaWYgKCFmb3JjZSAmJiBwcm9ncmVzcyA9PT0gdGhpcy5tYWluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmVuZGVyIHRoaXMgZWxlbWVudCBvbmx5IHdoZW4gaXQgaXMgaW52aWV3IGZvciBwZXJmb3JtYW5jZSBib29zdC5cbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLnJlbmRlck9ubHlXaGVuSW52aWV3ICYmXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRWaXNpYmlsaXR5LnN0YXRlKCkucmVhZHkgJiZcbiAgICAgICAgICAgICF0aGlzLmVsZW1lbnRWaXNpYmlsaXR5LnN0YXRlKCkuaW52aWV3KSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBnbyBvdXQgb2YgdmlldyBydW4gaW50ZXJwb2xhdGlvbnMgYXRsZWFzdCBvbmNlIHNvIHRoYXRcbiAgICAgICAgICAgIC8vIHdoZW4gdGhlIGVsZW1lbnQgY29tZXMgYmFjayBpbnRvIHZpZXcsIGl0IGNvcnJlY3RseSBzaXRzIGluXG4gICAgICAgICAgICAvLyB0aGUgc3RhcnRpbmcgcG9zaXRpb24uXG4gICAgICAgICAgICBpZiAodGhpcy5ydW5PbmNlQWZ0ZXJPdXRWaWV3ICYmICF0aGlzLnJhbk91dFZpZXdVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhbk91dFZpZXdVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIE1ha2UgYSBndWVzdGltYXRpb24gb2YgMCBvciAxIGFuZCByb3VuZCB0byAwIG9yIDEgc3RhdGUuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBoZWxwcyBmaWdodCBjYXNlcyBpbiB3aGljaCBwcm9ncmVzcyBtaWdodCBiZSB0aWVkIHRvXG4gICAgICAgICAgICAgICAgLy8gYW4gZWFzZWQgc2Nyb2xsIGFuZCB1c2VyIHF1aWNrbHkgc2Nyb2xscyBvdXQgb2YgdmlldyBpbiB3aGljaFxuICAgICAgICAgICAgICAgIC8vIHRoZSBwcm9ncmVzcyBpcyBub3QgZnVsbHkgcmVzb2x2ZSB0byB0aGUgc3RhcnQgb3IgZW5kIHN0YXRlLlxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVmFsdWVzKHByb2dyZXNzID49IDAuNSA/IDEgOiAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBhcmUgaW52aWV3IHNvIHJ1biB1cGRhdGUgbm9ybWFsbHkuXG4gICAgICAgIHRoaXMucmFuT3V0Vmlld1VwZGF0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnVwZGF0ZVZhbHVlcyhwcm9ncmVzcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgYW5kIGNhbGN1bGF0ZXMgaW50ZXJwb2xhdGlvbiB2YWx1ZXMuXG4gICAgICovXG4gICAgdXBkYXRlVmFsdWVzKHByb2dyZXNzKSB7XG4gICAgICAgIGlmICghdGhpcy5tdWx0aUludGVycG9sYXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgcm91bmRlZFByZWNpc2lvbiA9IG1hdGhmLnRvRml4ZWQocHJvZ3Jlc3MsIHRoaXMucHJlY2lzaW9uKTtcbiAgICAgICAgLy8gQ3VsbCBpZiBwcm9ncmVzcyBoYXNuJ3QgY2hhbmdlZC5cbiAgICAgICAgaWYgKHRoaXMubWFpblByb2dyZXNzID09PSByb3VuZGVkUHJlY2lzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ3JlYXRlIGEgY2hpbGQgcHJvZ3Jlc3Mgc28gdGhhdCB0aGUgcmFuZ2UgaW4gd2hpY2ggdGhpcyBpbnRlcnBvbGF0aW9uXG4gICAgICAgIC8vIHJlYWN0cyBjYW4gYmUgc2NvcGVkLlxuICAgICAgICAvLyBVc2Ugbm9DbGFtcCBzbyB0aGF0IHdlIGNhbiBkZWZpbmUgbmVnYXRpdmUgcHJvZ3Jlc3MgaWYgbmVlZGVkLlxuICAgICAgICB0aGlzLm1haW5Qcm9ncmVzcyA9IG1hdGhmLmNoaWxkUHJvZ3Jlc3Mocm91bmRlZFByZWNpc2lvbiwgdGhpcy5zdGFydFByb2dyZXNzLCB0aGlzLmVuZFByb2dyZXNzLCB0cnVlKTtcbiAgICAgICAgY29uc3QgcHJldmlvdXNWYWx1ZXMgPSBvYmplY3RmLmpzb25Db3B5KHRoaXMuY3VycmVudFZhbHVlcyk7XG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlcyA9IHRoaXMubXVsdGlJbnRlcnBvbGF0ZS5jYWxjdWxhdGUodGhpcy5tYWluUHJvZ3Jlc3MpO1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgcHJldmlvdXMgdmFsdWVzIGFuZCBjdXJyZW50IHZhbHVlcyBhcmUgZXhhY3RseSB0aGUgc2FtZVxuICAgICAgICAvLyBpbiB3aGljaCBjYXNlIHdlIGNhbiBhdm9pZCBhbiB1bm5jZXNzYXJ5IHVwZGF0ZS5cbiAgICAgICAgaWYgKG9iamVjdGYuYXJlRXF1YWwocHJldmlvdXNWYWx1ZXMsIHRoaXMuY3VycmVudFZhbHVlcykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSBhcmUgaW4gbm9Xcml0ZSBtb2RlLCBza2lwLlxuICAgICAgICBpZiAodGhpcy5ub1dyaXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5jdXJyZW50VmFsdWVzKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmN1cnJlbnRWYWx1ZXNba2V5XTtcbiAgICAgICAgICAgIGlmICghdGhpcy5yZW5kZXJTdWJQaXhlbHMgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNzc1VuaXRWYWx1ZSA9IGNzc1VuaXQucGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChjc3NVbml0VmFsdWUudW5pdCA9PT0gJ3B4Jykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IChjc3NVbml0VmFsdWUudmFsdWUgPj4gMCkgKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvbS5zZXRDc3NWYXJpYWJsZSh0aGlzLmVsZW1lbnQsIGtleSwgU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhcnQgYW5kIGVuZCB2YWx1ZXMgb2Ygd2hpY2ggaW50ZXJwb2xhdGlvbnMgYmVnaW4uICBUaGlzIGFsbG93c1xuICAgICAqIHlvdSB0byBzZXQgc29tZXRoaW5nIGxpa2UsIGdpdmVuIHRoZSBtYWluIHByb2dyZXNzIHRoYXQgaXMgdXBkYXRlZCBmcm9tXG4gICAgICogMC0xLCBJIG9ubHkgd2FudCB0aGlzIHRvIGludGVycG9sYXRlIGZyb20gMC4yLTAuNi5cbiAgICAgKiBAcGFyYW0gc3RhcnRcbiAgICAgKiBAcGFyYW0gZW5kXG4gICAgICovXG4gICAgc2V0UHJvZ3Jlc3NSYW5nZShzdGFydCwgZW5kKSB7XG4gICAgICAgIHRoaXMuc3RhcnRQcm9ncmVzcyA9IHN0YXJ0O1xuICAgICAgICB0aGlzLmVuZFByb2dyZXNzID0gZW5kO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsYXN0IHNldCBvZiBjYWxjdWxhdGVkIHZhbHVlcy4gIFRoaXMgd2lsbCByZXR1cm4gYW4gZW1wdHlcbiAgICAgKiBvYmplY3QgaWYgbm8gdXBkYXRlcyAvIGNhbGN1bGF0aW9ucyBoYXZlIGJlZW4gcnVuLiAgSWYgdXBkYXRlcyBoYXZlXG4gICAgICogYmVlbiBleGVjdXRlZCwgaXQgd2lsbCByZXR1cm4gYW4gb2JqZWN0IHdpdGggZWFjaCBjc3MtdmFyIHByb3BlcnR5IHZhbHVlLlxuICAgICAqL1xuICAgIGdldFZhbHVlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFZhbHVlcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jc3MtdmFyLWludGVycG9sYXRlLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/interpolate/css-var-interpolate.js\n");

/***/ }),

/***/ "./lib/interpolate/interpolate.js":
/*!****************************************!*\
  !*** ./lib/interpolate/interpolate.js ***!
  \****************************************/
/*! exports provided: Interpolate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Interpolate\", function() { return Interpolate; });\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _is_is__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\n/* harmony import */ var _mathf_color__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../mathf/color */ \"./lib/mathf/color.js\");\n/* harmony import */ var _string_css_unit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../string/css-unit */ \"./lib/string/css-unit.js\");\n\n\n\n\n/**\n * A class that interperolate between values. Interperolate is really a\n * compositoin around mathf.ease.\n *\n * ```ts\n * import { EASE, Interpolate } from '@blinkk/degu'\n * let inter = new Interpolate({\n *   from: 0,\n *   to: 100,\n *   easeFunction: EASE.linear\n * });\n *\n * inter.calculate(0.3);  // return 30.\n *\n * inter.calculate(0.6); // return 60\n *\n * // Get the value from currentValue if needed.\n * console.log(inter.currentValue); // 60\n * ```\n *\n * This can be useful to create low level tweens.\n * Here for example, we can manually, tween the x and y positions\n * of a ball with separate easing.\n *\n * ```ts\n * import { Raf, EASE, Interpolate } from '@blinkk/degu'\n *\n * this.progress = 0;\n * let ballXInter = new Interpolate({\n *   from: 30,\n *   to: 100 ,\n *   easeFunction: EASE.easeOutSine\n * })\n * let ballYInter = new Interpolate({\n *   from: 30,\n *   to: 100 ,\n *   easeFunction: EASE.linear\n * })\n *\n * // See RafTimer for how this works.  Basically, here we are running raf for\n * // 300ms and the progress is a value between 0-1 which we used to passed to the\n * // interperolators.\n * new RafTimer((progress)=> {\n *   // Update the positions of ball.\n *   ball.x = ballXInter.calculate(this.progress);\n *   ball.y = ballYInter.calculate(this.progress);\n * }).start(300);\n *\n * See more examples in the /examples folder\n *\n * ```\n *\n *\n * Unit and Color support.\n *\n * Interpolate also uses [[cssUnit]] to interprete string values (as best as it\n * can).  You can pass basic css unit values such as '10px' or '10vw' as\n * from and to values.  Color values of rgba and hex are also supported.\n *\n *\n * It does NOT support cross unit interporalation at the moment such as\n * from: '0px', to: '10vw'.  (Here the units don't match.)\n *\n * ```ts\n * let inter = new Interpolate({\n *   from: '0px',\n *   to: '100px',\n *   easeFunction: EASE.linear\n * });\n * inter.calculate(0.3);  // return '30px'.\n *\n *\n *  inter = new Interpolate({\n *      from: 'rgba(255, 255, 255, 0)',\n *      to: 'rgba(0,0,0,1)',\n *      easeFunction: EASE.linear\n *  });\n *   inter.calculate(0.5) // 'rgba(127, 127, 127, 0.5)'\n * ```\n *\n *\n * @tested\n */\nclass Interpolate {\n    constructor(interpolateConfig) {\n        this.interpolateConfig = interpolateConfig;\n        this.currentValue = 0;\n        this.currentProgress = 0;\n        // Assume we start on preogress 0.\n        this.calculate(0);\n    }\n    /**\n     * Modify the interpolate settings.\n     * @param interpolateConfig\n     */\n    modify(interpolateConfig) {\n        return new Interpolate(interpolateConfig);\n    }\n    calculate(progress) {\n        this.currentProgress = progress;\n        // If we are just interpolating a number just calculate a straight ease.\n        if (_is_is__WEBPACK_IMPORTED_MODULE_1__[\"number\"](this.interpolateConfig.from)) {\n            this.currentValue = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"ease\"](this.interpolateConfig.from, this.interpolateConfig.to, this.currentProgress, this.interpolateConfig.easeFunction);\n        }\n        else {\n            // If we are interpolating a string.\n            // Use the from value to determine the type of cssUnit this is.\n            const from = _string_css_unit__WEBPACK_IMPORTED_MODULE_3__[\"cssUnit\"].parse(this.interpolateConfig.from);\n            const to = _string_css_unit__WEBPACK_IMPORTED_MODULE_3__[\"cssUnit\"].parse(this.interpolateConfig.to);\n            // If unit type, interpolate the values and append a unit.\n            if (from.valueType === _string_css_unit__WEBPACK_IMPORTED_MODULE_3__[\"CssUnitObjectTypes\"].number) {\n                this.currentValue = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"ease\"](from.value, to.value, this.currentProgress, this.interpolateConfig.easeFunction);\n                this.currentValue = `${this.currentValue}${from.unit}`;\n            }\n            // If it's an rgba type inteporalate it.\n            if (from.valueType === _string_css_unit__WEBPACK_IMPORTED_MODULE_3__[\"CssUnitObjectTypes\"].rgba) {\n                const interpolatedRgba = _mathf_color__WEBPACK_IMPORTED_MODULE_2__[\"rgbaEase\"](from.value, to.value, this.currentProgress, this.interpolateConfig.easeFunction);\n                this.currentValue = _mathf_color__WEBPACK_IMPORTED_MODULE_2__[\"rgbaToCss\"](interpolatedRgba);\n            }\n        }\n        return this.currentValue;\n    }\n}\n//# sourceMappingURL=interpolate.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvaW50ZXJwb2xhdGUvaW50ZXJwb2xhdGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvaW50ZXJwb2xhdGUvaW50ZXJwb2xhdGUuanM/MGVhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBtYXRoZiBmcm9tICcuLi9tYXRoZi9tYXRoZic7XG5pbXBvcnQgKiBhcyBpcyBmcm9tICcuLi9pcy9pcyc7XG5pbXBvcnQgKiBhcyBjb2xvciBmcm9tICcuLi9tYXRoZi9jb2xvcic7XG5pbXBvcnQgeyBjc3NVbml0LCBDc3NVbml0T2JqZWN0VHlwZXMgfSBmcm9tICcuLi9zdHJpbmcvY3NzLXVuaXQnO1xuLyoqXG4gKiBBIGNsYXNzIHRoYXQgaW50ZXJwZXJvbGF0ZSBiZXR3ZWVuIHZhbHVlcy4gSW50ZXJwZXJvbGF0ZSBpcyByZWFsbHkgYVxuICogY29tcG9zaXRvaW4gYXJvdW5kIG1hdGhmLmVhc2UuXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IEVBU0UsIEludGVycG9sYXRlIH0gZnJvbSAnQGJsaW5ray9kZWd1J1xuICogbGV0IGludGVyID0gbmV3IEludGVycG9sYXRlKHtcbiAqICAgZnJvbTogMCxcbiAqICAgdG86IDEwMCxcbiAqICAgZWFzZUZ1bmN0aW9uOiBFQVNFLmxpbmVhclxuICogfSk7XG4gKlxuICogaW50ZXIuY2FsY3VsYXRlKDAuMyk7ICAvLyByZXR1cm4gMzAuXG4gKlxuICogaW50ZXIuY2FsY3VsYXRlKDAuNik7IC8vIHJldHVybiA2MFxuICpcbiAqIC8vIEdldCB0aGUgdmFsdWUgZnJvbSBjdXJyZW50VmFsdWUgaWYgbmVlZGVkLlxuICogY29uc29sZS5sb2coaW50ZXIuY3VycmVudFZhbHVlKTsgLy8gNjBcbiAqIGBgYFxuICpcbiAqIFRoaXMgY2FuIGJlIHVzZWZ1bCB0byBjcmVhdGUgbG93IGxldmVsIHR3ZWVucy5cbiAqIEhlcmUgZm9yIGV4YW1wbGUsIHdlIGNhbiBtYW51YWxseSwgdHdlZW4gdGhlIHggYW5kIHkgcG9zaXRpb25zXG4gKiBvZiBhIGJhbGwgd2l0aCBzZXBhcmF0ZSBlYXNpbmcuXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IFJhZiwgRUFTRSwgSW50ZXJwb2xhdGUgfSBmcm9tICdAYmxpbmtrL2RlZ3UnXG4gKlxuICogdGhpcy5wcm9ncmVzcyA9IDA7XG4gKiBsZXQgYmFsbFhJbnRlciA9IG5ldyBJbnRlcnBvbGF0ZSh7XG4gKiAgIGZyb206IDMwLFxuICogICB0bzogMTAwICxcbiAqICAgZWFzZUZ1bmN0aW9uOiBFQVNFLmVhc2VPdXRTaW5lXG4gKiB9KVxuICogbGV0IGJhbGxZSW50ZXIgPSBuZXcgSW50ZXJwb2xhdGUoe1xuICogICBmcm9tOiAzMCxcbiAqICAgdG86IDEwMCAsXG4gKiAgIGVhc2VGdW5jdGlvbjogRUFTRS5saW5lYXJcbiAqIH0pXG4gKlxuICogLy8gU2VlIFJhZlRpbWVyIGZvciBob3cgdGhpcyB3b3Jrcy4gIEJhc2ljYWxseSwgaGVyZSB3ZSBhcmUgcnVubmluZyByYWYgZm9yXG4gKiAvLyAzMDBtcyBhbmQgdGhlIHByb2dyZXNzIGlzIGEgdmFsdWUgYmV0d2VlbiAwLTEgd2hpY2ggd2UgdXNlZCB0byBwYXNzZWQgdG8gdGhlXG4gKiAvLyBpbnRlcnBlcm9sYXRvcnMuXG4gKiBuZXcgUmFmVGltZXIoKHByb2dyZXNzKT0+IHtcbiAqICAgLy8gVXBkYXRlIHRoZSBwb3NpdGlvbnMgb2YgYmFsbC5cbiAqICAgYmFsbC54ID0gYmFsbFhJbnRlci5jYWxjdWxhdGUodGhpcy5wcm9ncmVzcyk7XG4gKiAgIGJhbGwueSA9IGJhbGxZSW50ZXIuY2FsY3VsYXRlKHRoaXMucHJvZ3Jlc3MpO1xuICogfSkuc3RhcnQoMzAwKTtcbiAqXG4gKiBTZWUgbW9yZSBleGFtcGxlcyBpbiB0aGUgL2V4YW1wbGVzIGZvbGRlclxuICpcbiAqIGBgYFxuICpcbiAqXG4gKiBVbml0IGFuZCBDb2xvciBzdXBwb3J0LlxuICpcbiAqIEludGVycG9sYXRlIGFsc28gdXNlcyBbW2Nzc1VuaXRdXSB0byBpbnRlcnByZXRlIHN0cmluZyB2YWx1ZXMgKGFzIGJlc3QgYXMgaXRcbiAqIGNhbikuICBZb3UgY2FuIHBhc3MgYmFzaWMgY3NzIHVuaXQgdmFsdWVzIHN1Y2ggYXMgJzEwcHgnIG9yICcxMHZ3JyBhc1xuICogZnJvbSBhbmQgdG8gdmFsdWVzLiAgQ29sb3IgdmFsdWVzIG9mIHJnYmEgYW5kIGhleCBhcmUgYWxzbyBzdXBwb3J0ZWQuXG4gKlxuICpcbiAqIEl0IGRvZXMgTk9UIHN1cHBvcnQgY3Jvc3MgdW5pdCBpbnRlcnBvcmFsYXRpb24gYXQgdGhlIG1vbWVudCBzdWNoIGFzXG4gKiBmcm9tOiAnMHB4JywgdG86ICcxMHZ3Jy4gIChIZXJlIHRoZSB1bml0cyBkb24ndCBtYXRjaC4pXG4gKlxuICogYGBgdHNcbiAqIGxldCBpbnRlciA9IG5ldyBJbnRlcnBvbGF0ZSh7XG4gKiAgIGZyb206ICcwcHgnLFxuICogICB0bzogJzEwMHB4JyxcbiAqICAgZWFzZUZ1bmN0aW9uOiBFQVNFLmxpbmVhclxuICogfSk7XG4gKiBpbnRlci5jYWxjdWxhdGUoMC4zKTsgIC8vIHJldHVybiAnMzBweCcuXG4gKlxuICpcbiAqICBpbnRlciA9IG5ldyBJbnRlcnBvbGF0ZSh7XG4gKiAgICAgIGZyb206ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDApJyxcbiAqICAgICAgdG86ICdyZ2JhKDAsMCwwLDEpJyxcbiAqICAgICAgZWFzZUZ1bmN0aW9uOiBFQVNFLmxpbmVhclxuICogIH0pO1xuICogICBpbnRlci5jYWxjdWxhdGUoMC41KSAvLyAncmdiYSgxMjcsIDEyNywgMTI3LCAwLjUpJ1xuICogYGBgXG4gKlxuICpcbiAqIEB0ZXN0ZWRcbiAqL1xuZXhwb3J0IGNsYXNzIEludGVycG9sYXRlIHtcbiAgICBjb25zdHJ1Y3RvcihpbnRlcnBvbGF0ZUNvbmZpZykge1xuICAgICAgICB0aGlzLmludGVycG9sYXRlQ29uZmlnID0gaW50ZXJwb2xhdGVDb25maWc7XG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gMDtcbiAgICAgICAgdGhpcy5jdXJyZW50UHJvZ3Jlc3MgPSAwO1xuICAgICAgICAvLyBBc3N1bWUgd2Ugc3RhcnQgb24gcHJlb2dyZXNzIDAuXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlKDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb2RpZnkgdGhlIGludGVycG9sYXRlIHNldHRpbmdzLlxuICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZUNvbmZpZ1xuICAgICAqL1xuICAgIG1vZGlmeShpbnRlcnBvbGF0ZUNvbmZpZykge1xuICAgICAgICByZXR1cm4gbmV3IEludGVycG9sYXRlKGludGVycG9sYXRlQ29uZmlnKTtcbiAgICB9XG4gICAgY2FsY3VsYXRlKHByb2dyZXNzKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFByb2dyZXNzID0gcHJvZ3Jlc3M7XG4gICAgICAgIC8vIElmIHdlIGFyZSBqdXN0IGludGVycG9sYXRpbmcgYSBudW1iZXIganVzdCBjYWxjdWxhdGUgYSBzdHJhaWdodCBlYXNlLlxuICAgICAgICBpZiAoaXMubnVtYmVyKHRoaXMuaW50ZXJwb2xhdGVDb25maWcuZnJvbSkpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gbWF0aGYuZWFzZSh0aGlzLmludGVycG9sYXRlQ29uZmlnLmZyb20sIHRoaXMuaW50ZXJwb2xhdGVDb25maWcudG8sIHRoaXMuY3VycmVudFByb2dyZXNzLCB0aGlzLmludGVycG9sYXRlQ29uZmlnLmVhc2VGdW5jdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgaW50ZXJwb2xhdGluZyBhIHN0cmluZy5cbiAgICAgICAgICAgIC8vIFVzZSB0aGUgZnJvbSB2YWx1ZSB0byBkZXRlcm1pbmUgdGhlIHR5cGUgb2YgY3NzVW5pdCB0aGlzIGlzLlxuICAgICAgICAgICAgY29uc3QgZnJvbSA9IGNzc1VuaXQucGFyc2UodGhpcy5pbnRlcnBvbGF0ZUNvbmZpZy5mcm9tKTtcbiAgICAgICAgICAgIGNvbnN0IHRvID0gY3NzVW5pdC5wYXJzZSh0aGlzLmludGVycG9sYXRlQ29uZmlnLnRvKTtcbiAgICAgICAgICAgIC8vIElmIHVuaXQgdHlwZSwgaW50ZXJwb2xhdGUgdGhlIHZhbHVlcyBhbmQgYXBwZW5kIGEgdW5pdC5cbiAgICAgICAgICAgIGlmIChmcm9tLnZhbHVlVHlwZSA9PT0gQ3NzVW5pdE9iamVjdFR5cGVzLm51bWJlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gbWF0aGYuZWFzZShmcm9tLnZhbHVlLCB0by52YWx1ZSwgdGhpcy5jdXJyZW50UHJvZ3Jlc3MsIHRoaXMuaW50ZXJwb2xhdGVDb25maWcuZWFzZUZ1bmN0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IGAke3RoaXMuY3VycmVudFZhbHVlfSR7ZnJvbS51bml0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBpdCdzIGFuIHJnYmEgdHlwZSBpbnRlcG9yYWxhdGUgaXQuXG4gICAgICAgICAgICBpZiAoZnJvbS52YWx1ZVR5cGUgPT09IENzc1VuaXRPYmplY3RUeXBlcy5yZ2JhKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW50ZXJwb2xhdGVkUmdiYSA9IGNvbG9yLnJnYmFFYXNlKGZyb20udmFsdWUsIHRvLnZhbHVlLCB0aGlzLmN1cnJlbnRQcm9ncmVzcywgdGhpcy5pbnRlcnBvbGF0ZUNvbmZpZy5lYXNlRnVuY3Rpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gY29sb3IucmdiYVRvQ3NzKGludGVycG9sYXRlZFJnYmEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRWYWx1ZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnBvbGF0ZS5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/interpolate/interpolate.js\n");

/***/ }),

/***/ "./lib/interpolate/multi-interpolate.js":
/*!**********************************************!*\
  !*** ./lib/interpolate/multi-interpolate.js ***!
  \**********************************************/
/*! exports provided: multiInterpolateHelper, MultiInterpolate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"multiInterpolateHelper\", function() { return multiInterpolateHelper; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MultiInterpolate\", function() { return MultiInterpolate; });\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _ease_ease__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _interpolate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./interpolate */ \"./lib/interpolate/interpolate.js\");\n\n\n\nconst multiInterpolateHelper = {\n    errors: {\n        FROM_TO_EQUAL: 'Range progress from and to values should not equal each other.',\n        FROM_GREATER: 'Range progress from greater than the value of to',\n    },\n    /**\n     * Checks for invalid progress specifications.\n     */\n    checkInvalidRangedProgresses: (progresses) => {\n        progresses.forEach(progress => {\n            if (progress.from === progress.to) {\n                console.error(progress);\n                throw new Error(multiInterpolateHelper.errors.FROM_TO_EQUAL);\n            }\n            if (progress.from > progress.to) {\n                console.error(progress);\n                throw new Error(multiInterpolateHelper.errors.FROM_GREATER);\n            }\n        });\n    },\n    /**\n     * Given the current progress, does a search withn the progresses, to\n     * find the best matching progress.\n     *\n     * The order of progresses DOES matter because this will do a search from\n     * top to bottom.\n     *\n     * @param {number} currentProgress A number between 0-1 representing progress.\n     * @param {Array<rangedProgress>} orderedProgress A list of ordered\n     *     progresses.  This algo assumed tha the progresses are ordered based\n     *     on from value.  Run your progress through\n     *     [[multiInterpolaterHelper.orderProgresses]].\n     *\n     * @return {rangedProgress} Returns the best matching ranged progress.\n     */\n    findBestMatchingRangedProgress(currentProgress, progress) {\n        // We assume that we always want to start with the first progress\n        // declaration.\n        let matchedProgress = progress[0];\n        progress.forEach(progress => {\n            const previousProgress = matchedProgress;\n            // If the current matchedProgress has come to an end.\n            // select the next progress.\n            if (matchedProgress.to <= currentProgress) {\n                matchedProgress = progress;\n            }\n            // If the current progress is still not in range, revert to the\n            // previous progress.\n            if (matchedProgress.from > currentProgress) {\n                matchedProgress = previousProgress;\n            }\n        });\n        return matchedProgress;\n    },\n};\n/**\n * MultiInterpolate allows you to interpolate multiple values at once against\n * a parent progress.\n *\n * ```ts\n *\n *\n * JS\n *  import { MultiInterpolate, EASE } from '@blinkk/degu';\n *  let multiInterpolate = new MultiInterpolate({\n *   interpolations: [\n *     // This declaration would create the following.\n *     // When progress is:\n *     // 0 - 0.29999 ---> x = 50.\n *     //    It uses applies the start value of the first progress.\n *     // 0.3 - 0.5   ---> x = 50 - 100.\n *     // 0.5 - 0.8   ---> x = 100 - 800\n *     // 0.8 - 1     ----> x = 800.  The last value is used.\n *     {\n *       progress: [\n *          { from: 0.3, to: 0.5, start: 50, end: 1000,\n *             easingFunction: EASE.easeInOutSine },\n *          { from: 0.5, to: 0.8, start: 1000, end: 8000,\n *             easingFunction: EASE.easeInOutBounce }\n *       ],\n *       id: 'x',\n *     },\n *\n *     // When the progress is from 0.5 - 1,\n *     // The value of y would go from 0 to 100.\n *     {\n *       progress: [{ from: 0, to: 0.5, start: 0, end: 100 }],\n *       id: 'y',\n *     },\n *     // When the progress is from 0.5 - 1,\n *     // The value of someOtherId would go from 0 to 100.\n *     {\n *       progress: [{ from: 0, to: 1, start: 0, end: 100 }]\n *       id: 'someOther',\n *     },\n *\n *     // Multi interpolate also supports simple units.  See interpolate for\n *     // unit and color support.\n *     {\n *       progress: [{ from: 0, to: 1, start: '0px', end: '100px' }]\n *       id: 'z',\n *     }\n *\n *\n *     // There is also no interpolation mode.  This doesn't interpolate\n *     // but rather just applies properties when specific ranges are matched.\n *     {\n *       progress: [\n *          { from: 0.3, to: 0.5, start: 'none', end: 'none'},\n *          { from: 0.5, to: 0.8, start: 'inline', end: 'inline }\n *       ],\n *       noInterpolation: true\n *       noInterpolationDefault: 'block'\n *       id: 'display-setting',\n *     },\n *\n *\n *     // Staggers allow to create multi entries of the same property with an\n *     // offset.  For example, here 4 staggers would be created.\n *     // hero-y-0, hero-y-1, hero-y-2, hero-y-3 and the from and end points\n *     // would each be shifted by the progressOffset (0.008).\n *     {\n *       progress: [{ from: 0, to: 0.3, start: '0px', end: '100px' }]\n *       id: 'hero-y',\n *       stagger: {\n *           count: 4,\n *           progressOffset: 0.008\n *       }\n *     }\n *\n *\n *     // onUpdate also provides you hooks when values up.\n *     {\n *       progress: [{ from: 0, to: 0.3, start: '0px', end: '100px' }]\n *       id: 'hero-y',\n *       onUpdate: (id:string, currentProgress:number, currentValue:string|number) => {\n *          ...\n *       }\n *     }\n *\n *  ]\n * });\n *\n * // What are the values at 0 progress.\n * let results = multiInterpolate.calculate(0);\n * console.log(results['x']); // 50\n * console.log(results['y']); // 0\n * console.log(results['someOther']); // 0\n *\n * // What are the values at 0.3 progress (30%)\n * results = multiInterpolate.calculate(0.3);\n * console.log(results['x']); // 50\n * console.log(results['y']); // ~60\n * console.log(results['someOther']); // 30\n *\n * // What are the values at 0.7 progress (70%)\n * results = multiInterpolate.calculate(0.7);\n * console.log(results['x']); //~7441\n * console.log(results['y']); // ~100\n * console.log(results['someOther']); // 30\n *\n * results = multiInterpolate.calculate(1);\n * console.log(results['x']); //~7441\n * console.log(results['y']); // ~100\n * console.log(results['someOther']); // 100\n *\n *\n * ```\n * @tested\n */\nclass MultiInterpolate {\n    constructor(multiInterpolaterConfig) {\n        this.parentProgress = 0;\n        this.currentValues = {};\n        this.config = multiInterpolaterConfig;\n        this.updateConfig(this.config);\n    }\n    /**\n     * Sets and updates the config.  Validates, reorders and set the config.\n     */\n    updateConfig(config) {\n        // Assign and create staggers.\n        this.config = this.createStaggers(config);\n        if (!this.config.interpolations) {\n            throw new Error('Multiinterpolation config is missing interpolations');\n        }\n        this.config.interpolations = this.config.interpolations.map((interpolateSettings) => {\n            // Valid progresses.\n            multiInterpolateHelper.checkInvalidRangedProgresses(interpolateSettings.progress);\n            // TODO (uxder)\n            // I think we can add some from of checks to to warn\n            // users if their progresses are out of order.\n            //\n            //\n            // Example of case that isn't good.\n            //    { from: 0.3, to: 0.4, start: 0, end: 100 },\n            //    { from: 0, to: 0.2, start: 100, end: 800 }\n            //    { from: 0.4, to: 1, start: 100, end: 800 }\n            //\n            // Users should restructure the progress in order of\n            // from. Could easily reorder in code but it might be\n            // better keep as is and enforce cleaner organization and\n            // keep the logic top - down.\n            //\n            return interpolateSettings;\n        });\n    }\n    /**\n     * Goes through each multiInterpolation to check if stagger is set.\n     * If it is, create stagger entries.\n     * @param config\n     */\n    createStaggers(config) {\n        const itemsToAdd = [];\n        [...config.interpolations].forEach(item => {\n            // If stagger is set, we are going to add a specific stagger count.\n            if (item.stagger && !item.staggerItem) {\n                for (let i = 0; i < item.stagger.count; i++) {\n                    const newItem = Object.assign({}, item);\n                    newItem.progress = newItem.progress.map(progress => {\n                        progress = Object.assign({}, progress);\n                        progress.to += i * item.stagger.progressOffset;\n                        progress.from += i * item.stagger.progressOffset;\n                        newItem.id = item.id + '-' + i;\n                        // newItem.stagger = null;\n                        newItem.staggerItem = true;\n                        return progress;\n                    });\n                    // Add this stagger.\n                    itemsToAdd.push(newItem);\n                }\n            }\n        });\n        itemsToAdd.forEach(item => {\n            config.interpolations.push(item);\n        });\n        return config;\n    }\n    /**\n     * Returns the last know interpolations values.\n     * ```ts\n     * multiInterpolate.calculate(0.5);\n     *\n     * let results = multiInterpolate.getCalculations();\n     *\n     * ```\n     */\n    getCalculations() {\n        return this.currentValues;\n    }\n    /**\n     * Sets the current progress and returns all interpolations.\n     * @param {number} The current progress.\n     * @return {Object} An object with all interpolation ids as the keys and their\n     *     relative values.\n     */\n    calculate(progress) {\n        this.parentProgress = progress;\n        this.config.interpolations.forEach((config) => {\n            // Given the set of rangedProgress, find the best matching\n            // one based on the current progress.\n            const matchedRangeProgress = multiInterpolateHelper.findBestMatchingRangedProgress(this.parentProgress, config.progress);\n            // Now that we have a best matched rangedProgress, create\n            // a \"Child progress' progress (@see mathf.childProgress) and\n            // then calculate the ease / interpolations.\n            const childProgress = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"childProgress\"](this.parentProgress, matchedRangeProgress.from, matchedRangeProgress.to);\n            /*\n             * There are very specific cases in which we want to specify\n             * non-interpolating values.\n             *\n             * This happens for the case\n             * in css-var-interpolate, where we might want to add\n             * non-interpolating css properties for specific ranges.\n             *\n             * An example is:\n             *    color: var(--myColor)\n             *\n             *   - id: '--myColor'\n             *     noInterpolation: true\n             *     noInterpolationDefault: 'orange'\n             *     progress:\n             *     -  from: 0.3\n             *        to: 0.5\n             *        start: 'blue'\n             *        end: 'blue'\n             *     - from: 0.6\n             *       to: 0.7\n             *       start: 'red'\n             *       end: 'red'\n             *\n             * Another example is:\n             *   display: var(--display-settings)\n             *   - id: '--display-settings'\n             *     noInterpolation: true\n             *     noInterpolationDefault: 'block'\n             *     progress:\n             *     - from: 0.3\n             *       to: 0.5\n             *       start: 'none'\n             *       end: 'none'\n             *     - from: 0.6\n             *       to: 0.7\n             *       start: 'inline-block'\n             *       end: 'inline-block'\n             *\n             * Since it is noInterpolation, the start and end values are expected\n             * to be identical, and when there is no matching setting, the\n             * value would return null so that the \"default\" css value\n             * gets used.\n             */\n            if (config.noInterpolation) {\n                if (!config.noInterpolationDefault) {\n                    throw new Error('You are using noInterpolation without a noInterpolation default');\n                }\n                if (_mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"isBetween\"](this.parentProgress, matchedRangeProgress.from, matchedRangeProgress.to, true)) {\n                    // By convention, the start and end should match\n                    // so we just pick end.\n                    this.currentValues[config.id] = matchedRangeProgress.end;\n                }\n                else {\n                    this.currentValues[config.id] = config.noInterpolationDefault;\n                }\n            }\n            else {\n                // Now calculate the interpolation based on the childProgress\n                // progress value.\n                const interpolatedValue = new _interpolate__WEBPACK_IMPORTED_MODULE_2__[\"Interpolate\"]({\n                    from: matchedRangeProgress.start,\n                    to: matchedRangeProgress.end,\n                    easeFunction: matchedRangeProgress.easingFunction || _ease_ease__WEBPACK_IMPORTED_MODULE_1__[\"linear\"],\n                }).calculate(childProgress);\n                // Finally cache this value to the current values list.\n                this.currentValues[config.id] = interpolatedValue;\n                /**\n                 * If visibilityId is declared, we want to create an extra\n                 * interpolation value that observes the current config and\n                 * set it value to 'hidden' when <0 and otherwise 'visible'\n                 *\n                 * The goal here is to be able to create a visibility css\n                 * variable associated with the opacity variable.\n                 *\n                 * When the opacity is 0, the visiblity should be hidden\n                 * to boost performance.\n                 *\n                 * ```\n                 *  {\n                 *   progress: [{ from: 0, to: 0.3, start: 0, end: 1 },],\n                 *   id: '--my-opacity'\n                 *   visibilityId: '--my-visibility'\n                 * },\n                 *\n                 *   .myvar\n                 *       opacity: var(--my-opacity)\n                 *       visibility: var(--my-visibility)\n                 * ```\n                 *\n                 * https://github.com/blinkkcode/degu/issues/65\n                 */\n                if (config.visibilityId) {\n                    // Add this to the current values list.\n                    this.currentValues[config.visibilityId] =\n                        interpolatedValue <= 0 ? 'hidden' : 'visible';\n                }\n            }\n            // Run update function.\n            if (config.onUpdate) {\n                config.onUpdate(config.id, this.parentProgress, this.currentValues[config.id]);\n            }\n        });\n        return this.currentValues;\n    }\n}\n//# sourceMappingURL=multi-interpolate.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvaW50ZXJwb2xhdGUvbXVsdGktaW50ZXJwb2xhdGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvaW50ZXJwb2xhdGUvbXVsdGktaW50ZXJwb2xhdGUuanM/Y2UwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBtYXRoZiBmcm9tICcuLi9tYXRoZi9tYXRoZic7XG5pbXBvcnQgKiBhcyBFQVNFIGZyb20gJy4uL2Vhc2UvZWFzZSc7XG5pbXBvcnQgeyBJbnRlcnBvbGF0ZSB9IGZyb20gJy4vaW50ZXJwb2xhdGUnO1xuZXhwb3J0IGNvbnN0IG11bHRpSW50ZXJwb2xhdGVIZWxwZXIgPSB7XG4gICAgZXJyb3JzOiB7XG4gICAgICAgIEZST01fVE9fRVFVQUw6ICdSYW5nZSBwcm9ncmVzcyBmcm9tIGFuZCB0byB2YWx1ZXMgc2hvdWxkIG5vdCBlcXVhbCBlYWNoIG90aGVyLicsXG4gICAgICAgIEZST01fR1JFQVRFUjogJ1JhbmdlIHByb2dyZXNzIGZyb20gZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiB0bycsXG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDaGVja3MgZm9yIGludmFsaWQgcHJvZ3Jlc3Mgc3BlY2lmaWNhdGlvbnMuXG4gICAgICovXG4gICAgY2hlY2tJbnZhbGlkUmFuZ2VkUHJvZ3Jlc3NlczogKHByb2dyZXNzZXMpID0+IHtcbiAgICAgICAgcHJvZ3Jlc3Nlcy5mb3JFYWNoKHByb2dyZXNzID0+IHtcbiAgICAgICAgICAgIGlmIChwcm9ncmVzcy5mcm9tID09PSBwcm9ncmVzcy50bykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtdWx0aUludGVycG9sYXRlSGVscGVyLmVycm9ycy5GUk9NX1RPX0VRVUFMKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm9ncmVzcy5mcm9tID4gcHJvZ3Jlc3MudG8pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXVsdGlJbnRlcnBvbGF0ZUhlbHBlci5lcnJvcnMuRlJPTV9HUkVBVEVSKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBHaXZlbiB0aGUgY3VycmVudCBwcm9ncmVzcywgZG9lcyBhIHNlYXJjaCB3aXRobiB0aGUgcHJvZ3Jlc3NlcywgdG9cbiAgICAgKiBmaW5kIHRoZSBiZXN0IG1hdGNoaW5nIHByb2dyZXNzLlxuICAgICAqXG4gICAgICogVGhlIG9yZGVyIG9mIHByb2dyZXNzZXMgRE9FUyBtYXR0ZXIgYmVjYXVzZSB0aGlzIHdpbGwgZG8gYSBzZWFyY2ggZnJvbVxuICAgICAqIHRvcCB0byBib3R0b20uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3VycmVudFByb2dyZXNzIEEgbnVtYmVyIGJldHdlZW4gMC0xIHJlcHJlc2VudGluZyBwcm9ncmVzcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5PHJhbmdlZFByb2dyZXNzPn0gb3JkZXJlZFByb2dyZXNzIEEgbGlzdCBvZiBvcmRlcmVkXG4gICAgICogICAgIHByb2dyZXNzZXMuICBUaGlzIGFsZ28gYXNzdW1lZCB0aGEgdGhlIHByb2dyZXNzZXMgYXJlIG9yZGVyZWQgYmFzZWRcbiAgICAgKiAgICAgb24gZnJvbSB2YWx1ZS4gIFJ1biB5b3VyIHByb2dyZXNzIHRocm91Z2hcbiAgICAgKiAgICAgW1ttdWx0aUludGVycG9sYXRlckhlbHBlci5vcmRlclByb2dyZXNzZXNdXS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3JhbmdlZFByb2dyZXNzfSBSZXR1cm5zIHRoZSBiZXN0IG1hdGNoaW5nIHJhbmdlZCBwcm9ncmVzcy5cbiAgICAgKi9cbiAgICBmaW5kQmVzdE1hdGNoaW5nUmFuZ2VkUHJvZ3Jlc3MoY3VycmVudFByb2dyZXNzLCBwcm9ncmVzcykge1xuICAgICAgICAvLyBXZSBhc3N1bWUgdGhhdCB3ZSBhbHdheXMgd2FudCB0byBzdGFydCB3aXRoIHRoZSBmaXJzdCBwcm9ncmVzc1xuICAgICAgICAvLyBkZWNsYXJhdGlvbi5cbiAgICAgICAgbGV0IG1hdGNoZWRQcm9ncmVzcyA9IHByb2dyZXNzWzBdO1xuICAgICAgICBwcm9ncmVzcy5mb3JFYWNoKHByb2dyZXNzID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzUHJvZ3Jlc3MgPSBtYXRjaGVkUHJvZ3Jlc3M7XG4gICAgICAgICAgICAvLyBJZiB0aGUgY3VycmVudCBtYXRjaGVkUHJvZ3Jlc3MgaGFzIGNvbWUgdG8gYW4gZW5kLlxuICAgICAgICAgICAgLy8gc2VsZWN0IHRoZSBuZXh0IHByb2dyZXNzLlxuICAgICAgICAgICAgaWYgKG1hdGNoZWRQcm9ncmVzcy50byA8PSBjdXJyZW50UHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkUHJvZ3Jlc3MgPSBwcm9ncmVzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZSBjdXJyZW50IHByb2dyZXNzIGlzIHN0aWxsIG5vdCBpbiByYW5nZSwgcmV2ZXJ0IHRvIHRoZVxuICAgICAgICAgICAgLy8gcHJldmlvdXMgcHJvZ3Jlc3MuXG4gICAgICAgICAgICBpZiAobWF0Y2hlZFByb2dyZXNzLmZyb20gPiBjdXJyZW50UHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVkUHJvZ3Jlc3MgPSBwcmV2aW91c1Byb2dyZXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1hdGNoZWRQcm9ncmVzcztcbiAgICB9LFxufTtcbi8qKlxuICogTXVsdGlJbnRlcnBvbGF0ZSBhbGxvd3MgeW91IHRvIGludGVycG9sYXRlIG11bHRpcGxlIHZhbHVlcyBhdCBvbmNlIGFnYWluc3RcbiAqIGEgcGFyZW50IHByb2dyZXNzLlxuICpcbiAqIGBgYHRzXG4gKlxuICpcbiAqIEpTXG4gKiAgaW1wb3J0IHsgTXVsdGlJbnRlcnBvbGF0ZSwgRUFTRSB9IGZyb20gJ0BibGlua2svZGVndSc7XG4gKiAgbGV0IG11bHRpSW50ZXJwb2xhdGUgPSBuZXcgTXVsdGlJbnRlcnBvbGF0ZSh7XG4gKiAgIGludGVycG9sYXRpb25zOiBbXG4gKiAgICAgLy8gVGhpcyBkZWNsYXJhdGlvbiB3b3VsZCBjcmVhdGUgdGhlIGZvbGxvd2luZy5cbiAqICAgICAvLyBXaGVuIHByb2dyZXNzIGlzOlxuICogICAgIC8vIDAgLSAwLjI5OTk5IC0tLT4geCA9IDUwLlxuICogICAgIC8vICAgIEl0IHVzZXMgYXBwbGllcyB0aGUgc3RhcnQgdmFsdWUgb2YgdGhlIGZpcnN0IHByb2dyZXNzLlxuICogICAgIC8vIDAuMyAtIDAuNSAgIC0tLT4geCA9IDUwIC0gMTAwLlxuICogICAgIC8vIDAuNSAtIDAuOCAgIC0tLT4geCA9IDEwMCAtIDgwMFxuICogICAgIC8vIDAuOCAtIDEgICAgIC0tLS0+IHggPSA4MDAuICBUaGUgbGFzdCB2YWx1ZSBpcyB1c2VkLlxuICogICAgIHtcbiAqICAgICAgIHByb2dyZXNzOiBbXG4gKiAgICAgICAgICB7IGZyb206IDAuMywgdG86IDAuNSwgc3RhcnQ6IDUwLCBlbmQ6IDEwMDAsXG4gKiAgICAgICAgICAgICBlYXNpbmdGdW5jdGlvbjogRUFTRS5lYXNlSW5PdXRTaW5lIH0sXG4gKiAgICAgICAgICB7IGZyb206IDAuNSwgdG86IDAuOCwgc3RhcnQ6IDEwMDAsIGVuZDogODAwMCxcbiAqICAgICAgICAgICAgIGVhc2luZ0Z1bmN0aW9uOiBFQVNFLmVhc2VJbk91dEJvdW5jZSB9XG4gKiAgICAgICBdLFxuICogICAgICAgaWQ6ICd4JyxcbiAqICAgICB9LFxuICpcbiAqICAgICAvLyBXaGVuIHRoZSBwcm9ncmVzcyBpcyBmcm9tIDAuNSAtIDEsXG4gKiAgICAgLy8gVGhlIHZhbHVlIG9mIHkgd291bGQgZ28gZnJvbSAwIHRvIDEwMC5cbiAqICAgICB7XG4gKiAgICAgICBwcm9ncmVzczogW3sgZnJvbTogMCwgdG86IDAuNSwgc3RhcnQ6IDAsIGVuZDogMTAwIH1dLFxuICogICAgICAgaWQ6ICd5JyxcbiAqICAgICB9LFxuICogICAgIC8vIFdoZW4gdGhlIHByb2dyZXNzIGlzIGZyb20gMC41IC0gMSxcbiAqICAgICAvLyBUaGUgdmFsdWUgb2Ygc29tZU90aGVySWQgd291bGQgZ28gZnJvbSAwIHRvIDEwMC5cbiAqICAgICB7XG4gKiAgICAgICBwcm9ncmVzczogW3sgZnJvbTogMCwgdG86IDEsIHN0YXJ0OiAwLCBlbmQ6IDEwMCB9XVxuICogICAgICAgaWQ6ICdzb21lT3RoZXInLFxuICogICAgIH0sXG4gKlxuICogICAgIC8vIE11bHRpIGludGVycG9sYXRlIGFsc28gc3VwcG9ydHMgc2ltcGxlIHVuaXRzLiAgU2VlIGludGVycG9sYXRlIGZvclxuICogICAgIC8vIHVuaXQgYW5kIGNvbG9yIHN1cHBvcnQuXG4gKiAgICAge1xuICogICAgICAgcHJvZ3Jlc3M6IFt7IGZyb206IDAsIHRvOiAxLCBzdGFydDogJzBweCcsIGVuZDogJzEwMHB4JyB9XVxuICogICAgICAgaWQ6ICd6JyxcbiAqICAgICB9XG4gKlxuICpcbiAqICAgICAvLyBUaGVyZSBpcyBhbHNvIG5vIGludGVycG9sYXRpb24gbW9kZS4gIFRoaXMgZG9lc24ndCBpbnRlcnBvbGF0ZVxuICogICAgIC8vIGJ1dCByYXRoZXIganVzdCBhcHBsaWVzIHByb3BlcnRpZXMgd2hlbiBzcGVjaWZpYyByYW5nZXMgYXJlIG1hdGNoZWQuXG4gKiAgICAge1xuICogICAgICAgcHJvZ3Jlc3M6IFtcbiAqICAgICAgICAgIHsgZnJvbTogMC4zLCB0bzogMC41LCBzdGFydDogJ25vbmUnLCBlbmQ6ICdub25lJ30sXG4gKiAgICAgICAgICB7IGZyb206IDAuNSwgdG86IDAuOCwgc3RhcnQ6ICdpbmxpbmUnLCBlbmQ6ICdpbmxpbmUgfVxuICogICAgICAgXSxcbiAqICAgICAgIG5vSW50ZXJwb2xhdGlvbjogdHJ1ZVxuICogICAgICAgbm9JbnRlcnBvbGF0aW9uRGVmYXVsdDogJ2Jsb2NrJ1xuICogICAgICAgaWQ6ICdkaXNwbGF5LXNldHRpbmcnLFxuICogICAgIH0sXG4gKlxuICpcbiAqICAgICAvLyBTdGFnZ2VycyBhbGxvdyB0byBjcmVhdGUgbXVsdGkgZW50cmllcyBvZiB0aGUgc2FtZSBwcm9wZXJ0eSB3aXRoIGFuXG4gKiAgICAgLy8gb2Zmc2V0LiAgRm9yIGV4YW1wbGUsIGhlcmUgNCBzdGFnZ2VycyB3b3VsZCBiZSBjcmVhdGVkLlxuICogICAgIC8vIGhlcm8teS0wLCBoZXJvLXktMSwgaGVyby15LTIsIGhlcm8teS0zIGFuZCB0aGUgZnJvbSBhbmQgZW5kIHBvaW50c1xuICogICAgIC8vIHdvdWxkIGVhY2ggYmUgc2hpZnRlZCBieSB0aGUgcHJvZ3Jlc3NPZmZzZXQgKDAuMDA4KS5cbiAqICAgICB7XG4gKiAgICAgICBwcm9ncmVzczogW3sgZnJvbTogMCwgdG86IDAuMywgc3RhcnQ6ICcwcHgnLCBlbmQ6ICcxMDBweCcgfV1cbiAqICAgICAgIGlkOiAnaGVyby15JyxcbiAqICAgICAgIHN0YWdnZXI6IHtcbiAqICAgICAgICAgICBjb3VudDogNCxcbiAqICAgICAgICAgICBwcm9ncmVzc09mZnNldDogMC4wMDhcbiAqICAgICAgIH1cbiAqICAgICB9XG4gKlxuICpcbiAqICAgICAvLyBvblVwZGF0ZSBhbHNvIHByb3ZpZGVzIHlvdSBob29rcyB3aGVuIHZhbHVlcyB1cC5cbiAqICAgICB7XG4gKiAgICAgICBwcm9ncmVzczogW3sgZnJvbTogMCwgdG86IDAuMywgc3RhcnQ6ICcwcHgnLCBlbmQ6ICcxMDBweCcgfV1cbiAqICAgICAgIGlkOiAnaGVyby15JyxcbiAqICAgICAgIG9uVXBkYXRlOiAoaWQ6c3RyaW5nLCBjdXJyZW50UHJvZ3Jlc3M6bnVtYmVyLCBjdXJyZW50VmFsdWU6c3RyaW5nfG51bWJlcikgPT4ge1xuICogICAgICAgICAgLi4uXG4gKiAgICAgICB9XG4gKiAgICAgfVxuICpcbiAqICBdXG4gKiB9KTtcbiAqXG4gKiAvLyBXaGF0IGFyZSB0aGUgdmFsdWVzIGF0IDAgcHJvZ3Jlc3MuXG4gKiBsZXQgcmVzdWx0cyA9IG11bHRpSW50ZXJwb2xhdGUuY2FsY3VsYXRlKDApO1xuICogY29uc29sZS5sb2cocmVzdWx0c1sneCddKTsgLy8gNTBcbiAqIGNvbnNvbGUubG9nKHJlc3VsdHNbJ3knXSk7IC8vIDBcbiAqIGNvbnNvbGUubG9nKHJlc3VsdHNbJ3NvbWVPdGhlciddKTsgLy8gMFxuICpcbiAqIC8vIFdoYXQgYXJlIHRoZSB2YWx1ZXMgYXQgMC4zIHByb2dyZXNzICgzMCUpXG4gKiByZXN1bHRzID0gbXVsdGlJbnRlcnBvbGF0ZS5jYWxjdWxhdGUoMC4zKTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdHNbJ3gnXSk7IC8vIDUwXG4gKiBjb25zb2xlLmxvZyhyZXN1bHRzWyd5J10pOyAvLyB+NjBcbiAqIGNvbnNvbGUubG9nKHJlc3VsdHNbJ3NvbWVPdGhlciddKTsgLy8gMzBcbiAqXG4gKiAvLyBXaGF0IGFyZSB0aGUgdmFsdWVzIGF0IDAuNyBwcm9ncmVzcyAoNzAlKVxuICogcmVzdWx0cyA9IG11bHRpSW50ZXJwb2xhdGUuY2FsY3VsYXRlKDAuNyk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHRzWyd4J10pOyAvL343NDQxXG4gKiBjb25zb2xlLmxvZyhyZXN1bHRzWyd5J10pOyAvLyB+MTAwXG4gKiBjb25zb2xlLmxvZyhyZXN1bHRzWydzb21lT3RoZXInXSk7IC8vIDMwXG4gKlxuICogcmVzdWx0cyA9IG11bHRpSW50ZXJwb2xhdGUuY2FsY3VsYXRlKDEpO1xuICogY29uc29sZS5sb2cocmVzdWx0c1sneCddKTsgLy9+NzQ0MVxuICogY29uc29sZS5sb2cocmVzdWx0c1sneSddKTsgLy8gfjEwMFxuICogY29uc29sZS5sb2cocmVzdWx0c1snc29tZU90aGVyJ10pOyAvLyAxMDBcbiAqXG4gKlxuICogYGBgXG4gKiBAdGVzdGVkXG4gKi9cbmV4cG9ydCBjbGFzcyBNdWx0aUludGVycG9sYXRlIHtcbiAgICBjb25zdHJ1Y3RvcihtdWx0aUludGVycG9sYXRlckNvbmZpZykge1xuICAgICAgICB0aGlzLnBhcmVudFByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWVzID0ge307XG4gICAgICAgIHRoaXMuY29uZmlnID0gbXVsdGlJbnRlcnBvbGF0ZXJDb25maWc7XG4gICAgICAgIHRoaXMudXBkYXRlQ29uZmlnKHRoaXMuY29uZmlnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhbmQgdXBkYXRlcyB0aGUgY29uZmlnLiAgVmFsaWRhdGVzLCByZW9yZGVycyBhbmQgc2V0IHRoZSBjb25maWcuXG4gICAgICovXG4gICAgdXBkYXRlQ29uZmlnKGNvbmZpZykge1xuICAgICAgICAvLyBBc3NpZ24gYW5kIGNyZWF0ZSBzdGFnZ2Vycy5cbiAgICAgICAgdGhpcy5jb25maWcgPSB0aGlzLmNyZWF0ZVN0YWdnZXJzKGNvbmZpZyk7XG4gICAgICAgIGlmICghdGhpcy5jb25maWcuaW50ZXJwb2xhdGlvbnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTXVsdGlpbnRlcnBvbGF0aW9uIGNvbmZpZyBpcyBtaXNzaW5nIGludGVycG9sYXRpb25zJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25maWcuaW50ZXJwb2xhdGlvbnMgPSB0aGlzLmNvbmZpZy5pbnRlcnBvbGF0aW9ucy5tYXAoKGludGVycG9sYXRlU2V0dGluZ3MpID0+IHtcbiAgICAgICAgICAgIC8vIFZhbGlkIHByb2dyZXNzZXMuXG4gICAgICAgICAgICBtdWx0aUludGVycG9sYXRlSGVscGVyLmNoZWNrSW52YWxpZFJhbmdlZFByb2dyZXNzZXMoaW50ZXJwb2xhdGVTZXR0aW5ncy5wcm9ncmVzcyk7XG4gICAgICAgICAgICAvLyBUT0RPICh1eGRlcilcbiAgICAgICAgICAgIC8vIEkgdGhpbmsgd2UgY2FuIGFkZCBzb21lIGZyb20gb2YgY2hlY2tzIHRvIHRvIHdhcm5cbiAgICAgICAgICAgIC8vIHVzZXJzIGlmIHRoZWlyIHByb2dyZXNzZXMgYXJlIG91dCBvZiBvcmRlci5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gRXhhbXBsZSBvZiBjYXNlIHRoYXQgaXNuJ3QgZ29vZC5cbiAgICAgICAgICAgIC8vICAgIHsgZnJvbTogMC4zLCB0bzogMC40LCBzdGFydDogMCwgZW5kOiAxMDAgfSxcbiAgICAgICAgICAgIC8vICAgIHsgZnJvbTogMCwgdG86IDAuMiwgc3RhcnQ6IDEwMCwgZW5kOiA4MDAgfVxuICAgICAgICAgICAgLy8gICAgeyBmcm9tOiAwLjQsIHRvOiAxLCBzdGFydDogMTAwLCBlbmQ6IDgwMCB9XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gVXNlcnMgc2hvdWxkIHJlc3RydWN0dXJlIHRoZSBwcm9ncmVzcyBpbiBvcmRlciBvZlxuICAgICAgICAgICAgLy8gZnJvbS4gQ291bGQgZWFzaWx5IHJlb3JkZXIgaW4gY29kZSBidXQgaXQgbWlnaHQgYmVcbiAgICAgICAgICAgIC8vIGJldHRlciBrZWVwIGFzIGlzIGFuZCBlbmZvcmNlIGNsZWFuZXIgb3JnYW5pemF0aW9uIGFuZFxuICAgICAgICAgICAgLy8ga2VlcCB0aGUgbG9naWMgdG9wIC0gZG93bi5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICByZXR1cm4gaW50ZXJwb2xhdGVTZXR0aW5ncztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdvZXMgdGhyb3VnaCBlYWNoIG11bHRpSW50ZXJwb2xhdGlvbiB0byBjaGVjayBpZiBzdGFnZ2VyIGlzIHNldC5cbiAgICAgKiBJZiBpdCBpcywgY3JlYXRlIHN0YWdnZXIgZW50cmllcy5cbiAgICAgKiBAcGFyYW0gY29uZmlnXG4gICAgICovXG4gICAgY3JlYXRlU3RhZ2dlcnMoY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1zVG9BZGQgPSBbXTtcbiAgICAgICAgWy4uLmNvbmZpZy5pbnRlcnBvbGF0aW9uc10uZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgIC8vIElmIHN0YWdnZXIgaXMgc2V0LCB3ZSBhcmUgZ29pbmcgdG8gYWRkIGEgc3BlY2lmaWMgc3RhZ2dlciBjb3VudC5cbiAgICAgICAgICAgIGlmIChpdGVtLnN0YWdnZXIgJiYgIWl0ZW0uc3RhZ2dlckl0ZW0pIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW0uc3RhZ2dlci5jb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3SXRlbS5wcm9ncmVzcyA9IG5ld0l0ZW0ucHJvZ3Jlc3MubWFwKHByb2dyZXNzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzID0gT2JqZWN0LmFzc2lnbih7fSwgcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MudG8gKz0gaSAqIGl0ZW0uc3RhZ2dlci5wcm9ncmVzc09mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzLmZyb20gKz0gaSAqIGl0ZW0uc3RhZ2dlci5wcm9ncmVzc09mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0l0ZW0uaWQgPSBpdGVtLmlkICsgJy0nICsgaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5ld0l0ZW0uc3RhZ2dlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJdGVtLnN0YWdnZXJJdGVtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9ncmVzcztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGlzIHN0YWdnZXIuXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zVG9BZGQucHVzaChuZXdJdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpdGVtc1RvQWRkLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICBjb25maWcuaW50ZXJwb2xhdGlvbnMucHVzaChpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxhc3Qga25vdyBpbnRlcnBvbGF0aW9ucyB2YWx1ZXMuXG4gICAgICogYGBgdHNcbiAgICAgKiBtdWx0aUludGVycG9sYXRlLmNhbGN1bGF0ZSgwLjUpO1xuICAgICAqXG4gICAgICogbGV0IHJlc3VsdHMgPSBtdWx0aUludGVycG9sYXRlLmdldENhbGN1bGF0aW9ucygpO1xuICAgICAqXG4gICAgICogYGBgXG4gICAgICovXG4gICAgZ2V0Q2FsY3VsYXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50VmFsdWVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHByb2dyZXNzIGFuZCByZXR1cm5zIGFsbCBpbnRlcnBvbGF0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gVGhlIGN1cnJlbnQgcHJvZ3Jlc3MuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBBbiBvYmplY3Qgd2l0aCBhbGwgaW50ZXJwb2xhdGlvbiBpZHMgYXMgdGhlIGtleXMgYW5kIHRoZWlyXG4gICAgICogICAgIHJlbGF0aXZlIHZhbHVlcy5cbiAgICAgKi9cbiAgICBjYWxjdWxhdGUocHJvZ3Jlc3MpIHtcbiAgICAgICAgdGhpcy5wYXJlbnRQcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgICB0aGlzLmNvbmZpZy5pbnRlcnBvbGF0aW9ucy5mb3JFYWNoKChjb25maWcpID0+IHtcbiAgICAgICAgICAgIC8vIEdpdmVuIHRoZSBzZXQgb2YgcmFuZ2VkUHJvZ3Jlc3MsIGZpbmQgdGhlIGJlc3QgbWF0Y2hpbmdcbiAgICAgICAgICAgIC8vIG9uZSBiYXNlZCBvbiB0aGUgY3VycmVudCBwcm9ncmVzcy5cbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZWRSYW5nZVByb2dyZXNzID0gbXVsdGlJbnRlcnBvbGF0ZUhlbHBlci5maW5kQmVzdE1hdGNoaW5nUmFuZ2VkUHJvZ3Jlc3ModGhpcy5wYXJlbnRQcm9ncmVzcywgY29uZmlnLnByb2dyZXNzKTtcbiAgICAgICAgICAgIC8vIE5vdyB0aGF0IHdlIGhhdmUgYSBiZXN0IG1hdGNoZWQgcmFuZ2VkUHJvZ3Jlc3MsIGNyZWF0ZVxuICAgICAgICAgICAgLy8gYSBcIkNoaWxkIHByb2dyZXNzJyBwcm9ncmVzcyAoQHNlZSBtYXRoZi5jaGlsZFByb2dyZXNzKSBhbmRcbiAgICAgICAgICAgIC8vIHRoZW4gY2FsY3VsYXRlIHRoZSBlYXNlIC8gaW50ZXJwb2xhdGlvbnMuXG4gICAgICAgICAgICBjb25zdCBjaGlsZFByb2dyZXNzID0gbWF0aGYuY2hpbGRQcm9ncmVzcyh0aGlzLnBhcmVudFByb2dyZXNzLCBtYXRjaGVkUmFuZ2VQcm9ncmVzcy5mcm9tLCBtYXRjaGVkUmFuZ2VQcm9ncmVzcy50byk7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICogVGhlcmUgYXJlIHZlcnkgc3BlY2lmaWMgY2FzZXMgaW4gd2hpY2ggd2Ugd2FudCB0byBzcGVjaWZ5XG4gICAgICAgICAgICAgKiBub24taW50ZXJwb2xhdGluZyB2YWx1ZXMuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogVGhpcyBoYXBwZW5zIGZvciB0aGUgY2FzZVxuICAgICAgICAgICAgICogaW4gY3NzLXZhci1pbnRlcnBvbGF0ZSwgd2hlcmUgd2UgbWlnaHQgd2FudCB0byBhZGRcbiAgICAgICAgICAgICAqIG5vbi1pbnRlcnBvbGF0aW5nIGNzcyBwcm9wZXJ0aWVzIGZvciBzcGVjaWZpYyByYW5nZXMuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQW4gZXhhbXBsZSBpczpcbiAgICAgICAgICAgICAqICAgIGNvbG9yOiB2YXIoLS1teUNvbG9yKVxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqICAgLSBpZDogJy0tbXlDb2xvcidcbiAgICAgICAgICAgICAqICAgICBub0ludGVycG9sYXRpb246IHRydWVcbiAgICAgICAgICAgICAqICAgICBub0ludGVycG9sYXRpb25EZWZhdWx0OiAnb3JhbmdlJ1xuICAgICAgICAgICAgICogICAgIHByb2dyZXNzOlxuICAgICAgICAgICAgICogICAgIC0gIGZyb206IDAuM1xuICAgICAgICAgICAgICogICAgICAgIHRvOiAwLjVcbiAgICAgICAgICAgICAqICAgICAgICBzdGFydDogJ2JsdWUnXG4gICAgICAgICAgICAgKiAgICAgICAgZW5kOiAnYmx1ZSdcbiAgICAgICAgICAgICAqICAgICAtIGZyb206IDAuNlxuICAgICAgICAgICAgICogICAgICAgdG86IDAuN1xuICAgICAgICAgICAgICogICAgICAgc3RhcnQ6ICdyZWQnXG4gICAgICAgICAgICAgKiAgICAgICBlbmQ6ICdyZWQnXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQW5vdGhlciBleGFtcGxlIGlzOlxuICAgICAgICAgICAgICogICBkaXNwbGF5OiB2YXIoLS1kaXNwbGF5LXNldHRpbmdzKVxuICAgICAgICAgICAgICogICAtIGlkOiAnLS1kaXNwbGF5LXNldHRpbmdzJ1xuICAgICAgICAgICAgICogICAgIG5vSW50ZXJwb2xhdGlvbjogdHJ1ZVxuICAgICAgICAgICAgICogICAgIG5vSW50ZXJwb2xhdGlvbkRlZmF1bHQ6ICdibG9jaydcbiAgICAgICAgICAgICAqICAgICBwcm9ncmVzczpcbiAgICAgICAgICAgICAqICAgICAtIGZyb206IDAuM1xuICAgICAgICAgICAgICogICAgICAgdG86IDAuNVxuICAgICAgICAgICAgICogICAgICAgc3RhcnQ6ICdub25lJ1xuICAgICAgICAgICAgICogICAgICAgZW5kOiAnbm9uZSdcbiAgICAgICAgICAgICAqICAgICAtIGZyb206IDAuNlxuICAgICAgICAgICAgICogICAgICAgdG86IDAuN1xuICAgICAgICAgICAgICogICAgICAgc3RhcnQ6ICdpbmxpbmUtYmxvY2snXG4gICAgICAgICAgICAgKiAgICAgICBlbmQ6ICdpbmxpbmUtYmxvY2snXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogU2luY2UgaXQgaXMgbm9JbnRlcnBvbGF0aW9uLCB0aGUgc3RhcnQgYW5kIGVuZCB2YWx1ZXMgYXJlIGV4cGVjdGVkXG4gICAgICAgICAgICAgKiB0byBiZSBpZGVudGljYWwsIGFuZCB3aGVuIHRoZXJlIGlzIG5vIG1hdGNoaW5nIHNldHRpbmcsIHRoZVxuICAgICAgICAgICAgICogdmFsdWUgd291bGQgcmV0dXJuIG51bGwgc28gdGhhdCB0aGUgXCJkZWZhdWx0XCIgY3NzIHZhbHVlXG4gICAgICAgICAgICAgKiBnZXRzIHVzZWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChjb25maWcubm9JbnRlcnBvbGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb25maWcubm9JbnRlcnBvbGF0aW9uRGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBhcmUgdXNpbmcgbm9JbnRlcnBvbGF0aW9uIHdpdGhvdXQgYSBub0ludGVycG9sYXRpb24gZGVmYXVsdCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWF0aGYuaXNCZXR3ZWVuKHRoaXMucGFyZW50UHJvZ3Jlc3MsIG1hdGNoZWRSYW5nZVByb2dyZXNzLmZyb20sIG1hdGNoZWRSYW5nZVByb2dyZXNzLnRvLCB0cnVlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBCeSBjb252ZW50aW9uLCB0aGUgc3RhcnQgYW5kIGVuZCBzaG91bGQgbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd2UganVzdCBwaWNrIGVuZC5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWVzW2NvbmZpZy5pZF0gPSBtYXRjaGVkUmFuZ2VQcm9ncmVzcy5lbmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZXNbY29uZmlnLmlkXSA9IGNvbmZpZy5ub0ludGVycG9sYXRpb25EZWZhdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE5vdyBjYWxjdWxhdGUgdGhlIGludGVycG9sYXRpb24gYmFzZWQgb24gdGhlIGNoaWxkUHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICAvLyBwcm9ncmVzcyB2YWx1ZS5cbiAgICAgICAgICAgICAgICBjb25zdCBpbnRlcnBvbGF0ZWRWYWx1ZSA9IG5ldyBJbnRlcnBvbGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IG1hdGNoZWRSYW5nZVByb2dyZXNzLnN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICB0bzogbWF0Y2hlZFJhbmdlUHJvZ3Jlc3MuZW5kLFxuICAgICAgICAgICAgICAgICAgICBlYXNlRnVuY3Rpb246IG1hdGNoZWRSYW5nZVByb2dyZXNzLmVhc2luZ0Z1bmN0aW9uIHx8IEVBU0UubGluZWFyLFxuICAgICAgICAgICAgICAgIH0pLmNhbGN1bGF0ZShjaGlsZFByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICAvLyBGaW5hbGx5IGNhY2hlIHRoaXMgdmFsdWUgdG8gdGhlIGN1cnJlbnQgdmFsdWVzIGxpc3QuXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWVzW2NvbmZpZy5pZF0gPSBpbnRlcnBvbGF0ZWRWYWx1ZTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBJZiB2aXNpYmlsaXR5SWQgaXMgZGVjbGFyZWQsIHdlIHdhbnQgdG8gY3JlYXRlIGFuIGV4dHJhXG4gICAgICAgICAgICAgICAgICogaW50ZXJwb2xhdGlvbiB2YWx1ZSB0aGF0IG9ic2VydmVzIHRoZSBjdXJyZW50IGNvbmZpZyBhbmRcbiAgICAgICAgICAgICAgICAgKiBzZXQgaXQgdmFsdWUgdG8gJ2hpZGRlbicgd2hlbiA8MCBhbmQgb3RoZXJ3aXNlICd2aXNpYmxlJ1xuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogVGhlIGdvYWwgaGVyZSBpcyB0byBiZSBhYmxlIHRvIGNyZWF0ZSBhIHZpc2liaWxpdHkgY3NzXG4gICAgICAgICAgICAgICAgICogdmFyaWFibGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBvcGFjaXR5IHZhcmlhYmxlLlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogV2hlbiB0aGUgb3BhY2l0eSBpcyAwLCB0aGUgdmlzaWJsaXR5IHNob3VsZCBiZSBoaWRkZW5cbiAgICAgICAgICAgICAgICAgKiB0byBib29zdCBwZXJmb3JtYW5jZS5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIGBgYFxuICAgICAgICAgICAgICAgICAqICB7XG4gICAgICAgICAgICAgICAgICogICBwcm9ncmVzczogW3sgZnJvbTogMCwgdG86IDAuMywgc3RhcnQ6IDAsIGVuZDogMSB9LF0sXG4gICAgICAgICAgICAgICAgICogICBpZDogJy0tbXktb3BhY2l0eSdcbiAgICAgICAgICAgICAgICAgKiAgIHZpc2liaWxpdHlJZDogJy0tbXktdmlzaWJpbGl0eSdcbiAgICAgICAgICAgICAgICAgKiB9LFxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogICAubXl2YXJcbiAgICAgICAgICAgICAgICAgKiAgICAgICBvcGFjaXR5OiB2YXIoLS1teS1vcGFjaXR5KVxuICAgICAgICAgICAgICAgICAqICAgICAgIHZpc2liaWxpdHk6IHZhcigtLW15LXZpc2liaWxpdHkpXG4gICAgICAgICAgICAgICAgICogYGBgXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vYmxpbmtrY29kZS9kZWd1L2lzc3Vlcy82NVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChjb25maWcudmlzaWJpbGl0eUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGlzIHRvIHRoZSBjdXJyZW50IHZhbHVlcyBsaXN0LlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZXNbY29uZmlnLnZpc2liaWxpdHlJZF0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVkVmFsdWUgPD0gMCA/ICdoaWRkZW4nIDogJ3Zpc2libGUnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJ1biB1cGRhdGUgZnVuY3Rpb24uXG4gICAgICAgICAgICBpZiAoY29uZmlnLm9uVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLm9uVXBkYXRlKGNvbmZpZy5pZCwgdGhpcy5wYXJlbnRQcm9ncmVzcywgdGhpcy5jdXJyZW50VmFsdWVzW2NvbmZpZy5pZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFZhbHVlcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tdWx0aS1pbnRlcnBvbGF0ZS5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/interpolate/multi-interpolate.js\n");

/***/ }),

/***/ "./lib/is/is.js":
/*!**********************!*\
  !*** ./lib/is/is.js ***!
  \**********************/
/*! exports provided: type, boolean, array, string, date, number, functionLike, nullLike, undefinedLike, defined, regex, object, int, float, multipleOf, powerOf2, even, odd, nan, mobile, ios, android, chrome, safari, ipad, edge, firefox, ie, ieOrEdge, chromeOs, supportingOffScreenCanvas, supportingWebp, supportingWebpAsync, supportingAdvancedCssCalc, supportingTouch, supportingDeviceOrientation, supportingFileApis, supportingCreateImageBitmap, cssHex, cssRgba, cssRgb, hex, windowLoaded, isGoogleCloudLikeUrl, isLandscape, landscape, isPortrait, portrait, bot, is */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"type\", function() { return type; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"boolean\", function() { return boolean; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"array\", function() { return array; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"string\", function() { return string; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"date\", function() { return date; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"number\", function() { return number; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"functionLike\", function() { return functionLike; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"nullLike\", function() { return nullLike; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"undefinedLike\", function() { return undefinedLike; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defined\", function() { return defined; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"regex\", function() { return regex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"object\", function() { return object; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"int\", function() { return int; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"float\", function() { return float; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"multipleOf\", function() { return multipleOf; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"powerOf2\", function() { return powerOf2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"even\", function() { return even; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"odd\", function() { return odd; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"nan\", function() { return nan; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mobile\", function() { return mobile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ios\", function() { return ios; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"android\", function() { return android; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"chrome\", function() { return chrome; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"safari\", function() { return safari; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ipad\", function() { return ipad; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"edge\", function() { return edge; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"firefox\", function() { return firefox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ie\", function() { return ie; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ieOrEdge\", function() { return ieOrEdge; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"chromeOs\", function() { return chromeOs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"supportingOffScreenCanvas\", function() { return supportingOffScreenCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"supportingWebp\", function() { return supportingWebp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"supportingWebpAsync\", function() { return supportingWebpAsync; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"supportingAdvancedCssCalc\", function() { return supportingAdvancedCssCalc; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"supportingTouch\", function() { return supportingTouch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"supportingDeviceOrientation\", function() { return supportingDeviceOrientation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"supportingFileApis\", function() { return supportingFileApis; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"supportingCreateImageBitmap\", function() { return supportingCreateImageBitmap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cssHex\", function() { return cssHex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cssRgba\", function() { return cssRgba; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cssRgb\", function() { return cssRgb; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hex\", function() { return hex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"windowLoaded\", function() { return windowLoaded; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isGoogleCloudLikeUrl\", function() { return isGoogleCloudLikeUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isLandscape\", function() { return isLandscape; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"landscape\", function() { return landscape; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isPortrait\", function() { return isPortrait; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"portrait\", function() { return portrait; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bot\", function() { return bot; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"is\", function() { return is; });\n/**\n * Helper function to do true type checking.\n * See https://gomakethings.com/true-type-checking-with-vanilla-js/\n * @param value\n * @param type\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction type(value, type) {\n    const trueType = Object.prototype.toString\n        .call(value)\n        .slice(8, -1)\n        .toLowerCase();\n    return type === trueType;\n}\n/**\n * @param value\n * @tested\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction boolean(value) {\n    return type(value, 'boolean');\n}\n/**\n * @param value\n * @tested\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction array(value) {\n    return type(value, 'array');\n}\n/**\n * @param value\n * @tested\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction string(value) {\n    return type(value, 'string');\n}\n/**\n * @param value\n * @tested\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction date(value) {\n    return type(value, 'date');\n}\n/**\n * @param value\n * @tested\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction number(value) {\n    return type(value, 'number');\n}\n/**\n * @param value\n * @tested\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction functionLike(value) {\n    return type(value, 'function');\n}\n/**\n * @param value\n * @tested\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction nullLike(value) {\n    return type(value, 'null');\n}\n/**\n * @param value\n * @tested\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction undefinedLike(value) {\n    return type(value, 'undefined');\n}\n/**\n * @param value\n * @tested\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction defined(value) {\n    return !undefinedLike(value);\n}\n/**\n * @param value\n * @tested\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction regex(value) {\n    return type(value, 'regexp');\n}\n/**\n * @param value\n * @tested\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction object(value) {\n    return type(value, 'object');\n}\n/**\n * @param value\n * @tested\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction int(value) {\n    return number(value) && value % 1 === 0;\n}\n/**\n * @param value\n * @tested\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction float(value) {\n    return number(value) && !int(value);\n}\n/**\n * @param value\n * @tested\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction multipleOf(value, multiple) {\n    return number(value) && value % multiple === 0;\n}\n/**\n * @param value\n * @tested\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction powerOf2(value) {\n    return value !== 0 && (value & (value - 1)) === 0;\n}\n/**\n * @param value\n * @tested\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction even(value) {\n    return number(value) && multipleOf(value, 2);\n}\n/**\n * @param value\n * @tested\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction odd(value) {\n    return number(value) && !even(value);\n}\n/**\n * https://stackoverflow.com/questions/2652319/how-do-you-check-that-a-number-is-nan-in-javascript\n * @param value\n * @tested\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction nan(value) {\n    return value !== value;\n}\nfunction mobile() {\n    return ios() || android();\n}\nfunction ios() {\n    return /iPhone|iPad|iPod/i.test(navigator.userAgent) || ipad();\n}\nfunction android() {\n    return /Android/i.test(navigator.userAgent);\n}\nfunction chrome() {\n    return navigator.userAgent.indexOf('Chrome') !== -1 && !edge();\n}\nfunction safari() {\n    return !chrome() && navigator.userAgent.indexOf('Safari') !== -1 && !edge();\n}\nfunction ipad() {\n    return (navigator.userAgent.toLowerCase().indexOf('macintosh') !== -1 &&\n        Boolean(navigator.maxTouchPoints) &&\n        navigator.maxTouchPoints > 2);\n}\nfunction edge() {\n    return navigator.userAgent.indexOf('Edge') !== -1;\n}\nfunction firefox() {\n    return navigator.userAgent.indexOf('Firefox') !== -1;\n}\nfunction ie() {\n    return /MSIE\\/\\d+/.test(navigator.userAgent);\n}\nfunction ieOrEdge() {\n    return (/Edge\\/\\d+/.test(navigator.userAgent) ||\n        /MSIE\\/\\d+/.test(navigator.userAgent) ||\n        /Trident\\/\\d+/.test(navigator.userAgent));\n}\nfunction chromeOs() {\n    return /\\bCrOS\\b/.test(navigator.userAgent);\n}\n/**\n * Detects support for offscreen canvas.\n * https://developer.mozilla.org/en-US/docs/Web/API/OffscreenCanvas\n */\nfunction supportingOffScreenCanvas() {\n    return !!window['OffscreenCanvas'];\n}\n/**\n * Detects support for webp images\n */\nfunction supportingWebp() {\n    const elem = document.createElement('canvas');\n    let canvasSupported = false;\n    if (elem.toDataURL('image/webp')) {\n        canvasSupported =\n            elem.toDataURL('image/webp').indexOf('data:image/webp') === 0;\n    }\n    // Test for firefox fails in the above but as of version 65 FF\n    // supports webp.\n    if (firefox() && +navigator.userAgent.match(/Firefox\\/(.*)/)[1] >= 65) {\n        canvasSupported = true;\n    }\n    // Test for Edge fails above but as of version 18, Edge supports\n    // webp.\n    if (edge() && +navigator.userAgent.match(/Edge\\/(.*)/)[1] >= 18) {\n        canvasSupported = true;\n    }\n    return canvasSupported;\n}\n/**\n * The is.supportWebp has some performance costs due to the use of toDataUrl.\n * This allows you to avoid that.\n *\n * Note that technically it is async but it is going to resolve almost\n * instantly.\n *\n * ```\n * is.supportingWebpAsync().then((supports)=> {\n *    if(supports) {\n *      ...supported\n *    }\n * });\n *\n * ```\n */\nfunction supportingWebpAsync() {\n    return new Promise(resolve => {\n        const img = new Image();\n        img.onload = function () {\n            const result = img.width > 0 && img.height > 0;\n            resolve(result);\n        };\n        img.onerror = () => {\n            resolve(false);\n        };\n        img.src =\n            'data:image/webp;base64,' +\n                'UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==';\n    });\n}\n/**\n * Whether the browser can handle more advanced css calc.\n * @see https://css-tricks.com/making-custom-properties-css-variables-dynamic/\n */\nfunction supportingAdvancedCssCalc() {\n    document.body.style.transitionTimingFunction =\n        'cubic-bezier(calc(1 * 1),1,1,1)';\n    return getComputedStyle(document.body).transitionTimingFunction !== 'ease';\n}\n/**\n * Whether touch is supported or not.\n */\nfunction supportingTouch() {\n    return ('ontouchstart' in window ||\n        navigator.maxTouchPoints > 0 ||\n        navigator.msMaxTouchPoints > 0);\n}\n/**\n * Whether device orientation is supported\n */\nfunction supportingDeviceOrientation() {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return !!window['DeviceOrientationEvent'];\n}\n/**\n * Whether FILE Apis are supported.\n */\nfunction supportingFileApis() {\n    return !!(window['File'] &&\n        window['FileReader'] &&\n        window['FileList'] &&\n        window['Blob']);\n}\n/**\n * Whether createImageBitMap is supported or not.\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/createImageBitmap;\n */\nfunction supportingCreateImageBitmap() {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return !!window['createImageBitmap'] && !firefox();\n}\n/**\n * A string value that appears to be a css hex.\n *\n * ```\n * is.cssHex('#FFFFFF') // true\n * is.cssHex('#ffffff') // true\n * is.cssHex('FFFFFF') // false\n * is.cssHex(0) // false\n *\n * ```\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction cssHex(value) {\n    return string(value) && value.startsWith('#');\n}\n/**\n * A string value that appears to be a css rgba like.\n *\n * ```\n * is.cssRgba(\"rgba(255, 255, 255, 0.3)\") // true\n * is.cssRgba(\"rgba()\") // true\n * is.cssRgba('rgb('255, 255, 255)') // false\n *\n * ```\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction cssRgba(value) {\n    return string(value) && value.startsWith('rgba(');\n}\n/**\n * A string value that appears to be a css rgb like.\n *\n * ```\n * is.cssRgb(\"rgb(255, 255, 255)\") // true\n * is.cssRgb(\"rgba(')\") // false\n * is.cssRgb(90) // false\n *\n * ```\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction cssRgb(value) {\n    return string(value) && value.startsWith('rgb(');\n}\n/**\n * Tests whether this is a hex value.\n * ```\n * is.hex('#FFFFFF') // false -> starts with #.\n * is.hex('FFFFFF') // true\n * is.hex('ffffff') // true\n * is.hex(0) // false\n *\n * ```\n * @param value\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction hex(value) {\n    const a = parseInt(value, 16);\n    return string(value) && a.toString(16) === value.toLowerCase();\n}\n/**\n * Whether if the window load event has fired.\n * @see https://stackoverflow.com/questions/13364613/how-to-know-if-window-load-event-was-fired-already\n * @see https://developer.mozilla.org/en-US/docs/Web/API/PerformanceTiming/loadEventEnd\n */\nfunction windowLoaded() {\n    return performance.timing.loadEventEnd !== 0;\n}\n/**\n * Whether this URL looks like a google cloudish url.\n * @param url\n */\nfunction isGoogleCloudLikeUrl(url) {\n    return url.includes('googleusercontent.com');\n}\n/**\n * Whether the current viewport is landscape or not.   Includes 1x1 aspect.\n */\nfunction isLandscape() {\n    return window.innerWidth >= window.innerHeight;\n}\n// Alias\nfunction landscape() {\n    return window.innerWidth < window.innerHeight;\n}\n/**\n * Whether the current viewport is portrait or not.   Excludes 1x1 aspect.\n */\nfunction isPortrait() {\n    return window.innerWidth < window.innerHeight;\n}\n// Alias\nfunction portrait() {\n    return window.innerWidth < window.innerHeight;\n}\n/**\n * Whether this is one of the major search engine bots.\n * https://stackoverflow.com/questions/20084513/detect-search-crawlers-via-javascript\n */\nfunction bot() {\n    const botPattern = '(googlebot/|bot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)';\n    const re = new RegExp(botPattern, 'i');\n    return re.test(navigator.userAgent);\n}\n/**\n * A utility function that generally tests the state of things.\n */\nconst is = {\n    android,\n    array,\n    boolean,\n    bot,\n    chrome,\n    chromeOs,\n    cssHex,\n    cssRgb,\n    cssRgba,\n    date,\n    defined,\n    edge,\n    even,\n    firefox,\n    float,\n    functionLike,\n    function: functionLike,\n    hex,\n    ie,\n    ieOrEdge,\n    int,\n    ios,\n    ipad,\n    isGoogleCloudLikeUrl,\n    landscape,\n    portrait,\n    isLandscape: landscape,\n    mobile,\n    multipleOf,\n    nan,\n    nullLike,\n    null: nullLike,\n    number,\n    object,\n    odd,\n    isPortrait: portrait,\n    powerOf2,\n    regex,\n    safari,\n    string,\n    supportingAdvancedCssCalc,\n    supportingCreateImageBitmap,\n    supportingDeviceOrientation,\n    supportingFileApis,\n    supportingOffScreenCanvas,\n    supportingTouch,\n    supportingWebp,\n    supportingWebpAsync,\n    type,\n    undefined: undefinedLike,\n    windowLoaded,\n};\n//# sourceMappingURL=is.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvaXMvaXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvaXMvaXMuanM/YzYzMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBkbyB0cnVlIHR5cGUgY2hlY2tpbmcuXG4gKiBTZWUgaHR0cHM6Ly9nb21ha2V0aGluZ3MuY29tL3RydWUtdHlwZS1jaGVja2luZy13aXRoLXZhbmlsbGEtanMvXG4gKiBAcGFyYW0gdmFsdWVcbiAqIEBwYXJhbSB0eXBlXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gdHlwZSh2YWx1ZSwgdHlwZSkge1xuICAgIGNvbnN0IHRydWVUeXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xuICAgICAgICAuY2FsbCh2YWx1ZSlcbiAgICAgICAgLnNsaWNlKDgsIC0xKVxuICAgICAgICAudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gdHlwZSA9PT0gdHJ1ZVR5cGU7XG59XG4vKipcbiAqIEBwYXJhbSB2YWx1ZVxuICogQHRlc3RlZFxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGZ1bmN0aW9uIGJvb2xlYW4odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZSh2YWx1ZSwgJ2Jvb2xlYW4nKTtcbn1cbi8qKlxuICogQHBhcmFtIHZhbHVlXG4gKiBAdGVzdGVkXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gYXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZSh2YWx1ZSwgJ2FycmF5Jyk7XG59XG4vKipcbiAqIEBwYXJhbSB2YWx1ZVxuICogQHRlc3RlZFxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlKHZhbHVlLCAnc3RyaW5nJyk7XG59XG4vKipcbiAqIEBwYXJhbSB2YWx1ZVxuICogQHRlc3RlZFxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGZ1bmN0aW9uIGRhdGUodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZSh2YWx1ZSwgJ2RhdGUnKTtcbn1cbi8qKlxuICogQHBhcmFtIHZhbHVlXG4gKiBAdGVzdGVkXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGUodmFsdWUsICdudW1iZXInKTtcbn1cbi8qKlxuICogQHBhcmFtIHZhbHVlXG4gKiBAdGVzdGVkXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gZnVuY3Rpb25MaWtlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGUodmFsdWUsICdmdW5jdGlvbicpO1xufVxuLyoqXG4gKiBAcGFyYW0gdmFsdWVcbiAqIEB0ZXN0ZWRcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBmdW5jdGlvbiBudWxsTGlrZSh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlKHZhbHVlLCAnbnVsbCcpO1xufVxuLyoqXG4gKiBAcGFyYW0gdmFsdWVcbiAqIEB0ZXN0ZWRcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBmdW5jdGlvbiB1bmRlZmluZWRMaWtlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGUodmFsdWUsICd1bmRlZmluZWQnKTtcbn1cbi8qKlxuICogQHBhcmFtIHZhbHVlXG4gKiBAdGVzdGVkXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lZCh2YWx1ZSkge1xuICAgIHJldHVybiAhdW5kZWZpbmVkTGlrZSh2YWx1ZSk7XG59XG4vKipcbiAqIEBwYXJhbSB2YWx1ZVxuICogQHRlc3RlZFxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2V4KHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGUodmFsdWUsICdyZWdleHAnKTtcbn1cbi8qKlxuICogQHBhcmFtIHZhbHVlXG4gKiBAdGVzdGVkXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gb2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGUodmFsdWUsICdvYmplY3QnKTtcbn1cbi8qKlxuICogQHBhcmFtIHZhbHVlXG4gKiBAdGVzdGVkXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gaW50KHZhbHVlKSB7XG4gICAgcmV0dXJuIG51bWJlcih2YWx1ZSkgJiYgdmFsdWUgJSAxID09PSAwO1xufVxuLyoqXG4gKiBAcGFyYW0gdmFsdWVcbiAqIEB0ZXN0ZWRcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBmdW5jdGlvbiBmbG9hdCh2YWx1ZSkge1xuICAgIHJldHVybiBudW1iZXIodmFsdWUpICYmICFpbnQodmFsdWUpO1xufVxuLyoqXG4gKiBAcGFyYW0gdmFsdWVcbiAqIEB0ZXN0ZWRcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBsZU9mKHZhbHVlLCBtdWx0aXBsZSkge1xuICAgIHJldHVybiBudW1iZXIodmFsdWUpICYmIHZhbHVlICUgbXVsdGlwbGUgPT09IDA7XG59XG4vKipcbiAqIEBwYXJhbSB2YWx1ZVxuICogQHRlc3RlZFxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGZ1bmN0aW9uIHBvd2VyT2YyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSAwICYmICh2YWx1ZSAmICh2YWx1ZSAtIDEpKSA9PT0gMDtcbn1cbi8qKlxuICogQHBhcmFtIHZhbHVlXG4gKiBAdGVzdGVkXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gZXZlbih2YWx1ZSkge1xuICAgIHJldHVybiBudW1iZXIodmFsdWUpICYmIG11bHRpcGxlT2YodmFsdWUsIDIpO1xufVxuLyoqXG4gKiBAcGFyYW0gdmFsdWVcbiAqIEB0ZXN0ZWRcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBmdW5jdGlvbiBvZGQodmFsdWUpIHtcbiAgICByZXR1cm4gbnVtYmVyKHZhbHVlKSAmJiAhZXZlbih2YWx1ZSk7XG59XG4vKipcbiAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI2NTIzMTkvaG93LWRvLXlvdS1jaGVjay10aGF0LWEtbnVtYmVyLWlzLW5hbi1pbi1qYXZhc2NyaXB0XG4gKiBAcGFyYW0gdmFsdWVcbiAqIEB0ZXN0ZWRcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBmdW5jdGlvbiBuYW4odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1vYmlsZSgpIHtcbiAgICByZXR1cm4gaW9zKCkgfHwgYW5kcm9pZCgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlvcygpIHtcbiAgICByZXR1cm4gL2lQaG9uZXxpUGFkfGlQb2QvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpIHx8IGlwYWQoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhbmRyb2lkKCkge1xuICAgIHJldHVybiAvQW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2hyb21lKCkge1xuICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0Nocm9tZScpICE9PSAtMSAmJiAhZWRnZSgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNhZmFyaSgpIHtcbiAgICByZXR1cm4gIWNocm9tZSgpICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignU2FmYXJpJykgIT09IC0xICYmICFlZGdlKCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXBhZCgpIHtcbiAgICByZXR1cm4gKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdtYWNpbnRvc2gnKSAhPT0gLTEgJiZcbiAgICAgICAgQm9vbGVhbihuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMpICYmXG4gICAgICAgIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVkZ2UoKSB7XG4gICAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRWRnZScpICE9PSAtMTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaXJlZm94KCkge1xuICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSAhPT0gLTE7XG59XG5leHBvcnQgZnVuY3Rpb24gaWUoKSB7XG4gICAgcmV0dXJuIC9NU0lFXFwvXFxkKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpZU9yRWRnZSgpIHtcbiAgICByZXR1cm4gKC9FZGdlXFwvXFxkKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSB8fFxuICAgICAgICAvTVNJRVxcL1xcZCsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgfHxcbiAgICAgICAgL1RyaWRlbnRcXC9cXGQrLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjaHJvbWVPcygpIHtcbiAgICByZXR1cm4gL1xcYkNyT1NcXGIvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG59XG4vKipcbiAqIERldGVjdHMgc3VwcG9ydCBmb3Igb2Zmc2NyZWVuIGNhbnZhcy5cbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9PZmZzY3JlZW5DYW52YXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRpbmdPZmZTY3JlZW5DYW52YXMoKSB7XG4gICAgcmV0dXJuICEhd2luZG93WydPZmZzY3JlZW5DYW52YXMnXTtcbn1cbi8qKlxuICogRGV0ZWN0cyBzdXBwb3J0IGZvciB3ZWJwIGltYWdlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3VwcG9ydGluZ1dlYnAoKSB7XG4gICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGxldCBjYW52YXNTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICBpZiAoZWxlbS50b0RhdGFVUkwoJ2ltYWdlL3dlYnAnKSkge1xuICAgICAgICBjYW52YXNTdXBwb3J0ZWQgPVxuICAgICAgICAgICAgZWxlbS50b0RhdGFVUkwoJ2ltYWdlL3dlYnAnKS5pbmRleE9mKCdkYXRhOmltYWdlL3dlYnAnKSA9PT0gMDtcbiAgICB9XG4gICAgLy8gVGVzdCBmb3IgZmlyZWZveCBmYWlscyBpbiB0aGUgYWJvdmUgYnV0IGFzIG9mIHZlcnNpb24gNjUgRkZcbiAgICAvLyBzdXBwb3J0cyB3ZWJwLlxuICAgIGlmIChmaXJlZm94KCkgJiYgK25hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0ZpcmVmb3hcXC8oLiopLylbMV0gPj0gNjUpIHtcbiAgICAgICAgY2FudmFzU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gVGVzdCBmb3IgRWRnZSBmYWlscyBhYm92ZSBidXQgYXMgb2YgdmVyc2lvbiAxOCwgRWRnZSBzdXBwb3J0c1xuICAgIC8vIHdlYnAuXG4gICAgaWYgKGVkZ2UoKSAmJiArbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRWRnZVxcLyguKikvKVsxXSA+PSAxOCkge1xuICAgICAgICBjYW52YXNTdXBwb3J0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gY2FudmFzU3VwcG9ydGVkO1xufVxuLyoqXG4gKiBUaGUgaXMuc3VwcG9ydFdlYnAgaGFzIHNvbWUgcGVyZm9ybWFuY2UgY29zdHMgZHVlIHRvIHRoZSB1c2Ugb2YgdG9EYXRhVXJsLlxuICogVGhpcyBhbGxvd3MgeW91IHRvIGF2b2lkIHRoYXQuXG4gKlxuICogTm90ZSB0aGF0IHRlY2huaWNhbGx5IGl0IGlzIGFzeW5jIGJ1dCBpdCBpcyBnb2luZyB0byByZXNvbHZlIGFsbW9zdFxuICogaW5zdGFudGx5LlxuICpcbiAqIGBgYFxuICogaXMuc3VwcG9ydGluZ1dlYnBBc3luYygpLnRoZW4oKHN1cHBvcnRzKT0+IHtcbiAqICAgIGlmKHN1cHBvcnRzKSB7XG4gKiAgICAgIC4uLnN1cHBvcnRlZFxuICogICAgfVxuICogfSk7XG4gKlxuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdXBwb3J0aW5nV2VicEFzeW5jKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBpbWcud2lkdGggPiAwICYmIGltZy5oZWlnaHQgPiAwO1xuICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9O1xuICAgICAgICBpbWcub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICB9O1xuICAgICAgICBpbWcuc3JjID1cbiAgICAgICAgICAgICdkYXRhOmltYWdlL3dlYnA7YmFzZTY0LCcgK1xuICAgICAgICAgICAgICAgICdVa2xHUmhvQUFBQlhSVUpRVmxBNFRBMEFBQUF2QUFBQUVBY1FFUkdJaVA0SEFBPT0nO1xuICAgIH0pO1xufVxuLyoqXG4gKiBXaGV0aGVyIHRoZSBicm93c2VyIGNhbiBoYW5kbGUgbW9yZSBhZHZhbmNlZCBjc3MgY2FsYy5cbiAqIEBzZWUgaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9tYWtpbmctY3VzdG9tLXByb3BlcnRpZXMtY3NzLXZhcmlhYmxlcy1keW5hbWljL1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3VwcG9ydGluZ0FkdmFuY2VkQ3NzQ2FsYygpIHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiA9XG4gICAgICAgICdjdWJpYy1iZXppZXIoY2FsYygxICogMSksMSwxLDEpJztcbiAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS50cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24gIT09ICdlYXNlJztcbn1cbi8qKlxuICogV2hldGhlciB0b3VjaCBpcyBzdXBwb3J0ZWQgb3Igbm90LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VwcG9ydGluZ1RvdWNoKCkge1xuICAgIHJldHVybiAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8XG4gICAgICAgIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDAgfHxcbiAgICAgICAgbmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMgPiAwKTtcbn1cbi8qKlxuICogV2hldGhlciBkZXZpY2Ugb3JpZW50YXRpb24gaXMgc3VwcG9ydGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdXBwb3J0aW5nRGV2aWNlT3JpZW50YXRpb24oKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICByZXR1cm4gISF3aW5kb3dbJ0RldmljZU9yaWVudGF0aW9uRXZlbnQnXTtcbn1cbi8qKlxuICogV2hldGhlciBGSUxFIEFwaXMgYXJlIHN1cHBvcnRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRpbmdGaWxlQXBpcygpIHtcbiAgICByZXR1cm4gISEod2luZG93WydGaWxlJ10gJiZcbiAgICAgICAgd2luZG93WydGaWxlUmVhZGVyJ10gJiZcbiAgICAgICAgd2luZG93WydGaWxlTGlzdCddICYmXG4gICAgICAgIHdpbmRvd1snQmxvYiddKTtcbn1cbi8qKlxuICogV2hldGhlciBjcmVhdGVJbWFnZUJpdE1hcCBpcyBzdXBwb3J0ZWQgb3Igbm90LlxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93T3JXb3JrZXJHbG9iYWxTY29wZS9jcmVhdGVJbWFnZUJpdG1hcDtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRpbmdDcmVhdGVJbWFnZUJpdG1hcCgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHJldHVybiAhIXdpbmRvd1snY3JlYXRlSW1hZ2VCaXRtYXAnXSAmJiAhZmlyZWZveCgpO1xufVxuLyoqXG4gKiBBIHN0cmluZyB2YWx1ZSB0aGF0IGFwcGVhcnMgdG8gYmUgYSBjc3MgaGV4LlxuICpcbiAqIGBgYFxuICogaXMuY3NzSGV4KCcjRkZGRkZGJykgLy8gdHJ1ZVxuICogaXMuY3NzSGV4KCcjZmZmZmZmJykgLy8gdHJ1ZVxuICogaXMuY3NzSGV4KCdGRkZGRkYnKSAvLyBmYWxzZVxuICogaXMuY3NzSGV4KDApIC8vIGZhbHNlXG4gKlxuICogYGBgXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gY3NzSGV4KHZhbHVlKSB7XG4gICAgcmV0dXJuIHN0cmluZyh2YWx1ZSkgJiYgdmFsdWUuc3RhcnRzV2l0aCgnIycpO1xufVxuLyoqXG4gKiBBIHN0cmluZyB2YWx1ZSB0aGF0IGFwcGVhcnMgdG8gYmUgYSBjc3MgcmdiYSBsaWtlLlxuICpcbiAqIGBgYFxuICogaXMuY3NzUmdiYShcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKVwiKSAvLyB0cnVlXG4gKiBpcy5jc3NSZ2JhKFwicmdiYSgpXCIpIC8vIHRydWVcbiAqIGlzLmNzc1JnYmEoJ3JnYignMjU1LCAyNTUsIDI1NSknKSAvLyBmYWxzZVxuICpcbiAqIGBgYFxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGZ1bmN0aW9uIGNzc1JnYmEodmFsdWUpIHtcbiAgICByZXR1cm4gc3RyaW5nKHZhbHVlKSAmJiB2YWx1ZS5zdGFydHNXaXRoKCdyZ2JhKCcpO1xufVxuLyoqXG4gKiBBIHN0cmluZyB2YWx1ZSB0aGF0IGFwcGVhcnMgdG8gYmUgYSBjc3MgcmdiIGxpa2UuXG4gKlxuICogYGBgXG4gKiBpcy5jc3NSZ2IoXCJyZ2IoMjU1LCAyNTUsIDI1NSlcIikgLy8gdHJ1ZVxuICogaXMuY3NzUmdiKFwicmdiYSgnKVwiKSAvLyBmYWxzZVxuICogaXMuY3NzUmdiKDkwKSAvLyBmYWxzZVxuICpcbiAqIGBgYFxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGZ1bmN0aW9uIGNzc1JnYih2YWx1ZSkge1xuICAgIHJldHVybiBzdHJpbmcodmFsdWUpICYmIHZhbHVlLnN0YXJ0c1dpdGgoJ3JnYignKTtcbn1cbi8qKlxuICogVGVzdHMgd2hldGhlciB0aGlzIGlzIGEgaGV4IHZhbHVlLlxuICogYGBgXG4gKiBpcy5oZXgoJyNGRkZGRkYnKSAvLyBmYWxzZSAtPiBzdGFydHMgd2l0aCAjLlxuICogaXMuaGV4KCdGRkZGRkYnKSAvLyB0cnVlXG4gKiBpcy5oZXgoJ2ZmZmZmZicpIC8vIHRydWVcbiAqIGlzLmhleCgwKSAvLyBmYWxzZVxuICpcbiAqIGBgYFxuICogQHBhcmFtIHZhbHVlXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gaGV4KHZhbHVlKSB7XG4gICAgY29uc3QgYSA9IHBhcnNlSW50KHZhbHVlLCAxNik7XG4gICAgcmV0dXJuIHN0cmluZyh2YWx1ZSkgJiYgYS50b1N0cmluZygxNikgPT09IHZhbHVlLnRvTG93ZXJDYXNlKCk7XG59XG4vKipcbiAqIFdoZXRoZXIgaWYgdGhlIHdpbmRvdyBsb2FkIGV2ZW50IGhhcyBmaXJlZC5cbiAqIEBzZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTMzNjQ2MTMvaG93LXRvLWtub3ctaWYtd2luZG93LWxvYWQtZXZlbnQtd2FzLWZpcmVkLWFscmVhZHlcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BlcmZvcm1hbmNlVGltaW5nL2xvYWRFdmVudEVuZFxuICovXG5leHBvcnQgZnVuY3Rpb24gd2luZG93TG9hZGVkKCkge1xuICAgIHJldHVybiBwZXJmb3JtYW5jZS50aW1pbmcubG9hZEV2ZW50RW5kICE9PSAwO1xufVxuLyoqXG4gKiBXaGV0aGVyIHRoaXMgVVJMIGxvb2tzIGxpa2UgYSBnb29nbGUgY2xvdWRpc2ggdXJsLlxuICogQHBhcmFtIHVybFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNHb29nbGVDbG91ZExpa2VVcmwodXJsKSB7XG4gICAgcmV0dXJuIHVybC5pbmNsdWRlcygnZ29vZ2xldXNlcmNvbnRlbnQuY29tJyk7XG59XG4vKipcbiAqIFdoZXRoZXIgdGhlIGN1cnJlbnQgdmlld3BvcnQgaXMgbGFuZHNjYXBlIG9yIG5vdC4gICBJbmNsdWRlcyAxeDEgYXNwZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNMYW5kc2NhcGUoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoID49IHdpbmRvdy5pbm5lckhlaWdodDtcbn1cbi8vIEFsaWFzXG5leHBvcnQgZnVuY3Rpb24gbGFuZHNjYXBlKCkge1xuICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCA8IHdpbmRvdy5pbm5lckhlaWdodDtcbn1cbi8qKlxuICogV2hldGhlciB0aGUgY3VycmVudCB2aWV3cG9ydCBpcyBwb3J0cmFpdCBvciBub3QuICAgRXhjbHVkZXMgMXgxIGFzcGVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUG9ydHJhaXQoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoIDwgd2luZG93LmlubmVySGVpZ2h0O1xufVxuLy8gQWxpYXNcbmV4cG9ydCBmdW5jdGlvbiBwb3J0cmFpdCgpIHtcbiAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGggPCB3aW5kb3cuaW5uZXJIZWlnaHQ7XG59XG4vKipcbiAqIFdoZXRoZXIgdGhpcyBpcyBvbmUgb2YgdGhlIG1ham9yIHNlYXJjaCBlbmdpbmUgYm90cy5cbiAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzIwMDg0NTEzL2RldGVjdC1zZWFyY2gtY3Jhd2xlcnMtdmlhLWphdmFzY3JpcHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJvdCgpIHtcbiAgICBjb25zdCBib3RQYXR0ZXJuID0gJyhnb29nbGVib3QvfGJvdHxHb29nbGVib3QtTW9iaWxlfEdvb2dsZWJvdC1JbWFnZXxHb29nbGUgZmF2aWNvbnxNZWRpYXBhcnRuZXJzLUdvb2dsZXxiaW5nYm90fHNsdXJwfGphdmF8d2dldHxjdXJsfENvbW1vbnMtSHR0cENsaWVudHxQeXRob24tdXJsbGlifGxpYnd3d3xodHRwdW5pdHxudXRjaHxwaHBjcmF3bHxtc25ib3R8anl4b2JvdHxGQVNULVdlYkNyYXdsZXJ8RkFTVCBFbnRlcnByaXNlIENyYXdsZXJ8YmlnbG90cm9ufHRlb21hfGNvbnZlcmF8c2Vla2JvdHxnaWdhYmxhc3R8ZXhhYm90fG5nYm90fGlhX2FyY2hpdmVyfEdpbmdlckNyYXdsZXJ8d2VibW9uIHxodHRyYWNrfHdlYmNyYXdsZXJ8Z3J1Yi5vcmd8VXNpbmVOb3V2ZWxsZUNyYXdsZXJ8YW50aWJvdHxuZXRyZXNlYXJjaHNlcnZlcnxzcGVlZHl8Zmx1ZmZ5fGJpYm51bS5ibmZ8ZmluZGxpbmt8bXNyYm90fHBhbnNjaWVudHx5YWN5Ym90fEFJU2VhcmNoQm90fElPSXxpcHMtYWdlbnR8dGFnb29ib3R8TUoxMmJvdHxkb3Rib3R8d29yaW9ib3R8eWFuZ2F8YnV6emJvdHxtbGJvdHx5YW5kZXhib3R8cHVyZWJvdHxMaW5ndWVlIEJvdHxWb3lhZ2VyfEN5YmVyUGF0cm9sfHZvaWxhYm90fGJhaWR1c3BpZGVyfGNpdGVzZWVyeGJvdHxzcGJvdHx0d2VuZ2Fib3R8cG9zdHJhbmt8dHVybml0aW5ib3R8c2NyaWJkYm90fHBhZ2UycnNzfHNpdGVib3R8bGlua2RleHxBZGlkeGJvdHxibGVra29ib3R8ZXpvb21zfGRvdGJvdHxNYWlsLlJVX0JvdHxkaXNjb2JvdHxoZXJpdHJpeHxmaW5kdGhhdGZpbGV8ZXVyb3BhcmNoaXZlLm9yZ3xOZXJkQnlOYXR1cmUuQm90fHNpc3RyaXggY3Jhd2xlcnxhaHJlZnNib3R8QWJvdW5kZXh8ZG9tYWluY3Jhd2xlcnx3YnNlYXJjaGJvdHxzdW1taWZ5fGNjYm90fGVkaXN0ZXJib3R8c2V6bmFtYm90fGVjMmxpbmtmaW5kZXJ8Z3NsZmJvdHxhaWhpdGJvdHxpbnRlbGl1bV9ib3R8ZmFjZWJvb2tleHRlcm5hbGhpdHx5ZXRpfFJldHJldm9QYWdlQW5hbHl6ZXJ8bGItc3BpZGVyfHNvZ291fGxzc2JvdHxjYXJlZXJib3R8d290Ym94fHdvY2JvdHxpY2hpcm98RHVja0R1Y2tCb3R8bHNzcm9ja2V0Y3Jhd2xlcnxkcnVwYWN0fHdlYmNvbXBhbnljcmF3bGVyfGFjb29uYm90fG9wZW5pbmRleHNwaWRlcnxnbmFtIGduYW0gc3BpZGVyfHdlYi1hcmNoaXZlLW5ldC5jb20uYm90fGJhY2tsaW5rY3Jhd2xlcnxjb2Njb2N8aW50ZWdyb21lZGJ8Y29udGVudCBjcmF3bGVyIHNwaWRlcnx0b3BsaXN0Ym90fHNlb2tpY2tzLXJvYm90fGl0Mm1lZGlhLWRvbWFpbi1jcmF3bGVyfGlwLXdlYi1jcmF3bGVyLmNvbXxzaXRlZXhwbG9yZXIuaW5mb3xlbGlzYWJvdHxwcm94aW1pY3xjaGFuZ2VkZXRlY3Rpb258YmxleGJvdHxhcmFib3R8V2VTRUU6U2VhcmNofG5pa2ktYm90fENyeXN0YWxTZW1hbnRpY3NCb3R8cm9nZXJib3R8MzYwU3BpZGVyfHBzYm90fEludGVyZmF4U2NhbkJvdHxMaXBwZXJoZXkgU0VPIFNlcnZpY2V8Q0MgTWV0YWRhdGEgU2NhcGVyfGcwMGcxZS5uZXR8R3JhcGVzaG90Q3Jhd2xlcnx1cmxhcHBlbmRib3R8YnJhaW5vYm90fGZyLWNyYXdsZXJ8YmlubGFyfFNpbXBsZUNyYXdsZXJ8TGl2ZWxhcGJvdHxUd2l0dGVyYm90fGNYZW5zZWJvdHxzbXRib3R8Ym5mLmZyX2JvdHxBNi1JbmRleGVyfEFEbWFudFh8RmFjZWJvdHxUd2l0dGVyYm90fE9yYW5nZUJvdHxtZW1vcnlib3R8QWR2Qm90fE1lZ2FJbmRleHxTZW1hbnRpY1NjaG9sYXJCb3R8bHR4NzF8bmVyZHlib3R8eG92aWJvdHxCVWJpTkd8UXdhbnRpZnl8YXJjaGl2ZS5vcmdfYm90fEFwcGxlYm90fFR3ZWV0bWVtZUJvdHxjcmF3bGVyNGp8ZmluZHhib3R8U2VtcnVzaEJvdHx5b296Qm90fGxpcHBlcmhleXx5IWotYXNyfERvbWFpbiBSZS1BbmltYXRvciBCb3R8QWRkVGhpcyknO1xuICAgIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChib3RQYXR0ZXJuLCAnaScpO1xuICAgIHJldHVybiByZS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xufVxuLyoqXG4gKiBBIHV0aWxpdHkgZnVuY3Rpb24gdGhhdCBnZW5lcmFsbHkgdGVzdHMgdGhlIHN0YXRlIG9mIHRoaW5ncy5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzID0ge1xuICAgIGFuZHJvaWQsXG4gICAgYXJyYXksXG4gICAgYm9vbGVhbixcbiAgICBib3QsXG4gICAgY2hyb21lLFxuICAgIGNocm9tZU9zLFxuICAgIGNzc0hleCxcbiAgICBjc3NSZ2IsXG4gICAgY3NzUmdiYSxcbiAgICBkYXRlLFxuICAgIGRlZmluZWQsXG4gICAgZWRnZSxcbiAgICBldmVuLFxuICAgIGZpcmVmb3gsXG4gICAgZmxvYXQsXG4gICAgZnVuY3Rpb25MaWtlLFxuICAgIGZ1bmN0aW9uOiBmdW5jdGlvbkxpa2UsXG4gICAgaGV4LFxuICAgIGllLFxuICAgIGllT3JFZGdlLFxuICAgIGludCxcbiAgICBpb3MsXG4gICAgaXBhZCxcbiAgICBpc0dvb2dsZUNsb3VkTGlrZVVybCxcbiAgICBsYW5kc2NhcGUsXG4gICAgcG9ydHJhaXQsXG4gICAgaXNMYW5kc2NhcGU6IGxhbmRzY2FwZSxcbiAgICBtb2JpbGUsXG4gICAgbXVsdGlwbGVPZixcbiAgICBuYW4sXG4gICAgbnVsbExpa2UsXG4gICAgbnVsbDogbnVsbExpa2UsXG4gICAgbnVtYmVyLFxuICAgIG9iamVjdCxcbiAgICBvZGQsXG4gICAgaXNQb3J0cmFpdDogcG9ydHJhaXQsXG4gICAgcG93ZXJPZjIsXG4gICAgcmVnZXgsXG4gICAgc2FmYXJpLFxuICAgIHN0cmluZyxcbiAgICBzdXBwb3J0aW5nQWR2YW5jZWRDc3NDYWxjLFxuICAgIHN1cHBvcnRpbmdDcmVhdGVJbWFnZUJpdG1hcCxcbiAgICBzdXBwb3J0aW5nRGV2aWNlT3JpZW50YXRpb24sXG4gICAgc3VwcG9ydGluZ0ZpbGVBcGlzLFxuICAgIHN1cHBvcnRpbmdPZmZTY3JlZW5DYW52YXMsXG4gICAgc3VwcG9ydGluZ1RvdWNoLFxuICAgIHN1cHBvcnRpbmdXZWJwLFxuICAgIHN1cHBvcnRpbmdXZWJwQXN5bmMsXG4gICAgdHlwZSxcbiAgICB1bmRlZmluZWQ6IHVuZGVmaW5lZExpa2UsXG4gICAgd2luZG93TG9hZGVkLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/is/is.js\n");

/***/ }),

/***/ "./lib/loader/blob-loader.js":
/*!***********************************!*\
  !*** ./lib/loader/blob-loader.js ***!
  \***********************************/
/*! exports provided: BlobLoader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BlobLoader\", function() { return BlobLoader; });\n/* harmony import */ var _dom_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom/dom */ \"./lib/dom/dom.js\");\n\n/**\n * A class that fetches a bunch of blobs.\n *\n * Here is an example of using the blob loader to fetch images.\n * const myImages = [\n *  'http://mydomain.com/dog.png',\n *  'http://mydomain.com/cat.png'\n *  'http://mydomain.com/cow.jpg'\n * ];\n *\n * const blobLoader = new blobLoader();\n *\n * // Loads images.\n * await results = blobLoader.load();\n *\n * // The source of the image is the key.\n * results['http://mydomain.com/dog.png']; // DOG blob.\n * results['http://mydomain.com/cat.png']; // Cat blob.\n *\n * const image = dom.makeImageFromBlob(blob);\n *\n * // Use the image.\n * canvas.drawImage(image);\n *\n * // Now delete it from memory.\n * dom.deleteImage(image);\n *\n * // Later\n * blobLoader.dispose();\n *\n * ```\n */\nclass BlobLoader {\n    constructor(imageSources) {\n        this.imageSources = imageSources;\n        this.blobs = {};\n        this.images64 = {};\n        this.maxRetries = 3;\n    }\n    load() {\n        return new Promise(resolve => {\n            if (!this.imageSources) {\n                resolve(this.blobs);\n            }\n            const promises = this.imageSources.map(source => {\n                return this.loadBlob(source);\n            });\n            Promise.all(promises).then(() => {\n                resolve(this.blobs);\n            });\n        });\n    }\n    loadBlob(source, retryCount = 0) {\n        return new Promise(resolve => {\n            fetch(source)\n                .then(response => {\n                // If status was not okay retry.\n                if (!response.ok) {\n                    retryCount++;\n                    if (retryCount >= this.maxRetries) {\n                        throw new Error(`failed after ${retryCount} tries`);\n                    }\n                    else {\n                        return this.loadBlob(source, retryCount);\n                    }\n                }\n                else {\n                    return response.blob();\n                }\n            })\n                .then(response => {\n                if (this.blobs && response) {\n                    this.blobs[source] = response;\n                }\n                resolve(response);\n            });\n        });\n    }\n    /**\n     * Loads the requested images as Base64 images.\n     */\n    loadBase64Images() {\n        return new Promise(resolve => {\n            const promises = this.imageSources.map(source => {\n                return this.loadBlobAsBase64Image(source);\n            });\n            Promise.all(promises).then(() => {\n                resolve(this.images64);\n            });\n        });\n    }\n    loadBlobAsBase64Image(source, retryCount = 0) {\n        return new Promise((resolve, reject) => {\n            fetch(source)\n                .then(response => {\n                // If status was not okay retry.\n                if (!response.ok) {\n                    retryCount++;\n                    if (retryCount >= this.maxRetries) {\n                        reject(`failed after ${retryCount} tries`);\n                    }\n                    return this.loadBlobAsBase64Image(source, retryCount);\n                }\n                else {\n                    return response.blob();\n                }\n            })\n                .then(response => {\n                if (response) {\n                    _dom_dom__WEBPACK_IMPORTED_MODULE_0__[\"makeBase64ImageFromBlob\"](response).then(image => {\n                        this.images64[source] = image;\n                        resolve(response);\n                    });\n                }\n            });\n        });\n    }\n    dispose() {\n        this.imageSources = [];\n        this.images64 = {};\n        this.blobs = {};\n    }\n}\n//# sourceMappingURL=blob-loader.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbG9hZGVyL2Jsb2ItbG9hZGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL2xvYWRlci9ibG9iLWxvYWRlci5qcz9jZmEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGRvbSBmcm9tICcuLi9kb20vZG9tJztcbi8qKlxuICogQSBjbGFzcyB0aGF0IGZldGNoZXMgYSBidW5jaCBvZiBibG9icy5cbiAqXG4gKiBIZXJlIGlzIGFuIGV4YW1wbGUgb2YgdXNpbmcgdGhlIGJsb2IgbG9hZGVyIHRvIGZldGNoIGltYWdlcy5cbiAqIGNvbnN0IG15SW1hZ2VzID0gW1xuICogICdodHRwOi8vbXlkb21haW4uY29tL2RvZy5wbmcnLFxuICogICdodHRwOi8vbXlkb21haW4uY29tL2NhdC5wbmcnXG4gKiAgJ2h0dHA6Ly9teWRvbWFpbi5jb20vY293LmpwZydcbiAqIF07XG4gKlxuICogY29uc3QgYmxvYkxvYWRlciA9IG5ldyBibG9iTG9hZGVyKCk7XG4gKlxuICogLy8gTG9hZHMgaW1hZ2VzLlxuICogYXdhaXQgcmVzdWx0cyA9IGJsb2JMb2FkZXIubG9hZCgpO1xuICpcbiAqIC8vIFRoZSBzb3VyY2Ugb2YgdGhlIGltYWdlIGlzIHRoZSBrZXkuXG4gKiByZXN1bHRzWydodHRwOi8vbXlkb21haW4uY29tL2RvZy5wbmcnXTsgLy8gRE9HIGJsb2IuXG4gKiByZXN1bHRzWydodHRwOi8vbXlkb21haW4uY29tL2NhdC5wbmcnXTsgLy8gQ2F0IGJsb2IuXG4gKlxuICogY29uc3QgaW1hZ2UgPSBkb20ubWFrZUltYWdlRnJvbUJsb2IoYmxvYik7XG4gKlxuICogLy8gVXNlIHRoZSBpbWFnZS5cbiAqIGNhbnZhcy5kcmF3SW1hZ2UoaW1hZ2UpO1xuICpcbiAqIC8vIE5vdyBkZWxldGUgaXQgZnJvbSBtZW1vcnkuXG4gKiBkb20uZGVsZXRlSW1hZ2UoaW1hZ2UpO1xuICpcbiAqIC8vIExhdGVyXG4gKiBibG9iTG9hZGVyLmRpc3Bvc2UoKTtcbiAqXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIEJsb2JMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKGltYWdlU291cmNlcykge1xuICAgICAgICB0aGlzLmltYWdlU291cmNlcyA9IGltYWdlU291cmNlcztcbiAgICAgICAgdGhpcy5ibG9icyA9IHt9O1xuICAgICAgICB0aGlzLmltYWdlczY0ID0ge307XG4gICAgICAgIHRoaXMubWF4UmV0cmllcyA9IDM7XG4gICAgfVxuICAgIGxvYWQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pbWFnZVNvdXJjZXMpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuYmxvYnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSB0aGlzLmltYWdlU291cmNlcy5tYXAoc291cmNlID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkQmxvYihzb3VyY2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLmJsb2JzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbG9hZEJsb2Ioc291cmNlLCByZXRyeUNvdW50ID0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBmZXRjaChzb3VyY2UpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIC8vIElmIHN0YXR1cyB3YXMgbm90IG9rYXkgcmV0cnkuXG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICByZXRyeUNvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXRyeUNvdW50ID49IHRoaXMubWF4UmV0cmllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgYWZ0ZXIgJHtyZXRyeUNvdW50fSB0cmllc2ApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZEJsb2Ioc291cmNlLCByZXRyeUNvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ibG9icyAmJiByZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJsb2JzW3NvdXJjZV0gPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoZSByZXF1ZXN0ZWQgaW1hZ2VzIGFzIEJhc2U2NCBpbWFnZXMuXG4gICAgICovXG4gICAgbG9hZEJhc2U2NEltYWdlcygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSB0aGlzLmltYWdlU291cmNlcy5tYXAoc291cmNlID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkQmxvYkFzQmFzZTY0SW1hZ2Uoc291cmNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5pbWFnZXM2NCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxvYWRCbG9iQXNCYXNlNjRJbWFnZShzb3VyY2UsIHJldHJ5Q291bnQgPSAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBmZXRjaChzb3VyY2UpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIC8vIElmIHN0YXR1cyB3YXMgbm90IG9rYXkgcmV0cnkuXG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICByZXRyeUNvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXRyeUNvdW50ID49IHRoaXMubWF4UmV0cmllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGBmYWlsZWQgYWZ0ZXIgJHtyZXRyeUNvdW50fSB0cmllc2ApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRCbG9iQXNCYXNlNjRJbWFnZShzb3VyY2UsIHJldHJ5Q291bnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tLm1ha2VCYXNlNjRJbWFnZUZyb21CbG9iKHJlc3BvbnNlKS50aGVuKGltYWdlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VzNjRbc291cmNlXSA9IGltYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5pbWFnZVNvdXJjZXMgPSBbXTtcbiAgICAgICAgdGhpcy5pbWFnZXM2NCA9IHt9O1xuICAgICAgICB0aGlzLmJsb2JzID0ge307XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmxvYi1sb2FkZXIuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/loader/blob-loader.js\n");

/***/ }),

/***/ "./lib/loader/image-loader.js":
/*!************************************!*\
  !*** ./lib/loader/image-loader.js ***!
  \************************************/
/*! exports provided: ImageLoader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ImageLoader\", function() { return ImageLoader; });\n/* harmony import */ var _is_is__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\n/* harmony import */ var _dom_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dom/dom */ \"./lib/dom/dom.js\");\n\n\n/**\n * A class the loads a given set of images.\n *\n *\n * TODO (uxder): Needs more work.  Needs error and fetch fail handling.\n *\n * ```ts\n *\n * const myImages = [\n *  'http://mydomain.com/dog.png',\n *  'http://mydomain.com/cat.png'\n *  'http://mydomain.com/cow.jpg'\n * ];\n * const myImageLoader = new ImageLoader(myImages);\n *\n * // Optional - decodes the image as well.\n * // However, this uses image.decode() which will move the image memory\n * // to native memory.  It is not recommended unless you know what you are\n * // doing.\n * // @see dom.fetchAndMakeImage for more on the issues around\n * // image.decode().\n * myImageLoader.setDecodeAfterFetch(true);\n *\n *\n * // Loads images.\n * await results = myImageLoader.load();\n *\n * // The source of the image is the key.\n * results['http://mydomain.com/dog.png']; // DOG HTML Image element.\n * results['http://mydomain.com/cat.png']; // Cat HTML Image element.\n *\n * ```\n *\n *\n * You can alternatively fetch for just blobs.\n * ```ts\n * const myImages = [\n *  'http://mydomain.com/dog.png',\n *  'http://mydomain.com/cat.png'\n *  'http://mydomain.com/cow.jpg'\n * ];\n * const myImageLoader = new ImageLoader(myImages);\n *\n * await results = myImageLoader.loadBlobs();\n * results['http://mydomain.com/dog.png']; // DOG image blob.\n * ```\n */\nclass ImageLoader {\n    constructor(imageSources) {\n        this.imageSources = imageSources;\n        this.images = {};\n        this.maxRetries = 3;\n        this.decodeAfterFetch = false;\n        this.onEachImageLoaded = null;\n    }\n    /**\n     * Allows you to hook into each load event of image.\n     * This should be called prior to calling load.\n     *\n     * ```\n     * const myImages = [\n     *  'http://mydomain.com/dog.png',\n     *  'http://mydomain.com/cat.png'\n     *  'http://mydomain.com/cow.jpg'\n     * ];\n     * const myImageLoader = new ImageLoader(myImages);\n     *\n     * myImageLoader.loadCallback((source, img)=> {\n     *   console.log(source) // The image url that was just loaded.\n     *   console.log(img); // The image itself.\n     * })\n     *\n     * // Loads images.\n     * await results = myImageLoader.load();\n     *\n     * ```\n     * @param value\n     */\n    setLoadCallback(callback) {\n        this.onEachImageLoaded = callback;\n    }\n    /**\n     * Gets the internal cached images.\n     */\n    getImages() {\n        return this.images;\n    }\n    /**\n     * Sets to decodeAfterFetching.  Setting true on firefox causes failures\n     * so we test for firefox.\n     * @param value\n     */\n    setDecodeAfterFetch(value) {\n        this.decodeAfterFetch = _is_is__WEBPACK_IMPORTED_MODULE_0__[\"firefox\"]() ? false : value;\n    }\n    /**\n     * Begins loading all images.\n     */\n    load() {\n        return new Promise(resolve => {\n            const promises = this.imageSources.map(source => {\n                return this.fetchImage(source);\n            });\n            Promise.all(promises).then(() => {\n                resolve(this.images);\n            });\n        });\n    }\n    /**\n     * Pings / Fetches all images.   This can be used as an alternative\n     * to load().  Unlike load that ends up storing ImageBitmap or images\n     * in memory (resulting in higher RAM usage),\n     * this will simply make an XHR request so the response is\n     * help in browser cache.\n     *\n     * Once cached, you can pair this with dom.fetchAndMakeImage and dom.deleteImage\n     * to give you better control of releasing image memory from RAM on a per image\n     * basis.\n     *\n     * ```\n     *  const myImages = [\n     *  'http://mydomain.com/dog.png',\n     *  'http://mydomain.com/cat.png'\n     *  'http://mydomain.com/cow.jpg'\n     * ];\n     *  const imageLoader = new ImageLoader();\n     *\n     *  // Ping images.\n     * await results = myImageLoader.ping();\n     *\n     * // Images have been fetched and are in browser memory.\n     * // You can construct it now.\n     * const image = dom.fetchAndMakeImage(results[0]);\n     *\n     * // Do something with the image.\n     * canvas.drawImage(image);\n     *\n     * // Now manually delete it when you don't need it.\n     * dom.deleteImage(image);\n     *\n     *\n     *\n     * ```\n     *\n     * @param source\n     * @param retryCount\n     */\n    ping() {\n        return new Promise(resolve => {\n            const promises = this.imageSources.map(source => {\n                return this.pingSource(source);\n            });\n            Promise.all(promises).then(() => {\n                resolve(this.imageSources);\n            });\n        });\n    }\n    /**\n     * Only fetches images without generating it.\n     * This is useful for cases in which you want to\n     * \"preload\" images into the browser cache but not hold the image data in\n     * memory.\n     */\n    pingSource(source, retryCount = 0) {\n        return new Promise((resolve, reject) => {\n            fetch(source).then(response => {\n                // If status was not okay retry.\n                if (!response.ok) {\n                    retryCount++;\n                    if (retryCount >= this.maxRetries) {\n                        reject(`failed after ${retryCount} tries`);\n                    }\n                    else {\n                        resolve(this.pingSource(source, retryCount));\n                    }\n                }\n                else {\n                    resolve(source);\n                }\n            });\n        });\n    }\n    /**\n     * Fetches and creates an image element when successful.\n     * @param source The image source\n     * @param retryCount The current retry count.\n     */\n    fetchImage(source, retryCount = 0) {\n        return new Promise(resolve => {\n            fetch(source)\n                .then(response => {\n                // If status was not okay retry.\n                if (!response.ok) {\n                    retryCount++;\n                    if (retryCount >= this.maxRetries) {\n                        resolve();\n                    }\n                    else {\n                        this.fetchImage(source, retryCount);\n                    }\n                }\n                return response.blob();\n            })\n                .then(response => {\n                const blob = response;\n                const img = document.createElement('img');\n                // Note watch out with using image.decode();\n                // image.decode() images are moved to native memory where\n                // it can't be flushed even with image = null;\n                if (this.decodeAfterFetch && 'decode' in img) {\n                    img.src = URL.createObjectURL(blob);\n                    img.decoding = 'async';\n                    img\n                        .decode()\n                        .then(() => {\n                        this.images[source] = img;\n                        this.onEachImageLoaded && this.onEachImageLoaded(source, img);\n                        resolve();\n                    })\n                        .catch(() => {\n                        // console.log('error', Error);, then later,\n                        // throw new Error(error);\n                        // Usually when there is an error thrown it's\n                        // because this image couldn't be decoded\n                        // in a regular manner so we fall back again\n                        // to loading it normally.\n                        img.onload = () => {\n                            this.images[source] = img;\n                            this.onEachImageLoaded && this.onEachImageLoaded(source, img);\n                            resolve();\n                        };\n                        img.src = URL.createObjectURL(blob);\n                    });\n                }\n                else {\n                    img.onload = () => {\n                        this.images[source] = img;\n                        this.onEachImageLoaded && this.onEachImageLoaded(source, img);\n                        resolve();\n                    };\n                    img.src = URL.createObjectURL(blob);\n                }\n            });\n        });\n    }\n    /**\n     * Begins loading imageBitMaps. Alternate to load method but ImageBitmap\n     * has only partial support at the moment.\n     */\n    loadImageBitmaps() {\n        return new Promise(resolve => {\n            const promises = this.imageSources.map(source => {\n                return this.fetchImageBitmap(source);\n            });\n            Promise.all(promises).then(() => {\n                resolve(this.images);\n            });\n        });\n    }\n    /**\n     * Fetches image bitmap.   Image bitmaps are faster in rendering images on\n     * canvas because they don't do image decoding on each draw.  However,\n     * they are not fully supported across all browsers so use wisely.\n     *\n     * Also note that at the current time usage of ImageBitmap seems to bloat the\n     * native memory that can't be released.\n     *\n     * @see https://aerotwist.com/blog/the-hack-is-back/\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/ImageBitmap\n     */\n    fetchImageBitmap(source, retryCount = 0) {\n        return new Promise(resolve => {\n            fetch(source)\n                .then(response => {\n                // If status was not okay retry.\n                if (!response.ok) {\n                    retryCount++;\n                    if (retryCount >= this.maxRetries) {\n                        resolve();\n                    }\n                    else {\n                        this.fetchImageBitmap(source, retryCount);\n                    }\n                }\n                return response.blob();\n            })\n                .then(blobData => createImageBitmap(blobData))\n                .then(response => {\n                const blob = response;\n                this.images[source] = blob;\n                this.onEachImageLoaded && this.onEachImageLoaded(source, blob);\n                resolve();\n            });\n        });\n    }\n    /**\n     * Loads bitmap or image.   If browser supports bitmaps, it will\n     * load bitmaps instead of an image.\n     */\n    loadBitmapOrImage() {\n        return _is_is__WEBPACK_IMPORTED_MODULE_0__[\"supportingCreateImageBitmap\"]()\n            ? this.loadImageBitmaps()\n            : this.load();\n    }\n    dispose() {\n        for (const key in this.images) {\n            if (!this.images[key]) {\n                return;\n            }\n            // If we loaded bitmaps and we can dispose.\n            // https://developer.mozilla.org/en-US/docs/Web/API/ImageBitmap/close\n            const item = this.images[key];\n            if (item instanceof ImageBitmap) {\n                item.close();\n            }\n            else if (typeof item === 'string') {\n                URL.revokeObjectURL(item);\n            }\n            else if (item instanceof HTMLImageElement) {\n                _dom_dom__WEBPACK_IMPORTED_MODULE_1__[\"deleteImage\"](item);\n            }\n        }\n        this.images = {};\n    }\n}\n//# sourceMappingURL=image-loader.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbG9hZGVyL2ltYWdlLWxvYWRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9sb2FkZXIvaW1hZ2UtbG9hZGVyLmpzPzkxNjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgaXMgZnJvbSAnLi4vaXMvaXMnO1xuaW1wb3J0ICogYXMgZG9tIGZyb20gJy4uL2RvbS9kb20nO1xuLyoqXG4gKiBBIGNsYXNzIHRoZSBsb2FkcyBhIGdpdmVuIHNldCBvZiBpbWFnZXMuXG4gKlxuICpcbiAqIFRPRE8gKHV4ZGVyKTogTmVlZHMgbW9yZSB3b3JrLiAgTmVlZHMgZXJyb3IgYW5kIGZldGNoIGZhaWwgaGFuZGxpbmcuXG4gKlxuICogYGBgdHNcbiAqXG4gKiBjb25zdCBteUltYWdlcyA9IFtcbiAqICAnaHR0cDovL215ZG9tYWluLmNvbS9kb2cucG5nJyxcbiAqICAnaHR0cDovL215ZG9tYWluLmNvbS9jYXQucG5nJ1xuICogICdodHRwOi8vbXlkb21haW4uY29tL2Nvdy5qcGcnXG4gKiBdO1xuICogY29uc3QgbXlJbWFnZUxvYWRlciA9IG5ldyBJbWFnZUxvYWRlcihteUltYWdlcyk7XG4gKlxuICogLy8gT3B0aW9uYWwgLSBkZWNvZGVzIHRoZSBpbWFnZSBhcyB3ZWxsLlxuICogLy8gSG93ZXZlciwgdGhpcyB1c2VzIGltYWdlLmRlY29kZSgpIHdoaWNoIHdpbGwgbW92ZSB0aGUgaW1hZ2UgbWVtb3J5XG4gKiAvLyB0byBuYXRpdmUgbWVtb3J5LiAgSXQgaXMgbm90IHJlY29tbWVuZGVkIHVubGVzcyB5b3Uga25vdyB3aGF0IHlvdSBhcmVcbiAqIC8vIGRvaW5nLlxuICogLy8gQHNlZSBkb20uZmV0Y2hBbmRNYWtlSW1hZ2UgZm9yIG1vcmUgb24gdGhlIGlzc3VlcyBhcm91bmRcbiAqIC8vIGltYWdlLmRlY29kZSgpLlxuICogbXlJbWFnZUxvYWRlci5zZXREZWNvZGVBZnRlckZldGNoKHRydWUpO1xuICpcbiAqXG4gKiAvLyBMb2FkcyBpbWFnZXMuXG4gKiBhd2FpdCByZXN1bHRzID0gbXlJbWFnZUxvYWRlci5sb2FkKCk7XG4gKlxuICogLy8gVGhlIHNvdXJjZSBvZiB0aGUgaW1hZ2UgaXMgdGhlIGtleS5cbiAqIHJlc3VsdHNbJ2h0dHA6Ly9teWRvbWFpbi5jb20vZG9nLnBuZyddOyAvLyBET0cgSFRNTCBJbWFnZSBlbGVtZW50LlxuICogcmVzdWx0c1snaHR0cDovL215ZG9tYWluLmNvbS9jYXQucG5nJ107IC8vIENhdCBIVE1MIEltYWdlIGVsZW1lbnQuXG4gKlxuICogYGBgXG4gKlxuICpcbiAqIFlvdSBjYW4gYWx0ZXJuYXRpdmVseSBmZXRjaCBmb3IganVzdCBibG9icy5cbiAqIGBgYHRzXG4gKiBjb25zdCBteUltYWdlcyA9IFtcbiAqICAnaHR0cDovL215ZG9tYWluLmNvbS9kb2cucG5nJyxcbiAqICAnaHR0cDovL215ZG9tYWluLmNvbS9jYXQucG5nJ1xuICogICdodHRwOi8vbXlkb21haW4uY29tL2Nvdy5qcGcnXG4gKiBdO1xuICogY29uc3QgbXlJbWFnZUxvYWRlciA9IG5ldyBJbWFnZUxvYWRlcihteUltYWdlcyk7XG4gKlxuICogYXdhaXQgcmVzdWx0cyA9IG15SW1hZ2VMb2FkZXIubG9hZEJsb2JzKCk7XG4gKiByZXN1bHRzWydodHRwOi8vbXlkb21haW4uY29tL2RvZy5wbmcnXTsgLy8gRE9HIGltYWdlIGJsb2IuXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIEltYWdlTG9hZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihpbWFnZVNvdXJjZXMpIHtcbiAgICAgICAgdGhpcy5pbWFnZVNvdXJjZXMgPSBpbWFnZVNvdXJjZXM7XG4gICAgICAgIHRoaXMuaW1hZ2VzID0ge307XG4gICAgICAgIHRoaXMubWF4UmV0cmllcyA9IDM7XG4gICAgICAgIHRoaXMuZGVjb2RlQWZ0ZXJGZXRjaCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9uRWFjaEltYWdlTG9hZGVkID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHlvdSB0byBob29rIGludG8gZWFjaCBsb2FkIGV2ZW50IG9mIGltYWdlLlxuICAgICAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBwcmlvciB0byBjYWxsaW5nIGxvYWQuXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCBteUltYWdlcyA9IFtcbiAgICAgKiAgJ2h0dHA6Ly9teWRvbWFpbi5jb20vZG9nLnBuZycsXG4gICAgICogICdodHRwOi8vbXlkb21haW4uY29tL2NhdC5wbmcnXG4gICAgICogICdodHRwOi8vbXlkb21haW4uY29tL2Nvdy5qcGcnXG4gICAgICogXTtcbiAgICAgKiBjb25zdCBteUltYWdlTG9hZGVyID0gbmV3IEltYWdlTG9hZGVyKG15SW1hZ2VzKTtcbiAgICAgKlxuICAgICAqIG15SW1hZ2VMb2FkZXIubG9hZENhbGxiYWNrKChzb3VyY2UsIGltZyk9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhzb3VyY2UpIC8vIFRoZSBpbWFnZSB1cmwgdGhhdCB3YXMganVzdCBsb2FkZWQuXG4gICAgICogICBjb25zb2xlLmxvZyhpbWcpOyAvLyBUaGUgaW1hZ2UgaXRzZWxmLlxuICAgICAqIH0pXG4gICAgICpcbiAgICAgKiAvLyBMb2FkcyBpbWFnZXMuXG4gICAgICogYXdhaXQgcmVzdWx0cyA9IG15SW1hZ2VMb2FkZXIubG9hZCgpO1xuICAgICAqXG4gICAgICogYGBgXG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICovXG4gICAgc2V0TG9hZENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMub25FYWNoSW1hZ2VMb2FkZWQgPSBjYWxsYmFjaztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgY2FjaGVkIGltYWdlcy5cbiAgICAgKi9cbiAgICBnZXRJbWFnZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0byBkZWNvZGVBZnRlckZldGNoaW5nLiAgU2V0dGluZyB0cnVlIG9uIGZpcmVmb3ggY2F1c2VzIGZhaWx1cmVzXG4gICAgICogc28gd2UgdGVzdCBmb3IgZmlyZWZveC5cbiAgICAgKiBAcGFyYW0gdmFsdWVcbiAgICAgKi9cbiAgICBzZXREZWNvZGVBZnRlckZldGNoKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVjb2RlQWZ0ZXJGZXRjaCA9IGlzLmZpcmVmb3goKSA/IGZhbHNlIDogdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJlZ2lucyBsb2FkaW5nIGFsbCBpbWFnZXMuXG4gICAgICovXG4gICAgbG9hZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSB0aGlzLmltYWdlU291cmNlcy5tYXAoc291cmNlID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mZXRjaEltYWdlKHNvdXJjZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuaW1hZ2VzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGluZ3MgLyBGZXRjaGVzIGFsbCBpbWFnZXMuICAgVGhpcyBjYW4gYmUgdXNlZCBhcyBhbiBhbHRlcm5hdGl2ZVxuICAgICAqIHRvIGxvYWQoKS4gIFVubGlrZSBsb2FkIHRoYXQgZW5kcyB1cCBzdG9yaW5nIEltYWdlQml0bWFwIG9yIGltYWdlc1xuICAgICAqIGluIG1lbW9yeSAocmVzdWx0aW5nIGluIGhpZ2hlciBSQU0gdXNhZ2UpLFxuICAgICAqIHRoaXMgd2lsbCBzaW1wbHkgbWFrZSBhbiBYSFIgcmVxdWVzdCBzbyB0aGUgcmVzcG9uc2UgaXNcbiAgICAgKiBoZWxwIGluIGJyb3dzZXIgY2FjaGUuXG4gICAgICpcbiAgICAgKiBPbmNlIGNhY2hlZCwgeW91IGNhbiBwYWlyIHRoaXMgd2l0aCBkb20uZmV0Y2hBbmRNYWtlSW1hZ2UgYW5kIGRvbS5kZWxldGVJbWFnZVxuICAgICAqIHRvIGdpdmUgeW91IGJldHRlciBjb250cm9sIG9mIHJlbGVhc2luZyBpbWFnZSBtZW1vcnkgZnJvbSBSQU0gb24gYSBwZXIgaW1hZ2VcbiAgICAgKiBiYXNpcy5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqICBjb25zdCBteUltYWdlcyA9IFtcbiAgICAgKiAgJ2h0dHA6Ly9teWRvbWFpbi5jb20vZG9nLnBuZycsXG4gICAgICogICdodHRwOi8vbXlkb21haW4uY29tL2NhdC5wbmcnXG4gICAgICogICdodHRwOi8vbXlkb21haW4uY29tL2Nvdy5qcGcnXG4gICAgICogXTtcbiAgICAgKiAgY29uc3QgaW1hZ2VMb2FkZXIgPSBuZXcgSW1hZ2VMb2FkZXIoKTtcbiAgICAgKlxuICAgICAqICAvLyBQaW5nIGltYWdlcy5cbiAgICAgKiBhd2FpdCByZXN1bHRzID0gbXlJbWFnZUxvYWRlci5waW5nKCk7XG4gICAgICpcbiAgICAgKiAvLyBJbWFnZXMgaGF2ZSBiZWVuIGZldGNoZWQgYW5kIGFyZSBpbiBicm93c2VyIG1lbW9yeS5cbiAgICAgKiAvLyBZb3UgY2FuIGNvbnN0cnVjdCBpdCBub3cuXG4gICAgICogY29uc3QgaW1hZ2UgPSBkb20uZmV0Y2hBbmRNYWtlSW1hZ2UocmVzdWx0c1swXSk7XG4gICAgICpcbiAgICAgKiAvLyBEbyBzb21ldGhpbmcgd2l0aCB0aGUgaW1hZ2UuXG4gICAgICogY2FudmFzLmRyYXdJbWFnZShpbWFnZSk7XG4gICAgICpcbiAgICAgKiAvLyBOb3cgbWFudWFsbHkgZGVsZXRlIGl0IHdoZW4geW91IGRvbid0IG5lZWQgaXQuXG4gICAgICogZG9tLmRlbGV0ZUltYWdlKGltYWdlKTtcbiAgICAgKlxuICAgICAqXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzb3VyY2VcbiAgICAgKiBAcGFyYW0gcmV0cnlDb3VudFxuICAgICAqL1xuICAgIHBpbmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gdGhpcy5pbWFnZVNvdXJjZXMubWFwKHNvdXJjZSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGluZ1NvdXJjZShzb3VyY2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLmltYWdlU291cmNlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9ubHkgZmV0Y2hlcyBpbWFnZXMgd2l0aG91dCBnZW5lcmF0aW5nIGl0LlxuICAgICAqIFRoaXMgaXMgdXNlZnVsIGZvciBjYXNlcyBpbiB3aGljaCB5b3Ugd2FudCB0b1xuICAgICAqIFwicHJlbG9hZFwiIGltYWdlcyBpbnRvIHRoZSBicm93c2VyIGNhY2hlIGJ1dCBub3QgaG9sZCB0aGUgaW1hZ2UgZGF0YSBpblxuICAgICAqIG1lbW9yeS5cbiAgICAgKi9cbiAgICBwaW5nU291cmNlKHNvdXJjZSwgcmV0cnlDb3VudCA9IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGZldGNoKHNvdXJjZSkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gSWYgc3RhdHVzIHdhcyBub3Qgb2theSByZXRyeS5cbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHJ5Q291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldHJ5Q291bnQgPj0gdGhpcy5tYXhSZXRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoYGZhaWxlZCBhZnRlciAke3JldHJ5Q291bnR9IHRyaWVzYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMucGluZ1NvdXJjZShzb3VyY2UsIHJldHJ5Q291bnQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzb3VyY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhbmQgY3JlYXRlcyBhbiBpbWFnZSBlbGVtZW50IHdoZW4gc3VjY2Vzc2Z1bC5cbiAgICAgKiBAcGFyYW0gc291cmNlIFRoZSBpbWFnZSBzb3VyY2VcbiAgICAgKiBAcGFyYW0gcmV0cnlDb3VudCBUaGUgY3VycmVudCByZXRyeSBjb3VudC5cbiAgICAgKi9cbiAgICBmZXRjaEltYWdlKHNvdXJjZSwgcmV0cnlDb3VudCA9IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgZmV0Y2goc291cmNlKVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAvLyBJZiBzdGF0dXMgd2FzIG5vdCBva2F5IHJldHJ5LlxuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0cnlDb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmV0cnlDb3VudCA+PSB0aGlzLm1heFJldHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hJbWFnZShzb3VyY2UsIHJldHJ5Q291bnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICAgICAgLy8gTm90ZSB3YXRjaCBvdXQgd2l0aCB1c2luZyBpbWFnZS5kZWNvZGUoKTtcbiAgICAgICAgICAgICAgICAvLyBpbWFnZS5kZWNvZGUoKSBpbWFnZXMgYXJlIG1vdmVkIHRvIG5hdGl2ZSBtZW1vcnkgd2hlcmVcbiAgICAgICAgICAgICAgICAvLyBpdCBjYW4ndCBiZSBmbHVzaGVkIGV2ZW4gd2l0aCBpbWFnZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVjb2RlQWZ0ZXJGZXRjaCAmJiAnZGVjb2RlJyBpbiBpbWcpIHtcbiAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgICAgICAgICAgIGltZy5kZWNvZGluZyA9ICdhc3luYyc7XG4gICAgICAgICAgICAgICAgICAgIGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLmRlY29kZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1tzb3VyY2VdID0gaW1nO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVhY2hJbWFnZUxvYWRlZCAmJiB0aGlzLm9uRWFjaEltYWdlTG9hZGVkKHNvdXJjZSwgaW1nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZXJyb3InLCBFcnJvcik7LCB0aGVuIGxhdGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzdWFsbHkgd2hlbiB0aGVyZSBpcyBhbiBlcnJvciB0aHJvd24gaXQnc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGlzIGltYWdlIGNvdWxkbid0IGJlIGRlY29kZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluIGEgcmVndWxhciBtYW5uZXIgc28gd2UgZmFsbCBiYWNrIGFnYWluXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBsb2FkaW5nIGl0IG5vcm1hbGx5LlxuICAgICAgICAgICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1tzb3VyY2VdID0gaW1nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25FYWNoSW1hZ2VMb2FkZWQgJiYgdGhpcy5vbkVhY2hJbWFnZUxvYWRlZChzb3VyY2UsIGltZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1tzb3VyY2VdID0gaW1nO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVhY2hJbWFnZUxvYWRlZCAmJiB0aGlzLm9uRWFjaEltYWdlTG9hZGVkKHNvdXJjZSwgaW1nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCZWdpbnMgbG9hZGluZyBpbWFnZUJpdE1hcHMuIEFsdGVybmF0ZSB0byBsb2FkIG1ldGhvZCBidXQgSW1hZ2VCaXRtYXBcbiAgICAgKiBoYXMgb25seSBwYXJ0aWFsIHN1cHBvcnQgYXQgdGhlIG1vbWVudC5cbiAgICAgKi9cbiAgICBsb2FkSW1hZ2VCaXRtYXBzKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IHRoaXMuaW1hZ2VTb3VyY2VzLm1hcChzb3VyY2UgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZldGNoSW1hZ2VCaXRtYXAoc291cmNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5pbWFnZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIGltYWdlIGJpdG1hcC4gICBJbWFnZSBiaXRtYXBzIGFyZSBmYXN0ZXIgaW4gcmVuZGVyaW5nIGltYWdlcyBvblxuICAgICAqIGNhbnZhcyBiZWNhdXNlIHRoZXkgZG9uJ3QgZG8gaW1hZ2UgZGVjb2Rpbmcgb24gZWFjaCBkcmF3LiAgSG93ZXZlcixcbiAgICAgKiB0aGV5IGFyZSBub3QgZnVsbHkgc3VwcG9ydGVkIGFjcm9zcyBhbGwgYnJvd3NlcnMgc28gdXNlIHdpc2VseS5cbiAgICAgKlxuICAgICAqIEFsc28gbm90ZSB0aGF0IGF0IHRoZSBjdXJyZW50IHRpbWUgdXNhZ2Ugb2YgSW1hZ2VCaXRtYXAgc2VlbXMgdG8gYmxvYXQgdGhlXG4gICAgICogbmF0aXZlIG1lbW9yeSB0aGF0IGNhbid0IGJlIHJlbGVhc2VkLlxuICAgICAqXG4gICAgICogQHNlZSBodHRwczovL2Flcm90d2lzdC5jb20vYmxvZy90aGUtaGFjay1pcy1iYWNrL1xuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0ltYWdlQml0bWFwXG4gICAgICovXG4gICAgZmV0Y2hJbWFnZUJpdG1hcChzb3VyY2UsIHJldHJ5Q291bnQgPSAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGZldGNoKHNvdXJjZSlcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gSWYgc3RhdHVzIHdhcyBub3Qgb2theSByZXRyeS5cbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHJ5Q291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldHJ5Q291bnQgPj0gdGhpcy5tYXhSZXRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZldGNoSW1hZ2VCaXRtYXAoc291cmNlLCByZXRyeUNvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihibG9iRGF0YSA9PiBjcmVhdGVJbWFnZUJpdG1hcChibG9iRGF0YSkpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1tzb3VyY2VdID0gYmxvYjtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRWFjaEltYWdlTG9hZGVkICYmIHRoaXMub25FYWNoSW1hZ2VMb2FkZWQoc291cmNlLCBibG9iKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvYWRzIGJpdG1hcCBvciBpbWFnZS4gICBJZiBicm93c2VyIHN1cHBvcnRzIGJpdG1hcHMsIGl0IHdpbGxcbiAgICAgKiBsb2FkIGJpdG1hcHMgaW5zdGVhZCBvZiBhbiBpbWFnZS5cbiAgICAgKi9cbiAgICBsb2FkQml0bWFwT3JJbWFnZSgpIHtcbiAgICAgICAgcmV0dXJuIGlzLnN1cHBvcnRpbmdDcmVhdGVJbWFnZUJpdG1hcCgpXG4gICAgICAgICAgICA/IHRoaXMubG9hZEltYWdlQml0bWFwcygpXG4gICAgICAgICAgICA6IHRoaXMubG9hZCgpO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmltYWdlcykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmltYWdlc1trZXldKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgd2UgbG9hZGVkIGJpdG1hcHMgYW5kIHdlIGNhbiBkaXNwb3NlLlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0ltYWdlQml0bWFwL2Nsb3NlXG4gICAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5pbWFnZXNba2V5XTtcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXApIHtcbiAgICAgICAgICAgICAgICBpdGVtLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXRlbSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBkb20uZGVsZXRlSW1hZ2UoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbWFnZXMgPSB7fTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1sb2FkZXIuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/loader/image-loader.js\n");

/***/ }),

/***/ "./lib/loader/script-loader.js":
/*!*************************************!*\
  !*** ./lib/loader/script-loader.js ***!
  \*************************************/
/*! exports provided: ScriptLoader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ScriptLoader\", function() { return ScriptLoader; });\n/**\n * A script loader that checks to verify if the script has loaded by repeatedly\n * calling a test method using RAF.\n *\n * Example loading the YT API:\n *\n * ```\n * const scriptLoader = new RAFScriptLoader();\n * scriptLoader.load('https://www.youtube.com/iframe_api', {\n *   test: () => window.YT && window.YT['loaded'] === 1,\n * }).then(() => {\n *   // The YT API should be loaded now.\n *   const player = new YT.Player(...);\n * });\n * ```\n */\nclass ScriptLoader {\n    constructor() {\n        this.loadedScripts = {};\n        this.disposed = false;\n    }\n    /**\n     * Loads a script element onto the page.\n     *\n     * @param url The script src.\n     * @param test A function used to verify the script has successfully loaded.\n     * @param options Config options for loading the script.\n     */\n    load(url, options) {\n        // Avoid repeated calls to the same URL by returning the previous promise.\n        const previousPromise = this.loadedScripts[url];\n        if (previousPromise) {\n            return previousPromise;\n        }\n        const promise = new Promise((resolve, reject) => {\n            // Avoid adding the script to the page if the test fn already passes.\n            if (options.test()) {\n                resolve();\n                return;\n            }\n            // Render the <script> tag to the DOM.\n            this.renderScriptTag(url, options);\n            // Using RAF, repeatedly check if the script has been loaded.\n            const startTime = Date.now();\n            const timeout = options.timeout || 5000;\n            const callback = () => {\n                if (this.disposed) {\n                    reject('script loader is disposed');\n                    return;\n                }\n                if (options.test()) {\n                    resolve();\n                    return;\n                }\n                const elapsed = Date.now() - startTime;\n                if (elapsed > timeout) {\n                    reject(`failed to load ${url} due to timeout`);\n                    return;\n                }\n                window.requestAnimationFrame(callback);\n            };\n            window.requestAnimationFrame(callback);\n        });\n        this.loadedScripts[url] = promise;\n        promise.catch(err => {\n            console.error(`failed to load ${url}`);\n            console.error(err);\n            delete this.loadedScripts[url];\n        });\n        return promise;\n    }\n    /**\n     * Renders the DOM for the script element. Subclasses should override this\n     * method for more complex script renderings.\n     */\n    renderScriptTag(url, options) {\n        const script = document.createElement('script');\n        if (options === null || options === void 0 ? void 0 : options.attrs) {\n            for (const key in options.attrs) {\n                const val = options.attrs[key];\n                script.setAttribute(key, val);\n            }\n        }\n        script.src = url;\n        document.body.appendChild(script);\n    }\n    /** @deprecated */\n    renderDom(url) {\n        // Deprecated. To be removed in a future version.\n        this.renderScriptTag(url);\n    }\n    dispose() {\n        this.loadedScripts = {};\n        this.disposed = true;\n    }\n}\n//# sourceMappingURL=script-loader.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbG9hZGVyL3NjcmlwdC1sb2FkZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvbG9hZGVyL3NjcmlwdC1sb2FkZXIuanM/NmFkNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgc2NyaXB0IGxvYWRlciB0aGF0IGNoZWNrcyB0byB2ZXJpZnkgaWYgdGhlIHNjcmlwdCBoYXMgbG9hZGVkIGJ5IHJlcGVhdGVkbHlcbiAqIGNhbGxpbmcgYSB0ZXN0IG1ldGhvZCB1c2luZyBSQUYuXG4gKlxuICogRXhhbXBsZSBsb2FkaW5nIHRoZSBZVCBBUEk6XG4gKlxuICogYGBgXG4gKiBjb25zdCBzY3JpcHRMb2FkZXIgPSBuZXcgUkFGU2NyaXB0TG9hZGVyKCk7XG4gKiBzY3JpcHRMb2FkZXIubG9hZCgnaHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaScsIHtcbiAqICAgdGVzdDogKCkgPT4gd2luZG93LllUICYmIHdpbmRvdy5ZVFsnbG9hZGVkJ10gPT09IDEsXG4gKiB9KS50aGVuKCgpID0+IHtcbiAqICAgLy8gVGhlIFlUIEFQSSBzaG91bGQgYmUgbG9hZGVkIG5vdy5cbiAqICAgY29uc3QgcGxheWVyID0gbmV3IFlULlBsYXllciguLi4pO1xuICogfSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFNjcmlwdExvYWRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubG9hZGVkU2NyaXB0cyA9IHt9O1xuICAgICAgICB0aGlzLmRpc3Bvc2VkID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvYWRzIGEgc2NyaXB0IGVsZW1lbnQgb250byB0aGUgcGFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB1cmwgVGhlIHNjcmlwdCBzcmMuXG4gICAgICogQHBhcmFtIHRlc3QgQSBmdW5jdGlvbiB1c2VkIHRvIHZlcmlmeSB0aGUgc2NyaXB0IGhhcyBzdWNjZXNzZnVsbHkgbG9hZGVkLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIENvbmZpZyBvcHRpb25zIGZvciBsb2FkaW5nIHRoZSBzY3JpcHQuXG4gICAgICovXG4gICAgbG9hZCh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gQXZvaWQgcmVwZWF0ZWQgY2FsbHMgdG8gdGhlIHNhbWUgVVJMIGJ5IHJldHVybmluZyB0aGUgcHJldmlvdXMgcHJvbWlzZS5cbiAgICAgICAgY29uc3QgcHJldmlvdXNQcm9taXNlID0gdGhpcy5sb2FkZWRTY3JpcHRzW3VybF07XG4gICAgICAgIGlmIChwcmV2aW91c1Byb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIEF2b2lkIGFkZGluZyB0aGUgc2NyaXB0IHRvIHRoZSBwYWdlIGlmIHRoZSB0ZXN0IGZuIGFscmVhZHkgcGFzc2VzLlxuICAgICAgICAgICAgaWYgKG9wdGlvbnMudGVzdCgpKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlbmRlciB0aGUgPHNjcmlwdD4gdGFnIHRvIHRoZSBET00uXG4gICAgICAgICAgICB0aGlzLnJlbmRlclNjcmlwdFRhZyh1cmwsIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy8gVXNpbmcgUkFGLCByZXBlYXRlZGx5IGNoZWNrIGlmIHRoZSBzY3JpcHQgaGFzIGJlZW4gbG9hZGVkLlxuICAgICAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQgfHwgNTAwMDtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgnc2NyaXB0IGxvYWRlciBpcyBkaXNwb3NlZCcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnRlc3QoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZWxhcHNlZCA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICAgICAgICAgICAgaWYgKGVsYXBzZWQgPiB0aW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChgZmFpbGVkIHRvIGxvYWQgJHt1cmx9IGR1ZSB0byB0aW1lb3V0YCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShjYWxsYmFjayk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShjYWxsYmFjayk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxvYWRlZFNjcmlwdHNbdXJsXSA9IHByb21pc2U7XG4gICAgICAgIHByb21pc2UuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYGZhaWxlZCB0byBsb2FkICR7dXJsfWApO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMubG9hZGVkU2NyaXB0c1t1cmxdO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIERPTSBmb3IgdGhlIHNjcmlwdCBlbGVtZW50LiBTdWJjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0aGlzXG4gICAgICogbWV0aG9kIGZvciBtb3JlIGNvbXBsZXggc2NyaXB0IHJlbmRlcmluZ3MuXG4gICAgICovXG4gICAgcmVuZGVyU2NyaXB0VGFnKHVybCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5hdHRycykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucy5hdHRycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IG9wdGlvbnMuYXR0cnNba2V5XTtcbiAgICAgICAgICAgICAgICBzY3JpcHQuc2V0QXR0cmlidXRlKGtleSwgdmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzY3JpcHQuc3JjID0gdXJsO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIHJlbmRlckRvbSh1cmwpIHtcbiAgICAgICAgLy8gRGVwcmVjYXRlZC4gVG8gYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uLlxuICAgICAgICB0aGlzLnJlbmRlclNjcmlwdFRhZyh1cmwpO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmxvYWRlZFNjcmlwdHMgPSB7fTtcbiAgICAgICAgdGhpcy5kaXNwb3NlZCA9IHRydWU7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NyaXB0LWxvYWRlci5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/loader/script-loader.js\n");

/***/ }),

/***/ "./lib/map/default-map.js":
/*!********************************!*\
  !*** ./lib/map/default-map.js ***!
  \********************************/
/*! exports provided: DefaultMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DefaultMap\", function() { return DefaultMap; });\n/* harmony import */ var _func_noop__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../func/noop */ \"./lib/func/noop.js\");\n\n/**\n * Allows for returning generated defaults for unknown keys.\n * Useful as a quick and dirty way to cache results of functions.\n *\n * This is intended to behave similarly to the defaultdict structure in python.\n *\n * ```\n * const sqrRts =\n *     DefaultMap.usingFunction<number, number>((x) => Math.sqrt(x));\n * sqrRts.get(9); // Returns 3\n * ```\n */\nclass DefaultMap extends Map {\n    constructor(iterable = [], defaultFunction = _func_noop__WEBPACK_IMPORTED_MODULE_0__[\"noop\"]) {\n        super(iterable);\n        this.defaultFunction = defaultFunction;\n    }\n    static usingFunction(defaultFunction) {\n        return new this([], defaultFunction);\n    }\n    get(key) {\n        if (!this.has(key)) {\n            const defaultValue = this.defaultFunction(key);\n            this.set(key, defaultValue);\n            return defaultValue;\n        }\n        else {\n            return super.get(key);\n        }\n    }\n}\n//# sourceMappingURL=default-map.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWFwL2RlZmF1bHQtbWFwLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL21hcC9kZWZhdWx0LW1hcC5qcz81NGVjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi9mdW5jL25vb3AnO1xuLyoqXG4gKiBBbGxvd3MgZm9yIHJldHVybmluZyBnZW5lcmF0ZWQgZGVmYXVsdHMgZm9yIHVua25vd24ga2V5cy5cbiAqIFVzZWZ1bCBhcyBhIHF1aWNrIGFuZCBkaXJ0eSB3YXkgdG8gY2FjaGUgcmVzdWx0cyBvZiBmdW5jdGlvbnMuXG4gKlxuICogVGhpcyBpcyBpbnRlbmRlZCB0byBiZWhhdmUgc2ltaWxhcmx5IHRvIHRoZSBkZWZhdWx0ZGljdCBzdHJ1Y3R1cmUgaW4gcHl0aG9uLlxuICpcbiAqIGBgYFxuICogY29uc3Qgc3FyUnRzID1cbiAqICAgICBEZWZhdWx0TWFwLnVzaW5nRnVuY3Rpb248bnVtYmVyLCBudW1iZXI+KCh4KSA9PiBNYXRoLnNxcnQoeCkpO1xuICogc3FyUnRzLmdldCg5KTsgLy8gUmV0dXJucyAzXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRNYXAgZXh0ZW5kcyBNYXAge1xuICAgIGNvbnN0cnVjdG9yKGl0ZXJhYmxlID0gW10sIGRlZmF1bHRGdW5jdGlvbiA9IG5vb3ApIHtcbiAgICAgICAgc3VwZXIoaXRlcmFibGUpO1xuICAgICAgICB0aGlzLmRlZmF1bHRGdW5jdGlvbiA9IGRlZmF1bHRGdW5jdGlvbjtcbiAgICB9XG4gICAgc3RhdGljIHVzaW5nRnVuY3Rpb24oZGVmYXVsdEZ1bmN0aW9uKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyhbXSwgZGVmYXVsdEZ1bmN0aW9uKTtcbiAgICB9XG4gICAgZ2V0KGtleSkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IHRoaXMuZGVmYXVsdEZ1bmN0aW9uKGtleSk7XG4gICAgICAgICAgICB0aGlzLnNldChrZXksIGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdldChrZXkpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdC1tYXAuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/map/default-map.js\n");

/***/ }),

/***/ "./lib/mathf/catmull-rom.js":
/*!**********************************!*\
  !*** ./lib/mathf/catmull-rom.js ***!
  \**********************************/
/*! exports provided: CatmullRom */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CatmullRom\", function() { return CatmullRom; });\n/* harmony import */ var _mathf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _hermite_curve__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./hermite-curve */ \"./lib/mathf/hermite-curve.js\");\n\n\n\n/**\n * A basic catmull-rom class.  Useful for creating splines or catmull-rom\n * interpolations.  They are useful compared to other splines because they are\n * guaranteed to go through specified control points.\n *\n * This particular implementation uses hermite curves from point to point.\n * Given a set of points, we calculate the m0, m1 tangents between and\n * curve until we are out of points.\n *\n * TODO (uxder): Using interpolate, create a spline.\n * TDOO (uxder): Take on SVG spline interpolate.\n *\n * ```ts\n *    let catmullInterpolate = CatmullRom.interpolate(\n *        [\n *            new Vector(0, 0),\n *            new Vector(100, 100),\n *            new Vector(200, 200),\n *            new Vector(300, 400),\n *            ... // Can take any number of vectors.\n *        ],\n *        0.25,   // Optional m0 tension\n *        0.25    // Optional m1 tensions\n *    );\n *\n *   let progress = 0.5;\n *   let x = catmullInterplate(progress).x;  // Returns the x value at 0.5 progress.\n *   let y = catmullInterpolate(progress).y; // Returns the y value at 0.5 progress.\n * ```\n *\n * Or static method\n * ```ts\n *\n * let mypoints = [\n *           new Vector(0, 0),\n *           new Vector(100, 100),\n *           new Vector(200, 200),\n * ]\n * this.x = CatmullRom.getPoint(\n *    myPoints,\n *    0.5, // Progress\n * ).x;\n * this.y = CatmullRom.getPoint(\n *    myPoints,\n *    0.5, // Progress\n * ).y;\n *\n * ```\n *\n *\n * @see http://marina.sys.wakayama-u.ac.jp/~tokoi/?date=20150105\n * @see https://www.youtube.com/watch?v=w_uU_rPayoQ\n * @see https://en.wikibooks.org/wiki/Cg_Programming/Unity/Hermite_Curves\n * @see https://en.wikipedia.org/wiki/Centripetal_Catmull%E2%80%93Rom_spline\n * @see http://hadashia.hatenablog.com/entry/2017/12/30/150556\n */\nclass CatmullRom {\n    /**\n     * Create a function that can be called to apply camtull roll interpolations.\n     * @param points  A point of vectors.\n     * @param m0Tension\n     * @param m1Tension\n     */\n    static interpolate(points, m0Tension = 0.5, m1Tension = 0.5) {\n        return (progress) => {\n            return CatmullRom.getPoint(points, progress, m0Tension, m1Tension);\n        };\n    }\n    /**\n     * For the given set of vectors, finds the p0 and p1 (start and end)\n     * vectors that apply to the current progress range and then calculates\n     * the in-between m0 and m1 tangents and applies the hermite-curve\n     * and returns a vector of the current catmull-rom interpolation.\n     * @param points\n     * @param progress\n     */\n    static getPoint(points, progress, m0Tension = 0.5, m1Tension = 0.5) {\n        const pointCount = points.length - 1;\n        const percentPerVector = 100 / pointCount;\n        const i = _mathf__WEBPACK_IMPORTED_MODULE_0__[\"mathf\"].clamp(Math.floor(_mathf__WEBPACK_IMPORTED_MODULE_0__[\"mathf\"].lerp(0, pointCount, progress)), pointCount - 1, 0);\n        const p_1 = points[i - 1] && points[i - 1].clone();\n        const p0 = points[i] && points[i].clone();\n        const p1 = points[i + 1] && points[i + 1].clone();\n        const p2 = points[i + 2] && points[i + 2].clone();\n        // Calculate M0 tangent\n        //   M0 = p1 - p_1 / 2\n        let m0;\n        if (i > 0) {\n            m0 = _vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].subtract(p1, p_1).scale(m0Tension);\n        }\n        else {\n            m0 = _vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].subtract(p1, p0);\n        }\n        // Calculate M1 tangent\n        // M1 = p2 - p0 / 2\n        let m1;\n        if (i < pointCount - 2) {\n            m1 = _vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].subtract(p2, p0).scale(m1Tension);\n        }\n        else {\n            m1 = _vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].subtract(p1, p0);\n        }\n        // Calculate the child progress for this curve.\n        const startProgress = (percentPerVector * i) / 100;\n        const endProgress = (percentPerVector * (i + 1)) / 100;\n        const childProgress = _mathf__WEBPACK_IMPORTED_MODULE_0__[\"mathf\"].childProgress(progress, startProgress, endProgress);\n        return _hermite_curve__WEBPACK_IMPORTED_MODULE_2__[\"HermiteCurve\"].getPoint(childProgress, p0, m0, p1, m1);\n    }\n}\n//# sourceMappingURL=catmull-rom.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvY2F0bXVsbC1yb20uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvbWF0aGYvY2F0bXVsbC1yb20uanM/MjcyNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtYXRoZiB9IGZyb20gJy4vbWF0aGYnO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi92ZWN0b3InO1xuaW1wb3J0IHsgSGVybWl0ZUN1cnZlIH0gZnJvbSAnLi9oZXJtaXRlLWN1cnZlJztcbi8qKlxuICogQSBiYXNpYyBjYXRtdWxsLXJvbSBjbGFzcy4gIFVzZWZ1bCBmb3IgY3JlYXRpbmcgc3BsaW5lcyBvciBjYXRtdWxsLXJvbVxuICogaW50ZXJwb2xhdGlvbnMuICBUaGV5IGFyZSB1c2VmdWwgY29tcGFyZWQgdG8gb3RoZXIgc3BsaW5lcyBiZWNhdXNlIHRoZXkgYXJlXG4gKiBndWFyYW50ZWVkIHRvIGdvIHRocm91Z2ggc3BlY2lmaWVkIGNvbnRyb2wgcG9pbnRzLlxuICpcbiAqIFRoaXMgcGFydGljdWxhciBpbXBsZW1lbnRhdGlvbiB1c2VzIGhlcm1pdGUgY3VydmVzIGZyb20gcG9pbnQgdG8gcG9pbnQuXG4gKiBHaXZlbiBhIHNldCBvZiBwb2ludHMsIHdlIGNhbGN1bGF0ZSB0aGUgbTAsIG0xIHRhbmdlbnRzIGJldHdlZW4gYW5kXG4gKiBjdXJ2ZSB1bnRpbCB3ZSBhcmUgb3V0IG9mIHBvaW50cy5cbiAqXG4gKiBUT0RPICh1eGRlcik6IFVzaW5nIGludGVycG9sYXRlLCBjcmVhdGUgYSBzcGxpbmUuXG4gKiBURE9PICh1eGRlcik6IFRha2Ugb24gU1ZHIHNwbGluZSBpbnRlcnBvbGF0ZS5cbiAqXG4gKiBgYGB0c1xuICogICAgbGV0IGNhdG11bGxJbnRlcnBvbGF0ZSA9IENhdG11bGxSb20uaW50ZXJwb2xhdGUoXG4gKiAgICAgICAgW1xuICogICAgICAgICAgICBuZXcgVmVjdG9yKDAsIDApLFxuICogICAgICAgICAgICBuZXcgVmVjdG9yKDEwMCwgMTAwKSxcbiAqICAgICAgICAgICAgbmV3IFZlY3RvcigyMDAsIDIwMCksXG4gKiAgICAgICAgICAgIG5ldyBWZWN0b3IoMzAwLCA0MDApLFxuICogICAgICAgICAgICAuLi4gLy8gQ2FuIHRha2UgYW55IG51bWJlciBvZiB2ZWN0b3JzLlxuICogICAgICAgIF0sXG4gKiAgICAgICAgMC4yNSwgICAvLyBPcHRpb25hbCBtMCB0ZW5zaW9uXG4gKiAgICAgICAgMC4yNSAgICAvLyBPcHRpb25hbCBtMSB0ZW5zaW9uc1xuICogICAgKTtcbiAqXG4gKiAgIGxldCBwcm9ncmVzcyA9IDAuNTtcbiAqICAgbGV0IHggPSBjYXRtdWxsSW50ZXJwbGF0ZShwcm9ncmVzcykueDsgIC8vIFJldHVybnMgdGhlIHggdmFsdWUgYXQgMC41IHByb2dyZXNzLlxuICogICBsZXQgeSA9IGNhdG11bGxJbnRlcnBvbGF0ZShwcm9ncmVzcykueTsgLy8gUmV0dXJucyB0aGUgeSB2YWx1ZSBhdCAwLjUgcHJvZ3Jlc3MuXG4gKiBgYGBcbiAqXG4gKiBPciBzdGF0aWMgbWV0aG9kXG4gKiBgYGB0c1xuICpcbiAqIGxldCBteXBvaW50cyA9IFtcbiAqICAgICAgICAgICBuZXcgVmVjdG9yKDAsIDApLFxuICogICAgICAgICAgIG5ldyBWZWN0b3IoMTAwLCAxMDApLFxuICogICAgICAgICAgIG5ldyBWZWN0b3IoMjAwLCAyMDApLFxuICogXVxuICogdGhpcy54ID0gQ2F0bXVsbFJvbS5nZXRQb2ludChcbiAqICAgIG15UG9pbnRzLFxuICogICAgMC41LCAvLyBQcm9ncmVzc1xuICogKS54O1xuICogdGhpcy55ID0gQ2F0bXVsbFJvbS5nZXRQb2ludChcbiAqICAgIG15UG9pbnRzLFxuICogICAgMC41LCAvLyBQcm9ncmVzc1xuICogKS55O1xuICpcbiAqIGBgYFxuICpcbiAqXG4gKiBAc2VlIGh0dHA6Ly9tYXJpbmEuc3lzLndha2F5YW1hLXUuYWMuanAvfnRva29pLz9kYXRlPTIwMTUwMTA1XG4gKiBAc2VlIGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9d191VV9yUGF5b1FcbiAqIEBzZWUgaHR0cHM6Ly9lbi53aWtpYm9va3Mub3JnL3dpa2kvQ2dfUHJvZ3JhbW1pbmcvVW5pdHkvSGVybWl0ZV9DdXJ2ZXNcbiAqIEBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2VudHJpcGV0YWxfQ2F0bXVsbCVFMiU4MCU5M1JvbV9zcGxpbmVcbiAqIEBzZWUgaHR0cDovL2hhZGFzaGlhLmhhdGVuYWJsb2cuY29tL2VudHJ5LzIwMTcvMTIvMzAvMTUwNTU2XG4gKi9cbmV4cG9ydCBjbGFzcyBDYXRtdWxsUm9tIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBmdW5jdGlvbiB0aGF0IGNhbiBiZSBjYWxsZWQgdG8gYXBwbHkgY2FtdHVsbCByb2xsIGludGVycG9sYXRpb25zLlxuICAgICAqIEBwYXJhbSBwb2ludHMgIEEgcG9pbnQgb2YgdmVjdG9ycy5cbiAgICAgKiBAcGFyYW0gbTBUZW5zaW9uXG4gICAgICogQHBhcmFtIG0xVGVuc2lvblxuICAgICAqL1xuICAgIHN0YXRpYyBpbnRlcnBvbGF0ZShwb2ludHMsIG0wVGVuc2lvbiA9IDAuNSwgbTFUZW5zaW9uID0gMC41KSB7XG4gICAgICAgIHJldHVybiAocHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBDYXRtdWxsUm9tLmdldFBvaW50KHBvaW50cywgcHJvZ3Jlc3MsIG0wVGVuc2lvbiwgbTFUZW5zaW9uKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9yIHRoZSBnaXZlbiBzZXQgb2YgdmVjdG9ycywgZmluZHMgdGhlIHAwIGFuZCBwMSAoc3RhcnQgYW5kIGVuZClcbiAgICAgKiB2ZWN0b3JzIHRoYXQgYXBwbHkgdG8gdGhlIGN1cnJlbnQgcHJvZ3Jlc3MgcmFuZ2UgYW5kIHRoZW4gY2FsY3VsYXRlc1xuICAgICAqIHRoZSBpbi1iZXR3ZWVuIG0wIGFuZCBtMSB0YW5nZW50cyBhbmQgYXBwbGllcyB0aGUgaGVybWl0ZS1jdXJ2ZVxuICAgICAqIGFuZCByZXR1cm5zIGEgdmVjdG9yIG9mIHRoZSBjdXJyZW50IGNhdG11bGwtcm9tIGludGVycG9sYXRpb24uXG4gICAgICogQHBhcmFtIHBvaW50c1xuICAgICAqIEBwYXJhbSBwcm9ncmVzc1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXRQb2ludChwb2ludHMsIHByb2dyZXNzLCBtMFRlbnNpb24gPSAwLjUsIG0xVGVuc2lvbiA9IDAuNSkge1xuICAgICAgICBjb25zdCBwb2ludENvdW50ID0gcG9pbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgIGNvbnN0IHBlcmNlbnRQZXJWZWN0b3IgPSAxMDAgLyBwb2ludENvdW50O1xuICAgICAgICBjb25zdCBpID0gbWF0aGYuY2xhbXAoTWF0aC5mbG9vcihtYXRoZi5sZXJwKDAsIHBvaW50Q291bnQsIHByb2dyZXNzKSksIHBvaW50Q291bnQgLSAxLCAwKTtcbiAgICAgICAgY29uc3QgcF8xID0gcG9pbnRzW2kgLSAxXSAmJiBwb2ludHNbaSAtIDFdLmNsb25lKCk7XG4gICAgICAgIGNvbnN0IHAwID0gcG9pbnRzW2ldICYmIHBvaW50c1tpXS5jbG9uZSgpO1xuICAgICAgICBjb25zdCBwMSA9IHBvaW50c1tpICsgMV0gJiYgcG9pbnRzW2kgKyAxXS5jbG9uZSgpO1xuICAgICAgICBjb25zdCBwMiA9IHBvaW50c1tpICsgMl0gJiYgcG9pbnRzW2kgKyAyXS5jbG9uZSgpO1xuICAgICAgICAvLyBDYWxjdWxhdGUgTTAgdGFuZ2VudFxuICAgICAgICAvLyAgIE0wID0gcDEgLSBwXzEgLyAyXG4gICAgICAgIGxldCBtMDtcbiAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICBtMCA9IFZlY3Rvci5zdWJ0cmFjdChwMSwgcF8xKS5zY2FsZShtMFRlbnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbTAgPSBWZWN0b3Iuc3VidHJhY3QocDEsIHAwKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYWxjdWxhdGUgTTEgdGFuZ2VudFxuICAgICAgICAvLyBNMSA9IHAyIC0gcDAgLyAyXG4gICAgICAgIGxldCBtMTtcbiAgICAgICAgaWYgKGkgPCBwb2ludENvdW50IC0gMikge1xuICAgICAgICAgICAgbTEgPSBWZWN0b3Iuc3VidHJhY3QocDIsIHAwKS5zY2FsZShtMVRlbnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbTEgPSBWZWN0b3Iuc3VidHJhY3QocDEsIHAwKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGNoaWxkIHByb2dyZXNzIGZvciB0aGlzIGN1cnZlLlxuICAgICAgICBjb25zdCBzdGFydFByb2dyZXNzID0gKHBlcmNlbnRQZXJWZWN0b3IgKiBpKSAvIDEwMDtcbiAgICAgICAgY29uc3QgZW5kUHJvZ3Jlc3MgPSAocGVyY2VudFBlclZlY3RvciAqIChpICsgMSkpIC8gMTAwO1xuICAgICAgICBjb25zdCBjaGlsZFByb2dyZXNzID0gbWF0aGYuY2hpbGRQcm9ncmVzcyhwcm9ncmVzcywgc3RhcnRQcm9ncmVzcywgZW5kUHJvZ3Jlc3MpO1xuICAgICAgICByZXR1cm4gSGVybWl0ZUN1cnZlLmdldFBvaW50KGNoaWxkUHJvZ3Jlc3MsIHAwLCBtMCwgcDEsIG0xKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYXRtdWxsLXJvbS5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/mathf/catmull-rom.js\n");

/***/ }),

/***/ "./lib/mathf/color.js":
/*!****************************!*\
  !*** ./lib/mathf/color.js ***!
  \****************************/
/*! exports provided: hexToRgbNormalized, colorRgbToRgb, normalizedRgbToHex, rgbToNormalizedRgb, normalizedRgbToRgb, rgbaLerp, rgbaEase, rgbToHex, hexToRgba, cssToRgba, rgbaToCss, color */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hexToRgbNormalized\", function() { return hexToRgbNormalized; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"colorRgbToRgb\", function() { return colorRgbToRgb; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"normalizedRgbToHex\", function() { return normalizedRgbToHex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rgbToNormalizedRgb\", function() { return rgbToNormalizedRgb; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"normalizedRgbToRgb\", function() { return normalizedRgbToRgb; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rgbaLerp\", function() { return rgbaLerp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rgbaEase\", function() { return rgbaEase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rgbToHex\", function() { return rgbToHex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hexToRgba\", function() { return hexToRgba; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cssToRgba\", function() { return cssToRgba; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rgbaToCss\", function() { return rgbaToCss; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"color\", function() { return color; });\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _is_is__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\n\n\n/**\n * Converts a hex value such as 0xffffff to normalized Rbg values.\n *\n * ```ts\n * color.hexToRgbNormalized(0xffffff) // >> [1, 1, 1];\n * ```\n * @param hexValue\n */\nfunction hexToRgbNormalized(hexValue) {\n    const out = [];\n    out[0] = ((hexValue >> 16) & 0xff) / 255;\n    out[1] = ((hexValue >> 8) & 0xff) / 255;\n    out[2] = (hexValue & 0xff) / 255;\n    return out;\n}\n/**\n * Converts a colorRGB to an rgb array.\n */\nfunction colorRgbToRgb(colorRgb) {\n    return [colorRgb.r, colorRgb.g, colorRgb.b];\n}\n/**\n * Converts normalized rgb values back out to hex.\n * ```ts\n * color.normalizedRgbToHex([1,1,1]) // >> 0xFFFFFF\n * ```\n * @param rgb\n */\nfunction normalizedRgbToHex(rgb) {\n    return ((rgb[0] * 255) << 16) + ((rgb[1] * 255) << 8) + ((rgb[2] * 255) | 0);\n}\n/**\n * Converts rgb to normalized rgb.\n * ```ts\n * color.rgbToNormalizedRgb([255,255,255]) // >> [1,1,1]\n * color.rgbToNormalizedRgb([0,0,0]) // >> [0,0,0]\n * ```\n *\n * @param rgb\n */\nfunction rgbToNormalizedRgb(rgb) {\n    return [rgb[0] / 255, rgb[1] / 255, rgb[2] / 255];\n}\n/**\n * Converts normalized rgb to rgb.\n * ```ts\n * color.normalizedRgbToRgb([1,1,1]) // >> [255,255,255]\n * color.normalizedRgbToRgb([0,0,0]) // >> [0,0,0]\n * ```\n *\n * @param rgb\n */\nfunction normalizedRgbToRgb(rgb) {\n    return [(rgb[0] * 255) >> 0, (rgb[1] * 255) >> 0, (rgb[2] * 255) >> 0];\n}\n/**\n * A stardard lerp between two rgba values.  This simple algo is a\n * straight line interpolation and isn't always going to\n * guarantee the right hue between values.  In short,\n * it's not gonna be very colorful between values.\n *\n * ```ts\n *\n * let a = { r: 0, g: 0, b: 0, a: 0};\n * let b = { r: 255, g: 255, b: 255, a: 1};\n * let lerp = color.rgbaLerp(a, b, 0.5);\n * ```\n *\n * @param start The starting rgba color.\n * @param end The ending rgba color.\n * @param t The current progress.j\n */\nfunction rgbaLerp(start, end, t) {\n    return {\n        r: _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"lerp\"](start.r, end.r, t) >> 0,\n        g: _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"lerp\"](start.g, end.g, t) >> 0,\n        b: _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"lerp\"](start.b, end.b, t) >> 0,\n        a: _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"lerp\"](start.a, end.a, t),\n    };\n}\n/**\n * Similar to to [[color.rgbaLerp]] but uses ease.\n * @param start\n * @param end\n * @param t\n */\nfunction rgbaEase(start, end, t, ease) {\n    return {\n        r: _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"ease\"](start.r, end.r, t, ease) >> 0,\n        g: _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"ease\"](start.g, end.g, t, ease) >> 0,\n        b: _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"ease\"](start.b, end.b, t, ease) >> 0,\n        a: _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"ease\"](start.a, end.a, t, ease),\n    };\n}\n/**\n * Converts an rgb out to a standard hex value.\n *\n * Modified version of:\n * https://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\n *\n * ```ts\n *\n * color.rgbToHex({r: 255, g: 255, b: 255}); // #FFFFFF\n * color.rgbToHex({r: 0, g: 0, b: 0}); // #000000\n *\n * // You can pass RGBA but it will simply get ignored.\n * color.rgbToHex({r: 255, g: 255, b: 255, a: 1}); // #FFFFFF\n * ```\n * @param rgb\n */\nfunction rgbToHex(rgb) {\n    const r = rgb.r;\n    const g = rgb.g;\n    const b = rgb.b;\n    return ('#' +\n        ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase());\n}\n/**\n * Converts a hex value to rgb.\n * Modified version of:\n * https://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\n */\nfunction hexToRgba(hex, a = 1) {\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    hex = hex.replace(shorthandRegex, (m, r, g, b) => {\n        return r + r + g + g + b + b;\n    });\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    let rgba = null;\n    if (result) {\n        rgba = {\n            r: parseInt(result[1], 16),\n            g: parseInt(result[2], 16),\n            b: parseInt(result[3], 16),\n            a: a,\n        };\n    }\n    return rgba;\n}\n/**\n * Converts a css like rgba string to an RGBA object.\n *\n * ```ts\n *\n * color.cssToRgba('#FFFFFF') // { r: 255, b: 255, g: 255, a: 1}\n * color.cssToRgba('rgba(255, 255, 255, 0.3)') // { r: 255, b: 255, g: 255, a: 0.3}\n * color.cssToRgb('rgb(255, 255, 255)') // { r: 255, b: 255, g: 255, a: 1}\n *\n * color.cssToRgba(20) // null\n * color.cssToRgba('hello') // null\n * ```\n */\nfunction cssToRgba(css) {\n    if (_is_is__WEBPACK_IMPORTED_MODULE_1__[\"cssHex\"](css)) {\n        return hexToRgba(css);\n    }\n    if (_is_is__WEBPACK_IMPORTED_MODULE_1__[\"cssRgb\"](css)) {\n        // We are just going to modify the rgb string to be rgba like\n        // and process it as a rgba type string.\n        css = css.replace(')', ',1)');\n        css = css.replace('rgb', 'rgba');\n    }\n    if (_is_is__WEBPACK_IMPORTED_MODULE_1__[\"cssRgba\"](css)) {\n        const match = css.match(/^rgba\\(\\s*?(\\d{1,3})\\s*?,\\s*?(\\d{1,3})\\s*?,\\s*?(\\d{1,3})\\s*?,\\s*?(\\d*(?:\\.\\d+)?)\\)$/);\n        if (match) {\n            const rgba = {\n                r: +match[1],\n                g: +match[2],\n                b: +match[3],\n                a: +match[4],\n            };\n            return rgba;\n        }\n        else {\n            return null;\n        }\n    }\n    return null;\n}\n/**\n * Converts ColorRGBA to a css string.\n *\n * ```ts\n *\n * color.rgbaToCss({r: 255, g: 255, b: 255, a: 1}); // rgba(255, 255, 255, 1)\n *\n * ```\n *\n * @param rgba\n */\nfunction rgbaToCss(rgba) {\n    return `rgba(${rgba.r}, ${rgba.g}, ${rgba.b}, ${rgba.a})`;\n}\n/**\n * A class that helps with color transformations.\n *\n * @see https://www.alanzucconi.com/2016/01/06/colour-interpolation/\n */\nconst color = {\n    hexToRgbNormalized,\n    colorRgbToRgb,\n    normalizedRgbToHex,\n    rgbToNormalizedRgb,\n    normalizedRgbToRgb,\n    rgbaLerp,\n    rgbaEase,\n    rgbToHex,\n    hexToRgba,\n    cssToRgba,\n    rgbaToCss,\n};\n//# sourceMappingURL=color.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvY29sb3IuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvbWF0aGYvY29sb3IuanM/MmFlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBtYXRoZiBmcm9tICcuLi9tYXRoZi9tYXRoZic7XG5pbXBvcnQgKiBhcyBpcyBmcm9tICcuLi9pcy9pcyc7XG4vKipcbiAqIENvbnZlcnRzIGEgaGV4IHZhbHVlIHN1Y2ggYXMgMHhmZmZmZmYgdG8gbm9ybWFsaXplZCBSYmcgdmFsdWVzLlxuICpcbiAqIGBgYHRzXG4gKiBjb2xvci5oZXhUb1JnYk5vcm1hbGl6ZWQoMHhmZmZmZmYpIC8vID4+IFsxLCAxLCAxXTtcbiAqIGBgYFxuICogQHBhcmFtIGhleFZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb1JnYk5vcm1hbGl6ZWQoaGV4VmFsdWUpIHtcbiAgICBjb25zdCBvdXQgPSBbXTtcbiAgICBvdXRbMF0gPSAoKGhleFZhbHVlID4+IDE2KSAmIDB4ZmYpIC8gMjU1O1xuICAgIG91dFsxXSA9ICgoaGV4VmFsdWUgPj4gOCkgJiAweGZmKSAvIDI1NTtcbiAgICBvdXRbMl0gPSAoaGV4VmFsdWUgJiAweGZmKSAvIDI1NTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGNvbG9yUkdCIHRvIGFuIHJnYiBhcnJheS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbG9yUmdiVG9SZ2IoY29sb3JSZ2IpIHtcbiAgICByZXR1cm4gW2NvbG9yUmdiLnIsIGNvbG9yUmdiLmcsIGNvbG9yUmdiLmJdO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBub3JtYWxpemVkIHJnYiB2YWx1ZXMgYmFjayBvdXQgdG8gaGV4LlxuICogYGBgdHNcbiAqIGNvbG9yLm5vcm1hbGl6ZWRSZ2JUb0hleChbMSwxLDFdKSAvLyA+PiAweEZGRkZGRlxuICogYGBgXG4gKiBAcGFyYW0gcmdiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVkUmdiVG9IZXgocmdiKSB7XG4gICAgcmV0dXJuICgocmdiWzBdICogMjU1KSA8PCAxNikgKyAoKHJnYlsxXSAqIDI1NSkgPDwgOCkgKyAoKHJnYlsyXSAqIDI1NSkgfCAwKTtcbn1cbi8qKlxuICogQ29udmVydHMgcmdiIHRvIG5vcm1hbGl6ZWQgcmdiLlxuICogYGBgdHNcbiAqIGNvbG9yLnJnYlRvTm9ybWFsaXplZFJnYihbMjU1LDI1NSwyNTVdKSAvLyA+PiBbMSwxLDFdXG4gKiBjb2xvci5yZ2JUb05vcm1hbGl6ZWRSZ2IoWzAsMCwwXSkgLy8gPj4gWzAsMCwwXVxuICogYGBgXG4gKlxuICogQHBhcmFtIHJnYlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmdiVG9Ob3JtYWxpemVkUmdiKHJnYikge1xuICAgIHJldHVybiBbcmdiWzBdIC8gMjU1LCByZ2JbMV0gLyAyNTUsIHJnYlsyXSAvIDI1NV07XG59XG4vKipcbiAqIENvbnZlcnRzIG5vcm1hbGl6ZWQgcmdiIHRvIHJnYi5cbiAqIGBgYHRzXG4gKiBjb2xvci5ub3JtYWxpemVkUmdiVG9SZ2IoWzEsMSwxXSkgLy8gPj4gWzI1NSwyNTUsMjU1XVxuICogY29sb3Iubm9ybWFsaXplZFJnYlRvUmdiKFswLDAsMF0pIC8vID4+IFswLDAsMF1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSByZ2JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZWRSZ2JUb1JnYihyZ2IpIHtcbiAgICByZXR1cm4gWyhyZ2JbMF0gKiAyNTUpID4+IDAsIChyZ2JbMV0gKiAyNTUpID4+IDAsIChyZ2JbMl0gKiAyNTUpID4+IDBdO1xufVxuLyoqXG4gKiBBIHN0YXJkYXJkIGxlcnAgYmV0d2VlbiB0d28gcmdiYSB2YWx1ZXMuICBUaGlzIHNpbXBsZSBhbGdvIGlzIGFcbiAqIHN0cmFpZ2h0IGxpbmUgaW50ZXJwb2xhdGlvbiBhbmQgaXNuJ3QgYWx3YXlzIGdvaW5nIHRvXG4gKiBndWFyYW50ZWUgdGhlIHJpZ2h0IGh1ZSBiZXR3ZWVuIHZhbHVlcy4gIEluIHNob3J0LFxuICogaXQncyBub3QgZ29ubmEgYmUgdmVyeSBjb2xvcmZ1bCBiZXR3ZWVuIHZhbHVlcy5cbiAqXG4gKiBgYGB0c1xuICpcbiAqIGxldCBhID0geyByOiAwLCBnOiAwLCBiOiAwLCBhOiAwfTtcbiAqIGxldCBiID0geyByOiAyNTUsIGc6IDI1NSwgYjogMjU1LCBhOiAxfTtcbiAqIGxldCBsZXJwID0gY29sb3IucmdiYUxlcnAoYSwgYiwgMC41KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdGFydCBUaGUgc3RhcnRpbmcgcmdiYSBjb2xvci5cbiAqIEBwYXJhbSBlbmQgVGhlIGVuZGluZyByZ2JhIGNvbG9yLlxuICogQHBhcmFtIHQgVGhlIGN1cnJlbnQgcHJvZ3Jlc3MualxuICovXG5leHBvcnQgZnVuY3Rpb24gcmdiYUxlcnAoc3RhcnQsIGVuZCwgdCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHI6IG1hdGhmLmxlcnAoc3RhcnQuciwgZW5kLnIsIHQpID4+IDAsXG4gICAgICAgIGc6IG1hdGhmLmxlcnAoc3RhcnQuZywgZW5kLmcsIHQpID4+IDAsXG4gICAgICAgIGI6IG1hdGhmLmxlcnAoc3RhcnQuYiwgZW5kLmIsIHQpID4+IDAsXG4gICAgICAgIGE6IG1hdGhmLmxlcnAoc3RhcnQuYSwgZW5kLmEsIHQpLFxuICAgIH07XG59XG4vKipcbiAqIFNpbWlsYXIgdG8gdG8gW1tjb2xvci5yZ2JhTGVycF1dIGJ1dCB1c2VzIGVhc2UuXG4gKiBAcGFyYW0gc3RhcnRcbiAqIEBwYXJhbSBlbmRcbiAqIEBwYXJhbSB0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZ2JhRWFzZShzdGFydCwgZW5kLCB0LCBlYXNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcjogbWF0aGYuZWFzZShzdGFydC5yLCBlbmQuciwgdCwgZWFzZSkgPj4gMCxcbiAgICAgICAgZzogbWF0aGYuZWFzZShzdGFydC5nLCBlbmQuZywgdCwgZWFzZSkgPj4gMCxcbiAgICAgICAgYjogbWF0aGYuZWFzZShzdGFydC5iLCBlbmQuYiwgdCwgZWFzZSkgPj4gMCxcbiAgICAgICAgYTogbWF0aGYuZWFzZShzdGFydC5hLCBlbmQuYSwgdCwgZWFzZSksXG4gICAgfTtcbn1cbi8qKlxuICogQ29udmVydHMgYW4gcmdiIG91dCB0byBhIHN0YW5kYXJkIGhleCB2YWx1ZS5cbiAqXG4gKiBNb2RpZmllZCB2ZXJzaW9uIG9mOlxuICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTYyMzgzOC9yZ2ItdG8taGV4LWFuZC1oZXgtdG8tcmdiXG4gKlxuICogYGBgdHNcbiAqXG4gKiBjb2xvci5yZ2JUb0hleCh7cjogMjU1LCBnOiAyNTUsIGI6IDI1NX0pOyAvLyAjRkZGRkZGXG4gKiBjb2xvci5yZ2JUb0hleCh7cjogMCwgZzogMCwgYjogMH0pOyAvLyAjMDAwMDAwXG4gKlxuICogLy8gWW91IGNhbiBwYXNzIFJHQkEgYnV0IGl0IHdpbGwgc2ltcGx5IGdldCBpZ25vcmVkLlxuICogY29sb3IucmdiVG9IZXgoe3I6IDI1NSwgZzogMjU1LCBiOiAyNTUsIGE6IDF9KTsgLy8gI0ZGRkZGRlxuICogYGBgXG4gKiBAcGFyYW0gcmdiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZ2JUb0hleChyZ2IpIHtcbiAgICBjb25zdCByID0gcmdiLnI7XG4gICAgY29uc3QgZyA9IHJnYi5nO1xuICAgIGNvbnN0IGIgPSByZ2IuYjtcbiAgICByZXR1cm4gKCcjJyArXG4gICAgICAgICgoMSA8PCAyNCkgKyAociA8PCAxNikgKyAoZyA8PCA4KSArIGIpLnRvU3RyaW5nKDE2KS5zbGljZSgxKS50b1VwcGVyQ2FzZSgpKTtcbn1cbi8qKlxuICogQ29udmVydHMgYSBoZXggdmFsdWUgdG8gcmdiLlxuICogTW9kaWZpZWQgdmVyc2lvbiBvZjpcbiAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzU2MjM4MzgvcmdiLXRvLWhleC1hbmQtaGV4LXRvLXJnYlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4VG9SZ2JhKGhleCwgYSA9IDEpIHtcbiAgICBjb25zdCBzaG9ydGhhbmRSZWdleCA9IC9eIz8oW2EtZlxcZF0pKFthLWZcXGRdKShbYS1mXFxkXSkkL2k7XG4gICAgaGV4ID0gaGV4LnJlcGxhY2Uoc2hvcnRoYW5kUmVnZXgsIChtLCByLCBnLCBiKSA9PiB7XG4gICAgICAgIHJldHVybiByICsgciArIGcgKyBnICsgYiArIGI7XG4gICAgfSk7XG4gICAgY29uc3QgcmVzdWx0ID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XG4gICAgbGV0IHJnYmEgPSBudWxsO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgcmdiYSA9IHtcbiAgICAgICAgICAgIHI6IHBhcnNlSW50KHJlc3VsdFsxXSwgMTYpLFxuICAgICAgICAgICAgZzogcGFyc2VJbnQocmVzdWx0WzJdLCAxNiksXG4gICAgICAgICAgICBiOiBwYXJzZUludChyZXN1bHRbM10sIDE2KSxcbiAgICAgICAgICAgIGE6IGEsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiByZ2JhO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGNzcyBsaWtlIHJnYmEgc3RyaW5nIHRvIGFuIFJHQkEgb2JqZWN0LlxuICpcbiAqIGBgYHRzXG4gKlxuICogY29sb3IuY3NzVG9SZ2JhKCcjRkZGRkZGJykgLy8geyByOiAyNTUsIGI6IDI1NSwgZzogMjU1LCBhOiAxfVxuICogY29sb3IuY3NzVG9SZ2JhKCdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyknKSAvLyB7IHI6IDI1NSwgYjogMjU1LCBnOiAyNTUsIGE6IDAuM31cbiAqIGNvbG9yLmNzc1RvUmdiKCdyZ2IoMjU1LCAyNTUsIDI1NSknKSAvLyB7IHI6IDI1NSwgYjogMjU1LCBnOiAyNTUsIGE6IDF9XG4gKlxuICogY29sb3IuY3NzVG9SZ2JhKDIwKSAvLyBudWxsXG4gKiBjb2xvci5jc3NUb1JnYmEoJ2hlbGxvJykgLy8gbnVsbFxuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjc3NUb1JnYmEoY3NzKSB7XG4gICAgaWYgKGlzLmNzc0hleChjc3MpKSB7XG4gICAgICAgIHJldHVybiBoZXhUb1JnYmEoY3NzKTtcbiAgICB9XG4gICAgaWYgKGlzLmNzc1JnYihjc3MpKSB7XG4gICAgICAgIC8vIFdlIGFyZSBqdXN0IGdvaW5nIHRvIG1vZGlmeSB0aGUgcmdiIHN0cmluZyB0byBiZSByZ2JhIGxpa2VcbiAgICAgICAgLy8gYW5kIHByb2Nlc3MgaXQgYXMgYSByZ2JhIHR5cGUgc3RyaW5nLlxuICAgICAgICBjc3MgPSBjc3MucmVwbGFjZSgnKScsICcsMSknKTtcbiAgICAgICAgY3NzID0gY3NzLnJlcGxhY2UoJ3JnYicsICdyZ2JhJyk7XG4gICAgfVxuICAgIGlmIChpcy5jc3NSZ2JhKGNzcykpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBjc3MubWF0Y2goL15yZ2JhXFwoXFxzKj8oXFxkezEsM30pXFxzKj8sXFxzKj8oXFxkezEsM30pXFxzKj8sXFxzKj8oXFxkezEsM30pXFxzKj8sXFxzKj8oXFxkKig/OlxcLlxcZCspPylcXCkkLyk7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgY29uc3QgcmdiYSA9IHtcbiAgICAgICAgICAgICAgICByOiArbWF0Y2hbMV0sXG4gICAgICAgICAgICAgICAgZzogK21hdGNoWzJdLFxuICAgICAgICAgICAgICAgIGI6ICttYXRjaFszXSxcbiAgICAgICAgICAgICAgICBhOiArbWF0Y2hbNF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHJnYmE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogQ29udmVydHMgQ29sb3JSR0JBIHRvIGEgY3NzIHN0cmluZy5cbiAqXG4gKiBgYGB0c1xuICpcbiAqIGNvbG9yLnJnYmFUb0Nzcyh7cjogMjU1LCBnOiAyNTUsIGI6IDI1NSwgYTogMX0pOyAvLyByZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXG4gKlxuICogYGBgXG4gKlxuICogQHBhcmFtIHJnYmFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJnYmFUb0NzcyhyZ2JhKSB7XG4gICAgcmV0dXJuIGByZ2JhKCR7cmdiYS5yfSwgJHtyZ2JhLmd9LCAke3JnYmEuYn0sICR7cmdiYS5hfSlgO1xufVxuLyoqXG4gKiBBIGNsYXNzIHRoYXQgaGVscHMgd2l0aCBjb2xvciB0cmFuc2Zvcm1hdGlvbnMuXG4gKlxuICogQHNlZSBodHRwczovL3d3dy5hbGFuenVjY29uaS5jb20vMjAxNi8wMS8wNi9jb2xvdXItaW50ZXJwb2xhdGlvbi9cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbG9yID0ge1xuICAgIGhleFRvUmdiTm9ybWFsaXplZCxcbiAgICBjb2xvclJnYlRvUmdiLFxuICAgIG5vcm1hbGl6ZWRSZ2JUb0hleCxcbiAgICByZ2JUb05vcm1hbGl6ZWRSZ2IsXG4gICAgbm9ybWFsaXplZFJnYlRvUmdiLFxuICAgIHJnYmFMZXJwLFxuICAgIHJnYmFFYXNlLFxuICAgIHJnYlRvSGV4LFxuICAgIGhleFRvUmdiYSxcbiAgICBjc3NUb1JnYmEsXG4gICAgcmdiYVRvQ3NzLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbG9yLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/mathf/color.js\n");

/***/ }),

/***/ "./lib/mathf/cubic-bezier.js":
/*!***********************************!*\
  !*** ./lib/mathf/cubic-bezier.js ***!
  \***********************************/
/*! exports provided: CubicBezier */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CubicBezier\", function() { return CubicBezier; });\n/**\n * Implements a basic cubic beizer class.\n *\n *\n * The interpolate and interpolateProgress methods are designed to work with\n * normalized values. The most common usecase for this might to apply a CubiicBezier as an\n * easing function.  To do this, you can use the makeEasingFunction which\n * creates the CubicBezier internals and allows you to pass a t (time/progress),\n * to get results.\n *\n * ```ts\n *   var func = CubicBezier.makeEasingFunction(0.2,0.17,0.83,0.67));\n *   func(0.2); // Pass progress.\n * ```\n *\n * Use as instance:\n *\n * ```ts\n * let myBezier = new CubicBezier(0.2, 0.17, 0.83, 0.67);\n * myBezier.interpolate(0);\n * myBezier.interpolate(0.2);\n * myBezier.interpolate(0.5);\n * myBezier.interpolate(0.8);\n * myBezier.interpolate(1);\n *\n * let x = mathf.ease(0, 500, this.progress,\n *            myBeizer.easingFunction());\n *\n * ```\n *\n *\n * Use static method.\n *\n * ```ts\n * CubicBezier.interpolateProgress(0, 0.2, 0.17, 0.83, 0.67);\n * CubicBezier.interpolateProgress(0.2, 0.2, 0.17, 0.83, 0.67);\n * CubicBezier.interpolateProgress(0.5, 0.2, 0.17, 0.83, 0.67);\n * CubicBezier.interpolateProgress(0.8, 0.2, 0.17, 0.83, 0.67);\n * CubicBezier.interpolateProgress(1, 0.2, 0.17, 0.83, 0.67);\n *\n *\n * let x = mathf.ease(0, 500, this.progress,\n *            CubicBezier.makeEasingFunction(0.2,0.17,0.83,0.67));\n *\n * ```\n *\n *\n * You can also use getPoint and getBezierPoint as way to calculate standard\n * bezier curves (non normalized).\n *\n *\n * ```ts\n *\n *   // Create control vectors.\n *   let c1 = new Vector(50, 400);\n *   let c2 = new Vector(100, 200);\n *   let c3 = new Vector(300, 300);\n *   let c4 = new Vector(400, 400);\n *\n *   // Find the vector on the cubic bezier at 0.3 progress / t.\n *   const vector = CubicBezier.getPoint(\n *     0.3, c1, c2, c3, c4\n *    );\n *\n * ```\n *\n *\n * References:\n * @see https://qiita.com/butchi_y/items/abb6d52fda6095b542e5\n * @see http://geom.web.fc2.com/\n * @see http://geom.web.fc2.com/geometry/bezier/cubic.html\n * @see https://stackoverflow.com/questions/27053888/how-to-get-time-value-from-bezier-curve-given-length\n */\nclass CubicBezier {\n    constructor(x2, y2, x3, y3) {\n        this.x2 = x2;\n        this.y2 = y2;\n        this.x3 = x2;\n        this.y3 = y3;\n    }\n    /**\n     * Given 4 points, start, 2, 3 and end, generates the x,y point along the\n     * bezier curve at progress (0-1) value.\n     * @param progress\n     * @param x1 Start point x\n     * @param y1 Start point y\n     * @param x2 Control point 2 x\n     * @param y2 Control point 2 y\n     * @param x3 Control point 3 x\n     * @param y3 Control point 3 y\n     * @param x4 End point x\n     * @param y4 End point y\n     */\n    static getBezierPoint(progress, x1, y1, x2, y2, x3, y3, x4, y4) {\n        const tp = 1 - progress;\n        const x = progress * progress * progress * x4 +\n            3 * progress * progress * tp * x3 +\n            3 * progress * tp * tp * x2 +\n            tp * tp * tp * x1;\n        const y = progress * progress * progress * y4 +\n            3 * progress * progress * tp * y3 +\n            3 * progress * tp * tp * y2 +\n            tp * tp * tp * y1;\n        return {\n            x: x,\n            y: y,\n        };\n    }\n    /**\n     * Gets a point along the cubic bezier.\n     * @param progress\n     * @param v1 The start vector\n     * @param v2 The control2 vector\n     * @param v3 The control3 vector\n     * @param v4  The end vector\n     */\n    static getPoint(progress, v1, v2, v3, v4) {\n        return CubicBezier.getBezierPoint(progress, v1.x, v1.y, v2.x, v2.y, v3.x, v3.y, v4.x, v4.y);\n    }\n    /**\n     * Runs a basic cubic bezier interporalation given progress and point values\n     * for the 2nd and 3rd controls of the cubic bezier.\n     *\n     * ```ts\n     * let x = CubicBezier.interpolateProgress(0.2, 0.17, 0.67, 0.83, 0.67);\n     *\n     * ```\n     * @param progress The progress of the interpolation.  Value between 0-1.\n     * @param x2 The x of the second control point.\n     * @param y2 The y of the second control point.\n     * @param x2 The x of the third control point.\n     * @param y3 The y of the fourth control point.\n     * @return The interpolated value.\n     */\n    static interpolateProgress(progress, x2, y2, x3, y3) {\n        // Get the point (x, y) for this current time.\n        const point = CubicBezier.getBezierPoint(progress, 0, 0, // Start\n        x2, y2, // Point2\n        x3, y3, // Point 3\n        1, 1 // End\n        );\n        // Simply return y since x is time and y is progression.\n        return point.y;\n    }\n    /**\n     * Runs a basic cubic bezier interporalation.\n     *\n     * ```ts\n     * let myBezier = new CubicBezier(0.2, 0.17, 0.83, 0.67);\n     * myBezier.interporate(0);\n     * myBezier.interporate(0.2);\n     *\n     * ```\n     * @param progress The progress of the interpolation.  Value between 0-1.\n     * @return The interpolated value.\n     */\n    interpolate(progress) {\n        return CubicBezier.interpolateProgress(progress, this.x2, this.y2, this.x3, this.y3);\n    }\n    /**\n     * Returns an easing function of this CubicBezier so it can be\n     * used like other easing functions but used for instances.\n     * @return A function that accepts a progresss value.\n     */\n    easingFunction() {\n        return (progress) => {\n            return this.interpolate(progress);\n        };\n    }\n    /**\n     * Returns an easing function of this CubicBezier so it can be\n     * used like other easing functions.  A static method.\n     * @param p0 The first control point.\n     * @param p1 The second control point.\n     * @param p2 The third control point.\n     * @param p3 The fourth control point.\n     * @return A function that accepts a progresss value.\n     */\n    static makeEasingFunction(p0, p1, p2, p3) {\n        return (progress) => {\n            return this.interpolateProgress(progress, p0, p1, p2, p3);\n        };\n    }\n    /**\n     * Makes an easing function from comma separated values.\n     * ```\n     * const myEasingFunction = CubicBezier.makeEasingFunctionFromString('0,0.2,0.93,1');\n     * ```\n     */\n    static makeEasingFunctionFromString(value) {\n        const values = value.split(',');\n        return CubicBezier.makeEasingFunction(+values[0], +values[1], +values[2], +values[3]);\n    }\n}\n//# sourceMappingURL=cubic-bezier.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvY3ViaWMtYmV6aWVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL21hdGhmL2N1YmljLWJlemllci5qcz8wYjg1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSW1wbGVtZW50cyBhIGJhc2ljIGN1YmljIGJlaXplciBjbGFzcy5cbiAqXG4gKlxuICogVGhlIGludGVycG9sYXRlIGFuZCBpbnRlcnBvbGF0ZVByb2dyZXNzIG1ldGhvZHMgYXJlIGRlc2lnbmVkIHRvIHdvcmsgd2l0aFxuICogbm9ybWFsaXplZCB2YWx1ZXMuIFRoZSBtb3N0IGNvbW1vbiB1c2VjYXNlIGZvciB0aGlzIG1pZ2h0IHRvIGFwcGx5IGEgQ3ViaWljQmV6aWVyIGFzIGFuXG4gKiBlYXNpbmcgZnVuY3Rpb24uICBUbyBkbyB0aGlzLCB5b3UgY2FuIHVzZSB0aGUgbWFrZUVhc2luZ0Z1bmN0aW9uIHdoaWNoXG4gKiBjcmVhdGVzIHRoZSBDdWJpY0JlemllciBpbnRlcm5hbHMgYW5kIGFsbG93cyB5b3UgdG8gcGFzcyBhIHQgKHRpbWUvcHJvZ3Jlc3MpLFxuICogdG8gZ2V0IHJlc3VsdHMuXG4gKlxuICogYGBgdHNcbiAqICAgdmFyIGZ1bmMgPSBDdWJpY0Jlemllci5tYWtlRWFzaW5nRnVuY3Rpb24oMC4yLDAuMTcsMC44MywwLjY3KSk7XG4gKiAgIGZ1bmMoMC4yKTsgLy8gUGFzcyBwcm9ncmVzcy5cbiAqIGBgYFxuICpcbiAqIFVzZSBhcyBpbnN0YW5jZTpcbiAqXG4gKiBgYGB0c1xuICogbGV0IG15QmV6aWVyID0gbmV3IEN1YmljQmV6aWVyKDAuMiwgMC4xNywgMC44MywgMC42Nyk7XG4gKiBteUJlemllci5pbnRlcnBvbGF0ZSgwKTtcbiAqIG15QmV6aWVyLmludGVycG9sYXRlKDAuMik7XG4gKiBteUJlemllci5pbnRlcnBvbGF0ZSgwLjUpO1xuICogbXlCZXppZXIuaW50ZXJwb2xhdGUoMC44KTtcbiAqIG15QmV6aWVyLmludGVycG9sYXRlKDEpO1xuICpcbiAqIGxldCB4ID0gbWF0aGYuZWFzZSgwLCA1MDAsIHRoaXMucHJvZ3Jlc3MsXG4gKiAgICAgICAgICAgIG15QmVpemVyLmVhc2luZ0Z1bmN0aW9uKCkpO1xuICpcbiAqIGBgYFxuICpcbiAqXG4gKiBVc2Ugc3RhdGljIG1ldGhvZC5cbiAqXG4gKiBgYGB0c1xuICogQ3ViaWNCZXppZXIuaW50ZXJwb2xhdGVQcm9ncmVzcygwLCAwLjIsIDAuMTcsIDAuODMsIDAuNjcpO1xuICogQ3ViaWNCZXppZXIuaW50ZXJwb2xhdGVQcm9ncmVzcygwLjIsIDAuMiwgMC4xNywgMC44MywgMC42Nyk7XG4gKiBDdWJpY0Jlemllci5pbnRlcnBvbGF0ZVByb2dyZXNzKDAuNSwgMC4yLCAwLjE3LCAwLjgzLCAwLjY3KTtcbiAqIEN1YmljQmV6aWVyLmludGVycG9sYXRlUHJvZ3Jlc3MoMC44LCAwLjIsIDAuMTcsIDAuODMsIDAuNjcpO1xuICogQ3ViaWNCZXppZXIuaW50ZXJwb2xhdGVQcm9ncmVzcygxLCAwLjIsIDAuMTcsIDAuODMsIDAuNjcpO1xuICpcbiAqXG4gKiBsZXQgeCA9IG1hdGhmLmVhc2UoMCwgNTAwLCB0aGlzLnByb2dyZXNzLFxuICogICAgICAgICAgICBDdWJpY0Jlemllci5tYWtlRWFzaW5nRnVuY3Rpb24oMC4yLDAuMTcsMC44MywwLjY3KSk7XG4gKlxuICogYGBgXG4gKlxuICpcbiAqIFlvdSBjYW4gYWxzbyB1c2UgZ2V0UG9pbnQgYW5kIGdldEJlemllclBvaW50IGFzIHdheSB0byBjYWxjdWxhdGUgc3RhbmRhcmRcbiAqIGJlemllciBjdXJ2ZXMgKG5vbiBub3JtYWxpemVkKS5cbiAqXG4gKlxuICogYGBgdHNcbiAqXG4gKiAgIC8vIENyZWF0ZSBjb250cm9sIHZlY3RvcnMuXG4gKiAgIGxldCBjMSA9IG5ldyBWZWN0b3IoNTAsIDQwMCk7XG4gKiAgIGxldCBjMiA9IG5ldyBWZWN0b3IoMTAwLCAyMDApO1xuICogICBsZXQgYzMgPSBuZXcgVmVjdG9yKDMwMCwgMzAwKTtcbiAqICAgbGV0IGM0ID0gbmV3IFZlY3Rvcig0MDAsIDQwMCk7XG4gKlxuICogICAvLyBGaW5kIHRoZSB2ZWN0b3Igb24gdGhlIGN1YmljIGJlemllciBhdCAwLjMgcHJvZ3Jlc3MgLyB0LlxuICogICBjb25zdCB2ZWN0b3IgPSBDdWJpY0Jlemllci5nZXRQb2ludChcbiAqICAgICAwLjMsIGMxLCBjMiwgYzMsIGM0XG4gKiAgICApO1xuICpcbiAqIGBgYFxuICpcbiAqXG4gKiBSZWZlcmVuY2VzOlxuICogQHNlZSBodHRwczovL3FpaXRhLmNvbS9idXRjaGlfeS9pdGVtcy9hYmI2ZDUyZmRhNjA5NWI1NDJlNVxuICogQHNlZSBodHRwOi8vZ2VvbS53ZWIuZmMyLmNvbS9cbiAqIEBzZWUgaHR0cDovL2dlb20ud2ViLmZjMi5jb20vZ2VvbWV0cnkvYmV6aWVyL2N1YmljLmh0bWxcbiAqIEBzZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjcwNTM4ODgvaG93LXRvLWdldC10aW1lLXZhbHVlLWZyb20tYmV6aWVyLWN1cnZlLWdpdmVuLWxlbmd0aFxuICovXG5leHBvcnQgY2xhc3MgQ3ViaWNCZXppZXIge1xuICAgIGNvbnN0cnVjdG9yKHgyLCB5MiwgeDMsIHkzKSB7XG4gICAgICAgIHRoaXMueDIgPSB4MjtcbiAgICAgICAgdGhpcy55MiA9IHkyO1xuICAgICAgICB0aGlzLngzID0geDI7XG4gICAgICAgIHRoaXMueTMgPSB5MztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2l2ZW4gNCBwb2ludHMsIHN0YXJ0LCAyLCAzIGFuZCBlbmQsIGdlbmVyYXRlcyB0aGUgeCx5IHBvaW50IGFsb25nIHRoZVxuICAgICAqIGJlemllciBjdXJ2ZSBhdCBwcm9ncmVzcyAoMC0xKSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0gcHJvZ3Jlc3NcbiAgICAgKiBAcGFyYW0geDEgU3RhcnQgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB5MSBTdGFydCBwb2ludCB5XG4gICAgICogQHBhcmFtIHgyIENvbnRyb2wgcG9pbnQgMiB4XG4gICAgICogQHBhcmFtIHkyIENvbnRyb2wgcG9pbnQgMiB5XG4gICAgICogQHBhcmFtIHgzIENvbnRyb2wgcG9pbnQgMyB4XG4gICAgICogQHBhcmFtIHkzIENvbnRyb2wgcG9pbnQgMyB5XG4gICAgICogQHBhcmFtIHg0IEVuZCBwb2ludCB4XG4gICAgICogQHBhcmFtIHk0IEVuZCBwb2ludCB5XG4gICAgICovXG4gICAgc3RhdGljIGdldEJlemllclBvaW50KHByb2dyZXNzLCB4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQpIHtcbiAgICAgICAgY29uc3QgdHAgPSAxIC0gcHJvZ3Jlc3M7XG4gICAgICAgIGNvbnN0IHggPSBwcm9ncmVzcyAqIHByb2dyZXNzICogcHJvZ3Jlc3MgKiB4NCArXG4gICAgICAgICAgICAzICogcHJvZ3Jlc3MgKiBwcm9ncmVzcyAqIHRwICogeDMgK1xuICAgICAgICAgICAgMyAqIHByb2dyZXNzICogdHAgKiB0cCAqIHgyICtcbiAgICAgICAgICAgIHRwICogdHAgKiB0cCAqIHgxO1xuICAgICAgICBjb25zdCB5ID0gcHJvZ3Jlc3MgKiBwcm9ncmVzcyAqIHByb2dyZXNzICogeTQgK1xuICAgICAgICAgICAgMyAqIHByb2dyZXNzICogcHJvZ3Jlc3MgKiB0cCAqIHkzICtcbiAgICAgICAgICAgIDMgKiBwcm9ncmVzcyAqIHRwICogdHAgKiB5MiArXG4gICAgICAgICAgICB0cCAqIHRwICogdHAgKiB5MTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgcG9pbnQgYWxvbmcgdGhlIGN1YmljIGJlemllci5cbiAgICAgKiBAcGFyYW0gcHJvZ3Jlc3NcbiAgICAgKiBAcGFyYW0gdjEgVGhlIHN0YXJ0IHZlY3RvclxuICAgICAqIEBwYXJhbSB2MiBUaGUgY29udHJvbDIgdmVjdG9yXG4gICAgICogQHBhcmFtIHYzIFRoZSBjb250cm9sMyB2ZWN0b3JcbiAgICAgKiBAcGFyYW0gdjQgIFRoZSBlbmQgdmVjdG9yXG4gICAgICovXG4gICAgc3RhdGljIGdldFBvaW50KHByb2dyZXNzLCB2MSwgdjIsIHYzLCB2NCkge1xuICAgICAgICByZXR1cm4gQ3ViaWNCZXppZXIuZ2V0QmV6aWVyUG9pbnQocHJvZ3Jlc3MsIHYxLngsIHYxLnksIHYyLngsIHYyLnksIHYzLngsIHYzLnksIHY0LngsIHY0LnkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW5zIGEgYmFzaWMgY3ViaWMgYmV6aWVyIGludGVycG9yYWxhdGlvbiBnaXZlbiBwcm9ncmVzcyBhbmQgcG9pbnQgdmFsdWVzXG4gICAgICogZm9yIHRoZSAybmQgYW5kIDNyZCBjb250cm9scyBvZiB0aGUgY3ViaWMgYmV6aWVyLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBsZXQgeCA9IEN1YmljQmV6aWVyLmludGVycG9sYXRlUHJvZ3Jlc3MoMC4yLCAwLjE3LCAwLjY3LCAwLjgzLCAwLjY3KTtcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIEBwYXJhbSBwcm9ncmVzcyBUaGUgcHJvZ3Jlc3Mgb2YgdGhlIGludGVycG9sYXRpb24uICBWYWx1ZSBiZXR3ZWVuIDAtMS5cbiAgICAgKiBAcGFyYW0geDIgVGhlIHggb2YgdGhlIHNlY29uZCBjb250cm9sIHBvaW50LlxuICAgICAqIEBwYXJhbSB5MiBUaGUgeSBvZiB0aGUgc2Vjb25kIGNvbnRyb2wgcG9pbnQuXG4gICAgICogQHBhcmFtIHgyIFRoZSB4IG9mIHRoZSB0aGlyZCBjb250cm9sIHBvaW50LlxuICAgICAqIEBwYXJhbSB5MyBUaGUgeSBvZiB0aGUgZm91cnRoIGNvbnRyb2wgcG9pbnQuXG4gICAgICogQHJldHVybiBUaGUgaW50ZXJwb2xhdGVkIHZhbHVlLlxuICAgICAqL1xuICAgIHN0YXRpYyBpbnRlcnBvbGF0ZVByb2dyZXNzKHByb2dyZXNzLCB4MiwgeTIsIHgzLCB5Mykge1xuICAgICAgICAvLyBHZXQgdGhlIHBvaW50ICh4LCB5KSBmb3IgdGhpcyBjdXJyZW50IHRpbWUuXG4gICAgICAgIGNvbnN0IHBvaW50ID0gQ3ViaWNCZXppZXIuZ2V0QmV6aWVyUG9pbnQocHJvZ3Jlc3MsIDAsIDAsIC8vIFN0YXJ0XG4gICAgICAgIHgyLCB5MiwgLy8gUG9pbnQyXG4gICAgICAgIHgzLCB5MywgLy8gUG9pbnQgM1xuICAgICAgICAxLCAxIC8vIEVuZFxuICAgICAgICApO1xuICAgICAgICAvLyBTaW1wbHkgcmV0dXJuIHkgc2luY2UgeCBpcyB0aW1lIGFuZCB5IGlzIHByb2dyZXNzaW9uLlxuICAgICAgICByZXR1cm4gcG9pbnQueTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUnVucyBhIGJhc2ljIGN1YmljIGJlemllciBpbnRlcnBvcmFsYXRpb24uXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGxldCBteUJlemllciA9IG5ldyBDdWJpY0JlemllcigwLjIsIDAuMTcsIDAuODMsIDAuNjcpO1xuICAgICAqIG15QmV6aWVyLmludGVycG9yYXRlKDApO1xuICAgICAqIG15QmV6aWVyLmludGVycG9yYXRlKDAuMik7XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBAcGFyYW0gcHJvZ3Jlc3MgVGhlIHByb2dyZXNzIG9mIHRoZSBpbnRlcnBvbGF0aW9uLiAgVmFsdWUgYmV0d2VlbiAwLTEuXG4gICAgICogQHJldHVybiBUaGUgaW50ZXJwb2xhdGVkIHZhbHVlLlxuICAgICAqL1xuICAgIGludGVycG9sYXRlKHByb2dyZXNzKSB7XG4gICAgICAgIHJldHVybiBDdWJpY0Jlemllci5pbnRlcnBvbGF0ZVByb2dyZXNzKHByb2dyZXNzLCB0aGlzLngyLCB0aGlzLnkyLCB0aGlzLngzLCB0aGlzLnkzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBlYXNpbmcgZnVuY3Rpb24gb2YgdGhpcyBDdWJpY0JlemllciBzbyBpdCBjYW4gYmVcbiAgICAgKiB1c2VkIGxpa2Ugb3RoZXIgZWFzaW5nIGZ1bmN0aW9ucyBidXQgdXNlZCBmb3IgaW5zdGFuY2VzLlxuICAgICAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgYSBwcm9ncmVzc3MgdmFsdWUuXG4gICAgICovXG4gICAgZWFzaW5nRnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAocHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmludGVycG9sYXRlKHByb2dyZXNzKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBlYXNpbmcgZnVuY3Rpb24gb2YgdGhpcyBDdWJpY0JlemllciBzbyBpdCBjYW4gYmVcbiAgICAgKiB1c2VkIGxpa2Ugb3RoZXIgZWFzaW5nIGZ1bmN0aW9ucy4gIEEgc3RhdGljIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gcDAgVGhlIGZpcnN0IGNvbnRyb2wgcG9pbnQuXG4gICAgICogQHBhcmFtIHAxIFRoZSBzZWNvbmQgY29udHJvbCBwb2ludC5cbiAgICAgKiBAcGFyYW0gcDIgVGhlIHRoaXJkIGNvbnRyb2wgcG9pbnQuXG4gICAgICogQHBhcmFtIHAzIFRoZSBmb3VydGggY29udHJvbCBwb2ludC5cbiAgICAgKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGEgcHJvZ3Jlc3NzIHZhbHVlLlxuICAgICAqL1xuICAgIHN0YXRpYyBtYWtlRWFzaW5nRnVuY3Rpb24ocDAsIHAxLCBwMiwgcDMpIHtcbiAgICAgICAgcmV0dXJuIChwcm9ncmVzcykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJwb2xhdGVQcm9ncmVzcyhwcm9ncmVzcywgcDAsIHAxLCBwMiwgcDMpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhbiBlYXNpbmcgZnVuY3Rpb24gZnJvbSBjb21tYSBzZXBhcmF0ZWQgdmFsdWVzLlxuICAgICAqIGBgYFxuICAgICAqIGNvbnN0IG15RWFzaW5nRnVuY3Rpb24gPSBDdWJpY0Jlemllci5tYWtlRWFzaW5nRnVuY3Rpb25Gcm9tU3RyaW5nKCcwLDAuMiwwLjkzLDEnKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzdGF0aWMgbWFrZUVhc2luZ0Z1bmN0aW9uRnJvbVN0cmluZyh2YWx1ZSkge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSB2YWx1ZS5zcGxpdCgnLCcpO1xuICAgICAgICByZXR1cm4gQ3ViaWNCZXppZXIubWFrZUVhc2luZ0Z1bmN0aW9uKCt2YWx1ZXNbMF0sICt2YWx1ZXNbMV0sICt2YWx1ZXNbMl0sICt2YWx1ZXNbM10pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWN1YmljLWJlemllci5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/mathf/cubic-bezier.js\n");

/***/ }),

/***/ "./lib/mathf/hermite-curve.js":
/*!************************************!*\
  !*** ./lib/mathf/hermite-curve.js ***!
  \************************************/
/*! exports provided: HermiteCurve */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HermiteCurve\", function() { return HermiteCurve; });\n/**\n * Calculates the points on a hermite curve given contrl points and a time.\n *\n *\n * ```ts\n *\n * let hermitCurve = HermiteCurve.getPoint(\n *          0.3,\n *          new Vector(0, 100),\n *          new Vector(50, 100),\n *          new Vector(100, 200),\n *          new Vector(300, 300),\n * )\n *\n * let myXPoint = hermiteCurve.x;\n * let myYPoint = hermiteCurve.y;\n * ```\n *\n * @see http://marina.sys.wakayama-u.ac.jp/~tokoi/?date=20150105\n * @see https://en.wikibooks.org/wiki/Cg_Programming/Unity/Hermite_Curves#/media/File:Hermite_spline_2-segments.svg\n * @see https://en.wikipedia.org/wiki/Cubic_Hermite_spline\n * @see https://en.wikibooks.org/wiki/Cg_Programming/Unity/Hermite_Curves\n */\nclass HermiteCurve {\n    constructor() { }\n    /**\n     * Given start point p0 and it's tangent m0 and the endpoint p1 and it's\n     * tangent m1, calculates a cubic hermit curve.\n     *\n     * Keep in mind that t here is a progress of value 0-1 but it is for this\n     * curve.  So at 0, we would be at the start point and 1 would be at the end\n     * point.\n     *\n     *\n     * @param t The current progress.\n     * @param p0 The start voint p0\n     * @param m0 The tangent of p0\n     * @param p1 The end point\n     * @param m1 The tangent of p1\n     */\n    static getPoint(t, p0, m0, p1, m1) {\n        return (p0\n            .clone()\n            .scale(1 - 3 * t * t + 2 * t * t * t)\n            // h1\n            .add(m0.clone().scale(t - 2 * t * t + t * t * t))\n            // h2\n            .add(m1.clone().scale(-t * t + t * t * t))\n            // h3\n            .add(p1.clone().scale(3 * t * t - 2 * t * t * t)));\n    }\n}\n//# sourceMappingURL=hermite-curve.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvaGVybWl0ZS1jdXJ2ZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9tYXRoZi9oZXJtaXRlLWN1cnZlLmpzPzExMTkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBwb2ludHMgb24gYSBoZXJtaXRlIGN1cnZlIGdpdmVuIGNvbnRybCBwb2ludHMgYW5kIGEgdGltZS5cbiAqXG4gKlxuICogYGBgdHNcbiAqXG4gKiBsZXQgaGVybWl0Q3VydmUgPSBIZXJtaXRlQ3VydmUuZ2V0UG9pbnQoXG4gKiAgICAgICAgICAwLjMsXG4gKiAgICAgICAgICBuZXcgVmVjdG9yKDAsIDEwMCksXG4gKiAgICAgICAgICBuZXcgVmVjdG9yKDUwLCAxMDApLFxuICogICAgICAgICAgbmV3IFZlY3RvcigxMDAsIDIwMCksXG4gKiAgICAgICAgICBuZXcgVmVjdG9yKDMwMCwgMzAwKSxcbiAqIClcbiAqXG4gKiBsZXQgbXlYUG9pbnQgPSBoZXJtaXRlQ3VydmUueDtcbiAqIGxldCBteVlQb2ludCA9IGhlcm1pdGVDdXJ2ZS55O1xuICogYGBgXG4gKlxuICogQHNlZSBodHRwOi8vbWFyaW5hLnN5cy53YWtheWFtYS11LmFjLmpwL350b2tvaS8/ZGF0ZT0yMDE1MDEwNVxuICogQHNlZSBodHRwczovL2VuLndpa2lib29rcy5vcmcvd2lraS9DZ19Qcm9ncmFtbWluZy9Vbml0eS9IZXJtaXRlX0N1cnZlcyMvbWVkaWEvRmlsZTpIZXJtaXRlX3NwbGluZV8yLXNlZ21lbnRzLnN2Z1xuICogQHNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DdWJpY19IZXJtaXRlX3NwbGluZVxuICogQHNlZSBodHRwczovL2VuLndpa2lib29rcy5vcmcvd2lraS9DZ19Qcm9ncmFtbWluZy9Vbml0eS9IZXJtaXRlX0N1cnZlc1xuICovXG5leHBvcnQgY2xhc3MgSGVybWl0ZUN1cnZlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIC8qKlxuICAgICAqIEdpdmVuIHN0YXJ0IHBvaW50IHAwIGFuZCBpdCdzIHRhbmdlbnQgbTAgYW5kIHRoZSBlbmRwb2ludCBwMSBhbmQgaXQnc1xuICAgICAqIHRhbmdlbnQgbTEsIGNhbGN1bGF0ZXMgYSBjdWJpYyBoZXJtaXQgY3VydmUuXG4gICAgICpcbiAgICAgKiBLZWVwIGluIG1pbmQgdGhhdCB0IGhlcmUgaXMgYSBwcm9ncmVzcyBvZiB2YWx1ZSAwLTEgYnV0IGl0IGlzIGZvciB0aGlzXG4gICAgICogY3VydmUuICBTbyBhdCAwLCB3ZSB3b3VsZCBiZSBhdCB0aGUgc3RhcnQgcG9pbnQgYW5kIDEgd291bGQgYmUgYXQgdGhlIGVuZFxuICAgICAqIHBvaW50LlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdCBUaGUgY3VycmVudCBwcm9ncmVzcy5cbiAgICAgKiBAcGFyYW0gcDAgVGhlIHN0YXJ0IHZvaW50IHAwXG4gICAgICogQHBhcmFtIG0wIFRoZSB0YW5nZW50IG9mIHAwXG4gICAgICogQHBhcmFtIHAxIFRoZSBlbmQgcG9pbnRcbiAgICAgKiBAcGFyYW0gbTEgVGhlIHRhbmdlbnQgb2YgcDFcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0UG9pbnQodCwgcDAsIG0wLCBwMSwgbTEpIHtcbiAgICAgICAgcmV0dXJuIChwMFxuICAgICAgICAgICAgLmNsb25lKClcbiAgICAgICAgICAgIC5zY2FsZSgxIC0gMyAqIHQgKiB0ICsgMiAqIHQgKiB0ICogdClcbiAgICAgICAgICAgIC8vIGgxXG4gICAgICAgICAgICAuYWRkKG0wLmNsb25lKCkuc2NhbGUodCAtIDIgKiB0ICogdCArIHQgKiB0ICogdCkpXG4gICAgICAgICAgICAvLyBoMlxuICAgICAgICAgICAgLmFkZChtMS5jbG9uZSgpLnNjYWxlKC10ICogdCArIHQgKiB0ICogdCkpXG4gICAgICAgICAgICAvLyBoM1xuICAgICAgICAgICAgLmFkZChwMS5jbG9uZSgpLnNjYWxlKDMgKiB0ICogdCAtIDIgKiB0ICogdCAqIHQpKSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVybWl0ZS1jdXJ2ZS5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/mathf/hermite-curve.js\n");

/***/ }),

/***/ "./lib/mathf/mathf.js":
/*!****************************!*\
  !*** ./lib/mathf/mathf.js ***!
  \****************************/
/*! exports provided: absZero, fixDigits, int, int0, flipCoin, getRandomFloat, getRandomInt, getUniqueRandomInt, clamp, childProgress, roundToPrecision, floorToPrecision, ceilToPrecision, toFixed, angleRadians, angleDegree, angleDistanceDegree, angleDistanceRadian, degreeToRadian, radianToDegree, boxCollision, collisionCircVsBox, collisionPointVersusConvexPolygon, calculate2dPointRotation, calculate2dPointRotationWithDistance, generateRandomPoints, distance, direction, calculateCenterOffset, scaleX, scaleY, aspectRatio, isBetween, resizeDimensionalBoxToWidth, resizeDimensionalBoxToHeight, clampAsPercent, clampAsProgress, clamp01, getValueInRangeByProgress, getProgressInRangeByValue, normalize, lerp, inverseProgress, inverseLerp, mix, step, smoothStep, interpolateRange, sinNormalized, lerpEase, damp, ease, wrap, calculateBackgroundCover, calculateBackgroundContain, asymptoticAverage, smoothStart2, smoothStart3, smoothStop3, smoothStep2, sigmoid, remap, sum, mathf */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"absZero\", function() { return absZero; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fixDigits\", function() { return fixDigits; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"int\", function() { return int; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"int0\", function() { return int0; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flipCoin\", function() { return flipCoin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRandomFloat\", function() { return getRandomFloat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRandomInt\", function() { return getRandomInt; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUniqueRandomInt\", function() { return getUniqueRandomInt; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clamp\", function() { return clamp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"childProgress\", function() { return childProgress; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"roundToPrecision\", function() { return roundToPrecision; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"floorToPrecision\", function() { return floorToPrecision; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ceilToPrecision\", function() { return ceilToPrecision; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toFixed\", function() { return toFixed; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"angleRadians\", function() { return angleRadians; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"angleDegree\", function() { return angleDegree; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"angleDistanceDegree\", function() { return angleDistanceDegree; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"angleDistanceRadian\", function() { return angleDistanceRadian; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"degreeToRadian\", function() { return degreeToRadian; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"radianToDegree\", function() { return radianToDegree; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"boxCollision\", function() { return boxCollision; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"collisionCircVsBox\", function() { return collisionCircVsBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"collisionPointVersusConvexPolygon\", function() { return collisionPointVersusConvexPolygon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculate2dPointRotation\", function() { return calculate2dPointRotation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculate2dPointRotationWithDistance\", function() { return calculate2dPointRotationWithDistance; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generateRandomPoints\", function() { return generateRandomPoints; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"distance\", function() { return distance; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"direction\", function() { return direction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateCenterOffset\", function() { return calculateCenterOffset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"scaleX\", function() { return scaleX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"scaleY\", function() { return scaleY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"aspectRatio\", function() { return aspectRatio; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isBetween\", function() { return isBetween; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resizeDimensionalBoxToWidth\", function() { return resizeDimensionalBoxToWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resizeDimensionalBoxToHeight\", function() { return resizeDimensionalBoxToHeight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clampAsPercent\", function() { return clampAsPercent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clampAsProgress\", function() { return clampAsProgress; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clamp01\", function() { return clamp01; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getValueInRangeByProgress\", function() { return getValueInRangeByProgress; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getProgressInRangeByValue\", function() { return getProgressInRangeByValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"normalize\", function() { return normalize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"lerp\", function() { return lerp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"inverseProgress\", function() { return inverseProgress; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"inverseLerp\", function() { return inverseLerp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mix\", function() { return mix; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"step\", function() { return step; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"smoothStep\", function() { return smoothStep; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"interpolateRange\", function() { return interpolateRange; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sinNormalized\", function() { return sinNormalized; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"lerpEase\", function() { return lerpEase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"damp\", function() { return damp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ease\", function() { return ease; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"wrap\", function() { return wrap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateBackgroundCover\", function() { return calculateBackgroundCover; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateBackgroundContain\", function() { return calculateBackgroundContain; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"asymptoticAverage\", function() { return asymptoticAverage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"smoothStart2\", function() { return smoothStart2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"smoothStart3\", function() { return smoothStart3; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"smoothStop3\", function() { return smoothStop3; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"smoothStep2\", function() { return smoothStep2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sigmoid\", function() { return sigmoid; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"remap\", function() { return remap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sum\", function() { return sum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mathf\", function() { return mathf; });\n/* harmony import */ var _ease_ease__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ease/ease */ \"./lib/ease/ease.js\");\n\n/**\n * Returns 0 if value is 0 or -0, otherwise, passes through the value.\n * ```ts\n * mathf.absZero(-0)  --> 0\n * mathf.absZero(0)  --> 0\n * mathf.absZero(10)  --> 10\n * mathf.absZero(-12)  --> -12\n * ```\n * @tested\n */\nfunction absZero(value) {\n    return Object.is(value, -0) ? 0 : value;\n}\n/**\n * Takes a number like a float and fixes it's digits.\n * Example:\n * ```ts\n *   mathf.fixDigits(20.12345, 2) ==> 20.12\n *   mathf.fixDigits(20.12345, 3) ==> 20.123\n * ```\n * @tested\n * @param {number} value The number to convert\n * @param {number} digits The number of digits to output.\n */\nfunction fixDigits(value, digits) {\n    return +parseFloat(value).toFixed(digits);\n}\n/**\n * Takes a number and forces it to an int with rounding up.\n * ```ts\n *   mathf.int(20.3333)  --> 20\n *   mathf.int(20.32)    --> 20\n *   mathf.int(20.5)    --> 21\n *   mathf.int(20)       --> 20\n * ```\n * @tested\n * @param {number} value The number to convert\n * @param {number} digits The number of digits to output.\n */\nfunction int(value) {\n    return fixDigits(value, 0);\n}\n/**\n *\n * Takes a number and forces it to an int by simply dropping decimals.\n * ```ts\n *   mathf.int(20.3333)  --> 20\n *   mathf.int(20.32)    --> 20\n *   mathf.int(20.555)  --> 20\n *   mathf.int(20.9999)  --> 20\n *   mathf.int(20)       --> 20\n * ```\n * @tested\n * @param {number} value The number to convert\n * @param {number} digits The number of digits to output.\n */\nfunction int0(value) {\n    return value >> 0;\n}\n/**\n * Flips a coin.  Give you either a 1 or 0.\n */\nfunction flipCoin() {\n    return getRandomInt(0, 1);\n}\n/**\n * Returns a random number (float) between min (inclusive) and max (exclusive)\n * @param {number} min The minimum range.\n * @param {number} max The maximum range.\n * @return {number} A random number between the provided range.\n * @function\n */\nfunction getRandomFloat(min, max) {\n    return Math.random() * (max - min) + min;\n}\n/**\n * Returns a random integer between min (inclusive) and max (inclusive)\n * @param {number} min The minimum range.\n * @param {number} max The maximum range.\n * @return {number} A random integer betwen the provided range.\n */\nfunction getRandomInt(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n/**\n * Returns a random integrater between min and max but ensures it is not a\n * certain value.\n * @param {number} min The minimum range.\n * @param {number} max The maximum range.\n * @param {number} not The value it should not be.\n */\nfunction getUniqueRandomInt(min, max, not) {\n    const random = getRandomInt(min, max);\n    if (random === not) {\n        return getUniqueRandomInt(min, max, not);\n    }\n    else {\n        return random;\n    }\n}\n/**\n * Clamps a number to a given range.\n * ```ts\n * mathf.clamp(0, 10, 100)  --> 10\n * mathf.clamp(0, 10, -10)  --> 0\n * ```\n * @tested\n * @param {number} min The mininum value.\n * @param {number} max The maximum value:\n * @param {number} num The number to limit.\n * @return {number} A number within the min and max range.\n */\nfunction clamp(min, max, num) {\n    return Math.min(Math.max(num, min), max);\n}\n/**\n * Given a progress (a value that ranges from 0 to 1), this method allows you\n * to create a child progress based on the parent progress.\n *\n * Imaging the following progress.\n * ```\n * Parent progress\n * 0 -----0.2------0.4-------0.6-------0.8------1\n *\n * Child progress\n *        0.2----------------0.6\n *\n * mathf.childProgress(parentProgress, 0.2, 0.6)\n * ```\n * If you have a parent progress runnning from 0 to 1 and  you wanted your child\n * progress to start at 0.2 and end at 0.6.\n *\n * Given the parent progress,  this method would return:\n * ```\n * Parent progress        Output\n * 0            --------->   0\n * |\n * 0.2          --------->   0\n * 0.3          --------->   0.25\n * 0.4          --------->   0.5\n * 0.5          --------->   0.75\n * 0.6          --------->   1\n * 0.7          --------->   1\n * |\n * 1            --------->   1\n * ```\n *\n * @tested\n * @param {number} number The parent progress as a value between 0 and 1.\n * @param {number} start The starting value of the child progress.  Value\n *     between 0 and 1.\n * @param {number} end The end value of the child progress.  Value\n *     between 0 and 1.\n */\nfunction childProgress(progress, start, end, noClamp = false) {\n    const range = end - start;\n    let childProgress = clamp(0, 1, progress - start);\n    if (noClamp) {\n        childProgress = progress - start;\n    }\n    childProgress = childProgress / range;\n    if (noClamp) {\n        return childProgress;\n    }\n    else {\n        return clampAsPercent(childProgress);\n    }\n}\n/**\n * Rounds to a specific precision.\n * ```\n * mathf.roundToPrecision(0.49999, 1)  --> 0.5\n * mathf.roundToPrecision(0.49999, 2)  --> 0.5\n * mathf.roundToPrecision(0.41199, 3)  --> 0.412\n * mathf.roundToPrecision(0.5555, 3)  --> 0.556\n * mathf.roundToPrecision(0.5555, 2)  --> 0.56\n * ```\n * @tested\n * @param value\n * @param precision\n */\nfunction roundToPrecision(value, precision) {\n    precision = int(precision);\n    const shifter = Math.pow(10, precision);\n    return Math.round(value * shifter) / shifter;\n}\n/**\n * Floors number to a specific precision.\n * ```\n * mathf.floorToPrecision(0.5555, 3)  --> 0.555\n * mathf.floorToPrecission(0.5555, 2)  --> 0.55\n * ```\n * @tested\n * @param value\n * @param precision\n */\nfunction floorToPrecision(value, precision) {\n    precision = int(precision);\n    const shifter = Math.pow(10, precision);\n    return Math.floor(value * shifter) / shifter;\n}\n/**\n * Ceils number to a specific precision.\n * ```\n * mathf.ceilToPrecision(0.5555, 3)  --> 0.555\n * mathf.ceilToPrecission(0.5555, 2)  --> 0.55\n * ```\n * @tested\n * @param value\n * @param precision\n */\nfunction ceilToPrecision(value, precision) {\n    precision = int(precision);\n    const shifter = Math.pow(10, precision);\n    return Math.ceil(value * shifter) / shifter;\n}\n/**\n * Converts a number to a specific number of decimasl\n * ```\n * mathf.toFixed(1.943, 2) --> 1.94\n * mathf.toFixed(1.943, 1) --> 1.9\n * ```\n * @param value\n * @param precision\n */\nfunction toFixed(value, precision) {\n    return +value.toFixed(precision);\n}\n/**\n * Calculate the angle between two points.\n * @param  {number} x1 The x position of the first point.\n * @param  {number} y1 The y position of the first point.\n * @param  {number} x2 The x position of the second point.\n * @param  {number} y2 The y position of the second point.\n * @return {number} The angle in radians.\n */\nfunction angleRadians(x1, y1, x2, y2) {\n    return Math.atan2(y2 - y1, x2 - x1);\n}\n/**\n * Calculate the angle between two points given cartesian coordinates system.\n * @param  {number} x1 The x position of the first point.\n * @param  {number} y1 The y position of the first point.\n * @param  {number} x2 The x position of the second point.\n * @param  {number} y2 The y position of the second point.\n * @return {number} The angle in degrees.\n */\nfunction angleDegree(x1, y1, x2, y2) {\n    return (Math.atan2(y2 - y1, x2 - x1) * 180) / Math.PI;\n}\n/**\n * Determine the angular distance between two angles in degree.\n *\n * In a 360 circle, if you had one degre at 90 and another at 80,\n * the angle distance is 10, the difference between the two.\n *\n * Examples\n * ```ts\n *   mathf.angleDistanceDegree(10, 10) ==> 0\n *   mathf.angleDistanceDegree(30, 10) ==> -20\n *   mathf.angleDistanceDegree(10, 50) ==> 40 *   mathf.angleDistanceDegree(10, 340) ==> -30 * ``` *\n * @tested\n * @param {number} angle0 The first angle in degrees.\n * @param {number} angle1 The second angle in degrees.\n * @param {number?} max The max value at which point the numerical system\n *     repeats.  In a circle this would be 360.  This value defaults to 360.\n * @return {number} Distance in degrees.\n */\nfunction angleDistanceDegree(angle0, angle1, max) {\n    const angle0Rad = degreeToRadian(angle0);\n    const angle1Rad = degreeToRadian(angle1);\n    if (max) {\n        max = degreeToRadian(max);\n    }\n    const result = angleDistanceRadian(angle0Rad, angle1Rad, max);\n    return radianToDegree(result);\n}\n/**\n * Determine the angular distance between two angles in radians.\n * [[mathf.angleDistanceDegree]] for more information and equivelant degree\n * samples.\n * @tested\n * @param {number} angle0 The first angle in radians\n * @param {number} angle1 The second angle in degrees.\n * @param {number?} max The max value at which point the numerical system\n *     repeats.  In a circle this would be 2 radian.  This value defaults to\n *     2 radian.\n * @return {number} Distance in radians\n */\nfunction angleDistanceRadian(angle0, angle1, max) {\n    if (!max) {\n        max = Math.PI * 2;\n    }\n    const delta = (angle1 - angle0) % max;\n    return ((2 * delta) % max) - delta;\n}\n/**\n * Converts radians to degrees.\n * @param  {number} deg The degree value.\n * @return {number} The converted radian.\n */\nfunction degreeToRadian(deg) {\n    return deg * (Math.PI / 180);\n}\n/**\n * Converts radians to degrees.\n * @param  {number} radian The radian value.\n * @return {number} The converted degree.\n */\nfunction radianToDegree(radian) {\n    return (radian * 180) / Math.PI;\n}\n/**\n * Checks for collision detection.\n * @param {Object} a An object with x, y, width and height.\n * @param {Object} b An object with x, y, width and height.\n * @return {boolean} Whether the areas are colliding.\n */\nfunction boxCollision(a, b) {\n    return !(a.y + a.height < b.y ||\n        a.y > b.y + b.height ||\n        a.x + a.width < b.x ||\n        a.x > b.x + b.width);\n}\n/**\n * Given a circular and rectangular object, detects when the two collide\n * with each other on a 2d space.  Assumes Box is unrotated.\n * @param rect An object with x, y, width and height.\n * @see https://yal.cc/rectangle-circle-intersection-test/\n */\nfunction collisionCircVsBox(circ, rect) {\n    const dx = circ.x - Math.max(rect.x, Math.min(circ.x, rect.x + rect.width));\n    const dy = circ.y - Math.max(rect.y, Math.min(circ.y, rect.y + rect.height));\n    return dx * dx + dy * dy < circ.radius * circ.radius;\n}\n/**\n * Performs a test whether a point resized inside a convex polygon using\n * raycasting.\n * @param point An object with x,y coords of the point.\n * @param poly An array of x,y points of a polygon.\n * @return Whether the point is inside the polygon or not.\n * @see http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\n * @see https://gamedevelopment.tutsplus.com/tutorials/collision-detection-using-the-separating-axis-theorem--gamedev-169\n * @see https://www.gamedevelopment.blog/collision-detection-circles-rectangles-and-polygons/\n * @see https://stackoverflow.com/questions/22521982/check-if-point-inside-a-polygon\n * @see https://github.com/mikolalysenko/robust-point-in-polygon/blob/master/robust-pnp.js\n */\nfunction collisionPointVersusConvexPolygon(point, poly) {\n    // We go around in the polygon.\n    // Assuming there are four point (but could be more),\n    //\n    //   0----1\n    //   |    |\n    //   3----2\n    // We perform raycasting, 0-3, 1-0, 2-1, 3-2 points.\n    //\n    let isInside = false;\n    const size = poly.length;\n    let pointPolyAIndex = 0;\n    let pointPolyBIndex = size - 1;\n    for (let i = 0; i < size; i++) {\n        const polyA = poly[pointPolyAIndex];\n        const polyB = poly[pointPolyBIndex];\n        const intersects = polyA.y > point.y !== polyB.y > point.y &&\n            point.x <\n                ((polyB.x - polyA.x) * (point.y - polyA.y)) / (polyB.y - polyA.y) +\n                    polyA.x;\n        if (intersects) {\n            isInside = !isInside;\n        }\n        pointPolyBIndex = pointPolyAIndex;\n        pointPolyAIndex++;\n    }\n    return isInside;\n}\n/**\n * Use rotational matrix to calculate the new coordinates of a rotated\n * point.\n *\n * Put another way, given point x and y, and a center point of cx and cy,\n * calculates the translated x, y points when rotated at a given angle.\n *\n * For example:\n *\n *      0,0--------------4,0\n *       |               |\n *       |       2,2     |\n *       |               |\n *      0,4 ------------ 4,4\n *\n * Say for example you have a rectangle.  The rotational center of the\n * rectangle is the center in this case at 2,2.\n *\n * You can use this algo to calculate rotation.\n * Lets say you rotate the rectangle by 1 radian (~57 degrees).\n * What is the new coordinates of the top right corner?\n *\n * ```\n * const newCoords = mathf.calculate2dPointRotation(2,2,4,0,1);\n *\n * newCoords.x;  // 1.398\n * newCoords.y;  // -0.764\n *\n * ```\n *\n * Troubleshoot?\n *\n * The most common issue is that your rotation value is inverted.\n * Try passing in -rotation and see if that helps.\n *\n * https://www.youtube.com/watch?v=xsN8cD6oisY&feature=youtu.be\n * https://www.youtube.com/watch?v=a59YQ4qe7mE\n * https://en.wikipedia.org/wiki/Rotation_matrix\n *\n * @param cx The x center point to rotate around.\n * @param cy The y center point to rotate around.\n * @param x The x value of the point to be rotated prior to rotation.\n * @param y The y value of the point to be rotated prior to rotation.\n * @param angle The angle in radians\n * @tested\n */\nfunction calculate2dPointRotation(cx, cy, x, y, angle) {\n    const cos = Math.cos(angle);\n    const sin = Math.sin(angle);\n    const tx = cos * (x - cx) + sin * (y - cy) + cx;\n    const ty = cos * (y - cy) - sin * (x - cx) + cy;\n    return {\n        x: tx,\n        y: ty,\n    };\n}\n/**\n * Rotates a point around another point with angle and distance.\n * This is similar to\n * [[mathf.calculate2dPointRotation]] except that you are specifying a\n * distance as well.\n * @param cx The x center point to rotate around.\n * @param cy The y center point to rotate around.\n * @param x The x value of the point to be rotated prior to rotation.\n * @param y The y value of the point to be rotated prior to rotation.\n * @param angle The angle in radians\n * @param distance The distance from cx and cy in which we should place the\n *     new coordinates to.\n */\nfunction calculate2dPointRotationWithDistance(cx, cy, x, y, angle, distance) {\n    const t = angle + Math.atan2(y - cy, x - cx);\n    x = cx + distance * Math.cos(t);\n    y = cy + distance * Math.sin(t);\n    return {\n        x: x,\n        y: y,\n    };\n}\n/**\n * Generates a set of random x,y points.\n * @param {number} num Number of points.\n * @param {number} minX Minimum of x.\n * @param {number} maxX Maximum of x.\n * @param {number} minY Minimum of y.\n * @param {number} maxY Maximum of y.\n * @return {Array.<Object>} An array of objects containing x, y values.\n */\nfunction generateRandomPoints(num, minX, maxX, minY, maxY) {\n    const points = [];\n    for (let i = 0; i < num; i++) {\n        points.push({\n            x: getRandomInt(minX, maxX),\n            y: getRandomInt(minY, maxY),\n        });\n    }\n    return points;\n}\n/**\n * Calculates the distance of two sets of x, y coordinates.\n * @param  {number} x1 The x value of point 1.\n * @param  {number} y1 The y value of point 1.\n * @param  {number} x2 The x value of point 2.\n * @param  {number} y2 The y value of point 2.\n * @return {number} The distance between point 1 and point 2.\n */\nfunction distance(x1, y1, x2, y2) {\n    return Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n}\n/**\n * Gets the direction in which a number is progress.\n * 0 means the same, no movement.\n * 1 means moving forward.\n * -1 means moving backwards.\n * ```ts\n * matfh.direction(1, 2) ---> 1\n * matfh.direction(3, 1) ---> -1\n * matfh.direction(1, 1) ---> 0\n * ```\n * @param previous\n * @param current\n * @tested\n */\nfunction direction(previous, current) {\n    if (previous === current) {\n        return 0;\n    }\n    return previous < current ? 1 : -1;\n}\n/**\n * Calculates the offset value to center a given element within a container.\n *\n * Imagine the below:\n *\n * ```\n * ------------------8 (parent)----------------\n * |                                           |\n * |             |----5(child)-----|           |\n * |                                           |\n * |---offset--|                               |\n * --------------------------------------------\n * ```\n *\n *  You have a parent of width 8 and child of with 5 and you want to\n *  center the child.\n *\n *  In the example above, parent = 8, child = 5, would return the offset of 1.5\n *  So you know that if you offsetted the child element by 1.5, it would\n *  horizontally center.\n *\n *  You can also use this method to calculate vertical alignment as well.\n *\n * Example:\n * Here is an example of calculating the x, y offsets to center an object\n * to the screen.\n * ```ts\n *  let x = mathf.calculateCenterOffset(\n *     screen.width, object.width);\n *  let y = mathf.calculateCenterOffset(\n *     screen.height, object.width);\n * ```\n * @tested\n * @param {number} parent The parent value\n * @param {number} child The child value\n * @return {number} The offset value.\n */\nfunction calculateCenterOffset(parent, child) {\n    const halfParent = parent / 2;\n    const halfChild = child / 2;\n    const offset = halfParent - halfChild;\n    return offset;\n}\n/**\n * Given a known set of sizes, scales and returns a y1.\n *\n * `````ts\n *  x1     x2 (return)\n * ---- = ----\n *  y1     y2\n *\n * ````\n */\nfunction scaleX(x1, y1, y2) {\n    return (x1 * y2) / y1;\n}\n/**\n * Given a known set of sizes, scales and returns a y2.\n *\n * `````ts\n *  x1     x2\n * ---- = ----\n *  y1     y2 (return)\n *\n * ````\n */\nfunction scaleY(x1, y1, x2) {\n    return (x2 * y1) / x1;\n}\n/**\n * Given a width and height, returns the aspect ratio.\n * @param {box} dimensionalBox An object containing the width and height.\n */\nfunction aspectRatio(box) {\n    return box.width / box.height;\n}\n/**\n * Tests if a given value is between a range.\n * @param testValue\n * @param range1\n * @param range2\n * @param inclusive Whether the test should be inclusive.\n * @return Whether the test value is between range1 and range2.\n */\nfunction isBetween(testValue, range1, range2, inclusive = true) {\n    const min = Math.min(range1, range2);\n    const max = Math.max(range1, range2);\n    return inclusive\n        ? testValue >= min && testValue <= max\n        : testValue > min && testValue < max;\n}\n/**\n * Resizes a given dimensional box (width and height) to a given width while\n * maintaining the aspect ratio.  Useful for scaling up or down a box.\n * @param {number} box\n * @param {number} width\n * @return {dimensionalBox}\n * @tested\n */\nfunction resizeDimensionalBoxToWidth(box, width) {\n    return {\n        width,\n        height: scaleY(box.width, box.height, width),\n    };\n}\n/**\n * Resizes a given dimensional box (width and height) to a given height while\n * maintaining the aspect ratio.  Useful for scaling up or down a box.\n * @param {number} box\n * @param {number} height\n * @return {dimensionalBox}\n * @tested\n */\nfunction resizeDimensionalBoxToHeight(box, height) {\n    return {\n        width: scaleX(box.width, box.height, height),\n        height,\n    };\n}\n/**\n * Clamps a value within 0-1.\n * ```ts\n * mathf.clampAsPercent(0.2) --> 0.2\n * mathf.clampAsPercent(1) --> 1\n * mathf.clampAsPercent(-2) --> 0\n * mathf.clampAsPercent(2) -->  1\n * ```\n * @tested\n * @param percent\n * @return percent A value within 0-1.\n */\nfunction clampAsPercent(percent) {\n    return clamp(0, 1, absZero(percent));\n}\n/**\n * Clamps a number to within 0-1.\n * An alias of [[mathf.clampAsProgress]]\n * @tested\n * @param progress\n * @return progress A value within 0-1.\n */\nfunction clampAsProgress(progress) {\n    return clampAsPercent(progress);\n}\n/**\n * Clamps a number to within 0-1.\n * An alias of [[mathf.clampAsProgress]]\n * @tested\n * @param progress\n * @return progress A value within 0-1.\n */\nfunction clamp01(progress) {\n    return clampAsPercent(progress);\n}\n/**\n * Used to get a value within a range by progress.\n * Note this is an alias of [[mathf.lerp]] since it's the same thing.\n *\n * For instance, let's say you have a range of 325-1450.\n * You want 0% = 325 and 100% = 1450.\n *\n * You can pass a progress (such as 20% or 0.2) and this will return the value\n * within that range.\n *\n * @tested\n * @param {number} progress The percent to calculate.  Should be between 0 and 1.\n * @param {number} min The low end of the range.\n * @param {number} max The high end of the range.\n * @return {number} The value within the range.\n */\nfunction getValueInRangeByProgress(progress, min, max) {\n    return lerp(min, max, progress);\n}\n/**\n * Normalizes a given range (min and max) to a progress (a value between 0 and\n * 1)\n * For instance, let's say you have a range of 325-1450.\n * You want 0% = 325 and 100% = 1450.\n * You can pass a value 420 and this will return the progress (percentage).\n *\n * ```ts\n *\n *    mathf.getProgressInRangeByValue(2, 0, 10) // 0.2\n *    mathf.getProgressInRangeByValue(10, 0, 10) // 1\n *    mathf.getProgressInRangeByValue(7, 2, 12) // 0.5\n *\n * ```\n *\n * @param {number} value The value to determine the progress.\n * @param {number} min The low end of the range.\n * @param {number} max The high end of the range.\n * @return {number} The progress within the range.\n */\nfunction getProgressInRangeByValue(val, min, max) {\n    return clampAsPercent((val - min) / (max - min));\n}\n/**\n * Normalized a value between a min and max returning a value between\n * 0 and 1.\n * An alias to [[mathf.getProgressInRangeByValue]].\n */\nfunction normalize(val, min, max) {\n    return getProgressInRangeByValue(val, min, max);\n}\n/**\n * Linear interpolate from start to end given amount.\n * ```ts\n * mathf.lerp(0, 1, 0)   ---> 0\n * mathf.lerp(0, 1, 0.2) ---> 0.2\n * mathf.lerp(0, 1, 0.5) ---> 0.5\n * mathf.lerp(0, 2, 0.5) ----> 1\n * mathf.lerp(25, 79, 0.2) ----> 35.8\n * ```\n *\n * Lerp can be used for various things.  See [[mathf.getValueInRangeByProgress]]\n * which is an alias of lerp.\n *\n * Lerp can also be used for animations.   If you were doing the old school:\n * ```ts\n * onRafLoop() {\n *   // Update the position by 20% of the distance between position and target.\n *   position.x += (target.x - position.x) * 0.2;\n * }\n * ```\n * this can be replaced with:\n * ```ts\n * onRafLoop() {\n *   // Same thing. Update the position by 20% of the distance between\n *   // position and target on each raf loop.  This has the effect of\n *   // tweening in the position to the target.\n *   position.x = mathf.lerp(position.x, target.x, 0.2);\n * }\n * ```\n *\n * @tested\n * @param {number} value1 The start of the range to lerp.\n * @param {number} value2 The target of the range to lerp.\n * @param {number} amount A value between 0-1 representing the progress of the\n *     lerp.\n * @return {number} The interporalated value.\n */\nfunction lerp(value1, value2, amount) {\n    const clampedAmount = clamp01(amount);\n    return (1 - clampedAmount) * value1 + clampedAmount * value2;\n    // Alternative ways to calculate lerp.\n    // Neither behave properly for lerping from negative to positive\n    // return value1 + (value2 - value1) * mathf.clamp01(amount);\n    // return ((value2 - value1) * amount) + amount\n}\n/**\n * Given a progress value, returns the inverse progress.\n * @param value\n * @returns\n */\nfunction inverseProgress(value) {\n    return 1 - value;\n}\n/**\n * Inverse lerp function\n * @param a Start value\n * @param b End value\n * @param value  Value beteen start and end.\n * @param noClamp Defaults to false, whether to disable clamping.\n * @return {number} A normalized value between 0-1\n */\nfunction inverseLerp(a, b, value, noClamp = false) {\n    if (noClamp) {\n        return (value - a) / (b - a);\n    }\n    else {\n        return clamp01((value - a) / (b - a));\n    }\n}\n/**\n * Another linear interpolation option.   Same as mathf.lerp but different algo\n * with no hard clamping.\n *\n * ```ts\n * mathf.mix(a, b, 0.0) ---> a\n * mathf.mix(a, b, 1.0) ---> b\n * mathf.mix(a, b, 0.5) ---> between x and y, blended values.\n * ```\n * @param a\n * @param b\n * @param blend\n * @untested\n */\nfunction mix(a, b, blend) {\n    return a * (1 - blend) + b * blend;\n}\n/**\n * Step method.  Will  return 0 or 1.\n * If n is greater than edge, 1\n * If n is less than edge, 0\n *\n * ```ts\n * mathf.step(1, 2) ---> 1\n * mathf.step(1, 0.2) ---> 0\n * mathf.step(1, 1.1) ---> 1\n * ```\n */\nfunction step(edge, n) {\n    if (n > edge) {\n        return 1.0;\n    }\n    else {\n        return 0.0;\n    }\n}\n/**\n * Performs smoothstep from min to max using the given value using Hermite\n * interpolation.\n *\n * Given three values, min, max and input, this will return a number between 0\n * and 1 that represents the progress of the input value to the min and max\n * values.\n *\n * This is similar too [[mathf.normalize]] or\n * [[mathf.getProgressInRangeByValue]] except the curve is slightly smoothed\n * out.\n *\n * ```ts\n * mathf.smoothStep(100, 200, 100); // 0\n * mathf.smoothStep(100, 200, 150); // 0.5\n * mathf.smoothStep(100, 200, 300); // 1\n * ```\n * @see  https://en.wikipedia.org/wiki/Smoothstep\n * @see http://www.fundza.com/rman_shaders/smoothstep/index.html\n * @param {number} min The min of the range to lerp.\n * @param {number} max The max of the range to lerp.\n * @param {number} input A value between\n */\nfunction smoothStep(min, max, input) {\n    const x = Math.max(0, Math.min(1, (input - min) / (max - min)));\n    return x * x * (3 - 2 * x);\n}\n/**\n * Lerps within a given range.\n *\n * Let's say you have to ranges that\n * you want to make a linear association to.\n *\n * The easiest way to imagine this is imagine two ranges.\n *\n * ```\n * 0     Range1        100\n * |------10------------|\n *\n * 0               Range2                 200\n * |-------------?-------------------------|\n *```\n *\n * range1: 0 - 100\n * range2: 0 - 200\n *\n * You have the value of 20 on range1 and want to know what the value would\n * be on range2.\n *\n * The above would return 20 since 10% of 200 = 20.\n *\n * ```ts\n * mathf.interpolateRange(0, 0, 100, 0, 200); // 0\n * mathf.interpolateRange(10, 0, 100, 0, 200); // 20\n * mathf.interpolateRange(30, 0, 100, 0, 200); // 60\n *\n * ```\n *\n * A practical example.\n * Here when the screen width is 300, the padding is 0\n * and when it's 1200, the padding is 500 and everything\n * it clculates everything between.\n * ```ts\n *\n * let padding = mathf.interpolateRange(\n *     screenWidth,\n *     300, 1200,\n *     0, 500\n * );\n * ```\n *\n *\n */\nfunction interpolateRange(range1Value, range1Min, range1Max, range2Min, range2Max) {\n    const progress = clampAsProgress(range1Value / (range1Max - range1Min));\n    return lerp(range2Min, range2Max, progress);\n}\n/**\n * A normalized sin - so instead of returning -1 to 1, normalized sin returns\n * a value between 0 and 1.\n * @param time\n */\nfunction sinNormalized(time) {\n    return interpolateRange(Math.sin(time) + 1, 0, 2, 0, 1);\n}\n/**\n * Same as lerp but will apply an easingFunction to the current\n * progress, prior to running lerp.\n *\n * @tested\n * @param {number} value1 The start of the range to lerp.\n * @param {number} value2 The target of the range to lerp.\n * @param {number} amount A value between 0-1 representing the progress of the\n *     lerp.\n * @param easeFunction An easing function. See [[ease]].  Defaults to linear\n *   in which case, linear is equal to a regular lerp.\n */\nfunction lerpEase(value1, value2, amount, easeFunction = _ease_ease__WEBPACK_IMPORTED_MODULE_0__[\"linear\"]) {\n    amount = easeFunction(amount);\n    return lerp(value1, value2, amount);\n}\n/**\n * Similar to [[mathf.lerp]] but is damped and smoothed out with exponential\n * decay.  Useful to use as an alternative to [[mathf.lerp]] or [[mathf.ease]]\n * to smooth out animation movement.\n * @see http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\n * @tested\n * @param {number} value1 The start of the range to lerp.\n * @param {number} value2 The target of the range to lerp.\n * @param {number} amount A value between 0-1 representing the progress of the\n *     lerp.\n * @param {number} damp A value between 0-1 representing the amount to damp.\n * @param easeFunction An easing function. See [[ease]].  Defaults to linear\n *   in which case, linear is equal to a regular lerp.\n */\nfunction damp(value1, value2, amount, damp) {\n    return lerp(value1, value2, 1 - Math.exp(-amount * damp));\n}\n/**\n * An alias of [[mathf.lerpEase]]\n *\n * This is a general ease function that is pretty handy for animations.\n *\n * This is basically a way of saying, given my start and end values, what is the\n * value when it's at x percent (progress) with easing.\n *\n * Under the hood, it is simply an alias of [[mathf.lerpEase]] which is\n * essentially a regular lerp but it passes the progress value (0-1) through\n * an easing function first.\n *\n *\n * Using mathf.ease, you can pretty easily calculate eases for numberic values.\n *\n * Say I wanted to animate a box.x position from 0 - 100.\n * Without specifying a easing function, you will just get linear interpolation.\n *\n * ```\n * mathf.ease(0, 100, 0) ---> 0\n * mathf.ease(0, 100, 0.3) ---> 30\n * mathf.ease(0, 100, 0.5) ---> 50\n * mathf.ease(0, 100, 0.9) ---> 90\n * mathf.ease(0, 100, 1) ---> 100\n * ```\n *\n * Now lets try this with easing.  You can see the returned values between\n * 0 and 1 are different than a linear ease.\n *\n * You can also combine with CubicBezier.makeEasingFunction or a catmull-roll.\n * ```\n * import { EASE, mathf} from '@blinkk/degu'\n * mathf.ease(0, 100, 0, EASE.easeInExpo)   ---> 0\n * mathf.ease(0, 100, 0.3, EASE.easeInExpo) ---> 0.1953125\n * mathf.ease(0, 100, 0.5, EASE.easeInExpo) ---> 3.125\n * mathf.ease(0, 100, 0.9, EASE.easeInExpo) ---> 70.710678\n * mathf.ease(0, 100, 1, EASE.easeInExpo) ---> 100\n *\n *\n *\n * import { CubicBezier, EASE, mathf} from '@blinkk/degu'\n * mathf.ease(0, 100, 0.3, CubicBezier.makeEasingFunction(0, 1, 0.75, 0.9)) ---> 100\n *\n * ```\n *\n * How can I use this with animations?\n *\n * You can ease out positions, opacity etc based on \"progress\".\n * Progress can be time, scroll position, mouse position etc but it needs to\n * be normalized to a value between 0 and 1.\n *\n * See examples of this in [[RafTimer]] where there is a demo of easing an\n * element for a set duration.\n *\n * For an exmaple where you may want to tie ease with window.scroll or another\n * input represented by a normalized value/ progress (a number between 0 and 1)i\n * see mathf-ease.html in the /examples folder where there is element and\n * progress level easing to smooth\n * interaction.\n *\n * Also related is [[Interpolate]].\n *\n * @alias\n * @param {number} start The start of the range to lerp.\n * @param {number} end The target of the range to lerp.\n * @param {number} progress A value between 0-1 representing the progress of the\n *     lerp.\n * @param easeFunction An easing function. See [[ease]]\n */\nfunction ease(start, end, progress, easeFunction = _ease_ease__WEBPACK_IMPORTED_MODULE_0__[\"linear\"]) {\n    return lerpEase(start, end, progress, easeFunction);\n}\n/**\n * Wraps a given number between two values.\n *\n * ```ts\n *\n * mathf.wrap(angle, 0, 360);  // Wrap between 0 and 360 degress\n * mathf.wrap(angle, -90, 90); // Wrap between -90 and 90 degress\n *\n *\n * mathf.wrap(15, 0, 10); // Wrap between 0 and 10 --> result 5\n * mathf.wrap(400, 0, 360); // --> result 40\n * mathf.wrap(120, -90, 90); // --> -60\n *\n * ```\n *\n * @param value\n * @param min\n * @param max\n */\nfunction wrap(value, min, max) {\n    const diff = max - min;\n    return min + ((((value - min) % diff) + diff) % diff);\n}\n/**\n * Given two boxes of different aspect ratios,\n * calculates the values in order to make the child cover the parent.\n * This acts similar to background: cover of css.\n *\n * Imagine the following:\n * ```\n * -------p--------\n * |               |\n * |   -----       |\n * |   | C  |      |\n * |   -----       |\n * |               |\n * -----------------\n * ```\n *\n * This case, c would have to scale up to cover the\n * parent.  It would return something like:\n *\n * - width: What the child width should be\n * - height: What the child height should be\n * - xOffset: The Amount to offset x by in order to center.\n * - yOffset: The Amount to offset y by in order to center.\n * - scalar: The amount to scale\n *\n *\n * Note on xOffset and yOffset, this algo assumes that the child will scale\n * from the top left corner of the box and is positioned to the top left.\n *\n * @param {dimensionalBox} parentBox The parent element dimensions\n * @param {dimensionalBox} childBox The child elment dimensions\n * @return {backgroundCoverBox} backgroundCoverBox The dimensions required to\n *     transform the child element to background cover.\n */\nfunction calculateBackgroundCover(parentBox, childBox) {\n    const parentRatio = aspectRatio(parentBox);\n    const childRatio = aspectRatio(childBox);\n    let finalWidth;\n    let finalHeight;\n    let scale;\n    if (childRatio >= parentRatio) {\n        finalHeight = parentBox.height;\n        scale = parentBox.height / childBox.height;\n        finalWidth = childBox.width * scale;\n    }\n    else {\n        finalWidth = parentBox.width;\n        scale = parentBox.width / childBox.width;\n        finalHeight = childBox.height * scale;\n    }\n    const finalScale = Math.max(finalWidth / childBox.width, finalHeight / childBox.height);\n    // Position to vertical bottom.\n    const offsetHeight = absZero(-Math.round((parentBox.height - finalHeight) / 2));\n    // Position to horizontal center.\n    const offsetWidth = absZero(-Math.round((parentBox.width - finalWidth) / 2));\n    return {\n        width: Math.round(finalWidth),\n        height: Math.round(finalHeight),\n        xOffset: offsetWidth,\n        yOffset: offsetHeight,\n        scalar: finalScale,\n    };\n}\n/**\n * Given two boxes of different sizes calculates the amount that the childBox\n * would need to scale in order to mimic the background:contain effect in html.\n *\n * Imagine the following:\n * ```\n * -------p--------\n * |               |\n * |   -----       |\n * |   | C  |      |\n * |   -----       |\n * |               |\n * -----------------\n * ```\n *\n * This case, c would have to scale up to cover the\n * parent.      This method would return the amount that C needs to scale\n * (up or down).\n *\n * Since this is contain, applying the scale value to the child would never\n * exceed the width or height of the parent (no bleeding).\n *\n * Note that this method assumes that the child is absolutely centered against\n * the parent.\n *\n * ```ts\n * parentBox = { width: 100, height: 100 };\n * childBox = { width: 200, height: 100 };\n * mathf.calculateBackgroundContain(parentBox, childBox) // return 0.5.\n *\n *\n * parentBox = { width: 500, height: 500 };\n * childBox = { width: 50, height: 50 };\n * mathf.calculateBackgroundContain(parentBox, childBox) // return 10\n *\n * ```\n *\n * @param parentBox\n * @param childBox\n */\nfunction calculateBackgroundContain(parentBox, childBox) {\n    const heightScale = parentBox.height / childBox.height;\n    const widthScale = parentBox.width / childBox.width;\n    const scale = Math.min(heightScale, widthScale);\n    return scale;\n}\n/**\n * Implements asympotic average which is an additive average.\n * Basically says, given the current value, catch up to the target by X% every\n * frame.\n *\n * This is similar to lerp but respects the last given amount the most which\n * results in a smooth response to sudden jumps in the difference between\n * current and target.\n *\n * This can be used for things like camera movement or scroll movement where\n * sudden jerks in movement can happen.\n *\n * ```\n * onRaf() {\n *    // Update target value.\n *    targetValue = this.value + (this.mouseInputX * 30);\n *    // Update the current value to the target value by 30%.\n *    this.value = mathf.asymptoticAverage(this.value, targetValue, 0.3);\n * }\n * ```\n *\n * @param current\n * @param target\n * @param amount\n */\nfunction asymptoticAverage(current, target, amount) {\n    return (current += (target - current) * amount);\n}\n/**\n * Implements basic smooth start.  See EASE for more.\n */\nfunction smoothStart2(t) {\n    return t * t;\n}\n/**\n * Implements basic smooth stop.  See EASE for more.\n */\nfunction smoothStop2(t) {\n    return 1 - (1 - t) * (1 - t);\n}\n/**\n * Implements basic smooth start.  See EASE for more.\n */\nfunction smoothStart3(t) {\n    return t * t * t;\n}\n/**\n * Implements basic smooth stop.  See EASE for more.\n */\nfunction smoothStop3(t) {\n    return 1 - (1 - t) * (1 - t) * (1 - t);\n}\n/**\n * Basic smooth step2 allowing you to specify the gradient between\n * smoothstart and smoothstop with mix value.\n * @param value\n * @param mix\n * @param t\n *\n * ```\n *   value = mathf.smoothStep2(value, 0.5, t);\n * ```\n */\nfunction smoothStep2(value, mix, t) {\n    return lerp(smoothStart2(value), smoothStop2(value), mix) * t;\n}\n/**\n * Basic sigmoid function with option to move the mix value.\n * Mix value of 0 mixes to smoothstart. 1 mixes to smoothstop.\n * A clean sigmoidish curve woud be 0.5.\n *\n * Based on smoothStep2 curves.\n * @param value\n * @param mix\n */\nfunction sigmoid(value, mix) {\n    return smoothStep2(value, mix, value);\n}\n/**\n Creates a basic remap.\n\n Let's say you want to make a color bar go from 20, 50\n when your health goes from 0, 100.\n\n```\n mathf.remap(20, 50, 0, 100, health);  --> output a value between 20-50 based on health.\n ```\n */\nfunction remap(minA, maxA, minB, maxB, valueB) {\n    const t = inverseLerp(minB, maxB, valueB);\n    return lerp(minA, maxA, t);\n}\n/**\n * Total/sum/add-up the given values.\n */\nfunction sum(values) {\n    return values.reduce((result, value) => result + value, 0);\n}\n/**\n * Degu Math utility functions.\n */\nconst mathf = {\n    absZero,\n    angleDegree,\n    angleDistanceDegree,\n    angleDistanceRadian,\n    angleRadians,\n    aspectRatio,\n    asymptoticAverage,\n    boxCollision,\n    calculate2dPointRotation,\n    calculate2dPointRotationWithDistance,\n    calculateBackgroundContain,\n    calculateBackgroundCover,\n    calculateCenterOffset,\n    ceilToPrecision,\n    childProgress,\n    clamp,\n    clamp01,\n    clampAsPercent,\n    clampAsProgress,\n    collisionCircVsBox,\n    collisionPointVersusConvexPolygon,\n    damp,\n    degreeToRadian,\n    direction,\n    distance,\n    ease,\n    fixDigits,\n    flipCoin,\n    floorToPrecision,\n    generateRandomPoints,\n    getProgressInRangeByValue,\n    getRandomFloat,\n    getRandomInt,\n    getUniqueRandomInt,\n    getValueInRangeByProgress,\n    int,\n    int0,\n    interpolateRange,\n    inverseLerp,\n    inverseProgress,\n    isBetween,\n    lerp,\n    lerpEase,\n    mix,\n    normalize,\n    radianToDegree,\n    remap,\n    resizeDimensionalBoxToHeight,\n    resizeDimensionalBoxToWidth,\n    roundToPrecision,\n    scaleX,\n    scaleY,\n    sigmoid,\n    sinNormalized,\n    smoothStart2,\n    smoothStart3,\n    smoothStep,\n    smoothStep2,\n    smoothStop2,\n    smoothStop3,\n    step,\n    sum,\n    toFixed,\n    wrap,\n};\n//# sourceMappingURL=mathf.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvbWF0aGYuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvbWF0aGYvbWF0aGYuanM/NDFhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBFQVNFIGZyb20gJy4uL2Vhc2UvZWFzZSc7XG4vKipcbiAqIFJldHVybnMgMCBpZiB2YWx1ZSBpcyAwIG9yIC0wLCBvdGhlcndpc2UsIHBhc3NlcyB0aHJvdWdoIHRoZSB2YWx1ZS5cbiAqIGBgYHRzXG4gKiBtYXRoZi5hYnNaZXJvKC0wKSAgLS0+IDBcbiAqIG1hdGhmLmFic1plcm8oMCkgIC0tPiAwXG4gKiBtYXRoZi5hYnNaZXJvKDEwKSAgLS0+IDEwXG4gKiBtYXRoZi5hYnNaZXJvKC0xMikgIC0tPiAtMTJcbiAqIGBgYFxuICogQHRlc3RlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gYWJzWmVybyh2YWx1ZSkge1xuICAgIHJldHVybiBPYmplY3QuaXModmFsdWUsIC0wKSA/IDAgOiB2YWx1ZTtcbn1cbi8qKlxuICogVGFrZXMgYSBudW1iZXIgbGlrZSBhIGZsb2F0IGFuZCBmaXhlcyBpdCdzIGRpZ2l0cy5cbiAqIEV4YW1wbGU6XG4gKiBgYGB0c1xuICogICBtYXRoZi5maXhEaWdpdHMoMjAuMTIzNDUsIDIpID09PiAyMC4xMlxuICogICBtYXRoZi5maXhEaWdpdHMoMjAuMTIzNDUsIDMpID09PiAyMC4xMjNcbiAqIGBgYFxuICogQHRlc3RlZFxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSBudW1iZXIgdG8gY29udmVydFxuICogQHBhcmFtIHtudW1iZXJ9IGRpZ2l0cyBUaGUgbnVtYmVyIG9mIGRpZ2l0cyB0byBvdXRwdXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaXhEaWdpdHModmFsdWUsIGRpZ2l0cykge1xuICAgIHJldHVybiArcGFyc2VGbG9hdCh2YWx1ZSkudG9GaXhlZChkaWdpdHMpO1xufVxuLyoqXG4gKiBUYWtlcyBhIG51bWJlciBhbmQgZm9yY2VzIGl0IHRvIGFuIGludCB3aXRoIHJvdW5kaW5nIHVwLlxuICogYGBgdHNcbiAqICAgbWF0aGYuaW50KDIwLjMzMzMpICAtLT4gMjBcbiAqICAgbWF0aGYuaW50KDIwLjMyKSAgICAtLT4gMjBcbiAqICAgbWF0aGYuaW50KDIwLjUpICAgIC0tPiAyMVxuICogICBtYXRoZi5pbnQoMjApICAgICAgIC0tPiAyMFxuICogYGBgXG4gKiBAdGVzdGVkXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIG51bWJlciB0byBjb252ZXJ0XG4gKiBAcGFyYW0ge251bWJlcn0gZGlnaXRzIFRoZSBudW1iZXIgb2YgZGlnaXRzIHRvIG91dHB1dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludCh2YWx1ZSkge1xuICAgIHJldHVybiBmaXhEaWdpdHModmFsdWUsIDApO1xufVxuLyoqXG4gKlxuICogVGFrZXMgYSBudW1iZXIgYW5kIGZvcmNlcyBpdCB0byBhbiBpbnQgYnkgc2ltcGx5IGRyb3BwaW5nIGRlY2ltYWxzLlxuICogYGBgdHNcbiAqICAgbWF0aGYuaW50KDIwLjMzMzMpICAtLT4gMjBcbiAqICAgbWF0aGYuaW50KDIwLjMyKSAgICAtLT4gMjBcbiAqICAgbWF0aGYuaW50KDIwLjU1NSkgIC0tPiAyMFxuICogICBtYXRoZi5pbnQoMjAuOTk5OSkgIC0tPiAyMFxuICogICBtYXRoZi5pbnQoMjApICAgICAgIC0tPiAyMFxuICogYGBgXG4gKiBAdGVzdGVkXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIG51bWJlciB0byBjb252ZXJ0XG4gKiBAcGFyYW0ge251bWJlcn0gZGlnaXRzIFRoZSBudW1iZXIgb2YgZGlnaXRzIHRvIG91dHB1dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludDAodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPj4gMDtcbn1cbi8qKlxuICogRmxpcHMgYSBjb2luLiAgR2l2ZSB5b3UgZWl0aGVyIGEgMSBvciAwLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmxpcENvaW4oKSB7XG4gICAgcmV0dXJuIGdldFJhbmRvbUludCgwLCAxKTtcbn1cbi8qKlxuICogUmV0dXJucyBhIHJhbmRvbSBudW1iZXIgKGZsb2F0KSBiZXR3ZWVuIG1pbiAoaW5jbHVzaXZlKSBhbmQgbWF4IChleGNsdXNpdmUpXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIFRoZSBtaW5pbXVtIHJhbmdlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heCBUaGUgbWF4aW11bSByYW5nZS5cbiAqIEByZXR1cm4ge251bWJlcn0gQSByYW5kb20gbnVtYmVyIGJldHdlZW4gdGhlIHByb3ZpZGVkIHJhbmdlLlxuICogQGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21GbG9hdChtaW4sIG1heCkge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW47XG59XG4vKipcbiAqIFJldHVybnMgYSByYW5kb20gaW50ZWdlciBiZXR3ZWVuIG1pbiAoaW5jbHVzaXZlKSBhbmQgbWF4IChpbmNsdXNpdmUpXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIFRoZSBtaW5pbXVtIHJhbmdlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heCBUaGUgbWF4aW11bSByYW5nZS5cbiAqIEByZXR1cm4ge251bWJlcn0gQSByYW5kb20gaW50ZWdlciBiZXR3ZW4gdGhlIHByb3ZpZGVkIHJhbmdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tSW50KG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XG59XG4vKipcbiAqIFJldHVybnMgYSByYW5kb20gaW50ZWdyYXRlciBiZXR3ZWVuIG1pbiBhbmQgbWF4IGJ1dCBlbnN1cmVzIGl0IGlzIG5vdCBhXG4gKiBjZXJ0YWluIHZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1pbiBUaGUgbWluaW11bSByYW5nZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggVGhlIG1heGltdW0gcmFuZ2UuXG4gKiBAcGFyYW0ge251bWJlcn0gbm90IFRoZSB2YWx1ZSBpdCBzaG91bGQgbm90IGJlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VW5pcXVlUmFuZG9tSW50KG1pbiwgbWF4LCBub3QpIHtcbiAgICBjb25zdCByYW5kb20gPSBnZXRSYW5kb21JbnQobWluLCBtYXgpO1xuICAgIGlmIChyYW5kb20gPT09IG5vdCkge1xuICAgICAgICByZXR1cm4gZ2V0VW5pcXVlUmFuZG9tSW50KG1pbiwgbWF4LCBub3QpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJhbmRvbTtcbiAgICB9XG59XG4vKipcbiAqIENsYW1wcyBhIG51bWJlciB0byBhIGdpdmVuIHJhbmdlLlxuICogYGBgdHNcbiAqIG1hdGhmLmNsYW1wKDAsIDEwLCAxMDApICAtLT4gMTBcbiAqIG1hdGhmLmNsYW1wKDAsIDEwLCAtMTApICAtLT4gMFxuICogYGBgXG4gKiBAdGVzdGVkXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIFRoZSBtaW5pbnVtIHZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heCBUaGUgbWF4aW11bSB2YWx1ZTpcbiAqIEBwYXJhbSB7bnVtYmVyfSBudW0gVGhlIG51bWJlciB0byBsaW1pdC5cbiAqIEByZXR1cm4ge251bWJlcn0gQSBudW1iZXIgd2l0aGluIHRoZSBtaW4gYW5kIG1heCByYW5nZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKG1pbiwgbWF4LCBudW0pIHtcbiAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobnVtLCBtaW4pLCBtYXgpO1xufVxuLyoqXG4gKiBHaXZlbiBhIHByb2dyZXNzIChhIHZhbHVlIHRoYXQgcmFuZ2VzIGZyb20gMCB0byAxKSwgdGhpcyBtZXRob2QgYWxsb3dzIHlvdVxuICogdG8gY3JlYXRlIGEgY2hpbGQgcHJvZ3Jlc3MgYmFzZWQgb24gdGhlIHBhcmVudCBwcm9ncmVzcy5cbiAqXG4gKiBJbWFnaW5nIHRoZSBmb2xsb3dpbmcgcHJvZ3Jlc3MuXG4gKiBgYGBcbiAqIFBhcmVudCBwcm9ncmVzc1xuICogMCAtLS0tLTAuMi0tLS0tLTAuNC0tLS0tLS0wLjYtLS0tLS0tMC44LS0tLS0tMVxuICpcbiAqIENoaWxkIHByb2dyZXNzXG4gKiAgICAgICAgMC4yLS0tLS0tLS0tLS0tLS0tLTAuNlxuICpcbiAqIG1hdGhmLmNoaWxkUHJvZ3Jlc3MocGFyZW50UHJvZ3Jlc3MsIDAuMiwgMC42KVxuICogYGBgXG4gKiBJZiB5b3UgaGF2ZSBhIHBhcmVudCBwcm9ncmVzcyBydW5ubmluZyBmcm9tIDAgdG8gMSBhbmQgIHlvdSB3YW50ZWQgeW91ciBjaGlsZFxuICogcHJvZ3Jlc3MgdG8gc3RhcnQgYXQgMC4yIGFuZCBlbmQgYXQgMC42LlxuICpcbiAqIEdpdmVuIHRoZSBwYXJlbnQgcHJvZ3Jlc3MsICB0aGlzIG1ldGhvZCB3b3VsZCByZXR1cm46XG4gKiBgYGBcbiAqIFBhcmVudCBwcm9ncmVzcyAgICAgICAgT3V0cHV0XG4gKiAwICAgICAgICAgICAgLS0tLS0tLS0tPiAgIDBcbiAqIHxcbiAqIDAuMiAgICAgICAgICAtLS0tLS0tLS0+ICAgMFxuICogMC4zICAgICAgICAgIC0tLS0tLS0tLT4gICAwLjI1XG4gKiAwLjQgICAgICAgICAgLS0tLS0tLS0tPiAgIDAuNVxuICogMC41ICAgICAgICAgIC0tLS0tLS0tLT4gICAwLjc1XG4gKiAwLjYgICAgICAgICAgLS0tLS0tLS0tPiAgIDFcbiAqIDAuNyAgICAgICAgICAtLS0tLS0tLS0+ICAgMVxuICogfFxuICogMSAgICAgICAgICAgIC0tLS0tLS0tLT4gICAxXG4gKiBgYGBcbiAqXG4gKiBAdGVzdGVkXG4gKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBwYXJlbnQgcHJvZ3Jlc3MgYXMgYSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0aW5nIHZhbHVlIG9mIHRoZSBjaGlsZCBwcm9ncmVzcy4gIFZhbHVlXG4gKiAgICAgYmV0d2VlbiAwIGFuZCAxLlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIHZhbHVlIG9mIHRoZSBjaGlsZCBwcm9ncmVzcy4gIFZhbHVlXG4gKiAgICAgYmV0d2VlbiAwIGFuZCAxLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hpbGRQcm9ncmVzcyhwcm9ncmVzcywgc3RhcnQsIGVuZCwgbm9DbGFtcCA9IGZhbHNlKSB7XG4gICAgY29uc3QgcmFuZ2UgPSBlbmQgLSBzdGFydDtcbiAgICBsZXQgY2hpbGRQcm9ncmVzcyA9IGNsYW1wKDAsIDEsIHByb2dyZXNzIC0gc3RhcnQpO1xuICAgIGlmIChub0NsYW1wKSB7XG4gICAgICAgIGNoaWxkUHJvZ3Jlc3MgPSBwcm9ncmVzcyAtIHN0YXJ0O1xuICAgIH1cbiAgICBjaGlsZFByb2dyZXNzID0gY2hpbGRQcm9ncmVzcyAvIHJhbmdlO1xuICAgIGlmIChub0NsYW1wKSB7XG4gICAgICAgIHJldHVybiBjaGlsZFByb2dyZXNzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNsYW1wQXNQZXJjZW50KGNoaWxkUHJvZ3Jlc3MpO1xuICAgIH1cbn1cbi8qKlxuICogUm91bmRzIHRvIGEgc3BlY2lmaWMgcHJlY2lzaW9uLlxuICogYGBgXG4gKiBtYXRoZi5yb3VuZFRvUHJlY2lzaW9uKDAuNDk5OTksIDEpICAtLT4gMC41XG4gKiBtYXRoZi5yb3VuZFRvUHJlY2lzaW9uKDAuNDk5OTksIDIpICAtLT4gMC41XG4gKiBtYXRoZi5yb3VuZFRvUHJlY2lzaW9uKDAuNDExOTksIDMpICAtLT4gMC40MTJcbiAqIG1hdGhmLnJvdW5kVG9QcmVjaXNpb24oMC41NTU1LCAzKSAgLS0+IDAuNTU2XG4gKiBtYXRoZi5yb3VuZFRvUHJlY2lzaW9uKDAuNTU1NSwgMikgIC0tPiAwLjU2XG4gKiBgYGBcbiAqIEB0ZXN0ZWRcbiAqIEBwYXJhbSB2YWx1ZVxuICogQHBhcmFtIHByZWNpc2lvblxuICovXG5leHBvcnQgZnVuY3Rpb24gcm91bmRUb1ByZWNpc2lvbih2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gICAgcHJlY2lzaW9uID0gaW50KHByZWNpc2lvbik7XG4gICAgY29uc3Qgc2hpZnRlciA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24pO1xuICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlICogc2hpZnRlcikgLyBzaGlmdGVyO1xufVxuLyoqXG4gKiBGbG9vcnMgbnVtYmVyIHRvIGEgc3BlY2lmaWMgcHJlY2lzaW9uLlxuICogYGBgXG4gKiBtYXRoZi5mbG9vclRvUHJlY2lzaW9uKDAuNTU1NSwgMykgIC0tPiAwLjU1NVxuICogbWF0aGYuZmxvb3JUb1ByZWNpc3Npb24oMC41NTU1LCAyKSAgLS0+IDAuNTVcbiAqIGBgYFxuICogQHRlc3RlZFxuICogQHBhcmFtIHZhbHVlXG4gKiBAcGFyYW0gcHJlY2lzaW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbG9vclRvUHJlY2lzaW9uKHZhbHVlLCBwcmVjaXNpb24pIHtcbiAgICBwcmVjaXNpb24gPSBpbnQocHJlY2lzaW9uKTtcbiAgICBjb25zdCBzaGlmdGVyID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbik7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IodmFsdWUgKiBzaGlmdGVyKSAvIHNoaWZ0ZXI7XG59XG4vKipcbiAqIENlaWxzIG51bWJlciB0byBhIHNwZWNpZmljIHByZWNpc2lvbi5cbiAqIGBgYFxuICogbWF0aGYuY2VpbFRvUHJlY2lzaW9uKDAuNTU1NSwgMykgIC0tPiAwLjU1NVxuICogbWF0aGYuY2VpbFRvUHJlY2lzc2lvbigwLjU1NTUsIDIpICAtLT4gMC41NVxuICogYGBgXG4gKiBAdGVzdGVkXG4gKiBAcGFyYW0gdmFsdWVcbiAqIEBwYXJhbSBwcmVjaXNpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNlaWxUb1ByZWNpc2lvbih2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gICAgcHJlY2lzaW9uID0gaW50KHByZWNpc2lvbik7XG4gICAgY29uc3Qgc2hpZnRlciA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24pO1xuICAgIHJldHVybiBNYXRoLmNlaWwodmFsdWUgKiBzaGlmdGVyKSAvIHNoaWZ0ZXI7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgbnVtYmVyIHRvIGEgc3BlY2lmaWMgbnVtYmVyIG9mIGRlY2ltYXNsXG4gKiBgYGBcbiAqIG1hdGhmLnRvRml4ZWQoMS45NDMsIDIpIC0tPiAxLjk0XG4gKiBtYXRoZi50b0ZpeGVkKDEuOTQzLCAxKSAtLT4gMS45XG4gKiBgYGBcbiAqIEBwYXJhbSB2YWx1ZVxuICogQHBhcmFtIHByZWNpc2lvblxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9GaXhlZCh2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gICAgcmV0dXJuICt2YWx1ZS50b0ZpeGVkKHByZWNpc2lvbik7XG59XG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgYW5nbGUgYmV0d2VlbiB0d28gcG9pbnRzLlxuICogQHBhcmFtICB7bnVtYmVyfSB4MSBUaGUgeCBwb3NpdGlvbiBvZiB0aGUgZmlyc3QgcG9pbnQuXG4gKiBAcGFyYW0gIHtudW1iZXJ9IHkxIFRoZSB5IHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBwb2ludC5cbiAqIEBwYXJhbSAge251bWJlcn0geDIgVGhlIHggcG9zaXRpb24gb2YgdGhlIHNlY29uZCBwb2ludC5cbiAqIEBwYXJhbSAge251bWJlcn0geTIgVGhlIHkgcG9zaXRpb24gb2YgdGhlIHNlY29uZCBwb2ludC5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbmdsZVJhZGlhbnMoeDEsIHkxLCB4MiwgeTIpIHtcbiAgICByZXR1cm4gTWF0aC5hdGFuMih5MiAtIHkxLCB4MiAtIHgxKTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBhbmdsZSBiZXR3ZWVuIHR3byBwb2ludHMgZ2l2ZW4gY2FydGVzaWFuIGNvb3JkaW5hdGVzIHN5c3RlbS5cbiAqIEBwYXJhbSAge251bWJlcn0geDEgVGhlIHggcG9zaXRpb24gb2YgdGhlIGZpcnN0IHBvaW50LlxuICogQHBhcmFtICB7bnVtYmVyfSB5MSBUaGUgeSBwb3NpdGlvbiBvZiB0aGUgZmlyc3QgcG9pbnQuXG4gKiBAcGFyYW0gIHtudW1iZXJ9IHgyIFRoZSB4IHBvc2l0aW9uIG9mIHRoZSBzZWNvbmQgcG9pbnQuXG4gKiBAcGFyYW0gIHtudW1iZXJ9IHkyIFRoZSB5IHBvc2l0aW9uIG9mIHRoZSBzZWNvbmQgcG9pbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBhbmdsZSBpbiBkZWdyZWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYW5nbGVEZWdyZWUoeDEsIHkxLCB4MiwgeTIpIHtcbiAgICByZXR1cm4gKE1hdGguYXRhbjIoeTIgLSB5MSwgeDIgLSB4MSkgKiAxODApIC8gTWF0aC5QSTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lIHRoZSBhbmd1bGFyIGRpc3RhbmNlIGJldHdlZW4gdHdvIGFuZ2xlcyBpbiBkZWdyZWUuXG4gKlxuICogSW4gYSAzNjAgY2lyY2xlLCBpZiB5b3UgaGFkIG9uZSBkZWdyZSBhdCA5MCBhbmQgYW5vdGhlciBhdCA4MCxcbiAqIHRoZSBhbmdsZSBkaXN0YW5jZSBpcyAxMCwgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdHdvLlxuICpcbiAqIEV4YW1wbGVzXG4gKiBgYGB0c1xuICogICBtYXRoZi5hbmdsZURpc3RhbmNlRGVncmVlKDEwLCAxMCkgPT0+IDBcbiAqICAgbWF0aGYuYW5nbGVEaXN0YW5jZURlZ3JlZSgzMCwgMTApID09PiAtMjBcbiAqICAgbWF0aGYuYW5nbGVEaXN0YW5jZURlZ3JlZSgxMCwgNTApID09PiA0MCAqICAgbWF0aGYuYW5nbGVEaXN0YW5jZURlZ3JlZSgxMCwgMzQwKSA9PT4gLTMwICogYGBgICpcbiAqIEB0ZXN0ZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZTAgVGhlIGZpcnN0IGFuZ2xlIGluIGRlZ3JlZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGUxIFRoZSBzZWNvbmQgYW5nbGUgaW4gZGVncmVlcy5cbiAqIEBwYXJhbSB7bnVtYmVyP30gbWF4IFRoZSBtYXggdmFsdWUgYXQgd2hpY2ggcG9pbnQgdGhlIG51bWVyaWNhbCBzeXN0ZW1cbiAqICAgICByZXBlYXRzLiAgSW4gYSBjaXJjbGUgdGhpcyB3b3VsZCBiZSAzNjAuICBUaGlzIHZhbHVlIGRlZmF1bHRzIHRvIDM2MC5cbiAqIEByZXR1cm4ge251bWJlcn0gRGlzdGFuY2UgaW4gZGVncmVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFuZ2xlRGlzdGFuY2VEZWdyZWUoYW5nbGUwLCBhbmdsZTEsIG1heCkge1xuICAgIGNvbnN0IGFuZ2xlMFJhZCA9IGRlZ3JlZVRvUmFkaWFuKGFuZ2xlMCk7XG4gICAgY29uc3QgYW5nbGUxUmFkID0gZGVncmVlVG9SYWRpYW4oYW5nbGUxKTtcbiAgICBpZiAobWF4KSB7XG4gICAgICAgIG1heCA9IGRlZ3JlZVRvUmFkaWFuKG1heCk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IGFuZ2xlRGlzdGFuY2VSYWRpYW4oYW5nbGUwUmFkLCBhbmdsZTFSYWQsIG1heCk7XG4gICAgcmV0dXJuIHJhZGlhblRvRGVncmVlKHJlc3VsdCk7XG59XG4vKipcbiAqIERldGVybWluZSB0aGUgYW5ndWxhciBkaXN0YW5jZSBiZXR3ZWVuIHR3byBhbmdsZXMgaW4gcmFkaWFucy5cbiAqIFtbbWF0aGYuYW5nbGVEaXN0YW5jZURlZ3JlZV1dIGZvciBtb3JlIGluZm9ybWF0aW9uIGFuZCBlcXVpdmVsYW50IGRlZ3JlZVxuICogc2FtcGxlcy5cbiAqIEB0ZXN0ZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZTAgVGhlIGZpcnN0IGFuZ2xlIGluIHJhZGlhbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZTEgVGhlIHNlY29uZCBhbmdsZSBpbiBkZWdyZWVzLlxuICogQHBhcmFtIHtudW1iZXI/fSBtYXggVGhlIG1heCB2YWx1ZSBhdCB3aGljaCBwb2ludCB0aGUgbnVtZXJpY2FsIHN5c3RlbVxuICogICAgIHJlcGVhdHMuICBJbiBhIGNpcmNsZSB0aGlzIHdvdWxkIGJlIDIgcmFkaWFuLiAgVGhpcyB2YWx1ZSBkZWZhdWx0cyB0b1xuICogICAgIDIgcmFkaWFuLlxuICogQHJldHVybiB7bnVtYmVyfSBEaXN0YW5jZSBpbiByYWRpYW5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbmdsZURpc3RhbmNlUmFkaWFuKGFuZ2xlMCwgYW5nbGUxLCBtYXgpIHtcbiAgICBpZiAoIW1heCkge1xuICAgICAgICBtYXggPSBNYXRoLlBJICogMjtcbiAgICB9XG4gICAgY29uc3QgZGVsdGEgPSAoYW5nbGUxIC0gYW5nbGUwKSAlIG1heDtcbiAgICByZXR1cm4gKCgyICogZGVsdGEpICUgbWF4KSAtIGRlbHRhO1xufVxuLyoqXG4gKiBDb252ZXJ0cyByYWRpYW5zIHRvIGRlZ3JlZXMuXG4gKiBAcGFyYW0gIHtudW1iZXJ9IGRlZyBUaGUgZGVncmVlIHZhbHVlLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgY29udmVydGVkIHJhZGlhbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZ3JlZVRvUmFkaWFuKGRlZykge1xuICAgIHJldHVybiBkZWcgKiAoTWF0aC5QSSAvIDE4MCk7XG59XG4vKipcbiAqIENvbnZlcnRzIHJhZGlhbnMgdG8gZGVncmVlcy5cbiAqIEBwYXJhbSAge251bWJlcn0gcmFkaWFuIFRoZSByYWRpYW4gdmFsdWUuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBjb252ZXJ0ZWQgZGVncmVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFkaWFuVG9EZWdyZWUocmFkaWFuKSB7XG4gICAgcmV0dXJuIChyYWRpYW4gKiAxODApIC8gTWF0aC5QSTtcbn1cbi8qKlxuICogQ2hlY2tzIGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IGEgQW4gb2JqZWN0IHdpdGggeCwgeSwgd2lkdGggYW5kIGhlaWdodC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBiIEFuIG9iamVjdCB3aXRoIHgsIHksIHdpZHRoIGFuZCBoZWlnaHQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBhcmVhcyBhcmUgY29sbGlkaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYm94Q29sbGlzaW9uKGEsIGIpIHtcbiAgICByZXR1cm4gIShhLnkgKyBhLmhlaWdodCA8IGIueSB8fFxuICAgICAgICBhLnkgPiBiLnkgKyBiLmhlaWdodCB8fFxuICAgICAgICBhLnggKyBhLndpZHRoIDwgYi54IHx8XG4gICAgICAgIGEueCA+IGIueCArIGIud2lkdGgpO1xufVxuLyoqXG4gKiBHaXZlbiBhIGNpcmN1bGFyIGFuZCByZWN0YW5ndWxhciBvYmplY3QsIGRldGVjdHMgd2hlbiB0aGUgdHdvIGNvbGxpZGVcbiAqIHdpdGggZWFjaCBvdGhlciBvbiBhIDJkIHNwYWNlLiAgQXNzdW1lcyBCb3ggaXMgdW5yb3RhdGVkLlxuICogQHBhcmFtIHJlY3QgQW4gb2JqZWN0IHdpdGggeCwgeSwgd2lkdGggYW5kIGhlaWdodC5cbiAqIEBzZWUgaHR0cHM6Ly95YWwuY2MvcmVjdGFuZ2xlLWNpcmNsZS1pbnRlcnNlY3Rpb24tdGVzdC9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbGxpc2lvbkNpcmNWc0JveChjaXJjLCByZWN0KSB7XG4gICAgY29uc3QgZHggPSBjaXJjLnggLSBNYXRoLm1heChyZWN0LngsIE1hdGgubWluKGNpcmMueCwgcmVjdC54ICsgcmVjdC53aWR0aCkpO1xuICAgIGNvbnN0IGR5ID0gY2lyYy55IC0gTWF0aC5tYXgocmVjdC55LCBNYXRoLm1pbihjaXJjLnksIHJlY3QueSArIHJlY3QuaGVpZ2h0KSk7XG4gICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5IDwgY2lyYy5yYWRpdXMgKiBjaXJjLnJhZGl1cztcbn1cbi8qKlxuICogUGVyZm9ybXMgYSB0ZXN0IHdoZXRoZXIgYSBwb2ludCByZXNpemVkIGluc2lkZSBhIGNvbnZleCBwb2x5Z29uIHVzaW5nXG4gKiByYXljYXN0aW5nLlxuICogQHBhcmFtIHBvaW50IEFuIG9iamVjdCB3aXRoIHgseSBjb29yZHMgb2YgdGhlIHBvaW50LlxuICogQHBhcmFtIHBvbHkgQW4gYXJyYXkgb2YgeCx5IHBvaW50cyBvZiBhIHBvbHlnb24uXG4gKiBAcmV0dXJuIFdoZXRoZXIgdGhlIHBvaW50IGlzIGluc2lkZSB0aGUgcG9seWdvbiBvciBub3QuXG4gKiBAc2VlIGh0dHA6Ly93d3cuZWNzZS5ycGkuZWR1L0hvbWVwYWdlcy93cmYvUmVzZWFyY2gvU2hvcnRfTm90ZXMvcG5wb2x5Lmh0bWxcbiAqIEBzZWUgaHR0cHM6Ly9nYW1lZGV2ZWxvcG1lbnQudHV0c3BsdXMuY29tL3R1dG9yaWFscy9jb2xsaXNpb24tZGV0ZWN0aW9uLXVzaW5nLXRoZS1zZXBhcmF0aW5nLWF4aXMtdGhlb3JlbS0tZ2FtZWRldi0xNjlcbiAqIEBzZWUgaHR0cHM6Ly93d3cuZ2FtZWRldmVsb3BtZW50LmJsb2cvY29sbGlzaW9uLWRldGVjdGlvbi1jaXJjbGVzLXJlY3RhbmdsZXMtYW5kLXBvbHlnb25zL1xuICogQHNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMjUyMTk4Mi9jaGVjay1pZi1wb2ludC1pbnNpZGUtYS1wb2x5Z29uXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taWtvbGFseXNlbmtvL3JvYnVzdC1wb2ludC1pbi1wb2x5Z29uL2Jsb2IvbWFzdGVyL3JvYnVzdC1wbnAuanNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbGxpc2lvblBvaW50VmVyc3VzQ29udmV4UG9seWdvbihwb2ludCwgcG9seSkge1xuICAgIC8vIFdlIGdvIGFyb3VuZCBpbiB0aGUgcG9seWdvbi5cbiAgICAvLyBBc3N1bWluZyB0aGVyZSBhcmUgZm91ciBwb2ludCAoYnV0IGNvdWxkIGJlIG1vcmUpLFxuICAgIC8vXG4gICAgLy8gICAwLS0tLTFcbiAgICAvLyAgIHwgICAgfFxuICAgIC8vICAgMy0tLS0yXG4gICAgLy8gV2UgcGVyZm9ybSByYXljYXN0aW5nLCAwLTMsIDEtMCwgMi0xLCAzLTIgcG9pbnRzLlxuICAgIC8vXG4gICAgbGV0IGlzSW5zaWRlID0gZmFsc2U7XG4gICAgY29uc3Qgc2l6ZSA9IHBvbHkubGVuZ3RoO1xuICAgIGxldCBwb2ludFBvbHlBSW5kZXggPSAwO1xuICAgIGxldCBwb2ludFBvbHlCSW5kZXggPSBzaXplIC0gMTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICBjb25zdCBwb2x5QSA9IHBvbHlbcG9pbnRQb2x5QUluZGV4XTtcbiAgICAgICAgY29uc3QgcG9seUIgPSBwb2x5W3BvaW50UG9seUJJbmRleF07XG4gICAgICAgIGNvbnN0IGludGVyc2VjdHMgPSBwb2x5QS55ID4gcG9pbnQueSAhPT0gcG9seUIueSA+IHBvaW50LnkgJiZcbiAgICAgICAgICAgIHBvaW50LnggPFxuICAgICAgICAgICAgICAgICgocG9seUIueCAtIHBvbHlBLngpICogKHBvaW50LnkgLSBwb2x5QS55KSkgLyAocG9seUIueSAtIHBvbHlBLnkpICtcbiAgICAgICAgICAgICAgICAgICAgcG9seUEueDtcbiAgICAgICAgaWYgKGludGVyc2VjdHMpIHtcbiAgICAgICAgICAgIGlzSW5zaWRlID0gIWlzSW5zaWRlO1xuICAgICAgICB9XG4gICAgICAgIHBvaW50UG9seUJJbmRleCA9IHBvaW50UG9seUFJbmRleDtcbiAgICAgICAgcG9pbnRQb2x5QUluZGV4Kys7XG4gICAgfVxuICAgIHJldHVybiBpc0luc2lkZTtcbn1cbi8qKlxuICogVXNlIHJvdGF0aW9uYWwgbWF0cml4IHRvIGNhbGN1bGF0ZSB0aGUgbmV3IGNvb3JkaW5hdGVzIG9mIGEgcm90YXRlZFxuICogcG9pbnQuXG4gKlxuICogUHV0IGFub3RoZXIgd2F5LCBnaXZlbiBwb2ludCB4IGFuZCB5LCBhbmQgYSBjZW50ZXIgcG9pbnQgb2YgY3ggYW5kIGN5LFxuICogY2FsY3VsYXRlcyB0aGUgdHJhbnNsYXRlZCB4LCB5IHBvaW50cyB3aGVuIHJvdGF0ZWQgYXQgYSBnaXZlbiBhbmdsZS5cbiAqXG4gKiBGb3IgZXhhbXBsZTpcbiAqXG4gKiAgICAgIDAsMC0tLS0tLS0tLS0tLS0tNCwwXG4gKiAgICAgICB8ICAgICAgICAgICAgICAgfFxuICogICAgICAgfCAgICAgICAyLDIgICAgIHxcbiAqICAgICAgIHwgICAgICAgICAgICAgICB8XG4gKiAgICAgIDAsNCAtLS0tLS0tLS0tLS0gNCw0XG4gKlxuICogU2F5IGZvciBleGFtcGxlIHlvdSBoYXZlIGEgcmVjdGFuZ2xlLiAgVGhlIHJvdGF0aW9uYWwgY2VudGVyIG9mIHRoZVxuICogcmVjdGFuZ2xlIGlzIHRoZSBjZW50ZXIgaW4gdGhpcyBjYXNlIGF0IDIsMi5cbiAqXG4gKiBZb3UgY2FuIHVzZSB0aGlzIGFsZ28gdG8gY2FsY3VsYXRlIHJvdGF0aW9uLlxuICogTGV0cyBzYXkgeW91IHJvdGF0ZSB0aGUgcmVjdGFuZ2xlIGJ5IDEgcmFkaWFuICh+NTcgZGVncmVlcykuXG4gKiBXaGF0IGlzIHRoZSBuZXcgY29vcmRpbmF0ZXMgb2YgdGhlIHRvcCByaWdodCBjb3JuZXI/XG4gKlxuICogYGBgXG4gKiBjb25zdCBuZXdDb29yZHMgPSBtYXRoZi5jYWxjdWxhdGUyZFBvaW50Um90YXRpb24oMiwyLDQsMCwxKTtcbiAqXG4gKiBuZXdDb29yZHMueDsgIC8vIDEuMzk4XG4gKiBuZXdDb29yZHMueTsgIC8vIC0wLjc2NFxuICpcbiAqIGBgYFxuICpcbiAqIFRyb3VibGVzaG9vdD9cbiAqXG4gKiBUaGUgbW9zdCBjb21tb24gaXNzdWUgaXMgdGhhdCB5b3VyIHJvdGF0aW9uIHZhbHVlIGlzIGludmVydGVkLlxuICogVHJ5IHBhc3NpbmcgaW4gLXJvdGF0aW9uIGFuZCBzZWUgaWYgdGhhdCBoZWxwcy5cbiAqXG4gKiBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PXhzTjhjRDZvaXNZJmZlYXR1cmU9eW91dHUuYmVcbiAqIGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9YTU5WVE0cWU3bUVcbiAqIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JvdGF0aW9uX21hdHJpeFxuICpcbiAqIEBwYXJhbSBjeCBUaGUgeCBjZW50ZXIgcG9pbnQgdG8gcm90YXRlIGFyb3VuZC5cbiAqIEBwYXJhbSBjeSBUaGUgeSBjZW50ZXIgcG9pbnQgdG8gcm90YXRlIGFyb3VuZC5cbiAqIEBwYXJhbSB4IFRoZSB4IHZhbHVlIG9mIHRoZSBwb2ludCB0byBiZSByb3RhdGVkIHByaW9yIHRvIHJvdGF0aW9uLlxuICogQHBhcmFtIHkgVGhlIHkgdmFsdWUgb2YgdGhlIHBvaW50IHRvIGJlIHJvdGF0ZWQgcHJpb3IgdG8gcm90YXRpb24uXG4gKiBAcGFyYW0gYW5nbGUgVGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAqIEB0ZXN0ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZTJkUG9pbnRSb3RhdGlvbihjeCwgY3ksIHgsIHksIGFuZ2xlKSB7XG4gICAgY29uc3QgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgIGNvbnN0IHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICBjb25zdCB0eCA9IGNvcyAqICh4IC0gY3gpICsgc2luICogKHkgLSBjeSkgKyBjeDtcbiAgICBjb25zdCB0eSA9IGNvcyAqICh5IC0gY3kpIC0gc2luICogKHggLSBjeCkgKyBjeTtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiB0eCxcbiAgICAgICAgeTogdHksXG4gICAgfTtcbn1cbi8qKlxuICogUm90YXRlcyBhIHBvaW50IGFyb3VuZCBhbm90aGVyIHBvaW50IHdpdGggYW5nbGUgYW5kIGRpc3RhbmNlLlxuICogVGhpcyBpcyBzaW1pbGFyIHRvXG4gKiBbW21hdGhmLmNhbGN1bGF0ZTJkUG9pbnRSb3RhdGlvbl1dIGV4Y2VwdCB0aGF0IHlvdSBhcmUgc3BlY2lmeWluZyBhXG4gKiBkaXN0YW5jZSBhcyB3ZWxsLlxuICogQHBhcmFtIGN4IFRoZSB4IGNlbnRlciBwb2ludCB0byByb3RhdGUgYXJvdW5kLlxuICogQHBhcmFtIGN5IFRoZSB5IGNlbnRlciBwb2ludCB0byByb3RhdGUgYXJvdW5kLlxuICogQHBhcmFtIHggVGhlIHggdmFsdWUgb2YgdGhlIHBvaW50IHRvIGJlIHJvdGF0ZWQgcHJpb3IgdG8gcm90YXRpb24uXG4gKiBAcGFyYW0geSBUaGUgeSB2YWx1ZSBvZiB0aGUgcG9pbnQgdG8gYmUgcm90YXRlZCBwcmlvciB0byByb3RhdGlvbi5cbiAqIEBwYXJhbSBhbmdsZSBUaGUgYW5nbGUgaW4gcmFkaWFuc1xuICogQHBhcmFtIGRpc3RhbmNlIFRoZSBkaXN0YW5jZSBmcm9tIGN4IGFuZCBjeSBpbiB3aGljaCB3ZSBzaG91bGQgcGxhY2UgdGhlXG4gKiAgICAgbmV3IGNvb3JkaW5hdGVzIHRvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlMmRQb2ludFJvdGF0aW9uV2l0aERpc3RhbmNlKGN4LCBjeSwgeCwgeSwgYW5nbGUsIGRpc3RhbmNlKSB7XG4gICAgY29uc3QgdCA9IGFuZ2xlICsgTWF0aC5hdGFuMih5IC0gY3ksIHggLSBjeCk7XG4gICAgeCA9IGN4ICsgZGlzdGFuY2UgKiBNYXRoLmNvcyh0KTtcbiAgICB5ID0gY3kgKyBkaXN0YW5jZSAqIE1hdGguc2luKHQpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHgsXG4gICAgICAgIHk6IHksXG4gICAgfTtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgc2V0IG9mIHJhbmRvbSB4LHkgcG9pbnRzLlxuICogQHBhcmFtIHtudW1iZXJ9IG51bSBOdW1iZXIgb2YgcG9pbnRzLlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblggTWluaW11bSBvZiB4LlxuICogQHBhcmFtIHtudW1iZXJ9IG1heFggTWF4aW11bSBvZiB4LlxuICogQHBhcmFtIHtudW1iZXJ9IG1pblkgTWluaW11bSBvZiB5LlxuICogQHBhcmFtIHtudW1iZXJ9IG1heFkgTWF4aW11bSBvZiB5LlxuICogQHJldHVybiB7QXJyYXkuPE9iamVjdD59IEFuIGFycmF5IG9mIG9iamVjdHMgY29udGFpbmluZyB4LCB5IHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tUG9pbnRzKG51bSwgbWluWCwgbWF4WCwgbWluWSwgbWF4WSkge1xuICAgIGNvbnN0IHBvaW50cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtOyBpKyspIHtcbiAgICAgICAgcG9pbnRzLnB1c2goe1xuICAgICAgICAgICAgeDogZ2V0UmFuZG9tSW50KG1pblgsIG1heFgpLFxuICAgICAgICAgICAgeTogZ2V0UmFuZG9tSW50KG1pblksIG1heFkpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHBvaW50cztcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZGlzdGFuY2Ugb2YgdHdvIHNldHMgb2YgeCwgeSBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSAge251bWJlcn0geDEgVGhlIHggdmFsdWUgb2YgcG9pbnQgMS5cbiAqIEBwYXJhbSAge251bWJlcn0geTEgVGhlIHkgdmFsdWUgb2YgcG9pbnQgMS5cbiAqIEBwYXJhbSAge251bWJlcn0geDIgVGhlIHggdmFsdWUgb2YgcG9pbnQgMi5cbiAqIEBwYXJhbSAge251bWJlcn0geTIgVGhlIHkgdmFsdWUgb2YgcG9pbnQgMi5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIGRpc3RhbmNlIGJldHdlZW4gcG9pbnQgMSBhbmQgcG9pbnQgMi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlKHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh4MiAtIHgxLCAyKSArIE1hdGgucG93KHkyIC0geTEsIDIpKTtcbn1cbi8qKlxuICogR2V0cyB0aGUgZGlyZWN0aW9uIGluIHdoaWNoIGEgbnVtYmVyIGlzIHByb2dyZXNzLlxuICogMCBtZWFucyB0aGUgc2FtZSwgbm8gbW92ZW1lbnQuXG4gKiAxIG1lYW5zIG1vdmluZyBmb3J3YXJkLlxuICogLTEgbWVhbnMgbW92aW5nIGJhY2t3YXJkcy5cbiAqIGBgYHRzXG4gKiBtYXRmaC5kaXJlY3Rpb24oMSwgMikgLS0tPiAxXG4gKiBtYXRmaC5kaXJlY3Rpb24oMywgMSkgLS0tPiAtMVxuICogbWF0ZmguZGlyZWN0aW9uKDEsIDEpIC0tLT4gMFxuICogYGBgXG4gKiBAcGFyYW0gcHJldmlvdXNcbiAqIEBwYXJhbSBjdXJyZW50XG4gKiBAdGVzdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXJlY3Rpb24ocHJldmlvdXMsIGN1cnJlbnQpIHtcbiAgICBpZiAocHJldmlvdXMgPT09IGN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiBwcmV2aW91cyA8IGN1cnJlbnQgPyAxIDogLTE7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIG9mZnNldCB2YWx1ZSB0byBjZW50ZXIgYSBnaXZlbiBlbGVtZW50IHdpdGhpbiBhIGNvbnRhaW5lci5cbiAqXG4gKiBJbWFnaW5lIHRoZSBiZWxvdzpcbiAqXG4gKiBgYGBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLTggKHBhcmVudCktLS0tLS0tLS0tLS0tLS0tXG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgfC0tLS01KGNoaWxkKS0tLS0tfCAgICAgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8LS0tb2Zmc2V0LS18ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBgYGBcbiAqXG4gKiAgWW91IGhhdmUgYSBwYXJlbnQgb2Ygd2lkdGggOCBhbmQgY2hpbGQgb2Ygd2l0aCA1IGFuZCB5b3Ugd2FudCB0b1xuICogIGNlbnRlciB0aGUgY2hpbGQuXG4gKlxuICogIEluIHRoZSBleGFtcGxlIGFib3ZlLCBwYXJlbnQgPSA4LCBjaGlsZCA9IDUsIHdvdWxkIHJldHVybiB0aGUgb2Zmc2V0IG9mIDEuNVxuICogIFNvIHlvdSBrbm93IHRoYXQgaWYgeW91IG9mZnNldHRlZCB0aGUgY2hpbGQgZWxlbWVudCBieSAxLjUsIGl0IHdvdWxkXG4gKiAgaG9yaXpvbnRhbGx5IGNlbnRlci5cbiAqXG4gKiAgWW91IGNhbiBhbHNvIHVzZSB0aGlzIG1ldGhvZCB0byBjYWxjdWxhdGUgdmVydGljYWwgYWxpZ25tZW50IGFzIHdlbGwuXG4gKlxuICogRXhhbXBsZTpcbiAqIEhlcmUgaXMgYW4gZXhhbXBsZSBvZiBjYWxjdWxhdGluZyB0aGUgeCwgeSBvZmZzZXRzIHRvIGNlbnRlciBhbiBvYmplY3RcbiAqIHRvIHRoZSBzY3JlZW4uXG4gKiBgYGB0c1xuICogIGxldCB4ID0gbWF0aGYuY2FsY3VsYXRlQ2VudGVyT2Zmc2V0KFxuICogICAgIHNjcmVlbi53aWR0aCwgb2JqZWN0LndpZHRoKTtcbiAqICBsZXQgeSA9IG1hdGhmLmNhbGN1bGF0ZUNlbnRlck9mZnNldChcbiAqICAgICBzY3JlZW4uaGVpZ2h0LCBvYmplY3Qud2lkdGgpO1xuICogYGBgXG4gKiBAdGVzdGVkXG4gKiBAcGFyYW0ge251bWJlcn0gcGFyZW50IFRoZSBwYXJlbnQgdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBjaGlsZCBUaGUgY2hpbGQgdmFsdWVcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIG9mZnNldCB2YWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUNlbnRlck9mZnNldChwYXJlbnQsIGNoaWxkKSB7XG4gICAgY29uc3QgaGFsZlBhcmVudCA9IHBhcmVudCAvIDI7XG4gICAgY29uc3QgaGFsZkNoaWxkID0gY2hpbGQgLyAyO1xuICAgIGNvbnN0IG9mZnNldCA9IGhhbGZQYXJlbnQgLSBoYWxmQ2hpbGQ7XG4gICAgcmV0dXJuIG9mZnNldDtcbn1cbi8qKlxuICogR2l2ZW4gYSBrbm93biBzZXQgb2Ygc2l6ZXMsIHNjYWxlcyBhbmQgcmV0dXJucyBhIHkxLlxuICpcbiAqIGBgYGBgdHNcbiAqICB4MSAgICAgeDIgKHJldHVybilcbiAqIC0tLS0gPSAtLS0tXG4gKiAgeTEgICAgIHkyXG4gKlxuICogYGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVYKHgxLCB5MSwgeTIpIHtcbiAgICByZXR1cm4gKHgxICogeTIpIC8geTE7XG59XG4vKipcbiAqIEdpdmVuIGEga25vd24gc2V0IG9mIHNpemVzLCBzY2FsZXMgYW5kIHJldHVybnMgYSB5Mi5cbiAqXG4gKiBgYGBgYHRzXG4gKiAgeDEgICAgIHgyXG4gKiAtLS0tID0gLS0tLVxuICogIHkxICAgICB5MiAocmV0dXJuKVxuICpcbiAqIGBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlWSh4MSwgeTEsIHgyKSB7XG4gICAgcmV0dXJuICh4MiAqIHkxKSAvIHgxO1xufVxuLyoqXG4gKiBHaXZlbiBhIHdpZHRoIGFuZCBoZWlnaHQsIHJldHVybnMgdGhlIGFzcGVjdCByYXRpby5cbiAqIEBwYXJhbSB7Ym94fSBkaW1lbnNpb25hbEJveCBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgd2lkdGggYW5kIGhlaWdodC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzcGVjdFJhdGlvKGJveCkge1xuICAgIHJldHVybiBib3gud2lkdGggLyBib3guaGVpZ2h0O1xufVxuLyoqXG4gKiBUZXN0cyBpZiBhIGdpdmVuIHZhbHVlIGlzIGJldHdlZW4gYSByYW5nZS5cbiAqIEBwYXJhbSB0ZXN0VmFsdWVcbiAqIEBwYXJhbSByYW5nZTFcbiAqIEBwYXJhbSByYW5nZTJcbiAqIEBwYXJhbSBpbmNsdXNpdmUgV2hldGhlciB0aGUgdGVzdCBzaG91bGQgYmUgaW5jbHVzaXZlLlxuICogQHJldHVybiBXaGV0aGVyIHRoZSB0ZXN0IHZhbHVlIGlzIGJldHdlZW4gcmFuZ2UxIGFuZCByYW5nZTIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0JldHdlZW4odGVzdFZhbHVlLCByYW5nZTEsIHJhbmdlMiwgaW5jbHVzaXZlID0gdHJ1ZSkge1xuICAgIGNvbnN0IG1pbiA9IE1hdGgubWluKHJhbmdlMSwgcmFuZ2UyKTtcbiAgICBjb25zdCBtYXggPSBNYXRoLm1heChyYW5nZTEsIHJhbmdlMik7XG4gICAgcmV0dXJuIGluY2x1c2l2ZVxuICAgICAgICA/IHRlc3RWYWx1ZSA+PSBtaW4gJiYgdGVzdFZhbHVlIDw9IG1heFxuICAgICAgICA6IHRlc3RWYWx1ZSA+IG1pbiAmJiB0ZXN0VmFsdWUgPCBtYXg7XG59XG4vKipcbiAqIFJlc2l6ZXMgYSBnaXZlbiBkaW1lbnNpb25hbCBib3ggKHdpZHRoIGFuZCBoZWlnaHQpIHRvIGEgZ2l2ZW4gd2lkdGggd2hpbGVcbiAqIG1haW50YWluaW5nIHRoZSBhc3BlY3QgcmF0aW8uICBVc2VmdWwgZm9yIHNjYWxpbmcgdXAgb3IgZG93biBhIGJveC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBib3hcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aFxuICogQHJldHVybiB7ZGltZW5zaW9uYWxCb3h9XG4gKiBAdGVzdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNpemVEaW1lbnNpb25hbEJveFRvV2lkdGgoYm94LCB3aWR0aCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQ6IHNjYWxlWShib3gud2lkdGgsIGJveC5oZWlnaHQsIHdpZHRoKSxcbiAgICB9O1xufVxuLyoqXG4gKiBSZXNpemVzIGEgZ2l2ZW4gZGltZW5zaW9uYWwgYm94ICh3aWR0aCBhbmQgaGVpZ2h0KSB0byBhIGdpdmVuIGhlaWdodCB3aGlsZVxuICogbWFpbnRhaW5pbmcgdGhlIGFzcGVjdCByYXRpby4gIFVzZWZ1bCBmb3Igc2NhbGluZyB1cCBvciBkb3duIGEgYm94LlxuICogQHBhcmFtIHtudW1iZXJ9IGJveFxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxuICogQHJldHVybiB7ZGltZW5zaW9uYWxCb3h9XG4gKiBAdGVzdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNpemVEaW1lbnNpb25hbEJveFRvSGVpZ2h0KGJveCwgaGVpZ2h0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IHNjYWxlWChib3gud2lkdGgsIGJveC5oZWlnaHQsIGhlaWdodCksXG4gICAgICAgIGhlaWdodCxcbiAgICB9O1xufVxuLyoqXG4gKiBDbGFtcHMgYSB2YWx1ZSB3aXRoaW4gMC0xLlxuICogYGBgdHNcbiAqIG1hdGhmLmNsYW1wQXNQZXJjZW50KDAuMikgLS0+IDAuMlxuICogbWF0aGYuY2xhbXBBc1BlcmNlbnQoMSkgLS0+IDFcbiAqIG1hdGhmLmNsYW1wQXNQZXJjZW50KC0yKSAtLT4gMFxuICogbWF0aGYuY2xhbXBBc1BlcmNlbnQoMikgLS0+ICAxXG4gKiBgYGBcbiAqIEB0ZXN0ZWRcbiAqIEBwYXJhbSBwZXJjZW50XG4gKiBAcmV0dXJuIHBlcmNlbnQgQSB2YWx1ZSB3aXRoaW4gMC0xLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhbXBBc1BlcmNlbnQocGVyY2VudCkge1xuICAgIHJldHVybiBjbGFtcCgwLCAxLCBhYnNaZXJvKHBlcmNlbnQpKTtcbn1cbi8qKlxuICogQ2xhbXBzIGEgbnVtYmVyIHRvIHdpdGhpbiAwLTEuXG4gKiBBbiBhbGlhcyBvZiBbW21hdGhmLmNsYW1wQXNQcm9ncmVzc11dXG4gKiBAdGVzdGVkXG4gKiBAcGFyYW0gcHJvZ3Jlc3NcbiAqIEByZXR1cm4gcHJvZ3Jlc3MgQSB2YWx1ZSB3aXRoaW4gMC0xLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhbXBBc1Byb2dyZXNzKHByb2dyZXNzKSB7XG4gICAgcmV0dXJuIGNsYW1wQXNQZXJjZW50KHByb2dyZXNzKTtcbn1cbi8qKlxuICogQ2xhbXBzIGEgbnVtYmVyIHRvIHdpdGhpbiAwLTEuXG4gKiBBbiBhbGlhcyBvZiBbW21hdGhmLmNsYW1wQXNQcm9ncmVzc11dXG4gKiBAdGVzdGVkXG4gKiBAcGFyYW0gcHJvZ3Jlc3NcbiAqIEByZXR1cm4gcHJvZ3Jlc3MgQSB2YWx1ZSB3aXRoaW4gMC0xLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAwMShwcm9ncmVzcykge1xuICAgIHJldHVybiBjbGFtcEFzUGVyY2VudChwcm9ncmVzcyk7XG59XG4vKipcbiAqIFVzZWQgdG8gZ2V0IGEgdmFsdWUgd2l0aGluIGEgcmFuZ2UgYnkgcHJvZ3Jlc3MuXG4gKiBOb3RlIHRoaXMgaXMgYW4gYWxpYXMgb2YgW1ttYXRoZi5sZXJwXV0gc2luY2UgaXQncyB0aGUgc2FtZSB0aGluZy5cbiAqXG4gKiBGb3IgaW5zdGFuY2UsIGxldCdzIHNheSB5b3UgaGF2ZSBhIHJhbmdlIG9mIDMyNS0xNDUwLlxuICogWW91IHdhbnQgMCUgPSAzMjUgYW5kIDEwMCUgPSAxNDUwLlxuICpcbiAqIFlvdSBjYW4gcGFzcyBhIHByb2dyZXNzIChzdWNoIGFzIDIwJSBvciAwLjIpIGFuZCB0aGlzIHdpbGwgcmV0dXJuIHRoZSB2YWx1ZVxuICogd2l0aGluIHRoYXQgcmFuZ2UuXG4gKlxuICogQHRlc3RlZFxuICogQHBhcmFtIHtudW1iZXJ9IHByb2dyZXNzIFRoZSBwZXJjZW50IHRvIGNhbGN1bGF0ZS4gIFNob3VsZCBiZSBiZXR3ZWVuIDAgYW5kIDEuXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIFRoZSBsb3cgZW5kIG9mIHRoZSByYW5nZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXggVGhlIGhpZ2ggZW5kIG9mIHRoZSByYW5nZS5cbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIHZhbHVlIHdpdGhpbiB0aGUgcmFuZ2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRWYWx1ZUluUmFuZ2VCeVByb2dyZXNzKHByb2dyZXNzLCBtaW4sIG1heCkge1xuICAgIHJldHVybiBsZXJwKG1pbiwgbWF4LCBwcm9ncmVzcyk7XG59XG4vKipcbiAqIE5vcm1hbGl6ZXMgYSBnaXZlbiByYW5nZSAobWluIGFuZCBtYXgpIHRvIGEgcHJvZ3Jlc3MgKGEgdmFsdWUgYmV0d2VlbiAwIGFuZFxuICogMSlcbiAqIEZvciBpbnN0YW5jZSwgbGV0J3Mgc2F5IHlvdSBoYXZlIGEgcmFuZ2Ugb2YgMzI1LTE0NTAuXG4gKiBZb3Ugd2FudCAwJSA9IDMyNSBhbmQgMTAwJSA9IDE0NTAuXG4gKiBZb3UgY2FuIHBhc3MgYSB2YWx1ZSA0MjAgYW5kIHRoaXMgd2lsbCByZXR1cm4gdGhlIHByb2dyZXNzIChwZXJjZW50YWdlKS5cbiAqXG4gKiBgYGB0c1xuICpcbiAqICAgIG1hdGhmLmdldFByb2dyZXNzSW5SYW5nZUJ5VmFsdWUoMiwgMCwgMTApIC8vIDAuMlxuICogICAgbWF0aGYuZ2V0UHJvZ3Jlc3NJblJhbmdlQnlWYWx1ZSgxMCwgMCwgMTApIC8vIDFcbiAqICAgIG1hdGhmLmdldFByb2dyZXNzSW5SYW5nZUJ5VmFsdWUoNywgMiwgMTIpIC8vIDAuNVxuICpcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZGV0ZXJtaW5lIHRoZSBwcm9ncmVzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gVGhlIGxvdyBlbmQgb2YgdGhlIHJhbmdlLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heCBUaGUgaGlnaCBlbmQgb2YgdGhlIHJhbmdlLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgcHJvZ3Jlc3Mgd2l0aGluIHRoZSByYW5nZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFByb2dyZXNzSW5SYW5nZUJ5VmFsdWUodmFsLCBtaW4sIG1heCkge1xuICAgIHJldHVybiBjbGFtcEFzUGVyY2VudCgodmFsIC0gbWluKSAvIChtYXggLSBtaW4pKTtcbn1cbi8qKlxuICogTm9ybWFsaXplZCBhIHZhbHVlIGJldHdlZW4gYSBtaW4gYW5kIG1heCByZXR1cm5pbmcgYSB2YWx1ZSBiZXR3ZWVuXG4gKiAwIGFuZCAxLlxuICogQW4gYWxpYXMgdG8gW1ttYXRoZi5nZXRQcm9ncmVzc0luUmFuZ2VCeVZhbHVlXV0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUodmFsLCBtaW4sIG1heCkge1xuICAgIHJldHVybiBnZXRQcm9ncmVzc0luUmFuZ2VCeVZhbHVlKHZhbCwgbWluLCBtYXgpO1xufVxuLyoqXG4gKiBMaW5lYXIgaW50ZXJwb2xhdGUgZnJvbSBzdGFydCB0byBlbmQgZ2l2ZW4gYW1vdW50LlxuICogYGBgdHNcbiAqIG1hdGhmLmxlcnAoMCwgMSwgMCkgICAtLS0+IDBcbiAqIG1hdGhmLmxlcnAoMCwgMSwgMC4yKSAtLS0+IDAuMlxuICogbWF0aGYubGVycCgwLCAxLCAwLjUpIC0tLT4gMC41XG4gKiBtYXRoZi5sZXJwKDAsIDIsIDAuNSkgLS0tLT4gMVxuICogbWF0aGYubGVycCgyNSwgNzksIDAuMikgLS0tLT4gMzUuOFxuICogYGBgXG4gKlxuICogTGVycCBjYW4gYmUgdXNlZCBmb3IgdmFyaW91cyB0aGluZ3MuICBTZWUgW1ttYXRoZi5nZXRWYWx1ZUluUmFuZ2VCeVByb2dyZXNzXV1cbiAqIHdoaWNoIGlzIGFuIGFsaWFzIG9mIGxlcnAuXG4gKlxuICogTGVycCBjYW4gYWxzbyBiZSB1c2VkIGZvciBhbmltYXRpb25zLiAgIElmIHlvdSB3ZXJlIGRvaW5nIHRoZSBvbGQgc2Nob29sOlxuICogYGBgdHNcbiAqIG9uUmFmTG9vcCgpIHtcbiAqICAgLy8gVXBkYXRlIHRoZSBwb3NpdGlvbiBieSAyMCUgb2YgdGhlIGRpc3RhbmNlIGJldHdlZW4gcG9zaXRpb24gYW5kIHRhcmdldC5cbiAqICAgcG9zaXRpb24ueCArPSAodGFyZ2V0LnggLSBwb3NpdGlvbi54KSAqIDAuMjtcbiAqIH1cbiAqIGBgYFxuICogdGhpcyBjYW4gYmUgcmVwbGFjZWQgd2l0aDpcbiAqIGBgYHRzXG4gKiBvblJhZkxvb3AoKSB7XG4gKiAgIC8vIFNhbWUgdGhpbmcuIFVwZGF0ZSB0aGUgcG9zaXRpb24gYnkgMjAlIG9mIHRoZSBkaXN0YW5jZSBiZXR3ZWVuXG4gKiAgIC8vIHBvc2l0aW9uIGFuZCB0YXJnZXQgb24gZWFjaCByYWYgbG9vcC4gIFRoaXMgaGFzIHRoZSBlZmZlY3Qgb2ZcbiAqICAgLy8gdHdlZW5pbmcgaW4gdGhlIHBvc2l0aW9uIHRvIHRoZSB0YXJnZXQuXG4gKiAgIHBvc2l0aW9uLnggPSBtYXRoZi5sZXJwKHBvc2l0aW9uLngsIHRhcmdldC54LCAwLjIpO1xuICogfVxuICogYGBgXG4gKlxuICogQHRlc3RlZFxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlMSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlIHRvIGxlcnAuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUyIFRoZSB0YXJnZXQgb2YgdGhlIHJhbmdlIHRvIGxlcnAuXG4gKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IEEgdmFsdWUgYmV0d2VlbiAwLTEgcmVwcmVzZW50aW5nIHRoZSBwcm9ncmVzcyBvZiB0aGVcbiAqICAgICBsZXJwLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW50ZXJwb3JhbGF0ZWQgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsZXJwKHZhbHVlMSwgdmFsdWUyLCBhbW91bnQpIHtcbiAgICBjb25zdCBjbGFtcGVkQW1vdW50ID0gY2xhbXAwMShhbW91bnQpO1xuICAgIHJldHVybiAoMSAtIGNsYW1wZWRBbW91bnQpICogdmFsdWUxICsgY2xhbXBlZEFtb3VudCAqIHZhbHVlMjtcbiAgICAvLyBBbHRlcm5hdGl2ZSB3YXlzIHRvIGNhbGN1bGF0ZSBsZXJwLlxuICAgIC8vIE5laXRoZXIgYmVoYXZlIHByb3Blcmx5IGZvciBsZXJwaW5nIGZyb20gbmVnYXRpdmUgdG8gcG9zaXRpdmVcbiAgICAvLyByZXR1cm4gdmFsdWUxICsgKHZhbHVlMiAtIHZhbHVlMSkgKiBtYXRoZi5jbGFtcDAxKGFtb3VudCk7XG4gICAgLy8gcmV0dXJuICgodmFsdWUyIC0gdmFsdWUxKSAqIGFtb3VudCkgKyBhbW91bnRcbn1cbi8qKlxuICogR2l2ZW4gYSBwcm9ncmVzcyB2YWx1ZSwgcmV0dXJucyB0aGUgaW52ZXJzZSBwcm9ncmVzcy5cbiAqIEBwYXJhbSB2YWx1ZVxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2VQcm9ncmVzcyh2YWx1ZSkge1xuICAgIHJldHVybiAxIC0gdmFsdWU7XG59XG4vKipcbiAqIEludmVyc2UgbGVycCBmdW5jdGlvblxuICogQHBhcmFtIGEgU3RhcnQgdmFsdWVcbiAqIEBwYXJhbSBiIEVuZCB2YWx1ZVxuICogQHBhcmFtIHZhbHVlICBWYWx1ZSBiZXRlZW4gc3RhcnQgYW5kIGVuZC5cbiAqIEBwYXJhbSBub0NsYW1wIERlZmF1bHRzIHRvIGZhbHNlLCB3aGV0aGVyIHRvIGRpc2FibGUgY2xhbXBpbmcuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEEgbm9ybWFsaXplZCB2YWx1ZSBiZXR3ZWVuIDAtMVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZUxlcnAoYSwgYiwgdmFsdWUsIG5vQ2xhbXAgPSBmYWxzZSkge1xuICAgIGlmIChub0NsYW1wKSB7XG4gICAgICAgIHJldHVybiAodmFsdWUgLSBhKSAvIChiIC0gYSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gY2xhbXAwMSgodmFsdWUgLSBhKSAvIChiIC0gYSkpO1xuICAgIH1cbn1cbi8qKlxuICogQW5vdGhlciBsaW5lYXIgaW50ZXJwb2xhdGlvbiBvcHRpb24uICAgU2FtZSBhcyBtYXRoZi5sZXJwIGJ1dCBkaWZmZXJlbnQgYWxnb1xuICogd2l0aCBubyBoYXJkIGNsYW1waW5nLlxuICpcbiAqIGBgYHRzXG4gKiBtYXRoZi5taXgoYSwgYiwgMC4wKSAtLS0+IGFcbiAqIG1hdGhmLm1peChhLCBiLCAxLjApIC0tLT4gYlxuICogbWF0aGYubWl4KGEsIGIsIDAuNSkgLS0tPiBiZXR3ZWVuIHggYW5kIHksIGJsZW5kZWQgdmFsdWVzLlxuICogYGBgXG4gKiBAcGFyYW0gYVxuICogQHBhcmFtIGJcbiAqIEBwYXJhbSBibGVuZFxuICogQHVudGVzdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtaXgoYSwgYiwgYmxlbmQpIHtcbiAgICByZXR1cm4gYSAqICgxIC0gYmxlbmQpICsgYiAqIGJsZW5kO1xufVxuLyoqXG4gKiBTdGVwIG1ldGhvZC4gIFdpbGwgIHJldHVybiAwIG9yIDEuXG4gKiBJZiBuIGlzIGdyZWF0ZXIgdGhhbiBlZGdlLCAxXG4gKiBJZiBuIGlzIGxlc3MgdGhhbiBlZGdlLCAwXG4gKlxuICogYGBgdHNcbiAqIG1hdGhmLnN0ZXAoMSwgMikgLS0tPiAxXG4gKiBtYXRoZi5zdGVwKDEsIDAuMikgLS0tPiAwXG4gKiBtYXRoZi5zdGVwKDEsIDEuMSkgLS0tPiAxXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0ZXAoZWRnZSwgbikge1xuICAgIGlmIChuID4gZWRnZSkge1xuICAgICAgICByZXR1cm4gMS4wO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDAuMDtcbiAgICB9XG59XG4vKipcbiAqIFBlcmZvcm1zIHNtb290aHN0ZXAgZnJvbSBtaW4gdG8gbWF4IHVzaW5nIHRoZSBnaXZlbiB2YWx1ZSB1c2luZyBIZXJtaXRlXG4gKiBpbnRlcnBvbGF0aW9uLlxuICpcbiAqIEdpdmVuIHRocmVlIHZhbHVlcywgbWluLCBtYXggYW5kIGlucHV0LCB0aGlzIHdpbGwgcmV0dXJuIGEgbnVtYmVyIGJldHdlZW4gMFxuICogYW5kIDEgdGhhdCByZXByZXNlbnRzIHRoZSBwcm9ncmVzcyBvZiB0aGUgaW5wdXQgdmFsdWUgdG8gdGhlIG1pbiBhbmQgbWF4XG4gKiB2YWx1ZXMuXG4gKlxuICogVGhpcyBpcyBzaW1pbGFyIHRvbyBbW21hdGhmLm5vcm1hbGl6ZV1dIG9yXG4gKiBbW21hdGhmLmdldFByb2dyZXNzSW5SYW5nZUJ5VmFsdWVdXSBleGNlcHQgdGhlIGN1cnZlIGlzIHNsaWdodGx5IHNtb290aGVkXG4gKiBvdXQuXG4gKlxuICogYGBgdHNcbiAqIG1hdGhmLnNtb290aFN0ZXAoMTAwLCAyMDAsIDEwMCk7IC8vIDBcbiAqIG1hdGhmLnNtb290aFN0ZXAoMTAwLCAyMDAsIDE1MCk7IC8vIDAuNVxuICogbWF0aGYuc21vb3RoU3RlcCgxMDAsIDIwMCwgMzAwKTsgLy8gMVxuICogYGBgXG4gKiBAc2VlICBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TbW9vdGhzdGVwXG4gKiBAc2VlIGh0dHA6Ly93d3cuZnVuZHphLmNvbS9ybWFuX3NoYWRlcnMvc21vb3Roc3RlcC9pbmRleC5odG1sXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIFRoZSBtaW4gb2YgdGhlIHJhbmdlIHRvIGxlcnAuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IFRoZSBtYXggb2YgdGhlIHJhbmdlIHRvIGxlcnAuXG4gKiBAcGFyYW0ge251bWJlcn0gaW5wdXQgQSB2YWx1ZSBiZXR3ZWVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzbW9vdGhTdGVwKG1pbiwgbWF4LCBpbnB1dCkge1xuICAgIGNvbnN0IHggPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCAoaW5wdXQgLSBtaW4pIC8gKG1heCAtIG1pbikpKTtcbiAgICByZXR1cm4geCAqIHggKiAoMyAtIDIgKiB4KTtcbn1cbi8qKlxuICogTGVycHMgd2l0aGluIGEgZ2l2ZW4gcmFuZ2UuXG4gKlxuICogTGV0J3Mgc2F5IHlvdSBoYXZlIHRvIHJhbmdlcyB0aGF0XG4gKiB5b3Ugd2FudCB0byBtYWtlIGEgbGluZWFyIGFzc29jaWF0aW9uIHRvLlxuICpcbiAqIFRoZSBlYXNpZXN0IHdheSB0byBpbWFnaW5lIHRoaXMgaXMgaW1hZ2luZSB0d28gcmFuZ2VzLlxuICpcbiAqIGBgYFxuICogMCAgICAgUmFuZ2UxICAgICAgICAxMDBcbiAqIHwtLS0tLS0xMC0tLS0tLS0tLS0tLXxcbiAqXG4gKiAwICAgICAgICAgICAgICAgUmFuZ2UyICAgICAgICAgICAgICAgICAyMDBcbiAqIHwtLS0tLS0tLS0tLS0tPy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKmBgYFxuICpcbiAqIHJhbmdlMTogMCAtIDEwMFxuICogcmFuZ2UyOiAwIC0gMjAwXG4gKlxuICogWW91IGhhdmUgdGhlIHZhbHVlIG9mIDIwIG9uIHJhbmdlMSBhbmQgd2FudCB0byBrbm93IHdoYXQgdGhlIHZhbHVlIHdvdWxkXG4gKiBiZSBvbiByYW5nZTIuXG4gKlxuICogVGhlIGFib3ZlIHdvdWxkIHJldHVybiAyMCBzaW5jZSAxMCUgb2YgMjAwID0gMjAuXG4gKlxuICogYGBgdHNcbiAqIG1hdGhmLmludGVycG9sYXRlUmFuZ2UoMCwgMCwgMTAwLCAwLCAyMDApOyAvLyAwXG4gKiBtYXRoZi5pbnRlcnBvbGF0ZVJhbmdlKDEwLCAwLCAxMDAsIDAsIDIwMCk7IC8vIDIwXG4gKiBtYXRoZi5pbnRlcnBvbGF0ZVJhbmdlKDMwLCAwLCAxMDAsIDAsIDIwMCk7IC8vIDYwXG4gKlxuICogYGBgXG4gKlxuICogQSBwcmFjdGljYWwgZXhhbXBsZS5cbiAqIEhlcmUgd2hlbiB0aGUgc2NyZWVuIHdpZHRoIGlzIDMwMCwgdGhlIHBhZGRpbmcgaXMgMFxuICogYW5kIHdoZW4gaXQncyAxMjAwLCB0aGUgcGFkZGluZyBpcyA1MDAgYW5kIGV2ZXJ5dGhpbmdcbiAqIGl0IGNsY3VsYXRlcyBldmVyeXRoaW5nIGJldHdlZW4uXG4gKiBgYGB0c1xuICpcbiAqIGxldCBwYWRkaW5nID0gbWF0aGYuaW50ZXJwb2xhdGVSYW5nZShcbiAqICAgICBzY3JlZW5XaWR0aCxcbiAqICAgICAzMDAsIDEyMDAsXG4gKiAgICAgMCwgNTAwXG4gKiApO1xuICogYGBgXG4gKlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVycG9sYXRlUmFuZ2UocmFuZ2UxVmFsdWUsIHJhbmdlMU1pbiwgcmFuZ2UxTWF4LCByYW5nZTJNaW4sIHJhbmdlMk1heCkge1xuICAgIGNvbnN0IHByb2dyZXNzID0gY2xhbXBBc1Byb2dyZXNzKHJhbmdlMVZhbHVlIC8gKHJhbmdlMU1heCAtIHJhbmdlMU1pbikpO1xuICAgIHJldHVybiBsZXJwKHJhbmdlMk1pbiwgcmFuZ2UyTWF4LCBwcm9ncmVzcyk7XG59XG4vKipcbiAqIEEgbm9ybWFsaXplZCBzaW4gLSBzbyBpbnN0ZWFkIG9mIHJldHVybmluZyAtMSB0byAxLCBub3JtYWxpemVkIHNpbiByZXR1cm5zXG4gKiBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMS5cbiAqIEBwYXJhbSB0aW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaW5Ob3JtYWxpemVkKHRpbWUpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGVSYW5nZShNYXRoLnNpbih0aW1lKSArIDEsIDAsIDIsIDAsIDEpO1xufVxuLyoqXG4gKiBTYW1lIGFzIGxlcnAgYnV0IHdpbGwgYXBwbHkgYW4gZWFzaW5nRnVuY3Rpb24gdG8gdGhlIGN1cnJlbnRcbiAqIHByb2dyZXNzLCBwcmlvciB0byBydW5uaW5nIGxlcnAuXG4gKlxuICogQHRlc3RlZFxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlMSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlIHRvIGxlcnAuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUyIFRoZSB0YXJnZXQgb2YgdGhlIHJhbmdlIHRvIGxlcnAuXG4gKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IEEgdmFsdWUgYmV0d2VlbiAwLTEgcmVwcmVzZW50aW5nIHRoZSBwcm9ncmVzcyBvZiB0aGVcbiAqICAgICBsZXJwLlxuICogQHBhcmFtIGVhc2VGdW5jdGlvbiBBbiBlYXNpbmcgZnVuY3Rpb24uIFNlZSBbW2Vhc2VdXS4gIERlZmF1bHRzIHRvIGxpbmVhclxuICogICBpbiB3aGljaCBjYXNlLCBsaW5lYXIgaXMgZXF1YWwgdG8gYSByZWd1bGFyIGxlcnAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsZXJwRWFzZSh2YWx1ZTEsIHZhbHVlMiwgYW1vdW50LCBlYXNlRnVuY3Rpb24gPSBFQVNFLmxpbmVhcikge1xuICAgIGFtb3VudCA9IGVhc2VGdW5jdGlvbihhbW91bnQpO1xuICAgIHJldHVybiBsZXJwKHZhbHVlMSwgdmFsdWUyLCBhbW91bnQpO1xufVxuLyoqXG4gKiBTaW1pbGFyIHRvIFtbbWF0aGYubGVycF1dIGJ1dCBpcyBkYW1wZWQgYW5kIHNtb290aGVkIG91dCB3aXRoIGV4cG9uZW50aWFsXG4gKiBkZWNheS4gIFVzZWZ1bCB0byB1c2UgYXMgYW4gYWx0ZXJuYXRpdmUgdG8gW1ttYXRoZi5sZXJwXV0gb3IgW1ttYXRoZi5lYXNlXV1cbiAqIHRvIHNtb290aCBvdXQgYW5pbWF0aW9uIG1vdmVtZW50LlxuICogQHNlZSBodHRwOi8vd3d3LnJvcnlkcmlzY29sbC5jb20vMjAxNi8wMy8wNy9mcmFtZS1yYXRlLWluZGVwZW5kZW50LWRhbXBpbmctdXNpbmctbGVycC9cbiAqIEB0ZXN0ZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZTEgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZSB0byBsZXJwLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlMiBUaGUgdGFyZ2V0IG9mIHRoZSByYW5nZSB0byBsZXJwLlxuICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCBBIHZhbHVlIGJldHdlZW4gMC0xIHJlcHJlc2VudGluZyB0aGUgcHJvZ3Jlc3Mgb2YgdGhlXG4gKiAgICAgbGVycC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkYW1wIEEgdmFsdWUgYmV0d2VlbiAwLTEgcmVwcmVzZW50aW5nIHRoZSBhbW91bnQgdG8gZGFtcC5cbiAqIEBwYXJhbSBlYXNlRnVuY3Rpb24gQW4gZWFzaW5nIGZ1bmN0aW9uLiBTZWUgW1tlYXNlXV0uICBEZWZhdWx0cyB0byBsaW5lYXJcbiAqICAgaW4gd2hpY2ggY2FzZSwgbGluZWFyIGlzIGVxdWFsIHRvIGEgcmVndWxhciBsZXJwLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGFtcCh2YWx1ZTEsIHZhbHVlMiwgYW1vdW50LCBkYW1wKSB7XG4gICAgcmV0dXJuIGxlcnAodmFsdWUxLCB2YWx1ZTIsIDEgLSBNYXRoLmV4cCgtYW1vdW50ICogZGFtcCkpO1xufVxuLyoqXG4gKiBBbiBhbGlhcyBvZiBbW21hdGhmLmxlcnBFYXNlXV1cbiAqXG4gKiBUaGlzIGlzIGEgZ2VuZXJhbCBlYXNlIGZ1bmN0aW9uIHRoYXQgaXMgcHJldHR5IGhhbmR5IGZvciBhbmltYXRpb25zLlxuICpcbiAqIFRoaXMgaXMgYmFzaWNhbGx5IGEgd2F5IG9mIHNheWluZywgZ2l2ZW4gbXkgc3RhcnQgYW5kIGVuZCB2YWx1ZXMsIHdoYXQgaXMgdGhlXG4gKiB2YWx1ZSB3aGVuIGl0J3MgYXQgeCBwZXJjZW50IChwcm9ncmVzcykgd2l0aCBlYXNpbmcuXG4gKlxuICogVW5kZXIgdGhlIGhvb2QsIGl0IGlzIHNpbXBseSBhbiBhbGlhcyBvZiBbW21hdGhmLmxlcnBFYXNlXV0gd2hpY2ggaXNcbiAqIGVzc2VudGlhbGx5IGEgcmVndWxhciBsZXJwIGJ1dCBpdCBwYXNzZXMgdGhlIHByb2dyZXNzIHZhbHVlICgwLTEpIHRocm91Z2hcbiAqIGFuIGVhc2luZyBmdW5jdGlvbiBmaXJzdC5cbiAqXG4gKlxuICogVXNpbmcgbWF0aGYuZWFzZSwgeW91IGNhbiBwcmV0dHkgZWFzaWx5IGNhbGN1bGF0ZSBlYXNlcyBmb3IgbnVtYmVyaWMgdmFsdWVzLlxuICpcbiAqIFNheSBJIHdhbnRlZCB0byBhbmltYXRlIGEgYm94LnggcG9zaXRpb24gZnJvbSAwIC0gMTAwLlxuICogV2l0aG91dCBzcGVjaWZ5aW5nIGEgZWFzaW5nIGZ1bmN0aW9uLCB5b3Ugd2lsbCBqdXN0IGdldCBsaW5lYXIgaW50ZXJwb2xhdGlvbi5cbiAqXG4gKiBgYGBcbiAqIG1hdGhmLmVhc2UoMCwgMTAwLCAwKSAtLS0+IDBcbiAqIG1hdGhmLmVhc2UoMCwgMTAwLCAwLjMpIC0tLT4gMzBcbiAqIG1hdGhmLmVhc2UoMCwgMTAwLCAwLjUpIC0tLT4gNTBcbiAqIG1hdGhmLmVhc2UoMCwgMTAwLCAwLjkpIC0tLT4gOTBcbiAqIG1hdGhmLmVhc2UoMCwgMTAwLCAxKSAtLS0+IDEwMFxuICogYGBgXG4gKlxuICogTm93IGxldHMgdHJ5IHRoaXMgd2l0aCBlYXNpbmcuICBZb3UgY2FuIHNlZSB0aGUgcmV0dXJuZWQgdmFsdWVzIGJldHdlZW5cbiAqIDAgYW5kIDEgYXJlIGRpZmZlcmVudCB0aGFuIGEgbGluZWFyIGVhc2UuXG4gKlxuICogWW91IGNhbiBhbHNvIGNvbWJpbmUgd2l0aCBDdWJpY0Jlemllci5tYWtlRWFzaW5nRnVuY3Rpb24gb3IgYSBjYXRtdWxsLXJvbGwuXG4gKiBgYGBcbiAqIGltcG9ydCB7IEVBU0UsIG1hdGhmfSBmcm9tICdAYmxpbmtrL2RlZ3UnXG4gKiBtYXRoZi5lYXNlKDAsIDEwMCwgMCwgRUFTRS5lYXNlSW5FeHBvKSAgIC0tLT4gMFxuICogbWF0aGYuZWFzZSgwLCAxMDAsIDAuMywgRUFTRS5lYXNlSW5FeHBvKSAtLS0+IDAuMTk1MzEyNVxuICogbWF0aGYuZWFzZSgwLCAxMDAsIDAuNSwgRUFTRS5lYXNlSW5FeHBvKSAtLS0+IDMuMTI1XG4gKiBtYXRoZi5lYXNlKDAsIDEwMCwgMC45LCBFQVNFLmVhc2VJbkV4cG8pIC0tLT4gNzAuNzEwNjc4XG4gKiBtYXRoZi5lYXNlKDAsIDEwMCwgMSwgRUFTRS5lYXNlSW5FeHBvKSAtLS0+IDEwMFxuICpcbiAqXG4gKlxuICogaW1wb3J0IHsgQ3ViaWNCZXppZXIsIEVBU0UsIG1hdGhmfSBmcm9tICdAYmxpbmtrL2RlZ3UnXG4gKiBtYXRoZi5lYXNlKDAsIDEwMCwgMC4zLCBDdWJpY0Jlemllci5tYWtlRWFzaW5nRnVuY3Rpb24oMCwgMSwgMC43NSwgMC45KSkgLS0tPiAxMDBcbiAqXG4gKiBgYGBcbiAqXG4gKiBIb3cgY2FuIEkgdXNlIHRoaXMgd2l0aCBhbmltYXRpb25zP1xuICpcbiAqIFlvdSBjYW4gZWFzZSBvdXQgcG9zaXRpb25zLCBvcGFjaXR5IGV0YyBiYXNlZCBvbiBcInByb2dyZXNzXCIuXG4gKiBQcm9ncmVzcyBjYW4gYmUgdGltZSwgc2Nyb2xsIHBvc2l0aW9uLCBtb3VzZSBwb3NpdGlvbiBldGMgYnV0IGl0IG5lZWRzIHRvXG4gKiBiZSBub3JtYWxpemVkIHRvIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxLlxuICpcbiAqIFNlZSBleGFtcGxlcyBvZiB0aGlzIGluIFtbUmFmVGltZXJdXSB3aGVyZSB0aGVyZSBpcyBhIGRlbW8gb2YgZWFzaW5nIGFuXG4gKiBlbGVtZW50IGZvciBhIHNldCBkdXJhdGlvbi5cbiAqXG4gKiBGb3IgYW4gZXhtYXBsZSB3aGVyZSB5b3UgbWF5IHdhbnQgdG8gdGllIGVhc2Ugd2l0aCB3aW5kb3cuc2Nyb2xsIG9yIGFub3RoZXJcbiAqIGlucHV0IHJlcHJlc2VudGVkIGJ5IGEgbm9ybWFsaXplZCB2YWx1ZS8gcHJvZ3Jlc3MgKGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMSlpXG4gKiBzZWUgbWF0aGYtZWFzZS5odG1sIGluIHRoZSAvZXhhbXBsZXMgZm9sZGVyIHdoZXJlIHRoZXJlIGlzIGVsZW1lbnQgYW5kXG4gKiBwcm9ncmVzcyBsZXZlbCBlYXNpbmcgdG8gc21vb3RoXG4gKiBpbnRlcmFjdGlvbi5cbiAqXG4gKiBBbHNvIHJlbGF0ZWQgaXMgW1tJbnRlcnBvbGF0ZV1dLlxuICpcbiAqIEBhbGlhc1xuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UgdG8gbGVycC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIHRhcmdldCBvZiB0aGUgcmFuZ2UgdG8gbGVycC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBwcm9ncmVzcyBBIHZhbHVlIGJldHdlZW4gMC0xIHJlcHJlc2VudGluZyB0aGUgcHJvZ3Jlc3Mgb2YgdGhlXG4gKiAgICAgbGVycC5cbiAqIEBwYXJhbSBlYXNlRnVuY3Rpb24gQW4gZWFzaW5nIGZ1bmN0aW9uLiBTZWUgW1tlYXNlXV1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhc2Uoc3RhcnQsIGVuZCwgcHJvZ3Jlc3MsIGVhc2VGdW5jdGlvbiA9IEVBU0UubGluZWFyKSB7XG4gICAgcmV0dXJuIGxlcnBFYXNlKHN0YXJ0LCBlbmQsIHByb2dyZXNzLCBlYXNlRnVuY3Rpb24pO1xufVxuLyoqXG4gKiBXcmFwcyBhIGdpdmVuIG51bWJlciBiZXR3ZWVuIHR3byB2YWx1ZXMuXG4gKlxuICogYGBgdHNcbiAqXG4gKiBtYXRoZi53cmFwKGFuZ2xlLCAwLCAzNjApOyAgLy8gV3JhcCBiZXR3ZWVuIDAgYW5kIDM2MCBkZWdyZXNzXG4gKiBtYXRoZi53cmFwKGFuZ2xlLCAtOTAsIDkwKTsgLy8gV3JhcCBiZXR3ZWVuIC05MCBhbmQgOTAgZGVncmVzc1xuICpcbiAqXG4gKiBtYXRoZi53cmFwKDE1LCAwLCAxMCk7IC8vIFdyYXAgYmV0d2VlbiAwIGFuZCAxMCAtLT4gcmVzdWx0IDVcbiAqIG1hdGhmLndyYXAoNDAwLCAwLCAzNjApOyAvLyAtLT4gcmVzdWx0IDQwXG4gKiBtYXRoZi53cmFwKDEyMCwgLTkwLCA5MCk7IC8vIC0tPiAtNjBcbiAqXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdmFsdWVcbiAqIEBwYXJhbSBtaW5cbiAqIEBwYXJhbSBtYXhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyYXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gICAgY29uc3QgZGlmZiA9IG1heCAtIG1pbjtcbiAgICByZXR1cm4gbWluICsgKCgoKHZhbHVlIC0gbWluKSAlIGRpZmYpICsgZGlmZikgJSBkaWZmKTtcbn1cbi8qKlxuICogR2l2ZW4gdHdvIGJveGVzIG9mIGRpZmZlcmVudCBhc3BlY3QgcmF0aW9zLFxuICogY2FsY3VsYXRlcyB0aGUgdmFsdWVzIGluIG9yZGVyIHRvIG1ha2UgdGhlIGNoaWxkIGNvdmVyIHRoZSBwYXJlbnQuXG4gKiBUaGlzIGFjdHMgc2ltaWxhciB0byBiYWNrZ3JvdW5kOiBjb3ZlciBvZiBjc3MuXG4gKlxuICogSW1hZ2luZSB0aGUgZm9sbG93aW5nOlxuICogYGBgXG4gKiAtLS0tLS0tcC0tLS0tLS0tXG4gKiB8ICAgICAgICAgICAgICAgfFxuICogfCAgIC0tLS0tICAgICAgIHxcbiAqIHwgICB8IEMgIHwgICAgICB8XG4gKiB8ICAgLS0tLS0gICAgICAgfFxuICogfCAgICAgICAgICAgICAgIHxcbiAqIC0tLS0tLS0tLS0tLS0tLS0tXG4gKiBgYGBcbiAqXG4gKiBUaGlzIGNhc2UsIGMgd291bGQgaGF2ZSB0byBzY2FsZSB1cCB0byBjb3ZlciB0aGVcbiAqIHBhcmVudC4gIEl0IHdvdWxkIHJldHVybiBzb21ldGhpbmcgbGlrZTpcbiAqXG4gKiAtIHdpZHRoOiBXaGF0IHRoZSBjaGlsZCB3aWR0aCBzaG91bGQgYmVcbiAqIC0gaGVpZ2h0OiBXaGF0IHRoZSBjaGlsZCBoZWlnaHQgc2hvdWxkIGJlXG4gKiAtIHhPZmZzZXQ6IFRoZSBBbW91bnQgdG8gb2Zmc2V0IHggYnkgaW4gb3JkZXIgdG8gY2VudGVyLlxuICogLSB5T2Zmc2V0OiBUaGUgQW1vdW50IHRvIG9mZnNldCB5IGJ5IGluIG9yZGVyIHRvIGNlbnRlci5cbiAqIC0gc2NhbGFyOiBUaGUgYW1vdW50IHRvIHNjYWxlXG4gKlxuICpcbiAqIE5vdGUgb24geE9mZnNldCBhbmQgeU9mZnNldCwgdGhpcyBhbGdvIGFzc3VtZXMgdGhhdCB0aGUgY2hpbGQgd2lsbCBzY2FsZVxuICogZnJvbSB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSBib3ggYW5kIGlzIHBvc2l0aW9uZWQgdG8gdGhlIHRvcCBsZWZ0LlxuICpcbiAqIEBwYXJhbSB7ZGltZW5zaW9uYWxCb3h9IHBhcmVudEJveCBUaGUgcGFyZW50IGVsZW1lbnQgZGltZW5zaW9uc1xuICogQHBhcmFtIHtkaW1lbnNpb25hbEJveH0gY2hpbGRCb3ggVGhlIGNoaWxkIGVsbWVudCBkaW1lbnNpb25zXG4gKiBAcmV0dXJuIHtiYWNrZ3JvdW5kQ292ZXJCb3h9IGJhY2tncm91bmRDb3ZlckJveCBUaGUgZGltZW5zaW9ucyByZXF1aXJlZCB0b1xuICogICAgIHRyYW5zZm9ybSB0aGUgY2hpbGQgZWxlbWVudCB0byBiYWNrZ3JvdW5kIGNvdmVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlQmFja2dyb3VuZENvdmVyKHBhcmVudEJveCwgY2hpbGRCb3gpIHtcbiAgICBjb25zdCBwYXJlbnRSYXRpbyA9IGFzcGVjdFJhdGlvKHBhcmVudEJveCk7XG4gICAgY29uc3QgY2hpbGRSYXRpbyA9IGFzcGVjdFJhdGlvKGNoaWxkQm94KTtcbiAgICBsZXQgZmluYWxXaWR0aDtcbiAgICBsZXQgZmluYWxIZWlnaHQ7XG4gICAgbGV0IHNjYWxlO1xuICAgIGlmIChjaGlsZFJhdGlvID49IHBhcmVudFJhdGlvKSB7XG4gICAgICAgIGZpbmFsSGVpZ2h0ID0gcGFyZW50Qm94LmhlaWdodDtcbiAgICAgICAgc2NhbGUgPSBwYXJlbnRCb3guaGVpZ2h0IC8gY2hpbGRCb3guaGVpZ2h0O1xuICAgICAgICBmaW5hbFdpZHRoID0gY2hpbGRCb3gud2lkdGggKiBzY2FsZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZpbmFsV2lkdGggPSBwYXJlbnRCb3gud2lkdGg7XG4gICAgICAgIHNjYWxlID0gcGFyZW50Qm94LndpZHRoIC8gY2hpbGRCb3gud2lkdGg7XG4gICAgICAgIGZpbmFsSGVpZ2h0ID0gY2hpbGRCb3guaGVpZ2h0ICogc2NhbGU7XG4gICAgfVxuICAgIGNvbnN0IGZpbmFsU2NhbGUgPSBNYXRoLm1heChmaW5hbFdpZHRoIC8gY2hpbGRCb3gud2lkdGgsIGZpbmFsSGVpZ2h0IC8gY2hpbGRCb3guaGVpZ2h0KTtcbiAgICAvLyBQb3NpdGlvbiB0byB2ZXJ0aWNhbCBib3R0b20uXG4gICAgY29uc3Qgb2Zmc2V0SGVpZ2h0ID0gYWJzWmVybygtTWF0aC5yb3VuZCgocGFyZW50Qm94LmhlaWdodCAtIGZpbmFsSGVpZ2h0KSAvIDIpKTtcbiAgICAvLyBQb3NpdGlvbiB0byBob3Jpem9udGFsIGNlbnRlci5cbiAgICBjb25zdCBvZmZzZXRXaWR0aCA9IGFic1plcm8oLU1hdGgucm91bmQoKHBhcmVudEJveC53aWR0aCAtIGZpbmFsV2lkdGgpIC8gMikpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKGZpbmFsV2lkdGgpLFxuICAgICAgICBoZWlnaHQ6IE1hdGgucm91bmQoZmluYWxIZWlnaHQpLFxuICAgICAgICB4T2Zmc2V0OiBvZmZzZXRXaWR0aCxcbiAgICAgICAgeU9mZnNldDogb2Zmc2V0SGVpZ2h0LFxuICAgICAgICBzY2FsYXI6IGZpbmFsU2NhbGUsXG4gICAgfTtcbn1cbi8qKlxuICogR2l2ZW4gdHdvIGJveGVzIG9mIGRpZmZlcmVudCBzaXplcyBjYWxjdWxhdGVzIHRoZSBhbW91bnQgdGhhdCB0aGUgY2hpbGRCb3hcbiAqIHdvdWxkIG5lZWQgdG8gc2NhbGUgaW4gb3JkZXIgdG8gbWltaWMgdGhlIGJhY2tncm91bmQ6Y29udGFpbiBlZmZlY3QgaW4gaHRtbC5cbiAqXG4gKiBJbWFnaW5lIHRoZSBmb2xsb3dpbmc6XG4gKiBgYGBcbiAqIC0tLS0tLS1wLS0tLS0tLS1cbiAqIHwgICAgICAgICAgICAgICB8XG4gKiB8ICAgLS0tLS0gICAgICAgfFxuICogfCAgIHwgQyAgfCAgICAgIHxcbiAqIHwgICAtLS0tLSAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgfFxuICogLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGBgYFxuICpcbiAqIFRoaXMgY2FzZSwgYyB3b3VsZCBoYXZlIHRvIHNjYWxlIHVwIHRvIGNvdmVyIHRoZVxuICogcGFyZW50LiAgICAgIFRoaXMgbWV0aG9kIHdvdWxkIHJldHVybiB0aGUgYW1vdW50IHRoYXQgQyBuZWVkcyB0byBzY2FsZVxuICogKHVwIG9yIGRvd24pLlxuICpcbiAqIFNpbmNlIHRoaXMgaXMgY29udGFpbiwgYXBwbHlpbmcgdGhlIHNjYWxlIHZhbHVlIHRvIHRoZSBjaGlsZCB3b3VsZCBuZXZlclxuICogZXhjZWVkIHRoZSB3aWR0aCBvciBoZWlnaHQgb2YgdGhlIHBhcmVudCAobm8gYmxlZWRpbmcpLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCBhc3N1bWVzIHRoYXQgdGhlIGNoaWxkIGlzIGFic29sdXRlbHkgY2VudGVyZWQgYWdhaW5zdFxuICogdGhlIHBhcmVudC5cbiAqXG4gKiBgYGB0c1xuICogcGFyZW50Qm94ID0geyB3aWR0aDogMTAwLCBoZWlnaHQ6IDEwMCB9O1xuICogY2hpbGRCb3ggPSB7IHdpZHRoOiAyMDAsIGhlaWdodDogMTAwIH07XG4gKiBtYXRoZi5jYWxjdWxhdGVCYWNrZ3JvdW5kQ29udGFpbihwYXJlbnRCb3gsIGNoaWxkQm94KSAvLyByZXR1cm4gMC41LlxuICpcbiAqXG4gKiBwYXJlbnRCb3ggPSB7IHdpZHRoOiA1MDAsIGhlaWdodDogNTAwIH07XG4gKiBjaGlsZEJveCA9IHsgd2lkdGg6IDUwLCBoZWlnaHQ6IDUwIH07XG4gKiBtYXRoZi5jYWxjdWxhdGVCYWNrZ3JvdW5kQ29udGFpbihwYXJlbnRCb3gsIGNoaWxkQm94KSAvLyByZXR1cm4gMTBcbiAqXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gcGFyZW50Qm94XG4gKiBAcGFyYW0gY2hpbGRCb3hcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUJhY2tncm91bmRDb250YWluKHBhcmVudEJveCwgY2hpbGRCb3gpIHtcbiAgICBjb25zdCBoZWlnaHRTY2FsZSA9IHBhcmVudEJveC5oZWlnaHQgLyBjaGlsZEJveC5oZWlnaHQ7XG4gICAgY29uc3Qgd2lkdGhTY2FsZSA9IHBhcmVudEJveC53aWR0aCAvIGNoaWxkQm94LndpZHRoO1xuICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4oaGVpZ2h0U2NhbGUsIHdpZHRoU2NhbGUpO1xuICAgIHJldHVybiBzY2FsZTtcbn1cbi8qKlxuICogSW1wbGVtZW50cyBhc3ltcG90aWMgYXZlcmFnZSB3aGljaCBpcyBhbiBhZGRpdGl2ZSBhdmVyYWdlLlxuICogQmFzaWNhbGx5IHNheXMsIGdpdmVuIHRoZSBjdXJyZW50IHZhbHVlLCBjYXRjaCB1cCB0byB0aGUgdGFyZ2V0IGJ5IFglIGV2ZXJ5XG4gKiBmcmFtZS5cbiAqXG4gKiBUaGlzIGlzIHNpbWlsYXIgdG8gbGVycCBidXQgcmVzcGVjdHMgdGhlIGxhc3QgZ2l2ZW4gYW1vdW50IHRoZSBtb3N0IHdoaWNoXG4gKiByZXN1bHRzIGluIGEgc21vb3RoIHJlc3BvbnNlIHRvIHN1ZGRlbiBqdW1wcyBpbiB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuXG4gKiBjdXJyZW50IGFuZCB0YXJnZXQuXG4gKlxuICogVGhpcyBjYW4gYmUgdXNlZCBmb3IgdGhpbmdzIGxpa2UgY2FtZXJhIG1vdmVtZW50IG9yIHNjcm9sbCBtb3ZlbWVudCB3aGVyZVxuICogc3VkZGVuIGplcmtzIGluIG1vdmVtZW50IGNhbiBoYXBwZW4uXG4gKlxuICogYGBgXG4gKiBvblJhZigpIHtcbiAqICAgIC8vIFVwZGF0ZSB0YXJnZXQgdmFsdWUuXG4gKiAgICB0YXJnZXRWYWx1ZSA9IHRoaXMudmFsdWUgKyAodGhpcy5tb3VzZUlucHV0WCAqIDMwKTtcbiAqICAgIC8vIFVwZGF0ZSB0aGUgY3VycmVudCB2YWx1ZSB0byB0aGUgdGFyZ2V0IHZhbHVlIGJ5IDMwJS5cbiAqICAgIHRoaXMudmFsdWUgPSBtYXRoZi5hc3ltcHRvdGljQXZlcmFnZSh0aGlzLnZhbHVlLCB0YXJnZXRWYWx1ZSwgMC4zKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBjdXJyZW50XG4gKiBAcGFyYW0gdGFyZ2V0XG4gKiBAcGFyYW0gYW1vdW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3ltcHRvdGljQXZlcmFnZShjdXJyZW50LCB0YXJnZXQsIGFtb3VudCkge1xuICAgIHJldHVybiAoY3VycmVudCArPSAodGFyZ2V0IC0gY3VycmVudCkgKiBhbW91bnQpO1xufVxuLyoqXG4gKiBJbXBsZW1lbnRzIGJhc2ljIHNtb290aCBzdGFydC4gIFNlZSBFQVNFIGZvciBtb3JlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc21vb3RoU3RhcnQyKHQpIHtcbiAgICByZXR1cm4gdCAqIHQ7XG59XG4vKipcbiAqIEltcGxlbWVudHMgYmFzaWMgc21vb3RoIHN0b3AuICBTZWUgRUFTRSBmb3IgbW9yZS5cbiAqL1xuZnVuY3Rpb24gc21vb3RoU3RvcDIodCkge1xuICAgIHJldHVybiAxIC0gKDEgLSB0KSAqICgxIC0gdCk7XG59XG4vKipcbiAqIEltcGxlbWVudHMgYmFzaWMgc21vb3RoIHN0YXJ0LiAgU2VlIEVBU0UgZm9yIG1vcmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzbW9vdGhTdGFydDModCkge1xuICAgIHJldHVybiB0ICogdCAqIHQ7XG59XG4vKipcbiAqIEltcGxlbWVudHMgYmFzaWMgc21vb3RoIHN0b3AuICBTZWUgRUFTRSBmb3IgbW9yZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNtb290aFN0b3AzKHQpIHtcbiAgICByZXR1cm4gMSAtICgxIC0gdCkgKiAoMSAtIHQpICogKDEgLSB0KTtcbn1cbi8qKlxuICogQmFzaWMgc21vb3RoIHN0ZXAyIGFsbG93aW5nIHlvdSB0byBzcGVjaWZ5IHRoZSBncmFkaWVudCBiZXR3ZWVuXG4gKiBzbW9vdGhzdGFydCBhbmQgc21vb3Roc3RvcCB3aXRoIG1peCB2YWx1ZS5cbiAqIEBwYXJhbSB2YWx1ZVxuICogQHBhcmFtIG1peFxuICogQHBhcmFtIHRcbiAqXG4gKiBgYGBcbiAqICAgdmFsdWUgPSBtYXRoZi5zbW9vdGhTdGVwMih2YWx1ZSwgMC41LCB0KTtcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gc21vb3RoU3RlcDIodmFsdWUsIG1peCwgdCkge1xuICAgIHJldHVybiBsZXJwKHNtb290aFN0YXJ0Mih2YWx1ZSksIHNtb290aFN0b3AyKHZhbHVlKSwgbWl4KSAqIHQ7XG59XG4vKipcbiAqIEJhc2ljIHNpZ21vaWQgZnVuY3Rpb24gd2l0aCBvcHRpb24gdG8gbW92ZSB0aGUgbWl4IHZhbHVlLlxuICogTWl4IHZhbHVlIG9mIDAgbWl4ZXMgdG8gc21vb3Roc3RhcnQuIDEgbWl4ZXMgdG8gc21vb3Roc3RvcC5cbiAqIEEgY2xlYW4gc2lnbW9pZGlzaCBjdXJ2ZSB3b3VkIGJlIDAuNS5cbiAqXG4gKiBCYXNlZCBvbiBzbW9vdGhTdGVwMiBjdXJ2ZXMuXG4gKiBAcGFyYW0gdmFsdWVcbiAqIEBwYXJhbSBtaXhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpZ21vaWQodmFsdWUsIG1peCkge1xuICAgIHJldHVybiBzbW9vdGhTdGVwMih2YWx1ZSwgbWl4LCB2YWx1ZSk7XG59XG4vKipcbiBDcmVhdGVzIGEgYmFzaWMgcmVtYXAuXG5cbiBMZXQncyBzYXkgeW91IHdhbnQgdG8gbWFrZSBhIGNvbG9yIGJhciBnbyBmcm9tIDIwLCA1MFxuIHdoZW4geW91ciBoZWFsdGggZ29lcyBmcm9tIDAsIDEwMC5cblxuYGBgXG4gbWF0aGYucmVtYXAoMjAsIDUwLCAwLCAxMDAsIGhlYWx0aCk7ICAtLT4gb3V0cHV0IGEgdmFsdWUgYmV0d2VlbiAyMC01MCBiYXNlZCBvbiBoZWFsdGguXG4gYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1hcChtaW5BLCBtYXhBLCBtaW5CLCBtYXhCLCB2YWx1ZUIpIHtcbiAgICBjb25zdCB0ID0gaW52ZXJzZUxlcnAobWluQiwgbWF4QiwgdmFsdWVCKTtcbiAgICByZXR1cm4gbGVycChtaW5BLCBtYXhBLCB0KTtcbn1cbi8qKlxuICogVG90YWwvc3VtL2FkZC11cCB0aGUgZ2l2ZW4gdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VtKHZhbHVlcykge1xuICAgIHJldHVybiB2YWx1ZXMucmVkdWNlKChyZXN1bHQsIHZhbHVlKSA9PiByZXN1bHQgKyB2YWx1ZSwgMCk7XG59XG4vKipcbiAqIERlZ3UgTWF0aCB1dGlsaXR5IGZ1bmN0aW9ucy5cbiAqL1xuZXhwb3J0IGNvbnN0IG1hdGhmID0ge1xuICAgIGFic1plcm8sXG4gICAgYW5nbGVEZWdyZWUsXG4gICAgYW5nbGVEaXN0YW5jZURlZ3JlZSxcbiAgICBhbmdsZURpc3RhbmNlUmFkaWFuLFxuICAgIGFuZ2xlUmFkaWFucyxcbiAgICBhc3BlY3RSYXRpbyxcbiAgICBhc3ltcHRvdGljQXZlcmFnZSxcbiAgICBib3hDb2xsaXNpb24sXG4gICAgY2FsY3VsYXRlMmRQb2ludFJvdGF0aW9uLFxuICAgIGNhbGN1bGF0ZTJkUG9pbnRSb3RhdGlvbldpdGhEaXN0YW5jZSxcbiAgICBjYWxjdWxhdGVCYWNrZ3JvdW5kQ29udGFpbixcbiAgICBjYWxjdWxhdGVCYWNrZ3JvdW5kQ292ZXIsXG4gICAgY2FsY3VsYXRlQ2VudGVyT2Zmc2V0LFxuICAgIGNlaWxUb1ByZWNpc2lvbixcbiAgICBjaGlsZFByb2dyZXNzLFxuICAgIGNsYW1wLFxuICAgIGNsYW1wMDEsXG4gICAgY2xhbXBBc1BlcmNlbnQsXG4gICAgY2xhbXBBc1Byb2dyZXNzLFxuICAgIGNvbGxpc2lvbkNpcmNWc0JveCxcbiAgICBjb2xsaXNpb25Qb2ludFZlcnN1c0NvbnZleFBvbHlnb24sXG4gICAgZGFtcCxcbiAgICBkZWdyZWVUb1JhZGlhbixcbiAgICBkaXJlY3Rpb24sXG4gICAgZGlzdGFuY2UsXG4gICAgZWFzZSxcbiAgICBmaXhEaWdpdHMsXG4gICAgZmxpcENvaW4sXG4gICAgZmxvb3JUb1ByZWNpc2lvbixcbiAgICBnZW5lcmF0ZVJhbmRvbVBvaW50cyxcbiAgICBnZXRQcm9ncmVzc0luUmFuZ2VCeVZhbHVlLFxuICAgIGdldFJhbmRvbUZsb2F0LFxuICAgIGdldFJhbmRvbUludCxcbiAgICBnZXRVbmlxdWVSYW5kb21JbnQsXG4gICAgZ2V0VmFsdWVJblJhbmdlQnlQcm9ncmVzcyxcbiAgICBpbnQsXG4gICAgaW50MCxcbiAgICBpbnRlcnBvbGF0ZVJhbmdlLFxuICAgIGludmVyc2VMZXJwLFxuICAgIGludmVyc2VQcm9ncmVzcyxcbiAgICBpc0JldHdlZW4sXG4gICAgbGVycCxcbiAgICBsZXJwRWFzZSxcbiAgICBtaXgsXG4gICAgbm9ybWFsaXplLFxuICAgIHJhZGlhblRvRGVncmVlLFxuICAgIHJlbWFwLFxuICAgIHJlc2l6ZURpbWVuc2lvbmFsQm94VG9IZWlnaHQsXG4gICAgcmVzaXplRGltZW5zaW9uYWxCb3hUb1dpZHRoLFxuICAgIHJvdW5kVG9QcmVjaXNpb24sXG4gICAgc2NhbGVYLFxuICAgIHNjYWxlWSxcbiAgICBzaWdtb2lkLFxuICAgIHNpbk5vcm1hbGl6ZWQsXG4gICAgc21vb3RoU3RhcnQyLFxuICAgIHNtb290aFN0YXJ0MyxcbiAgICBzbW9vdGhTdGVwLFxuICAgIHNtb290aFN0ZXAyLFxuICAgIHNtb290aFN0b3AyLFxuICAgIHNtb290aFN0b3AzLFxuICAgIHN0ZXAsXG4gICAgc3VtLFxuICAgIHRvRml4ZWQsXG4gICAgd3JhcCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRoZi5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/mathf/mathf.js\n");

/***/ }),

/***/ "./lib/mathf/matrixIV.js":
/*!*******************************!*\
  !*** ./lib/mathf/matrixIV.js ***!
  \*******************************/
/*! exports provided: MatrixIV */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MatrixIV\", function() { return MatrixIV; });\n/* harmony import */ var _vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vector */ \"./lib/mathf/vector.js\");\n\n/**\n * A 4 four dimensional homogenous matrix class.\n *\n * See examples in /examples for uses of matrix.\n *\n * ```\n * // Creates a new matrix.  Default matrix is set to identity.\n * let matrixA = new MatrixIV();\n *\n * matrixA.translateXyz(20, 30, 40);\n *\n *\n * // Creates an identity matrix.\n * let matrixB = MatrixIV.IDENTITY;\n *\n * // Rotate it on the Z axis by 90 degrees.\n * matrixB.scale(90 * Math.PI / 180, new Vector(0,0, 1));\n *\n * ```\n *\n * Referenced:\n * @see http://www.opengl-tutorial.org/beginners-tutorials/tutorial-3-matrices/\n * @see https://github.com/doxas/minMatrix.js/blob/master/minMatrix.js\n * @see https://github.com/photonstorm/phaser/blob/v3.17.0/src/math/Matrix4.js\n * @see https://www.youtube.com/channel/UCEhBM2x5MG9-e_JSOzU068w\n * @see https://www.useragentman.com/blog/2011/01/07/css3-matrix-transform-for-the-mathematically-challenged/\n * @see https://github.com/toji/gl-matrix\n * @see https://github.com/adragonite/math3d/blob/master/src/Matrix4x4.js\n * @see https://github.com/mrdoob/three.js/blob/master/src/math/Matrix4.js\n *\n * @unstable\n */\nclass MatrixIV {\n    constructor(matrix) {\n        this.value = new Float32Array(16);\n        this.identity();\n        // If matrix was provided, copy it, otherwise, create\n        // an identity default matrix.\n        if (matrix) {\n            this.copy(matrix);\n        }\n        else {\n            this.identity();\n        }\n    }\n    /**\n     * Sets this matrix to a default identity matrix.\n     */\n    identity() {\n        this.value[0] = 1;\n        this.value[1] = 0;\n        this.value[2] = 0;\n        this.value[3] = 0;\n        this.value[4] = 0;\n        this.value[5] = 1;\n        this.value[6] = 0;\n        this.value[7] = 0;\n        this.value[8] = 0;\n        this.value[9] = 0;\n        this.value[10] = 1;\n        this.value[11] = 0;\n        this.value[12] = 0;\n        this.value[13] = 0;\n        this.value[14] = 0;\n        this.value[15] = 1;\n        return this;\n    }\n    /**\n     * Sets this matrix to have all 0 value.\n     */\n    zero() {\n        this.value[0] = 0;\n        this.value[1] = 0;\n        this.value[2] = 0;\n        this.value[3] = 0;\n        this.value[4] = 0;\n        this.value[5] = 0;\n        this.value[6] = 0;\n        this.value[7] = 0;\n        this.value[8] = 0;\n        this.value[9] = 0;\n        this.value[10] = 0;\n        this.value[11] = 0;\n        this.value[12] = 0;\n        this.value[13] = 0;\n        this.value[14] = 0;\n        this.value[15] = 0;\n        return this;\n    }\n    /**\n     * Clones this matrix.\n     *\n     * ```ts\n     * let m = myMatrix.clone();  // m is now a new clone of myMatrix.\n     * ```\n     */\n    clone() {\n        return new MatrixIV(this);\n    }\n    /**\n     * Copies the values of another matrix into this matrix.\n     *\n     * ```ts\n     * matrixA.copy(matrixB) // Now matrixA has the values of matrixB.\n     * ```\n     * @param {MatrixIV} matrixIV\n     */\n    copy(matrix4) {\n        this.value = matrix4.value.slice(0);\n        return this;\n    }\n    /**\n     * Fills a specific column of this matrix with a vector values.\n     *\n     * ```\n     *\n     * For example, passing 2 as the column would:\n     * [\n     *   1,  0,  x,  0\n     *   0,  1,  y,  0,\n     *   0,  0,  z,  0,\n     *   0,  0,  0,  1\n     * ]\n     *\n     * ```\n     * This is useful to create a basis matrix.  Below is a 4x4\n     * matrix constructed of up, right and forward vectors.\n     *\n     * ```ts\n     *\n     *   let up = new Vector(0, 50);\n     *   let right = new Vector(50, 0);\n     *   let forward = Vector.ONE.cross(up);\n     *   let basisMatrix = new MatrixIV();\n     *   basisMatrix.setVectorColumn(0, right);\n     *   basisMatrix.setVectorColumn(1, up);\n     *   basisMatrix.setVectorColumn(2, foward);\n     *\n     * ```\n     *\n     * @param column The column number to fill.  A value between 0 and 3.\n     * @param vector The vector to set.\n     */\n    setVectorColumn(column, v) {\n        this.value[1 * column] = v.x;\n        this.value[1 * column + 4] = v.y;\n        this.value[1 * column + 8] = v.z;\n    }\n    /**\n     * Scales this matrix given x, y, z values.\n     *\n     * ```ts\n     * myMatrix.scaleXyz(0.5, 0.5, 0.5);\n     * ```\n     *\n     * @param x\n     * @param y\n     * @param z\n     * @return {MatrixIV}\n     */\n    scaleXyz(x, y, z) {\n        this.value[0] = this.value[0] * x;\n        this.value[1] = this.value[1] * x;\n        this.value[2] = this.value[2] * x;\n        this.value[3] = this.value[3] * x;\n        this.value[4] = this.value[4] * y;\n        this.value[5] = this.value[5] * y;\n        this.value[6] = this.value[6] * y;\n        this.value[7] = this.value[7] * y;\n        this.value[8] = this.value[8] * z;\n        this.value[9] = this.value[9] * z;\n        this.value[10] = this.value[10] * z;\n        this.value[11] = this.value[11] * z;\n        return this;\n    }\n    /**\n     * Apply a scale transformation to this matrix given a scale vector.\n     *\n     * ```ts\n     * myMatrix.scale(new Vector(0.5, 0.5, 0.5));\n     * ```\n     *\n     * @param v {Vector} The vector to scale this matrix.\n     * @return {MatrixIV}\n     */\n    scale(v) {\n        return this.scaleXyz(v.x, v.y, v.z);\n    }\n    /**\n     * Translates this matrix given the values.\n     *\n     * ```ts\n     * myMatrix.translateXyz(10, 20, 0));\n     * ```\n     * @param x\n     * @param y\n     * @param z\n     */\n    translateXyz(x, y, z) {\n        this.value[12] =\n            this.value[0] * x +\n                this.value[4] * y +\n                this.value[8] * z +\n                this.value[12];\n        this.value[13] =\n            this.value[1] * x +\n                this.value[5] * y +\n                this.value[9] * z +\n                this.value[13];\n        this.value[14] =\n            this.value[2] * x +\n                this.value[6] * y +\n                this.value[10] * z +\n                this.value[14];\n        this.value[15] =\n            this.value[3] * x +\n                this.value[7] * y +\n                this.value[11] * z +\n                this.value[15];\n        return this;\n    }\n    /**\n     * Apply a translation.\n     *\n     * ```ts\n     * myMatrix.translate(new Vector(1, 1, 1));\n     * ```\n     */\n    translate(v) {\n        return this.translateXyz(v.x, v.y, v.z);\n    }\n    /**\n     * Converts the current 4x4 matrix over to a css 3d matrix translation string.\n     *\n     * ```\n     *\n     * [\n     * a1 a2 a3 a4\n     * b1 b2 b3 b4\n     * c1 c2 c3 c4\n     * d1 d2 d3 d4\n     * ]\n     * = matrix3d(a1, b1, c1, d1, a2, b2, c2, d2, a3, b3, c3, d3, a4, b4, c4, d4)\n     * ```\n     *\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix3d\n     */\n    toCss3dMatrix() {\n        const a1 = this.value[0];\n        const a2 = this.value[1];\n        const a3 = this.value[2];\n        const a4 = this.value[3];\n        const b1 = this.value[4];\n        const b2 = this.value[5];\n        const b3 = this.value[6];\n        const b4 = this.value[7];\n        const c1 = this.value[8];\n        const c2 = this.value[9];\n        const c3 = this.value[10];\n        const c4 = this.value[11];\n        const d1 = this.value[12];\n        const d2 = this.value[13];\n        const d3 = this.value[14];\n        const d4 = this.value[15];\n        return `matrix3d(${a1}, ${b1}, ${c1}, ${d1}, ${a2}, ${b2},\n            ${c2}, ${d2}, ${a3}, ${b3}, ${c3}, ${d3}, ${a4}, ${b4}, ${c4}, ${d4})`;\n    }\n    /**\n     * Multiply the current matrix with another.\n     *\n     * ```ts\n     * matrixA.multiply(matrixB); // Now value of matrixA is multiplied with B.\n     *\n     * matrixC = matrixA.clone().multiply(matrixB); // matrixC is product.\n     * ```\n     * @param mat\n     */\n    multiply(mat) {\n        const a00 = this.value[0];\n        const a01 = this.value[1];\n        const a02 = this.value[2];\n        const a03 = this.value[3];\n        const a10 = this.value[4];\n        const a11 = this.value[5];\n        const a12 = this.value[6];\n        const a13 = this.value[7];\n        const a20 = this.value[8];\n        const a21 = this.value[9];\n        const a22 = this.value[10];\n        const a23 = this.value[11];\n        const a30 = this.value[12];\n        const a31 = this.value[13];\n        const a32 = this.value[14];\n        const a33 = this.value[15];\n        const b = mat.value;\n        let b0 = b[0];\n        let b1 = b[1];\n        let b2 = b[2];\n        let b3 = b[3];\n        this.value[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n        this.value[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n        this.value[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n        this.value[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n        b0 = b[4];\n        b1 = b[5];\n        b2 = b[6];\n        b3 = b[7];\n        this.value[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n        this.value[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n        this.value[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n        this.value[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n        b0 = b[8];\n        b1 = b[9];\n        b2 = b[10];\n        b3 = b[11];\n        this.value[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n        this.value[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n        this.value[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n        this.value[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n        b0 = b[12];\n        b1 = b[13];\n        b2 = b[14];\n        b3 = b[15];\n        this.value[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n        this.value[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n        this.value[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n        this.value[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n        return this;\n    }\n    /**\n     * Multiplies this 4x4 matrix by a 4x1 matrix.  This results in\n     * returning the results as a 4x1 matrix.\n     *\n     * ```\n     *     4x4 Matrix         4x1 (Vector)\n     *      a, b, c, d               x      = ax + by + cz + dw\n     *      e, f, g, h     x         y      = ex + fy + gz + hw\n     *      i, j, k, l               z      = ix + jy + kz + lw\n     *     m,  n,  o, p              w      = mx + ny + oz + pw\n     * ```\n     *\n     * @param x\n     * @param y\n     * @param z\n     * @param w Use 1 for positions and 0 for direction.\n     */\n    multiplyBy4x1(x, y, z, w = 1) {\n        const a = this.value;\n        return [\n            a[0] * x + a[1] * y + a[2] * z + a[3] * w,\n            a[4] * x + a[5] * y + a[6] * z + a[7] * w,\n            a[8] * x + a[9] * y + a[10] * z + a[11] * w,\n            a[12] * x + a[13] * y + a[14] * z + a[15] * w,\n        ];\n    }\n    /**\n     * Multiplies this matrix by a vector that is converted to a 4x1.  Returns\n     * a vector that was converted from the resulting 4x1.\n     *\n     * ```\n     *     Basis Matrix         4x1 (Vector)\n     *      a, b, c, d               x\n     *      e, f, g, h     x         y\n     *      i, j, k, l               z\n     *     m,  n,  o, p              w\n     *\n     * ```\n     *\n     * ```ts\n     *\n     *   let up = new Vector(0, 50);\n     *   let right = new Vector(50, 0);\n     *   let forward = Vector.ONE.cross(up);\n     *   let basisMatrix = new MatrixIV();\n     *   basisMatrix.setVectorColumn(0, right);\n     *   basisMatrix.setVectorColumn(1, up);\n     *   basisMatrix.setVectorColumn(2, forward);\n     *\n     *   let p0 = new Vector(-1, -1);\n     *   let p1 = new Vector(1, -1);\n     *   let p2 = new Vector(1, 1);\n     *   let p3 = new Vector(-1, 1);\n     *   let t0 = basisMatrix.clone().multiplyByVector(p1);\n     *   let t1 = basisMatrix.clone().multiplyByVector(p1);\n     *   let t2 = basisMatrix.clone().multiplyByVector(p2);\n     *   let t3 = basisMatrix.clone().multiplyByVector(p3);\n     *\n     *   // Now t0-t3 are vector of the corner points of a 100x100 square.\n     *\n     * ```\n     */\n    multiplyByVector(v, w = 1) {\n        const result = this.multiplyBy4x1(v.x, v.y, v.z, w);\n        return new _vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](result[0], result[1], result[2]);\n    }\n    /**\n     * Rotates this matrix at an given angle and axis.\n     *\n     *\n     * ```\n     *  // Rotate along X as the axis, similar to rotateX\n     *   let matrix = new MatrixIV().rotate(angle, new Vector(1, 0, 0));\n     *\n     *  // Rotate along y as the axis, similar to rotateY\n     *   matrix = new MatrixIV().rotate(angle, new Vector(0, 1, 0));\n     *\n     *  // Rotate along y as the axis, similar to rotateZ\n     *   matrix = new MatrixIV().rotate(angle, new Vector(0, 0, 1));\n     * ```\n     *\n     * @param angle An angle in radians\n     * @param axis A vector point that acts as the axis.\n     */\n    rotate(angle, axis) {\n        let mg = axis.magnitude();\n        if (!mg) {\n            return null;\n        }\n        let a = axis.x, b = axis.y, c = axis.z;\n        if (mg !== 1) {\n            mg = 1 / mg;\n            a *= mg;\n            b *= mg;\n            c *= mg;\n        }\n        const d = Math.sin(angle), e = Math.cos(angle), f = 1 - e, g = this.value[0], h = this.value[1], i = this.value[2], j = this.value[3], k = this.value[4], l = this.value[5], m = this.value[6], n = this.value[7], o = this.value[8], p = this.value[9], q = this.value[10], r = this.value[11], s = a * a * f + e, t = b * a * f + c * d, u = c * a * f - b * d, v = a * b * f - c * d, w = b * b * f + e, x = c * b * f + a * d, y = a * c * f + b * d, z = b * c * f - a * d, A = c * c * f + e;\n        // this.value[12] = this.value[12];\n        // this.value[13] = this.value[13];\n        // this.value[14] = this.value[14];\n        // this.value[15] = this.value[15];\n        this.value[0] = g * s + k * t + o * u;\n        this.value[1] = h * s + l * t + p * u;\n        this.value[2] = i * s + m * t + q * u;\n        this.value[3] = j * s + n * t + r * u;\n        this.value[4] = g * v + k * w + o * x;\n        this.value[5] = h * v + l * w + p * x;\n        this.value[6] = i * v + m * w + q * x;\n        this.value[7] = j * v + n * w + r * x;\n        this.value[8] = g * y + k * z + o * A;\n        this.value[9] = h * y + l * z + p * A;\n        this.value[10] = i * y + m * z + q * A;\n        this.value[11] = j * y + n * z + r * A;\n        return this;\n    }\n    /**\n     * Rotates this matrix along the x plane.\n     * @param angle Angle in radians.\n     */\n    rotateX(angle) {\n        this.rotate(angle, new _vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](1, 0, 0));\n        return this;\n    }\n    /**\n     * Rotates this matrix along the y plane.\n     * @param angle Angle in radians.\n     */\n    rotateY(angle) {\n        this.rotate(angle, new _vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](0, 1, 0));\n        return this;\n    }\n    /**\n     * Rotates this matrix along the z plane.\n     * @param angle Angle in radians.\n     */\n    rotateZ(angle) {\n        this.rotate(angle, new _vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](0, 0, 1));\n        return this;\n    }\n    /**\n     * Generates a View Matrix for the world-videw-projection matrix on a\n     * left-handed projection.\n     *\n     * @see https://github.com/doxas/minMatrix.js/blob/master/minMatrix.js\n     * http://web.archive.org/web/20131222170415/http:/robertokoci.com/world-view-projection-matrix-unveiled/\n     *\n     * ```ts\n     *   var eye = new Vector(0.0, 0.0, 5.0);\n     *   var center = new Vector(0.0, 0.0, 0.0);\n     *   var up = new Vector(0.0, 1.0, 0.0);\n     *   var martix = new MatrixIV().lookAt(eye, center, up);\n     * ```\n     *\n     * @param eye The camera position vector\n     * @param center The camera target vector\n     * @param up The up vector relative to the camera.\n     */\n    lookAt(eye, center, up = _vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"].UP) {\n        const eyex = eye.x;\n        const eyey = eye.y;\n        const eyez = eye.z;\n        const upx = up.x;\n        const upy = up.y;\n        const upz = up.z;\n        const centerx = center.x;\n        const centery = center.y;\n        const centerz = center.z;\n        if (Math.abs(eyex - centerx) < 0.00001 &&\n            Math.abs(eyey - centery) < 0.00001 &&\n            Math.abs(eyez - centerz) < 0.00001) {\n            return MatrixIV.IDENTITY;\n        }\n        let z0 = eyex - centerx;\n        let z1 = eyey - centery;\n        let z2 = eyez - centerz;\n        let len = 1 / Math.hypot(z0, z1, z2);\n        z0 *= len;\n        z1 *= len;\n        z2 *= len;\n        let x0 = upy * z2 - upz * z1;\n        let x1 = upz * z0 - upx * z2;\n        let x2 = upx * z1 - upy * z0;\n        len = Math.hypot(x0, x1, x2);\n        if (!len) {\n            x0 = 0;\n            x1 = 0;\n            x2 = 0;\n        }\n        else {\n            len = 1 / len;\n            x0 *= len;\n            x1 *= len;\n            x2 *= len;\n        }\n        let y0 = z1 * x2 - z2 * x1;\n        let y1 = z2 * x0 - z0 * x2;\n        let y2 = z0 * x1 - z1 * x0;\n        len = Math.hypot(y0, y1, y2);\n        if (!len) {\n            y0 = 0;\n            y1 = 0;\n            y2 = 0;\n        }\n        else {\n            len = 1 / len;\n            y0 *= len;\n            y1 *= len;\n            y2 *= len;\n        }\n        this.value[0] = x0;\n        this.value[1] = y0;\n        this.value[2] = z0;\n        this.value[3] = 0;\n        this.value[4] = x1;\n        this.value[5] = y1;\n        this.value[6] = z1;\n        this.value[7] = 0;\n        this.value[8] = x2;\n        this.value[9] = y2;\n        this.value[10] = z2;\n        this.value[11] = 0;\n        this.value[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n        this.value[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n        this.value[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n        this.value[15] = 1;\n        return this;\n    }\n    /**\n     * Generates a left-handed perspection projection matrix with the given bounds.\n     * The projection matrix is based on near and far view distance,\n     * angle of the view of the camera and your screen resolution proportion.\n     * @param fov The field of view in radians.\n     * @param aspect The aspect ratio of the view.\n     * @param near The near clipping bound of frustum. Should be larger than 0.\n     * @param far The far clipping bound of frustum. Should be larger than 0.\n     */\n    perspective(fov, aspect, near, far) {\n        const f = 1.0 / Math.tan(fov / 2);\n        let nf;\n        this.value[0] = f / aspect;\n        this.value[1] = 0;\n        this.value[2] = 0;\n        this.value[3] = 0;\n        this.value[4] = 0;\n        this.value[5] = f;\n        this.value[6] = 0;\n        this.value[7] = 0;\n        this.value[8] = 0;\n        this.value[9] = 0;\n        this.value[11] = -1;\n        this.value[12] = 0;\n        this.value[13] = 0;\n        this.value[15] = 0;\n        if (far !== null && far !== Infinity) {\n            nf = 1 / (near - far);\n            this.value[10] = (far + near) * nf;\n            this.value[14] = 2 * far * near * nf;\n        }\n        else {\n            this.value[10] = -1;\n            this.value[14] = -2 * near;\n        }\n        return this;\n    }\n    /**\n     * Sets the values of this matrix based on given yaw, pitch and roll.\n     * Degu uses: YXZ Local Axes Yaw (y), Pitch (x), Roll (z)\n     */\n    ypr(yaw, pitch, roll) {\n        this.zero();\n        const temp = new MatrixIV().zero();\n        const temp2 = new MatrixIV().zero();\n        const m0 = this.value;\n        const m1 = temp.value;\n        const m2 = temp2.value;\n        //  Rotate Z\n        let s = Math.sin(roll);\n        let c = Math.cos(roll);\n        m0[10] = 1;\n        m0[15] = 1;\n        m0[0] = c;\n        m0[1] = s;\n        m0[4] = -s;\n        m0[5] = c;\n        //  Rotate X\n        s = Math.sin(pitch);\n        c = Math.cos(pitch);\n        m1[0] = 1;\n        m1[15] = 1;\n        m1[5] = c;\n        m1[10] = c;\n        m1[9] = -s;\n        m1[6] = s;\n        //  Rotate Y\n        s = Math.sin(yaw);\n        c = Math.cos(yaw);\n        m2[5] = 1;\n        m2[15] = 1;\n        m2[0] = c;\n        m2[2] = -s;\n        m2[8] = s;\n        m2[10] = c;\n        this.multiply(temp);\n        this.multiply(temp2);\n        return this;\n    }\n    /**\n     * Sets this matrix from an array.\n     * @param values\n     */\n    fromArray(values) {\n        this.value = values;\n        return this;\n    }\n    static fromArray(values) {\n        return MatrixIV.IDENTITY.fromArray(values);\n    }\n    // static fromQuaternion(q: Quaternion): MatrixIV {\n    //     let position = Vector.ZERO;\n    //     let scale = Vector.ONE;\n    //     return MatrixIV.compose(position, q, scale);\n    // }\n    /**\n     * Creates a matrixIV from a quaternion.\n     * Based off: https://github.com/toji/gl-matrix/blob/master/src/mat4.js\n     * @param q\n     */\n    static fromQuaternion(q) {\n        const x = q.x, y = q.y, z = q.z, w = q.w;\n        const x2 = x + x;\n        const y2 = y + y;\n        const z2 = z + z;\n        const xx = x * x2;\n        const yx = y * x2;\n        const yy = y * y2;\n        const zx = z * x2;\n        const zy = z * y2;\n        const zz = z * z2;\n        const wx = w * x2;\n        const wy = w * y2;\n        const wz = w * z2;\n        const out = [];\n        out[0] = 1 - yy - zz;\n        out[1] = yx + wz;\n        out[2] = zx - wy;\n        out[3] = 0;\n        out[4] = yx - wz;\n        out[5] = 1 - xx - zz;\n        out[6] = zy + wx;\n        out[7] = 0;\n        out[8] = zx + wy;\n        out[9] = zy - wx;\n        out[10] = 1 - xx - yy;\n        out[11] = 0;\n        out[12] = 0;\n        out[13] = 0;\n        out[14] = 0;\n        out[15] = 1;\n        return MatrixIV.fromArray(new Float32Array(out));\n    }\n    /**\n     * Composes a new matrixIV from a position, rotation and scale.\n     *\n     * ```ts\n     *\n     * let mat = MatrixIV.compose(position, rotation, scale);\n     *\n     * // Create a rotation matrix from a quaternion.  Same effect as\n     * // MatrixIV.fromQuaterion.\n     * let position = Vector.ZERO;\n     * let scale = Vector.ONE;\n     * let myQuaternion = Quaternion.fromEular(90,90,90);\n     * let rotationMatrix = MatrixIV.compose(position, q, scale);\n     *\n     * ```\n     *\n     * Thanks to Mr. Doob:\n     * https://github.com/mrdoob/three.js/blob/master/src/math/Matrix4.js\n     *\n     * @param position\n     * @param quaternion\n     * @param scale\n     */\n    static compose(position, rotation, scale) {\n        const out = [];\n        const x = rotation.x, y = rotation.y, z = rotation.z, w = rotation.w;\n        const x2 = x + x, y2 = y + y, z2 = z + z;\n        const xx = x * x2, xy = x * y2, xz = x * z2;\n        const yy = y * y2, yz = y * z2, zz = z * z2;\n        const wx = w * x2, wy = w * y2, wz = w * z2;\n        const sx = scale.x, sy = scale.y, sz = scale.z;\n        out[0] = (1 - (yy + zz)) * sx;\n        out[1] = (xy + wz) * sx;\n        out[2] = (xz - wy) * sx;\n        out[3] = 0;\n        out[4] = (xy - wz) * sy;\n        out[5] = (1 - (xx + zz)) * sy;\n        out[6] = (yz + wx) * sy;\n        out[7] = 0;\n        out[8] = (xz + wy) * sz;\n        out[9] = (yz - wx) * sz;\n        out[10] = (1 - (xx + yy)) * sz;\n        out[11] = 0;\n        out[12] = position.x;\n        out[13] = position.y;\n        out[14] = position.z;\n        out[15] = 1;\n        return new MatrixIV().fromArray(new Float32Array(out));\n    }\n    /**\n     * Creates and returns an identity matrix.\n     *\n     * ```ts\n     * let m = MatrixIV.IDENTITY;\n     * ```\n     * @static\n     */\n    static get IDENTITY() {\n        return new MatrixIV().identity();\n    }\n    /**\n     * Alias to MatrixIV identity.\n     */\n    static get _() {\n        return new MatrixIV().identity();\n    }\n}\n//# sourceMappingURL=matrixIV.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvbWF0cml4SVYuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvbWF0aGYvbWF0cml4SVYuanM/NGYyNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuL3ZlY3Rvcic7XG4vKipcbiAqIEEgNCBmb3VyIGRpbWVuc2lvbmFsIGhvbW9nZW5vdXMgbWF0cml4IGNsYXNzLlxuICpcbiAqIFNlZSBleGFtcGxlcyBpbiAvZXhhbXBsZXMgZm9yIHVzZXMgb2YgbWF0cml4LlxuICpcbiAqIGBgYFxuICogLy8gQ3JlYXRlcyBhIG5ldyBtYXRyaXguICBEZWZhdWx0IG1hdHJpeCBpcyBzZXQgdG8gaWRlbnRpdHkuXG4gKiBsZXQgbWF0cml4QSA9IG5ldyBNYXRyaXhJVigpO1xuICpcbiAqIG1hdHJpeEEudHJhbnNsYXRlWHl6KDIwLCAzMCwgNDApO1xuICpcbiAqXG4gKiAvLyBDcmVhdGVzIGFuIGlkZW50aXR5IG1hdHJpeC5cbiAqIGxldCBtYXRyaXhCID0gTWF0cml4SVYuSURFTlRJVFk7XG4gKlxuICogLy8gUm90YXRlIGl0IG9uIHRoZSBaIGF4aXMgYnkgOTAgZGVncmVlcy5cbiAqIG1hdHJpeEIuc2NhbGUoOTAgKiBNYXRoLlBJIC8gMTgwLCBuZXcgVmVjdG9yKDAsMCwgMSkpO1xuICpcbiAqIGBgYFxuICpcbiAqIFJlZmVyZW5jZWQ6XG4gKiBAc2VlIGh0dHA6Ly93d3cub3BlbmdsLXR1dG9yaWFsLm9yZy9iZWdpbm5lcnMtdHV0b3JpYWxzL3R1dG9yaWFsLTMtbWF0cmljZXMvXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9kb3hhcy9taW5NYXRyaXguanMvYmxvYi9tYXN0ZXIvbWluTWF0cml4LmpzXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waG90b25zdG9ybS9waGFzZXIvYmxvYi92My4xNy4wL3NyYy9tYXRoL01hdHJpeDQuanNcbiAqIEBzZWUgaHR0cHM6Ly93d3cueW91dHViZS5jb20vY2hhbm5lbC9VQ0VoQk0yeDVNRzktZV9KU096VTA2OHdcbiAqIEBzZWUgaHR0cHM6Ly93d3cudXNlcmFnZW50bWFuLmNvbS9ibG9nLzIwMTEvMDEvMDcvY3NzMy1tYXRyaXgtdHJhbnNmb3JtLWZvci10aGUtbWF0aGVtYXRpY2FsbHktY2hhbGxlbmdlZC9cbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RvamkvZ2wtbWF0cml4XG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hZHJhZ29uaXRlL21hdGgzZC9ibG9iL21hc3Rlci9zcmMvTWF0cml4NHg0LmpzXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvYmxvYi9tYXN0ZXIvc3JjL21hdGgvTWF0cml4NC5qc1xuICpcbiAqIEB1bnN0YWJsZVxuICovXG5leHBvcnQgY2xhc3MgTWF0cml4SVYge1xuICAgIGNvbnN0cnVjdG9yKG1hdHJpeCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gbmV3IEZsb2F0MzJBcnJheSgxNik7XG4gICAgICAgIHRoaXMuaWRlbnRpdHkoKTtcbiAgICAgICAgLy8gSWYgbWF0cml4IHdhcyBwcm92aWRlZCwgY29weSBpdCwgb3RoZXJ3aXNlLCBjcmVhdGVcbiAgICAgICAgLy8gYW4gaWRlbnRpdHkgZGVmYXVsdCBtYXRyaXguXG4gICAgICAgIGlmIChtYXRyaXgpIHtcbiAgICAgICAgICAgIHRoaXMuY29weShtYXRyaXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pZGVudGl0eSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhpcyBtYXRyaXggdG8gYSBkZWZhdWx0IGlkZW50aXR5IG1hdHJpeC5cbiAgICAgKi9cbiAgICBpZGVudGl0eSgpIHtcbiAgICAgICAgdGhpcy52YWx1ZVswXSA9IDE7XG4gICAgICAgIHRoaXMudmFsdWVbMV0gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzJdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVszXSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbNF0gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzVdID0gMTtcbiAgICAgICAgdGhpcy52YWx1ZVs2XSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbN10gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzhdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVs5XSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbMTBdID0gMTtcbiAgICAgICAgdGhpcy52YWx1ZVsxMV0gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzEyXSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbMTNdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVsxNF0gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzE1XSA9IDE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoaXMgbWF0cml4IHRvIGhhdmUgYWxsIDAgdmFsdWUuXG4gICAgICovXG4gICAgemVybygpIHtcbiAgICAgICAgdGhpcy52YWx1ZVswXSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbMV0gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzJdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVszXSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbNF0gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzVdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVs2XSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbN10gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzhdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVs5XSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbMTBdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVsxMV0gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzEyXSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbMTNdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVsxNF0gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzE1XSA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhpcyBtYXRyaXguXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGxldCBtID0gbXlNYXRyaXguY2xvbmUoKTsgIC8vIG0gaXMgbm93IGEgbmV3IGNsb25lIG9mIG15TWF0cml4LlxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeElWKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBhbm90aGVyIG1hdHJpeCBpbnRvIHRoaXMgbWF0cml4LlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBtYXRyaXhBLmNvcHkobWF0cml4QikgLy8gTm93IG1hdHJpeEEgaGFzIHRoZSB2YWx1ZXMgb2YgbWF0cml4Qi5cbiAgICAgKiBgYGBcbiAgICAgKiBAcGFyYW0ge01hdHJpeElWfSBtYXRyaXhJVlxuICAgICAqL1xuICAgIGNvcHkobWF0cml4NCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gbWF0cml4NC52YWx1ZS5zbGljZSgwKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbGxzIGEgc3BlY2lmaWMgY29sdW1uIG9mIHRoaXMgbWF0cml4IHdpdGggYSB2ZWN0b3IgdmFsdWVzLlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBGb3IgZXhhbXBsZSwgcGFzc2luZyAyIGFzIHRoZSBjb2x1bW4gd291bGQ6XG4gICAgICogW1xuICAgICAqICAgMSwgIDAsICB4LCAgMFxuICAgICAqICAgMCwgIDEsICB5LCAgMCxcbiAgICAgKiAgIDAsICAwLCAgeiwgIDAsXG4gICAgICogICAwLCAgMCwgIDAsICAxXG4gICAgICogXVxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogVGhpcyBpcyB1c2VmdWwgdG8gY3JlYXRlIGEgYmFzaXMgbWF0cml4LiAgQmVsb3cgaXMgYSA0eDRcbiAgICAgKiBtYXRyaXggY29uc3RydWN0ZWQgb2YgdXAsIHJpZ2h0IGFuZCBmb3J3YXJkIHZlY3RvcnMuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqXG4gICAgICogICBsZXQgdXAgPSBuZXcgVmVjdG9yKDAsIDUwKTtcbiAgICAgKiAgIGxldCByaWdodCA9IG5ldyBWZWN0b3IoNTAsIDApO1xuICAgICAqICAgbGV0IGZvcndhcmQgPSBWZWN0b3IuT05FLmNyb3NzKHVwKTtcbiAgICAgKiAgIGxldCBiYXNpc01hdHJpeCA9IG5ldyBNYXRyaXhJVigpO1xuICAgICAqICAgYmFzaXNNYXRyaXguc2V0VmVjdG9yQ29sdW1uKDAsIHJpZ2h0KTtcbiAgICAgKiAgIGJhc2lzTWF0cml4LnNldFZlY3RvckNvbHVtbigxLCB1cCk7XG4gICAgICogICBiYXNpc01hdHJpeC5zZXRWZWN0b3JDb2x1bW4oMiwgZm93YXJkKTtcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbHVtbiBUaGUgY29sdW1uIG51bWJlciB0byBmaWxsLiAgQSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDMuXG4gICAgICogQHBhcmFtIHZlY3RvciBUaGUgdmVjdG9yIHRvIHNldC5cbiAgICAgKi9cbiAgICBzZXRWZWN0b3JDb2x1bW4oY29sdW1uLCB2KSB7XG4gICAgICAgIHRoaXMudmFsdWVbMSAqIGNvbHVtbl0gPSB2Lng7XG4gICAgICAgIHRoaXMudmFsdWVbMSAqIGNvbHVtbiArIDRdID0gdi55O1xuICAgICAgICB0aGlzLnZhbHVlWzEgKiBjb2x1bW4gKyA4XSA9IHYuejtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2NhbGVzIHRoaXMgbWF0cml4IGdpdmVuIHgsIHksIHogdmFsdWVzLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBteU1hdHJpeC5zY2FsZVh5eigwLjUsIDAuNSwgMC41KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB4XG4gICAgICogQHBhcmFtIHlcbiAgICAgKiBAcGFyYW0gelxuICAgICAqIEByZXR1cm4ge01hdHJpeElWfVxuICAgICAqL1xuICAgIHNjYWxlWHl6KHgsIHksIHopIHtcbiAgICAgICAgdGhpcy52YWx1ZVswXSA9IHRoaXMudmFsdWVbMF0gKiB4O1xuICAgICAgICB0aGlzLnZhbHVlWzFdID0gdGhpcy52YWx1ZVsxXSAqIHg7XG4gICAgICAgIHRoaXMudmFsdWVbMl0gPSB0aGlzLnZhbHVlWzJdICogeDtcbiAgICAgICAgdGhpcy52YWx1ZVszXSA9IHRoaXMudmFsdWVbM10gKiB4O1xuICAgICAgICB0aGlzLnZhbHVlWzRdID0gdGhpcy52YWx1ZVs0XSAqIHk7XG4gICAgICAgIHRoaXMudmFsdWVbNV0gPSB0aGlzLnZhbHVlWzVdICogeTtcbiAgICAgICAgdGhpcy52YWx1ZVs2XSA9IHRoaXMudmFsdWVbNl0gKiB5O1xuICAgICAgICB0aGlzLnZhbHVlWzddID0gdGhpcy52YWx1ZVs3XSAqIHk7XG4gICAgICAgIHRoaXMudmFsdWVbOF0gPSB0aGlzLnZhbHVlWzhdICogejtcbiAgICAgICAgdGhpcy52YWx1ZVs5XSA9IHRoaXMudmFsdWVbOV0gKiB6O1xuICAgICAgICB0aGlzLnZhbHVlWzEwXSA9IHRoaXMudmFsdWVbMTBdICogejtcbiAgICAgICAgdGhpcy52YWx1ZVsxMV0gPSB0aGlzLnZhbHVlWzExXSAqIHo7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBseSBhIHNjYWxlIHRyYW5zZm9ybWF0aW9uIHRvIHRoaXMgbWF0cml4IGdpdmVuIGEgc2NhbGUgdmVjdG9yLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBteU1hdHJpeC5zY2FsZShuZXcgVmVjdG9yKDAuNSwgMC41LCAwLjUpKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB2IHtWZWN0b3J9IFRoZSB2ZWN0b3IgdG8gc2NhbGUgdGhpcyBtYXRyaXguXG4gICAgICogQHJldHVybiB7TWF0cml4SVZ9XG4gICAgICovXG4gICAgc2NhbGUodikge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZVh5eih2LngsIHYueSwgdi56KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB0aGlzIG1hdHJpeCBnaXZlbiB0aGUgdmFsdWVzLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBteU1hdHJpeC50cmFuc2xhdGVYeXooMTAsIDIwLCAwKSk7XG4gICAgICogYGBgXG4gICAgICogQHBhcmFtIHhcbiAgICAgKiBAcGFyYW0geVxuICAgICAqIEBwYXJhbSB6XG4gICAgICovXG4gICAgdHJhbnNsYXRlWHl6KHgsIHksIHopIHtcbiAgICAgICAgdGhpcy52YWx1ZVsxMl0gPVxuICAgICAgICAgICAgdGhpcy52YWx1ZVswXSAqIHggK1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVbNF0gKiB5ICtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlWzhdICogeiArXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZVsxMl07XG4gICAgICAgIHRoaXMudmFsdWVbMTNdID1cbiAgICAgICAgICAgIHRoaXMudmFsdWVbMV0gKiB4ICtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlWzVdICogeSArXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZVs5XSAqIHogK1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVbMTNdO1xuICAgICAgICB0aGlzLnZhbHVlWzE0XSA9XG4gICAgICAgICAgICB0aGlzLnZhbHVlWzJdICogeCArXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZVs2XSAqIHkgK1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVbMTBdICogeiArXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZVsxNF07XG4gICAgICAgIHRoaXMudmFsdWVbMTVdID1cbiAgICAgICAgICAgIHRoaXMudmFsdWVbM10gKiB4ICtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlWzddICogeSArXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZVsxMV0gKiB6ICtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlWzE1XTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGx5IGEgdHJhbnNsYXRpb24uXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIG15TWF0cml4LnRyYW5zbGF0ZShuZXcgVmVjdG9yKDEsIDEsIDEpKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICB0cmFuc2xhdGUodikge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGVYeXoodi54LCB2LnksIHYueik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBjdXJyZW50IDR4NCBtYXRyaXggb3ZlciB0byBhIGNzcyAzZCBtYXRyaXggdHJhbnNsYXRpb24gc3RyaW5nLlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBbXG4gICAgICogYTEgYTIgYTMgYTRcbiAgICAgKiBiMSBiMiBiMyBiNFxuICAgICAqIGMxIGMyIGMzIGM0XG4gICAgICogZDEgZDIgZDMgZDRcbiAgICAgKiBdXG4gICAgICogPSBtYXRyaXgzZChhMSwgYjEsIGMxLCBkMSwgYTIsIGIyLCBjMiwgZDIsIGEzLCBiMywgYzMsIGQzLCBhNCwgYjQsIGM0LCBkNClcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvdHJhbnNmb3JtLWZ1bmN0aW9uL21hdHJpeDNkXG4gICAgICovXG4gICAgdG9Dc3MzZE1hdHJpeCgpIHtcbiAgICAgICAgY29uc3QgYTEgPSB0aGlzLnZhbHVlWzBdO1xuICAgICAgICBjb25zdCBhMiA9IHRoaXMudmFsdWVbMV07XG4gICAgICAgIGNvbnN0IGEzID0gdGhpcy52YWx1ZVsyXTtcbiAgICAgICAgY29uc3QgYTQgPSB0aGlzLnZhbHVlWzNdO1xuICAgICAgICBjb25zdCBiMSA9IHRoaXMudmFsdWVbNF07XG4gICAgICAgIGNvbnN0IGIyID0gdGhpcy52YWx1ZVs1XTtcbiAgICAgICAgY29uc3QgYjMgPSB0aGlzLnZhbHVlWzZdO1xuICAgICAgICBjb25zdCBiNCA9IHRoaXMudmFsdWVbN107XG4gICAgICAgIGNvbnN0IGMxID0gdGhpcy52YWx1ZVs4XTtcbiAgICAgICAgY29uc3QgYzIgPSB0aGlzLnZhbHVlWzldO1xuICAgICAgICBjb25zdCBjMyA9IHRoaXMudmFsdWVbMTBdO1xuICAgICAgICBjb25zdCBjNCA9IHRoaXMudmFsdWVbMTFdO1xuICAgICAgICBjb25zdCBkMSA9IHRoaXMudmFsdWVbMTJdO1xuICAgICAgICBjb25zdCBkMiA9IHRoaXMudmFsdWVbMTNdO1xuICAgICAgICBjb25zdCBkMyA9IHRoaXMudmFsdWVbMTRdO1xuICAgICAgICBjb25zdCBkNCA9IHRoaXMudmFsdWVbMTVdO1xuICAgICAgICByZXR1cm4gYG1hdHJpeDNkKCR7YTF9LCAke2IxfSwgJHtjMX0sICR7ZDF9LCAke2EyfSwgJHtiMn0sXG4gICAgICAgICAgICAke2MyfSwgJHtkMn0sICR7YTN9LCAke2IzfSwgJHtjM30sICR7ZDN9LCAke2E0fSwgJHtiNH0sICR7YzR9LCAke2Q0fSlgO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBhbm90aGVyLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBtYXRyaXhBLm11bHRpcGx5KG1hdHJpeEIpOyAvLyBOb3cgdmFsdWUgb2YgbWF0cml4QSBpcyBtdWx0aXBsaWVkIHdpdGggQi5cbiAgICAgKlxuICAgICAqIG1hdHJpeEMgPSBtYXRyaXhBLmNsb25lKCkubXVsdGlwbHkobWF0cml4Qik7IC8vIG1hdHJpeEMgaXMgcHJvZHVjdC5cbiAgICAgKiBgYGBcbiAgICAgKiBAcGFyYW0gbWF0XG4gICAgICovXG4gICAgbXVsdGlwbHkobWF0KSB7XG4gICAgICAgIGNvbnN0IGEwMCA9IHRoaXMudmFsdWVbMF07XG4gICAgICAgIGNvbnN0IGEwMSA9IHRoaXMudmFsdWVbMV07XG4gICAgICAgIGNvbnN0IGEwMiA9IHRoaXMudmFsdWVbMl07XG4gICAgICAgIGNvbnN0IGEwMyA9IHRoaXMudmFsdWVbM107XG4gICAgICAgIGNvbnN0IGExMCA9IHRoaXMudmFsdWVbNF07XG4gICAgICAgIGNvbnN0IGExMSA9IHRoaXMudmFsdWVbNV07XG4gICAgICAgIGNvbnN0IGExMiA9IHRoaXMudmFsdWVbNl07XG4gICAgICAgIGNvbnN0IGExMyA9IHRoaXMudmFsdWVbN107XG4gICAgICAgIGNvbnN0IGEyMCA9IHRoaXMudmFsdWVbOF07XG4gICAgICAgIGNvbnN0IGEyMSA9IHRoaXMudmFsdWVbOV07XG4gICAgICAgIGNvbnN0IGEyMiA9IHRoaXMudmFsdWVbMTBdO1xuICAgICAgICBjb25zdCBhMjMgPSB0aGlzLnZhbHVlWzExXTtcbiAgICAgICAgY29uc3QgYTMwID0gdGhpcy52YWx1ZVsxMl07XG4gICAgICAgIGNvbnN0IGEzMSA9IHRoaXMudmFsdWVbMTNdO1xuICAgICAgICBjb25zdCBhMzIgPSB0aGlzLnZhbHVlWzE0XTtcbiAgICAgICAgY29uc3QgYTMzID0gdGhpcy52YWx1ZVsxNV07XG4gICAgICAgIGNvbnN0IGIgPSBtYXQudmFsdWU7XG4gICAgICAgIGxldCBiMCA9IGJbMF07XG4gICAgICAgIGxldCBiMSA9IGJbMV07XG4gICAgICAgIGxldCBiMiA9IGJbMl07XG4gICAgICAgIGxldCBiMyA9IGJbM107XG4gICAgICAgIHRoaXMudmFsdWVbMF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgICAgICAgdGhpcy52YWx1ZVsxXSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICAgICAgICB0aGlzLnZhbHVlWzJdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gICAgICAgIHRoaXMudmFsdWVbM10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgICAgICAgYjAgPSBiWzRdO1xuICAgICAgICBiMSA9IGJbNV07XG4gICAgICAgIGIyID0gYls2XTtcbiAgICAgICAgYjMgPSBiWzddO1xuICAgICAgICB0aGlzLnZhbHVlWzRdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gICAgICAgIHRoaXMudmFsdWVbNV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgICAgICAgdGhpcy52YWx1ZVs2XSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICAgICAgICB0aGlzLnZhbHVlWzddID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gICAgICAgIGIwID0gYls4XTtcbiAgICAgICAgYjEgPSBiWzldO1xuICAgICAgICBiMiA9IGJbMTBdO1xuICAgICAgICBiMyA9IGJbMTFdO1xuICAgICAgICB0aGlzLnZhbHVlWzhdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gICAgICAgIHRoaXMudmFsdWVbOV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgICAgICAgdGhpcy52YWx1ZVsxMF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgICAgICAgdGhpcy52YWx1ZVsxMV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgICAgICAgYjAgPSBiWzEyXTtcbiAgICAgICAgYjEgPSBiWzEzXTtcbiAgICAgICAgYjIgPSBiWzE0XTtcbiAgICAgICAgYjMgPSBiWzE1XTtcbiAgICAgICAgdGhpcy52YWx1ZVsxMl0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgICAgICAgdGhpcy52YWx1ZVsxM10gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgICAgICAgdGhpcy52YWx1ZVsxNF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgICAgICAgdGhpcy52YWx1ZVsxNV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdGhpcyA0eDQgbWF0cml4IGJ5IGEgNHgxIG1hdHJpeC4gIFRoaXMgcmVzdWx0cyBpblxuICAgICAqIHJldHVybmluZyB0aGUgcmVzdWx0cyBhcyBhIDR4MSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiAgICAgNHg0IE1hdHJpeCAgICAgICAgIDR4MSAoVmVjdG9yKVxuICAgICAqICAgICAgYSwgYiwgYywgZCAgICAgICAgICAgICAgIHggICAgICA9IGF4ICsgYnkgKyBjeiArIGR3XG4gICAgICogICAgICBlLCBmLCBnLCBoICAgICB4ICAgICAgICAgeSAgICAgID0gZXggKyBmeSArIGd6ICsgaHdcbiAgICAgKiAgICAgIGksIGosIGssIGwgICAgICAgICAgICAgICB6ICAgICAgPSBpeCArIGp5ICsga3ogKyBsd1xuICAgICAqICAgICBtLCAgbiwgIG8sIHAgICAgICAgICAgICAgIHcgICAgICA9IG14ICsgbnkgKyBveiArIHB3XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0geFxuICAgICAqIEBwYXJhbSB5XG4gICAgICogQHBhcmFtIHpcbiAgICAgKiBAcGFyYW0gdyBVc2UgMSBmb3IgcG9zaXRpb25zIGFuZCAwIGZvciBkaXJlY3Rpb24uXG4gICAgICovXG4gICAgbXVsdGlwbHlCeTR4MSh4LCB5LCB6LCB3ID0gMSkge1xuICAgICAgICBjb25zdCBhID0gdGhpcy52YWx1ZTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGFbMF0gKiB4ICsgYVsxXSAqIHkgKyBhWzJdICogeiArIGFbM10gKiB3LFxuICAgICAgICAgICAgYVs0XSAqIHggKyBhWzVdICogeSArIGFbNl0gKiB6ICsgYVs3XSAqIHcsXG4gICAgICAgICAgICBhWzhdICogeCArIGFbOV0gKiB5ICsgYVsxMF0gKiB6ICsgYVsxMV0gKiB3LFxuICAgICAgICAgICAgYVsxMl0gKiB4ICsgYVsxM10gKiB5ICsgYVsxNF0gKiB6ICsgYVsxNV0gKiB3LFxuICAgICAgICBdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHRoaXMgbWF0cml4IGJ5IGEgdmVjdG9yIHRoYXQgaXMgY29udmVydGVkIHRvIGEgNHgxLiAgUmV0dXJuc1xuICAgICAqIGEgdmVjdG9yIHRoYXQgd2FzIGNvbnZlcnRlZCBmcm9tIHRoZSByZXN1bHRpbmcgNHgxLlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogICAgIEJhc2lzIE1hdHJpeCAgICAgICAgIDR4MSAoVmVjdG9yKVxuICAgICAqICAgICAgYSwgYiwgYywgZCAgICAgICAgICAgICAgIHhcbiAgICAgKiAgICAgIGUsIGYsIGcsIGggICAgIHggICAgICAgICB5XG4gICAgICogICAgICBpLCBqLCBrLCBsICAgICAgICAgICAgICAgelxuICAgICAqICAgICBtLCAgbiwgIG8sIHAgICAgICAgICAgICAgIHdcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKlxuICAgICAqICAgbGV0IHVwID0gbmV3IFZlY3RvcigwLCA1MCk7XG4gICAgICogICBsZXQgcmlnaHQgPSBuZXcgVmVjdG9yKDUwLCAwKTtcbiAgICAgKiAgIGxldCBmb3J3YXJkID0gVmVjdG9yLk9ORS5jcm9zcyh1cCk7XG4gICAgICogICBsZXQgYmFzaXNNYXRyaXggPSBuZXcgTWF0cml4SVYoKTtcbiAgICAgKiAgIGJhc2lzTWF0cml4LnNldFZlY3RvckNvbHVtbigwLCByaWdodCk7XG4gICAgICogICBiYXNpc01hdHJpeC5zZXRWZWN0b3JDb2x1bW4oMSwgdXApO1xuICAgICAqICAgYmFzaXNNYXRyaXguc2V0VmVjdG9yQ29sdW1uKDIsIGZvcndhcmQpO1xuICAgICAqXG4gICAgICogICBsZXQgcDAgPSBuZXcgVmVjdG9yKC0xLCAtMSk7XG4gICAgICogICBsZXQgcDEgPSBuZXcgVmVjdG9yKDEsIC0xKTtcbiAgICAgKiAgIGxldCBwMiA9IG5ldyBWZWN0b3IoMSwgMSk7XG4gICAgICogICBsZXQgcDMgPSBuZXcgVmVjdG9yKC0xLCAxKTtcbiAgICAgKiAgIGxldCB0MCA9IGJhc2lzTWF0cml4LmNsb25lKCkubXVsdGlwbHlCeVZlY3RvcihwMSk7XG4gICAgICogICBsZXQgdDEgPSBiYXNpc01hdHJpeC5jbG9uZSgpLm11bHRpcGx5QnlWZWN0b3IocDEpO1xuICAgICAqICAgbGV0IHQyID0gYmFzaXNNYXRyaXguY2xvbmUoKS5tdWx0aXBseUJ5VmVjdG9yKHAyKTtcbiAgICAgKiAgIGxldCB0MyA9IGJhc2lzTWF0cml4LmNsb25lKCkubXVsdGlwbHlCeVZlY3RvcihwMyk7XG4gICAgICpcbiAgICAgKiAgIC8vIE5vdyB0MC10MyBhcmUgdmVjdG9yIG9mIHRoZSBjb3JuZXIgcG9pbnRzIG9mIGEgMTAweDEwMCBzcXVhcmUuXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBtdWx0aXBseUJ5VmVjdG9yKHYsIHcgPSAxKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMubXVsdGlwbHlCeTR4MSh2LngsIHYueSwgdi56LCB3KTtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IocmVzdWx0WzBdLCByZXN1bHRbMV0sIHJlc3VsdFsyXSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgdGhpcyBtYXRyaXggYXQgYW4gZ2l2ZW4gYW5nbGUgYW5kIGF4aXMuXG4gICAgICpcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqICAvLyBSb3RhdGUgYWxvbmcgWCBhcyB0aGUgYXhpcywgc2ltaWxhciB0byByb3RhdGVYXG4gICAgICogICBsZXQgbWF0cml4ID0gbmV3IE1hdHJpeElWKCkucm90YXRlKGFuZ2xlLCBuZXcgVmVjdG9yKDEsIDAsIDApKTtcbiAgICAgKlxuICAgICAqICAvLyBSb3RhdGUgYWxvbmcgeSBhcyB0aGUgYXhpcywgc2ltaWxhciB0byByb3RhdGVZXG4gICAgICogICBtYXRyaXggPSBuZXcgTWF0cml4SVYoKS5yb3RhdGUoYW5nbGUsIG5ldyBWZWN0b3IoMCwgMSwgMCkpO1xuICAgICAqXG4gICAgICogIC8vIFJvdGF0ZSBhbG9uZyB5IGFzIHRoZSBheGlzLCBzaW1pbGFyIHRvIHJvdGF0ZVpcbiAgICAgKiAgIG1hdHJpeCA9IG5ldyBNYXRyaXhJVigpLnJvdGF0ZShhbmdsZSwgbmV3IFZlY3RvcigwLCAwLCAxKSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYW5nbGUgQW4gYW5nbGUgaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSBheGlzIEEgdmVjdG9yIHBvaW50IHRoYXQgYWN0cyBhcyB0aGUgYXhpcy5cbiAgICAgKi9cbiAgICByb3RhdGUoYW5nbGUsIGF4aXMpIHtcbiAgICAgICAgbGV0IG1nID0gYXhpcy5tYWduaXR1ZGUoKTtcbiAgICAgICAgaWYgKCFtZykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGEgPSBheGlzLngsIGIgPSBheGlzLnksIGMgPSBheGlzLno7XG4gICAgICAgIGlmIChtZyAhPT0gMSkge1xuICAgICAgICAgICAgbWcgPSAxIC8gbWc7XG4gICAgICAgICAgICBhICo9IG1nO1xuICAgICAgICAgICAgYiAqPSBtZztcbiAgICAgICAgICAgIGMgKj0gbWc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZCA9IE1hdGguc2luKGFuZ2xlKSwgZSA9IE1hdGguY29zKGFuZ2xlKSwgZiA9IDEgLSBlLCBnID0gdGhpcy52YWx1ZVswXSwgaCA9IHRoaXMudmFsdWVbMV0sIGkgPSB0aGlzLnZhbHVlWzJdLCBqID0gdGhpcy52YWx1ZVszXSwgayA9IHRoaXMudmFsdWVbNF0sIGwgPSB0aGlzLnZhbHVlWzVdLCBtID0gdGhpcy52YWx1ZVs2XSwgbiA9IHRoaXMudmFsdWVbN10sIG8gPSB0aGlzLnZhbHVlWzhdLCBwID0gdGhpcy52YWx1ZVs5XSwgcSA9IHRoaXMudmFsdWVbMTBdLCByID0gdGhpcy52YWx1ZVsxMV0sIHMgPSBhICogYSAqIGYgKyBlLCB0ID0gYiAqIGEgKiBmICsgYyAqIGQsIHUgPSBjICogYSAqIGYgLSBiICogZCwgdiA9IGEgKiBiICogZiAtIGMgKiBkLCB3ID0gYiAqIGIgKiBmICsgZSwgeCA9IGMgKiBiICogZiArIGEgKiBkLCB5ID0gYSAqIGMgKiBmICsgYiAqIGQsIHogPSBiICogYyAqIGYgLSBhICogZCwgQSA9IGMgKiBjICogZiArIGU7XG4gICAgICAgIC8vIHRoaXMudmFsdWVbMTJdID0gdGhpcy52YWx1ZVsxMl07XG4gICAgICAgIC8vIHRoaXMudmFsdWVbMTNdID0gdGhpcy52YWx1ZVsxM107XG4gICAgICAgIC8vIHRoaXMudmFsdWVbMTRdID0gdGhpcy52YWx1ZVsxNF07XG4gICAgICAgIC8vIHRoaXMudmFsdWVbMTVdID0gdGhpcy52YWx1ZVsxNV07XG4gICAgICAgIHRoaXMudmFsdWVbMF0gPSBnICogcyArIGsgKiB0ICsgbyAqIHU7XG4gICAgICAgIHRoaXMudmFsdWVbMV0gPSBoICogcyArIGwgKiB0ICsgcCAqIHU7XG4gICAgICAgIHRoaXMudmFsdWVbMl0gPSBpICogcyArIG0gKiB0ICsgcSAqIHU7XG4gICAgICAgIHRoaXMudmFsdWVbM10gPSBqICogcyArIG4gKiB0ICsgciAqIHU7XG4gICAgICAgIHRoaXMudmFsdWVbNF0gPSBnICogdiArIGsgKiB3ICsgbyAqIHg7XG4gICAgICAgIHRoaXMudmFsdWVbNV0gPSBoICogdiArIGwgKiB3ICsgcCAqIHg7XG4gICAgICAgIHRoaXMudmFsdWVbNl0gPSBpICogdiArIG0gKiB3ICsgcSAqIHg7XG4gICAgICAgIHRoaXMudmFsdWVbN10gPSBqICogdiArIG4gKiB3ICsgciAqIHg7XG4gICAgICAgIHRoaXMudmFsdWVbOF0gPSBnICogeSArIGsgKiB6ICsgbyAqIEE7XG4gICAgICAgIHRoaXMudmFsdWVbOV0gPSBoICogeSArIGwgKiB6ICsgcCAqIEE7XG4gICAgICAgIHRoaXMudmFsdWVbMTBdID0gaSAqIHkgKyBtICogeiArIHEgKiBBO1xuICAgICAgICB0aGlzLnZhbHVlWzExXSA9IGogKiB5ICsgbiAqIHogKyByICogQTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgdGhpcyBtYXRyaXggYWxvbmcgdGhlIHggcGxhbmUuXG4gICAgICogQHBhcmFtIGFuZ2xlIEFuZ2xlIGluIHJhZGlhbnMuXG4gICAgICovXG4gICAgcm90YXRlWChhbmdsZSkge1xuICAgICAgICB0aGlzLnJvdGF0ZShhbmdsZSwgbmV3IFZlY3RvcigxLCAwLCAwKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIHRoaXMgbWF0cml4IGFsb25nIHRoZSB5IHBsYW5lLlxuICAgICAqIEBwYXJhbSBhbmdsZSBBbmdsZSBpbiByYWRpYW5zLlxuICAgICAqL1xuICAgIHJvdGF0ZVkoYW5nbGUpIHtcbiAgICAgICAgdGhpcy5yb3RhdGUoYW5nbGUsIG5ldyBWZWN0b3IoMCwgMSwgMCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUm90YXRlcyB0aGlzIG1hdHJpeCBhbG9uZyB0aGUgeiBwbGFuZS5cbiAgICAgKiBAcGFyYW0gYW5nbGUgQW5nbGUgaW4gcmFkaWFucy5cbiAgICAgKi9cbiAgICByb3RhdGVaKGFuZ2xlKSB7XG4gICAgICAgIHRoaXMucm90YXRlKGFuZ2xlLCBuZXcgVmVjdG9yKDAsIDAsIDEpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIFZpZXcgTWF0cml4IGZvciB0aGUgd29ybGQtdmlkZXctcHJvamVjdGlvbiBtYXRyaXggb24gYVxuICAgICAqIGxlZnQtaGFuZGVkIHByb2plY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9kb3hhcy9taW5NYXRyaXguanMvYmxvYi9tYXN0ZXIvbWluTWF0cml4LmpzXG4gICAgICogaHR0cDovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxMzEyMjIxNzA0MTUvaHR0cDovcm9iZXJ0b2tvY2kuY29tL3dvcmxkLXZpZXctcHJvamVjdGlvbi1tYXRyaXgtdW52ZWlsZWQvXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqICAgdmFyIGV5ZSA9IG5ldyBWZWN0b3IoMC4wLCAwLjAsIDUuMCk7XG4gICAgICogICB2YXIgY2VudGVyID0gbmV3IFZlY3RvcigwLjAsIDAuMCwgMC4wKTtcbiAgICAgKiAgIHZhciB1cCA9IG5ldyBWZWN0b3IoMC4wLCAxLjAsIDAuMCk7XG4gICAgICogICB2YXIgbWFydGl4ID0gbmV3IE1hdHJpeElWKCkubG9va0F0KGV5ZSwgY2VudGVyLCB1cCk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXllIFRoZSBjYW1lcmEgcG9zaXRpb24gdmVjdG9yXG4gICAgICogQHBhcmFtIGNlbnRlciBUaGUgY2FtZXJhIHRhcmdldCB2ZWN0b3JcbiAgICAgKiBAcGFyYW0gdXAgVGhlIHVwIHZlY3RvciByZWxhdGl2ZSB0byB0aGUgY2FtZXJhLlxuICAgICAqL1xuICAgIGxvb2tBdChleWUsIGNlbnRlciwgdXAgPSBWZWN0b3IuVVApIHtcbiAgICAgICAgY29uc3QgZXlleCA9IGV5ZS54O1xuICAgICAgICBjb25zdCBleWV5ID0gZXllLnk7XG4gICAgICAgIGNvbnN0IGV5ZXogPSBleWUuejtcbiAgICAgICAgY29uc3QgdXB4ID0gdXAueDtcbiAgICAgICAgY29uc3QgdXB5ID0gdXAueTtcbiAgICAgICAgY29uc3QgdXB6ID0gdXAuejtcbiAgICAgICAgY29uc3QgY2VudGVyeCA9IGNlbnRlci54O1xuICAgICAgICBjb25zdCBjZW50ZXJ5ID0gY2VudGVyLnk7XG4gICAgICAgIGNvbnN0IGNlbnRlcnogPSBjZW50ZXIuejtcbiAgICAgICAgaWYgKE1hdGguYWJzKGV5ZXggLSBjZW50ZXJ4KSA8IDAuMDAwMDEgJiZcbiAgICAgICAgICAgIE1hdGguYWJzKGV5ZXkgLSBjZW50ZXJ5KSA8IDAuMDAwMDEgJiZcbiAgICAgICAgICAgIE1hdGguYWJzKGV5ZXogLSBjZW50ZXJ6KSA8IDAuMDAwMDEpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRyaXhJVi5JREVOVElUWTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgejAgPSBleWV4IC0gY2VudGVyeDtcbiAgICAgICAgbGV0IHoxID0gZXlleSAtIGNlbnRlcnk7XG4gICAgICAgIGxldCB6MiA9IGV5ZXogLSBjZW50ZXJ6O1xuICAgICAgICBsZXQgbGVuID0gMSAvIE1hdGguaHlwb3QoejAsIHoxLCB6Mik7XG4gICAgICAgIHowICo9IGxlbjtcbiAgICAgICAgejEgKj0gbGVuO1xuICAgICAgICB6MiAqPSBsZW47XG4gICAgICAgIGxldCB4MCA9IHVweSAqIHoyIC0gdXB6ICogejE7XG4gICAgICAgIGxldCB4MSA9IHVweiAqIHowIC0gdXB4ICogejI7XG4gICAgICAgIGxldCB4MiA9IHVweCAqIHoxIC0gdXB5ICogejA7XG4gICAgICAgIGxlbiA9IE1hdGguaHlwb3QoeDAsIHgxLCB4Mik7XG4gICAgICAgIGlmICghbGVuKSB7XG4gICAgICAgICAgICB4MCA9IDA7XG4gICAgICAgICAgICB4MSA9IDA7XG4gICAgICAgICAgICB4MiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZW4gPSAxIC8gbGVuO1xuICAgICAgICAgICAgeDAgKj0gbGVuO1xuICAgICAgICAgICAgeDEgKj0gbGVuO1xuICAgICAgICAgICAgeDIgKj0gbGVuO1xuICAgICAgICB9XG4gICAgICAgIGxldCB5MCA9IHoxICogeDIgLSB6MiAqIHgxO1xuICAgICAgICBsZXQgeTEgPSB6MiAqIHgwIC0gejAgKiB4MjtcbiAgICAgICAgbGV0IHkyID0gejAgKiB4MSAtIHoxICogeDA7XG4gICAgICAgIGxlbiA9IE1hdGguaHlwb3QoeTAsIHkxLCB5Mik7XG4gICAgICAgIGlmICghbGVuKSB7XG4gICAgICAgICAgICB5MCA9IDA7XG4gICAgICAgICAgICB5MSA9IDA7XG4gICAgICAgICAgICB5MiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZW4gPSAxIC8gbGVuO1xuICAgICAgICAgICAgeTAgKj0gbGVuO1xuICAgICAgICAgICAgeTEgKj0gbGVuO1xuICAgICAgICAgICAgeTIgKj0gbGVuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWVbMF0gPSB4MDtcbiAgICAgICAgdGhpcy52YWx1ZVsxXSA9IHkwO1xuICAgICAgICB0aGlzLnZhbHVlWzJdID0gejA7XG4gICAgICAgIHRoaXMudmFsdWVbM10gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzRdID0geDE7XG4gICAgICAgIHRoaXMudmFsdWVbNV0gPSB5MTtcbiAgICAgICAgdGhpcy52YWx1ZVs2XSA9IHoxO1xuICAgICAgICB0aGlzLnZhbHVlWzddID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVs4XSA9IHgyO1xuICAgICAgICB0aGlzLnZhbHVlWzldID0geTI7XG4gICAgICAgIHRoaXMudmFsdWVbMTBdID0gejI7XG4gICAgICAgIHRoaXMudmFsdWVbMTFdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVsxMl0gPSAtKHgwICogZXlleCArIHgxICogZXlleSArIHgyICogZXlleik7XG4gICAgICAgIHRoaXMudmFsdWVbMTNdID0gLSh5MCAqIGV5ZXggKyB5MSAqIGV5ZXkgKyB5MiAqIGV5ZXopO1xuICAgICAgICB0aGlzLnZhbHVlWzE0XSA9IC0oejAgKiBleWV4ICsgejEgKiBleWV5ICsgejIgKiBleWV6KTtcbiAgICAgICAgdGhpcy52YWx1ZVsxNV0gPSAxO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgbGVmdC1oYW5kZWQgcGVyc3BlY3Rpb24gcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICAgICAqIFRoZSBwcm9qZWN0aW9uIG1hdHJpeCBpcyBiYXNlZCBvbiBuZWFyIGFuZCBmYXIgdmlldyBkaXN0YW5jZSxcbiAgICAgKiBhbmdsZSBvZiB0aGUgdmlldyBvZiB0aGUgY2FtZXJhIGFuZCB5b3VyIHNjcmVlbiByZXNvbHV0aW9uIHByb3BvcnRpb24uXG4gICAgICogQHBhcmFtIGZvdiBUaGUgZmllbGQgb2YgdmlldyBpbiByYWRpYW5zLlxuICAgICAqIEBwYXJhbSBhc3BlY3QgVGhlIGFzcGVjdCByYXRpbyBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0gbmVhciBUaGUgbmVhciBjbGlwcGluZyBib3VuZCBvZiBmcnVzdHVtLiBTaG91bGQgYmUgbGFyZ2VyIHRoYW4gMC5cbiAgICAgKiBAcGFyYW0gZmFyIFRoZSBmYXIgY2xpcHBpbmcgYm91bmQgb2YgZnJ1c3R1bS4gU2hvdWxkIGJlIGxhcmdlciB0aGFuIDAuXG4gICAgICovXG4gICAgcGVyc3BlY3RpdmUoZm92LCBhc3BlY3QsIG5lYXIsIGZhcikge1xuICAgICAgICBjb25zdCBmID0gMS4wIC8gTWF0aC50YW4oZm92IC8gMik7XG4gICAgICAgIGxldCBuZjtcbiAgICAgICAgdGhpcy52YWx1ZVswXSA9IGYgLyBhc3BlY3Q7XG4gICAgICAgIHRoaXMudmFsdWVbMV0gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzJdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVszXSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbNF0gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzVdID0gZjtcbiAgICAgICAgdGhpcy52YWx1ZVs2XSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbN10gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzhdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVs5XSA9IDA7XG4gICAgICAgIHRoaXMudmFsdWVbMTFdID0gLTE7XG4gICAgICAgIHRoaXMudmFsdWVbMTJdID0gMDtcbiAgICAgICAgdGhpcy52YWx1ZVsxM10gPSAwO1xuICAgICAgICB0aGlzLnZhbHVlWzE1XSA9IDA7XG4gICAgICAgIGlmIChmYXIgIT09IG51bGwgJiYgZmFyICE9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICAgICAgICAgICAgdGhpcy52YWx1ZVsxMF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgICAgICAgICAgIHRoaXMudmFsdWVbMTRdID0gMiAqIGZhciAqIG5lYXIgKiBuZjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWVbMTBdID0gLTE7XG4gICAgICAgICAgICB0aGlzLnZhbHVlWzE0XSA9IC0yICogbmVhcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWVzIG9mIHRoaXMgbWF0cml4IGJhc2VkIG9uIGdpdmVuIHlhdywgcGl0Y2ggYW5kIHJvbGwuXG4gICAgICogRGVndSB1c2VzOiBZWFogTG9jYWwgQXhlcyBZYXcgKHkpLCBQaXRjaCAoeCksIFJvbGwgKHopXG4gICAgICovXG4gICAgeXByKHlhdywgcGl0Y2gsIHJvbGwpIHtcbiAgICAgICAgdGhpcy56ZXJvKCk7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBuZXcgTWF0cml4SVYoKS56ZXJvKCk7XG4gICAgICAgIGNvbnN0IHRlbXAyID0gbmV3IE1hdHJpeElWKCkuemVybygpO1xuICAgICAgICBjb25zdCBtMCA9IHRoaXMudmFsdWU7XG4gICAgICAgIGNvbnN0IG0xID0gdGVtcC52YWx1ZTtcbiAgICAgICAgY29uc3QgbTIgPSB0ZW1wMi52YWx1ZTtcbiAgICAgICAgLy8gIFJvdGF0ZSBaXG4gICAgICAgIGxldCBzID0gTWF0aC5zaW4ocm9sbCk7XG4gICAgICAgIGxldCBjID0gTWF0aC5jb3Mocm9sbCk7XG4gICAgICAgIG0wWzEwXSA9IDE7XG4gICAgICAgIG0wWzE1XSA9IDE7XG4gICAgICAgIG0wWzBdID0gYztcbiAgICAgICAgbTBbMV0gPSBzO1xuICAgICAgICBtMFs0XSA9IC1zO1xuICAgICAgICBtMFs1XSA9IGM7XG4gICAgICAgIC8vICBSb3RhdGUgWFxuICAgICAgICBzID0gTWF0aC5zaW4ocGl0Y2gpO1xuICAgICAgICBjID0gTWF0aC5jb3MocGl0Y2gpO1xuICAgICAgICBtMVswXSA9IDE7XG4gICAgICAgIG0xWzE1XSA9IDE7XG4gICAgICAgIG0xWzVdID0gYztcbiAgICAgICAgbTFbMTBdID0gYztcbiAgICAgICAgbTFbOV0gPSAtcztcbiAgICAgICAgbTFbNl0gPSBzO1xuICAgICAgICAvLyAgUm90YXRlIFlcbiAgICAgICAgcyA9IE1hdGguc2luKHlhdyk7XG4gICAgICAgIGMgPSBNYXRoLmNvcyh5YXcpO1xuICAgICAgICBtMls1XSA9IDE7XG4gICAgICAgIG0yWzE1XSA9IDE7XG4gICAgICAgIG0yWzBdID0gYztcbiAgICAgICAgbTJbMl0gPSAtcztcbiAgICAgICAgbTJbOF0gPSBzO1xuICAgICAgICBtMlsxMF0gPSBjO1xuICAgICAgICB0aGlzLm11bHRpcGx5KHRlbXApO1xuICAgICAgICB0aGlzLm11bHRpcGx5KHRlbXAyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhpcyBtYXRyaXggZnJvbSBhbiBhcnJheS5cbiAgICAgKiBAcGFyYW0gdmFsdWVzXG4gICAgICovXG4gICAgZnJvbUFycmF5KHZhbHVlcykge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWVzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc3RhdGljIGZyb21BcnJheSh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIE1hdHJpeElWLklERU5USVRZLmZyb21BcnJheSh2YWx1ZXMpO1xuICAgIH1cbiAgICAvLyBzdGF0aWMgZnJvbVF1YXRlcm5pb24ocTogUXVhdGVybmlvbik6IE1hdHJpeElWIHtcbiAgICAvLyAgICAgbGV0IHBvc2l0aW9uID0gVmVjdG9yLlpFUk87XG4gICAgLy8gICAgIGxldCBzY2FsZSA9IFZlY3Rvci5PTkU7XG4gICAgLy8gICAgIHJldHVybiBNYXRyaXhJVi5jb21wb3NlKHBvc2l0aW9uLCBxLCBzY2FsZSk7XG4gICAgLy8gfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBtYXRyaXhJViBmcm9tIGEgcXVhdGVybmlvbi5cbiAgICAgKiBCYXNlZCBvZmY6IGh0dHBzOi8vZ2l0aHViLmNvbS90b2ppL2dsLW1hdHJpeC9ibG9iL21hc3Rlci9zcmMvbWF0NC5qc1xuICAgICAqIEBwYXJhbSBxXG4gICAgICovXG4gICAgc3RhdGljIGZyb21RdWF0ZXJuaW9uKHEpIHtcbiAgICAgICAgY29uc3QgeCA9IHEueCwgeSA9IHEueSwgeiA9IHEueiwgdyA9IHEudztcbiAgICAgICAgY29uc3QgeDIgPSB4ICsgeDtcbiAgICAgICAgY29uc3QgeTIgPSB5ICsgeTtcbiAgICAgICAgY29uc3QgejIgPSB6ICsgejtcbiAgICAgICAgY29uc3QgeHggPSB4ICogeDI7XG4gICAgICAgIGNvbnN0IHl4ID0geSAqIHgyO1xuICAgICAgICBjb25zdCB5eSA9IHkgKiB5MjtcbiAgICAgICAgY29uc3QgenggPSB6ICogeDI7XG4gICAgICAgIGNvbnN0IHp5ID0geiAqIHkyO1xuICAgICAgICBjb25zdCB6eiA9IHogKiB6MjtcbiAgICAgICAgY29uc3Qgd3ggPSB3ICogeDI7XG4gICAgICAgIGNvbnN0IHd5ID0gdyAqIHkyO1xuICAgICAgICBjb25zdCB3eiA9IHcgKiB6MjtcbiAgICAgICAgY29uc3Qgb3V0ID0gW107XG4gICAgICAgIG91dFswXSA9IDEgLSB5eSAtIHp6O1xuICAgICAgICBvdXRbMV0gPSB5eCArIHd6O1xuICAgICAgICBvdXRbMl0gPSB6eCAtIHd5O1xuICAgICAgICBvdXRbM10gPSAwO1xuICAgICAgICBvdXRbNF0gPSB5eCAtIHd6O1xuICAgICAgICBvdXRbNV0gPSAxIC0geHggLSB6ejtcbiAgICAgICAgb3V0WzZdID0genkgKyB3eDtcbiAgICAgICAgb3V0WzddID0gMDtcbiAgICAgICAgb3V0WzhdID0genggKyB3eTtcbiAgICAgICAgb3V0WzldID0genkgLSB3eDtcbiAgICAgICAgb3V0WzEwXSA9IDEgLSB4eCAtIHl5O1xuICAgICAgICBvdXRbMTFdID0gMDtcbiAgICAgICAgb3V0WzEyXSA9IDA7XG4gICAgICAgIG91dFsxM10gPSAwO1xuICAgICAgICBvdXRbMTRdID0gMDtcbiAgICAgICAgb3V0WzE1XSA9IDE7XG4gICAgICAgIHJldHVybiBNYXRyaXhJVi5mcm9tQXJyYXkobmV3IEZsb2F0MzJBcnJheShvdXQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcG9zZXMgYSBuZXcgbWF0cml4SVYgZnJvbSBhIHBvc2l0aW9uLCByb3RhdGlvbiBhbmQgc2NhbGUuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqXG4gICAgICogbGV0IG1hdCA9IE1hdHJpeElWLmNvbXBvc2UocG9zaXRpb24sIHJvdGF0aW9uLCBzY2FsZSk7XG4gICAgICpcbiAgICAgKiAvLyBDcmVhdGUgYSByb3RhdGlvbiBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24uICBTYW1lIGVmZmVjdCBhc1xuICAgICAqIC8vIE1hdHJpeElWLmZyb21RdWF0ZXJpb24uXG4gICAgICogbGV0IHBvc2l0aW9uID0gVmVjdG9yLlpFUk87XG4gICAgICogbGV0IHNjYWxlID0gVmVjdG9yLk9ORTtcbiAgICAgKiBsZXQgbXlRdWF0ZXJuaW9uID0gUXVhdGVybmlvbi5mcm9tRXVsYXIoOTAsOTAsOTApO1xuICAgICAqIGxldCByb3RhdGlvbk1hdHJpeCA9IE1hdHJpeElWLmNvbXBvc2UocG9zaXRpb24sIHEsIHNjYWxlKTtcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVGhhbmtzIHRvIE1yLiBEb29iOlxuICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvYmxvYi9tYXN0ZXIvc3JjL21hdGgvTWF0cml4NC5qc1xuICAgICAqXG4gICAgICogQHBhcmFtIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0gc2NhbGVcbiAgICAgKi9cbiAgICBzdGF0aWMgY29tcG9zZShwb3NpdGlvbiwgcm90YXRpb24sIHNjYWxlKSB7XG4gICAgICAgIGNvbnN0IG91dCA9IFtdO1xuICAgICAgICBjb25zdCB4ID0gcm90YXRpb24ueCwgeSA9IHJvdGF0aW9uLnksIHogPSByb3RhdGlvbi56LCB3ID0gcm90YXRpb24udztcbiAgICAgICAgY29uc3QgeDIgPSB4ICsgeCwgeTIgPSB5ICsgeSwgejIgPSB6ICsgejtcbiAgICAgICAgY29uc3QgeHggPSB4ICogeDIsIHh5ID0geCAqIHkyLCB4eiA9IHggKiB6MjtcbiAgICAgICAgY29uc3QgeXkgPSB5ICogeTIsIHl6ID0geSAqIHoyLCB6eiA9IHogKiB6MjtcbiAgICAgICAgY29uc3Qgd3ggPSB3ICogeDIsIHd5ID0gdyAqIHkyLCB3eiA9IHcgKiB6MjtcbiAgICAgICAgY29uc3Qgc3ggPSBzY2FsZS54LCBzeSA9IHNjYWxlLnksIHN6ID0gc2NhbGUuejtcbiAgICAgICAgb3V0WzBdID0gKDEgLSAoeXkgKyB6eikpICogc3g7XG4gICAgICAgIG91dFsxXSA9ICh4eSArIHd6KSAqIHN4O1xuICAgICAgICBvdXRbMl0gPSAoeHogLSB3eSkgKiBzeDtcbiAgICAgICAgb3V0WzNdID0gMDtcbiAgICAgICAgb3V0WzRdID0gKHh5IC0gd3opICogc3k7XG4gICAgICAgIG91dFs1XSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xuICAgICAgICBvdXRbNl0gPSAoeXogKyB3eCkgKiBzeTtcbiAgICAgICAgb3V0WzddID0gMDtcbiAgICAgICAgb3V0WzhdID0gKHh6ICsgd3kpICogc3o7XG4gICAgICAgIG91dFs5XSA9ICh5eiAtIHd4KSAqIHN6O1xuICAgICAgICBvdXRbMTBdID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gICAgICAgIG91dFsxMV0gPSAwO1xuICAgICAgICBvdXRbMTJdID0gcG9zaXRpb24ueDtcbiAgICAgICAgb3V0WzEzXSA9IHBvc2l0aW9uLnk7XG4gICAgICAgIG91dFsxNF0gPSBwb3NpdGlvbi56O1xuICAgICAgICBvdXRbMTVdID0gMTtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXhJVigpLmZyb21BcnJheShuZXcgRmxvYXQzMkFycmF5KG91dCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuZCByZXR1cm5zIGFuIGlkZW50aXR5IG1hdHJpeC5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogbGV0IG0gPSBNYXRyaXhJVi5JREVOVElUWTtcbiAgICAgKiBgYGBcbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgc3RhdGljIGdldCBJREVOVElUWSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXhJVigpLmlkZW50aXR5KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsaWFzIHRvIE1hdHJpeElWIGlkZW50aXR5LlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgXygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXhJVigpLmlkZW50aXR5KCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0cml4SVYuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/mathf/matrixIV.js\n");

/***/ }),

/***/ "./lib/mathf/perlin-noise.js":
/*!***********************************!*\
  !*** ./lib/mathf/perlin-noise.js ***!
  \***********************************/
/*! exports provided: PerlinNoise */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PerlinNoise\", function() { return PerlinNoise; });\n/**\n * Port of Ken Perlin's noise algo and also sipmlex noise algo.\n * Big thanks to Ken Perlin, Kas Thomas for the explanation and also josephg.\n *\n * @see http://webstaff.itn.liu.se/~stegu/simplexnoise/simplexnoise.pdf\n * @see http://cs.nyu.edu/%7Eperlin/noise/\n * @see http://asserttrue.blogspot.com/2011/12/perlin-noise-in-javascript_31.html\n * @see https://github.com/josephg/noisejs/blob/master/perlin.js\n */\nclass PerlinNoise {\n    /**\n     * Generates perlin noise.  Specify normalized coordinates between 0 and 1.\n     * @param x  The x coordinate.\n     * @param y  The y coordinate.\n     * @param z  The z coordinate.\n     * @return A value between 0 and 1.\n     */\n    static noise3(x, y, z = 0) {\n        const fade = (t) => {\n            return t * t * t * (t * (t * 6 - 15) + 10);\n        };\n        const lerp = (t, a, b) => {\n            return a + t * (b - a);\n        };\n        const grad = (hash, x, y, z) => {\n            const h = hash & 15;\n            const u = h < 8 ? x : y, v = h < 4 ? y : h === 12 || h === 14 ? x : z;\n            return ((h & 1) === 0 ? u : -u) + ((h & 2) === 0 ? v : -v);\n        };\n        const scale = (n) => {\n            return (1 + n) / 2;\n        };\n        const p = new Array(512);\n        const permutation = [\n            151, 160, 137, 91, 90, 15, 131, 13, 201, 95, 96, 53, 194, 233, 7, 225,\n            140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10, 23, 190, 6, 148, 247,\n            120, 234, 75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177,\n            33, 88, 237, 149, 56, 87, 174, 20, 125, 136, 171, 168, 68, 175, 74, 165,\n            71, 134, 139, 48, 27, 166, 77, 146, 158, 231, 83, 111, 229, 122, 60, 211,\n            133, 230, 220, 105, 92, 41, 55, 46, 245, 40, 244, 102, 143, 54, 65, 25,\n            63, 161, 1, 216, 80, 73, 209, 76, 132, 187, 208, 89, 18, 169, 200, 196,\n            135, 130, 116, 188, 159, 86, 164, 100, 109, 198, 173, 186, 3, 64, 52, 217,\n            226, 250, 124, 123, 5, 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206,\n            59, 227, 47, 16, 58, 17, 182, 189, 28, 42, 223, 183, 170, 213, 119, 248,\n            152, 2, 44, 154, 163, 70, 221, 153, 101, 155, 167, 43, 172, 9, 129, 22,\n            39, 253, 19, 98, 108, 110, 79, 113, 224, 232, 178, 185, 112, 104, 218,\n            246, 97, 228, 251, 34, 242, 193, 238, 210, 144, 12, 191, 179, 162, 241,\n            81, 51, 145, 235, 249, 14, 239, 107, 49, 192, 214, 31, 181, 199, 106, 157,\n            184, 84, 204, 176, 115, 121, 50, 45, 127, 4, 150, 254, 138, 236, 205, 93,\n            222, 114, 67, 29, 24, 72, 243, 141, 128, 195, 78, 66, 215, 61, 156, 180,\n        ];\n        for (let i = 0; i < 256; i++)\n            p[256 + i] = p[i] = permutation[i];\n        const X = Math.floor(x) & 255, Y = Math.floor(y) & 255, Z = Math.floor(z) & 255;\n        x -= Math.floor(x);\n        y -= Math.floor(y);\n        z -= Math.floor(z);\n        const u = fade(x), v = fade(y), w = fade(z);\n        const A = p[X] + Y, AA = p[A] + Z, AB = p[A + 1] + Z, B = p[X + 1] + Y, BA = p[B] + Z, BB = p[B + 1] + Z;\n        return scale(lerp(w, lerp(v, lerp(u, grad(p[AA], x, y, z), grad(p[BA], x - 1, y, z)), lerp(u, grad(p[AB], x, y - 1, z), grad(p[BB], x - 1, y - 1, z))), lerp(v, lerp(u, grad(p[AA + 1], x, y, z - 1), grad(p[BA + 1], x - 1, y, z - 1)), lerp(u, grad(p[AB + 1], x, y - 1, z - 1), grad(p[BB + 1], x - 1, y - 1, z - 1)))));\n    }\n}\n//# sourceMappingURL=perlin-noise.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvcGVybGluLW5vaXNlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL21hdGhmL3Blcmxpbi1ub2lzZS5qcz8xY2U3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUG9ydCBvZiBLZW4gUGVybGluJ3Mgbm9pc2UgYWxnbyBhbmQgYWxzbyBzaXBtbGV4IG5vaXNlIGFsZ28uXG4gKiBCaWcgdGhhbmtzIHRvIEtlbiBQZXJsaW4sIEthcyBUaG9tYXMgZm9yIHRoZSBleHBsYW5hdGlvbiBhbmQgYWxzbyBqb3NlcGhnLlxuICpcbiAqIEBzZWUgaHR0cDovL3dlYnN0YWZmLml0bi5saXUuc2UvfnN0ZWd1L3NpbXBsZXhub2lzZS9zaW1wbGV4bm9pc2UucGRmXG4gKiBAc2VlIGh0dHA6Ly9jcy5ueXUuZWR1LyU3RXBlcmxpbi9ub2lzZS9cbiAqIEBzZWUgaHR0cDovL2Fzc2VydHRydWUuYmxvZ3Nwb3QuY29tLzIwMTEvMTIvcGVybGluLW5vaXNlLWluLWphdmFzY3JpcHRfMzEuaHRtbFxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vam9zZXBoZy9ub2lzZWpzL2Jsb2IvbWFzdGVyL3Blcmxpbi5qc1xuICovXG5leHBvcnQgY2xhc3MgUGVybGluTm9pc2Uge1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBwZXJsaW4gbm9pc2UuICBTcGVjaWZ5IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXMgYmV0d2VlbiAwIGFuZCAxLlxuICAgICAqIEBwYXJhbSB4ICBUaGUgeCBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB5ICBUaGUgeSBjb29yZGluYXRlLlxuICAgICAqIEBwYXJhbSB6ICBUaGUgeiBjb29yZGluYXRlLlxuICAgICAqIEByZXR1cm4gQSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEuXG4gICAgICovXG4gICAgc3RhdGljIG5vaXNlMyh4LCB5LCB6ID0gMCkge1xuICAgICAgICBjb25zdCBmYWRlID0gKHQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0ICogdCAqIHQgKiAodCAqICh0ICogNiAtIDE1KSArIDEwKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbGVycCA9ICh0LCBhLCBiKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYSArIHQgKiAoYiAtIGEpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBncmFkID0gKGhhc2gsIHgsIHksIHopID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGggPSBoYXNoICYgMTU7XG4gICAgICAgICAgICBjb25zdCB1ID0gaCA8IDggPyB4IDogeSwgdiA9IGggPCA0ID8geSA6IGggPT09IDEyIHx8IGggPT09IDE0ID8geCA6IHo7XG4gICAgICAgICAgICByZXR1cm4gKChoICYgMSkgPT09IDAgPyB1IDogLXUpICsgKChoICYgMikgPT09IDAgPyB2IDogLXYpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzY2FsZSA9IChuKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKDEgKyBuKSAvIDI7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHAgPSBuZXcgQXJyYXkoNTEyKTtcbiAgICAgICAgY29uc3QgcGVybXV0YXRpb24gPSBbXG4gICAgICAgICAgICAxNTEsIDE2MCwgMTM3LCA5MSwgOTAsIDE1LCAxMzEsIDEzLCAyMDEsIDk1LCA5NiwgNTMsIDE5NCwgMjMzLCA3LCAyMjUsXG4gICAgICAgICAgICAxNDAsIDM2LCAxMDMsIDMwLCA2OSwgMTQyLCA4LCA5OSwgMzcsIDI0MCwgMjEsIDEwLCAyMywgMTkwLCA2LCAxNDgsIDI0NyxcbiAgICAgICAgICAgIDEyMCwgMjM0LCA3NSwgMCwgMjYsIDE5NywgNjIsIDk0LCAyNTIsIDIxOSwgMjAzLCAxMTcsIDM1LCAxMSwgMzIsIDU3LCAxNzcsXG4gICAgICAgICAgICAzMywgODgsIDIzNywgMTQ5LCA1NiwgODcsIDE3NCwgMjAsIDEyNSwgMTM2LCAxNzEsIDE2OCwgNjgsIDE3NSwgNzQsIDE2NSxcbiAgICAgICAgICAgIDcxLCAxMzQsIDEzOSwgNDgsIDI3LCAxNjYsIDc3LCAxNDYsIDE1OCwgMjMxLCA4MywgMTExLCAyMjksIDEyMiwgNjAsIDIxMSxcbiAgICAgICAgICAgIDEzMywgMjMwLCAyMjAsIDEwNSwgOTIsIDQxLCA1NSwgNDYsIDI0NSwgNDAsIDI0NCwgMTAyLCAxNDMsIDU0LCA2NSwgMjUsXG4gICAgICAgICAgICA2MywgMTYxLCAxLCAyMTYsIDgwLCA3MywgMjA5LCA3NiwgMTMyLCAxODcsIDIwOCwgODksIDE4LCAxNjksIDIwMCwgMTk2LFxuICAgICAgICAgICAgMTM1LCAxMzAsIDExNiwgMTg4LCAxNTksIDg2LCAxNjQsIDEwMCwgMTA5LCAxOTgsIDE3MywgMTg2LCAzLCA2NCwgNTIsIDIxNyxcbiAgICAgICAgICAgIDIyNiwgMjUwLCAxMjQsIDEyMywgNSwgMjAyLCAzOCwgMTQ3LCAxMTgsIDEyNiwgMjU1LCA4MiwgODUsIDIxMiwgMjA3LCAyMDYsXG4gICAgICAgICAgICA1OSwgMjI3LCA0NywgMTYsIDU4LCAxNywgMTgyLCAxODksIDI4LCA0MiwgMjIzLCAxODMsIDE3MCwgMjEzLCAxMTksIDI0OCxcbiAgICAgICAgICAgIDE1MiwgMiwgNDQsIDE1NCwgMTYzLCA3MCwgMjIxLCAxNTMsIDEwMSwgMTU1LCAxNjcsIDQzLCAxNzIsIDksIDEyOSwgMjIsXG4gICAgICAgICAgICAzOSwgMjUzLCAxOSwgOTgsIDEwOCwgMTEwLCA3OSwgMTEzLCAyMjQsIDIzMiwgMTc4LCAxODUsIDExMiwgMTA0LCAyMTgsXG4gICAgICAgICAgICAyNDYsIDk3LCAyMjgsIDI1MSwgMzQsIDI0MiwgMTkzLCAyMzgsIDIxMCwgMTQ0LCAxMiwgMTkxLCAxNzksIDE2MiwgMjQxLFxuICAgICAgICAgICAgODEsIDUxLCAxNDUsIDIzNSwgMjQ5LCAxNCwgMjM5LCAxMDcsIDQ5LCAxOTIsIDIxNCwgMzEsIDE4MSwgMTk5LCAxMDYsIDE1NyxcbiAgICAgICAgICAgIDE4NCwgODQsIDIwNCwgMTc2LCAxMTUsIDEyMSwgNTAsIDQ1LCAxMjcsIDQsIDE1MCwgMjU0LCAxMzgsIDIzNiwgMjA1LCA5MyxcbiAgICAgICAgICAgIDIyMiwgMTE0LCA2NywgMjksIDI0LCA3MiwgMjQzLCAxNDEsIDEyOCwgMTk1LCA3OCwgNjYsIDIxNSwgNjEsIDE1NiwgMTgwLFxuICAgICAgICBdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgaSsrKVxuICAgICAgICAgICAgcFsyNTYgKyBpXSA9IHBbaV0gPSBwZXJtdXRhdGlvbltpXTtcbiAgICAgICAgY29uc3QgWCA9IE1hdGguZmxvb3IoeCkgJiAyNTUsIFkgPSBNYXRoLmZsb29yKHkpICYgMjU1LCBaID0gTWF0aC5mbG9vcih6KSAmIDI1NTtcbiAgICAgICAgeCAtPSBNYXRoLmZsb29yKHgpO1xuICAgICAgICB5IC09IE1hdGguZmxvb3IoeSk7XG4gICAgICAgIHogLT0gTWF0aC5mbG9vcih6KTtcbiAgICAgICAgY29uc3QgdSA9IGZhZGUoeCksIHYgPSBmYWRlKHkpLCB3ID0gZmFkZSh6KTtcbiAgICAgICAgY29uc3QgQSA9IHBbWF0gKyBZLCBBQSA9IHBbQV0gKyBaLCBBQiA9IHBbQSArIDFdICsgWiwgQiA9IHBbWCArIDFdICsgWSwgQkEgPSBwW0JdICsgWiwgQkIgPSBwW0IgKyAxXSArIFo7XG4gICAgICAgIHJldHVybiBzY2FsZShsZXJwKHcsIGxlcnAodiwgbGVycCh1LCBncmFkKHBbQUFdLCB4LCB5LCB6KSwgZ3JhZChwW0JBXSwgeCAtIDEsIHksIHopKSwgbGVycCh1LCBncmFkKHBbQUJdLCB4LCB5IC0gMSwgeiksIGdyYWQocFtCQl0sIHggLSAxLCB5IC0gMSwgeikpKSwgbGVycCh2LCBsZXJwKHUsIGdyYWQocFtBQSArIDFdLCB4LCB5LCB6IC0gMSksIGdyYWQocFtCQSArIDFdLCB4IC0gMSwgeSwgeiAtIDEpKSwgbGVycCh1LCBncmFkKHBbQUIgKyAxXSwgeCwgeSAtIDEsIHogLSAxKSwgZ3JhZChwW0JCICsgMV0sIHggLSAxLCB5IC0gMSwgeiAtIDEpKSkpKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wZXJsaW4tbm9pc2UuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/mathf/perlin-noise.js\n");

/***/ }),

/***/ "./lib/mathf/quaternion.js":
/*!*********************************!*\
  !*** ./lib/mathf/quaternion.js ***!
  \*********************************/
/*! exports provided: Quaternion */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Quaternion\", function() { return Quaternion; });\n/* harmony import */ var _mathf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _matrixIV__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./matrixIV */ \"./lib/mathf/matrixIV.js\");\n/* harmony import */ var _vector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vector */ \"./lib/mathf/vector.js\");\n\n\n\n/**\n * A basic quaternion class.\n *\n * A good intro on quaternion is:\n * https://github.com/NickCuso/Tutorials/blob/master/Quaternions.md\n *\n *\n * Some common uses:\n * ```ts\n * // Slerp to a specific eular angle.\n *  let target = Quaternion.fromEuler(90, 20, 0);\n *  myQuat.slerp(target, this.progress);\n *\n * // Add rotation by 90 degrees in X and 90 degress in y.\n * let xRadian = mathf.degreesToRadian(90);\n * let yRadian = mathf.degreesToRadian(90);\n * let q1 = Quaternion.IDENTITY.angleAxis(xRadian, Vector.RIGHT); // x\n * let q2 = Quaternion.IDENTITY.angleAxis(yRadian, Vector.UP); /// y\n * myQuat.rotation.multiply(q1).multiply(q2).multiply(q3);\n *\n *\n * // Add 90 degrees in X rotation to whatever it is now.\n * myQuat.addEular(90, 0, 0);\n *\n *\n * // Create rotational matrix from Quaternion\n * const rotationMatrix = MatrivIV.fromQuaternion(myQuat);\n * const matrixString = rotationMatrix.toCss3dMatrix();\n *\n * // Apply it to a DOM element if you want\n * // (although this would only be rotaiton, no positon or scale)\n * this.element.style.transform = matrixString;\n *\n * ```\n *\n * Adapted from:\n * https://github.com/NickCuso/Tutorials/blob/master/Quaternions.md\n * @see https://github.com/toji/gl-matrix\n * @see https://github.com/mattdesl/vecmath\n * @see https://cubap.github.io/phaser3-docs/math_Quaternion.js.html\n *\n * @unstable\n */\nclass Quaternion {\n    constructor(x = 0, y = 0, z = 0, w = 1) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n    }\n    /***\n     * Makes a clone of this quaternion.\n     *\n     * ```ts\n     *\n     * var q = new Quaternion(0.4,0,0,1);\n     * var clone = q.clone();\n     *\n     * ```\n     */\n    clone() {\n        return new Quaternion(this.x, this.y, this.z, this.w);\n    }\n    /**\n     * Sets x, y, z, w of this quaternion.\n     */\n    set(x = 0, y = 0, z = 0, w = 1) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n        return this;\n    }\n    /**\n     * Adds a given quaternion or vector to this quaternion.\n     *\n     * ```ts\n     *\n     * var q = new Quaternion(0,0,0,0);\n     * var q2 = new Quaternion(0,0,0,0);\n     * q.add(q2);\n     *\n     * ```\n     */\n    add(q) {\n        return Quaternion.add(this.clone(), q);\n    }\n    /**\n     * Adds a given quaternion or vector to another quaternion or vector and\n     * return a new one.\n     *\n     * ```ts\n     *\n     * var q = new Quaternion(0,0,0,0);\n     * var q2 = new Quaternion(0,0,0,0);\n     * var q3 = Quaternion.add(q, q2);\n     *\n     * ```\n     */\n    static add(q1, q2) {\n        const x = q1.x + q2.x;\n        const y = q1.y + q2.y;\n        const z = q1.z + q2.z;\n        const w = q1.w + q2.w;\n        return new Quaternion(x, y, z, w);\n    }\n    /**\n     * Combines eular degrees to the quaternion.\n     *\n     *```ts\n     * // Add 30 degrees in x rotation.\n     * var q = new Quaternion(0,0,0,0);\n     * q.addEular(30, 0, 0);\n     *\n     * ```\n     *\n     * @param x x in degrees\n     * @param y y in degrees\n     * @param z z in degrees\n     */\n    addEuler(x, y, z) {\n        x = _mathf__WEBPACK_IMPORTED_MODULE_0__[\"degreeToRadian\"](x);\n        y = _mathf__WEBPACK_IMPORTED_MODULE_0__[\"degreeToRadian\"](y);\n        z = _mathf__WEBPACK_IMPORTED_MODULE_0__[\"degreeToRadian\"](z);\n        const q = Quaternion.fromEuler(x, y, z);\n        this.multiply(q);\n        return this;\n    }\n    /**\n     * Subtracts a given quaternion or vector to this quaternion.\n     *\n     * ```ts\n     *\n     * var q = new Quaternion(0,0,0,0);\n     * var q2 = new Quaternion(0,0,0,0);\n     * q.subtract(q2);\n     *\n     * ```\n     */\n    subtract(q) {\n        this.x -= q.x;\n        this.y -= q.y;\n        this.z -= q.z;\n        this.w -= q.w;\n        return this;\n    }\n    /**\n     * Subtracts a given quaternion or vector to another quaternion or vector and\n     * return a new one.\n     *\n     * ```ts\n     *\n     * var q = new Quaternion(0,0,0,0);\n     * var q2 = new Quaternion(0,0,0,0);\n     * var q3 = Quaternion.subtract(q, q2);\n     *\n     * ```\n     */\n    static subtract(q1, q2) {\n        const x = q1.x - q2.x;\n        const y = q1.y - q2.y;\n        const z = q1.z - q2.z;\n        const w = q1.w - q2.w;\n        return new Quaternion(x, y, z, w);\n    }\n    /**\n     * Multiplies two quaternions.\n     * @param a\n     * @param b\n     */\n    static multiply(a, b) {\n        const ax = a.x, ay = a.y, az = a.z, aw = a.w;\n        const bx = b.x, by = b.y, bz = b.z, bw = b.w;\n        const out = Quaternion.IDENTITY;\n        out.x = ax * bw + aw * bx + ay * bz - az * by;\n        out.y = ay * bw + aw * by + az * bx - ax * bz;\n        out.z = az * bw + aw * bz + ax * by - ay * bx;\n        out.w = aw * bw - ax * bx - ay * by - az * bz;\n        return out;\n    }\n    /**\n     * Multiplies the current quaternion with provided Quaternion a.\n     *\n     *\n     * ```ts\n     *   // Given x, y, z radians, add x,y,z rotation to the current quaternion.\n     *   let q1 = Quaternion.IDENTITY.angleAxis(x, Vector.RIGHT);\n     *   let q2 = Quaternion.IDENTITY.angleAxis(y, Vector.UP);\n     *   let q3 = Quaternion.IDENTITY.angleAxis(z, Vector.FORWARD);\n     *   this.multiply(q1).multiply(q2).multiply(q3);\n     *\n     * ```\n     *\n     *\n     * @param a\n     */\n    multiply(a) {\n        const n = Quaternion.multiply(this, a);\n        this.copy(n);\n        return this;\n    }\n    /**\n     * Scales this Quaternion by a given scale.\n     */\n    scale(scalar) {\n        if (isFinite(scalar)) {\n            this.x *= scalar;\n            this.y *= scalar;\n            this.z *= scalar;\n            this.w *= scalar;\n            return this;\n        }\n        else {\n            return Quaternion.ZERO;\n        }\n    }\n    /**\n     * Calculates the length / magnitude of this quaternion.\n     */\n    length() {\n        const x = this.x;\n        const y = this.y;\n        const z = this.z;\n        const w = this.w;\n        return Math.sqrt(x * x + y * y + z * z + w * w);\n    }\n    /**\n     * Calculates the length squared\n     */\n    lengthSquared() {\n        const x = this.x;\n        const y = this.y;\n        const z = this.z;\n        const w = this.w;\n        return x * x + y * y + z * z + w * w;\n    }\n    /**\n     * Calculates the magnitude of this quaternion.\n     * Alias of [[Quaternion.length]]\n     */\n    magnitude() {\n        return this.length();\n    }\n    /**\n     * Normalizes this quaternion.\n     */\n    normalize() {\n        const x = this.x;\n        const y = this.y;\n        const z = this.z;\n        const w = this.w;\n        let len = x * x + y * y + z * z + w * w;\n        if (len > 0) {\n            len = 1 / Math.sqrt(len);\n            this.x = x * len;\n            this.y = y * len;\n            this.z = z * len;\n            this.w = w * len;\n        }\n        return this;\n    }\n    /**\n     * Calculates the dot product of this Quaternion (or Vector) and the given\n     * Quaternion (or Vector)\n     * @return The dot product of this quarternion and the provided quaternion.\n     */\n    dot(q) {\n        return this.x * q.x + this.y * q.y + this.z * q.z + this.w * q.w;\n    }\n    /**\n     * Linear interpolates this Quaternion towards the given quaternion or vector.\n     * @param q\n     * @param progress\n     */\n    lerp(q, progress) {\n        this.x = _mathf__WEBPACK_IMPORTED_MODULE_0__[\"lerp\"](this.x, q.x, progress);\n        this.y = _mathf__WEBPACK_IMPORTED_MODULE_0__[\"lerp\"](this.y, q.y, progress);\n        this.z = _mathf__WEBPACK_IMPORTED_MODULE_0__[\"lerp\"](this.z, q.z, progress);\n        this.w = _mathf__WEBPACK_IMPORTED_MODULE_0__[\"lerp\"](this.w, q.z, progress);\n        return this;\n    }\n    /**\n     * Slerps to a specific rotation in Euler degrees.\n     *\n     * ```ts\n     *\n     * myQuat.slerpEuler(30, 0, 0, this.progress);\n     *\n     * ```\n     * @param x\n     * @param y\n     * @param z\n     */\n    slerpEuler(x, y, z, progress) {\n        const target = Quaternion.fromEuler(x, y, z);\n        this.slerp(target, progress);\n        return this;\n    }\n    /**\n     * Slerps to a specific rotation in Eular degrees where eular is provided\n     * by a Vector\n     * @param v\n     * @param progress\n     */\n    slerpEulerVector(v, progress) {\n        return this.slerpEuler(v.x, v.y, v.z, progress);\n    }\n    /**\n     * Slerps this quaternion towards the given quaternion or vector.\n     * Inspired by: https://jsperf.com/quaternion-slerp-implementations\n     *\n     * ```ts\n     *\n     *  let target = Quaternion.fromEuler(90, 20, 0);\n     *  myQuat.slerp(target, this.progress);\n     *\n     * ```\n     *\n     *\n     * @param q\n     * @param progress\n     */\n    slerp(q, progress) {\n        const EPSILON = 0.000001;\n        const ax = this.x;\n        const ay = this.y;\n        const az = this.z;\n        const aw = this.w;\n        let bx = q.x;\n        let by = q.y;\n        let bz = q.z;\n        let bw = q.w;\n        let cosom = ax * bx + ay * by + az * bz + aw * bw;\n        if (cosom < 0) {\n            cosom = -cosom;\n            bx = -bx;\n            by = -by;\n            bz = -bz;\n            bw = -bw;\n        }\n        let s0 = 1 - progress;\n        let s1 = progress;\n        if (1 - cosom > EPSILON) {\n            const omega = Math.acos(cosom);\n            const sinom = Math.sin(omega);\n            s0 = Math.sin((1.0 - progress) * omega) / sinom;\n            s1 = Math.sin(progress * omega) / sinom;\n        }\n        this.x = s0 * ax + s1 * bx;\n        this.y = s0 * ay + s1 * by;\n        this.z = s0 * az + s1 * bz;\n        this.w = s0 * aw + s1 * bw;\n        return this;\n    }\n    /**\n     * Inverts this quaternion.\n     */\n    invert() {\n        const a0 = this.x;\n        const a1 = this.y;\n        const a2 = this.z;\n        const a3 = this.w;\n        const dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n        const invDot = dot ? 1 / dot : 0;\n        this.x = -a0 * invDot;\n        this.y = -a1 * invDot;\n        this.z = -a2 * invDot;\n        this.w = a3 * invDot;\n        return this;\n    }\n    /**\n     * Set rotation X of the quaternion by given degree\n     * @param rad\n     */\n    rotateX(degree) {\n        const q1 = Quaternion.IDENTITY.angleAxis(_mathf__WEBPACK_IMPORTED_MODULE_0__[\"degreeToRadian\"](degree), _vector__WEBPACK_IMPORTED_MODULE_2__[\"Vector\"].RIGHT);\n        return this.multiply(q1);\n    }\n    /**\n     * Set rotation Y of the quaternion by given degree\n     * @param rad\n     */\n    rotateY(degree) {\n        const q1 = Quaternion.IDENTITY.angleAxis(_mathf__WEBPACK_IMPORTED_MODULE_0__[\"degreeToRadian\"](degree), _vector__WEBPACK_IMPORTED_MODULE_2__[\"Vector\"].UP);\n        return this.multiply(q1);\n    }\n    /**\n     * Set rotation Y of the quaternion by given degree\n     * @param rad\n     */\n    rotateZ(degree) {\n        const q1 = Quaternion.IDENTITY.angleAxis(_mathf__WEBPACK_IMPORTED_MODULE_0__[\"degreeToRadian\"](degree), _vector__WEBPACK_IMPORTED_MODULE_2__[\"Vector\"].FORWARD);\n        return this.multiply(q1);\n    }\n    /**\n     * Copies the content of another Quaternion into this quaterion.\n     * @param q\n     */\n    copy(q) {\n        this.x = q.x;\n        this.y = q.y;\n        this.z = q.z;\n        this.w = q.w;\n        return this;\n    }\n    /**\n     * Conjugate this quaternion\n     */\n    conjugate() {\n        this.x = -this.x;\n        this.y = -this.y;\n        this.z = -this.z;\n        return this;\n    }\n    /**\n     * Creates a Quaternion from the given euler angle x, y, z.\n     *\n     * ```ts\n     *\n     * let quat = Quaternion.fromEuler(180, 90, -90);\n     *\n     * ```\n     * @see https://quaternions.online/\n     * @see https://en.wikipedia.org/wiki/Conversion_between_quaternions_and_Euler_angles\n     * @param x x\n     * @param y y\n     * @param z z\n     */\n    static fromEuler(x, y, z) {\n        x = _mathf__WEBPACK_IMPORTED_MODULE_0__[\"degreeToRadian\"](x);\n        y = _mathf__WEBPACK_IMPORTED_MODULE_0__[\"degreeToRadian\"](y);\n        z = _mathf__WEBPACK_IMPORTED_MODULE_0__[\"degreeToRadian\"](z);\n        const cos = Math.cos;\n        const sin = Math.sin;\n        const c1 = cos(x / 2);\n        const c2 = cos(y / 2);\n        const c3 = cos(z / 2);\n        const s1 = sin(x / 2);\n        const s2 = sin(y / 2);\n        const s3 = sin(z / 2);\n        // XYZ ordering.\n        // https://github.com/mrdoob/three.js/blob/master/src/math/Quaternion.js#L224\n        const rx = s1 * c2 * c3 + c1 * s2 * s3;\n        const ry = c1 * s2 * c3 - s1 * c2 * s3;\n        const rz = c1 * c2 * s3 + s1 * s2 * c3;\n        const rw = c1 * c2 * c3 - s1 * s2 * s3;\n        return new Quaternion(rx, ry, rz, rw);\n    }\n    /**\n     * Converts a Euler Degree vector to a Quaternion.\n     *\n     * ```ts\n     *\n     * let eulerVector = new Vector(90, 180, 0);\n     * let quat = Quaternion.fromEulerVector(eulerVector);\n     * ```\n     *\n     * @param v\n     */\n    static fromEulerVector(v) {\n        return Quaternion.fromEuler(v.x, v.y, v.z);\n    }\n    /**\n     * Converts a quaternion to a EulerVector consisting of degrees.\n     * YXZ Local Axes Yaw (y), Pitch (x), Roll (z)\n     * Outputs XYZ ordering.\n     *\n     * This method is best avoided because of instability.\n     *\n     * Yaw, Roll will be +-180.\n     * Pitch will be +- 90.\n     *\n     * ```ts\n     *\n     * let quaternion = new Quaternion(2,3,4);\n     * let v = Quaternion.toEulerVector(q);\n     *\n     * ```\n     *\n     * @see https://bit.ly/1TzLyaC\n     * @param q\n     */\n    static toEulerVector(q) {\n        let result = _vector__WEBPACK_IMPORTED_MODULE_2__[\"Vector\"].ZERO;\n        // // Create a rotation matrix from the quaternion.\n        const matrix = _matrixIV__WEBPACK_IMPORTED_MODULE_1__[\"MatrixIV\"].fromQuaternion(q.clone());\n        result = _vector__WEBPACK_IMPORTED_MODULE_2__[\"Vector\"].fromRotationMatrixIV(matrix);\n        return result;\n    }\n    /**\n     * Creates a rotation which rotates angle degrees around axis.\n     * Assumes the axis vector is normalized.\n     * ```ts\n     *\n     * // Rotate 23 degrees around X and Y axis.\n     * let rad = mathf.degreesToRadian(23);\n     *\n     *\n     * let q1 = Quaternion.IDENTITY.angleAxis(rad, Vector.UP); // Y\n     * let q2 = Quaternion.IDENTITY.angleAxis(rad, Vector.RIGHT); // X\n     *\n     * myQuat.multiply(q1).multiply(q2)\n     *\n     * ```\n     *\n     * @param rad Angle in radians\n     * @param axis An axis vector to rotate on. Axis should be normalized.\n     */\n    angleAxis(rad, axis) {\n        rad = rad * 0.5;\n        const s = Math.sin(rad);\n        this.x = s * axis.x;\n        this.y = s * axis.y;\n        this.z = s * axis.z;\n        this.w = Math.cos(rad);\n        return this;\n    }\n    /**\n     * Creates a quaternion from a rotation matrix.\n     * @param m\n     */\n    static fromRotationMatrixIV(m) {\n        let q = Quaternion.IDENTITY;\n        const a00 = m.value[0];\n        const a01 = m.value[1];\n        const a02 = m.value[2];\n        // const a03 = m.value[3];\n        const a10 = m.value[4];\n        const a11 = m.value[5];\n        const a12 = m.value[6];\n        // const a13 = m.value[7];\n        const a20 = m.value[8];\n        const a21 = m.value[9];\n        const a22 = m.value[10];\n        // const a23 = m.value[11];\n        // const a30 = m.value[12];\n        // const a31 = m.value[13];\n        // const a32 = m.value[14];\n        // const a33 = m.value[15];\n        // q.w = Math.sqrt(1.0 + a00 + a11 + a22) / 2.0;\n        // let w4 = (4.0 * q.w);\n        // q.x = -(a21 - a12) / w4;\n        // q.y = -(a02 - a20) / w4;\n        // q.z = -(a10 - a01) / w4;\n        let t;\n        if (a22 < 0) {\n            if (a00 > a11) {\n                t = 1 + a00 - a11 - a22;\n                q = new Quaternion(t, a01 + a10, a20 + a02, a12 - a21);\n            }\n            else {\n                t = 1 - a00 + a11 - a22;\n                q = new Quaternion(a01 + a10, t, a12 + a21, a20 - a02);\n            }\n        }\n        else {\n            if (a00 < -a11) {\n                t = 1 - a00 - a11 + a22;\n                q = new Quaternion(a20 + a02, a12 + a21, t, a01 - a10);\n            }\n            else {\n                t = 1 + a00 + a11 + a22;\n                q = new Quaternion(a12 - a21, a20 - a02, a01 - a10, t);\n            }\n        }\n        q.scale(0.5 / Math.sqrt(t));\n        return q;\n    }\n    /**\n     * Creates a new quat from a set of arrays.\n     *\n     * ```ts\n     * var q = Quaternion.fromArray([0,2,2,0]);\n     * ```\n     */\n    static fromArray(values) {\n        return new Quaternion(values[0], values[1], values[2], values[3]);\n    }\n    /**\n     * Limits the number of decimals on each quaternion dimension.\n     * @param numberOfDecimals\n     */\n    toFixed(numberOfDecimals) {\n        return new Quaternion(_mathf__WEBPACK_IMPORTED_MODULE_0__[\"toFixed\"](_mathf__WEBPACK_IMPORTED_MODULE_0__[\"absZero\"](this.x), numberOfDecimals), _mathf__WEBPACK_IMPORTED_MODULE_0__[\"toFixed\"](_mathf__WEBPACK_IMPORTED_MODULE_0__[\"absZero\"](this.y), numberOfDecimals), _mathf__WEBPACK_IMPORTED_MODULE_0__[\"toFixed\"](_mathf__WEBPACK_IMPORTED_MODULE_0__[\"absZero\"](this.z), numberOfDecimals), _mathf__WEBPACK_IMPORTED_MODULE_0__[\"toFixed\"](_mathf__WEBPACK_IMPORTED_MODULE_0__[\"absZero\"](this.w), numberOfDecimals));\n    }\n    /**\n     *\n     * @param source https://github.com/mrdoob/three.js/issues/382\n     * @param target\n     */\n    static rotateTo(source, target, up) {\n        const m = _matrixIV__WEBPACK_IMPORTED_MODULE_1__[\"MatrixIV\"].IDENTITY;\n        m.lookAt(target, source, up);\n        const temp = m.value;\n        //         var m00 = temp.n11, m10 = temp.n21, m20 = temp.n31,\n        // m01 = temp.n12, m11 = temp.n22, m21 = temp.n32,\n        // m02 = temp.n13, m12 = temp.n23, m22 = temp.n33;\n        const m00 = temp[0], m10 = temp[1], m20 = temp[2], m01 = temp[5], m11 = temp[6], m21 = temp[7], m02 = temp[9], m12 = temp[10], m22 = temp[11];\n        const t = m00 + m11 + m22;\n        let s, x, y, z, w;\n        if (t > 0) {\n            s = Math.sqrt(t + 1) * 2;\n            w = 0.25 * s;\n            x = (m21 - m12) / s;\n            y = (m02 - m20) / s;\n            z = (m10 - m01) / s;\n        }\n        else if (m00 > m11 && m00 > m22) {\n            s = Math.sqrt(1.0 + m00 - m11 - m22) * 2;\n            x = s * 0.25;\n            y = (m10 + m01) / s;\n            z = (m02 + m20) / s;\n            w = (m21 - m12) / s;\n        }\n        else if (m11 > m22) {\n            s = Math.sqrt(1.0 + m11 - m00 - m22) * 2;\n            y = s * 0.25;\n            x = (m10 + m01) / s;\n            z = (m21 + m12) / s;\n            w = (m02 - m20) / s;\n        }\n        else {\n            s = Math.sqrt(1.0 + m22 - m00 - m11) * 2;\n            z = s * 0.25;\n            x = (m02 + m20) / s;\n            y = (m21 + m12) / s;\n            w = (m10 - m01) / s;\n        }\n        const rotation = new Quaternion(x, y, z, w);\n        rotation.normalize();\n        return rotation;\n    }\n    /**\n     * A static zero quaternion.  Additive identity.\n     *\n     * ```ts\n     * let q = Quaternion.ZERO;\n     * ```\n     */\n    static get ZERO() {\n        return new Quaternion(0, 0, 0, 0);\n    }\n    static get I() {\n        return new Quaternion(0, 1, 0, 0);\n    }\n    static get J() {\n        return new Quaternion(0, 0, 1, 0);\n    }\n    static get K() {\n        return new Quaternion(0, 0, 0, 1);\n    }\n    /**\n     * A static identity quaternion.  Multiplicative identity.\n     *\n     * ```ts\n     * let q = Quaternion.IDENTITY;\n     * ```\n     */\n    static get IDENTITY() {\n        return new Quaternion(0, 0, 0, 1);\n    }\n    /**\n     * A static one quaternion.\n     *\n     * ```ts\n     * let q = Quaternion.ONE;\n     * ```\n     */\n    static get ONE() {\n        return new Quaternion(1, 1, 1);\n    }\n}\n//# sourceMappingURL=quaternion.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvcXVhdGVybmlvbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9tYXRoZi9xdWF0ZXJuaW9uLmpzPzU4NDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgbWF0aGYgZnJvbSAnLi9tYXRoZic7XG5pbXBvcnQgeyBNYXRyaXhJViB9IGZyb20gJy4vbWF0cml4SVYnO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi92ZWN0b3InO1xuLyoqXG4gKiBBIGJhc2ljIHF1YXRlcm5pb24gY2xhc3MuXG4gKlxuICogQSBnb29kIGludHJvIG9uIHF1YXRlcm5pb24gaXM6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vTmlja0N1c28vVHV0b3JpYWxzL2Jsb2IvbWFzdGVyL1F1YXRlcm5pb25zLm1kXG4gKlxuICpcbiAqIFNvbWUgY29tbW9uIHVzZXM6XG4gKiBgYGB0c1xuICogLy8gU2xlcnAgdG8gYSBzcGVjaWZpYyBldWxhciBhbmdsZS5cbiAqICBsZXQgdGFyZ2V0ID0gUXVhdGVybmlvbi5mcm9tRXVsZXIoOTAsIDIwLCAwKTtcbiAqICBteVF1YXQuc2xlcnAodGFyZ2V0LCB0aGlzLnByb2dyZXNzKTtcbiAqXG4gKiAvLyBBZGQgcm90YXRpb24gYnkgOTAgZGVncmVlcyBpbiBYIGFuZCA5MCBkZWdyZXNzIGluIHkuXG4gKiBsZXQgeFJhZGlhbiA9IG1hdGhmLmRlZ3JlZXNUb1JhZGlhbig5MCk7XG4gKiBsZXQgeVJhZGlhbiA9IG1hdGhmLmRlZ3JlZXNUb1JhZGlhbig5MCk7XG4gKiBsZXQgcTEgPSBRdWF0ZXJuaW9uLklERU5USVRZLmFuZ2xlQXhpcyh4UmFkaWFuLCBWZWN0b3IuUklHSFQpOyAvLyB4XG4gKiBsZXQgcTIgPSBRdWF0ZXJuaW9uLklERU5USVRZLmFuZ2xlQXhpcyh5UmFkaWFuLCBWZWN0b3IuVVApOyAvLy8geVxuICogbXlRdWF0LnJvdGF0aW9uLm11bHRpcGx5KHExKS5tdWx0aXBseShxMikubXVsdGlwbHkocTMpO1xuICpcbiAqXG4gKiAvLyBBZGQgOTAgZGVncmVlcyBpbiBYIHJvdGF0aW9uIHRvIHdoYXRldmVyIGl0IGlzIG5vdy5cbiAqIG15UXVhdC5hZGRFdWxhcig5MCwgMCwgMCk7XG4gKlxuICpcbiAqIC8vIENyZWF0ZSByb3RhdGlvbmFsIG1hdHJpeCBmcm9tIFF1YXRlcm5pb25cbiAqIGNvbnN0IHJvdGF0aW9uTWF0cml4ID0gTWF0cml2SVYuZnJvbVF1YXRlcm5pb24obXlRdWF0KTtcbiAqIGNvbnN0IG1hdHJpeFN0cmluZyA9IHJvdGF0aW9uTWF0cml4LnRvQ3NzM2RNYXRyaXgoKTtcbiAqXG4gKiAvLyBBcHBseSBpdCB0byBhIERPTSBlbGVtZW50IGlmIHlvdSB3YW50XG4gKiAvLyAoYWx0aG91Z2ggdGhpcyB3b3VsZCBvbmx5IGJlIHJvdGFpdG9uLCBubyBwb3NpdG9uIG9yIHNjYWxlKVxuICogdGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IG1hdHJpeFN0cmluZztcbiAqXG4gKiBgYGBcbiAqXG4gKiBBZGFwdGVkIGZyb206XG4gKiBodHRwczovL2dpdGh1Yi5jb20vTmlja0N1c28vVHV0b3JpYWxzL2Jsb2IvbWFzdGVyL1F1YXRlcm5pb25zLm1kXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90b2ppL2dsLW1hdHJpeFxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvdmVjbWF0aFxuICogQHNlZSBodHRwczovL2N1YmFwLmdpdGh1Yi5pby9waGFzZXIzLWRvY3MvbWF0aF9RdWF0ZXJuaW9uLmpzLmh0bWxcbiAqXG4gKiBAdW5zdGFibGVcbiAqL1xuZXhwb3J0IGNsYXNzIFF1YXRlcm5pb24ge1xuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgeiA9IDAsIHcgPSAxKSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMueiA9IHo7XG4gICAgICAgIHRoaXMudyA9IHc7XG4gICAgfVxuICAgIC8qKipcbiAgICAgKiBNYWtlcyBhIGNsb25lIG9mIHRoaXMgcXVhdGVybmlvbi5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICpcbiAgICAgKiB2YXIgcSA9IG5ldyBRdWF0ZXJuaW9uKDAuNCwwLDAsMSk7XG4gICAgICogdmFyIGNsb25lID0gcS5jbG9uZSgpO1xuICAgICAqXG4gICAgICogYGBgXG4gICAgICovXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVhdGVybmlvbih0aGlzLngsIHRoaXMueSwgdGhpcy56LCB0aGlzLncpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHgsIHksIHosIHcgb2YgdGhpcyBxdWF0ZXJuaW9uLlxuICAgICAqL1xuICAgIHNldCh4ID0gMCwgeSA9IDAsIHogPSAwLCB3ID0gMSkge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLnogPSB6O1xuICAgICAgICB0aGlzLncgPSB3O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGdpdmVuIHF1YXRlcm5pb24gb3IgdmVjdG9yIHRvIHRoaXMgcXVhdGVybmlvbi5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICpcbiAgICAgKiB2YXIgcSA9IG5ldyBRdWF0ZXJuaW9uKDAsMCwwLDApO1xuICAgICAqIHZhciBxMiA9IG5ldyBRdWF0ZXJuaW9uKDAsMCwwLDApO1xuICAgICAqIHEuYWRkKHEyKTtcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGFkZChxKSB7XG4gICAgICAgIHJldHVybiBRdWF0ZXJuaW9uLmFkZCh0aGlzLmNsb25lKCksIHEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgZ2l2ZW4gcXVhdGVybmlvbiBvciB2ZWN0b3IgdG8gYW5vdGhlciBxdWF0ZXJuaW9uIG9yIHZlY3RvciBhbmRcbiAgICAgKiByZXR1cm4gYSBuZXcgb25lLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKlxuICAgICAqIHZhciBxID0gbmV3IFF1YXRlcm5pb24oMCwwLDAsMCk7XG4gICAgICogdmFyIHEyID0gbmV3IFF1YXRlcm5pb24oMCwwLDAsMCk7XG4gICAgICogdmFyIHEzID0gUXVhdGVybmlvbi5hZGQocSwgcTIpO1xuICAgICAqXG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIGFkZChxMSwgcTIpIHtcbiAgICAgICAgY29uc3QgeCA9IHExLnggKyBxMi54O1xuICAgICAgICBjb25zdCB5ID0gcTEueSArIHEyLnk7XG4gICAgICAgIGNvbnN0IHogPSBxMS56ICsgcTIuejtcbiAgICAgICAgY29uc3QgdyA9IHExLncgKyBxMi53O1xuICAgICAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24oeCwgeSwgeiwgdyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbWJpbmVzIGV1bGFyIGRlZ3JlZXMgdG8gdGhlIHF1YXRlcm5pb24uXG4gICAgICpcbiAgICAgKmBgYHRzXG4gICAgICogLy8gQWRkIDMwIGRlZ3JlZXMgaW4geCByb3RhdGlvbi5cbiAgICAgKiB2YXIgcSA9IG5ldyBRdWF0ZXJuaW9uKDAsMCwwLDApO1xuICAgICAqIHEuYWRkRXVsYXIoMzAsIDAsIDApO1xuICAgICAqXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0geCB4IGluIGRlZ3JlZXNcbiAgICAgKiBAcGFyYW0geSB5IGluIGRlZ3JlZXNcbiAgICAgKiBAcGFyYW0geiB6IGluIGRlZ3JlZXNcbiAgICAgKi9cbiAgICBhZGRFdWxlcih4LCB5LCB6KSB7XG4gICAgICAgIHggPSBtYXRoZi5kZWdyZWVUb1JhZGlhbih4KTtcbiAgICAgICAgeSA9IG1hdGhmLmRlZ3JlZVRvUmFkaWFuKHkpO1xuICAgICAgICB6ID0gbWF0aGYuZGVncmVlVG9SYWRpYW4oeik7XG4gICAgICAgIGNvbnN0IHEgPSBRdWF0ZXJuaW9uLmZyb21FdWxlcih4LCB5LCB6KTtcbiAgICAgICAgdGhpcy5tdWx0aXBseShxKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0cyBhIGdpdmVuIHF1YXRlcm5pb24gb3IgdmVjdG9yIHRvIHRoaXMgcXVhdGVybmlvbi5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICpcbiAgICAgKiB2YXIgcSA9IG5ldyBRdWF0ZXJuaW9uKDAsMCwwLDApO1xuICAgICAqIHZhciBxMiA9IG5ldyBRdWF0ZXJuaW9uKDAsMCwwLDApO1xuICAgICAqIHEuc3VidHJhY3QocTIpO1xuICAgICAqXG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3VidHJhY3QocSkge1xuICAgICAgICB0aGlzLnggLT0gcS54O1xuICAgICAgICB0aGlzLnkgLT0gcS55O1xuICAgICAgICB0aGlzLnogLT0gcS56O1xuICAgICAgICB0aGlzLncgLT0gcS53O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3VidHJhY3RzIGEgZ2l2ZW4gcXVhdGVybmlvbiBvciB2ZWN0b3IgdG8gYW5vdGhlciBxdWF0ZXJuaW9uIG9yIHZlY3RvciBhbmRcbiAgICAgKiByZXR1cm4gYSBuZXcgb25lLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKlxuICAgICAqIHZhciBxID0gbmV3IFF1YXRlcm5pb24oMCwwLDAsMCk7XG4gICAgICogdmFyIHEyID0gbmV3IFF1YXRlcm5pb24oMCwwLDAsMCk7XG4gICAgICogdmFyIHEzID0gUXVhdGVybmlvbi5zdWJ0cmFjdChxLCBxMik7XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzdGF0aWMgc3VidHJhY3QocTEsIHEyKSB7XG4gICAgICAgIGNvbnN0IHggPSBxMS54IC0gcTIueDtcbiAgICAgICAgY29uc3QgeSA9IHExLnkgLSBxMi55O1xuICAgICAgICBjb25zdCB6ID0gcTEueiAtIHEyLno7XG4gICAgICAgIGNvbnN0IHcgPSBxMS53IC0gcTIudztcbiAgICAgICAgcmV0dXJuIG5ldyBRdWF0ZXJuaW9uKHgsIHksIHosIHcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHR3byBxdWF0ZXJuaW9ucy5cbiAgICAgKiBAcGFyYW0gYVxuICAgICAqIEBwYXJhbSBiXG4gICAgICovXG4gICAgc3RhdGljIG11bHRpcGx5KGEsIGIpIHtcbiAgICAgICAgY29uc3QgYXggPSBhLngsIGF5ID0gYS55LCBheiA9IGEueiwgYXcgPSBhLnc7XG4gICAgICAgIGNvbnN0IGJ4ID0gYi54LCBieSA9IGIueSwgYnogPSBiLnosIGJ3ID0gYi53O1xuICAgICAgICBjb25zdCBvdXQgPSBRdWF0ZXJuaW9uLklERU5USVRZO1xuICAgICAgICBvdXQueCA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnk7XG4gICAgICAgIG91dC55ID0gYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBiejtcbiAgICAgICAgb3V0LnogPSBheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4O1xuICAgICAgICBvdXQudyA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdGhlIGN1cnJlbnQgcXVhdGVybmlvbiB3aXRoIHByb3ZpZGVkIFF1YXRlcm5pb24gYS5cbiAgICAgKlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiAgIC8vIEdpdmVuIHgsIHksIHogcmFkaWFucywgYWRkIHgseSx6IHJvdGF0aW9uIHRvIHRoZSBjdXJyZW50IHF1YXRlcm5pb24uXG4gICAgICogICBsZXQgcTEgPSBRdWF0ZXJuaW9uLklERU5USVRZLmFuZ2xlQXhpcyh4LCBWZWN0b3IuUklHSFQpO1xuICAgICAqICAgbGV0IHEyID0gUXVhdGVybmlvbi5JREVOVElUWS5hbmdsZUF4aXMoeSwgVmVjdG9yLlVQKTtcbiAgICAgKiAgIGxldCBxMyA9IFF1YXRlcm5pb24uSURFTlRJVFkuYW5nbGVBeGlzKHosIFZlY3Rvci5GT1JXQVJEKTtcbiAgICAgKiAgIHRoaXMubXVsdGlwbHkocTEpLm11bHRpcGx5KHEyKS5tdWx0aXBseShxMyk7XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqXG4gICAgICogQHBhcmFtIGFcbiAgICAgKi9cbiAgICBtdWx0aXBseShhKSB7XG4gICAgICAgIGNvbnN0IG4gPSBRdWF0ZXJuaW9uLm11bHRpcGx5KHRoaXMsIGEpO1xuICAgICAgICB0aGlzLmNvcHkobik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTY2FsZXMgdGhpcyBRdWF0ZXJuaW9uIGJ5IGEgZ2l2ZW4gc2NhbGUuXG4gICAgICovXG4gICAgc2NhbGUoc2NhbGFyKSB7XG4gICAgICAgIGlmIChpc0Zpbml0ZShzY2FsYXIpKSB7XG4gICAgICAgICAgICB0aGlzLnggKj0gc2NhbGFyO1xuICAgICAgICAgICAgdGhpcy55ICo9IHNjYWxhcjtcbiAgICAgICAgICAgIHRoaXMueiAqPSBzY2FsYXI7XG4gICAgICAgICAgICB0aGlzLncgKj0gc2NhbGFyO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUXVhdGVybmlvbi5aRVJPO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCAvIG1hZ25pdHVkZSBvZiB0aGlzIHF1YXRlcm5pb24uXG4gICAgICovXG4gICAgbGVuZ3RoKCkge1xuICAgICAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgICAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgICAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgICAgICBjb25zdCB3ID0gdGhpcy53O1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIHNxdWFyZWRcbiAgICAgKi9cbiAgICBsZW5ndGhTcXVhcmVkKCkge1xuICAgICAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgICAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgICAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgICAgICBjb25zdCB3ID0gdGhpcy53O1xuICAgICAgICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIG1hZ25pdHVkZSBvZiB0aGlzIHF1YXRlcm5pb24uXG4gICAgICogQWxpYXMgb2YgW1tRdWF0ZXJuaW9uLmxlbmd0aF1dXG4gICAgICovXG4gICAgbWFnbml0dWRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZW5ndGgoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplcyB0aGlzIHF1YXRlcm5pb24uXG4gICAgICovXG4gICAgbm9ybWFsaXplKCkge1xuICAgICAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgICAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgICAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgICAgICBjb25zdCB3ID0gdGhpcy53O1xuICAgICAgICBsZXQgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XG4gICAgICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICAgICAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgICAgICAgICB0aGlzLnggPSB4ICogbGVuO1xuICAgICAgICAgICAgdGhpcy55ID0geSAqIGxlbjtcbiAgICAgICAgICAgIHRoaXMueiA9IHogKiBsZW47XG4gICAgICAgICAgICB0aGlzLncgPSB3ICogbGVuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0aGlzIFF1YXRlcm5pb24gKG9yIFZlY3RvcikgYW5kIHRoZSBnaXZlblxuICAgICAqIFF1YXRlcm5pb24gKG9yIFZlY3RvcilcbiAgICAgKiBAcmV0dXJuIFRoZSBkb3QgcHJvZHVjdCBvZiB0aGlzIHF1YXJ0ZXJuaW9uIGFuZCB0aGUgcHJvdmlkZWQgcXVhdGVybmlvbi5cbiAgICAgKi9cbiAgICBkb3QocSkge1xuICAgICAgICByZXR1cm4gdGhpcy54ICogcS54ICsgdGhpcy55ICogcS55ICsgdGhpcy56ICogcS56ICsgdGhpcy53ICogcS53O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMaW5lYXIgaW50ZXJwb2xhdGVzIHRoaXMgUXVhdGVybmlvbiB0b3dhcmRzIHRoZSBnaXZlbiBxdWF0ZXJuaW9uIG9yIHZlY3Rvci5cbiAgICAgKiBAcGFyYW0gcVxuICAgICAqIEBwYXJhbSBwcm9ncmVzc1xuICAgICAqL1xuICAgIGxlcnAocSwgcHJvZ3Jlc3MpIHtcbiAgICAgICAgdGhpcy54ID0gbWF0aGYubGVycCh0aGlzLngsIHEueCwgcHJvZ3Jlc3MpO1xuICAgICAgICB0aGlzLnkgPSBtYXRoZi5sZXJwKHRoaXMueSwgcS55LCBwcm9ncmVzcyk7XG4gICAgICAgIHRoaXMueiA9IG1hdGhmLmxlcnAodGhpcy56LCBxLnosIHByb2dyZXNzKTtcbiAgICAgICAgdGhpcy53ID0gbWF0aGYubGVycCh0aGlzLncsIHEueiwgcHJvZ3Jlc3MpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2xlcnBzIHRvIGEgc3BlY2lmaWMgcm90YXRpb24gaW4gRXVsZXIgZGVncmVlcy5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICpcbiAgICAgKiBteVF1YXQuc2xlcnBFdWxlcigzMCwgMCwgMCwgdGhpcy5wcm9ncmVzcyk7XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBAcGFyYW0geFxuICAgICAqIEBwYXJhbSB5XG4gICAgICogQHBhcmFtIHpcbiAgICAgKi9cbiAgICBzbGVycEV1bGVyKHgsIHksIHosIHByb2dyZXNzKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IFF1YXRlcm5pb24uZnJvbUV1bGVyKHgsIHksIHopO1xuICAgICAgICB0aGlzLnNsZXJwKHRhcmdldCwgcHJvZ3Jlc3MpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2xlcnBzIHRvIGEgc3BlY2lmaWMgcm90YXRpb24gaW4gRXVsYXIgZGVncmVlcyB3aGVyZSBldWxhciBpcyBwcm92aWRlZFxuICAgICAqIGJ5IGEgVmVjdG9yXG4gICAgICogQHBhcmFtIHZcbiAgICAgKiBAcGFyYW0gcHJvZ3Jlc3NcbiAgICAgKi9cbiAgICBzbGVycEV1bGVyVmVjdG9yKHYsIHByb2dyZXNzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNsZXJwRXVsZXIodi54LCB2LnksIHYueiwgcHJvZ3Jlc3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTbGVycHMgdGhpcyBxdWF0ZXJuaW9uIHRvd2FyZHMgdGhlIGdpdmVuIHF1YXRlcm5pb24gb3IgdmVjdG9yLlxuICAgICAqIEluc3BpcmVkIGJ5OiBodHRwczovL2pzcGVyZi5jb20vcXVhdGVybmlvbi1zbGVycC1pbXBsZW1lbnRhdGlvbnNcbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICpcbiAgICAgKiAgbGV0IHRhcmdldCA9IFF1YXRlcm5pb24uZnJvbUV1bGVyKDkwLCAyMCwgMCk7XG4gICAgICogIG15UXVhdC5zbGVycCh0YXJnZXQsIHRoaXMucHJvZ3Jlc3MpO1xuICAgICAqXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBwYXJhbSBxXG4gICAgICogQHBhcmFtIHByb2dyZXNzXG4gICAgICovXG4gICAgc2xlcnAocSwgcHJvZ3Jlc3MpIHtcbiAgICAgICAgY29uc3QgRVBTSUxPTiA9IDAuMDAwMDAxO1xuICAgICAgICBjb25zdCBheCA9IHRoaXMueDtcbiAgICAgICAgY29uc3QgYXkgPSB0aGlzLnk7XG4gICAgICAgIGNvbnN0IGF6ID0gdGhpcy56O1xuICAgICAgICBjb25zdCBhdyA9IHRoaXMudztcbiAgICAgICAgbGV0IGJ4ID0gcS54O1xuICAgICAgICBsZXQgYnkgPSBxLnk7XG4gICAgICAgIGxldCBieiA9IHEuejtcbiAgICAgICAgbGV0IGJ3ID0gcS53O1xuICAgICAgICBsZXQgY29zb20gPSBheCAqIGJ4ICsgYXkgKiBieSArIGF6ICogYnogKyBhdyAqIGJ3O1xuICAgICAgICBpZiAoY29zb20gPCAwKSB7XG4gICAgICAgICAgICBjb3NvbSA9IC1jb3NvbTtcbiAgICAgICAgICAgIGJ4ID0gLWJ4O1xuICAgICAgICAgICAgYnkgPSAtYnk7XG4gICAgICAgICAgICBieiA9IC1iejtcbiAgICAgICAgICAgIGJ3ID0gLWJ3O1xuICAgICAgICB9XG4gICAgICAgIGxldCBzMCA9IDEgLSBwcm9ncmVzcztcbiAgICAgICAgbGV0IHMxID0gcHJvZ3Jlc3M7XG4gICAgICAgIGlmICgxIC0gY29zb20gPiBFUFNJTE9OKSB7XG4gICAgICAgICAgICBjb25zdCBvbWVnYSA9IE1hdGguYWNvcyhjb3NvbSk7XG4gICAgICAgICAgICBjb25zdCBzaW5vbSA9IE1hdGguc2luKG9tZWdhKTtcbiAgICAgICAgICAgIHMwID0gTWF0aC5zaW4oKDEuMCAtIHByb2dyZXNzKSAqIG9tZWdhKSAvIHNpbm9tO1xuICAgICAgICAgICAgczEgPSBNYXRoLnNpbihwcm9ncmVzcyAqIG9tZWdhKSAvIHNpbm9tO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMueCA9IHMwICogYXggKyBzMSAqIGJ4O1xuICAgICAgICB0aGlzLnkgPSBzMCAqIGF5ICsgczEgKiBieTtcbiAgICAgICAgdGhpcy56ID0gczAgKiBheiArIHMxICogYno7XG4gICAgICAgIHRoaXMudyA9IHMwICogYXcgKyBzMSAqIGJ3O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52ZXJ0cyB0aGlzIHF1YXRlcm5pb24uXG4gICAgICovXG4gICAgaW52ZXJ0KCkge1xuICAgICAgICBjb25zdCBhMCA9IHRoaXMueDtcbiAgICAgICAgY29uc3QgYTEgPSB0aGlzLnk7XG4gICAgICAgIGNvbnN0IGEyID0gdGhpcy56O1xuICAgICAgICBjb25zdCBhMyA9IHRoaXMudztcbiAgICAgICAgY29uc3QgZG90ID0gYTAgKiBhMCArIGExICogYTEgKyBhMiAqIGEyICsgYTMgKiBhMztcbiAgICAgICAgY29uc3QgaW52RG90ID0gZG90ID8gMSAvIGRvdCA6IDA7XG4gICAgICAgIHRoaXMueCA9IC1hMCAqIGludkRvdDtcbiAgICAgICAgdGhpcy55ID0gLWExICogaW52RG90O1xuICAgICAgICB0aGlzLnogPSAtYTIgKiBpbnZEb3Q7XG4gICAgICAgIHRoaXMudyA9IGEzICogaW52RG90O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHJvdGF0aW9uIFggb2YgdGhlIHF1YXRlcm5pb24gYnkgZ2l2ZW4gZGVncmVlXG4gICAgICogQHBhcmFtIHJhZFxuICAgICAqL1xuICAgIHJvdGF0ZVgoZGVncmVlKSB7XG4gICAgICAgIGNvbnN0IHExID0gUXVhdGVybmlvbi5JREVOVElUWS5hbmdsZUF4aXMobWF0aGYuZGVncmVlVG9SYWRpYW4oZGVncmVlKSwgVmVjdG9yLlJJR0hUKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHkocTEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgcm90YXRpb24gWSBvZiB0aGUgcXVhdGVybmlvbiBieSBnaXZlbiBkZWdyZWVcbiAgICAgKiBAcGFyYW0gcmFkXG4gICAgICovXG4gICAgcm90YXRlWShkZWdyZWUpIHtcbiAgICAgICAgY29uc3QgcTEgPSBRdWF0ZXJuaW9uLklERU5USVRZLmFuZ2xlQXhpcyhtYXRoZi5kZWdyZWVUb1JhZGlhbihkZWdyZWUpLCBWZWN0b3IuVVApO1xuICAgICAgICByZXR1cm4gdGhpcy5tdWx0aXBseShxMSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCByb3RhdGlvbiBZIG9mIHRoZSBxdWF0ZXJuaW9uIGJ5IGdpdmVuIGRlZ3JlZVxuICAgICAqIEBwYXJhbSByYWRcbiAgICAgKi9cbiAgICByb3RhdGVaKGRlZ3JlZSkge1xuICAgICAgICBjb25zdCBxMSA9IFF1YXRlcm5pb24uSURFTlRJVFkuYW5nbGVBeGlzKG1hdGhmLmRlZ3JlZVRvUmFkaWFuKGRlZ3JlZSksIFZlY3Rvci5GT1JXQVJEKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHkocTEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIGNvbnRlbnQgb2YgYW5vdGhlciBRdWF0ZXJuaW9uIGludG8gdGhpcyBxdWF0ZXJpb24uXG4gICAgICogQHBhcmFtIHFcbiAgICAgKi9cbiAgICBjb3B5KHEpIHtcbiAgICAgICAgdGhpcy54ID0gcS54O1xuICAgICAgICB0aGlzLnkgPSBxLnk7XG4gICAgICAgIHRoaXMueiA9IHEuejtcbiAgICAgICAgdGhpcy53ID0gcS53O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uanVnYXRlIHRoaXMgcXVhdGVybmlvblxuICAgICAqL1xuICAgIGNvbmp1Z2F0ZSgpIHtcbiAgICAgICAgdGhpcy54ID0gLXRoaXMueDtcbiAgICAgICAgdGhpcy55ID0gLXRoaXMueTtcbiAgICAgICAgdGhpcy56ID0gLXRoaXMuejtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBRdWF0ZXJuaW9uIGZyb20gdGhlIGdpdmVuIGV1bGVyIGFuZ2xlIHgsIHksIHouXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqXG4gICAgICogbGV0IHF1YXQgPSBRdWF0ZXJuaW9uLmZyb21FdWxlcigxODAsIDkwLCAtOTApO1xuICAgICAqXG4gICAgICogYGBgXG4gICAgICogQHNlZSBodHRwczovL3F1YXRlcm5pb25zLm9ubGluZS9cbiAgICAgKiBAc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbnZlcnNpb25fYmV0d2Vlbl9xdWF0ZXJuaW9uc19hbmRfRXVsZXJfYW5nbGVzXG4gICAgICogQHBhcmFtIHggeFxuICAgICAqIEBwYXJhbSB5IHlcbiAgICAgKiBAcGFyYW0geiB6XG4gICAgICovXG4gICAgc3RhdGljIGZyb21FdWxlcih4LCB5LCB6KSB7XG4gICAgICAgIHggPSBtYXRoZi5kZWdyZWVUb1JhZGlhbih4KTtcbiAgICAgICAgeSA9IG1hdGhmLmRlZ3JlZVRvUmFkaWFuKHkpO1xuICAgICAgICB6ID0gbWF0aGYuZGVncmVlVG9SYWRpYW4oeik7XG4gICAgICAgIGNvbnN0IGNvcyA9IE1hdGguY29zO1xuICAgICAgICBjb25zdCBzaW4gPSBNYXRoLnNpbjtcbiAgICAgICAgY29uc3QgYzEgPSBjb3MoeCAvIDIpO1xuICAgICAgICBjb25zdCBjMiA9IGNvcyh5IC8gMik7XG4gICAgICAgIGNvbnN0IGMzID0gY29zKHogLyAyKTtcbiAgICAgICAgY29uc3QgczEgPSBzaW4oeCAvIDIpO1xuICAgICAgICBjb25zdCBzMiA9IHNpbih5IC8gMik7XG4gICAgICAgIGNvbnN0IHMzID0gc2luKHogLyAyKTtcbiAgICAgICAgLy8gWFlaIG9yZGVyaW5nLlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2Jsb2IvbWFzdGVyL3NyYy9tYXRoL1F1YXRlcm5pb24uanMjTDIyNFxuICAgICAgICBjb25zdCByeCA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMztcbiAgICAgICAgY29uc3QgcnkgPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7XG4gICAgICAgIGNvbnN0IHJ6ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzO1xuICAgICAgICBjb25zdCBydyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMztcbiAgICAgICAgcmV0dXJuIG5ldyBRdWF0ZXJuaW9uKHJ4LCByeSwgcnosIHJ3KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSBFdWxlciBEZWdyZWUgdmVjdG9yIHRvIGEgUXVhdGVybmlvbi5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICpcbiAgICAgKiBsZXQgZXVsZXJWZWN0b3IgPSBuZXcgVmVjdG9yKDkwLCAxODAsIDApO1xuICAgICAqIGxldCBxdWF0ID0gUXVhdGVybmlvbi5mcm9tRXVsZXJWZWN0b3IoZXVsZXJWZWN0b3IpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHZcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbUV1bGVyVmVjdG9yKHYpIHtcbiAgICAgICAgcmV0dXJuIFF1YXRlcm5pb24uZnJvbUV1bGVyKHYueCwgdi55LCB2LnopO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhIHF1YXRlcm5pb24gdG8gYSBFdWxlclZlY3RvciBjb25zaXN0aW5nIG9mIGRlZ3JlZXMuXG4gICAgICogWVhaIExvY2FsIEF4ZXMgWWF3ICh5KSwgUGl0Y2ggKHgpLCBSb2xsICh6KVxuICAgICAqIE91dHB1dHMgWFlaIG9yZGVyaW5nLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgYmVzdCBhdm9pZGVkIGJlY2F1c2Ugb2YgaW5zdGFiaWxpdHkuXG4gICAgICpcbiAgICAgKiBZYXcsIFJvbGwgd2lsbCBiZSArLTE4MC5cbiAgICAgKiBQaXRjaCB3aWxsIGJlICstIDkwLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKlxuICAgICAqIGxldCBxdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oMiwzLDQpO1xuICAgICAqIGxldCB2ID0gUXVhdGVybmlvbi50b0V1bGVyVmVjdG9yKHEpO1xuICAgICAqXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHBzOi8vYml0Lmx5LzFUekx5YUNcbiAgICAgKiBAcGFyYW0gcVxuICAgICAqL1xuICAgIHN0YXRpYyB0b0V1bGVyVmVjdG9yKHEpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFZlY3Rvci5aRVJPO1xuICAgICAgICAvLyAvLyBDcmVhdGUgYSByb3RhdGlvbiBtYXRyaXggZnJvbSB0aGUgcXVhdGVybmlvbi5cbiAgICAgICAgY29uc3QgbWF0cml4ID0gTWF0cml4SVYuZnJvbVF1YXRlcm5pb24ocS5jbG9uZSgpKTtcbiAgICAgICAgcmVzdWx0ID0gVmVjdG9yLmZyb21Sb3RhdGlvbk1hdHJpeElWKG1hdHJpeCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSByb3RhdGlvbiB3aGljaCByb3RhdGVzIGFuZ2xlIGRlZ3JlZXMgYXJvdW5kIGF4aXMuXG4gICAgICogQXNzdW1lcyB0aGUgYXhpcyB2ZWN0b3IgaXMgbm9ybWFsaXplZC5cbiAgICAgKiBgYGB0c1xuICAgICAqXG4gICAgICogLy8gUm90YXRlIDIzIGRlZ3JlZXMgYXJvdW5kIFggYW5kIFkgYXhpcy5cbiAgICAgKiBsZXQgcmFkID0gbWF0aGYuZGVncmVlc1RvUmFkaWFuKDIzKTtcbiAgICAgKlxuICAgICAqXG4gICAgICogbGV0IHExID0gUXVhdGVybmlvbi5JREVOVElUWS5hbmdsZUF4aXMocmFkLCBWZWN0b3IuVVApOyAvLyBZXG4gICAgICogbGV0IHEyID0gUXVhdGVybmlvbi5JREVOVElUWS5hbmdsZUF4aXMocmFkLCBWZWN0b3IuUklHSFQpOyAvLyBYXG4gICAgICpcbiAgICAgKiBteVF1YXQubXVsdGlwbHkocTEpLm11bHRpcGx5KHEyKVxuICAgICAqXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmFkIEFuZ2xlIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0gYXhpcyBBbiBheGlzIHZlY3RvciB0byByb3RhdGUgb24uIEF4aXMgc2hvdWxkIGJlIG5vcm1hbGl6ZWQuXG4gICAgICovXG4gICAgYW5nbGVBeGlzKHJhZCwgYXhpcykge1xuICAgICAgICByYWQgPSByYWQgKiAwLjU7XG4gICAgICAgIGNvbnN0IHMgPSBNYXRoLnNpbihyYWQpO1xuICAgICAgICB0aGlzLnggPSBzICogYXhpcy54O1xuICAgICAgICB0aGlzLnkgPSBzICogYXhpcy55O1xuICAgICAgICB0aGlzLnogPSBzICogYXhpcy56O1xuICAgICAgICB0aGlzLncgPSBNYXRoLmNvcyhyYWQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHF1YXRlcm5pb24gZnJvbSBhIHJvdGF0aW9uIG1hdHJpeC5cbiAgICAgKiBAcGFyYW0gbVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tUm90YXRpb25NYXRyaXhJVihtKSB7XG4gICAgICAgIGxldCBxID0gUXVhdGVybmlvbi5JREVOVElUWTtcbiAgICAgICAgY29uc3QgYTAwID0gbS52YWx1ZVswXTtcbiAgICAgICAgY29uc3QgYTAxID0gbS52YWx1ZVsxXTtcbiAgICAgICAgY29uc3QgYTAyID0gbS52YWx1ZVsyXTtcbiAgICAgICAgLy8gY29uc3QgYTAzID0gbS52YWx1ZVszXTtcbiAgICAgICAgY29uc3QgYTEwID0gbS52YWx1ZVs0XTtcbiAgICAgICAgY29uc3QgYTExID0gbS52YWx1ZVs1XTtcbiAgICAgICAgY29uc3QgYTEyID0gbS52YWx1ZVs2XTtcbiAgICAgICAgLy8gY29uc3QgYTEzID0gbS52YWx1ZVs3XTtcbiAgICAgICAgY29uc3QgYTIwID0gbS52YWx1ZVs4XTtcbiAgICAgICAgY29uc3QgYTIxID0gbS52YWx1ZVs5XTtcbiAgICAgICAgY29uc3QgYTIyID0gbS52YWx1ZVsxMF07XG4gICAgICAgIC8vIGNvbnN0IGEyMyA9IG0udmFsdWVbMTFdO1xuICAgICAgICAvLyBjb25zdCBhMzAgPSBtLnZhbHVlWzEyXTtcbiAgICAgICAgLy8gY29uc3QgYTMxID0gbS52YWx1ZVsxM107XG4gICAgICAgIC8vIGNvbnN0IGEzMiA9IG0udmFsdWVbMTRdO1xuICAgICAgICAvLyBjb25zdCBhMzMgPSBtLnZhbHVlWzE1XTtcbiAgICAgICAgLy8gcS53ID0gTWF0aC5zcXJ0KDEuMCArIGEwMCArIGExMSArIGEyMikgLyAyLjA7XG4gICAgICAgIC8vIGxldCB3NCA9ICg0LjAgKiBxLncpO1xuICAgICAgICAvLyBxLnggPSAtKGEyMSAtIGExMikgLyB3NDtcbiAgICAgICAgLy8gcS55ID0gLShhMDIgLSBhMjApIC8gdzQ7XG4gICAgICAgIC8vIHEueiA9IC0oYTEwIC0gYTAxKSAvIHc0O1xuICAgICAgICBsZXQgdDtcbiAgICAgICAgaWYgKGEyMiA8IDApIHtcbiAgICAgICAgICAgIGlmIChhMDAgPiBhMTEpIHtcbiAgICAgICAgICAgICAgICB0ID0gMSArIGEwMCAtIGExMSAtIGEyMjtcbiAgICAgICAgICAgICAgICBxID0gbmV3IFF1YXRlcm5pb24odCwgYTAxICsgYTEwLCBhMjAgKyBhMDIsIGExMiAtIGEyMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ID0gMSAtIGEwMCArIGExMSAtIGEyMjtcbiAgICAgICAgICAgICAgICBxID0gbmV3IFF1YXRlcm5pb24oYTAxICsgYTEwLCB0LCBhMTIgKyBhMjEsIGEyMCAtIGEwMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoYTAwIDwgLWExMSkge1xuICAgICAgICAgICAgICAgIHQgPSAxIC0gYTAwIC0gYTExICsgYTIyO1xuICAgICAgICAgICAgICAgIHEgPSBuZXcgUXVhdGVybmlvbihhMjAgKyBhMDIsIGExMiArIGEyMSwgdCwgYTAxIC0gYTEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHQgPSAxICsgYTAwICsgYTExICsgYTIyO1xuICAgICAgICAgICAgICAgIHEgPSBuZXcgUXVhdGVybmlvbihhMTIgLSBhMjEsIGEyMCAtIGEwMiwgYTAxIC0gYTEwLCB0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxLnNjYWxlKDAuNSAvIE1hdGguc3FydCh0KSk7XG4gICAgICAgIHJldHVybiBxO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHF1YXQgZnJvbSBhIHNldCBvZiBhcnJheXMuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIHZhciBxID0gUXVhdGVybmlvbi5mcm9tQXJyYXkoWzAsMiwyLDBdKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbUFycmF5KHZhbHVlcykge1xuICAgICAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24odmFsdWVzWzBdLCB2YWx1ZXNbMV0sIHZhbHVlc1syXSwgdmFsdWVzWzNdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGltaXRzIHRoZSBudW1iZXIgb2YgZGVjaW1hbHMgb24gZWFjaCBxdWF0ZXJuaW9uIGRpbWVuc2lvbi5cbiAgICAgKiBAcGFyYW0gbnVtYmVyT2ZEZWNpbWFsc1xuICAgICAqL1xuICAgIHRvRml4ZWQobnVtYmVyT2ZEZWNpbWFscykge1xuICAgICAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24obWF0aGYudG9GaXhlZChtYXRoZi5hYnNaZXJvKHRoaXMueCksIG51bWJlck9mRGVjaW1hbHMpLCBtYXRoZi50b0ZpeGVkKG1hdGhmLmFic1plcm8odGhpcy55KSwgbnVtYmVyT2ZEZWNpbWFscyksIG1hdGhmLnRvRml4ZWQobWF0aGYuYWJzWmVybyh0aGlzLnopLCBudW1iZXJPZkRlY2ltYWxzKSwgbWF0aGYudG9GaXhlZChtYXRoZi5hYnNaZXJvKHRoaXMudyksIG51bWJlck9mRGVjaW1hbHMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc291cmNlIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvaXNzdWVzLzM4MlxuICAgICAqIEBwYXJhbSB0YXJnZXRcbiAgICAgKi9cbiAgICBzdGF0aWMgcm90YXRlVG8oc291cmNlLCB0YXJnZXQsIHVwKSB7XG4gICAgICAgIGNvbnN0IG0gPSBNYXRyaXhJVi5JREVOVElUWTtcbiAgICAgICAgbS5sb29rQXQodGFyZ2V0LCBzb3VyY2UsIHVwKTtcbiAgICAgICAgY29uc3QgdGVtcCA9IG0udmFsdWU7XG4gICAgICAgIC8vICAgICAgICAgdmFyIG0wMCA9IHRlbXAubjExLCBtMTAgPSB0ZW1wLm4yMSwgbTIwID0gdGVtcC5uMzEsXG4gICAgICAgIC8vIG0wMSA9IHRlbXAubjEyLCBtMTEgPSB0ZW1wLm4yMiwgbTIxID0gdGVtcC5uMzIsXG4gICAgICAgIC8vIG0wMiA9IHRlbXAubjEzLCBtMTIgPSB0ZW1wLm4yMywgbTIyID0gdGVtcC5uMzM7XG4gICAgICAgIGNvbnN0IG0wMCA9IHRlbXBbMF0sIG0xMCA9IHRlbXBbMV0sIG0yMCA9IHRlbXBbMl0sIG0wMSA9IHRlbXBbNV0sIG0xMSA9IHRlbXBbNl0sIG0yMSA9IHRlbXBbN10sIG0wMiA9IHRlbXBbOV0sIG0xMiA9IHRlbXBbMTBdLCBtMjIgPSB0ZW1wWzExXTtcbiAgICAgICAgY29uc3QgdCA9IG0wMCArIG0xMSArIG0yMjtcbiAgICAgICAgbGV0IHMsIHgsIHksIHosIHc7XG4gICAgICAgIGlmICh0ID4gMCkge1xuICAgICAgICAgICAgcyA9IE1hdGguc3FydCh0ICsgMSkgKiAyO1xuICAgICAgICAgICAgdyA9IDAuMjUgKiBzO1xuICAgICAgICAgICAgeCA9IChtMjEgLSBtMTIpIC8gcztcbiAgICAgICAgICAgIHkgPSAobTAyIC0gbTIwKSAvIHM7XG4gICAgICAgICAgICB6ID0gKG0xMCAtIG0wMSkgLyBzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG0wMCA+IG0xMSAmJiBtMDAgPiBtMjIpIHtcbiAgICAgICAgICAgIHMgPSBNYXRoLnNxcnQoMS4wICsgbTAwIC0gbTExIC0gbTIyKSAqIDI7XG4gICAgICAgICAgICB4ID0gcyAqIDAuMjU7XG4gICAgICAgICAgICB5ID0gKG0xMCArIG0wMSkgLyBzO1xuICAgICAgICAgICAgeiA9IChtMDIgKyBtMjApIC8gcztcbiAgICAgICAgICAgIHcgPSAobTIxIC0gbTEyKSAvIHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobTExID4gbTIyKSB7XG4gICAgICAgICAgICBzID0gTWF0aC5zcXJ0KDEuMCArIG0xMSAtIG0wMCAtIG0yMikgKiAyO1xuICAgICAgICAgICAgeSA9IHMgKiAwLjI1O1xuICAgICAgICAgICAgeCA9IChtMTAgKyBtMDEpIC8gcztcbiAgICAgICAgICAgIHogPSAobTIxICsgbTEyKSAvIHM7XG4gICAgICAgICAgICB3ID0gKG0wMiAtIG0yMCkgLyBzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcyA9IE1hdGguc3FydCgxLjAgKyBtMjIgLSBtMDAgLSBtMTEpICogMjtcbiAgICAgICAgICAgIHogPSBzICogMC4yNTtcbiAgICAgICAgICAgIHggPSAobTAyICsgbTIwKSAvIHM7XG4gICAgICAgICAgICB5ID0gKG0yMSArIG0xMikgLyBzO1xuICAgICAgICAgICAgdyA9IChtMTAgLSBtMDEpIC8gcztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByb3RhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uKHgsIHksIHosIHcpO1xuICAgICAgICByb3RhdGlvbi5ub3JtYWxpemUoKTtcbiAgICAgICAgcmV0dXJuIHJvdGF0aW9uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHN0YXRpYyB6ZXJvIHF1YXRlcm5pb24uICBBZGRpdGl2ZSBpZGVudGl0eS5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogbGV0IHEgPSBRdWF0ZXJuaW9uLlpFUk87XG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIGdldCBaRVJPKCkge1xuICAgICAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24oMCwgMCwgMCwgMCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgSSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBRdWF0ZXJuaW9uKDAsIDEsIDAsIDApO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IEooKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVhdGVybmlvbigwLCAwLCAxLCAwKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBLKCkge1xuICAgICAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24oMCwgMCwgMCwgMSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc3RhdGljIGlkZW50aXR5IHF1YXRlcm5pb24uICBNdWx0aXBsaWNhdGl2ZSBpZGVudGl0eS5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogbGV0IHEgPSBRdWF0ZXJuaW9uLklERU5USVRZO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgSURFTlRJVFkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVhdGVybmlvbigwLCAwLCAwLCAxKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzdGF0aWMgb25lIHF1YXRlcm5pb24uXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGxldCBxID0gUXVhdGVybmlvbi5PTkU7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIGdldCBPTkUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVhdGVybmlvbigxLCAxLCAxKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1xdWF0ZXJuaW9uLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/mathf/quaternion.js\n");

/***/ }),

/***/ "./lib/mathf/raycast.js":
/*!******************************!*\
  !*** ./lib/mathf/raycast.js ***!
  \******************************/
/*! exports provided: Raycast */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Raycast\", function() { return Raycast; });\n/* harmony import */ var _mathf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vector */ \"./lib/mathf/vector.js\");\n\n\n/**\n * A 2d based Raycast class which tests collisions.\n * @unstable\n */\nclass Raycast {\n    /**\n     * Casts an inifinite ray (a vector of infinite maginitude) from the origin\n     * at a specific angle and tests if it intersects with boundaryA - boundaryB.\n     * See [[Raycast.cast2d]] for more.\n     *\n     * ```\n     *                        x (boundary A)\n     *        angle            |\n     *    o ------------------- |-----------------------------Infinite--->\n     *  (origin)                 |\n     *                            |\n     *                             |\n     *                              x (boundary Bb)\n     *\n     * ```\n     *\n     * @param origin\n     * @param angle The angle in radians\n     * @param boundaryA\n     * @param boundaryB\n     */\n    static castInfinite2dRay(origin, angle, boundaryA, boundaryB) {\n        const direction = _vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].fromAngle(angle);\n        return Raycast.cast2d(origin, direction, boundaryA, boundaryB);\n    }\n    /**\n     * Raycasts out to 2d coordinates ignoring z.  Basically we do a line-line\n     * intersection test to see if the origin vector intersects the vector\n     * the boundary created by boundaryA and boundaryB Vectors.\n     *\n     *\n     * ```\n     *                        x (boundary A)\n     *        d (direction)    |\n     *    o ----------------->  |\n     *  (origin)                 |\n     *                            |\n     *                             |\n     *                              x (boundary Bb)\n     *\n     * ```\n     *\n     * Usage:\n     *\n     * ```ts\n     *\n     * // Starting from 5, 10, cast out a ray at 10 degrees of 1000 length.\n     * let origin = new Vector(5,10);\n     * let direction = Vector.fromAngle(mathf.degreeToRadian(10), 1000);\n     *\n     * let linePointA = new Vector(8, 2);\n     * let linePointB = new Vector(10, 20);\n     *\n     * // See if that intersects between linePointA and linePointB.\n     * // If it does, castResults.collision will contain a vector point of\n     * // intersection.\n     * let castResults =\n     *      Raycast.cast2d(origin, direction, linePointA, linePointB);\n     *\n     * if(castResults.hit) {\n     *     console.log(castResults.collision) // The collision point vector\n     * }\n     *\n     * ```\n     *\n     *\n     * @param origin The origin vector\n     * @param direction The origin vector\n     * @param boundaryA The first point of the boundary vector\n     * @param boundaryB The first point of the boundary vector\n     * @return RayCastObject\n     * @see https://en.wikipedia.org/wiki/Line%E2%80%93line_intersection\n     * @see https://bit.ly/2WPb4X3\n     */\n    static cast2d(origin, direction, boundaryA, boundaryB) {\n        // From wikipedia: The intersection point falls within the first line\n        // segment if\n        // 0.0  t  1.0, and it falls within the second line segment\n        // if 0.0  u  1.0.\n        // However since the ray is infinite, can we can just use u < 1.0.\n        // Define endpoints.\n        const x1 = boundaryA.x;\n        const y1 = boundaryA.y;\n        const x2 = boundaryB.x;\n        const y2 = boundaryB.y;\n        const x3 = origin.x;\n        const y3 = origin.y;\n        const x4 = _vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].add(origin, direction).x;\n        const y4 = _vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].add(origin, direction).y;\n        const denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n        // If the denominator is 0, then the two lines are perfectly in\n        // parallel so they would never intersect.\n        if (denominator === 0) {\n            return {\n                hit: false,\n            };\n        }\n        // Now calculate t and u.\n        const t = ((x1 - x3) * (y3 - y4) - (y1 - y3) * (x3 - x4)) / denominator;\n        const u = -((x1 - x2) * (y1 - y3) - (y1 - y2) * (x1 - x3)) / denominator;\n        // If there is a hit calculate the interaction vector point.\n        if (t > 0 && t < 1 && u > 0) {\n            const x = x1 + t * (x2 - x1);\n            const y = y1 + t * (y2 - y1);\n            const collision = new _vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"](x, y);\n            return {\n                hit: true,\n                collision: collision,\n                distance: _vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].subtract(origin, collision).length(),\n                angle: _mathf__WEBPACK_IMPORTED_MODULE_0__[\"toFixed\"](_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].angle2d(origin, collision), 3),\n            };\n        }\n        else {\n            return {\n                hit: false,\n            };\n        }\n    }\n}\n//# sourceMappingURL=raycast.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvcmF5Y2FzdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9tYXRoZi9yYXljYXN0LmpzP2JiNzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgbWF0aGYgZnJvbSAnLi9tYXRoZic7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuL3ZlY3Rvcic7XG4vKipcbiAqIEEgMmQgYmFzZWQgUmF5Y2FzdCBjbGFzcyB3aGljaCB0ZXN0cyBjb2xsaXNpb25zLlxuICogQHVuc3RhYmxlXG4gKi9cbmV4cG9ydCBjbGFzcyBSYXljYXN0IHtcbiAgICAvKipcbiAgICAgKiBDYXN0cyBhbiBpbmlmaW5pdGUgcmF5IChhIHZlY3RvciBvZiBpbmZpbml0ZSBtYWdpbml0dWRlKSBmcm9tIHRoZSBvcmlnaW5cbiAgICAgKiBhdCBhIHNwZWNpZmljIGFuZ2xlIGFuZCB0ZXN0cyBpZiBpdCBpbnRlcnNlY3RzIHdpdGggYm91bmRhcnlBIC0gYm91bmRhcnlCLlxuICAgICAqIFNlZSBbW1JheWNhc3QuY2FzdDJkXV0gZm9yIG1vcmUuXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgIHggKGJvdW5kYXJ5IEEpXG4gICAgICogICAgICAgIGFuZ2xlICAgICAgICAgICAgfFxuICAgICAqICAgIG8gLS0tLS0tLS0tLS0tLS0tLS0tLSB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1JbmZpbml0ZS0tLT5cbiAgICAgKiAgKG9yaWdpbikgICAgICAgICAgICAgICAgIHxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHggKGJvdW5kYXJ5IEJiKVxuICAgICAqXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3JpZ2luXG4gICAgICogQHBhcmFtIGFuZ2xlIFRoZSBhbmdsZSBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIGJvdW5kYXJ5QVxuICAgICAqIEBwYXJhbSBib3VuZGFyeUJcbiAgICAgKi9cbiAgICBzdGF0aWMgY2FzdEluZmluaXRlMmRSYXkob3JpZ2luLCBhbmdsZSwgYm91bmRhcnlBLCBib3VuZGFyeUIpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gVmVjdG9yLmZyb21BbmdsZShhbmdsZSk7XG4gICAgICAgIHJldHVybiBSYXljYXN0LmNhc3QyZChvcmlnaW4sIGRpcmVjdGlvbiwgYm91bmRhcnlBLCBib3VuZGFyeUIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSYXljYXN0cyBvdXQgdG8gMmQgY29vcmRpbmF0ZXMgaWdub3Jpbmcgei4gIEJhc2ljYWxseSB3ZSBkbyBhIGxpbmUtbGluZVxuICAgICAqIGludGVyc2VjdGlvbiB0ZXN0IHRvIHNlZSBpZiB0aGUgb3JpZ2luIHZlY3RvciBpbnRlcnNlY3RzIHRoZSB2ZWN0b3JcbiAgICAgKiB0aGUgYm91bmRhcnkgY3JlYXRlZCBieSBib3VuZGFyeUEgYW5kIGJvdW5kYXJ5QiBWZWN0b3JzLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgIHggKGJvdW5kYXJ5IEEpXG4gICAgICogICAgICAgIGQgKGRpcmVjdGlvbikgICAgfFxuICAgICAqICAgIG8gLS0tLS0tLS0tLS0tLS0tLS0+ICB8XG4gICAgICogIChvcmlnaW4pICAgICAgICAgICAgICAgICB8XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4IChib3VuZGFyeSBCYilcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVXNhZ2U6XG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqXG4gICAgICogLy8gU3RhcnRpbmcgZnJvbSA1LCAxMCwgY2FzdCBvdXQgYSByYXkgYXQgMTAgZGVncmVlcyBvZiAxMDAwIGxlbmd0aC5cbiAgICAgKiBsZXQgb3JpZ2luID0gbmV3IFZlY3Rvcig1LDEwKTtcbiAgICAgKiBsZXQgZGlyZWN0aW9uID0gVmVjdG9yLmZyb21BbmdsZShtYXRoZi5kZWdyZWVUb1JhZGlhbigxMCksIDEwMDApO1xuICAgICAqXG4gICAgICogbGV0IGxpbmVQb2ludEEgPSBuZXcgVmVjdG9yKDgsIDIpO1xuICAgICAqIGxldCBsaW5lUG9pbnRCID0gbmV3IFZlY3RvcigxMCwgMjApO1xuICAgICAqXG4gICAgICogLy8gU2VlIGlmIHRoYXQgaW50ZXJzZWN0cyBiZXR3ZWVuIGxpbmVQb2ludEEgYW5kIGxpbmVQb2ludEIuXG4gICAgICogLy8gSWYgaXQgZG9lcywgY2FzdFJlc3VsdHMuY29sbGlzaW9uIHdpbGwgY29udGFpbiBhIHZlY3RvciBwb2ludCBvZlxuICAgICAqIC8vIGludGVyc2VjdGlvbi5cbiAgICAgKiBsZXQgY2FzdFJlc3VsdHMgPVxuICAgICAqICAgICAgUmF5Y2FzdC5jYXN0MmQob3JpZ2luLCBkaXJlY3Rpb24sIGxpbmVQb2ludEEsIGxpbmVQb2ludEIpO1xuICAgICAqXG4gICAgICogaWYoY2FzdFJlc3VsdHMuaGl0KSB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKGNhc3RSZXN1bHRzLmNvbGxpc2lvbikgLy8gVGhlIGNvbGxpc2lvbiBwb2ludCB2ZWN0b3JcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqXG4gICAgICogQHBhcmFtIG9yaWdpbiBUaGUgb3JpZ2luIHZlY3RvclxuICAgICAqIEBwYXJhbSBkaXJlY3Rpb24gVGhlIG9yaWdpbiB2ZWN0b3JcbiAgICAgKiBAcGFyYW0gYm91bmRhcnlBIFRoZSBmaXJzdCBwb2ludCBvZiB0aGUgYm91bmRhcnkgdmVjdG9yXG4gICAgICogQHBhcmFtIGJvdW5kYXJ5QiBUaGUgZmlyc3QgcG9pbnQgb2YgdGhlIGJvdW5kYXJ5IHZlY3RvclxuICAgICAqIEByZXR1cm4gUmF5Q2FzdE9iamVjdFxuICAgICAqIEBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGluZSVFMiU4MCU5M2xpbmVfaW50ZXJzZWN0aW9uXG4gICAgICogQHNlZSBodHRwczovL2JpdC5seS8yV1BiNFgzXG4gICAgICovXG4gICAgc3RhdGljIGNhc3QyZChvcmlnaW4sIGRpcmVjdGlvbiwgYm91bmRhcnlBLCBib3VuZGFyeUIpIHtcbiAgICAgICAgLy8gRnJvbSB3aWtpcGVkaWE6IFRoZSBpbnRlcnNlY3Rpb24gcG9pbnQgZmFsbHMgd2l0aGluIHRoZSBmaXJzdCBsaW5lXG4gICAgICAgIC8vIHNlZ21lbnQgaWZcbiAgICAgICAgLy8gMC4wIOKJpCB0IOKJpCAxLjAsIGFuZCBpdCBmYWxscyB3aXRoaW4gdGhlIHNlY29uZCBsaW5lIHNlZ21lbnRcbiAgICAgICAgLy8gaWYgMC4wIOKJpCB1IOKJpCAxLjAuXG4gICAgICAgIC8vIEhvd2V2ZXIgc2luY2UgdGhlIHJheSBpcyBpbmZpbml0ZSwgY2FuIHdlIGNhbiBqdXN0IHVzZSB1IDwgMS4wLlxuICAgICAgICAvLyBEZWZpbmUgZW5kcG9pbnRzLlxuICAgICAgICBjb25zdCB4MSA9IGJvdW5kYXJ5QS54O1xuICAgICAgICBjb25zdCB5MSA9IGJvdW5kYXJ5QS55O1xuICAgICAgICBjb25zdCB4MiA9IGJvdW5kYXJ5Qi54O1xuICAgICAgICBjb25zdCB5MiA9IGJvdW5kYXJ5Qi55O1xuICAgICAgICBjb25zdCB4MyA9IG9yaWdpbi54O1xuICAgICAgICBjb25zdCB5MyA9IG9yaWdpbi55O1xuICAgICAgICBjb25zdCB4NCA9IFZlY3Rvci5hZGQob3JpZ2luLCBkaXJlY3Rpb24pLng7XG4gICAgICAgIGNvbnN0IHk0ID0gVmVjdG9yLmFkZChvcmlnaW4sIGRpcmVjdGlvbikueTtcbiAgICAgICAgY29uc3QgZGVub21pbmF0b3IgPSAoeDEgLSB4MikgKiAoeTMgLSB5NCkgLSAoeTEgLSB5MikgKiAoeDMgLSB4NCk7XG4gICAgICAgIC8vIElmIHRoZSBkZW5vbWluYXRvciBpcyAwLCB0aGVuIHRoZSB0d28gbGluZXMgYXJlIHBlcmZlY3RseSBpblxuICAgICAgICAvLyBwYXJhbGxlbCBzbyB0aGV5IHdvdWxkIG5ldmVyIGludGVyc2VjdC5cbiAgICAgICAgaWYgKGRlbm9taW5hdG9yID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGhpdDogZmFsc2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vdyBjYWxjdWxhdGUgdCBhbmQgdS5cbiAgICAgICAgY29uc3QgdCA9ICgoeDEgLSB4MykgKiAoeTMgLSB5NCkgLSAoeTEgLSB5MykgKiAoeDMgLSB4NCkpIC8gZGVub21pbmF0b3I7XG4gICAgICAgIGNvbnN0IHUgPSAtKCh4MSAtIHgyKSAqICh5MSAtIHkzKSAtICh5MSAtIHkyKSAqICh4MSAtIHgzKSkgLyBkZW5vbWluYXRvcjtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBoaXQgY2FsY3VsYXRlIHRoZSBpbnRlcmFjdGlvbiB2ZWN0b3IgcG9pbnQuXG4gICAgICAgIGlmICh0ID4gMCAmJiB0IDwgMSAmJiB1ID4gMCkge1xuICAgICAgICAgICAgY29uc3QgeCA9IHgxICsgdCAqICh4MiAtIHgxKTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSB5MSArIHQgKiAoeTIgLSB5MSk7XG4gICAgICAgICAgICBjb25zdCBjb2xsaXNpb24gPSBuZXcgVmVjdG9yKHgsIHkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBoaXQ6IHRydWUsXG4gICAgICAgICAgICAgICAgY29sbGlzaW9uOiBjb2xsaXNpb24sXG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IFZlY3Rvci5zdWJ0cmFjdChvcmlnaW4sIGNvbGxpc2lvbikubGVuZ3RoKCksXG4gICAgICAgICAgICAgICAgYW5nbGU6IG1hdGhmLnRvRml4ZWQoVmVjdG9yLmFuZ2xlMmQob3JpZ2luLCBjb2xsaXNpb24pLCAzKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGhpdDogZmFsc2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmF5Y2FzdC5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/mathf/raycast.js\n");

/***/ }),

/***/ "./lib/mathf/vector.js":
/*!*****************************!*\
  !*** ./lib/mathf/vector.js ***!
  \*****************************/
/*! exports provided: Vector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Vector\", function() { return Vector; });\n/* harmony import */ var _ease_ease__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ease/ease */ \"./lib/ease/ease.js\");\n/* harmony import */ var _mathf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mathf */ \"./lib/mathf/mathf.js\");\n\n\n/**\n *\n * A basic vector class that can be used for 2d or 3d.  When using for 2d,\n * the z defaults to 0.\n *\n * ```ts\n *\n * let v = new Vector(0,0,0);\n * let v2 = new Vector(2,1,0);\n *\n * v.add(v2);\n * let v3 = v.clone();\n * v3.scale(5);\n *\n * v3.dot(v2);\n *\n * ```\n *\n *\n * TODO (uxder): Add matrix transformations.\n *\n * TODO (uxder): Add more tests.\n *\n * Some good resource on Vectors if you are unfamiliar with them.\n * @see https://www.mathsisfun.com/algebra/vectors.html\n * @see https://bit.ly/2wGFKdv\n *\n * Inspirted by:\n * @see https://github.com/mrdoob/three.js/blob/master/src/math/Vector3.js\n * @see https://github.com/photonstorm/phaser/blob/v3.17.0/src/math/Vector3.js\n * @see https://evanw.github.io/lightgl.js/docs/vector.html\n *\n */\nclass Vector {\n    constructor(x = 0, y = 0, z = 0, w = 0) {\n        this.x = x || 0;\n        this.y = y || 0;\n        this.z = z || 0;\n        this.w = w || 0;\n    }\n    /**\n     * Makes a clone of this vector.\n     *\n     * ```ts\n     * var v = new Vector(0,1,0);\n     * var clonedVector = v.clone();\n     * ```\n     * @tested\n     */\n    clone() {\n        return new Vector(this.x, this.y, this.z);\n    }\n    /**\n     * Makes a clone of this vector.\n     *\n     * ```ts\n     * var v = new Vector(0,1,0);\n     * var clonedVector = Vecrtor3.clone(v);\n     * ```\n     * @tested\n     */\n    static clone(v) {\n        return new Vector(v.x, v.y, v.z);\n    }\n    /**\n     * Sets x,y,z.\n     * @tested\n     */\n    set(x, y, z = 0) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        return this;\n    }\n    /**\n     * Floors out the internal values to avoid subpixel rendering.\n     */\n    floor() {\n        this.x = ~~this.x;\n        this.y = ~~this.y;\n        this.z = ~~this.z;\n        return this;\n    }\n    /**\n     * Converts internal values to int\n     */\n    int() {\n        this.x = this.x >> 0;\n        this.y = this.y >> 0;\n        this.z = this.z >> 0;\n        return this;\n    }\n    /**\n     * Tests the equality of this vector against another.\n     *\n     * ```ts\n     * var v = new Vector(0,1,0);\n     * var v2 = new Vector(0,1,0);\n     * v.equals(v2); // true\n     * ```\n     * @tested\n     */\n    equals(vector) {\n        return this.x === vector.x && this.y === vector.y && this.z === vector.z;\n    }\n    /**\n     * A static method testing the equality of two vectors.\n     *\n     * ```ts\n     * var v = new Vectorr3(0,1,0);\n     * var v2 = new Vector(0,1,0);\n     * Vector.equals(v2); // true\n     * ```\n     *\n     * @param v1\n     * @param v2\n     * @tested\n     */\n    static equals(v1, v2) {\n        return v1.x === v2.x && v1.y === v2.y && v1.z === v2.z;\n    }\n    /**\n     * Converts the current vector to an array.\n     *\n     * ```ts\n     * var v = new Vector(0,1,0);\n     * v.toArray(); // [0,1,0]\n     * ```\n     */\n    toArray() {\n        return [this.x, this.y, this.z];\n    }\n    /**\n     * Converts the current vector to an array.\n     *\n     * ```ts\n     * var v = new Vector(0,1,0);\n     * var a = Vector.toArray(v);// [0,1,0]\n     * ```\n     */\n    static toArray(v) {\n        return [v.x, v.y, v.z];\n    }\n    /**\n     * Creates a new Vector from a set of arrays.\n     *\n     * ```ts\n     * var v = Vector.fromArray([0,2,2]);\n     * ```\n     */\n    static fromArray(values) {\n        return new Vector(values[0], values[1], values[2]);\n    }\n    /**\n     * Creates a new Vector from static method.\n     *\n     * ```ts\n     * var v = Vector.create(0,2,2);\n     * ```\n     * @param x\n     * @param y\n     * @param z\n     * @tested\n     */\n    static create(x, y, z = 0) {\n        return new Vector(x, y, z);\n    }\n    /**\n     * Creates a new 2d Vector with a specific angle and length.\n     * This is useful to create a directional vector.\n     *\n     * Example:\n     * ```ts\n     *\n     *  let origin = new Vector(10, 20);\n     *  // Create a ray that goes 90 degrees down in 100 length.\n     *  let ray = Vector.fromAngle(mathf.degreeToRadian(90), 100);\n     *\n     *  // Combine the origin and ray to get the endpoint (the tip of the ray).\n     *  let endPoint = Vector.add(origin, ray);\n     *\n     * ```\n     *\n     *\n     * @param angle Angle in radians\n     * @param length The length, magnitude of the vector. Defaults to a\n     *     semi-infinite length.\n     */\n    static fromAngle(angle, length = 100000) {\n        return new Vector(length * Math.cos(angle), length * Math.sin(angle), 0);\n    }\n    /**\n     * Gets the angle between two vectors.\n     *\n     *\n     * ```ts\n     *\n     * let a = new Vector(100,200);\n     * let b = new Vector(150,240);\n     *\n     * let angle = Vector.angle2d(a, b);\n     *\n     * ```\n     *\n     * @param a The first vector\n     * @param b The second vector\n     * @return The angle of the two vectors in radians.\n     */\n    static angle2d(a, b) {\n        const dx = a.x - b.x, dy = a.y - b.y;\n        return Math.atan2(dy, dx);\n    }\n    /**\n     * Given a targetVector, this will find the rotation angles of each\n     * axis which you can then later use to on rotateX, rotateY, rotateZ\n     * values on a matrix or rotational vector.\n     *\n     *\n     * Basic Example:\n     * ```ts\n     *\n     * let origin = Vector.ZERO;\n     * let target = new Vector(10,15,20);\n     * let angles = Vector.getXyzRotationTo(origin, target);\n     *\n     * angles[0] // 1.95.. -- radian x rotation value\n     * angles[1] // 2.16.. -- radian y rotation value\n     * angles[2] // 2.40.. -- radian z rotation value\n     *\n     * ```\n     *\n     * See for a reference but the below is not using this:\n     * https://stackoverflow.com/questions/48532207/get-xyz-rotation-from-pvector\n     * @param targetVector\n     * @return Array<number> An array with three numbers,\n     *      angleX, angleY and angleZ in radians.\n     */\n    static getXyzRotationTo(originVector, targetVector) {\n        // Use the difference between current vector and target as the basis.\n        const delta = originVector.clone().subtract(targetVector);\n        const angleX = Math.atan(delta.x);\n        const angleY = Math.atan(delta.y);\n        const angleZ = Math.atan(delta.z);\n        return [angleX, angleY, angleZ];\n    }\n    /**\n     * Find the Eular rotation from one vector to another.  This will you\n     * the angle delta between the two.\n     *\n     *\n     * ```ts\n     * let eularVector = Vector.getEularRotation(origin, target);\n     * eularVector.x // degrees in x rotation\n     * eularVector.y // degrees in y rotation\n     * eularVector.z // degrees in z rotation\n     * ```\n     *\n     * @param originVector\n     * @param targetVector\n     */\n    static getEularRotationTo(originVector, targetVector) {\n        // Use the difference between current vector and target as the basis.\n        const delta = originVector\n            .clone()\n            .normalize()\n            .subtract(targetVector.clone().normalize());\n        const angleX = -Math.atan(delta.x);\n        const angleY = Math.atan(delta.y);\n        const angleZ = -Math.atan(delta.z);\n        return new Vector(_mathf__WEBPACK_IMPORTED_MODULE_1__[\"radianToDegree\"](angleX), _mathf__WEBPACK_IMPORTED_MODULE_1__[\"radianToDegree\"](angleY), _mathf__WEBPACK_IMPORTED_MODULE_1__[\"radianToDegree\"](angleZ));\n    }\n    /**\n     * Adds this vector to another.\n     */\n    add(v) {\n        this.x += v.x;\n        this.y += v.y;\n        this.z += v.z || 0;\n        return this;\n    }\n    static add(v2, v1) {\n        const x = v2.x + v1.x;\n        const y = v2.y + v1.y;\n        const z = v2.z + v1.z;\n        return new Vector(x, y, z);\n    }\n    /**\n     * Subtract this vector from another .\n     */\n    subtract(v) {\n        this.x -= v.x;\n        this.y -= v.y;\n        this.z -= v.z || 0;\n        return this;\n    }\n    /**\n     * Subtract this vector from another and create a new vector.\n     */\n    static subtract(v2, v1) {\n        const x = v2.x - v1.x;\n        const y = v2.y - v1.y;\n        const z = v2.z - v1.z;\n        return new Vector(x, y, z);\n    }\n    /**\n     * Multiply this vector with another.\n     */\n    multiply(v) {\n        this.x *= v.x;\n        this.y *= v.y;\n        this.z *= v.z || 1;\n        return this;\n    }\n    /**\n     * Divide this vector with another.\n     */\n    divide(v) {\n        this.x /= v.x;\n        this.y /= v.y;\n        this.z /= v.z || 1;\n        return this;\n    }\n    /**\n     * Scales this vector by the given scalar value.\n     */\n    scale(scalar) {\n        if (isFinite(scalar)) {\n            this.x *= scalar;\n            this.y *= scalar;\n            this.z *= scalar;\n            return this;\n        }\n        else {\n            return Vector.ZERO;\n        }\n    }\n    /**\n     * Negate this vector as a 3d vector.\n     */\n    negate() {\n        this.x = -this.x;\n        this.y = -this.y;\n        this.z = _mathf__WEBPACK_IMPORTED_MODULE_1__[\"absZero\"](-this.z);\n        return this;\n    }\n    static negate(v) {\n        const x = -v.x;\n        const y = -v.y;\n        const z = _mathf__WEBPACK_IMPORTED_MODULE_1__[\"absZero\"](-v.z);\n        return new Vector(x, y, z);\n    }\n    /**\n     * Calculates the distance between this vector and another.\n     * @return The distance from this vector to another\n     */\n    distance(v) {\n        const dx = v.x - this.x;\n        const dy = v.y - this.y;\n        const dz = v.z - this.z || 0;\n        return Math.sqrt(dx * dx + dy * dy + dz * dz);\n    }\n    /**\n     * Calculates the length / magnitude of this vector.\n     */\n    length() {\n        const x = this.x;\n        const y = this.y;\n        const z = this.z;\n        return Math.sqrt(x * x + y * y + z * z);\n    }\n    /**\n     * Calculates the length squared\n     */\n    lengthSquared() {\n        return this.x * this.x + this.y * this.y + this.z * this.z;\n    }\n    /**\n     * Calculates the magnitude of this vector.\n     * Alias of [[Vector.length]]\n     */\n    magnitude() {\n        return this.length();\n    }\n    /**\n     * Normalizes this vector.\n     */\n    normalize() {\n        const x = this.x;\n        const y = this.y;\n        const z = this.z;\n        let len = x * x + y * y + z * z;\n        if (len > 0) {\n            len = 1 / Math.sqrt(len);\n            this.x = x * len;\n            this.y = y * len;\n            this.z = z * len;\n        }\n        return this;\n    }\n    /**\n     * Calculates the dot product of this Vector and the given vector.\n     * @return The dot product of this vector and provided vector.\n     */\n    dot(v) {\n        return this.x * v.x + this.y * v.y + this.z * v.z;\n    }\n    cross(v) {\n        const ax = this.x;\n        const ay = this.y;\n        const az = this.z;\n        const bx = v.x;\n        const by = v.y;\n        const bz = v.z;\n        this.x = ay * bz - az * by;\n        this.y = az * bx - ax * bz;\n        this.z = ax * by - ay * bx;\n        return this;\n    }\n    /**\n     * Transform this vector given the provided matrix4.\n     */\n    transformWithMatrixIV(matrix) {\n        const x = this.x;\n        const y = this.y;\n        const z = this.z;\n        const mat = matrix.value;\n        const tx = x * mat[0] + y * mat[4] + z * mat[8] + mat[12];\n        const ty = x * mat[1] + y * mat[5] + z * mat[9] + mat[13];\n        const tz = x * mat[2] + y * mat[6] + z * mat[10] + mat[14];\n        let tw = x * mat[3] + y * mat[7] + z * mat[11] + mat[15];\n        tw = tw || 1.0;\n        this.x = tx / tw;\n        this.y = ty / tw;\n        this.z = tz / tw;\n        return new Vector(this.x, this.y, this.z);\n    }\n    /**\n     * Transform the current vector with the provided matrix4 to a\n     * 2d.  This effectively takes this 3d vector and makes it into\n     * the cooresponding 2d coordinates using the transformMatrix.\n     *\n     * This operation is the same as transformWithMatrixIV except the\n     * z is dropped.\n     * @param matrix\n     */\n    transformWithMatrixIVTo2d(matrix) {\n        return this.transformWithMatrixIV(matrix).set(this.x, this.y, 0);\n    }\n    // /**\n    //  * Adds a 3d rotation.  This is NOT a rotation based on the center of the\n    //  * this vector but based from VECTOR.ZERO.  (so adding a rotation will move\n    //  * the position not the direction it's looking).\n    //  * https://ikeryou.hatenablog.com/entry/2018/01/07/104729\n    //  * @param v\n    //  * @param angle Angle in radians.\n    //  * TODO (uxder): Maybe move to vector-dom instead?\n    //  */\n    // rotateX(angle: number) {\n    //     const cos = Math.cos(angle);\n    //     const sin = Math.sin(angle);\n    //     this.y = this.y * cos - this.z * sin;\n    //     this.z = this.z * cos + this.y * sin;\n    //     return this;\n    // }\n    // /**\n    //  * Adds a 3d rotation.  This is NOT a rotation based on the center of the\n    //  * this vector but based from VECTOR.ZERO.  (so adding a rotation will move\n    //  * the position not the direction it's looking).\n    //  * https://ikeryou.hatenablog.com/entry/2018/01/07/104729\n    //  * @param v\n    //  * @param angle Angle in radians.\n    //  * TODO (uxder): Maybe move to vector-dom instead?\n    //  */\n    // rotateY(angle: number) {\n    //     const cos = Math.cos(angle);\n    //     const sin = Math.sin(angle);\n    //     this.x = this.x * cos - this.z * sin;\n    //     this.z = this.z * cos + this.x * sin;\n    //     return this;\n    // }\n    // /**\n    //  * Adds a 3d rotation.  This is NOT a rotation based on the center of the\n    //  * this vector but based from VECTOR.ZERO.  (so adding a rotation will move\n    //  * the position not the direction it's looking).\n    //  * https://ikeryou.hatenablog.com/entry/2018/01/07/104729\n    //  * @param v\n    //  * @param angle Angle in radians.\n    //  * TODO (uxder): Maybe move to vector-dom instead?\n    //  */\n    // rotateZ(angle: number) {\n    //     const cos = Math.cos(angle);\n    //     const sin = Math.sin(angle);\n    //     this.x = this.x * cos - this.y * sin;\n    //     this.y = this.y * cos + this.x * sin;\n    //     return this;\n    // }\n    /**\n     * Linear interpolates this vector TOWARDS the provided vector.\n     * @param v\n     * @param progress A number between 0-1.\n     */\n    lerp(v, progress = 0) {\n        this.x = _mathf__WEBPACK_IMPORTED_MODULE_1__[\"lerp\"](this.x, v.x, progress);\n        this.y = _mathf__WEBPACK_IMPORTED_MODULE_1__[\"lerp\"](this.y, v.y, progress);\n        this.z = _mathf__WEBPACK_IMPORTED_MODULE_1__[\"lerp\"](this.z, v.z, progress);\n        return this;\n    }\n    /**\n     * Similar to lerp but uses exponential decay.   Useful to\n     * smooth out animations with damping.\n     * @param v\n     * @param progress A number between 0-1.\n     */\n    damp(v, progress = 0, damp) {\n        this.x = _mathf__WEBPACK_IMPORTED_MODULE_1__[\"damp\"](this.x, v.x, progress, damp);\n        this.y = _mathf__WEBPACK_IMPORTED_MODULE_1__[\"damp\"](this.y, v.y, progress, damp);\n        this.z = _mathf__WEBPACK_IMPORTED_MODULE_1__[\"damp\"](this.z, v.z, progress, damp);\n        return this;\n    }\n    /**\n     * Ease interpolates this vector TOWARDS the provided vector.\n     * @param v\n     * @param progress A number between 0-1.\n     * @param easeFunction An easing function. See [[mathf.ease]].\n     */\n    ease(v, progress = 0, easeFunction = _ease_ease__WEBPACK_IMPORTED_MODULE_0__[\"linear\"]) {\n        this.x = _mathf__WEBPACK_IMPORTED_MODULE_1__[\"ease\"](this.x, v.x, progress, easeFunction);\n        this.y = _mathf__WEBPACK_IMPORTED_MODULE_1__[\"ease\"](this.y, v.y, progress, easeFunction);\n        this.z = _mathf__WEBPACK_IMPORTED_MODULE_1__[\"ease\"](this.z, v.z, progress, easeFunction);\n        return this;\n    }\n    /**\n     * Ease interpolates and eases 1 vector towards another.\n     * @param v1 startVector\n     * @param v2 endVector\n     * @param progress\n     * @param easeFunction\n     */\n    static ease(v1, v2, progress = 0, easeFunction = _ease_ease__WEBPACK_IMPORTED_MODULE_0__[\"linear\"]) {\n        const x = _mathf__WEBPACK_IMPORTED_MODULE_1__[\"ease\"](v1.x, v2.x, progress, easeFunction);\n        const y = _mathf__WEBPACK_IMPORTED_MODULE_1__[\"ease\"](v1.y, v2.y, progress, easeFunction);\n        const z = _mathf__WEBPACK_IMPORTED_MODULE_1__[\"ease\"](v1.z, v2.z, progress, easeFunction);\n        return new Vector(x, y, z);\n    }\n    /**\n     * Given vector a and vector b, takes the Math.min values of x,y,z and\n     * returns a new Vector.\n     * @param a Vector A\n     * @param b Vector B\n     */\n    static min(a, b) {\n        return new Vector(Math.min(a.x, b.x), Math.min(a.y, b.y), Math.min(a.z, b.z));\n    }\n    /**\n     * Given vector a and vector b, takes the Math.max values of x,y,z and\n     * returns a new Vector.\n     * @param a Vector A\n     * @param b Vector B\n     */\n    static max(a, b) {\n        return new Vector(Math.max(a.x, b.x), Math.max(a.y, b.y), Math.max(a.z, b.z));\n    }\n    /**\n     * Given a Vector storing Euler degrees, converts it to radians.\n     *\n     * ```ts\n     * let eulerVector = new Vector(90, 180, 0);\n     * let radianVector = Vector.eulerVectorToRadians(eulerVector);\n     *\n     * ```\n     */\n    static degreeToRadians(v) {\n        return new Vector(_mathf__WEBPACK_IMPORTED_MODULE_1__[\"degreeToRadian\"](v.x), _mathf__WEBPACK_IMPORTED_MODULE_1__[\"degreeToRadian\"](v.y), _mathf__WEBPACK_IMPORTED_MODULE_1__[\"degreeToRadian\"](v.z));\n    }\n    degreeToRadians() {\n        return Vector.degreeToRadians(this);\n    }\n    /**\n     * Clamps a given vector between a min and max vector.\n     * @param min The min vector\n     * @param max The max vector\n     * @param vector The vector to clamp\n     */\n    static clamp(min, max, vector) {\n        return new Vector(_mathf__WEBPACK_IMPORTED_MODULE_1__[\"clamp\"](min.x, max.x, vector.x), _mathf__WEBPACK_IMPORTED_MODULE_1__[\"clamp\"](min.y, max.y, vector.y), _mathf__WEBPACK_IMPORTED_MODULE_1__[\"clamp\"](min.z, max.z, vector.z));\n    }\n    /**\n     * Creates a Eular vector from a rotationalMatrix. This conversion is better\n     * avoided for different reasons.  The pitch (y) will be limited to +-90.\n     *\n     * There are also cases where accuracy suffers so use with caution.\n     *\n     * Yaw, Roll will be +-180.\n     * Pitch will be +- 90.\n     *\n     * ```ts\n     *   // Example converts a quaternion back over to euler.\n     *   let quat = new Quaternion(0.2, 0.2, 0.2, 0.1);\n     *   let matrix = MatrixIV.fromQuaternion(quat.clone());\n     *   let eularVector = Vector.fromRotationMatrixIV(matrix);\n     * ```\n     *\n     */\n    static fromRotationMatrixIV(m) {\n        const result = Vector.ZERO;\n        const te = m.value;\n        const m11 = te[0], m12 = te[4], m13 = te[8];\n        // eslint-disable-next-line\n        const m21 = te[1], m22 = te[5], m23 = te[9];\n        // eslint-disable-next-line\n        const m31 = te[2], m32 = te[6], m33 = te[10];\n        // XYZ ordering\n        // https://github.com/mrdoob/three.js/blob/master/src/math/Euler.js#L146\n        result.y = Math.asin(_mathf__WEBPACK_IMPORTED_MODULE_1__[\"clamp\"](-1, 1, m13));\n        if (Math.abs(m13) < 0.9999999) {\n            result.x = Math.atan2(-m23, m33);\n            result.z = Math.atan2(-m12, m11);\n        }\n        else {\n            result.x = Math.atan2(m32, m22);\n            result.z = 0;\n        }\n        result.x = _mathf__WEBPACK_IMPORTED_MODULE_1__[\"radianToDegree\"](result.x);\n        // result.y = mathf.wrap(mathf.radianToDegree(result.y), -89.9999, 89.9999);\n        result.y = _mathf__WEBPACK_IMPORTED_MODULE_1__[\"radianToDegree\"](result.y);\n        result.z = _mathf__WEBPACK_IMPORTED_MODULE_1__[\"radianToDegree\"](result.z);\n        return result;\n    }\n    /**\n     * A static zero vector.\n     *\n     * ```ts\n     * let positon = Vector.ZERO;\n     * ```\n     */\n    static get ZERO() {\n        return new Vector(0, 0, 0);\n    }\n    /**\n     * A static one vector.\n     *\n     * ```ts\n     * let positon = Vector.ONE;\n     * ```\n     */\n    static get ONE() {\n        return new Vector(1, 1, 1);\n    }\n    /**\n     * A static right vector for reference .\n     *\n     * ```ts\n     * let positon = Vector.ONE;\n     * position.add(Vector.RIGHT.scale(4))\n     * ```\n     */\n    static get RIGHT() {\n        return new Vector(1, 0, 0);\n    }\n    /**\n     * A static left vector for reference .\n     */\n    static get LEFT() {\n        return new Vector(-1, 0, 0);\n    }\n    /**\n     * A static up vector for reference .\n     */\n    static get UP() {\n        return new Vector(0, -1, 0);\n    }\n    /**\n     * A static down vector for reference .\n     */\n    static get DOWN() {\n        return new Vector(0, 1, 0);\n    }\n    /**\n     * A static foward vector for reference .\n     */\n    static get FORWARD() {\n        return new Vector(0, 0, 1);\n    }\n    /**\n     * A static foward vector for reference .\n     */\n    static get BACK() {\n        return new Vector(0, 0, -1);\n    }\n}\n//# sourceMappingURL=vector.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvdmVjdG9yLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL21hdGhmL3ZlY3Rvci5qcz9hYTczIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIEVBU0UgZnJvbSAnLi4vZWFzZS9lYXNlJztcbmltcG9ydCAqIGFzIG1hdGhmIGZyb20gJy4vbWF0aGYnO1xuLyoqXG4gKlxuICogQSBiYXNpYyB2ZWN0b3IgY2xhc3MgdGhhdCBjYW4gYmUgdXNlZCBmb3IgMmQgb3IgM2QuICBXaGVuIHVzaW5nIGZvciAyZCxcbiAqIHRoZSB6IGRlZmF1bHRzIHRvIDAuXG4gKlxuICogYGBgdHNcbiAqXG4gKiBsZXQgdiA9IG5ldyBWZWN0b3IoMCwwLDApO1xuICogbGV0IHYyID0gbmV3IFZlY3RvcigyLDEsMCk7XG4gKlxuICogdi5hZGQodjIpO1xuICogbGV0IHYzID0gdi5jbG9uZSgpO1xuICogdjMuc2NhbGUoNSk7XG4gKlxuICogdjMuZG90KHYyKTtcbiAqXG4gKiBgYGBcbiAqXG4gKlxuICogVE9ETyAodXhkZXIpOiBBZGQgbWF0cml4IHRyYW5zZm9ybWF0aW9ucy5cbiAqXG4gKiBUT0RPICh1eGRlcik6IEFkZCBtb3JlIHRlc3RzLlxuICpcbiAqIFNvbWUgZ29vZCByZXNvdXJjZSBvbiBWZWN0b3JzIGlmIHlvdSBhcmUgdW5mYW1pbGlhciB3aXRoIHRoZW0uXG4gKiBAc2VlIGh0dHBzOi8vd3d3Lm1hdGhzaXNmdW4uY29tL2FsZ2VicmEvdmVjdG9ycy5odG1sXG4gKiBAc2VlIGh0dHBzOi8vYml0Lmx5LzJ3R0ZLZHZcbiAqXG4gKiBJbnNwaXJ0ZWQgYnk6XG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvYmxvYi9tYXN0ZXIvc3JjL21hdGgvVmVjdG9yMy5qc1xuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vcGhvdG9uc3Rvcm0vcGhhc2VyL2Jsb2IvdjMuMTcuMC9zcmMvbWF0aC9WZWN0b3IzLmpzXG4gKiBAc2VlIGh0dHBzOi8vZXZhbncuZ2l0aHViLmlvL2xpZ2h0Z2wuanMvZG9jcy92ZWN0b3IuaHRtbFxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIFZlY3RvciB7XG4gICAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwLCB6ID0gMCwgdyA9IDApIHtcbiAgICAgICAgdGhpcy54ID0geCB8fCAwO1xuICAgICAgICB0aGlzLnkgPSB5IHx8IDA7XG4gICAgICAgIHRoaXMueiA9IHogfHwgMDtcbiAgICAgICAgdGhpcy53ID0gdyB8fCAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhIGNsb25lIG9mIHRoaXMgdmVjdG9yLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiB2YXIgdiA9IG5ldyBWZWN0b3IoMCwxLDApO1xuICAgICAqIHZhciBjbG9uZWRWZWN0b3IgPSB2LmNsb25lKCk7XG4gICAgICogYGBgXG4gICAgICogQHRlc3RlZFxuICAgICAqL1xuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3Rvcih0aGlzLngsIHRoaXMueSwgdGhpcy56KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZXMgYSBjbG9uZSBvZiB0aGlzIHZlY3Rvci5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogdmFyIHYgPSBuZXcgVmVjdG9yKDAsMSwwKTtcbiAgICAgKiB2YXIgY2xvbmVkVmVjdG9yID0gVmVjcnRvcjMuY2xvbmUodik7XG4gICAgICogYGBgXG4gICAgICogQHRlc3RlZFxuICAgICAqL1xuICAgIHN0YXRpYyBjbG9uZSh2KSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHYueCwgdi55LCB2LnopO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHgseSx6LlxuICAgICAqIEB0ZXN0ZWRcbiAgICAgKi9cbiAgICBzZXQoeCwgeSwgeiA9IDApIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy56ID0gejtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZsb29ycyBvdXQgdGhlIGludGVybmFsIHZhbHVlcyB0byBhdm9pZCBzdWJwaXhlbCByZW5kZXJpbmcuXG4gICAgICovXG4gICAgZmxvb3IoKSB7XG4gICAgICAgIHRoaXMueCA9IH5+dGhpcy54O1xuICAgICAgICB0aGlzLnkgPSB+fnRoaXMueTtcbiAgICAgICAgdGhpcy56ID0gfn50aGlzLno7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBpbnRlcm5hbCB2YWx1ZXMgdG8gaW50XG4gICAgICovXG4gICAgaW50KCkge1xuICAgICAgICB0aGlzLnggPSB0aGlzLnggPj4gMDtcbiAgICAgICAgdGhpcy55ID0gdGhpcy55ID4+IDA7XG4gICAgICAgIHRoaXMueiA9IHRoaXMueiA+PiAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdHMgdGhlIGVxdWFsaXR5IG9mIHRoaXMgdmVjdG9yIGFnYWluc3QgYW5vdGhlci5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogdmFyIHYgPSBuZXcgVmVjdG9yKDAsMSwwKTtcbiAgICAgKiB2YXIgdjIgPSBuZXcgVmVjdG9yKDAsMSwwKTtcbiAgICAgKiB2LmVxdWFscyh2Mik7IC8vIHRydWVcbiAgICAgKiBgYGBcbiAgICAgKiBAdGVzdGVkXG4gICAgICovXG4gICAgZXF1YWxzKHZlY3Rvcikge1xuICAgICAgICByZXR1cm4gdGhpcy54ID09PSB2ZWN0b3IueCAmJiB0aGlzLnkgPT09IHZlY3Rvci55ICYmIHRoaXMueiA9PT0gdmVjdG9yLno7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc3RhdGljIG1ldGhvZCB0ZXN0aW5nIHRoZSBlcXVhbGl0eSBvZiB0d28gdmVjdG9ycy5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogdmFyIHYgPSBuZXcgVmVjdG9ycjMoMCwxLDApO1xuICAgICAqIHZhciB2MiA9IG5ldyBWZWN0b3IoMCwxLDApO1xuICAgICAqIFZlY3Rvci5lcXVhbHModjIpOyAvLyB0cnVlXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdjFcbiAgICAgKiBAcGFyYW0gdjJcbiAgICAgKiBAdGVzdGVkXG4gICAgICovXG4gICAgc3RhdGljIGVxdWFscyh2MSwgdjIpIHtcbiAgICAgICAgcmV0dXJuIHYxLnggPT09IHYyLnggJiYgdjEueSA9PT0gdjIueSAmJiB2MS56ID09PSB2Mi56O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgY3VycmVudCB2ZWN0b3IgdG8gYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIHZhciB2ID0gbmV3IFZlY3RvcigwLDEsMCk7XG4gICAgICogdi50b0FycmF5KCk7IC8vIFswLDEsMF1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICB0b0FycmF5KCkge1xuICAgICAgICByZXR1cm4gW3RoaXMueCwgdGhpcy55LCB0aGlzLnpdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgY3VycmVudCB2ZWN0b3IgdG8gYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIHZhciB2ID0gbmV3IFZlY3RvcigwLDEsMCk7XG4gICAgICogdmFyIGEgPSBWZWN0b3IudG9BcnJheSh2KTsvLyBbMCwxLDBdXG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIHRvQXJyYXkodikge1xuICAgICAgICByZXR1cm4gW3YueCwgdi55LCB2LnpdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFZlY3RvciBmcm9tIGEgc2V0IG9mIGFycmF5cy5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogdmFyIHYgPSBWZWN0b3IuZnJvbUFycmF5KFswLDIsMl0pO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tQXJyYXkodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHZhbHVlc1swXSwgdmFsdWVzWzFdLCB2YWx1ZXNbMl0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFZlY3RvciBmcm9tIHN0YXRpYyBtZXRob2QuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIHZhciB2ID0gVmVjdG9yLmNyZWF0ZSgwLDIsMik7XG4gICAgICogYGBgXG4gICAgICogQHBhcmFtIHhcbiAgICAgKiBAcGFyYW0geVxuICAgICAqIEBwYXJhbSB6XG4gICAgICogQHRlc3RlZFxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoeCwgeSwgeiA9IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoeCwgeSwgeik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgMmQgVmVjdG9yIHdpdGggYSBzcGVjaWZpYyBhbmdsZSBhbmQgbGVuZ3RoLlxuICAgICAqIFRoaXMgaXMgdXNlZnVsIHRvIGNyZWF0ZSBhIGRpcmVjdGlvbmFsIHZlY3Rvci5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogYGBgdHNcbiAgICAgKlxuICAgICAqICBsZXQgb3JpZ2luID0gbmV3IFZlY3RvcigxMCwgMjApO1xuICAgICAqICAvLyBDcmVhdGUgYSByYXkgdGhhdCBnb2VzIDkwIGRlZ3JlZXMgZG93biBpbiAxMDAgbGVuZ3RoLlxuICAgICAqICBsZXQgcmF5ID0gVmVjdG9yLmZyb21BbmdsZShtYXRoZi5kZWdyZWVUb1JhZGlhbig5MCksIDEwMCk7XG4gICAgICpcbiAgICAgKiAgLy8gQ29tYmluZSB0aGUgb3JpZ2luIGFuZCByYXkgdG8gZ2V0IHRoZSBlbmRwb2ludCAodGhlIHRpcCBvZiB0aGUgcmF5KS5cbiAgICAgKiAgbGV0IGVuZFBvaW50ID0gVmVjdG9yLmFkZChvcmlnaW4sIHJheSk7XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqXG4gICAgICogQHBhcmFtIGFuZ2xlIEFuZ2xlIGluIHJhZGlhbnNcbiAgICAgKiBAcGFyYW0gbGVuZ3RoIFRoZSBsZW5ndGgsIG1hZ25pdHVkZSBvZiB0aGUgdmVjdG9yLiBEZWZhdWx0cyB0byBhXG4gICAgICogICAgIHNlbWktaW5maW5pdGUgbGVuZ3RoLlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tQW5nbGUoYW5nbGUsIGxlbmd0aCA9IDEwMDAwMCkge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihsZW5ndGggKiBNYXRoLmNvcyhhbmdsZSksIGxlbmd0aCAqIE1hdGguc2luKGFuZ2xlKSwgMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIHZlY3RvcnMuXG4gICAgICpcbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICpcbiAgICAgKiBsZXQgYSA9IG5ldyBWZWN0b3IoMTAwLDIwMCk7XG4gICAgICogbGV0IGIgPSBuZXcgVmVjdG9yKDE1MCwyNDApO1xuICAgICAqXG4gICAgICogbGV0IGFuZ2xlID0gVmVjdG9yLmFuZ2xlMmQoYSwgYik7XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBhIFRoZSBmaXJzdCB2ZWN0b3JcbiAgICAgKiBAcGFyYW0gYiBUaGUgc2Vjb25kIHZlY3RvclxuICAgICAqIEByZXR1cm4gVGhlIGFuZ2xlIG9mIHRoZSB0d28gdmVjdG9ycyBpbiByYWRpYW5zLlxuICAgICAqL1xuICAgIHN0YXRpYyBhbmdsZTJkKGEsIGIpIHtcbiAgICAgICAgY29uc3QgZHggPSBhLnggLSBiLngsIGR5ID0gYS55IC0gYi55O1xuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMihkeSwgZHgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHRhcmdldFZlY3RvciwgdGhpcyB3aWxsIGZpbmQgdGhlIHJvdGF0aW9uIGFuZ2xlcyBvZiBlYWNoXG4gICAgICogYXhpcyB3aGljaCB5b3UgY2FuIHRoZW4gbGF0ZXIgdXNlIHRvIG9uIHJvdGF0ZVgsIHJvdGF0ZVksIHJvdGF0ZVpcbiAgICAgKiB2YWx1ZXMgb24gYSBtYXRyaXggb3Igcm90YXRpb25hbCB2ZWN0b3IuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEJhc2ljIEV4YW1wbGU6XG4gICAgICogYGBgdHNcbiAgICAgKlxuICAgICAqIGxldCBvcmlnaW4gPSBWZWN0b3IuWkVSTztcbiAgICAgKiBsZXQgdGFyZ2V0ID0gbmV3IFZlY3RvcigxMCwxNSwyMCk7XG4gICAgICogbGV0IGFuZ2xlcyA9IFZlY3Rvci5nZXRYeXpSb3RhdGlvblRvKG9yaWdpbiwgdGFyZ2V0KTtcbiAgICAgKlxuICAgICAqIGFuZ2xlc1swXSAvLyAxLjk1Li4gLS0gcmFkaWFuIHggcm90YXRpb24gdmFsdWVcbiAgICAgKiBhbmdsZXNbMV0gLy8gMi4xNi4uIC0tIHJhZGlhbiB5IHJvdGF0aW9uIHZhbHVlXG4gICAgICogYW5nbGVzWzJdIC8vIDIuNDAuLiAtLSByYWRpYW4geiByb3RhdGlvbiB2YWx1ZVxuICAgICAqXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBTZWUgZm9yIGEgcmVmZXJlbmNlIGJ1dCB0aGUgYmVsb3cgaXMgbm90IHVzaW5nIHRoaXM6XG4gICAgICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDg1MzIyMDcvZ2V0LXh5ei1yb3RhdGlvbi1mcm9tLXB2ZWN0b3JcbiAgICAgKiBAcGFyYW0gdGFyZ2V0VmVjdG9yXG4gICAgICogQHJldHVybiBBcnJheTxudW1iZXI+IEFuIGFycmF5IHdpdGggdGhyZWUgbnVtYmVycyxcbiAgICAgKiAgICAgIGFuZ2xlWCwgYW5nbGVZIGFuZCBhbmdsZVogaW4gcmFkaWFucy5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0WHl6Um90YXRpb25UbyhvcmlnaW5WZWN0b3IsIHRhcmdldFZlY3Rvcikge1xuICAgICAgICAvLyBVc2UgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBjdXJyZW50IHZlY3RvciBhbmQgdGFyZ2V0IGFzIHRoZSBiYXNpcy5cbiAgICAgICAgY29uc3QgZGVsdGEgPSBvcmlnaW5WZWN0b3IuY2xvbmUoKS5zdWJ0cmFjdCh0YXJnZXRWZWN0b3IpO1xuICAgICAgICBjb25zdCBhbmdsZVggPSBNYXRoLmF0YW4oZGVsdGEueCk7XG4gICAgICAgIGNvbnN0IGFuZ2xlWSA9IE1hdGguYXRhbihkZWx0YS55KTtcbiAgICAgICAgY29uc3QgYW5nbGVaID0gTWF0aC5hdGFuKGRlbHRhLnopO1xuICAgICAgICByZXR1cm4gW2FuZ2xlWCwgYW5nbGVZLCBhbmdsZVpdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBFdWxhciByb3RhdGlvbiBmcm9tIG9uZSB2ZWN0b3IgdG8gYW5vdGhlci4gIFRoaXMgd2lsbCB5b3VcbiAgICAgKiB0aGUgYW5nbGUgZGVsdGEgYmV0d2VlbiB0aGUgdHdvLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGxldCBldWxhclZlY3RvciA9IFZlY3Rvci5nZXRFdWxhclJvdGF0aW9uKG9yaWdpbiwgdGFyZ2V0KTtcbiAgICAgKiBldWxhclZlY3Rvci54IC8vIGRlZ3JlZXMgaW4geCByb3RhdGlvblxuICAgICAqIGV1bGFyVmVjdG9yLnkgLy8gZGVncmVlcyBpbiB5IHJvdGF0aW9uXG4gICAgICogZXVsYXJWZWN0b3IueiAvLyBkZWdyZWVzIGluIHogcm90YXRpb25cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcmlnaW5WZWN0b3JcbiAgICAgKiBAcGFyYW0gdGFyZ2V0VmVjdG9yXG4gICAgICovXG4gICAgc3RhdGljIGdldEV1bGFyUm90YXRpb25UbyhvcmlnaW5WZWN0b3IsIHRhcmdldFZlY3Rvcikge1xuICAgICAgICAvLyBVc2UgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBjdXJyZW50IHZlY3RvciBhbmQgdGFyZ2V0IGFzIHRoZSBiYXNpcy5cbiAgICAgICAgY29uc3QgZGVsdGEgPSBvcmlnaW5WZWN0b3JcbiAgICAgICAgICAgIC5jbG9uZSgpXG4gICAgICAgICAgICAubm9ybWFsaXplKClcbiAgICAgICAgICAgIC5zdWJ0cmFjdCh0YXJnZXRWZWN0b3IuY2xvbmUoKS5ub3JtYWxpemUoKSk7XG4gICAgICAgIGNvbnN0IGFuZ2xlWCA9IC1NYXRoLmF0YW4oZGVsdGEueCk7XG4gICAgICAgIGNvbnN0IGFuZ2xlWSA9IE1hdGguYXRhbihkZWx0YS55KTtcbiAgICAgICAgY29uc3QgYW5nbGVaID0gLU1hdGguYXRhbihkZWx0YS56KTtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IobWF0aGYucmFkaWFuVG9EZWdyZWUoYW5nbGVYKSwgbWF0aGYucmFkaWFuVG9EZWdyZWUoYW5nbGVZKSwgbWF0aGYucmFkaWFuVG9EZWdyZWUoYW5nbGVaKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgdGhpcyB2ZWN0b3IgdG8gYW5vdGhlci5cbiAgICAgKi9cbiAgICBhZGQodikge1xuICAgICAgICB0aGlzLnggKz0gdi54O1xuICAgICAgICB0aGlzLnkgKz0gdi55O1xuICAgICAgICB0aGlzLnogKz0gdi56IHx8IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzdGF0aWMgYWRkKHYyLCB2MSkge1xuICAgICAgICBjb25zdCB4ID0gdjIueCArIHYxLng7XG4gICAgICAgIGNvbnN0IHkgPSB2Mi55ICsgdjEueTtcbiAgICAgICAgY29uc3QgeiA9IHYyLnogKyB2MS56O1xuICAgICAgICByZXR1cm4gbmV3IFZlY3Rvcih4LCB5LCB6KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3VidHJhY3QgdGhpcyB2ZWN0b3IgZnJvbSBhbm90aGVyIC5cbiAgICAgKi9cbiAgICBzdWJ0cmFjdCh2KSB7XG4gICAgICAgIHRoaXMueCAtPSB2Lng7XG4gICAgICAgIHRoaXMueSAtPSB2Lnk7XG4gICAgICAgIHRoaXMueiAtPSB2LnogfHwgMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHRoaXMgdmVjdG9yIGZyb20gYW5vdGhlciBhbmQgY3JlYXRlIGEgbmV3IHZlY3Rvci5cbiAgICAgKi9cbiAgICBzdGF0aWMgc3VidHJhY3QodjIsIHYxKSB7XG4gICAgICAgIGNvbnN0IHggPSB2Mi54IC0gdjEueDtcbiAgICAgICAgY29uc3QgeSA9IHYyLnkgLSB2MS55O1xuICAgICAgICBjb25zdCB6ID0gdjIueiAtIHYxLno7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHgsIHksIHopO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0aGlzIHZlY3RvciB3aXRoIGFub3RoZXIuXG4gICAgICovXG4gICAgbXVsdGlwbHkodikge1xuICAgICAgICB0aGlzLnggKj0gdi54O1xuICAgICAgICB0aGlzLnkgKj0gdi55O1xuICAgICAgICB0aGlzLnogKj0gdi56IHx8IDE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdGhpcyB2ZWN0b3Igd2l0aCBhbm90aGVyLlxuICAgICAqL1xuICAgIGRpdmlkZSh2KSB7XG4gICAgICAgIHRoaXMueCAvPSB2Lng7XG4gICAgICAgIHRoaXMueSAvPSB2Lnk7XG4gICAgICAgIHRoaXMueiAvPSB2LnogfHwgMTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNjYWxlcyB0aGlzIHZlY3RvciBieSB0aGUgZ2l2ZW4gc2NhbGFyIHZhbHVlLlxuICAgICAqL1xuICAgIHNjYWxlKHNjYWxhcikge1xuICAgICAgICBpZiAoaXNGaW5pdGUoc2NhbGFyKSkge1xuICAgICAgICAgICAgdGhpcy54ICo9IHNjYWxhcjtcbiAgICAgICAgICAgIHRoaXMueSAqPSBzY2FsYXI7XG4gICAgICAgICAgICB0aGlzLnogKj0gc2NhbGFyO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gVmVjdG9yLlpFUk87XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTmVnYXRlIHRoaXMgdmVjdG9yIGFzIGEgM2QgdmVjdG9yLlxuICAgICAqL1xuICAgIG5lZ2F0ZSgpIHtcbiAgICAgICAgdGhpcy54ID0gLXRoaXMueDtcbiAgICAgICAgdGhpcy55ID0gLXRoaXMueTtcbiAgICAgICAgdGhpcy56ID0gbWF0aGYuYWJzWmVybygtdGhpcy56KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHN0YXRpYyBuZWdhdGUodikge1xuICAgICAgICBjb25zdCB4ID0gLXYueDtcbiAgICAgICAgY29uc3QgeSA9IC12Lnk7XG4gICAgICAgIGNvbnN0IHogPSBtYXRoZi5hYnNaZXJvKC12LnopO1xuICAgICAgICByZXR1cm4gbmV3IFZlY3Rvcih4LCB5LCB6KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGlzIHZlY3RvciBhbmQgYW5vdGhlci5cbiAgICAgKiBAcmV0dXJuIFRoZSBkaXN0YW5jZSBmcm9tIHRoaXMgdmVjdG9yIHRvIGFub3RoZXJcbiAgICAgKi9cbiAgICBkaXN0YW5jZSh2KSB7XG4gICAgICAgIGNvbnN0IGR4ID0gdi54IC0gdGhpcy54O1xuICAgICAgICBjb25zdCBkeSA9IHYueSAtIHRoaXMueTtcbiAgICAgICAgY29uc3QgZHogPSB2LnogLSB0aGlzLnogfHwgMDtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSArIGR6ICogZHopO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggLyBtYWduaXR1ZGUgb2YgdGhpcyB2ZWN0b3IuXG4gICAgICovXG4gICAgbGVuZ3RoKCkge1xuICAgICAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgICAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgICAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBzcXVhcmVkXG4gICAgICovXG4gICAgbGVuZ3RoU3F1YXJlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMuejtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbWFnbml0dWRlIG9mIHRoaXMgdmVjdG9yLlxuICAgICAqIEFsaWFzIG9mIFtbVmVjdG9yLmxlbmd0aF1dXG4gICAgICovXG4gICAgbWFnbml0dWRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZW5ndGgoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplcyB0aGlzIHZlY3Rvci5cbiAgICAgKi9cbiAgICBub3JtYWxpemUoKSB7XG4gICAgICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgICAgIGNvbnN0IHkgPSB0aGlzLnk7XG4gICAgICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgICAgIGxldCBsZW4gPSB4ICogeCArIHkgKiB5ICsgeiAqIHo7XG4gICAgICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICAgICAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgICAgICAgICB0aGlzLnggPSB4ICogbGVuO1xuICAgICAgICAgICAgdGhpcy55ID0geSAqIGxlbjtcbiAgICAgICAgICAgIHRoaXMueiA9IHogKiBsZW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHRoaXMgVmVjdG9yIGFuZCB0aGUgZ2l2ZW4gdmVjdG9yLlxuICAgICAqIEByZXR1cm4gVGhlIGRvdCBwcm9kdWN0IG9mIHRoaXMgdmVjdG9yIGFuZCBwcm92aWRlZCB2ZWN0b3IuXG4gICAgICovXG4gICAgZG90KHYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCAqIHYueCArIHRoaXMueSAqIHYueSArIHRoaXMueiAqIHYuejtcbiAgICB9XG4gICAgY3Jvc3Modikge1xuICAgICAgICBjb25zdCBheCA9IHRoaXMueDtcbiAgICAgICAgY29uc3QgYXkgPSB0aGlzLnk7XG4gICAgICAgIGNvbnN0IGF6ID0gdGhpcy56O1xuICAgICAgICBjb25zdCBieCA9IHYueDtcbiAgICAgICAgY29uc3QgYnkgPSB2Lnk7XG4gICAgICAgIGNvbnN0IGJ6ID0gdi56O1xuICAgICAgICB0aGlzLnggPSBheSAqIGJ6IC0gYXogKiBieTtcbiAgICAgICAgdGhpcy55ID0gYXogKiBieCAtIGF4ICogYno7XG4gICAgICAgIHRoaXMueiA9IGF4ICogYnkgLSBheSAqIGJ4O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIHRoaXMgdmVjdG9yIGdpdmVuIHRoZSBwcm92aWRlZCBtYXRyaXg0LlxuICAgICAqL1xuICAgIHRyYW5zZm9ybVdpdGhNYXRyaXhJVihtYXRyaXgpIHtcbiAgICAgICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICAgICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICAgICAgY29uc3QgeiA9IHRoaXMuejtcbiAgICAgICAgY29uc3QgbWF0ID0gbWF0cml4LnZhbHVlO1xuICAgICAgICBjb25zdCB0eCA9IHggKiBtYXRbMF0gKyB5ICogbWF0WzRdICsgeiAqIG1hdFs4XSArIG1hdFsxMl07XG4gICAgICAgIGNvbnN0IHR5ID0geCAqIG1hdFsxXSArIHkgKiBtYXRbNV0gKyB6ICogbWF0WzldICsgbWF0WzEzXTtcbiAgICAgICAgY29uc3QgdHogPSB4ICogbWF0WzJdICsgeSAqIG1hdFs2XSArIHogKiBtYXRbMTBdICsgbWF0WzE0XTtcbiAgICAgICAgbGV0IHR3ID0geCAqIG1hdFszXSArIHkgKiBtYXRbN10gKyB6ICogbWF0WzExXSArIG1hdFsxNV07XG4gICAgICAgIHR3ID0gdHcgfHwgMS4wO1xuICAgICAgICB0aGlzLnggPSB0eCAvIHR3O1xuICAgICAgICB0aGlzLnkgPSB0eSAvIHR3O1xuICAgICAgICB0aGlzLnogPSB0eiAvIHR3O1xuICAgICAgICByZXR1cm4gbmV3IFZlY3Rvcih0aGlzLngsIHRoaXMueSwgdGhpcy56KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIHRoZSBjdXJyZW50IHZlY3RvciB3aXRoIHRoZSBwcm92aWRlZCBtYXRyaXg0IHRvIGFcbiAgICAgKiAyZC4gIFRoaXMgZWZmZWN0aXZlbHkgdGFrZXMgdGhpcyAzZCB2ZWN0b3IgYW5kIG1ha2VzIGl0IGludG9cbiAgICAgKiB0aGUgY29vcmVzcG9uZGluZyAyZCBjb29yZGluYXRlcyB1c2luZyB0aGUgdHJhbnNmb3JtTWF0cml4LlxuICAgICAqXG4gICAgICogVGhpcyBvcGVyYXRpb24gaXMgdGhlIHNhbWUgYXMgdHJhbnNmb3JtV2l0aE1hdHJpeElWIGV4Y2VwdCB0aGVcbiAgICAgKiB6IGlzIGRyb3BwZWQuXG4gICAgICogQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIHRyYW5zZm9ybVdpdGhNYXRyaXhJVlRvMmQobWF0cml4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybVdpdGhNYXRyaXhJVihtYXRyaXgpLnNldCh0aGlzLngsIHRoaXMueSwgMCk7XG4gICAgfVxuICAgIC8vIC8qKlxuICAgIC8vICAqIEFkZHMgYSAzZCByb3RhdGlvbi4gIFRoaXMgaXMgTk9UIGEgcm90YXRpb24gYmFzZWQgb24gdGhlIGNlbnRlciBvZiB0aGVcbiAgICAvLyAgKiB0aGlzIHZlY3RvciBidXQgYmFzZWQgZnJvbSBWRUNUT1IuWkVSTy4gIChzbyBhZGRpbmcgYSByb3RhdGlvbiB3aWxsIG1vdmVcbiAgICAvLyAgKiB0aGUgcG9zaXRpb24gbm90IHRoZSBkaXJlY3Rpb24gaXQncyBsb29raW5nKS5cbiAgICAvLyAgKiBodHRwczovL2lrZXJ5b3UuaGF0ZW5hYmxvZy5jb20vZW50cnkvMjAxOC8wMS8wNy8xMDQ3MjlcbiAgICAvLyAgKiBAcGFyYW0gdlxuICAgIC8vICAqIEBwYXJhbSBhbmdsZSBBbmdsZSBpbiByYWRpYW5zLlxuICAgIC8vICAqIFRPRE8gKHV4ZGVyKTogTWF5YmUgbW92ZSB0byB2ZWN0b3ItZG9tIGluc3RlYWQ/XG4gICAgLy8gICovXG4gICAgLy8gcm90YXRlWChhbmdsZTogbnVtYmVyKSB7XG4gICAgLy8gICAgIGNvbnN0IGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAvLyAgICAgY29uc3Qgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgIC8vICAgICB0aGlzLnkgPSB0aGlzLnkgKiBjb3MgLSB0aGlzLnogKiBzaW47XG4gICAgLy8gICAgIHRoaXMueiA9IHRoaXMueiAqIGNvcyArIHRoaXMueSAqIHNpbjtcbiAgICAvLyAgICAgcmV0dXJuIHRoaXM7XG4gICAgLy8gfVxuICAgIC8vIC8qKlxuICAgIC8vICAqIEFkZHMgYSAzZCByb3RhdGlvbi4gIFRoaXMgaXMgTk9UIGEgcm90YXRpb24gYmFzZWQgb24gdGhlIGNlbnRlciBvZiB0aGVcbiAgICAvLyAgKiB0aGlzIHZlY3RvciBidXQgYmFzZWQgZnJvbSBWRUNUT1IuWkVSTy4gIChzbyBhZGRpbmcgYSByb3RhdGlvbiB3aWxsIG1vdmVcbiAgICAvLyAgKiB0aGUgcG9zaXRpb24gbm90IHRoZSBkaXJlY3Rpb24gaXQncyBsb29raW5nKS5cbiAgICAvLyAgKiBodHRwczovL2lrZXJ5b3UuaGF0ZW5hYmxvZy5jb20vZW50cnkvMjAxOC8wMS8wNy8xMDQ3MjlcbiAgICAvLyAgKiBAcGFyYW0gdlxuICAgIC8vICAqIEBwYXJhbSBhbmdsZSBBbmdsZSBpbiByYWRpYW5zLlxuICAgIC8vICAqIFRPRE8gKHV4ZGVyKTogTWF5YmUgbW92ZSB0byB2ZWN0b3ItZG9tIGluc3RlYWQ/XG4gICAgLy8gICovXG4gICAgLy8gcm90YXRlWShhbmdsZTogbnVtYmVyKSB7XG4gICAgLy8gICAgIGNvbnN0IGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAvLyAgICAgY29uc3Qgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgIC8vICAgICB0aGlzLnggPSB0aGlzLnggKiBjb3MgLSB0aGlzLnogKiBzaW47XG4gICAgLy8gICAgIHRoaXMueiA9IHRoaXMueiAqIGNvcyArIHRoaXMueCAqIHNpbjtcbiAgICAvLyAgICAgcmV0dXJuIHRoaXM7XG4gICAgLy8gfVxuICAgIC8vIC8qKlxuICAgIC8vICAqIEFkZHMgYSAzZCByb3RhdGlvbi4gIFRoaXMgaXMgTk9UIGEgcm90YXRpb24gYmFzZWQgb24gdGhlIGNlbnRlciBvZiB0aGVcbiAgICAvLyAgKiB0aGlzIHZlY3RvciBidXQgYmFzZWQgZnJvbSBWRUNUT1IuWkVSTy4gIChzbyBhZGRpbmcgYSByb3RhdGlvbiB3aWxsIG1vdmVcbiAgICAvLyAgKiB0aGUgcG9zaXRpb24gbm90IHRoZSBkaXJlY3Rpb24gaXQncyBsb29raW5nKS5cbiAgICAvLyAgKiBodHRwczovL2lrZXJ5b3UuaGF0ZW5hYmxvZy5jb20vZW50cnkvMjAxOC8wMS8wNy8xMDQ3MjlcbiAgICAvLyAgKiBAcGFyYW0gdlxuICAgIC8vICAqIEBwYXJhbSBhbmdsZSBBbmdsZSBpbiByYWRpYW5zLlxuICAgIC8vICAqIFRPRE8gKHV4ZGVyKTogTWF5YmUgbW92ZSB0byB2ZWN0b3ItZG9tIGluc3RlYWQ/XG4gICAgLy8gICovXG4gICAgLy8gcm90YXRlWihhbmdsZTogbnVtYmVyKSB7XG4gICAgLy8gICAgIGNvbnN0IGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAvLyAgICAgY29uc3Qgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgIC8vICAgICB0aGlzLnggPSB0aGlzLnggKiBjb3MgLSB0aGlzLnkgKiBzaW47XG4gICAgLy8gICAgIHRoaXMueSA9IHRoaXMueSAqIGNvcyArIHRoaXMueCAqIHNpbjtcbiAgICAvLyAgICAgcmV0dXJuIHRoaXM7XG4gICAgLy8gfVxuICAgIC8qKlxuICAgICAqIExpbmVhciBpbnRlcnBvbGF0ZXMgdGhpcyB2ZWN0b3IgVE9XQVJEUyB0aGUgcHJvdmlkZWQgdmVjdG9yLlxuICAgICAqIEBwYXJhbSB2XG4gICAgICogQHBhcmFtIHByb2dyZXNzIEEgbnVtYmVyIGJldHdlZW4gMC0xLlxuICAgICAqL1xuICAgIGxlcnAodiwgcHJvZ3Jlc3MgPSAwKSB7XG4gICAgICAgIHRoaXMueCA9IG1hdGhmLmxlcnAodGhpcy54LCB2LngsIHByb2dyZXNzKTtcbiAgICAgICAgdGhpcy55ID0gbWF0aGYubGVycCh0aGlzLnksIHYueSwgcHJvZ3Jlc3MpO1xuICAgICAgICB0aGlzLnogPSBtYXRoZi5sZXJwKHRoaXMueiwgdi56LCBwcm9ncmVzcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaW1pbGFyIHRvIGxlcnAgYnV0IHVzZXMgZXhwb25lbnRpYWwgZGVjYXkuICAgVXNlZnVsIHRvXG4gICAgICogc21vb3RoIG91dCBhbmltYXRpb25zIHdpdGggZGFtcGluZy5cbiAgICAgKiBAcGFyYW0gdlxuICAgICAqIEBwYXJhbSBwcm9ncmVzcyBBIG51bWJlciBiZXR3ZWVuIDAtMS5cbiAgICAgKi9cbiAgICBkYW1wKHYsIHByb2dyZXNzID0gMCwgZGFtcCkge1xuICAgICAgICB0aGlzLnggPSBtYXRoZi5kYW1wKHRoaXMueCwgdi54LCBwcm9ncmVzcywgZGFtcCk7XG4gICAgICAgIHRoaXMueSA9IG1hdGhmLmRhbXAodGhpcy55LCB2LnksIHByb2dyZXNzLCBkYW1wKTtcbiAgICAgICAgdGhpcy56ID0gbWF0aGYuZGFtcCh0aGlzLnosIHYueiwgcHJvZ3Jlc3MsIGRhbXApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRWFzZSBpbnRlcnBvbGF0ZXMgdGhpcyB2ZWN0b3IgVE9XQVJEUyB0aGUgcHJvdmlkZWQgdmVjdG9yLlxuICAgICAqIEBwYXJhbSB2XG4gICAgICogQHBhcmFtIHByb2dyZXNzIEEgbnVtYmVyIGJldHdlZW4gMC0xLlxuICAgICAqIEBwYXJhbSBlYXNlRnVuY3Rpb24gQW4gZWFzaW5nIGZ1bmN0aW9uLiBTZWUgW1ttYXRoZi5lYXNlXV0uXG4gICAgICovXG4gICAgZWFzZSh2LCBwcm9ncmVzcyA9IDAsIGVhc2VGdW5jdGlvbiA9IEVBU0UubGluZWFyKSB7XG4gICAgICAgIHRoaXMueCA9IG1hdGhmLmVhc2UodGhpcy54LCB2LngsIHByb2dyZXNzLCBlYXNlRnVuY3Rpb24pO1xuICAgICAgICB0aGlzLnkgPSBtYXRoZi5lYXNlKHRoaXMueSwgdi55LCBwcm9ncmVzcywgZWFzZUZ1bmN0aW9uKTtcbiAgICAgICAgdGhpcy56ID0gbWF0aGYuZWFzZSh0aGlzLnosIHYueiwgcHJvZ3Jlc3MsIGVhc2VGdW5jdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFYXNlIGludGVycG9sYXRlcyBhbmQgZWFzZXMgMSB2ZWN0b3IgdG93YXJkcyBhbm90aGVyLlxuICAgICAqIEBwYXJhbSB2MSBzdGFydFZlY3RvclxuICAgICAqIEBwYXJhbSB2MiBlbmRWZWN0b3JcbiAgICAgKiBAcGFyYW0gcHJvZ3Jlc3NcbiAgICAgKiBAcGFyYW0gZWFzZUZ1bmN0aW9uXG4gICAgICovXG4gICAgc3RhdGljIGVhc2UodjEsIHYyLCBwcm9ncmVzcyA9IDAsIGVhc2VGdW5jdGlvbiA9IEVBU0UubGluZWFyKSB7XG4gICAgICAgIGNvbnN0IHggPSBtYXRoZi5lYXNlKHYxLngsIHYyLngsIHByb2dyZXNzLCBlYXNlRnVuY3Rpb24pO1xuICAgICAgICBjb25zdCB5ID0gbWF0aGYuZWFzZSh2MS55LCB2Mi55LCBwcm9ncmVzcywgZWFzZUZ1bmN0aW9uKTtcbiAgICAgICAgY29uc3QgeiA9IG1hdGhmLmVhc2UodjEueiwgdjIueiwgcHJvZ3Jlc3MsIGVhc2VGdW5jdGlvbik7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHgsIHksIHopO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHaXZlbiB2ZWN0b3IgYSBhbmQgdmVjdG9yIGIsIHRha2VzIHRoZSBNYXRoLm1pbiB2YWx1ZXMgb2YgeCx5LHogYW5kXG4gICAgICogcmV0dXJucyBhIG5ldyBWZWN0b3IuXG4gICAgICogQHBhcmFtIGEgVmVjdG9yIEFcbiAgICAgKiBAcGFyYW0gYiBWZWN0b3IgQlxuICAgICAqL1xuICAgIHN0YXRpYyBtaW4oYSwgYikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihNYXRoLm1pbihhLngsIGIueCksIE1hdGgubWluKGEueSwgYi55KSwgTWF0aC5taW4oYS56LCBiLnopKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2l2ZW4gdmVjdG9yIGEgYW5kIHZlY3RvciBiLCB0YWtlcyB0aGUgTWF0aC5tYXggdmFsdWVzIG9mIHgseSx6IGFuZFxuICAgICAqIHJldHVybnMgYSBuZXcgVmVjdG9yLlxuICAgICAqIEBwYXJhbSBhIFZlY3RvciBBXG4gICAgICogQHBhcmFtIGIgVmVjdG9yIEJcbiAgICAgKi9cbiAgICBzdGF0aWMgbWF4KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoTWF0aC5tYXgoYS54LCBiLngpLCBNYXRoLm1heChhLnksIGIueSksIE1hdGgubWF4KGEueiwgYi56KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgVmVjdG9yIHN0b3JpbmcgRXVsZXIgZGVncmVlcywgY29udmVydHMgaXQgdG8gcmFkaWFucy5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogbGV0IGV1bGVyVmVjdG9yID0gbmV3IFZlY3Rvcig5MCwgMTgwLCAwKTtcbiAgICAgKiBsZXQgcmFkaWFuVmVjdG9yID0gVmVjdG9yLmV1bGVyVmVjdG9yVG9SYWRpYW5zKGV1bGVyVmVjdG9yKTtcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHN0YXRpYyBkZWdyZWVUb1JhZGlhbnModikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihtYXRoZi5kZWdyZWVUb1JhZGlhbih2LngpLCBtYXRoZi5kZWdyZWVUb1JhZGlhbih2LnkpLCBtYXRoZi5kZWdyZWVUb1JhZGlhbih2LnopKTtcbiAgICB9XG4gICAgZGVncmVlVG9SYWRpYW5zKCkge1xuICAgICAgICByZXR1cm4gVmVjdG9yLmRlZ3JlZVRvUmFkaWFucyh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xhbXBzIGEgZ2l2ZW4gdmVjdG9yIGJldHdlZW4gYSBtaW4gYW5kIG1heCB2ZWN0b3IuXG4gICAgICogQHBhcmFtIG1pbiBUaGUgbWluIHZlY3RvclxuICAgICAqIEBwYXJhbSBtYXggVGhlIG1heCB2ZWN0b3JcbiAgICAgKiBAcGFyYW0gdmVjdG9yIFRoZSB2ZWN0b3IgdG8gY2xhbXBcbiAgICAgKi9cbiAgICBzdGF0aWMgY2xhbXAobWluLCBtYXgsIHZlY3Rvcikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcihtYXRoZi5jbGFtcChtaW4ueCwgbWF4LngsIHZlY3Rvci54KSwgbWF0aGYuY2xhbXAobWluLnksIG1heC55LCB2ZWN0b3IueSksIG1hdGhmLmNsYW1wKG1pbi56LCBtYXgueiwgdmVjdG9yLnopKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIEV1bGFyIHZlY3RvciBmcm9tIGEgcm90YXRpb25hbE1hdHJpeC4gVGhpcyBjb252ZXJzaW9uIGlzIGJldHRlclxuICAgICAqIGF2b2lkZWQgZm9yIGRpZmZlcmVudCByZWFzb25zLiAgVGhlIHBpdGNoICh5KSB3aWxsIGJlIGxpbWl0ZWQgdG8gKy05MC5cbiAgICAgKlxuICAgICAqIFRoZXJlIGFyZSBhbHNvIGNhc2VzIHdoZXJlIGFjY3VyYWN5IHN1ZmZlcnMgc28gdXNlIHdpdGggY2F1dGlvbi5cbiAgICAgKlxuICAgICAqIFlhdywgUm9sbCB3aWxsIGJlICstMTgwLlxuICAgICAqIFBpdGNoIHdpbGwgYmUgKy0gOTAuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqICAgLy8gRXhhbXBsZSBjb252ZXJ0cyBhIHF1YXRlcm5pb24gYmFjayBvdmVyIHRvIGV1bGVyLlxuICAgICAqICAgbGV0IHF1YXQgPSBuZXcgUXVhdGVybmlvbigwLjIsIDAuMiwgMC4yLCAwLjEpO1xuICAgICAqICAgbGV0IG1hdHJpeCA9IE1hdHJpeElWLmZyb21RdWF0ZXJuaW9uKHF1YXQuY2xvbmUoKSk7XG4gICAgICogICBsZXQgZXVsYXJWZWN0b3IgPSBWZWN0b3IuZnJvbVJvdGF0aW9uTWF0cml4SVYobWF0cml4KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tUm90YXRpb25NYXRyaXhJVihtKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFZlY3Rvci5aRVJPO1xuICAgICAgICBjb25zdCB0ZSA9IG0udmFsdWU7XG4gICAgICAgIGNvbnN0IG0xMSA9IHRlWzBdLCBtMTIgPSB0ZVs0XSwgbTEzID0gdGVbOF07XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICBjb25zdCBtMjEgPSB0ZVsxXSwgbTIyID0gdGVbNV0sIG0yMyA9IHRlWzldO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgY29uc3QgbTMxID0gdGVbMl0sIG0zMiA9IHRlWzZdLCBtMzMgPSB0ZVsxMF07XG4gICAgICAgIC8vIFhZWiBvcmRlcmluZ1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2Jsb2IvbWFzdGVyL3NyYy9tYXRoL0V1bGVyLmpzI0wxNDZcbiAgICAgICAgcmVzdWx0LnkgPSBNYXRoLmFzaW4obWF0aGYuY2xhbXAoLTEsIDEsIG0xMykpO1xuICAgICAgICBpZiAoTWF0aC5hYnMobTEzKSA8IDAuOTk5OTk5OSkge1xuICAgICAgICAgICAgcmVzdWx0LnggPSBNYXRoLmF0YW4yKC1tMjMsIG0zMyk7XG4gICAgICAgICAgICByZXN1bHQueiA9IE1hdGguYXRhbjIoLW0xMiwgbTExKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC54ID0gTWF0aC5hdGFuMihtMzIsIG0yMik7XG4gICAgICAgICAgICByZXN1bHQueiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LnggPSBtYXRoZi5yYWRpYW5Ub0RlZ3JlZShyZXN1bHQueCk7XG4gICAgICAgIC8vIHJlc3VsdC55ID0gbWF0aGYud3JhcChtYXRoZi5yYWRpYW5Ub0RlZ3JlZShyZXN1bHQueSksIC04OS45OTk5LCA4OS45OTk5KTtcbiAgICAgICAgcmVzdWx0LnkgPSBtYXRoZi5yYWRpYW5Ub0RlZ3JlZShyZXN1bHQueSk7XG4gICAgICAgIHJlc3VsdC56ID0gbWF0aGYucmFkaWFuVG9EZWdyZWUocmVzdWx0LnopO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHN0YXRpYyB6ZXJvIHZlY3Rvci5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogbGV0IHBvc2l0b24gPSBWZWN0b3IuWkVSTztcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IFpFUk8oKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKDAsIDAsIDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHN0YXRpYyBvbmUgdmVjdG9yLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiBsZXQgcG9zaXRvbiA9IFZlY3Rvci5PTkU7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIGdldCBPTkUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKDEsIDEsIDEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHN0YXRpYyByaWdodCB2ZWN0b3IgZm9yIHJlZmVyZW5jZSAuXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGxldCBwb3NpdG9uID0gVmVjdG9yLk9ORTtcbiAgICAgKiBwb3NpdGlvbi5hZGQoVmVjdG9yLlJJR0hULnNjYWxlKDQpKVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgUklHSFQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKDEsIDAsIDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHN0YXRpYyBsZWZ0IHZlY3RvciBmb3IgcmVmZXJlbmNlIC5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IExFRlQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKC0xLCAwLCAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzdGF0aWMgdXAgdmVjdG9yIGZvciByZWZlcmVuY2UgLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgVVAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKDAsIC0xLCAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzdGF0aWMgZG93biB2ZWN0b3IgZm9yIHJlZmVyZW5jZSAuXG4gICAgICovXG4gICAgc3RhdGljIGdldCBET1dOKCkge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcigwLCAxLCAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzdGF0aWMgZm93YXJkIHZlY3RvciBmb3IgcmVmZXJlbmNlIC5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IEZPUldBUkQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKDAsIDAsIDEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHN0YXRpYyBmb3dhcmQgdmVjdG9yIGZvciByZWZlcmVuY2UgLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgQkFDSygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoMCwgMCwgLTEpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlY3Rvci5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/mathf/vector.js\n");

/***/ }),

/***/ "./lib/mathf/wave.js":
/*!***************************!*\
  !*** ./lib/mathf/wave.js ***!
  \***************************/
/*! exports provided: Wave */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Wave\", function() { return Wave; });\n/**\n * A really simple utility class to manage sin, cos waves.\n *\n *\n * ```ts\n *\n * let myWave = new Wave(0.001);\n *\n *\n * new Raf(()=> {\n *   // Update the wave per Raf.\n *   myWave.update();\n *\n *   // Sin value\n *   console.log(myWave.sinWave);\n *   console.log(myWave.cosWave);\n *\n *   // Use the value to do calcutions.\n *   this.x += myWave.sinWave * 10;\n * }).start();\n *\n * ```\n */\nclass Wave {\n    constructor(speed) {\n        this.timer = 0;\n        this.speed = speed;\n    }\n    get sinWave() {\n        return Math.sin(this.timer);\n    }\n    get cosWave() {\n        return Math.cos(this.timer);\n    }\n    update() {\n        this.timer = this.timer + this.speed;\n    }\n}\n//# sourceMappingURL=wave.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvbWF0aGYvd2F2ZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9tYXRoZi93YXZlLmpzPzVjZGQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBIHJlYWxseSBzaW1wbGUgdXRpbGl0eSBjbGFzcyB0byBtYW5hZ2Ugc2luLCBjb3Mgd2F2ZXMuXG4gKlxuICpcbiAqIGBgYHRzXG4gKlxuICogbGV0IG15V2F2ZSA9IG5ldyBXYXZlKDAuMDAxKTtcbiAqXG4gKlxuICogbmV3IFJhZigoKT0+IHtcbiAqICAgLy8gVXBkYXRlIHRoZSB3YXZlIHBlciBSYWYuXG4gKiAgIG15V2F2ZS51cGRhdGUoKTtcbiAqXG4gKiAgIC8vIFNpbiB2YWx1ZVxuICogICBjb25zb2xlLmxvZyhteVdhdmUuc2luV2F2ZSk7XG4gKiAgIGNvbnNvbGUubG9nKG15V2F2ZS5jb3NXYXZlKTtcbiAqXG4gKiAgIC8vIFVzZSB0aGUgdmFsdWUgdG8gZG8gY2FsY3V0aW9ucy5cbiAqICAgdGhpcy54ICs9IG15V2F2ZS5zaW5XYXZlICogMTA7XG4gKiB9KS5zdGFydCgpO1xuICpcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgV2F2ZSB7XG4gICAgY29uc3RydWN0b3Ioc3BlZWQpIHtcbiAgICAgICAgdGhpcy50aW1lciA9IDA7XG4gICAgICAgIHRoaXMuc3BlZWQgPSBzcGVlZDtcbiAgICB9XG4gICAgZ2V0IHNpbldhdmUoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnNpbih0aGlzLnRpbWVyKTtcbiAgICB9XG4gICAgZ2V0IGNvc1dhdmUoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmNvcyh0aGlzLnRpbWVyKTtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICB0aGlzLnRpbWVyID0gdGhpcy50aW1lciArIHRoaXMuc3BlZWQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2F2ZS5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/mathf/wave.js\n");

/***/ }),

/***/ "./lib/objectf/objectf.js":
/*!********************************!*\
  !*** ./lib/objectf/objectf.js ***!
  \********************************/
/*! exports provided: deepCopy, jsonCopy, areEqual, copy, forEach, objectf */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deepCopy\", function() { return deepCopy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"jsonCopy\", function() { return jsonCopy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"areEqual\", function() { return areEqual; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"copy\", function() { return copy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"forEach\", function() { return forEach; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"objectf\", function() { return objectf; });\n/* harmony import */ var _arrayf_arrayf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../arrayf/arrayf */ \"./lib/arrayf/arrayf.js\");\n\n/**\n * Deep copies an object by looping through it.\n * @alias arrayf.deepcopy.\n */\nfunction deepCopy(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ninput\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n    return _arrayf_arrayf__WEBPACK_IMPORTED_MODULE_0__[\"deepCopy\"](input);\n}\n/**\n * A quick JSON parse, stringify based copy.\n * This is fast but will destroy functions, Date etc so\n * has limited usage.\n * @param object\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction jsonCopy(obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\n/**\n * A shallow 1 level equality check of objects.\n * @param a\n * @param b\n */\nfunction areEqual(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\na, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nb) {\n    const aProps = Object.getOwnPropertyNames(a);\n    const bProps = Object.getOwnPropertyNames(b);\n    // If the length of object isn't equal, we know they are equal.\n    if (aProps.length !== bProps.length) {\n        return false;\n    }\n    for (let i = 0; i < aProps.length; i++) {\n        const propName = aProps[i];\n        if (a[propName] !== b[propName]) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Copies an object (shallow).\n * @param object\n */\nfunction copy(obj) {\n    return Object.assign({}, obj);\n}\n/**\n *\n * ```\n * objectf.forEach(myObject, (key:string, value:any)=> {\n *\n * })\n * ```\n * @param callback\n */\nfunction forEach(obj, callback) {\n    Object.entries(obj).forEach(([key, value]) => {\n        callback(key, value);\n    });\n}\n/**\n * A class that helps with objects.\n */\nconst objectf = {\n    deepCopy,\n    jsonCopy,\n    areEqual,\n    copy,\n    forEach,\n};\n//# sourceMappingURL=objectf.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvb2JqZWN0Zi9vYmplY3RmLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL29iamVjdGYvb2JqZWN0Zi5qcz82NGRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGFycmF5ZiBmcm9tICcuLi9hcnJheWYvYXJyYXlmJztcbi8qKlxuICogRGVlcCBjb3BpZXMgYW4gb2JqZWN0IGJ5IGxvb3BpbmcgdGhyb3VnaCBpdC5cbiAqIEBhbGlhcyBhcnJheWYuZGVlcGNvcHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwQ29weShcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5pbnB1dFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbikge1xuICAgIHJldHVybiBhcnJheWYuZGVlcENvcHkoaW5wdXQpO1xufVxuLyoqXG4gKiBBIHF1aWNrIEpTT04gcGFyc2UsIHN0cmluZ2lmeSBiYXNlZCBjb3B5LlxuICogVGhpcyBpcyBmYXN0IGJ1dCB3aWxsIGRlc3Ryb3kgZnVuY3Rpb25zLCBEYXRlIGV0YyBzb1xuICogaGFzIGxpbWl0ZWQgdXNhZ2UuXG4gKiBAcGFyYW0gb2JqZWN0XG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24ganNvbkNvcHkob2JqKSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG59XG4vKipcbiAqIEEgc2hhbGxvdyAxIGxldmVsIGVxdWFsaXR5IGNoZWNrIG9mIG9iamVjdHMuXG4gKiBAcGFyYW0gYVxuICogQHBhcmFtIGJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFyZUVxdWFsKFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmEsIFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmIpIHtcbiAgICBjb25zdCBhUHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhKTtcbiAgICBjb25zdCBiUHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiKTtcbiAgICAvLyBJZiB0aGUgbGVuZ3RoIG9mIG9iamVjdCBpc24ndCBlcXVhbCwgd2Uga25vdyB0aGV5IGFyZSBlcXVhbC5cbiAgICBpZiAoYVByb3BzLmxlbmd0aCAhPT0gYlByb3BzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYVByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHByb3BOYW1lID0gYVByb3BzW2ldO1xuICAgICAgICBpZiAoYVtwcm9wTmFtZV0gIT09IGJbcHJvcE5hbWVdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIENvcGllcyBhbiBvYmplY3QgKHNoYWxsb3cpLlxuICogQHBhcmFtIG9iamVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29weShvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgb2JqKTtcbn1cbi8qKlxuICpcbiAqIGBgYFxuICogb2JqZWN0Zi5mb3JFYWNoKG15T2JqZWN0LCAoa2V5OnN0cmluZywgdmFsdWU6YW55KT0+IHtcbiAqXG4gKiB9KVxuICogYGBgXG4gKiBAcGFyYW0gY2FsbGJhY2tcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2gob2JqLCBjYWxsYmFjaykge1xuICAgIE9iamVjdC5lbnRyaWVzKG9iaikuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKGtleSwgdmFsdWUpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBBIGNsYXNzIHRoYXQgaGVscHMgd2l0aCBvYmplY3RzLlxuICovXG5leHBvcnQgY29uc3Qgb2JqZWN0ZiA9IHtcbiAgICBkZWVwQ29weSxcbiAgICBqc29uQ29weSxcbiAgICBhcmVFcXVhbCxcbiAgICBjb3B5LFxuICAgIGZvckVhY2gsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JqZWN0Zi5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/objectf/objectf.js\n");

/***/ }),

/***/ "./lib/pseudo-3d-canvas/camera.js":
/*!****************************************!*\
  !*** ./lib/pseudo-3d-canvas/camera.js ***!
  \****************************************/
/*! exports provided: Camera */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Camera\", function() { return Camera; });\n/* harmony import */ var _mathf_vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\n\n/**\n * @unstable\n */\nclass Camera {\n    constructor() {\n        this.position = _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"].ZERO;\n        this.target = _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"].ZERO;\n    }\n}\n//# sourceMappingURL=camera.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvcHNldWRvLTNkLWNhbnZhcy9jYW1lcmEuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvcHNldWRvLTNkLWNhbnZhcy9jYW1lcmEuanM/YWUzNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuLi9tYXRoZi92ZWN0b3InO1xuLyoqXG4gKiBAdW5zdGFibGVcbiAqL1xuZXhwb3J0IGNsYXNzIENhbWVyYSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBWZWN0b3IuWkVSTztcbiAgICAgICAgdGhpcy50YXJnZXQgPSBWZWN0b3IuWkVSTztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYW1lcmEuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/pseudo-3d-canvas/camera.js\n");

/***/ }),

/***/ "./lib/pseudo-3d-canvas/mesh.js":
/*!**************************************!*\
  !*** ./lib/pseudo-3d-canvas/mesh.js ***!
  \**************************************/
/*! exports provided: MeshTypes, Mesh, CubeMesh */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MeshTypes\", function() { return MeshTypes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Mesh\", function() { return Mesh; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CubeMesh\", function() { return CubeMesh; });\n/* harmony import */ var _mathf_vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mathf/matrixIV */ \"./lib/mathf/matrixIV.js\");\n\n\nvar MeshTypes;\n(function (MeshTypes) {\n    MeshTypes[\"CUBE\"] = \"cube\";\n})(MeshTypes || (MeshTypes = {}));\n/**\n * @unstable\n */\nclass Mesh {\n    /**\n     * @param verticesCount The number of vertices this mesh should contain.\n     */\n    constructor() {\n        this.name = '';\n        this.vertices = [];\n        this.position = _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"].ZERO;\n        this.rotation = _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"].ZERO;\n        this.up = _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"].ZERO;\n        this.right = _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"].ZERO;\n        this.forward = _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"].ZERO;\n        this.basisMatrix = _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_1__[\"MatrixIV\"].IDENTITY;\n        this.color = 'green';\n    }\n    // eslint-disable-next-line\n    size(width, height, depth) {\n        this.up = new _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](0, width, 0);\n        this.right = new _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](height, 0, 0);\n        this.forward = _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"].ONE.cross(this.up);\n        // Generate a basis matrix.\n        const basisMatrix = new _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_1__[\"MatrixIV\"]();\n        basisMatrix.setVectorColumn(0, this.right);\n        basisMatrix.setVectorColumn(1, this.up);\n        basisMatrix.setVectorColumn(2, this.forward);\n        this.basisMatrix = basisMatrix;\n    }\n}\n/**\n * Creates a CubeMesh.\n */\nclass CubeMesh extends Mesh {\n    constructor() {\n        super();\n        this.name = MeshTypes.CUBE;\n        this.vertices = [\n            new _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](-1, 1, 1),\n            new _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](1, 1, 1),\n            new _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](-1, -1, 1),\n            new _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](-1, -1, -1),\n            new _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](-1, 1, -1),\n            new _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](1, 1, -1),\n            new _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](1, -1, 1),\n            new _mathf_vector__WEBPACK_IMPORTED_MODULE_0__[\"Vector\"](1, -1, -1),\n        ];\n    }\n}\n//# sourceMappingURL=mesh.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvcHNldWRvLTNkLWNhbnZhcy9tZXNoLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3BzZXVkby0zZC1jYW52YXMvbWVzaC5qcz84MGNlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4uL21hdGhmL3ZlY3Rvcic7XG5pbXBvcnQgeyBNYXRyaXhJViB9IGZyb20gJy4uL21hdGhmL21hdHJpeElWJztcbmV4cG9ydCB2YXIgTWVzaFR5cGVzO1xuKGZ1bmN0aW9uIChNZXNoVHlwZXMpIHtcbiAgICBNZXNoVHlwZXNbXCJDVUJFXCJdID0gXCJjdWJlXCI7XG59KShNZXNoVHlwZXMgfHwgKE1lc2hUeXBlcyA9IHt9KSk7XG4vKipcbiAqIEB1bnN0YWJsZVxuICovXG5leHBvcnQgY2xhc3MgTWVzaCB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHZlcnRpY2VzQ291bnQgVGhlIG51bWJlciBvZiB2ZXJ0aWNlcyB0aGlzIG1lc2ggc2hvdWxkIGNvbnRhaW4uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubmFtZSA9ICcnO1xuICAgICAgICB0aGlzLnZlcnRpY2VzID0gW107XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBWZWN0b3IuWkVSTztcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IFZlY3Rvci5aRVJPO1xuICAgICAgICB0aGlzLnVwID0gVmVjdG9yLlpFUk87XG4gICAgICAgIHRoaXMucmlnaHQgPSBWZWN0b3IuWkVSTztcbiAgICAgICAgdGhpcy5mb3J3YXJkID0gVmVjdG9yLlpFUk87XG4gICAgICAgIHRoaXMuYmFzaXNNYXRyaXggPSBNYXRyaXhJVi5JREVOVElUWTtcbiAgICAgICAgdGhpcy5jb2xvciA9ICdncmVlbic7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIHNpemUod2lkdGgsIGhlaWdodCwgZGVwdGgpIHtcbiAgICAgICAgdGhpcy51cCA9IG5ldyBWZWN0b3IoMCwgd2lkdGgsIDApO1xuICAgICAgICB0aGlzLnJpZ2h0ID0gbmV3IFZlY3RvcihoZWlnaHQsIDAsIDApO1xuICAgICAgICB0aGlzLmZvcndhcmQgPSBWZWN0b3IuT05FLmNyb3NzKHRoaXMudXApO1xuICAgICAgICAvLyBHZW5lcmF0ZSBhIGJhc2lzIG1hdHJpeC5cbiAgICAgICAgY29uc3QgYmFzaXNNYXRyaXggPSBuZXcgTWF0cml4SVYoKTtcbiAgICAgICAgYmFzaXNNYXRyaXguc2V0VmVjdG9yQ29sdW1uKDAsIHRoaXMucmlnaHQpO1xuICAgICAgICBiYXNpc01hdHJpeC5zZXRWZWN0b3JDb2x1bW4oMSwgdGhpcy51cCk7XG4gICAgICAgIGJhc2lzTWF0cml4LnNldFZlY3RvckNvbHVtbigyLCB0aGlzLmZvcndhcmQpO1xuICAgICAgICB0aGlzLmJhc2lzTWF0cml4ID0gYmFzaXNNYXRyaXg7XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGVzIGEgQ3ViZU1lc2guXG4gKi9cbmV4cG9ydCBjbGFzcyBDdWJlTWVzaCBleHRlbmRzIE1lc2gge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5hbWUgPSBNZXNoVHlwZXMuQ1VCRTtcbiAgICAgICAgdGhpcy52ZXJ0aWNlcyA9IFtcbiAgICAgICAgICAgIG5ldyBWZWN0b3IoLTEsIDEsIDEpLFxuICAgICAgICAgICAgbmV3IFZlY3RvcigxLCAxLCAxKSxcbiAgICAgICAgICAgIG5ldyBWZWN0b3IoLTEsIC0xLCAxKSxcbiAgICAgICAgICAgIG5ldyBWZWN0b3IoLTEsIC0xLCAtMSksXG4gICAgICAgICAgICBuZXcgVmVjdG9yKC0xLCAxLCAtMSksXG4gICAgICAgICAgICBuZXcgVmVjdG9yKDEsIDEsIC0xKSxcbiAgICAgICAgICAgIG5ldyBWZWN0b3IoMSwgLTEsIDEpLFxuICAgICAgICAgICAgbmV3IFZlY3RvcigxLCAtMSwgLTEpLFxuICAgICAgICBdO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc2guanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/pseudo-3d-canvas/mesh.js\n");

/***/ }),

/***/ "./lib/pseudo-3d-canvas/pseudo-3d-canvas.js":
/*!**************************************************!*\
  !*** ./lib/pseudo-3d-canvas/pseudo-3d-canvas.js ***!
  \**************************************************/
/*! exports provided: Pseudo3dCanvas */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Pseudo3dCanvas\", function() { return Pseudo3dCanvas; });\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mathf/matrixIV */ \"./lib/mathf/matrixIV.js\");\n/* harmony import */ var _mathf_vector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _dom_dom_canvas__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../dom/dom-canvas */ \"./lib/dom/dom-canvas.js\");\n\n\n\n\n/**\n * The main renderer for pseudo3dCanvas.\n *\n * This pseudo3dCanvas particular class, implements the model - view - perspective\n * matrices to achieve pseudo3d onto 2d canvas.\n *\n *\n * @see http://web.archive.org/web/20131222170415/http:/robertokoci.com/world-view-projection-matrix-unveiled/\n * @see https://www.davrous.com/2013/06/13/tutorial-series-learning-how-to-write-a-3d-soft-engine-from-scratch-in-c-typescript-or-javascript/\n * @see http://www.codinglabs.net/article_world_view_projection_matrix.aspx\n * @see https://solarianprogrammer.com/2013/05/22/opengl-101-matrices-projection-view-model/\n * @see https://www.3dgep.com/understanding-the-view-matrix/\n * @unstable\n */\nclass Pseudo3dCanvas {\n    constructor(config) {\n        this.canvasElement = config.canvasElement;\n        this.context = this.canvasElement.getContext('2d');\n        this.canvasElement.width = this.canvasElement.offsetWidth;\n        this.canvasElement.height = this.canvasElement.offsetHeight;\n        this.width = this.canvasElement.offsetWidth;\n        this.height = this.canvasElement.offsetHeight;\n        this.fov = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"degreeToRadian\"](45);\n        this.near = 1;\n        this.aspect = this.width / this.height;\n        this.far = 1000;\n        this.rotationMatrix = _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_1__[\"MatrixIV\"].IDENTITY;\n        this.translationMatrix = _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_1__[\"MatrixIV\"].IDENTITY;\n        this.viewMatrix = _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_1__[\"MatrixIV\"].IDENTITY;\n        this.worldMatrix = _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_1__[\"MatrixIV\"].IDENTITY;\n        this.transformMatrix = _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_1__[\"MatrixIV\"].IDENTITY;\n        this.projectionMatrix = _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_1__[\"MatrixIV\"].IDENTITY;\n    }\n    /**\n     * The render cycle for the pseudo-3d-canvas.\n     *\n     * Takes various 3d meshes that need to be displayed on the screen\n     * and projects them as 2d points.\n     *\n     * This takes on a world - view - projection pattern to creates a\n     * translation matrix and then applies that to each vector point.\n     *\n     *\n     * Note that this order matters.  Using OpenGL right to left multiplication:\n     *\n     * ```ts\n     *\n     * var transformMatrix = projectionMatrix * ViewMatrix * WorldMatrix;\n     * ```\n     *\n     * WorldMatrix = Takes object space to world space\n     * ViewMatrix = Camera matrix - transforms world space to camera space\n     * projectionMatrix = Near or far angle of view.\n     *\n     *\n     * http://web.archive.org/web/20131222170415/http:/robertokoci.com/world-view-projection-matrix-unveiled/\n     *\n     * @param camera\n     * @param meshes\n     */\n    render(camera, meshes) {\n        this.context.clearRect(0, 0, this.width, this.height);\n        // Loop through each mesh.\n        meshes.forEach(mesh => {\n            // This is the main view / camera matrix.\n            this.viewMatrix = new _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_1__[\"MatrixIV\"]().lookAt(camera.position, camera.target, _mathf_vector__WEBPACK_IMPORTED_MODULE_2__[\"Vector\"].UP);\n            // The main projection matrix.\n            this.projectionMatrix = new _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_1__[\"MatrixIV\"]().perspective(this.fov, this.aspect, this.near, this.far);\n            // The main world or model matrix.  Here we are going to shift the\n            // position of the mesh based on the curren tmesh position.\n            this.translationMatrix = new _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_1__[\"MatrixIV\"]().translate(mesh.position);\n            this.worldMatrix = _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_1__[\"MatrixIV\"].IDENTITY.multiply(this.translationMatrix);\n            // Create the transform matrix.\n            // ProjectMatrix * ViewMatrix * WorldMatrix\n            this.transformMatrix = this.projectionMatrix\n                .multiply(this.viewMatrix)\n                .multiply(this.worldMatrix);\n            // Now we are going to apply the transformMatrix to each\n            // vertices point in the mesh effectively projecting 3d into\n            // the 2d canvas.\n            mesh.vertices.forEach((v, i) => {\n                // Take each vector point such as 1,1 and first locally,\n                // rotate and move it's position based on the basisMatrix.\n                // The basisMatrix consists of up, right, forward vectors\n                // that define the shape of the mesh and this particular vector.\n                // Apart from the basic position (controled in worldMatrix),\n                // this locally affects the position of each vector which can\n                // be controlled by the mesh size and vector positions.\n                const rotationMatrix = new _mathf_matrixIV__WEBPACK_IMPORTED_MODULE_1__[\"MatrixIV\"]().ypr(mesh.rotation.y, mesh.rotation.x, mesh.rotation.z);\n                const basisMatrix = mesh.basisMatrix.clone().multiply(rotationMatrix);\n                const transformedVector = v.clone().transformWithMatrixIV(basisMatrix);\n                // Apply the transformation to the vector.\n                // These are our final vector coordinates that are normalized\n                // where by the screen is 1x1 with the center in zero position\n                // like webGL.\n                let vector2d = transformedVector\n                    .clone()\n                    .transformWithMatrixIV(this.transformMatrix);\n                // So far the coordinate system is one based on center / center\n                // like webGL.\n                // The vector position remains normalized so we want to\n                // scale/map it to the canvas dimensions.\n                // Scale it and then shift it over half the screen width to center\n                // it.\n                let x = vector2d.x * this.width;\n                x += this.width * 0.5;\n                // Scale it and then shift it over half the screen width to center\n                // it.\n                let y = -vector2d.y * this.height;\n                y += this.height * 0.5;\n                // We get our final vector coordinates on the canvas.\n                vector2d = new _mathf_vector__WEBPACK_IMPORTED_MODULE_2__[\"Vector\"](x, y).int();\n                // Check if this vector goes out of boundaries in which case,\n                // we don't need to draw it.\n                if (vector2d.x >= 0 &&\n                    vector2d.y >= 0 &&\n                    vector2d.x < this.width &&\n                    vector2d.y < this.height) {\n                    _dom_dom_canvas__WEBPACK_IMPORTED_MODULE_3__[\"domCanvas\"].setFillColor(this.context, mesh.color);\n                    _dom_dom_canvas__WEBPACK_IMPORTED_MODULE_3__[\"domCanvas\"].setStrokeColor(this.context, mesh.color);\n                    _dom_dom_canvas__WEBPACK_IMPORTED_MODULE_3__[\"domCanvas\"].vectorPoint(this.context, vector2d);\n                    _dom_dom_canvas__WEBPACK_IMPORTED_MODULE_3__[\"domCanvas\"].quickText(this.context, 'v' + i, vector2d.x, vector2d.y - 4);\n                }\n            });\n        });\n    }\n}\n//# sourceMappingURL=pseudo-3d-canvas.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvcHNldWRvLTNkLWNhbnZhcy9wc2V1ZG8tM2QtY2FudmFzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3BzZXVkby0zZC1jYW52YXMvcHNldWRvLTNkLWNhbnZhcy5qcz80NjBmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIG1hdGhmIGZyb20gJy4uL21hdGhmL21hdGhmJztcbmltcG9ydCB7IE1hdHJpeElWIH0gZnJvbSAnLi4vbWF0aGYvbWF0cml4SVYnO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vbWF0aGYvdmVjdG9yJztcbmltcG9ydCB7IGRvbUNhbnZhcyB9IGZyb20gJy4uL2RvbS9kb20tY2FudmFzJztcbi8qKlxuICogVGhlIG1haW4gcmVuZGVyZXIgZm9yIHBzZXVkbzNkQ2FudmFzLlxuICpcbiAqIFRoaXMgcHNldWRvM2RDYW52YXMgcGFydGljdWxhciBjbGFzcywgaW1wbGVtZW50cyB0aGUgbW9kZWwgLSB2aWV3IC0gcGVyc3BlY3RpdmVcbiAqIG1hdHJpY2VzIHRvIGFjaGlldmUgcHNldWRvM2Qgb250byAyZCBjYW52YXMuXG4gKlxuICpcbiAqIEBzZWUgaHR0cDovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxMzEyMjIxNzA0MTUvaHR0cDovcm9iZXJ0b2tvY2kuY29tL3dvcmxkLXZpZXctcHJvamVjdGlvbi1tYXRyaXgtdW52ZWlsZWQvXG4gKiBAc2VlIGh0dHBzOi8vd3d3LmRhdnJvdXMuY29tLzIwMTMvMDYvMTMvdHV0b3JpYWwtc2VyaWVzLWxlYXJuaW5nLWhvdy10by13cml0ZS1hLTNkLXNvZnQtZW5naW5lLWZyb20tc2NyYXRjaC1pbi1jLXR5cGVzY3JpcHQtb3ItamF2YXNjcmlwdC9cbiAqIEBzZWUgaHR0cDovL3d3dy5jb2RpbmdsYWJzLm5ldC9hcnRpY2xlX3dvcmxkX3ZpZXdfcHJvamVjdGlvbl9tYXRyaXguYXNweFxuICogQHNlZSBodHRwczovL3NvbGFyaWFucHJvZ3JhbW1lci5jb20vMjAxMy8wNS8yMi9vcGVuZ2wtMTAxLW1hdHJpY2VzLXByb2plY3Rpb24tdmlldy1tb2RlbC9cbiAqIEBzZWUgaHR0cHM6Ly93d3cuM2RnZXAuY29tL3VuZGVyc3RhbmRpbmctdGhlLXZpZXctbWF0cml4L1xuICogQHVuc3RhYmxlXG4gKi9cbmV4cG9ydCBjbGFzcyBQc2V1ZG8zZENhbnZhcyB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudCA9IGNvbmZpZy5jYW52YXNFbGVtZW50O1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhc0VsZW1lbnQuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50LndpZHRoID0gdGhpcy5jYW52YXNFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQuaGVpZ2h0ID0gdGhpcy5jYW52YXNFbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuY2FudmFzRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNhbnZhc0VsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB0aGlzLmZvdiA9IG1hdGhmLmRlZ3JlZVRvUmFkaWFuKDQ1KTtcbiAgICAgICAgdGhpcy5uZWFyID0gMTtcbiAgICAgICAgdGhpcy5hc3BlY3QgPSB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQ7XG4gICAgICAgIHRoaXMuZmFyID0gMTAwMDtcbiAgICAgICAgdGhpcy5yb3RhdGlvbk1hdHJpeCA9IE1hdHJpeElWLklERU5USVRZO1xuICAgICAgICB0aGlzLnRyYW5zbGF0aW9uTWF0cml4ID0gTWF0cml4SVYuSURFTlRJVFk7XG4gICAgICAgIHRoaXMudmlld01hdHJpeCA9IE1hdHJpeElWLklERU5USVRZO1xuICAgICAgICB0aGlzLndvcmxkTWF0cml4ID0gTWF0cml4SVYuSURFTlRJVFk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtTWF0cml4ID0gTWF0cml4SVYuSURFTlRJVFk7XG4gICAgICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeCA9IE1hdHJpeElWLklERU5USVRZO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcmVuZGVyIGN5Y2xlIGZvciB0aGUgcHNldWRvLTNkLWNhbnZhcy5cbiAgICAgKlxuICAgICAqIFRha2VzIHZhcmlvdXMgM2QgbWVzaGVzIHRoYXQgbmVlZCB0byBiZSBkaXNwbGF5ZWQgb24gdGhlIHNjcmVlblxuICAgICAqIGFuZCBwcm9qZWN0cyB0aGVtIGFzIDJkIHBvaW50cy5cbiAgICAgKlxuICAgICAqIFRoaXMgdGFrZXMgb24gYSB3b3JsZCAtIHZpZXcgLSBwcm9qZWN0aW9uIHBhdHRlcm4gdG8gY3JlYXRlcyBhXG4gICAgICogdHJhbnNsYXRpb24gbWF0cml4IGFuZCB0aGVuIGFwcGxpZXMgdGhhdCB0byBlYWNoIHZlY3RvciBwb2ludC5cbiAgICAgKlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IHRoaXMgb3JkZXIgbWF0dGVycy4gIFVzaW5nIE9wZW5HTCByaWdodCB0byBsZWZ0IG11bHRpcGxpY2F0aW9uOlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKlxuICAgICAqIHZhciB0cmFuc2Zvcm1NYXRyaXggPSBwcm9qZWN0aW9uTWF0cml4ICogVmlld01hdHJpeCAqIFdvcmxkTWF0cml4O1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogV29ybGRNYXRyaXggPSBUYWtlcyBvYmplY3Qgc3BhY2UgdG8gd29ybGQgc3BhY2VcbiAgICAgKiBWaWV3TWF0cml4ID0gQ2FtZXJhIG1hdHJpeCAtIHRyYW5zZm9ybXMgd29ybGQgc3BhY2UgdG8gY2FtZXJhIHNwYWNlXG4gICAgICogcHJvamVjdGlvbk1hdHJpeCA9IE5lYXIgb3IgZmFyIGFuZ2xlIG9mIHZpZXcuXG4gICAgICpcbiAgICAgKlxuICAgICAqIGh0dHA6Ly93ZWIuYXJjaGl2ZS5vcmcvd2ViLzIwMTMxMjIyMTcwNDE1L2h0dHA6L3JvYmVydG9rb2NpLmNvbS93b3JsZC12aWV3LXByb2plY3Rpb24tbWF0cml4LXVudmVpbGVkL1xuICAgICAqXG4gICAgICogQHBhcmFtIGNhbWVyYVxuICAgICAqIEBwYXJhbSBtZXNoZXNcbiAgICAgKi9cbiAgICByZW5kZXIoY2FtZXJhLCBtZXNoZXMpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBlYWNoIG1lc2guXG4gICAgICAgIG1lc2hlcy5mb3JFYWNoKG1lc2ggPT4ge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgbWFpbiB2aWV3IC8gY2FtZXJhIG1hdHJpeC5cbiAgICAgICAgICAgIHRoaXMudmlld01hdHJpeCA9IG5ldyBNYXRyaXhJVigpLmxvb2tBdChjYW1lcmEucG9zaXRpb24sIGNhbWVyYS50YXJnZXQsIFZlY3Rvci5VUCk7XG4gICAgICAgICAgICAvLyBUaGUgbWFpbiBwcm9qZWN0aW9uIG1hdHJpeC5cbiAgICAgICAgICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeCA9IG5ldyBNYXRyaXhJVigpLnBlcnNwZWN0aXZlKHRoaXMuZm92LCB0aGlzLmFzcGVjdCwgdGhpcy5uZWFyLCB0aGlzLmZhcik7XG4gICAgICAgICAgICAvLyBUaGUgbWFpbiB3b3JsZCBvciBtb2RlbCBtYXRyaXguICBIZXJlIHdlIGFyZSBnb2luZyB0byBzaGlmdCB0aGVcbiAgICAgICAgICAgIC8vIHBvc2l0aW9uIG9mIHRoZSBtZXNoIGJhc2VkIG9uIHRoZSBjdXJyZW4gdG1lc2ggcG9zaXRpb24uXG4gICAgICAgICAgICB0aGlzLnRyYW5zbGF0aW9uTWF0cml4ID0gbmV3IE1hdHJpeElWKCkudHJhbnNsYXRlKG1lc2gucG9zaXRpb24pO1xuICAgICAgICAgICAgdGhpcy53b3JsZE1hdHJpeCA9IE1hdHJpeElWLklERU5USVRZLm11bHRpcGx5KHRoaXMudHJhbnNsYXRpb25NYXRyaXgpO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSB0cmFuc2Zvcm0gbWF0cml4LlxuICAgICAgICAgICAgLy8gUHJvamVjdE1hdHJpeCAqIFZpZXdNYXRyaXggKiBXb3JsZE1hdHJpeFxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1NYXRyaXggPSB0aGlzLnByb2plY3Rpb25NYXRyaXhcbiAgICAgICAgICAgICAgICAubXVsdGlwbHkodGhpcy52aWV3TWF0cml4KVxuICAgICAgICAgICAgICAgIC5tdWx0aXBseSh0aGlzLndvcmxkTWF0cml4KTtcbiAgICAgICAgICAgIC8vIE5vdyB3ZSBhcmUgZ29pbmcgdG8gYXBwbHkgdGhlIHRyYW5zZm9ybU1hdHJpeCB0byBlYWNoXG4gICAgICAgICAgICAvLyB2ZXJ0aWNlcyBwb2ludCBpbiB0aGUgbWVzaCBlZmZlY3RpdmVseSBwcm9qZWN0aW5nIDNkIGludG9cbiAgICAgICAgICAgIC8vIHRoZSAyZCBjYW52YXMuXG4gICAgICAgICAgICBtZXNoLnZlcnRpY2VzLmZvckVhY2goKHYsIGkpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBUYWtlIGVhY2ggdmVjdG9yIHBvaW50IHN1Y2ggYXMgMSwxIGFuZCBmaXJzdCBsb2NhbGx5LFxuICAgICAgICAgICAgICAgIC8vIHJvdGF0ZSBhbmQgbW92ZSBpdCdzIHBvc2l0aW9uIGJhc2VkIG9uIHRoZSBiYXNpc01hdHJpeC5cbiAgICAgICAgICAgICAgICAvLyBUaGUgYmFzaXNNYXRyaXggY29uc2lzdHMgb2YgdXAsIHJpZ2h0LCBmb3J3YXJkIHZlY3RvcnNcbiAgICAgICAgICAgICAgICAvLyB0aGF0IGRlZmluZSB0aGUgc2hhcGUgb2YgdGhlIG1lc2ggYW5kIHRoaXMgcGFydGljdWxhciB2ZWN0b3IuXG4gICAgICAgICAgICAgICAgLy8gQXBhcnQgZnJvbSB0aGUgYmFzaWMgcG9zaXRpb24gKGNvbnRyb2xlZCBpbiB3b3JsZE1hdHJpeCksXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBsb2NhbGx5IGFmZmVjdHMgdGhlIHBvc2l0aW9uIG9mIGVhY2ggdmVjdG9yIHdoaWNoIGNhblxuICAgICAgICAgICAgICAgIC8vIGJlIGNvbnRyb2xsZWQgYnkgdGhlIG1lc2ggc2l6ZSBhbmQgdmVjdG9yIHBvc2l0aW9ucy5cbiAgICAgICAgICAgICAgICBjb25zdCByb3RhdGlvbk1hdHJpeCA9IG5ldyBNYXRyaXhJVigpLnlwcihtZXNoLnJvdGF0aW9uLnksIG1lc2gucm90YXRpb24ueCwgbWVzaC5yb3RhdGlvbi56KTtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNpc01hdHJpeCA9IG1lc2guYmFzaXNNYXRyaXguY2xvbmUoKS5tdWx0aXBseShyb3RhdGlvbk1hdHJpeCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRWZWN0b3IgPSB2LmNsb25lKCkudHJhbnNmb3JtV2l0aE1hdHJpeElWKGJhc2lzTWF0cml4KTtcbiAgICAgICAgICAgICAgICAvLyBBcHBseSB0aGUgdHJhbnNmb3JtYXRpb24gdG8gdGhlIHZlY3Rvci5cbiAgICAgICAgICAgICAgICAvLyBUaGVzZSBhcmUgb3VyIGZpbmFsIHZlY3RvciBjb29yZGluYXRlcyB0aGF0IGFyZSBub3JtYWxpemVkXG4gICAgICAgICAgICAgICAgLy8gd2hlcmUgYnkgdGhlIHNjcmVlbiBpcyAxeDEgd2l0aCB0aGUgY2VudGVyIGluIHplcm8gcG9zaXRpb25cbiAgICAgICAgICAgICAgICAvLyBsaWtlIHdlYkdMLlxuICAgICAgICAgICAgICAgIGxldCB2ZWN0b3IyZCA9IHRyYW5zZm9ybWVkVmVjdG9yXG4gICAgICAgICAgICAgICAgICAgIC5jbG9uZSgpXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2Zvcm1XaXRoTWF0cml4SVYodGhpcy50cmFuc2Zvcm1NYXRyaXgpO1xuICAgICAgICAgICAgICAgIC8vIFNvIGZhciB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0gaXMgb25lIGJhc2VkIG9uIGNlbnRlciAvIGNlbnRlclxuICAgICAgICAgICAgICAgIC8vIGxpa2Ugd2ViR0wuXG4gICAgICAgICAgICAgICAgLy8gVGhlIHZlY3RvciBwb3NpdGlvbiByZW1haW5zIG5vcm1hbGl6ZWQgc28gd2Ugd2FudCB0b1xuICAgICAgICAgICAgICAgIC8vIHNjYWxlL21hcCBpdCB0byB0aGUgY2FudmFzIGRpbWVuc2lvbnMuXG4gICAgICAgICAgICAgICAgLy8gU2NhbGUgaXQgYW5kIHRoZW4gc2hpZnQgaXQgb3ZlciBoYWxmIHRoZSBzY3JlZW4gd2lkdGggdG8gY2VudGVyXG4gICAgICAgICAgICAgICAgLy8gaXQuXG4gICAgICAgICAgICAgICAgbGV0IHggPSB2ZWN0b3IyZC54ICogdGhpcy53aWR0aDtcbiAgICAgICAgICAgICAgICB4ICs9IHRoaXMud2lkdGggKiAwLjU7XG4gICAgICAgICAgICAgICAgLy8gU2NhbGUgaXQgYW5kIHRoZW4gc2hpZnQgaXQgb3ZlciBoYWxmIHRoZSBzY3JlZW4gd2lkdGggdG8gY2VudGVyXG4gICAgICAgICAgICAgICAgLy8gaXQuXG4gICAgICAgICAgICAgICAgbGV0IHkgPSAtdmVjdG9yMmQueSAqIHRoaXMuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHkgKz0gdGhpcy5oZWlnaHQgKiAwLjU7XG4gICAgICAgICAgICAgICAgLy8gV2UgZ2V0IG91ciBmaW5hbCB2ZWN0b3IgY29vcmRpbmF0ZXMgb24gdGhlIGNhbnZhcy5cbiAgICAgICAgICAgICAgICB2ZWN0b3IyZCA9IG5ldyBWZWN0b3IoeCwgeSkuaW50KCk7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyB2ZWN0b3IgZ29lcyBvdXQgb2YgYm91bmRhcmllcyBpbiB3aGljaCBjYXNlLFxuICAgICAgICAgICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gZHJhdyBpdC5cbiAgICAgICAgICAgICAgICBpZiAodmVjdG9yMmQueCA+PSAwICYmXG4gICAgICAgICAgICAgICAgICAgIHZlY3RvcjJkLnkgPj0gMCAmJlxuICAgICAgICAgICAgICAgICAgICB2ZWN0b3IyZC54IDwgdGhpcy53aWR0aCAmJlxuICAgICAgICAgICAgICAgICAgICB2ZWN0b3IyZC55IDwgdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tQ2FudmFzLnNldEZpbGxDb2xvcih0aGlzLmNvbnRleHQsIG1lc2guY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICBkb21DYW52YXMuc2V0U3Ryb2tlQ29sb3IodGhpcy5jb250ZXh0LCBtZXNoLmNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgZG9tQ2FudmFzLnZlY3RvclBvaW50KHRoaXMuY29udGV4dCwgdmVjdG9yMmQpO1xuICAgICAgICAgICAgICAgICAgICBkb21DYW52YXMucXVpY2tUZXh0KHRoaXMuY29udGV4dCwgJ3YnICsgaSwgdmVjdG9yMmQueCwgdmVjdG9yMmQueSAtIDQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wc2V1ZG8tM2QtY2FudmFzLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/pseudo-3d-canvas/pseudo-3d-canvas.js\n");

/***/ }),

/***/ "./lib/raf/raf-progress.js":
/*!*********************************!*\
  !*** ./lib/raf/raf-progress.js ***!
  \*********************************/
/*! exports provided: RafProgress */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RafProgress\", function() { return RafProgress; });\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _ease_ease__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ease/ease */ \"./lib/ease/ease.js\");\n\n\n\n/**\n * A class that runs Raf for a limited time while a given progress\n * (a value between 0-1) eases.  This class is useful because instead of\n * constanlty runnig raf, it will only run RAF when a progress value is unstable.\n * This class also allows you to register and listen for specific progress\n * values and run callbacks (IE: run a callback when the progress crosses 0.5).\n *\n *\n * Example WITHOUT RafProgress:\n * Consider the following example to understand what RafProgress does.\n * Here we are using an html range input to represent Progress but progresss could\n * be a window scroll, duration, mouse position etc.....a percentage amount:\n * ```ts\n * HTML\n *   <input id=\"range\" type=\"range\" name=\"points\" step=\"0.01\" min=\"0\" max=\"1\" style=\"width: 500px;\">\n *\n * JS\n *  this.range = document.getElementById('range');\n *\n *  // Set the progress to the range value.\n *  this.progress = +this.range.value;\n *\n *  const raf = new Raf(() => {\n *     // Range is a value between 0 and 1.\n *     let progress = +this.range.value;\n *\n *    // Add some ease to the progress to smooth it out.\n *    this.progress = mathf.ease(this.progress, progress, 0.25, EASE.easeInOutQuad);\n *\n *   // Reduce the precision of progress.  We dont need to report progress differences\n *   // of 0.0000001.\n *    this.progress = mathf.round(this.progress, 3);\n *\n *   // Something with progress\n *   // Many manipulate the DOM here.\n *  }).start();\n * ```\n * Here you can see that on each RAF cycle, we check the value of the range and\n * get the progress.  We then apply an ease to that progress and then do\n * something within the RAF loop based on the current progress.\n *\n * This works but the problem is that RAF is constantly running and even if\n * the value of progress is the same as the last raf loop, we still are running\n * RAf and perhaps layout thrashing or performning unncessary calcs.\n *\n *\n * Example WITH RafProgress\n * The above is simplied with this class.\n *\n *\n * ```ts\n *\n * this.range = document.getElementById('range');\n *\n * // Create an instance of raf progress.\n * let rafProgress = new RafProgress((easedProgress, direction)=> {\n *   // DO something here like update the dom.\n *   // This is ONLY called when progress has changed in value.\n *   //..\n * })\n *\n * // Set the initial progress value.\n * rafProgress.setCurrentProgress(+this.range.value)\n *\n * // Optional, set the precision.\n * rafProgress.setPrecision(5);\n *\n * // Now listen to the range input 'input' event.  The input event is basically\n * // fired when the range changes.\n * this.range.addEventListener('input', ()=> {\n *   rafProgress.easeTo(+this.range.value, 0.25, EASE.easeInOutQuad)\n * })\n *\n *\n *\n *\n * // RafProgress is also an event emitter so you can listen to the progressEvent\n * rafProgress.addEventListener('progressChange', (easedProgress, direction)=> {\n *   // Do something.\n * })\n *\n *\n *\n * // Or use alias watch, unwatch\n * var onProgress = (progress)=> {\n *   console.log('hello')\n * }\n * rafProgress.watch(onProgress);\n * rafProgress.unwatch(onProgress);\n *\n * ```\n *\n * # Progress Callbacks\n * Raf progress additionally allows you to register and listen specific\n * progress values and run a callback.\n *\n * ```\n *\n * // Triggers when progress runs from 0.2, 0.4\n * rafProgress.watchFor([0.2, 0.4], callback);\n *\n * // Triggers when 0.2 is crossed .\n * rafProgress.watchFor(0.2, callback);\n *\n * // Remove watchFor\n * rafProgress.unwatchFor(callback);\n *\n * ```\n * @noInheritDoc\n */\nclass RafProgress {\n    /**\n     * @param {Function} progressRafLoop  Optional function to be called on each\n     *    progress update event.\n     * @constructor\n     */\n    constructor(progressRafLoop) {\n        // The current scroll direction.\n        this.direction = 0;\n        /**\n         * The internally known current progress.\n         */\n        this.currentProgress = 0;\n        /**\n         * The number of decimals to use when checking the equality of the\n         * previous progress versus current.\n         */\n        this.precision = 10;\n        /**\n         * The amount of ease to apply.  This gets calculated as per RAF,\n         * how much of the difference between the current value and target\n         * should the current value be updated by.  Therefore, 1 would mean,\n         * the current value would immediately update to the target value after\n         * one RAF cycle.  Use 1 for no ease.\n         */\n        this.easeAmount = 1;\n        /**\n         * The amount of damp to apply. 1 is no damping.\n         */\n        this.damp = 1;\n        /**\n         * A collection of callbacks to be run at specific progress values.\n         */\n        this.rangeWatchers = [];\n        /**\n         * A collection of callbacks to be run when progress is changed.\n         */\n        this.callbacks = [];\n        this.targetProgress = this.currentProgress;\n        this.easingFunction = _ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].linear;\n        if (progressRafLoop) {\n            this.watch(progressRafLoop);\n        }\n        this.raf = new _raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](() => {\n            this.rafLoop();\n        });\n    }\n    /**\n     *  Force stops running calculations.\n     */\n    stop() {\n        this.raf.stop();\n    }\n    /**\n     * Sets the FPS of the internal raf loop.\n     */\n    setFps(fps) {\n        this.raf.setFps(fps);\n    }\n    /**\n     * Run calculations.  Normally. you would call easeTo to set the latest\n     * current progress, you may want to call this if forced stopped and want\n     * to restart the raf loop manually.\n     */\n    run() {\n        this.raf.start();\n    }\n    /**\n     * Sets the precision.  Precision is used to check how closely the current\n     * progress is versus the previous progress per RAF cycle.\n     * The lower the number, the less precise.\n     *\n     * Use a lower number if you want want to improve performance since it will\n     * result in calling Raf fewer times.\n     */\n    setPrecision(value) {\n        this.precision = value;\n    }\n    /**\n     * Adds a progress listener.\n     * @param {Function}\n     */\n    watch(callback) {\n        this.callbacks.push(callback);\n    }\n    /**\n     * Removes a progress listener.\n     * @param {Function}\n     */\n    unwatch(callbackToRemove) {\n        this.callbacks = this.callbacks.filter(callback => {\n            return callback === callbackToRemove;\n        });\n    }\n    /**\n     * Sets a callback for a specific range.\n     * @param {number|Array<number>} A specific progress to watch for or\n     *     an array like [0.1, 0.4] specifying the range to be watched.\n     * @param {Function}\n     */\n    watchFor(range, callback) {\n        this.rangeWatchers.push({\n            range: range,\n            callback: callback,\n        });\n    }\n    /**\n     * Removes a given\n     * @param callback\n     */\n    unwatchFor(callback) {\n        this.rangeWatchers = this.rangeWatchers.filter((watcher) => {\n            return watcher.callback !== callback;\n        });\n    }\n    /**\n     * Once raf is starated, updates on each raf cycle if raf is running.\n     * Dirty check for progress and stops raf once the value has stabilized.\n     */\n    rafLoop() {\n        const previousProgress = this.currentProgress;\n        if (typeof this.damp === 'number') {\n            this.currentProgress = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"damp\"](this.currentProgress, this.targetProgress, this.easeAmount, this.damp);\n        }\n        else {\n            this.currentProgress = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"ease\"](this.currentProgress, this.targetProgress, this.easeAmount, this.easingFunction || _ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].linear);\n        }\n        // Reduce the precision of progress.  We dont need to report progress differences\n        // of 0.0000001.\n        this.currentProgress = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"toFixed\"](this.currentProgress, this.precision);\n        // Based on the the precision, we want to make sure we return\n        // a complete 0 or complete 1 as integers at the bounds of the progress.\n        if (this.currentProgress < 0.5) {\n            this.currentProgress = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"floorToPrecision\"](this.currentProgress, this.precision - 1);\n        }\n        else {\n            this.currentProgress = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"ceilToPrecision\"](this.currentProgress, this.precision - 1);\n        }\n        this.direction = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"direction\"](previousProgress, this.currentProgress);\n        // Call callbacks.\n        this.callbacks.forEach(callback => {\n            callback(this.currentProgress, this.direction);\n        });\n        // Loop through watchers.\n        this.rangeWatchers.forEach((watcher) => {\n            let isBetween = false;\n            if (Array.isArray(watcher.range)) {\n                isBetween = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"isBetween\"](this.currentProgress, watcher.range[0], watcher.range[1]);\n            }\n            else {\n                // If we are only watching for a specific value, we used the\n                // previous progress to see if we passed it.\n                isBetween = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"isBetween\"](watcher.range, this.currentProgress, previousProgress);\n            }\n            if (isBetween) {\n                watcher.callback(this.currentProgress, this.direction);\n            }\n        });\n        // Stop RAF if the value of progress has stabilized.\n        if (previousProgress === this.currentProgress) {\n            this.raf.stop();\n        }\n    }\n    /**\n     * Sets the current progress.  This forces an immediate update to\n     * the passed progress.\n     */\n    setCurrentProgress(progress, noClamp = true) {\n        this.currentProgress = noClamp ? progress : _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"clampAsProgress\"](progress);\n        this.targetProgress = this.currentProgress;\n        this.easeAmount = 1;\n        // Run the raf loop once.\n        this.raf.start();\n    }\n    /**\n     * Eases the progress to a target value.  Until that value is reached,\n     * the progressRafLoop is called.\n     *\n     * @param {number} targetProgress The progress to get to.\n     * @param {number} easeAmount The amount to ease. This gets calculated as per\n     *     RAF, how much of the difference between the current value and target\n     *     should the current value be updated by.  Therefore, 1 would mean\n     *     no ease. 0.1 would mean a lot of ease.\n     * @param {Function} easingFunction An optional easing funciton.  Defaults to\n     *     linear.\n     * @param {boolean} noClamp Prevent progress clamping.  Allows values outside\n     *      range of 0-1.\n     *\n     */\n    easeTo(targetProgress, easeAmount, easingFunction = _ease_ease__WEBPACK_IMPORTED_MODULE_2__[\"EASE\"].linear, noClamp = false) {\n        this.targetProgress = noClamp\n            ? targetProgress\n            : _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"clampAsProgress\"](targetProgress);\n        this.easeAmount = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"clampAsPercent\"](easeAmount);\n        this.easingFunction = easingFunction;\n        this.damp = null;\n        // Start up RAF to make updates and ease to the target progress.\n        // Make sure we force a restart since sometimes, you can get multiple\n        // call to this in the same raf cycle and if stop is called at the end\n        // our animation won't be guaranteed to start.\n        this.raf.start(true);\n    }\n    /**\n     * Similar to easeTo but applied a smoothdamp instead.\n     * @param targetProgress\n     * @param easeAmount\n     * @param damp\n     */\n    dampTo(targetProgress, easeAmount, damp, noClamp = false) {\n        this.targetProgress = noClamp\n            ? targetProgress\n            : _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"clampAsProgress\"](targetProgress);\n        this.easeAmount = _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"clampAsPercent\"](easeAmount);\n        this.easingFunction = null;\n        this.damp = damp;\n        // Start up RAF to make updates and ease to the target progress.\n        // Make sure we force a restart since sometimes, you can get multiple\n        // call to this in the same raf cycle and if stop is called at the end\n        // our animation won't be guaranteed to start.\n        this.raf.start(true);\n    }\n    /**\n     * Gets the lerp delta - the difference between the current ease and the\n     * targetEase (where it should be if it caught up).\n     */\n    getLerpDelta() {\n        return this.targetProgress - this.currentProgress;\n    }\n    /**\n     * Gets the current scroll direction. 1 is down scroll, -1 is up scroll and\n     * 0 is no scroll (when progress is catching up).\n     */\n    getScrollDirection() {\n        return this.direction;\n    }\n    dispose() {\n        this.raf.dispose();\n        this.callbacks = [];\n        this.rangeWatchers = [];\n    }\n}\n//# sourceMappingURL=raf-progress.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvcmFmL3JhZi1wcm9ncmVzcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9yYWYvcmFmLXByb2dyZXNzLmpzP2IzY2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgbWF0aGYgZnJvbSAnLi4vbWF0aGYvbWF0aGYnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi9yYWYnO1xuaW1wb3J0IHsgRUFTRSB9IGZyb20gJy4uL2Vhc2UvZWFzZSc7XG4vKipcbiAqIEEgY2xhc3MgdGhhdCBydW5zIFJhZiBmb3IgYSBsaW1pdGVkIHRpbWUgd2hpbGUgYSBnaXZlbiBwcm9ncmVzc1xuICogKGEgdmFsdWUgYmV0d2VlbiAwLTEpIGVhc2VzLiAgVGhpcyBjbGFzcyBpcyB1c2VmdWwgYmVjYXVzZSBpbnN0ZWFkIG9mXG4gKiBjb25zdGFubHR5IHJ1bm5pZyByYWYsIGl0IHdpbGwgb25seSBydW4gUkFGIHdoZW4gYSBwcm9ncmVzcyB2YWx1ZSBpcyB1bnN0YWJsZS5cbiAqIFRoaXMgY2xhc3MgYWxzbyBhbGxvd3MgeW91IHRvIHJlZ2lzdGVyIGFuZCBsaXN0ZW4gZm9yIHNwZWNpZmljIHByb2dyZXNzXG4gKiB2YWx1ZXMgYW5kIHJ1biBjYWxsYmFja3MgKElFOiBydW4gYSBjYWxsYmFjayB3aGVuIHRoZSBwcm9ncmVzcyBjcm9zc2VzIDAuNSkuXG4gKlxuICpcbiAqIEV4YW1wbGUgV0lUSE9VVCBSYWZQcm9ncmVzczpcbiAqIENvbnNpZGVyIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSB0byB1bmRlcnN0YW5kIHdoYXQgUmFmUHJvZ3Jlc3MgZG9lcy5cbiAqIEhlcmUgd2UgYXJlIHVzaW5nIGFuIGh0bWwgcmFuZ2UgaW5wdXQgdG8gcmVwcmVzZW50IFByb2dyZXNzIGJ1dCBwcm9ncmVzc3MgY291bGRcbiAqIGJlIGEgd2luZG93IHNjcm9sbCwgZHVyYXRpb24sIG1vdXNlIHBvc2l0aW9uIGV0Yy4uLi4uYSBwZXJjZW50YWdlIGFtb3VudDpcbiAqIGBgYHRzXG4gKiBIVE1MXG4gKiAgIDxpbnB1dCBpZD1cInJhbmdlXCIgdHlwZT1cInJhbmdlXCIgbmFtZT1cInBvaW50c1wiIHN0ZXA9XCIwLjAxXCIgbWluPVwiMFwiIG1heD1cIjFcIiBzdHlsZT1cIndpZHRoOiA1MDBweDtcIj5cbiAqXG4gKiBKU1xuICogIHRoaXMucmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFuZ2UnKTtcbiAqXG4gKiAgLy8gU2V0IHRoZSBwcm9ncmVzcyB0byB0aGUgcmFuZ2UgdmFsdWUuXG4gKiAgdGhpcy5wcm9ncmVzcyA9ICt0aGlzLnJhbmdlLnZhbHVlO1xuICpcbiAqICBjb25zdCByYWYgPSBuZXcgUmFmKCgpID0+IHtcbiAqICAgICAvLyBSYW5nZSBpcyBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMS5cbiAqICAgICBsZXQgcHJvZ3Jlc3MgPSArdGhpcy5yYW5nZS52YWx1ZTtcbiAqXG4gKiAgICAvLyBBZGQgc29tZSBlYXNlIHRvIHRoZSBwcm9ncmVzcyB0byBzbW9vdGggaXQgb3V0LlxuICogICAgdGhpcy5wcm9ncmVzcyA9IG1hdGhmLmVhc2UodGhpcy5wcm9ncmVzcywgcHJvZ3Jlc3MsIDAuMjUsIEVBU0UuZWFzZUluT3V0UXVhZCk7XG4gKlxuICogICAvLyBSZWR1Y2UgdGhlIHByZWNpc2lvbiBvZiBwcm9ncmVzcy4gIFdlIGRvbnQgbmVlZCB0byByZXBvcnQgcHJvZ3Jlc3MgZGlmZmVyZW5jZXNcbiAqICAgLy8gb2YgMC4wMDAwMDAxLlxuICogICAgdGhpcy5wcm9ncmVzcyA9IG1hdGhmLnJvdW5kKHRoaXMucHJvZ3Jlc3MsIDMpO1xuICpcbiAqICAgLy8gU29tZXRoaW5nIHdpdGggcHJvZ3Jlc3NcbiAqICAgLy8gTWFueSBtYW5pcHVsYXRlIHRoZSBET00gaGVyZS5cbiAqICB9KS5zdGFydCgpO1xuICogYGBgXG4gKiBIZXJlIHlvdSBjYW4gc2VlIHRoYXQgb24gZWFjaCBSQUYgY3ljbGUsIHdlIGNoZWNrIHRoZSB2YWx1ZSBvZiB0aGUgcmFuZ2UgYW5kXG4gKiBnZXQgdGhlIHByb2dyZXNzLiAgV2UgdGhlbiBhcHBseSBhbiBlYXNlIHRvIHRoYXQgcHJvZ3Jlc3MgYW5kIHRoZW4gZG9cbiAqIHNvbWV0aGluZyB3aXRoaW4gdGhlIFJBRiBsb29wIGJhc2VkIG9uIHRoZSBjdXJyZW50IHByb2dyZXNzLlxuICpcbiAqIFRoaXMgd29ya3MgYnV0IHRoZSBwcm9ibGVtIGlzIHRoYXQgUkFGIGlzIGNvbnN0YW50bHkgcnVubmluZyBhbmQgZXZlbiBpZlxuICogdGhlIHZhbHVlIG9mIHByb2dyZXNzIGlzIHRoZSBzYW1lIGFzIHRoZSBsYXN0IHJhZiBsb29wLCB3ZSBzdGlsbCBhcmUgcnVubmluZ1xuICogUkFmIGFuZCBwZXJoYXBzIGxheW91dCB0aHJhc2hpbmcgb3IgcGVyZm9ybW5pbmcgdW5uY2Vzc2FyeSBjYWxjcy5cbiAqXG4gKlxuICogRXhhbXBsZSBXSVRIIFJhZlByb2dyZXNzXG4gKiBUaGUgYWJvdmUgaXMgc2ltcGxpZWQgd2l0aCB0aGlzIGNsYXNzLlxuICpcbiAqXG4gKiBgYGB0c1xuICpcbiAqIHRoaXMucmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFuZ2UnKTtcbiAqXG4gKiAvLyBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgcmFmIHByb2dyZXNzLlxuICogbGV0IHJhZlByb2dyZXNzID0gbmV3IFJhZlByb2dyZXNzKChlYXNlZFByb2dyZXNzLCBkaXJlY3Rpb24pPT4ge1xuICogICAvLyBETyBzb21ldGhpbmcgaGVyZSBsaWtlIHVwZGF0ZSB0aGUgZG9tLlxuICogICAvLyBUaGlzIGlzIE9OTFkgY2FsbGVkIHdoZW4gcHJvZ3Jlc3MgaGFzIGNoYW5nZWQgaW4gdmFsdWUuXG4gKiAgIC8vLi5cbiAqIH0pXG4gKlxuICogLy8gU2V0IHRoZSBpbml0aWFsIHByb2dyZXNzIHZhbHVlLlxuICogcmFmUHJvZ3Jlc3Muc2V0Q3VycmVudFByb2dyZXNzKCt0aGlzLnJhbmdlLnZhbHVlKVxuICpcbiAqIC8vIE9wdGlvbmFsLCBzZXQgdGhlIHByZWNpc2lvbi5cbiAqIHJhZlByb2dyZXNzLnNldFByZWNpc2lvbig1KTtcbiAqXG4gKiAvLyBOb3cgbGlzdGVuIHRvIHRoZSByYW5nZSBpbnB1dCAnaW5wdXQnIGV2ZW50LiAgVGhlIGlucHV0IGV2ZW50IGlzIGJhc2ljYWxseVxuICogLy8gZmlyZWQgd2hlbiB0aGUgcmFuZ2UgY2hhbmdlcy5cbiAqIHRoaXMucmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKT0+IHtcbiAqICAgcmFmUHJvZ3Jlc3MuZWFzZVRvKCt0aGlzLnJhbmdlLnZhbHVlLCAwLjI1LCBFQVNFLmVhc2VJbk91dFF1YWQpXG4gKiB9KVxuICpcbiAqXG4gKlxuICpcbiAqIC8vIFJhZlByb2dyZXNzIGlzIGFsc28gYW4gZXZlbnQgZW1pdHRlciBzbyB5b3UgY2FuIGxpc3RlbiB0byB0aGUgcHJvZ3Jlc3NFdmVudFxuICogcmFmUHJvZ3Jlc3MuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3NDaGFuZ2UnLCAoZWFzZWRQcm9ncmVzcywgZGlyZWN0aW9uKT0+IHtcbiAqICAgLy8gRG8gc29tZXRoaW5nLlxuICogfSlcbiAqXG4gKlxuICpcbiAqIC8vIE9yIHVzZSBhbGlhcyB3YXRjaCwgdW53YXRjaFxuICogdmFyIG9uUHJvZ3Jlc3MgPSAocHJvZ3Jlc3MpPT4ge1xuICogICBjb25zb2xlLmxvZygnaGVsbG8nKVxuICogfVxuICogcmFmUHJvZ3Jlc3Mud2F0Y2gob25Qcm9ncmVzcyk7XG4gKiByYWZQcm9ncmVzcy51bndhdGNoKG9uUHJvZ3Jlc3MpO1xuICpcbiAqIGBgYFxuICpcbiAqICMgUHJvZ3Jlc3MgQ2FsbGJhY2tzXG4gKiBSYWYgcHJvZ3Jlc3MgYWRkaXRpb25hbGx5IGFsbG93cyB5b3UgdG8gcmVnaXN0ZXIgYW5kIGxpc3RlbiBzcGVjaWZpY1xuICogcHJvZ3Jlc3MgdmFsdWVzIGFuZCBydW4gYSBjYWxsYmFjay5cbiAqXG4gKiBgYGBcbiAqXG4gKiAvLyBUcmlnZ2VycyB3aGVuIHByb2dyZXNzIHJ1bnMgZnJvbSAwLjIsIDAuNFxuICogcmFmUHJvZ3Jlc3Mud2F0Y2hGb3IoWzAuMiwgMC40XSwgY2FsbGJhY2spO1xuICpcbiAqIC8vIFRyaWdnZXJzIHdoZW4gMC4yIGlzIGNyb3NzZWQgLlxuICogcmFmUHJvZ3Jlc3Mud2F0Y2hGb3IoMC4yLCBjYWxsYmFjayk7XG4gKlxuICogLy8gUmVtb3ZlIHdhdGNoRm9yXG4gKiByYWZQcm9ncmVzcy51bndhdGNoRm9yKGNhbGxiYWNrKTtcbiAqXG4gKiBgYGBcbiAqIEBub0luaGVyaXREb2NcbiAqL1xuZXhwb3J0IGNsYXNzIFJhZlByb2dyZXNzIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9ncmVzc1JhZkxvb3AgIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBlYWNoXG4gICAgICogICAgcHJvZ3Jlc3MgdXBkYXRlIGV2ZW50LlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb2dyZXNzUmFmTG9vcCkge1xuICAgICAgICAvLyBUaGUgY3VycmVudCBzY3JvbGwgZGlyZWN0aW9uLlxuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaW50ZXJuYWxseSBrbm93biBjdXJyZW50IHByb2dyZXNzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50UHJvZ3Jlc3MgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBkZWNpbWFscyB0byB1c2Ugd2hlbiBjaGVja2luZyB0aGUgZXF1YWxpdHkgb2YgdGhlXG4gICAgICAgICAqIHByZXZpb3VzIHByb2dyZXNzIHZlcnN1cyBjdXJyZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmVjaXNpb24gPSAxMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbW91bnQgb2YgZWFzZSB0byBhcHBseS4gIFRoaXMgZ2V0cyBjYWxjdWxhdGVkIGFzIHBlciBSQUYsXG4gICAgICAgICAqIGhvdyBtdWNoIG9mIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIGN1cnJlbnQgdmFsdWUgYW5kIHRhcmdldFxuICAgICAgICAgKiBzaG91bGQgdGhlIGN1cnJlbnQgdmFsdWUgYmUgdXBkYXRlZCBieS4gIFRoZXJlZm9yZSwgMSB3b3VsZCBtZWFuLFxuICAgICAgICAgKiB0aGUgY3VycmVudCB2YWx1ZSB3b3VsZCBpbW1lZGlhdGVseSB1cGRhdGUgdG8gdGhlIHRhcmdldCB2YWx1ZSBhZnRlclxuICAgICAgICAgKiBvbmUgUkFGIGN5Y2xlLiAgVXNlIDEgZm9yIG5vIGVhc2UuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVhc2VBbW91bnQgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFtb3VudCBvZiBkYW1wIHRvIGFwcGx5LiAxIGlzIG5vIGRhbXBpbmcuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhbXAgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byBiZSBydW4gYXQgc3BlY2lmaWMgcHJvZ3Jlc3MgdmFsdWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYW5nZVdhdGNoZXJzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNvbGxlY3Rpb24gb2YgY2FsbGJhY2tzIHRvIGJlIHJ1biB3aGVuIHByb2dyZXNzIGlzIGNoYW5nZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IFtdO1xuICAgICAgICB0aGlzLnRhcmdldFByb2dyZXNzID0gdGhpcy5jdXJyZW50UHJvZ3Jlc3M7XG4gICAgICAgIHRoaXMuZWFzaW5nRnVuY3Rpb24gPSBFQVNFLmxpbmVhcjtcbiAgICAgICAgaWYgKHByb2dyZXNzUmFmTG9vcCkge1xuICAgICAgICAgICAgdGhpcy53YXRjaChwcm9ncmVzc1JhZkxvb3ApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmFmID0gbmV3IFJhZigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJhZkxvb3AoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqICBGb3JjZSBzdG9wcyBydW5uaW5nIGNhbGN1bGF0aW9ucy5cbiAgICAgKi9cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLnJhZi5zdG9wKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIEZQUyBvZiB0aGUgaW50ZXJuYWwgcmFmIGxvb3AuXG4gICAgICovXG4gICAgc2V0RnBzKGZwcykge1xuICAgICAgICB0aGlzLnJhZi5zZXRGcHMoZnBzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUnVuIGNhbGN1bGF0aW9ucy4gIE5vcm1hbGx5LiB5b3Ugd291bGQgY2FsbCBlYXNlVG8gdG8gc2V0IHRoZSBsYXRlc3RcbiAgICAgKiBjdXJyZW50IHByb2dyZXNzLCB5b3UgbWF5IHdhbnQgdG8gY2FsbCB0aGlzIGlmIGZvcmNlZCBzdG9wcGVkIGFuZCB3YW50XG4gICAgICogdG8gcmVzdGFydCB0aGUgcmFmIGxvb3AgbWFudWFsbHkuXG4gICAgICovXG4gICAgcnVuKCkge1xuICAgICAgICB0aGlzLnJhZi5zdGFydCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwcmVjaXNpb24uICBQcmVjaXNpb24gaXMgdXNlZCB0byBjaGVjayBob3cgY2xvc2VseSB0aGUgY3VycmVudFxuICAgICAqIHByb2dyZXNzIGlzIHZlcnN1cyB0aGUgcHJldmlvdXMgcHJvZ3Jlc3MgcGVyIFJBRiBjeWNsZS5cbiAgICAgKiBUaGUgbG93ZXIgdGhlIG51bWJlciwgdGhlIGxlc3MgcHJlY2lzZS5cbiAgICAgKlxuICAgICAqIFVzZSBhIGxvd2VyIG51bWJlciBpZiB5b3Ugd2FudCB3YW50IHRvIGltcHJvdmUgcGVyZm9ybWFuY2Ugc2luY2UgaXQgd2lsbFxuICAgICAqIHJlc3VsdCBpbiBjYWxsaW5nIFJhZiBmZXdlciB0aW1lcy5cbiAgICAgKi9cbiAgICBzZXRQcmVjaXNpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy5wcmVjaXNpb24gPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHByb2dyZXNzIGxpc3RlbmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259XG4gICAgICovXG4gICAgd2F0Y2goY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBwcm9ncmVzcyBsaXN0ZW5lci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufVxuICAgICAqL1xuICAgIHVud2F0Y2goY2FsbGJhY2tUb1JlbW92ZSkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IHRoaXMuY2FsbGJhY2tzLmZpbHRlcihjYWxsYmFjayA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sgPT09IGNhbGxiYWNrVG9SZW1vdmU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgY2FsbGJhY2sgZm9yIGEgc3BlY2lmaWMgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ8QXJyYXk8bnVtYmVyPn0gQSBzcGVjaWZpYyBwcm9ncmVzcyB0byB3YXRjaCBmb3Igb3JcbiAgICAgKiAgICAgYW4gYXJyYXkgbGlrZSBbMC4xLCAwLjRdIHNwZWNpZnlpbmcgdGhlIHJhbmdlIHRvIGJlIHdhdGNoZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn1cbiAgICAgKi9cbiAgICB3YXRjaEZvcihyYW5nZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5yYW5nZVdhdGNoZXJzLnB1c2goe1xuICAgICAgICAgICAgcmFuZ2U6IHJhbmdlLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGdpdmVuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAgICovXG4gICAgdW53YXRjaEZvcihjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnJhbmdlV2F0Y2hlcnMgPSB0aGlzLnJhbmdlV2F0Y2hlcnMuZmlsdGVyKCh3YXRjaGVyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gd2F0Y2hlci5jYWxsYmFjayAhPT0gY2FsbGJhY2s7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPbmNlIHJhZiBpcyBzdGFyYXRlZCwgdXBkYXRlcyBvbiBlYWNoIHJhZiBjeWNsZSBpZiByYWYgaXMgcnVubmluZy5cbiAgICAgKiBEaXJ0eSBjaGVjayBmb3IgcHJvZ3Jlc3MgYW5kIHN0b3BzIHJhZiBvbmNlIHRoZSB2YWx1ZSBoYXMgc3RhYmlsaXplZC5cbiAgICAgKi9cbiAgICByYWZMb29wKCkge1xuICAgICAgICBjb25zdCBwcmV2aW91c1Byb2dyZXNzID0gdGhpcy5jdXJyZW50UHJvZ3Jlc3M7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5kYW1wID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UHJvZ3Jlc3MgPSBtYXRoZi5kYW1wKHRoaXMuY3VycmVudFByb2dyZXNzLCB0aGlzLnRhcmdldFByb2dyZXNzLCB0aGlzLmVhc2VBbW91bnQsIHRoaXMuZGFtcCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQcm9ncmVzcyA9IG1hdGhmLmVhc2UodGhpcy5jdXJyZW50UHJvZ3Jlc3MsIHRoaXMudGFyZ2V0UHJvZ3Jlc3MsIHRoaXMuZWFzZUFtb3VudCwgdGhpcy5lYXNpbmdGdW5jdGlvbiB8fCBFQVNFLmxpbmVhcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVkdWNlIHRoZSBwcmVjaXNpb24gb2YgcHJvZ3Jlc3MuICBXZSBkb250IG5lZWQgdG8gcmVwb3J0IHByb2dyZXNzIGRpZmZlcmVuY2VzXG4gICAgICAgIC8vIG9mIDAuMDAwMDAwMS5cbiAgICAgICAgdGhpcy5jdXJyZW50UHJvZ3Jlc3MgPSBtYXRoZi50b0ZpeGVkKHRoaXMuY3VycmVudFByb2dyZXNzLCB0aGlzLnByZWNpc2lvbik7XG4gICAgICAgIC8vIEJhc2VkIG9uIHRoZSB0aGUgcHJlY2lzaW9uLCB3ZSB3YW50IHRvIG1ha2Ugc3VyZSB3ZSByZXR1cm5cbiAgICAgICAgLy8gYSBjb21wbGV0ZSAwIG9yIGNvbXBsZXRlIDEgYXMgaW50ZWdlcnMgYXQgdGhlIGJvdW5kcyBvZiB0aGUgcHJvZ3Jlc3MuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQcm9ncmVzcyA8IDAuNSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UHJvZ3Jlc3MgPSBtYXRoZi5mbG9vclRvUHJlY2lzaW9uKHRoaXMuY3VycmVudFByb2dyZXNzLCB0aGlzLnByZWNpc2lvbiAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UHJvZ3Jlc3MgPSBtYXRoZi5jZWlsVG9QcmVjaXNpb24odGhpcy5jdXJyZW50UHJvZ3Jlc3MsIHRoaXMucHJlY2lzaW9uIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBtYXRoZi5kaXJlY3Rpb24ocHJldmlvdXNQcm9ncmVzcywgdGhpcy5jdXJyZW50UHJvZ3Jlc3MpO1xuICAgICAgICAvLyBDYWxsIGNhbGxiYWNrcy5cbiAgICAgICAgdGhpcy5jYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayh0aGlzLmN1cnJlbnRQcm9ncmVzcywgdGhpcy5kaXJlY3Rpb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHdhdGNoZXJzLlxuICAgICAgICB0aGlzLnJhbmdlV2F0Y2hlcnMuZm9yRWFjaCgod2F0Y2hlcikgPT4ge1xuICAgICAgICAgICAgbGV0IGlzQmV0d2VlbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkod2F0Y2hlci5yYW5nZSkpIHtcbiAgICAgICAgICAgICAgICBpc0JldHdlZW4gPSBtYXRoZi5pc0JldHdlZW4odGhpcy5jdXJyZW50UHJvZ3Jlc3MsIHdhdGNoZXIucmFuZ2VbMF0sIHdhdGNoZXIucmFuZ2VbMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgYXJlIG9ubHkgd2F0Y2hpbmcgZm9yIGEgc3BlY2lmaWMgdmFsdWUsIHdlIHVzZWQgdGhlXG4gICAgICAgICAgICAgICAgLy8gcHJldmlvdXMgcHJvZ3Jlc3MgdG8gc2VlIGlmIHdlIHBhc3NlZCBpdC5cbiAgICAgICAgICAgICAgICBpc0JldHdlZW4gPSBtYXRoZi5pc0JldHdlZW4od2F0Y2hlci5yYW5nZSwgdGhpcy5jdXJyZW50UHJvZ3Jlc3MsIHByZXZpb3VzUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzQmV0d2Vlbikge1xuICAgICAgICAgICAgICAgIHdhdGNoZXIuY2FsbGJhY2sodGhpcy5jdXJyZW50UHJvZ3Jlc3MsIHRoaXMuZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFN0b3AgUkFGIGlmIHRoZSB2YWx1ZSBvZiBwcm9ncmVzcyBoYXMgc3RhYmlsaXplZC5cbiAgICAgICAgaWYgKHByZXZpb3VzUHJvZ3Jlc3MgPT09IHRoaXMuY3VycmVudFByb2dyZXNzKSB7XG4gICAgICAgICAgICB0aGlzLnJhZi5zdG9wKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBwcm9ncmVzcy4gIFRoaXMgZm9yY2VzIGFuIGltbWVkaWF0ZSB1cGRhdGUgdG9cbiAgICAgKiB0aGUgcGFzc2VkIHByb2dyZXNzLlxuICAgICAqL1xuICAgIHNldEN1cnJlbnRQcm9ncmVzcyhwcm9ncmVzcywgbm9DbGFtcCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50UHJvZ3Jlc3MgPSBub0NsYW1wID8gcHJvZ3Jlc3MgOiBtYXRoZi5jbGFtcEFzUHJvZ3Jlc3MocHJvZ3Jlc3MpO1xuICAgICAgICB0aGlzLnRhcmdldFByb2dyZXNzID0gdGhpcy5jdXJyZW50UHJvZ3Jlc3M7XG4gICAgICAgIHRoaXMuZWFzZUFtb3VudCA9IDE7XG4gICAgICAgIC8vIFJ1biB0aGUgcmFmIGxvb3Agb25jZS5cbiAgICAgICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRWFzZXMgdGhlIHByb2dyZXNzIHRvIGEgdGFyZ2V0IHZhbHVlLiAgVW50aWwgdGhhdCB2YWx1ZSBpcyByZWFjaGVkLFxuICAgICAqIHRoZSBwcm9ncmVzc1JhZkxvb3AgaXMgY2FsbGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldFByb2dyZXNzIFRoZSBwcm9ncmVzcyB0byBnZXQgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVhc2VBbW91bnQgVGhlIGFtb3VudCB0byBlYXNlLiBUaGlzIGdldHMgY2FsY3VsYXRlZCBhcyBwZXJcbiAgICAgKiAgICAgUkFGLCBob3cgbXVjaCBvZiB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBjdXJyZW50IHZhbHVlIGFuZCB0YXJnZXRcbiAgICAgKiAgICAgc2hvdWxkIHRoZSBjdXJyZW50IHZhbHVlIGJlIHVwZGF0ZWQgYnkuICBUaGVyZWZvcmUsIDEgd291bGQgbWVhblxuICAgICAqICAgICBubyBlYXNlLiAwLjEgd291bGQgbWVhbiBhIGxvdCBvZiBlYXNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhc2luZ0Z1bmN0aW9uIEFuIG9wdGlvbmFsIGVhc2luZyBmdW5jaXRvbi4gIERlZmF1bHRzIHRvXG4gICAgICogICAgIGxpbmVhci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG5vQ2xhbXAgUHJldmVudCBwcm9ncmVzcyBjbGFtcGluZy4gIEFsbG93cyB2YWx1ZXMgb3V0c2lkZVxuICAgICAqICAgICAgcmFuZ2Ugb2YgMC0xLlxuICAgICAqXG4gICAgICovXG4gICAgZWFzZVRvKHRhcmdldFByb2dyZXNzLCBlYXNlQW1vdW50LCBlYXNpbmdGdW5jdGlvbiA9IEVBU0UubGluZWFyLCBub0NsYW1wID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy50YXJnZXRQcm9ncmVzcyA9IG5vQ2xhbXBcbiAgICAgICAgICAgID8gdGFyZ2V0UHJvZ3Jlc3NcbiAgICAgICAgICAgIDogbWF0aGYuY2xhbXBBc1Byb2dyZXNzKHRhcmdldFByb2dyZXNzKTtcbiAgICAgICAgdGhpcy5lYXNlQW1vdW50ID0gbWF0aGYuY2xhbXBBc1BlcmNlbnQoZWFzZUFtb3VudCk7XG4gICAgICAgIHRoaXMuZWFzaW5nRnVuY3Rpb24gPSBlYXNpbmdGdW5jdGlvbjtcbiAgICAgICAgdGhpcy5kYW1wID0gbnVsbDtcbiAgICAgICAgLy8gU3RhcnQgdXAgUkFGIHRvIG1ha2UgdXBkYXRlcyBhbmQgZWFzZSB0byB0aGUgdGFyZ2V0IHByb2dyZXNzLlxuICAgICAgICAvLyBNYWtlIHN1cmUgd2UgZm9yY2UgYSByZXN0YXJ0IHNpbmNlIHNvbWV0aW1lcywgeW91IGNhbiBnZXQgbXVsdGlwbGVcbiAgICAgICAgLy8gY2FsbCB0byB0aGlzIGluIHRoZSBzYW1lIHJhZiBjeWNsZSBhbmQgaWYgc3RvcCBpcyBjYWxsZWQgYXQgdGhlIGVuZFxuICAgICAgICAvLyBvdXIgYW5pbWF0aW9uIHdvbid0IGJlIGd1YXJhbnRlZWQgdG8gc3RhcnQuXG4gICAgICAgIHRoaXMucmFmLnN0YXJ0KHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaW1pbGFyIHRvIGVhc2VUbyBidXQgYXBwbGllZCBhIHNtb290aGRhbXAgaW5zdGVhZC5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0UHJvZ3Jlc3NcbiAgICAgKiBAcGFyYW0gZWFzZUFtb3VudFxuICAgICAqIEBwYXJhbSBkYW1wXG4gICAgICovXG4gICAgZGFtcFRvKHRhcmdldFByb2dyZXNzLCBlYXNlQW1vdW50LCBkYW1wLCBub0NsYW1wID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy50YXJnZXRQcm9ncmVzcyA9IG5vQ2xhbXBcbiAgICAgICAgICAgID8gdGFyZ2V0UHJvZ3Jlc3NcbiAgICAgICAgICAgIDogbWF0aGYuY2xhbXBBc1Byb2dyZXNzKHRhcmdldFByb2dyZXNzKTtcbiAgICAgICAgdGhpcy5lYXNlQW1vdW50ID0gbWF0aGYuY2xhbXBBc1BlcmNlbnQoZWFzZUFtb3VudCk7XG4gICAgICAgIHRoaXMuZWFzaW5nRnVuY3Rpb24gPSBudWxsO1xuICAgICAgICB0aGlzLmRhbXAgPSBkYW1wO1xuICAgICAgICAvLyBTdGFydCB1cCBSQUYgdG8gbWFrZSB1cGRhdGVzIGFuZCBlYXNlIHRvIHRoZSB0YXJnZXQgcHJvZ3Jlc3MuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBmb3JjZSBhIHJlc3RhcnQgc2luY2Ugc29tZXRpbWVzLCB5b3UgY2FuIGdldCBtdWx0aXBsZVxuICAgICAgICAvLyBjYWxsIHRvIHRoaXMgaW4gdGhlIHNhbWUgcmFmIGN5Y2xlIGFuZCBpZiBzdG9wIGlzIGNhbGxlZCBhdCB0aGUgZW5kXG4gICAgICAgIC8vIG91ciBhbmltYXRpb24gd29uJ3QgYmUgZ3VhcmFudGVlZCB0byBzdGFydC5cbiAgICAgICAgdGhpcy5yYWYuc3RhcnQodHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxlcnAgZGVsdGEgLSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBjdXJyZW50IGVhc2UgYW5kIHRoZVxuICAgICAqIHRhcmdldEVhc2UgKHdoZXJlIGl0IHNob3VsZCBiZSBpZiBpdCBjYXVnaHQgdXApLlxuICAgICAqL1xuICAgIGdldExlcnBEZWx0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0UHJvZ3Jlc3MgLSB0aGlzLmN1cnJlbnRQcm9ncmVzcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgY3VycmVudCBzY3JvbGwgZGlyZWN0aW9uLiAxIGlzIGRvd24gc2Nyb2xsLCAtMSBpcyB1cCBzY3JvbGwgYW5kXG4gICAgICogMCBpcyBubyBzY3JvbGwgKHdoZW4gcHJvZ3Jlc3MgaXMgY2F0Y2hpbmcgdXApLlxuICAgICAqL1xuICAgIGdldFNjcm9sbERpcmVjdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlyZWN0aW9uO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLnJhZi5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gW107XG4gICAgICAgIHRoaXMucmFuZ2VXYXRjaGVycyA9IFtdO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJhZi1wcm9ncmVzcy5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/raf/raf-progress.js\n");

/***/ }),

/***/ "./lib/raf/raf-timer.js":
/*!******************************!*\
  !*** ./lib/raf/raf-timer.js ***!
  \******************************/
/*! exports provided: RafTimer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RafTimer\", function() { return RafTimer; });\n/* harmony import */ var _time_time__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../time/time */ \"./lib/time/time.js\");\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _raf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./raf */ \"./lib/raf/raf.js\");\n\n\n\n/**\n * A Raf based timer.  This class allows you to run RAF for only a\n * set duration and then stop.\n *\n * This can be useful to do things like one time animations.\n *\n * Here is an example of running the rafTimer for 300ms\n * and lerping the x value of the box.\n * ```ts\n * // Box x starting value.\n * box.x = 0;\n *\n * let rafTimer = new RafTimer((progress)=> {\n *   // Called on each raf cycle from when start is called\n *   // for 300ms.\n *\n *   // progress is passed as a value between 0 and 1.\n *   // console.log('progress')\n *\n *\n *   // Will move the box from 0 (starting) to 500\n *   // based on the progress.\n *   box.x = mathf.lerp(box.x, 500, progress);\n *\n *   // or go fancy and add easing to the progress!\n *   // box.x = mathf.ease(box.x, 500, progress, ease.easeInOutSine);\n * })\n *\n * rafTimer.onComplete(()=> {\n *   // Do something on completion.\n * })\n *\n * // Set the duration of the rafTimer 300 and start it.\n * rafTimer.setDuration(300);\n * rafTimer.play();\n *\n *\n * // If you want, slow down the FPS.\n * rafTimer.setFps(10);\n *\n * // Pause if you want.\n * window.setTimeout(()=> {\n *   rafTimer.pause();\n *\n *   // Start playing again from pause point\n *   playButton.addEventListner('click', ()=> {\n *     rafTimer.play();\n *   }, { once: true});\n *\n *   // Reset to beginning\n *   resetButton.addEventListner('click', ()=> {\n *     rafTimer.reset();\n *     rafTimer.play();\n *   }, { once: true});\n *\n * })\n *\n * TODO (uxder); Update this to extend emit emitter.\n *\n * ```\n */\nclass RafTimer {\n    constructor(rafLoop) {\n        /**\n         * The callback to be executed upon each request animation frame.\n         * @type {Function}\n         */\n        this.rafLoop = rafLoop;\n        /**\n         * The internal raf instance\n         * @type {private}\n         */\n        this.raf = new _raf__WEBPACK_IMPORTED_MODULE_2__[\"Raf\"](() => {\n            this.animationLoop_();\n        });\n        /**\n         * The internal raf instance\n         * @type {private}\n         */\n        this.duration = 0;\n        /**\n         * The progress of the timer. The amount of percentage\n         * we have elasped, represented in a number between 0-1.\n         */\n        this.progress = 0;\n        /**\n         * The amount of time in ms that has elapsed\n         */\n        this.timeElapsed = 0;\n        /**\n         * The last point in which time was measured.\n         */\n        this.timeSnapshot = 0;\n        /**\n         * Whether raf is active, we are playing .\n         */\n        this.playing = false;\n        // A single complete callback.\n        this.completeCallback = null;\n    }\n    /**\n     * The internal animation loop.\n     */\n    animationLoop_() {\n        // In theory, when playing is false, this loop shouldn't\n        // run but safe guard.\n        if (!this.playing) {\n            return;\n        }\n        // On each raf cycle, we want to calculate\n        // the amount of time that has elapsed since\n        // the last known timeSnapshot (when the time\n        // was recorded).\n        // We add this to the total value of time elapsed.\n        const timeSinceLastTimeSnapshot = _time_time__WEBPACK_IMPORTED_MODULE_0__[\"timeDiffMs\"](this.timeSnapshot, _time_time__WEBPACK_IMPORTED_MODULE_0__[\"now\"]());\n        this.timeElapsed += timeSinceLastTimeSnapshot;\n        this.progress = _mathf_mathf__WEBPACK_IMPORTED_MODULE_1__[\"clampAsPercent\"](this.timeElapsed / this.duration);\n        // Update the snapshot.\n        this.timeSnapshot = _time_time__WEBPACK_IMPORTED_MODULE_0__[\"now\"]();\n        // If we aren't at 100% call the raf loop.\n        if (this.progress < 1) {\n            this.rafLoop && this.rafLoop(this.progress);\n        }\n        else {\n            // Run the main update loop one more time as completion.\n            this.rafLoop && this.rafLoop(1);\n            // Complete\n            this.reset();\n            this.raf.stop();\n            this.completeCallback && this.completeCallback(1);\n        }\n    }\n    /**\n     * Set the duration of the raf loop in ms.\n     * @param duration  The duration in ms.\n     */\n    setDuration(duration) {\n        this.duration = duration;\n    }\n    /**\n     * Sets the fps of raf loop..\n     */\n    setFps(fps) {\n        this.raf.setFps(fps);\n    }\n    onComplete(callback) {\n        this.completeCallback = callback;\n    }\n    /**\n     * Start playing the rafTimer.\n     */\n    play() {\n        if (this.playing) {\n            return;\n        }\n        this.playing = true;\n        this.timeSnapshot = _time_time__WEBPACK_IMPORTED_MODULE_0__[\"now\"]();\n        this.raf.start();\n    }\n    /**\n     *  Resets the RAF timer.\n     */\n    reset() {\n        this.playing = false;\n        this.raf.stop();\n        this.timeElapsed = 0;\n    }\n    /**\n     *  Pauses the raf Timer.\n     */\n    pause() {\n        this.raf.stop();\n        this.playing = false;\n    }\n    dispose() {\n        this.raf.dispose();\n    }\n}\n//# sourceMappingURL=raf-timer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvcmFmL3JhZi10aW1lci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9yYWYvcmFmLXRpbWVyLmpzPzFhNjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgdGltZSBmcm9tICcuLi90aW1lL3RpbWUnO1xuaW1wb3J0ICogYXMgbWF0aGYgZnJvbSAnLi4vbWF0aGYvbWF0aGYnO1xuaW1wb3J0IHsgUmFmIH0gZnJvbSAnLi9yYWYnO1xuLyoqXG4gKiBBIFJhZiBiYXNlZCB0aW1lci4gIFRoaXMgY2xhc3MgYWxsb3dzIHlvdSB0byBydW4gUkFGIGZvciBvbmx5IGFcbiAqIHNldCBkdXJhdGlvbiBhbmQgdGhlbiBzdG9wLlxuICpcbiAqIFRoaXMgY2FuIGJlIHVzZWZ1bCB0byBkbyB0aGluZ3MgbGlrZSBvbmUgdGltZSBhbmltYXRpb25zLlxuICpcbiAqIEhlcmUgaXMgYW4gZXhhbXBsZSBvZiBydW5uaW5nIHRoZSByYWZUaW1lciBmb3IgMzAwbXNcbiAqIGFuZCBsZXJwaW5nIHRoZSB4IHZhbHVlIG9mIHRoZSBib3guXG4gKiBgYGB0c1xuICogLy8gQm94IHggc3RhcnRpbmcgdmFsdWUuXG4gKiBib3gueCA9IDA7XG4gKlxuICogbGV0IHJhZlRpbWVyID0gbmV3IFJhZlRpbWVyKChwcm9ncmVzcyk9PiB7XG4gKiAgIC8vIENhbGxlZCBvbiBlYWNoIHJhZiBjeWNsZSBmcm9tIHdoZW4gc3RhcnQgaXMgY2FsbGVkXG4gKiAgIC8vIGZvciAzMDBtcy5cbiAqXG4gKiAgIC8vIHByb2dyZXNzIGlzIHBhc3NlZCBhcyBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMS5cbiAqICAgLy8gY29uc29sZS5sb2coJ3Byb2dyZXNzJylcbiAqXG4gKlxuICogICAvLyBXaWxsIG1vdmUgdGhlIGJveCBmcm9tIDAgKHN0YXJ0aW5nKSB0byA1MDBcbiAqICAgLy8gYmFzZWQgb24gdGhlIHByb2dyZXNzLlxuICogICBib3gueCA9IG1hdGhmLmxlcnAoYm94LngsIDUwMCwgcHJvZ3Jlc3MpO1xuICpcbiAqICAgLy8gb3IgZ28gZmFuY3kgYW5kIGFkZCBlYXNpbmcgdG8gdGhlIHByb2dyZXNzIVxuICogICAvLyBib3gueCA9IG1hdGhmLmVhc2UoYm94LngsIDUwMCwgcHJvZ3Jlc3MsIGVhc2UuZWFzZUluT3V0U2luZSk7XG4gKiB9KVxuICpcbiAqIHJhZlRpbWVyLm9uQ29tcGxldGUoKCk9PiB7XG4gKiAgIC8vIERvIHNvbWV0aGluZyBvbiBjb21wbGV0aW9uLlxuICogfSlcbiAqXG4gKiAvLyBTZXQgdGhlIGR1cmF0aW9uIG9mIHRoZSByYWZUaW1lciAzMDAgYW5kIHN0YXJ0IGl0LlxuICogcmFmVGltZXIuc2V0RHVyYXRpb24oMzAwKTtcbiAqIHJhZlRpbWVyLnBsYXkoKTtcbiAqXG4gKlxuICogLy8gSWYgeW91IHdhbnQsIHNsb3cgZG93biB0aGUgRlBTLlxuICogcmFmVGltZXIuc2V0RnBzKDEwKTtcbiAqXG4gKiAvLyBQYXVzZSBpZiB5b3Ugd2FudC5cbiAqIHdpbmRvdy5zZXRUaW1lb3V0KCgpPT4ge1xuICogICByYWZUaW1lci5wYXVzZSgpO1xuICpcbiAqICAgLy8gU3RhcnQgcGxheWluZyBhZ2FpbiBmcm9tIHBhdXNlIHBvaW50XG4gKiAgIHBsYXlCdXR0b24uYWRkRXZlbnRMaXN0bmVyKCdjbGljaycsICgpPT4ge1xuICogICAgIHJhZlRpbWVyLnBsYXkoKTtcbiAqICAgfSwgeyBvbmNlOiB0cnVlfSk7XG4gKlxuICogICAvLyBSZXNldCB0byBiZWdpbm5pbmdcbiAqICAgcmVzZXRCdXR0b24uYWRkRXZlbnRMaXN0bmVyKCdjbGljaycsICgpPT4ge1xuICogICAgIHJhZlRpbWVyLnJlc2V0KCk7XG4gKiAgICAgcmFmVGltZXIucGxheSgpO1xuICogICB9LCB7IG9uY2U6IHRydWV9KTtcbiAqXG4gKiB9KVxuICpcbiAqIFRPRE8gKHV4ZGVyKTsgVXBkYXRlIHRoaXMgdG8gZXh0ZW5kIGVtaXQgZW1pdHRlci5cbiAqXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFJhZlRpbWVyIHtcbiAgICBjb25zdHJ1Y3RvcihyYWZMb29wKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgdG8gYmUgZXhlY3V0ZWQgdXBvbiBlYWNoIHJlcXVlc3QgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhZkxvb3AgPSByYWZMb29wO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGludGVybmFsIHJhZiBpbnN0YW5jZVxuICAgICAgICAgKiBAdHlwZSB7cHJpdmF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmFmID0gbmV3IFJhZigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkxvb3BfKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGludGVybmFsIHJhZiBpbnN0YW5jZVxuICAgICAgICAgKiBAdHlwZSB7cHJpdmF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHByb2dyZXNzIG9mIHRoZSB0aW1lci4gVGhlIGFtb3VudCBvZiBwZXJjZW50YWdlXG4gICAgICAgICAqIHdlIGhhdmUgZWxhc3BlZCwgcmVwcmVzZW50ZWQgaW4gYSBudW1iZXIgYmV0d2VlbiAwLTEuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbW91bnQgb2YgdGltZSBpbiBtcyB0aGF0IGhhcyBlbGFwc2VkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpbWVFbGFwc2VkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsYXN0IHBvaW50IGluIHdoaWNoIHRpbWUgd2FzIG1lYXN1cmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aW1lU25hcHNob3QgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciByYWYgaXMgYWN0aXZlLCB3ZSBhcmUgcGxheWluZyAuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgLy8gQSBzaW5nbGUgY29tcGxldGUgY2FsbGJhY2suXG4gICAgICAgIHRoaXMuY29tcGxldGVDYWxsYmFjayA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBpbnRlcm5hbCBhbmltYXRpb24gbG9vcC5cbiAgICAgKi9cbiAgICBhbmltYXRpb25Mb29wXygpIHtcbiAgICAgICAgLy8gSW4gdGhlb3J5LCB3aGVuIHBsYXlpbmcgaXMgZmFsc2UsIHRoaXMgbG9vcCBzaG91bGRuJ3RcbiAgICAgICAgLy8gcnVuIGJ1dCBzYWZlIGd1YXJkLlxuICAgICAgICBpZiAoIXRoaXMucGxheWluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9uIGVhY2ggcmFmIGN5Y2xlLCB3ZSB3YW50IHRvIGNhbGN1bGF0ZVxuICAgICAgICAvLyB0aGUgYW1vdW50IG9mIHRpbWUgdGhhdCBoYXMgZWxhcHNlZCBzaW5jZVxuICAgICAgICAvLyB0aGUgbGFzdCBrbm93biB0aW1lU25hcHNob3QgKHdoZW4gdGhlIHRpbWVcbiAgICAgICAgLy8gd2FzIHJlY29yZGVkKS5cbiAgICAgICAgLy8gV2UgYWRkIHRoaXMgdG8gdGhlIHRvdGFsIHZhbHVlIG9mIHRpbWUgZWxhcHNlZC5cbiAgICAgICAgY29uc3QgdGltZVNpbmNlTGFzdFRpbWVTbmFwc2hvdCA9IHRpbWUudGltZURpZmZNcyh0aGlzLnRpbWVTbmFwc2hvdCwgdGltZS5ub3coKSk7XG4gICAgICAgIHRoaXMudGltZUVsYXBzZWQgKz0gdGltZVNpbmNlTGFzdFRpbWVTbmFwc2hvdDtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IG1hdGhmLmNsYW1wQXNQZXJjZW50KHRoaXMudGltZUVsYXBzZWQgLyB0aGlzLmR1cmF0aW9uKTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBzbmFwc2hvdC5cbiAgICAgICAgdGhpcy50aW1lU25hcHNob3QgPSB0aW1lLm5vdygpO1xuICAgICAgICAvLyBJZiB3ZSBhcmVuJ3QgYXQgMTAwJSBjYWxsIHRoZSByYWYgbG9vcC5cbiAgICAgICAgaWYgKHRoaXMucHJvZ3Jlc3MgPCAxKSB7XG4gICAgICAgICAgICB0aGlzLnJhZkxvb3AgJiYgdGhpcy5yYWZMb29wKHRoaXMucHJvZ3Jlc3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gUnVuIHRoZSBtYWluIHVwZGF0ZSBsb29wIG9uZSBtb3JlIHRpbWUgYXMgY29tcGxldGlvbi5cbiAgICAgICAgICAgIHRoaXMucmFmTG9vcCAmJiB0aGlzLnJhZkxvb3AoMSk7XG4gICAgICAgICAgICAvLyBDb21wbGV0ZVxuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5yYWYuc3RvcCgpO1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZUNhbGxiYWNrICYmIHRoaXMuY29tcGxldGVDYWxsYmFjaygxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGR1cmF0aW9uIG9mIHRoZSByYWYgbG9vcCBpbiBtcy5cbiAgICAgKiBAcGFyYW0gZHVyYXRpb24gIFRoZSBkdXJhdGlvbiBpbiBtcy5cbiAgICAgKi9cbiAgICBzZXREdXJhdGlvbihkdXJhdGlvbikge1xuICAgICAgICB0aGlzLmR1cmF0aW9uID0gZHVyYXRpb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGZwcyBvZiByYWYgbG9vcC4uXG4gICAgICovXG4gICAgc2V0RnBzKGZwcykge1xuICAgICAgICB0aGlzLnJhZi5zZXRGcHMoZnBzKTtcbiAgICB9XG4gICAgb25Db21wbGV0ZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmNvbXBsZXRlQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnQgcGxheWluZyB0aGUgcmFmVGltZXIuXG4gICAgICovXG4gICAgcGxheSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGxheWluZyA9IHRydWU7XG4gICAgICAgIHRoaXMudGltZVNuYXBzaG90ID0gdGltZS5ub3coKTtcbiAgICAgICAgdGhpcy5yYWYuc3RhcnQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogIFJlc2V0cyB0aGUgUkFGIHRpbWVyLlxuICAgICAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yYWYuc3RvcCgpO1xuICAgICAgICB0aGlzLnRpbWVFbGFwc2VkID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogIFBhdXNlcyB0aGUgcmFmIFRpbWVyLlxuICAgICAqL1xuICAgIHBhdXNlKCkge1xuICAgICAgICB0aGlzLnJhZi5zdG9wKCk7XG4gICAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLnJhZi5kaXNwb3NlKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmFmLXRpbWVyLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/raf/raf-timer.js\n");

/***/ }),

/***/ "./lib/raf/raf.js":
/*!************************!*\
  !*** ./lib/raf/raf.js ***!
  \************************/
/*! exports provided: Raf */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Raf\", function() { return Raf; });\n/* harmony import */ var _dom_element_visibility__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom/element-visibility */ \"./lib/dom/element-visibility.js\");\n\n/**\n * A class that creates a RAF loop and calls a specific callback.  Setting the\n * frame rate will throttle the animation.\n *\n * Example usage;\n * ```ts\n * var raf = new Raf((frame, lastUpdateTime, stop)=> {\n *   console.log('this runs on request animation frame');\n *   // The current FPS.\n *   console.log(raf.getCurrentFps());\n * });\n * raf.start();\n *\n * // Later to stop raf.\n * raf.stop();\n *\n * // Set the FPS\n * raf.setFps(30);\n * raf.start();\n *\n *\n * // Add or remove listeners\n * var onRaf = ()=> {\n *   console.log('hello')\n * }\n * raf.watch(onRaf);\n * raf.unwatch(onRaf);\n *\n * // Clock functions: Delta and elapsed time.\n * var raf2 = new Raf((frame, lastUpdateTime, stop)=> {\n *   // Gets the time when raf started.\n *   const startTime = raf.getStartTime();\n *   // Gets the delta between the last update\n *   const delta = raf.getDelta();\n *   // Time elapsed\n *   const elapsedTime = raf.getElapsedTime();\n * }).start();\n *\n * ```\n *\n * RunWhen option.\n * You can pass a run condition to limit raf only when the condition resolve\n * to true.  This is useful to cull unncessary requests.\n * An example is to use elementVisility to only run RAF when an element is\n * in view and stop raf when it goes out of view.\n *\n *\n * ```ts\n *\n * // Runs only when the window is small.\n * var raf = new Raf(()=> {\n *   console.log('this runs when scren size is less than 1000');\n * });\n * raf.runWhen(()=> { window.innerWidth < 1000});\n * raf.start();\n *\n *\n *\n * // Runs only when myElement is in view.\n * // Option 1: You can use runWhen condition\n *\n *\n * let ev = elementVisibility.inview(myElement);\n * var raf = new Raf(() => {\n *    console.log('a raf that runs when element is in view.');\n * });\n * raf.runWhen(() => {\n *    return ev.state().inview;\n * });\n *\n * // This normally works fine but elementVisibility has a split second to\n * // boot up.\n * raf.start();\n *\n * // if you want to be sure to only run RAF when ev is ready do this:\n * ev.readyPromise.then(()=> {\n *   raf.start();\n * })\n *\n * ```\n *\n * // Runs only when myElement is in view.\n * // Option 2: You can use runWhenElementIsInview option.\n *\n * ```\n * var raf = new Raf(()=> {\n *   ...\n * })\n *\n *\n * // Set element and run when it's ready.\n * raf.runWhenElementIsInview(\n *    document.getElementById(\"myelement\"),\n *    {\n *      rootMargin: '500px 0px 500px 0px'\n *    }\n * ).then(()=> {\n *    raf.start();\n * })\n *\n *\n * ```\n *\n *\n *\n * # Batch read / write.\n * Batch write / read.  To batch write and read, wrap your methods in\n * read and write calls.  Read / Write calls uses the degu raf registry\n * so your reads or writes can get delayed by one raf cycle.\n * ```\n * var raf = new Raf(()=> {\n *    raf.read(()=> {\n *        this.height = element.offsetHeight;\n *    })\n *\n *    raf.write(()=> {\n *        element.style.height = this.height + 20 + 'px';\n *    })\n * })\n *\n * ```\n *\n * You can also create a read / write only raf by passing\n * no rafLoop to the constructor.\n *\n * ```\n * var raf = new Raf();\n *    raf.read(()=> {\n *        this.height = element.offsetHeight;\n *    })\n *\n *    raf.write(()=> {\n *        element.style.height = this.height + 20 + 'px';\n *    })\n *\n * ```\n *\n *\n * If you want read / writes to NOT cull, you can set the\n * read write mode.    This is needed if you pass a rafLoop\n * to the constructor but additionally, want to use the read\n * write outside your loop even when your raf is stopped.\n * ```\n * var raf = new Raf(()=> {\n *    raf.read(()=> {\n *        this.height = element.offsetHeight;\n *    })\n *\n *    raf.write(()=> {\n *        element.style.height = this.height + 20 + 'px';\n *    })\n * })\n *\n * // Raf is stopped.\n * raf.stop();\n *\n * // This won't work.\n * raf.write(()=> {\n * ...\n * })\n *\n *\n * raf.setReadWriteMode(true);\n * // Now it will work even when raf is stopped.\n * raf.write(()=> {\n * ...\n * })\n *\n * ```\n *\n *\n * @noInheritDoc\n * @class\n */\nclass Raf {\n    /**\n     * @param {Function} rafLoop  Optional function to be called on each\n     *     request animation frame.\n     * @constructor\n     */\n    constructor(rafLoop) {\n        this.isReadWriteOnly = false;\n        this.callbacks = [];\n        this.isDisposed = false;\n        /**\n         * The internal reference to request animation frame.\n         * @type {private}\n         */\n        this.raf_ = null;\n        /**\n         * The current animation frame.\n         * @type {number}\n         * @public\n         */\n        this.frame = null;\n        /**\n         * The last updated time.\n         * @type {number}\n         * @public\n         */\n        this.lastUpdateTime = 0;\n        /**\n         * The frame rate. Defaults to 0 in which case RAF is not throttled.\n         * @type {number}\n         */\n        this.fps = 0;\n        /**\n         * The current frame rate.\n         * @type {number}\n         */\n        this.currentFps = 0;\n        /**\n         * Whether raf is looping.\n         * @type {boolean}\n         */\n        this.isPlaying = false;\n        /**\n         * Whether we are already running raf.\n         */\n        this.isRunningRaf = false;\n        /**\n         * A collection of callbacks to be called on raf.\n         * @type {Array<Function>}\n         */\n        this.callbacks = [];\n        /**\n         * An optional condition in which if set and resolved to false,\n         * the raf loop gets cull.ed\n         * @type {Function}\n         */\n        this.runCondition = null;\n        /**\n         * The delta time in ms between the last frame update.\n         */\n        this.delta = 0;\n        /**\n         * The elapsed time instantiation.  This serves as a clock.\n         * Note this is based on seconds not ms.\n         */\n        this.elaspedTime = 0;\n        /**\n         * The last known start time of raf.\n         */\n        this.startTime = 0;\n        if (rafLoop) {\n            this.watch(rafLoop);\n        }\n        else {\n            // If no rafLoop was defined, this raf is being\n            // used for readWrites only.\n            this.isReadWriteOnly = true;\n        }\n        // Register self to global registry.\n        if (window.DEGU_RAF_REGISTRY) {\n            window.DEGU_RAF_REGISTRY.register(this);\n        }\n    }\n    /**\n     * Adds a raf listener\n     * @param\n     */\n    watch(callback) {\n        this.callbacks.push(callback);\n    }\n    /**\n     * Sets the read write mode.\n     * @param value\n     */\n    setReadWriteMode(value) {\n        this.isReadWriteOnly = value;\n    }\n    /**\n     * Adds a one time read callback executed by the global degu raf registry.\n     * This allows you to batch read calls.\n     * @param callback\n     */\n    preRead(callback) {\n        window.DEGU_RAF_REGISTRY &&\n            window.DEGU_RAF_REGISTRY.addOneTimePreRead({\n                callback: callback,\n                raf: this,\n            });\n    }\n    /**\n     * Adds a one time read callback executed by the global degu raf registry.\n     * This allows you to batch read calls.\n     * @param callback\n     */\n    read(callback) {\n        window.DEGU_RAF_REGISTRY &&\n            window.DEGU_RAF_REGISTRY.addOneTimeRead({\n                callback: callback,\n                raf: this,\n            });\n    }\n    waitRead() {\n        return new Promise(resolve => {\n            window.DEGU_RAF_REGISTRY &&\n                window.DEGU_RAF_REGISTRY.addOneTimeRead({\n                    callback: () => {\n                        resolve();\n                    },\n                    raf: this,\n                });\n        });\n    }\n    /**\n     * Adds a one time write callback executed by the global degu raf registry.\n     * This allows you to batch write calls.\n     * @param callback\n     */\n    write(callback) {\n        window.DEGU_RAF_REGISTRY &&\n            window.DEGU_RAF_REGISTRY.addOneTimeWrite({\n                callback: callback,\n                raf: this,\n            });\n    }\n    waitWrite() {\n        return new Promise(resolve => {\n            window.DEGU_RAF_REGISTRY &&\n                window.DEGU_RAF_REGISTRY.addOneTimeWrite({\n                    callback: () => {\n                        resolve();\n                    },\n                    raf: this,\n                });\n        });\n    }\n    /**\n     * Adds a one time post write callback executed by the global degu raf registry.\n     * This allows you to batch post write calls.\n     * @param callback\n     */\n    postWrite(callback) {\n        window.DEGU_RAF_REGISTRY &&\n            window.DEGU_RAF_REGISTRY.addOneTimePostWrite({\n                callback: callback,\n                raf: this,\n            });\n    }\n    /**\n     * Removes a progress listener.\n     * @param {Function}\n     */\n    unwatch(callbackToRemove) {\n        this.callbacks = this.callbacks.filter(callback => {\n            return callback === callbackToRemove;\n        });\n    }\n    /**\n     * Sets a function to execute on each raf loop.  If the condition resolves\n     * to true, the raf loop callbacks will be executed.  If false, the raf\n     * loop is culled.\n     * @param callbackCondition\n     */\n    runWhen(callbackCondition) {\n        this.runCondition = callbackCondition;\n    }\n    /**\n     * Allows you to pass an option to tell this raf to execute only when the\n     * given element is in the viewport.  Optionally pass intersection observer\n     * options.\n     *\n     * Note that this still requires you to start the raf.  You can do this\n     * with the promise that the method returns (resolved when ev is ready)\n     * or at a later time.\n     *\n     * Note it's recommended that you add a rootMargin to your ev settings\n     * if need to do offscreen processing.\n     *\n     * ```\n     * var raf = new Raf(()=> {\n     *   ...\n     * })\n     *\n     *\n     * // Set element and run when it's ready.\n     * raf.runWhenElementIsInview(\n     *    document.getElementById(\"myelement\"),\n     *    {\n     *      rootMargin: '300px 0px 300px 0px'\n     *    }\n     * ).then(()=> {\n     *    raf.start();\n     * })\n     *\n     *\n     * ```\n     *\n     */\n    runWhenElementIsInview(element, intersectionObserverOptions) {\n        // Dispose of any previous instances if this is being called a second\n        // time.\n        this.ev && this.ev.dispose();\n        this.runCondition = null;\n        this.ev = _dom_element_visibility__WEBPACK_IMPORTED_MODULE_0__[\"elementVisibility\"].inview(element, intersectionObserverOptions || {});\n        // Set the run when condition.\n        this.runWhen(() => {\n            return this.ev && this.ev.state().inview;\n        });\n        return this.ev.readyPromise;\n    }\n    /**\n     * Sets the fps .\n     */\n    setFps(fps) {\n        this.fps = fps;\n    }\n    /**\n     * Starts the RAF animation loop.\n     * @param {boolean} Whether to force a start.\n     */\n    start(force = false) {\n        if (!force && this.isPlaying) {\n            return;\n        }\n        this.startTime = (typeof performance === 'undefined' ? Date : performance).now();\n        this.animationLoop_();\n        this.isPlaying = true;\n    }\n    /**\n     * Stops the RAF animation loop.\n     */\n    stop() {\n        this.isPlaying = false;\n        window.cancelAnimationFrame(this.raf_);\n        this.isRunningRaf = false;\n    }\n    dispose() {\n        this.ev && this.ev.dispose();\n        this.callbacks = [];\n        this.isDisposed = true;\n        this.stop();\n        // Deregister self to global registry.\n        window.DEGU_RAF_REGISTRY && window.DEGU_RAF_REGISTRY.unregister(this);\n    }\n    /**\n     * Gets the delta in ms between the last executed raf update.\n     * @param inSeconds Whether to acquire the delta time in seconds.  Defaults\n     *   to ms.\n     */\n    getDelta(inSeconds) {\n        if (inSeconds) {\n            return this.delta / 1000;\n        }\n        else {\n            return this.delta;\n        }\n    }\n    /**\n     * Gets the elasped time since raf started.\n     */\n    getElapsedTime() {\n        return this.elaspedTime;\n    }\n    /**\n     * Gets the time (Date) when raf started.\n     */\n    getStartTime() {\n        return this.startTime;\n    }\n    /**\n     * Gets the current frame rate that raf is running at.  Useful for debugging.\n     */\n    getCurrentFps() {\n        return this.currentFps;\n    }\n    /**\n     * The internal animation loop.\n     */\n    animationLoop_() {\n        if (this.isRunningRaf) {\n            return;\n        }\n        this.raf_ = window.requestAnimationFrame((frame) => {\n            this.frame = frame;\n            this.isRunningRaf = false;\n            this.animationLoop_();\n        });\n        this.isRunningRaf = true;\n        if (this.lastUpdateTime) {\n            const current = Date.now();\n            const elapsed = current - this.lastUpdateTime;\n            this.delta = elapsed;\n            this.elaspedTime += elapsed / 1000;\n            const fps = this.fps === 0 ? 0 : 1000 / this.fps;\n            this.currentFps = 1000 / elapsed;\n            if (elapsed > fps) {\n                this.callbacks &&\n                    this.callbacks.forEach(callback => {\n                        const callCallback = () => {\n                            callback(this.frame, this.lastUpdateTime, elapsed, () => {\n                                this.stop();\n                            });\n                        };\n                        if (this.runCondition) {\n                            this.runCondition() && callCallback();\n                        }\n                        else {\n                            callCallback();\n                        }\n                    });\n                this.lastUpdateTime = Date.now();\n            }\n        }\n        if (!this.lastUpdateTime) {\n            this.lastUpdateTime = Date.now();\n        }\n    }\n}\n/**\n * The idea behind the rafRegistry is to be able to batch read and write\n * raf calls similar to fastDom or toolBox mutate.\n *\n * In order to achieve this performance boosts, read and write calls need\n * to be executed in order and therefore, we need a registry to maintain\n * all raf instances on the page.\n *\n * When instantiated, each RAF adds itself to the registry and can be run / stopped\n * normally.\n *\n * Within it's raf loop, it can call a raf.read(callback); raf.write(callback);\n * which ends up getting executed on the RafRegistry event loop.\n *\n * raf.read(callback) and raf.write(callback) are ONE-time so must be recalled\n * on each raf loop.  It is basically saying, read this on the next raf loop once\n * or write it on the next raf loop.\n *\n * To use this system, simply use add read and write calls in your raf loop.\n *\n *\n * Life cycle:\n * - preread\n * - read\n * - write\n * - postWrite\n *\n * ```\n * var raf = new Raf(()=> {\n *    raf.preRead(()=> {\n *        this.height = element.offsetHeight;\n *    })\n *\n *    raf.read(()=> {\n *        this.height = element.offsetHeight;\n *    })\n *\n *    raf.write(()=> {\n *        element.style.height = this.height + 20 + 'px';\n *    })\n *\n *    // Somewhat rare but executed after all writes.\n *    raf.postWrite(()=> {\n *        element.style.height = this.height + 20 + 'px';\n *    })\n * })\n * ```\n *\n *\n * You may also to use raf.write and raf.read outside a\n * rafLoop.  In this case, you can just pass a null to the constructor.\n *\n * ```\n * var raf = new Raf();\n *\n * // Somewhere\n *  raf.read(()=> {\n *      this.height = element.offsetHeight;\n *  })\n *\n *\n *  raf.write(()=> {\n *      element.style.height = this.height + 20 + 'px';\n *  })\n *\n *\n * ```\n *\n */\nclass RafRegistry {\n    constructor() {\n        this.flushScheduled = false;\n        this.preReads = [];\n        this.reads = [];\n        this.writes = [];\n        this.postWrites = [];\n        this.rafs = [];\n    }\n    static runRafCallbacks(callbacks) {\n        // Keep consistent arrays so that scheduled function can schedule\n        // another function in the same step.\n        // Important so that a read function can call another function that\n        // protects itself in its own read function, in case it is called\n        // through another code execution path.\n        while (callbacks.length) {\n            const registryObject = callbacks.splice(0, 1)[0];\n            if (!registryObject.raf.isDisposed &&\n                (registryObject.raf.isPlaying || registryObject.raf.isReadWriteOnly)) {\n                registryObject.callback();\n            }\n        }\n    }\n    start() {\n        if (this.flushScheduled) {\n            return;\n        }\n        this.flushScheduled = true;\n        requestAnimationFrame(() => {\n            this.runRaf();\n        });\n    }\n    runRaf() {\n        // Open console and add:\n        //\n        // DEGU_RAF_REGISTRY_DEBUG = true;\n        //\n        if (window.DEGU_RAF_REGISTRY_DEBUG) {\n            console.log('Running raf', this.reads.length, this.writes.length);\n        }\n        // Execute preReads.\n        RafRegistry.runRafCallbacks(this.preReads);\n        // Execute reads.\n        RafRegistry.runRafCallbacks(this.reads);\n        // Execute writes.\n        RafRegistry.runRafCallbacks(this.writes);\n        // Execute postWrites.\n        RafRegistry.runRafCallbacks(this.postWrites);\n        this.flushScheduled = false;\n        if (this.preReads.length ||\n            this.reads.length ||\n            this.writes.length ||\n            this.postWrites.length) {\n            this.start();\n        }\n    }\n    /**\n     * Add a single addOneTimePreRead to the batch read / write system.\n     * @param read\n     */\n    addOneTimePreRead(read) {\n        this.preReads.push(read);\n        this.start();\n    }\n    /**\n     * Add a single addOneTimeRead to the batch read / write system.\n     * @param read\n     */\n    addOneTimeRead(read) {\n        this.reads.push(read);\n        this.start();\n    }\n    /**\n     * Add a single addOneTimeWrite to the batch read / write system.\n     * @param read\n     */\n    addOneTimeWrite(write) {\n        this.writes.push(write);\n        this.start();\n    }\n    /**\n     * Add a single addOneTimeWrite to the batch read / write system.\n     * @param read\n     */\n    addOneTimePostWrite(postWrite) {\n        this.postWrites.push(postWrite);\n        this.start();\n    }\n    /**\n     * Gets the count of all active rafs.\n     *\n     * In dev console:\n     * ```\n     * DEGU_RAF_REGISTRY.getActiveRafCount();\n     * ```\n     */\n    getActiveRafCount() {\n        return this.rafs.filter(r => {\n            return r.isPlaying;\n        }).length;\n    }\n    /**\n     * Gets the count of rafs.\n     *\n     * In dev console:\n     * ```\n     * DEGU_RAF_REGISTRY.getRafCount();\n     * ```\n     */\n    getRafCount() {\n        return this.rafs.length;\n    }\n    register(raf) {\n        this.rafs.push(raf);\n    }\n    unregister(raf) {\n        this.rafs = this.rafs.filter(r => {\n            return r === raf;\n        });\n    }\n}\n// Create raf registry as a global.\nif (window && !window.DEGU_RAF_REGISTRY) {\n    window.DEGU_RAF_REGISTRY = new RafRegistry();\n}\n//# sourceMappingURL=raf.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvcmFmL3JhZi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9yYWYvcmFmLmpzPzllNTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZWxlbWVudFZpc2liaWxpdHksIH0gZnJvbSAnLi4vZG9tL2VsZW1lbnQtdmlzaWJpbGl0eSc7XG4vKipcbiAqIEEgY2xhc3MgdGhhdCBjcmVhdGVzIGEgUkFGIGxvb3AgYW5kIGNhbGxzIGEgc3BlY2lmaWMgY2FsbGJhY2suICBTZXR0aW5nIHRoZVxuICogZnJhbWUgcmF0ZSB3aWxsIHRocm90dGxlIHRoZSBhbmltYXRpb24uXG4gKlxuICogRXhhbXBsZSB1c2FnZTtcbiAqIGBgYHRzXG4gKiB2YXIgcmFmID0gbmV3IFJhZigoZnJhbWUsIGxhc3RVcGRhdGVUaW1lLCBzdG9wKT0+IHtcbiAqICAgY29uc29sZS5sb2coJ3RoaXMgcnVucyBvbiByZXF1ZXN0IGFuaW1hdGlvbiBmcmFtZScpO1xuICogICAvLyBUaGUgY3VycmVudCBGUFMuXG4gKiAgIGNvbnNvbGUubG9nKHJhZi5nZXRDdXJyZW50RnBzKCkpO1xuICogfSk7XG4gKiByYWYuc3RhcnQoKTtcbiAqXG4gKiAvLyBMYXRlciB0byBzdG9wIHJhZi5cbiAqIHJhZi5zdG9wKCk7XG4gKlxuICogLy8gU2V0IHRoZSBGUFNcbiAqIHJhZi5zZXRGcHMoMzApO1xuICogcmFmLnN0YXJ0KCk7XG4gKlxuICpcbiAqIC8vIEFkZCBvciByZW1vdmUgbGlzdGVuZXJzXG4gKiB2YXIgb25SYWYgPSAoKT0+IHtcbiAqICAgY29uc29sZS5sb2coJ2hlbGxvJylcbiAqIH1cbiAqIHJhZi53YXRjaChvblJhZik7XG4gKiByYWYudW53YXRjaChvblJhZik7XG4gKlxuICogLy8gQ2xvY2sgZnVuY3Rpb25zOiBEZWx0YSBhbmQgZWxhcHNlZCB0aW1lLlxuICogdmFyIHJhZjIgPSBuZXcgUmFmKChmcmFtZSwgbGFzdFVwZGF0ZVRpbWUsIHN0b3ApPT4ge1xuICogICAvLyBHZXRzIHRoZSB0aW1lIHdoZW4gcmFmIHN0YXJ0ZWQuXG4gKiAgIGNvbnN0IHN0YXJ0VGltZSA9IHJhZi5nZXRTdGFydFRpbWUoKTtcbiAqICAgLy8gR2V0cyB0aGUgZGVsdGEgYmV0d2VlbiB0aGUgbGFzdCB1cGRhdGVcbiAqICAgY29uc3QgZGVsdGEgPSByYWYuZ2V0RGVsdGEoKTtcbiAqICAgLy8gVGltZSBlbGFwc2VkXG4gKiAgIGNvbnN0IGVsYXBzZWRUaW1lID0gcmFmLmdldEVsYXBzZWRUaW1lKCk7XG4gKiB9KS5zdGFydCgpO1xuICpcbiAqIGBgYFxuICpcbiAqIFJ1bldoZW4gb3B0aW9uLlxuICogWW91IGNhbiBwYXNzIGEgcnVuIGNvbmRpdGlvbiB0byBsaW1pdCByYWYgb25seSB3aGVuIHRoZSBjb25kaXRpb24gcmVzb2x2ZVxuICogdG8gdHJ1ZS4gIFRoaXMgaXMgdXNlZnVsIHRvIGN1bGwgdW5uY2Vzc2FyeSByZXF1ZXN0cy5cbiAqIEFuIGV4YW1wbGUgaXMgdG8gdXNlIGVsZW1lbnRWaXNpbGl0eSB0byBvbmx5IHJ1biBSQUYgd2hlbiBhbiBlbGVtZW50IGlzXG4gKiBpbiB2aWV3IGFuZCBzdG9wIHJhZiB3aGVuIGl0IGdvZXMgb3V0IG9mIHZpZXcuXG4gKlxuICpcbiAqIGBgYHRzXG4gKlxuICogLy8gUnVucyBvbmx5IHdoZW4gdGhlIHdpbmRvdyBpcyBzbWFsbC5cbiAqIHZhciByYWYgPSBuZXcgUmFmKCgpPT4ge1xuICogICBjb25zb2xlLmxvZygndGhpcyBydW5zIHdoZW4gc2NyZW4gc2l6ZSBpcyBsZXNzIHRoYW4gMTAwMCcpO1xuICogfSk7XG4gKiByYWYucnVuV2hlbigoKT0+IHsgd2luZG93LmlubmVyV2lkdGggPCAxMDAwfSk7XG4gKiByYWYuc3RhcnQoKTtcbiAqXG4gKlxuICpcbiAqIC8vIFJ1bnMgb25seSB3aGVuIG15RWxlbWVudCBpcyBpbiB2aWV3LlxuICogLy8gT3B0aW9uIDE6IFlvdSBjYW4gdXNlIHJ1bldoZW4gY29uZGl0aW9uXG4gKlxuICpcbiAqIGxldCBldiA9IGVsZW1lbnRWaXNpYmlsaXR5LmludmlldyhteUVsZW1lbnQpO1xuICogdmFyIHJhZiA9IG5ldyBSYWYoKCkgPT4ge1xuICogICAgY29uc29sZS5sb2coJ2EgcmFmIHRoYXQgcnVucyB3aGVuIGVsZW1lbnQgaXMgaW4gdmlldy4nKTtcbiAqIH0pO1xuICogcmFmLnJ1bldoZW4oKCkgPT4ge1xuICogICAgcmV0dXJuIGV2LnN0YXRlKCkuaW52aWV3O1xuICogfSk7XG4gKlxuICogLy8gVGhpcyBub3JtYWxseSB3b3JrcyBmaW5lIGJ1dCBlbGVtZW50VmlzaWJpbGl0eSBoYXMgYSBzcGxpdCBzZWNvbmQgdG9cbiAqIC8vIGJvb3QgdXAuXG4gKiByYWYuc3RhcnQoKTtcbiAqXG4gKiAvLyBpZiB5b3Ugd2FudCB0byBiZSBzdXJlIHRvIG9ubHkgcnVuIFJBRiB3aGVuIGV2IGlzIHJlYWR5IGRvIHRoaXM6XG4gKiBldi5yZWFkeVByb21pc2UudGhlbigoKT0+IHtcbiAqICAgcmFmLnN0YXJ0KCk7XG4gKiB9KVxuICpcbiAqIGBgYFxuICpcbiAqIC8vIFJ1bnMgb25seSB3aGVuIG15RWxlbWVudCBpcyBpbiB2aWV3LlxuICogLy8gT3B0aW9uIDI6IFlvdSBjYW4gdXNlIHJ1bldoZW5FbGVtZW50SXNJbnZpZXcgb3B0aW9uLlxuICpcbiAqIGBgYFxuICogdmFyIHJhZiA9IG5ldyBSYWYoKCk9PiB7XG4gKiAgIC4uLlxuICogfSlcbiAqXG4gKlxuICogLy8gU2V0IGVsZW1lbnQgYW5kIHJ1biB3aGVuIGl0J3MgcmVhZHkuXG4gKiByYWYucnVuV2hlbkVsZW1lbnRJc0ludmlldyhcbiAqICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXllbGVtZW50XCIpLFxuICogICAge1xuICogICAgICByb290TWFyZ2luOiAnNTAwcHggMHB4IDUwMHB4IDBweCdcbiAqICAgIH1cbiAqICkudGhlbigoKT0+IHtcbiAqICAgIHJhZi5zdGFydCgpO1xuICogfSlcbiAqXG4gKlxuICogYGBgXG4gKlxuICpcbiAqXG4gKiAjIEJhdGNoIHJlYWQgLyB3cml0ZS5cbiAqIEJhdGNoIHdyaXRlIC8gcmVhZC4gIFRvIGJhdGNoIHdyaXRlIGFuZCByZWFkLCB3cmFwIHlvdXIgbWV0aG9kcyBpblxuICogcmVhZCBhbmQgd3JpdGUgY2FsbHMuICBSZWFkIC8gV3JpdGUgY2FsbHMgdXNlcyB0aGUgZGVndSByYWYgcmVnaXN0cnlcbiAqIHNvIHlvdXIgcmVhZHMgb3Igd3JpdGVzIGNhbiBnZXQgZGVsYXllZCBieSBvbmUgcmFmIGN5Y2xlLlxuICogYGBgXG4gKiB2YXIgcmFmID0gbmV3IFJhZigoKT0+IHtcbiAqICAgIHJhZi5yZWFkKCgpPT4ge1xuICogICAgICAgIHRoaXMuaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gKiAgICB9KVxuICpcbiAqICAgIHJhZi53cml0ZSgoKT0+IHtcbiAqICAgICAgICBlbGVtZW50LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgMjAgKyAncHgnO1xuICogICAgfSlcbiAqIH0pXG4gKlxuICogYGBgXG4gKlxuICogWW91IGNhbiBhbHNvIGNyZWF0ZSBhIHJlYWQgLyB3cml0ZSBvbmx5IHJhZiBieSBwYXNzaW5nXG4gKiBubyByYWZMb29wIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBgYGBcbiAqIHZhciByYWYgPSBuZXcgUmFmKCk7XG4gKiAgICByYWYucmVhZCgoKT0+IHtcbiAqICAgICAgICB0aGlzLmhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICogICAgfSlcbiAqXG4gKiAgICByYWYud3JpdGUoKCk9PiB7XG4gKiAgICAgICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArIDIwICsgJ3B4JztcbiAqICAgIH0pXG4gKlxuICogYGBgXG4gKlxuICpcbiAqIElmIHlvdSB3YW50IHJlYWQgLyB3cml0ZXMgdG8gTk9UIGN1bGwsIHlvdSBjYW4gc2V0IHRoZVxuICogcmVhZCB3cml0ZSBtb2RlLiAgICBUaGlzIGlzIG5lZWRlZCBpZiB5b3UgcGFzcyBhIHJhZkxvb3BcbiAqIHRvIHRoZSBjb25zdHJ1Y3RvciBidXQgYWRkaXRpb25hbGx5LCB3YW50IHRvIHVzZSB0aGUgcmVhZFxuICogd3JpdGUgb3V0c2lkZSB5b3VyIGxvb3AgZXZlbiB3aGVuIHlvdXIgcmFmIGlzIHN0b3BwZWQuXG4gKiBgYGBcbiAqIHZhciByYWYgPSBuZXcgUmFmKCgpPT4ge1xuICogICAgcmFmLnJlYWQoKCk9PiB7XG4gKiAgICAgICAgdGhpcy5oZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodDtcbiAqICAgIH0pXG4gKlxuICogICAgcmFmLndyaXRlKCgpPT4ge1xuICogICAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAyMCArICdweCc7XG4gKiAgICB9KVxuICogfSlcbiAqXG4gKiAvLyBSYWYgaXMgc3RvcHBlZC5cbiAqIHJhZi5zdG9wKCk7XG4gKlxuICogLy8gVGhpcyB3b24ndCB3b3JrLlxuICogcmFmLndyaXRlKCgpPT4ge1xuICogLi4uXG4gKiB9KVxuICpcbiAqXG4gKiByYWYuc2V0UmVhZFdyaXRlTW9kZSh0cnVlKTtcbiAqIC8vIE5vdyBpdCB3aWxsIHdvcmsgZXZlbiB3aGVuIHJhZiBpcyBzdG9wcGVkLlxuICogcmFmLndyaXRlKCgpPT4ge1xuICogLi4uXG4gKiB9KVxuICpcbiAqIGBgYFxuICpcbiAqXG4gKiBAbm9Jbmhlcml0RG9jXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGNsYXNzIFJhZiB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmFmTG9vcCAgT3B0aW9uYWwgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGVhY2hcbiAgICAgKiAgICAgcmVxdWVzdCBhbmltYXRpb24gZnJhbWUuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmFmTG9vcCkge1xuICAgICAgICB0aGlzLmlzUmVhZFdyaXRlT25seSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IFtdO1xuICAgICAgICB0aGlzLmlzRGlzcG9zZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbnRlcm5hbCByZWZlcmVuY2UgdG8gcmVxdWVzdCBhbmltYXRpb24gZnJhbWUuXG4gICAgICAgICAqIEB0eXBlIHtwcml2YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYWZfID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHB1YmxpY1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mcmFtZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCB1cGRhdGVkIHRpbWUuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFzdFVwZGF0ZVRpbWUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZyYW1lIHJhdGUuIERlZmF1bHRzIHRvIDAgaW4gd2hpY2ggY2FzZSBSQUYgaXMgbm90IHRocm90dGxlZC5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZnBzID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IGZyYW1lIHJhdGUuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRGcHMgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciByYWYgaXMgbG9vcGluZy5cbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzUGxheWluZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB3ZSBhcmUgYWxyZWFkeSBydW5uaW5nIHJhZi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNSdW5uaW5nUmFmID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNvbGxlY3Rpb24gb2YgY2FsbGJhY2tzIHRvIGJlIGNhbGxlZCBvbiByYWYuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gb3B0aW9uYWwgY29uZGl0aW9uIGluIHdoaWNoIGlmIHNldCBhbmQgcmVzb2x2ZWQgdG8gZmFsc2UsXG4gICAgICAgICAqIHRoZSByYWYgbG9vcCBnZXRzIGN1bGwuZWRcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ydW5Db25kaXRpb24gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlbHRhIHRpbWUgaW4gbXMgYmV0d2VlbiB0aGUgbGFzdCBmcmFtZSB1cGRhdGUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbHRhID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBlbGFwc2VkIHRpbWUgaW5zdGFudGlhdGlvbi4gIFRoaXMgc2VydmVzIGFzIGEgY2xvY2suXG4gICAgICAgICAqIE5vdGUgdGhpcyBpcyBiYXNlZCBvbiBzZWNvbmRzIG5vdCBtcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZWxhc3BlZFRpbWUgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3Qga25vd24gc3RhcnQgdGltZSBvZiByYWYuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IDA7XG4gICAgICAgIGlmIChyYWZMb29wKSB7XG4gICAgICAgICAgICB0aGlzLndhdGNoKHJhZkxvb3ApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgbm8gcmFmTG9vcCB3YXMgZGVmaW5lZCwgdGhpcyByYWYgaXMgYmVpbmdcbiAgICAgICAgICAgIC8vIHVzZWQgZm9yIHJlYWRXcml0ZXMgb25seS5cbiAgICAgICAgICAgIHRoaXMuaXNSZWFkV3JpdGVPbmx5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWdpc3RlciBzZWxmIHRvIGdsb2JhbCByZWdpc3RyeS5cbiAgICAgICAgaWYgKHdpbmRvdy5ERUdVX1JBRl9SRUdJU1RSWSkge1xuICAgICAgICAgICAgd2luZG93LkRFR1VfUkFGX1JFR0lTVFJZLnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSByYWYgbGlzdGVuZXJcbiAgICAgKiBAcGFyYW1cbiAgICAgKi9cbiAgICB3YXRjaChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcmVhZCB3cml0ZSBtb2RlLlxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqL1xuICAgIHNldFJlYWRXcml0ZU1vZGUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5pc1JlYWRXcml0ZU9ubHkgPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIG9uZSB0aW1lIHJlYWQgY2FsbGJhY2sgZXhlY3V0ZWQgYnkgdGhlIGdsb2JhbCBkZWd1IHJhZiByZWdpc3RyeS5cbiAgICAgKiBUaGlzIGFsbG93cyB5b3UgdG8gYmF0Y2ggcmVhZCBjYWxscy5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tcbiAgICAgKi9cbiAgICBwcmVSZWFkKGNhbGxiYWNrKSB7XG4gICAgICAgIHdpbmRvdy5ERUdVX1JBRl9SRUdJU1RSWSAmJlxuICAgICAgICAgICAgd2luZG93LkRFR1VfUkFGX1JFR0lTVFJZLmFkZE9uZVRpbWVQcmVSZWFkKHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgcmFmOiB0aGlzLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBvbmUgdGltZSByZWFkIGNhbGxiYWNrIGV4ZWN1dGVkIGJ5IHRoZSBnbG9iYWwgZGVndSByYWYgcmVnaXN0cnkuXG4gICAgICogVGhpcyBhbGxvd3MgeW91IHRvIGJhdGNoIHJlYWQgY2FsbHMuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAgICovXG4gICAgcmVhZChjYWxsYmFjaykge1xuICAgICAgICB3aW5kb3cuREVHVV9SQUZfUkVHSVNUUlkgJiZcbiAgICAgICAgICAgIHdpbmRvdy5ERUdVX1JBRl9SRUdJU1RSWS5hZGRPbmVUaW1lUmVhZCh7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIHJhZjogdGhpcyxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICB3YWl0UmVhZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgd2luZG93LkRFR1VfUkFGX1JFR0lTVFJZICYmXG4gICAgICAgICAgICAgICAgd2luZG93LkRFR1VfUkFGX1JFR0lTVFJZLmFkZE9uZVRpbWVSZWFkKHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmFmOiB0aGlzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIG9uZSB0aW1lIHdyaXRlIGNhbGxiYWNrIGV4ZWN1dGVkIGJ5IHRoZSBnbG9iYWwgZGVndSByYWYgcmVnaXN0cnkuXG4gICAgICogVGhpcyBhbGxvd3MgeW91IHRvIGJhdGNoIHdyaXRlIGNhbGxzLlxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xuICAgICAqL1xuICAgIHdyaXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIHdpbmRvdy5ERUdVX1JBRl9SRUdJU1RSWSAmJlxuICAgICAgICAgICAgd2luZG93LkRFR1VfUkFGX1JFR0lTVFJZLmFkZE9uZVRpbWVXcml0ZSh7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIHJhZjogdGhpcyxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICB3YWl0V3JpdGUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5ERUdVX1JBRl9SRUdJU1RSWSAmJlxuICAgICAgICAgICAgICAgIHdpbmRvdy5ERUdVX1JBRl9SRUdJU1RSWS5hZGRPbmVUaW1lV3JpdGUoe1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByYWY6IHRoaXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgb25lIHRpbWUgcG9zdCB3cml0ZSBjYWxsYmFjayBleGVjdXRlZCBieSB0aGUgZ2xvYmFsIGRlZ3UgcmFmIHJlZ2lzdHJ5LlxuICAgICAqIFRoaXMgYWxsb3dzIHlvdSB0byBiYXRjaCBwb3N0IHdyaXRlIGNhbGxzLlxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xuICAgICAqL1xuICAgIHBvc3RXcml0ZShjYWxsYmFjaykge1xuICAgICAgICB3aW5kb3cuREVHVV9SQUZfUkVHSVNUUlkgJiZcbiAgICAgICAgICAgIHdpbmRvdy5ERUdVX1JBRl9SRUdJU1RSWS5hZGRPbmVUaW1lUG9zdFdyaXRlKHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgcmFmOiB0aGlzLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBwcm9ncmVzcyBsaXN0ZW5lci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufVxuICAgICAqL1xuICAgIHVud2F0Y2goY2FsbGJhY2tUb1JlbW92ZSkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IHRoaXMuY2FsbGJhY2tzLmZpbHRlcihjYWxsYmFjayA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sgPT09IGNhbGxiYWNrVG9SZW1vdmU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgZnVuY3Rpb24gdG8gZXhlY3V0ZSBvbiBlYWNoIHJhZiBsb29wLiAgSWYgdGhlIGNvbmRpdGlvbiByZXNvbHZlc1xuICAgICAqIHRvIHRydWUsIHRoZSByYWYgbG9vcCBjYWxsYmFja3Mgd2lsbCBiZSBleGVjdXRlZC4gIElmIGZhbHNlLCB0aGUgcmFmXG4gICAgICogbG9vcCBpcyBjdWxsZWQuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrQ29uZGl0aW9uXG4gICAgICovXG4gICAgcnVuV2hlbihjYWxsYmFja0NvbmRpdGlvbikge1xuICAgICAgICB0aGlzLnJ1bkNvbmRpdGlvbiA9IGNhbGxiYWNrQ29uZGl0aW9uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgeW91IHRvIHBhc3MgYW4gb3B0aW9uIHRvIHRlbGwgdGhpcyByYWYgdG8gZXhlY3V0ZSBvbmx5IHdoZW4gdGhlXG4gICAgICogZ2l2ZW4gZWxlbWVudCBpcyBpbiB0aGUgdmlld3BvcnQuICBPcHRpb25hbGx5IHBhc3MgaW50ZXJzZWN0aW9uIG9ic2VydmVyXG4gICAgICogb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIHN0aWxsIHJlcXVpcmVzIHlvdSB0byBzdGFydCB0aGUgcmFmLiAgWW91IGNhbiBkbyB0aGlzXG4gICAgICogd2l0aCB0aGUgcHJvbWlzZSB0aGF0IHRoZSBtZXRob2QgcmV0dXJucyAocmVzb2x2ZWQgd2hlbiBldiBpcyByZWFkeSlcbiAgICAgKiBvciBhdCBhIGxhdGVyIHRpbWUuXG4gICAgICpcbiAgICAgKiBOb3RlIGl0J3MgcmVjb21tZW5kZWQgdGhhdCB5b3UgYWRkIGEgcm9vdE1hcmdpbiB0byB5b3VyIGV2IHNldHRpbmdzXG4gICAgICogaWYgbmVlZCB0byBkbyBvZmZzY3JlZW4gcHJvY2Vzc2luZy5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIHZhciByYWYgPSBuZXcgUmFmKCgpPT4ge1xuICAgICAqICAgLi4uXG4gICAgICogfSlcbiAgICAgKlxuICAgICAqXG4gICAgICogLy8gU2V0IGVsZW1lbnQgYW5kIHJ1biB3aGVuIGl0J3MgcmVhZHkuXG4gICAgICogcmFmLnJ1bldoZW5FbGVtZW50SXNJbnZpZXcoXG4gICAgICogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJteWVsZW1lbnRcIiksXG4gICAgICogICAge1xuICAgICAqICAgICAgcm9vdE1hcmdpbjogJzMwMHB4IDBweCAzMDBweCAwcHgnXG4gICAgICogICAgfVxuICAgICAqICkudGhlbigoKT0+IHtcbiAgICAgKiAgICByYWYuc3RhcnQoKTtcbiAgICAgKiB9KVxuICAgICAqXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqL1xuICAgIHJ1bldoZW5FbGVtZW50SXNJbnZpZXcoZWxlbWVudCwgaW50ZXJzZWN0aW9uT2JzZXJ2ZXJPcHRpb25zKSB7XG4gICAgICAgIC8vIERpc3Bvc2Ugb2YgYW55IHByZXZpb3VzIGluc3RhbmNlcyBpZiB0aGlzIGlzIGJlaW5nIGNhbGxlZCBhIHNlY29uZFxuICAgICAgICAvLyB0aW1lLlxuICAgICAgICB0aGlzLmV2ICYmIHRoaXMuZXYuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnJ1bkNvbmRpdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuZXYgPSBlbGVtZW50VmlzaWJpbGl0eS5pbnZpZXcoZWxlbWVudCwgaW50ZXJzZWN0aW9uT2JzZXJ2ZXJPcHRpb25zIHx8IHt9KTtcbiAgICAgICAgLy8gU2V0IHRoZSBydW4gd2hlbiBjb25kaXRpb24uXG4gICAgICAgIHRoaXMucnVuV2hlbigoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldiAmJiB0aGlzLmV2LnN0YXRlKCkuaW52aWV3O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXYucmVhZHlQcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBmcHMgLlxuICAgICAqL1xuICAgIHNldEZwcyhmcHMpIHtcbiAgICAgICAgdGhpcy5mcHMgPSBmcHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0aGUgUkFGIGFuaW1hdGlvbiBsb29wLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gV2hldGhlciB0byBmb3JjZSBhIHN0YXJ0LlxuICAgICAqL1xuICAgIHN0YXJ0KGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCFmb3JjZSAmJiB0aGlzLmlzUGxheWluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gKHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gJ3VuZGVmaW5lZCcgPyBEYXRlIDogcGVyZm9ybWFuY2UpLm5vdygpO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbkxvb3BfKCk7XG4gICAgICAgIHRoaXMuaXNQbGF5aW5nID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIFJBRiBhbmltYXRpb24gbG9vcC5cbiAgICAgKi9cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLmlzUGxheWluZyA9IGZhbHNlO1xuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5yYWZfKTtcbiAgICAgICAgdGhpcy5pc1J1bm5pbmdSYWYgPSBmYWxzZTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5ldiAmJiB0aGlzLmV2LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcbiAgICAgICAgdGhpcy5pc0Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIC8vIERlcmVnaXN0ZXIgc2VsZiB0byBnbG9iYWwgcmVnaXN0cnkuXG4gICAgICAgIHdpbmRvdy5ERUdVX1JBRl9SRUdJU1RSWSAmJiB3aW5kb3cuREVHVV9SQUZfUkVHSVNUUlkudW5yZWdpc3Rlcih0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGVsdGEgaW4gbXMgYmV0d2VlbiB0aGUgbGFzdCBleGVjdXRlZCByYWYgdXBkYXRlLlxuICAgICAqIEBwYXJhbSBpblNlY29uZHMgV2hldGhlciB0byBhY3F1aXJlIHRoZSBkZWx0YSB0aW1lIGluIHNlY29uZHMuICBEZWZhdWx0c1xuICAgICAqICAgdG8gbXMuXG4gICAgICovXG4gICAgZ2V0RGVsdGEoaW5TZWNvbmRzKSB7XG4gICAgICAgIGlmIChpblNlY29uZHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlbHRhIC8gMTAwMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlbHRhO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGVsYXNwZWQgdGltZSBzaW5jZSByYWYgc3RhcnRlZC5cbiAgICAgKi9cbiAgICBnZXRFbGFwc2VkVGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxhc3BlZFRpbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHRpbWUgKERhdGUpIHdoZW4gcmFmIHN0YXJ0ZWQuXG4gICAgICovXG4gICAgZ2V0U3RhcnRUaW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGFydFRpbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGN1cnJlbnQgZnJhbWUgcmF0ZSB0aGF0IHJhZiBpcyBydW5uaW5nIGF0LiAgVXNlZnVsIGZvciBkZWJ1Z2dpbmcuXG4gICAgICovXG4gICAgZ2V0Q3VycmVudEZwcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEZwcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGludGVybmFsIGFuaW1hdGlvbiBsb29wLlxuICAgICAqL1xuICAgIGFuaW1hdGlvbkxvb3BfKCkge1xuICAgICAgICBpZiAodGhpcy5pc1J1bm5pbmdSYWYpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJhZl8gPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmcmFtZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IGZyYW1lO1xuICAgICAgICAgICAgdGhpcy5pc1J1bm5pbmdSYWYgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uTG9vcF8oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaXNSdW5uaW5nUmFmID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMubGFzdFVwZGF0ZVRpbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY29uc3QgZWxhcHNlZCA9IGN1cnJlbnQgLSB0aGlzLmxhc3RVcGRhdGVUaW1lO1xuICAgICAgICAgICAgdGhpcy5kZWx0YSA9IGVsYXBzZWQ7XG4gICAgICAgICAgICB0aGlzLmVsYXNwZWRUaW1lICs9IGVsYXBzZWQgLyAxMDAwO1xuICAgICAgICAgICAgY29uc3QgZnBzID0gdGhpcy5mcHMgPT09IDAgPyAwIDogMTAwMCAvIHRoaXMuZnBzO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50RnBzID0gMTAwMCAvIGVsYXBzZWQ7XG4gICAgICAgICAgICBpZiAoZWxhcHNlZCA+IGZwcykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLmZvckVhY2goY2FsbGJhY2sgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FsbENhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMuZnJhbWUsIHRoaXMubGFzdFVwZGF0ZVRpbWUsIGVsYXBzZWQsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucnVuQ29uZGl0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ydW5Db25kaXRpb24oKSAmJiBjYWxsQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RVcGRhdGVUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubGFzdFVwZGF0ZVRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdFVwZGF0ZVRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgaWRlYSBiZWhpbmQgdGhlIHJhZlJlZ2lzdHJ5IGlzIHRvIGJlIGFibGUgdG8gYmF0Y2ggcmVhZCBhbmQgd3JpdGVcbiAqIHJhZiBjYWxscyBzaW1pbGFyIHRvIGZhc3REb20gb3IgdG9vbEJveCBtdXRhdGUuXG4gKlxuICogSW4gb3JkZXIgdG8gYWNoaWV2ZSB0aGlzIHBlcmZvcm1hbmNlIGJvb3N0cywgcmVhZCBhbmQgd3JpdGUgY2FsbHMgbmVlZFxuICogdG8gYmUgZXhlY3V0ZWQgaW4gb3JkZXIgYW5kIHRoZXJlZm9yZSwgd2UgbmVlZCBhIHJlZ2lzdHJ5IHRvIG1haW50YWluXG4gKiBhbGwgcmFmIGluc3RhbmNlcyBvbiB0aGUgcGFnZS5cbiAqXG4gKiBXaGVuIGluc3RhbnRpYXRlZCwgZWFjaCBSQUYgYWRkcyBpdHNlbGYgdG8gdGhlIHJlZ2lzdHJ5IGFuZCBjYW4gYmUgcnVuIC8gc3RvcHBlZFxuICogbm9ybWFsbHkuXG4gKlxuICogV2l0aGluIGl0J3MgcmFmIGxvb3AsIGl0IGNhbiBjYWxsIGEgcmFmLnJlYWQoY2FsbGJhY2spOyByYWYud3JpdGUoY2FsbGJhY2spO1xuICogd2hpY2ggZW5kcyB1cCBnZXR0aW5nIGV4ZWN1dGVkIG9uIHRoZSBSYWZSZWdpc3RyeSBldmVudCBsb29wLlxuICpcbiAqIHJhZi5yZWFkKGNhbGxiYWNrKSBhbmQgcmFmLndyaXRlKGNhbGxiYWNrKSBhcmUgT05FLXRpbWUgc28gbXVzdCBiZSByZWNhbGxlZFxuICogb24gZWFjaCByYWYgbG9vcC4gIEl0IGlzIGJhc2ljYWxseSBzYXlpbmcsIHJlYWQgdGhpcyBvbiB0aGUgbmV4dCByYWYgbG9vcCBvbmNlXG4gKiBvciB3cml0ZSBpdCBvbiB0aGUgbmV4dCByYWYgbG9vcC5cbiAqXG4gKiBUbyB1c2UgdGhpcyBzeXN0ZW0sIHNpbXBseSB1c2UgYWRkIHJlYWQgYW5kIHdyaXRlIGNhbGxzIGluIHlvdXIgcmFmIGxvb3AuXG4gKlxuICpcbiAqIExpZmUgY3ljbGU6XG4gKiAtIHByZXJlYWRcbiAqIC0gcmVhZFxuICogLSB3cml0ZVxuICogLSBwb3N0V3JpdGVcbiAqXG4gKiBgYGBcbiAqIHZhciByYWYgPSBuZXcgUmFmKCgpPT4ge1xuICogICAgcmFmLnByZVJlYWQoKCk9PiB7XG4gKiAgICAgICAgdGhpcy5oZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodDtcbiAqICAgIH0pXG4gKlxuICogICAgcmFmLnJlYWQoKCk9PiB7XG4gKiAgICAgICAgdGhpcy5oZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodDtcbiAqICAgIH0pXG4gKlxuICogICAgcmFmLndyaXRlKCgpPT4ge1xuICogICAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAyMCArICdweCc7XG4gKiAgICB9KVxuICpcbiAqICAgIC8vIFNvbWV3aGF0IHJhcmUgYnV0IGV4ZWN1dGVkIGFmdGVyIGFsbCB3cml0ZXMuXG4gKiAgICByYWYucG9zdFdyaXRlKCgpPT4ge1xuICogICAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAyMCArICdweCc7XG4gKiAgICB9KVxuICogfSlcbiAqIGBgYFxuICpcbiAqXG4gKiBZb3UgbWF5IGFsc28gdG8gdXNlIHJhZi53cml0ZSBhbmQgcmFmLnJlYWQgb3V0c2lkZSBhXG4gKiByYWZMb29wLiAgSW4gdGhpcyBjYXNlLCB5b3UgY2FuIGp1c3QgcGFzcyBhIG51bGwgdG8gdGhlIGNvbnN0cnVjdG9yLlxuICpcbiAqIGBgYFxuICogdmFyIHJhZiA9IG5ldyBSYWYoKTtcbiAqXG4gKiAvLyBTb21ld2hlcmVcbiAqICByYWYucmVhZCgoKT0+IHtcbiAqICAgICAgdGhpcy5oZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodDtcbiAqICB9KVxuICpcbiAqXG4gKiAgcmFmLndyaXRlKCgpPT4ge1xuICogICAgICBlbGVtZW50LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgMjAgKyAncHgnO1xuICogIH0pXG4gKlxuICpcbiAqIGBgYFxuICpcbiAqL1xuY2xhc3MgUmFmUmVnaXN0cnkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmZsdXNoU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJlUmVhZHMgPSBbXTtcbiAgICAgICAgdGhpcy5yZWFkcyA9IFtdO1xuICAgICAgICB0aGlzLndyaXRlcyA9IFtdO1xuICAgICAgICB0aGlzLnBvc3RXcml0ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5yYWZzID0gW107XG4gICAgfVxuICAgIHN0YXRpYyBydW5SYWZDYWxsYmFja3MoY2FsbGJhY2tzKSB7XG4gICAgICAgIC8vIEtlZXAgY29uc2lzdGVudCBhcnJheXMgc28gdGhhdCBzY2hlZHVsZWQgZnVuY3Rpb24gY2FuIHNjaGVkdWxlXG4gICAgICAgIC8vIGFub3RoZXIgZnVuY3Rpb24gaW4gdGhlIHNhbWUgc3RlcC5cbiAgICAgICAgLy8gSW1wb3J0YW50IHNvIHRoYXQgYSByZWFkIGZ1bmN0aW9uIGNhbiBjYWxsIGFub3RoZXIgZnVuY3Rpb24gdGhhdFxuICAgICAgICAvLyBwcm90ZWN0cyBpdHNlbGYgaW4gaXRzIG93biByZWFkIGZ1bmN0aW9uLCBpbiBjYXNlIGl0IGlzIGNhbGxlZFxuICAgICAgICAvLyB0aHJvdWdoIGFub3RoZXIgY29kZSBleGVjdXRpb24gcGF0aC5cbiAgICAgICAgd2hpbGUgKGNhbGxiYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2lzdHJ5T2JqZWN0ID0gY2FsbGJhY2tzLnNwbGljZSgwLCAxKVswXTtcbiAgICAgICAgICAgIGlmICghcmVnaXN0cnlPYmplY3QucmFmLmlzRGlzcG9zZWQgJiZcbiAgICAgICAgICAgICAgICAocmVnaXN0cnlPYmplY3QucmFmLmlzUGxheWluZyB8fCByZWdpc3RyeU9iamVjdC5yYWYuaXNSZWFkV3JpdGVPbmx5KSkge1xuICAgICAgICAgICAgICAgIHJlZ2lzdHJ5T2JqZWN0LmNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLmZsdXNoU2NoZWR1bGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mbHVzaFNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJ1blJhZigpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcnVuUmFmKCkge1xuICAgICAgICAvLyBPcGVuIGNvbnNvbGUgYW5kIGFkZDpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gREVHVV9SQUZfUkVHSVNUUllfREVCVUcgPSB0cnVlO1xuICAgICAgICAvL1xuICAgICAgICBpZiAod2luZG93LkRFR1VfUkFGX1JFR0lTVFJZX0RFQlVHKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUnVubmluZyByYWYnLCB0aGlzLnJlYWRzLmxlbmd0aCwgdGhpcy53cml0ZXMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFeGVjdXRlIHByZVJlYWRzLlxuICAgICAgICBSYWZSZWdpc3RyeS5ydW5SYWZDYWxsYmFja3ModGhpcy5wcmVSZWFkcyk7XG4gICAgICAgIC8vIEV4ZWN1dGUgcmVhZHMuXG4gICAgICAgIFJhZlJlZ2lzdHJ5LnJ1blJhZkNhbGxiYWNrcyh0aGlzLnJlYWRzKTtcbiAgICAgICAgLy8gRXhlY3V0ZSB3cml0ZXMuXG4gICAgICAgIFJhZlJlZ2lzdHJ5LnJ1blJhZkNhbGxiYWNrcyh0aGlzLndyaXRlcyk7XG4gICAgICAgIC8vIEV4ZWN1dGUgcG9zdFdyaXRlcy5cbiAgICAgICAgUmFmUmVnaXN0cnkucnVuUmFmQ2FsbGJhY2tzKHRoaXMucG9zdFdyaXRlcyk7XG4gICAgICAgIHRoaXMuZmx1c2hTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMucHJlUmVhZHMubGVuZ3RoIHx8XG4gICAgICAgICAgICB0aGlzLnJlYWRzLmxlbmd0aCB8fFxuICAgICAgICAgICAgdGhpcy53cml0ZXMubGVuZ3RoIHx8XG4gICAgICAgICAgICB0aGlzLnBvc3RXcml0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgc2luZ2xlIGFkZE9uZVRpbWVQcmVSZWFkIHRvIHRoZSBiYXRjaCByZWFkIC8gd3JpdGUgc3lzdGVtLlxuICAgICAqIEBwYXJhbSByZWFkXG4gICAgICovXG4gICAgYWRkT25lVGltZVByZVJlYWQocmVhZCkge1xuICAgICAgICB0aGlzLnByZVJlYWRzLnB1c2gocmVhZCk7XG4gICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgc2luZ2xlIGFkZE9uZVRpbWVSZWFkIHRvIHRoZSBiYXRjaCByZWFkIC8gd3JpdGUgc3lzdGVtLlxuICAgICAqIEBwYXJhbSByZWFkXG4gICAgICovXG4gICAgYWRkT25lVGltZVJlYWQocmVhZCkge1xuICAgICAgICB0aGlzLnJlYWRzLnB1c2gocmVhZCk7XG4gICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgc2luZ2xlIGFkZE9uZVRpbWVXcml0ZSB0byB0aGUgYmF0Y2ggcmVhZCAvIHdyaXRlIHN5c3RlbS5cbiAgICAgKiBAcGFyYW0gcmVhZFxuICAgICAqL1xuICAgIGFkZE9uZVRpbWVXcml0ZSh3cml0ZSkge1xuICAgICAgICB0aGlzLndyaXRlcy5wdXNoKHdyaXRlKTtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBzaW5nbGUgYWRkT25lVGltZVdyaXRlIHRvIHRoZSBiYXRjaCByZWFkIC8gd3JpdGUgc3lzdGVtLlxuICAgICAqIEBwYXJhbSByZWFkXG4gICAgICovXG4gICAgYWRkT25lVGltZVBvc3RXcml0ZShwb3N0V3JpdGUpIHtcbiAgICAgICAgdGhpcy5wb3N0V3JpdGVzLnB1c2gocG9zdFdyaXRlKTtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBjb3VudCBvZiBhbGwgYWN0aXZlIHJhZnMuXG4gICAgICpcbiAgICAgKiBJbiBkZXYgY29uc29sZTpcbiAgICAgKiBgYGBcbiAgICAgKiBERUdVX1JBRl9SRUdJU1RSWS5nZXRBY3RpdmVSYWZDb3VudCgpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGdldEFjdGl2ZVJhZkNvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYWZzLmZpbHRlcihyID0+IHtcbiAgICAgICAgICAgIHJldHVybiByLmlzUGxheWluZztcbiAgICAgICAgfSkubGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBjb3VudCBvZiByYWZzLlxuICAgICAqXG4gICAgICogSW4gZGV2IGNvbnNvbGU6XG4gICAgICogYGBgXG4gICAgICogREVHVV9SQUZfUkVHSVNUUlkuZ2V0UmFmQ291bnQoKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBnZXRSYWZDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFmcy5sZW5ndGg7XG4gICAgfVxuICAgIHJlZ2lzdGVyKHJhZikge1xuICAgICAgICB0aGlzLnJhZnMucHVzaChyYWYpO1xuICAgIH1cbiAgICB1bnJlZ2lzdGVyKHJhZikge1xuICAgICAgICB0aGlzLnJhZnMgPSB0aGlzLnJhZnMuZmlsdGVyKHIgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHIgPT09IHJhZjtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8gQ3JlYXRlIHJhZiByZWdpc3RyeSBhcyBhIGdsb2JhbC5cbmlmICh3aW5kb3cgJiYgIXdpbmRvdy5ERUdVX1JBRl9SRUdJU1RSWSkge1xuICAgIHdpbmRvdy5ERUdVX1JBRl9SRUdJU1RSWSA9IG5ldyBSYWZSZWdpc3RyeSgpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmFmLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/raf/raf.js\n");

/***/ }),

/***/ "./lib/setf/setf.js":
/*!**************************!*\
  !*** ./lib/setf/setf.js ***!
  \**************************/
/*! exports provided: merge, setf */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"merge\", function() { return merge; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setf\", function() { return setf; });\n/**\n * Merge all of the given sets into a single set.\n */\nfunction merge(...sets) {\n    const result = new Set();\n    sets.forEach(set => {\n        set.forEach(value => {\n            result.add(value);\n        });\n    });\n    return result;\n}\nconst setf = {\n    merge,\n};\n//# sourceMappingURL=setf.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2V0Zi9zZXRmLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3NldGYvc2V0Zi5qcz8wMzRkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTWVyZ2UgYWxsIG9mIHRoZSBnaXZlbiBzZXRzIGludG8gYSBzaW5nbGUgc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UoLi4uc2V0cykge1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBTZXQoKTtcbiAgICBzZXRzLmZvckVhY2goc2V0ID0+IHtcbiAgICAgICAgc2V0LmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICAgICAgcmVzdWx0LmFkZCh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgY29uc3Qgc2V0ZiA9IHtcbiAgICBtZXJnZSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXRmLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/setf/setf.js\n");

/***/ }),

/***/ "./lib/shaders/three-shader-chunks/degu-mathf.js":
/*!*******************************************************!*\
  !*** ./lib/shaders/three-shader-chunks/degu-mathf.js ***!
  \*******************************************************/
/*! exports provided: deguMathf */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deguMathf\", function() { return deguMathf; });\n/**\n * Creates a 2d rotation matrix.\n *\n * mat2 mat = deguGetRotationMatrix(rotationInRadians);\n * vec2 rotatedPoint = mat * v_position.xy;\n *\n *    mat2          *      vec2.xy = new rotated position\n * --        ---         ---  --\n * |   c   -s  |    *    |   x  |  = new rotated position.\n * |   s    c  |         |   y  |\n * ---       ---         --    --\n *\n * For example:\n * rotation 0\n * sin(0) = 0, cos(0) = 1\n *  1   0         x      1*x + 0*x     x\n *  0   1    *    y   =  0*y + 1*y  =  y\n * rotation of zero has no effect.\n *\n *\n * rotation 180 degrees (3.14 radian)\n * sin(3.14) = 0, cos(3.14) = -1\n *  -1   0         x      -1*x + 0*x     -x\n *  0   -1    *    y   =  0*y + 1*-y  =  -y\n * rotation makes it 180 flipping x,y so it's correct.\n *\n */\nconst deguGet2dRotationMatrix = `\n   mat2 deguGet2dRotationMatrix(float theta) {\n    float s = sin(theta);\n    float c = cos(theta);\n    return mat2(c, -s, s, c);\n   }\n`;\n/*\n * Returns a mat2 scale matrix.\n *\n * mat2 scaleMat = deguGetScaleMatrix(1.5);\n * mat2 rotateMat = deguGetRotationMatrix(rotationInRadians);\n * vec2 scaledPoint = scaleMat * v_position.xy;\n * vec2 scaledAndRotatedPoint = scaleMat * rotateMat * v_position.xy;\n *\n */\nconst deguGet2dScaleMatrix = `\n  mat2 deguGetScaleMatrix(float scale) {\n      return mat2(scale, 0, 0, scale);\n  }\n`;\n/**\n * A 2d based rotation.\n * pt - The point of rotation\n * theta - the angle in radians\n * @return vec2\n *\n * vec2 myPoints = vec2(0,0.5);\n * // Rotate by 1 radian\n * vec2 rotatedPoints = deguRotate2d(myPoints, 1);\n *\n */\nconst deguRotate2d = `\n   vec2 deguRotate2d(vec2 pt, float theta) {\n       mat2 rotationMatrix = deguGet2dRotationMatrix(theta);\n       return rotationMatrix * pt;\n   }\n`;\n/**\n * Rotations an image.\n * https://www.udemy.com/course/learn-glsl-shaders-from-scratch/learn/lecture/13739174#questions\n * @see glsl-playground20.js for an example.\n * ```\n *   vec2 center = vec2(0.5);\n *   float imageAspect = 300.0 / 448.0;\n *   vec3 backgroundColor = vec3(0.0);\n *   vec3 color = deguRotate2dImage(\n *       u_texture, imageAspect, v_uv, center, u_time, backgroundColor);\n * ```\n */\nconst deguRotate2dImage = `\n   vec3 deguRotate2dImage(sampler2D texture, float aspect, vec2 uv, vec2 center, float theta, vec3 backgroundColor) {\n       // Adjust for the center point.\n       uv -= center;\n\n       mat2 rotationMatrix = deguGet2dRotationMatrix(theta);\n       // Go to square uv coordinates.\n       uv.y /= aspect;\n       // Conduct rotation.\n       uv = rotationMatrix * uv;\n       // Go back to whatever the aspect was.\n       uv.y *= aspect;\n\n       // Adjust back for the center point.\n       uv += center;\n\n       vec3 texel = texture2D(texture, uv).rgb;\n\n       // Determine if this point is within the bounds of the rectangle.\n       // If not, use the background color.\n       vec2 s = step(vec2(0.0), uv) - step(vec2(1.0), uv);\n       float t = s.x * s.y;\n\n       vec3 color = mix(backgroundColor, texel, t);\n\n       return color;\n   }\n`;\n/**\n * Sin returns values between -1 and 1 but we often want 0-1.\n * Allows you to run a normlized sin.  You can combine this\n * with mix to create sin waves of any given range.\n *\n * ```\n *  // These two are the same.\n *  float s = (sin(radians) + 1.0) / 2.0;\n *  float s = normalizedSin(radians);\n *\n * // Use normalized sin to shift values of sin.\n * // Make a sin wave of range -0.2, 0.2\n * float wave = mix(-0.2, 0.2, normalizedSin(currentRadian));\n * ```\n */\nconst normalizedSin = `\n  float normalizedSin(float radians) {\n    return (sin(radians) + 1.0) / 2.0;\n  }\n`;\n/**\n * Raycast algo.\n * @see  http://blog.ruofeidu.com/tutorial-of-ray-casting-ray-tracing-and-ray-marching/\n */\n// eslint-disable-next-line\nconst castRay = `\nbool castRay( const vec3 & ro, const vec3 & rd, float & resT )\n{\n    const float delt = 0.01f;\n    const float mint = 0.001f;\n    const float maxt = 10.0f;\n    for( float t = mint; t < maxt; t += delt )\n    {\n        const vec3 p = ro + rd*t;\n        if( p.y < f( p.x, p.z ) )\n        {\n            resT = t - 0.5f*delt;\n            return true;\n        }\n    }\n    return false;\n}\n`;\n/**\n * Common custom math functions for glsl.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst deguMathf = (three) => {\n    three.ShaderChunk.deguMathf = `\n  ${deguGet2dRotationMatrix}\n  ${deguGet2dScaleMatrix}\n  ${deguRotate2d}\n  ${deguRotate2dImage}\n  ${normalizedSin}\n`;\n};\n//# sourceMappingURL=degu-mathf.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2hhZGVycy90aHJlZS1zaGFkZXItY2h1bmtzL2RlZ3UtbWF0aGYuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvc2hhZGVycy90aHJlZS1zaGFkZXItY2h1bmtzL2RlZ3UtbWF0aGYuanM/YWI0OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZXMgYSAyZCByb3RhdGlvbiBtYXRyaXguXG4gKlxuICogbWF0MiBtYXQgPSBkZWd1R2V0Um90YXRpb25NYXRyaXgocm90YXRpb25JblJhZGlhbnMpO1xuICogdmVjMiByb3RhdGVkUG9pbnQgPSBtYXQgKiB2X3Bvc2l0aW9uLnh5O1xuICpcbiAqICAgIG1hdDIgICAgICAgICAgKiAgICAgIHZlYzIueHkgPSBuZXcgcm90YXRlZCBwb3NpdGlvblxuICogLS0gICAgICAgIC0tLSAgICAgICAgIC0tLSAgLS1cbiAqIHwgICBjICAgLXMgIHwgICAgKiAgICB8ICAgeCAgfCAgPSBuZXcgcm90YXRlZCBwb3NpdGlvbi5cbiAqIHwgICBzICAgIGMgIHwgICAgICAgICB8ICAgeSAgfFxuICogLS0tICAgICAgIC0tLSAgICAgICAgIC0tICAgIC0tXG4gKlxuICogRm9yIGV4YW1wbGU6XG4gKiByb3RhdGlvbiAwXG4gKiBzaW4oMCkgPSAwLCBjb3MoMCkgPSAxXG4gKiAgMSAgIDAgICAgICAgICB4ICAgICAgMSp4ICsgMCp4ICAgICB4XG4gKiAgMCAgIDEgICAgKiAgICB5ICAgPSAgMCp5ICsgMSp5ICA9ICB5XG4gKiByb3RhdGlvbiBvZiB6ZXJvIGhhcyBubyBlZmZlY3QuXG4gKlxuICpcbiAqIHJvdGF0aW9uIDE4MCBkZWdyZWVzICgzLjE0IHJhZGlhbilcbiAqIHNpbigzLjE0KSA9IDAsIGNvcygzLjE0KSA9IC0xXG4gKiAgLTEgICAwICAgICAgICAgeCAgICAgIC0xKnggKyAwKnggICAgIC14XG4gKiAgMCAgIC0xICAgICogICAgeSAgID0gIDAqeSArIDEqLXkgID0gIC15XG4gKiByb3RhdGlvbiBtYWtlcyBpdCAxODAgZmxpcHBpbmcgeCx5IHNvIGl0J3MgY29ycmVjdC5cbiAqXG4gKi9cbmNvbnN0IGRlZ3VHZXQyZFJvdGF0aW9uTWF0cml4ID0gYFxuICAgbWF0MiBkZWd1R2V0MmRSb3RhdGlvbk1hdHJpeChmbG9hdCB0aGV0YSkge1xuICAgIGZsb2F0IHMgPSBzaW4odGhldGEpO1xuICAgIGZsb2F0IGMgPSBjb3ModGhldGEpO1xuICAgIHJldHVybiBtYXQyKGMsIC1zLCBzLCBjKTtcbiAgIH1cbmA7XG4vKlxuICogUmV0dXJucyBhIG1hdDIgc2NhbGUgbWF0cml4LlxuICpcbiAqIG1hdDIgc2NhbGVNYXQgPSBkZWd1R2V0U2NhbGVNYXRyaXgoMS41KTtcbiAqIG1hdDIgcm90YXRlTWF0ID0gZGVndUdldFJvdGF0aW9uTWF0cml4KHJvdGF0aW9uSW5SYWRpYW5zKTtcbiAqIHZlYzIgc2NhbGVkUG9pbnQgPSBzY2FsZU1hdCAqIHZfcG9zaXRpb24ueHk7XG4gKiB2ZWMyIHNjYWxlZEFuZFJvdGF0ZWRQb2ludCA9IHNjYWxlTWF0ICogcm90YXRlTWF0ICogdl9wb3NpdGlvbi54eTtcbiAqXG4gKi9cbmNvbnN0IGRlZ3VHZXQyZFNjYWxlTWF0cml4ID0gYFxuICBtYXQyIGRlZ3VHZXRTY2FsZU1hdHJpeChmbG9hdCBzY2FsZSkge1xuICAgICAgcmV0dXJuIG1hdDIoc2NhbGUsIDAsIDAsIHNjYWxlKTtcbiAgfVxuYDtcbi8qKlxuICogQSAyZCBiYXNlZCByb3RhdGlvbi5cbiAqIHB0IC0gVGhlIHBvaW50IG9mIHJvdGF0aW9uXG4gKiB0aGV0YSAtIHRoZSBhbmdsZSBpbiByYWRpYW5zXG4gKiBAcmV0dXJuIHZlYzJcbiAqXG4gKiB2ZWMyIG15UG9pbnRzID0gdmVjMigwLDAuNSk7XG4gKiAvLyBSb3RhdGUgYnkgMSByYWRpYW5cbiAqIHZlYzIgcm90YXRlZFBvaW50cyA9IGRlZ3VSb3RhdGUyZChteVBvaW50cywgMSk7XG4gKlxuICovXG5jb25zdCBkZWd1Um90YXRlMmQgPSBgXG4gICB2ZWMyIGRlZ3VSb3RhdGUyZCh2ZWMyIHB0LCBmbG9hdCB0aGV0YSkge1xuICAgICAgIG1hdDIgcm90YXRpb25NYXRyaXggPSBkZWd1R2V0MmRSb3RhdGlvbk1hdHJpeCh0aGV0YSk7XG4gICAgICAgcmV0dXJuIHJvdGF0aW9uTWF0cml4ICogcHQ7XG4gICB9XG5gO1xuLyoqXG4gKiBSb3RhdGlvbnMgYW4gaW1hZ2UuXG4gKiBodHRwczovL3d3dy51ZGVteS5jb20vY291cnNlL2xlYXJuLWdsc2wtc2hhZGVycy1mcm9tLXNjcmF0Y2gvbGVhcm4vbGVjdHVyZS8xMzczOTE3NCNxdWVzdGlvbnNcbiAqIEBzZWUgZ2xzbC1wbGF5Z3JvdW5kMjAuanMgZm9yIGFuIGV4YW1wbGUuXG4gKiBgYGBcbiAqICAgdmVjMiBjZW50ZXIgPSB2ZWMyKDAuNSk7XG4gKiAgIGZsb2F0IGltYWdlQXNwZWN0ID0gMzAwLjAgLyA0NDguMDtcbiAqICAgdmVjMyBiYWNrZ3JvdW5kQ29sb3IgPSB2ZWMzKDAuMCk7XG4gKiAgIHZlYzMgY29sb3IgPSBkZWd1Um90YXRlMmRJbWFnZShcbiAqICAgICAgIHVfdGV4dHVyZSwgaW1hZ2VBc3BlY3QsIHZfdXYsIGNlbnRlciwgdV90aW1lLCBiYWNrZ3JvdW5kQ29sb3IpO1xuICogYGBgXG4gKi9cbmNvbnN0IGRlZ3VSb3RhdGUyZEltYWdlID0gYFxuICAgdmVjMyBkZWd1Um90YXRlMmRJbWFnZShzYW1wbGVyMkQgdGV4dHVyZSwgZmxvYXQgYXNwZWN0LCB2ZWMyIHV2LCB2ZWMyIGNlbnRlciwgZmxvYXQgdGhldGEsIHZlYzMgYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgLy8gQWRqdXN0IGZvciB0aGUgY2VudGVyIHBvaW50LlxuICAgICAgIHV2IC09IGNlbnRlcjtcblxuICAgICAgIG1hdDIgcm90YXRpb25NYXRyaXggPSBkZWd1R2V0MmRSb3RhdGlvbk1hdHJpeCh0aGV0YSk7XG4gICAgICAgLy8gR28gdG8gc3F1YXJlIHV2IGNvb3JkaW5hdGVzLlxuICAgICAgIHV2LnkgLz0gYXNwZWN0O1xuICAgICAgIC8vIENvbmR1Y3Qgcm90YXRpb24uXG4gICAgICAgdXYgPSByb3RhdGlvbk1hdHJpeCAqIHV2O1xuICAgICAgIC8vIEdvIGJhY2sgdG8gd2hhdGV2ZXIgdGhlIGFzcGVjdCB3YXMuXG4gICAgICAgdXYueSAqPSBhc3BlY3Q7XG5cbiAgICAgICAvLyBBZGp1c3QgYmFjayBmb3IgdGhlIGNlbnRlciBwb2ludC5cbiAgICAgICB1diArPSBjZW50ZXI7XG5cbiAgICAgICB2ZWMzIHRleGVsID0gdGV4dHVyZTJEKHRleHR1cmUsIHV2KS5yZ2I7XG5cbiAgICAgICAvLyBEZXRlcm1pbmUgaWYgdGhpcyBwb2ludCBpcyB3aXRoaW4gdGhlIGJvdW5kcyBvZiB0aGUgcmVjdGFuZ2xlLlxuICAgICAgIC8vIElmIG5vdCwgdXNlIHRoZSBiYWNrZ3JvdW5kIGNvbG9yLlxuICAgICAgIHZlYzIgcyA9IHN0ZXAodmVjMigwLjApLCB1dikgLSBzdGVwKHZlYzIoMS4wKSwgdXYpO1xuICAgICAgIGZsb2F0IHQgPSBzLnggKiBzLnk7XG5cbiAgICAgICB2ZWMzIGNvbG9yID0gbWl4KGJhY2tncm91bmRDb2xvciwgdGV4ZWwsIHQpO1xuXG4gICAgICAgcmV0dXJuIGNvbG9yO1xuICAgfVxuYDtcbi8qKlxuICogU2luIHJldHVybnMgdmFsdWVzIGJldHdlZW4gLTEgYW5kIDEgYnV0IHdlIG9mdGVuIHdhbnQgMC0xLlxuICogQWxsb3dzIHlvdSB0byBydW4gYSBub3JtbGl6ZWQgc2luLiAgWW91IGNhbiBjb21iaW5lIHRoaXNcbiAqIHdpdGggbWl4IHRvIGNyZWF0ZSBzaW4gd2F2ZXMgb2YgYW55IGdpdmVuIHJhbmdlLlxuICpcbiAqIGBgYFxuICogIC8vIFRoZXNlIHR3byBhcmUgdGhlIHNhbWUuXG4gKiAgZmxvYXQgcyA9IChzaW4ocmFkaWFucykgKyAxLjApIC8gMi4wO1xuICogIGZsb2F0IHMgPSBub3JtYWxpemVkU2luKHJhZGlhbnMpO1xuICpcbiAqIC8vIFVzZSBub3JtYWxpemVkIHNpbiB0byBzaGlmdCB2YWx1ZXMgb2Ygc2luLlxuICogLy8gTWFrZSBhIHNpbiB3YXZlIG9mIHJhbmdlIC0wLjIsIDAuMlxuICogZmxvYXQgd2F2ZSA9IG1peCgtMC4yLCAwLjIsIG5vcm1hbGl6ZWRTaW4oY3VycmVudFJhZGlhbikpO1xuICogYGBgXG4gKi9cbmNvbnN0IG5vcm1hbGl6ZWRTaW4gPSBgXG4gIGZsb2F0IG5vcm1hbGl6ZWRTaW4oZmxvYXQgcmFkaWFucykge1xuICAgIHJldHVybiAoc2luKHJhZGlhbnMpICsgMS4wKSAvIDIuMDtcbiAgfVxuYDtcbi8qKlxuICogUmF5Y2FzdCBhbGdvLlxuICogQHNlZSAgaHR0cDovL2Jsb2cucnVvZmVpZHUuY29tL3R1dG9yaWFsLW9mLXJheS1jYXN0aW5nLXJheS10cmFjaW5nLWFuZC1yYXktbWFyY2hpbmcvXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuY29uc3QgY2FzdFJheSA9IGBcbmJvb2wgY2FzdFJheSggY29uc3QgdmVjMyAmIHJvLCBjb25zdCB2ZWMzICYgcmQsIGZsb2F0ICYgcmVzVCApXG57XG4gICAgY29uc3QgZmxvYXQgZGVsdCA9IDAuMDFmO1xuICAgIGNvbnN0IGZsb2F0IG1pbnQgPSAwLjAwMWY7XG4gICAgY29uc3QgZmxvYXQgbWF4dCA9IDEwLjBmO1xuICAgIGZvciggZmxvYXQgdCA9IG1pbnQ7IHQgPCBtYXh0OyB0ICs9IGRlbHQgKVxuICAgIHtcbiAgICAgICAgY29uc3QgdmVjMyBwID0gcm8gKyByZCp0O1xuICAgICAgICBpZiggcC55IDwgZiggcC54LCBwLnogKSApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc1QgPSB0IC0gMC41ZipkZWx0O1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuYDtcbi8qKlxuICogQ29tbW9uIGN1c3RvbSBtYXRoIGZ1bmN0aW9ucyBmb3IgZ2xzbC5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBjb25zdCBkZWd1TWF0aGYgPSAodGhyZWUpID0+IHtcbiAgICB0aHJlZS5TaGFkZXJDaHVuay5kZWd1TWF0aGYgPSBgXG4gICR7ZGVndUdldDJkUm90YXRpb25NYXRyaXh9XG4gICR7ZGVndUdldDJkU2NhbGVNYXRyaXh9XG4gICR7ZGVndVJvdGF0ZTJkfVxuICAke2RlZ3VSb3RhdGUyZEltYWdlfVxuICAke25vcm1hbGl6ZWRTaW59XG5gO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZ3UtbWF0aGYuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/shaders/three-shader-chunks/degu-mathf.js\n");

/***/ }),

/***/ "./lib/shaders/three-shader-chunks/noise.js":
/*!**************************************************!*\
  !*** ./lib/shaders/three-shader-chunks/noise.js ***!
  \**************************************************/
/*! exports provided: noise */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"noise\", function() { return noise; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n\nconst noise = () => {\n    three__WEBPACK_IMPORTED_MODULE_0__[\"ShaderChunk\"].noise = `\n  //\n  // Description : Array and textureless GLSL 2D/3D/4D simplex\n  //               noise functions.\n  //      Author : Ian McEwan, Ashima Arts.\n  //  Maintainer : stegu\n  //     Lastmod : 20110822 (ijm)\n  //     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n  //               Distributed under the MIT License. See LICENSE file.\n  //               https://github.com/ashima/webgl-noise\n  //               https://github.com/stegu/webgl-noise\n  //\n\n  vec3 mod289(vec3 x) {\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n  }\n\n  vec4 mod289(vec4 x) {\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n  }\n\n  vec4 permute(vec4 x) {\n       return mod289(((x*34.0)+1.0)*x);\n  }\n\n  // Permutation polynomial (ring size 289 = 17*17)\n  vec3 permute(vec3 x) {\n    return mod289(((x*34.0)+1.0)*x);\n  }\n\n  float permute(float x){\n      return x - floor(x * (1.0 / 289.0)) * 289.0;;\n  }\n\n  vec4 taylorInvSqrt(vec4 r){\n    return 1.79284291400159 - 0.85373472095314 * r;\n  }\n\n  vec2 fade(vec2 t) {\n    return t*t*t*(t*(t*6.0-15.0)+10.0);\n  }\n\n  vec3 fade(vec3 t) {\n    return t*t*t*(t*(t*6.0-15.0)+10.0);\n  }\n\n  // Hashed 2-D gradients with an extra rotation.\n  // (The constant 0.0243902439 is 1/41)\n  vec2 rgrad2(vec2 p, float rot) {\n  #if 0\n  // Map from a line to a diamond such that a shift maps to a rotation.\n    float u = permute(permute(p.x) + p.y) * 0.0243902439 + rot; // Rotate by shift\n    u = 4.0 * fract(u) - 2.0;\n    // (This vector could be normalized, exactly or approximately.)\n    return vec2(abs(u)-1.0, abs(abs(u+1.0)-2.0)-1.0);\n  #else\n  // For more isotropic gradients, sin/cos can be used instead.\n    float u = permute(permute(p.x) + p.y) * 0.0243902439 + rot; // Rotate by shift\n    u = fract(u) * 6.28318530718; // 2*pi\n    return vec2(cos(u), sin(u));\n  #endif\n  }\n\n  float snoise(vec3 v){\n    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n  // First corner\n    vec3 i  = floor(v + dot(v, C.yyy) );\n    vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n  // Other corners\n    vec3 g = step(x0.yzx, x0.xyz);\n    vec3 l = 1.0 - g;\n    vec3 i1 = min( g.xyz, l.zxy );\n    vec3 i2 = max( g.xyz, l.zxy );\n\n    //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n    //   x1 = x0 - i1  + 1.0 * C.xxx;\n    //   x2 = x0 - i2  + 2.0 * C.xxx;\n    //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n    vec3 x1 = x0 - i1 + C.xxx;\n    vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n    vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n  // Permutations\n    i = mod289(i);\n    vec4 p = permute( permute( permute(\n               i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n             + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n             + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n  // Gradients: 7x7 points over a square, mapped onto an octahedron.\n  // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n    float n_ = 0.142857142857; // 1.0/7.0\n    vec3  ns = n_ * D.wyz - D.xzx;\n\n    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n    vec4 x_ = floor(j * ns.z);\n    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n    vec4 x = x_ *ns.x + ns.yyyy;\n    vec4 y = y_ *ns.x + ns.yyyy;\n    vec4 h = 1.0 - abs(x) - abs(y);\n\n    vec4 b0 = vec4( x.xy, y.xy );\n    vec4 b1 = vec4( x.zw, y.zw );\n\n    //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n    //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n    vec4 s0 = floor(b0)*2.0 + 1.0;\n    vec4 s1 = floor(b1)*2.0 + 1.0;\n    vec4 sh = -step(h, vec4(0.0));\n\n    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n    vec3 p0 = vec3(a0.xy,h.x);\n    vec3 p1 = vec3(a0.zw,h.y);\n    vec3 p2 = vec3(a1.xy,h.z);\n    vec3 p3 = vec3(a1.zw,h.w);\n\n  //Normalise gradients\n    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n    p0 *= norm.x;\n    p1 *= norm.y;\n    p2 *= norm.z;\n    p3 *= norm.w;\n\n  // Mix final noise value\n    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n    m = m * m;\n    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                  dot(p2,x2), dot(p3,x3) ) );\n    }\n\n  // Classic Perlin noise\n  float cnoise(vec2 P){\n    vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n    vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n    Pi = mod289(Pi); // To avoid truncation effects in permutation\n    vec4 ix = Pi.xzxz;\n    vec4 iy = Pi.yyww;\n    vec4 fx = Pf.xzxz;\n    vec4 fy = Pf.yyww;\n\n    vec4 i = permute(permute(ix) + iy);\n\n    vec4 gx = fract(i * (1.0 / 41.0)) * 2.0 - 1.0 ;\n    vec4 gy = abs(gx) - 0.5 ;\n    vec4 tx = floor(gx + 0.5);\n    gx = gx - tx;\n\n    vec2 g00 = vec2(gx.x,gy.x);\n    vec2 g10 = vec2(gx.y,gy.y);\n    vec2 g01 = vec2(gx.z,gy.z);\n    vec2 g11 = vec2(gx.w,gy.w);\n\n    vec4 norm = taylorInvSqrt(vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11)));\n    g00 *= norm.x;\n    g01 *= norm.y;\n    g10 *= norm.z;\n    g11 *= norm.w;\n\n    float n00 = dot(g00, vec2(fx.x, fy.x));\n    float n10 = dot(g10, vec2(fx.y, fy.y));\n    float n01 = dot(g01, vec2(fx.z, fy.z));\n    float n11 = dot(g11, vec2(fx.w, fy.w));\n\n    vec2 fade_xy = fade(Pf.xy);\n    vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n    float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n    return 2.3 * n_xy;\n  }\n\n  // Classic Perlin noise, periodic variant\n  float pnoise(vec2 P, vec2 rep){\n    vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n    vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n    Pi = mod(Pi, rep.xyxy); // To create noise with explicit period\n    Pi = mod289(Pi);        // To avoid truncation effects in permutation\n    vec4 ix = Pi.xzxz;\n    vec4 iy = Pi.yyww;\n    vec4 fx = Pf.xzxz;\n    vec4 fy = Pf.yyww;\n\n    vec4 i = permute(permute(ix) + iy);\n\n    vec4 gx = fract(i * (1.0 / 41.0)) * 2.0 - 1.0 ;\n    vec4 gy = abs(gx) - 0.5 ;\n    vec4 tx = floor(gx + 0.5);\n    gx = gx - tx;\n\n    vec2 g00 = vec2(gx.x,gy.x);\n    vec2 g10 = vec2(gx.y,gy.y);\n    vec2 g01 = vec2(gx.z,gy.z);\n    vec2 g11 = vec2(gx.w,gy.w);\n\n    vec4 norm = taylorInvSqrt(vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11)));\n    g00 *= norm.x;\n    g01 *= norm.y;\n    g10 *= norm.z;\n    g11 *= norm.w;\n\n    float n00 = dot(g00, vec2(fx.x, fy.x));\n    float n10 = dot(g10, vec2(fx.y, fy.y));\n    float n01 = dot(g01, vec2(fx.z, fy.z));\n    float n11 = dot(g11, vec2(fx.w, fy.w));\n\n    vec2 fade_xy = fade(Pf.xy);\n    vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n    float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n    return 2.3 * n_xy;\n  }\n  // Classic Perlin noise\n  float cnoise(vec3 P)\n  {\n    vec3 Pi0 = floor(P); // Integer part for indexing\n    vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n    Pi0 = mod289(Pi0);\n    Pi1 = mod289(Pi1);\n    vec3 Pf0 = fract(P); // Fractional part for interpolation\n    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n    vec4 iy = vec4(Pi0.yy, Pi1.yy);\n    vec4 iz0 = Pi0.zzzz;\n    vec4 iz1 = Pi1.zzzz;\n\n    vec4 ixy = permute(permute(ix) + iy);\n    vec4 ixy0 = permute(ixy + iz0);\n    vec4 ixy1 = permute(ixy + iz1);\n\n    vec4 gx0 = ixy0 * (1.0 / 7.0);\n    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n    gx0 = fract(gx0);\n    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n    vec4 sz0 = step(gz0, vec4(0.0));\n    gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n    gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n    vec4 gx1 = ixy1 * (1.0 / 7.0);\n    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n    gx1 = fract(gx1);\n    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n    vec4 sz1 = step(gz1, vec4(0.0));\n    gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n    gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n    vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n    vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n    vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n    vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n    vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n    vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n    vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n    vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n    g000 *= norm0.x;\n    g010 *= norm0.y;\n    g100 *= norm0.z;\n    g110 *= norm0.w;\n    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n    g001 *= norm1.x;\n    g011 *= norm1.y;\n    g101 *= norm1.z;\n    g111 *= norm1.w;\n\n    float n000 = dot(g000, Pf0);\n    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n    float n111 = dot(g111, Pf1);\n\n    vec3 fade_xyz = fade(Pf0);\n    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n    return 2.2 * n_xyz;\n  }\n\n  // Classic Perlin noise, periodic variant\n  float pnoise(vec3 P, vec3 rep)\n  {\n    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period\n    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period\n    Pi0 = mod289(Pi0);\n    Pi1 = mod289(Pi1);\n    vec3 Pf0 = fract(P); // Fractional part for interpolation\n    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n    vec4 iy = vec4(Pi0.yy, Pi1.yy);\n    vec4 iz0 = Pi0.zzzz;\n    vec4 iz1 = Pi1.zzzz;\n\n    vec4 ixy = permute(permute(ix) + iy);\n    vec4 ixy0 = permute(ixy + iz0);\n    vec4 ixy1 = permute(ixy + iz1);\n\n    vec4 gx0 = ixy0 * (1.0 / 7.0);\n    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n    gx0 = fract(gx0);\n    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n    vec4 sz0 = step(gz0, vec4(0.0));\n    gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n    gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n    vec4 gx1 = ixy1 * (1.0 / 7.0);\n    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n    gx1 = fract(gx1);\n    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n    vec4 sz1 = step(gz1, vec4(0.0));\n    gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n    gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n    vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n    vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n    vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n    vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n    vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n    vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n    vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n    vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n    g000 *= norm0.x;\n    g010 *= norm0.y;\n    g100 *= norm0.z;\n    g110 *= norm0.w;\n    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n    g001 *= norm1.x;\n    g011 *= norm1.y;\n    g101 *= norm1.z;\n    g111 *= norm1.w;\n\n    float n000 = dot(g000, Pf0);\n    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n    float n111 = dot(g111, Pf1);\n\n    vec3 fade_xyz = fade(Pf0);\n    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n    return 2.2 * n_xyz;\n  }\n\n  float turbulence( vec3 p ) {\n    float w = 100.0;\n    float t = -.5;\n\n    for (float f = 1.0 ; f <= 10.0 ; f++ ){\n      float power = pow( 2.0, f );\n      t += abs( pnoise( vec3( power * p ), vec3( 10.0, 10.0, 10.0 ) ) / power );\n    }\n\n    return t;\n  }\n\n  float turbulence3( vec3 p ) {\n    float w = 100.0;\n    float t = -.5;\n\n    for (float f = 1.0 ; f <= 3.0 ; f++ ){\n      float power = pow( 2.0, f );\n      t += abs( pnoise( vec3( power * p ), vec3( 3.0, 3.0, 3.0 ) ) / power );\n    }\n\n    return t;\n  }\n\n  float turbulence6( vec3 p ) {\n    float w = 100.0;\n    float t = -.5;\n\n    for (float f = 1.0 ; f <= 6.0 ; f++ ){\n      float power = pow( 2.0, f );\n      t += abs( pnoise( vec3( power * p ), vec3( 6.0, 6.0, 6.0 ) ) / power );\n    }\n\n    return t;\n  }\n\n  //\n  // 2-D tiling simplex noise with rotating gradients and analytical derivative.\n  // The first component of the 3-element return vector is the noise value,\n  // and the second and third components are the x and y partial derivatives.\n  //\n  vec3 psrdnoise(vec2 pos, vec2 per, float rot) {\n    // Hack: offset y slightly to hide some rare artifacts\n    pos.y += 0.01;\n    // Skew to hexagonal grid\n    vec2 uv = vec2(pos.x + pos.y*0.5, pos.y);\n\n    vec2 i0 = floor(uv);\n    vec2 f0 = fract(uv);\n    // Traversal order\n    vec2 i1 = (f0.x > f0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n\n    // Unskewed grid points in (x,y) space\n    vec2 p0 = vec2(i0.x - i0.y * 0.5, i0.y);\n    vec2 p1 = vec2(p0.x + i1.x - i1.y * 0.5, p0.y + i1.y);\n    vec2 p2 = vec2(p0.x + 0.5, p0.y + 1.0);\n\n    // Integer grid point indices in (u,v) space\n    i1 = i0 + i1;\n    vec2 i2 = i0 + vec2(1.0, 1.0);\n\n    // Vectors in unskewed (x,y) coordinates from\n    // each of the simplex corners to the evaluation point\n    vec2 d0 = pos - p0;\n    vec2 d1 = pos - p1;\n    vec2 d2 = pos - p2;\n\n    // Wrap i0, i1 and i2 to the desired period before gradient hashing:\n    // wrap points in (x,y), map to (u,v)\n    vec3 xw = mod(vec3(p0.x, p1.x, p2.x), per.x);\n    vec3 yw = mod(vec3(p0.y, p1.y, p2.y), per.y);\n    vec3 iuw = xw + 0.5 * yw;\n    vec3 ivw = yw;\n\n    // Create gradients from indices\n    vec2 g0 = rgrad2(vec2(iuw.x, ivw.x), rot);\n    vec2 g1 = rgrad2(vec2(iuw.y, ivw.y), rot);\n    vec2 g2 = rgrad2(vec2(iuw.z, ivw.z), rot);\n\n    // Gradients dot vectors to corresponding corners\n    // (The derivatives of this are simply the gradients)\n    vec3 w = vec3(dot(g0, d0), dot(g1, d1), dot(g2, d2));\n\n    // Radial weights from corners\n    // 0.8 is the square of 2/sqrt(5), the distance from\n    // a grid point to the nearest simplex boundary\n    vec3 t = 0.8 - vec3(dot(d0, d0), dot(d1, d1), dot(d2, d2));\n\n    // Partial derivatives for analytical gradient computation\n    vec3 dtdx = -2.0 * vec3(d0.x, d1.x, d2.x);\n    vec3 dtdy = -2.0 * vec3(d0.y, d1.y, d2.y);\n\n    // Set influence of each surflet to zero outside radius sqrt(0.8)\n    if (t.x < 0.0) {\n      dtdx.x = 0.0;\n      dtdy.x = 0.0;\n      t.x = 0.0;\n    }\n    if (t.y < 0.0) {\n      dtdx.y = 0.0;\n      dtdy.y = 0.0;\n      t.y = 0.0;\n    }\n    if (t.z < 0.0) {\n      dtdx.z = 0.0;\n      dtdy.z = 0.0;\n      t.z = 0.0;\n    }\n\n    // Fourth power of t (and third power for derivative)\n    vec3 t2 = t * t;\n    vec3 t4 = t2 * t2;\n    vec3 t3 = t2 * t;\n\n    // Final noise value is:\n    // sum of ((radial weights) times (gradient dot vector from corner))\n    float n = dot(t4, w);\n\n    // Final analytical derivative (gradient of a sum of scalar products)\n    vec2 dt0 = vec2(dtdx.x, dtdy.x) * 4.0 * t3.x;\n    vec2 dn0 = t4.x * g0 + dt0 * w.x;\n    vec2 dt1 = vec2(dtdx.y, dtdy.y) * 4.0 * t3.y;\n    vec2 dn1 = t4.y * g1 + dt1 * w.y;\n    vec2 dt2 = vec2(dtdx.z, dtdy.z) * 4.0 * t3.z;\n    vec2 dn2 = t4.z * g2 + dt2 * w.z;\n\n    return 11.0*vec3(n, dn0 + dn1 + dn2);\n  }\n\n  //\n  // 2-D tiling simplex noise with fixed gradients\n  // and analytical derivative.\n  // This function is implemented as a wrapper to \"psrdnoise\",\n  // at the minimal cost of three extra additions.\n  //\n  vec3 psdnoise(vec2 pos, vec2 per) {\n    return psrdnoise(pos, per, 0.0);\n  }\n\n  //\n  // 2-D tiling simplex noise with rotating gradients,\n  // but without the analytical derivative.\n  //\n  float psrnoise(vec2 pos, vec2 per, float rot) {\n    // Offset y slightly to hide some rare artifacts\n    pos.y += 0.001;\n    // Skew to hexagonal grid\n    vec2 uv = vec2(pos.x + pos.y*0.5, pos.y);\n\n    vec2 i0 = floor(uv);\n    vec2 f0 = fract(uv);\n    // Traversal order\n    vec2 i1 = (f0.x > f0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n\n    // Unskewed grid points in (x,y) space\n    vec2 p0 = vec2(i0.x - i0.y * 0.5, i0.y);\n    vec2 p1 = vec2(p0.x + i1.x - i1.y * 0.5, p0.y + i1.y);\n    vec2 p2 = vec2(p0.x + 0.5, p0.y + 1.0);\n\n    // Integer grid point indices in (u,v) space\n    i1 = i0 + i1;\n    vec2 i2 = i0 + vec2(1.0, 1.0);\n\n    // Vectors in unskewed (x,y) coordinates from\n    // each of the simplex corners to the evaluation point\n    vec2 d0 = pos - p0;\n    vec2 d1 = pos - p1;\n    vec2 d2 = pos - p2;\n\n    // Wrap i0, i1 and i2 to the desired period before gradient hashing:\n    // wrap points in (x,y), map to (u,v)\n    vec3 xw = mod(vec3(p0.x, p1.x, p2.x), per.x);\n    vec3 yw = mod(vec3(p0.y, p1.y, p2.y), per.y);\n    vec3 iuw = xw + 0.5 * yw;\n    vec3 ivw = yw;\n\n    // Create gradients from indices\n    vec2 g0 = rgrad2(vec2(iuw.x, ivw.x), rot);\n    vec2 g1 = rgrad2(vec2(iuw.y, ivw.y), rot);\n    vec2 g2 = rgrad2(vec2(iuw.z, ivw.z), rot);\n\n    // Gradients dot vectors to corresponding corners\n    // (The derivatives of this are simply the gradients)\n    vec3 w = vec3(dot(g0, d0), dot(g1, d1), dot(g2, d2));\n\n    // Radial weights from corners\n    // 0.8 is the square of 2/sqrt(5), the distance from\n    // a grid point to the nearest simplex boundary\n    vec3 t = 0.8 - vec3(dot(d0, d0), dot(d1, d1), dot(d2, d2));\n\n    // Set influence of each surflet to zero outside radius sqrt(0.8)\n    t = max(t, 0.0);\n\n    // Fourth power of t\n    vec3 t2 = t * t;\n    vec3 t4 = t2 * t2;\n\n    // Final noise value is:\n    // sum of ((radial weights) times (gradient dot vector from corner))\n    float n = dot(t4, w);\n\n    // Rescale to cover the range [-1,1] reasonably well\n    return 11.0*n;\n  }\n\n  //\n  // 2-D tiling simplex noise with fixed gradients,\n  // without the analytical derivative.\n  // This function is implemented as a wrapper to \"psrnoise\",\n  // at the minimal cost of three extra additions.\n  //\n  float psnoise(vec2 pos, vec2 per) {\n    return psrnoise(pos, per, 0.0);\n  }\n\n  //\n  // 2-D non-tiling simplex noise with rotating gradients and analytical derivative.\n  // The first component of the 3-element return vector is the noise value,\n  // and the second and third components are the x and y partial derivatives.\n  //\n  vec3 srdnoise(vec2 pos, float rot) {\n    // Offset y slightly to hide some rare artifacts\n    pos.y += 0.001;\n    // Skew to hexagonal grid\n    vec2 uv = vec2(pos.x + pos.y*0.5, pos.y);\n\n    vec2 i0 = floor(uv);\n    vec2 f0 = fract(uv);\n    // Traversal order\n    vec2 i1 = (f0.x > f0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n\n    // Unskewed grid points in (x,y) space\n    vec2 p0 = vec2(i0.x - i0.y * 0.5, i0.y);\n    vec2 p1 = vec2(p0.x + i1.x - i1.y * 0.5, p0.y + i1.y);\n    vec2 p2 = vec2(p0.x + 0.5, p0.y + 1.0);\n\n    // Integer grid point indices in (u,v) space\n    i1 = i0 + i1;\n    vec2 i2 = i0 + vec2(1.0, 1.0);\n\n    // Vectors in unskewed (x,y) coordinates from\n    // each of the simplex corners to the evaluation point\n    vec2 d0 = pos - p0;\n    vec2 d1 = pos - p1;\n    vec2 d2 = pos - p2;\n\n    vec3 x = vec3(p0.x, p1.x, p2.x);\n    vec3 y = vec3(p0.y, p1.y, p2.y);\n    vec3 iuw = x + 0.5 * y;\n    vec3 ivw = y;\n\n    // Avoid precision issues in permutation\n    iuw = mod289(iuw);\n    ivw = mod289(ivw);\n\n    // Create gradients from indices\n    vec2 g0 = rgrad2(vec2(iuw.x, ivw.x), rot);\n    vec2 g1 = rgrad2(vec2(iuw.y, ivw.y), rot);\n    vec2 g2 = rgrad2(vec2(iuw.z, ivw.z), rot);\n\n    // Gradients dot vectors to corresponding corners\n    // (The derivatives of this are simply the gradients)\n    vec3 w = vec3(dot(g0, d0), dot(g1, d1), dot(g2, d2));\n\n    // Radial weights from corners\n    // 0.8 is the square of 2/sqrt(5), the distance from\n    // a grid point to the nearest simplex boundary\n    vec3 t = 0.8 - vec3(dot(d0, d0), dot(d1, d1), dot(d2, d2));\n\n    // Partial derivatives for analytical gradient computation\n    vec3 dtdx = -2.0 * vec3(d0.x, d1.x, d2.x);\n    vec3 dtdy = -2.0 * vec3(d0.y, d1.y, d2.y);\n\n    // Set influence of each surflet to zero outside radius sqrt(0.8)\n    if (t.x < 0.0) {\n      dtdx.x = 0.0;\n      dtdy.x = 0.0;\n      t.x = 0.0;\n    }\n    if (t.y < 0.0) {\n      dtdx.y = 0.0;\n      dtdy.y = 0.0;\n      t.y = 0.0;\n    }\n    if (t.z < 0.0) {\n      dtdx.z = 0.0;\n      dtdy.z = 0.0;\n      t.z = 0.0;\n    }\n\n    // Fourth power of t (and third power for derivative)\n    vec3 t2 = t * t;\n    vec3 t4 = t2 * t2;\n    vec3 t3 = t2 * t;\n\n    // Final noise value is:\n    // sum of ((radial weights) times (gradient dot vector from corner))\n    float n = dot(t4, w);\n\n    // Final analytical derivative (gradient of a sum of scalar products)\n    vec2 dt0 = vec2(dtdx.x, dtdy.x) * 4.0 * t3.x;\n    vec2 dn0 = t4.x * g0 + dt0 * w.x;\n    vec2 dt1 = vec2(dtdx.y, dtdy.y) * 4.0 * t3.y;\n    vec2 dn1 = t4.y * g1 + dt1 * w.y;\n    vec2 dt2 = vec2(dtdx.z, dtdy.z) * 4.0 * t3.z;\n    vec2 dn2 = t4.z * g2 + dt2 * w.z;\n\n    return 11.0*vec3(n, dn0 + dn1 + dn2);\n  }\n\n  //\n  // 2-D non-tiling simplex noise with fixed gradients and analytical derivative.\n  // This function is implemented as a wrapper to \"srdnoise\",\n  // at the minimal cost of three extra additions.\n  //\n  vec3 sdnoise(vec2 pos) {\n    return srdnoise(pos, 0.0);\n  }\n\n  //\n  // 2-D non-tiling simplex noise with rotating gradients,\n  // without the analytical derivative.\n  //\n  float srnoise(vec2 pos, float rot) {\n    // Offset y slightly to hide some rare artifacts\n    pos.y += 0.001;\n    // Skew to hexagonal grid\n    vec2 uv = vec2(pos.x + pos.y*0.5, pos.y);\n\n    vec2 i0 = floor(uv);\n    vec2 f0 = fract(uv);\n    // Traversal order\n    vec2 i1 = (f0.x > f0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n\n    // Unskewed grid points in (x,y) space\n    vec2 p0 = vec2(i0.x - i0.y * 0.5, i0.y);\n    vec2 p1 = vec2(p0.x + i1.x - i1.y * 0.5, p0.y + i1.y);\n    vec2 p2 = vec2(p0.x + 0.5, p0.y + 1.0);\n\n    // Integer grid point indices in (u,v) space\n    i1 = i0 + i1;\n    vec2 i2 = i0 + vec2(1.0, 1.0);\n\n    // Vectors in unskewed (x,y) coordinates from\n    // each of the simplex corners to the evaluation point\n    vec2 d0 = pos - p0;\n    vec2 d1 = pos - p1;\n    vec2 d2 = pos - p2;\n\n    // Wrap i0, i1 and i2 to the desired period before gradient hashing:\n    // wrap points in (x,y), map to (u,v)\n    vec3 x = vec3(p0.x, p1.x, p2.x);\n    vec3 y = vec3(p0.y, p1.y, p2.y);\n    vec3 iuw = x + 0.5 * y;\n    vec3 ivw = y;\n\n    // Avoid precision issues in permutation\n    iuw = mod289(iuw);\n    ivw = mod289(ivw);\n\n    // Create gradients from indices\n    vec2 g0 = rgrad2(vec2(iuw.x, ivw.x), rot);\n    vec2 g1 = rgrad2(vec2(iuw.y, ivw.y), rot);\n    vec2 g2 = rgrad2(vec2(iuw.z, ivw.z), rot);\n\n    // Gradients dot vectors to corresponding corners\n    // (The derivatives of this are simply the gradients)\n    vec3 w = vec3(dot(g0, d0), dot(g1, d1), dot(g2, d2));\n\n    // Radial weights from corners\n    // 0.8 is the square of 2/sqrt(5), the distance from\n    // a grid point to the nearest simplex boundary\n    vec3 t = 0.8 - vec3(dot(d0, d0), dot(d1, d1), dot(d2, d2));\n\n    // Set influence of each surflet to zero outside radius sqrt(0.8)\n    t = max(t, 0.0);\n\n    // Fourth power of t\n    vec3 t2 = t * t;\n    vec3 t4 = t2 * t2;\n\n    // Final noise value is:\n    // sum of ((radial weights) times (gradient dot vector from corner))\n    float n = dot(t4, w);\n\n    // Rescale to cover the range [-1,1] reasonably well\n    return 11.0*n;\n  }\n\n  //\n  // 2-D non-tiling simplex noise with fixed gradients,\n  // without the analytical derivative.\n  // This function is implemented as a wrapper to \"srnoise\",\n  // at the minimal cost of three extra additions.\n  // Note: if this kind of noise is all you want, there are faster\n  // GLSL implementations of non-tiling simplex noise out there.\n  // This one is included mainly for completeness and compatibility\n  // with the other functions in the file.\n  //\n  float snoise(vec2 pos) {\n    return srnoise(pos, 0.0);\n  }\n\n  float hash(float x, float y) {\n      return fract(abs(sin(sin(123.321 + x) * (y + 321.123)) * 456.654));\n  }\n\n  float lerp(float a, float b, float t) {\n      return a * (1.0 - t) + b * t;\n  }\n\n  float perlin(float x, float y){\n      float col = 0.0;\n      for (int i = 0; i < 8; i++)\n      {\n          float fx = floor(x);\n          float fy = floor(y);\n          float cx = ceil(x);\n          float cy = ceil(y);\n          float a = hash(fx, fy);\n          float b = hash(fx, cy);\n          float c = hash(cx, fy);\n          float d = hash(cx, cy);\n          col += lerp(lerp(a, b, fract(y)), lerp(c, d, fract(y)), fract(x));\n          col /= 2.0;\n          x /= 2.0;\n          y /= 2.0;\n      }\n      return col;\n  }\n\n  float dperlin(float x, float y){\n      float d = perlin(x, y) * 800.0;\n      return perlin(x + d, y + d);\n  }\n\n  float ddperlin(float x, float y){\n      float d = perlin(x, y) * 800.0;\n      return dperlin(x + d, y + d);\n  }\n\n\n  float random( vec3 pt, float seed ){\n    vec3 scale = vec3( 12.9898, 78.233, 151.7182 );\n    return fract( sin( dot( pt + seed, scale ) ) * 43758.5453 + seed ) ;\n  }\n`;\n};\n//# sourceMappingURL=noise.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2hhZGVycy90aHJlZS1zaGFkZXItY2h1bmtzL25vaXNlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3NoYWRlcnMvdGhyZWUtc2hhZGVyLWNodW5rcy9ub2lzZS5qcz80OTZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmV4cG9ydCBjb25zdCBub2lzZSA9ICgpID0+IHtcbiAgICBUSFJFRS5TaGFkZXJDaHVuay5ub2lzZSA9IGBcbiAgLy9cbiAgLy8gRGVzY3JpcHRpb24gOiBBcnJheSBhbmQgdGV4dHVyZWxlc3MgR0xTTCAyRC8zRC80RCBzaW1wbGV4XG4gIC8vICAgICAgICAgICAgICAgbm9pc2UgZnVuY3Rpb25zLlxuICAvLyAgICAgIEF1dGhvciA6IElhbiBNY0V3YW4sIEFzaGltYSBBcnRzLlxuICAvLyAgTWFpbnRhaW5lciA6IHN0ZWd1XG4gIC8vICAgICBMYXN0bW9kIDogMjAxMTA4MjIgKGlqbSlcbiAgLy8gICAgIExpY2Vuc2UgOiBDb3B5cmlnaHQgKEMpIDIwMTEgQXNoaW1hIEFydHMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gIC8vICAgICAgICAgICAgICAgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTElDRU5TRSBmaWxlLlxuICAvLyAgICAgICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9hc2hpbWEvd2ViZ2wtbm9pc2VcbiAgLy8gICAgICAgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vc3RlZ3Uvd2ViZ2wtbm9pc2VcbiAgLy9cblxuICB2ZWMzIG1vZDI4OSh2ZWMzIHgpIHtcbiAgICByZXR1cm4geCAtIGZsb29yKHggKiAoMS4wIC8gMjg5LjApKSAqIDI4OS4wO1xuICB9XG5cbiAgdmVjNCBtb2QyODkodmVjNCB4KSB7XG4gICAgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuMCAvIDI4OS4wKSkgKiAyODkuMDtcbiAgfVxuXG4gIHZlYzQgcGVybXV0ZSh2ZWM0IHgpIHtcbiAgICAgICByZXR1cm4gbW9kMjg5KCgoeCozNC4wKSsxLjApKngpO1xuICB9XG5cbiAgLy8gUGVybXV0YXRpb24gcG9seW5vbWlhbCAocmluZyBzaXplIDI4OSA9IDE3KjE3KVxuICB2ZWMzIHBlcm11dGUodmVjMyB4KSB7XG4gICAgcmV0dXJuIG1vZDI4OSgoKHgqMzQuMCkrMS4wKSp4KTtcbiAgfVxuXG4gIGZsb2F0IHBlcm11dGUoZmxvYXQgeCl7XG4gICAgICByZXR1cm4geCAtIGZsb29yKHggKiAoMS4wIC8gMjg5LjApKSAqIDI4OS4wOztcbiAgfVxuXG4gIHZlYzQgdGF5bG9ySW52U3FydCh2ZWM0IHIpe1xuICAgIHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7XG4gIH1cblxuICB2ZWMyIGZhZGUodmVjMiB0KSB7XG4gICAgcmV0dXJuIHQqdCp0Kih0Kih0KjYuMC0xNS4wKSsxMC4wKTtcbiAgfVxuXG4gIHZlYzMgZmFkZSh2ZWMzIHQpIHtcbiAgICByZXR1cm4gdCp0KnQqKHQqKHQqNi4wLTE1LjApKzEwLjApO1xuICB9XG5cbiAgLy8gSGFzaGVkIDItRCBncmFkaWVudHMgd2l0aCBhbiBleHRyYSByb3RhdGlvbi5cbiAgLy8gKFRoZSBjb25zdGFudCAwLjAyNDM5MDI0MzkgaXMgMS80MSlcbiAgdmVjMiByZ3JhZDIodmVjMiBwLCBmbG9hdCByb3QpIHtcbiAgI2lmIDBcbiAgLy8gTWFwIGZyb20gYSBsaW5lIHRvIGEgZGlhbW9uZCBzdWNoIHRoYXQgYSBzaGlmdCBtYXBzIHRvIGEgcm90YXRpb24uXG4gICAgZmxvYXQgdSA9IHBlcm11dGUocGVybXV0ZShwLngpICsgcC55KSAqIDAuMDI0MzkwMjQzOSArIHJvdDsgLy8gUm90YXRlIGJ5IHNoaWZ0XG4gICAgdSA9IDQuMCAqIGZyYWN0KHUpIC0gMi4wO1xuICAgIC8vIChUaGlzIHZlY3RvciBjb3VsZCBiZSBub3JtYWxpemVkLCBleGFjdGx5IG9yIGFwcHJveGltYXRlbHkuKVxuICAgIHJldHVybiB2ZWMyKGFicyh1KS0xLjAsIGFicyhhYnModSsxLjApLTIuMCktMS4wKTtcbiAgI2Vsc2VcbiAgLy8gRm9yIG1vcmUgaXNvdHJvcGljIGdyYWRpZW50cywgc2luL2NvcyBjYW4gYmUgdXNlZCBpbnN0ZWFkLlxuICAgIGZsb2F0IHUgPSBwZXJtdXRlKHBlcm11dGUocC54KSArIHAueSkgKiAwLjAyNDM5MDI0MzkgKyByb3Q7IC8vIFJvdGF0ZSBieSBzaGlmdFxuICAgIHUgPSBmcmFjdCh1KSAqIDYuMjgzMTg1MzA3MTg7IC8vIDIqcGlcbiAgICByZXR1cm4gdmVjMihjb3ModSksIHNpbih1KSk7XG4gICNlbmRpZlxuICB9XG5cbiAgZmxvYXQgc25vaXNlKHZlYzMgdil7XG4gICAgY29uc3QgdmVjMiAgQyA9IHZlYzIoMS4wLzYuMCwgMS4wLzMuMCkgO1xuICAgIGNvbnN0IHZlYzQgIEQgPSB2ZWM0KDAuMCwgMC41LCAxLjAsIDIuMCk7XG5cbiAgLy8gRmlyc3QgY29ybmVyXG4gICAgdmVjMyBpICA9IGZsb29yKHYgKyBkb3QodiwgQy55eXkpICk7XG4gICAgdmVjMyB4MCA9ICAgdiAtIGkgKyBkb3QoaSwgQy54eHgpIDtcblxuICAvLyBPdGhlciBjb3JuZXJzXG4gICAgdmVjMyBnID0gc3RlcCh4MC55engsIHgwLnh5eik7XG4gICAgdmVjMyBsID0gMS4wIC0gZztcbiAgICB2ZWMzIGkxID0gbWluKCBnLnh5eiwgbC56eHkgKTtcbiAgICB2ZWMzIGkyID0gbWF4KCBnLnh5eiwgbC56eHkgKTtcblxuICAgIC8vICAgeDAgPSB4MCAtIDAuMCArIDAuMCAqIEMueHh4O1xuICAgIC8vICAgeDEgPSB4MCAtIGkxICArIDEuMCAqIEMueHh4O1xuICAgIC8vICAgeDIgPSB4MCAtIGkyICArIDIuMCAqIEMueHh4O1xuICAgIC8vICAgeDMgPSB4MCAtIDEuMCArIDMuMCAqIEMueHh4O1xuICAgIHZlYzMgeDEgPSB4MCAtIGkxICsgQy54eHg7XG4gICAgdmVjMyB4MiA9IHgwIC0gaTIgKyBDLnl5eTsgLy8gMi4wKkMueCA9IDEvMyA9IEMueVxuICAgIHZlYzMgeDMgPSB4MCAtIEQueXl5OyAgICAgIC8vIC0xLjArMy4wKkMueCA9IC0wLjUgPSAtRC55XG5cbiAgLy8gUGVybXV0YXRpb25zXG4gICAgaSA9IG1vZDI4OShpKTtcbiAgICB2ZWM0IHAgPSBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKFxuICAgICAgICAgICAgICAgaS56ICsgdmVjNCgwLjAsIGkxLnosIGkyLnosIDEuMCApKVxuICAgICAgICAgICAgICsgaS55ICsgdmVjNCgwLjAsIGkxLnksIGkyLnksIDEuMCApKVxuICAgICAgICAgICAgICsgaS54ICsgdmVjNCgwLjAsIGkxLngsIGkyLngsIDEuMCApKTtcblxuICAvLyBHcmFkaWVudHM6IDd4NyBwb2ludHMgb3ZlciBhIHNxdWFyZSwgbWFwcGVkIG9udG8gYW4gb2N0YWhlZHJvbi5cbiAgLy8gVGhlIHJpbmcgc2l6ZSAxNyoxNyA9IDI4OSBpcyBjbG9zZSB0byBhIG11bHRpcGxlIG9mIDQ5ICg0OSo2ID0gMjk0KVxuICAgIGZsb2F0IG5fID0gMC4xNDI4NTcxNDI4NTc7IC8vIDEuMC83LjBcbiAgICB2ZWMzICBucyA9IG5fICogRC53eXogLSBELnh6eDtcblxuICAgIHZlYzQgaiA9IHAgLSA0OS4wICogZmxvb3IocCAqIG5zLnogKiBucy56KTsgIC8vICBtb2QocCw3KjcpXG5cbiAgICB2ZWM0IHhfID0gZmxvb3IoaiAqIG5zLnopO1xuICAgIHZlYzQgeV8gPSBmbG9vcihqIC0gNy4wICogeF8gKTsgICAgLy8gbW9kKGosTilcblxuICAgIHZlYzQgeCA9IHhfICpucy54ICsgbnMueXl5eTtcbiAgICB2ZWM0IHkgPSB5XyAqbnMueCArIG5zLnl5eXk7XG4gICAgdmVjNCBoID0gMS4wIC0gYWJzKHgpIC0gYWJzKHkpO1xuXG4gICAgdmVjNCBiMCA9IHZlYzQoIHgueHksIHkueHkgKTtcbiAgICB2ZWM0IGIxID0gdmVjNCggeC56dywgeS56dyApO1xuXG4gICAgLy92ZWM0IHMwID0gdmVjNChsZXNzVGhhbihiMCwwLjApKSoyLjAgLSAxLjA7XG4gICAgLy92ZWM0IHMxID0gdmVjNChsZXNzVGhhbihiMSwwLjApKSoyLjAgLSAxLjA7XG4gICAgdmVjNCBzMCA9IGZsb29yKGIwKSoyLjAgKyAxLjA7XG4gICAgdmVjNCBzMSA9IGZsb29yKGIxKSoyLjAgKyAxLjA7XG4gICAgdmVjNCBzaCA9IC1zdGVwKGgsIHZlYzQoMC4wKSk7XG5cbiAgICB2ZWM0IGEwID0gYjAueHp5dyArIHMwLnh6eXcqc2gueHh5eSA7XG4gICAgdmVjNCBhMSA9IGIxLnh6eXcgKyBzMS54enl3KnNoLnp6d3cgO1xuXG4gICAgdmVjMyBwMCA9IHZlYzMoYTAueHksaC54KTtcbiAgICB2ZWMzIHAxID0gdmVjMyhhMC56dyxoLnkpO1xuICAgIHZlYzMgcDIgPSB2ZWMzKGExLnh5LGgueik7XG4gICAgdmVjMyBwMyA9IHZlYzMoYTEuencsaC53KTtcblxuICAvL05vcm1hbGlzZSBncmFkaWVudHNcbiAgICB2ZWM0IG5vcm0gPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KHAwLHAwKSwgZG90KHAxLHAxKSwgZG90KHAyLCBwMiksIGRvdChwMyxwMykpKTtcbiAgICBwMCAqPSBub3JtLng7XG4gICAgcDEgKj0gbm9ybS55O1xuICAgIHAyICo9IG5vcm0uejtcbiAgICBwMyAqPSBub3JtLnc7XG5cbiAgLy8gTWl4IGZpbmFsIG5vaXNlIHZhbHVlXG4gICAgdmVjNCBtID0gbWF4KDAuNiAtIHZlYzQoZG90KHgwLHgwKSwgZG90KHgxLHgxKSwgZG90KHgyLHgyKSwgZG90KHgzLHgzKSksIDAuMCk7XG4gICAgbSA9IG0gKiBtO1xuICAgIHJldHVybiA0Mi4wICogZG90KCBtKm0sIHZlYzQoIGRvdChwMCx4MCksIGRvdChwMSx4MSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHAyLHgyKSwgZG90KHAzLHgzKSApICk7XG4gICAgfVxuXG4gIC8vIENsYXNzaWMgUGVybGluIG5vaXNlXG4gIGZsb2F0IGNub2lzZSh2ZWMyIFApe1xuICAgIHZlYzQgUGkgPSBmbG9vcihQLnh5eHkpICsgdmVjNCgwLjAsIDAuMCwgMS4wLCAxLjApO1xuICAgIHZlYzQgUGYgPSBmcmFjdChQLnh5eHkpIC0gdmVjNCgwLjAsIDAuMCwgMS4wLCAxLjApO1xuICAgIFBpID0gbW9kMjg5KFBpKTsgLy8gVG8gYXZvaWQgdHJ1bmNhdGlvbiBlZmZlY3RzIGluIHBlcm11dGF0aW9uXG4gICAgdmVjNCBpeCA9IFBpLnh6eHo7XG4gICAgdmVjNCBpeSA9IFBpLnl5d3c7XG4gICAgdmVjNCBmeCA9IFBmLnh6eHo7XG4gICAgdmVjNCBmeSA9IFBmLnl5d3c7XG5cbiAgICB2ZWM0IGkgPSBwZXJtdXRlKHBlcm11dGUoaXgpICsgaXkpO1xuXG4gICAgdmVjNCBneCA9IGZyYWN0KGkgKiAoMS4wIC8gNDEuMCkpICogMi4wIC0gMS4wIDtcbiAgICB2ZWM0IGd5ID0gYWJzKGd4KSAtIDAuNSA7XG4gICAgdmVjNCB0eCA9IGZsb29yKGd4ICsgMC41KTtcbiAgICBneCA9IGd4IC0gdHg7XG5cbiAgICB2ZWMyIGcwMCA9IHZlYzIoZ3gueCxneS54KTtcbiAgICB2ZWMyIGcxMCA9IHZlYzIoZ3gueSxneS55KTtcbiAgICB2ZWMyIGcwMSA9IHZlYzIoZ3gueixneS56KTtcbiAgICB2ZWMyIGcxMSA9IHZlYzIoZ3gudyxneS53KTtcblxuICAgIHZlYzQgbm9ybSA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwLCBnMDApLCBkb3QoZzAxLCBnMDEpLCBkb3QoZzEwLCBnMTApLCBkb3QoZzExLCBnMTEpKSk7XG4gICAgZzAwICo9IG5vcm0ueDtcbiAgICBnMDEgKj0gbm9ybS55O1xuICAgIGcxMCAqPSBub3JtLno7XG4gICAgZzExICo9IG5vcm0udztcblxuICAgIGZsb2F0IG4wMCA9IGRvdChnMDAsIHZlYzIoZngueCwgZnkueCkpO1xuICAgIGZsb2F0IG4xMCA9IGRvdChnMTAsIHZlYzIoZngueSwgZnkueSkpO1xuICAgIGZsb2F0IG4wMSA9IGRvdChnMDEsIHZlYzIoZngueiwgZnkueikpO1xuICAgIGZsb2F0IG4xMSA9IGRvdChnMTEsIHZlYzIoZngudywgZnkudykpO1xuXG4gICAgdmVjMiBmYWRlX3h5ID0gZmFkZShQZi54eSk7XG4gICAgdmVjMiBuX3ggPSBtaXgodmVjMihuMDAsIG4wMSksIHZlYzIobjEwLCBuMTEpLCBmYWRlX3h5LngpO1xuICAgIGZsb2F0IG5feHkgPSBtaXgobl94LngsIG5feC55LCBmYWRlX3h5LnkpO1xuICAgIHJldHVybiAyLjMgKiBuX3h5O1xuICB9XG5cbiAgLy8gQ2xhc3NpYyBQZXJsaW4gbm9pc2UsIHBlcmlvZGljIHZhcmlhbnRcbiAgZmxvYXQgcG5vaXNlKHZlYzIgUCwgdmVjMiByZXApe1xuICAgIHZlYzQgUGkgPSBmbG9vcihQLnh5eHkpICsgdmVjNCgwLjAsIDAuMCwgMS4wLCAxLjApO1xuICAgIHZlYzQgUGYgPSBmcmFjdChQLnh5eHkpIC0gdmVjNCgwLjAsIDAuMCwgMS4wLCAxLjApO1xuICAgIFBpID0gbW9kKFBpLCByZXAueHl4eSk7IC8vIFRvIGNyZWF0ZSBub2lzZSB3aXRoIGV4cGxpY2l0IHBlcmlvZFxuICAgIFBpID0gbW9kMjg5KFBpKTsgICAgICAgIC8vIFRvIGF2b2lkIHRydW5jYXRpb24gZWZmZWN0cyBpbiBwZXJtdXRhdGlvblxuICAgIHZlYzQgaXggPSBQaS54enh6O1xuICAgIHZlYzQgaXkgPSBQaS55eXd3O1xuICAgIHZlYzQgZnggPSBQZi54enh6O1xuICAgIHZlYzQgZnkgPSBQZi55eXd3O1xuXG4gICAgdmVjNCBpID0gcGVybXV0ZShwZXJtdXRlKGl4KSArIGl5KTtcblxuICAgIHZlYzQgZ3ggPSBmcmFjdChpICogKDEuMCAvIDQxLjApKSAqIDIuMCAtIDEuMCA7XG4gICAgdmVjNCBneSA9IGFicyhneCkgLSAwLjUgO1xuICAgIHZlYzQgdHggPSBmbG9vcihneCArIDAuNSk7XG4gICAgZ3ggPSBneCAtIHR4O1xuXG4gICAgdmVjMiBnMDAgPSB2ZWMyKGd4LngsZ3kueCk7XG4gICAgdmVjMiBnMTAgPSB2ZWMyKGd4LnksZ3kueSk7XG4gICAgdmVjMiBnMDEgPSB2ZWMyKGd4LnosZ3kueik7XG4gICAgdmVjMiBnMTEgPSB2ZWMyKGd4LncsZ3kudyk7XG5cbiAgICB2ZWM0IG5vcm0gPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMCwgZzAwKSwgZG90KGcwMSwgZzAxKSwgZG90KGcxMCwgZzEwKSwgZG90KGcxMSwgZzExKSkpO1xuICAgIGcwMCAqPSBub3JtLng7XG4gICAgZzAxICo9IG5vcm0ueTtcbiAgICBnMTAgKj0gbm9ybS56O1xuICAgIGcxMSAqPSBub3JtLnc7XG5cbiAgICBmbG9hdCBuMDAgPSBkb3QoZzAwLCB2ZWMyKGZ4LngsIGZ5LngpKTtcbiAgICBmbG9hdCBuMTAgPSBkb3QoZzEwLCB2ZWMyKGZ4LnksIGZ5LnkpKTtcbiAgICBmbG9hdCBuMDEgPSBkb3QoZzAxLCB2ZWMyKGZ4LnosIGZ5LnopKTtcbiAgICBmbG9hdCBuMTEgPSBkb3QoZzExLCB2ZWMyKGZ4LncsIGZ5LncpKTtcblxuICAgIHZlYzIgZmFkZV94eSA9IGZhZGUoUGYueHkpO1xuICAgIHZlYzIgbl94ID0gbWl4KHZlYzIobjAwLCBuMDEpLCB2ZWMyKG4xMCwgbjExKSwgZmFkZV94eS54KTtcbiAgICBmbG9hdCBuX3h5ID0gbWl4KG5feC54LCBuX3gueSwgZmFkZV94eS55KTtcbiAgICByZXR1cm4gMi4zICogbl94eTtcbiAgfVxuICAvLyBDbGFzc2ljIFBlcmxpbiBub2lzZVxuICBmbG9hdCBjbm9pc2UodmVjMyBQKVxuICB7XG4gICAgdmVjMyBQaTAgPSBmbG9vcihQKTsgLy8gSW50ZWdlciBwYXJ0IGZvciBpbmRleGluZ1xuICAgIHZlYzMgUGkxID0gUGkwICsgdmVjMygxLjApOyAvLyBJbnRlZ2VyIHBhcnQgKyAxXG4gICAgUGkwID0gbW9kMjg5KFBpMCk7XG4gICAgUGkxID0gbW9kMjg5KFBpMSk7XG4gICAgdmVjMyBQZjAgPSBmcmFjdChQKTsgLy8gRnJhY3Rpb25hbCBwYXJ0IGZvciBpbnRlcnBvbGF0aW9uXG4gICAgdmVjMyBQZjEgPSBQZjAgLSB2ZWMzKDEuMCk7IC8vIEZyYWN0aW9uYWwgcGFydCAtIDEuMFxuICAgIHZlYzQgaXggPSB2ZWM0KFBpMC54LCBQaTEueCwgUGkwLngsIFBpMS54KTtcbiAgICB2ZWM0IGl5ID0gdmVjNChQaTAueXksIFBpMS55eSk7XG4gICAgdmVjNCBpejAgPSBQaTAuenp6ejtcbiAgICB2ZWM0IGl6MSA9IFBpMS56enp6O1xuXG4gICAgdmVjNCBpeHkgPSBwZXJtdXRlKHBlcm11dGUoaXgpICsgaXkpO1xuICAgIHZlYzQgaXh5MCA9IHBlcm11dGUoaXh5ICsgaXowKTtcbiAgICB2ZWM0IGl4eTEgPSBwZXJtdXRlKGl4eSArIGl6MSk7XG5cbiAgICB2ZWM0IGd4MCA9IGl4eTAgKiAoMS4wIC8gNy4wKTtcbiAgICB2ZWM0IGd5MCA9IGZyYWN0KGZsb29yKGd4MCkgKiAoMS4wIC8gNy4wKSkgLSAwLjU7XG4gICAgZ3gwID0gZnJhY3QoZ3gwKTtcbiAgICB2ZWM0IGd6MCA9IHZlYzQoMC41KSAtIGFicyhneDApIC0gYWJzKGd5MCk7XG4gICAgdmVjNCBzejAgPSBzdGVwKGd6MCwgdmVjNCgwLjApKTtcbiAgICBneDAgLT0gc3owICogKHN0ZXAoMC4wLCBneDApIC0gMC41KTtcbiAgICBneTAgLT0gc3owICogKHN0ZXAoMC4wLCBneTApIC0gMC41KTtcblxuICAgIHZlYzQgZ3gxID0gaXh5MSAqICgxLjAgLyA3LjApO1xuICAgIHZlYzQgZ3kxID0gZnJhY3QoZmxvb3IoZ3gxKSAqICgxLjAgLyA3LjApKSAtIDAuNTtcbiAgICBneDEgPSBmcmFjdChneDEpO1xuICAgIHZlYzQgZ3oxID0gdmVjNCgwLjUpIC0gYWJzKGd4MSkgLSBhYnMoZ3kxKTtcbiAgICB2ZWM0IHN6MSA9IHN0ZXAoZ3oxLCB2ZWM0KDAuMCkpO1xuICAgIGd4MSAtPSBzejEgKiAoc3RlcCgwLjAsIGd4MSkgLSAwLjUpO1xuICAgIGd5MSAtPSBzejEgKiAoc3RlcCgwLjAsIGd5MSkgLSAwLjUpO1xuXG4gICAgdmVjMyBnMDAwID0gdmVjMyhneDAueCxneTAueCxnejAueCk7XG4gICAgdmVjMyBnMTAwID0gdmVjMyhneDAueSxneTAueSxnejAueSk7XG4gICAgdmVjMyBnMDEwID0gdmVjMyhneDAueixneTAueixnejAueik7XG4gICAgdmVjMyBnMTEwID0gdmVjMyhneDAudyxneTAudyxnejAudyk7XG4gICAgdmVjMyBnMDAxID0gdmVjMyhneDEueCxneTEueCxnejEueCk7XG4gICAgdmVjMyBnMTAxID0gdmVjMyhneDEueSxneTEueSxnejEueSk7XG4gICAgdmVjMyBnMDExID0gdmVjMyhneDEueixneTEueixnejEueik7XG4gICAgdmVjMyBnMTExID0gdmVjMyhneDEudyxneTEudyxnejEudyk7XG5cbiAgICB2ZWM0IG5vcm0wID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAwLCBnMDAwKSwgZG90KGcwMTAsIGcwMTApLCBkb3QoZzEwMCwgZzEwMCksIGRvdChnMTEwLCBnMTEwKSkpO1xuICAgIGcwMDAgKj0gbm9ybTAueDtcbiAgICBnMDEwICo9IG5vcm0wLnk7XG4gICAgZzEwMCAqPSBub3JtMC56O1xuICAgIGcxMTAgKj0gbm9ybTAudztcbiAgICB2ZWM0IG5vcm0xID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAxLCBnMDAxKSwgZG90KGcwMTEsIGcwMTEpLCBkb3QoZzEwMSwgZzEwMSksIGRvdChnMTExLCBnMTExKSkpO1xuICAgIGcwMDEgKj0gbm9ybTEueDtcbiAgICBnMDExICo9IG5vcm0xLnk7XG4gICAgZzEwMSAqPSBub3JtMS56O1xuICAgIGcxMTEgKj0gbm9ybTEudztcblxuICAgIGZsb2F0IG4wMDAgPSBkb3QoZzAwMCwgUGYwKTtcbiAgICBmbG9hdCBuMTAwID0gZG90KGcxMDAsIHZlYzMoUGYxLngsIFBmMC55eikpO1xuICAgIGZsb2F0IG4wMTAgPSBkb3QoZzAxMCwgdmVjMyhQZjAueCwgUGYxLnksIFBmMC56KSk7XG4gICAgZmxvYXQgbjExMCA9IGRvdChnMTEwLCB2ZWMzKFBmMS54eSwgUGYwLnopKTtcbiAgICBmbG9hdCBuMDAxID0gZG90KGcwMDEsIHZlYzMoUGYwLnh5LCBQZjEueikpO1xuICAgIGZsb2F0IG4xMDEgPSBkb3QoZzEwMSwgdmVjMyhQZjEueCwgUGYwLnksIFBmMS56KSk7XG4gICAgZmxvYXQgbjAxMSA9IGRvdChnMDExLCB2ZWMzKFBmMC54LCBQZjEueXopKTtcbiAgICBmbG9hdCBuMTExID0gZG90KGcxMTEsIFBmMSk7XG5cbiAgICB2ZWMzIGZhZGVfeHl6ID0gZmFkZShQZjApO1xuICAgIHZlYzQgbl96ID0gbWl4KHZlYzQobjAwMCwgbjEwMCwgbjAxMCwgbjExMCksIHZlYzQobjAwMSwgbjEwMSwgbjAxMSwgbjExMSksIGZhZGVfeHl6LnopO1xuICAgIHZlYzIgbl95eiA9IG1peChuX3oueHksIG5fei56dywgZmFkZV94eXoueSk7XG4gICAgZmxvYXQgbl94eXogPSBtaXgobl95ei54LCBuX3l6LnksIGZhZGVfeHl6LngpO1xuICAgIHJldHVybiAyLjIgKiBuX3h5ejtcbiAgfVxuXG4gIC8vIENsYXNzaWMgUGVybGluIG5vaXNlLCBwZXJpb2RpYyB2YXJpYW50XG4gIGZsb2F0IHBub2lzZSh2ZWMzIFAsIHZlYzMgcmVwKVxuICB7XG4gICAgdmVjMyBQaTAgPSBtb2QoZmxvb3IoUCksIHJlcCk7IC8vIEludGVnZXIgcGFydCwgbW9kdWxvIHBlcmlvZFxuICAgIHZlYzMgUGkxID0gbW9kKFBpMCArIHZlYzMoMS4wKSwgcmVwKTsgLy8gSW50ZWdlciBwYXJ0ICsgMSwgbW9kIHBlcmlvZFxuICAgIFBpMCA9IG1vZDI4OShQaTApO1xuICAgIFBpMSA9IG1vZDI4OShQaTEpO1xuICAgIHZlYzMgUGYwID0gZnJhY3QoUCk7IC8vIEZyYWN0aW9uYWwgcGFydCBmb3IgaW50ZXJwb2xhdGlvblxuICAgIHZlYzMgUGYxID0gUGYwIC0gdmVjMygxLjApOyAvLyBGcmFjdGlvbmFsIHBhcnQgLSAxLjBcbiAgICB2ZWM0IGl4ID0gdmVjNChQaTAueCwgUGkxLngsIFBpMC54LCBQaTEueCk7XG4gICAgdmVjNCBpeSA9IHZlYzQoUGkwLnl5LCBQaTEueXkpO1xuICAgIHZlYzQgaXowID0gUGkwLnp6eno7XG4gICAgdmVjNCBpejEgPSBQaTEuenp6ejtcblxuICAgIHZlYzQgaXh5ID0gcGVybXV0ZShwZXJtdXRlKGl4KSArIGl5KTtcbiAgICB2ZWM0IGl4eTAgPSBwZXJtdXRlKGl4eSArIGl6MCk7XG4gICAgdmVjNCBpeHkxID0gcGVybXV0ZShpeHkgKyBpejEpO1xuXG4gICAgdmVjNCBneDAgPSBpeHkwICogKDEuMCAvIDcuMCk7XG4gICAgdmVjNCBneTAgPSBmcmFjdChmbG9vcihneDApICogKDEuMCAvIDcuMCkpIC0gMC41O1xuICAgIGd4MCA9IGZyYWN0KGd4MCk7XG4gICAgdmVjNCBnejAgPSB2ZWM0KDAuNSkgLSBhYnMoZ3gwKSAtIGFicyhneTApO1xuICAgIHZlYzQgc3owID0gc3RlcChnejAsIHZlYzQoMC4wKSk7XG4gICAgZ3gwIC09IHN6MCAqIChzdGVwKDAuMCwgZ3gwKSAtIDAuNSk7XG4gICAgZ3kwIC09IHN6MCAqIChzdGVwKDAuMCwgZ3kwKSAtIDAuNSk7XG5cbiAgICB2ZWM0IGd4MSA9IGl4eTEgKiAoMS4wIC8gNy4wKTtcbiAgICB2ZWM0IGd5MSA9IGZyYWN0KGZsb29yKGd4MSkgKiAoMS4wIC8gNy4wKSkgLSAwLjU7XG4gICAgZ3gxID0gZnJhY3QoZ3gxKTtcbiAgICB2ZWM0IGd6MSA9IHZlYzQoMC41KSAtIGFicyhneDEpIC0gYWJzKGd5MSk7XG4gICAgdmVjNCBzejEgPSBzdGVwKGd6MSwgdmVjNCgwLjApKTtcbiAgICBneDEgLT0gc3oxICogKHN0ZXAoMC4wLCBneDEpIC0gMC41KTtcbiAgICBneTEgLT0gc3oxICogKHN0ZXAoMC4wLCBneTEpIC0gMC41KTtcblxuICAgIHZlYzMgZzAwMCA9IHZlYzMoZ3gwLngsZ3kwLngsZ3owLngpO1xuICAgIHZlYzMgZzEwMCA9IHZlYzMoZ3gwLnksZ3kwLnksZ3owLnkpO1xuICAgIHZlYzMgZzAxMCA9IHZlYzMoZ3gwLnosZ3kwLnosZ3owLnopO1xuICAgIHZlYzMgZzExMCA9IHZlYzMoZ3gwLncsZ3kwLncsZ3owLncpO1xuICAgIHZlYzMgZzAwMSA9IHZlYzMoZ3gxLngsZ3kxLngsZ3oxLngpO1xuICAgIHZlYzMgZzEwMSA9IHZlYzMoZ3gxLnksZ3kxLnksZ3oxLnkpO1xuICAgIHZlYzMgZzAxMSA9IHZlYzMoZ3gxLnosZ3kxLnosZ3oxLnopO1xuICAgIHZlYzMgZzExMSA9IHZlYzMoZ3gxLncsZ3kxLncsZ3oxLncpO1xuXG4gICAgdmVjNCBub3JtMCA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMCwgZzAwMCksIGRvdChnMDEwLCBnMDEwKSwgZG90KGcxMDAsIGcxMDApLCBkb3QoZzExMCwgZzExMCkpKTtcbiAgICBnMDAwICo9IG5vcm0wLng7XG4gICAgZzAxMCAqPSBub3JtMC55O1xuICAgIGcxMDAgKj0gbm9ybTAuejtcbiAgICBnMTEwICo9IG5vcm0wLnc7XG4gICAgdmVjNCBub3JtMSA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMSwgZzAwMSksIGRvdChnMDExLCBnMDExKSwgZG90KGcxMDEsIGcxMDEpLCBkb3QoZzExMSwgZzExMSkpKTtcbiAgICBnMDAxICo9IG5vcm0xLng7XG4gICAgZzAxMSAqPSBub3JtMS55O1xuICAgIGcxMDEgKj0gbm9ybTEuejtcbiAgICBnMTExICo9IG5vcm0xLnc7XG5cbiAgICBmbG9hdCBuMDAwID0gZG90KGcwMDAsIFBmMCk7XG4gICAgZmxvYXQgbjEwMCA9IGRvdChnMTAwLCB2ZWMzKFBmMS54LCBQZjAueXopKTtcbiAgICBmbG9hdCBuMDEwID0gZG90KGcwMTAsIHZlYzMoUGYwLngsIFBmMS55LCBQZjAueikpO1xuICAgIGZsb2F0IG4xMTAgPSBkb3QoZzExMCwgdmVjMyhQZjEueHksIFBmMC56KSk7XG4gICAgZmxvYXQgbjAwMSA9IGRvdChnMDAxLCB2ZWMzKFBmMC54eSwgUGYxLnopKTtcbiAgICBmbG9hdCBuMTAxID0gZG90KGcxMDEsIHZlYzMoUGYxLngsIFBmMC55LCBQZjEueikpO1xuICAgIGZsb2F0IG4wMTEgPSBkb3QoZzAxMSwgdmVjMyhQZjAueCwgUGYxLnl6KSk7XG4gICAgZmxvYXQgbjExMSA9IGRvdChnMTExLCBQZjEpO1xuXG4gICAgdmVjMyBmYWRlX3h5eiA9IGZhZGUoUGYwKTtcbiAgICB2ZWM0IG5feiA9IG1peCh2ZWM0KG4wMDAsIG4xMDAsIG4wMTAsIG4xMTApLCB2ZWM0KG4wMDEsIG4xMDEsIG4wMTEsIG4xMTEpLCBmYWRlX3h5ei56KTtcbiAgICB2ZWMyIG5feXogPSBtaXgobl96Lnh5LCBuX3ouencsIGZhZGVfeHl6LnkpO1xuICAgIGZsb2F0IG5feHl6ID0gbWl4KG5feXoueCwgbl95ei55LCBmYWRlX3h5ei54KTtcbiAgICByZXR1cm4gMi4yICogbl94eXo7XG4gIH1cblxuICBmbG9hdCB0dXJidWxlbmNlKCB2ZWMzIHAgKSB7XG4gICAgZmxvYXQgdyA9IDEwMC4wO1xuICAgIGZsb2F0IHQgPSAtLjU7XG5cbiAgICBmb3IgKGZsb2F0IGYgPSAxLjAgOyBmIDw9IDEwLjAgOyBmKysgKXtcbiAgICAgIGZsb2F0IHBvd2VyID0gcG93KCAyLjAsIGYgKTtcbiAgICAgIHQgKz0gYWJzKCBwbm9pc2UoIHZlYzMoIHBvd2VyICogcCApLCB2ZWMzKCAxMC4wLCAxMC4wLCAxMC4wICkgKSAvIHBvd2VyICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH1cblxuICBmbG9hdCB0dXJidWxlbmNlMyggdmVjMyBwICkge1xuICAgIGZsb2F0IHcgPSAxMDAuMDtcbiAgICBmbG9hdCB0ID0gLS41O1xuXG4gICAgZm9yIChmbG9hdCBmID0gMS4wIDsgZiA8PSAzLjAgOyBmKysgKXtcbiAgICAgIGZsb2F0IHBvd2VyID0gcG93KCAyLjAsIGYgKTtcbiAgICAgIHQgKz0gYWJzKCBwbm9pc2UoIHZlYzMoIHBvd2VyICogcCApLCB2ZWMzKCAzLjAsIDMuMCwgMy4wICkgKSAvIHBvd2VyICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH1cblxuICBmbG9hdCB0dXJidWxlbmNlNiggdmVjMyBwICkge1xuICAgIGZsb2F0IHcgPSAxMDAuMDtcbiAgICBmbG9hdCB0ID0gLS41O1xuXG4gICAgZm9yIChmbG9hdCBmID0gMS4wIDsgZiA8PSA2LjAgOyBmKysgKXtcbiAgICAgIGZsb2F0IHBvd2VyID0gcG93KCAyLjAsIGYgKTtcbiAgICAgIHQgKz0gYWJzKCBwbm9pc2UoIHZlYzMoIHBvd2VyICogcCApLCB2ZWMzKCA2LjAsIDYuMCwgNi4wICkgKSAvIHBvd2VyICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH1cblxuICAvL1xuICAvLyAyLUQgdGlsaW5nIHNpbXBsZXggbm9pc2Ugd2l0aCByb3RhdGluZyBncmFkaWVudHMgYW5kIGFuYWx5dGljYWwgZGVyaXZhdGl2ZS5cbiAgLy8gVGhlIGZpcnN0IGNvbXBvbmVudCBvZiB0aGUgMy1lbGVtZW50IHJldHVybiB2ZWN0b3IgaXMgdGhlIG5vaXNlIHZhbHVlLFxuICAvLyBhbmQgdGhlIHNlY29uZCBhbmQgdGhpcmQgY29tcG9uZW50cyBhcmUgdGhlIHggYW5kIHkgcGFydGlhbCBkZXJpdmF0aXZlcy5cbiAgLy9cbiAgdmVjMyBwc3Jkbm9pc2UodmVjMiBwb3MsIHZlYzIgcGVyLCBmbG9hdCByb3QpIHtcbiAgICAvLyBIYWNrOiBvZmZzZXQgeSBzbGlnaHRseSB0byBoaWRlIHNvbWUgcmFyZSBhcnRpZmFjdHNcbiAgICBwb3MueSArPSAwLjAxO1xuICAgIC8vIFNrZXcgdG8gaGV4YWdvbmFsIGdyaWRcbiAgICB2ZWMyIHV2ID0gdmVjMihwb3MueCArIHBvcy55KjAuNSwgcG9zLnkpO1xuXG4gICAgdmVjMiBpMCA9IGZsb29yKHV2KTtcbiAgICB2ZWMyIGYwID0gZnJhY3QodXYpO1xuICAgIC8vIFRyYXZlcnNhbCBvcmRlclxuICAgIHZlYzIgaTEgPSAoZjAueCA+IGYwLnkpID8gdmVjMigxLjAsIDAuMCkgOiB2ZWMyKDAuMCwgMS4wKTtcblxuICAgIC8vIFVuc2tld2VkIGdyaWQgcG9pbnRzIGluICh4LHkpIHNwYWNlXG4gICAgdmVjMiBwMCA9IHZlYzIoaTAueCAtIGkwLnkgKiAwLjUsIGkwLnkpO1xuICAgIHZlYzIgcDEgPSB2ZWMyKHAwLnggKyBpMS54IC0gaTEueSAqIDAuNSwgcDAueSArIGkxLnkpO1xuICAgIHZlYzIgcDIgPSB2ZWMyKHAwLnggKyAwLjUsIHAwLnkgKyAxLjApO1xuXG4gICAgLy8gSW50ZWdlciBncmlkIHBvaW50IGluZGljZXMgaW4gKHUsdikgc3BhY2VcbiAgICBpMSA9IGkwICsgaTE7XG4gICAgdmVjMiBpMiA9IGkwICsgdmVjMigxLjAsIDEuMCk7XG5cbiAgICAvLyBWZWN0b3JzIGluIHVuc2tld2VkICh4LHkpIGNvb3JkaW5hdGVzIGZyb21cbiAgICAvLyBlYWNoIG9mIHRoZSBzaW1wbGV4IGNvcm5lcnMgdG8gdGhlIGV2YWx1YXRpb24gcG9pbnRcbiAgICB2ZWMyIGQwID0gcG9zIC0gcDA7XG4gICAgdmVjMiBkMSA9IHBvcyAtIHAxO1xuICAgIHZlYzIgZDIgPSBwb3MgLSBwMjtcblxuICAgIC8vIFdyYXAgaTAsIGkxIGFuZCBpMiB0byB0aGUgZGVzaXJlZCBwZXJpb2QgYmVmb3JlIGdyYWRpZW50IGhhc2hpbmc6XG4gICAgLy8gd3JhcCBwb2ludHMgaW4gKHgseSksIG1hcCB0byAodSx2KVxuICAgIHZlYzMgeHcgPSBtb2QodmVjMyhwMC54LCBwMS54LCBwMi54KSwgcGVyLngpO1xuICAgIHZlYzMgeXcgPSBtb2QodmVjMyhwMC55LCBwMS55LCBwMi55KSwgcGVyLnkpO1xuICAgIHZlYzMgaXV3ID0geHcgKyAwLjUgKiB5dztcbiAgICB2ZWMzIGl2dyA9IHl3O1xuXG4gICAgLy8gQ3JlYXRlIGdyYWRpZW50cyBmcm9tIGluZGljZXNcbiAgICB2ZWMyIGcwID0gcmdyYWQyKHZlYzIoaXV3LngsIGl2dy54KSwgcm90KTtcbiAgICB2ZWMyIGcxID0gcmdyYWQyKHZlYzIoaXV3LnksIGl2dy55KSwgcm90KTtcbiAgICB2ZWMyIGcyID0gcmdyYWQyKHZlYzIoaXV3LnosIGl2dy56KSwgcm90KTtcblxuICAgIC8vIEdyYWRpZW50cyBkb3QgdmVjdG9ycyB0byBjb3JyZXNwb25kaW5nIGNvcm5lcnNcbiAgICAvLyAoVGhlIGRlcml2YXRpdmVzIG9mIHRoaXMgYXJlIHNpbXBseSB0aGUgZ3JhZGllbnRzKVxuICAgIHZlYzMgdyA9IHZlYzMoZG90KGcwLCBkMCksIGRvdChnMSwgZDEpLCBkb3QoZzIsIGQyKSk7XG5cbiAgICAvLyBSYWRpYWwgd2VpZ2h0cyBmcm9tIGNvcm5lcnNcbiAgICAvLyAwLjggaXMgdGhlIHNxdWFyZSBvZiAyL3NxcnQoNSksIHRoZSBkaXN0YW5jZSBmcm9tXG4gICAgLy8gYSBncmlkIHBvaW50IHRvIHRoZSBuZWFyZXN0IHNpbXBsZXggYm91bmRhcnlcbiAgICB2ZWMzIHQgPSAwLjggLSB2ZWMzKGRvdChkMCwgZDApLCBkb3QoZDEsIGQxKSwgZG90KGQyLCBkMikpO1xuXG4gICAgLy8gUGFydGlhbCBkZXJpdmF0aXZlcyBmb3IgYW5hbHl0aWNhbCBncmFkaWVudCBjb21wdXRhdGlvblxuICAgIHZlYzMgZHRkeCA9IC0yLjAgKiB2ZWMzKGQwLngsIGQxLngsIGQyLngpO1xuICAgIHZlYzMgZHRkeSA9IC0yLjAgKiB2ZWMzKGQwLnksIGQxLnksIGQyLnkpO1xuXG4gICAgLy8gU2V0IGluZmx1ZW5jZSBvZiBlYWNoIHN1cmZsZXQgdG8gemVybyBvdXRzaWRlIHJhZGl1cyBzcXJ0KDAuOClcbiAgICBpZiAodC54IDwgMC4wKSB7XG4gICAgICBkdGR4LnggPSAwLjA7XG4gICAgICBkdGR5LnggPSAwLjA7XG4gICAgICB0LnggPSAwLjA7XG4gICAgfVxuICAgIGlmICh0LnkgPCAwLjApIHtcbiAgICAgIGR0ZHgueSA9IDAuMDtcbiAgICAgIGR0ZHkueSA9IDAuMDtcbiAgICAgIHQueSA9IDAuMDtcbiAgICB9XG4gICAgaWYgKHQueiA8IDAuMCkge1xuICAgICAgZHRkeC56ID0gMC4wO1xuICAgICAgZHRkeS56ID0gMC4wO1xuICAgICAgdC56ID0gMC4wO1xuICAgIH1cblxuICAgIC8vIEZvdXJ0aCBwb3dlciBvZiB0IChhbmQgdGhpcmQgcG93ZXIgZm9yIGRlcml2YXRpdmUpXG4gICAgdmVjMyB0MiA9IHQgKiB0O1xuICAgIHZlYzMgdDQgPSB0MiAqIHQyO1xuICAgIHZlYzMgdDMgPSB0MiAqIHQ7XG5cbiAgICAvLyBGaW5hbCBub2lzZSB2YWx1ZSBpczpcbiAgICAvLyBzdW0gb2YgKChyYWRpYWwgd2VpZ2h0cykgdGltZXMgKGdyYWRpZW50IGRvdCB2ZWN0b3IgZnJvbSBjb3JuZXIpKVxuICAgIGZsb2F0IG4gPSBkb3QodDQsIHcpO1xuXG4gICAgLy8gRmluYWwgYW5hbHl0aWNhbCBkZXJpdmF0aXZlIChncmFkaWVudCBvZiBhIHN1bSBvZiBzY2FsYXIgcHJvZHVjdHMpXG4gICAgdmVjMiBkdDAgPSB2ZWMyKGR0ZHgueCwgZHRkeS54KSAqIDQuMCAqIHQzLng7XG4gICAgdmVjMiBkbjAgPSB0NC54ICogZzAgKyBkdDAgKiB3Lng7XG4gICAgdmVjMiBkdDEgPSB2ZWMyKGR0ZHgueSwgZHRkeS55KSAqIDQuMCAqIHQzLnk7XG4gICAgdmVjMiBkbjEgPSB0NC55ICogZzEgKyBkdDEgKiB3Lnk7XG4gICAgdmVjMiBkdDIgPSB2ZWMyKGR0ZHgueiwgZHRkeS56KSAqIDQuMCAqIHQzLno7XG4gICAgdmVjMiBkbjIgPSB0NC56ICogZzIgKyBkdDIgKiB3Lno7XG5cbiAgICByZXR1cm4gMTEuMCp2ZWMzKG4sIGRuMCArIGRuMSArIGRuMik7XG4gIH1cblxuICAvL1xuICAvLyAyLUQgdGlsaW5nIHNpbXBsZXggbm9pc2Ugd2l0aCBmaXhlZCBncmFkaWVudHNcbiAgLy8gYW5kIGFuYWx5dGljYWwgZGVyaXZhdGl2ZS5cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyBpbXBsZW1lbnRlZCBhcyBhIHdyYXBwZXIgdG8gXCJwc3Jkbm9pc2VcIixcbiAgLy8gYXQgdGhlIG1pbmltYWwgY29zdCBvZiB0aHJlZSBleHRyYSBhZGRpdGlvbnMuXG4gIC8vXG4gIHZlYzMgcHNkbm9pc2UodmVjMiBwb3MsIHZlYzIgcGVyKSB7XG4gICAgcmV0dXJuIHBzcmRub2lzZShwb3MsIHBlciwgMC4wKTtcbiAgfVxuXG4gIC8vXG4gIC8vIDItRCB0aWxpbmcgc2ltcGxleCBub2lzZSB3aXRoIHJvdGF0aW5nIGdyYWRpZW50cyxcbiAgLy8gYnV0IHdpdGhvdXQgdGhlIGFuYWx5dGljYWwgZGVyaXZhdGl2ZS5cbiAgLy9cbiAgZmxvYXQgcHNybm9pc2UodmVjMiBwb3MsIHZlYzIgcGVyLCBmbG9hdCByb3QpIHtcbiAgICAvLyBPZmZzZXQgeSBzbGlnaHRseSB0byBoaWRlIHNvbWUgcmFyZSBhcnRpZmFjdHNcbiAgICBwb3MueSArPSAwLjAwMTtcbiAgICAvLyBTa2V3IHRvIGhleGFnb25hbCBncmlkXG4gICAgdmVjMiB1diA9IHZlYzIocG9zLnggKyBwb3MueSowLjUsIHBvcy55KTtcblxuICAgIHZlYzIgaTAgPSBmbG9vcih1dik7XG4gICAgdmVjMiBmMCA9IGZyYWN0KHV2KTtcbiAgICAvLyBUcmF2ZXJzYWwgb3JkZXJcbiAgICB2ZWMyIGkxID0gKGYwLnggPiBmMC55KSA/IHZlYzIoMS4wLCAwLjApIDogdmVjMigwLjAsIDEuMCk7XG5cbiAgICAvLyBVbnNrZXdlZCBncmlkIHBvaW50cyBpbiAoeCx5KSBzcGFjZVxuICAgIHZlYzIgcDAgPSB2ZWMyKGkwLnggLSBpMC55ICogMC41LCBpMC55KTtcbiAgICB2ZWMyIHAxID0gdmVjMihwMC54ICsgaTEueCAtIGkxLnkgKiAwLjUsIHAwLnkgKyBpMS55KTtcbiAgICB2ZWMyIHAyID0gdmVjMihwMC54ICsgMC41LCBwMC55ICsgMS4wKTtcblxuICAgIC8vIEludGVnZXIgZ3JpZCBwb2ludCBpbmRpY2VzIGluICh1LHYpIHNwYWNlXG4gICAgaTEgPSBpMCArIGkxO1xuICAgIHZlYzIgaTIgPSBpMCArIHZlYzIoMS4wLCAxLjApO1xuXG4gICAgLy8gVmVjdG9ycyBpbiB1bnNrZXdlZCAoeCx5KSBjb29yZGluYXRlcyBmcm9tXG4gICAgLy8gZWFjaCBvZiB0aGUgc2ltcGxleCBjb3JuZXJzIHRvIHRoZSBldmFsdWF0aW9uIHBvaW50XG4gICAgdmVjMiBkMCA9IHBvcyAtIHAwO1xuICAgIHZlYzIgZDEgPSBwb3MgLSBwMTtcbiAgICB2ZWMyIGQyID0gcG9zIC0gcDI7XG5cbiAgICAvLyBXcmFwIGkwLCBpMSBhbmQgaTIgdG8gdGhlIGRlc2lyZWQgcGVyaW9kIGJlZm9yZSBncmFkaWVudCBoYXNoaW5nOlxuICAgIC8vIHdyYXAgcG9pbnRzIGluICh4LHkpLCBtYXAgdG8gKHUsdilcbiAgICB2ZWMzIHh3ID0gbW9kKHZlYzMocDAueCwgcDEueCwgcDIueCksIHBlci54KTtcbiAgICB2ZWMzIHl3ID0gbW9kKHZlYzMocDAueSwgcDEueSwgcDIueSksIHBlci55KTtcbiAgICB2ZWMzIGl1dyA9IHh3ICsgMC41ICogeXc7XG4gICAgdmVjMyBpdncgPSB5dztcblxuICAgIC8vIENyZWF0ZSBncmFkaWVudHMgZnJvbSBpbmRpY2VzXG4gICAgdmVjMiBnMCA9IHJncmFkMih2ZWMyKGl1dy54LCBpdncueCksIHJvdCk7XG4gICAgdmVjMiBnMSA9IHJncmFkMih2ZWMyKGl1dy55LCBpdncueSksIHJvdCk7XG4gICAgdmVjMiBnMiA9IHJncmFkMih2ZWMyKGl1dy56LCBpdncueiksIHJvdCk7XG5cbiAgICAvLyBHcmFkaWVudHMgZG90IHZlY3RvcnMgdG8gY29ycmVzcG9uZGluZyBjb3JuZXJzXG4gICAgLy8gKFRoZSBkZXJpdmF0aXZlcyBvZiB0aGlzIGFyZSBzaW1wbHkgdGhlIGdyYWRpZW50cylcbiAgICB2ZWMzIHcgPSB2ZWMzKGRvdChnMCwgZDApLCBkb3QoZzEsIGQxKSwgZG90KGcyLCBkMikpO1xuXG4gICAgLy8gUmFkaWFsIHdlaWdodHMgZnJvbSBjb3JuZXJzXG4gICAgLy8gMC44IGlzIHRoZSBzcXVhcmUgb2YgMi9zcXJ0KDUpLCB0aGUgZGlzdGFuY2UgZnJvbVxuICAgIC8vIGEgZ3JpZCBwb2ludCB0byB0aGUgbmVhcmVzdCBzaW1wbGV4IGJvdW5kYXJ5XG4gICAgdmVjMyB0ID0gMC44IC0gdmVjMyhkb3QoZDAsIGQwKSwgZG90KGQxLCBkMSksIGRvdChkMiwgZDIpKTtcblxuICAgIC8vIFNldCBpbmZsdWVuY2Ugb2YgZWFjaCBzdXJmbGV0IHRvIHplcm8gb3V0c2lkZSByYWRpdXMgc3FydCgwLjgpXG4gICAgdCA9IG1heCh0LCAwLjApO1xuXG4gICAgLy8gRm91cnRoIHBvd2VyIG9mIHRcbiAgICB2ZWMzIHQyID0gdCAqIHQ7XG4gICAgdmVjMyB0NCA9IHQyICogdDI7XG5cbiAgICAvLyBGaW5hbCBub2lzZSB2YWx1ZSBpczpcbiAgICAvLyBzdW0gb2YgKChyYWRpYWwgd2VpZ2h0cykgdGltZXMgKGdyYWRpZW50IGRvdCB2ZWN0b3IgZnJvbSBjb3JuZXIpKVxuICAgIGZsb2F0IG4gPSBkb3QodDQsIHcpO1xuXG4gICAgLy8gUmVzY2FsZSB0byBjb3ZlciB0aGUgcmFuZ2UgWy0xLDFdIHJlYXNvbmFibHkgd2VsbFxuICAgIHJldHVybiAxMS4wKm47XG4gIH1cblxuICAvL1xuICAvLyAyLUQgdGlsaW5nIHNpbXBsZXggbm9pc2Ugd2l0aCBmaXhlZCBncmFkaWVudHMsXG4gIC8vIHdpdGhvdXQgdGhlIGFuYWx5dGljYWwgZGVyaXZhdGl2ZS5cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyBpbXBsZW1lbnRlZCBhcyBhIHdyYXBwZXIgdG8gXCJwc3Jub2lzZVwiLFxuICAvLyBhdCB0aGUgbWluaW1hbCBjb3N0IG9mIHRocmVlIGV4dHJhIGFkZGl0aW9ucy5cbiAgLy9cbiAgZmxvYXQgcHNub2lzZSh2ZWMyIHBvcywgdmVjMiBwZXIpIHtcbiAgICByZXR1cm4gcHNybm9pc2UocG9zLCBwZXIsIDAuMCk7XG4gIH1cblxuICAvL1xuICAvLyAyLUQgbm9uLXRpbGluZyBzaW1wbGV4IG5vaXNlIHdpdGggcm90YXRpbmcgZ3JhZGllbnRzIGFuZCBhbmFseXRpY2FsIGRlcml2YXRpdmUuXG4gIC8vIFRoZSBmaXJzdCBjb21wb25lbnQgb2YgdGhlIDMtZWxlbWVudCByZXR1cm4gdmVjdG9yIGlzIHRoZSBub2lzZSB2YWx1ZSxcbiAgLy8gYW5kIHRoZSBzZWNvbmQgYW5kIHRoaXJkIGNvbXBvbmVudHMgYXJlIHRoZSB4IGFuZCB5IHBhcnRpYWwgZGVyaXZhdGl2ZXMuXG4gIC8vXG4gIHZlYzMgc3Jkbm9pc2UodmVjMiBwb3MsIGZsb2F0IHJvdCkge1xuICAgIC8vIE9mZnNldCB5IHNsaWdodGx5IHRvIGhpZGUgc29tZSByYXJlIGFydGlmYWN0c1xuICAgIHBvcy55ICs9IDAuMDAxO1xuICAgIC8vIFNrZXcgdG8gaGV4YWdvbmFsIGdyaWRcbiAgICB2ZWMyIHV2ID0gdmVjMihwb3MueCArIHBvcy55KjAuNSwgcG9zLnkpO1xuXG4gICAgdmVjMiBpMCA9IGZsb29yKHV2KTtcbiAgICB2ZWMyIGYwID0gZnJhY3QodXYpO1xuICAgIC8vIFRyYXZlcnNhbCBvcmRlclxuICAgIHZlYzIgaTEgPSAoZjAueCA+IGYwLnkpID8gdmVjMigxLjAsIDAuMCkgOiB2ZWMyKDAuMCwgMS4wKTtcblxuICAgIC8vIFVuc2tld2VkIGdyaWQgcG9pbnRzIGluICh4LHkpIHNwYWNlXG4gICAgdmVjMiBwMCA9IHZlYzIoaTAueCAtIGkwLnkgKiAwLjUsIGkwLnkpO1xuICAgIHZlYzIgcDEgPSB2ZWMyKHAwLnggKyBpMS54IC0gaTEueSAqIDAuNSwgcDAueSArIGkxLnkpO1xuICAgIHZlYzIgcDIgPSB2ZWMyKHAwLnggKyAwLjUsIHAwLnkgKyAxLjApO1xuXG4gICAgLy8gSW50ZWdlciBncmlkIHBvaW50IGluZGljZXMgaW4gKHUsdikgc3BhY2VcbiAgICBpMSA9IGkwICsgaTE7XG4gICAgdmVjMiBpMiA9IGkwICsgdmVjMigxLjAsIDEuMCk7XG5cbiAgICAvLyBWZWN0b3JzIGluIHVuc2tld2VkICh4LHkpIGNvb3JkaW5hdGVzIGZyb21cbiAgICAvLyBlYWNoIG9mIHRoZSBzaW1wbGV4IGNvcm5lcnMgdG8gdGhlIGV2YWx1YXRpb24gcG9pbnRcbiAgICB2ZWMyIGQwID0gcG9zIC0gcDA7XG4gICAgdmVjMiBkMSA9IHBvcyAtIHAxO1xuICAgIHZlYzIgZDIgPSBwb3MgLSBwMjtcblxuICAgIHZlYzMgeCA9IHZlYzMocDAueCwgcDEueCwgcDIueCk7XG4gICAgdmVjMyB5ID0gdmVjMyhwMC55LCBwMS55LCBwMi55KTtcbiAgICB2ZWMzIGl1dyA9IHggKyAwLjUgKiB5O1xuICAgIHZlYzMgaXZ3ID0geTtcblxuICAgIC8vIEF2b2lkIHByZWNpc2lvbiBpc3N1ZXMgaW4gcGVybXV0YXRpb25cbiAgICBpdXcgPSBtb2QyODkoaXV3KTtcbiAgICBpdncgPSBtb2QyODkoaXZ3KTtcblxuICAgIC8vIENyZWF0ZSBncmFkaWVudHMgZnJvbSBpbmRpY2VzXG4gICAgdmVjMiBnMCA9IHJncmFkMih2ZWMyKGl1dy54LCBpdncueCksIHJvdCk7XG4gICAgdmVjMiBnMSA9IHJncmFkMih2ZWMyKGl1dy55LCBpdncueSksIHJvdCk7XG4gICAgdmVjMiBnMiA9IHJncmFkMih2ZWMyKGl1dy56LCBpdncueiksIHJvdCk7XG5cbiAgICAvLyBHcmFkaWVudHMgZG90IHZlY3RvcnMgdG8gY29ycmVzcG9uZGluZyBjb3JuZXJzXG4gICAgLy8gKFRoZSBkZXJpdmF0aXZlcyBvZiB0aGlzIGFyZSBzaW1wbHkgdGhlIGdyYWRpZW50cylcbiAgICB2ZWMzIHcgPSB2ZWMzKGRvdChnMCwgZDApLCBkb3QoZzEsIGQxKSwgZG90KGcyLCBkMikpO1xuXG4gICAgLy8gUmFkaWFsIHdlaWdodHMgZnJvbSBjb3JuZXJzXG4gICAgLy8gMC44IGlzIHRoZSBzcXVhcmUgb2YgMi9zcXJ0KDUpLCB0aGUgZGlzdGFuY2UgZnJvbVxuICAgIC8vIGEgZ3JpZCBwb2ludCB0byB0aGUgbmVhcmVzdCBzaW1wbGV4IGJvdW5kYXJ5XG4gICAgdmVjMyB0ID0gMC44IC0gdmVjMyhkb3QoZDAsIGQwKSwgZG90KGQxLCBkMSksIGRvdChkMiwgZDIpKTtcblxuICAgIC8vIFBhcnRpYWwgZGVyaXZhdGl2ZXMgZm9yIGFuYWx5dGljYWwgZ3JhZGllbnQgY29tcHV0YXRpb25cbiAgICB2ZWMzIGR0ZHggPSAtMi4wICogdmVjMyhkMC54LCBkMS54LCBkMi54KTtcbiAgICB2ZWMzIGR0ZHkgPSAtMi4wICogdmVjMyhkMC55LCBkMS55LCBkMi55KTtcblxuICAgIC8vIFNldCBpbmZsdWVuY2Ugb2YgZWFjaCBzdXJmbGV0IHRvIHplcm8gb3V0c2lkZSByYWRpdXMgc3FydCgwLjgpXG4gICAgaWYgKHQueCA8IDAuMCkge1xuICAgICAgZHRkeC54ID0gMC4wO1xuICAgICAgZHRkeS54ID0gMC4wO1xuICAgICAgdC54ID0gMC4wO1xuICAgIH1cbiAgICBpZiAodC55IDwgMC4wKSB7XG4gICAgICBkdGR4LnkgPSAwLjA7XG4gICAgICBkdGR5LnkgPSAwLjA7XG4gICAgICB0LnkgPSAwLjA7XG4gICAgfVxuICAgIGlmICh0LnogPCAwLjApIHtcbiAgICAgIGR0ZHgueiA9IDAuMDtcbiAgICAgIGR0ZHkueiA9IDAuMDtcbiAgICAgIHQueiA9IDAuMDtcbiAgICB9XG5cbiAgICAvLyBGb3VydGggcG93ZXIgb2YgdCAoYW5kIHRoaXJkIHBvd2VyIGZvciBkZXJpdmF0aXZlKVxuICAgIHZlYzMgdDIgPSB0ICogdDtcbiAgICB2ZWMzIHQ0ID0gdDIgKiB0MjtcbiAgICB2ZWMzIHQzID0gdDIgKiB0O1xuXG4gICAgLy8gRmluYWwgbm9pc2UgdmFsdWUgaXM6XG4gICAgLy8gc3VtIG9mICgocmFkaWFsIHdlaWdodHMpIHRpbWVzIChncmFkaWVudCBkb3QgdmVjdG9yIGZyb20gY29ybmVyKSlcbiAgICBmbG9hdCBuID0gZG90KHQ0LCB3KTtcblxuICAgIC8vIEZpbmFsIGFuYWx5dGljYWwgZGVyaXZhdGl2ZSAoZ3JhZGllbnQgb2YgYSBzdW0gb2Ygc2NhbGFyIHByb2R1Y3RzKVxuICAgIHZlYzIgZHQwID0gdmVjMihkdGR4LngsIGR0ZHkueCkgKiA0LjAgKiB0My54O1xuICAgIHZlYzIgZG4wID0gdDQueCAqIGcwICsgZHQwICogdy54O1xuICAgIHZlYzIgZHQxID0gdmVjMihkdGR4LnksIGR0ZHkueSkgKiA0LjAgKiB0My55O1xuICAgIHZlYzIgZG4xID0gdDQueSAqIGcxICsgZHQxICogdy55O1xuICAgIHZlYzIgZHQyID0gdmVjMihkdGR4LnosIGR0ZHkueikgKiA0LjAgKiB0My56O1xuICAgIHZlYzIgZG4yID0gdDQueiAqIGcyICsgZHQyICogdy56O1xuXG4gICAgcmV0dXJuIDExLjAqdmVjMyhuLCBkbjAgKyBkbjEgKyBkbjIpO1xuICB9XG5cbiAgLy9cbiAgLy8gMi1EIG5vbi10aWxpbmcgc2ltcGxleCBub2lzZSB3aXRoIGZpeGVkIGdyYWRpZW50cyBhbmQgYW5hbHl0aWNhbCBkZXJpdmF0aXZlLlxuICAvLyBUaGlzIGZ1bmN0aW9uIGlzIGltcGxlbWVudGVkIGFzIGEgd3JhcHBlciB0byBcInNyZG5vaXNlXCIsXG4gIC8vIGF0IHRoZSBtaW5pbWFsIGNvc3Qgb2YgdGhyZWUgZXh0cmEgYWRkaXRpb25zLlxuICAvL1xuICB2ZWMzIHNkbm9pc2UodmVjMiBwb3MpIHtcbiAgICByZXR1cm4gc3Jkbm9pc2UocG9zLCAwLjApO1xuICB9XG5cbiAgLy9cbiAgLy8gMi1EIG5vbi10aWxpbmcgc2ltcGxleCBub2lzZSB3aXRoIHJvdGF0aW5nIGdyYWRpZW50cyxcbiAgLy8gd2l0aG91dCB0aGUgYW5hbHl0aWNhbCBkZXJpdmF0aXZlLlxuICAvL1xuICBmbG9hdCBzcm5vaXNlKHZlYzIgcG9zLCBmbG9hdCByb3QpIHtcbiAgICAvLyBPZmZzZXQgeSBzbGlnaHRseSB0byBoaWRlIHNvbWUgcmFyZSBhcnRpZmFjdHNcbiAgICBwb3MueSArPSAwLjAwMTtcbiAgICAvLyBTa2V3IHRvIGhleGFnb25hbCBncmlkXG4gICAgdmVjMiB1diA9IHZlYzIocG9zLnggKyBwb3MueSowLjUsIHBvcy55KTtcblxuICAgIHZlYzIgaTAgPSBmbG9vcih1dik7XG4gICAgdmVjMiBmMCA9IGZyYWN0KHV2KTtcbiAgICAvLyBUcmF2ZXJzYWwgb3JkZXJcbiAgICB2ZWMyIGkxID0gKGYwLnggPiBmMC55KSA/IHZlYzIoMS4wLCAwLjApIDogdmVjMigwLjAsIDEuMCk7XG5cbiAgICAvLyBVbnNrZXdlZCBncmlkIHBvaW50cyBpbiAoeCx5KSBzcGFjZVxuICAgIHZlYzIgcDAgPSB2ZWMyKGkwLnggLSBpMC55ICogMC41LCBpMC55KTtcbiAgICB2ZWMyIHAxID0gdmVjMihwMC54ICsgaTEueCAtIGkxLnkgKiAwLjUsIHAwLnkgKyBpMS55KTtcbiAgICB2ZWMyIHAyID0gdmVjMihwMC54ICsgMC41LCBwMC55ICsgMS4wKTtcblxuICAgIC8vIEludGVnZXIgZ3JpZCBwb2ludCBpbmRpY2VzIGluICh1LHYpIHNwYWNlXG4gICAgaTEgPSBpMCArIGkxO1xuICAgIHZlYzIgaTIgPSBpMCArIHZlYzIoMS4wLCAxLjApO1xuXG4gICAgLy8gVmVjdG9ycyBpbiB1bnNrZXdlZCAoeCx5KSBjb29yZGluYXRlcyBmcm9tXG4gICAgLy8gZWFjaCBvZiB0aGUgc2ltcGxleCBjb3JuZXJzIHRvIHRoZSBldmFsdWF0aW9uIHBvaW50XG4gICAgdmVjMiBkMCA9IHBvcyAtIHAwO1xuICAgIHZlYzIgZDEgPSBwb3MgLSBwMTtcbiAgICB2ZWMyIGQyID0gcG9zIC0gcDI7XG5cbiAgICAvLyBXcmFwIGkwLCBpMSBhbmQgaTIgdG8gdGhlIGRlc2lyZWQgcGVyaW9kIGJlZm9yZSBncmFkaWVudCBoYXNoaW5nOlxuICAgIC8vIHdyYXAgcG9pbnRzIGluICh4LHkpLCBtYXAgdG8gKHUsdilcbiAgICB2ZWMzIHggPSB2ZWMzKHAwLngsIHAxLngsIHAyLngpO1xuICAgIHZlYzMgeSA9IHZlYzMocDAueSwgcDEueSwgcDIueSk7XG4gICAgdmVjMyBpdXcgPSB4ICsgMC41ICogeTtcbiAgICB2ZWMzIGl2dyA9IHk7XG5cbiAgICAvLyBBdm9pZCBwcmVjaXNpb24gaXNzdWVzIGluIHBlcm11dGF0aW9uXG4gICAgaXV3ID0gbW9kMjg5KGl1dyk7XG4gICAgaXZ3ID0gbW9kMjg5KGl2dyk7XG5cbiAgICAvLyBDcmVhdGUgZ3JhZGllbnRzIGZyb20gaW5kaWNlc1xuICAgIHZlYzIgZzAgPSByZ3JhZDIodmVjMihpdXcueCwgaXZ3LngpLCByb3QpO1xuICAgIHZlYzIgZzEgPSByZ3JhZDIodmVjMihpdXcueSwgaXZ3LnkpLCByb3QpO1xuICAgIHZlYzIgZzIgPSByZ3JhZDIodmVjMihpdXcueiwgaXZ3LnopLCByb3QpO1xuXG4gICAgLy8gR3JhZGllbnRzIGRvdCB2ZWN0b3JzIHRvIGNvcnJlc3BvbmRpbmcgY29ybmVyc1xuICAgIC8vIChUaGUgZGVyaXZhdGl2ZXMgb2YgdGhpcyBhcmUgc2ltcGx5IHRoZSBncmFkaWVudHMpXG4gICAgdmVjMyB3ID0gdmVjMyhkb3QoZzAsIGQwKSwgZG90KGcxLCBkMSksIGRvdChnMiwgZDIpKTtcblxuICAgIC8vIFJhZGlhbCB3ZWlnaHRzIGZyb20gY29ybmVyc1xuICAgIC8vIDAuOCBpcyB0aGUgc3F1YXJlIG9mIDIvc3FydCg1KSwgdGhlIGRpc3RhbmNlIGZyb21cbiAgICAvLyBhIGdyaWQgcG9pbnQgdG8gdGhlIG5lYXJlc3Qgc2ltcGxleCBib3VuZGFyeVxuICAgIHZlYzMgdCA9IDAuOCAtIHZlYzMoZG90KGQwLCBkMCksIGRvdChkMSwgZDEpLCBkb3QoZDIsIGQyKSk7XG5cbiAgICAvLyBTZXQgaW5mbHVlbmNlIG9mIGVhY2ggc3VyZmxldCB0byB6ZXJvIG91dHNpZGUgcmFkaXVzIHNxcnQoMC44KVxuICAgIHQgPSBtYXgodCwgMC4wKTtcblxuICAgIC8vIEZvdXJ0aCBwb3dlciBvZiB0XG4gICAgdmVjMyB0MiA9IHQgKiB0O1xuICAgIHZlYzMgdDQgPSB0MiAqIHQyO1xuXG4gICAgLy8gRmluYWwgbm9pc2UgdmFsdWUgaXM6XG4gICAgLy8gc3VtIG9mICgocmFkaWFsIHdlaWdodHMpIHRpbWVzIChncmFkaWVudCBkb3QgdmVjdG9yIGZyb20gY29ybmVyKSlcbiAgICBmbG9hdCBuID0gZG90KHQ0LCB3KTtcblxuICAgIC8vIFJlc2NhbGUgdG8gY292ZXIgdGhlIHJhbmdlIFstMSwxXSByZWFzb25hYmx5IHdlbGxcbiAgICByZXR1cm4gMTEuMCpuO1xuICB9XG5cbiAgLy9cbiAgLy8gMi1EIG5vbi10aWxpbmcgc2ltcGxleCBub2lzZSB3aXRoIGZpeGVkIGdyYWRpZW50cyxcbiAgLy8gd2l0aG91dCB0aGUgYW5hbHl0aWNhbCBkZXJpdmF0aXZlLlxuICAvLyBUaGlzIGZ1bmN0aW9uIGlzIGltcGxlbWVudGVkIGFzIGEgd3JhcHBlciB0byBcInNybm9pc2VcIixcbiAgLy8gYXQgdGhlIG1pbmltYWwgY29zdCBvZiB0aHJlZSBleHRyYSBhZGRpdGlvbnMuXG4gIC8vIE5vdGU6IGlmIHRoaXMga2luZCBvZiBub2lzZSBpcyBhbGwgeW91IHdhbnQsIHRoZXJlIGFyZSBmYXN0ZXJcbiAgLy8gR0xTTCBpbXBsZW1lbnRhdGlvbnMgb2Ygbm9uLXRpbGluZyBzaW1wbGV4IG5vaXNlIG91dCB0aGVyZS5cbiAgLy8gVGhpcyBvbmUgaXMgaW5jbHVkZWQgbWFpbmx5IGZvciBjb21wbGV0ZW5lc3MgYW5kIGNvbXBhdGliaWxpdHlcbiAgLy8gd2l0aCB0aGUgb3RoZXIgZnVuY3Rpb25zIGluIHRoZSBmaWxlLlxuICAvL1xuICBmbG9hdCBzbm9pc2UodmVjMiBwb3MpIHtcbiAgICByZXR1cm4gc3Jub2lzZShwb3MsIDAuMCk7XG4gIH1cblxuICBmbG9hdCBoYXNoKGZsb2F0IHgsIGZsb2F0IHkpIHtcbiAgICAgIHJldHVybiBmcmFjdChhYnMoc2luKHNpbigxMjMuMzIxICsgeCkgKiAoeSArIDMyMS4xMjMpKSAqIDQ1Ni42NTQpKTtcbiAgfVxuXG4gIGZsb2F0IGxlcnAoZmxvYXQgYSwgZmxvYXQgYiwgZmxvYXQgdCkge1xuICAgICAgcmV0dXJuIGEgKiAoMS4wIC0gdCkgKyBiICogdDtcbiAgfVxuXG4gIGZsb2F0IHBlcmxpbihmbG9hdCB4LCBmbG9hdCB5KXtcbiAgICAgIGZsb2F0IGNvbCA9IDAuMDtcbiAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgODsgaSsrKVxuICAgICAge1xuICAgICAgICAgIGZsb2F0IGZ4ID0gZmxvb3IoeCk7XG4gICAgICAgICAgZmxvYXQgZnkgPSBmbG9vcih5KTtcbiAgICAgICAgICBmbG9hdCBjeCA9IGNlaWwoeCk7XG4gICAgICAgICAgZmxvYXQgY3kgPSBjZWlsKHkpO1xuICAgICAgICAgIGZsb2F0IGEgPSBoYXNoKGZ4LCBmeSk7XG4gICAgICAgICAgZmxvYXQgYiA9IGhhc2goZngsIGN5KTtcbiAgICAgICAgICBmbG9hdCBjID0gaGFzaChjeCwgZnkpO1xuICAgICAgICAgIGZsb2F0IGQgPSBoYXNoKGN4LCBjeSk7XG4gICAgICAgICAgY29sICs9IGxlcnAobGVycChhLCBiLCBmcmFjdCh5KSksIGxlcnAoYywgZCwgZnJhY3QoeSkpLCBmcmFjdCh4KSk7XG4gICAgICAgICAgY29sIC89IDIuMDtcbiAgICAgICAgICB4IC89IDIuMDtcbiAgICAgICAgICB5IC89IDIuMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb2w7XG4gIH1cblxuICBmbG9hdCBkcGVybGluKGZsb2F0IHgsIGZsb2F0IHkpe1xuICAgICAgZmxvYXQgZCA9IHBlcmxpbih4LCB5KSAqIDgwMC4wO1xuICAgICAgcmV0dXJuIHBlcmxpbih4ICsgZCwgeSArIGQpO1xuICB9XG5cbiAgZmxvYXQgZGRwZXJsaW4oZmxvYXQgeCwgZmxvYXQgeSl7XG4gICAgICBmbG9hdCBkID0gcGVybGluKHgsIHkpICogODAwLjA7XG4gICAgICByZXR1cm4gZHBlcmxpbih4ICsgZCwgeSArIGQpO1xuICB9XG5cblxuICBmbG9hdCByYW5kb20oIHZlYzMgcHQsIGZsb2F0IHNlZWQgKXtcbiAgICB2ZWMzIHNjYWxlID0gdmVjMyggMTIuOTg5OCwgNzguMjMzLCAxNTEuNzE4MiApO1xuICAgIHJldHVybiBmcmFjdCggc2luKCBkb3QoIHB0ICsgc2VlZCwgc2NhbGUgKSApICogNDM3NTguNTQ1MyArIHNlZWQgKSA7XG4gIH1cbmA7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9pc2UuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/shaders/three-shader-chunks/noise.js\n");

/***/ }),

/***/ "./lib/string/css-unit.js":
/*!********************************!*\
  !*** ./lib/string/css-unit.js ***!
  \********************************/
/*! exports provided: CssUnitObjectTypes, parse, cssUnit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CssUnitObjectTypes\", function() { return CssUnitObjectTypes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parse\", function() { return parse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cssUnit\", function() { return cssUnit; });\n/* harmony import */ var _is_is__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\n/* harmony import */ var _mathf_color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mathf/color */ \"./lib/mathf/color.js\");\n\n\n/**\n * The different types of structures that can be passed.\n * @see https://css-tricks.com/converting-color-spaces-in-javascript/\n */\nvar CssUnitObjectTypes;\n(function (CssUnitObjectTypes) {\n    /**\n     * A number.\n     */\n    CssUnitObjectTypes[\"number\"] = \"num\";\n    /**\n     * A standard numerical value + unit such as '1px' or '10%'\n     */\n    CssUnitObjectTypes[\"unit\"] = \"unit\";\n    /**\n     * A css hex unit such as '#FFFFFF'\n     */\n    CssUnitObjectTypes[\"cssHex\"] = \"cssHex\";\n    /**\n     * A css rgba unit such as 'rgba(255, 255, 255, 0.3)'\n     */\n    CssUnitObjectTypes[\"rgba\"] = \"rgba\";\n    /**\n     * A css rgb unit such as 'rgba(255, 255, 255)'\n     */\n    CssUnitObjectTypes[\"rgb\"] = \"rgb\";\n})(CssUnitObjectTypes || (CssUnitObjectTypes = {}));\n/**\n * Takes a css unit value like '10px' or '20vw' and parses it into\n * a CssUnitObject.\n * @param css\n */\nfunction parse(css) {\n    // const value = css.match(/-?\\d+/g);\n    const value = css.replace(/[a-zA-Z%]+/g, '');\n    const unit = css.match(/[a-zA-Z%]+/g);\n    const result = {\n        value: null,\n        unit: null,\n        type: null,\n        valueType: null,\n        originalValue: css,\n    };\n    if (_is_is__WEBPACK_IMPORTED_MODULE_0__[\"cssRgba\"](css)) {\n        result.type = CssUnitObjectTypes.rgba;\n        result.value = _mathf_color__WEBPACK_IMPORTED_MODULE_1__[\"cssToRgba\"](css);\n        result.valueType = CssUnitObjectTypes.rgba;\n    }\n    else if (_is_is__WEBPACK_IMPORTED_MODULE_0__[\"cssRgb\"](css)) {\n        result.type = CssUnitObjectTypes.rgb;\n        result.value = _mathf_color__WEBPACK_IMPORTED_MODULE_1__[\"cssToRgba\"](css);\n        result.valueType = CssUnitObjectTypes.rgba;\n    }\n    else if (_is_is__WEBPACK_IMPORTED_MODULE_0__[\"cssHex\"](css)) {\n        result.value = _mathf_color__WEBPACK_IMPORTED_MODULE_1__[\"cssToRgba\"](css);\n        result.type = CssUnitObjectTypes.cssHex;\n        result.valueType = CssUnitObjectTypes.rgba;\n    }\n    else {\n        result.value = value ? +value : null;\n        result.unit = unit ? unit[0] : null;\n        result.type = CssUnitObjectTypes.unit;\n        result.valueType = CssUnitObjectTypes.number;\n    }\n    result.originalValue = css;\n    return result;\n}\n/**\n * A class that helps parsing of css units.\n *\n *\n * ```ts\n *\n * cssUnit.parse('10%').unit // %\n * cssUnit.parse('10%').type // unit\n * cssUnit.parse('10%').valueType // number\n * cssUnit.parse('10%').value // 10\n *\n *\n *\n * let rgba = 'rgba(255, 255, 255, 0.3)'\n * cssUnit.parse(rgba).unit // null\n * cssUnit.parse(rgba).type // rgba\n * cssUnit.parse(rgba).value // Return ColorRgba\n * cssUnit.parse(rgba).value.r // 255\n * cssUnit.parse(rgba).value.g // 255\n * cssUnit.parse(rgba).value.b // 255\n * cssUnit.parse(rgba).value.a // a\n *\n *\n * let hex = '#FFFFFF'\n * cssUnit.parse(rgba).unit // null\n * cssUnit.parse(rgba).type // cssHex\n * cssUnit.parse(rgba).originalValue // '#FFFFFF'\n * cssUnit.parse(rgba).value // Return ColorRgba (we use rgba as the centeral unit)\n * cssUnit.parse(rgba).value.r // 255\n * cssUnit.parse(rgba).value.g // 255\n * cssUnit.parse(rgba).value.b // 255\n * cssUnit.parse(rgba).value.a // a\n *\n * let rgba = 'rgb(255, 255, 255)'\n * cssUnit.parse(rgba).unit // null\n * cssUnit.parse(rgba).type // rgba\n * cssUnit.parse(rgba).value // Return ColorRgba\n *\n * ```\n */\nconst cssUnit = {\n    parse,\n};\n//# sourceMappingURL=css-unit.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc3RyaW5nL2Nzcy11bml0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3N0cmluZy9jc3MtdW5pdC5qcz9kZTY2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGlzIGZyb20gJy4uL2lzL2lzJztcbmltcG9ydCAqIGFzIGNvbG9yIGZyb20gJy4uL21hdGhmL2NvbG9yJztcbi8qKlxuICogVGhlIGRpZmZlcmVudCB0eXBlcyBvZiBzdHJ1Y3R1cmVzIHRoYXQgY2FuIGJlIHBhc3NlZC5cbiAqIEBzZWUgaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9jb252ZXJ0aW5nLWNvbG9yLXNwYWNlcy1pbi1qYXZhc2NyaXB0L1xuICovXG5leHBvcnQgdmFyIENzc1VuaXRPYmplY3RUeXBlcztcbihmdW5jdGlvbiAoQ3NzVW5pdE9iamVjdFR5cGVzKSB7XG4gICAgLyoqXG4gICAgICogQSBudW1iZXIuXG4gICAgICovXG4gICAgQ3NzVW5pdE9iamVjdFR5cGVzW1wibnVtYmVyXCJdID0gXCJudW1cIjtcbiAgICAvKipcbiAgICAgKiBBIHN0YW5kYXJkIG51bWVyaWNhbCB2YWx1ZSArIHVuaXQgc3VjaCBhcyAnMXB4JyBvciAnMTAlJ1xuICAgICAqL1xuICAgIENzc1VuaXRPYmplY3RUeXBlc1tcInVuaXRcIl0gPSBcInVuaXRcIjtcbiAgICAvKipcbiAgICAgKiBBIGNzcyBoZXggdW5pdCBzdWNoIGFzICcjRkZGRkZGJ1xuICAgICAqL1xuICAgIENzc1VuaXRPYmplY3RUeXBlc1tcImNzc0hleFwiXSA9IFwiY3NzSGV4XCI7XG4gICAgLyoqXG4gICAgICogQSBjc3MgcmdiYSB1bml0IHN1Y2ggYXMgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKSdcbiAgICAgKi9cbiAgICBDc3NVbml0T2JqZWN0VHlwZXNbXCJyZ2JhXCJdID0gXCJyZ2JhXCI7XG4gICAgLyoqXG4gICAgICogQSBjc3MgcmdiIHVuaXQgc3VjaCBhcyAncmdiYSgyNTUsIDI1NSwgMjU1KSdcbiAgICAgKi9cbiAgICBDc3NVbml0T2JqZWN0VHlwZXNbXCJyZ2JcIl0gPSBcInJnYlwiO1xufSkoQ3NzVW5pdE9iamVjdFR5cGVzIHx8IChDc3NVbml0T2JqZWN0VHlwZXMgPSB7fSkpO1xuLyoqXG4gKiBUYWtlcyBhIGNzcyB1bml0IHZhbHVlIGxpa2UgJzEwcHgnIG9yICcyMHZ3JyBhbmQgcGFyc2VzIGl0IGludG9cbiAqIGEgQ3NzVW5pdE9iamVjdC5cbiAqIEBwYXJhbSBjc3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKGNzcykge1xuICAgIC8vIGNvbnN0IHZhbHVlID0gY3NzLm1hdGNoKC8tP1xcZCsvZyk7XG4gICAgY29uc3QgdmFsdWUgPSBjc3MucmVwbGFjZSgvW2EtekEtWiVdKy9nLCAnJyk7XG4gICAgY29uc3QgdW5pdCA9IGNzcy5tYXRjaCgvW2EtekEtWiVdKy9nKTtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICB1bml0OiBudWxsLFxuICAgICAgICB0eXBlOiBudWxsLFxuICAgICAgICB2YWx1ZVR5cGU6IG51bGwsXG4gICAgICAgIG9yaWdpbmFsVmFsdWU6IGNzcyxcbiAgICB9O1xuICAgIGlmIChpcy5jc3NSZ2JhKGNzcykpIHtcbiAgICAgICAgcmVzdWx0LnR5cGUgPSBDc3NVbml0T2JqZWN0VHlwZXMucmdiYTtcbiAgICAgICAgcmVzdWx0LnZhbHVlID0gY29sb3IuY3NzVG9SZ2JhKGNzcyk7XG4gICAgICAgIHJlc3VsdC52YWx1ZVR5cGUgPSBDc3NVbml0T2JqZWN0VHlwZXMucmdiYTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXMuY3NzUmdiKGNzcykpIHtcbiAgICAgICAgcmVzdWx0LnR5cGUgPSBDc3NVbml0T2JqZWN0VHlwZXMucmdiO1xuICAgICAgICByZXN1bHQudmFsdWUgPSBjb2xvci5jc3NUb1JnYmEoY3NzKTtcbiAgICAgICAgcmVzdWx0LnZhbHVlVHlwZSA9IENzc1VuaXRPYmplY3RUeXBlcy5yZ2JhO1xuICAgIH1cbiAgICBlbHNlIGlmIChpcy5jc3NIZXgoY3NzKSkge1xuICAgICAgICByZXN1bHQudmFsdWUgPSBjb2xvci5jc3NUb1JnYmEoY3NzKTtcbiAgICAgICAgcmVzdWx0LnR5cGUgPSBDc3NVbml0T2JqZWN0VHlwZXMuY3NzSGV4O1xuICAgICAgICByZXN1bHQudmFsdWVUeXBlID0gQ3NzVW5pdE9iamVjdFR5cGVzLnJnYmE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQudmFsdWUgPSB2YWx1ZSA/ICt2YWx1ZSA6IG51bGw7XG4gICAgICAgIHJlc3VsdC51bml0ID0gdW5pdCA/IHVuaXRbMF0gOiBudWxsO1xuICAgICAgICByZXN1bHQudHlwZSA9IENzc1VuaXRPYmplY3RUeXBlcy51bml0O1xuICAgICAgICByZXN1bHQudmFsdWVUeXBlID0gQ3NzVW5pdE9iamVjdFR5cGVzLm51bWJlcjtcbiAgICB9XG4gICAgcmVzdWx0Lm9yaWdpbmFsVmFsdWUgPSBjc3M7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQSBjbGFzcyB0aGF0IGhlbHBzIHBhcnNpbmcgb2YgY3NzIHVuaXRzLlxuICpcbiAqXG4gKiBgYGB0c1xuICpcbiAqIGNzc1VuaXQucGFyc2UoJzEwJScpLnVuaXQgLy8gJVxuICogY3NzVW5pdC5wYXJzZSgnMTAlJykudHlwZSAvLyB1bml0XG4gKiBjc3NVbml0LnBhcnNlKCcxMCUnKS52YWx1ZVR5cGUgLy8gbnVtYmVyXG4gKiBjc3NVbml0LnBhcnNlKCcxMCUnKS52YWx1ZSAvLyAxMFxuICpcbiAqXG4gKlxuICogbGV0IHJnYmEgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpJ1xuICogY3NzVW5pdC5wYXJzZShyZ2JhKS51bml0IC8vIG51bGxcbiAqIGNzc1VuaXQucGFyc2UocmdiYSkudHlwZSAvLyByZ2JhXG4gKiBjc3NVbml0LnBhcnNlKHJnYmEpLnZhbHVlIC8vIFJldHVybiBDb2xvclJnYmFcbiAqIGNzc1VuaXQucGFyc2UocmdiYSkudmFsdWUuciAvLyAyNTVcbiAqIGNzc1VuaXQucGFyc2UocmdiYSkudmFsdWUuZyAvLyAyNTVcbiAqIGNzc1VuaXQucGFyc2UocmdiYSkudmFsdWUuYiAvLyAyNTVcbiAqIGNzc1VuaXQucGFyc2UocmdiYSkudmFsdWUuYSAvLyBhXG4gKlxuICpcbiAqIGxldCBoZXggPSAnI0ZGRkZGRidcbiAqIGNzc1VuaXQucGFyc2UocmdiYSkudW5pdCAvLyBudWxsXG4gKiBjc3NVbml0LnBhcnNlKHJnYmEpLnR5cGUgLy8gY3NzSGV4XG4gKiBjc3NVbml0LnBhcnNlKHJnYmEpLm9yaWdpbmFsVmFsdWUgLy8gJyNGRkZGRkYnXG4gKiBjc3NVbml0LnBhcnNlKHJnYmEpLnZhbHVlIC8vIFJldHVybiBDb2xvclJnYmEgKHdlIHVzZSByZ2JhIGFzIHRoZSBjZW50ZXJhbCB1bml0KVxuICogY3NzVW5pdC5wYXJzZShyZ2JhKS52YWx1ZS5yIC8vIDI1NVxuICogY3NzVW5pdC5wYXJzZShyZ2JhKS52YWx1ZS5nIC8vIDI1NVxuICogY3NzVW5pdC5wYXJzZShyZ2JhKS52YWx1ZS5iIC8vIDI1NVxuICogY3NzVW5pdC5wYXJzZShyZ2JhKS52YWx1ZS5hIC8vIGFcbiAqXG4gKiBsZXQgcmdiYSA9ICdyZ2IoMjU1LCAyNTUsIDI1NSknXG4gKiBjc3NVbml0LnBhcnNlKHJnYmEpLnVuaXQgLy8gbnVsbFxuICogY3NzVW5pdC5wYXJzZShyZ2JhKS50eXBlIC8vIHJnYmFcbiAqIGNzc1VuaXQucGFyc2UocmdiYSkudmFsdWUgLy8gUmV0dXJuIENvbG9yUmdiYVxuICpcbiAqIGBgYFxuICovXG5leHBvcnQgY29uc3QgY3NzVW5pdCA9IHtcbiAgICBwYXJzZSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jc3MtdW5pdC5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/string/css-unit.js\n");

/***/ }),

/***/ "./lib/threef/scene-renderer.js":
/*!**************************************!*\
  !*** ./lib/threef/scene-renderer.js ***!
  \**************************************/
/*! exports provided: SceneResizingAlgo, SceneRenderer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SceneResizingAlgo\", function() { return SceneResizingAlgo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SceneRenderer\", function() { return SceneRenderer; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _three_inspector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./three-inspector */ \"./lib/threef/three-inspector.js\");\n/* harmony import */ var _dom_element_visibility__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dom/element-visibility */ \"./lib/dom/element-visibility.js\");\n/* harmony import */ var _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _is_is__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\n\n\n\n\n\n\nvar SceneResizingAlgo;\n(function (SceneResizingAlgo) {\n    /**\n     * This is most commonly used three.js aspect ratio based resizing but\n     * doesn't really work great on mobile if you are using the full viewport.\n     *\n     * Basically doing:\n     *  camera.aspect = aspect;\n     *  camera.updateProjectionMatrix();\n     *\n     * Basically, the camera will project out objects to the aspect ratio\n     * of the dom element.  It contains Y but clips X.\n     *\n     * Thinking in terms of css, you can think of this similar to a\n     * background-size: contain for height only and background-cover for width.\n     *\n     * Using this, as you resize your scene, the tops and bottom will never be\n     * clipped but the sides can be clipped.  All of this is relative to\n     * how you setup your scene as well (camera position, object positions etc)\n     *\n     * Nuthsell:\n     * - If you resize the height, your object will go down in size.\n     * - If you resize the width, your objects will not change in size.\n     * - Resizing is based on a NDC 0,0 coordinates.\n     */\n    SceneResizingAlgo[\"standardAspect\"] = \"standardAspect\";\n    /**\n     * An algo that attempts to recreate a similar effect as background: contain\n     * but it's based on zoom.  This require you to pass the resizeScalar value\n     * which in this case would be used to multiply the zoom value.\n     *\n     * This is a less preferred method so consider using 'contain' instead.\n     *\n     * Nuthsell:\n     * - If you resize the height, your object will go down in size.\n     * - If you resize the width, your objects will go down in size by changing\n     *   the camera zoom.\n     * - Resizing is based on a NDC 0,0 coordinates.\n     * - resizingScalar can be passed to adust the zoom levels.\n     */\n    SceneResizingAlgo[\"resizeWithZoom\"] = \"resizeWithZoom\";\n    /**\n     * This algo can be useful because it calculates the FOV\n     * based on a scalar value.\n     *\n     * This is useful in two scenerios.\n     * 1) You want to force an absolute size for your objects.\n     *    By passing a resizingScalar that doesn't change,\n     *    the projection will always be of a consistent size regardless\n     *    of the canvas size.\n     *\n     *    The easiest way to describe this is to image a window in your house.\n     *    The window would be the canvas size (scene size).  By using a resizingScalar,\n     *    you can basically create a scene where your house window size might\n     *    change but what is projected out the window is exaclty the same size.\n     *    It more like peaking into another world without the world changing.\n     *\n     *    To use this, set your resizingAlgo to 'resizeWithFov' and also pass\n     *    a resizingScalar (something like 200 or 1000).  When you do this,\n     *    you'll notice that your objects are always the same size.\n     *\n     *    If you have breakpoints in your project, could could change the\n     *    resizingScalar based on your breakpoints and the objects in your scene,\n     *    will nicely resizing and you have control over how it looks.\n     *\n     * 2) Knowing the characteristics described in 1,\n     *    you can make a responsive scene by changing adjusting the resizingScalar.\n     *    The basis of how it scales can change depending on how you want to\n     *    adjust the scalar.\n     *\n     *    This provides you with the ability to resize the scene objects based on\n     *    axis\n     *    - x (element.offsetWidth)\n     *    - y (element.offsetHeight)\n     *    - x or y (Math.min(element.offsetWidth, element.offsetHeight))\n     *\n     * ```ts\n     *  const scene = new THREE.Scene();\n     *  const element = document.getElementById('my-element');\n     *  sceneRenderer.addScene({\n     *    resizingAlgo: 'resizingWithFov',\n     *    domElement: element,\n     *    // Update the scalar prior to resizing.\n     *    onBeforeResize: ()=> {\n     *     // Resizing the objects in your scene based on the current width of the\n     *     // dom element.\n     *     // If you do this, the objects will get smaller as you narrow your browser.\n     *     // (or the element width gets smaller)\n     *     scene.userData.resizingScalar = element.offsetWidth * 0.2\n     *\n     *\n     *     // Resizing the objects in your scene based on the current height of the\n     *     // dom element.\n     *     // If you do this, the objects will get smaller as you shorten your browser\n     *     // (or the element height gets smaller).\n     *     scene.userData.resizingScalar = element.offsetHeight * 0.2;\n     *\n     *\n     *     // Resize both in x and y scales.\n     *     scene.userData.resizingScalar = Math.min(element.offsetHeight, element.offsetWidth) * 0.2;\n     *   }\n     * })\n     *\n     * ```\n     */\n    SceneResizingAlgo[\"resizeWithFov\"] = \"resizeWithFov\";\n    /**\n     * An algo that \"attempts\" to recreate contain type effects.\n     * Read below on the Resizing Algo section for more information on\n     * this algo.\n     */\n    SceneResizingAlgo[\"contain\"] = \"contain\";\n    /**\n     * An algo that \"attempts\" to recreate cover type effects.\n     * Read below on the Resizing Algo section for more information on\n     * this algo.\n     */\n    SceneResizingAlgo[\"cover\"] = \"cover\";\n    /**\n     * Indicates that scene-renders should not attempt to resize and fix\n     * camera aspect on resizing.  This will be handled manually.  Scene\n     * defaults to manual if nothing is specified for resizingAlgo.\n     *\n     *\n     * An example of manually handing the resizing.\n     * ```\n     *\n     *       this.sceneRenderer.addScene({\n     *           resizingAlgo: 'manual',\n     *           scene: scene,\n     *           camera: camera,\n     *           domElement: element,\n     *           onResize() {\n     *               camera.aspect = element.offsetWidth / element.offsetHeight;\n     *               camera.updateProjectionMatrix();\n     *           }\n     *       });\n     *\n     * ```\n     */\n    SceneResizingAlgo[\"manual\"] = \"manual\";\n})(SceneResizingAlgo || (SceneResizingAlgo = {}));\n/**\n * A class that attempts to get around max webGL context issues by having a\n * single renderer on the page.\n *\n * At a high level the issue is that you can't have more than 8 or so webGL\n * contexts as a general browser limitation.  Each context also can't share\n * resources.   So on pages where you might want to have like multiple webGL\n * canvases, you hit a road block.\n *\n * The solution here is to have a single canvas that covers the entire page (100vw x 100vh)\n * This single renderer would accept three.js scenes, which each define\n * a root html element to indicate the size and position to render.\n *\n * These scenes get reigstered to the sceneRenderer which upon calling,\n * sceneRenderer, will check the location of each registered scene dom element\n * and render it at the right place.\n *\n * This means that you could potentially export out a single gltf file with\n * multiple scenes and load it once to render on various DOM elements allowing\n * you to recycle geometry and avoid the webGL context limitations.\n *\n * For example usage, see:\n * @see /examples/three-scene-renderer.js\n * @see /examples/three-scene-renderer2.js\n *\n *\n * A high level example:\n *\n * ```\n * // Create an instance of SceneRenderer\n * this.sceneRenderer = new SceneRenderer({});\n *\n * // Add as many scenes as you like.\n *  this.sceneRenderer.addScene({\n *      // The resizing algo.\n *      resizingAlgo: 'resizeWithFov',\n *      resizingScalar: 1.0,\n *      scene: scene,\n *      camera: camera,\n *      // The dom element that this scene should render and size to.\n *      domElement: document.getElementById('my-element'),\n *      onBeforeRender: (renderer, scene, camera)=> {\n *           // Add some animations or whatever you need on render.\n *           scene.children[ 0 ].rotation.y = Date.now() * 0.001;\n *      },\n *      onAfterRender: (renderer, scene, camera)=> {\n *          // This is used for clean up.  For example, you may\n *          // have had a need to alter the settings of the renderer.\n *          // You would clean up here.\n *      }\n *      onBeforeResize: (renderer, scene, camera)=> {\n *         // Gets fired prior to resizing algo gets calculated.\n *\n *         // Update any of your scene options.\n *         scene.userData.resizingScalar = 2.0;\n *      },\n *      onResize(renderer, scene, camera) {\n *         // Gets fired after resizing algo gets calculated.\n *         // Depending on the algo you use, the camera.fov and aspect\n *         // would have been altered by this stage.\n *         // If you need access to pre alter values, then use\n *         // onBeforeResize\n *      }\n *     });\n *  });\n *\n * // Whereever you have RAF setup,\n * this.sceneRenderer.render();\n *\n * // Later dispose to clean up.\n * this.sceneRenderer.dispose();\n *\n * ```\n *\n *\n * ## Resizing Algos\n * There are various resizing algos available.  The current recommendation is\n * to use 'contain' or 'cover' where possible as this has been designed to most closely\n * reflect how css background-contain would work.\n *\n * You can also specify your own logic by setting resizingAlgo to 'manual'.\n *\n *\n * Using 'Contain' algo\n * The resizingAlgo contain accepts a few parameters.  Because in a 3d scene,\n * size is really relative to the current camera position and object sizes,\n * it is up to you to define the \"bounds\" of which should be contained in\n * your scene.  This is different per project but is specified in webGL world\n * scale.\n *\n * Contain requires the following resizing options:\n * - scalarX - a float representing the horizontal scale of the bounding box\n * - scalarY - a float representing the vertical scalar of the bounding box.\n *\n * The easiest way to figure out what values to use is to imagine\n * a box with an image on your screen and basically, you are defining\n * that box size and telling the scene-renderer to never crop that image (contain).\n *\n * Start with the shape you want to draw.  If you say wanted a\n * tall image, perhaps it's like 1200x1800 pixels.  Try using\n * those values but reducing it by a factor of 1000 (for example).\n *\n * scaleX: 1200 / 1000\n * scaleY: 1800 / 1000\n *\n * The actual values of scaleX and scaleY will depend on your scene\n * object sizes and what you need.  What scaleX and scaleY define\n * are the relative size of the area that should be contained.\n *\n * As a side note you can also achieve a quick \"contain\" effect\n * by using the 'resizeWithFov' option and passing a single resizingScalar.\n *\n * useFov\n * By default, size adjustments are performed by changing the camera zoom level.\n * This has an added benefit of correctly resizing text if you are calculating\n * text scale using threef.toDomCoordinates method.  It also doesn't skew\n * perspective.\n *\n * If you don't want to adjust zoom for some reason, you can opt to change\n * scene size by alterning the useFov to a true value.  This will adjust the\n * camera FOV as needed.  If your scene is orthographic or 2d based, you won't\n * see a difference but in 3d scene it will alter and skew perspective.\n *\n * Alignment options:\n * By default, without any alignment options, your scene\n * will scale at center / center point.  However, you\n * can define it so that it scales aligned to top, bottom,\n * left or right similar to how it would work in css.\n *\n * top - a value between 0-1 to note the vertical position of the final box\n * bottom - a value between 0-1 to note the vertical position of the final box\n * left - a value between 0-1 to note the horizontal position of the final box\n * right - a value between 0-1 to note the horizontal position of the final box\n *\n * top / bottom can't exist together\n * left / right can't exist together\n *\n * An example of using 'contain' algo\n *\n * ```ts\n *  this.sceneRenderer.addScene({\n *      // The resizing algo.\n *      resizingAlgo: 'contain',\n *      resizingOptions: {\n *           useFov: false, // Whether to use FOV instead of zoom\n *           scalarX: 2.6,\n *           scalarY: 3.8,\n *           top: 0 // Align this to the top\n *           left: 0 // Align this to the left\n *      },\n *     });\n *  });\n * ```\n *\n *\n * Using 'Cover' algo\n * Cover works in a very similar way to contain, you need to specify your\n * scalarX and scalarY values to tell scene-renderer to respect that box to\n * calculate the cover values.  You can specify top, bottom, left and right\n * values to cover scale from the specific axis.\n *\n * ```ts\n *  this.sceneRenderer.addScene({\n *      // The resizing algo.\n *      resizingAlgo: 'cover',\n *      resizingOptions: {\n *           useFov: false, // Whether to use FOV instead of zoom\n *           scalarX: 2.6,\n *           scalarY: 3.8,\n *           top: 0 // Align this to the top\n *           left: 0 // Align this to the left\n *      },\n *     });\n *  });\n *\n *\n * Advanced Resizing\n *\n *\n * Here is an example of changing scalar and aspect ratio,\n * based on your mobile versus desktop layout.\n *\n * ```ts\n *\n *  const sizeScalar = 0.2;\n *  this.sceneRenderer.addScene({\n *      // The resizing algo.\n *      resizingAlgo: 'cover',\n *      // Required - you should define the resizing options.\n *      resizingOptions: {\n *         scalarX: null,\n *         scalarY: null,\n *         top: null,\n *      },\n *      onBeforeResize: (renderer, scene, camera)=> {\n *         if(window.innerWidth < 800) {\n *             scene.userData.resizingOptions.scalarX = 400 * sizeScalar;\n *             scene.userData.resizingOptions.scalarY = 800 * sizeScalar;\n *             scene.userData.resizingOptions.top = 0;\n *         } else {\n *             scene.userData.resizingOptions.scalarX = 1920 * sizeScalar;\n *             scene.userData.resizingOptions.scalarY = 1080 * sizeScalar;\n *             scene.userData.resizingOptions.top = 0.5;\n *         }\n *      },\n *     });\n *  });\n *\n * ```\n *\n * ### Applying Degu Shader Chunks\n *\n * You can apply shader chunks as follows:\n * ```\n *import {deguShape2d} from\n * 'degu/lib/shaders/three-shader-chunks/degu-shape2d';\n *import {deguMathf} from\n * 'degu/lib/shaders/three-shader-chunks/degu-mathf';\n *   // Apply shader chunks.\n *   deguMathf(this.sceneRenderer.getThree());\n *   deguShape2d(this.sceneRenderer.getThree());\n *\n * ```\n *\n *\n *\n * @see examples/three-scene-renderer2.html for examples of the resizign strategies.\n *\n *\n * @see https://stackoverflow.com/questions/41919341/is-there-a-limit-to-the-number-of-three-webglrenderer-instances-in-a-page\n * @see https://stackoverflow.com/questions/30608723/is-it-possible-to-enable-unbounded-number-of-renderers-in-three-js/30633132#30633132\n * @see https://threejs.org/examples/webgl_multiple_elements.html\n */\nclass SceneRenderer {\n    constructor(config) {\n        /**\n         * The last known root element width (usually window size)\n         */\n        this.width = 0;\n        /**\n         * The last known root element height (usually window size)\n         */\n        this.height = 0;\n        this.watcher = new _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_3__[\"DomWatcher\"]();\n        this.watcher.add({\n            element: window,\n            callback: this.onResize.bind(this),\n            eventOptions: { passive: true },\n            on: 'smartResize',\n        });\n        this.useAbsolutePositioning = !!config.useAbsolutePositioning;\n        this.rootElement = config.rootElement || document.body;\n        this.dpr = window.devicePixelRatio || 1;\n        this.scenes = [];\n        // Generate canvas.\n        this.zIndex = 0;\n        this.canvas = document.createElement('canvas');\n        this.canvas.style.pointerEvents = 'none';\n        if (this.useAbsolutePositioning) {\n            this.canvas.style.position = 'absolute';\n        }\n        else {\n            this.canvas.style.position = 'fixed';\n        }\n        this.canvas.style.left = '0px';\n        this.canvas.style.top = '0px';\n        this.setZIndex(this.zIndex);\n        this.rootElement.append(this.canvas);\n        // Initial renderer setup.\n        this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__[\"WebGLRenderer\"](config.rendererOptions || {\n            canvas: this.canvas,\n            antialias: true,\n            alpha: true,\n        });\n        // Set to transparency.\n        this.renderer.setClearColor(0xffffff, 0);\n        this.renderer.setPixelRatio(this.dpr);\n        this.onResize();\n    }\n    /**\n     * Gets the THREE object.\n     */\n    getThree() {\n        return three__WEBPACK_IMPORTED_MODULE_0__;\n    }\n    /**\n     * Forces a resize event on the scene-renderer.\n     */\n    resize() {\n        this.onResize();\n    }\n    /**\n     * Handles resizing events.\n     */\n    onResize() {\n        this.width = window.innerWidth;\n        this.height = window.innerHeight;\n        this.scenes.forEach((scene) => {\n            const element = scene.userData.domElement;\n            scene.userData.onBeforeResize &&\n                scene.userData.onBeforeResize(this.getRenderer(), scene, scene.userData.camera);\n            // Now for each, figure out the right resizing strategy.\n            const camera = scene.userData.camera;\n            const h = element.offsetHeight;\n            const w = element.offsetWidth;\n            const aspect = w / h;\n            // Contain zoom algo.\n            if (scene.userData.resizingAlgo === SceneResizingAlgo.resizeWithZoom) {\n                const scalar = scene.userData.resizingScalar || 1.0;\n                if (aspect <= 1) {\n                    camera.zoom = aspect * scalar;\n                }\n                else {\n                    camera.zoom = 1;\n                }\n                camera.aspect = aspect;\n                camera.updateProjectionMatrix();\n            }\n            // Standard Aspect algo\n            if (scene.userData.resizingAlgo === SceneResizingAlgo.standardAspect) {\n                camera.aspect = aspect;\n                camera.updateProjectionMatrix();\n            }\n            // Resize with FOV\n            // Uses resizingScalar.\n            if (scene.userData.resizingAlgo === SceneResizingAlgo.resizeWithFov) {\n                const z = scene.userData.resizingScalar || 1.0;\n                camera.fov = Math.atan(h / 2 / z) * 2 * three__WEBPACK_IMPORTED_MODULE_0__[\"Math\"].RAD2DEG;\n                camera.aspect = aspect;\n                camera.updateProjectionMatrix();\n            }\n            // \"Contain\"  Algo.\n            // Uses resizingOptions\n            if (scene.userData.resizingAlgo === SceneResizingAlgo.contain) {\n                if (!scene.userData.resizingOptions ||\n                    !scene.userData.resizingOptions.scalarX ||\n                    !scene.userData.resizingOptions.scalarY) {\n                    throw new Error('Requested contain algo without the correct resizing options');\n                }\n                // Fake contain.  Control the x,y scalar values to control\n                // resize points.\n                const scalarX = scene.userData.resizingOptions.scalarX;\n                const scalarY = scene.userData.resizingOptions.scalarY;\n                // Based on the provided scalars, implement a basic\n                // contain algo adjusting FOV.  Now this box area will\n                // be contained.\n                const hFov = Math.atan(h / 2 / (w * scalarY)) * 2 * three__WEBPACK_IMPORTED_MODULE_0__[\"Math\"].RAD2DEG;\n                const vFov = Math.atan(h / 2 / (h * scalarX)) * 2 * three__WEBPACK_IMPORTED_MODULE_0__[\"Math\"].RAD2DEG;\n                const virtualFov = Math.max(vFov, hFov);\n                // Use Fov\n                if (scene.userData.resizingOptions.useFov) {\n                    camera.fov = virtualFov;\n                }\n                else {\n                    // Use zoom\n                    camera.zoom = camera.fov / virtualFov;\n                }\n                // Calculate the virtual aspect ratio.\n                let virtualBox;\n                const virtualBoxAspect = scalarY / scalarX;\n                // Default Camera offsets in pixels.\n                let xOffset = 0;\n                let yOffset = 0;\n                // Offset options\n                let top = scene.userData.resizingOptions.top;\n                let bottom = scene.userData.resizingOptions.bottom;\n                let left = scene.userData.resizingOptions.left;\n                let right = scene.userData.resizingOptions.right;\n                // Vertical offset calculations\n                if (_is_is__WEBPACK_IMPORTED_MODULE_5__[\"defined\"](top) || _is_is__WEBPACK_IMPORTED_MODULE_5__[\"defined\"](bottom)) {\n                    // Create a virtual box based on the provided aspects.\n                    virtualBox = {\n                        width: w,\n                        height: w * virtualBoxAspect,\n                    };\n                    const diffY = Math.max(0, (h - virtualBox.height) / 2);\n                    if (_is_is__WEBPACK_IMPORTED_MODULE_5__[\"defined\"](top)) {\n                        // A top value ranging from 0-1 would actually\n                        // be an offset from the top of the scene to\n                        // the vertical center of the scene.  In order\n                        // to make this work more like a traditional css format\n                        // where 0 is the top and 1 is fully put the bounding\n                        // box a the bottom, we double the value.\n                        top *= 2;\n                        yOffset = diffY * (1 - top);\n                    }\n                    if (_is_is__WEBPACK_IMPORTED_MODULE_5__[\"defined\"](bottom)) {\n                        bottom *= 2;\n                        yOffset = -diffY * (1 - bottom);\n                    }\n                }\n                // Horizontal offset calculations\n                if (_is_is__WEBPACK_IMPORTED_MODULE_5__[\"defined\"](left) || _is_is__WEBPACK_IMPORTED_MODULE_5__[\"defined\"](right)) {\n                    // Create a virtual box based on the provided aspects.\n                    virtualBox = {\n                        width: h / virtualBoxAspect,\n                        height: h,\n                    };\n                    const diffX = Math.max(0, (w - virtualBox.width) / 2);\n                    if (_is_is__WEBPACK_IMPORTED_MODULE_5__[\"defined\"](left)) {\n                        left *= 2;\n                        xOffset = diffX * (1 - left);\n                    }\n                    if (_is_is__WEBPACK_IMPORTED_MODULE_5__[\"defined\"](right)) {\n                        right *= 2;\n                        xOffset = -diffX * (1 - right);\n                    }\n                }\n                // Apply camera offsets\n                camera.setViewOffset(w, h, xOffset, yOffset, w, h);\n                // Update camera aspect\n                camera.aspect = aspect;\n                camera.updateProjectionMatrix();\n            }\n            // \"Cover\"  Algo.\n            // Uses resizingOptions\n            if (scene.userData.resizingAlgo === SceneResizingAlgo.cover) {\n                if (!scene.userData.resizingOptions ||\n                    !scene.userData.resizingOptions.scalarX ||\n                    !scene.userData.resizingOptions.scalarY) {\n                    throw new Error('Requested cover algo without the correct resizing options');\n                }\n                const scalarX = scene.userData.resizingOptions.scalarX;\n                const scalarY = scene.userData.resizingOptions.scalarY;\n                let virtualBox;\n                const virtualBoxAspect = scalarY / scalarX;\n                // Based on the provided scalars, implement a basic\n                // cover algo adjusting FOV.  Now this box area will\n                // be cover with center / center.\n                const hFov = Math.atan(h / 2 / (w * scalarY)) * 2 * three__WEBPACK_IMPORTED_MODULE_0__[\"Math\"].RAD2DEG;\n                const vFov = Math.atan(h / 2 / (h * scalarX)) * 2 * three__WEBPACK_IMPORTED_MODULE_0__[\"Math\"].RAD2DEG;\n                const virtualFov = Math.min(vFov, hFov);\n                // Use Fov\n                if (scene.userData.resizingOptions.useFov) {\n                    camera.fov = virtualFov;\n                }\n                else {\n                    // Use zoom\n                    camera.zoom = camera.fov / virtualFov;\n                }\n                // Offset options\n                let xOffset = 0;\n                let yOffset = 0;\n                let top = scene.userData.resizingOptions.top;\n                let bottom = scene.userData.resizingOptions.bottom;\n                let left = scene.userData.resizingOptions.left;\n                let right = scene.userData.resizingOptions.right;\n                // Vertical offset calculations\n                if (_is_is__WEBPACK_IMPORTED_MODULE_5__[\"defined\"](top) || _is_is__WEBPACK_IMPORTED_MODULE_5__[\"defined\"](bottom)) {\n                    // Create a virtual box based on the provided aspects.\n                    virtualBox = {\n                        width: h / virtualBoxAspect,\n                        height: h,\n                    };\n                    // Calculate the approximate virutal box cover box scale.\n                    const coverBox = _mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"calculateBackgroundCover\"]({ width: w, height: h }, virtualBox);\n                    const diffY = Math.max(0, (coverBox.height - h) / 2);\n                    if (_is_is__WEBPACK_IMPORTED_MODULE_5__[\"defined\"](top)) {\n                        top *= 2;\n                        yOffset = -diffY * (1 - top);\n                    }\n                    if (_is_is__WEBPACK_IMPORTED_MODULE_5__[\"defined\"](bottom)) {\n                        bottom *= 2;\n                        yOffset = diffY * (1 - bottom);\n                    }\n                }\n                // Horizontal offset calculations\n                if (_is_is__WEBPACK_IMPORTED_MODULE_5__[\"defined\"](left) || _is_is__WEBPACK_IMPORTED_MODULE_5__[\"defined\"](right)) {\n                    // Create a virtual box based on the provided aspects.\n                    virtualBox = {\n                        width: w,\n                        height: w * virtualBoxAspect,\n                    };\n                    const coverBox = _mathf_mathf__WEBPACK_IMPORTED_MODULE_4__[\"calculateBackgroundCover\"]({ width: w, height: h }, virtualBox);\n                    const diffX = Math.max(0, (coverBox.width - w) / 2);\n                    if (_is_is__WEBPACK_IMPORTED_MODULE_5__[\"defined\"](left)) {\n                        left *= 2;\n                        xOffset = -diffX * (1 - left);\n                    }\n                    if (_is_is__WEBPACK_IMPORTED_MODULE_5__[\"defined\"](right)) {\n                        right *= 2;\n                        xOffset = diffX * (1 - right);\n                    }\n                }\n                camera.setViewOffset(w, h, xOffset, yOffset, w, h);\n                camera.aspect = aspect;\n                camera.updateProjectionMatrix();\n            }\n            scene.userData.onResize &&\n                scene.userData.onResize(this.getRenderer(), scene, scene.userData.camera);\n        });\n        this.renderer.setSize(this.width, this.height);\n        this.render();\n    }\n    /**\n     * Updates the z-index of the main renderer canvas.\n     */\n    setZIndex(zIndex) {\n        this.zIndex = zIndex;\n        this.canvas.style.zIndex = this.zIndex + '';\n    }\n    /**\n     * Returns the last known size of root canvas.  Usually this is usually the window size\n     * since the main renderer canvas covers the whole page.\n     */\n    getSize() {\n        return {\n            width: this.width,\n            height: this.height,\n            aspect: this.width / this.height,\n        };\n    }\n    /**\n     * Add a THREE.Scene to be rendered when the given domElement is visible\n     * in the scene.\n     */\n    addScene(sceneConfig, forceResize = false) {\n        if (!sceneConfig.domElement || !sceneConfig.scene || !sceneConfig.camera) {\n            console.warn('SceneRenderer could not register scene.  It is missing either the scene, camere or domElement');\n            return;\n        }\n        const scene = sceneConfig.scene;\n        if (sceneConfig.debug) {\n            this.setupDebugging(sceneConfig);\n        }\n        // Set the scene config data to the scene.\n        scene.userData = sceneConfig;\n        // Add ev to able to later check if the associated domElement is visible\n        // in the viewport.\n        scene.userData.ev = _dom_element_visibility__WEBPACK_IMPORTED_MODULE_2__[\"elementVisibility\"].inview(sceneConfig.domElement);\n        this.scenes.push(scene);\n        // Run init.\n        scene.userData.onInit &&\n            scene.userData.onInit(this.getRenderer(), scene, scene.userData.camera);\n        if (forceResize) {\n            window.setTimeout(() => {\n                this.resize();\n            });\n        }\n    }\n    /**\n     * Sets up debugging via GUIF.\n     * @param scene\n     */\n    setupDebugging(sceneConfig) {\n        const scene = sceneConfig.scene;\n        const axesHelper = new three__WEBPACK_IMPORTED_MODULE_0__[\"AxesHelper\"](50);\n        scene.add(axesHelper);\n        new _three_inspector__WEBPACK_IMPORTED_MODULE_1__[\"ThreeInspector\"](sceneConfig.domElement);\n    }\n    /**\n     * Gets the internal webGLRenderer.\n     */\n    getRenderer() {\n        return this.renderer;\n    }\n    /**\n     * Renders out each scene.\n     */\n    render() {\n        // See note on: https://stackoverflow.com/questions/30608723/is-it-possible-to-enable-unbounded-number-of-renderers-in-three-js/30633132#30633132\n        // Rather than using fixed, this keeps the canvas in sync.\n        if (this.useAbsolutePositioning) {\n            this.canvas.style.transform = `translateY(${window.scrollY}px)`;\n        }\n        this.renderer.setScissorTest(false);\n        this.renderer.clear();\n        this.renderer.setScissorTest(true);\n        // Go through each scene and it's position and render it out in\n        // pieces.\n        this.scenes.forEach((scene) => {\n            // If the scene is out of view, cull.\n            if (!scene.userData.ev.state().inview) {\n                return;\n            }\n            const element = scene.userData.domElement;\n            // Get the element position relative to the page's viewport\n            const rect = element.getBoundingClientRect();\n            // set the viewport\n            const width = rect.right - rect.left;\n            const height = rect.bottom - rect.top;\n            const left = rect.left;\n            const bottom = this.renderer.domElement.clientHeight - rect.bottom;\n            this.renderer.setViewport(left, bottom, width, height);\n            this.renderer.setScissor(left, bottom, width, height);\n            scene.userData.onBeforeRender &&\n                scene.userData.onBeforeRender(this.getRenderer(), scene, scene.userData.camera);\n            this.renderer.render(scene, scene.userData.camera);\n            scene.userData.onAfterRender &&\n                scene.userData.onAfterRender(this.getRenderer(), scene, scene.userData.camera);\n        });\n    }\n    dispose() {\n        var _a;\n        // Clean up scenes.\n        this.scenes.forEach((scene) => {\n            // Dispose element visiblity.\n            scene.userData.ev.dispose();\n            // Remove dom association.\n            scene.userData.element = null;\n            scene.userData.onDispose && scene.userData.onDispose();\n        });\n        // Remove canvas from rootElement.\n        (_a = this.canvas.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.canvas);\n    }\n}\n//# sourceMappingURL=scene-renderer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvdGhyZWVmL3NjZW5lLXJlbmRlcmVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3RocmVlZi9zY2VuZS1yZW5kZXJlci5qcz8yMTdkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IFRocmVlSW5zcGVjdG9yIH0gZnJvbSAnLi90aHJlZS1pbnNwZWN0b3InO1xuaW1wb3J0IHsgZWxlbWVudFZpc2liaWxpdHkgfSBmcm9tICcuLi9kb20vZWxlbWVudC12aXNpYmlsaXR5JztcbmltcG9ydCB7IERvbVdhdGNoZXIgfSBmcm9tICcuLi9kb20vZG9tLXdhdGNoZXInO1xuaW1wb3J0ICogYXMgbWF0aGYgZnJvbSAnLi4vbWF0aGYvbWF0aGYnO1xuaW1wb3J0ICogYXMgaXMgZnJvbSAnLi4vaXMvaXMnO1xuZXhwb3J0IHZhciBTY2VuZVJlc2l6aW5nQWxnbztcbihmdW5jdGlvbiAoU2NlbmVSZXNpemluZ0FsZ28pIHtcbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIG1vc3QgY29tbW9ubHkgdXNlZCB0aHJlZS5qcyBhc3BlY3QgcmF0aW8gYmFzZWQgcmVzaXppbmcgYnV0XG4gICAgICogZG9lc24ndCByZWFsbHkgd29yayBncmVhdCBvbiBtb2JpbGUgaWYgeW91IGFyZSB1c2luZyB0aGUgZnVsbCB2aWV3cG9ydC5cbiAgICAgKlxuICAgICAqIEJhc2ljYWxseSBkb2luZzpcbiAgICAgKiAgY2FtZXJhLmFzcGVjdCA9IGFzcGVjdDtcbiAgICAgKiAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgKlxuICAgICAqIEJhc2ljYWxseSwgdGhlIGNhbWVyYSB3aWxsIHByb2plY3Qgb3V0IG9iamVjdHMgdG8gdGhlIGFzcGVjdCByYXRpb1xuICAgICAqIG9mIHRoZSBkb20gZWxlbWVudC4gIEl0IGNvbnRhaW5zIFkgYnV0IGNsaXBzIFguXG4gICAgICpcbiAgICAgKiBUaGlua2luZyBpbiB0ZXJtcyBvZiBjc3MsIHlvdSBjYW4gdGhpbmsgb2YgdGhpcyBzaW1pbGFyIHRvIGFcbiAgICAgKiBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW4gZm9yIGhlaWdodCBvbmx5IGFuZCBiYWNrZ3JvdW5kLWNvdmVyIGZvciB3aWR0aC5cbiAgICAgKlxuICAgICAqIFVzaW5nIHRoaXMsIGFzIHlvdSByZXNpemUgeW91ciBzY2VuZSwgdGhlIHRvcHMgYW5kIGJvdHRvbSB3aWxsIG5ldmVyIGJlXG4gICAgICogY2xpcHBlZCBidXQgdGhlIHNpZGVzIGNhbiBiZSBjbGlwcGVkLiAgQWxsIG9mIHRoaXMgaXMgcmVsYXRpdmUgdG9cbiAgICAgKiBob3cgeW91IHNldHVwIHlvdXIgc2NlbmUgYXMgd2VsbCAoY2FtZXJhIHBvc2l0aW9uLCBvYmplY3QgcG9zaXRpb25zIGV0YylcbiAgICAgKlxuICAgICAqIE51dGhzZWxsOlxuICAgICAqIC0gSWYgeW91IHJlc2l6ZSB0aGUgaGVpZ2h0LCB5b3VyIG9iamVjdCB3aWxsIGdvIGRvd24gaW4gc2l6ZS5cbiAgICAgKiAtIElmIHlvdSByZXNpemUgdGhlIHdpZHRoLCB5b3VyIG9iamVjdHMgd2lsbCBub3QgY2hhbmdlIGluIHNpemUuXG4gICAgICogLSBSZXNpemluZyBpcyBiYXNlZCBvbiBhIE5EQyAwLDAgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgU2NlbmVSZXNpemluZ0FsZ29bXCJzdGFuZGFyZEFzcGVjdFwiXSA9IFwic3RhbmRhcmRBc3BlY3RcIjtcbiAgICAvKipcbiAgICAgKiBBbiBhbGdvIHRoYXQgYXR0ZW1wdHMgdG8gcmVjcmVhdGUgYSBzaW1pbGFyIGVmZmVjdCBhcyBiYWNrZ3JvdW5kOiBjb250YWluXG4gICAgICogYnV0IGl0J3MgYmFzZWQgb24gem9vbS4gIFRoaXMgcmVxdWlyZSB5b3UgdG8gcGFzcyB0aGUgcmVzaXplU2NhbGFyIHZhbHVlXG4gICAgICogd2hpY2ggaW4gdGhpcyBjYXNlIHdvdWxkIGJlIHVzZWQgdG8gbXVsdGlwbHkgdGhlIHpvb20gdmFsdWUuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGEgbGVzcyBwcmVmZXJyZWQgbWV0aG9kIHNvIGNvbnNpZGVyIHVzaW5nICdjb250YWluJyBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogTnV0aHNlbGw6XG4gICAgICogLSBJZiB5b3UgcmVzaXplIHRoZSBoZWlnaHQsIHlvdXIgb2JqZWN0IHdpbGwgZ28gZG93biBpbiBzaXplLlxuICAgICAqIC0gSWYgeW91IHJlc2l6ZSB0aGUgd2lkdGgsIHlvdXIgb2JqZWN0cyB3aWxsIGdvIGRvd24gaW4gc2l6ZSBieSBjaGFuZ2luZ1xuICAgICAqICAgdGhlIGNhbWVyYSB6b29tLlxuICAgICAqIC0gUmVzaXppbmcgaXMgYmFzZWQgb24gYSBOREMgMCwwIGNvb3JkaW5hdGVzLlxuICAgICAqIC0gcmVzaXppbmdTY2FsYXIgY2FuIGJlIHBhc3NlZCB0byBhZHVzdCB0aGUgem9vbSBsZXZlbHMuXG4gICAgICovXG4gICAgU2NlbmVSZXNpemluZ0FsZ29bXCJyZXNpemVXaXRoWm9vbVwiXSA9IFwicmVzaXplV2l0aFpvb21cIjtcbiAgICAvKipcbiAgICAgKiBUaGlzIGFsZ28gY2FuIGJlIHVzZWZ1bCBiZWNhdXNlIGl0IGNhbGN1bGF0ZXMgdGhlIEZPVlxuICAgICAqIGJhc2VkIG9uIGEgc2NhbGFyIHZhbHVlLlxuICAgICAqXG4gICAgICogVGhpcyBpcyB1c2VmdWwgaW4gdHdvIHNjZW5lcmlvcy5cbiAgICAgKiAxKSBZb3Ugd2FudCB0byBmb3JjZSBhbiBhYnNvbHV0ZSBzaXplIGZvciB5b3VyIG9iamVjdHMuXG4gICAgICogICAgQnkgcGFzc2luZyBhIHJlc2l6aW5nU2NhbGFyIHRoYXQgZG9lc24ndCBjaGFuZ2UsXG4gICAgICogICAgdGhlIHByb2plY3Rpb24gd2lsbCBhbHdheXMgYmUgb2YgYSBjb25zaXN0ZW50IHNpemUgcmVnYXJkbGVzc1xuICAgICAqICAgIG9mIHRoZSBjYW52YXMgc2l6ZS5cbiAgICAgKlxuICAgICAqICAgIFRoZSBlYXNpZXN0IHdheSB0byBkZXNjcmliZSB0aGlzIGlzIHRvIGltYWdlIGEgd2luZG93IGluIHlvdXIgaG91c2UuXG4gICAgICogICAgVGhlIHdpbmRvdyB3b3VsZCBiZSB0aGUgY2FudmFzIHNpemUgKHNjZW5lIHNpemUpLiAgQnkgdXNpbmcgYSByZXNpemluZ1NjYWxhcixcbiAgICAgKiAgICB5b3UgY2FuIGJhc2ljYWxseSBjcmVhdGUgYSBzY2VuZSB3aGVyZSB5b3VyIGhvdXNlIHdpbmRvdyBzaXplIG1pZ2h0XG4gICAgICogICAgY2hhbmdlIGJ1dCB3aGF0IGlzIHByb2plY3RlZCBvdXQgdGhlIHdpbmRvdyBpcyBleGFjbHR5IHRoZSBzYW1lIHNpemUuXG4gICAgICogICAgSXQgbW9yZSBsaWtlIHBlYWtpbmcgaW50byBhbm90aGVyIHdvcmxkIHdpdGhvdXQgdGhlIHdvcmxkIGNoYW5naW5nLlxuICAgICAqXG4gICAgICogICAgVG8gdXNlIHRoaXMsIHNldCB5b3VyIHJlc2l6aW5nQWxnbyB0byAncmVzaXplV2l0aEZvdicgYW5kIGFsc28gcGFzc1xuICAgICAqICAgIGEgcmVzaXppbmdTY2FsYXIgKHNvbWV0aGluZyBsaWtlIDIwMCBvciAxMDAwKS4gIFdoZW4geW91IGRvIHRoaXMsXG4gICAgICogICAgeW91J2xsIG5vdGljZSB0aGF0IHlvdXIgb2JqZWN0cyBhcmUgYWx3YXlzIHRoZSBzYW1lIHNpemUuXG4gICAgICpcbiAgICAgKiAgICBJZiB5b3UgaGF2ZSBicmVha3BvaW50cyBpbiB5b3VyIHByb2plY3QsIGNvdWxkIGNvdWxkIGNoYW5nZSB0aGVcbiAgICAgKiAgICByZXNpemluZ1NjYWxhciBiYXNlZCBvbiB5b3VyIGJyZWFrcG9pbnRzIGFuZCB0aGUgb2JqZWN0cyBpbiB5b3VyIHNjZW5lLFxuICAgICAqICAgIHdpbGwgbmljZWx5IHJlc2l6aW5nIGFuZCB5b3UgaGF2ZSBjb250cm9sIG92ZXIgaG93IGl0IGxvb2tzLlxuICAgICAqXG4gICAgICogMikgS25vd2luZyB0aGUgY2hhcmFjdGVyaXN0aWNzIGRlc2NyaWJlZCBpbiAxLFxuICAgICAqICAgIHlvdSBjYW4gbWFrZSBhIHJlc3BvbnNpdmUgc2NlbmUgYnkgY2hhbmdpbmcgYWRqdXN0aW5nIHRoZSByZXNpemluZ1NjYWxhci5cbiAgICAgKiAgICBUaGUgYmFzaXMgb2YgaG93IGl0IHNjYWxlcyBjYW4gY2hhbmdlIGRlcGVuZGluZyBvbiBob3cgeW91IHdhbnQgdG9cbiAgICAgKiAgICBhZGp1c3QgdGhlIHNjYWxhci5cbiAgICAgKlxuICAgICAqICAgIFRoaXMgcHJvdmlkZXMgeW91IHdpdGggdGhlIGFiaWxpdHkgdG8gcmVzaXplIHRoZSBzY2VuZSBvYmplY3RzIGJhc2VkIG9uXG4gICAgICogICAgYXhpc1xuICAgICAqICAgIC0geCAoZWxlbWVudC5vZmZzZXRXaWR0aClcbiAgICAgKiAgICAtIHkgKGVsZW1lbnQub2Zmc2V0SGVpZ2h0KVxuICAgICAqICAgIC0geCBvciB5IChNYXRoLm1pbihlbGVtZW50Lm9mZnNldFdpZHRoLCBlbGVtZW50Lm9mZnNldEhlaWdodCkpXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqICBjb25zdCBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgICAqICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215LWVsZW1lbnQnKTtcbiAgICAgKiAgc2NlbmVSZW5kZXJlci5hZGRTY2VuZSh7XG4gICAgICogICAgcmVzaXppbmdBbGdvOiAncmVzaXppbmdXaXRoRm92JyxcbiAgICAgKiAgICBkb21FbGVtZW50OiBlbGVtZW50LFxuICAgICAqICAgIC8vIFVwZGF0ZSB0aGUgc2NhbGFyIHByaW9yIHRvIHJlc2l6aW5nLlxuICAgICAqICAgIG9uQmVmb3JlUmVzaXplOiAoKT0+IHtcbiAgICAgKiAgICAgLy8gUmVzaXppbmcgdGhlIG9iamVjdHMgaW4geW91ciBzY2VuZSBiYXNlZCBvbiB0aGUgY3VycmVudCB3aWR0aCBvZiB0aGVcbiAgICAgKiAgICAgLy8gZG9tIGVsZW1lbnQuXG4gICAgICogICAgIC8vIElmIHlvdSBkbyB0aGlzLCB0aGUgb2JqZWN0cyB3aWxsIGdldCBzbWFsbGVyIGFzIHlvdSBuYXJyb3cgeW91ciBicm93c2VyLlxuICAgICAqICAgICAvLyAob3IgdGhlIGVsZW1lbnQgd2lkdGggZ2V0cyBzbWFsbGVyKVxuICAgICAqICAgICBzY2VuZS51c2VyRGF0YS5yZXNpemluZ1NjYWxhciA9IGVsZW1lbnQub2Zmc2V0V2lkdGggKiAwLjJcbiAgICAgKlxuICAgICAqXG4gICAgICogICAgIC8vIFJlc2l6aW5nIHRoZSBvYmplY3RzIGluIHlvdXIgc2NlbmUgYmFzZWQgb24gdGhlIGN1cnJlbnQgaGVpZ2h0IG9mIHRoZVxuICAgICAqICAgICAvLyBkb20gZWxlbWVudC5cbiAgICAgKiAgICAgLy8gSWYgeW91IGRvIHRoaXMsIHRoZSBvYmplY3RzIHdpbGwgZ2V0IHNtYWxsZXIgYXMgeW91IHNob3J0ZW4geW91ciBicm93c2VyXG4gICAgICogICAgIC8vIChvciB0aGUgZWxlbWVudCBoZWlnaHQgZ2V0cyBzbWFsbGVyKS5cbiAgICAgKiAgICAgc2NlbmUudXNlckRhdGEucmVzaXppbmdTY2FsYXIgPSBlbGVtZW50Lm9mZnNldEhlaWdodCAqIDAuMjtcbiAgICAgKlxuICAgICAqXG4gICAgICogICAgIC8vIFJlc2l6ZSBib3RoIGluIHggYW5kIHkgc2NhbGVzLlxuICAgICAqICAgICBzY2VuZS51c2VyRGF0YS5yZXNpemluZ1NjYWxhciA9IE1hdGgubWluKGVsZW1lbnQub2Zmc2V0SGVpZ2h0LCBlbGVtZW50Lm9mZnNldFdpZHRoKSAqIDAuMjtcbiAgICAgKiAgIH1cbiAgICAgKiB9KVxuICAgICAqXG4gICAgICogYGBgXG4gICAgICovXG4gICAgU2NlbmVSZXNpemluZ0FsZ29bXCJyZXNpemVXaXRoRm92XCJdID0gXCJyZXNpemVXaXRoRm92XCI7XG4gICAgLyoqXG4gICAgICogQW4gYWxnbyB0aGF0IFwiYXR0ZW1wdHNcIiB0byByZWNyZWF0ZSBjb250YWluIHR5cGUgZWZmZWN0cy5cbiAgICAgKiBSZWFkIGJlbG93IG9uIHRoZSBSZXNpemluZyBBbGdvIHNlY3Rpb24gZm9yIG1vcmUgaW5mb3JtYXRpb24gb25cbiAgICAgKiB0aGlzIGFsZ28uXG4gICAgICovXG4gICAgU2NlbmVSZXNpemluZ0FsZ29bXCJjb250YWluXCJdID0gXCJjb250YWluXCI7XG4gICAgLyoqXG4gICAgICogQW4gYWxnbyB0aGF0IFwiYXR0ZW1wdHNcIiB0byByZWNyZWF0ZSBjb3ZlciB0eXBlIGVmZmVjdHMuXG4gICAgICogUmVhZCBiZWxvdyBvbiB0aGUgUmVzaXppbmcgQWxnbyBzZWN0aW9uIGZvciBtb3JlIGluZm9ybWF0aW9uIG9uXG4gICAgICogdGhpcyBhbGdvLlxuICAgICAqL1xuICAgIFNjZW5lUmVzaXppbmdBbGdvW1wiY292ZXJcIl0gPSBcImNvdmVyXCI7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgc2NlbmUtcmVuZGVycyBzaG91bGQgbm90IGF0dGVtcHQgdG8gcmVzaXplIGFuZCBmaXhcbiAgICAgKiBjYW1lcmEgYXNwZWN0IG9uIHJlc2l6aW5nLiAgVGhpcyB3aWxsIGJlIGhhbmRsZWQgbWFudWFsbHkuICBTY2VuZVxuICAgICAqIGRlZmF1bHRzIHRvIG1hbnVhbCBpZiBub3RoaW5nIGlzIHNwZWNpZmllZCBmb3IgcmVzaXppbmdBbGdvLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBBbiBleGFtcGxlIG9mIG1hbnVhbGx5IGhhbmRpbmcgdGhlIHJlc2l6aW5nLlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogICAgICAgdGhpcy5zY2VuZVJlbmRlcmVyLmFkZFNjZW5lKHtcbiAgICAgKiAgICAgICAgICAgcmVzaXppbmdBbGdvOiAnbWFudWFsJyxcbiAgICAgKiAgICAgICAgICAgc2NlbmU6IHNjZW5lLFxuICAgICAqICAgICAgICAgICBjYW1lcmE6IGNhbWVyYSxcbiAgICAgKiAgICAgICAgICAgZG9tRWxlbWVudDogZWxlbWVudCxcbiAgICAgKiAgICAgICAgICAgb25SZXNpemUoKSB7XG4gICAgICogICAgICAgICAgICAgICBjYW1lcmEuYXNwZWN0ID0gZWxlbWVudC5vZmZzZXRXaWR0aCAvIGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAqICAgICAgICAgICAgICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgKiAgICAgICAgICAgfVxuICAgICAqICAgICAgIH0pO1xuICAgICAqXG4gICAgICogYGBgXG4gICAgICovXG4gICAgU2NlbmVSZXNpemluZ0FsZ29bXCJtYW51YWxcIl0gPSBcIm1hbnVhbFwiO1xufSkoU2NlbmVSZXNpemluZ0FsZ28gfHwgKFNjZW5lUmVzaXppbmdBbGdvID0ge30pKTtcbi8qKlxuICogQSBjbGFzcyB0aGF0IGF0dGVtcHRzIHRvIGdldCBhcm91bmQgbWF4IHdlYkdMIGNvbnRleHQgaXNzdWVzIGJ5IGhhdmluZyBhXG4gKiBzaW5nbGUgcmVuZGVyZXIgb24gdGhlIHBhZ2UuXG4gKlxuICogQXQgYSBoaWdoIGxldmVsIHRoZSBpc3N1ZSBpcyB0aGF0IHlvdSBjYW4ndCBoYXZlIG1vcmUgdGhhbiA4IG9yIHNvIHdlYkdMXG4gKiBjb250ZXh0cyBhcyBhIGdlbmVyYWwgYnJvd3NlciBsaW1pdGF0aW9uLiAgRWFjaCBjb250ZXh0IGFsc28gY2FuJ3Qgc2hhcmVcbiAqIHJlc291cmNlcy4gICBTbyBvbiBwYWdlcyB3aGVyZSB5b3UgbWlnaHQgd2FudCB0byBoYXZlIGxpa2UgbXVsdGlwbGUgd2ViR0xcbiAqIGNhbnZhc2VzLCB5b3UgaGl0IGEgcm9hZCBibG9jay5cbiAqXG4gKiBUaGUgc29sdXRpb24gaGVyZSBpcyB0byBoYXZlIGEgc2luZ2xlIGNhbnZhcyB0aGF0IGNvdmVycyB0aGUgZW50aXJlIHBhZ2UgKDEwMHZ3IHggMTAwdmgpXG4gKiBUaGlzIHNpbmdsZSByZW5kZXJlciB3b3VsZCBhY2NlcHQgdGhyZWUuanMgc2NlbmVzLCB3aGljaCBlYWNoIGRlZmluZVxuICogYSByb290IGh0bWwgZWxlbWVudCB0byBpbmRpY2F0ZSB0aGUgc2l6ZSBhbmQgcG9zaXRpb24gdG8gcmVuZGVyLlxuICpcbiAqIFRoZXNlIHNjZW5lcyBnZXQgcmVpZ3N0ZXJlZCB0byB0aGUgc2NlbmVSZW5kZXJlciB3aGljaCB1cG9uIGNhbGxpbmcsXG4gKiBzY2VuZVJlbmRlcmVyLCB3aWxsIGNoZWNrIHRoZSBsb2NhdGlvbiBvZiBlYWNoIHJlZ2lzdGVyZWQgc2NlbmUgZG9tIGVsZW1lbnRcbiAqIGFuZCByZW5kZXIgaXQgYXQgdGhlIHJpZ2h0IHBsYWNlLlxuICpcbiAqIFRoaXMgbWVhbnMgdGhhdCB5b3UgY291bGQgcG90ZW50aWFsbHkgZXhwb3J0IG91dCBhIHNpbmdsZSBnbHRmIGZpbGUgd2l0aFxuICogbXVsdGlwbGUgc2NlbmVzIGFuZCBsb2FkIGl0IG9uY2UgdG8gcmVuZGVyIG9uIHZhcmlvdXMgRE9NIGVsZW1lbnRzIGFsbG93aW5nXG4gKiB5b3UgdG8gcmVjeWNsZSBnZW9tZXRyeSBhbmQgYXZvaWQgdGhlIHdlYkdMIGNvbnRleHQgbGltaXRhdGlvbnMuXG4gKlxuICogRm9yIGV4YW1wbGUgdXNhZ2UsIHNlZTpcbiAqIEBzZWUgL2V4YW1wbGVzL3RocmVlLXNjZW5lLXJlbmRlcmVyLmpzXG4gKiBAc2VlIC9leGFtcGxlcy90aHJlZS1zY2VuZS1yZW5kZXJlcjIuanNcbiAqXG4gKlxuICogQSBoaWdoIGxldmVsIGV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiAvLyBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgU2NlbmVSZW5kZXJlclxuICogdGhpcy5zY2VuZVJlbmRlcmVyID0gbmV3IFNjZW5lUmVuZGVyZXIoe30pO1xuICpcbiAqIC8vIEFkZCBhcyBtYW55IHNjZW5lcyBhcyB5b3UgbGlrZS5cbiAqICB0aGlzLnNjZW5lUmVuZGVyZXIuYWRkU2NlbmUoe1xuICogICAgICAvLyBUaGUgcmVzaXppbmcgYWxnby5cbiAqICAgICAgcmVzaXppbmdBbGdvOiAncmVzaXplV2l0aEZvdicsXG4gKiAgICAgIHJlc2l6aW5nU2NhbGFyOiAxLjAsXG4gKiAgICAgIHNjZW5lOiBzY2VuZSxcbiAqICAgICAgY2FtZXJhOiBjYW1lcmEsXG4gKiAgICAgIC8vIFRoZSBkb20gZWxlbWVudCB0aGF0IHRoaXMgc2NlbmUgc2hvdWxkIHJlbmRlciBhbmQgc2l6ZSB0by5cbiAqICAgICAgZG9tRWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215LWVsZW1lbnQnKSxcbiAqICAgICAgb25CZWZvcmVSZW5kZXI6IChyZW5kZXJlciwgc2NlbmUsIGNhbWVyYSk9PiB7XG4gKiAgICAgICAgICAgLy8gQWRkIHNvbWUgYW5pbWF0aW9ucyBvciB3aGF0ZXZlciB5b3UgbmVlZCBvbiByZW5kZXIuXG4gKiAgICAgICAgICAgc2NlbmUuY2hpbGRyZW5bIDAgXS5yb3RhdGlvbi55ID0gRGF0ZS5ub3coKSAqIDAuMDAxO1xuICogICAgICB9LFxuICogICAgICBvbkFmdGVyUmVuZGVyOiAocmVuZGVyZXIsIHNjZW5lLCBjYW1lcmEpPT4ge1xuICogICAgICAgICAgLy8gVGhpcyBpcyB1c2VkIGZvciBjbGVhbiB1cC4gIEZvciBleGFtcGxlLCB5b3UgbWF5XG4gKiAgICAgICAgICAvLyBoYXZlIGhhZCBhIG5lZWQgdG8gYWx0ZXIgdGhlIHNldHRpbmdzIG9mIHRoZSByZW5kZXJlci5cbiAqICAgICAgICAgIC8vIFlvdSB3b3VsZCBjbGVhbiB1cCBoZXJlLlxuICogICAgICB9XG4gKiAgICAgIG9uQmVmb3JlUmVzaXplOiAocmVuZGVyZXIsIHNjZW5lLCBjYW1lcmEpPT4ge1xuICogICAgICAgICAvLyBHZXRzIGZpcmVkIHByaW9yIHRvIHJlc2l6aW5nIGFsZ28gZ2V0cyBjYWxjdWxhdGVkLlxuICpcbiAqICAgICAgICAgLy8gVXBkYXRlIGFueSBvZiB5b3VyIHNjZW5lIG9wdGlvbnMuXG4gKiAgICAgICAgIHNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nU2NhbGFyID0gMi4wO1xuICogICAgICB9LFxuICogICAgICBvblJlc2l6ZShyZW5kZXJlciwgc2NlbmUsIGNhbWVyYSkge1xuICogICAgICAgICAvLyBHZXRzIGZpcmVkIGFmdGVyIHJlc2l6aW5nIGFsZ28gZ2V0cyBjYWxjdWxhdGVkLlxuICogICAgICAgICAvLyBEZXBlbmRpbmcgb24gdGhlIGFsZ28geW91IHVzZSwgdGhlIGNhbWVyYS5mb3YgYW5kIGFzcGVjdFxuICogICAgICAgICAvLyB3b3VsZCBoYXZlIGJlZW4gYWx0ZXJlZCBieSB0aGlzIHN0YWdlLlxuICogICAgICAgICAvLyBJZiB5b3UgbmVlZCBhY2Nlc3MgdG8gcHJlIGFsdGVyIHZhbHVlcywgdGhlbiB1c2VcbiAqICAgICAgICAgLy8gb25CZWZvcmVSZXNpemVcbiAqICAgICAgfVxuICogICAgIH0pO1xuICogIH0pO1xuICpcbiAqIC8vIFdoZXJlZXZlciB5b3UgaGF2ZSBSQUYgc2V0dXAsXG4gKiB0aGlzLnNjZW5lUmVuZGVyZXIucmVuZGVyKCk7XG4gKlxuICogLy8gTGF0ZXIgZGlzcG9zZSB0byBjbGVhbiB1cC5cbiAqIHRoaXMuc2NlbmVSZW5kZXJlci5kaXNwb3NlKCk7XG4gKlxuICogYGBgXG4gKlxuICpcbiAqICMjIFJlc2l6aW5nIEFsZ29zXG4gKiBUaGVyZSBhcmUgdmFyaW91cyByZXNpemluZyBhbGdvcyBhdmFpbGFibGUuICBUaGUgY3VycmVudCByZWNvbW1lbmRhdGlvbiBpc1xuICogdG8gdXNlICdjb250YWluJyBvciAnY292ZXInIHdoZXJlIHBvc3NpYmxlIGFzIHRoaXMgaGFzIGJlZW4gZGVzaWduZWQgdG8gbW9zdCBjbG9zZWx5XG4gKiByZWZsZWN0IGhvdyBjc3MgYmFja2dyb3VuZC1jb250YWluIHdvdWxkIHdvcmsuXG4gKlxuICogWW91IGNhbiBhbHNvIHNwZWNpZnkgeW91ciBvd24gbG9naWMgYnkgc2V0dGluZyByZXNpemluZ0FsZ28gdG8gJ21hbnVhbCcuXG4gKlxuICpcbiAqIFVzaW5nICdDb250YWluJyBhbGdvXG4gKiBUaGUgcmVzaXppbmdBbGdvIGNvbnRhaW4gYWNjZXB0cyBhIGZldyBwYXJhbWV0ZXJzLiAgQmVjYXVzZSBpbiBhIDNkIHNjZW5lLFxuICogc2l6ZSBpcyByZWFsbHkgcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgY2FtZXJhIHBvc2l0aW9uIGFuZCBvYmplY3Qgc2l6ZXMsXG4gKiBpdCBpcyB1cCB0byB5b3UgdG8gZGVmaW5lIHRoZSBcImJvdW5kc1wiIG9mIHdoaWNoIHNob3VsZCBiZSBjb250YWluZWQgaW5cbiAqIHlvdXIgc2NlbmUuICBUaGlzIGlzIGRpZmZlcmVudCBwZXIgcHJvamVjdCBidXQgaXMgc3BlY2lmaWVkIGluIHdlYkdMIHdvcmxkXG4gKiBzY2FsZS5cbiAqXG4gKiBDb250YWluIHJlcXVpcmVzIHRoZSBmb2xsb3dpbmcgcmVzaXppbmcgb3B0aW9uczpcbiAqIC0gc2NhbGFyWCAtIGEgZmxvYXQgcmVwcmVzZW50aW5nIHRoZSBob3Jpem9udGFsIHNjYWxlIG9mIHRoZSBib3VuZGluZyBib3hcbiAqIC0gc2NhbGFyWSAtIGEgZmxvYXQgcmVwcmVzZW50aW5nIHRoZSB2ZXJ0aWNhbCBzY2FsYXIgb2YgdGhlIGJvdW5kaW5nIGJveC5cbiAqXG4gKiBUaGUgZWFzaWVzdCB3YXkgdG8gZmlndXJlIG91dCB3aGF0IHZhbHVlcyB0byB1c2UgaXMgdG8gaW1hZ2luZVxuICogYSBib3ggd2l0aCBhbiBpbWFnZSBvbiB5b3VyIHNjcmVlbiBhbmQgYmFzaWNhbGx5LCB5b3UgYXJlIGRlZmluaW5nXG4gKiB0aGF0IGJveCBzaXplIGFuZCB0ZWxsaW5nIHRoZSBzY2VuZS1yZW5kZXJlciB0byBuZXZlciBjcm9wIHRoYXQgaW1hZ2UgKGNvbnRhaW4pLlxuICpcbiAqIFN0YXJ0IHdpdGggdGhlIHNoYXBlIHlvdSB3YW50IHRvIGRyYXcuICBJZiB5b3Ugc2F5IHdhbnRlZCBhXG4gKiB0YWxsIGltYWdlLCBwZXJoYXBzIGl0J3MgbGlrZSAxMjAweDE4MDAgcGl4ZWxzLiAgVHJ5IHVzaW5nXG4gKiB0aG9zZSB2YWx1ZXMgYnV0IHJlZHVjaW5nIGl0IGJ5IGEgZmFjdG9yIG9mIDEwMDAgKGZvciBleGFtcGxlKS5cbiAqXG4gKiBzY2FsZVg6IDEyMDAgLyAxMDAwXG4gKiBzY2FsZVk6IDE4MDAgLyAxMDAwXG4gKlxuICogVGhlIGFjdHVhbCB2YWx1ZXMgb2Ygc2NhbGVYIGFuZCBzY2FsZVkgd2lsbCBkZXBlbmQgb24geW91ciBzY2VuZVxuICogb2JqZWN0IHNpemVzIGFuZCB3aGF0IHlvdSBuZWVkLiAgV2hhdCBzY2FsZVggYW5kIHNjYWxlWSBkZWZpbmVcbiAqIGFyZSB0aGUgcmVsYXRpdmUgc2l6ZSBvZiB0aGUgYXJlYSB0aGF0IHNob3VsZCBiZSBjb250YWluZWQuXG4gKlxuICogQXMgYSBzaWRlIG5vdGUgeW91IGNhbiBhbHNvIGFjaGlldmUgYSBxdWljayBcImNvbnRhaW5cIiBlZmZlY3RcbiAqIGJ5IHVzaW5nIHRoZSAncmVzaXplV2l0aEZvdicgb3B0aW9uIGFuZCBwYXNzaW5nIGEgc2luZ2xlIHJlc2l6aW5nU2NhbGFyLlxuICpcbiAqIHVzZUZvdlxuICogQnkgZGVmYXVsdCwgc2l6ZSBhZGp1c3RtZW50cyBhcmUgcGVyZm9ybWVkIGJ5IGNoYW5naW5nIHRoZSBjYW1lcmEgem9vbSBsZXZlbC5cbiAqIFRoaXMgaGFzIGFuIGFkZGVkIGJlbmVmaXQgb2YgY29ycmVjdGx5IHJlc2l6aW5nIHRleHQgaWYgeW91IGFyZSBjYWxjdWxhdGluZ1xuICogdGV4dCBzY2FsZSB1c2luZyB0aHJlZWYudG9Eb21Db29yZGluYXRlcyBtZXRob2QuICBJdCBhbHNvIGRvZXNuJ3Qgc2tld1xuICogcGVyc3BlY3RpdmUuXG4gKlxuICogSWYgeW91IGRvbid0IHdhbnQgdG8gYWRqdXN0IHpvb20gZm9yIHNvbWUgcmVhc29uLCB5b3UgY2FuIG9wdCB0byBjaGFuZ2VcbiAqIHNjZW5lIHNpemUgYnkgYWx0ZXJuaW5nIHRoZSB1c2VGb3YgdG8gYSB0cnVlIHZhbHVlLiAgVGhpcyB3aWxsIGFkanVzdCB0aGVcbiAqIGNhbWVyYSBGT1YgYXMgbmVlZGVkLiAgSWYgeW91ciBzY2VuZSBpcyBvcnRob2dyYXBoaWMgb3IgMmQgYmFzZWQsIHlvdSB3b24ndFxuICogc2VlIGEgZGlmZmVyZW5jZSBidXQgaW4gM2Qgc2NlbmUgaXQgd2lsbCBhbHRlciBhbmQgc2tldyBwZXJzcGVjdGl2ZS5cbiAqXG4gKiBBbGlnbm1lbnQgb3B0aW9uczpcbiAqIEJ5IGRlZmF1bHQsIHdpdGhvdXQgYW55IGFsaWdubWVudCBvcHRpb25zLCB5b3VyIHNjZW5lXG4gKiB3aWxsIHNjYWxlIGF0IGNlbnRlciAvIGNlbnRlciBwb2ludC4gIEhvd2V2ZXIsIHlvdVxuICogY2FuIGRlZmluZSBpdCBzbyB0aGF0IGl0IHNjYWxlcyBhbGlnbmVkIHRvIHRvcCwgYm90dG9tLFxuICogbGVmdCBvciByaWdodCBzaW1pbGFyIHRvIGhvdyBpdCB3b3VsZCB3b3JrIGluIGNzcy5cbiAqXG4gKiB0b3AgLSBhIHZhbHVlIGJldHdlZW4gMC0xIHRvIG5vdGUgdGhlIHZlcnRpY2FsIHBvc2l0aW9uIG9mIHRoZSBmaW5hbCBib3hcbiAqIGJvdHRvbSAtIGEgdmFsdWUgYmV0d2VlbiAwLTEgdG8gbm90ZSB0aGUgdmVydGljYWwgcG9zaXRpb24gb2YgdGhlIGZpbmFsIGJveFxuICogbGVmdCAtIGEgdmFsdWUgYmV0d2VlbiAwLTEgdG8gbm90ZSB0aGUgaG9yaXpvbnRhbCBwb3NpdGlvbiBvZiB0aGUgZmluYWwgYm94XG4gKiByaWdodCAtIGEgdmFsdWUgYmV0d2VlbiAwLTEgdG8gbm90ZSB0aGUgaG9yaXpvbnRhbCBwb3NpdGlvbiBvZiB0aGUgZmluYWwgYm94XG4gKlxuICogdG9wIC8gYm90dG9tIGNhbid0IGV4aXN0IHRvZ2V0aGVyXG4gKiBsZWZ0IC8gcmlnaHQgY2FuJ3QgZXhpc3QgdG9nZXRoZXJcbiAqXG4gKiBBbiBleGFtcGxlIG9mIHVzaW5nICdjb250YWluJyBhbGdvXG4gKlxuICogYGBgdHNcbiAqICB0aGlzLnNjZW5lUmVuZGVyZXIuYWRkU2NlbmUoe1xuICogICAgICAvLyBUaGUgcmVzaXppbmcgYWxnby5cbiAqICAgICAgcmVzaXppbmdBbGdvOiAnY29udGFpbicsXG4gKiAgICAgIHJlc2l6aW5nT3B0aW9uczoge1xuICogICAgICAgICAgIHVzZUZvdjogZmFsc2UsIC8vIFdoZXRoZXIgdG8gdXNlIEZPViBpbnN0ZWFkIG9mIHpvb21cbiAqICAgICAgICAgICBzY2FsYXJYOiAyLjYsXG4gKiAgICAgICAgICAgc2NhbGFyWTogMy44LFxuICogICAgICAgICAgIHRvcDogMCAvLyBBbGlnbiB0aGlzIHRvIHRoZSB0b3BcbiAqICAgICAgICAgICBsZWZ0OiAwIC8vIEFsaWduIHRoaXMgdG8gdGhlIGxlZnRcbiAqICAgICAgfSxcbiAqICAgICB9KTtcbiAqICB9KTtcbiAqIGBgYFxuICpcbiAqXG4gKiBVc2luZyAnQ292ZXInIGFsZ29cbiAqIENvdmVyIHdvcmtzIGluIGEgdmVyeSBzaW1pbGFyIHdheSB0byBjb250YWluLCB5b3UgbmVlZCB0byBzcGVjaWZ5IHlvdXJcbiAqIHNjYWxhclggYW5kIHNjYWxhclkgdmFsdWVzIHRvIHRlbGwgc2NlbmUtcmVuZGVyZXIgdG8gcmVzcGVjdCB0aGF0IGJveCB0b1xuICogY2FsY3VsYXRlIHRoZSBjb3ZlciB2YWx1ZXMuICBZb3UgY2FuIHNwZWNpZnkgdG9wLCBib3R0b20sIGxlZnQgYW5kIHJpZ2h0XG4gKiB2YWx1ZXMgdG8gY292ZXIgc2NhbGUgZnJvbSB0aGUgc3BlY2lmaWMgYXhpcy5cbiAqXG4gKiBgYGB0c1xuICogIHRoaXMuc2NlbmVSZW5kZXJlci5hZGRTY2VuZSh7XG4gKiAgICAgIC8vIFRoZSByZXNpemluZyBhbGdvLlxuICogICAgICByZXNpemluZ0FsZ286ICdjb3ZlcicsXG4gKiAgICAgIHJlc2l6aW5nT3B0aW9uczoge1xuICogICAgICAgICAgIHVzZUZvdjogZmFsc2UsIC8vIFdoZXRoZXIgdG8gdXNlIEZPViBpbnN0ZWFkIG9mIHpvb21cbiAqICAgICAgICAgICBzY2FsYXJYOiAyLjYsXG4gKiAgICAgICAgICAgc2NhbGFyWTogMy44LFxuICogICAgICAgICAgIHRvcDogMCAvLyBBbGlnbiB0aGlzIHRvIHRoZSB0b3BcbiAqICAgICAgICAgICBsZWZ0OiAwIC8vIEFsaWduIHRoaXMgdG8gdGhlIGxlZnRcbiAqICAgICAgfSxcbiAqICAgICB9KTtcbiAqICB9KTtcbiAqXG4gKlxuICogQWR2YW5jZWQgUmVzaXppbmdcbiAqXG4gKlxuICogSGVyZSBpcyBhbiBleGFtcGxlIG9mIGNoYW5naW5nIHNjYWxhciBhbmQgYXNwZWN0IHJhdGlvLFxuICogYmFzZWQgb24geW91ciBtb2JpbGUgdmVyc3VzIGRlc2t0b3AgbGF5b3V0LlxuICpcbiAqIGBgYHRzXG4gKlxuICogIGNvbnN0IHNpemVTY2FsYXIgPSAwLjI7XG4gKiAgdGhpcy5zY2VuZVJlbmRlcmVyLmFkZFNjZW5lKHtcbiAqICAgICAgLy8gVGhlIHJlc2l6aW5nIGFsZ28uXG4gKiAgICAgIHJlc2l6aW5nQWxnbzogJ2NvdmVyJyxcbiAqICAgICAgLy8gUmVxdWlyZWQgLSB5b3Ugc2hvdWxkIGRlZmluZSB0aGUgcmVzaXppbmcgb3B0aW9ucy5cbiAqICAgICAgcmVzaXppbmdPcHRpb25zOiB7XG4gKiAgICAgICAgIHNjYWxhclg6IG51bGwsXG4gKiAgICAgICAgIHNjYWxhclk6IG51bGwsXG4gKiAgICAgICAgIHRvcDogbnVsbCxcbiAqICAgICAgfSxcbiAqICAgICAgb25CZWZvcmVSZXNpemU6IChyZW5kZXJlciwgc2NlbmUsIGNhbWVyYSk9PiB7XG4gKiAgICAgICAgIGlmKHdpbmRvdy5pbm5lcldpZHRoIDwgODAwKSB7XG4gKiAgICAgICAgICAgICBzY2VuZS51c2VyRGF0YS5yZXNpemluZ09wdGlvbnMuc2NhbGFyWCA9IDQwMCAqIHNpemVTY2FsYXI7XG4gKiAgICAgICAgICAgICBzY2VuZS51c2VyRGF0YS5yZXNpemluZ09wdGlvbnMuc2NhbGFyWSA9IDgwMCAqIHNpemVTY2FsYXI7XG4gKiAgICAgICAgICAgICBzY2VuZS51c2VyRGF0YS5yZXNpemluZ09wdGlvbnMudG9wID0gMDtcbiAqICAgICAgICAgfSBlbHNlIHtcbiAqICAgICAgICAgICAgIHNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nT3B0aW9ucy5zY2FsYXJYID0gMTkyMCAqIHNpemVTY2FsYXI7XG4gKiAgICAgICAgICAgICBzY2VuZS51c2VyRGF0YS5yZXNpemluZ09wdGlvbnMuc2NhbGFyWSA9IDEwODAgKiBzaXplU2NhbGFyO1xuICogICAgICAgICAgICAgc2NlbmUudXNlckRhdGEucmVzaXppbmdPcHRpb25zLnRvcCA9IDAuNTtcbiAqICAgICAgICAgfVxuICogICAgICB9LFxuICogICAgIH0pO1xuICogIH0pO1xuICpcbiAqIGBgYFxuICpcbiAqICMjIyBBcHBseWluZyBEZWd1IFNoYWRlciBDaHVua3NcbiAqXG4gKiBZb3UgY2FuIGFwcGx5IHNoYWRlciBjaHVua3MgYXMgZm9sbG93czpcbiAqIGBgYFxuICppbXBvcnQge2RlZ3VTaGFwZTJkfSBmcm9tXG4gKiAnZGVndS9saWIvc2hhZGVycy90aHJlZS1zaGFkZXItY2h1bmtzL2RlZ3Utc2hhcGUyZCc7XG4gKmltcG9ydCB7ZGVndU1hdGhmfSBmcm9tXG4gKiAnZGVndS9saWIvc2hhZGVycy90aHJlZS1zaGFkZXItY2h1bmtzL2RlZ3UtbWF0aGYnO1xuICogICAvLyBBcHBseSBzaGFkZXIgY2h1bmtzLlxuICogICBkZWd1TWF0aGYodGhpcy5zY2VuZVJlbmRlcmVyLmdldFRocmVlKCkpO1xuICogICBkZWd1U2hhcGUyZCh0aGlzLnNjZW5lUmVuZGVyZXIuZ2V0VGhyZWUoKSk7XG4gKlxuICogYGBgXG4gKlxuICpcbiAqXG4gKiBAc2VlIGV4YW1wbGVzL3RocmVlLXNjZW5lLXJlbmRlcmVyMi5odG1sIGZvciBleGFtcGxlcyBvZiB0aGUgcmVzaXppZ24gc3RyYXRlZ2llcy5cbiAqXG4gKlxuICogQHNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80MTkxOTM0MS9pcy10aGVyZS1hLWxpbWl0LXRvLXRoZS1udW1iZXItb2YtdGhyZWUtd2ViZ2xyZW5kZXJlci1pbnN0YW5jZXMtaW4tYS1wYWdlXG4gKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzMwNjA4NzIzL2lzLWl0LXBvc3NpYmxlLXRvLWVuYWJsZS11bmJvdW5kZWQtbnVtYmVyLW9mLXJlbmRlcmVycy1pbi10aHJlZS1qcy8zMDYzMzEzMiMzMDYzMzEzMlxuICogQHNlZSBodHRwczovL3RocmVlanMub3JnL2V4YW1wbGVzL3dlYmdsX211bHRpcGxlX2VsZW1lbnRzLmh0bWxcbiAqL1xuZXhwb3J0IGNsYXNzIFNjZW5lUmVuZGVyZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3Qga25vd24gcm9vdCBlbGVtZW50IHdpZHRoICh1c3VhbGx5IHdpbmRvdyBzaXplKVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCBrbm93biByb290IGVsZW1lbnQgaGVpZ2h0ICh1c3VhbGx5IHdpbmRvdyBzaXplKVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLndhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgICAgICB0aGlzLndhdGNoZXIuYWRkKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksXG4gICAgICAgICAgICBldmVudE9wdGlvbnM6IHsgcGFzc2l2ZTogdHJ1ZSB9LFxuICAgICAgICAgICAgb246ICdzbWFydFJlc2l6ZScsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVzZUFic29sdXRlUG9zaXRpb25pbmcgPSAhIWNvbmZpZy51c2VBYnNvbHV0ZVBvc2l0aW9uaW5nO1xuICAgICAgICB0aGlzLnJvb3RFbGVtZW50ID0gY29uZmlnLnJvb3RFbGVtZW50IHx8IGRvY3VtZW50LmJvZHk7XG4gICAgICAgIHRoaXMuZHByID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTtcbiAgICAgICAgdGhpcy5zY2VuZXMgPSBbXTtcbiAgICAgICAgLy8gR2VuZXJhdGUgY2FudmFzLlxuICAgICAgICB0aGlzLnpJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgICAgIGlmICh0aGlzLnVzZUFic29sdXRlUG9zaXRpb25pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS5sZWZ0ID0gJzBweCc7XG4gICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLnRvcCA9ICcwcHgnO1xuICAgICAgICB0aGlzLnNldFpJbmRleCh0aGlzLnpJbmRleCk7XG4gICAgICAgIHRoaXMucm9vdEVsZW1lbnQuYXBwZW5kKHRoaXMuY2FudmFzKTtcbiAgICAgICAgLy8gSW5pdGlhbCByZW5kZXJlciBzZXR1cC5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKGNvbmZpZy5yZW5kZXJlck9wdGlvbnMgfHwge1xuICAgICAgICAgICAgY2FudmFzOiB0aGlzLmNhbnZhcyxcbiAgICAgICAgICAgIGFudGlhbGlhczogdHJ1ZSxcbiAgICAgICAgICAgIGFscGhhOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gU2V0IHRvIHRyYW5zcGFyZW5jeS5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKDB4ZmZmZmZmLCAwKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKHRoaXMuZHByKTtcbiAgICAgICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBUSFJFRSBvYmplY3QuXG4gICAgICovXG4gICAgZ2V0VGhyZWUoKSB7XG4gICAgICAgIHJldHVybiBUSFJFRTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9yY2VzIGEgcmVzaXplIGV2ZW50IG9uIHRoZSBzY2VuZS1yZW5kZXJlci5cbiAgICAgKi9cbiAgICByZXNpemUoKSB7XG4gICAgICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyByZXNpemluZyBldmVudHMuXG4gICAgICovXG4gICAgb25SZXNpemUoKSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHRoaXMuc2NlbmVzLmZvckVhY2goKHNjZW5lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gc2NlbmUudXNlckRhdGEuZG9tRWxlbWVudDtcbiAgICAgICAgICAgIHNjZW5lLnVzZXJEYXRhLm9uQmVmb3JlUmVzaXplICYmXG4gICAgICAgICAgICAgICAgc2NlbmUudXNlckRhdGEub25CZWZvcmVSZXNpemUodGhpcy5nZXRSZW5kZXJlcigpLCBzY2VuZSwgc2NlbmUudXNlckRhdGEuY2FtZXJhKTtcbiAgICAgICAgICAgIC8vIE5vdyBmb3IgZWFjaCwgZmlndXJlIG91dCB0aGUgcmlnaHQgcmVzaXppbmcgc3RyYXRlZ3kuXG4gICAgICAgICAgICBjb25zdCBjYW1lcmEgPSBzY2VuZS51c2VyRGF0YS5jYW1lcmE7XG4gICAgICAgICAgICBjb25zdCBoID0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCB3ID0gZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGFzcGVjdCA9IHcgLyBoO1xuICAgICAgICAgICAgLy8gQ29udGFpbiB6b29tIGFsZ28uXG4gICAgICAgICAgICBpZiAoc2NlbmUudXNlckRhdGEucmVzaXppbmdBbGdvID09PSBTY2VuZVJlc2l6aW5nQWxnby5yZXNpemVXaXRoWm9vbSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxhciA9IHNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nU2NhbGFyIHx8IDEuMDtcbiAgICAgICAgICAgICAgICBpZiAoYXNwZWN0IDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLnpvb20gPSBhc3BlY3QgKiBzY2FsYXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmEuem9vbSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhbWVyYS5hc3BlY3QgPSBhc3BlY3Q7XG4gICAgICAgICAgICAgICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN0YW5kYXJkIEFzcGVjdCBhbGdvXG4gICAgICAgICAgICBpZiAoc2NlbmUudXNlckRhdGEucmVzaXppbmdBbGdvID09PSBTY2VuZVJlc2l6aW5nQWxnby5zdGFuZGFyZEFzcGVjdCkge1xuICAgICAgICAgICAgICAgIGNhbWVyYS5hc3BlY3QgPSBhc3BlY3Q7XG4gICAgICAgICAgICAgICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlc2l6ZSB3aXRoIEZPVlxuICAgICAgICAgICAgLy8gVXNlcyByZXNpemluZ1NjYWxhci5cbiAgICAgICAgICAgIGlmIChzY2VuZS51c2VyRGF0YS5yZXNpemluZ0FsZ28gPT09IFNjZW5lUmVzaXppbmdBbGdvLnJlc2l6ZVdpdGhGb3YpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB6ID0gc2NlbmUudXNlckRhdGEucmVzaXppbmdTY2FsYXIgfHwgMS4wO1xuICAgICAgICAgICAgICAgIGNhbWVyYS5mb3YgPSBNYXRoLmF0YW4oaCAvIDIgLyB6KSAqIDIgKiBUSFJFRS5NYXRoLlJBRDJERUc7XG4gICAgICAgICAgICAgICAgY2FtZXJhLmFzcGVjdCA9IGFzcGVjdDtcbiAgICAgICAgICAgICAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gXCJDb250YWluXCIgIEFsZ28uXG4gICAgICAgICAgICAvLyBVc2VzIHJlc2l6aW5nT3B0aW9uc1xuICAgICAgICAgICAgaWYgKHNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nQWxnbyA9PT0gU2NlbmVSZXNpemluZ0FsZ28uY29udGFpbikge1xuICAgICAgICAgICAgICAgIGlmICghc2NlbmUudXNlckRhdGEucmVzaXppbmdPcHRpb25zIHx8XG4gICAgICAgICAgICAgICAgICAgICFzY2VuZS51c2VyRGF0YS5yZXNpemluZ09wdGlvbnMuc2NhbGFyWCB8fFxuICAgICAgICAgICAgICAgICAgICAhc2NlbmUudXNlckRhdGEucmVzaXppbmdPcHRpb25zLnNjYWxhclkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1ZXN0ZWQgY29udGFpbiBhbGdvIHdpdGhvdXQgdGhlIGNvcnJlY3QgcmVzaXppbmcgb3B0aW9ucycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBGYWtlIGNvbnRhaW4uICBDb250cm9sIHRoZSB4LHkgc2NhbGFyIHZhbHVlcyB0byBjb250cm9sXG4gICAgICAgICAgICAgICAgLy8gcmVzaXplIHBvaW50cy5cbiAgICAgICAgICAgICAgICBjb25zdCBzY2FsYXJYID0gc2NlbmUudXNlckRhdGEucmVzaXppbmdPcHRpb25zLnNjYWxhclg7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NhbGFyWSA9IHNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nT3B0aW9ucy5zY2FsYXJZO1xuICAgICAgICAgICAgICAgIC8vIEJhc2VkIG9uIHRoZSBwcm92aWRlZCBzY2FsYXJzLCBpbXBsZW1lbnQgYSBiYXNpY1xuICAgICAgICAgICAgICAgIC8vIGNvbnRhaW4gYWxnbyBhZGp1c3RpbmcgRk9WLiAgTm93IHRoaXMgYm94IGFyZWEgd2lsbFxuICAgICAgICAgICAgICAgIC8vIGJlIGNvbnRhaW5lZC5cbiAgICAgICAgICAgICAgICBjb25zdCBoRm92ID0gTWF0aC5hdGFuKGggLyAyIC8gKHcgKiBzY2FsYXJZKSkgKiAyICogVEhSRUUuTWF0aC5SQUQyREVHO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZGb3YgPSBNYXRoLmF0YW4oaCAvIDIgLyAoaCAqIHNjYWxhclgpKSAqIDIgKiBUSFJFRS5NYXRoLlJBRDJERUc7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlydHVhbEZvdiA9IE1hdGgubWF4KHZGb3YsIGhGb3YpO1xuICAgICAgICAgICAgICAgIC8vIFVzZSBGb3ZcbiAgICAgICAgICAgICAgICBpZiAoc2NlbmUudXNlckRhdGEucmVzaXppbmdPcHRpb25zLnVzZUZvdikge1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmEuZm92ID0gdmlydHVhbEZvdjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSB6b29tXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYS56b29tID0gY2FtZXJhLmZvdiAvIHZpcnR1YWxGb3Y7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgdmlydHVhbCBhc3BlY3QgcmF0aW8uXG4gICAgICAgICAgICAgICAgbGV0IHZpcnR1YWxCb3g7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlydHVhbEJveEFzcGVjdCA9IHNjYWxhclkgLyBzY2FsYXJYO1xuICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgQ2FtZXJhIG9mZnNldHMgaW4gcGl4ZWxzLlxuICAgICAgICAgICAgICAgIGxldCB4T2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgeU9mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgLy8gT2Zmc2V0IG9wdGlvbnNcbiAgICAgICAgICAgICAgICBsZXQgdG9wID0gc2NlbmUudXNlckRhdGEucmVzaXppbmdPcHRpb25zLnRvcDtcbiAgICAgICAgICAgICAgICBsZXQgYm90dG9tID0gc2NlbmUudXNlckRhdGEucmVzaXppbmdPcHRpb25zLmJvdHRvbTtcbiAgICAgICAgICAgICAgICBsZXQgbGVmdCA9IHNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nT3B0aW9ucy5sZWZ0O1xuICAgICAgICAgICAgICAgIGxldCByaWdodCA9IHNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nT3B0aW9ucy5yaWdodDtcbiAgICAgICAgICAgICAgICAvLyBWZXJ0aWNhbCBvZmZzZXQgY2FsY3VsYXRpb25zXG4gICAgICAgICAgICAgICAgaWYgKGlzLmRlZmluZWQodG9wKSB8fCBpcy5kZWZpbmVkKGJvdHRvbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgdmlydHVhbCBib3ggYmFzZWQgb24gdGhlIHByb3ZpZGVkIGFzcGVjdHMuXG4gICAgICAgICAgICAgICAgICAgIHZpcnR1YWxCb3ggPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogdyAqIHZpcnR1YWxCb3hBc3BlY3QsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZZID0gTWF0aC5tYXgoMCwgKGggLSB2aXJ0dWFsQm94LmhlaWdodCkgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzLmRlZmluZWQodG9wKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQSB0b3AgdmFsdWUgcmFuZ2luZyBmcm9tIDAtMSB3b3VsZCBhY3R1YWxseVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYmUgYW4gb2Zmc2V0IGZyb20gdGhlIHRvcCBvZiB0aGUgc2NlbmUgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSB2ZXJ0aWNhbCBjZW50ZXIgb2YgdGhlIHNjZW5lLiAgSW4gb3JkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvIG1ha2UgdGhpcyB3b3JrIG1vcmUgbGlrZSBhIHRyYWRpdGlvbmFsIGNzcyBmb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoZXJlIDAgaXMgdGhlIHRvcCBhbmQgMSBpcyBmdWxseSBwdXQgdGhlIGJvdW5kaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBib3ggYSB0aGUgYm90dG9tLCB3ZSBkb3VibGUgdGhlIHZhbHVlLlxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wICo9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB5T2Zmc2V0ID0gZGlmZlkgKiAoMSAtIHRvcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzLmRlZmluZWQoYm90dG9tKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tICo9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB5T2Zmc2V0ID0gLWRpZmZZICogKDEgLSBib3R0b20pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEhvcml6b250YWwgb2Zmc2V0IGNhbGN1bGF0aW9uc1xuICAgICAgICAgICAgICAgIGlmIChpcy5kZWZpbmVkKGxlZnQpIHx8IGlzLmRlZmluZWQocmlnaHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIHZpcnR1YWwgYm94IGJhc2VkIG9uIHRoZSBwcm92aWRlZCBhc3BlY3RzLlxuICAgICAgICAgICAgICAgICAgICB2aXJ0dWFsQm94ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGggLyB2aXJ0dWFsQm94QXNwZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBoLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmWCA9IE1hdGgubWF4KDAsICh3IC0gdmlydHVhbEJveC53aWR0aCkgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzLmRlZmluZWQobGVmdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgKj0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHhPZmZzZXQgPSBkaWZmWCAqICgxIC0gbGVmdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzLmRlZmluZWQocmlnaHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodCAqPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgeE9mZnNldCA9IC1kaWZmWCAqICgxIC0gcmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFwcGx5IGNhbWVyYSBvZmZzZXRzXG4gICAgICAgICAgICAgICAgY2FtZXJhLnNldFZpZXdPZmZzZXQodywgaCwgeE9mZnNldCwgeU9mZnNldCwgdywgaCk7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNhbWVyYSBhc3BlY3RcbiAgICAgICAgICAgICAgICBjYW1lcmEuYXNwZWN0ID0gYXNwZWN0O1xuICAgICAgICAgICAgICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBcIkNvdmVyXCIgIEFsZ28uXG4gICAgICAgICAgICAvLyBVc2VzIHJlc2l6aW5nT3B0aW9uc1xuICAgICAgICAgICAgaWYgKHNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nQWxnbyA9PT0gU2NlbmVSZXNpemluZ0FsZ28uY292ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nT3B0aW9ucyB8fFxuICAgICAgICAgICAgICAgICAgICAhc2NlbmUudXNlckRhdGEucmVzaXppbmdPcHRpb25zLnNjYWxhclggfHxcbiAgICAgICAgICAgICAgICAgICAgIXNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nT3B0aW9ucy5zY2FsYXJZKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWVzdGVkIGNvdmVyIGFsZ28gd2l0aG91dCB0aGUgY29ycmVjdCByZXNpemluZyBvcHRpb25zJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxhclggPSBzY2VuZS51c2VyRGF0YS5yZXNpemluZ09wdGlvbnMuc2NhbGFyWDtcbiAgICAgICAgICAgICAgICBjb25zdCBzY2FsYXJZID0gc2NlbmUudXNlckRhdGEucmVzaXppbmdPcHRpb25zLnNjYWxhclk7XG4gICAgICAgICAgICAgICAgbGV0IHZpcnR1YWxCb3g7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlydHVhbEJveEFzcGVjdCA9IHNjYWxhclkgLyBzY2FsYXJYO1xuICAgICAgICAgICAgICAgIC8vIEJhc2VkIG9uIHRoZSBwcm92aWRlZCBzY2FsYXJzLCBpbXBsZW1lbnQgYSBiYXNpY1xuICAgICAgICAgICAgICAgIC8vIGNvdmVyIGFsZ28gYWRqdXN0aW5nIEZPVi4gIE5vdyB0aGlzIGJveCBhcmVhIHdpbGxcbiAgICAgICAgICAgICAgICAvLyBiZSBjb3ZlciB3aXRoIGNlbnRlciAvIGNlbnRlci5cbiAgICAgICAgICAgICAgICBjb25zdCBoRm92ID0gTWF0aC5hdGFuKGggLyAyIC8gKHcgKiBzY2FsYXJZKSkgKiAyICogVEhSRUUuTWF0aC5SQUQyREVHO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZGb3YgPSBNYXRoLmF0YW4oaCAvIDIgLyAoaCAqIHNjYWxhclgpKSAqIDIgKiBUSFJFRS5NYXRoLlJBRDJERUc7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlydHVhbEZvdiA9IE1hdGgubWluKHZGb3YsIGhGb3YpO1xuICAgICAgICAgICAgICAgIC8vIFVzZSBGb3ZcbiAgICAgICAgICAgICAgICBpZiAoc2NlbmUudXNlckRhdGEucmVzaXppbmdPcHRpb25zLnVzZUZvdikge1xuICAgICAgICAgICAgICAgICAgICBjYW1lcmEuZm92ID0gdmlydHVhbEZvdjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSB6b29tXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYS56b29tID0gY2FtZXJhLmZvdiAvIHZpcnR1YWxGb3Y7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE9mZnNldCBvcHRpb25zXG4gICAgICAgICAgICAgICAgbGV0IHhPZmZzZXQgPSAwO1xuICAgICAgICAgICAgICAgIGxldCB5T2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgdG9wID0gc2NlbmUudXNlckRhdGEucmVzaXppbmdPcHRpb25zLnRvcDtcbiAgICAgICAgICAgICAgICBsZXQgYm90dG9tID0gc2NlbmUudXNlckRhdGEucmVzaXppbmdPcHRpb25zLmJvdHRvbTtcbiAgICAgICAgICAgICAgICBsZXQgbGVmdCA9IHNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nT3B0aW9ucy5sZWZ0O1xuICAgICAgICAgICAgICAgIGxldCByaWdodCA9IHNjZW5lLnVzZXJEYXRhLnJlc2l6aW5nT3B0aW9ucy5yaWdodDtcbiAgICAgICAgICAgICAgICAvLyBWZXJ0aWNhbCBvZmZzZXQgY2FsY3VsYXRpb25zXG4gICAgICAgICAgICAgICAgaWYgKGlzLmRlZmluZWQodG9wKSB8fCBpcy5kZWZpbmVkKGJvdHRvbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgdmlydHVhbCBib3ggYmFzZWQgb24gdGhlIHByb3ZpZGVkIGFzcGVjdHMuXG4gICAgICAgICAgICAgICAgICAgIHZpcnR1YWxCb3ggPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogaCAvIHZpcnR1YWxCb3hBc3BlY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGgsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgYXBwcm94aW1hdGUgdmlydXRhbCBib3ggY292ZXIgYm94IHNjYWxlLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3ZlckJveCA9IG1hdGhmLmNhbGN1bGF0ZUJhY2tncm91bmRDb3Zlcih7IHdpZHRoOiB3LCBoZWlnaHQ6IGggfSwgdmlydHVhbEJveCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZZID0gTWF0aC5tYXgoMCwgKGNvdmVyQm94LmhlaWdodCAtIGgpIC8gMik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpcy5kZWZpbmVkKHRvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcCAqPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgeU9mZnNldCA9IC1kaWZmWSAqICgxIC0gdG9wKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaXMuZGVmaW5lZChib3R0b20pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3R0b20gKj0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHlPZmZzZXQgPSBkaWZmWSAqICgxIC0gYm90dG9tKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBIb3Jpem9udGFsIG9mZnNldCBjYWxjdWxhdGlvbnNcbiAgICAgICAgICAgICAgICBpZiAoaXMuZGVmaW5lZChsZWZ0KSB8fCBpcy5kZWZpbmVkKHJpZ2h0KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSB2aXJ0dWFsIGJveCBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgYXNwZWN0cy5cbiAgICAgICAgICAgICAgICAgICAgdmlydHVhbEJveCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB3LFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB3ICogdmlydHVhbEJveEFzcGVjdCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY292ZXJCb3ggPSBtYXRoZi5jYWxjdWxhdGVCYWNrZ3JvdW5kQ292ZXIoeyB3aWR0aDogdywgaGVpZ2h0OiBoIH0sIHZpcnR1YWxCb3gpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmWCA9IE1hdGgubWF4KDAsIChjb3ZlckJveC53aWR0aCAtIHcpIC8gMik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpcy5kZWZpbmVkKGxlZnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0ICo9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB4T2Zmc2V0ID0gLWRpZmZYICogKDEgLSBsZWZ0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaXMuZGVmaW5lZChyaWdodCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0ICo9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB4T2Zmc2V0ID0gZGlmZlggKiAoMSAtIHJpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYW1lcmEuc2V0Vmlld09mZnNldCh3LCBoLCB4T2Zmc2V0LCB5T2Zmc2V0LCB3LCBoKTtcbiAgICAgICAgICAgICAgICBjYW1lcmEuYXNwZWN0ID0gYXNwZWN0O1xuICAgICAgICAgICAgICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzY2VuZS51c2VyRGF0YS5vblJlc2l6ZSAmJlxuICAgICAgICAgICAgICAgIHNjZW5lLnVzZXJEYXRhLm9uUmVzaXplKHRoaXMuZ2V0UmVuZGVyZXIoKSwgc2NlbmUsIHNjZW5lLnVzZXJEYXRhLmNhbWVyYSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB6LWluZGV4IG9mIHRoZSBtYWluIHJlbmRlcmVyIGNhbnZhcy5cbiAgICAgKi9cbiAgICBzZXRaSW5kZXgoekluZGV4KSB7XG4gICAgICAgIHRoaXMuekluZGV4ID0gekluZGV4O1xuICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS56SW5kZXggPSB0aGlzLnpJbmRleCArICcnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsYXN0IGtub3duIHNpemUgb2Ygcm9vdCBjYW52YXMuICBVc3VhbGx5IHRoaXMgaXMgdXN1YWxseSB0aGUgd2luZG93IHNpemVcbiAgICAgKiBzaW5jZSB0aGUgbWFpbiByZW5kZXJlciBjYW52YXMgY292ZXJzIHRoZSB3aG9sZSBwYWdlLlxuICAgICAqL1xuICAgIGdldFNpemUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICBhc3BlY3Q6IHRoaXMud2lkdGggLyB0aGlzLmhlaWdodCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgVEhSRUUuU2NlbmUgdG8gYmUgcmVuZGVyZWQgd2hlbiB0aGUgZ2l2ZW4gZG9tRWxlbWVudCBpcyB2aXNpYmxlXG4gICAgICogaW4gdGhlIHNjZW5lLlxuICAgICAqL1xuICAgIGFkZFNjZW5lKHNjZW5lQ29uZmlnLCBmb3JjZVJlc2l6ZSA9IGZhbHNlKSB7XG4gICAgICAgIGlmICghc2NlbmVDb25maWcuZG9tRWxlbWVudCB8fCAhc2NlbmVDb25maWcuc2NlbmUgfHwgIXNjZW5lQ29uZmlnLmNhbWVyYSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdTY2VuZVJlbmRlcmVyIGNvdWxkIG5vdCByZWdpc3RlciBzY2VuZS4gIEl0IGlzIG1pc3NpbmcgZWl0aGVyIHRoZSBzY2VuZSwgY2FtZXJlIG9yIGRvbUVsZW1lbnQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzY2VuZSA9IHNjZW5lQ29uZmlnLnNjZW5lO1xuICAgICAgICBpZiAoc2NlbmVDb25maWcuZGVidWcpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBEZWJ1Z2dpbmcoc2NlbmVDb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCB0aGUgc2NlbmUgY29uZmlnIGRhdGEgdG8gdGhlIHNjZW5lLlxuICAgICAgICBzY2VuZS51c2VyRGF0YSA9IHNjZW5lQ29uZmlnO1xuICAgICAgICAvLyBBZGQgZXYgdG8gYWJsZSB0byBsYXRlciBjaGVjayBpZiB0aGUgYXNzb2NpYXRlZCBkb21FbGVtZW50IGlzIHZpc2libGVcbiAgICAgICAgLy8gaW4gdGhlIHZpZXdwb3J0LlxuICAgICAgICBzY2VuZS51c2VyRGF0YS5ldiA9IGVsZW1lbnRWaXNpYmlsaXR5LmludmlldyhzY2VuZUNvbmZpZy5kb21FbGVtZW50KTtcbiAgICAgICAgdGhpcy5zY2VuZXMucHVzaChzY2VuZSk7XG4gICAgICAgIC8vIFJ1biBpbml0LlxuICAgICAgICBzY2VuZS51c2VyRGF0YS5vbkluaXQgJiZcbiAgICAgICAgICAgIHNjZW5lLnVzZXJEYXRhLm9uSW5pdCh0aGlzLmdldFJlbmRlcmVyKCksIHNjZW5lLCBzY2VuZS51c2VyRGF0YS5jYW1lcmEpO1xuICAgICAgICBpZiAoZm9yY2VSZXNpemUpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBkZWJ1Z2dpbmcgdmlhIEdVSUYuXG4gICAgICogQHBhcmFtIHNjZW5lXG4gICAgICovXG4gICAgc2V0dXBEZWJ1Z2dpbmcoc2NlbmVDb25maWcpIHtcbiAgICAgICAgY29uc3Qgc2NlbmUgPSBzY2VuZUNvbmZpZy5zY2VuZTtcbiAgICAgICAgY29uc3QgYXhlc0hlbHBlciA9IG5ldyBUSFJFRS5BeGVzSGVscGVyKDUwKTtcbiAgICAgICAgc2NlbmUuYWRkKGF4ZXNIZWxwZXIpO1xuICAgICAgICBuZXcgVGhyZWVJbnNwZWN0b3Ioc2NlbmVDb25maWcuZG9tRWxlbWVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGludGVybmFsIHdlYkdMUmVuZGVyZXIuXG4gICAgICovXG4gICAgZ2V0UmVuZGVyZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIG91dCBlYWNoIHNjZW5lLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgLy8gU2VlIG5vdGUgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzMwNjA4NzIzL2lzLWl0LXBvc3NpYmxlLXRvLWVuYWJsZS11bmJvdW5kZWQtbnVtYmVyLW9mLXJlbmRlcmVycy1pbi10aHJlZS1qcy8zMDYzMzEzMiMzMDYzMzEzMlxuICAgICAgICAvLyBSYXRoZXIgdGhhbiB1c2luZyBmaXhlZCwgdGhpcyBrZWVwcyB0aGUgY2FudmFzIGluIHN5bmMuXG4gICAgICAgIGlmICh0aGlzLnVzZUFic29sdXRlUG9zaXRpb25pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7d2luZG93LnNjcm9sbFl9cHgpYDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNjaXNzb3JUZXN0KGZhbHNlKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5jbGVhcigpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNjaXNzb3JUZXN0KHRydWUpO1xuICAgICAgICAvLyBHbyB0aHJvdWdoIGVhY2ggc2NlbmUgYW5kIGl0J3MgcG9zaXRpb24gYW5kIHJlbmRlciBpdCBvdXQgaW5cbiAgICAgICAgLy8gcGllY2VzLlxuICAgICAgICB0aGlzLnNjZW5lcy5mb3JFYWNoKChzY2VuZSkgPT4ge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHNjZW5lIGlzIG91dCBvZiB2aWV3LCBjdWxsLlxuICAgICAgICAgICAgaWYgKCFzY2VuZS51c2VyRGF0YS5ldi5zdGF0ZSgpLmludmlldykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBzY2VuZS51c2VyRGF0YS5kb21FbGVtZW50O1xuICAgICAgICAgICAgLy8gR2V0IHRoZSBlbGVtZW50IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBwYWdlJ3Mgdmlld3BvcnRcbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgLy8gc2V0IHRoZSB2aWV3cG9ydFxuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0O1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gcmVjdC5ib3R0b20gLSByZWN0LnRvcDtcbiAgICAgICAgICAgIGNvbnN0IGxlZnQgPSByZWN0LmxlZnQ7XG4gICAgICAgICAgICBjb25zdCBib3R0b20gPSB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gcmVjdC5ib3R0b207XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFZpZXdwb3J0KGxlZnQsIGJvdHRvbSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNjaXNzb3IobGVmdCwgYm90dG9tLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIHNjZW5lLnVzZXJEYXRhLm9uQmVmb3JlUmVuZGVyICYmXG4gICAgICAgICAgICAgICAgc2NlbmUudXNlckRhdGEub25CZWZvcmVSZW5kZXIodGhpcy5nZXRSZW5kZXJlcigpLCBzY2VuZSwgc2NlbmUudXNlckRhdGEuY2FtZXJhKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHNjZW5lLCBzY2VuZS51c2VyRGF0YS5jYW1lcmEpO1xuICAgICAgICAgICAgc2NlbmUudXNlckRhdGEub25BZnRlclJlbmRlciAmJlxuICAgICAgICAgICAgICAgIHNjZW5lLnVzZXJEYXRhLm9uQWZ0ZXJSZW5kZXIodGhpcy5nZXRSZW5kZXJlcigpLCBzY2VuZSwgc2NlbmUudXNlckRhdGEuY2FtZXJhKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgc2NlbmVzLlxuICAgICAgICB0aGlzLnNjZW5lcy5mb3JFYWNoKChzY2VuZSkgPT4ge1xuICAgICAgICAgICAgLy8gRGlzcG9zZSBlbGVtZW50IHZpc2libGl0eS5cbiAgICAgICAgICAgIHNjZW5lLnVzZXJEYXRhLmV2LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBkb20gYXNzb2NpYXRpb24uXG4gICAgICAgICAgICBzY2VuZS51c2VyRGF0YS5lbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHNjZW5lLnVzZXJEYXRhLm9uRGlzcG9zZSAmJiBzY2VuZS51c2VyRGF0YS5vbkRpc3Bvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFJlbW92ZSBjYW52YXMgZnJvbSByb290RWxlbWVudC5cbiAgICAgICAgKF9hID0gdGhpcy5jYW52YXMucGFyZW50RWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlbW92ZUNoaWxkKHRoaXMuY2FudmFzKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2VuZS1yZW5kZXJlci5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/threef/scene-renderer.js\n");

/***/ }),

/***/ "./lib/threef/three-inspector.js":
/*!***************************************!*\
  !*** ./lib/threef/three-inspector.js ***!
  \***************************************/
/*! exports provided: ThreeInspector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ThreeInspector\", function() { return ThreeInspector; });\n/* harmony import */ var _datguif_datguif__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../datguif/datguif */ \"./lib/datguif/datguif.js\");\n\n/**\n * A class that setups guif with a three.js scene.\n */\nclass ThreeInspector {\n    constructor(element) {\n        console.log('setting up new GUI');\n        // Setup GUIF.\n        const gui = new _datguif_datguif__WEBPACK_IMPORTED_MODULE_0__[\"Datguif\"]({\n            load: JSON,\n            autoPlace: false,\n        });\n        element.appendChild(gui.getGui().domElement);\n        gui.addFolder('Renderer', 'Settings');\n        // gui.addFolder('Camera', 'Settings');\n        // gui.addObjectToFolder(\n        //     'Camera',\n        //     camera,\n        //     [\n        //         { keyName: 'fov', min: 0, max: 50, step: 0.01, callback: ()=> {\n        //             camera.updateProjectionMatrix();\n        //         } },\n        //         { keyName: 'zoom', min: 0, max: 10, step: 0.0001, callback: ()=> {\n        //             camera.updateProjectionMatrix();\n        //         } },\n        //     ]\n        // );\n        gui.addFolder('Objects');\n    }\n}\n//# sourceMappingURL=three-inspector.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvdGhyZWVmL3RocmVlLWluc3BlY3Rvci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi90aHJlZWYvdGhyZWUtaW5zcGVjdG9yLmpzP2MxOTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGF0Z3VpZiB9IGZyb20gJy4uL2RhdGd1aWYvZGF0Z3VpZic7XG4vKipcbiAqIEEgY2xhc3MgdGhhdCBzZXR1cHMgZ3VpZiB3aXRoIGEgdGhyZWUuanMgc2NlbmUuXG4gKi9cbmV4cG9ydCBjbGFzcyBUaHJlZUluc3BlY3RvciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgICBjb25zb2xlLmxvZygnc2V0dGluZyB1cCBuZXcgR1VJJyk7XG4gICAgICAgIC8vIFNldHVwIEdVSUYuXG4gICAgICAgIGNvbnN0IGd1aSA9IG5ldyBEYXRndWlmKHtcbiAgICAgICAgICAgIGxvYWQ6IEpTT04sXG4gICAgICAgICAgICBhdXRvUGxhY2U6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChndWkuZ2V0R3VpKCkuZG9tRWxlbWVudCk7XG4gICAgICAgIGd1aS5hZGRGb2xkZXIoJ1JlbmRlcmVyJywgJ1NldHRpbmdzJyk7XG4gICAgICAgIC8vIGd1aS5hZGRGb2xkZXIoJ0NhbWVyYScsICdTZXR0aW5ncycpO1xuICAgICAgICAvLyBndWkuYWRkT2JqZWN0VG9Gb2xkZXIoXG4gICAgICAgIC8vICAgICAnQ2FtZXJhJyxcbiAgICAgICAgLy8gICAgIGNhbWVyYSxcbiAgICAgICAgLy8gICAgIFtcbiAgICAgICAgLy8gICAgICAgICB7IGtleU5hbWU6ICdmb3YnLCBtaW46IDAsIG1heDogNTAsIHN0ZXA6IDAuMDEsIGNhbGxiYWNrOiAoKT0+IHtcbiAgICAgICAgLy8gICAgICAgICAgICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgICAgLy8gICAgICAgICB9IH0sXG4gICAgICAgIC8vICAgICAgICAgeyBrZXlOYW1lOiAnem9vbScsIG1pbjogMCwgbWF4OiAxMCwgc3RlcDogMC4wMDAxLCBjYWxsYmFjazogKCk9PiB7XG4gICAgICAgIC8vICAgICAgICAgICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIC8vICAgICAgICAgfSB9LFxuICAgICAgICAvLyAgICAgXVxuICAgICAgICAvLyApO1xuICAgICAgICBndWkuYWRkRm9sZGVyKCdPYmplY3RzJyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyZWUtaW5zcGVjdG9yLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/threef/three-inspector.js\n");

/***/ }),

/***/ "./lib/threef/threef.js":
/*!******************************!*\
  !*** ./lib/threef/threef.js ***!
  \******************************/
/*! exports provided: threef */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"threef\", function() { return threef; });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _is_is__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\n/* harmony import */ var _func_defer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../func/defer */ \"./lib/func/defer.js\");\n\n\n\n\n/**\n * A bunch of util for three.js\n */\nclass threef {\n    /**\n     * GLTF + Animation Marker Export loader.\n     *\n     * Loads the gltf file and also the associated animation marker\n     * export and appends it to the gltf object.\n     *\n     * ```\n     * import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\n     * import {DRACOLoader} from 'three/examples/jsm/loaders/DRACOLoader';\n     *\n     *   // Create instance of three glft loader.\n     *   const gltfLoader = new GLTFLoader();\n     *\n     *   // Optional: Provide a DRACOLoader instance to decode compressed mesh data\n     *   var dracoLoader = new THREE.DRACOLoader();\n     *   dracoLoader.setDecoderPath( '/examples/js/libs/draco/' );\n     *   gltfLoader.setDRACOLoader( dracoLoader );\n     *\n     *\n     *   threef.load({\n     *     gltfPath: 'public/dev/gltf/test1.gltf',\n     *     // Optional animation marker path.\n     *     animationMarkerPath: 'public/dev/gltf/test1.gltf',\n     *     gltfLoader: gltfLoader\n     *   }).then((gltf) => {\n     *       // gltf.animationMarkers is available.\n     *       // Everything else works the same as the three gltf loader.\n     *   });\n     *\n     *   // Call again to load something else with the same loader.\n     *   threef.load({\n     *     gltfPath: 'public/dev/gltf/test2.gltf',\n     *     animationMarkerPath: 'public/dev/gltf/test2.gltf',\n     *     gltfLoader: gltfLoader\n     *   }).then((gltf) => {\n     *       // gltf.animationMarkers is available.\n     *       // Everything else works the same as the three gltf loader.\n     *   });\n     * ```\n     *\n     * @see https://threejs.org/docs/#examples/en/loaders/GLTFLoader\n     * @see https://github.com/mrdoob/three.js/tree/dev/examples/js/libs/draco#readme\n     */\n    static loadGltf(config) {\n        const defer = new _func_defer__WEBPACK_IMPORTED_MODULE_3__[\"Defer\"]();\n        // Start loading gltf.\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        let gltfData = {};\n        const gltfFetch = new Promise(resolve => {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            config.gltfLoader.load(config.gltfPath, (gltf) => {\n                gltfData = gltf;\n                resolve({});\n            });\n        });\n        let animationMarkerData = {};\n        const markerFetch = new Promise(resolve => {\n            if (!config.animationMarkerPath) {\n                animationMarkerData = {};\n                resolve({});\n            }\n            else {\n                // Load the animation export\n                fetch(config.animationMarkerPath)\n                    .then(response => {\n                    return response.json();\n                })\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    .then((markerData) => {\n                    animationMarkerData = markerData;\n                    resolve({});\n                });\n            }\n        });\n        // Merge out the data.\n        Promise.all([gltfFetch, markerFetch]).then(() => {\n            gltfData['animationMarkers'] = animationMarkerData;\n            defer.resolve(gltfData);\n        });\n        return defer.getPromise();\n    }\n    /**\n     * Given a three.js Mesh / Object3d, calculates the current position and maps that to the\n     * DOM x, y, z position and considers camera position.\n     *\n     * The returning x,y values are in pixels.\n     * x / canvasWidth or y / canvasHeight would give you the percentage values.\n     *\n     * @see three-object-viewer11.html for examples and also three-object-viewer11.blend\n     *\n     * @param object The three.js object to base the position off of.\n     * @param camera The currently active camera.\n     * @param width The canvas width\n     * @param height The canvas width\n     * @param scalar? An optional scalar value.  You can pass a value like 1 to tell\n     *   the dom element to scale along with the camera movement.  We can't do this\n     *   automatically, since we have no reference to what scale 1 should be\n     *   when the camera is a certain distance from the object.\n     *\n     *\n     * Inspired by:\n     * - https://ics.media/tutorial-three/position_project/\n     * - https://threejsfundamentals.org/threejs/lessons/threejs-align-html-elements-to-3d.html\n     * - https://stackoverflow.com/questions/27409074/converting-3d-position-to-2d-screen-position-r69\n     * - https://stackoverflow.com/questions/46667395/three-js-vector3-to-2d-screen-coordinate-with-rotated-scene\n     * - https://gist.github.com/ChiChou/a671a0bbe514364255f9\n     * - https://github.com/mrdoob/three.js/blob/master/examples/js/renderers/CSS3DRenderer.js#L6-L31\n     * - https://github.com/mrdoob/three.js/blob/master/examples/js/renderers/CSS3DRenderer.js#L254\n     */\n    static toDomCoordinates(object, camera, width, height, scalar) {\n        const v = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]();\n        // Get the position of the center of the object.\n        object.updateWorldMatrix(true, false);\n        object.getWorldPosition(v);\n        // Convert -1 - 1 world space to dom based 0-1 range.\n        // Get the normalized screen coordinate of that position\n        // x and y will be in the -1 to +1 range with x = -1 being\n        // on the left and y = -1 being on the bottom\n        v.project(camera);\n        const x = (v.x * 0.5 + 0.5) * width;\n        const y = (v.y * -0.5 + 0.5) * height;\n        let z = 1;\n        if (_is_is__WEBPACK_IMPORTED_MODULE_2__[\"defined\"](scalar)) {\n            // Since the canvas scales based on height, use that as the basis.\n            z = (v.z * -0.5 + 0.5) * height;\n            z *= scalar;\n            z *= camera.zoom || 1.0;\n        }\n        return new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](x, y, z);\n    }\n    /**\n     * Converts a Three local Vec3 position to exact screen coordinates.\n     * @param position\n     * @param camera\n     * @param width\n     * @param height\n     */\n    static toScreenXY(position, camera, width, height) {\n        const pos = position.clone();\n        const mat4 = new three__WEBPACK_IMPORTED_MODULE_0__[\"Matrix4\"]();\n        mat4.multiply(camera.projectionMatrix);\n        mat4.multiply(camera.matrixWorldInverse);\n        // mat4.multiplyVector3(pos);\n        pos.applyMatrix4(mat4);\n        return {\n            x: ((pos.x + 1) * width) / 2,\n            y: ((-pos.y + 1) * height) / 2,\n            z: pos.z,\n        };\n    }\n    /**\n     * Gets the bounding rect in pixel values of a given object.\n     * This basically, allows you to calculate the width / height of a given\n     * object in screen space.  It will also get you x,y coordinates of the bounding\n     * box around your object.\n     *\n     * Imagine a cube on your screen\n     * and you want to know the pixel width and height it occupies on the screen.\n     * This makes sense if you are looking head on but what happens if the\n     * camera is at an angle or the object is rotated.\n     * Or you might want the approximate width and height of a sphere or\n     * actual screen height and width of a human model when the camera is looking from a\n     * top angle.\n     *\n     * This method will allow you to do that.\n     *\n     * It will start by drawing a Box3d cube (boundingBox) around the object.\n     * It will then convert the Box3d into a square of 2d coordinate.\n     * Using that square, it will then calculate the screenXY coordinates of each\n     * corner of the cube.\n     * It will then calculate the width and height this object occupies on\n     * the screen based on these values.\n     *\n     *\n     * If working on this method, since calculations can be involved, it is helpful\n     * to pass in the current working scene to debug the corners.\n     * ```\n     *\n     * const box = three.toDomBoudingRect(\n     *   myObject, camera, canvas.offsetWidth, canvas.offsetHeight,\n     *   {\n     *     scalar: 1, // For z scaling factor\n     *     scene: scene, // Pass in your scene to debug the corner.\n     *   }\n     * )\n     *\n     * box.width --> The pixel width on the screen.\n     * box.height --> The pixel height on the screen.\n     * box.topLeft --> The top left corner of the bounding box.\n     *\n     * ```\n     *\n     */\n    static toDomBoundingRect(object, camera, width, height, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    options\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ) {\n        const box = new three__WEBPACK_IMPORTED_MODULE_0__[\"Box3\"]().setFromObject(object);\n        // Get box corners.\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const corners = {\n            '000': {\n                color: 0xffffff,\n                vec: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]().set(box.min.x, box.min.y, box.min.z), // 000\n            },\n            '001': {\n                color: 0x0fff00,\n                vec: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]().set(box.min.x, box.min.y, box.max.z), // 001\n            },\n            '010': {\n                color: 0xff00f7,\n                vec: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]().set(box.min.x, box.max.y, box.min.z), // 010\n            },\n            '011': {\n                color: 0x9d9d9d,\n                vec: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]().set(box.min.x, box.max.y, box.max.z), // 011\n            },\n            '100': {\n                color: 0x003eff,\n                vec: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]().set(box.max.x, box.min.y, box.min.z), // 100\n            },\n            '101': {\n                color: 0xf3ff00,\n                vec: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]().set(box.max.x, box.min.y, box.max.z), // 101\n            },\n            '110': {\n                color: 0xff0000,\n                vec: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]().set(box.max.x, box.max.y, box.min.z), // 110\n            },\n            '111': {\n                color: 0x000000,\n                vec: new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]().set(box.max.x, box.max.y, box.max.z), // 111\n            },\n        };\n        // Generate an array of the XY screen coordinate of every single corner\n        // of the box3d.\n        const cornerPositions = [];\n        for (const key of Object.keys(corners)) {\n            const corner = corners[key];\n            const xy = threef.toScreenXY(corner.vec, camera, width, height);\n            cornerPositions.push(xy);\n        }\n        const center = threef.toScreenXY(object.position, camera, width, height);\n        // console.log(object.position, camera);\n        const xs = cornerPositions.map(xy => {\n            return xy.x;\n        });\n        const ys = cornerPositions.map(xy => {\n            return xy.y;\n        });\n        const scene = options && options.scene;\n        const scalar = options && options.scalar;\n        // This is our virtual 2d square from the 3d cube.  This is a square\n        // drawn over the box3d bounding box, representing the space\n        // this object takes up on the screen.\n        const minX = Math.min(...xs);\n        const maxX = Math.max(...xs);\n        const minY = Math.min(...ys);\n        const maxY = Math.max(...ys);\n        // Based on there, we can calculate the size.\n        const finalSize = {\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n        // Calculate relative depth (z)\n        let z = 1;\n        if (scalar) {\n            const v = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"]();\n            object.updateWorldMatrix(true, false);\n            object.getWorldPosition(v);\n            v.project(camera);\n            // Since the canvas scales based on height, use that as the basis.\n            z = (v.z * -0.5 + 0.5) * height;\n            z *= scalar;\n            z *= camera['zoom'] || 1.0;\n        }\n        // Calcualte the corners of the box from top left clockwise.\n        center.z = z;\n        const corner1 = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](minX, minY, z);\n        const corner2 = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](maxX, minY, z);\n        const corner3 = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](minX, maxY, z);\n        const corner4 = new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](minX, maxY, z);\n        // If a scene has been passed, add\n        if (scene) {\n            object.visible = false;\n            // TODO (uxder): This doesn't exist on mesh according to docs.\n            // Need to investigate if we can just remove this.\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            object['alwaysInvisible'] = true;\n            for (const key of Object.keys(corners)) {\n                const corner = corners[key];\n                const geometry = new three__WEBPACK_IMPORTED_MODULE_0__[\"BoxGeometry\"](0.1, 0.1, 0.1);\n                const material = new three__WEBPACK_IMPORTED_MODULE_0__[\"MeshBasicMaterial\"]({ color: corner.color });\n                const cube = new three__WEBPACK_IMPORTED_MODULE_0__[\"Mesh\"](geometry, material);\n                cube.position.set(corner.vec.x, corner.vec.y, corner.vec.z);\n                scene.add(cube);\n            }\n        }\n        return {\n            topLeft: corner1,\n            topRight: corner2,\n            center: center,\n            bottomLeft: corner3,\n            bottomRight: corner4,\n            width: finalSize.width,\n            height: finalSize.height,\n        };\n    }\n    /**\n     * Converts from the blender coordinate system over to three (XYZ).\n     * This assumes that within blender, you are using the XYZ Euler rotation\n     * settings.\n     *\n     * If your settings are off, it's likely the object your exported\n     * has rotations.  Select your object to Apply -> Rotation & Scale\n     * in blender.\n     *\n     * Example:\n     * ```\n     *  threef.blenderToThreeCoordinates({\n     *     x: mathf.degreeToRadian(51.9),\n     *     y: mathf.degreeToRadian(192),\n     *     z: mathf.degreeToRadian(200)\n     * }),\n     * ```\n     * @param object Object contains x,y,z\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static blenderToThreeEuler(euler) {\n        return {\n            x: -euler.x,\n            y: euler.z,\n            z: -euler.y,\n        };\n    }\n    /**\n     * Converts blender coords to three.js\n     * ```\n     * targetPosition = threef.blenderToThreeVec3({\n     *   // Specify in blender coords\n     *   x: 0,\n     *   y: 0,\n     *   z: 1.0,\n     * });\n     *\n     * ```\n     * @param vec3\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static blenderToThreeVec3(vec3) {\n        return {\n            x: -vec3.x,\n            y: vec3.z,\n            z: -vec3.y,\n        };\n    }\n    /**\n     * Given a three.js object, calculates the euler rotation over to values that can\n     * be applied via css.  Note this return euler rotations in radians (THREE.Euler).\n     * @param object\n     * @param camera\n     * @param width\n     * @param height\n     */\n    static toDomRotation(object, camera) {\n        // Get the local transform values.\n        const q = new three__WEBPACK_IMPORTED_MODULE_0__[\"Quaternion\"]();\n        // object.updateWorldMatrix(true, false);\n        object.getWorldQuaternion(q);\n        // Convert coordinate system.\n        q.x = -q.x;\n        q.z = -q.z;\n        // Get the camera rotation (world)\n        const cq = new three__WEBPACK_IMPORTED_MODULE_0__[\"Quaternion\"]();\n        // camera.updateWorldMatrix(true, false);\n        camera.getWorldQuaternion(cq);\n        // Convert coordinate system.\n        cq.y = -cq.y;\n        // Combine the camera and object rotation\n        cq.multiply(q);\n        const euler = new three__WEBPACK_IMPORTED_MODULE_0__[\"Euler\"]();\n        euler.setFromQuaternion(cq.normalize());\n        //   Euler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n        // euler.reorder(\"ZYX\")\n        return euler;\n    }\n    /**\n     * Gets the visible height at a specific depth given a three.js camera.\n     *\n     * Example:\n     * You have a 100x100x100 cube and want to know the \"pixel\" size it is\n     * rendered at when it's at a depth of 200.\n     * ```\n     * // Add 50 to account for size from the center of cube.\n     * const depth = (cube.position.z + 50) - camera.position.z;\n     *\n     * const visibleSize = threef.getVisibleHeightAndWidthAtDepth(depth, camera);\n     *\n     * // So relative to the height, how much does the cube take up.\n     * const heightScalar = 100 / visibleSize.height;\n     *\n     * // Now normalize that to the size in pixels.\n     * const heightInPixels = canvasSize.height * heightScalar;\n     * ```\n     * @untested\n     * @experimental\n     * @dontuse\n     * @hidden\n     */\n    /*\n      static getVisibleHeightAndWidthAtDepth(distance: number, camera: THREE.Camera): any {\n          var vFOV = camera['fov'] * Math.PI / 180;\n          var height = 2 * Math.tan(vFOV / 2) * distance;\n          var width = height * camera['aspect'];\n          return {\n              width: width,\n              height: height,\n          };\n      }\n      */\n    /**\n     * Given a known size of an object, calculate the actual size it is rendered\n     * on the screen (pixel).\n     *\n     * ```\n     * const pixelSize = threef.convertObjectSizeToPixel(\n     *    cube.geometry.parameters.width,\n     *    cube.geometry.parameters.height,\n     *    cube.geometry.parameters.depth,\n     *    camera,\n     *    canvasWidth, canvasHeight\n     * );\n     *\n     * console.log(pixelSize.width); // The actual rendered size of the cube in pixels\n     * console.log(pixelSize.height); // The actual rendered size of the cube in pixels.\n     *\n     * ```\n     *\n     * @untested\n     * @experimental\n     * @dontuse\n     * @hidden\n     */\n    /*\n      static convertObjectSizeToPixels(\n          width: number, height: number, depth: number, zPosition: number,\n          camera: THREE.Camera,\n          sceneWidth: number, sceneHeight: number): any {\n  \n          // First calculate the z distance from the cam to object considering the\n          // depth (z size) of the object.\n          const zDepth = (zPosition + depth) - camera.position.z;\n          const visibleSize = threef.getVisibleHeightAndWidthAtDepth(zDepth, camera);\n          const heightScalar = height / visibleSize.height;\n          const heightInPixels = sceneHeight * heightScalar;\n          const widthScalar = width / visibleSize.height;\n          const widthInPixels = sceneWidth * widthScalar;\n  \n          return {\n              width: widthInPixels,\n              height: heightInPixels,\n          }\n      }\n      */\n    /**\n     * Provides the ability to convert a vec3 into another coordinate system\n     * as needed given the mapping.\n     *\n     * Mapping supports the following strings: x,y,z,-x,-y,-z\n     *\n     * Example:\n     * ```\n     * threef.convertCoordinateSystem(\n     *    new THREE.Vector3(1, 2, 3),\n     *   ['-y', 'z', 'x']\n     * );  // x -> -2, y -> 3, z -> 1\n     *\n     * This internally converts the Vector3 using this logic:\n     *  x -> -y, y -> z, z-> x\n     * ```\n     *\n     * @param vec3\n     * @param orientation\n     */\n    static convertCoordinateSystem(vec3, map) {\n        const x = map[0].toLowerCase().split('');\n        const xFactor = x[0] === '-' ? -1 : 1;\n        const xValue = x[0] === '-' ? x[1] : x[0];\n        const y = map[1].toLowerCase().split('');\n        const yFactor = y[0] === '-' ? -1 : 1;\n        const yValue = y[0] === '-' ? y[1] : y[0];\n        const z = map[2].toLowerCase().split('');\n        const zFactor = z[0] === '-' ? -1 : 1;\n        const zValue = z[0] === '-' ? z[1] : z[0];\n        return new three__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](\n        // TODO (uxder): Figure out type fix here.\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        vec3[xValue] * xFactor, \n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        vec3[yValue] * yFactor, \n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        vec3[zValue] * zFactor);\n    }\n    /**\n     * Sets the FOV as camera on a DOM element.\n     * @param element\n     * @param camera\n     */\n    static setFov(element, camera) {\n        const fov = (0.5 / Math.tan((camera['fov'] * Math.PI) / 360)) * element.offsetHeight;\n        element.style.perspectiveOrigin = '50% 50%';\n        element.style.perspective = fov + 'px';\n    }\n    /**\n     * Given vector and euler rotations, applies transforms to an html element.\n     * This works if your dom element is absolutely positions with the canvas.\n     *\n     * Given:\n     *```\n     * .text {\n     *   position: absolute;\n     * }\n     * <div style=\"position: relative; height: 100vh; width: 100vw\">\n     *   <canvas></canvas>\n     *   <div class=\"text\">Hello hello</div>\n     * </div>\n     * ```\n     *\n     * You would do:\n     *\n     * ```\n     *   const domCoordinates = threef.toDomCoordinates(\n     *       threeObject, threeCamara, canvasWidth, canvasHeight, 0.5\n     *   );\n     *   const domRotation = threef.toDomRotation(\n     *      threeObject, threeCamera, canvasWidth, canvasHeight\n     *   );\n     *\n     *   // Set the position and rotation of myDomElement to match the threeObject\n     *   threef.applyVectorToDom(myDomElement, domCoordinates, domRotation);\n     *\n     *   // Set the position, rotation only of myDomElement to match the threeObject without scaling\n     *   domCoodinates.z = 1; // No scaling.\n     *   threef.applyVectorToDom(myDomElement, domCoordinates, domRotation);\n     *\n     *   // Set the position only of myDomElement to match the threeObject\n     *   // This results in a billboarding effect.\n     *   threef.applyVectorToDom(myDomElement, domCoordinates);\n     * ```\n     */\n    static applyVectorToDom(element, v, euler) {\n        if (euler) {\n            const deg = {\n                x: _mathf_mathf__WEBPACK_IMPORTED_MODULE_1__[\"radianToDegree\"](euler.x),\n                y: _mathf_mathf__WEBPACK_IMPORTED_MODULE_1__[\"radianToDegree\"](euler.y),\n                z: _mathf_mathf__WEBPACK_IMPORTED_MODULE_1__[\"radianToDegree\"](euler.z),\n            };\n            if (v) {\n                element.style.transform = `translate(-50%, -50%) translate(${v.x}px, ${v.y}px) rotateX(${deg.x}deg) rotateY(${deg.y}deg) rotateZ(${deg.z}deg) scale(${v.z})`;\n            }\n            else {\n                element.style.transform = `rotateX(${deg.x}deg) rotateY(${deg.y}deg) rotateZ(${deg.z}deg)`;\n            }\n        }\n        else {\n            element.style.transform = `translate(-50%, -50%) translate(${v === null || v === void 0 ? void 0 : v.x}px, ${v === null || v === void 0 ? void 0 : v.y}px) scale(${v === null || v === void 0 ? void 0 : v.z})`;\n        }\n    }\n    /**\n     * Given an array THREE.AnimationClips, does a search for an animation\n     * clip of the given name.\n     */\n    static getAnimationByName(name, animationClips) {\n        return animationClips.filter((animationClip) => {\n            return animationClip.name === name;\n        })[0];\n    }\n    /**\n     * Traverses the current scene checking for match conditions.\n     *\n     * ```ts\n     * // Look for any meshes that are of the name 'hohoho' or 'hohoho2'.\n     * // and change the anistropy to 100.\n     *\n     * threef.traverseSceneFor(\n     *   // Test condition\n     *   (threeObject)=> {\n     *      return\n     *         (threeObject instance of THREE.MESH) &&\n     *         ~['hohoho', 'hohoho2'].indexOf(threeObject.name)\n     *   },\n     *   (threeObject)=> {\n     *      threeObject.material.map.anistropy = 100;\n     *      threeObject.material.needsUpdate = true;\n     *   },\n     *   myScene\n     * )\n     *\n     *\n     * ```\n     */\n    static traverseSceneFor(matchCondition, execution, scene) {\n        scene.traverse(child => {\n            if (matchCondition(child)) {\n                execution(child);\n            }\n        });\n    }\n    /**\n     * Given a list of names, looks through the objects in the scenes\n     * and returns a dictionary of them so they can be quickly accessed\n     * at a later time.\n     *\n     * ```ts\n     * // Specify the types of objects you want.\n     * const typeMap = {\n     *     // Normally just pass a string for the \"object\" type\n     *     mesh: 'Mesh',\n     *     // Pass array for multiple\n     *     myStuff: ['Mesh', 'PointLight'],\n     *     // Custom search logic.\n     *     materials: (object, type) => {\n     *         return object.material\n     *     },\n     *     lights: (object, type)=> {\n     *         return ~type.toLowerCase().indexOf('light');\n     *      }\n     *     pointLight: 'PointLight',\n     *     cameras: 'PerspectiveCamera',\n     * }\n     * const objectDictionary = threef.makeObjectDictionaryFromScene(\n     *   scene, typeMap\n     * );\n     *\n     * ```\n     *\n     * Based on your typemap, a dictionary is returns with that type of\n     * object contained.\n     *\n     * ```\n     * objectDictionary.byName['myObject1']; // Your THREE object\n     * objectDictionary.byName['myPointlight1']; // Your THREE pointlight.\n     *\n     * // All text markers.\n     * // By convention, text markers are any object that starts with the\n     * // naming 'text-marker' (IE: text-marker1, text-marker2 etc.)\n     * objectDictionary.textMarkers;\n     *\n     * objectDictionary.mesh; // All your meshes\n     * objectDictionary.materials; // All your materials\n     * objectDictionary.lights; // All your lights\n     *\n     * ```\n     *\n     * @param name\n     * @param THREE.Scene\n     */\n    static createObjectDictionaryFromScene(scene, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    mapping) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const dictionary = {\n            // Stores objects by name.\n            byName: {},\n            textMarkers: [],\n        };\n        for (const key of Object.keys(mapping)) {\n            dictionary[key] = [];\n        }\n        scene.traverse(child => {\n            dictionary.byName[child.name] = child;\n            if (child.name.startsWith('text-')) {\n                dictionary.textMarkers.push(child);\n            }\n            // Check if this object matches a specific mapping.\n            for (const key of Object.keys(mapping)) {\n                const value = mapping[key];\n                if (_is_is__WEBPACK_IMPORTED_MODULE_2__[\"string\"](value)) {\n                    if (child.type === value) {\n                        dictionary[key].push(child);\n                    }\n                }\n                if (_is_is__WEBPACK_IMPORTED_MODULE_2__[\"array\"](value)) {\n                    if (~value.indexOf(child.type)) {\n                        dictionary[key].push(child);\n                    }\n                }\n                if (_is_is__WEBPACK_IMPORTED_MODULE_2__[\"functionLike\"](value)) {\n                    if (value(child, child.type)) {\n                        dictionary[key].push(child);\n                    }\n                }\n            }\n        });\n        return dictionary;\n    }\n    static findSceneByName(name, scenes) {\n        const scene = scenes.filter(scene => {\n            return scene.name === name;\n        })[0];\n        return scene;\n    }\n}\n//# sourceMappingURL=threef.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvdGhyZWVmL3RocmVlZi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi90aHJlZWYvdGhyZWVmLmpzPzY1YjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0ICogYXMgbWF0aGYgZnJvbSAnLi4vbWF0aGYvbWF0aGYnO1xuaW1wb3J0ICogYXMgaXMgZnJvbSAnLi4vaXMvaXMnO1xuaW1wb3J0IHsgRGVmZXIgfSBmcm9tICcuLi9mdW5jL2RlZmVyJztcbi8qKlxuICogQSBidW5jaCBvZiB1dGlsIGZvciB0aHJlZS5qc1xuICovXG5leHBvcnQgY2xhc3MgdGhyZWVmIHtcbiAgICAvKipcbiAgICAgKiBHTFRGICsgQW5pbWF0aW9uIE1hcmtlciBFeHBvcnQgbG9hZGVyLlxuICAgICAqXG4gICAgICogTG9hZHMgdGhlIGdsdGYgZmlsZSBhbmQgYWxzbyB0aGUgYXNzb2NpYXRlZCBhbmltYXRpb24gbWFya2VyXG4gICAgICogZXhwb3J0IGFuZCBhcHBlbmRzIGl0IHRvIHRoZSBnbHRmIG9iamVjdC5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIGltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyJztcbiAgICAgKiBpbXBvcnQge0RSQUNPTG9hZGVyfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9EUkFDT0xvYWRlcic7XG4gICAgICpcbiAgICAgKiAgIC8vIENyZWF0ZSBpbnN0YW5jZSBvZiB0aHJlZSBnbGZ0IGxvYWRlci5cbiAgICAgKiAgIGNvbnN0IGdsdGZMb2FkZXIgPSBuZXcgR0xURkxvYWRlcigpO1xuICAgICAqXG4gICAgICogICAvLyBPcHRpb25hbDogUHJvdmlkZSBhIERSQUNPTG9hZGVyIGluc3RhbmNlIHRvIGRlY29kZSBjb21wcmVzc2VkIG1lc2ggZGF0YVxuICAgICAqICAgdmFyIGRyYWNvTG9hZGVyID0gbmV3IFRIUkVFLkRSQUNPTG9hZGVyKCk7XG4gICAgICogICBkcmFjb0xvYWRlci5zZXREZWNvZGVyUGF0aCggJy9leGFtcGxlcy9qcy9saWJzL2RyYWNvLycgKTtcbiAgICAgKiAgIGdsdGZMb2FkZXIuc2V0RFJBQ09Mb2FkZXIoIGRyYWNvTG9hZGVyICk7XG4gICAgICpcbiAgICAgKlxuICAgICAqICAgdGhyZWVmLmxvYWQoe1xuICAgICAqICAgICBnbHRmUGF0aDogJ3B1YmxpYy9kZXYvZ2x0Zi90ZXN0MS5nbHRmJyxcbiAgICAgKiAgICAgLy8gT3B0aW9uYWwgYW5pbWF0aW9uIG1hcmtlciBwYXRoLlxuICAgICAqICAgICBhbmltYXRpb25NYXJrZXJQYXRoOiAncHVibGljL2Rldi9nbHRmL3Rlc3QxLmdsdGYnLFxuICAgICAqICAgICBnbHRmTG9hZGVyOiBnbHRmTG9hZGVyXG4gICAgICogICB9KS50aGVuKChnbHRmKSA9PiB7XG4gICAgICogICAgICAgLy8gZ2x0Zi5hbmltYXRpb25NYXJrZXJzIGlzIGF2YWlsYWJsZS5cbiAgICAgKiAgICAgICAvLyBFdmVyeXRoaW5nIGVsc2Ugd29ya3MgdGhlIHNhbWUgYXMgdGhlIHRocmVlIGdsdGYgbG9hZGVyLlxuICAgICAqICAgfSk7XG4gICAgICpcbiAgICAgKiAgIC8vIENhbGwgYWdhaW4gdG8gbG9hZCBzb21ldGhpbmcgZWxzZSB3aXRoIHRoZSBzYW1lIGxvYWRlci5cbiAgICAgKiAgIHRocmVlZi5sb2FkKHtcbiAgICAgKiAgICAgZ2x0ZlBhdGg6ICdwdWJsaWMvZGV2L2dsdGYvdGVzdDIuZ2x0ZicsXG4gICAgICogICAgIGFuaW1hdGlvbk1hcmtlclBhdGg6ICdwdWJsaWMvZGV2L2dsdGYvdGVzdDIuZ2x0ZicsXG4gICAgICogICAgIGdsdGZMb2FkZXI6IGdsdGZMb2FkZXJcbiAgICAgKiAgIH0pLnRoZW4oKGdsdGYpID0+IHtcbiAgICAgKiAgICAgICAvLyBnbHRmLmFuaW1hdGlvbk1hcmtlcnMgaXMgYXZhaWxhYmxlLlxuICAgICAqICAgICAgIC8vIEV2ZXJ5dGhpbmcgZWxzZSB3b3JrcyB0aGUgc2FtZSBhcyB0aGUgdGhyZWUgZ2x0ZiBsb2FkZXIuXG4gICAgICogICB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBzZWUgaHR0cHM6Ly90aHJlZWpzLm9yZy9kb2NzLyNleGFtcGxlcy9lbi9sb2FkZXJzL0dMVEZMb2FkZXJcbiAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvdHJlZS9kZXYvZXhhbXBsZXMvanMvbGlicy9kcmFjbyNyZWFkbWVcbiAgICAgKi9cbiAgICBzdGF0aWMgbG9hZEdsdGYoY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IGRlZmVyID0gbmV3IERlZmVyKCk7XG4gICAgICAgIC8vIFN0YXJ0IGxvYWRpbmcgZ2x0Zi5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgbGV0IGdsdGZEYXRhID0ge307XG4gICAgICAgIGNvbnN0IGdsdGZGZXRjaCA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIGNvbmZpZy5nbHRmTG9hZGVyLmxvYWQoY29uZmlnLmdsdGZQYXRoLCAoZ2x0ZikgPT4ge1xuICAgICAgICAgICAgICAgIGdsdGZEYXRhID0gZ2x0ZjtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHt9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGFuaW1hdGlvbk1hcmtlckRhdGEgPSB7fTtcbiAgICAgICAgY29uc3QgbWFya2VyRmV0Y2ggPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGlmICghY29uZmlnLmFuaW1hdGlvbk1hcmtlclBhdGgpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25NYXJrZXJEYXRhID0ge307XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBMb2FkIHRoZSBhbmltYXRpb24gZXhwb3J0XG4gICAgICAgICAgICAgICAgZmV0Y2goY29uZmlnLmFuaW1hdGlvbk1hcmtlclBhdGgpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgICAgICAudGhlbigobWFya2VyRGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25NYXJrZXJEYXRhID0gbWFya2VyRGF0YTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7fSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBNZXJnZSBvdXQgdGhlIGRhdGEuXG4gICAgICAgIFByb21pc2UuYWxsKFtnbHRmRmV0Y2gsIG1hcmtlckZldGNoXSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBnbHRmRGF0YVsnYW5pbWF0aW9uTWFya2VycyddID0gYW5pbWF0aW9uTWFya2VyRGF0YTtcbiAgICAgICAgICAgIGRlZmVyLnJlc29sdmUoZ2x0ZkRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlZmVyLmdldFByb21pc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSB0aHJlZS5qcyBNZXNoIC8gT2JqZWN0M2QsIGNhbGN1bGF0ZXMgdGhlIGN1cnJlbnQgcG9zaXRpb24gYW5kIG1hcHMgdGhhdCB0byB0aGVcbiAgICAgKiBET00geCwgeSwgeiBwb3NpdGlvbiBhbmQgY29uc2lkZXJzIGNhbWVyYSBwb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIFRoZSByZXR1cm5pbmcgeCx5IHZhbHVlcyBhcmUgaW4gcGl4ZWxzLlxuICAgICAqIHggLyBjYW52YXNXaWR0aCBvciB5IC8gY2FudmFzSGVpZ2h0IHdvdWxkIGdpdmUgeW91IHRoZSBwZXJjZW50YWdlIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzZWUgdGhyZWUtb2JqZWN0LXZpZXdlcjExLmh0bWwgZm9yIGV4YW1wbGVzIGFuZCBhbHNvIHRocmVlLW9iamVjdC12aWV3ZXIxMS5ibGVuZFxuICAgICAqXG4gICAgICogQHBhcmFtIG9iamVjdCBUaGUgdGhyZWUuanMgb2JqZWN0IHRvIGJhc2UgdGhlIHBvc2l0aW9uIG9mZiBvZi5cbiAgICAgKiBAcGFyYW0gY2FtZXJhIFRoZSBjdXJyZW50bHkgYWN0aXZlIGNhbWVyYS5cbiAgICAgKiBAcGFyYW0gd2lkdGggVGhlIGNhbnZhcyB3aWR0aFxuICAgICAqIEBwYXJhbSBoZWlnaHQgVGhlIGNhbnZhcyB3aWR0aFxuICAgICAqIEBwYXJhbSBzY2FsYXI/IEFuIG9wdGlvbmFsIHNjYWxhciB2YWx1ZS4gIFlvdSBjYW4gcGFzcyBhIHZhbHVlIGxpa2UgMSB0byB0ZWxsXG4gICAgICogICB0aGUgZG9tIGVsZW1lbnQgdG8gc2NhbGUgYWxvbmcgd2l0aCB0aGUgY2FtZXJhIG1vdmVtZW50LiAgV2UgY2FuJ3QgZG8gdGhpc1xuICAgICAqICAgYXV0b21hdGljYWxseSwgc2luY2Ugd2UgaGF2ZSBubyByZWZlcmVuY2UgdG8gd2hhdCBzY2FsZSAxIHNob3VsZCBiZVxuICAgICAqICAgd2hlbiB0aGUgY2FtZXJhIGlzIGEgY2VydGFpbiBkaXN0YW5jZSBmcm9tIHRoZSBvYmplY3QuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEluc3BpcmVkIGJ5OlxuICAgICAqIC0gaHR0cHM6Ly9pY3MubWVkaWEvdHV0b3JpYWwtdGhyZWUvcG9zaXRpb25fcHJvamVjdC9cbiAgICAgKiAtIGh0dHBzOi8vdGhyZWVqc2Z1bmRhbWVudGFscy5vcmcvdGhyZWVqcy9sZXNzb25zL3RocmVlanMtYWxpZ24taHRtbC1lbGVtZW50cy10by0zZC5odG1sXG4gICAgICogLSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNzQwOTA3NC9jb252ZXJ0aW5nLTNkLXBvc2l0aW9uLXRvLTJkLXNjcmVlbi1wb3NpdGlvbi1yNjlcbiAgICAgKiAtIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQ2NjY3Mzk1L3RocmVlLWpzLXZlY3RvcjMtdG8tMmQtc2NyZWVuLWNvb3JkaW5hdGUtd2l0aC1yb3RhdGVkLXNjZW5lXG4gICAgICogLSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9DaGlDaG91L2E2NzFhMGJiZTUxNDM2NDI1NWY5XG4gICAgICogLSBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2pzL3JlbmRlcmVycy9DU1MzRFJlbmRlcmVyLmpzI0w2LUwzMVxuICAgICAqIC0gaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9ibG9iL21hc3Rlci9leGFtcGxlcy9qcy9yZW5kZXJlcnMvQ1NTM0RSZW5kZXJlci5qcyNMMjU0XG4gICAgICovXG4gICAgc3RhdGljIHRvRG9tQ29vcmRpbmF0ZXMob2JqZWN0LCBjYW1lcmEsIHdpZHRoLCBoZWlnaHQsIHNjYWxhcikge1xuICAgICAgICBjb25zdCB2ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICAgICAgLy8gR2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgY2VudGVyIG9mIHRoZSBvYmplY3QuXG4gICAgICAgIG9iamVjdC51cGRhdGVXb3JsZE1hdHJpeCh0cnVlLCBmYWxzZSk7XG4gICAgICAgIG9iamVjdC5nZXRXb3JsZFBvc2l0aW9uKHYpO1xuICAgICAgICAvLyBDb252ZXJ0IC0xIC0gMSB3b3JsZCBzcGFjZSB0byBkb20gYmFzZWQgMC0xIHJhbmdlLlxuICAgICAgICAvLyBHZXQgdGhlIG5vcm1hbGl6ZWQgc2NyZWVuIGNvb3JkaW5hdGUgb2YgdGhhdCBwb3NpdGlvblxuICAgICAgICAvLyB4IGFuZCB5IHdpbGwgYmUgaW4gdGhlIC0xIHRvICsxIHJhbmdlIHdpdGggeCA9IC0xIGJlaW5nXG4gICAgICAgIC8vIG9uIHRoZSBsZWZ0IGFuZCB5ID0gLTEgYmVpbmcgb24gdGhlIGJvdHRvbVxuICAgICAgICB2LnByb2plY3QoY2FtZXJhKTtcbiAgICAgICAgY29uc3QgeCA9ICh2LnggKiAwLjUgKyAwLjUpICogd2lkdGg7XG4gICAgICAgIGNvbnN0IHkgPSAodi55ICogLTAuNSArIDAuNSkgKiBoZWlnaHQ7XG4gICAgICAgIGxldCB6ID0gMTtcbiAgICAgICAgaWYgKGlzLmRlZmluZWQoc2NhbGFyKSkge1xuICAgICAgICAgICAgLy8gU2luY2UgdGhlIGNhbnZhcyBzY2FsZXMgYmFzZWQgb24gaGVpZ2h0LCB1c2UgdGhhdCBhcyB0aGUgYmFzaXMuXG4gICAgICAgICAgICB6ID0gKHYueiAqIC0wLjUgKyAwLjUpICogaGVpZ2h0O1xuICAgICAgICAgICAgeiAqPSBzY2FsYXI7XG4gICAgICAgICAgICB6ICo9IGNhbWVyYS56b29tIHx8IDEuMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRIUkVFLlZlY3RvcjMoeCwgeSwgeik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgVGhyZWUgbG9jYWwgVmVjMyBwb3NpdGlvbiB0byBleGFjdCBzY3JlZW4gY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIGNhbWVyYVxuICAgICAqIEBwYXJhbSB3aWR0aFxuICAgICAqIEBwYXJhbSBoZWlnaHRcbiAgICAgKi9cbiAgICBzdGF0aWMgdG9TY3JlZW5YWShwb3NpdGlvbiwgY2FtZXJhLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IHBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgIGNvbnN0IG1hdDQgPSBuZXcgVEhSRUUuTWF0cml4NCgpO1xuICAgICAgICBtYXQ0Lm11bHRpcGx5KGNhbWVyYS5wcm9qZWN0aW9uTWF0cml4KTtcbiAgICAgICAgbWF0NC5tdWx0aXBseShjYW1lcmEubWF0cml4V29ybGRJbnZlcnNlKTtcbiAgICAgICAgLy8gbWF0NC5tdWx0aXBseVZlY3RvcjMocG9zKTtcbiAgICAgICAgcG9zLmFwcGx5TWF0cml4NChtYXQ0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6ICgocG9zLnggKyAxKSAqIHdpZHRoKSAvIDIsXG4gICAgICAgICAgICB5OiAoKC1wb3MueSArIDEpICogaGVpZ2h0KSAvIDIsXG4gICAgICAgICAgICB6OiBwb3MueixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYm91bmRpbmcgcmVjdCBpbiBwaXhlbCB2YWx1ZXMgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogVGhpcyBiYXNpY2FsbHksIGFsbG93cyB5b3UgdG8gY2FsY3VsYXRlIHRoZSB3aWR0aCAvIGhlaWdodCBvZiBhIGdpdmVuXG4gICAgICogb2JqZWN0IGluIHNjcmVlbiBzcGFjZS4gIEl0IHdpbGwgYWxzbyBnZXQgeW91IHgseSBjb29yZGluYXRlcyBvZiB0aGUgYm91bmRpbmdcbiAgICAgKiBib3ggYXJvdW5kIHlvdXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogSW1hZ2luZSBhIGN1YmUgb24geW91ciBzY3JlZW5cbiAgICAgKiBhbmQgeW91IHdhbnQgdG8ga25vdyB0aGUgcGl4ZWwgd2lkdGggYW5kIGhlaWdodCBpdCBvY2N1cGllcyBvbiB0aGUgc2NyZWVuLlxuICAgICAqIFRoaXMgbWFrZXMgc2Vuc2UgaWYgeW91IGFyZSBsb29raW5nIGhlYWQgb24gYnV0IHdoYXQgaGFwcGVucyBpZiB0aGVcbiAgICAgKiBjYW1lcmEgaXMgYXQgYW4gYW5nbGUgb3IgdGhlIG9iamVjdCBpcyByb3RhdGVkLlxuICAgICAqIE9yIHlvdSBtaWdodCB3YW50IHRoZSBhcHByb3hpbWF0ZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIGEgc3BoZXJlIG9yXG4gICAgICogYWN0dWFsIHNjcmVlbiBoZWlnaHQgYW5kIHdpZHRoIG9mIGEgaHVtYW4gbW9kZWwgd2hlbiB0aGUgY2FtZXJhIGlzIGxvb2tpbmcgZnJvbSBhXG4gICAgICogdG9wIGFuZ2xlLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBhbGxvdyB5b3UgdG8gZG8gdGhhdC5cbiAgICAgKlxuICAgICAqIEl0IHdpbGwgc3RhcnQgYnkgZHJhd2luZyBhIEJveDNkIGN1YmUgKGJvdW5kaW5nQm94KSBhcm91bmQgdGhlIG9iamVjdC5cbiAgICAgKiBJdCB3aWxsIHRoZW4gY29udmVydCB0aGUgQm94M2QgaW50byBhIHNxdWFyZSBvZiAyZCBjb29yZGluYXRlLlxuICAgICAqIFVzaW5nIHRoYXQgc3F1YXJlLCBpdCB3aWxsIHRoZW4gY2FsY3VsYXRlIHRoZSBzY3JlZW5YWSBjb29yZGluYXRlcyBvZiBlYWNoXG4gICAgICogY29ybmVyIG9mIHRoZSBjdWJlLlxuICAgICAqIEl0IHdpbGwgdGhlbiBjYWxjdWxhdGUgdGhlIHdpZHRoIGFuZCBoZWlnaHQgdGhpcyBvYmplY3Qgb2NjdXBpZXMgb25cbiAgICAgKiB0aGUgc2NyZWVuIGJhc2VkIG9uIHRoZXNlIHZhbHVlcy5cbiAgICAgKlxuICAgICAqXG4gICAgICogSWYgd29ya2luZyBvbiB0aGlzIG1ldGhvZCwgc2luY2UgY2FsY3VsYXRpb25zIGNhbiBiZSBpbnZvbHZlZCwgaXQgaXMgaGVscGZ1bFxuICAgICAqIHRvIHBhc3MgaW4gdGhlIGN1cnJlbnQgd29ya2luZyBzY2VuZSB0byBkZWJ1ZyB0aGUgY29ybmVycy5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIGNvbnN0IGJveCA9IHRocmVlLnRvRG9tQm91ZGluZ1JlY3QoXG4gICAgICogICBteU9iamVjdCwgY2FtZXJhLCBjYW52YXMub2Zmc2V0V2lkdGgsIGNhbnZhcy5vZmZzZXRIZWlnaHQsXG4gICAgICogICB7XG4gICAgICogICAgIHNjYWxhcjogMSwgLy8gRm9yIHogc2NhbGluZyBmYWN0b3JcbiAgICAgKiAgICAgc2NlbmU6IHNjZW5lLCAvLyBQYXNzIGluIHlvdXIgc2NlbmUgdG8gZGVidWcgdGhlIGNvcm5lci5cbiAgICAgKiAgIH1cbiAgICAgKiApXG4gICAgICpcbiAgICAgKiBib3gud2lkdGggLS0+IFRoZSBwaXhlbCB3aWR0aCBvbiB0aGUgc2NyZWVuLlxuICAgICAqIGJveC5oZWlnaHQgLS0+IFRoZSBwaXhlbCBoZWlnaHQgb24gdGhlIHNjcmVlbi5cbiAgICAgKiBib3gudG9wTGVmdCAtLT4gVGhlIHRvcCBsZWZ0IGNvcm5lciBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKi9cbiAgICBzdGF0aWMgdG9Eb21Cb3VuZGluZ1JlY3Qob2JqZWN0LCBjYW1lcmEsIHdpZHRoLCBoZWlnaHQsIFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgb3B0aW9uc1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGJveCA9IG5ldyBUSFJFRS5Cb3gzKCkuc2V0RnJvbU9iamVjdChvYmplY3QpO1xuICAgICAgICAvLyBHZXQgYm94IGNvcm5lcnMuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGNvbnN0IGNvcm5lcnMgPSB7XG4gICAgICAgICAgICAnMDAwJzoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAweGZmZmZmZixcbiAgICAgICAgICAgICAgICB2ZWM6IG5ldyBUSFJFRS5WZWN0b3IzKCkuc2V0KGJveC5taW4ueCwgYm94Lm1pbi55LCBib3gubWluLnopLCAvLyAwMDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnMDAxJzoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAweDBmZmYwMCxcbiAgICAgICAgICAgICAgICB2ZWM6IG5ldyBUSFJFRS5WZWN0b3IzKCkuc2V0KGJveC5taW4ueCwgYm94Lm1pbi55LCBib3gubWF4LnopLCAvLyAwMDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnMDEwJzoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAweGZmMDBmNyxcbiAgICAgICAgICAgICAgICB2ZWM6IG5ldyBUSFJFRS5WZWN0b3IzKCkuc2V0KGJveC5taW4ueCwgYm94Lm1heC55LCBib3gubWluLnopLCAvLyAwMTBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnMDExJzoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAweDlkOWQ5ZCxcbiAgICAgICAgICAgICAgICB2ZWM6IG5ldyBUSFJFRS5WZWN0b3IzKCkuc2V0KGJveC5taW4ueCwgYm94Lm1heC55LCBib3gubWF4LnopLCAvLyAwMTFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnMTAwJzoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAweDAwM2VmZixcbiAgICAgICAgICAgICAgICB2ZWM6IG5ldyBUSFJFRS5WZWN0b3IzKCkuc2V0KGJveC5tYXgueCwgYm94Lm1pbi55LCBib3gubWluLnopLCAvLyAxMDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnMTAxJzoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAweGYzZmYwMCxcbiAgICAgICAgICAgICAgICB2ZWM6IG5ldyBUSFJFRS5WZWN0b3IzKCkuc2V0KGJveC5tYXgueCwgYm94Lm1pbi55LCBib3gubWF4LnopLCAvLyAxMDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnMTEwJzoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAweGZmMDAwMCxcbiAgICAgICAgICAgICAgICB2ZWM6IG5ldyBUSFJFRS5WZWN0b3IzKCkuc2V0KGJveC5tYXgueCwgYm94Lm1heC55LCBib3gubWluLnopLCAvLyAxMTBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnMTExJzoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAweDAwMDAwMCxcbiAgICAgICAgICAgICAgICB2ZWM6IG5ldyBUSFJFRS5WZWN0b3IzKCkuc2V0KGJveC5tYXgueCwgYm94Lm1heC55LCBib3gubWF4LnopLCAvLyAxMTFcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIC8vIEdlbmVyYXRlIGFuIGFycmF5IG9mIHRoZSBYWSBzY3JlZW4gY29vcmRpbmF0ZSBvZiBldmVyeSBzaW5nbGUgY29ybmVyXG4gICAgICAgIC8vIG9mIHRoZSBib3gzZC5cbiAgICAgICAgY29uc3QgY29ybmVyUG9zaXRpb25zID0gW107XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGNvcm5lcnMpKSB7XG4gICAgICAgICAgICBjb25zdCBjb3JuZXIgPSBjb3JuZXJzW2tleV07XG4gICAgICAgICAgICBjb25zdCB4eSA9IHRocmVlZi50b1NjcmVlblhZKGNvcm5lci52ZWMsIGNhbWVyYSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICBjb3JuZXJQb3NpdGlvbnMucHVzaCh4eSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhyZWVmLnRvU2NyZWVuWFkob2JqZWN0LnBvc2l0aW9uLCBjYW1lcmEsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhvYmplY3QucG9zaXRpb24sIGNhbWVyYSk7XG4gICAgICAgIGNvbnN0IHhzID0gY29ybmVyUG9zaXRpb25zLm1hcCh4eSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geHkueDtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHlzID0gY29ybmVyUG9zaXRpb25zLm1hcCh4eSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geHkueTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHNjZW5lID0gb3B0aW9ucyAmJiBvcHRpb25zLnNjZW5lO1xuICAgICAgICBjb25zdCBzY2FsYXIgPSBvcHRpb25zICYmIG9wdGlvbnMuc2NhbGFyO1xuICAgICAgICAvLyBUaGlzIGlzIG91ciB2aXJ0dWFsIDJkIHNxdWFyZSBmcm9tIHRoZSAzZCBjdWJlLiAgVGhpcyBpcyBhIHNxdWFyZVxuICAgICAgICAvLyBkcmF3biBvdmVyIHRoZSBib3gzZCBib3VuZGluZyBib3gsIHJlcHJlc2VudGluZyB0aGUgc3BhY2VcbiAgICAgICAgLy8gdGhpcyBvYmplY3QgdGFrZXMgdXAgb24gdGhlIHNjcmVlbi5cbiAgICAgICAgY29uc3QgbWluWCA9IE1hdGgubWluKC4uLnhzKTtcbiAgICAgICAgY29uc3QgbWF4WCA9IE1hdGgubWF4KC4uLnhzKTtcbiAgICAgICAgY29uc3QgbWluWSA9IE1hdGgubWluKC4uLnlzKTtcbiAgICAgICAgY29uc3QgbWF4WSA9IE1hdGgubWF4KC4uLnlzKTtcbiAgICAgICAgLy8gQmFzZWQgb24gdGhlcmUsIHdlIGNhbiBjYWxjdWxhdGUgdGhlIHNpemUuXG4gICAgICAgIGNvbnN0IGZpbmFsU2l6ZSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiBtYXhYIC0gbWluWCxcbiAgICAgICAgICAgIGhlaWdodDogbWF4WSAtIG1pblksXG4gICAgICAgIH07XG4gICAgICAgIC8vIENhbGN1bGF0ZSByZWxhdGl2ZSBkZXB0aCAoeilcbiAgICAgICAgbGV0IHogPSAxO1xuICAgICAgICBpZiAoc2NhbGFyKSB7XG4gICAgICAgICAgICBjb25zdCB2ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICAgICAgICAgIG9iamVjdC51cGRhdGVXb3JsZE1hdHJpeCh0cnVlLCBmYWxzZSk7XG4gICAgICAgICAgICBvYmplY3QuZ2V0V29ybGRQb3NpdGlvbih2KTtcbiAgICAgICAgICAgIHYucHJvamVjdChjYW1lcmEpO1xuICAgICAgICAgICAgLy8gU2luY2UgdGhlIGNhbnZhcyBzY2FsZXMgYmFzZWQgb24gaGVpZ2h0LCB1c2UgdGhhdCBhcyB0aGUgYmFzaXMuXG4gICAgICAgICAgICB6ID0gKHYueiAqIC0wLjUgKyAwLjUpICogaGVpZ2h0O1xuICAgICAgICAgICAgeiAqPSBzY2FsYXI7XG4gICAgICAgICAgICB6ICo9IGNhbWVyYVsnem9vbSddIHx8IDEuMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYWxjdWFsdGUgdGhlIGNvcm5lcnMgb2YgdGhlIGJveCBmcm9tIHRvcCBsZWZ0IGNsb2Nrd2lzZS5cbiAgICAgICAgY2VudGVyLnogPSB6O1xuICAgICAgICBjb25zdCBjb3JuZXIxID0gbmV3IFRIUkVFLlZlY3RvcjMobWluWCwgbWluWSwgeik7XG4gICAgICAgIGNvbnN0IGNvcm5lcjIgPSBuZXcgVEhSRUUuVmVjdG9yMyhtYXhYLCBtaW5ZLCB6KTtcbiAgICAgICAgY29uc3QgY29ybmVyMyA9IG5ldyBUSFJFRS5WZWN0b3IzKG1pblgsIG1heFksIHopO1xuICAgICAgICBjb25zdCBjb3JuZXI0ID0gbmV3IFRIUkVFLlZlY3RvcjMobWluWCwgbWF4WSwgeik7XG4gICAgICAgIC8vIElmIGEgc2NlbmUgaGFzIGJlZW4gcGFzc2VkLCBhZGRcbiAgICAgICAgaWYgKHNjZW5lKSB7XG4gICAgICAgICAgICBvYmplY3QudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gVE9ETyAodXhkZXIpOiBUaGlzIGRvZXNuJ3QgZXhpc3Qgb24gbWVzaCBhY2NvcmRpbmcgdG8gZG9jcy5cbiAgICAgICAgICAgIC8vIE5lZWQgdG8gaW52ZXN0aWdhdGUgaWYgd2UgY2FuIGp1c3QgcmVtb3ZlIHRoaXMuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgb2JqZWN0WydhbHdheXNJbnZpc2libGUnXSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhjb3JuZXJzKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvcm5lciA9IGNvcm5lcnNba2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgwLjEsIDAuMSwgMC4xKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7IGNvbG9yOiBjb3JuZXIuY29sb3IgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY3ViZSA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG4gICAgICAgICAgICAgICAgY3ViZS5wb3NpdGlvbi5zZXQoY29ybmVyLnZlYy54LCBjb3JuZXIudmVjLnksIGNvcm5lci52ZWMueik7XG4gICAgICAgICAgICAgICAgc2NlbmUuYWRkKGN1YmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3BMZWZ0OiBjb3JuZXIxLFxuICAgICAgICAgICAgdG9wUmlnaHQ6IGNvcm5lcjIsXG4gICAgICAgICAgICBjZW50ZXI6IGNlbnRlcixcbiAgICAgICAgICAgIGJvdHRvbUxlZnQ6IGNvcm5lcjMsXG4gICAgICAgICAgICBib3R0b21SaWdodDogY29ybmVyNCxcbiAgICAgICAgICAgIHdpZHRoOiBmaW5hbFNpemUud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGZpbmFsU2l6ZS5oZWlnaHQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGZyb20gdGhlIGJsZW5kZXIgY29vcmRpbmF0ZSBzeXN0ZW0gb3ZlciB0byB0aHJlZSAoWFlaKS5cbiAgICAgKiBUaGlzIGFzc3VtZXMgdGhhdCB3aXRoaW4gYmxlbmRlciwgeW91IGFyZSB1c2luZyB0aGUgWFlaIEV1bGVyIHJvdGF0aW9uXG4gICAgICogc2V0dGluZ3MuXG4gICAgICpcbiAgICAgKiBJZiB5b3VyIHNldHRpbmdzIGFyZSBvZmYsIGl0J3MgbGlrZWx5IHRoZSBvYmplY3QgeW91ciBleHBvcnRlZFxuICAgICAqIGhhcyByb3RhdGlvbnMuICBTZWxlY3QgeW91ciBvYmplY3QgdG8gQXBwbHkgLT4gUm90YXRpb24gJiBTY2FsZVxuICAgICAqIGluIGJsZW5kZXIuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqIGBgYFxuICAgICAqICB0aHJlZWYuYmxlbmRlclRvVGhyZWVDb29yZGluYXRlcyh7XG4gICAgICogICAgIHg6IG1hdGhmLmRlZ3JlZVRvUmFkaWFuKDUxLjkpLFxuICAgICAqICAgICB5OiBtYXRoZi5kZWdyZWVUb1JhZGlhbigxOTIpLFxuICAgICAqICAgICB6OiBtYXRoZi5kZWdyZWVUb1JhZGlhbigyMDApXG4gICAgICogfSksXG4gICAgICogYGBgXG4gICAgICogQHBhcmFtIG9iamVjdCBPYmplY3QgY29udGFpbnMgeCx5LHpcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHN0YXRpYyBibGVuZGVyVG9UaHJlZUV1bGVyKGV1bGVyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiAtZXVsZXIueCxcbiAgICAgICAgICAgIHk6IGV1bGVyLnosXG4gICAgICAgICAgICB6OiAtZXVsZXIueSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYmxlbmRlciBjb29yZHMgdG8gdGhyZWUuanNcbiAgICAgKiBgYGBcbiAgICAgKiB0YXJnZXRQb3NpdGlvbiA9IHRocmVlZi5ibGVuZGVyVG9UaHJlZVZlYzMoe1xuICAgICAqICAgLy8gU3BlY2lmeSBpbiBibGVuZGVyIGNvb3Jkc1xuICAgICAqICAgeDogMCxcbiAgICAgKiAgIHk6IDAsXG4gICAgICogICB6OiAxLjAsXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBAcGFyYW0gdmVjM1xuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc3RhdGljIGJsZW5kZXJUb1RocmVlVmVjMyh2ZWMzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiAtdmVjMy54LFxuICAgICAgICAgICAgeTogdmVjMy56LFxuICAgICAgICAgICAgejogLXZlYzMueSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSB0aHJlZS5qcyBvYmplY3QsIGNhbGN1bGF0ZXMgdGhlIGV1bGVyIHJvdGF0aW9uIG92ZXIgdG8gdmFsdWVzIHRoYXQgY2FuXG4gICAgICogYmUgYXBwbGllZCB2aWEgY3NzLiAgTm90ZSB0aGlzIHJldHVybiBldWxlciByb3RhdGlvbnMgaW4gcmFkaWFucyAoVEhSRUUuRXVsZXIpLlxuICAgICAqIEBwYXJhbSBvYmplY3RcbiAgICAgKiBAcGFyYW0gY2FtZXJhXG4gICAgICogQHBhcmFtIHdpZHRoXG4gICAgICogQHBhcmFtIGhlaWdodFxuICAgICAqL1xuICAgIHN0YXRpYyB0b0RvbVJvdGF0aW9uKG9iamVjdCwgY2FtZXJhKSB7XG4gICAgICAgIC8vIEdldCB0aGUgbG9jYWwgdHJhbnNmb3JtIHZhbHVlcy5cbiAgICAgICAgY29uc3QgcSA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XG4gICAgICAgIC8vIG9iamVjdC51cGRhdGVXb3JsZE1hdHJpeCh0cnVlLCBmYWxzZSk7XG4gICAgICAgIG9iamVjdC5nZXRXb3JsZFF1YXRlcm5pb24ocSk7XG4gICAgICAgIC8vIENvbnZlcnQgY29vcmRpbmF0ZSBzeXN0ZW0uXG4gICAgICAgIHEueCA9IC1xLng7XG4gICAgICAgIHEueiA9IC1xLno7XG4gICAgICAgIC8vIEdldCB0aGUgY2FtZXJhIHJvdGF0aW9uICh3b3JsZClcbiAgICAgICAgY29uc3QgY3EgPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuICAgICAgICAvLyBjYW1lcmEudXBkYXRlV29ybGRNYXRyaXgodHJ1ZSwgZmFsc2UpO1xuICAgICAgICBjYW1lcmEuZ2V0V29ybGRRdWF0ZXJuaW9uKGNxKTtcbiAgICAgICAgLy8gQ29udmVydCBjb29yZGluYXRlIHN5c3RlbS5cbiAgICAgICAgY3EueSA9IC1jcS55O1xuICAgICAgICAvLyBDb21iaW5lIHRoZSBjYW1lcmEgYW5kIG9iamVjdCByb3RhdGlvblxuICAgICAgICBjcS5tdWx0aXBseShxKTtcbiAgICAgICAgY29uc3QgZXVsZXIgPSBuZXcgVEhSRUUuRXVsZXIoKTtcbiAgICAgICAgZXVsZXIuc2V0RnJvbVF1YXRlcm5pb24oY3Eubm9ybWFsaXplKCkpO1xuICAgICAgICAvLyAgIEV1bGVyLlJvdGF0aW9uT3JkZXJzID0gWyAnWFlaJywgJ1laWCcsICdaWFknLCAnWFpZJywgJ1lYWicsICdaWVgnIF07XG4gICAgICAgIC8vIGV1bGVyLnJlb3JkZXIoXCJaWVhcIilcbiAgICAgICAgcmV0dXJuIGV1bGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2aXNpYmxlIGhlaWdodCBhdCBhIHNwZWNpZmljIGRlcHRoIGdpdmVuIGEgdGhyZWUuanMgY2FtZXJhLlxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKiBZb3UgaGF2ZSBhIDEwMHgxMDB4MTAwIGN1YmUgYW5kIHdhbnQgdG8ga25vdyB0aGUgXCJwaXhlbFwiIHNpemUgaXQgaXNcbiAgICAgKiByZW5kZXJlZCBhdCB3aGVuIGl0J3MgYXQgYSBkZXB0aCBvZiAyMDAuXG4gICAgICogYGBgXG4gICAgICogLy8gQWRkIDUwIHRvIGFjY291bnQgZm9yIHNpemUgZnJvbSB0aGUgY2VudGVyIG9mIGN1YmUuXG4gICAgICogY29uc3QgZGVwdGggPSAoY3ViZS5wb3NpdGlvbi56ICsgNTApIC0gY2FtZXJhLnBvc2l0aW9uLno7XG4gICAgICpcbiAgICAgKiBjb25zdCB2aXNpYmxlU2l6ZSA9IHRocmVlZi5nZXRWaXNpYmxlSGVpZ2h0QW5kV2lkdGhBdERlcHRoKGRlcHRoLCBjYW1lcmEpO1xuICAgICAqXG4gICAgICogLy8gU28gcmVsYXRpdmUgdG8gdGhlIGhlaWdodCwgaG93IG11Y2ggZG9lcyB0aGUgY3ViZSB0YWtlIHVwLlxuICAgICAqIGNvbnN0IGhlaWdodFNjYWxhciA9IDEwMCAvIHZpc2libGVTaXplLmhlaWdodDtcbiAgICAgKlxuICAgICAqIC8vIE5vdyBub3JtYWxpemUgdGhhdCB0byB0aGUgc2l6ZSBpbiBwaXhlbHMuXG4gICAgICogY29uc3QgaGVpZ2h0SW5QaXhlbHMgPSBjYW52YXNTaXplLmhlaWdodCAqIGhlaWdodFNjYWxhcjtcbiAgICAgKiBgYGBcbiAgICAgKiBAdW50ZXN0ZWRcbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICogQGRvbnR1c2VcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgLypcbiAgICAgIHN0YXRpYyBnZXRWaXNpYmxlSGVpZ2h0QW5kV2lkdGhBdERlcHRoKGRpc3RhbmNlOiBudW1iZXIsIGNhbWVyYTogVEhSRUUuQ2FtZXJhKTogYW55IHtcbiAgICAgICAgICB2YXIgdkZPViA9IGNhbWVyYVsnZm92J10gKiBNYXRoLlBJIC8gMTgwO1xuICAgICAgICAgIHZhciBoZWlnaHQgPSAyICogTWF0aC50YW4odkZPViAvIDIpICogZGlzdGFuY2U7XG4gICAgICAgICAgdmFyIHdpZHRoID0gaGVpZ2h0ICogY2FtZXJhWydhc3BlY3QnXTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgIH07XG4gICAgICB9XG4gICAgICAqL1xuICAgIC8qKlxuICAgICAqIEdpdmVuIGEga25vd24gc2l6ZSBvZiBhbiBvYmplY3QsIGNhbGN1bGF0ZSB0aGUgYWN0dWFsIHNpemUgaXQgaXMgcmVuZGVyZWRcbiAgICAgKiBvbiB0aGUgc2NyZWVuIChwaXhlbCkuXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCBwaXhlbFNpemUgPSB0aHJlZWYuY29udmVydE9iamVjdFNpemVUb1BpeGVsKFxuICAgICAqICAgIGN1YmUuZ2VvbWV0cnkucGFyYW1ldGVycy53aWR0aCxcbiAgICAgKiAgICBjdWJlLmdlb21ldHJ5LnBhcmFtZXRlcnMuaGVpZ2h0LFxuICAgICAqICAgIGN1YmUuZ2VvbWV0cnkucGFyYW1ldGVycy5kZXB0aCxcbiAgICAgKiAgICBjYW1lcmEsXG4gICAgICogICAgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodFxuICAgICAqICk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhwaXhlbFNpemUud2lkdGgpOyAvLyBUaGUgYWN0dWFsIHJlbmRlcmVkIHNpemUgb2YgdGhlIGN1YmUgaW4gcGl4ZWxzXG4gICAgICogY29uc29sZS5sb2cocGl4ZWxTaXplLmhlaWdodCk7IC8vIFRoZSBhY3R1YWwgcmVuZGVyZWQgc2l6ZSBvZiB0aGUgY3ViZSBpbiBwaXhlbHMuXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEB1bnRlc3RlZFxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKiBAZG9udHVzZVxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICAvKlxuICAgICAgc3RhdGljIGNvbnZlcnRPYmplY3RTaXplVG9QaXhlbHMoXG4gICAgICAgICAgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGRlcHRoOiBudW1iZXIsIHpQb3NpdGlvbjogbnVtYmVyLFxuICAgICAgICAgIGNhbWVyYTogVEhSRUUuQ2FtZXJhLFxuICAgICAgICAgIHNjZW5lV2lkdGg6IG51bWJlciwgc2NlbmVIZWlnaHQ6IG51bWJlcik6IGFueSB7XG4gIFxuICAgICAgICAgIC8vIEZpcnN0IGNhbGN1bGF0ZSB0aGUgeiBkaXN0YW5jZSBmcm9tIHRoZSBjYW0gdG8gb2JqZWN0IGNvbnNpZGVyaW5nIHRoZVxuICAgICAgICAgIC8vIGRlcHRoICh6IHNpemUpIG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAgY29uc3QgekRlcHRoID0gKHpQb3NpdGlvbiArIGRlcHRoKSAtIGNhbWVyYS5wb3NpdGlvbi56O1xuICAgICAgICAgIGNvbnN0IHZpc2libGVTaXplID0gdGhyZWVmLmdldFZpc2libGVIZWlnaHRBbmRXaWR0aEF0RGVwdGgoekRlcHRoLCBjYW1lcmEpO1xuICAgICAgICAgIGNvbnN0IGhlaWdodFNjYWxhciA9IGhlaWdodCAvIHZpc2libGVTaXplLmhlaWdodDtcbiAgICAgICAgICBjb25zdCBoZWlnaHRJblBpeGVscyA9IHNjZW5lSGVpZ2h0ICogaGVpZ2h0U2NhbGFyO1xuICAgICAgICAgIGNvbnN0IHdpZHRoU2NhbGFyID0gd2lkdGggLyB2aXNpYmxlU2l6ZS5oZWlnaHQ7XG4gICAgICAgICAgY29uc3Qgd2lkdGhJblBpeGVscyA9IHNjZW5lV2lkdGggKiB3aWR0aFNjYWxhcjtcbiAgXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoSW5QaXhlbHMsXG4gICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0SW5QaXhlbHMsXG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgKi9cbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyB0aGUgYWJpbGl0eSB0byBjb252ZXJ0IGEgdmVjMyBpbnRvIGFub3RoZXIgY29vcmRpbmF0ZSBzeXN0ZW1cbiAgICAgKiBhcyBuZWVkZWQgZ2l2ZW4gdGhlIG1hcHBpbmcuXG4gICAgICpcbiAgICAgKiBNYXBwaW5nIHN1cHBvcnRzIHRoZSBmb2xsb3dpbmcgc3RyaW5nczogeCx5LHosLXgsLXksLXpcbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogYGBgXG4gICAgICogdGhyZWVmLmNvbnZlcnRDb29yZGluYXRlU3lzdGVtKFxuICAgICAqICAgIG5ldyBUSFJFRS5WZWN0b3IzKDEsIDIsIDMpLFxuICAgICAqICAgWycteScsICd6JywgJ3gnXVxuICAgICAqICk7ICAvLyB4IC0+IC0yLCB5IC0+IDMsIHogLT4gMVxuICAgICAqXG4gICAgICogVGhpcyBpbnRlcm5hbGx5IGNvbnZlcnRzIHRoZSBWZWN0b3IzIHVzaW5nIHRoaXMgbG9naWM6XG4gICAgICogIHggLT4gLXksIHkgLT4geiwgei0+IHhcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB2ZWMzXG4gICAgICogQHBhcmFtIG9yaWVudGF0aW9uXG4gICAgICovXG4gICAgc3RhdGljIGNvbnZlcnRDb29yZGluYXRlU3lzdGVtKHZlYzMsIG1hcCkge1xuICAgICAgICBjb25zdCB4ID0gbWFwWzBdLnRvTG93ZXJDYXNlKCkuc3BsaXQoJycpO1xuICAgICAgICBjb25zdCB4RmFjdG9yID0geFswXSA9PT0gJy0nID8gLTEgOiAxO1xuICAgICAgICBjb25zdCB4VmFsdWUgPSB4WzBdID09PSAnLScgPyB4WzFdIDogeFswXTtcbiAgICAgICAgY29uc3QgeSA9IG1hcFsxXS50b0xvd2VyQ2FzZSgpLnNwbGl0KCcnKTtcbiAgICAgICAgY29uc3QgeUZhY3RvciA9IHlbMF0gPT09ICctJyA/IC0xIDogMTtcbiAgICAgICAgY29uc3QgeVZhbHVlID0geVswXSA9PT0gJy0nID8geVsxXSA6IHlbMF07XG4gICAgICAgIGNvbnN0IHogPSBtYXBbMl0udG9Mb3dlckNhc2UoKS5zcGxpdCgnJyk7XG4gICAgICAgIGNvbnN0IHpGYWN0b3IgPSB6WzBdID09PSAnLScgPyAtMSA6IDE7XG4gICAgICAgIGNvbnN0IHpWYWx1ZSA9IHpbMF0gPT09ICctJyA/IHpbMV0gOiB6WzBdO1xuICAgICAgICByZXR1cm4gbmV3IFRIUkVFLlZlY3RvcjMoXG4gICAgICAgIC8vIFRPRE8gKHV4ZGVyKTogRmlndXJlIG91dCB0eXBlIGZpeCBoZXJlLlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICB2ZWMzW3hWYWx1ZV0gKiB4RmFjdG9yLCBcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgdmVjM1t5VmFsdWVdICogeUZhY3RvciwgXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHZlYzNbelZhbHVlXSAqIHpGYWN0b3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBGT1YgYXMgY2FtZXJhIG9uIGEgRE9NIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gY2FtZXJhXG4gICAgICovXG4gICAgc3RhdGljIHNldEZvdihlbGVtZW50LCBjYW1lcmEpIHtcbiAgICAgICAgY29uc3QgZm92ID0gKDAuNSAvIE1hdGgudGFuKChjYW1lcmFbJ2ZvdiddICogTWF0aC5QSSkgLyAzNjApKSAqIGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICBlbGVtZW50LnN0eWxlLnBlcnNwZWN0aXZlT3JpZ2luID0gJzUwJSA1MCUnO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnBlcnNwZWN0aXZlID0gZm92ICsgJ3B4JztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2l2ZW4gdmVjdG9yIGFuZCBldWxlciByb3RhdGlvbnMsIGFwcGxpZXMgdHJhbnNmb3JtcyB0byBhbiBodG1sIGVsZW1lbnQuXG4gICAgICogVGhpcyB3b3JrcyBpZiB5b3VyIGRvbSBlbGVtZW50IGlzIGFic29sdXRlbHkgcG9zaXRpb25zIHdpdGggdGhlIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIEdpdmVuOlxuICAgICAqYGBgXG4gICAgICogLnRleHQge1xuICAgICAqICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAqIH1cbiAgICAgKiA8ZGl2IHN0eWxlPVwicG9zaXRpb246IHJlbGF0aXZlOyBoZWlnaHQ6IDEwMHZoOyB3aWR0aDogMTAwdndcIj5cbiAgICAgKiAgIDxjYW52YXM+PC9jYW52YXM+XG4gICAgICogICA8ZGl2IGNsYXNzPVwidGV4dFwiPkhlbGxvIGhlbGxvPC9kaXY+XG4gICAgICogPC9kaXY+XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBZb3Ugd291bGQgZG86XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiAgIGNvbnN0IGRvbUNvb3JkaW5hdGVzID0gdGhyZWVmLnRvRG9tQ29vcmRpbmF0ZXMoXG4gICAgICogICAgICAgdGhyZWVPYmplY3QsIHRocmVlQ2FtYXJhLCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0LCAwLjVcbiAgICAgKiAgICk7XG4gICAgICogICBjb25zdCBkb21Sb3RhdGlvbiA9IHRocmVlZi50b0RvbVJvdGF0aW9uKFxuICAgICAqICAgICAgdGhyZWVPYmplY3QsIHRocmVlQ2FtZXJhLCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0XG4gICAgICogICApO1xuICAgICAqXG4gICAgICogICAvLyBTZXQgdGhlIHBvc2l0aW9uIGFuZCByb3RhdGlvbiBvZiBteURvbUVsZW1lbnQgdG8gbWF0Y2ggdGhlIHRocmVlT2JqZWN0XG4gICAgICogICB0aHJlZWYuYXBwbHlWZWN0b3JUb0RvbShteURvbUVsZW1lbnQsIGRvbUNvb3JkaW5hdGVzLCBkb21Sb3RhdGlvbik7XG4gICAgICpcbiAgICAgKiAgIC8vIFNldCB0aGUgcG9zaXRpb24sIHJvdGF0aW9uIG9ubHkgb2YgbXlEb21FbGVtZW50IHRvIG1hdGNoIHRoZSB0aHJlZU9iamVjdCB3aXRob3V0IHNjYWxpbmdcbiAgICAgKiAgIGRvbUNvb2RpbmF0ZXMueiA9IDE7IC8vIE5vIHNjYWxpbmcuXG4gICAgICogICB0aHJlZWYuYXBwbHlWZWN0b3JUb0RvbShteURvbUVsZW1lbnQsIGRvbUNvb3JkaW5hdGVzLCBkb21Sb3RhdGlvbik7XG4gICAgICpcbiAgICAgKiAgIC8vIFNldCB0aGUgcG9zaXRpb24gb25seSBvZiBteURvbUVsZW1lbnQgdG8gbWF0Y2ggdGhlIHRocmVlT2JqZWN0XG4gICAgICogICAvLyBUaGlzIHJlc3VsdHMgaW4gYSBiaWxsYm9hcmRpbmcgZWZmZWN0LlxuICAgICAqICAgdGhyZWVmLmFwcGx5VmVjdG9yVG9Eb20obXlEb21FbGVtZW50LCBkb21Db29yZGluYXRlcyk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgc3RhdGljIGFwcGx5VmVjdG9yVG9Eb20oZWxlbWVudCwgdiwgZXVsZXIpIHtcbiAgICAgICAgaWYgKGV1bGVyKSB7XG4gICAgICAgICAgICBjb25zdCBkZWcgPSB7XG4gICAgICAgICAgICAgICAgeDogbWF0aGYucmFkaWFuVG9EZWdyZWUoZXVsZXIueCksXG4gICAgICAgICAgICAgICAgeTogbWF0aGYucmFkaWFuVG9EZWdyZWUoZXVsZXIueSksXG4gICAgICAgICAgICAgICAgejogbWF0aGYucmFkaWFuVG9EZWdyZWUoZXVsZXIueiksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgdHJhbnNsYXRlKCR7di54fXB4LCAke3YueX1weCkgcm90YXRlWCgke2RlZy54fWRlZykgcm90YXRlWSgke2RlZy55fWRlZykgcm90YXRlWigke2RlZy56fWRlZykgc2NhbGUoJHt2Lnp9KWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGByb3RhdGVYKCR7ZGVnLnh9ZGVnKSByb3RhdGVZKCR7ZGVnLnl9ZGVnKSByb3RhdGVaKCR7ZGVnLnp9ZGVnKWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgdHJhbnNsYXRlKCR7diA9PT0gbnVsbCB8fCB2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2Lnh9cHgsICR7diA9PT0gbnVsbCB8fCB2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2Lnl9cHgpIHNjYWxlKCR7diA9PT0gbnVsbCB8fCB2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2Lnp9KWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2l2ZW4gYW4gYXJyYXkgVEhSRUUuQW5pbWF0aW9uQ2xpcHMsIGRvZXMgYSBzZWFyY2ggZm9yIGFuIGFuaW1hdGlvblxuICAgICAqIGNsaXAgb2YgdGhlIGdpdmVuIG5hbWUuXG4gICAgICovXG4gICAgc3RhdGljIGdldEFuaW1hdGlvbkJ5TmFtZShuYW1lLCBhbmltYXRpb25DbGlwcykge1xuICAgICAgICByZXR1cm4gYW5pbWF0aW9uQ2xpcHMuZmlsdGVyKChhbmltYXRpb25DbGlwKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYW5pbWF0aW9uQ2xpcC5uYW1lID09PSBuYW1lO1xuICAgICAgICB9KVswXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhdmVyc2VzIHRoZSBjdXJyZW50IHNjZW5lIGNoZWNraW5nIGZvciBtYXRjaCBjb25kaXRpb25zLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiAvLyBMb29rIGZvciBhbnkgbWVzaGVzIHRoYXQgYXJlIG9mIHRoZSBuYW1lICdob2hvaG8nIG9yICdob2hvaG8yJy5cbiAgICAgKiAvLyBhbmQgY2hhbmdlIHRoZSBhbmlzdHJvcHkgdG8gMTAwLlxuICAgICAqXG4gICAgICogdGhyZWVmLnRyYXZlcnNlU2NlbmVGb3IoXG4gICAgICogICAvLyBUZXN0IGNvbmRpdGlvblxuICAgICAqICAgKHRocmVlT2JqZWN0KT0+IHtcbiAgICAgKiAgICAgIHJldHVyblxuICAgICAqICAgICAgICAgKHRocmVlT2JqZWN0IGluc3RhbmNlIG9mIFRIUkVFLk1FU0gpICYmXG4gICAgICogICAgICAgICB+Wydob2hvaG8nLCAnaG9ob2hvMiddLmluZGV4T2YodGhyZWVPYmplY3QubmFtZSlcbiAgICAgKiAgIH0sXG4gICAgICogICAodGhyZWVPYmplY3QpPT4ge1xuICAgICAqICAgICAgdGhyZWVPYmplY3QubWF0ZXJpYWwubWFwLmFuaXN0cm9weSA9IDEwMDtcbiAgICAgKiAgICAgIHRocmVlT2JqZWN0Lm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgKiAgIH0sXG4gICAgICogICBteVNjZW5lXG4gICAgICogKVxuICAgICAqXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzdGF0aWMgdHJhdmVyc2VTY2VuZUZvcihtYXRjaENvbmRpdGlvbiwgZXhlY3V0aW9uLCBzY2VuZSkge1xuICAgICAgICBzY2VuZS50cmF2ZXJzZShjaGlsZCA9PiB7XG4gICAgICAgICAgICBpZiAobWF0Y2hDb25kaXRpb24oY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgZXhlY3V0aW9uKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgbGlzdCBvZiBuYW1lcywgbG9va3MgdGhyb3VnaCB0aGUgb2JqZWN0cyBpbiB0aGUgc2NlbmVzXG4gICAgICogYW5kIHJldHVybnMgYSBkaWN0aW9uYXJ5IG9mIHRoZW0gc28gdGhleSBjYW4gYmUgcXVpY2tseSBhY2Nlc3NlZFxuICAgICAqIGF0IGEgbGF0ZXIgdGltZS5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogLy8gU3BlY2lmeSB0aGUgdHlwZXMgb2Ygb2JqZWN0cyB5b3Ugd2FudC5cbiAgICAgKiBjb25zdCB0eXBlTWFwID0ge1xuICAgICAqICAgICAvLyBOb3JtYWxseSBqdXN0IHBhc3MgYSBzdHJpbmcgZm9yIHRoZSBcIm9iamVjdFwiIHR5cGVcbiAgICAgKiAgICAgbWVzaDogJ01lc2gnLFxuICAgICAqICAgICAvLyBQYXNzIGFycmF5IGZvciBtdWx0aXBsZVxuICAgICAqICAgICBteVN0dWZmOiBbJ01lc2gnLCAnUG9pbnRMaWdodCddLFxuICAgICAqICAgICAvLyBDdXN0b20gc2VhcmNoIGxvZ2ljLlxuICAgICAqICAgICBtYXRlcmlhbHM6IChvYmplY3QsIHR5cGUpID0+IHtcbiAgICAgKiAgICAgICAgIHJldHVybiBvYmplY3QubWF0ZXJpYWxcbiAgICAgKiAgICAgfSxcbiAgICAgKiAgICAgbGlnaHRzOiAob2JqZWN0LCB0eXBlKT0+IHtcbiAgICAgKiAgICAgICAgIHJldHVybiB+dHlwZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2xpZ2h0Jyk7XG4gICAgICogICAgICB9XG4gICAgICogICAgIHBvaW50TGlnaHQ6ICdQb2ludExpZ2h0JyxcbiAgICAgKiAgICAgY2FtZXJhczogJ1BlcnNwZWN0aXZlQ2FtZXJhJyxcbiAgICAgKiB9XG4gICAgICogY29uc3Qgb2JqZWN0RGljdGlvbmFyeSA9IHRocmVlZi5tYWtlT2JqZWN0RGljdGlvbmFyeUZyb21TY2VuZShcbiAgICAgKiAgIHNjZW5lLCB0eXBlTWFwXG4gICAgICogKTtcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQmFzZWQgb24geW91ciB0eXBlbWFwLCBhIGRpY3Rpb25hcnkgaXMgcmV0dXJucyB3aXRoIHRoYXQgdHlwZSBvZlxuICAgICAqIG9iamVjdCBjb250YWluZWQuXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBvYmplY3REaWN0aW9uYXJ5LmJ5TmFtZVsnbXlPYmplY3QxJ107IC8vIFlvdXIgVEhSRUUgb2JqZWN0XG4gICAgICogb2JqZWN0RGljdGlvbmFyeS5ieU5hbWVbJ215UG9pbnRsaWdodDEnXTsgLy8gWW91ciBUSFJFRSBwb2ludGxpZ2h0LlxuICAgICAqXG4gICAgICogLy8gQWxsIHRleHQgbWFya2Vycy5cbiAgICAgKiAvLyBCeSBjb252ZW50aW9uLCB0ZXh0IG1hcmtlcnMgYXJlIGFueSBvYmplY3QgdGhhdCBzdGFydHMgd2l0aCB0aGVcbiAgICAgKiAvLyBuYW1pbmcgJ3RleHQtbWFya2VyJyAoSUU6IHRleHQtbWFya2VyMSwgdGV4dC1tYXJrZXIyIGV0Yy4pXG4gICAgICogb2JqZWN0RGljdGlvbmFyeS50ZXh0TWFya2VycztcbiAgICAgKlxuICAgICAqIG9iamVjdERpY3Rpb25hcnkubWVzaDsgLy8gQWxsIHlvdXIgbWVzaGVzXG4gICAgICogb2JqZWN0RGljdGlvbmFyeS5tYXRlcmlhbHM7IC8vIEFsbCB5b3VyIG1hdGVyaWFsc1xuICAgICAqIG9iamVjdERpY3Rpb25hcnkubGlnaHRzOyAvLyBBbGwgeW91ciBsaWdodHNcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWVcbiAgICAgKiBAcGFyYW0gVEhSRUUuU2NlbmVcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlT2JqZWN0RGljdGlvbmFyeUZyb21TY2VuZShzY2VuZSwgXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBtYXBwaW5nKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGNvbnN0IGRpY3Rpb25hcnkgPSB7XG4gICAgICAgICAgICAvLyBTdG9yZXMgb2JqZWN0cyBieSBuYW1lLlxuICAgICAgICAgICAgYnlOYW1lOiB7fSxcbiAgICAgICAgICAgIHRleHRNYXJrZXJzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMobWFwcGluZykpIHtcbiAgICAgICAgICAgIGRpY3Rpb25hcnlba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHNjZW5lLnRyYXZlcnNlKGNoaWxkID0+IHtcbiAgICAgICAgICAgIGRpY3Rpb25hcnkuYnlOYW1lW2NoaWxkLm5hbWVdID0gY2hpbGQ7XG4gICAgICAgICAgICBpZiAoY2hpbGQubmFtZS5zdGFydHNXaXRoKCd0ZXh0LScpKSB7XG4gICAgICAgICAgICAgICAgZGljdGlvbmFyeS50ZXh0TWFya2Vycy5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgb2JqZWN0IG1hdGNoZXMgYSBzcGVjaWZpYyBtYXBwaW5nLlxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMobWFwcGluZykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG1hcHBpbmdba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAoaXMuc3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpY3Rpb25hcnlba2V5XS5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXMuYXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh+dmFsdWUuaW5kZXhPZihjaGlsZC50eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGljdGlvbmFyeVtrZXldLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpcy5mdW5jdGlvbkxpa2UodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZShjaGlsZCwgY2hpbGQudHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpY3Rpb25hcnlba2V5XS5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkaWN0aW9uYXJ5O1xuICAgIH1cbiAgICBzdGF0aWMgZmluZFNjZW5lQnlOYW1lKG5hbWUsIHNjZW5lcykge1xuICAgICAgICBjb25zdCBzY2VuZSA9IHNjZW5lcy5maWx0ZXIoc2NlbmUgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHNjZW5lLm5hbWUgPT09IG5hbWU7XG4gICAgICAgIH0pWzBdO1xuICAgICAgICByZXR1cm4gc2NlbmU7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyZWVmLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/threef/threef.js\n");

/***/ }),

/***/ "./lib/time/fps.js":
/*!*************************!*\
  !*** ./lib/time/fps.js ***!
  \*************************/
/*! exports provided: Fps */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Fps\", function() { return Fps; });\n/* harmony import */ var _time_time__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../time/time */ \"./lib/time/time.js\");\n\n/**\n * A class that helps with time with fps.\n *\n *\n * ```ts\n *\n * class myClass {\n *    contructor() {\n *       this.fps = new Fps(30);\n *       draw();\n *    }\n *\n *    draw() {\n *        // Keep loop going.\n *        requestAnimationFrame(draw);\n *\n *        // Can run would return true when it is okay to execute limiting\n *        // the calls to 30 FPS.\n *        if(this.fps.canRun()) {\n *          // Do some expensive computation.\n *          canvas.drawImage(hugeImage);\n *        }\n *\n *    }\n * }\n * ```\n *\n * The above works but it is a simple gating a call to run at a set rate.\n * Here is a slightly more complex usage where you can \"schedule\" the last call.\n *\n * This will also draw at 30FPS but the difference is that it is debounced\n * so your very last call to draw is guaranteed to run when the drawing goes idle.\n *\n * ```ts\n *\n * class myClass {\n *    contructor() {\n *       this.fps = new Fps(30);\n *       this.index = 0;\n *       draw(1);\n *       draw(2);\n *       draw(3);  // This last one gets executed in this example.\n *    }\n *\n *    draw(index) {\n *        // If this call came too quickly between 30FPS, schedule it to run.\n *        if(!this.fps.canRun()) {\n *          this.fps.schedule(()=> {\n *             this.draw(index);\n *          });\n *          return;\n *        }\n *\n *        // Do something expensive here.\n *    }\n * }\n * ```\n *\n *\n *\n */\nclass Fps {\n    constructor(fps) {\n        /**\n         * The time measurement used to measure internal fps.\n         */\n        this.lastUpdateTime = 0;\n        /**\n         * A timeout that is used for scheduling.\n         */\n        this.scheduleTimeout = 0;\n        this.fps = fps;\n        this.locked = true;\n    }\n    /**\n     * Sets the fps.\n     * @param fps\n     */\n    setFps(fps) {\n        this.fps = fps;\n    }\n    /**\n     * Locks or Unlocks fps.  This forces canRun to always return true.\n     * This is useful in cases you need to temporarily remove\n     * FPS throttling.\n     *\n     * ```ts\n     *\n     * // On Window resize we want to run the drawLoop regardless\n     * // of FPS.  We can temporarily tell fps to be unlocked.\n     * resize() {\n     *    this.fps.lock(false);\n     *    this.drawLoop();\n     *    this.fps.lock(true);\n     * }\n     *\n     *\n     * // Runs on RAF\n     * drawLoop() {\n     *  if(this.fps.canRun()) {\n     *     // Do some expensive computation.\n     *     canvas.drawImage(hugeImage);\n     *  }\n     * }\n     *\n     * ```\n     */\n    lock(lock) {\n        this.locked = lock;\n    }\n    /**\n     * Schedules a callback to force run after a set period.\n     */\n    schedule(callback) {\n        this.cancelSchedule();\n        this.scheduleTimeout = window.setTimeout(() => {\n            this.locked = false;\n            callback();\n            this.locked = true;\n        }, 1000 / this.fps + 1);\n    }\n    /**\n     * Clears the schdule timeout.\n     */\n    cancelSchedule() {\n        if (this.scheduleTimeout) {\n            window.clearTimeout(this.scheduleTimeout);\n        }\n    }\n    /**\n     * Checks the lastUpdateTime and checks if it is within the threshold\n     * of being allowed to run.  This method would return true if it's okay\n     * to run but return false a call should be culled.\n     */\n    canRun() {\n        this.cancelSchedule();\n        // If the FPS is unlocked always return true.\n        if (!this.locked) {\n            return true;\n        }\n        if (this.lastUpdateTime) {\n            const current = _time_time__WEBPACK_IMPORTED_MODULE_0__[\"now\"]();\n            const elapsed = current - this.lastUpdateTime;\n            const fps = this.fps === 0 ? 0 : 1000 / this.fps;\n            if (elapsed > fps) {\n                this.lastUpdateTime = _time_time__WEBPACK_IMPORTED_MODULE_0__[\"now\"]();\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        if (!this.lastUpdateTime) {\n            this.lastUpdateTime = _time_time__WEBPACK_IMPORTED_MODULE_0__[\"now\"]();\n            return true;\n        }\n        return false;\n    }\n}\n//# sourceMappingURL=fps.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvdGltZS9mcHMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvdGltZS9mcHMuanM/NGU3MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyB0aW1lIGZyb20gJy4uL3RpbWUvdGltZSc7XG4vKipcbiAqIEEgY2xhc3MgdGhhdCBoZWxwcyB3aXRoIHRpbWUgd2l0aCBmcHMuXG4gKlxuICpcbiAqIGBgYHRzXG4gKlxuICogY2xhc3MgbXlDbGFzcyB7XG4gKiAgICBjb250cnVjdG9yKCkge1xuICogICAgICAgdGhpcy5mcHMgPSBuZXcgRnBzKDMwKTtcbiAqICAgICAgIGRyYXcoKTtcbiAqICAgIH1cbiAqXG4gKiAgICBkcmF3KCkge1xuICogICAgICAgIC8vIEtlZXAgbG9vcCBnb2luZy5cbiAqICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XG4gKlxuICogICAgICAgIC8vIENhbiBydW4gd291bGQgcmV0dXJuIHRydWUgd2hlbiBpdCBpcyBva2F5IHRvIGV4ZWN1dGUgbGltaXRpbmdcbiAqICAgICAgICAvLyB0aGUgY2FsbHMgdG8gMzAgRlBTLlxuICogICAgICAgIGlmKHRoaXMuZnBzLmNhblJ1bigpKSB7XG4gKiAgICAgICAgICAvLyBEbyBzb21lIGV4cGVuc2l2ZSBjb21wdXRhdGlvbi5cbiAqICAgICAgICAgIGNhbnZhcy5kcmF3SW1hZ2UoaHVnZUltYWdlKTtcbiAqICAgICAgICB9XG4gKlxuICogICAgfVxuICogfVxuICogYGBgXG4gKlxuICogVGhlIGFib3ZlIHdvcmtzIGJ1dCBpdCBpcyBhIHNpbXBsZSBnYXRpbmcgYSBjYWxsIHRvIHJ1biBhdCBhIHNldCByYXRlLlxuICogSGVyZSBpcyBhIHNsaWdodGx5IG1vcmUgY29tcGxleCB1c2FnZSB3aGVyZSB5b3UgY2FuIFwic2NoZWR1bGVcIiB0aGUgbGFzdCBjYWxsLlxuICpcbiAqIFRoaXMgd2lsbCBhbHNvIGRyYXcgYXQgMzBGUFMgYnV0IHRoZSBkaWZmZXJlbmNlIGlzIHRoYXQgaXQgaXMgZGVib3VuY2VkXG4gKiBzbyB5b3VyIHZlcnkgbGFzdCBjYWxsIHRvIGRyYXcgaXMgZ3VhcmFudGVlZCB0byBydW4gd2hlbiB0aGUgZHJhd2luZyBnb2VzIGlkbGUuXG4gKlxuICogYGBgdHNcbiAqXG4gKiBjbGFzcyBteUNsYXNzIHtcbiAqICAgIGNvbnRydWN0b3IoKSB7XG4gKiAgICAgICB0aGlzLmZwcyA9IG5ldyBGcHMoMzApO1xuICogICAgICAgdGhpcy5pbmRleCA9IDA7XG4gKiAgICAgICBkcmF3KDEpO1xuICogICAgICAgZHJhdygyKTtcbiAqICAgICAgIGRyYXcoMyk7ICAvLyBUaGlzIGxhc3Qgb25lIGdldHMgZXhlY3V0ZWQgaW4gdGhpcyBleGFtcGxlLlxuICogICAgfVxuICpcbiAqICAgIGRyYXcoaW5kZXgpIHtcbiAqICAgICAgICAvLyBJZiB0aGlzIGNhbGwgY2FtZSB0b28gcXVpY2tseSBiZXR3ZWVuIDMwRlBTLCBzY2hlZHVsZSBpdCB0byBydW4uXG4gKiAgICAgICAgaWYoIXRoaXMuZnBzLmNhblJ1bigpKSB7XG4gKiAgICAgICAgICB0aGlzLmZwcy5zY2hlZHVsZSgoKT0+IHtcbiAqICAgICAgICAgICAgIHRoaXMuZHJhdyhpbmRleCk7XG4gKiAgICAgICAgICB9KTtcbiAqICAgICAgICAgIHJldHVybjtcbiAqICAgICAgICB9XG4gKlxuICogICAgICAgIC8vIERvIHNvbWV0aGluZyBleHBlbnNpdmUgaGVyZS5cbiAqICAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqXG4gKlxuICovXG5leHBvcnQgY2xhc3MgRnBzIHtcbiAgICBjb25zdHJ1Y3RvcihmcHMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW1lIG1lYXN1cmVtZW50IHVzZWQgdG8gbWVhc3VyZSBpbnRlcm5hbCBmcHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhc3RVcGRhdGVUaW1lID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgdGltZW91dCB0aGF0IGlzIHVzZWQgZm9yIHNjaGVkdWxpbmcuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjaGVkdWxlVGltZW91dCA9IDA7XG4gICAgICAgIHRoaXMuZnBzID0gZnBzO1xuICAgICAgICB0aGlzLmxvY2tlZCA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGZwcy5cbiAgICAgKiBAcGFyYW0gZnBzXG4gICAgICovXG4gICAgc2V0RnBzKGZwcykge1xuICAgICAgICB0aGlzLmZwcyA9IGZwcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9ja3Mgb3IgVW5sb2NrcyBmcHMuICBUaGlzIGZvcmNlcyBjYW5SdW4gdG8gYWx3YXlzIHJldHVybiB0cnVlLlxuICAgICAqIFRoaXMgaXMgdXNlZnVsIGluIGNhc2VzIHlvdSBuZWVkIHRvIHRlbXBvcmFyaWx5IHJlbW92ZVxuICAgICAqIEZQUyB0aHJvdHRsaW5nLlxuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKlxuICAgICAqIC8vIE9uIFdpbmRvdyByZXNpemUgd2Ugd2FudCB0byBydW4gdGhlIGRyYXdMb29wIHJlZ2FyZGxlc3NcbiAgICAgKiAvLyBvZiBGUFMuICBXZSBjYW4gdGVtcG9yYXJpbHkgdGVsbCBmcHMgdG8gYmUgdW5sb2NrZWQuXG4gICAgICogcmVzaXplKCkge1xuICAgICAqICAgIHRoaXMuZnBzLmxvY2soZmFsc2UpO1xuICAgICAqICAgIHRoaXMuZHJhd0xvb3AoKTtcbiAgICAgKiAgICB0aGlzLmZwcy5sb2NrKHRydWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqXG4gICAgICogLy8gUnVucyBvbiBSQUZcbiAgICAgKiBkcmF3TG9vcCgpIHtcbiAgICAgKiAgaWYodGhpcy5mcHMuY2FuUnVuKCkpIHtcbiAgICAgKiAgICAgLy8gRG8gc29tZSBleHBlbnNpdmUgY29tcHV0YXRpb24uXG4gICAgICogICAgIGNhbnZhcy5kcmF3SW1hZ2UoaHVnZUltYWdlKTtcbiAgICAgKiAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGxvY2sobG9jaykge1xuICAgICAgICB0aGlzLmxvY2tlZCA9IGxvY2s7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIGZvcmNlIHJ1biBhZnRlciBhIHNldCBwZXJpb2QuXG4gICAgICovXG4gICAgc2NoZWR1bGUoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5jYW5jZWxTY2hlZHVsZSgpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9ja2VkID0gZmFsc2U7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgdGhpcy5sb2NrZWQgPSB0cnVlO1xuICAgICAgICB9LCAxMDAwIC8gdGhpcy5mcHMgKyAxKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBzY2hkdWxlIHRpbWVvdXQuXG4gICAgICovXG4gICAgY2FuY2VsU2NoZWR1bGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnNjaGVkdWxlVGltZW91dCkge1xuICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnNjaGVkdWxlVGltZW91dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRoZSBsYXN0VXBkYXRlVGltZSBhbmQgY2hlY2tzIGlmIGl0IGlzIHdpdGhpbiB0aGUgdGhyZXNob2xkXG4gICAgICogb2YgYmVpbmcgYWxsb3dlZCB0byBydW4uICBUaGlzIG1ldGhvZCB3b3VsZCByZXR1cm4gdHJ1ZSBpZiBpdCdzIG9rYXlcbiAgICAgKiB0byBydW4gYnV0IHJldHVybiBmYWxzZSBhIGNhbGwgc2hvdWxkIGJlIGN1bGxlZC5cbiAgICAgKi9cbiAgICBjYW5SdW4oKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsU2NoZWR1bGUoKTtcbiAgICAgICAgLy8gSWYgdGhlIEZQUyBpcyB1bmxvY2tlZCBhbHdheXMgcmV0dXJuIHRydWUuXG4gICAgICAgIGlmICghdGhpcy5sb2NrZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxhc3RVcGRhdGVUaW1lKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gdGltZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IGVsYXBzZWQgPSBjdXJyZW50IC0gdGhpcy5sYXN0VXBkYXRlVGltZTtcbiAgICAgICAgICAgIGNvbnN0IGZwcyA9IHRoaXMuZnBzID09PSAwID8gMCA6IDEwMDAgLyB0aGlzLmZwcztcbiAgICAgICAgICAgIGlmIChlbGFwc2VkID4gZnBzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0VXBkYXRlVGltZSA9IHRpbWUubm93KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmxhc3RVcGRhdGVUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RVcGRhdGVUaW1lID0gdGltZS5ub3coKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcHMuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/time/fps.js\n");

/***/ }),

/***/ "./lib/time/time.js":
/*!**************************!*\
  !*** ./lib/time/time.js ***!
  \**************************/
/*! exports provided: now, timeDiffMs, isInBetween, utcDateToLocalTimeZone, createLocalTimeZoneDate, pacificTimeToLocalTimeDate, easternTimeToLocalTimeDate, countdown, time */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"now\", function() { return now; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"timeDiffMs\", function() { return timeDiffMs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isInBetween\", function() { return isInBetween; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"utcDateToLocalTimeZone\", function() { return utcDateToLocalTimeZone; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createLocalTimeZoneDate\", function() { return createLocalTimeZoneDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pacificTimeToLocalTimeDate\", function() { return pacificTimeToLocalTimeDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easternTimeToLocalTimeDate\", function() { return easternTimeToLocalTimeDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"countdown\", function() { return countdown; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"time\", function() { return time; });\n/* harmony import */ var _is_is__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../is/is */ \"./lib/is/is.js\");\n\n/**\n * Returns the current time.\n */\nfunction now() {\n    return Date.now();\n}\n/**\n * Calculates the time difference in milliseconds between to times.\n *\n * ```ts\n * let startTime = time.now();\n *\n * window.setTimeout(() {\n *   let diff = time.timDiffMs(startTime, time.now());\n *   console.log(diff); // 300\n * }, 300);\n *\n * ```\n * @param startTime\n * @param endTime\n */\nfunction timeDiffMs(startTime, endTime) {\n    return endTime - startTime;\n}\n/**\n * Given a startTime and endTime, tests whether the provided testTime\n * is within that time.\n * @param startTime\n * @param endTime\n * @param testTime\n */\nfunction isInBetween(startTime, endTime, testTime) {\n    if (startTime && endTime) {\n        return testTime >= startTime && testTime < endTime;\n    }\n    else if (startTime) {\n        return testTime >= startTime;\n    }\n    else if (endTime) {\n        return testTime < endTime;\n    }\n    return false;\n}\n/**\n * Converts a utc based time that you might created into the local time.\n *\n * ```\n * const myUTCDate = new Date('2020-06-20 03:45:00');\n * const theUTCDateInLocalTime = time.utcDateToLocalTimeZone(myUTCDate);\n *\n *\n * // Do Stuff.  Now it is in local time zone.\n * const diff = thisUTCDateInLocalTime - new Date();\n * ```\n * Now the theUTCDateInLocalTime is the UTC time adjusted to your\n * local computer timezone.\n *\n * @param utcDate\n */\nfunction utcDateToLocalTimeZone(utcDate) {\n    // Safari for some reason, defaults to utc and does the conversion\n    // for you.\n    if (_is_is__WEBPACK_IMPORTED_MODULE_0__[\"safari\"]()) {\n        return utcDate;\n    }\n    else {\n        const timeOffsetInMS = utcDate.getTimezoneOffset() * 60000;\n        return new Date(utcDate.getTime() - timeOffsetInMS);\n    }\n}\n/**\n * Create a local timezone date string.  This is mainly here to normalize\n * browser differences.  Safari creates a new date in utc whereas\n * other browsers create the date based on the users timezone.\n *\n * By using this method, you are guaranteed that the created date is adjusted\n * to the current users computer time.\n * ---\n *\n * const myDate = time.createLocalTimeZoneDate('2021-06-20T03:45:00');\n * const myDate2 = time.createLocalTimeZoneDate('2021-06-20 03:45:00');\n *\n * ---\n *\n * The localTimeDate would be the localtime on the users computer.\n *\n * ---\n * const myDate = time.createLocalTimeZoneDate('2021-06-20T03:45:00');\n * ---\n */\nfunction createLocalTimeZoneDate(localTimeDate) {\n    if (_is_is__WEBPACK_IMPORTED_MODULE_0__[\"safari\"]()) {\n        const utcDate = new Date(localTimeDate);\n        const timeOffsetInMS = utcDate.getTimezoneOffset() * 60000;\n        // Add it since safari creates it in UTC.\n        return new Date(utcDate.getTime() + timeOffsetInMS);\n    }\n    else {\n        return new Date(localTimeDate);\n    }\n}\n/**\n * Converts a pacific time over to utc.\n *\n * ---\n * const myPacificTime = '2020-12-12 03:34:00';\n * time.pacificTimeToLocalTimeDate(myPacificTime);\n *\n * ---\n *\n */\nfunction pacificTimeToLocalTimeDate(pacificTime) {\n    // First create the time locally.\n    // 7 Hour diff.\n    const pacificOffset = 420 * 60000;\n    // UTC\n    const utc = new Date(new Date(pacificTime).getTime() + pacificOffset);\n    return time.utcDateToLocalTimeZone(utc);\n}\n/**\n * Converts a pacific time over to utc.\n *\n * ---\n * const myEastTime = '2020-12-12 03:34:00';\n * time.easternTimeToLocalTimeDate(myEastern);\n *\n * ---\n *\n */\nfunction easternTimeToLocalTimeDate(pacificTime) {\n    // First create the time locally.\n    // 4 Hour diff.\n    const pacificOffset = 240 * 60000;\n    // UTC\n    const utc = new Date(new Date(pacificTime).getTime() + pacificOffset);\n    return utcDateToLocalTimeZone(utc);\n}\n/**\n * Use to calculate the countdown to a given time.  Note that the\n * currentTime and endTime should both be in the same local timezone.\n *\n * Returns an object with days, hours, minutes, seconds.\n *\n * ```\n * const now = new Date();\n * const endTime = new Date('2021-06-20 03:34:00 UTC');\n * const countDown = time.countdown(now, endTime);\n *\n *\n * countdown.days; // the number of days\n * countdown.hours; // the number of hours\n * countdown.minutes; // the number of minutes\n * countdown.seconds; // the number of seconds\n * ```\n */\nfunction countdown(currentTime, endTime) {\n    const time = endTime.getTime() - currentTime.getTime();\n    return {\n        days: Math.floor(time / (1000 * 60 * 60 * 24)),\n        hours: Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)),\n        minutes: Math.floor((time % (1000 * 60 * 60)) / (1000 * 60)),\n        seconds: Math.floor((time % (1000 * 60)) / 1000),\n    };\n}\n/**\n * A class that helps with time.\n */\nconst time = {\n    now,\n    timeDiffMs,\n    isInBetween,\n    utcDateToLocalTimeZone,\n    createLocalTimeZoneDate,\n    pacificTimeToLocalTimeDate,\n    easternTimeToLocalTimeDate,\n    countdown,\n};\n//# sourceMappingURL=time.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvdGltZS90aW1lLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3RpbWUvdGltZS5qcz80NzhiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGlzIGZyb20gJy4uL2lzL2lzJztcbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCB0aW1lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm93KCkge1xuICAgIHJldHVybiBEYXRlLm5vdygpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSB0aW1lIGRpZmZlcmVuY2UgaW4gbWlsbGlzZWNvbmRzIGJldHdlZW4gdG8gdGltZXMuXG4gKlxuICogYGBgdHNcbiAqIGxldCBzdGFydFRpbWUgPSB0aW1lLm5vdygpO1xuICpcbiAqIHdpbmRvdy5zZXRUaW1lb3V0KCgpIHtcbiAqICAgbGV0IGRpZmYgPSB0aW1lLnRpbURpZmZNcyhzdGFydFRpbWUsIHRpbWUubm93KCkpO1xuICogICBjb25zb2xlLmxvZyhkaWZmKTsgLy8gMzAwXG4gKiB9LCAzMDApO1xuICpcbiAqIGBgYFxuICogQHBhcmFtIHN0YXJ0VGltZVxuICogQHBhcmFtIGVuZFRpbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVEaWZmTXMoc3RhcnRUaW1lLCBlbmRUaW1lKSB7XG4gICAgcmV0dXJuIGVuZFRpbWUgLSBzdGFydFRpbWU7XG59XG4vKipcbiAqIEdpdmVuIGEgc3RhcnRUaW1lIGFuZCBlbmRUaW1lLCB0ZXN0cyB3aGV0aGVyIHRoZSBwcm92aWRlZCB0ZXN0VGltZVxuICogaXMgd2l0aGluIHRoYXQgdGltZS5cbiAqIEBwYXJhbSBzdGFydFRpbWVcbiAqIEBwYXJhbSBlbmRUaW1lXG4gKiBAcGFyYW0gdGVzdFRpbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW5CZXR3ZWVuKHN0YXJ0VGltZSwgZW5kVGltZSwgdGVzdFRpbWUpIHtcbiAgICBpZiAoc3RhcnRUaW1lICYmIGVuZFRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRlc3RUaW1lID49IHN0YXJ0VGltZSAmJiB0ZXN0VGltZSA8IGVuZFRpbWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN0YXJ0VGltZSkge1xuICAgICAgICByZXR1cm4gdGVzdFRpbWUgPj0gc3RhcnRUaW1lO1xuICAgIH1cbiAgICBlbHNlIGlmIChlbmRUaW1lKSB7XG4gICAgICAgIHJldHVybiB0ZXN0VGltZSA8IGVuZFRpbWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQ29udmVydHMgYSB1dGMgYmFzZWQgdGltZSB0aGF0IHlvdSBtaWdodCBjcmVhdGVkIGludG8gdGhlIGxvY2FsIHRpbWUuXG4gKlxuICogYGBgXG4gKiBjb25zdCBteVVUQ0RhdGUgPSBuZXcgRGF0ZSgnMjAyMC0wNi0yMCAwMzo0NTowMCcpO1xuICogY29uc3QgdGhlVVRDRGF0ZUluTG9jYWxUaW1lID0gdGltZS51dGNEYXRlVG9Mb2NhbFRpbWVab25lKG15VVRDRGF0ZSk7XG4gKlxuICpcbiAqIC8vIERvIFN0dWZmLiAgTm93IGl0IGlzIGluIGxvY2FsIHRpbWUgem9uZS5cbiAqIGNvbnN0IGRpZmYgPSB0aGlzVVRDRGF0ZUluTG9jYWxUaW1lIC0gbmV3IERhdGUoKTtcbiAqIGBgYFxuICogTm93IHRoZSB0aGVVVENEYXRlSW5Mb2NhbFRpbWUgaXMgdGhlIFVUQyB0aW1lIGFkanVzdGVkIHRvIHlvdXJcbiAqIGxvY2FsIGNvbXB1dGVyIHRpbWV6b25lLlxuICpcbiAqIEBwYXJhbSB1dGNEYXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1dGNEYXRlVG9Mb2NhbFRpbWVab25lKHV0Y0RhdGUpIHtcbiAgICAvLyBTYWZhcmkgZm9yIHNvbWUgcmVhc29uLCBkZWZhdWx0cyB0byB1dGMgYW5kIGRvZXMgdGhlIGNvbnZlcnNpb25cbiAgICAvLyBmb3IgeW91LlxuICAgIGlmIChpcy5zYWZhcmkoKSkge1xuICAgICAgICByZXR1cm4gdXRjRGF0ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHRpbWVPZmZzZXRJbk1TID0gdXRjRGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDA7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh1dGNEYXRlLmdldFRpbWUoKSAtIHRpbWVPZmZzZXRJbk1TKTtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZSBhIGxvY2FsIHRpbWV6b25lIGRhdGUgc3RyaW5nLiAgVGhpcyBpcyBtYWlubHkgaGVyZSB0byBub3JtYWxpemVcbiAqIGJyb3dzZXIgZGlmZmVyZW5jZXMuICBTYWZhcmkgY3JlYXRlcyBhIG5ldyBkYXRlIGluIHV0YyB3aGVyZWFzXG4gKiBvdGhlciBicm93c2VycyBjcmVhdGUgdGhlIGRhdGUgYmFzZWQgb24gdGhlIHVzZXJzIHRpbWV6b25lLlxuICpcbiAqIEJ5IHVzaW5nIHRoaXMgbWV0aG9kLCB5b3UgYXJlIGd1YXJhbnRlZWQgdGhhdCB0aGUgY3JlYXRlZCBkYXRlIGlzIGFkanVzdGVkXG4gKiB0byB0aGUgY3VycmVudCB1c2VycyBjb21wdXRlciB0aW1lLlxuICogLS0tXG4gKlxuICogY29uc3QgbXlEYXRlID0gdGltZS5jcmVhdGVMb2NhbFRpbWVab25lRGF0ZSgnMjAyMS0wNi0yMFQwMzo0NTowMCcpO1xuICogY29uc3QgbXlEYXRlMiA9IHRpbWUuY3JlYXRlTG9jYWxUaW1lWm9uZURhdGUoJzIwMjEtMDYtMjAgMDM6NDU6MDAnKTtcbiAqXG4gKiAtLS1cbiAqXG4gKiBUaGUgbG9jYWxUaW1lRGF0ZSB3b3VsZCBiZSB0aGUgbG9jYWx0aW1lIG9uIHRoZSB1c2VycyBjb21wdXRlci5cbiAqXG4gKiAtLS1cbiAqIGNvbnN0IG15RGF0ZSA9IHRpbWUuY3JlYXRlTG9jYWxUaW1lWm9uZURhdGUoJzIwMjEtMDYtMjBUMDM6NDU6MDAnKTtcbiAqIC0tLVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTG9jYWxUaW1lWm9uZURhdGUobG9jYWxUaW1lRGF0ZSkge1xuICAgIGlmIChpcy5zYWZhcmkoKSkge1xuICAgICAgICBjb25zdCB1dGNEYXRlID0gbmV3IERhdGUobG9jYWxUaW1lRGF0ZSk7XG4gICAgICAgIGNvbnN0IHRpbWVPZmZzZXRJbk1TID0gdXRjRGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDA7XG4gICAgICAgIC8vIEFkZCBpdCBzaW5jZSBzYWZhcmkgY3JlYXRlcyBpdCBpbiBVVEMuXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh1dGNEYXRlLmdldFRpbWUoKSArIHRpbWVPZmZzZXRJbk1TKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShsb2NhbFRpbWVEYXRlKTtcbiAgICB9XG59XG4vKipcbiAqIENvbnZlcnRzIGEgcGFjaWZpYyB0aW1lIG92ZXIgdG8gdXRjLlxuICpcbiAqIC0tLVxuICogY29uc3QgbXlQYWNpZmljVGltZSA9ICcyMDIwLTEyLTEyIDAzOjM0OjAwJztcbiAqIHRpbWUucGFjaWZpY1RpbWVUb0xvY2FsVGltZURhdGUobXlQYWNpZmljVGltZSk7XG4gKlxuICogLS0tXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFjaWZpY1RpbWVUb0xvY2FsVGltZURhdGUocGFjaWZpY1RpbWUpIHtcbiAgICAvLyBGaXJzdCBjcmVhdGUgdGhlIHRpbWUgbG9jYWxseS5cbiAgICAvLyA3IEhvdXIgZGlmZi5cbiAgICBjb25zdCBwYWNpZmljT2Zmc2V0ID0gNDIwICogNjAwMDA7XG4gICAgLy8gVVRDXG4gICAgY29uc3QgdXRjID0gbmV3IERhdGUobmV3IERhdGUocGFjaWZpY1RpbWUpLmdldFRpbWUoKSArIHBhY2lmaWNPZmZzZXQpO1xuICAgIHJldHVybiB0aW1lLnV0Y0RhdGVUb0xvY2FsVGltZVpvbmUodXRjKTtcbn1cbi8qKlxuICogQ29udmVydHMgYSBwYWNpZmljIHRpbWUgb3ZlciB0byB1dGMuXG4gKlxuICogLS0tXG4gKiBjb25zdCBteUVhc3RUaW1lID0gJzIwMjAtMTItMTIgMDM6MzQ6MDAnO1xuICogdGltZS5lYXN0ZXJuVGltZVRvTG9jYWxUaW1lRGF0ZShteUVhc3Rlcm4pO1xuICpcbiAqIC0tLVxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhc3Rlcm5UaW1lVG9Mb2NhbFRpbWVEYXRlKHBhY2lmaWNUaW1lKSB7XG4gICAgLy8gRmlyc3QgY3JlYXRlIHRoZSB0aW1lIGxvY2FsbHkuXG4gICAgLy8gNCBIb3VyIGRpZmYuXG4gICAgY29uc3QgcGFjaWZpY09mZnNldCA9IDI0MCAqIDYwMDAwO1xuICAgIC8vIFVUQ1xuICAgIGNvbnN0IHV0YyA9IG5ldyBEYXRlKG5ldyBEYXRlKHBhY2lmaWNUaW1lKS5nZXRUaW1lKCkgKyBwYWNpZmljT2Zmc2V0KTtcbiAgICByZXR1cm4gdXRjRGF0ZVRvTG9jYWxUaW1lWm9uZSh1dGMpO1xufVxuLyoqXG4gKiBVc2UgdG8gY2FsY3VsYXRlIHRoZSBjb3VudGRvd24gdG8gYSBnaXZlbiB0aW1lLiAgTm90ZSB0aGF0IHRoZVxuICogY3VycmVudFRpbWUgYW5kIGVuZFRpbWUgc2hvdWxkIGJvdGggYmUgaW4gdGhlIHNhbWUgbG9jYWwgdGltZXpvbmUuXG4gKlxuICogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBkYXlzLCBob3VycywgbWludXRlcywgc2Vjb25kcy5cbiAqXG4gKiBgYGBcbiAqIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gKiBjb25zdCBlbmRUaW1lID0gbmV3IERhdGUoJzIwMjEtMDYtMjAgMDM6MzQ6MDAgVVRDJyk7XG4gKiBjb25zdCBjb3VudERvd24gPSB0aW1lLmNvdW50ZG93bihub3csIGVuZFRpbWUpO1xuICpcbiAqXG4gKiBjb3VudGRvd24uZGF5czsgLy8gdGhlIG51bWJlciBvZiBkYXlzXG4gKiBjb3VudGRvd24uaG91cnM7IC8vIHRoZSBudW1iZXIgb2YgaG91cnNcbiAqIGNvdW50ZG93bi5taW51dGVzOyAvLyB0aGUgbnVtYmVyIG9mIG1pbnV0ZXNcbiAqIGNvdW50ZG93bi5zZWNvbmRzOyAvLyB0aGUgbnVtYmVyIG9mIHNlY29uZHNcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gY291bnRkb3duKGN1cnJlbnRUaW1lLCBlbmRUaW1lKSB7XG4gICAgY29uc3QgdGltZSA9IGVuZFRpbWUuZ2V0VGltZSgpIC0gY3VycmVudFRpbWUuZ2V0VGltZSgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRheXM6IE1hdGguZmxvb3IodGltZSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSksXG4gICAgICAgIGhvdXJzOiBNYXRoLmZsb29yKCh0aW1lICUgKDEwMDAgKiA2MCAqIDYwICogMjQpKSAvICgxMDAwICogNjAgKiA2MCkpLFxuICAgICAgICBtaW51dGVzOiBNYXRoLmZsb29yKCh0aW1lICUgKDEwMDAgKiA2MCAqIDYwKSkgLyAoMTAwMCAqIDYwKSksXG4gICAgICAgIHNlY29uZHM6IE1hdGguZmxvb3IoKHRpbWUgJSAoMTAwMCAqIDYwKSkgLyAxMDAwKSxcbiAgICB9O1xufVxuLyoqXG4gKiBBIGNsYXNzIHRoYXQgaGVscHMgd2l0aCB0aW1lLlxuICovXG5leHBvcnQgY29uc3QgdGltZSA9IHtcbiAgICBub3csXG4gICAgdGltZURpZmZNcyxcbiAgICBpc0luQmV0d2VlbixcbiAgICB1dGNEYXRlVG9Mb2NhbFRpbWVab25lLFxuICAgIGNyZWF0ZUxvY2FsVGltZVpvbmVEYXRlLFxuICAgIHBhY2lmaWNUaW1lVG9Mb2NhbFRpbWVEYXRlLFxuICAgIGVhc3Rlcm5UaW1lVG9Mb2NhbFRpbWVEYXRlLFxuICAgIGNvdW50ZG93bixcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/time/time.js\n");

/***/ }),

/***/ "./lib/ui/carousel/carousel.js":
/*!*************************************!*\
  !*** ./lib/ui/carousel/carousel.js ***!
  \*************************************/
/*! exports provided: CarouselEvent, Carousel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CarouselEvent\", function() { return CarouselEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Carousel\", function() { return Carousel; });\n/* harmony import */ var _arrayf_arrayf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../arrayf/arrayf */ \"./lib/arrayf/arrayf.js\");\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _setf_setf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../setf/setf */ \"./lib/setf/setf.js\");\n/* harmony import */ var _transitions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./transitions */ \"./lib/ui/carousel/transitions.js\");\n/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../events */ \"./lib/ui/events.js\");\n/* harmony import */ var _raf_raf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../raf/raf */ \"./lib/raf/raf.js\");\n\n\n\n\n\n\nconst DEFAULT_DISTANCE_TO_ACTIVE_SLIDE_ATTR = 'data-index';\n/**\n * For readability, specifies which half should be gotten by providing a\n * direction to loop through elements.\n */\nvar Direction;\n(function (Direction) {\n    Direction[Direction[\"LEFT\"] = -1] = \"LEFT\";\n    Direction[Direction[\"RIGHT\"] = 1] = \"RIGHT\";\n})(Direction || (Direction = {}));\n/**\n * Carousel events.\n */\nvar CarouselEvent;\n(function (CarouselEvent) {\n    CarouselEvent[\"BEFORE_CHANGE\"] = \"beforeChange\";\n    CarouselEvent[\"AFTER_CHANGE\"] = \"afterChange\";\n})(CarouselEvent || (CarouselEvent = {}));\n/**\n * Default classes applied to slide elements.\n */\nvar DefaultCssClass;\n(function (DefaultCssClass) {\n    DefaultCssClass[\"ACTIVE_SLIDE\"] = \"active\";\n    DefaultCssClass[\"BEFORE_SLIDE\"] = \"before\";\n    DefaultCssClass[\"AFTER_SLIDE\"] = \"after\";\n})(DefaultCssClass || (DefaultCssClass = {}));\n/**\n * Internal class used to manage autoplay behaviour.\n *\n * Stores and handles the information needed to pause and resume triggers using\n * a timeout.\n */\nclass AutoplayTimeout {\n    constructor(callback, delay) {\n        this.callback = callback;\n        this.delay = delay;\n        this.timePassed = 0;\n        this.timeout = setTimeout(callback, delay);\n        this.lastStartTime = +new Date();\n    }\n    /**\n     * Returns true if the timeout autoplay timeout is currently paused/disabled.\n     */\n    isPaused() {\n        return this.timeout === null;\n    }\n    /**\n     * Disable the timeout to pause the autplay.\n     */\n    pause() {\n        // We check if the carousel is already paused to ensure pause() is safe to\n        // call multiple times.\n        // If not the value in timePassed slowly accumulates with the time between\n        // pause() calls.\n        if (this.isPaused()) {\n            return;\n        }\n        this.timePassed += +new Date() - this.lastStartTime;\n        this.clear();\n    }\n    /**\n     * Create a new timeout with the time remaining when the autoplay was paused.\n     */\n    unpause() {\n        if (!this.isPaused()) {\n            return;\n        }\n        this.timeout = setTimeout(this.callback, this.delay - this.timePassed);\n        this.lastStartTime = +new Date();\n    }\n    /**\n     * Dispose of the timeout.\n     */\n    dispose() {\n        this.clear();\n    }\n    clear() {\n        if (this.timeout) {\n            clearTimeout(this.timeout);\n            this.timeout = null;\n        }\n    }\n}\nclass Carousel {\n    /**\n     * @param container Parent element of slides.\n     * Element that acts as the carousel, in which all slides are contained.\n     * Does not need to be the direct parent.\n     *\n     * @param slides HTMLElements containing slide content.\n     *\n     * @param condition Under what conditions the carousel should run\n     * @param activeCssClass Class to apply to active slide.\n     * @param beforeCssClass Class to apply to slides before active slide.\n     * @param afterCssClass Class to apply to slides after active slide.\n     * @param distanceToActiveSlideAttr Slide attribute on which the index\n     *     distance to the currently active slide is set.\n     * @param loop Whether the carousel should be allowed to loop.\n     * @param transition How the Carousel should transition.\n     * @param autoplaySpeed How long the carousel should stay on a slide (in ms)\n     *     before transitioning to the next slide.\n     */\n    constructor(container, slides, { condition = () => true, activeCssClass = DefaultCssClass.ACTIVE_SLIDE, beforeCssClass = DefaultCssClass.BEFORE_SLIDE, afterCssClass = DefaultCssClass.AFTER_SLIDE, distanceToActiveSlideAttr = DEFAULT_DISTANCE_TO_ACTIVE_SLIDE_ATTR, loop = true, transition = undefined, autoplaySpeed = undefined, } = {}) {\n        if (slides.length < 1) {\n            throw new Error('Cannot start carousel without slides');\n        }\n        this.raf = new _raf_raf__WEBPACK_IMPORTED_MODULE_5__[\"Raf\"](() => this.onRaf());\n        this.activeCssClass = activeCssClass;\n        this.beforeCssClass = beforeCssClass;\n        this.afterCssClass = afterCssClass;\n        this.distanceToActiveSlideAttr = distanceToActiveSlideAttr;\n        this.loop = loop;\n        this.condition = condition;\n        this.container = container;\n        this.lastActiveSlide = null;\n        this.eventManager = new _events__WEBPACK_IMPORTED_MODULE_4__[\"EventManager\"]();\n        this.slides = slides;\n        if (typeof transition === 'string') {\n            switch (transition) {\n                case 'css':\n                    this.transition = new _transitions__WEBPACK_IMPORTED_MODULE_3__[\"CssClassesOnly\"]();\n                    break;\n                case 'draggable':\n                    this.transition = new _transitions__WEBPACK_IMPORTED_MODULE_3__[\"DraggableSlide\"]();\n                    break;\n                default:\n                    throw new Error(`Unrecognized transition type \"${transition}\" passed to ` +\n                        'Carousel.');\n            }\n        }\n        else {\n            this.transition = transition || new _transitions__WEBPACK_IMPORTED_MODULE_3__[\"CssClassesOnly\"]();\n        }\n        this.transitionTarget = null;\n        this.autoplaySpeed = autoplaySpeed;\n        this.autoplayTimeout = null;\n        this.syncedCarousels = new Set([this]);\n        this.init();\n    }\n    /**\n     * Returns true if the carousel is disabled, false otherwise.\n     */\n    isDisabled() {\n        return !this.condition();\n    }\n    /**\n     * Returns true if the carousel is enabled, false otherwise.\n     */\n    isEnabled() {\n        return this.condition();\n    }\n    /**\n     * Change the active slide to the given slide by either index or element.\n     */\n    goTo(target, drivenBySync = false) {\n        if (typeof target === 'number') {\n            this.goToIndex(target, drivenBySync);\n        }\n        else {\n            this.goToSlide(target, drivenBySync);\n        }\n    }\n    /**\n     * Transition the carousel to the given slide.\n     */\n    goToSlide(targetSlide, drivenBySync = false) {\n        if (this.isBeingInteractedWith()) {\n            return;\n        }\n        if (this.transitionTarget === targetSlide) {\n            return;\n        }\n        this.transitionTarget = targetSlide;\n        this.eventManager.dispatch(CarouselEvent.BEFORE_CHANGE, {\n            carousel: this,\n            currentSlide: this.getActiveSlide(),\n            currentIndex: this.getActiveIndex(),\n            nextSlide: this.transitionTarget,\n            nextIndex: this.getIndex(this.transitionTarget),\n        });\n        if (!drivenBySync) {\n            this.syncedCarousels.forEach(carousel => {\n                if (carousel !== this) {\n                    carousel.syncTo(this.getIndex(targetSlide), this);\n                }\n            });\n        }\n    }\n    /**\n     * Returns true if the user is interacting with the carousel.\n     */\n    isBeingInteractedWith() {\n        return this.transition.isInteracting();\n    }\n    /**\n     * Returns the currently active slide.\n     */\n    getActiveSlide() {\n        return this.transition.getActiveSlide();\n    }\n    /**\n     * Return the index of the currently active slide.\n     */\n    getActiveIndex() {\n        return this.getIndex(this.getActiveSlide());\n    }\n    /**\n     * Return the first slide in the carousel.\n     */\n    getFirstSlide() {\n        return this.slides[0];\n    }\n    /**\n     * Return the last slide in the carousel.\n     */\n    getLastSlide() {\n        return this.slides[this.slides.length - 1];\n    }\n    /**\n     * Return the index of the given slide within the list of slides.\n     * @param slide\n     */\n    getIndex(slide) {\n        return this.getSlides().indexOf(slide);\n    }\n    /**\n     * Return a copy of the list of slide elements.\n     */\n    getSlides() {\n        return [...this.slides];\n    }\n    /**\n     * Return the slides before the given slide. Looping if allowed.\n     * @param slide\n     */\n    getSlidesBefore(slide) {\n        if (this.loop) {\n            return this.splitSlidesInHalf(slide, Direction.LEFT);\n        }\n        else {\n            return this.getSlides().slice(0, this.getSlides().indexOf(slide));\n        }\n    }\n    /**\n     * Return the slides after the given slide. Looping if allowed.\n     * @param slide\n     */\n    getSlidesAfter(slide) {\n        if (this.loop) {\n            return this.splitSlidesInHalf(slide, Direction.RIGHT);\n        }\n        else {\n            return this.getSlides().slice(this.getSlides().indexOf(slide) + 1);\n        }\n    }\n    /**\n     * Go to the next slide.\n     */\n    next() {\n        this.transitionSlidesBy(1);\n    }\n    /**\n     * Go to the previous slide.\n     */\n    prev() {\n        this.transitionSlidesBy(-1);\n    }\n    /**\n     * Transition to the slide with the given index.\n     */\n    goToIndex(index, drivenBySync = false) {\n        const clampedIndex = this.getClampedIndex(index);\n        this.goToSlide(this.getSlideByIndex(clampedIndex), drivenBySync);\n    }\n    /**\n     * Register a function to be called when the given event is fired.\n     */\n    on(event, callback) {\n        this.eventManager.on(event, callback);\n    }\n    /**\n     * Remove a function that is called when the given event is fired.\n     */\n    off(event, callback) {\n        this.eventManager.off(event, callback);\n    }\n    /**\n     * Return the slide element at the given index in the list of slides.\n     * @param index\n     */\n    getSlideByIndex(index) {\n        return this.slides[index];\n    }\n    /**\n     * Return the number of slides.\n     */\n    getSlideCount() {\n        return this.slides.length;\n    }\n    /**\n     * Dispose of the carousel.\n     */\n    dispose() {\n        this.raf.dispose();\n        this.transition.dispose();\n    }\n    /**\n     * Clear the transition target, stop transitioning.\n     */\n    stopTransition() {\n        this.transitionTarget = null;\n    }\n    /**\n     * Clamp a given index to land within the possible slide indices.\n     * @param index\n     */\n    getClampedIndex(index) {\n        const slidesLength = this.getSlides().length;\n        if (this.loop) {\n            return _mathf_mathf__WEBPACK_IMPORTED_MODULE_1__[\"wrap\"](index, 0, slidesLength);\n        }\n        else {\n            return _mathf_mathf__WEBPACK_IMPORTED_MODULE_1__[\"clamp\"](0, slidesLength - 1, index);\n        }\n    }\n    /**\n     * Synchronize this carousel with the given carousels.\n     */\n    sync(...carousels) {\n        const masterSet = _setf_setf__WEBPACK_IMPORTED_MODULE_2__[\"merge\"](this.syncedCarousels, ...carousels.map(c => c.syncedCarousels));\n        this.syncedCarousels = masterSet;\n        masterSet.forEach(c => (c.syncedCarousels = masterSet));\n    }\n    /**\n     * Pause the autoplay functionality of the carousel.\n     */\n    pause() {\n        if (this.autoplayTimeout) {\n            this.autoplayTimeout.pause();\n        }\n    }\n    /**\n     * Unpause the autoplay functionality of the carousel.\n     */\n    unpause() {\n        if (this.autoplayTimeout) {\n            this.autoplayTimeout.unpause();\n        }\n    }\n    /**\n     * Returns true if the carousel autoplay is currently paused.\n     */\n    isPaused() {\n        return this.autoplayTimeout === null || this.autoplayTimeout.isPaused();\n    }\n    /**\n     * Transition to the slide `value` slides away.\n     * @param value\n     */\n    transitionSlidesBy(value) {\n        const nextIndex = this.getSlides().indexOf(this.transitionTarget || this.getActiveSlide()) +\n            value;\n        this.goToIndex(nextIndex);\n    }\n    /**\n     * Sync this carousel to the given index in the given carousel.\n     *\n     * Allow for syncing with duplicate slides.\n     *\n     * In some cases, to meet design requirements a carousel may need to\n     * duplicate some slides, for cases where a slide loops but due to a small\n     * number of slides, it may be visible on either side simultaneously.\n     *\n     * In this case, it may not be necessary to duplicate other synchronized\n     * carousels.\n     *\n     * Take the following case where there are images that loop that need to\n     * be duplicated, synchronized with dots acting as navigation, and a third\n     * carousel with copy that cross-fades depending on the active image.\n     *\n     * DOM Tags <a>, <b> and <c> are used as shorthand for the various slides.\n     *\n     * ```\n     * <div class=\"images\">\n     *   <a></a>\n     *   <b></b>\n     *   <c></c>\n     *   <a></a>\n     *   <b></b>\n     *   <c></c>\n     * </div>\n     * <div class=\"nav-dots\">\n     *   <a></a>\n     *   <b></b>\n     *   <c></c>\n     * </div>\n     * <div class=\"copy\">\n     *   <a></a>\n     *   <b></b>\n     *   <c></c>\n     * </div>\n     * ```\n     *\n     * If the user has moved the images so that the fourth image (an <a>) tag\n     * is visible, we would want the first slide in the other two to be the\n     * active slide.\n     *\n     * If the user were to click on the navigation to go to the second slide, it\n     * would seem odd if the images went backwards past the third image, and\n     * then on to the second image.\n     *\n     * Instead it would seem more natural for the slide to advance to the\n     * nearest copy of the second image, in this case, the fifth slide in the\n     * images carousel.\n     *\n     * We also run a modulus on the given index, for the case where things are\n     * the other way around, and the carousel we are syncing to has more slides\n     * than the current carousel.\n     *\n     * @param rawIndex\n     * @param carousel\n     * @private\n     */\n    syncTo(rawIndex, carousel) {\n        const index = rawIndex % this.getSlideCount();\n        // Assuming this carousel has more slides than the carousel we are syncing\n        // to:\n        // Use modulus to get the equivalent index of the current transition\n        // target, as if it were a slide in the carousel we are syncing to.\n        // If the slide counts match up, this modulus operation will be a no-op and\n        // no harm is done.\n        const equivalentTransitionTargetIndex = this.getIndex(this.transitionTarget) % carousel.getSlideCount();\n        // If we are already on an equivalent index, we can stop and return early.\n        if (equivalentTransitionTargetIndex === index) {\n            return;\n        }\n        // If the current carousel has more slides than the syncing carousel,\n        // then we want to grab the closest equivalent slide to transition to.\n        if (this.getSlideCount() > carousel.getSlideCount()) {\n            // Build a set of all equivalent indices.\n            const equivalentIndices = [];\n            let equivalentIndex = index;\n            while (equivalentIndex < this.getSlideCount()) {\n                equivalentIndices.push(equivalentIndex);\n                equivalentIndex += carousel.getSlideCount();\n            }\n            this.goTo(_arrayf_arrayf__WEBPACK_IMPORTED_MODULE_0__[\"min\"](equivalentIndices, i => Math.abs(this.getActiveIndex() - i)), true);\n        }\n        else {\n            this.goTo(index, true);\n        }\n    }\n    /**\n     * Returns an integer number for half of the slides. The parameter\n     * specifies whether, if given an array containing an odd number of elements,\n     * the larger odd value for half should be returned, or the smaller even\n     * number.\n     * @param weightOdd\n     * @private\n     */\n    getHalfOfSlideCount(weightOdd) {\n        const halfLength = (this.getSlides().length - 1) / 2;\n        if (halfLength % 2 === 0) {\n            return halfLength;\n        }\n        else if (weightOdd) {\n            return Math.ceil(halfLength);\n        }\n        else {\n            return Math.floor(halfLength);\n        }\n    }\n    /**\n     * Return half of the slides by taking slides to one side of the given slide.\n     *\n     * This function assumes looping is enabled and loops around if needed to get\n     * half of the slides.\n     */\n    splitSlidesInHalf(slide, direction) {\n        const targetLength = this.getHalfOfSlideCount(direction === Direction.RIGHT);\n        const result = [];\n        let indexToAdd = this.getIndex(slide);\n        while (result.length < targetLength) {\n            // Build the looped index\n            indexToAdd = _mathf_mathf__WEBPACK_IMPORTED_MODULE_1__[\"wrap\"](indexToAdd + direction, 0, this.getSlideCount());\n            const slideToAdd = this.getSlideByIndex(indexToAdd);\n            if (direction === Direction.RIGHT) {\n                result.push(slideToAdd);\n            }\n            else {\n                result.unshift(slideToAdd);\n            }\n        }\n        return result;\n    }\n    /**\n     * Setup initial values.\n     */\n    init() {\n        this.transition.init(this);\n        this.raf.start();\n        this.resetAutoplayTimeout();\n    }\n    /**\n     * Clear the current autoplay timeout and prep a new one.\n     * @private\n     */\n    resetAutoplayTimeout() {\n        if (this.autoplaySpeed) {\n            if (this.autoplayTimeout) {\n                this.autoplayTimeout.dispose();\n            }\n            this.autoplayTimeout = new AutoplayTimeout(() => this.next(), this.autoplaySpeed);\n        }\n    }\n    /**\n     * Run the loop to do all the necessary work for the carousel.\n     */\n    onRaf() {\n        this.raf.read(() => {\n            if (!this.condition()) {\n                // Don't continue autoplay timing when the carousel isn't running\n                this.pause();\n                return;\n            }\n            else {\n                this.unpause();\n            }\n            if (this.isBeingInteractedWith()) {\n                this.resetAutoplayTimeout();\n            }\n            const activeSlide = this.getActiveSlide();\n            if (activeSlide !== this.lastActiveSlide) {\n                this.lastActiveSlide = activeSlide;\n                if (activeSlide) {\n                    this.updateClasses(activeSlide);\n                }\n            }\n            if (this.transitionTarget !== null) {\n                const hasTransitionedToTarget = this.transition.hasTransitionedTo(this.transitionTarget);\n                if (hasTransitionedToTarget) {\n                    this.transitionTarget = null;\n                    this.eventManager.dispatch(CarouselEvent.AFTER_CHANGE, {\n                        carousel: this,\n                        currentSlide: this.getActiveSlide(),\n                        currentIndex: this.getActiveIndex(),\n                    });\n                    this.resetAutoplayTimeout();\n                }\n                else {\n                    this.transition.transition(this.transitionTarget);\n                }\n            }\n        });\n    }\n    /**\n     * Update the slide elements' CSS classes\n     * @param activeSlide\n     */\n    updateClasses(activeSlide) {\n        const slidesBefore = this.getSlidesBefore(activeSlide);\n        const slidesAfter = this.getSlidesAfter(activeSlide);\n        this.raf.write(() => {\n            // Create active slide\n            activeSlide.classList.add(this.activeCssClass);\n            activeSlide.classList.remove(this.beforeCssClass, this.afterCssClass);\n            activeSlide.setAttribute(this.distanceToActiveSlideAttr, '0');\n            slidesBefore.reverse().forEach((slide, index) => {\n                slide.classList.add(this.beforeCssClass);\n                slide.classList.remove(this.activeCssClass, this.afterCssClass);\n                slide.setAttribute(this.distanceToActiveSlideAttr, `${-index - 1}`);\n            });\n            slidesAfter.forEach((slide, index) => {\n                slide.classList.add(this.afterCssClass);\n                slide.classList.remove(this.activeCssClass, this.beforeCssClass);\n                slide.setAttribute(this.distanceToActiveSlideAttr, `${index + 1}`);\n            });\n        });\n    }\n}\n//# sourceMappingURL=carousel.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvdWkvY2Fyb3VzZWwvY2Fyb3VzZWwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvdWkvY2Fyb3VzZWwvY2Fyb3VzZWwuanM/ZWY4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBhcnJheWYgZnJvbSAnLi4vLi4vYXJyYXlmL2FycmF5Zic7XG5pbXBvcnQgKiBhcyBtYXRoZiBmcm9tICcuLi8uLi9tYXRoZi9tYXRoZic7XG5pbXBvcnQgKiBhcyBzZXRmIGZyb20gJy4uLy4uL3NldGYvc2V0Zic7XG5pbXBvcnQgeyBDc3NDbGFzc2VzT25seSwgRHJhZ2dhYmxlU2xpZGUgfSBmcm9tICcuL3RyYW5zaXRpb25zJztcbmltcG9ydCB7IEV2ZW50TWFuYWdlciB9IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQgeyBSYWYgfSBmcm9tICcuLi8uLi9yYWYvcmFmJztcbmNvbnN0IERFRkFVTFRfRElTVEFOQ0VfVE9fQUNUSVZFX1NMSURFX0FUVFIgPSAnZGF0YS1pbmRleCc7XG4vKipcbiAqIEZvciByZWFkYWJpbGl0eSwgc3BlY2lmaWVzIHdoaWNoIGhhbGYgc2hvdWxkIGJlIGdvdHRlbiBieSBwcm92aWRpbmcgYVxuICogZGlyZWN0aW9uIHRvIGxvb3AgdGhyb3VnaCBlbGVtZW50cy5cbiAqL1xudmFyIERpcmVjdGlvbjtcbihmdW5jdGlvbiAoRGlyZWN0aW9uKSB7XG4gICAgRGlyZWN0aW9uW0RpcmVjdGlvbltcIkxFRlRcIl0gPSAtMV0gPSBcIkxFRlRcIjtcbiAgICBEaXJlY3Rpb25bRGlyZWN0aW9uW1wiUklHSFRcIl0gPSAxXSA9IFwiUklHSFRcIjtcbn0pKERpcmVjdGlvbiB8fCAoRGlyZWN0aW9uID0ge30pKTtcbi8qKlxuICogQ2Fyb3VzZWwgZXZlbnRzLlxuICovXG5leHBvcnQgdmFyIENhcm91c2VsRXZlbnQ7XG4oZnVuY3Rpb24gKENhcm91c2VsRXZlbnQpIHtcbiAgICBDYXJvdXNlbEV2ZW50W1wiQkVGT1JFX0NIQU5HRVwiXSA9IFwiYmVmb3JlQ2hhbmdlXCI7XG4gICAgQ2Fyb3VzZWxFdmVudFtcIkFGVEVSX0NIQU5HRVwiXSA9IFwiYWZ0ZXJDaGFuZ2VcIjtcbn0pKENhcm91c2VsRXZlbnQgfHwgKENhcm91c2VsRXZlbnQgPSB7fSkpO1xuLyoqXG4gKiBEZWZhdWx0IGNsYXNzZXMgYXBwbGllZCB0byBzbGlkZSBlbGVtZW50cy5cbiAqL1xudmFyIERlZmF1bHRDc3NDbGFzcztcbihmdW5jdGlvbiAoRGVmYXVsdENzc0NsYXNzKSB7XG4gICAgRGVmYXVsdENzc0NsYXNzW1wiQUNUSVZFX1NMSURFXCJdID0gXCJhY3RpdmVcIjtcbiAgICBEZWZhdWx0Q3NzQ2xhc3NbXCJCRUZPUkVfU0xJREVcIl0gPSBcImJlZm9yZVwiO1xuICAgIERlZmF1bHRDc3NDbGFzc1tcIkFGVEVSX1NMSURFXCJdID0gXCJhZnRlclwiO1xufSkoRGVmYXVsdENzc0NsYXNzIHx8IChEZWZhdWx0Q3NzQ2xhc3MgPSB7fSkpO1xuLyoqXG4gKiBJbnRlcm5hbCBjbGFzcyB1c2VkIHRvIG1hbmFnZSBhdXRvcGxheSBiZWhhdmlvdXIuXG4gKlxuICogU3RvcmVzIGFuZCBoYW5kbGVzIHRoZSBpbmZvcm1hdGlvbiBuZWVkZWQgdG8gcGF1c2UgYW5kIHJlc3VtZSB0cmlnZ2VycyB1c2luZ1xuICogYSB0aW1lb3V0LlxuICovXG5jbGFzcyBBdXRvcGxheVRpbWVvdXQge1xuICAgIGNvbnN0cnVjdG9yKGNhbGxiYWNrLCBkZWxheSkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICAgICAgdGhpcy50aW1lUGFzc2VkID0gMDtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChjYWxsYmFjaywgZGVsYXkpO1xuICAgICAgICB0aGlzLmxhc3RTdGFydFRpbWUgPSArbmV3IERhdGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB0aW1lb3V0IGF1dG9wbGF5IHRpbWVvdXQgaXMgY3VycmVudGx5IHBhdXNlZC9kaXNhYmxlZC5cbiAgICAgKi9cbiAgICBpc1BhdXNlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGltZW91dCA9PT0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzYWJsZSB0aGUgdGltZW91dCB0byBwYXVzZSB0aGUgYXV0cGxheS5cbiAgICAgKi9cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgLy8gV2UgY2hlY2sgaWYgdGhlIGNhcm91c2VsIGlzIGFscmVhZHkgcGF1c2VkIHRvIGVuc3VyZSBwYXVzZSgpIGlzIHNhZmUgdG9cbiAgICAgICAgLy8gY2FsbCBtdWx0aXBsZSB0aW1lcy5cbiAgICAgICAgLy8gSWYgbm90IHRoZSB2YWx1ZSBpbiB0aW1lUGFzc2VkIHNsb3dseSBhY2N1bXVsYXRlcyB3aXRoIHRoZSB0aW1lIGJldHdlZW5cbiAgICAgICAgLy8gcGF1c2UoKSBjYWxscy5cbiAgICAgICAgaWYgKHRoaXMuaXNQYXVzZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGltZVBhc3NlZCArPSArbmV3IERhdGUoKSAtIHRoaXMubGFzdFN0YXJ0VGltZTtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgdGltZW91dCB3aXRoIHRoZSB0aW1lIHJlbWFpbmluZyB3aGVuIHRoZSBhdXRvcGxheSB3YXMgcGF1c2VkLlxuICAgICAqL1xuICAgIHVucGF1c2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1BhdXNlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLmNhbGxiYWNrLCB0aGlzLmRlbGF5IC0gdGhpcy50aW1lUGFzc2VkKTtcbiAgICAgICAgdGhpcy5sYXN0U3RhcnRUaW1lID0gK25ldyBEYXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENhcm91c2VsIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29udGFpbmVyIFBhcmVudCBlbGVtZW50IG9mIHNsaWRlcy5cbiAgICAgKiBFbGVtZW50IHRoYXQgYWN0cyBhcyB0aGUgY2Fyb3VzZWwsIGluIHdoaWNoIGFsbCBzbGlkZXMgYXJlIGNvbnRhaW5lZC5cbiAgICAgKiBEb2VzIG5vdCBuZWVkIHRvIGJlIHRoZSBkaXJlY3QgcGFyZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHNsaWRlcyBIVE1MRWxlbWVudHMgY29udGFpbmluZyBzbGlkZSBjb250ZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbmRpdGlvbiBVbmRlciB3aGF0IGNvbmRpdGlvbnMgdGhlIGNhcm91c2VsIHNob3VsZCBydW5cbiAgICAgKiBAcGFyYW0gYWN0aXZlQ3NzQ2xhc3MgQ2xhc3MgdG8gYXBwbHkgdG8gYWN0aXZlIHNsaWRlLlxuICAgICAqIEBwYXJhbSBiZWZvcmVDc3NDbGFzcyBDbGFzcyB0byBhcHBseSB0byBzbGlkZXMgYmVmb3JlIGFjdGl2ZSBzbGlkZS5cbiAgICAgKiBAcGFyYW0gYWZ0ZXJDc3NDbGFzcyBDbGFzcyB0byBhcHBseSB0byBzbGlkZXMgYWZ0ZXIgYWN0aXZlIHNsaWRlLlxuICAgICAqIEBwYXJhbSBkaXN0YW5jZVRvQWN0aXZlU2xpZGVBdHRyIFNsaWRlIGF0dHJpYnV0ZSBvbiB3aGljaCB0aGUgaW5kZXhcbiAgICAgKiAgICAgZGlzdGFuY2UgdG8gdGhlIGN1cnJlbnRseSBhY3RpdmUgc2xpZGUgaXMgc2V0LlxuICAgICAqIEBwYXJhbSBsb29wIFdoZXRoZXIgdGhlIGNhcm91c2VsIHNob3VsZCBiZSBhbGxvd2VkIHRvIGxvb3AuXG4gICAgICogQHBhcmFtIHRyYW5zaXRpb24gSG93IHRoZSBDYXJvdXNlbCBzaG91bGQgdHJhbnNpdGlvbi5cbiAgICAgKiBAcGFyYW0gYXV0b3BsYXlTcGVlZCBIb3cgbG9uZyB0aGUgY2Fyb3VzZWwgc2hvdWxkIHN0YXkgb24gYSBzbGlkZSAoaW4gbXMpXG4gICAgICogICAgIGJlZm9yZSB0cmFuc2l0aW9uaW5nIHRvIHRoZSBuZXh0IHNsaWRlLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lciwgc2xpZGVzLCB7IGNvbmRpdGlvbiA9ICgpID0+IHRydWUsIGFjdGl2ZUNzc0NsYXNzID0gRGVmYXVsdENzc0NsYXNzLkFDVElWRV9TTElERSwgYmVmb3JlQ3NzQ2xhc3MgPSBEZWZhdWx0Q3NzQ2xhc3MuQkVGT1JFX1NMSURFLCBhZnRlckNzc0NsYXNzID0gRGVmYXVsdENzc0NsYXNzLkFGVEVSX1NMSURFLCBkaXN0YW5jZVRvQWN0aXZlU2xpZGVBdHRyID0gREVGQVVMVF9ESVNUQU5DRV9UT19BQ1RJVkVfU0xJREVfQVRUUiwgbG9vcCA9IHRydWUsIHRyYW5zaXRpb24gPSB1bmRlZmluZWQsIGF1dG9wbGF5U3BlZWQgPSB1bmRlZmluZWQsIH0gPSB7fSkge1xuICAgICAgICBpZiAoc2xpZGVzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHN0YXJ0IGNhcm91c2VsIHdpdGhvdXQgc2xpZGVzJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yYWYgPSBuZXcgUmFmKCgpID0+IHRoaXMub25SYWYoKSk7XG4gICAgICAgIHRoaXMuYWN0aXZlQ3NzQ2xhc3MgPSBhY3RpdmVDc3NDbGFzcztcbiAgICAgICAgdGhpcy5iZWZvcmVDc3NDbGFzcyA9IGJlZm9yZUNzc0NsYXNzO1xuICAgICAgICB0aGlzLmFmdGVyQ3NzQ2xhc3MgPSBhZnRlckNzc0NsYXNzO1xuICAgICAgICB0aGlzLmRpc3RhbmNlVG9BY3RpdmVTbGlkZUF0dHIgPSBkaXN0YW5jZVRvQWN0aXZlU2xpZGVBdHRyO1xuICAgICAgICB0aGlzLmxvb3AgPSBsb29wO1xuICAgICAgICB0aGlzLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMubGFzdEFjdGl2ZVNsaWRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIgPSBuZXcgRXZlbnRNYW5hZ2VyKCk7XG4gICAgICAgIHRoaXMuc2xpZGVzID0gc2xpZGVzO1xuICAgICAgICBpZiAodHlwZW9mIHRyYW5zaXRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlICdjc3MnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zaXRpb24gPSBuZXcgQ3NzQ2xhc3Nlc09ubHkoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZHJhZ2dhYmxlJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uID0gbmV3IERyYWdnYWJsZVNsaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIHRyYW5zaXRpb24gdHlwZSBcIiR7dHJhbnNpdGlvbn1cIiBwYXNzZWQgdG8gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ2Fyb3VzZWwuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uIHx8IG5ldyBDc3NDbGFzc2VzT25seSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhbnNpdGlvblRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMuYXV0b3BsYXlTcGVlZCA9IGF1dG9wbGF5U3BlZWQ7XG4gICAgICAgIHRoaXMuYXV0b3BsYXlUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zeW5jZWRDYXJvdXNlbHMgPSBuZXcgU2V0KFt0aGlzXSk7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGNhcm91c2VsIGlzIGRpc2FibGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgaXNEaXNhYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmNvbmRpdGlvbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGNhcm91c2VsIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBpc0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmRpdGlvbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGFuZ2UgdGhlIGFjdGl2ZSBzbGlkZSB0byB0aGUgZ2l2ZW4gc2xpZGUgYnkgZWl0aGVyIGluZGV4IG9yIGVsZW1lbnQuXG4gICAgICovXG4gICAgZ29Ubyh0YXJnZXQsIGRyaXZlbkJ5U3luYyA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5nb1RvSW5kZXgodGFyZ2V0LCBkcml2ZW5CeVN5bmMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5nb1RvU2xpZGUodGFyZ2V0LCBkcml2ZW5CeVN5bmMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zaXRpb24gdGhlIGNhcm91c2VsIHRvIHRoZSBnaXZlbiBzbGlkZS5cbiAgICAgKi9cbiAgICBnb1RvU2xpZGUodGFyZ2V0U2xpZGUsIGRyaXZlbkJ5U3luYyA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQmVpbmdJbnRlcmFjdGVkV2l0aCgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudHJhbnNpdGlvblRhcmdldCA9PT0gdGFyZ2V0U2xpZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zaXRpb25UYXJnZXQgPSB0YXJnZXRTbGlkZTtcbiAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIuZGlzcGF0Y2goQ2Fyb3VzZWxFdmVudC5CRUZPUkVfQ0hBTkdFLCB7XG4gICAgICAgICAgICBjYXJvdXNlbDogdGhpcyxcbiAgICAgICAgICAgIGN1cnJlbnRTbGlkZTogdGhpcy5nZXRBY3RpdmVTbGlkZSgpLFxuICAgICAgICAgICAgY3VycmVudEluZGV4OiB0aGlzLmdldEFjdGl2ZUluZGV4KCksXG4gICAgICAgICAgICBuZXh0U2xpZGU6IHRoaXMudHJhbnNpdGlvblRhcmdldCxcbiAgICAgICAgICAgIG5leHRJbmRleDogdGhpcy5nZXRJbmRleCh0aGlzLnRyYW5zaXRpb25UYXJnZXQpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFkcml2ZW5CeVN5bmMpIHtcbiAgICAgICAgICAgIHRoaXMuc3luY2VkQ2Fyb3VzZWxzLmZvckVhY2goY2Fyb3VzZWwgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjYXJvdXNlbCAhPT0gdGhpcykge1xuICAgICAgICAgICAgICAgICAgICBjYXJvdXNlbC5zeW5jVG8odGhpcy5nZXRJbmRleCh0YXJnZXRTbGlkZSksIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdXNlciBpcyBpbnRlcmFjdGluZyB3aXRoIHRoZSBjYXJvdXNlbC5cbiAgICAgKi9cbiAgICBpc0JlaW5nSW50ZXJhY3RlZFdpdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zaXRpb24uaXNJbnRlcmFjdGluZygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50bHkgYWN0aXZlIHNsaWRlLlxuICAgICAqL1xuICAgIGdldEFjdGl2ZVNsaWRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2l0aW9uLmdldEFjdGl2ZVNsaWRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgaW5kZXggb2YgdGhlIGN1cnJlbnRseSBhY3RpdmUgc2xpZGUuXG4gICAgICovXG4gICAgZ2V0QWN0aXZlSW5kZXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEluZGV4KHRoaXMuZ2V0QWN0aXZlU2xpZGUoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZmlyc3Qgc2xpZGUgaW4gdGhlIGNhcm91c2VsLlxuICAgICAqL1xuICAgIGdldEZpcnN0U2xpZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNsaWRlc1swXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBsYXN0IHNsaWRlIGluIHRoZSBjYXJvdXNlbC5cbiAgICAgKi9cbiAgICBnZXRMYXN0U2xpZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNsaWRlc1t0aGlzLnNsaWRlcy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBpbmRleCBvZiB0aGUgZ2l2ZW4gc2xpZGUgd2l0aGluIHRoZSBsaXN0IG9mIHNsaWRlcy5cbiAgICAgKiBAcGFyYW0gc2xpZGVcbiAgICAgKi9cbiAgICBnZXRJbmRleChzbGlkZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTbGlkZXMoKS5pbmRleE9mKHNsaWRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgY29weSBvZiB0aGUgbGlzdCBvZiBzbGlkZSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBnZXRTbGlkZXMoKSB7XG4gICAgICAgIHJldHVybiBbLi4udGhpcy5zbGlkZXNdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHNsaWRlcyBiZWZvcmUgdGhlIGdpdmVuIHNsaWRlLiBMb29waW5nIGlmIGFsbG93ZWQuXG4gICAgICogQHBhcmFtIHNsaWRlXG4gICAgICovXG4gICAgZ2V0U2xpZGVzQmVmb3JlKHNsaWRlKSB7XG4gICAgICAgIGlmICh0aGlzLmxvb3ApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNwbGl0U2xpZGVzSW5IYWxmKHNsaWRlLCBEaXJlY3Rpb24uTEVGVCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTbGlkZXMoKS5zbGljZSgwLCB0aGlzLmdldFNsaWRlcygpLmluZGV4T2Yoc2xpZGUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHNsaWRlcyBhZnRlciB0aGUgZ2l2ZW4gc2xpZGUuIExvb3BpbmcgaWYgYWxsb3dlZC5cbiAgICAgKiBAcGFyYW0gc2xpZGVcbiAgICAgKi9cbiAgICBnZXRTbGlkZXNBZnRlcihzbGlkZSkge1xuICAgICAgICBpZiAodGhpcy5sb29wKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zcGxpdFNsaWRlc0luSGFsZihzbGlkZSwgRGlyZWN0aW9uLlJJR0hUKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFNsaWRlcygpLnNsaWNlKHRoaXMuZ2V0U2xpZGVzKCkuaW5kZXhPZihzbGlkZSkgKyAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHbyB0byB0aGUgbmV4dCBzbGlkZS5cbiAgICAgKi9cbiAgICBuZXh0KCkge1xuICAgICAgICB0aGlzLnRyYW5zaXRpb25TbGlkZXNCeSgxKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR28gdG8gdGhlIHByZXZpb3VzIHNsaWRlLlxuICAgICAqL1xuICAgIHByZXYoKSB7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvblNsaWRlc0J5KC0xKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNpdGlvbiB0byB0aGUgc2xpZGUgd2l0aCB0aGUgZ2l2ZW4gaW5kZXguXG4gICAgICovXG4gICAgZ29Ub0luZGV4KGluZGV4LCBkcml2ZW5CeVN5bmMgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBjbGFtcGVkSW5kZXggPSB0aGlzLmdldENsYW1wZWRJbmRleChpbmRleCk7XG4gICAgICAgIHRoaXMuZ29Ub1NsaWRlKHRoaXMuZ2V0U2xpZGVCeUluZGV4KGNsYW1wZWRJbmRleCksIGRyaXZlbkJ5U3luYyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGdpdmVuIGV2ZW50IGlzIGZpcmVkLlxuICAgICAqL1xuICAgIG9uKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci5vbihldmVudCwgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSBnaXZlbiBldmVudCBpcyBmaXJlZC5cbiAgICAgKi9cbiAgICBvZmYoZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm9mZihldmVudCwgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHNsaWRlIGVsZW1lbnQgYXQgdGhlIGdpdmVuIGluZGV4IGluIHRoZSBsaXN0IG9mIHNsaWRlcy5cbiAgICAgKiBAcGFyYW0gaW5kZXhcbiAgICAgKi9cbiAgICBnZXRTbGlkZUJ5SW5kZXgoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2xpZGVzW2luZGV4XTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBudW1iZXIgb2Ygc2xpZGVzLlxuICAgICAqL1xuICAgIGdldFNsaWRlQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNsaWRlcy5sZW5ndGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIGNhcm91c2VsLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMucmFmLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIHRyYW5zaXRpb24gdGFyZ2V0LCBzdG9wIHRyYW5zaXRpb25pbmcuXG4gICAgICovXG4gICAgc3RvcFRyYW5zaXRpb24oKSB7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvblRhcmdldCA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsYW1wIGEgZ2l2ZW4gaW5kZXggdG8gbGFuZCB3aXRoaW4gdGhlIHBvc3NpYmxlIHNsaWRlIGluZGljZXMuXG4gICAgICogQHBhcmFtIGluZGV4XG4gICAgICovXG4gICAgZ2V0Q2xhbXBlZEluZGV4KGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHNsaWRlc0xlbmd0aCA9IHRoaXMuZ2V0U2xpZGVzKCkubGVuZ3RoO1xuICAgICAgICBpZiAodGhpcy5sb29wKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0aGYud3JhcChpbmRleCwgMCwgc2xpZGVzTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBtYXRoZi5jbGFtcCgwLCBzbGlkZXNMZW5ndGggLSAxLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU3luY2hyb25pemUgdGhpcyBjYXJvdXNlbCB3aXRoIHRoZSBnaXZlbiBjYXJvdXNlbHMuXG4gICAgICovXG4gICAgc3luYyguLi5jYXJvdXNlbHMpIHtcbiAgICAgICAgY29uc3QgbWFzdGVyU2V0ID0gc2V0Zi5tZXJnZSh0aGlzLnN5bmNlZENhcm91c2VscywgLi4uY2Fyb3VzZWxzLm1hcChjID0+IGMuc3luY2VkQ2Fyb3VzZWxzKSk7XG4gICAgICAgIHRoaXMuc3luY2VkQ2Fyb3VzZWxzID0gbWFzdGVyU2V0O1xuICAgICAgICBtYXN0ZXJTZXQuZm9yRWFjaChjID0+IChjLnN5bmNlZENhcm91c2VscyA9IG1hc3RlclNldCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXVzZSB0aGUgYXV0b3BsYXkgZnVuY3Rpb25hbGl0eSBvZiB0aGUgY2Fyb3VzZWwuXG4gICAgICovXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmF1dG9wbGF5VGltZW91dCkge1xuICAgICAgICAgICAgdGhpcy5hdXRvcGxheVRpbWVvdXQucGF1c2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbnBhdXNlIHRoZSBhdXRvcGxheSBmdW5jdGlvbmFsaXR5IG9mIHRoZSBjYXJvdXNlbC5cbiAgICAgKi9cbiAgICB1bnBhdXNlKCkge1xuICAgICAgICBpZiAodGhpcy5hdXRvcGxheVRpbWVvdXQpIHtcbiAgICAgICAgICAgIHRoaXMuYXV0b3BsYXlUaW1lb3V0LnVucGF1c2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGNhcm91c2VsIGF1dG9wbGF5IGlzIGN1cnJlbnRseSBwYXVzZWQuXG4gICAgICovXG4gICAgaXNQYXVzZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1dG9wbGF5VGltZW91dCA9PT0gbnVsbCB8fCB0aGlzLmF1dG9wbGF5VGltZW91dC5pc1BhdXNlZCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFuc2l0aW9uIHRvIHRoZSBzbGlkZSBgdmFsdWVgIHNsaWRlcyBhd2F5LlxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqL1xuICAgIHRyYW5zaXRpb25TbGlkZXNCeSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBuZXh0SW5kZXggPSB0aGlzLmdldFNsaWRlcygpLmluZGV4T2YodGhpcy50cmFuc2l0aW9uVGFyZ2V0IHx8IHRoaXMuZ2V0QWN0aXZlU2xpZGUoKSkgK1xuICAgICAgICAgICAgdmFsdWU7XG4gICAgICAgIHRoaXMuZ29Ub0luZGV4KG5leHRJbmRleCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN5bmMgdGhpcyBjYXJvdXNlbCB0byB0aGUgZ2l2ZW4gaW5kZXggaW4gdGhlIGdpdmVuIGNhcm91c2VsLlxuICAgICAqXG4gICAgICogQWxsb3cgZm9yIHN5bmNpbmcgd2l0aCBkdXBsaWNhdGUgc2xpZGVzLlxuICAgICAqXG4gICAgICogSW4gc29tZSBjYXNlcywgdG8gbWVldCBkZXNpZ24gcmVxdWlyZW1lbnRzIGEgY2Fyb3VzZWwgbWF5IG5lZWQgdG9cbiAgICAgKiBkdXBsaWNhdGUgc29tZSBzbGlkZXMsIGZvciBjYXNlcyB3aGVyZSBhIHNsaWRlIGxvb3BzIGJ1dCBkdWUgdG8gYSBzbWFsbFxuICAgICAqIG51bWJlciBvZiBzbGlkZXMsIGl0IG1heSBiZSB2aXNpYmxlIG9uIGVpdGhlciBzaWRlIHNpbXVsdGFuZW91c2x5LlxuICAgICAqXG4gICAgICogSW4gdGhpcyBjYXNlLCBpdCBtYXkgbm90IGJlIG5lY2Vzc2FyeSB0byBkdXBsaWNhdGUgb3RoZXIgc3luY2hyb25pemVkXG4gICAgICogY2Fyb3VzZWxzLlxuICAgICAqXG4gICAgICogVGFrZSB0aGUgZm9sbG93aW5nIGNhc2Ugd2hlcmUgdGhlcmUgYXJlIGltYWdlcyB0aGF0IGxvb3AgdGhhdCBuZWVkIHRvXG4gICAgICogYmUgZHVwbGljYXRlZCwgc3luY2hyb25pemVkIHdpdGggZG90cyBhY3RpbmcgYXMgbmF2aWdhdGlvbiwgYW5kIGEgdGhpcmRcbiAgICAgKiBjYXJvdXNlbCB3aXRoIGNvcHkgdGhhdCBjcm9zcy1mYWRlcyBkZXBlbmRpbmcgb24gdGhlIGFjdGl2ZSBpbWFnZS5cbiAgICAgKlxuICAgICAqIERPTSBUYWdzIDxhPiwgPGI+IGFuZCA8Yz4gYXJlIHVzZWQgYXMgc2hvcnRoYW5kIGZvciB0aGUgdmFyaW91cyBzbGlkZXMuXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiA8ZGl2IGNsYXNzPVwiaW1hZ2VzXCI+XG4gICAgICogICA8YT48L2E+XG4gICAgICogICA8Yj48L2I+XG4gICAgICogICA8Yz48L2M+XG4gICAgICogICA8YT48L2E+XG4gICAgICogICA8Yj48L2I+XG4gICAgICogICA8Yz48L2M+XG4gICAgICogPC9kaXY+XG4gICAgICogPGRpdiBjbGFzcz1cIm5hdi1kb3RzXCI+XG4gICAgICogICA8YT48L2E+XG4gICAgICogICA8Yj48L2I+XG4gICAgICogICA8Yz48L2M+XG4gICAgICogPC9kaXY+XG4gICAgICogPGRpdiBjbGFzcz1cImNvcHlcIj5cbiAgICAgKiAgIDxhPjwvYT5cbiAgICAgKiAgIDxiPjwvYj5cbiAgICAgKiAgIDxjPjwvYz5cbiAgICAgKiA8L2Rpdj5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIElmIHRoZSB1c2VyIGhhcyBtb3ZlZCB0aGUgaW1hZ2VzIHNvIHRoYXQgdGhlIGZvdXJ0aCBpbWFnZSAoYW4gPGE+KSB0YWdcbiAgICAgKiBpcyB2aXNpYmxlLCB3ZSB3b3VsZCB3YW50IHRoZSBmaXJzdCBzbGlkZSBpbiB0aGUgb3RoZXIgdHdvIHRvIGJlIHRoZVxuICAgICAqIGFjdGl2ZSBzbGlkZS5cbiAgICAgKlxuICAgICAqIElmIHRoZSB1c2VyIHdlcmUgdG8gY2xpY2sgb24gdGhlIG5hdmlnYXRpb24gdG8gZ28gdG8gdGhlIHNlY29uZCBzbGlkZSwgaXRcbiAgICAgKiB3b3VsZCBzZWVtIG9kZCBpZiB0aGUgaW1hZ2VzIHdlbnQgYmFja3dhcmRzIHBhc3QgdGhlIHRoaXJkIGltYWdlLCBhbmRcbiAgICAgKiB0aGVuIG9uIHRvIHRoZSBzZWNvbmQgaW1hZ2UuXG4gICAgICpcbiAgICAgKiBJbnN0ZWFkIGl0IHdvdWxkIHNlZW0gbW9yZSBuYXR1cmFsIGZvciB0aGUgc2xpZGUgdG8gYWR2YW5jZSB0byB0aGVcbiAgICAgKiBuZWFyZXN0IGNvcHkgb2YgdGhlIHNlY29uZCBpbWFnZSwgaW4gdGhpcyBjYXNlLCB0aGUgZmlmdGggc2xpZGUgaW4gdGhlXG4gICAgICogaW1hZ2VzIGNhcm91c2VsLlxuICAgICAqXG4gICAgICogV2UgYWxzbyBydW4gYSBtb2R1bHVzIG9uIHRoZSBnaXZlbiBpbmRleCwgZm9yIHRoZSBjYXNlIHdoZXJlIHRoaW5ncyBhcmVcbiAgICAgKiB0aGUgb3RoZXIgd2F5IGFyb3VuZCwgYW5kIHRoZSBjYXJvdXNlbCB3ZSBhcmUgc3luY2luZyB0byBoYXMgbW9yZSBzbGlkZXNcbiAgICAgKiB0aGFuIHRoZSBjdXJyZW50IGNhcm91c2VsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJhd0luZGV4XG4gICAgICogQHBhcmFtIGNhcm91c2VsXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzeW5jVG8ocmF3SW5kZXgsIGNhcm91c2VsKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gcmF3SW5kZXggJSB0aGlzLmdldFNsaWRlQ291bnQoKTtcbiAgICAgICAgLy8gQXNzdW1pbmcgdGhpcyBjYXJvdXNlbCBoYXMgbW9yZSBzbGlkZXMgdGhhbiB0aGUgY2Fyb3VzZWwgd2UgYXJlIHN5bmNpbmdcbiAgICAgICAgLy8gdG86XG4gICAgICAgIC8vIFVzZSBtb2R1bHVzIHRvIGdldCB0aGUgZXF1aXZhbGVudCBpbmRleCBvZiB0aGUgY3VycmVudCB0cmFuc2l0aW9uXG4gICAgICAgIC8vIHRhcmdldCwgYXMgaWYgaXQgd2VyZSBhIHNsaWRlIGluIHRoZSBjYXJvdXNlbCB3ZSBhcmUgc3luY2luZyB0by5cbiAgICAgICAgLy8gSWYgdGhlIHNsaWRlIGNvdW50cyBtYXRjaCB1cCwgdGhpcyBtb2R1bHVzIG9wZXJhdGlvbiB3aWxsIGJlIGEgbm8tb3AgYW5kXG4gICAgICAgIC8vIG5vIGhhcm0gaXMgZG9uZS5cbiAgICAgICAgY29uc3QgZXF1aXZhbGVudFRyYW5zaXRpb25UYXJnZXRJbmRleCA9IHRoaXMuZ2V0SW5kZXgodGhpcy50cmFuc2l0aW9uVGFyZ2V0KSAlIGNhcm91c2VsLmdldFNsaWRlQ291bnQoKTtcbiAgICAgICAgLy8gSWYgd2UgYXJlIGFscmVhZHkgb24gYW4gZXF1aXZhbGVudCBpbmRleCwgd2UgY2FuIHN0b3AgYW5kIHJldHVybiBlYXJseS5cbiAgICAgICAgaWYgKGVxdWl2YWxlbnRUcmFuc2l0aW9uVGFyZ2V0SW5kZXggPT09IGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIGN1cnJlbnQgY2Fyb3VzZWwgaGFzIG1vcmUgc2xpZGVzIHRoYW4gdGhlIHN5bmNpbmcgY2Fyb3VzZWwsXG4gICAgICAgIC8vIHRoZW4gd2Ugd2FudCB0byBncmFiIHRoZSBjbG9zZXN0IGVxdWl2YWxlbnQgc2xpZGUgdG8gdHJhbnNpdGlvbiB0by5cbiAgICAgICAgaWYgKHRoaXMuZ2V0U2xpZGVDb3VudCgpID4gY2Fyb3VzZWwuZ2V0U2xpZGVDb3VudCgpKSB7XG4gICAgICAgICAgICAvLyBCdWlsZCBhIHNldCBvZiBhbGwgZXF1aXZhbGVudCBpbmRpY2VzLlxuICAgICAgICAgICAgY29uc3QgZXF1aXZhbGVudEluZGljZXMgPSBbXTtcbiAgICAgICAgICAgIGxldCBlcXVpdmFsZW50SW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIHdoaWxlIChlcXVpdmFsZW50SW5kZXggPCB0aGlzLmdldFNsaWRlQ291bnQoKSkge1xuICAgICAgICAgICAgICAgIGVxdWl2YWxlbnRJbmRpY2VzLnB1c2goZXF1aXZhbGVudEluZGV4KTtcbiAgICAgICAgICAgICAgICBlcXVpdmFsZW50SW5kZXggKz0gY2Fyb3VzZWwuZ2V0U2xpZGVDb3VudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5nb1RvKGFycmF5Zi5taW4oZXF1aXZhbGVudEluZGljZXMsIGkgPT4gTWF0aC5hYnModGhpcy5nZXRBY3RpdmVJbmRleCgpIC0gaSkpLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZ29UbyhpbmRleCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBpbnRlZ2VyIG51bWJlciBmb3IgaGFsZiBvZiB0aGUgc2xpZGVzLiBUaGUgcGFyYW1ldGVyXG4gICAgICogc3BlY2lmaWVzIHdoZXRoZXIsIGlmIGdpdmVuIGFuIGFycmF5IGNvbnRhaW5pbmcgYW4gb2RkIG51bWJlciBvZiBlbGVtZW50cyxcbiAgICAgKiB0aGUgbGFyZ2VyIG9kZCB2YWx1ZSBmb3IgaGFsZiBzaG91bGQgYmUgcmV0dXJuZWQsIG9yIHRoZSBzbWFsbGVyIGV2ZW5cbiAgICAgKiBudW1iZXIuXG4gICAgICogQHBhcmFtIHdlaWdodE9kZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0SGFsZk9mU2xpZGVDb3VudCh3ZWlnaHRPZGQpIHtcbiAgICAgICAgY29uc3QgaGFsZkxlbmd0aCA9ICh0aGlzLmdldFNsaWRlcygpLmxlbmd0aCAtIDEpIC8gMjtcbiAgICAgICAgaWYgKGhhbGZMZW5ndGggJSAyID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFsZkxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh3ZWlnaHRPZGQpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwoaGFsZkxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihoYWxmTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gaGFsZiBvZiB0aGUgc2xpZGVzIGJ5IHRha2luZyBzbGlkZXMgdG8gb25lIHNpZGUgb2YgdGhlIGdpdmVuIHNsaWRlLlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBhc3N1bWVzIGxvb3BpbmcgaXMgZW5hYmxlZCBhbmQgbG9vcHMgYXJvdW5kIGlmIG5lZWRlZCB0byBnZXRcbiAgICAgKiBoYWxmIG9mIHRoZSBzbGlkZXMuXG4gICAgICovXG4gICAgc3BsaXRTbGlkZXNJbkhhbGYoc2xpZGUsIGRpcmVjdGlvbikge1xuICAgICAgICBjb25zdCB0YXJnZXRMZW5ndGggPSB0aGlzLmdldEhhbGZPZlNsaWRlQ291bnQoZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uUklHSFQpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IGluZGV4VG9BZGQgPSB0aGlzLmdldEluZGV4KHNsaWRlKTtcbiAgICAgICAgd2hpbGUgKHJlc3VsdC5sZW5ndGggPCB0YXJnZXRMZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIEJ1aWxkIHRoZSBsb29wZWQgaW5kZXhcbiAgICAgICAgICAgIGluZGV4VG9BZGQgPSBtYXRoZi53cmFwKGluZGV4VG9BZGQgKyBkaXJlY3Rpb24sIDAsIHRoaXMuZ2V0U2xpZGVDb3VudCgpKTtcbiAgICAgICAgICAgIGNvbnN0IHNsaWRlVG9BZGQgPSB0aGlzLmdldFNsaWRlQnlJbmRleChpbmRleFRvQWRkKTtcbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09IERpcmVjdGlvbi5SSUdIVCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHNsaWRlVG9BZGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnVuc2hpZnQoc2xpZGVUb0FkZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0dXAgaW5pdGlhbCB2YWx1ZXMuXG4gICAgICovXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uLmluaXQodGhpcyk7XG4gICAgICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gICAgICAgIHRoaXMucmVzZXRBdXRvcGxheVRpbWVvdXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGN1cnJlbnQgYXV0b3BsYXkgdGltZW91dCBhbmQgcHJlcCBhIG5ldyBvbmUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICByZXNldEF1dG9wbGF5VGltZW91dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuYXV0b3BsYXlTcGVlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXV0b3BsYXlUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdXRvcGxheVRpbWVvdXQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hdXRvcGxheVRpbWVvdXQgPSBuZXcgQXV0b3BsYXlUaW1lb3V0KCgpID0+IHRoaXMubmV4dCgpLCB0aGlzLmF1dG9wbGF5U3BlZWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJ1biB0aGUgbG9vcCB0byBkbyBhbGwgdGhlIG5lY2Vzc2FyeSB3b3JrIGZvciB0aGUgY2Fyb3VzZWwuXG4gICAgICovXG4gICAgb25SYWYoKSB7XG4gICAgICAgIHRoaXMucmFmLnJlYWQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNvbmRpdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgY29udGludWUgYXV0b3BsYXkgdGltaW5nIHdoZW4gdGhlIGNhcm91c2VsIGlzbid0IHJ1bm5pbmdcbiAgICAgICAgICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnBhdXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc0JlaW5nSW50ZXJhY3RlZFdpdGgoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRBdXRvcGxheVRpbWVvdXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVNsaWRlID0gdGhpcy5nZXRBY3RpdmVTbGlkZSgpO1xuICAgICAgICAgICAgaWYgKGFjdGl2ZVNsaWRlICE9PSB0aGlzLmxhc3RBY3RpdmVTbGlkZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdEFjdGl2ZVNsaWRlID0gYWN0aXZlU2xpZGU7XG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZVNsaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ2xhc3NlcyhhY3RpdmVTbGlkZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNpdGlvblRhcmdldCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc1RyYW5zaXRpb25lZFRvVGFyZ2V0ID0gdGhpcy50cmFuc2l0aW9uLmhhc1RyYW5zaXRpb25lZFRvKHRoaXMudHJhbnNpdGlvblRhcmdldCk7XG4gICAgICAgICAgICAgICAgaWYgKGhhc1RyYW5zaXRpb25lZFRvVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRhcmdldCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKENhcm91c2VsRXZlbnQuQUZURVJfQ0hBTkdFLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJvdXNlbDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTbGlkZTogdGhpcy5nZXRBY3RpdmVTbGlkZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEluZGV4OiB0aGlzLmdldEFjdGl2ZUluZGV4KCksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0QXV0b3BsYXlUaW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zaXRpb24udHJhbnNpdGlvbih0aGlzLnRyYW5zaXRpb25UYXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgc2xpZGUgZWxlbWVudHMnIENTUyBjbGFzc2VzXG4gICAgICogQHBhcmFtIGFjdGl2ZVNsaWRlXG4gICAgICovXG4gICAgdXBkYXRlQ2xhc3NlcyhhY3RpdmVTbGlkZSkge1xuICAgICAgICBjb25zdCBzbGlkZXNCZWZvcmUgPSB0aGlzLmdldFNsaWRlc0JlZm9yZShhY3RpdmVTbGlkZSk7XG4gICAgICAgIGNvbnN0IHNsaWRlc0FmdGVyID0gdGhpcy5nZXRTbGlkZXNBZnRlcihhY3RpdmVTbGlkZSk7XG4gICAgICAgIHRoaXMucmFmLndyaXRlKCgpID0+IHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhY3RpdmUgc2xpZGVcbiAgICAgICAgICAgIGFjdGl2ZVNsaWRlLmNsYXNzTGlzdC5hZGQodGhpcy5hY3RpdmVDc3NDbGFzcyk7XG4gICAgICAgICAgICBhY3RpdmVTbGlkZS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuYmVmb3JlQ3NzQ2xhc3MsIHRoaXMuYWZ0ZXJDc3NDbGFzcyk7XG4gICAgICAgICAgICBhY3RpdmVTbGlkZS5zZXRBdHRyaWJ1dGUodGhpcy5kaXN0YW5jZVRvQWN0aXZlU2xpZGVBdHRyLCAnMCcpO1xuICAgICAgICAgICAgc2xpZGVzQmVmb3JlLnJldmVyc2UoKS5mb3JFYWNoKChzbGlkZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBzbGlkZS5jbGFzc0xpc3QuYWRkKHRoaXMuYmVmb3JlQ3NzQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHNsaWRlLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5hY3RpdmVDc3NDbGFzcywgdGhpcy5hZnRlckNzc0NsYXNzKTtcbiAgICAgICAgICAgICAgICBzbGlkZS5zZXRBdHRyaWJ1dGUodGhpcy5kaXN0YW5jZVRvQWN0aXZlU2xpZGVBdHRyLCBgJHstaW5kZXggLSAxfWApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzbGlkZXNBZnRlci5mb3JFYWNoKChzbGlkZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBzbGlkZS5jbGFzc0xpc3QuYWRkKHRoaXMuYWZ0ZXJDc3NDbGFzcyk7XG4gICAgICAgICAgICAgICAgc2xpZGUuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmFjdGl2ZUNzc0NsYXNzLCB0aGlzLmJlZm9yZUNzc0NsYXNzKTtcbiAgICAgICAgICAgICAgICBzbGlkZS5zZXRBdHRyaWJ1dGUodGhpcy5kaXN0YW5jZVRvQWN0aXZlU2xpZGVBdHRyLCBgJHtpbmRleCArIDF9YCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2Fyb3VzZWwuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/ui/carousel/carousel.js\n");

/***/ }),

/***/ "./lib/ui/carousel/draggable-slide.js":
/*!********************************************!*\
  !*** ./lib/ui/carousel/draggable-slide.js ***!
  \********************************************/
/*! exports provided: DraggableSlide */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DraggableSlide\", function() { return DraggableSlide; });\n/* harmony import */ var _arrayf_arrayf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../arrayf/arrayf */ \"./lib/arrayf/arrayf.js\");\n/* harmony import */ var _dom_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../dom/dom */ \"./lib/dom/dom.js\");\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _dom_cached_mouse_tracker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../dom/cached-mouse-tracker */ \"./lib/dom/cached-mouse-tracker.js\");\n/* harmony import */ var _mathf_cubic_bezier__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../mathf/cubic-bezier */ \"./lib/mathf/cubic-bezier.js\");\n/* harmony import */ var _map_default_map__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../map/default-map */ \"./lib/map/default-map.js\");\n/* harmony import */ var _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _raf_raf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../raf/raf */ \"./lib/raf/raf.js\");\n\n\n\n\n\n\n\n\n/**\n * Small enum for readability when traversing slide indices.\n */\nvar Direction;\n(function (Direction) {\n    Direction[Direction[\"LEFT\"] = -1] = \"LEFT\";\n    Direction[Direction[\"RIGHT\"] = 1] = \"RIGHT\";\n})(Direction || (Direction = {}));\n/**\n * Encapsulates information around a slide that needs to be transitioned to.\n */\nclass TransitionTarget {\n    constructor(target, timeRange, startDistance) {\n        this.target = target;\n        this.timeRange = timeRange;\n        this.startDistance = startDistance;\n    }\n}\n/**\n * Track the information associated with a user interaction.\n */\nclass Interaction {\n    constructor(startX, startTime) {\n        this.startX = startX;\n        this.startTime = startTime;\n        this.lastMouseX = startX;\n    }\n}\n/**\n * Return the x translation amount from the given element's transform.\n */\nfunction getTranslateX(el) {\n    const transform = _dom_dom__WEBPACK_IMPORTED_MODULE_1__[\"getComputedStyle\"](el).transform;\n    if (!transform.length || transform === 'none') {\n        return 0;\n    }\n    // Grab the tx value from the matrix\n    return parseFloat(transform.slice(7, -1).split(',')[4]);\n}\n/**\n * A transition for a carousel that allows the user to drag and fling slides\n * around. Similar to the default interaction for a \"slick\" carousel.\n *\n * For proper operation, the slide elements within the carousel should be\n * lined up side-by-side and overflowing the container. The container should\n * be overflow: hidden; The slide elements themselves should not have transforms\n * applied. Children of the slide elements however can be transformed as needed\n * to achieve necessary visual effects.\n */\nclass DraggableSlide {\n    /**\n     * @param transitionTime Determines how long in ms it takes to transition from\n     *     one slide to another.\n     * @param easingFunction Easing function used to adjust slides transitions.\n     */\n    constructor({ transitionTime = 500, easingFunction = DraggableSlide.DEFAULT_EASING, } = {}) {\n        this.raf = new _raf_raf__WEBPACK_IMPORTED_MODULE_7__[\"Raf\"](() => this.onRaf());\n        this.domWatcher = new _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_6__[\"DomWatcher\"]();\n        this.easingFunction = easingFunction;\n        this.transitionTime = transitionTime;\n        this.transitionTarget = null;\n        this.resizeTimeout = null;\n        this.mouseTracker = new _dom_cached_mouse_tracker__WEBPACK_IMPORTED_MODULE_3__[\"CachedMouseTracker\"]();\n        this.interaction = null;\n        // Tracks the current X translation of each slide.\n        // Used so that slide can be adjusted for looping and dragging within the\n        // same frame without introducing layout thrashing by updating the DOM\n        // twice.\n        this.xTranslate = _map_default_map__WEBPACK_IMPORTED_MODULE_5__[\"DefaultMap\"].usingFunction((el) => getTranslateX(el));\n        this.lastXTranslate = _map_default_map__WEBPACK_IMPORTED_MODULE_5__[\"DefaultMap\"].usingFunction(() => null);\n        this.startInteractionCallback = () => this.startInteractionOnMouseUpdate();\n    }\n    /**\n     * Sums the offsetWidth of the given slides.\n     *\n     * Was repeated enough to seem worth extracting.\n     */\n    static sumWidth(slides) {\n        return _mathf_mathf__WEBPACK_IMPORTED_MODULE_2__[\"sum\"](slides.map(slide => slide.offsetWidth));\n    }\n    /**\n     * This function is called by the carousel when the transition is passed to\n     * the carousel. Until this function is called the DraggableSlide instance is\n     * more or less inert.\n     */\n    init(carousel) {\n        this.initResizeHandler();\n        this.carousel = carousel;\n        // Transition to the given active slide\n        this.raf.read(() => this.transition(carousel.getFirstSlide(), 0));\n        this.initDraggableSlides();\n        this.raf.start();\n    }\n    /**\n     * Updates slide positioning in response to user interaction and transition\n     * animations.\n     */\n    onRaf() {\n        if (this.carousel.isDisabled()) {\n            return;\n        }\n        this.raf.read(() => {\n            if (!this.isInteracting() && this.transitionTarget) {\n                this.renderTransition();\n            }\n            else {\n                if (this.isInteracting()) {\n                    this.renderInteraction();\n                }\n                this.loopSlides();\n            }\n            // Applies the scheduled X translations set up in other functions.\n            // This ensures that splitting slides for looping, transitions and\n            // interactions can all adjust the X position without updating the DOM\n            // more than once per frame.\n            this.applyXTranslations();\n        });\n    }\n    /**\n     * Transition to the given target within the given time.\n     * @param targetEl\n     * @param optTransitionTime Time the transition should take, uses value\n     *    provided to the constructor is no value is provided for this call.\n     */\n    transition(targetEl, optTransitionTime = null) {\n        if (this.transitionTarget !== null &&\n            this.transitionTarget.target === targetEl) {\n            return; // Don't reset target time\n        }\n        const transitionTime = optTransitionTime === null ? this.transitionTime : optTransitionTime;\n        const now = performance.now();\n        const timeRange = [now, now + transitionTime];\n        const distance = this.getDistanceToCenter(targetEl);\n        this.transitionTarget = new TransitionTarget(targetEl, timeRange, distance);\n    }\n    /**\n     * Returns the currently active slide.\n     */\n    getActiveSlide() {\n        return _arrayf_arrayf__WEBPACK_IMPORTED_MODULE_0__[\"min\"](this.carousel.getSlides(), \n        // Start with the one closest to the center\n        el => {\n            return Math.abs(this.getDistanceBetween(el, this.carousel.container));\n        }, \n        // If neither slide was last active default to the one that appears first\n        // in the list of slides\n        el => -1 * this.carousel.getIndex(el));\n    }\n    /**\n     * Returns true if the carousel has transitioned to the given slide.\n     * @param slide\n     */\n    hasTransitionedTo(slide) {\n        return this.getDistanceToCenter(slide) === 0;\n    }\n    /**\n     * Returns true if the user is interacting with the slides.\n     */\n    isInteracting() {\n        return this.interaction !== null;\n    }\n    /**\n     * Dispose of the transition.\n     */\n    dispose() {\n        this.resizeTimeout && window.clearTimeout(this.resizeTimeout);\n        this.mouseTracker.dispose();\n        this.domWatcher.dispose();\n        this.xTranslate.clear();\n        this.lastXTranslate.clear();\n    }\n    initResizeHandler() {\n        this.domWatcher.add({\n            element: window,\n            on: 'resize',\n            eventOptions: { passive: true },\n            callback: () => {\n                if (this.resizeTimeout) {\n                    window.clearTimeout(this.resizeTimeout);\n                }\n                this.resizeTimeout = window.setTimeout(() => this.transition(this.carousel.getActiveSlide(), 0));\n            },\n        });\n    }\n    /**\n     * Limit how far slides can be moved left/right if looping is not allowed for\n     * the carousel.\n     */\n    constrainXTranslations() {\n        if (this.carousel.loop) {\n            return;\n        }\n        const slides = this.carousel.getSlides();\n        // Allow for centering the last slide\n        const halfContainer = this.carousel.container.offsetWidth / 2;\n        const totalSlideWidth = DraggableSlide.sumWidth(slides);\n        const lastSlideWidth = slides.slice(-1)[0].offsetWidth;\n        const halfLastSlide = lastSlideWidth / 2;\n        const halfFirstSlide = slides[0].offsetWidth / 2;\n        const min = halfContainer - totalSlideWidth + halfLastSlide;\n        const max = halfContainer - halfFirstSlide;\n        slides.forEach((slide) => {\n            const currentX = this.xTranslate.get(slide);\n            this.xTranslate.set(slide, _mathf_mathf__WEBPACK_IMPORTED_MODULE_2__[\"clamp\"](min, max, currentX));\n        });\n    }\n    applyXTranslations() {\n        this.constrainXTranslations();\n        // Apply all X Translates in a single step\n        this.raf.write(() => {\n            this.xTranslate.forEach((xTranslate, slide) => {\n                // Don't re-apply the same style twice, it will just clog up the\n                // inspector and make debugging difficult.\n                if (this.lastXTranslate.get(slide) !== xTranslate) {\n                    slide.style.transform = `translateX(${xTranslate}px)`;\n                    this.lastXTranslate.set(slide, xTranslate);\n                }\n            });\n        });\n    }\n    renderInteraction() {\n        const currentMouseX = this.getMouseX();\n        const delta = currentMouseX - this.interaction.lastMouseX;\n        this.interaction.lastMouseX = currentMouseX;\n        this.carousel.getSlides().forEach(slide => {\n            this.translate(slide, delta);\n        });\n    }\n    /**\n     * Return the distance between the given slide and the center of the carousel.\n     */\n    getDistanceToCenter(slide) {\n        return this.getDistanceBetween(slide, this.carousel.container);\n    }\n    /**\n     * Setup the Draggable instances that will correspond to the slide elements.\n     */\n    initDraggableSlides() {\n        this.carousel.getSlides().forEach(slide => {\n            ['touchstart', 'mousedown'].forEach((event) => {\n                this.domWatcher.add({\n                    element: slide,\n                    on: event,\n                    eventOptions: { passive: true },\n                    callback: () => this.startInteraction(),\n                });\n            });\n            ['contextmenu', 'dragstart', 'touchend', 'mouseup'].forEach((event) => {\n                this.domWatcher.add({\n                    element: window,\n                    on: event,\n                    eventOptions: { passive: true },\n                    callback: () => this.endInteraction(),\n                });\n            });\n        });\n    }\n    /**\n     * Returns the eased transition percent.\n     *\n     * Extracted from renderTransition so its name can serve to help\n     * readability.\n     */\n    getEasedTransitionPercent() {\n        const transitionPercent = _mathf_mathf__WEBPACK_IMPORTED_MODULE_2__[\"inverseLerp\"](this.transitionTarget.timeRange[0], this.transitionTarget.timeRange[1], performance.now());\n        return this.easingFunction(transitionPercent);\n    }\n    /**\n     * Adjust CSS properties to reflect the current state of the transition\n     * animation to the current target.\n     */\n    renderTransition() {\n        const target = this.transitionTarget;\n        if (!target) {\n            return;\n        }\n        const easedPercent = this.getEasedTransitionPercent();\n        const targetDistance = _mathf_mathf__WEBPACK_IMPORTED_MODULE_2__[\"lerp\"](target.startDistance, 0, easedPercent);\n        const currentDistance = this.getDistanceToCenter(target.target);\n        const absDelta = Math.abs(targetDistance) - Math.abs(currentDistance);\n        const currentDistanceSign = Math.sign(currentDistance);\n        const xDelta = absDelta * currentDistanceSign;\n        this.carousel.getSlides().forEach(slide => this.translate(slide, xDelta));\n        this.loopSlides();\n        // If we're close enough, let's call it\n        if (easedPercent === 1) {\n            this.transitionTarget = null;\n        }\n    }\n    /**\n     * Translate the given slide by the given amoutn\n     * @param slide\n     * @param delta\n     */\n    translate(slide, delta) {\n        // Round to something reasonable\n        const final = Math.round((this.xTranslate.get(slide) + delta) * 100) / 100;\n        this.xTranslate.set(slide, final);\n    }\n    /**\n     * Adjust the split of slides around the currently active slide.\n     *\n     * Is a no-op for non-looping carousels.\n     *\n     * Ensures:\n     * - Slides cover as much of the carousel as possible.\n     * - Slides loop from one side to the other.\n     */\n    loopSlides() {\n        if (!this.carousel.loop) {\n            return;\n        }\n        // No matter what we need to loop adjust the target if we have one\n        const target = (this.transitionTarget && this.transitionTarget.target) ||\n            this.carousel.getActiveSlide();\n        const targetIndex = this.carousel.getIndex(target);\n        const slides = this.carousel.getSlides();\n        const slidesToAdjust = new Set(slides.filter(slide => slide !== target));\n        const leftEdge = target.getBoundingClientRect().left;\n        const left = {\n            area: Math.max(leftEdge, 0),\n            index: targetIndex,\n            direction: Direction.LEFT, // Direction to move in for the next slide\n        };\n        const clientWidth = _dom_dom__WEBPACK_IMPORTED_MODULE_1__[\"getScrollElement\"]().clientWidth;\n        const rightEdge = leftEdge + target.offsetWidth;\n        const right = {\n            area: Math.min(clientWidth, clientWidth - rightEdge),\n            index: targetIndex,\n            direction: Direction.RIGHT,\n        };\n        const sides = [left, right];\n        while (slidesToAdjust.size > 0) {\n            const side = _arrayf_arrayf__WEBPACK_IMPORTED_MODULE_0__[\"max\"](sides, s => s.area);\n            side.index += side.direction;\n            const slideToAdjust = slides[_mathf_mathf__WEBPACK_IMPORTED_MODULE_2__[\"wrap\"](side.index, 0, slides.length)];\n            side.area -= slideToAdjust.offsetWidth;\n            const desiredOffset = this.getDesiredDistanceBetween(target, slideToAdjust, side.direction);\n            const delta = desiredOffset - this.getDistanceBetween(slideToAdjust, target);\n            if (delta !== 0) {\n                this.translate(slideToAdjust, delta);\n            }\n            slidesToAdjust.delete(slideToAdjust);\n        }\n    }\n    /**\n     * Handle the start of user interaction with the carousel.\n     * @param event\n     */\n    startInteraction() {\n        var _a;\n        if (this.isInteracting()) {\n            return;\n        }\n        // Delay to the post-write step to allow the mouse cached position to\n        // catch up.\n        (_a = this.mouseTracker) === null || _a === void 0 ? void 0 : _a.on(_dom_cached_mouse_tracker__WEBPACK_IMPORTED_MODULE_3__[\"CachedMouseTrackerEvent\"].UPDATE, this.startInteractionCallback);\n    }\n    /**\n     * Starts a drag on the slide.\n     * @private\n     */\n    startInteractionOnMouseUpdate() {\n        // Start interaction only once for this call\n        this.cancelStartInteractionCallback();\n        this.interaction = new Interaction(this.getMouseX(), performance.now());\n        this.transitionTarget = null;\n        this.carousel.stopTransition();\n    }\n    /**\n     * Clear the callback for starting an interaction.\n     * @private\n     */\n    cancelStartInteractionCallback() {\n        var _a;\n        (_a = this.mouseTracker) === null || _a === void 0 ? void 0 : _a.off(_dom_cached_mouse_tracker__WEBPACK_IMPORTED_MODULE_3__[\"CachedMouseTrackerEvent\"].UPDATE, this.startInteractionCallback);\n    }\n    /**\n     * Handle the end of user interaction with the carousel.\n     * @param event\n     */\n    endInteraction() {\n        if (this.interaction === null) {\n            // Cancel the callback in case the interaction was about to start.\n            this.cancelStartInteractionCallback();\n            return;\n        }\n        const duration = performance.now() - this.interaction.startTime;\n        const activeSlide = this.getActiveSlide();\n        const distance = this.getDistanceToCenter(activeSlide);\n        const interactionDelta = this.getMouseX() - this.interaction.startX;\n        const velocity = duration > 700 ? interactionDelta : 0;\n        this.interaction = null;\n        const velocitySign = Math.sign(velocity);\n        const distanceSign = Math.sign(distance) * -1;\n        const allowsLooping = this.carousel.loop;\n        // If the slide is already centered, then it is clearly the slide to\n        // transition to.\n        if (distance === 0 || distanceSign === velocitySign || velocity === 0) {\n            this.carousel.goToSlide(activeSlide);\n        }\n        else {\n            // If the user was dragging to the right, transition in the opposite\n            // direction.\n            if (velocitySign === Direction.RIGHT) {\n                if (allowsLooping || activeSlide !== this.carousel.getFirstSlide()) {\n                    this.carousel.prev();\n                }\n                else {\n                    // If we are already at the first slide and can't loop, transition\n                    // as is.\n                    this.carousel.goToSlide(activeSlide);\n                }\n                // If the user was dragging to the left, transition in the opposite\n                // direction.\n            }\n            else {\n                if (allowsLooping || activeSlide !== this.carousel.getLastSlide()) {\n                    this.carousel.next();\n                }\n                else {\n                    // If we are already at the last slide and can't loop, transition\n                    // as is.\n                    this.carousel.goToSlide(activeSlide);\n                }\n            }\n        }\n    }\n    /**\n     * Return the current mouse position.\n     */\n    getMouseX() {\n        return this.mouseTracker.getClientPosition().x;\n    }\n    /**\n     * Return the X position of the given elements center.\n     *\n     * Factors in upcoming X translation changes.\n     */\n    getCenter(el) {\n        if (!el) {\n            return 0;\n        }\n        const rect = el.getBoundingClientRect();\n        const raw = rect.left + rect.width / 2;\n        const xTranslationDelta = this.xTranslate.get(el) - getTranslateX(el);\n        return raw + xTranslationDelta;\n    }\n    /**\n     * Returns the distance between the given elements centers.\n     *\n     * If no second element is given, the root element's center is used instead.\n     */\n    getDistanceBetween(a, b = null) {\n        // Gather up the information on the first element's center position.\n        const aCenter = this.getCenter(a);\n        // Gather the info on the second element's center position or the root\n        // element's center position.\n        if (b !== null) {\n            return aCenter - this.getCenter(b);\n        }\n        else {\n            return aCenter - document.children[0].clientWidth / 2;\n        }\n    }\n    /**\n     * Return how far the given slide is from the given target slide in terms of\n     * slide width in pixels.\n     */\n    getDesiredDistanceBetween(a, b, direction) {\n        if (a === b) {\n            return 0;\n        }\n        const inBetweenSlides = this.getInBetweenSlides(a, b, direction);\n        const inBetweenWidth = DraggableSlide.sumWidth(inBetweenSlides);\n        const halfSlide = b.offsetWidth / 2;\n        const halfTarget = a.offsetWidth / 2;\n        return (halfSlide + inBetweenWidth + halfTarget) * direction;\n    }\n    /**\n     * Return the slides in between the given start and end slide.\n     * If the carousel is looping, work in the given direction.\n     */\n    getInBetweenSlides(startSlide, endSlide, direction) {\n        const start = this.carousel.getIndex(startSlide);\n        const end = this.carousel.getIndex(endSlide) - direction;\n        if (start === end) {\n            return [];\n        }\n        else if (this.carousel.loop) {\n            return _arrayf_arrayf__WEBPACK_IMPORTED_MODULE_0__[\"loopSlice\"](this.carousel.getSlides(), end, start, -direction);\n        }\n        else {\n            // Use min and max to ensure that we slice in the right direction.\n            return this.carousel.getSlides().slice(Math.min(start + 1, end), Math.max(start, end + direction));\n        }\n    }\n}\nDraggableSlide.DEFAULT_EASING = new _mathf_cubic_bezier__WEBPACK_IMPORTED_MODULE_4__[\"CubicBezier\"](0.445, 0.05, 0.55, 0.95).easingFunction();\n//# sourceMappingURL=draggable-slide.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvdWkvY2Fyb3VzZWwvZHJhZ2dhYmxlLXNsaWRlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3VpL2Nhcm91c2VsL2RyYWdnYWJsZS1zbGlkZS5qcz83ZTEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGFycmF5ZiBmcm9tICcuLi8uLi9hcnJheWYvYXJyYXlmJztcbmltcG9ydCAqIGFzIGRvbSBmcm9tICcuLi8uLi9kb20vZG9tJztcbmltcG9ydCAqIGFzIG1hdGhmIGZyb20gJy4uLy4uL21hdGhmL21hdGhmJztcbmltcG9ydCB7IENhY2hlZE1vdXNlVHJhY2tlciwgQ2FjaGVkTW91c2VUcmFja2VyRXZlbnQsIH0gZnJvbSAnLi4vLi4vZG9tL2NhY2hlZC1tb3VzZS10cmFja2VyJztcbmltcG9ydCB7IEN1YmljQmV6aWVyIH0gZnJvbSAnLi4vLi4vbWF0aGYvY3ViaWMtYmV6aWVyJztcbmltcG9ydCB7IERlZmF1bHRNYXAgfSBmcm9tICcuLi8uLi9tYXAvZGVmYXVsdC1tYXAnO1xuaW1wb3J0IHsgRG9tV2F0Y2hlciB9IGZyb20gJy4uLy4uL2RvbS9kb20td2F0Y2hlcic7XG5pbXBvcnQgeyBSYWYgfSBmcm9tICcuLi8uLi9yYWYvcmFmJztcbi8qKlxuICogU21hbGwgZW51bSBmb3IgcmVhZGFiaWxpdHkgd2hlbiB0cmF2ZXJzaW5nIHNsaWRlIGluZGljZXMuXG4gKi9cbnZhciBEaXJlY3Rpb247XG4oZnVuY3Rpb24gKERpcmVjdGlvbikge1xuICAgIERpcmVjdGlvbltEaXJlY3Rpb25bXCJMRUZUXCJdID0gLTFdID0gXCJMRUZUXCI7XG4gICAgRGlyZWN0aW9uW0RpcmVjdGlvbltcIlJJR0hUXCJdID0gMV0gPSBcIlJJR0hUXCI7XG59KShEaXJlY3Rpb24gfHwgKERpcmVjdGlvbiA9IHt9KSk7XG4vKipcbiAqIEVuY2Fwc3VsYXRlcyBpbmZvcm1hdGlvbiBhcm91bmQgYSBzbGlkZSB0aGF0IG5lZWRzIHRvIGJlIHRyYW5zaXRpb25lZCB0by5cbiAqL1xuY2xhc3MgVHJhbnNpdGlvblRhcmdldCB7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCB0aW1lUmFuZ2UsIHN0YXJ0RGlzdGFuY2UpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMudGltZVJhbmdlID0gdGltZVJhbmdlO1xuICAgICAgICB0aGlzLnN0YXJ0RGlzdGFuY2UgPSBzdGFydERpc3RhbmNlO1xuICAgIH1cbn1cbi8qKlxuICogVHJhY2sgdGhlIGluZm9ybWF0aW9uIGFzc29jaWF0ZWQgd2l0aCBhIHVzZXIgaW50ZXJhY3Rpb24uXG4gKi9cbmNsYXNzIEludGVyYWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihzdGFydFgsIHN0YXJ0VGltZSkge1xuICAgICAgICB0aGlzLnN0YXJ0WCA9IHN0YXJ0WDtcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBzdGFydFRpbWU7XG4gICAgICAgIHRoaXMubGFzdE1vdXNlWCA9IHN0YXJ0WDtcbiAgICB9XG59XG4vKipcbiAqIFJldHVybiB0aGUgeCB0cmFuc2xhdGlvbiBhbW91bnQgZnJvbSB0aGUgZ2l2ZW4gZWxlbWVudCdzIHRyYW5zZm9ybS5cbiAqL1xuZnVuY3Rpb24gZ2V0VHJhbnNsYXRlWChlbCkge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IGRvbS5nZXRDb21wdXRlZFN0eWxlKGVsKS50cmFuc2Zvcm07XG4gICAgaWYgKCF0cmFuc2Zvcm0ubGVuZ3RoIHx8IHRyYW5zZm9ybSA9PT0gJ25vbmUnKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICAvLyBHcmFiIHRoZSB0eCB2YWx1ZSBmcm9tIHRoZSBtYXRyaXhcbiAgICByZXR1cm4gcGFyc2VGbG9hdCh0cmFuc2Zvcm0uc2xpY2UoNywgLTEpLnNwbGl0KCcsJylbNF0pO1xufVxuLyoqXG4gKiBBIHRyYW5zaXRpb24gZm9yIGEgY2Fyb3VzZWwgdGhhdCBhbGxvd3MgdGhlIHVzZXIgdG8gZHJhZyBhbmQgZmxpbmcgc2xpZGVzXG4gKiBhcm91bmQuIFNpbWlsYXIgdG8gdGhlIGRlZmF1bHQgaW50ZXJhY3Rpb24gZm9yIGEgXCJzbGlja1wiIGNhcm91c2VsLlxuICpcbiAqIEZvciBwcm9wZXIgb3BlcmF0aW9uLCB0aGUgc2xpZGUgZWxlbWVudHMgd2l0aGluIHRoZSBjYXJvdXNlbCBzaG91bGQgYmVcbiAqIGxpbmVkIHVwIHNpZGUtYnktc2lkZSBhbmQgb3ZlcmZsb3dpbmcgdGhlIGNvbnRhaW5lci4gVGhlIGNvbnRhaW5lciBzaG91bGRcbiAqIGJlIG92ZXJmbG93OiBoaWRkZW47IFRoZSBzbGlkZSBlbGVtZW50cyB0aGVtc2VsdmVzIHNob3VsZCBub3QgaGF2ZSB0cmFuc2Zvcm1zXG4gKiBhcHBsaWVkLiBDaGlsZHJlbiBvZiB0aGUgc2xpZGUgZWxlbWVudHMgaG93ZXZlciBjYW4gYmUgdHJhbnNmb3JtZWQgYXMgbmVlZGVkXG4gKiB0byBhY2hpZXZlIG5lY2Vzc2FyeSB2aXN1YWwgZWZmZWN0cy5cbiAqL1xuZXhwb3J0IGNsYXNzIERyYWdnYWJsZVNsaWRlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gdHJhbnNpdGlvblRpbWUgRGV0ZXJtaW5lcyBob3cgbG9uZyBpbiBtcyBpdCB0YWtlcyB0byB0cmFuc2l0aW9uIGZyb21cbiAgICAgKiAgICAgb25lIHNsaWRlIHRvIGFub3RoZXIuXG4gICAgICogQHBhcmFtIGVhc2luZ0Z1bmN0aW9uIEVhc2luZyBmdW5jdGlvbiB1c2VkIHRvIGFkanVzdCBzbGlkZXMgdHJhbnNpdGlvbnMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeyB0cmFuc2l0aW9uVGltZSA9IDUwMCwgZWFzaW5nRnVuY3Rpb24gPSBEcmFnZ2FibGVTbGlkZS5ERUZBVUxUX0VBU0lORywgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMucmFmID0gbmV3IFJhZigoKSA9PiB0aGlzLm9uUmFmKCkpO1xuICAgICAgICB0aGlzLmRvbVdhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgICAgICB0aGlzLmVhc2luZ0Z1bmN0aW9uID0gZWFzaW5nRnVuY3Rpb247XG4gICAgICAgIHRoaXMudHJhbnNpdGlvblRpbWUgPSB0cmFuc2l0aW9uVGltZTtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNpemVUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5tb3VzZVRyYWNrZXIgPSBuZXcgQ2FjaGVkTW91c2VUcmFja2VyKCk7XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb24gPSBudWxsO1xuICAgICAgICAvLyBUcmFja3MgdGhlIGN1cnJlbnQgWCB0cmFuc2xhdGlvbiBvZiBlYWNoIHNsaWRlLlxuICAgICAgICAvLyBVc2VkIHNvIHRoYXQgc2xpZGUgY2FuIGJlIGFkanVzdGVkIGZvciBsb29waW5nIGFuZCBkcmFnZ2luZyB3aXRoaW4gdGhlXG4gICAgICAgIC8vIHNhbWUgZnJhbWUgd2l0aG91dCBpbnRyb2R1Y2luZyBsYXlvdXQgdGhyYXNoaW5nIGJ5IHVwZGF0aW5nIHRoZSBET01cbiAgICAgICAgLy8gdHdpY2UuXG4gICAgICAgIHRoaXMueFRyYW5zbGF0ZSA9IERlZmF1bHRNYXAudXNpbmdGdW5jdGlvbigoZWwpID0+IGdldFRyYW5zbGF0ZVgoZWwpKTtcbiAgICAgICAgdGhpcy5sYXN0WFRyYW5zbGF0ZSA9IERlZmF1bHRNYXAudXNpbmdGdW5jdGlvbigoKSA9PiBudWxsKTtcbiAgICAgICAgdGhpcy5zdGFydEludGVyYWN0aW9uQ2FsbGJhY2sgPSAoKSA9PiB0aGlzLnN0YXJ0SW50ZXJhY3Rpb25Pbk1vdXNlVXBkYXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1bXMgdGhlIG9mZnNldFdpZHRoIG9mIHRoZSBnaXZlbiBzbGlkZXMuXG4gICAgICpcbiAgICAgKiBXYXMgcmVwZWF0ZWQgZW5vdWdoIHRvIHNlZW0gd29ydGggZXh0cmFjdGluZy5cbiAgICAgKi9cbiAgICBzdGF0aWMgc3VtV2lkdGgoc2xpZGVzKSB7XG4gICAgICAgIHJldHVybiBtYXRoZi5zdW0oc2xpZGVzLm1hcChzbGlkZSA9PiBzbGlkZS5vZmZzZXRXaWR0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBieSB0aGUgY2Fyb3VzZWwgd2hlbiB0aGUgdHJhbnNpdGlvbiBpcyBwYXNzZWQgdG9cbiAgICAgKiB0aGUgY2Fyb3VzZWwuIFVudGlsIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHRoZSBEcmFnZ2FibGVTbGlkZSBpbnN0YW5jZSBpc1xuICAgICAqIG1vcmUgb3IgbGVzcyBpbmVydC5cbiAgICAgKi9cbiAgICBpbml0KGNhcm91c2VsKSB7XG4gICAgICAgIHRoaXMuaW5pdFJlc2l6ZUhhbmRsZXIoKTtcbiAgICAgICAgdGhpcy5jYXJvdXNlbCA9IGNhcm91c2VsO1xuICAgICAgICAvLyBUcmFuc2l0aW9uIHRvIHRoZSBnaXZlbiBhY3RpdmUgc2xpZGVcbiAgICAgICAgdGhpcy5yYWYucmVhZCgoKSA9PiB0aGlzLnRyYW5zaXRpb24oY2Fyb3VzZWwuZ2V0Rmlyc3RTbGlkZSgpLCAwKSk7XG4gICAgICAgIHRoaXMuaW5pdERyYWdnYWJsZVNsaWRlcygpO1xuICAgICAgICB0aGlzLnJhZi5zdGFydCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHNsaWRlIHBvc2l0aW9uaW5nIGluIHJlc3BvbnNlIHRvIHVzZXIgaW50ZXJhY3Rpb24gYW5kIHRyYW5zaXRpb25cbiAgICAgKiBhbmltYXRpb25zLlxuICAgICAqL1xuICAgIG9uUmFmKCkge1xuICAgICAgICBpZiAodGhpcy5jYXJvdXNlbC5pc0Rpc2FibGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJhZi5yZWFkKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc0ludGVyYWN0aW5nKCkgJiYgdGhpcy50cmFuc2l0aW9uVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0ludGVyYWN0aW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJJbnRlcmFjdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmxvb3BTbGlkZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFwcGxpZXMgdGhlIHNjaGVkdWxlZCBYIHRyYW5zbGF0aW9ucyBzZXQgdXAgaW4gb3RoZXIgZnVuY3Rpb25zLlxuICAgICAgICAgICAgLy8gVGhpcyBlbnN1cmVzIHRoYXQgc3BsaXR0aW5nIHNsaWRlcyBmb3IgbG9vcGluZywgdHJhbnNpdGlvbnMgYW5kXG4gICAgICAgICAgICAvLyBpbnRlcmFjdGlvbnMgY2FuIGFsbCBhZGp1c3QgdGhlIFggcG9zaXRpb24gd2l0aG91dCB1cGRhdGluZyB0aGUgRE9NXG4gICAgICAgICAgICAvLyBtb3JlIHRoYW4gb25jZSBwZXIgZnJhbWUuXG4gICAgICAgICAgICB0aGlzLmFwcGx5WFRyYW5zbGF0aW9ucygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNpdGlvbiB0byB0aGUgZ2l2ZW4gdGFyZ2V0IHdpdGhpbiB0aGUgZ2l2ZW4gdGltZS5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0RWxcbiAgICAgKiBAcGFyYW0gb3B0VHJhbnNpdGlvblRpbWUgVGltZSB0aGUgdHJhbnNpdGlvbiBzaG91bGQgdGFrZSwgdXNlcyB2YWx1ZVxuICAgICAqICAgIHByb3ZpZGVkIHRvIHRoZSBjb25zdHJ1Y3RvciBpcyBubyB2YWx1ZSBpcyBwcm92aWRlZCBmb3IgdGhpcyBjYWxsLlxuICAgICAqL1xuICAgIHRyYW5zaXRpb24odGFyZ2V0RWwsIG9wdFRyYW5zaXRpb25UaW1lID0gbnVsbCkge1xuICAgICAgICBpZiAodGhpcy50cmFuc2l0aW9uVGFyZ2V0ICE9PSBudWxsICYmXG4gICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25UYXJnZXQudGFyZ2V0ID09PSB0YXJnZXRFbCkge1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBEb24ndCByZXNldCB0YXJnZXQgdGltZVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25UaW1lID0gb3B0VHJhbnNpdGlvblRpbWUgPT09IG51bGwgPyB0aGlzLnRyYW5zaXRpb25UaW1lIDogb3B0VHJhbnNpdGlvblRpbWU7XG4gICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBjb25zdCB0aW1lUmFuZ2UgPSBbbm93LCBub3cgKyB0cmFuc2l0aW9uVGltZV07XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gdGhpcy5nZXREaXN0YW5jZVRvQ2VudGVyKHRhcmdldEVsKTtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uVGFyZ2V0ID0gbmV3IFRyYW5zaXRpb25UYXJnZXQodGFyZ2V0RWwsIHRpbWVSYW5nZSwgZGlzdGFuY2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50bHkgYWN0aXZlIHNsaWRlLlxuICAgICAqL1xuICAgIGdldEFjdGl2ZVNsaWRlKCkge1xuICAgICAgICByZXR1cm4gYXJyYXlmLm1pbih0aGlzLmNhcm91c2VsLmdldFNsaWRlcygpLCBcbiAgICAgICAgLy8gU3RhcnQgd2l0aCB0aGUgb25lIGNsb3Nlc3QgdG8gdGhlIGNlbnRlclxuICAgICAgICBlbCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5nZXREaXN0YW5jZUJldHdlZW4oZWwsIHRoaXMuY2Fyb3VzZWwuY29udGFpbmVyKSk7XG4gICAgICAgIH0sIFxuICAgICAgICAvLyBJZiBuZWl0aGVyIHNsaWRlIHdhcyBsYXN0IGFjdGl2ZSBkZWZhdWx0IHRvIHRoZSBvbmUgdGhhdCBhcHBlYXJzIGZpcnN0XG4gICAgICAgIC8vIGluIHRoZSBsaXN0IG9mIHNsaWRlc1xuICAgICAgICBlbCA9PiAtMSAqIHRoaXMuY2Fyb3VzZWwuZ2V0SW5kZXgoZWwpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBjYXJvdXNlbCBoYXMgdHJhbnNpdGlvbmVkIHRvIHRoZSBnaXZlbiBzbGlkZS5cbiAgICAgKiBAcGFyYW0gc2xpZGVcbiAgICAgKi9cbiAgICBoYXNUcmFuc2l0aW9uZWRUbyhzbGlkZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREaXN0YW5jZVRvQ2VudGVyKHNsaWRlKSA9PT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB1c2VyIGlzIGludGVyYWN0aW5nIHdpdGggdGhlIHNsaWRlcy5cbiAgICAgKi9cbiAgICBpc0ludGVyYWN0aW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcmFjdGlvbiAhPT0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiB0aGUgdHJhbnNpdGlvbi5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLnJlc2l6ZVRpbWVvdXQgJiYgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnJlc2l6ZVRpbWVvdXQpO1xuICAgICAgICB0aGlzLm1vdXNlVHJhY2tlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuZG9tV2F0Y2hlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMueFRyYW5zbGF0ZS5jbGVhcigpO1xuICAgICAgICB0aGlzLmxhc3RYVHJhbnNsYXRlLmNsZWFyKCk7XG4gICAgfVxuICAgIGluaXRSZXNpemVIYW5kbGVyKCkge1xuICAgICAgICB0aGlzLmRvbVdhdGNoZXIuYWRkKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgICAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgICAgICAgIGV2ZW50T3B0aW9uczogeyBwYXNzaXZlOiB0cnVlIH0sXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc2l6ZVRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnJlc2l6ZVRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZVRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLnRyYW5zaXRpb24odGhpcy5jYXJvdXNlbC5nZXRBY3RpdmVTbGlkZSgpLCAwKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGltaXQgaG93IGZhciBzbGlkZXMgY2FuIGJlIG1vdmVkIGxlZnQvcmlnaHQgaWYgbG9vcGluZyBpcyBub3QgYWxsb3dlZCBmb3JcbiAgICAgKiB0aGUgY2Fyb3VzZWwuXG4gICAgICovXG4gICAgY29uc3RyYWluWFRyYW5zbGF0aW9ucygpIHtcbiAgICAgICAgaWYgKHRoaXMuY2Fyb3VzZWwubG9vcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNsaWRlcyA9IHRoaXMuY2Fyb3VzZWwuZ2V0U2xpZGVzKCk7XG4gICAgICAgIC8vIEFsbG93IGZvciBjZW50ZXJpbmcgdGhlIGxhc3Qgc2xpZGVcbiAgICAgICAgY29uc3QgaGFsZkNvbnRhaW5lciA9IHRoaXMuY2Fyb3VzZWwuY29udGFpbmVyLm9mZnNldFdpZHRoIC8gMjtcbiAgICAgICAgY29uc3QgdG90YWxTbGlkZVdpZHRoID0gRHJhZ2dhYmxlU2xpZGUuc3VtV2lkdGgoc2xpZGVzKTtcbiAgICAgICAgY29uc3QgbGFzdFNsaWRlV2lkdGggPSBzbGlkZXMuc2xpY2UoLTEpWzBdLm9mZnNldFdpZHRoO1xuICAgICAgICBjb25zdCBoYWxmTGFzdFNsaWRlID0gbGFzdFNsaWRlV2lkdGggLyAyO1xuICAgICAgICBjb25zdCBoYWxmRmlyc3RTbGlkZSA9IHNsaWRlc1swXS5vZmZzZXRXaWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IG1pbiA9IGhhbGZDb250YWluZXIgLSB0b3RhbFNsaWRlV2lkdGggKyBoYWxmTGFzdFNsaWRlO1xuICAgICAgICBjb25zdCBtYXggPSBoYWxmQ29udGFpbmVyIC0gaGFsZkZpcnN0U2xpZGU7XG4gICAgICAgIHNsaWRlcy5mb3JFYWNoKChzbGlkZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFggPSB0aGlzLnhUcmFuc2xhdGUuZ2V0KHNsaWRlKTtcbiAgICAgICAgICAgIHRoaXMueFRyYW5zbGF0ZS5zZXQoc2xpZGUsIG1hdGhmLmNsYW1wKG1pbiwgbWF4LCBjdXJyZW50WCkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXBwbHlYVHJhbnNsYXRpb25zKCkge1xuICAgICAgICB0aGlzLmNvbnN0cmFpblhUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgLy8gQXBwbHkgYWxsIFggVHJhbnNsYXRlcyBpbiBhIHNpbmdsZSBzdGVwXG4gICAgICAgIHRoaXMucmFmLndyaXRlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMueFRyYW5zbGF0ZS5mb3JFYWNoKCh4VHJhbnNsYXRlLCBzbGlkZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIERvbid0IHJlLWFwcGx5IHRoZSBzYW1lIHN0eWxlIHR3aWNlLCBpdCB3aWxsIGp1c3QgY2xvZyB1cCB0aGVcbiAgICAgICAgICAgICAgICAvLyBpbnNwZWN0b3IgYW5kIG1ha2UgZGVidWdnaW5nIGRpZmZpY3VsdC5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sYXN0WFRyYW5zbGF0ZS5nZXQoc2xpZGUpICE9PSB4VHJhbnNsYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7eFRyYW5zbGF0ZX1weClgO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RYVHJhbnNsYXRlLnNldChzbGlkZSwgeFRyYW5zbGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZW5kZXJJbnRlcmFjdGlvbigpIHtcbiAgICAgICAgY29uc3QgY3VycmVudE1vdXNlWCA9IHRoaXMuZ2V0TW91c2VYKCk7XG4gICAgICAgIGNvbnN0IGRlbHRhID0gY3VycmVudE1vdXNlWCAtIHRoaXMuaW50ZXJhY3Rpb24ubGFzdE1vdXNlWDtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbi5sYXN0TW91c2VYID0gY3VycmVudE1vdXNlWDtcbiAgICAgICAgdGhpcy5jYXJvdXNlbC5nZXRTbGlkZXMoKS5mb3JFYWNoKHNsaWRlID0+IHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlKHNsaWRlLCBkZWx0YSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIGdpdmVuIHNsaWRlIGFuZCB0aGUgY2VudGVyIG9mIHRoZSBjYXJvdXNlbC5cbiAgICAgKi9cbiAgICBnZXREaXN0YW5jZVRvQ2VudGVyKHNsaWRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERpc3RhbmNlQmV0d2VlbihzbGlkZSwgdGhpcy5jYXJvdXNlbC5jb250YWluZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXR1cCB0aGUgRHJhZ2dhYmxlIGluc3RhbmNlcyB0aGF0IHdpbGwgY29ycmVzcG9uZCB0byB0aGUgc2xpZGUgZWxlbWVudHMuXG4gICAgICovXG4gICAgaW5pdERyYWdnYWJsZVNsaWRlcygpIHtcbiAgICAgICAgdGhpcy5jYXJvdXNlbC5nZXRTbGlkZXMoKS5mb3JFYWNoKHNsaWRlID0+IHtcbiAgICAgICAgICAgIFsndG91Y2hzdGFydCcsICdtb3VzZWRvd24nXS5mb3JFYWNoKChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBzbGlkZSxcbiAgICAgICAgICAgICAgICAgICAgb246IGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBldmVudE9wdGlvbnM6IHsgcGFzc2l2ZTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy5zdGFydEludGVyYWN0aW9uKCksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFsnY29udGV4dG1lbnUnLCAnZHJhZ3N0YXJ0JywgJ3RvdWNoZW5kJywgJ21vdXNldXAnXS5mb3JFYWNoKChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9tV2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiB3aW5kb3csXG4gICAgICAgICAgICAgICAgICAgIG9uOiBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRPcHRpb25zOiB7IHBhc3NpdmU6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMuZW5kSW50ZXJhY3Rpb24oKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZWFzZWQgdHJhbnNpdGlvbiBwZXJjZW50LlxuICAgICAqXG4gICAgICogRXh0cmFjdGVkIGZyb20gcmVuZGVyVHJhbnNpdGlvbiBzbyBpdHMgbmFtZSBjYW4gc2VydmUgdG8gaGVscFxuICAgICAqIHJlYWRhYmlsaXR5LlxuICAgICAqL1xuICAgIGdldEVhc2VkVHJhbnNpdGlvblBlcmNlbnQoKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25QZXJjZW50ID0gbWF0aGYuaW52ZXJzZUxlcnAodGhpcy50cmFuc2l0aW9uVGFyZ2V0LnRpbWVSYW5nZVswXSwgdGhpcy50cmFuc2l0aW9uVGFyZ2V0LnRpbWVSYW5nZVsxXSwgcGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5lYXNpbmdGdW5jdGlvbih0cmFuc2l0aW9uUGVyY2VudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkanVzdCBDU1MgcHJvcGVydGllcyB0byByZWZsZWN0IHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSB0cmFuc2l0aW9uXG4gICAgICogYW5pbWF0aW9uIHRvIHRoZSBjdXJyZW50IHRhcmdldC5cbiAgICAgKi9cbiAgICByZW5kZXJUcmFuc2l0aW9uKCkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLnRyYW5zaXRpb25UYXJnZXQ7XG4gICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWFzZWRQZXJjZW50ID0gdGhpcy5nZXRFYXNlZFRyYW5zaXRpb25QZXJjZW50KCk7XG4gICAgICAgIGNvbnN0IHRhcmdldERpc3RhbmNlID0gbWF0aGYubGVycCh0YXJnZXQuc3RhcnREaXN0YW5jZSwgMCwgZWFzZWRQZXJjZW50KTtcbiAgICAgICAgY29uc3QgY3VycmVudERpc3RhbmNlID0gdGhpcy5nZXREaXN0YW5jZVRvQ2VudGVyKHRhcmdldC50YXJnZXQpO1xuICAgICAgICBjb25zdCBhYnNEZWx0YSA9IE1hdGguYWJzKHRhcmdldERpc3RhbmNlKSAtIE1hdGguYWJzKGN1cnJlbnREaXN0YW5jZSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnREaXN0YW5jZVNpZ24gPSBNYXRoLnNpZ24oY3VycmVudERpc3RhbmNlKTtcbiAgICAgICAgY29uc3QgeERlbHRhID0gYWJzRGVsdGEgKiBjdXJyZW50RGlzdGFuY2VTaWduO1xuICAgICAgICB0aGlzLmNhcm91c2VsLmdldFNsaWRlcygpLmZvckVhY2goc2xpZGUgPT4gdGhpcy50cmFuc2xhdGUoc2xpZGUsIHhEZWx0YSkpO1xuICAgICAgICB0aGlzLmxvb3BTbGlkZXMoKTtcbiAgICAgICAgLy8gSWYgd2UncmUgY2xvc2UgZW5vdWdoLCBsZXQncyBjYWxsIGl0XG4gICAgICAgIGlmIChlYXNlZFBlcmNlbnQgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlIHRoZSBnaXZlbiBzbGlkZSBieSB0aGUgZ2l2ZW4gYW1vdXRuXG4gICAgICogQHBhcmFtIHNsaWRlXG4gICAgICogQHBhcmFtIGRlbHRhXG4gICAgICovXG4gICAgdHJhbnNsYXRlKHNsaWRlLCBkZWx0YSkge1xuICAgICAgICAvLyBSb3VuZCB0byBzb21ldGhpbmcgcmVhc29uYWJsZVxuICAgICAgICBjb25zdCBmaW5hbCA9IE1hdGgucm91bmQoKHRoaXMueFRyYW5zbGF0ZS5nZXQoc2xpZGUpICsgZGVsdGEpICogMTAwKSAvIDEwMDtcbiAgICAgICAgdGhpcy54VHJhbnNsYXRlLnNldChzbGlkZSwgZmluYWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGp1c3QgdGhlIHNwbGl0IG9mIHNsaWRlcyBhcm91bmQgdGhlIGN1cnJlbnRseSBhY3RpdmUgc2xpZGUuXG4gICAgICpcbiAgICAgKiBJcyBhIG5vLW9wIGZvciBub24tbG9vcGluZyBjYXJvdXNlbHMuXG4gICAgICpcbiAgICAgKiBFbnN1cmVzOlxuICAgICAqIC0gU2xpZGVzIGNvdmVyIGFzIG11Y2ggb2YgdGhlIGNhcm91c2VsIGFzIHBvc3NpYmxlLlxuICAgICAqIC0gU2xpZGVzIGxvb3AgZnJvbSBvbmUgc2lkZSB0byB0aGUgb3RoZXIuXG4gICAgICovXG4gICAgbG9vcFNsaWRlcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhcm91c2VsLmxvb3ApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBObyBtYXR0ZXIgd2hhdCB3ZSBuZWVkIHRvIGxvb3AgYWRqdXN0IHRoZSB0YXJnZXQgaWYgd2UgaGF2ZSBvbmVcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gKHRoaXMudHJhbnNpdGlvblRhcmdldCAmJiB0aGlzLnRyYW5zaXRpb25UYXJnZXQudGFyZ2V0KSB8fFxuICAgICAgICAgICAgdGhpcy5jYXJvdXNlbC5nZXRBY3RpdmVTbGlkZSgpO1xuICAgICAgICBjb25zdCB0YXJnZXRJbmRleCA9IHRoaXMuY2Fyb3VzZWwuZ2V0SW5kZXgodGFyZ2V0KTtcbiAgICAgICAgY29uc3Qgc2xpZGVzID0gdGhpcy5jYXJvdXNlbC5nZXRTbGlkZXMoKTtcbiAgICAgICAgY29uc3Qgc2xpZGVzVG9BZGp1c3QgPSBuZXcgU2V0KHNsaWRlcy5maWx0ZXIoc2xpZGUgPT4gc2xpZGUgIT09IHRhcmdldCkpO1xuICAgICAgICBjb25zdCBsZWZ0RWRnZSA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICAgICAgICBjb25zdCBsZWZ0ID0ge1xuICAgICAgICAgICAgYXJlYTogTWF0aC5tYXgobGVmdEVkZ2UsIDApLFxuICAgICAgICAgICAgaW5kZXg6IHRhcmdldEluZGV4LFxuICAgICAgICAgICAgZGlyZWN0aW9uOiBEaXJlY3Rpb24uTEVGVCwgLy8gRGlyZWN0aW9uIHRvIG1vdmUgaW4gZm9yIHRoZSBuZXh0IHNsaWRlXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNsaWVudFdpZHRoID0gZG9tLmdldFNjcm9sbEVsZW1lbnQoKS5jbGllbnRXaWR0aDtcbiAgICAgICAgY29uc3QgcmlnaHRFZGdlID0gbGVmdEVkZ2UgKyB0YXJnZXQub2Zmc2V0V2lkdGg7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0ge1xuICAgICAgICAgICAgYXJlYTogTWF0aC5taW4oY2xpZW50V2lkdGgsIGNsaWVudFdpZHRoIC0gcmlnaHRFZGdlKSxcbiAgICAgICAgICAgIGluZGV4OiB0YXJnZXRJbmRleCxcbiAgICAgICAgICAgIGRpcmVjdGlvbjogRGlyZWN0aW9uLlJJR0hULFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzaWRlcyA9IFtsZWZ0LCByaWdodF07XG4gICAgICAgIHdoaWxlIChzbGlkZXNUb0FkanVzdC5zaXplID4gMCkge1xuICAgICAgICAgICAgY29uc3Qgc2lkZSA9IGFycmF5Zi5tYXgoc2lkZXMsIHMgPT4gcy5hcmVhKTtcbiAgICAgICAgICAgIHNpZGUuaW5kZXggKz0gc2lkZS5kaXJlY3Rpb247XG4gICAgICAgICAgICBjb25zdCBzbGlkZVRvQWRqdXN0ID0gc2xpZGVzW21hdGhmLndyYXAoc2lkZS5pbmRleCwgMCwgc2xpZGVzLmxlbmd0aCldO1xuICAgICAgICAgICAgc2lkZS5hcmVhIC09IHNsaWRlVG9BZGp1c3Qub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICBjb25zdCBkZXNpcmVkT2Zmc2V0ID0gdGhpcy5nZXREZXNpcmVkRGlzdGFuY2VCZXR3ZWVuKHRhcmdldCwgc2xpZGVUb0FkanVzdCwgc2lkZS5kaXJlY3Rpb24pO1xuICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBkZXNpcmVkT2Zmc2V0IC0gdGhpcy5nZXREaXN0YW5jZUJldHdlZW4oc2xpZGVUb0FkanVzdCwgdGFyZ2V0KTtcbiAgICAgICAgICAgIGlmIChkZWx0YSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlKHNsaWRlVG9BZGp1c3QsIGRlbHRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNsaWRlc1RvQWRqdXN0LmRlbGV0ZShzbGlkZVRvQWRqdXN0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGhlIHN0YXJ0IG9mIHVzZXIgaW50ZXJhY3Rpb24gd2l0aCB0aGUgY2Fyb3VzZWwuXG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICovXG4gICAgc3RhcnRJbnRlcmFjdGlvbigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5pc0ludGVyYWN0aW5nKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBEZWxheSB0byB0aGUgcG9zdC13cml0ZSBzdGVwIHRvIGFsbG93IHRoZSBtb3VzZSBjYWNoZWQgcG9zaXRpb24gdG9cbiAgICAgICAgLy8gY2F0Y2ggdXAuXG4gICAgICAgIChfYSA9IHRoaXMubW91c2VUcmFja2VyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub24oQ2FjaGVkTW91c2VUcmFja2VyRXZlbnQuVVBEQVRFLCB0aGlzLnN0YXJ0SW50ZXJhY3Rpb25DYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBhIGRyYWcgb24gdGhlIHNsaWRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc3RhcnRJbnRlcmFjdGlvbk9uTW91c2VVcGRhdGUoKSB7XG4gICAgICAgIC8vIFN0YXJ0IGludGVyYWN0aW9uIG9ubHkgb25jZSBmb3IgdGhpcyBjYWxsXG4gICAgICAgIHRoaXMuY2FuY2VsU3RhcnRJbnRlcmFjdGlvbkNhbGxiYWNrKCk7XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb24gPSBuZXcgSW50ZXJhY3Rpb24odGhpcy5nZXRNb3VzZVgoKSwgcGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICB0aGlzLnRyYW5zaXRpb25UYXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLmNhcm91c2VsLnN0b3BUcmFuc2l0aW9uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBjYWxsYmFjayBmb3Igc3RhcnRpbmcgYW4gaW50ZXJhY3Rpb24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjYW5jZWxTdGFydEludGVyYWN0aW9uQ2FsbGJhY2soKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5tb3VzZVRyYWNrZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vZmYoQ2FjaGVkTW91c2VUcmFja2VyRXZlbnQuVVBEQVRFLCB0aGlzLnN0YXJ0SW50ZXJhY3Rpb25DYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgZW5kIG9mIHVzZXIgaW50ZXJhY3Rpb24gd2l0aCB0aGUgY2Fyb3VzZWwuXG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICovXG4gICAgZW5kSW50ZXJhY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmludGVyYWN0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBDYW5jZWwgdGhlIGNhbGxiYWNrIGluIGNhc2UgdGhlIGludGVyYWN0aW9uIHdhcyBhYm91dCB0byBzdGFydC5cbiAgICAgICAgICAgIHRoaXMuY2FuY2VsU3RhcnRJbnRlcmFjdGlvbkNhbGxiYWNrKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBwZXJmb3JtYW5jZS5ub3coKSAtIHRoaXMuaW50ZXJhY3Rpb24uc3RhcnRUaW1lO1xuICAgICAgICBjb25zdCBhY3RpdmVTbGlkZSA9IHRoaXMuZ2V0QWN0aXZlU2xpZGUoKTtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSB0aGlzLmdldERpc3RhbmNlVG9DZW50ZXIoYWN0aXZlU2xpZGUpO1xuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkRlbHRhID0gdGhpcy5nZXRNb3VzZVgoKSAtIHRoaXMuaW50ZXJhY3Rpb24uc3RhcnRYO1xuICAgICAgICBjb25zdCB2ZWxvY2l0eSA9IGR1cmF0aW9uID4gNzAwID8gaW50ZXJhY3Rpb25EZWx0YSA6IDA7XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb24gPSBudWxsO1xuICAgICAgICBjb25zdCB2ZWxvY2l0eVNpZ24gPSBNYXRoLnNpZ24odmVsb2NpdHkpO1xuICAgICAgICBjb25zdCBkaXN0YW5jZVNpZ24gPSBNYXRoLnNpZ24oZGlzdGFuY2UpICogLTE7XG4gICAgICAgIGNvbnN0IGFsbG93c0xvb3BpbmcgPSB0aGlzLmNhcm91c2VsLmxvb3A7XG4gICAgICAgIC8vIElmIHRoZSBzbGlkZSBpcyBhbHJlYWR5IGNlbnRlcmVkLCB0aGVuIGl0IGlzIGNsZWFybHkgdGhlIHNsaWRlIHRvXG4gICAgICAgIC8vIHRyYW5zaXRpb24gdG8uXG4gICAgICAgIGlmIChkaXN0YW5jZSA9PT0gMCB8fCBkaXN0YW5jZVNpZ24gPT09IHZlbG9jaXR5U2lnbiB8fCB2ZWxvY2l0eSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jYXJvdXNlbC5nb1RvU2xpZGUoYWN0aXZlU2xpZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgd2FzIGRyYWdnaW5nIHRvIHRoZSByaWdodCwgdHJhbnNpdGlvbiBpbiB0aGUgb3Bwb3NpdGVcbiAgICAgICAgICAgIC8vIGRpcmVjdGlvbi5cbiAgICAgICAgICAgIGlmICh2ZWxvY2l0eVNpZ24gPT09IERpcmVjdGlvbi5SSUdIVCkge1xuICAgICAgICAgICAgICAgIGlmIChhbGxvd3NMb29waW5nIHx8IGFjdGl2ZVNsaWRlICE9PSB0aGlzLmNhcm91c2VsLmdldEZpcnN0U2xpZGUoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcm91c2VsLnByZXYoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGFyZSBhbHJlYWR5IGF0IHRoZSBmaXJzdCBzbGlkZSBhbmQgY2FuJ3QgbG9vcCwgdHJhbnNpdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyBhcyBpcy5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJvdXNlbC5nb1RvU2xpZGUoYWN0aXZlU2xpZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdXNlciB3YXMgZHJhZ2dpbmcgdG8gdGhlIGxlZnQsIHRyYW5zaXRpb24gaW4gdGhlIG9wcG9zaXRlXG4gICAgICAgICAgICAgICAgLy8gZGlyZWN0aW9uLlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGFsbG93c0xvb3BpbmcgfHwgYWN0aXZlU2xpZGUgIT09IHRoaXMuY2Fyb3VzZWwuZ2V0TGFzdFNsaWRlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJvdXNlbC5uZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBhcmUgYWxyZWFkeSBhdCB0aGUgbGFzdCBzbGlkZSBhbmQgY2FuJ3QgbG9vcCwgdHJhbnNpdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyBhcyBpcy5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJvdXNlbC5nb1RvU2xpZGUoYWN0aXZlU2xpZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGN1cnJlbnQgbW91c2UgcG9zaXRpb24uXG4gICAgICovXG4gICAgZ2V0TW91c2VYKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb3VzZVRyYWNrZXIuZ2V0Q2xpZW50UG9zaXRpb24oKS54O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIFggcG9zaXRpb24gb2YgdGhlIGdpdmVuIGVsZW1lbnRzIGNlbnRlci5cbiAgICAgKlxuICAgICAqIEZhY3RvcnMgaW4gdXBjb21pbmcgWCB0cmFuc2xhdGlvbiBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGdldENlbnRlcihlbCkge1xuICAgICAgICBpZiAoIWVsKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IHJhdyA9IHJlY3QubGVmdCArIHJlY3Qud2lkdGggLyAyO1xuICAgICAgICBjb25zdCB4VHJhbnNsYXRpb25EZWx0YSA9IHRoaXMueFRyYW5zbGF0ZS5nZXQoZWwpIC0gZ2V0VHJhbnNsYXRlWChlbCk7XG4gICAgICAgIHJldHVybiByYXcgKyB4VHJhbnNsYXRpb25EZWx0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgZ2l2ZW4gZWxlbWVudHMgY2VudGVycy5cbiAgICAgKlxuICAgICAqIElmIG5vIHNlY29uZCBlbGVtZW50IGlzIGdpdmVuLCB0aGUgcm9vdCBlbGVtZW50J3MgY2VudGVyIGlzIHVzZWQgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBnZXREaXN0YW5jZUJldHdlZW4oYSwgYiA9IG51bGwpIHtcbiAgICAgICAgLy8gR2F0aGVyIHVwIHRoZSBpbmZvcm1hdGlvbiBvbiB0aGUgZmlyc3QgZWxlbWVudCdzIGNlbnRlciBwb3NpdGlvbi5cbiAgICAgICAgY29uc3QgYUNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKGEpO1xuICAgICAgICAvLyBHYXRoZXIgdGhlIGluZm8gb24gdGhlIHNlY29uZCBlbGVtZW50J3MgY2VudGVyIHBvc2l0aW9uIG9yIHRoZSByb290XG4gICAgICAgIC8vIGVsZW1lbnQncyBjZW50ZXIgcG9zaXRpb24uXG4gICAgICAgIGlmIChiICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gYUNlbnRlciAtIHRoaXMuZ2V0Q2VudGVyKGIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGFDZW50ZXIgLSBkb2N1bWVudC5jaGlsZHJlblswXS5jbGllbnRXaWR0aCAvIDI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGhvdyBmYXIgdGhlIGdpdmVuIHNsaWRlIGlzIGZyb20gdGhlIGdpdmVuIHRhcmdldCBzbGlkZSBpbiB0ZXJtcyBvZlxuICAgICAqIHNsaWRlIHdpZHRoIGluIHBpeGVscy5cbiAgICAgKi9cbiAgICBnZXREZXNpcmVkRGlzdGFuY2VCZXR3ZWVuKGEsIGIsIGRpcmVjdGlvbikge1xuICAgICAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5CZXR3ZWVuU2xpZGVzID0gdGhpcy5nZXRJbkJldHdlZW5TbGlkZXMoYSwgYiwgZGlyZWN0aW9uKTtcbiAgICAgICAgY29uc3QgaW5CZXR3ZWVuV2lkdGggPSBEcmFnZ2FibGVTbGlkZS5zdW1XaWR0aChpbkJldHdlZW5TbGlkZXMpO1xuICAgICAgICBjb25zdCBoYWxmU2xpZGUgPSBiLm9mZnNldFdpZHRoIC8gMjtcbiAgICAgICAgY29uc3QgaGFsZlRhcmdldCA9IGEub2Zmc2V0V2lkdGggLyAyO1xuICAgICAgICByZXR1cm4gKGhhbGZTbGlkZSArIGluQmV0d2VlbldpZHRoICsgaGFsZlRhcmdldCkgKiBkaXJlY3Rpb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgc2xpZGVzIGluIGJldHdlZW4gdGhlIGdpdmVuIHN0YXJ0IGFuZCBlbmQgc2xpZGUuXG4gICAgICogSWYgdGhlIGNhcm91c2VsIGlzIGxvb3BpbmcsIHdvcmsgaW4gdGhlIGdpdmVuIGRpcmVjdGlvbi5cbiAgICAgKi9cbiAgICBnZXRJbkJldHdlZW5TbGlkZXMoc3RhcnRTbGlkZSwgZW5kU2xpZGUsIGRpcmVjdGlvbikge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuY2Fyb3VzZWwuZ2V0SW5kZXgoc3RhcnRTbGlkZSk7XG4gICAgICAgIGNvbnN0IGVuZCA9IHRoaXMuY2Fyb3VzZWwuZ2V0SW5kZXgoZW5kU2xpZGUpIC0gZGlyZWN0aW9uO1xuICAgICAgICBpZiAoc3RhcnQgPT09IGVuZCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY2Fyb3VzZWwubG9vcCkge1xuICAgICAgICAgICAgcmV0dXJuIGFycmF5Zi5sb29wU2xpY2UodGhpcy5jYXJvdXNlbC5nZXRTbGlkZXMoKSwgZW5kLCBzdGFydCwgLWRpcmVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBVc2UgbWluIGFuZCBtYXggdG8gZW5zdXJlIHRoYXQgd2Ugc2xpY2UgaW4gdGhlIHJpZ2h0IGRpcmVjdGlvbi5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhcm91c2VsLmdldFNsaWRlcygpLnNsaWNlKE1hdGgubWluKHN0YXJ0ICsgMSwgZW5kKSwgTWF0aC5tYXgoc3RhcnQsIGVuZCArIGRpcmVjdGlvbikpO1xuICAgICAgICB9XG4gICAgfVxufVxuRHJhZ2dhYmxlU2xpZGUuREVGQVVMVF9FQVNJTkcgPSBuZXcgQ3ViaWNCZXppZXIoMC40NDUsIDAuMDUsIDAuNTUsIDAuOTUpLmVhc2luZ0Z1bmN0aW9uKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kcmFnZ2FibGUtc2xpZGUuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/ui/carousel/draggable-slide.js\n");

/***/ }),

/***/ "./lib/ui/carousel/transitions.js":
/*!****************************************!*\
  !*** ./lib/ui/carousel/transitions.js ***!
  \****************************************/
/*! exports provided: DraggableSlide, CssClassesOnly */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CssClassesOnly\", function() { return CssClassesOnly; });\n/* harmony import */ var _draggable_slide__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./draggable-slide */ \"./lib/ui/carousel/draggable-slide.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DraggableSlide\", function() { return _draggable_slide__WEBPACK_IMPORTED_MODULE_0__[\"DraggableSlide\"]; });\n\n\n/**\n * A transition that doesn't really do anything.\n * This is used for when all effects can be set via CSS and triggered off the\n * default active/before/after classes.\n */\nclass CssClassesOnly {\n    init(carousel) {\n        this.activeSlide = carousel.getFirstSlide();\n    }\n    getActiveSlide() {\n        if (!this.activeSlide) {\n            throw new Error('CssClassesOnly transition not initialized');\n        }\n        return this.activeSlide;\n    }\n    transition(targetSlide) {\n        this.activeSlide = targetSlide;\n    }\n    hasTransitionedTo(slide) {\n        return this.activeSlide === slide;\n    }\n    /**\n     * Always false, this transition doesn't support any interaction.\n     */\n    isInteracting() {\n        return false;\n    }\n    /**\n     * No special disposal needed.\n     */\n    dispose() { }\n}\n//# sourceMappingURL=transitions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvdWkvY2Fyb3VzZWwvdHJhbnNpdGlvbnMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvdWkvY2Fyb3VzZWwvdHJhbnNpdGlvbnMuanM/YjM2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBEcmFnZ2FibGVTbGlkZSB9IGZyb20gJy4vZHJhZ2dhYmxlLXNsaWRlJztcbi8qKlxuICogQSB0cmFuc2l0aW9uIHRoYXQgZG9lc24ndCByZWFsbHkgZG8gYW55dGhpbmcuXG4gKiBUaGlzIGlzIHVzZWQgZm9yIHdoZW4gYWxsIGVmZmVjdHMgY2FuIGJlIHNldCB2aWEgQ1NTIGFuZCB0cmlnZ2VyZWQgb2ZmIHRoZVxuICogZGVmYXVsdCBhY3RpdmUvYmVmb3JlL2FmdGVyIGNsYXNzZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBDc3NDbGFzc2VzT25seSB7XG4gICAgaW5pdChjYXJvdXNlbCkge1xuICAgICAgICB0aGlzLmFjdGl2ZVNsaWRlID0gY2Fyb3VzZWwuZ2V0Rmlyc3RTbGlkZSgpO1xuICAgIH1cbiAgICBnZXRBY3RpdmVTbGlkZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZVNsaWRlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nzc0NsYXNzZXNPbmx5IHRyYW5zaXRpb24gbm90IGluaXRpYWxpemVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlU2xpZGU7XG4gICAgfVxuICAgIHRyYW5zaXRpb24odGFyZ2V0U2xpZGUpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVTbGlkZSA9IHRhcmdldFNsaWRlO1xuICAgIH1cbiAgICBoYXNUcmFuc2l0aW9uZWRUbyhzbGlkZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVTbGlkZSA9PT0gc2xpZGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsd2F5cyBmYWxzZSwgdGhpcyB0cmFuc2l0aW9uIGRvZXNuJ3Qgc3VwcG9ydCBhbnkgaW50ZXJhY3Rpb24uXG4gICAgICovXG4gICAgaXNJbnRlcmFjdGluZygpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBObyBzcGVjaWFsIGRpc3Bvc2FsIG5lZWRlZC5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkgeyB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2l0aW9ucy5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/ui/carousel/transitions.js\n");

/***/ }),

/***/ "./lib/ui/events.js":
/*!**************************!*\
  !*** ./lib/ui/events.js ***!
  \**************************/
/*! exports provided: EventManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EventManager\", function() { return EventManager; });\n/* harmony import */ var _map_default_map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../map/default-map */ \"./lib/map/default-map.js\");\n\n/**\n * Utility class to simplify implementation of the EventDispatcher interface.\n *\n * Example:\n * ```\n * class Foo implements EventDispatcher {\n *   private eventManager: EventManager;\n *   constructor() {\n *     this.eventManager = new EventManager();\n *   }\n *\n *   on(event: string, callback: Function) {\n *     this.eventManager.on(event, callback);\n *   }\n *\n *   off(event: string, callback: Function) {\n *     this.eventManager.off(event, callback);\n *   }\n *\n *   bar() {\n *     this.eventManager.dispatch('someEvent');\n *   }\n * }\n * ```\n */\nclass EventManager {\n    constructor() {\n        this.callbacks = _map_default_map__WEBPACK_IMPORTED_MODULE_0__[\"DefaultMap\"].usingFunction(() => new Set());\n    }\n    /**\n     * Run the given callback when the given event is dispatched.\n     */\n    on(event, callback) {\n        this.callbacks.get(event).add(callback);\n    }\n    /**\n     * Run callbacks for the given event with the given arguments.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    dispatch(event, ...args) {\n        this.callbacks.get(event).forEach(callback => callback(...args));\n    }\n    /**\n     * Stop running the given callback on the given event.\n     */\n    off(event, callback) {\n        const callbacks = this.callbacks.get(event);\n        callbacks.delete(callback);\n        if (callbacks.size === 0) {\n            this.callbacks.delete(event);\n        }\n    }\n    /**\n     * Clear out internal Sets and Map.\n     */\n    dispose() {\n        const values = this.callbacks.values();\n        let callbackSet = values.next();\n        while (!callbackSet.done) {\n            callbackSet.value.clear();\n            callbackSet = values.next();\n        }\n        this.callbacks.clear();\n    }\n}\n//# sourceMappingURL=events.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvdWkvZXZlbnRzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3VpL2V2ZW50cy5qcz9hMWE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERlZmF1bHRNYXAgfSBmcm9tICcuLi9tYXAvZGVmYXVsdC1tYXAnO1xuLyoqXG4gKiBVdGlsaXR5IGNsYXNzIHRvIHNpbXBsaWZ5IGltcGxlbWVudGF0aW9uIG9mIHRoZSBFdmVudERpc3BhdGNoZXIgaW50ZXJmYWNlLlxuICpcbiAqIEV4YW1wbGU6XG4gKiBgYGBcbiAqIGNsYXNzIEZvbyBpbXBsZW1lbnRzIEV2ZW50RGlzcGF0Y2hlciB7XG4gKiAgIHByaXZhdGUgZXZlbnRNYW5hZ2VyOiBFdmVudE1hbmFnZXI7XG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgIHRoaXMuZXZlbnRNYW5hZ2VyID0gbmV3IEV2ZW50TWFuYWdlcigpO1xuICogICB9XG4gKlxuICogICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24pIHtcbiAqICAgICB0aGlzLmV2ZW50TWFuYWdlci5vbihldmVudCwgY2FsbGJhY2spO1xuICogICB9XG4gKlxuICogICBvZmYoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gKiAgICAgdGhpcy5ldmVudE1hbmFnZXIub2ZmKGV2ZW50LCBjYWxsYmFjayk7XG4gKiAgIH1cbiAqXG4gKiAgIGJhcigpIHtcbiAqICAgICB0aGlzLmV2ZW50TWFuYWdlci5kaXNwYXRjaCgnc29tZUV2ZW50Jyk7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgRXZlbnRNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSBEZWZhdWx0TWFwLnVzaW5nRnVuY3Rpb24oKCkgPT4gbmV3IFNldCgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUnVuIHRoZSBnaXZlbiBjYWxsYmFjayB3aGVuIHRoZSBnaXZlbiBldmVudCBpcyBkaXNwYXRjaGVkLlxuICAgICAqL1xuICAgIG9uKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5nZXQoZXZlbnQpLmFkZChjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJ1biBjYWxsYmFja3MgZm9yIHRoZSBnaXZlbiBldmVudCB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHMuXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBkaXNwYXRjaChldmVudCwgLi4uYXJncykge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5nZXQoZXZlbnQpLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2soLi4uYXJncykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9wIHJ1bm5pbmcgdGhlIGdpdmVuIGNhbGxiYWNrIG9uIHRoZSBnaXZlbiBldmVudC5cbiAgICAgKi9cbiAgICBvZmYoZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMuY2FsbGJhY2tzLmdldChldmVudCk7XG4gICAgICAgIGNhbGxiYWNrcy5kZWxldGUoY2FsbGJhY2spO1xuICAgICAgICBpZiAoY2FsbGJhY2tzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLmRlbGV0ZShldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXIgb3V0IGludGVybmFsIFNldHMgYW5kIE1hcC5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLmNhbGxiYWNrcy52YWx1ZXMoKTtcbiAgICAgICAgbGV0IGNhbGxiYWNrU2V0ID0gdmFsdWVzLm5leHQoKTtcbiAgICAgICAgd2hpbGUgKCFjYWxsYmFja1NldC5kb25lKSB7XG4gICAgICAgICAgICBjYWxsYmFja1NldC52YWx1ZS5jbGVhcigpO1xuICAgICAgICAgICAgY2FsbGJhY2tTZXQgPSB2YWx1ZXMubmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLmNsZWFyKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnRzLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/ui/events.js\n");

/***/ }),

/***/ "./lib/ui/swipe.js":
/*!*************************!*\
  !*** ./lib/ui/swipe.js ***!
  \*************************/
/*! exports provided: SwipeEvent, Swipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SwipeEvent\", function() { return SwipeEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Swipe\", function() { return Swipe; });\n/* harmony import */ var _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events */ \"./lib/ui/events.js\");\n/* harmony import */ var _dom_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dom/dom */ \"./lib/dom/dom.js\");\n\n\n\nvar SwipeEvent;\n(function (SwipeEvent) {\n    SwipeEvent[\"UP\"] = \"swipeUp\";\n    SwipeEvent[\"DOWN\"] = \"swipeDown\";\n    SwipeEvent[\"LEFT\"] = \"swipeLeft\";\n    SwipeEvent[\"RIGHT\"] = \"swipeRight\";\n})(SwipeEvent || (SwipeEvent = {}));\n/**\n * A basic class that allows you to watch directional swipe events on a given\n * element.\n *\n *\n * Usage:\n * ```ts\n * const swiper = new Swipe(myElement);\n *\n * swiper.on(Swipe.Events.UP, ()=> {\n *   // swipe up.\n * })\n * swiper.on(Swipe.Events.LEFT, ()=> {\n *   // swipe left\n * })\n *\n * // Later\n * swiper.dispose();\n * ```\n *\n *\n *\n * Events are also fired on the element itself.\n *\n * ```ts\n * const swiper = new Swipe(myElement);\n * myElement.addEventListener(Swipe.Events.UP, ()=> {\n *   // swipe up.\n * })\n * ```\n */\nclass Swipe {\n    constructor(rootElement) {\n        this.allowSwipe = false;\n        this.rootElement = rootElement;\n        this.eventManager = new _events__WEBPACK_IMPORTED_MODULE_1__[\"EventManager\"]();\n        this.watcher = new _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_0__[\"DomWatcher\"]();\n        this.listenToEvents();\n    }\n    listenToEvents() {\n        this.watcher.add({\n            element: this.rootElement,\n            on: 'touchstart',\n            eventOptions: { passive: true },\n            callback: this.onPointerDown.bind(this),\n        });\n        this.watcher.add({\n            element: this.rootElement,\n            on: 'touchend',\n            eventOptions: { passive: true },\n            callback: this.onPointerUp.bind(this),\n        });\n        this.watcher.add({\n            element: this.rootElement,\n            on: 'touchmove',\n            eventOptions: { passive: true },\n            callback: this.onPointerMove.bind(this),\n        });\n        this.watcher.add({\n            element: this.rootElement,\n            on: 'mousedown',\n            eventOptions: { passive: true },\n            callback: this.onPointerDown.bind(this),\n        });\n        this.watcher.add({\n            element: this.rootElement,\n            on: 'mouseup',\n            eventOptions: { passive: true },\n            callback: this.onPointerUp.bind(this),\n        });\n        this.watcher.add({\n            element: this.rootElement,\n            on: 'mousemove',\n            eventOptions: { passive: true },\n            callback: this.onPointerMove.bind(this),\n        });\n    }\n    onPointerDown(e) {\n        if (window.TouchEvent && e instanceof TouchEvent) {\n            this.x = e.touches[0].clientX;\n            this.y = e.touches[0].clientY;\n        }\n        if (e instanceof MouseEvent) {\n            this.x = e.x;\n            this.y = e.y;\n        }\n        this.allowSwipe = true;\n    }\n    onPointerUp() {\n        if (!this.x || !this.y || !this.allowSwipe) {\n            return;\n        }\n        const diffX = this.x - this.mouseX;\n        const diffY = this.y - this.mouseY;\n        // Determine swipe direction\n        if (Math.abs(diffX) > Math.abs(diffY)) {\n            if (diffX > 0) {\n                this.eventManager.dispatch(Swipe.Events.LEFT);\n                _dom_dom__WEBPACK_IMPORTED_MODULE_2__[\"event\"](this.rootElement, Swipe.Events.LEFT, {});\n            }\n            else {\n                this.eventManager.dispatch(Swipe.Events.RIGHT);\n                _dom_dom__WEBPACK_IMPORTED_MODULE_2__[\"event\"](this.rootElement, Swipe.Events.RIGHT, {});\n            }\n        }\n        else {\n            if (diffY > 0) {\n                this.eventManager.dispatch(Swipe.Events.UP);\n                _dom_dom__WEBPACK_IMPORTED_MODULE_2__[\"event\"](this.rootElement, Swipe.Events.UP, {});\n            }\n            else {\n                this.eventManager.dispatch(Swipe.Events.DOWN);\n                _dom_dom__WEBPACK_IMPORTED_MODULE_2__[\"event\"](this.rootElement, Swipe.Events.DOWN, {});\n            }\n        }\n        this.allowSwipe = false;\n    }\n    onPointerMove(e) {\n        if (window.TouchEvent && e instanceof TouchEvent) {\n            this.mouseX = e.touches[0].clientX;\n            this.mouseY = e.touches[0].clientY;\n        }\n        if (e instanceof MouseEvent) {\n            this.mouseX = e.x;\n            this.mouseY = e.y;\n        }\n    }\n    on(eventName, callback) {\n        this.eventManager.on(eventName, callback);\n    }\n    off(eventName, callback) {\n        this.eventManager.off(eventName, callback);\n    }\n    dispose() {\n        this.eventManager.dispose();\n        this.watcher.dispose();\n    }\n}\nSwipe.Events = SwipeEvent;\n//# sourceMappingURL=swipe.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvdWkvc3dpcGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvdWkvc3dpcGUuanM/ZTI1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEb21XYXRjaGVyIH0gZnJvbSAnLi4vZG9tL2RvbS13YXRjaGVyJztcbmltcG9ydCB7IEV2ZW50TWFuYWdlciB9IGZyb20gJy4vZXZlbnRzJztcbmltcG9ydCAqIGFzIGRvbSBmcm9tICcuLi9kb20vZG9tJztcbmV4cG9ydCB2YXIgU3dpcGVFdmVudDtcbihmdW5jdGlvbiAoU3dpcGVFdmVudCkge1xuICAgIFN3aXBlRXZlbnRbXCJVUFwiXSA9IFwic3dpcGVVcFwiO1xuICAgIFN3aXBlRXZlbnRbXCJET1dOXCJdID0gXCJzd2lwZURvd25cIjtcbiAgICBTd2lwZUV2ZW50W1wiTEVGVFwiXSA9IFwic3dpcGVMZWZ0XCI7XG4gICAgU3dpcGVFdmVudFtcIlJJR0hUXCJdID0gXCJzd2lwZVJpZ2h0XCI7XG59KShTd2lwZUV2ZW50IHx8IChTd2lwZUV2ZW50ID0ge30pKTtcbi8qKlxuICogQSBiYXNpYyBjbGFzcyB0aGF0IGFsbG93cyB5b3UgdG8gd2F0Y2ggZGlyZWN0aW9uYWwgc3dpcGUgZXZlbnRzIG9uIGEgZ2l2ZW5cbiAqIGVsZW1lbnQuXG4gKlxuICpcbiAqIFVzYWdlOlxuICogYGBgdHNcbiAqIGNvbnN0IHN3aXBlciA9IG5ldyBTd2lwZShteUVsZW1lbnQpO1xuICpcbiAqIHN3aXBlci5vbihTd2lwZS5FdmVudHMuVVAsICgpPT4ge1xuICogICAvLyBzd2lwZSB1cC5cbiAqIH0pXG4gKiBzd2lwZXIub24oU3dpcGUuRXZlbnRzLkxFRlQsICgpPT4ge1xuICogICAvLyBzd2lwZSBsZWZ0XG4gKiB9KVxuICpcbiAqIC8vIExhdGVyXG4gKiBzd2lwZXIuZGlzcG9zZSgpO1xuICogYGBgXG4gKlxuICpcbiAqXG4gKiBFdmVudHMgYXJlIGFsc28gZmlyZWQgb24gdGhlIGVsZW1lbnQgaXRzZWxmLlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCBzd2lwZXIgPSBuZXcgU3dpcGUobXlFbGVtZW50KTtcbiAqIG15RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFN3aXBlLkV2ZW50cy5VUCwgKCk9PiB7XG4gKiAgIC8vIHN3aXBlIHVwLlxuICogfSlcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgU3dpcGUge1xuICAgIGNvbnN0cnVjdG9yKHJvb3RFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuYWxsb3dTd2lwZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJvb3RFbGVtZW50ID0gcm9vdEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyID0gbmV3IEV2ZW50TWFuYWdlcigpO1xuICAgICAgICB0aGlzLndhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgICAgICB0aGlzLmxpc3RlblRvRXZlbnRzKCk7XG4gICAgfVxuICAgIGxpc3RlblRvRXZlbnRzKCkge1xuICAgICAgICB0aGlzLndhdGNoZXIuYWRkKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMucm9vdEVsZW1lbnQsXG4gICAgICAgICAgICBvbjogJ3RvdWNoc3RhcnQnLFxuICAgICAgICAgICAgZXZlbnRPcHRpb25zOiB7IHBhc3NpdmU6IHRydWUgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUG9pbnRlckRvd24uYmluZCh0aGlzKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgZWxlbWVudDogdGhpcy5yb290RWxlbWVudCxcbiAgICAgICAgICAgIG9uOiAndG91Y2hlbmQnLFxuICAgICAgICAgICAgZXZlbnRPcHRpb25zOiB7IHBhc3NpdmU6IHRydWUgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUG9pbnRlclVwLmJpbmQodGhpcyksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLndhdGNoZXIuYWRkKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMucm9vdEVsZW1lbnQsXG4gICAgICAgICAgICBvbjogJ3RvdWNobW92ZScsXG4gICAgICAgICAgICBldmVudE9wdGlvbnM6IHsgcGFzc2l2ZTogdHJ1ZSB9LFxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMub25Qb2ludGVyTW92ZS5iaW5kKHRoaXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy53YXRjaGVyLmFkZCh7XG4gICAgICAgICAgICBlbGVtZW50OiB0aGlzLnJvb3RFbGVtZW50LFxuICAgICAgICAgICAgb246ICdtb3VzZWRvd24nLFxuICAgICAgICAgICAgZXZlbnRPcHRpb25zOiB7IHBhc3NpdmU6IHRydWUgfSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLm9uUG9pbnRlckRvd24uYmluZCh0aGlzKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgZWxlbWVudDogdGhpcy5yb290RWxlbWVudCxcbiAgICAgICAgICAgIG9uOiAnbW91c2V1cCcsXG4gICAgICAgICAgICBldmVudE9wdGlvbnM6IHsgcGFzc2l2ZTogdHJ1ZSB9LFxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMub25Qb2ludGVyVXAuYmluZCh0aGlzKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud2F0Y2hlci5hZGQoe1xuICAgICAgICAgICAgZWxlbWVudDogdGhpcy5yb290RWxlbWVudCxcbiAgICAgICAgICAgIG9uOiAnbW91c2Vtb3ZlJyxcbiAgICAgICAgICAgIGV2ZW50T3B0aW9uczogeyBwYXNzaXZlOiB0cnVlIH0sXG4gICAgICAgICAgICBjYWxsYmFjazogdGhpcy5vblBvaW50ZXJNb3ZlLmJpbmQodGhpcyksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvblBvaW50ZXJEb3duKGUpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5Ub3VjaEV2ZW50ICYmIGUgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnggPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgICAgICAgIHRoaXMueSA9IGUudG91Y2hlc1swXS5jbGllbnRZO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xuICAgICAgICAgICAgdGhpcy54ID0gZS54O1xuICAgICAgICAgICAgdGhpcy55ID0gZS55O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWxsb3dTd2lwZSA9IHRydWU7XG4gICAgfVxuICAgIG9uUG9pbnRlclVwKCkge1xuICAgICAgICBpZiAoIXRoaXMueCB8fCAhdGhpcy55IHx8ICF0aGlzLmFsbG93U3dpcGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaWZmWCA9IHRoaXMueCAtIHRoaXMubW91c2VYO1xuICAgICAgICBjb25zdCBkaWZmWSA9IHRoaXMueSAtIHRoaXMubW91c2VZO1xuICAgICAgICAvLyBEZXRlcm1pbmUgc3dpcGUgZGlyZWN0aW9uXG4gICAgICAgIGlmIChNYXRoLmFicyhkaWZmWCkgPiBNYXRoLmFicyhkaWZmWSkpIHtcbiAgICAgICAgICAgIGlmIChkaWZmWCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci5kaXNwYXRjaChTd2lwZS5FdmVudHMuTEVGVCk7XG4gICAgICAgICAgICAgICAgZG9tLmV2ZW50KHRoaXMucm9vdEVsZW1lbnQsIFN3aXBlLkV2ZW50cy5MRUZULCB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci5kaXNwYXRjaChTd2lwZS5FdmVudHMuUklHSFQpO1xuICAgICAgICAgICAgICAgIGRvbS5ldmVudCh0aGlzLnJvb3RFbGVtZW50LCBTd2lwZS5FdmVudHMuUklHSFQsIHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChkaWZmWSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci5kaXNwYXRjaChTd2lwZS5FdmVudHMuVVApO1xuICAgICAgICAgICAgICAgIGRvbS5ldmVudCh0aGlzLnJvb3RFbGVtZW50LCBTd2lwZS5FdmVudHMuVVAsIHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKFN3aXBlLkV2ZW50cy5ET1dOKTtcbiAgICAgICAgICAgICAgICBkb20uZXZlbnQodGhpcy5yb290RWxlbWVudCwgU3dpcGUuRXZlbnRzLkRPV04sIHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFsbG93U3dpcGUgPSBmYWxzZTtcbiAgICB9XG4gICAgb25Qb2ludGVyTW92ZShlKSB7XG4gICAgICAgIGlmICh3aW5kb3cuVG91Y2hFdmVudCAmJiBlIGluc3RhbmNlb2YgVG91Y2hFdmVudCkge1xuICAgICAgICAgICAgdGhpcy5tb3VzZVggPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgICAgICAgIHRoaXMubW91c2VZID0gZS50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBNb3VzZUV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlWCA9IGUueDtcbiAgICAgICAgICAgIHRoaXMubW91c2VZID0gZS55O1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIub24oZXZlbnROYW1lLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIG9mZihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLm9mZihldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLndhdGNoZXIuZGlzcG9zZSgpO1xuICAgIH1cbn1cblN3aXBlLkV2ZW50cyA9IFN3aXBlRXZlbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zd2lwZS5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/ui/swipe.js\n");

/***/ }),

/***/ "./lib/x/x-game-object.js":
/*!********************************!*\
  !*** ./lib/x/x-game-object.js ***!
  \********************************/
/*! exports provided: XGameObjectDefaults, XGameObject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XGameObjectDefaults\", function() { return XGameObjectDefaults; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XGameObject\", function() { return XGameObject; });\n/* harmony import */ var _func_func__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _mathf_vector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\n/* harmony import */ var _ease_ease__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ease/ease */ \"./lib/ease/ease.js\");\n\n\n\n\nconst XGameObjectDefaults = {\n    id: '',\n    x: 0,\n    y: 0,\n    alpha: 1,\n    width: 0,\n    height: 0,\n    scaleX: 1,\n    scaleY: 1,\n    anchorX: 0,\n    anchorY: 0,\n    rotation: 0,\n    interactable: false,\n    zIndex: 0,\n};\n/**\n * # XEngine Game Object\n *\n * The GameObject is a central part of the X Engine and specifically,\n * the coordinate system is designed to make global calculations easy\n * so that the x-engine objects that exist in canvas can ultimately,\n * easily be aligned with DOM elements.\n *\n * At a high level, the XStage typically is the top level GameObject.\n * Each GameObject can have children.  When a child is attached to\n * a GameObject, it becomes grouped with it's parents and it's x,y positions\n * will become relative to the parent.\n *\n *\n * # Positioning System\n * Positioning is coordinated by a combination of position, velocity and\n * acceleration vectors.\n *\n * position vector  (x,y)\n * - this is the actual coordinates of the GameObject.\n *\n * velocity vector (vx, vy)\n * - velocity is how much the position is changed per frame.  In short,\n *   velocity gets added to the position every frame.\n *\n * acceleration vector (ax, ay)\n * - A force that changes velocity.\n *   acceleration is added to the velocity vector every frame.  acceleration\n *   changes velocity.\n *\n * See the updatePosition method to see how these are added on each gameLoop\n * cycle.\n *\n *\n *\n *\n *\n * @unstable\n */\nclass XGameObject {\n    constructor(config) {\n        this.parent = undefined;\n        this.visible = true;\n        this.debugObject = false;\n        this.children = [];\n        this.alpha_ = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.alpha, 1);\n        this.id = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.id, XGameObjectDefaults.id);\n        this.zIndex = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.zIndex, XGameObjectDefaults.zIndex);\n        const x = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.x, XGameObjectDefaults.x);\n        const y = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.y, XGameObjectDefaults.y);\n        this.position = new _mathf_vector__WEBPACK_IMPORTED_MODULE_2__[\"Vector\"](x, y);\n        this.velocity = _mathf_vector__WEBPACK_IMPORTED_MODULE_2__[\"Vector\"].ZERO;\n        this.acceleration = _mathf_vector__WEBPACK_IMPORTED_MODULE_2__[\"Vector\"].ZERO;\n        this.naturalScaleX = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.scaleX, XGameObjectDefaults.scaleX);\n        this.naturalScaleY = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.scaleY, XGameObjectDefaults.scaleY);\n        this.anchorX = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.anchorX, XGameObjectDefaults.anchorX);\n        this.anchorY = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.anchorY, XGameObjectDefaults.anchorY);\n        this.naturalWidth = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.width, XGameObjectDefaults.width);\n        this.naturalHeight = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.height, XGameObjectDefaults.height);\n        this.rotation = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.rotation, XGameObjectDefaults.rotation);\n        this.interactable = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.interactable, XGameObjectDefaults.interactable);\n        this.onMouseUp = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.onMouseUp, null);\n        this.onMouseMove = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.onMouseMove, null);\n        this.onMouseDown = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.onMouseDown, null);\n        this.texture = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.texture, null);\n        if (this.texture) {\n            this.setTexture(this.texture);\n        }\n    }\n    get x() {\n        return this.position.x;\n    }\n    set x(value) {\n        this.position.x = value;\n    }\n    get y() {\n        return this.position.y;\n    }\n    set y(value) {\n        this.position.y = value;\n    }\n    get vx() {\n        return this.velocity.x;\n    }\n    set vx(value) {\n        this.velocity.x = value;\n    }\n    get vy() {\n        return this.velocity.y;\n    }\n    set vy(value) {\n        this.velocity.y = value;\n    }\n    get ax() {\n        return this.acceleration.x;\n    }\n    set ax(value) {\n        this.acceleration.x = value;\n    }\n    get ay() {\n        return this.acceleration.y;\n    }\n    set ay(value) {\n        this.acceleration.y = value;\n    }\n    /**\n     * Sets a main texture for this sprite.\n     * @param texture\n     */\n    setTexture(texture) {\n        this.texture = texture;\n        this.naturalWidth = this.texture.width;\n        this.naturalHeight = this.texture.height;\n    }\n    /**\n     * The global x coordinates of this GameObject.  This is a combination\n     * of the local x value + the parents global x value.  Does not consider\n     * rotation (use globalCorners for that).\n     */\n    get gx() {\n        const parentGx = (this.parent && this.parent.gx) || 0;\n        return this.x + parentGx;\n    }\n    /**\n     * The global y coordinates of this GameObject.  This is a combination\n     * of the local y value + the parents global y value.  Does not consider\n     * rotation (use global corders for that.)\n     */\n    get gy() {\n        const parentGy = (this.parent && this.parent.gy) || 0;\n        return this.y + parentGy;\n    }\n    /**\n     * The global computed positions of this gameObject with scale and rotation.\n     * The top left, top right, bottom left, and bottom right\n     * x, y coordinates of this game object (assume it is rectangular) in\n     * the actually computed sizes on the screen.\n     * This value is computed and considers scales and rotation as represented\n     * the exact coordinates on the screen so it useful if you want global\n     * coordinates of the gameObject position, width and height.\n     *\n     * Return the XGameConfigComputedBox\n     * @returns {XGameConfigComputedBox}\n     */\n    get globalComputedBox() {\n        // First figure out the coordinates of each corner\n        // without the rotation.\n        const box = {\n            centerPoint: {\n                x: this.gcx,\n                y: this.gcy,\n            },\n            width: this.width,\n            height: this.height,\n            topLeft: {\n                x: this.gx,\n                y: this.gy,\n            },\n            topRight: {\n                x: this.gx + this.width,\n                y: this.gy,\n            },\n            bottomLeft: {\n                x: this.gx,\n                y: this.gy + this.height,\n            },\n            bottomRight: {\n                x: this.gx + this.width,\n                y: this.gy + this.height,\n            },\n        };\n        // Now calculate the rotation of each point via 2d rotation matrix.\n        const cx = this.gcx;\n        const cy = this.gcy;\n        const topLeft = _mathf_mathf__WEBPACK_IMPORTED_MODULE_1__[\"mathf\"].calculate2dPointRotation(cx, cy, box.topLeft.x, box.topLeft.y, this.rotation);\n        box.topLeft.x = topLeft.x;\n        box.topLeft.y = topLeft.y;\n        const topRight = _mathf_mathf__WEBPACK_IMPORTED_MODULE_1__[\"mathf\"].calculate2dPointRotation(cx, cy, box.topRight.x, box.topRight.y, this.rotation);\n        box.topRight.x = topRight.x;\n        box.topRight.y = topRight.y;\n        const bottomLeft = _mathf_mathf__WEBPACK_IMPORTED_MODULE_1__[\"mathf\"].calculate2dPointRotation(cx, cy, box.bottomLeft.x, box.bottomLeft.y, this.rotation);\n        box.bottomLeft.x = bottomLeft.x;\n        box.bottomLeft.y = bottomLeft.y;\n        const bottomRight = _mathf_mathf__WEBPACK_IMPORTED_MODULE_1__[\"mathf\"].calculate2dPointRotation(cx, cy, box.bottomRight.x, box.bottomRight.y, this.rotation);\n        box.bottomRight.x = bottomRight.x;\n        box.bottomRight.y = bottomRight.y;\n        return box;\n    }\n    /**\n     * The global center point x of this object.\n     */\n    get gcx() {\n        return this.gx + this.anchorXOffset;\n    }\n    /**\n     * The global center point y of this object.\n     */\n    get gcy() {\n        return this.gy + this.anchorYOffset;\n    }\n    get globalCenterVector() {\n        return new _mathf_vector__WEBPACK_IMPORTED_MODULE_2__[\"Vector\"](this.gcx, this.gcy).floor();\n    }\n    get anchorXOffset() {\n        return this.naturalAnchorXOffset * this.scaleX;\n    }\n    get anchorYOffset() {\n        return this.naturalAnchorYOffset * this.scaleY;\n    }\n    /**\n     * This is a vector representing the \"computed\" (including scale),\n     * vector from the top, left of the GameObject to the center point.\n     */\n    get anchorOffsetVector() {\n        return new _mathf_vector__WEBPACK_IMPORTED_MODULE_2__[\"Vector\"](this.anchorXOffset, this.anchorYOffset).floor();\n    }\n    /**\n     * Give that the x, y position represent the position of the Gameobject,\n     * the amount we need to move to get to the anchor point.\n     *\n     * Let's say we have an object that is 500x500 at coords 0,0.\n     * If the anchor is 0.5, 0.5 for example, the anchor is dead center of the\n     * object.\n     *-----------\n     *\n     *     a\n     *\n     * ----------\n     *\n     * The anchorXOffset would be 250 and anchorYOffset would be 250.\n     * That is 0 (x) + 250 (anchorXOffset) = 250\n     * That is 0 (y) + 250 (anchorYOffset) = 250\n     *\n     */\n    get naturalAnchorXOffset() {\n        return this.naturalWidth * this.anchorX;\n    }\n    get naturalAnchorYOffset() {\n        return this.naturalHeight * this.anchorY;\n    }\n    /**\n     * The computed width of this gameObject when it is rendered on the canvas.\n     * This is effectively the global scale * the width internal width value.\n     */\n    get width() {\n        return this.naturalWidth * this.scaleX;\n    }\n    set width(value) {\n        this.naturalWidth = value;\n    }\n    /**\n     * The computed height of this gameObject when it is rendered on the canvas.\n     * This is effectively the global scale * the width internal width value.\n     */\n    get height() {\n        return this.naturalHeight * this.scaleX;\n    }\n    set height(value) {\n        this.naturalHeight = value;\n    }\n    /**\n     * The global anchor x positon.\n     */\n    get anchorGx() {\n        return this.gx + this.naturalAnchorXOffset;\n    }\n    /**\n     * The global anchor y positon.\n     */\n    get anchorGy() {\n        return this.gy + this.naturalAnchorYOffset;\n    }\n    get alpha() {\n        const parentAlpha = (this.parent && this.parent.alpha) || 1;\n        const relativeAlpha = parentAlpha * this.alpha_;\n        return relativeAlpha;\n    }\n    set alpha(value) {\n        this.alpha_ = value;\n    }\n    get scaleX() {\n        const parentScaleX = (this.parent && this.parent.scaleX) || 1;\n        const relativeScale = parentScaleX * this.naturalScaleY;\n        return relativeScale;\n    }\n    set scaleX(value) {\n        this.scaleX = value;\n    }\n    get scaleY() {\n        const parentScaleY = (this.parent && this.parent.scaleY) || 1;\n        const relativeScale = parentScaleY * this.naturalScaleY;\n        return relativeScale;\n    }\n    set scaleY(value) {\n        this.scaleY = value;\n    }\n    setPosition(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    /**\n     * Adds a child to this sprite.  At the highest level, the stage sprite\n     * will receive the canvas context and element when it\n     * [[XStage.attachToCanvas]] is called.  From there, any sprite that attaches\n     * to the stage, receives the canvas, context and then further, passes it\n     * on to it's descendants in this method.\n     * @param sprite\n     */\n    addChild(sprite) {\n        sprite.parent = this;\n        this.children.push(sprite);\n        // Always maintain an ordered list of children.\n        this.orderChildrenByZIndex();\n    }\n    /**\n     * Order the children by z-index\n     */\n    orderChildrenByZIndex() {\n        this.children = this.children.sort((a, b) => {\n            return a.zIndex - b.zIndex;\n        });\n    }\n    removeChild(sprite) {\n        if (sprite.parent !== this) {\n            throw new Error(sprite + 'is not a child of ' + this);\n        }\n        this.children = this.children.filter(childSprites => {\n            return sprite !== childSprites;\n        });\n    }\n    /**\n     * In the game loop called prior to rendering to update position of this\n     * object.\n     */\n    updatePositions() {\n        if (this.debugObject) {\n            this.velocity.add(this.acceleration);\n            this.position.add(this.velocity);\n        }\n        else {\n            this.velocity.ease(this.acceleration, 1, _ease_ease__WEBPACK_IMPORTED_MODULE_3__[\"linear\"]);\n            this.position.add(this.velocity);\n        }\n    }\n    /**\n     * Render this object onto the current canvas.\n     */\n    render(context) {\n        if (this.texture) {\n            context.drawImage(this.texture.imageElement, 0, 0, this.texture.width, this.texture.height, \n            // If the anchor is 0,0, this value would be 0,0.\n            // we want to paint it at exactly where the anchor is.\n            -this.naturalAnchorXOffset, -this.naturalAnchorYOffset, this.naturalWidth, this.naturalHeight);\n        }\n    }\n    renderDebuggingOutlines(context) {\n        context.strokeStyle = 'red';\n        context.lineWidth = 10;\n        context.strokeRect(\n        // If the anchor is 0,0, this value would be 0,0.\n        // we want to paint it at exactly where the anchor is.\n        -this.naturalAnchorXOffset, -this.naturalAnchorYOffset, this.naturalWidth, this.naturalHeight);\n    }\n}\n//# sourceMappingURL=x-game-object.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIveC94LWdhbWUtb2JqZWN0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3gveC1nYW1lLW9iamVjdC5qcz83ZDc0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGZ1bmMgZnJvbSAnLi4vZnVuYy9mdW5jJztcbmltcG9ydCB7IG1hdGhmIH0gZnJvbSAnLi4vbWF0aGYvbWF0aGYnO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vbWF0aGYvdmVjdG9yJztcbmltcG9ydCAqIGFzIEVBU0UgZnJvbSAnLi4vZWFzZS9lYXNlJztcbmV4cG9ydCBjb25zdCBYR2FtZU9iamVjdERlZmF1bHRzID0ge1xuICAgIGlkOiAnJyxcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgYWxwaGE6IDEsXG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwLFxuICAgIHNjYWxlWDogMSxcbiAgICBzY2FsZVk6IDEsXG4gICAgYW5jaG9yWDogMCxcbiAgICBhbmNob3JZOiAwLFxuICAgIHJvdGF0aW9uOiAwLFxuICAgIGludGVyYWN0YWJsZTogZmFsc2UsXG4gICAgekluZGV4OiAwLFxufTtcbi8qKlxuICogIyBYRW5naW5lIEdhbWUgT2JqZWN0XG4gKlxuICogVGhlIEdhbWVPYmplY3QgaXMgYSBjZW50cmFsIHBhcnQgb2YgdGhlIFggRW5naW5lIGFuZCBzcGVjaWZpY2FsbHksXG4gKiB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0gaXMgZGVzaWduZWQgdG8gbWFrZSBnbG9iYWwgY2FsY3VsYXRpb25zIGVhc3lcbiAqIHNvIHRoYXQgdGhlIHgtZW5naW5lIG9iamVjdHMgdGhhdCBleGlzdCBpbiBjYW52YXMgY2FuIHVsdGltYXRlbHksXG4gKiBlYXNpbHkgYmUgYWxpZ25lZCB3aXRoIERPTSBlbGVtZW50cy5cbiAqXG4gKiBBdCBhIGhpZ2ggbGV2ZWwsIHRoZSBYU3RhZ2UgdHlwaWNhbGx5IGlzIHRoZSB0b3AgbGV2ZWwgR2FtZU9iamVjdC5cbiAqIEVhY2ggR2FtZU9iamVjdCBjYW4gaGF2ZSBjaGlsZHJlbi4gIFdoZW4gYSBjaGlsZCBpcyBhdHRhY2hlZCB0b1xuICogYSBHYW1lT2JqZWN0LCBpdCBiZWNvbWVzIGdyb3VwZWQgd2l0aCBpdCdzIHBhcmVudHMgYW5kIGl0J3MgeCx5IHBvc2l0aW9uc1xuICogd2lsbCBiZWNvbWUgcmVsYXRpdmUgdG8gdGhlIHBhcmVudC5cbiAqXG4gKlxuICogIyBQb3NpdGlvbmluZyBTeXN0ZW1cbiAqIFBvc2l0aW9uaW5nIGlzIGNvb3JkaW5hdGVkIGJ5IGEgY29tYmluYXRpb24gb2YgcG9zaXRpb24sIHZlbG9jaXR5IGFuZFxuICogYWNjZWxlcmF0aW9uIHZlY3RvcnMuXG4gKlxuICogcG9zaXRpb24gdmVjdG9yICAoeCx5KVxuICogLSB0aGlzIGlzIHRoZSBhY3R1YWwgY29vcmRpbmF0ZXMgb2YgdGhlIEdhbWVPYmplY3QuXG4gKlxuICogdmVsb2NpdHkgdmVjdG9yICh2eCwgdnkpXG4gKiAtIHZlbG9jaXR5IGlzIGhvdyBtdWNoIHRoZSBwb3NpdGlvbiBpcyBjaGFuZ2VkIHBlciBmcmFtZS4gIEluIHNob3J0LFxuICogICB2ZWxvY2l0eSBnZXRzIGFkZGVkIHRvIHRoZSBwb3NpdGlvbiBldmVyeSBmcmFtZS5cbiAqXG4gKiBhY2NlbGVyYXRpb24gdmVjdG9yIChheCwgYXkpXG4gKiAtIEEgZm9yY2UgdGhhdCBjaGFuZ2VzIHZlbG9jaXR5LlxuICogICBhY2NlbGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIHZlbG9jaXR5IHZlY3RvciBldmVyeSBmcmFtZS4gIGFjY2VsZXJhdGlvblxuICogICBjaGFuZ2VzIHZlbG9jaXR5LlxuICpcbiAqIFNlZSB0aGUgdXBkYXRlUG9zaXRpb24gbWV0aG9kIHRvIHNlZSBob3cgdGhlc2UgYXJlIGFkZGVkIG9uIGVhY2ggZ2FtZUxvb3BcbiAqIGN5Y2xlLlxuICpcbiAqXG4gKlxuICpcbiAqXG4gKiBAdW5zdGFibGVcbiAqL1xuZXhwb3J0IGNsYXNzIFhHYW1lT2JqZWN0IHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVidWdPYmplY3QgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICB0aGlzLmFscGhhXyA9IGZ1bmMuc2V0RGVmYXVsdChjb25maWcuYWxwaGEsIDEpO1xuICAgICAgICB0aGlzLmlkID0gZnVuYy5zZXREZWZhdWx0KGNvbmZpZy5pZCwgWEdhbWVPYmplY3REZWZhdWx0cy5pZCk7XG4gICAgICAgIHRoaXMuekluZGV4ID0gZnVuYy5zZXREZWZhdWx0KGNvbmZpZy56SW5kZXgsIFhHYW1lT2JqZWN0RGVmYXVsdHMuekluZGV4KTtcbiAgICAgICAgY29uc3QgeCA9IGZ1bmMuc2V0RGVmYXVsdChjb25maWcueCwgWEdhbWVPYmplY3REZWZhdWx0cy54KTtcbiAgICAgICAgY29uc3QgeSA9IGZ1bmMuc2V0RGVmYXVsdChjb25maWcueSwgWEdhbWVPYmplY3REZWZhdWx0cy55KTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBWZWN0b3IoeCwgeSk7XG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSBWZWN0b3IuWkVSTztcbiAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24gPSBWZWN0b3IuWkVSTztcbiAgICAgICAgdGhpcy5uYXR1cmFsU2NhbGVYID0gZnVuYy5zZXREZWZhdWx0KGNvbmZpZy5zY2FsZVgsIFhHYW1lT2JqZWN0RGVmYXVsdHMuc2NhbGVYKTtcbiAgICAgICAgdGhpcy5uYXR1cmFsU2NhbGVZID0gZnVuYy5zZXREZWZhdWx0KGNvbmZpZy5zY2FsZVksIFhHYW1lT2JqZWN0RGVmYXVsdHMuc2NhbGVZKTtcbiAgICAgICAgdGhpcy5hbmNob3JYID0gZnVuYy5zZXREZWZhdWx0KGNvbmZpZy5hbmNob3JYLCBYR2FtZU9iamVjdERlZmF1bHRzLmFuY2hvclgpO1xuICAgICAgICB0aGlzLmFuY2hvclkgPSBmdW5jLnNldERlZmF1bHQoY29uZmlnLmFuY2hvclksIFhHYW1lT2JqZWN0RGVmYXVsdHMuYW5jaG9yWSk7XG4gICAgICAgIHRoaXMubmF0dXJhbFdpZHRoID0gZnVuYy5zZXREZWZhdWx0KGNvbmZpZy53aWR0aCwgWEdhbWVPYmplY3REZWZhdWx0cy53aWR0aCk7XG4gICAgICAgIHRoaXMubmF0dXJhbEhlaWdodCA9IGZ1bmMuc2V0RGVmYXVsdChjb25maWcuaGVpZ2h0LCBYR2FtZU9iamVjdERlZmF1bHRzLmhlaWdodCk7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSBmdW5jLnNldERlZmF1bHQoY29uZmlnLnJvdGF0aW9uLCBYR2FtZU9iamVjdERlZmF1bHRzLnJvdGF0aW9uKTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGFibGUgPSBmdW5jLnNldERlZmF1bHQoY29uZmlnLmludGVyYWN0YWJsZSwgWEdhbWVPYmplY3REZWZhdWx0cy5pbnRlcmFjdGFibGUpO1xuICAgICAgICB0aGlzLm9uTW91c2VVcCA9IGZ1bmMuc2V0RGVmYXVsdChjb25maWcub25Nb3VzZVVwLCBudWxsKTtcbiAgICAgICAgdGhpcy5vbk1vdXNlTW92ZSA9IGZ1bmMuc2V0RGVmYXVsdChjb25maWcub25Nb3VzZU1vdmUsIG51bGwpO1xuICAgICAgICB0aGlzLm9uTW91c2VEb3duID0gZnVuYy5zZXREZWZhdWx0KGNvbmZpZy5vbk1vdXNlRG93biwgbnVsbCk7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IGZ1bmMuc2V0RGVmYXVsdChjb25maWcudGV4dHVyZSwgbnVsbCk7XG4gICAgICAgIGlmICh0aGlzLnRleHR1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VGV4dHVyZSh0aGlzLnRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCB4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi54O1xuICAgIH1cbiAgICBzZXQgeCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLnk7XG4gICAgfVxuICAgIHNldCB5KHZhbHVlKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgdngoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlbG9jaXR5Lng7XG4gICAgfVxuICAgIHNldCB2eCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZlbG9jaXR5LnggPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IHZ5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52ZWxvY2l0eS55O1xuICAgIH1cbiAgICBzZXQgdnkodmFsdWUpIHtcbiAgICAgICAgdGhpcy52ZWxvY2l0eS55ID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBheCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWNjZWxlcmF0aW9uLng7XG4gICAgfVxuICAgIHNldCBheCh2YWx1ZSkge1xuICAgICAgICB0aGlzLmFjY2VsZXJhdGlvbi54ID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBheSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWNjZWxlcmF0aW9uLnk7XG4gICAgfVxuICAgIHNldCBheSh2YWx1ZSkge1xuICAgICAgICB0aGlzLmFjY2VsZXJhdGlvbi55ID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgYSBtYWluIHRleHR1cmUgZm9yIHRoaXMgc3ByaXRlLlxuICAgICAqIEBwYXJhbSB0ZXh0dXJlXG4gICAgICovXG4gICAgc2V0VGV4dHVyZSh0ZXh0dXJlKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHRoaXMubmF0dXJhbFdpZHRoID0gdGhpcy50ZXh0dXJlLndpZHRoO1xuICAgICAgICB0aGlzLm5hdHVyYWxIZWlnaHQgPSB0aGlzLnRleHR1cmUuaGVpZ2h0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZ2xvYmFsIHggY29vcmRpbmF0ZXMgb2YgdGhpcyBHYW1lT2JqZWN0LiAgVGhpcyBpcyBhIGNvbWJpbmF0aW9uXG4gICAgICogb2YgdGhlIGxvY2FsIHggdmFsdWUgKyB0aGUgcGFyZW50cyBnbG9iYWwgeCB2YWx1ZS4gIERvZXMgbm90IGNvbnNpZGVyXG4gICAgICogcm90YXRpb24gKHVzZSBnbG9iYWxDb3JuZXJzIGZvciB0aGF0KS5cbiAgICAgKi9cbiAgICBnZXQgZ3goKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudEd4ID0gKHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50Lmd4KSB8fCAwO1xuICAgICAgICByZXR1cm4gdGhpcy54ICsgcGFyZW50R3g7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBnbG9iYWwgeSBjb29yZGluYXRlcyBvZiB0aGlzIEdhbWVPYmplY3QuICBUaGlzIGlzIGEgY29tYmluYXRpb25cbiAgICAgKiBvZiB0aGUgbG9jYWwgeSB2YWx1ZSArIHRoZSBwYXJlbnRzIGdsb2JhbCB5IHZhbHVlLiAgRG9lcyBub3QgY29uc2lkZXJcbiAgICAgKiByb3RhdGlvbiAodXNlIGdsb2JhbCBjb3JkZXJzIGZvciB0aGF0LilcbiAgICAgKi9cbiAgICBnZXQgZ3koKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudEd5ID0gKHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50Lmd5KSB8fCAwO1xuICAgICAgICByZXR1cm4gdGhpcy55ICsgcGFyZW50R3k7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBnbG9iYWwgY29tcHV0ZWQgcG9zaXRpb25zIG9mIHRoaXMgZ2FtZU9iamVjdCB3aXRoIHNjYWxlIGFuZCByb3RhdGlvbi5cbiAgICAgKiBUaGUgdG9wIGxlZnQsIHRvcCByaWdodCwgYm90dG9tIGxlZnQsIGFuZCBib3R0b20gcmlnaHRcbiAgICAgKiB4LCB5IGNvb3JkaW5hdGVzIG9mIHRoaXMgZ2FtZSBvYmplY3QgKGFzc3VtZSBpdCBpcyByZWN0YW5ndWxhcikgaW5cbiAgICAgKiB0aGUgYWN0dWFsbHkgY29tcHV0ZWQgc2l6ZXMgb24gdGhlIHNjcmVlbi5cbiAgICAgKiBUaGlzIHZhbHVlIGlzIGNvbXB1dGVkIGFuZCBjb25zaWRlcnMgc2NhbGVzIGFuZCByb3RhdGlvbiBhcyByZXByZXNlbnRlZFxuICAgICAqIHRoZSBleGFjdCBjb29yZGluYXRlcyBvbiB0aGUgc2NyZWVuIHNvIGl0IHVzZWZ1bCBpZiB5b3Ugd2FudCBnbG9iYWxcbiAgICAgKiBjb29yZGluYXRlcyBvZiB0aGUgZ2FtZU9iamVjdCBwb3NpdGlvbiwgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKlxuICAgICAqIFJldHVybiB0aGUgWEdhbWVDb25maWdDb21wdXRlZEJveFxuICAgICAqIEByZXR1cm5zIHtYR2FtZUNvbmZpZ0NvbXB1dGVkQm94fVxuICAgICAqL1xuICAgIGdldCBnbG9iYWxDb21wdXRlZEJveCgpIHtcbiAgICAgICAgLy8gRmlyc3QgZmlndXJlIG91dCB0aGUgY29vcmRpbmF0ZXMgb2YgZWFjaCBjb3JuZXJcbiAgICAgICAgLy8gd2l0aG91dCB0aGUgcm90YXRpb24uXG4gICAgICAgIGNvbnN0IGJveCA9IHtcbiAgICAgICAgICAgIGNlbnRlclBvaW50OiB7XG4gICAgICAgICAgICAgICAgeDogdGhpcy5nY3gsXG4gICAgICAgICAgICAgICAgeTogdGhpcy5nY3ksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgdG9wTGVmdDoge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMuZ3gsXG4gICAgICAgICAgICAgICAgeTogdGhpcy5neSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b3BSaWdodDoge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMuZ3ggKyB0aGlzLndpZHRoLFxuICAgICAgICAgICAgICAgIHk6IHRoaXMuZ3ksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm90dG9tTGVmdDoge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMuZ3gsXG4gICAgICAgICAgICAgICAgeTogdGhpcy5neSArIHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvdHRvbVJpZ2h0OiB7XG4gICAgICAgICAgICAgICAgeDogdGhpcy5neCArIHRoaXMud2lkdGgsXG4gICAgICAgICAgICAgICAgeTogdGhpcy5neSArIHRoaXMuaGVpZ2h0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gTm93IGNhbGN1bGF0ZSB0aGUgcm90YXRpb24gb2YgZWFjaCBwb2ludCB2aWEgMmQgcm90YXRpb24gbWF0cml4LlxuICAgICAgICBjb25zdCBjeCA9IHRoaXMuZ2N4O1xuICAgICAgICBjb25zdCBjeSA9IHRoaXMuZ2N5O1xuICAgICAgICBjb25zdCB0b3BMZWZ0ID0gbWF0aGYuY2FsY3VsYXRlMmRQb2ludFJvdGF0aW9uKGN4LCBjeSwgYm94LnRvcExlZnQueCwgYm94LnRvcExlZnQueSwgdGhpcy5yb3RhdGlvbik7XG4gICAgICAgIGJveC50b3BMZWZ0LnggPSB0b3BMZWZ0Lng7XG4gICAgICAgIGJveC50b3BMZWZ0LnkgPSB0b3BMZWZ0Lnk7XG4gICAgICAgIGNvbnN0IHRvcFJpZ2h0ID0gbWF0aGYuY2FsY3VsYXRlMmRQb2ludFJvdGF0aW9uKGN4LCBjeSwgYm94LnRvcFJpZ2h0LngsIGJveC50b3BSaWdodC55LCB0aGlzLnJvdGF0aW9uKTtcbiAgICAgICAgYm94LnRvcFJpZ2h0LnggPSB0b3BSaWdodC54O1xuICAgICAgICBib3gudG9wUmlnaHQueSA9IHRvcFJpZ2h0Lnk7XG4gICAgICAgIGNvbnN0IGJvdHRvbUxlZnQgPSBtYXRoZi5jYWxjdWxhdGUyZFBvaW50Um90YXRpb24oY3gsIGN5LCBib3guYm90dG9tTGVmdC54LCBib3guYm90dG9tTGVmdC55LCB0aGlzLnJvdGF0aW9uKTtcbiAgICAgICAgYm94LmJvdHRvbUxlZnQueCA9IGJvdHRvbUxlZnQueDtcbiAgICAgICAgYm94LmJvdHRvbUxlZnQueSA9IGJvdHRvbUxlZnQueTtcbiAgICAgICAgY29uc3QgYm90dG9tUmlnaHQgPSBtYXRoZi5jYWxjdWxhdGUyZFBvaW50Um90YXRpb24oY3gsIGN5LCBib3guYm90dG9tUmlnaHQueCwgYm94LmJvdHRvbVJpZ2h0LnksIHRoaXMucm90YXRpb24pO1xuICAgICAgICBib3guYm90dG9tUmlnaHQueCA9IGJvdHRvbVJpZ2h0Lng7XG4gICAgICAgIGJveC5ib3R0b21SaWdodC55ID0gYm90dG9tUmlnaHQueTtcbiAgICAgICAgcmV0dXJuIGJveDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGdsb2JhbCBjZW50ZXIgcG9pbnQgeCBvZiB0aGlzIG9iamVjdC5cbiAgICAgKi9cbiAgICBnZXQgZ2N4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5neCArIHRoaXMuYW5jaG9yWE9mZnNldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGdsb2JhbCBjZW50ZXIgcG9pbnQgeSBvZiB0aGlzIG9iamVjdC5cbiAgICAgKi9cbiAgICBnZXQgZ2N5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5neSArIHRoaXMuYW5jaG9yWU9mZnNldDtcbiAgICB9XG4gICAgZ2V0IGdsb2JhbENlbnRlclZlY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IodGhpcy5nY3gsIHRoaXMuZ2N5KS5mbG9vcigpO1xuICAgIH1cbiAgICBnZXQgYW5jaG9yWE9mZnNldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmF0dXJhbEFuY2hvclhPZmZzZXQgKiB0aGlzLnNjYWxlWDtcbiAgICB9XG4gICAgZ2V0IGFuY2hvcllPZmZzZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hdHVyYWxBbmNob3JZT2Zmc2V0ICogdGhpcy5zY2FsZVk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgYSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBcImNvbXB1dGVkXCIgKGluY2x1ZGluZyBzY2FsZSksXG4gICAgICogdmVjdG9yIGZyb20gdGhlIHRvcCwgbGVmdCBvZiB0aGUgR2FtZU9iamVjdCB0byB0aGUgY2VudGVyIHBvaW50LlxuICAgICAqL1xuICAgIGdldCBhbmNob3JPZmZzZXRWZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHRoaXMuYW5jaG9yWE9mZnNldCwgdGhpcy5hbmNob3JZT2Zmc2V0KS5mbG9vcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHaXZlIHRoYXQgdGhlIHgsIHkgcG9zaXRpb24gcmVwcmVzZW50IHRoZSBwb3NpdGlvbiBvZiB0aGUgR2FtZW9iamVjdCxcbiAgICAgKiB0aGUgYW1vdW50IHdlIG5lZWQgdG8gbW92ZSB0byBnZXQgdG8gdGhlIGFuY2hvciBwb2ludC5cbiAgICAgKlxuICAgICAqIExldCdzIHNheSB3ZSBoYXZlIGFuIG9iamVjdCB0aGF0IGlzIDUwMHg1MDAgYXQgY29vcmRzIDAsMC5cbiAgICAgKiBJZiB0aGUgYW5jaG9yIGlzIDAuNSwgMC41IGZvciBleGFtcGxlLCB0aGUgYW5jaG9yIGlzIGRlYWQgY2VudGVyIG9mIHRoZVxuICAgICAqIG9iamVjdC5cbiAgICAgKi0tLS0tLS0tLS0tXG4gICAgICpcbiAgICAgKiAgICAgYVxuICAgICAqXG4gICAgICogLS0tLS0tLS0tLVxuICAgICAqXG4gICAgICogVGhlIGFuY2hvclhPZmZzZXQgd291bGQgYmUgMjUwIGFuZCBhbmNob3JZT2Zmc2V0IHdvdWxkIGJlIDI1MC5cbiAgICAgKiBUaGF0IGlzIDAgKHgpICsgMjUwIChhbmNob3JYT2Zmc2V0KSA9IDI1MFxuICAgICAqIFRoYXQgaXMgMCAoeSkgKyAyNTAgKGFuY2hvcllPZmZzZXQpID0gMjUwXG4gICAgICpcbiAgICAgKi9cbiAgICBnZXQgbmF0dXJhbEFuY2hvclhPZmZzZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hdHVyYWxXaWR0aCAqIHRoaXMuYW5jaG9yWDtcbiAgICB9XG4gICAgZ2V0IG5hdHVyYWxBbmNob3JZT2Zmc2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYXR1cmFsSGVpZ2h0ICogdGhpcy5hbmNob3JZO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY29tcHV0ZWQgd2lkdGggb2YgdGhpcyBnYW1lT2JqZWN0IHdoZW4gaXQgaXMgcmVuZGVyZWQgb24gdGhlIGNhbnZhcy5cbiAgICAgKiBUaGlzIGlzIGVmZmVjdGl2ZWx5IHRoZSBnbG9iYWwgc2NhbGUgKiB0aGUgd2lkdGggaW50ZXJuYWwgd2lkdGggdmFsdWUuXG4gICAgICovXG4gICAgZ2V0IHdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYXR1cmFsV2lkdGggKiB0aGlzLnNjYWxlWDtcbiAgICB9XG4gICAgc2V0IHdpZHRoKHZhbHVlKSB7XG4gICAgICAgIHRoaXMubmF0dXJhbFdpZHRoID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjb21wdXRlZCBoZWlnaHQgb2YgdGhpcyBnYW1lT2JqZWN0IHdoZW4gaXQgaXMgcmVuZGVyZWQgb24gdGhlIGNhbnZhcy5cbiAgICAgKiBUaGlzIGlzIGVmZmVjdGl2ZWx5IHRoZSBnbG9iYWwgc2NhbGUgKiB0aGUgd2lkdGggaW50ZXJuYWwgd2lkdGggdmFsdWUuXG4gICAgICovXG4gICAgZ2V0IGhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmF0dXJhbEhlaWdodCAqIHRoaXMuc2NhbGVYO1xuICAgIH1cbiAgICBzZXQgaGVpZ2h0KHZhbHVlKSB7XG4gICAgICAgIHRoaXMubmF0dXJhbEhlaWdodCA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZ2xvYmFsIGFuY2hvciB4IHBvc2l0b24uXG4gICAgICovXG4gICAgZ2V0IGFuY2hvckd4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5neCArIHRoaXMubmF0dXJhbEFuY2hvclhPZmZzZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBnbG9iYWwgYW5jaG9yIHkgcG9zaXRvbi5cbiAgICAgKi9cbiAgICBnZXQgYW5jaG9yR3koKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmd5ICsgdGhpcy5uYXR1cmFsQW5jaG9yWU9mZnNldDtcbiAgICB9XG4gICAgZ2V0IGFscGhhKCkge1xuICAgICAgICBjb25zdCBwYXJlbnRBbHBoYSA9ICh0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5hbHBoYSkgfHwgMTtcbiAgICAgICAgY29uc3QgcmVsYXRpdmVBbHBoYSA9IHBhcmVudEFscGhhICogdGhpcy5hbHBoYV87XG4gICAgICAgIHJldHVybiByZWxhdGl2ZUFscGhhO1xuICAgIH1cbiAgICBzZXQgYWxwaGEodmFsdWUpIHtcbiAgICAgICAgdGhpcy5hbHBoYV8gPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IHNjYWxlWCgpIHtcbiAgICAgICAgY29uc3QgcGFyZW50U2NhbGVYID0gKHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LnNjYWxlWCkgfHwgMTtcbiAgICAgICAgY29uc3QgcmVsYXRpdmVTY2FsZSA9IHBhcmVudFNjYWxlWCAqIHRoaXMubmF0dXJhbFNjYWxlWTtcbiAgICAgICAgcmV0dXJuIHJlbGF0aXZlU2NhbGU7XG4gICAgfVxuICAgIHNldCBzY2FsZVgodmFsdWUpIHtcbiAgICAgICAgdGhpcy5zY2FsZVggPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IHNjYWxlWSgpIHtcbiAgICAgICAgY29uc3QgcGFyZW50U2NhbGVZID0gKHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LnNjYWxlWSkgfHwgMTtcbiAgICAgICAgY29uc3QgcmVsYXRpdmVTY2FsZSA9IHBhcmVudFNjYWxlWSAqIHRoaXMubmF0dXJhbFNjYWxlWTtcbiAgICAgICAgcmV0dXJuIHJlbGF0aXZlU2NhbGU7XG4gICAgfVxuICAgIHNldCBzY2FsZVkodmFsdWUpIHtcbiAgICAgICAgdGhpcy5zY2FsZVkgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0UG9zaXRpb24oeCwgeSkge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY2hpbGQgdG8gdGhpcyBzcHJpdGUuICBBdCB0aGUgaGlnaGVzdCBsZXZlbCwgdGhlIHN0YWdlIHNwcml0ZVxuICAgICAqIHdpbGwgcmVjZWl2ZSB0aGUgY2FudmFzIGNvbnRleHQgYW5kIGVsZW1lbnQgd2hlbiBpdFxuICAgICAqIFtbWFN0YWdlLmF0dGFjaFRvQ2FudmFzXV0gaXMgY2FsbGVkLiAgRnJvbSB0aGVyZSwgYW55IHNwcml0ZSB0aGF0IGF0dGFjaGVzXG4gICAgICogdG8gdGhlIHN0YWdlLCByZWNlaXZlcyB0aGUgY2FudmFzLCBjb250ZXh0IGFuZCB0aGVuIGZ1cnRoZXIsIHBhc3NlcyBpdFxuICAgICAqIG9uIHRvIGl0J3MgZGVzY2VuZGFudHMgaW4gdGhpcyBtZXRob2QuXG4gICAgICogQHBhcmFtIHNwcml0ZVxuICAgICAqL1xuICAgIGFkZENoaWxkKHNwcml0ZSkge1xuICAgICAgICBzcHJpdGUucGFyZW50ID0gdGhpcztcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHNwcml0ZSk7XG4gICAgICAgIC8vIEFsd2F5cyBtYWludGFpbiBhbiBvcmRlcmVkIGxpc3Qgb2YgY2hpbGRyZW4uXG4gICAgICAgIHRoaXMub3JkZXJDaGlsZHJlbkJ5WkluZGV4KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9yZGVyIHRoZSBjaGlsZHJlbiBieSB6LWluZGV4XG4gICAgICovXG4gICAgb3JkZXJDaGlsZHJlbkJ5WkluZGV4KCkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbi5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYS56SW5kZXggLSBiLnpJbmRleDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbW92ZUNoaWxkKHNwcml0ZSkge1xuICAgICAgICBpZiAoc3ByaXRlLnBhcmVudCAhPT0gdGhpcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHNwcml0ZSArICdpcyBub3QgYSBjaGlsZCBvZiAnICsgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4uZmlsdGVyKGNoaWxkU3ByaXRlcyA9PiB7XG4gICAgICAgICAgICByZXR1cm4gc3ByaXRlICE9PSBjaGlsZFNwcml0ZXM7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbiB0aGUgZ2FtZSBsb29wIGNhbGxlZCBwcmlvciB0byByZW5kZXJpbmcgdG8gdXBkYXRlIHBvc2l0aW9uIG9mIHRoaXNcbiAgICAgKiBvYmplY3QuXG4gICAgICovXG4gICAgdXBkYXRlUG9zaXRpb25zKCkge1xuICAgICAgICBpZiAodGhpcy5kZWJ1Z09iamVjdCkge1xuICAgICAgICAgICAgdGhpcy52ZWxvY2l0eS5hZGQodGhpcy5hY2NlbGVyYXRpb24pO1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi5hZGQodGhpcy52ZWxvY2l0eSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5LmVhc2UodGhpcy5hY2NlbGVyYXRpb24sIDEsIEVBU0UubGluZWFyKTtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24uYWRkKHRoaXMudmVsb2NpdHkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGlzIG9iamVjdCBvbnRvIHRoZSBjdXJyZW50IGNhbnZhcy5cbiAgICAgKi9cbiAgICByZW5kZXIoY29udGV4dCkge1xuICAgICAgICBpZiAodGhpcy50ZXh0dXJlKSB7XG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLnRleHR1cmUuaW1hZ2VFbGVtZW50LCAwLCAwLCB0aGlzLnRleHR1cmUud2lkdGgsIHRoaXMudGV4dHVyZS5oZWlnaHQsIFxuICAgICAgICAgICAgLy8gSWYgdGhlIGFuY2hvciBpcyAwLDAsIHRoaXMgdmFsdWUgd291bGQgYmUgMCwwLlxuICAgICAgICAgICAgLy8gd2Ugd2FudCB0byBwYWludCBpdCBhdCBleGFjdGx5IHdoZXJlIHRoZSBhbmNob3IgaXMuXG4gICAgICAgICAgICAtdGhpcy5uYXR1cmFsQW5jaG9yWE9mZnNldCwgLXRoaXMubmF0dXJhbEFuY2hvcllPZmZzZXQsIHRoaXMubmF0dXJhbFdpZHRoLCB0aGlzLm5hdHVyYWxIZWlnaHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbmRlckRlYnVnZ2luZ091dGxpbmVzKGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICdyZWQnO1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDEwO1xuICAgICAgICBjb250ZXh0LnN0cm9rZVJlY3QoXG4gICAgICAgIC8vIElmIHRoZSBhbmNob3IgaXMgMCwwLCB0aGlzIHZhbHVlIHdvdWxkIGJlIDAsMC5cbiAgICAgICAgLy8gd2Ugd2FudCB0byBwYWludCBpdCBhdCBleGFjdGx5IHdoZXJlIHRoZSBhbmNob3IgaXMuXG4gICAgICAgIC10aGlzLm5hdHVyYWxBbmNob3JYT2Zmc2V0LCAtdGhpcy5uYXR1cmFsQW5jaG9yWU9mZnNldCwgdGhpcy5uYXR1cmFsV2lkdGgsIHRoaXMubmF0dXJhbEhlaWdodCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9eC1nYW1lLW9iamVjdC5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/x/x-game-object.js\n");

/***/ }),

/***/ "./lib/x/x-line.js":
/*!*************************!*\
  !*** ./lib/x/x-line.js ***!
  \*************************/
/*! exports provided: XLine */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XLine\", function() { return XLine; });\n/* harmony import */ var _func_func__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\n/* harmony import */ var _x_game_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./x-game-object */ \"./lib/x/x-game-object.js\");\n\n\n/**\n * A single line in the x-engine.\n * @unstable\n */\nclass XLine extends _x_game_object__WEBPACK_IMPORTED_MODULE_1__[\"XGameObject\"] {\n    constructor(config) {\n        super(config);\n        /**\n         * An Object defining startX, startY, endX and endY for the linear gradient.\n         * TODO (uxder): Clean this up.\n         */\n        this.linearGradient = null;\n        this.radialGradient = null;\n        this.strokeStyle = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.strokeStyle, 'red');\n        this.lineWidth = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.lineWidth, 1);\n        this.startX = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.startX, 0);\n        this.startY = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.startY, 0);\n        this.endX = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.endX, 0);\n        this.endY = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.endY, 0);\n        this.gradientStops = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.gradientStops, null);\n        this.linearGradient = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.linearGradient, null);\n        //Options are \"round\", \"mitre\" and \"bevel\".\n        this.lineJoin = 'round';\n    }\n    render(ctx) {\n        ctx.strokeStyle = this.strokeStyle;\n        if (this.gradientStops) {\n            let grad = ctx.createLinearGradient(this.startX, this.startY, this.endX, this.endY);\n            // Override linear gradient poitns.\n            if (this.linearGradient) {\n                grad = ctx.createLinearGradient(this.linearGradient.startX, this.linearGradient.startY, this.linearGradient.endX, this.linearGradient.endY);\n            }\n            // Override linear gradient poitns.\n            if (this.radialGradient) {\n                grad = ctx.createRadialGradient(this.radialGradient.x0, this.radialGradient.y0, this.radialGradient.r0, this.radialGradient.x1, this.radialGradient.y1, this.radialGradient.r1);\n            }\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.gradientStops.forEach((stop) => {\n                grad.addColorStop(stop.stop, stop.color);\n            });\n            ctx.strokeStyle = grad;\n        }\n        ctx.lineWidth = this.lineWidth;\n        ctx.beginPath();\n        ctx.lineJoin = 'round';\n        ctx.moveTo(this.startX, this.startY);\n        ctx.lineTo(this.endX, this.endY);\n        //ctx.closePath();\n        ctx.stroke();\n        // if (this..strokeStyle !== \"none\") ctx.stroke();\n        // if (o.fillStyle !== \"none\") ctx.fill();\n    }\n}\n//# sourceMappingURL=x-line.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIveC94LWxpbmUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIveC94LWxpbmUuanM/NThjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBmdW5jIGZyb20gJy4uL2Z1bmMvZnVuYyc7XG5pbXBvcnQgeyBYR2FtZU9iamVjdCB9IGZyb20gJy4veC1nYW1lLW9iamVjdCc7XG4vKipcbiAqIEEgc2luZ2xlIGxpbmUgaW4gdGhlIHgtZW5naW5lLlxuICogQHVuc3RhYmxlXG4gKi9cbmV4cG9ydCBjbGFzcyBYTGluZSBleHRlbmRzIFhHYW1lT2JqZWN0IHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgc3VwZXIoY29uZmlnKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIE9iamVjdCBkZWZpbmluZyBzdGFydFgsIHN0YXJ0WSwgZW5kWCBhbmQgZW5kWSBmb3IgdGhlIGxpbmVhciBncmFkaWVudC5cbiAgICAgICAgICogVE9ETyAodXhkZXIpOiBDbGVhbiB0aGlzIHVwLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lYXJHcmFkaWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMucmFkaWFsR3JhZGllbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnN0cm9rZVN0eWxlID0gZnVuYy5zZXREZWZhdWx0KGNvbmZpZy5zdHJva2VTdHlsZSwgJ3JlZCcpO1xuICAgICAgICB0aGlzLmxpbmVXaWR0aCA9IGZ1bmMuc2V0RGVmYXVsdChjb25maWcubGluZVdpZHRoLCAxKTtcbiAgICAgICAgdGhpcy5zdGFydFggPSBmdW5jLnNldERlZmF1bHQoY29uZmlnLnN0YXJ0WCwgMCk7XG4gICAgICAgIHRoaXMuc3RhcnRZID0gZnVuYy5zZXREZWZhdWx0KGNvbmZpZy5zdGFydFksIDApO1xuICAgICAgICB0aGlzLmVuZFggPSBmdW5jLnNldERlZmF1bHQoY29uZmlnLmVuZFgsIDApO1xuICAgICAgICB0aGlzLmVuZFkgPSBmdW5jLnNldERlZmF1bHQoY29uZmlnLmVuZFksIDApO1xuICAgICAgICB0aGlzLmdyYWRpZW50U3RvcHMgPSBmdW5jLnNldERlZmF1bHQoY29uZmlnLmdyYWRpZW50U3RvcHMsIG51bGwpO1xuICAgICAgICB0aGlzLmxpbmVhckdyYWRpZW50ID0gZnVuYy5zZXREZWZhdWx0KGNvbmZpZy5saW5lYXJHcmFkaWVudCwgbnVsbCk7XG4gICAgICAgIC8vT3B0aW9ucyBhcmUgXCJyb3VuZFwiLCBcIm1pdHJlXCIgYW5kIFwiYmV2ZWxcIi5cbiAgICAgICAgdGhpcy5saW5lSm9pbiA9ICdyb3VuZCc7XG4gICAgfVxuICAgIHJlbmRlcihjdHgpIHtcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VTdHlsZTtcbiAgICAgICAgaWYgKHRoaXMuZ3JhZGllbnRTdG9wcykge1xuICAgICAgICAgICAgbGV0IGdyYWQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQodGhpcy5zdGFydFgsIHRoaXMuc3RhcnRZLCB0aGlzLmVuZFgsIHRoaXMuZW5kWSk7XG4gICAgICAgICAgICAvLyBPdmVycmlkZSBsaW5lYXIgZ3JhZGllbnQgcG9pdG5zLlxuICAgICAgICAgICAgaWYgKHRoaXMubGluZWFyR3JhZGllbnQpIHtcbiAgICAgICAgICAgICAgICBncmFkID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KHRoaXMubGluZWFyR3JhZGllbnQuc3RhcnRYLCB0aGlzLmxpbmVhckdyYWRpZW50LnN0YXJ0WSwgdGhpcy5saW5lYXJHcmFkaWVudC5lbmRYLCB0aGlzLmxpbmVhckdyYWRpZW50LmVuZFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT3ZlcnJpZGUgbGluZWFyIGdyYWRpZW50IHBvaXRucy5cbiAgICAgICAgICAgIGlmICh0aGlzLnJhZGlhbEdyYWRpZW50KSB7XG4gICAgICAgICAgICAgICAgZ3JhZCA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudCh0aGlzLnJhZGlhbEdyYWRpZW50LngwLCB0aGlzLnJhZGlhbEdyYWRpZW50LnkwLCB0aGlzLnJhZGlhbEdyYWRpZW50LnIwLCB0aGlzLnJhZGlhbEdyYWRpZW50LngxLCB0aGlzLnJhZGlhbEdyYWRpZW50LnkxLCB0aGlzLnJhZGlhbEdyYWRpZW50LnIxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICB0aGlzLmdyYWRpZW50U3RvcHMuZm9yRWFjaCgoc3RvcCkgPT4ge1xuICAgICAgICAgICAgICAgIGdyYWQuYWRkQ29sb3JTdG9wKHN0b3Auc3RvcCwgc3RvcC5jb2xvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGdyYWQ7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5saW5lSm9pbiA9ICdyb3VuZCc7XG4gICAgICAgIGN0eC5tb3ZlVG8odGhpcy5zdGFydFgsIHRoaXMuc3RhcnRZKTtcbiAgICAgICAgY3R4LmxpbmVUbyh0aGlzLmVuZFgsIHRoaXMuZW5kWSk7XG4gICAgICAgIC8vY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIC8vIGlmICh0aGlzLi5zdHJva2VTdHlsZSAhPT0gXCJub25lXCIpIGN0eC5zdHJva2UoKTtcbiAgICAgICAgLy8gaWYgKG8uZmlsbFN0eWxlICE9PSBcIm5vbmVcIikgY3R4LmZpbGwoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD14LWxpbmUuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/x/x-line.js\n");

/***/ }),

/***/ "./lib/x/x-offscreen-canvas.js":
/*!*************************************!*\
  !*** ./lib/x/x-offscreen-canvas.js ***!
  \*************************************/
/*! exports provided: XOffScreenCanvas */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XOffScreenCanvas\", function() { return XOffScreenCanvas; });\n/**\n * A general canvas that exists in memery for x-engine to perform offscreen\n * calculatons.  Note this is NOT the same as the buffer rendering canvas\n * TODO (uxder) to be implemented.  But more a shared, singleton to canvas\n * that can be drawn on to do calculations.\n *\n * Note that since this is shared resource, there is no guarantee of state.\n * Objects using it should clean up.\n * @unstable\n */\nclass XOffScreenCanvas {\n    constructor() {\n        this.canvas = document.createElement('canvas');\n        this.context = this.canvas.getContext('2d');\n        this.dpr = window.devicePixelRatio || 1;\n        this.canvas.width = 1000 * this.dpr;\n        this.canvas.height = 1000 * this.dpr;\n    }\n}\n//# sourceMappingURL=x-offscreen-canvas.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIveC94LW9mZnNjcmVlbi1jYW52YXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIveC94LW9mZnNjcmVlbi1jYW52YXMuanM/MzllNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgZ2VuZXJhbCBjYW52YXMgdGhhdCBleGlzdHMgaW4gbWVtZXJ5IGZvciB4LWVuZ2luZSB0byBwZXJmb3JtIG9mZnNjcmVlblxuICogY2FsY3VsYXRvbnMuICBOb3RlIHRoaXMgaXMgTk9UIHRoZSBzYW1lIGFzIHRoZSBidWZmZXIgcmVuZGVyaW5nIGNhbnZhc1xuICogVE9ETyAodXhkZXIpIHRvIGJlIGltcGxlbWVudGVkLiAgQnV0IG1vcmUgYSBzaGFyZWQsIHNpbmdsZXRvbiB0byBjYW52YXNcbiAqIHRoYXQgY2FuIGJlIGRyYXduIG9uIHRvIGRvIGNhbGN1bGF0aW9ucy5cbiAqXG4gKiBOb3RlIHRoYXQgc2luY2UgdGhpcyBpcyBzaGFyZWQgcmVzb3VyY2UsIHRoZXJlIGlzIG5vIGd1YXJhbnRlZSBvZiBzdGF0ZS5cbiAqIE9iamVjdHMgdXNpbmcgaXQgc2hvdWxkIGNsZWFuIHVwLlxuICogQHVuc3RhYmxlXG4gKi9cbmV4cG9ydCBjbGFzcyBYT2ZmU2NyZWVuQ2FudmFzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdGhpcy5kcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IDEwMDAgKiB0aGlzLmRwcjtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gMTAwMCAqIHRoaXMuZHByO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXgtb2Zmc2NyZWVuLWNhbnZhcy5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/x/x-offscreen-canvas.js\n");

/***/ }),

/***/ "./lib/x/x-pointer.js":
/*!****************************!*\
  !*** ./lib/x/x-pointer.js ***!
  \****************************/
/*! exports provided: XPointer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XPointer\", function() { return XPointer; });\n/* harmony import */ var _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mathf/mathf */ \"./lib/mathf/mathf.js\");\n/* harmony import */ var _mathf_vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mathf/vector */ \"./lib/mathf/vector.js\");\n\n\n/**\n * The main pointer class for x-engine.  Use this to detect collision with\n * GameObjects and respond to the pointer.\n * @unstable\n */\nclass XPointer {\n    constructor(element) {\n        /**\n         * Wehther the mouse is down.\n         */\n        this.isMouseDown = false;\n        this.position = _mathf_vector__WEBPACK_IMPORTED_MODULE_1__[\"Vector\"].ZERO;\n        this.radius = 1;\n        this.element = element;\n        this.element.addEventListener('mousedown', this.pointerDownHandler.bind(this), { passive: true });\n        this.element.addEventListener('touchstart', this.pointerDownHandler.bind(this), { passive: true });\n        this.element.addEventListener('mouseup', this.pointerUpHandler.bind(this), {\n            passive: true,\n        });\n        this.element.addEventListener('touchend', this.pointerUpHandler.bind(this), { passive: true });\n        this.element.addEventListener('mousemove', this.pointerMoveHandler.bind(this), { passive: true });\n        this.element.addEventListener('touchmove', this.pointerMoveHandler.bind(this), { passive: true });\n    }\n    get x() {\n        return this.position.x;\n    }\n    set x(x) {\n        this.position.x = x;\n    }\n    get y() {\n        return this.position.y;\n    }\n    set y(y) {\n        this.position.y = y;\n    }\n    pointerDownHandler() {\n        this.isMouseDown = true;\n    }\n    pointerUpHandler() {\n        this.isMouseDown = false;\n    }\n    pointerMoveHandler(event) {\n        //Find the pointers x and y position (for mouse).\n        //Subtract the element's top and left offset from the browser window.\n        let pageX;\n        let pageY;\n        if (event.touches) {\n            pageX = event.touches[0].pageX;\n            pageY = event.touches[0].pageY;\n        }\n        else {\n            pageX = event.pageX;\n            pageY = event.pageY;\n        }\n        // TODO (uxder) Optimization point. Cache offset value to avoid thrashing.\n        const x = pageX - this.element.offsetLeft;\n        const y = pageY - this.element.offsetTop;\n        this.position.set(x, y);\n    }\n    /**\n     * Tests a collision with a GameObject.\n     * @param object\n     */\n    testCollidingWithGameObject(object) {\n        const point = {\n            x: this.x,\n            y: this.y,\n        };\n        // Generate a polygon out of the (possibly rotated)\n        // box coordinates.\n        const polygon = [\n            object.globalComputedBox.topLeft,\n            object.globalComputedBox.topRight,\n            object.globalComputedBox.bottomRight,\n            object.globalComputedBox.bottomLeft,\n        ];\n        // console.log(this.position);\n        // Account for anchor.\n        // rect.x += object.width * object.anchorX;\n        // rect.y += object.height * object.anchorY;\n        // console.log('rect.x', rect.x);\n        // console.log('rect.y', rect.y);\n        return _mathf_mathf__WEBPACK_IMPORTED_MODULE_0__[\"collisionPointVersusConvexPolygon\"](point, polygon);\n    }\n}\n//# sourceMappingURL=x-pointer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIveC94LXBvaW50ZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIveC94LXBvaW50ZXIuanM/YmY5YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBtYXRoZiBmcm9tICcuLi9tYXRoZi9tYXRoZic7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuLi9tYXRoZi92ZWN0b3InO1xuLyoqXG4gKiBUaGUgbWFpbiBwb2ludGVyIGNsYXNzIGZvciB4LWVuZ2luZS4gIFVzZSB0aGlzIHRvIGRldGVjdCBjb2xsaXNpb24gd2l0aFxuICogR2FtZU9iamVjdHMgYW5kIHJlc3BvbmQgdG8gdGhlIHBvaW50ZXIuXG4gKiBAdW5zdGFibGVcbiAqL1xuZXhwb3J0IGNsYXNzIFhQb2ludGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZWh0aGVyIHRoZSBtb3VzZSBpcyBkb3duLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc01vdXNlRG93biA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gVmVjdG9yLlpFUk87XG4gICAgICAgIHRoaXMucmFkaXVzID0gMTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMucG9pbnRlckRvd25IYW5kbGVyLmJpbmQodGhpcyksIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLnBvaW50ZXJEb3duSGFuZGxlci5iaW5kKHRoaXMpLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5wb2ludGVyVXBIYW5kbGVyLmJpbmQodGhpcyksIHtcbiAgICAgICAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLnBvaW50ZXJVcEhhbmRsZXIuYmluZCh0aGlzKSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5wb2ludGVyTW92ZUhhbmRsZXIuYmluZCh0aGlzKSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5wb2ludGVyTW92ZUhhbmRsZXIuYmluZCh0aGlzKSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgIH1cbiAgICBnZXQgeCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueDtcbiAgICB9XG4gICAgc2V0IHgoeCkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB4O1xuICAgIH1cbiAgICBnZXQgeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueTtcbiAgICB9XG4gICAgc2V0IHkoeSkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB5O1xuICAgIH1cbiAgICBwb2ludGVyRG93bkhhbmRsZXIoKSB7XG4gICAgICAgIHRoaXMuaXNNb3VzZURvd24gPSB0cnVlO1xuICAgIH1cbiAgICBwb2ludGVyVXBIYW5kbGVyKCkge1xuICAgICAgICB0aGlzLmlzTW91c2VEb3duID0gZmFsc2U7XG4gICAgfVxuICAgIHBvaW50ZXJNb3ZlSGFuZGxlcihldmVudCkge1xuICAgICAgICAvL0ZpbmQgdGhlIHBvaW50ZXLigJlzIHggYW5kIHkgcG9zaXRpb24gKGZvciBtb3VzZSkuXG4gICAgICAgIC8vU3VidHJhY3QgdGhlIGVsZW1lbnQncyB0b3AgYW5kIGxlZnQgb2Zmc2V0IGZyb20gdGhlIGJyb3dzZXIgd2luZG93LlxuICAgICAgICBsZXQgcGFnZVg7XG4gICAgICAgIGxldCBwYWdlWTtcbiAgICAgICAgaWYgKGV2ZW50LnRvdWNoZXMpIHtcbiAgICAgICAgICAgIHBhZ2VYID0gZXZlbnQudG91Y2hlc1swXS5wYWdlWDtcbiAgICAgICAgICAgIHBhZ2VZID0gZXZlbnQudG91Y2hlc1swXS5wYWdlWTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2VYID0gZXZlbnQucGFnZVg7XG4gICAgICAgICAgICBwYWdlWSA9IGV2ZW50LnBhZ2VZO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE8gKHV4ZGVyKSBPcHRpbWl6YXRpb24gcG9pbnQuIENhY2hlIG9mZnNldCB2YWx1ZSB0byBhdm9pZCB0aHJhc2hpbmcuXG4gICAgICAgIGNvbnN0IHggPSBwYWdlWCAtIHRoaXMuZWxlbWVudC5vZmZzZXRMZWZ0O1xuICAgICAgICBjb25zdCB5ID0gcGFnZVkgLSB0aGlzLmVsZW1lbnQub2Zmc2V0VG9wO1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnNldCh4LCB5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdHMgYSBjb2xsaXNpb24gd2l0aCBhIEdhbWVPYmplY3QuXG4gICAgICogQHBhcmFtIG9iamVjdFxuICAgICAqL1xuICAgIHRlc3RDb2xsaWRpbmdXaXRoR2FtZU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgcG9pbnQgPSB7XG4gICAgICAgICAgICB4OiB0aGlzLngsXG4gICAgICAgICAgICB5OiB0aGlzLnksXG4gICAgICAgIH07XG4gICAgICAgIC8vIEdlbmVyYXRlIGEgcG9seWdvbiBvdXQgb2YgdGhlIChwb3NzaWJseSByb3RhdGVkKVxuICAgICAgICAvLyBib3ggY29vcmRpbmF0ZXMuXG4gICAgICAgIGNvbnN0IHBvbHlnb24gPSBbXG4gICAgICAgICAgICBvYmplY3QuZ2xvYmFsQ29tcHV0ZWRCb3gudG9wTGVmdCxcbiAgICAgICAgICAgIG9iamVjdC5nbG9iYWxDb21wdXRlZEJveC50b3BSaWdodCxcbiAgICAgICAgICAgIG9iamVjdC5nbG9iYWxDb21wdXRlZEJveC5ib3R0b21SaWdodCxcbiAgICAgICAgICAgIG9iamVjdC5nbG9iYWxDb21wdXRlZEJveC5ib3R0b21MZWZ0LFxuICAgICAgICBdO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnBvc2l0aW9uKTtcbiAgICAgICAgLy8gQWNjb3VudCBmb3IgYW5jaG9yLlxuICAgICAgICAvLyByZWN0LnggKz0gb2JqZWN0LndpZHRoICogb2JqZWN0LmFuY2hvclg7XG4gICAgICAgIC8vIHJlY3QueSArPSBvYmplY3QuaGVpZ2h0ICogb2JqZWN0LmFuY2hvclk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZWN0LngnLCByZWN0LngpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygncmVjdC55JywgcmVjdC55KTtcbiAgICAgICAgcmV0dXJuIG1hdGhmLmNvbGxpc2lvblBvaW50VmVyc3VzQ29udmV4UG9seWdvbihwb2ludCwgcG9seWdvbik7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9eC1wb2ludGVyLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/x/x-pointer.js\n");

/***/ }),

/***/ "./lib/x/x-rectangle.js":
/*!******************************!*\
  !*** ./lib/x/x-rectangle.js ***!
  \******************************/
/*! exports provided: XRectangle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XRectangle\", function() { return XRectangle; });\n/* harmony import */ var _func_func__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\n/* harmony import */ var _x_game_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./x-game-object */ \"./lib/x/x-game-object.js\");\n\n\n/**\n * @unstable\n */\nclass XRectangle extends _x_game_object__WEBPACK_IMPORTED_MODULE_1__[\"XGameObject\"] {\n    constructor(config) {\n        super(config);\n        this.strokeStyle = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.strokeStyle, null);\n        this.fillStyle = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.fillStyle, null);\n        this.lineWidth = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.lineWidth, 1);\n    }\n    render(ctx) {\n        ctx.fillStyle = this.fillStyle;\n        ctx.strokeStyle = this.strokeStyle;\n        ctx.rect(-this.naturalWidth * this.anchorX, -this.naturalHeight * this.anchorY, this.naturalWidth, this.naturalHeight);\n        if (this.strokeStyle) {\n            ctx.stroke();\n        }\n        if (this.fillStyle)\n            ctx.fill();\n    }\n}\n//# sourceMappingURL=x-rectangle.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIveC94LXJlY3RhbmdsZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi94L3gtcmVjdGFuZ2xlLmpzPzFlNjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZnVuYyBmcm9tICcuLi9mdW5jL2Z1bmMnO1xuaW1wb3J0IHsgWEdhbWVPYmplY3QgfSBmcm9tICcuL3gtZ2FtZS1vYmplY3QnO1xuLyoqXG4gKiBAdW5zdGFibGVcbiAqL1xuZXhwb3J0IGNsYXNzIFhSZWN0YW5nbGUgZXh0ZW5kcyBYR2FtZU9iamVjdCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZyk7XG4gICAgICAgIHRoaXMuc3Ryb2tlU3R5bGUgPSBmdW5jLnNldERlZmF1bHQoY29uZmlnLnN0cm9rZVN0eWxlLCBudWxsKTtcbiAgICAgICAgdGhpcy5maWxsU3R5bGUgPSBmdW5jLnNldERlZmF1bHQoY29uZmlnLmZpbGxTdHlsZSwgbnVsbCk7XG4gICAgICAgIHRoaXMubGluZVdpZHRoID0gZnVuYy5zZXREZWZhdWx0KGNvbmZpZy5saW5lV2lkdGgsIDEpO1xuICAgIH1cbiAgICByZW5kZXIoY3R4KSB7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VTdHlsZTtcbiAgICAgICAgY3R4LnJlY3QoLXRoaXMubmF0dXJhbFdpZHRoICogdGhpcy5hbmNob3JYLCAtdGhpcy5uYXR1cmFsSGVpZ2h0ICogdGhpcy5hbmNob3JZLCB0aGlzLm5hdHVyYWxXaWR0aCwgdGhpcy5uYXR1cmFsSGVpZ2h0KTtcbiAgICAgICAgaWYgKHRoaXMuc3Ryb2tlU3R5bGUpIHtcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5maWxsU3R5bGUpXG4gICAgICAgICAgICBjdHguZmlsbCgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXgtcmVjdGFuZ2xlLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/x/x-rectangle.js\n");

/***/ }),

/***/ "./lib/x/x-stage.js":
/*!**************************!*\
  !*** ./lib/x/x-stage.js ***!
  \**************************/
/*! exports provided: XStage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XStage\", function() { return XStage; });\n/* harmony import */ var _x_game_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./x-game-object */ \"./lib/x/x-game-object.js\");\n\n/**\n * Base stage class used for the x-engine.\n * @unstable\n */\nclass XStage extends _x_game_object__WEBPACK_IMPORTED_MODULE_0__[\"XGameObject\"] {\n    constructor(config = _x_game_object__WEBPACK_IMPORTED_MODULE_0__[\"XGameObjectDefaults\"]) {\n        super(config);\n        /**\n         * A flag to denote that this is a special GameObject of stage.\n         */\n        this.stage = true;\n        this.canvasElement = null;\n        this.context = null;\n    }\n    attachToCanvas(canvas) {\n        this.canvasElement = canvas;\n        this.context = this.canvasElement.getContext('2d');\n        this.naturalWidth = canvas.offsetWidth;\n        this.naturalHeight = canvas.offsetHeight;\n        this.setPosition(0, 0);\n    }\n}\n//# sourceMappingURL=x-stage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIveC94LXN0YWdlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3gveC1zdGFnZS5qcz83YmI1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFhHYW1lT2JqZWN0LCBYR2FtZU9iamVjdERlZmF1bHRzIH0gZnJvbSAnLi94LWdhbWUtb2JqZWN0Jztcbi8qKlxuICogQmFzZSBzdGFnZSBjbGFzcyB1c2VkIGZvciB0aGUgeC1lbmdpbmUuXG4gKiBAdW5zdGFibGVcbiAqL1xuZXhwb3J0IGNsYXNzIFhTdGFnZSBleHRlbmRzIFhHYW1lT2JqZWN0IHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcgPSBYR2FtZU9iamVjdERlZmF1bHRzKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGZsYWcgdG8gZGVub3RlIHRoYXQgdGhpcyBpcyBhIHNwZWNpYWwgR2FtZU9iamVjdCBvZiBzdGFnZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhZ2UgPSB0cnVlO1xuICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgIH1cbiAgICBhdHRhY2hUb0NhbnZhcyhjYW52YXMpIHtcbiAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50ID0gY2FudmFzO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhc0VsZW1lbnQuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdGhpcy5uYXR1cmFsV2lkdGggPSBjYW52YXMub2Zmc2V0V2lkdGg7XG4gICAgICAgIHRoaXMubmF0dXJhbEhlaWdodCA9IGNhbnZhcy5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHRoaXMuc2V0UG9zaXRpb24oMCwgMCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9eC1zdGFnZS5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/x/x-stage.js\n");

/***/ }),

/***/ "./lib/x/x-text.js":
/*!*************************!*\
  !*** ./lib/x/x-text.js ***!
  \*************************/
/*! exports provided: XText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XText\", function() { return XText; });\n/* harmony import */ var _func_func__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\n/* harmony import */ var _x_game_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./x-game-object */ \"./lib/x/x-game-object.js\");\n/* harmony import */ var _x_offscreen_canvas__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./x-offscreen-canvas */ \"./lib/x/x-offscreen-canvas.js\");\n\n\n\n/**\n * A single text in the x-engine.\n * TODO (uxder) Add an option or alternate that is DOM based.\n * @unstable\n */\nclass XText extends _x_game_object__WEBPACK_IMPORTED_MODULE_1__[\"XGameObject\"] {\n    constructor(config) {\n        super(config);\n        this.text = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.text, 'Hello');\n        this.font = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.font, '12px sans-serif');\n        this.textAlign = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.textAlign, 'left');\n        this.fillStyle = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.fillStyle, 'red');\n        this.textBaseline = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.textBaseline, 'top');\n        this.offScreenCanvas = new _x_offscreen_canvas__WEBPACK_IMPORTED_MODULE_2__[\"XOffScreenCanvas\"]();\n    }\n    /**\n     * Sets the font to measure the width.\n     * https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics\n     */\n    get width() {\n        let width = 0;\n        this.offScreenCanvas.context.font = this.font;\n        this.offScreenCanvas.context.textAlign = this.textAlign;\n        this.offScreenCanvas.context.textBaseline = this.textBaseline;\n        width = this.offScreenCanvas.context.measureText(this.text).width;\n        return width || 0;\n    }\n    /**\n     * Sets the font to measure the height.  There isn't really a crossbrowser\n     * or realiable way to measure text at the moment, so we measure the\n     * width of a single character and multiply that by an assumed 1.2 line\n     * height for now as an approximation.\n     * https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics\n     */\n    get height() {\n        this.offScreenCanvas.context.font = this.font;\n        this.offScreenCanvas.context.textAlign = this.textAlign;\n        this.offScreenCanvas.context.textBaseline = this.textBaseline;\n        const width = this.offScreenCanvas.context.measureText('w').width;\n        return width * 1.2;\n    }\n    setText(text) {\n        this.text = text;\n    }\n    render(ctx) {\n        ctx.fillStyle = this.fillStyle;\n        ctx.translate(this.naturalAnchorXOffset, this.naturalAnchorYOffset);\n        ctx.font = this.font;\n        ctx.textBaseline = this.textBaseline;\n        ctx.fillText(this.text, 0, 0);\n    }\n}\n//# sourceMappingURL=x-text.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIveC94LXRleHQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIveC94LXRleHQuanM/ZTliZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBmdW5jIGZyb20gJy4uL2Z1bmMvZnVuYyc7XG5pbXBvcnQgeyBYR2FtZU9iamVjdCB9IGZyb20gJy4veC1nYW1lLW9iamVjdCc7XG5pbXBvcnQgeyBYT2ZmU2NyZWVuQ2FudmFzIH0gZnJvbSAnLi94LW9mZnNjcmVlbi1jYW52YXMnO1xuLyoqXG4gKiBBIHNpbmdsZSB0ZXh0IGluIHRoZSB4LWVuZ2luZS5cbiAqIFRPRE8gKHV4ZGVyKSBBZGQgYW4gb3B0aW9uIG9yIGFsdGVybmF0ZSB0aGF0IGlzIERPTSBiYXNlZC5cbiAqIEB1bnN0YWJsZVxuICovXG5leHBvcnQgY2xhc3MgWFRleHQgZXh0ZW5kcyBYR2FtZU9iamVjdCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZyk7XG4gICAgICAgIHRoaXMudGV4dCA9IGZ1bmMuc2V0RGVmYXVsdChjb25maWcudGV4dCwgJ0hlbGxvJyk7XG4gICAgICAgIHRoaXMuZm9udCA9IGZ1bmMuc2V0RGVmYXVsdChjb25maWcuZm9udCwgJzEycHggc2Fucy1zZXJpZicpO1xuICAgICAgICB0aGlzLnRleHRBbGlnbiA9IGZ1bmMuc2V0RGVmYXVsdChjb25maWcudGV4dEFsaWduLCAnbGVmdCcpO1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IGZ1bmMuc2V0RGVmYXVsdChjb25maWcuZmlsbFN0eWxlLCAncmVkJyk7XG4gICAgICAgIHRoaXMudGV4dEJhc2VsaW5lID0gZnVuYy5zZXREZWZhdWx0KGNvbmZpZy50ZXh0QmFzZWxpbmUsICd0b3AnKTtcbiAgICAgICAgdGhpcy5vZmZTY3JlZW5DYW52YXMgPSBuZXcgWE9mZlNjcmVlbkNhbnZhcygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBmb250IHRvIG1lYXN1cmUgdGhlIHdpZHRoLlxuICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9UZXh0TWV0cmljc1xuICAgICAqL1xuICAgIGdldCB3aWR0aCgpIHtcbiAgICAgICAgbGV0IHdpZHRoID0gMDtcbiAgICAgICAgdGhpcy5vZmZTY3JlZW5DYW52YXMuY29udGV4dC5mb250ID0gdGhpcy5mb250O1xuICAgICAgICB0aGlzLm9mZlNjcmVlbkNhbnZhcy5jb250ZXh0LnRleHRBbGlnbiA9IHRoaXMudGV4dEFsaWduO1xuICAgICAgICB0aGlzLm9mZlNjcmVlbkNhbnZhcy5jb250ZXh0LnRleHRCYXNlbGluZSA9IHRoaXMudGV4dEJhc2VsaW5lO1xuICAgICAgICB3aWR0aCA9IHRoaXMub2ZmU2NyZWVuQ2FudmFzLmNvbnRleHQubWVhc3VyZVRleHQodGhpcy50ZXh0KS53aWR0aDtcbiAgICAgICAgcmV0dXJuIHdpZHRoIHx8IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGZvbnQgdG8gbWVhc3VyZSB0aGUgaGVpZ2h0LiAgVGhlcmUgaXNuJ3QgcmVhbGx5IGEgY3Jvc3Nicm93c2VyXG4gICAgICogb3IgcmVhbGlhYmxlIHdheSB0byBtZWFzdXJlIHRleHQgYXQgdGhlIG1vbWVudCwgc28gd2UgbWVhc3VyZSB0aGVcbiAgICAgKiB3aWR0aCBvZiBhIHNpbmdsZSBjaGFyYWN0ZXIgYW5kIG11bHRpcGx5IHRoYXQgYnkgYW4gYXNzdW1lZCAxLjIgbGluZVxuICAgICAqIGhlaWdodCBmb3Igbm93IGFzIGFuIGFwcHJveGltYXRpb24uXG4gICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RleHRNZXRyaWNzXG4gICAgICovXG4gICAgZ2V0IGhlaWdodCgpIHtcbiAgICAgICAgdGhpcy5vZmZTY3JlZW5DYW52YXMuY29udGV4dC5mb250ID0gdGhpcy5mb250O1xuICAgICAgICB0aGlzLm9mZlNjcmVlbkNhbnZhcy5jb250ZXh0LnRleHRBbGlnbiA9IHRoaXMudGV4dEFsaWduO1xuICAgICAgICB0aGlzLm9mZlNjcmVlbkNhbnZhcy5jb250ZXh0LnRleHRCYXNlbGluZSA9IHRoaXMudGV4dEJhc2VsaW5lO1xuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMub2ZmU2NyZWVuQ2FudmFzLmNvbnRleHQubWVhc3VyZVRleHQoJ3cnKS53aWR0aDtcbiAgICAgICAgcmV0dXJuIHdpZHRoICogMS4yO1xuICAgIH1cbiAgICBzZXRUZXh0KHRleHQpIHtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB9XG4gICAgcmVuZGVyKGN0eCkge1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG4gICAgICAgIGN0eC50cmFuc2xhdGUodGhpcy5uYXR1cmFsQW5jaG9yWE9mZnNldCwgdGhpcy5uYXR1cmFsQW5jaG9yWU9mZnNldCk7XG4gICAgICAgIGN0eC5mb250ID0gdGhpcy5mb250O1xuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gdGhpcy50ZXh0QmFzZWxpbmU7XG4gICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLnRleHQsIDAsIDApO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXgtdGV4dC5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/x/x-text.js\n");

/***/ }),

/***/ "./lib/x/x-texture.js":
/*!****************************!*\
  !*** ./lib/x/x-texture.js ***!
  \****************************/
/*! exports provided: XTexture */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XTexture\", function() { return XTexture; });\n/**\n * Texture class to be used with the x-engine.\n * @unstable\n */\nclass XTexture {\n    constructor(imageElement) {\n        this.imageElement = imageElement;\n        this.width = imageElement.width;\n        this.height = imageElement.height;\n    }\n}\n//# sourceMappingURL=x-texture.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIveC94LXRleHR1cmUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIveC94LXRleHR1cmUuanM/NGM4YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRleHR1cmUgY2xhc3MgdG8gYmUgdXNlZCB3aXRoIHRoZSB4LWVuZ2luZS5cbiAqIEB1bnN0YWJsZVxuICovXG5leHBvcnQgY2xhc3MgWFRleHR1cmUge1xuICAgIGNvbnN0cnVjdG9yKGltYWdlRWxlbWVudCkge1xuICAgICAgICB0aGlzLmltYWdlRWxlbWVudCA9IGltYWdlRWxlbWVudDtcbiAgICAgICAgdGhpcy53aWR0aCA9IGltYWdlRWxlbWVudC53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBpbWFnZUVsZW1lbnQuaGVpZ2h0O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXgtdGV4dHVyZS5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/x/x-texture.js\n");

/***/ }),

/***/ "./lib/x/x.js":
/*!********************!*\
  !*** ./lib/x/x.js ***!
  \********************/
/*! exports provided: X */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"X\", function() { return X; });\n/* harmony import */ var _func_func__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../func/func */ \"./lib/func/func.js\");\n/* harmony import */ var _raf_raf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../raf/raf */ \"./lib/raf/raf.js\");\n/* harmony import */ var _x_stage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./x-stage */ \"./lib/x/x-stage.js\");\n/* harmony import */ var _x_pointer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./x-pointer */ \"./lib/x/x-pointer.js\");\n/* harmony import */ var _x_text__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./x-text */ \"./lib/x/x-text.js\");\n/* harmony import */ var _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../dom/dom-watcher */ \"./lib/dom/dom-watcher.js\");\n\n\n\n\n\n\n/**\n * # X is a mini canvas + dom 2d engine within degu.\n *\n * ```ts\n *\n *\n *\n * ```\n * @unstable\n */\nclass X {\n    constructor(config) {\n        this.canvasElement = config.canvasElement;\n        // Note the ! at the end.  Required to force typescript to assume\n        // getContext('2d') never returns null.\n        this.context = this.canvasElement.getContext('2d');\n        // Force set the canvas size. When you set the canvas size via css,\n        // css stretches the pixels within the canvas.\n        // Setting it as such, forces the correct size.\n        this.dpr = window.devicePixelRatio || 1;\n        this.canvasElement.width = 0;\n        this.canvasElement.height = 0;\n        this.width = 0;\n        this.height = 0;\n        this.resize();\n        this.watcher = new _dom_dom_watcher__WEBPACK_IMPORTED_MODULE_5__[\"DomWatcher\"]();\n        this.watcher.add({\n            element: window,\n            on: 'resize',\n            callback: this.resize.bind(this),\n        });\n        this.debugMode = _func_func__WEBPACK_IMPORTED_MODULE_0__[\"setDefault\"](config.debugMode, false);\n        // Create the main stage sprite.\n        this.stage = new _x_stage__WEBPACK_IMPORTED_MODULE_2__[\"XStage\"]();\n        this.stage.attachToCanvas(this.canvasElement);\n        // If we want to debug the mouse coords, add a text object to\n        // display.\n        this.mouseCoordsTextDebugObject = new _x_text__WEBPACK_IMPORTED_MODULE_4__[\"XText\"]({\n            // Add it at a really high index.\n            zIndex: 999999,\n        });\n        this.mouseCoordsTextDebugObject.debugObject = true;\n        if (this.debugMode) {\n            window['X'] = this;\n            window['X_STAGE'] = this.stage;\n            this.stage.addChild(this.mouseCoordsTextDebugObject);\n        }\n        /**\n         * The background color.\n         */\n        this.stageColor = null;\n        // Create the main pointer.\n        this.pointer = new _x_pointer__WEBPACK_IMPORTED_MODULE_3__[\"XPointer\"](this.canvasElement);\n        this.raf = new _raf_raf__WEBPACK_IMPORTED_MODULE_1__[\"Raf\"](() => {\n            this.gameLoop();\n            // Update the mouse display to follow the mouse and display the\n            // current coordinates.\n            if (this.debugMode && this.mouseCoordsTextDebugObject) {\n                this.mouseCoordsTextDebugObject.setPosition(this.pointer.x + 20, this.pointer.y + 20);\n                this.mouseCoordsTextDebugObject.setText(`x: ${this.pointer.x}, y: ${this.pointer.y}`);\n            }\n        });\n    }\n    /**\n     * The background color for the stage.\n     * @param color\n     */\n    setStageColor(color) {\n        this.stageColor = color;\n    }\n    resize() {\n        this.dpr = window.devicePixelRatio || 1;\n        this.canvasElement.width = this.canvasElement.offsetWidth * this.dpr;\n        this.canvasElement.height = this.canvasElement.offsetHeight * this.dpr;\n        this.width = this.canvasElement.offsetWidth * this.dpr;\n        this.height = this.canvasElement.offsetHeight * this.dpr;\n    }\n    getPointer() {\n        return this.pointer;\n    }\n    clear() {\n        this.context.clearRect(0, 0, this.width, this.height);\n    }\n    /**\n     * The main engine loop.  Here we call through all the\n     * sprites on the main stage.\n     */\n    gameLoop() {\n        //Clear the canvas.\n        this.clear();\n        if (this.stageColor) {\n            this.context.fillStyle = this.stageColor;\n            this.context.fillRect(0, 0, this.width, this.height);\n        }\n        // Update the positions of each object\n        this.stage.children.forEach((gameObject) => {\n            gameObject.updatePositions();\n        });\n        // Render each object.\n        this.stage.children.forEach((gameObject) => {\n            this.renderGameObject(gameObject);\n        });\n    }\n    /**\n     * Renders a given sprite onto the canvas.  This is sort of imagined like\n     * a stamping process in which we turn, scale, change alpha of the context\n     * itself and stamp out the sprite per frame.\n     * @param gameObject\n     */\n    renderGameObject(gameObject) {\n        // Whether this gameObject is off screen.\n        const shouldRender = gameObject.visible &&\n            gameObject.gx < this.width + gameObject.width &&\n            gameObject.gx + gameObject.width >= -gameObject.width &&\n            gameObject.gy < this.height + gameObject.height &&\n            gameObject.gy + gameObject.height >= -gameObject.height;\n        if (!shouldRender) {\n            return;\n        }\n        // If this object is interactable, check the collision state\n        // with the pointer.\n        let colliding = false;\n        if (gameObject.interactable) {\n            colliding = this.pointer.testCollidingWithGameObject(gameObject);\n            if (colliding && this.pointer.isMouseDown) {\n                gameObject.onMouseDown && gameObject.onMouseDown(gameObject);\n            }\n            if (colliding && !this.pointer.isMouseDown) {\n                gameObject.onMouseUp && gameObject.onMouseUp(gameObject);\n            }\n            if (colliding) {\n                gameObject.onMouseMove && gameObject.onMouseMove(gameObject);\n            }\n        }\n        this.context.save();\n        // this.context.translate(\n        //         this.canvasElement.width  / 2,\n        //         this.canvasElement.height / 2)\n        // Scale to aspect ratio first.\n        this.context.scale(this.dpr, this.dpr);\n        // Adjust alpha\n        this.context.globalAlpha = gameObject.alpha;\n        // Move first\n        this.context.translate(\n        // gameObject.x + (gameObject.width * gameObject.anchorX),\n        // gameObject.y + (gameObject.height * gameObject.anchorY)\n        ~~gameObject.anchorGx, ~~gameObject.anchorGy);\n        // Then rotate\n        // Not sure why but canvas calculations rotation in anticlockwise manner?\n        // We counter this by interving the rotation value.\n        this.context.rotate(-gameObject.rotation);\n        // Now scale\n        this.context.scale(gameObject.scaleX, gameObject.scaleY);\n        // Call the gameObject render method to figure out how to draw this\n        // GameObject.\n        gameObject.render(this.context);\n        // Renders debugging outlines for this object if it is colliding.\n        if (this.debugMode && !gameObject.debugObject && colliding) {\n            gameObject.renderDebuggingOutlines(this.context);\n        }\n        this.context.restore();\n        // Now loop through each child and paint it out.\n        gameObject.children.forEach(childGameObject => {\n            this.renderGameObject(childGameObject);\n        });\n    }\n    /*\n     * Adds a watcher callback to the raf loop.\n     */\n    onTick(callback) {\n        this.raf.watch(callback);\n    }\n    /**\n     * Starts the main game loop.\n     */\n    start() {\n        this.raf.start();\n    }\n}\n//# sourceMappingURL=x.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIveC94LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbGliL3gveC5qcz9jYTkxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGZ1bmMgZnJvbSAnLi4vZnVuYy9mdW5jJztcbmltcG9ydCB7IFJhZiB9IGZyb20gJy4uL3JhZi9yYWYnO1xuaW1wb3J0IHsgWFN0YWdlIH0gZnJvbSAnLi94LXN0YWdlJztcbmltcG9ydCB7IFhQb2ludGVyIH0gZnJvbSAnLi94LXBvaW50ZXInO1xuaW1wb3J0IHsgWFRleHQgfSBmcm9tICcuL3gtdGV4dCc7XG5pbXBvcnQgeyBEb21XYXRjaGVyIH0gZnJvbSAnLi4vZG9tL2RvbS13YXRjaGVyJztcbi8qKlxuICogIyBYIGlzIGEgbWluaSBjYW52YXMgKyBkb20gMmQgZW5naW5lIHdpdGhpbiBkZWd1LlxuICpcbiAqIGBgYHRzXG4gKlxuICpcbiAqXG4gKiBgYGBcbiAqIEB1bnN0YWJsZVxuICovXG5leHBvcnQgY2xhc3MgWCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudCA9IGNvbmZpZy5jYW52YXNFbGVtZW50O1xuICAgICAgICAvLyBOb3RlIHRoZSAhIGF0IHRoZSBlbmQuICBSZXF1aXJlZCB0byBmb3JjZSB0eXBlc2NyaXB0IHRvIGFzc3VtZVxuICAgICAgICAvLyBnZXRDb250ZXh0KCcyZCcpIG5ldmVyIHJldHVybnMgbnVsbC5cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXNFbGVtZW50LmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIC8vIEZvcmNlIHNldCB0aGUgY2FudmFzIHNpemUuIFdoZW4geW91IHNldCB0aGUgY2FudmFzIHNpemUgdmlhIGNzcyxcbiAgICAgICAgLy8gY3NzIHN0cmV0Y2hlcyB0aGUgcGl4ZWxzIHdpdGhpbiB0aGUgY2FudmFzLlxuICAgICAgICAvLyBTZXR0aW5nIGl0IGFzIHN1Y2gsIGZvcmNlcyB0aGUgY29ycmVjdCBzaXplLlxuICAgICAgICB0aGlzLmRwciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC53aWR0aCA9IDA7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC5oZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICB0aGlzLndhdGNoZXIgPSBuZXcgRG9tV2F0Y2hlcigpO1xuICAgICAgICB0aGlzLndhdGNoZXIuYWRkKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHdpbmRvdyxcbiAgICAgICAgICAgIG9uOiAncmVzaXplJyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLnJlc2l6ZS5iaW5kKHRoaXMpLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWJ1Z01vZGUgPSBmdW5jLnNldERlZmF1bHQoY29uZmlnLmRlYnVnTW9kZSwgZmFsc2UpO1xuICAgICAgICAvLyBDcmVhdGUgdGhlIG1haW4gc3RhZ2Ugc3ByaXRlLlxuICAgICAgICB0aGlzLnN0YWdlID0gbmV3IFhTdGFnZSgpO1xuICAgICAgICB0aGlzLnN0YWdlLmF0dGFjaFRvQ2FudmFzKHRoaXMuY2FudmFzRWxlbWVudCk7XG4gICAgICAgIC8vIElmIHdlIHdhbnQgdG8gZGVidWcgdGhlIG1vdXNlIGNvb3JkcywgYWRkIGEgdGV4dCBvYmplY3QgdG9cbiAgICAgICAgLy8gZGlzcGxheS5cbiAgICAgICAgdGhpcy5tb3VzZUNvb3Jkc1RleHREZWJ1Z09iamVjdCA9IG5ldyBYVGV4dCh7XG4gICAgICAgICAgICAvLyBBZGQgaXQgYXQgYSByZWFsbHkgaGlnaCBpbmRleC5cbiAgICAgICAgICAgIHpJbmRleDogOTk5OTk5LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tb3VzZUNvb3Jkc1RleHREZWJ1Z09iamVjdC5kZWJ1Z09iamVjdCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmRlYnVnTW9kZSkge1xuICAgICAgICAgICAgd2luZG93WydYJ10gPSB0aGlzO1xuICAgICAgICAgICAgd2luZG93WydYX1NUQUdFJ10gPSB0aGlzLnN0YWdlO1xuICAgICAgICAgICAgdGhpcy5zdGFnZS5hZGRDaGlsZCh0aGlzLm1vdXNlQ29vcmRzVGV4dERlYnVnT2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YWdlQ29sb3IgPSBudWxsO1xuICAgICAgICAvLyBDcmVhdGUgdGhlIG1haW4gcG9pbnRlci5cbiAgICAgICAgdGhpcy5wb2ludGVyID0gbmV3IFhQb2ludGVyKHRoaXMuY2FudmFzRWxlbWVudCk7XG4gICAgICAgIHRoaXMucmFmID0gbmV3IFJhZigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmdhbWVMb29wKCk7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIG1vdXNlIGRpc3BsYXkgdG8gZm9sbG93IHRoZSBtb3VzZSBhbmQgZGlzcGxheSB0aGVcbiAgICAgICAgICAgIC8vIGN1cnJlbnQgY29vcmRpbmF0ZXMuXG4gICAgICAgICAgICBpZiAodGhpcy5kZWJ1Z01vZGUgJiYgdGhpcy5tb3VzZUNvb3Jkc1RleHREZWJ1Z09iamVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VDb29yZHNUZXh0RGVidWdPYmplY3Quc2V0UG9zaXRpb24odGhpcy5wb2ludGVyLnggKyAyMCwgdGhpcy5wb2ludGVyLnkgKyAyMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZUNvb3Jkc1RleHREZWJ1Z09iamVjdC5zZXRUZXh0KGB4OiAke3RoaXMucG9pbnRlci54fSwgeTogJHt0aGlzLnBvaW50ZXIueX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIGZvciB0aGUgc3RhZ2UuXG4gICAgICogQHBhcmFtIGNvbG9yXG4gICAgICovXG4gICAgc2V0U3RhZ2VDb2xvcihjb2xvcikge1xuICAgICAgICB0aGlzLnN0YWdlQ29sb3IgPSBjb2xvcjtcbiAgICB9XG4gICAgcmVzaXplKCkge1xuICAgICAgICB0aGlzLmRwciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC53aWR0aCA9IHRoaXMuY2FudmFzRWxlbWVudC5vZmZzZXRXaWR0aCAqIHRoaXMuZHByO1xuICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQuaGVpZ2h0ID0gdGhpcy5jYW52YXNFbGVtZW50Lm9mZnNldEhlaWdodCAqIHRoaXMuZHByO1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5jYW52YXNFbGVtZW50Lm9mZnNldFdpZHRoICogdGhpcy5kcHI7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5jYW52YXNFbGVtZW50Lm9mZnNldEhlaWdodCAqIHRoaXMuZHByO1xuICAgIH1cbiAgICBnZXRQb2ludGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb2ludGVyO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBtYWluIGVuZ2luZSBsb29wLiAgSGVyZSB3ZSBjYWxsIHRocm91Z2ggYWxsIHRoZVxuICAgICAqIHNwcml0ZXMgb24gdGhlIG1haW4gc3RhZ2UuXG4gICAgICovXG4gICAgZ2FtZUxvb3AoKSB7XG4gICAgICAgIC8vQ2xlYXIgdGhlIGNhbnZhcy5cbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICBpZiAodGhpcy5zdGFnZUNvbG9yKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5zdGFnZUNvbG9yO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgdGhlIHBvc2l0aW9ucyBvZiBlYWNoIG9iamVjdFxuICAgICAgICB0aGlzLnN0YWdlLmNoaWxkcmVuLmZvckVhY2goKGdhbWVPYmplY3QpID0+IHtcbiAgICAgICAgICAgIGdhbWVPYmplY3QudXBkYXRlUG9zaXRpb25zKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBSZW5kZXIgZWFjaCBvYmplY3QuXG4gICAgICAgIHRoaXMuc3RhZ2UuY2hpbGRyZW4uZm9yRWFjaCgoZ2FtZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJHYW1lT2JqZWN0KGdhbWVPYmplY3QpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIGdpdmVuIHNwcml0ZSBvbnRvIHRoZSBjYW52YXMuICBUaGlzIGlzIHNvcnQgb2YgaW1hZ2luZWQgbGlrZVxuICAgICAqIGEgc3RhbXBpbmcgcHJvY2VzcyBpbiB3aGljaCB3ZSB0dXJuLCBzY2FsZSwgY2hhbmdlIGFscGhhIG9mIHRoZSBjb250ZXh0XG4gICAgICogaXRzZWxmIGFuZCBzdGFtcCBvdXQgdGhlIHNwcml0ZSBwZXIgZnJhbWUuXG4gICAgICogQHBhcmFtIGdhbWVPYmplY3RcbiAgICAgKi9cbiAgICByZW5kZXJHYW1lT2JqZWN0KGdhbWVPYmplY3QpIHtcbiAgICAgICAgLy8gV2hldGhlciB0aGlzIGdhbWVPYmplY3QgaXMgb2ZmIHNjcmVlbi5cbiAgICAgICAgY29uc3Qgc2hvdWxkUmVuZGVyID0gZ2FtZU9iamVjdC52aXNpYmxlICYmXG4gICAgICAgICAgICBnYW1lT2JqZWN0Lmd4IDwgdGhpcy53aWR0aCArIGdhbWVPYmplY3Qud2lkdGggJiZcbiAgICAgICAgICAgIGdhbWVPYmplY3QuZ3ggKyBnYW1lT2JqZWN0LndpZHRoID49IC1nYW1lT2JqZWN0LndpZHRoICYmXG4gICAgICAgICAgICBnYW1lT2JqZWN0Lmd5IDwgdGhpcy5oZWlnaHQgKyBnYW1lT2JqZWN0LmhlaWdodCAmJlxuICAgICAgICAgICAgZ2FtZU9iamVjdC5neSArIGdhbWVPYmplY3QuaGVpZ2h0ID49IC1nYW1lT2JqZWN0LmhlaWdodDtcbiAgICAgICAgaWYgKCFzaG91bGRSZW5kZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGlzIG9iamVjdCBpcyBpbnRlcmFjdGFibGUsIGNoZWNrIHRoZSBjb2xsaXNpb24gc3RhdGVcbiAgICAgICAgLy8gd2l0aCB0aGUgcG9pbnRlci5cbiAgICAgICAgbGV0IGNvbGxpZGluZyA9IGZhbHNlO1xuICAgICAgICBpZiAoZ2FtZU9iamVjdC5pbnRlcmFjdGFibGUpIHtcbiAgICAgICAgICAgIGNvbGxpZGluZyA9IHRoaXMucG9pbnRlci50ZXN0Q29sbGlkaW5nV2l0aEdhbWVPYmplY3QoZ2FtZU9iamVjdCk7XG4gICAgICAgICAgICBpZiAoY29sbGlkaW5nICYmIHRoaXMucG9pbnRlci5pc01vdXNlRG93bikge1xuICAgICAgICAgICAgICAgIGdhbWVPYmplY3Qub25Nb3VzZURvd24gJiYgZ2FtZU9iamVjdC5vbk1vdXNlRG93bihnYW1lT2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb2xsaWRpbmcgJiYgIXRoaXMucG9pbnRlci5pc01vdXNlRG93bikge1xuICAgICAgICAgICAgICAgIGdhbWVPYmplY3Qub25Nb3VzZVVwICYmIGdhbWVPYmplY3Qub25Nb3VzZVVwKGdhbWVPYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbGxpZGluZykge1xuICAgICAgICAgICAgICAgIGdhbWVPYmplY3Qub25Nb3VzZU1vdmUgJiYgZ2FtZU9iamVjdC5vbk1vdXNlTW92ZShnYW1lT2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRleHQuc2F2ZSgpO1xuICAgICAgICAvLyB0aGlzLmNvbnRleHQudHJhbnNsYXRlKFxuICAgICAgICAvLyAgICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC53aWR0aCAgLyAyLFxuICAgICAgICAvLyAgICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC5oZWlnaHQgLyAyKVxuICAgICAgICAvLyBTY2FsZSB0byBhc3BlY3QgcmF0aW8gZmlyc3QuXG4gICAgICAgIHRoaXMuY29udGV4dC5zY2FsZSh0aGlzLmRwciwgdGhpcy5kcHIpO1xuICAgICAgICAvLyBBZGp1c3QgYWxwaGFcbiAgICAgICAgdGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhID0gZ2FtZU9iamVjdC5hbHBoYTtcbiAgICAgICAgLy8gTW92ZSBmaXJzdFxuICAgICAgICB0aGlzLmNvbnRleHQudHJhbnNsYXRlKFxuICAgICAgICAvLyBnYW1lT2JqZWN0LnggKyAoZ2FtZU9iamVjdC53aWR0aCAqIGdhbWVPYmplY3QuYW5jaG9yWCksXG4gICAgICAgIC8vIGdhbWVPYmplY3QueSArIChnYW1lT2JqZWN0LmhlaWdodCAqIGdhbWVPYmplY3QuYW5jaG9yWSlcbiAgICAgICAgfn5nYW1lT2JqZWN0LmFuY2hvckd4LCB+fmdhbWVPYmplY3QuYW5jaG9yR3kpO1xuICAgICAgICAvLyBUaGVuIHJvdGF0ZVxuICAgICAgICAvLyBOb3Qgc3VyZSB3aHkgYnV0IGNhbnZhcyBjYWxjdWxhdGlvbnMgcm90YXRpb24gaW4gYW50aWNsb2Nrd2lzZSBtYW5uZXI/XG4gICAgICAgIC8vIFdlIGNvdW50ZXIgdGhpcyBieSBpbnRlcnZpbmcgdGhlIHJvdGF0aW9uIHZhbHVlLlxuICAgICAgICB0aGlzLmNvbnRleHQucm90YXRlKC1nYW1lT2JqZWN0LnJvdGF0aW9uKTtcbiAgICAgICAgLy8gTm93IHNjYWxlXG4gICAgICAgIHRoaXMuY29udGV4dC5zY2FsZShnYW1lT2JqZWN0LnNjYWxlWCwgZ2FtZU9iamVjdC5zY2FsZVkpO1xuICAgICAgICAvLyBDYWxsIHRoZSBnYW1lT2JqZWN0IHJlbmRlciBtZXRob2QgdG8gZmlndXJlIG91dCBob3cgdG8gZHJhdyB0aGlzXG4gICAgICAgIC8vIEdhbWVPYmplY3QuXG4gICAgICAgIGdhbWVPYmplY3QucmVuZGVyKHRoaXMuY29udGV4dCk7XG4gICAgICAgIC8vIFJlbmRlcnMgZGVidWdnaW5nIG91dGxpbmVzIGZvciB0aGlzIG9iamVjdCBpZiBpdCBpcyBjb2xsaWRpbmcuXG4gICAgICAgIGlmICh0aGlzLmRlYnVnTW9kZSAmJiAhZ2FtZU9iamVjdC5kZWJ1Z09iamVjdCAmJiBjb2xsaWRpbmcpIHtcbiAgICAgICAgICAgIGdhbWVPYmplY3QucmVuZGVyRGVidWdnaW5nT3V0bGluZXModGhpcy5jb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICAvLyBOb3cgbG9vcCB0aHJvdWdoIGVhY2ggY2hpbGQgYW5kIHBhaW50IGl0IG91dC5cbiAgICAgICAgZ2FtZU9iamVjdC5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkR2FtZU9iamVjdCA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckdhbWVPYmplY3QoY2hpbGRHYW1lT2JqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qXG4gICAgICogQWRkcyBhIHdhdGNoZXIgY2FsbGJhY2sgdG8gdGhlIHJhZiBsb29wLlxuICAgICAqL1xuICAgIG9uVGljayhjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnJhZi53YXRjaChjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0aGUgbWFpbiBnYW1lIGxvb3AuXG4gICAgICovXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMucmFmLnN0YXJ0KCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9eC5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/x/x.js\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js?sourceMap=true!./node_modules/sass-loader/lib/loader.js?!./examples/styles/index.sass":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js?sourceMap=true!./node_modules/sass-loader/lib/loader.js??ref--7-2!./examples/styles/index.sass ***!
  \********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.i, \"body {\\n  background-color: white;\\n  padding: 20px;\\n}\\n\\n.easer {\\n  width: 100%;\\n  position: relative;\\n  margin: 20px;\\n}\\n\\n.easer__ball {\\n  width: 50px;\\n  height: 50px;\\n  background-color: green;\\n  border-radius: 50%;\\n}\", \"\",{\"version\":3,\"sources\":[\"index.sass\"],\"names\":[],\"mappings\":\"AAAA;EACE,uBAAuB;EACvB,aAAa;AACf;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,uBAAuB;EACvB,kBAAkB;AACpB\",\"file\":\"index.sass\",\"sourcesContent\":[\"body {\\n  background-color: white;\\n  padding: 20px;\\n}\\n\\n.easer {\\n  width: 100%;\\n  position: relative;\\n  margin: 20px;\\n}\\n\\n.easer__ball {\\n  width: 50px;\\n  height: 50px;\\n  background-color: green;\\n  border-radius: 50%;\\n}\"]}]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz9zb3VyY2VNYXA9dHJ1ZSEuL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPyEuL2V4YW1wbGVzL3N0eWxlcy9pbmRleC5zYXNzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvc3R5bGVzL2luZGV4LnNhc3M/YTQ1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKSh0cnVlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiYm9keSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gIHBhZGRpbmc6IDIwcHg7XFxufVxcblxcbi5lYXNlciB7XFxuICB3aWR0aDogMTAwJTtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIG1hcmdpbjogMjBweDtcXG59XFxuXFxuLmVhc2VyX19iYWxsIHtcXG4gIHdpZHRoOiA1MHB4O1xcbiAgaGVpZ2h0OiA1MHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxufVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcImluZGV4LnNhc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7RUFDRSx1QkFBdUI7RUFDdkIsYUFBYTtBQUNmOztBQUVBO0VBQ0UsV0FBVztFQUNYLGtCQUFrQjtFQUNsQixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLHVCQUF1QjtFQUN2QixrQkFBa0I7QUFDcEJcIixcImZpbGVcIjpcImluZGV4LnNhc3NcIixcInNvdXJjZXNDb250ZW50XCI6W1wiYm9keSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gIHBhZGRpbmc6IDIwcHg7XFxufVxcblxcbi5lYXNlciB7XFxuICB3aWR0aDogMTAwJTtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIG1hcmdpbjogMjBweDtcXG59XFxuXFxuLmVhc2VyX19iYWxsIHtcXG4gIHdpZHRoOiA1MHB4O1xcbiAgaGVpZ2h0OiA1MHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxufVwiXX1dKTtcblxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js?sourceMap=true!./node_modules/sass-loader/lib/loader.js?!./examples/styles/index.sass\n");

/***/ })

/******/ });